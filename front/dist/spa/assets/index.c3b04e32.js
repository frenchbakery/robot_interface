/**
* @vue/shared v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function gg(H,ve){const Pe=new Set(H.split(","));return ve?Ne=>Pe.has(Ne.toLowerCase()):Ne=>Pe.has(Ne)}const ji={},iv=[],dl=()=>{},Yw=()=>!1,M0=H=>H.charCodeAt(0)===111&&H.charCodeAt(1)===110&&(H.charCodeAt(2)>122||H.charCodeAt(2)<97),yg=H=>H.startsWith("onUpdate:"),Bo=Object.assign,mg=(H,ve)=>{const Pe=H.indexOf(ve);Pe>-1&&H.splice(Pe,1)},Xw=Object.prototype.hasOwnProperty,Ti=(H,ve)=>Xw.call(H,ve),Xa=Array.isArray,ov=H=>S0(H)==="[object Map]",Z1=H=>S0(H)==="[object Set]",ri=H=>typeof H=="function",Eo=H=>typeof H=="string",gv=H=>typeof H=="symbol",Ji=H=>H!==null&&typeof H=="object",j1=H=>(Ji(H)||ri(H))&&ri(H.then)&&ri(H.catch),K1=Object.prototype.toString,S0=H=>K1.call(H),Zw=H=>S0(H).slice(8,-1),J1=H=>S0(H)==="[object Object]",xg=H=>Eo(H)&&H!=="NaN"&&H[0]!=="-"&&""+parseInt(H,10)===H,jv=gg(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),E0=H=>{const ve=Object.create(null);return Pe=>ve[Pe]||(ve[Pe]=H(Pe))},jw=/-(\w)/g,Ku=E0(H=>H.replace(jw,(ve,Pe)=>Pe?Pe.toUpperCase():"")),Kw=/\B([A-Z])/g,yv=E0(H=>H.replace(Kw,"-$1").toLowerCase()),C0=E0(H=>H.charAt(0).toUpperCase()+H.slice(1)),gp=E0(H=>H?`on${C0(H)}`:""),Mc=(H,ve)=>!Object.is(H,ve),yp=(H,ve)=>{for(let Pe=0;Pe<H.length;Pe++)H[Pe](ve)},c0=(H,ve,Pe)=>{Object.defineProperty(H,ve,{configurable:!0,enumerable:!1,value:Pe})},Jw=H=>{const ve=parseFloat(H);return isNaN(ve)?H:ve},Qw=H=>{const ve=Eo(H)?Number(H):NaN;return isNaN(ve)?H:ve};let rm;const Q1=()=>rm||(rm=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});function bg(H){if(Xa(H)){const ve={};for(let Pe=0;Pe<H.length;Pe++){const Ne=H[Pe],Ye=Eo(Ne)?tT(Ne):bg(Ne);if(Ye)for(const mt in Ye)ve[mt]=Ye[mt]}return ve}else if(Eo(H)||Ji(H))return H}const $w=/;(?![^(]*\))/g,qw=/:([^]+)/,eT=/\/\*[^]*?\*\//g;function tT(H){const ve={};return H.replace(eT,"").split($w).forEach(Pe=>{if(Pe){const Ne=Pe.split(qw);Ne.length>1&&(ve[Ne[0].trim()]=Ne[1].trim())}}),ve}function wg(H){let ve="";if(Eo(H))ve=H;else if(Xa(H))for(let Pe=0;Pe<H.length;Pe++){const Ne=wg(H[Pe]);Ne&&(ve+=Ne+" ")}else if(Ji(H))for(const Pe in H)H[Pe]&&(ve+=Pe+" ");return ve.trim()}const rT="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",nT=gg(rT);function $1(H){return!!H||H===""}const qs=H=>Eo(H)?H:H==null?"":Xa(H)||Ji(H)&&(H.toString===K1||!ri(H.toString))?JSON.stringify(H,q1,2):String(H),q1=(H,ve)=>ve&&ve.__v_isRef?q1(H,ve.value):ov(ve)?{[`Map(${ve.size})`]:[...ve.entries()].reduce((Pe,[Ne,Ye],mt)=>(Pe[mp(Ne,mt)+" =>"]=Ye,Pe),{})}:Z1(ve)?{[`Set(${ve.size})`]:[...ve.values()].map(Pe=>mp(Pe))}:gv(ve)?mp(ve):Ji(ve)&&!Xa(ve)&&!J1(ve)?String(ve):ve,mp=(H,ve="")=>{var Pe;return gv(H)?`Symbol(${(Pe=H.description)!=null?Pe:ve})`:H};/**
* @vue/reactivity v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let mu;class aT{constructor(ve=!1){this.detached=ve,this._active=!0,this.effects=[],this.cleanups=[],this.parent=mu,!ve&&mu&&(this.index=(mu.scopes||(mu.scopes=[])).push(this)-1)}get active(){return this._active}run(ve){if(this._active){const Pe=mu;try{return mu=this,ve()}finally{mu=Pe}}}on(){mu=this}off(){mu=this.parent}stop(ve){if(this._active){let Pe,Ne;for(Pe=0,Ne=this.effects.length;Pe<Ne;Pe++)this.effects[Pe].stop();for(Pe=0,Ne=this.cleanups.length;Pe<Ne;Pe++)this.cleanups[Pe]();if(this.scopes)for(Pe=0,Ne=this.scopes.length;Pe<Ne;Pe++)this.scopes[Pe].stop(!0);if(!this.detached&&this.parent&&!ve){const Ye=this.parent.scopes.pop();Ye&&Ye!==this&&(this.parent.scopes[this.index]=Ye,Ye.index=this.index)}this.parent=void 0,this._active=!1}}}function iT(H,ve=mu){ve&&ve.active&&ve.effects.push(H)}function oT(){return mu}let ch;class Tg{constructor(ve,Pe,Ne,Ye){this.fn=ve,this.trigger=Pe,this.scheduler=Ne,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,iT(this,Ye)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,xh();for(let ve=0;ve<this._depsLength;ve++){const Pe=this.deps[ve];if(Pe.computed&&(sT(Pe.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),bh()}return this._dirtyLevel>=4}set dirty(ve){this._dirtyLevel=ve?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let ve=bc,Pe=ch;try{return bc=!0,ch=this,this._runnings++,nm(this),this.fn()}finally{am(this),this._runnings--,ch=Pe,bc=ve}}stop(){var ve;this.active&&(nm(this),am(this),(ve=this.onStop)==null||ve.call(this),this.active=!1)}}function sT(H){return H.value}function nm(H){H._trackId++,H._depsLength=0}function am(H){if(H.deps.length>H._depsLength){for(let ve=H._depsLength;ve<H.deps.length;ve++)ex(H.deps[ve],H);H.deps.length=H._depsLength}}function ex(H,ve){const Pe=H.get(ve);Pe!==void 0&&ve._trackId!==Pe&&(H.delete(ve),H.size===0&&H.cleanup())}let bc=!0,Xp=0;const tx=[];function xh(){tx.push(bc),bc=!1}function bh(){const H=tx.pop();bc=H===void 0?!0:H}function Ag(){Xp++}function Mg(){for(Xp--;!Xp&&Zp.length;)Zp.shift()()}function rx(H,ve,Pe){if(ve.get(H)!==H._trackId){ve.set(H,H._trackId);const Ne=H.deps[H._depsLength];Ne!==ve?(Ne&&ex(Ne,H),H.deps[H._depsLength++]=ve):H._depsLength++}}const Zp=[];function nx(H,ve,Pe){Ag();for(const Ne of H.keys()){let Ye;Ne._dirtyLevel<ve&&(Ye!=null?Ye:Ye=H.get(Ne)===Ne._trackId)&&(Ne._shouldSchedule||(Ne._shouldSchedule=Ne._dirtyLevel===0),Ne._dirtyLevel=ve),Ne._shouldSchedule&&(Ye!=null?Ye:Ye=H.get(Ne)===Ne._trackId)&&(Ne.trigger(),(!Ne._runnings||Ne.allowRecurse)&&Ne._dirtyLevel!==2&&(Ne._shouldSchedule=!1,Ne.scheduler&&Zp.push(Ne.scheduler)))}Mg()}const ax=(H,ve)=>{const Pe=new Map;return Pe.cleanup=H,Pe.computed=ve,Pe},h0=new WeakMap,hh=Symbol(""),jp=Symbol("");function el(H,ve,Pe){if(bc&&ch){let Ne=h0.get(H);Ne||h0.set(H,Ne=new Map);let Ye=Ne.get(Pe);Ye||Ne.set(Pe,Ye=ax(()=>Ne.delete(Pe))),rx(ch,Ye)}}function Mf(H,ve,Pe,Ne,Ye,mt){const G=h0.get(H);if(!G)return;let U=[];if(ve==="clear")U=[...G.values()];else if(Pe==="length"&&Xa(H)){const e=Number(Ne);G.forEach((g,L)=>{(L==="length"||!gv(L)&&L>=e)&&U.push(g)})}else switch(Pe!==void 0&&U.push(G.get(Pe)),ve){case"add":Xa(H)?xg(Pe)&&U.push(G.get("length")):(U.push(G.get(hh)),ov(H)&&U.push(G.get(jp)));break;case"delete":Xa(H)||(U.push(G.get(hh)),ov(H)&&U.push(G.get(jp)));break;case"set":ov(H)&&U.push(G.get(hh));break}Ag();for(const e of U)e&&nx(e,4);Mg()}function lT(H,ve){var Pe;return(Pe=h0.get(H))==null?void 0:Pe.get(ve)}const uT=gg("__proto__,__v_isRef,__isVue"),ix=new Set(Object.getOwnPropertyNames(Symbol).filter(H=>H!=="arguments"&&H!=="caller").map(H=>Symbol[H]).filter(gv)),im=fT();function fT(){const H={};return["includes","indexOf","lastIndexOf"].forEach(ve=>{H[ve]=function(...Pe){const Ne=Ai(this);for(let mt=0,G=this.length;mt<G;mt++)el(Ne,"get",mt+"");const Ye=Ne[ve](...Pe);return Ye===-1||Ye===!1?Ne[ve](...Pe.map(Ai)):Ye}}),["push","pop","shift","unshift","splice"].forEach(ve=>{H[ve]=function(...Pe){xh(),Ag();const Ne=Ai(this)[ve].apply(this,Pe);return Mg(),bh(),Ne}}),H}function cT(H){const ve=Ai(this);return el(ve,"has",H),ve.hasOwnProperty(H)}class ox{constructor(ve=!1,Pe=!1){this._isReadonly=ve,this._isShallow=Pe}get(ve,Pe,Ne){const Ye=this._isReadonly,mt=this._isShallow;if(Pe==="__v_isReactive")return!Ye;if(Pe==="__v_isReadonly")return Ye;if(Pe==="__v_isShallow")return mt;if(Pe==="__v_raw")return Ne===(Ye?mt?MT:fx:mt?ux:lx).get(ve)||Object.getPrototypeOf(ve)===Object.getPrototypeOf(Ne)?ve:void 0;const G=Xa(ve);if(!Ye){if(G&&Ti(im,Pe))return Reflect.get(im,Pe,Ne);if(Pe==="hasOwnProperty")return cT}const U=Reflect.get(ve,Pe,Ne);return(gv(Pe)?ix.has(Pe):uT(Pe))||(Ye||el(ve,"get",Pe),mt)?U:Os(U)?G&&xg(Pe)?U:U.value:Ji(U)?Ye?hx(U):mv(U):U}}class sx extends ox{constructor(ve=!1){super(!1,ve)}set(ve,Pe,Ne,Ye){let mt=ve[Pe];if(!this._isShallow){const e=cv(mt);if(!v0(Ne)&&!cv(Ne)&&(mt=Ai(mt),Ne=Ai(Ne)),!Xa(ve)&&Os(mt)&&!Os(Ne))return e?!1:(mt.value=Ne,!0)}const G=Xa(ve)&&xg(Pe)?Number(Pe)<ve.length:Ti(ve,Pe),U=Reflect.set(ve,Pe,Ne,Ye);return ve===Ai(Ye)&&(G?Mc(Ne,mt)&&Mf(ve,"set",Pe,Ne):Mf(ve,"add",Pe,Ne)),U}deleteProperty(ve,Pe){const Ne=Ti(ve,Pe);ve[Pe];const Ye=Reflect.deleteProperty(ve,Pe);return Ye&&Ne&&Mf(ve,"delete",Pe,void 0),Ye}has(ve,Pe){const Ne=Reflect.has(ve,Pe);return(!gv(Pe)||!ix.has(Pe))&&el(ve,"has",Pe),Ne}ownKeys(ve){return el(ve,"iterate",Xa(ve)?"length":hh),Reflect.ownKeys(ve)}}class hT extends ox{constructor(ve=!1){super(!0,ve)}set(ve,Pe){return!0}deleteProperty(ve,Pe){return!0}}const vT=new sx,dT=new hT,pT=new sx(!0),Sg=H=>H,L0=H=>Reflect.getPrototypeOf(H);function Wd(H,ve,Pe=!1,Ne=!1){H=H.__v_raw;const Ye=Ai(H),mt=Ai(ve);Pe||(Mc(ve,mt)&&el(Ye,"get",ve),el(Ye,"get",mt));const{has:G}=L0(Ye),U=Ne?Sg:Pe?Lg:ad;if(G.call(Ye,ve))return U(H.get(ve));if(G.call(Ye,mt))return U(H.get(mt));H!==Ye&&H.get(ve)}function Yd(H,ve=!1){const Pe=this.__v_raw,Ne=Ai(Pe),Ye=Ai(H);return ve||(Mc(H,Ye)&&el(Ne,"has",H),el(Ne,"has",Ye)),H===Ye?Pe.has(H):Pe.has(H)||Pe.has(Ye)}function Xd(H,ve=!1){return H=H.__v_raw,!ve&&el(Ai(H),"iterate",hh),Reflect.get(H,"size",H)}function om(H){H=Ai(H);const ve=Ai(this);return L0(ve).has.call(ve,H)||(ve.add(H),Mf(ve,"add",H,H)),this}function sm(H,ve){ve=Ai(ve);const Pe=Ai(this),{has:Ne,get:Ye}=L0(Pe);let mt=Ne.call(Pe,H);mt||(H=Ai(H),mt=Ne.call(Pe,H));const G=Ye.call(Pe,H);return Pe.set(H,ve),mt?Mc(ve,G)&&Mf(Pe,"set",H,ve):Mf(Pe,"add",H,ve),this}function lm(H){const ve=Ai(this),{has:Pe,get:Ne}=L0(ve);let Ye=Pe.call(ve,H);Ye||(H=Ai(H),Ye=Pe.call(ve,H)),Ne&&Ne.call(ve,H);const mt=ve.delete(H);return Ye&&Mf(ve,"delete",H,void 0),mt}function um(){const H=Ai(this),ve=H.size!==0,Pe=H.clear();return ve&&Mf(H,"clear",void 0,void 0),Pe}function Zd(H,ve){return function(Ne,Ye){const mt=this,G=mt.__v_raw,U=Ai(G),e=ve?Sg:H?Lg:ad;return!H&&el(U,"iterate",hh),G.forEach((g,L)=>Ne.call(Ye,e(g),e(L),mt))}}function jd(H,ve,Pe){return function(...Ne){const Ye=this.__v_raw,mt=Ai(Ye),G=ov(mt),U=H==="entries"||H===Symbol.iterator&&G,e=H==="keys"&&G,g=Ye[H](...Ne),L=Pe?Sg:ve?Lg:ad;return!ve&&el(mt,"iterate",e?jp:hh),{next(){const{value:a,done:C}=g.next();return C?{value:a,done:C}:{value:U?[L(a[0]),L(a[1])]:L(a),done:C}},[Symbol.iterator](){return this}}}}function uc(H){return function(...ve){return H==="delete"?!1:H==="clear"?void 0:this}}function gT(){const H={get(mt){return Wd(this,mt)},get size(){return Xd(this)},has:Yd,add:om,set:sm,delete:lm,clear:um,forEach:Zd(!1,!1)},ve={get(mt){return Wd(this,mt,!1,!0)},get size(){return Xd(this)},has:Yd,add:om,set:sm,delete:lm,clear:um,forEach:Zd(!1,!0)},Pe={get(mt){return Wd(this,mt,!0)},get size(){return Xd(this,!0)},has(mt){return Yd.call(this,mt,!0)},add:uc("add"),set:uc("set"),delete:uc("delete"),clear:uc("clear"),forEach:Zd(!0,!1)},Ne={get(mt){return Wd(this,mt,!0,!0)},get size(){return Xd(this,!0)},has(mt){return Yd.call(this,mt,!0)},add:uc("add"),set:uc("set"),delete:uc("delete"),clear:uc("clear"),forEach:Zd(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(mt=>{H[mt]=jd(mt,!1,!1),Pe[mt]=jd(mt,!0,!1),ve[mt]=jd(mt,!1,!0),Ne[mt]=jd(mt,!0,!0)}),[H,Pe,ve,Ne]}const[yT,mT,xT,bT]=gT();function Eg(H,ve){const Pe=ve?H?bT:xT:H?mT:yT;return(Ne,Ye,mt)=>Ye==="__v_isReactive"?!H:Ye==="__v_isReadonly"?H:Ye==="__v_raw"?Ne:Reflect.get(Ti(Pe,Ye)&&Ye in Ne?Pe:Ne,Ye,mt)}const wT={get:Eg(!1,!1)},TT={get:Eg(!1,!0)},AT={get:Eg(!0,!1)},lx=new WeakMap,ux=new WeakMap,fx=new WeakMap,MT=new WeakMap;function ST(H){switch(H){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function ET(H){return H.__v_skip||!Object.isExtensible(H)?0:ST(Zw(H))}function mv(H){return cv(H)?H:Cg(H,!1,vT,wT,lx)}function cx(H){return Cg(H,!1,pT,TT,ux)}function hx(H){return Cg(H,!0,dT,AT,fx)}function Cg(H,ve,Pe,Ne,Ye){if(!Ji(H)||H.__v_raw&&!(ve&&H.__v_isReactive))return H;const mt=Ye.get(H);if(mt)return mt;const G=ET(H);if(G===0)return H;const U=new Proxy(H,G===2?Ne:Pe);return Ye.set(H,U),U}function sv(H){return cv(H)?sv(H.__v_raw):!!(H&&H.__v_isReactive)}function cv(H){return!!(H&&H.__v_isReadonly)}function v0(H){return!!(H&&H.__v_isShallow)}function vx(H){return sv(H)||cv(H)}function Ai(H){const ve=H&&H.__v_raw;return ve?Ai(ve):H}function hd(H){return Object.isExtensible(H)&&c0(H,"__v_skip",!0),H}const ad=H=>Ji(H)?mv(H):H,Lg=H=>Ji(H)?hx(H):H;class dx{constructor(ve,Pe,Ne,Ye){this.getter=ve,this._setter=Pe,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new Tg(()=>ve(this._value),()=>i0(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!Ye,this.__v_isReadonly=Ne}get value(){const ve=Ai(this);return(!ve._cacheable||ve.effect.dirty)&&Mc(ve._value,ve._value=ve.effect.run())&&i0(ve,4),px(ve),ve.effect._dirtyLevel>=2&&i0(ve,2),ve._value}set value(ve){this._setter(ve)}get _dirty(){return this.effect.dirty}set _dirty(ve){this.effect.dirty=ve}}function CT(H,ve,Pe=!1){let Ne,Ye;const mt=ri(H);return mt?(Ne=H,Ye=dl):(Ne=H.get,Ye=H.set),new dx(Ne,Ye,mt||!Ye,Pe)}function px(H){var ve;bc&&ch&&(H=Ai(H),rx(ch,(ve=H.dep)!=null?ve:H.dep=ax(()=>H.dep=void 0,H instanceof dx?H:void 0)))}function i0(H,ve=4,Pe){H=Ai(H);const Ne=H.dep;Ne&&nx(Ne,ve)}function Os(H){return!!(H&&H.__v_isRef===!0)}function Na(H){return gx(H,!1)}function LT(H){return gx(H,!0)}function gx(H,ve){return Os(H)?H:new PT(H,ve)}class PT{constructor(ve,Pe){this.__v_isShallow=Pe,this.dep=void 0,this.__v_isRef=!0,this._rawValue=Pe?ve:Ai(ve),this._value=Pe?ve:ad(ve)}get value(){return px(this),this._value}set value(ve){const Pe=this.__v_isShallow||v0(ve)||cv(ve);ve=Pe?ve:Ai(ve),Mc(ve,this._rawValue)&&(this._rawValue=ve,this._value=Pe?ve:ad(ve),i0(this,4))}}function wc(H){return Os(H)?H.value:H}const RT={get:(H,ve,Pe)=>wc(Reflect.get(H,ve,Pe)),set:(H,ve,Pe,Ne)=>{const Ye=H[ve];return Os(Ye)&&!Os(Pe)?(Ye.value=Pe,!0):Reflect.set(H,ve,Pe,Ne)}};function yx(H){return sv(H)?H:new Proxy(H,RT)}function SS(H){const ve=Xa(H)?new Array(H.length):{};for(const Pe in H)ve[Pe]=IT(H,Pe);return ve}class DT{constructor(ve,Pe,Ne){this._object=ve,this._key=Pe,this._defaultValue=Ne,this.__v_isRef=!0}get value(){const ve=this._object[this._key];return ve===void 0?this._defaultValue:ve}set value(ve){this._object[this._key]=ve}get dep(){return lT(Ai(this._object),this._key)}}function IT(H,ve,Pe){const Ne=H[ve];return Os(Ne)?Ne:new DT(H,ve,Pe)}/**
* @vue/runtime-core v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Tc(H,ve,Pe,Ne){try{return Ne?H(...Ne):H()}catch(Ye){P0(Ye,ve,Pe)}}function Yl(H,ve,Pe,Ne){if(ri(H)){const mt=Tc(H,ve,Pe,Ne);return mt&&j1(mt)&&mt.catch(G=>{P0(G,ve,Pe)}),mt}const Ye=[];for(let mt=0;mt<H.length;mt++)Ye.push(Yl(H[mt],ve,Pe,Ne));return Ye}function P0(H,ve,Pe,Ne=!0){const Ye=ve?ve.vnode:null;if(ve){let mt=ve.parent;const G=ve.proxy,U=`https://vuejs.org/error-reference/#runtime-${Pe}`;for(;mt;){const g=mt.ec;if(g){for(let L=0;L<g.length;L++)if(g[L](H,G,U)===!1)return}mt=mt.parent}const e=ve.appContext.config.errorHandler;if(e){Tc(e,null,10,[H,G,U]);return}}_T(H,Pe,Ye,Ne)}function _T(H,ve,Pe,Ne=!0){console.error(H)}let id=!1,Kp=!1;const ws=[];let Zu=0;const lv=[];let vc=null,ih=0;const mx=Promise.resolve();let Pg=null;function ks(H){const ve=Pg||mx;return H?ve.then(this?H.bind(this):H):ve}function kT(H){let ve=Zu+1,Pe=ws.length;for(;ve<Pe;){const Ne=ve+Pe>>>1,Ye=ws[Ne],mt=od(Ye);mt<H||mt===H&&Ye.pre?ve=Ne+1:Pe=Ne}return ve}function Rg(H){(!ws.length||!ws.includes(H,id&&H.allowRecurse?Zu+1:Zu))&&(H.id==null?ws.push(H):ws.splice(kT(H.id),0,H),xx())}function xx(){!id&&!Kp&&(Kp=!0,Pg=mx.then(wx))}function FT(H){const ve=ws.indexOf(H);ve>Zu&&ws.splice(ve,1)}function zT(H){Xa(H)?lv.push(...H):(!vc||!vc.includes(H,H.allowRecurse?ih+1:ih))&&lv.push(H),xx()}function fm(H,ve,Pe=id?Zu+1:0){for(;Pe<ws.length;Pe++){const Ne=ws[Pe];if(Ne&&Ne.pre){if(H&&Ne.id!==H.uid)continue;ws.splice(Pe,1),Pe--,Ne()}}}function bx(H){if(lv.length){const ve=[...new Set(lv)].sort((Pe,Ne)=>od(Pe)-od(Ne));if(lv.length=0,vc){vc.push(...ve);return}for(vc=ve,ih=0;ih<vc.length;ih++)vc[ih]();vc=null,ih=0}}const od=H=>H.id==null?1/0:H.id,OT=(H,ve)=>{const Pe=od(H)-od(ve);if(Pe===0){if(H.pre&&!ve.pre)return-1;if(ve.pre&&!H.pre)return 1}return Pe};function wx(H){Kp=!1,id=!0,ws.sort(OT);const ve=dl;try{for(Zu=0;Zu<ws.length;Zu++){const Pe=ws[Zu];Pe&&Pe.active!==!1&&Tc(Pe,null,14)}}finally{Zu=0,ws.length=0,bx(),id=!1,Pg=null,(ws.length||lv.length)&&wx()}}function BT(H,ve,...Pe){if(H.isUnmounted)return;const Ne=H.vnode.props||ji;let Ye=Pe;const mt=ve.startsWith("update:"),G=mt&&ve.slice(7);if(G&&G in Ne){const L=`${G==="modelValue"?"model":G}Modifiers`,{number:a,trim:C}=Ne[L]||ji;C&&(Ye=Pe.map(A=>Eo(A)?A.trim():A)),a&&(Ye=Pe.map(Jw))}let U,e=Ne[U=gp(ve)]||Ne[U=gp(Ku(ve))];!e&&mt&&(e=Ne[U=gp(yv(ve))]),e&&Yl(e,H,6,Ye);const g=Ne[U+"Once"];if(g){if(!H.emitted)H.emitted={};else if(H.emitted[U])return;H.emitted[U]=!0,Yl(g,H,6,Ye)}}function Tx(H,ve,Pe=!1){const Ne=ve.emitsCache,Ye=Ne.get(H);if(Ye!==void 0)return Ye;const mt=H.emits;let G={},U=!1;if(!ri(H)){const e=g=>{const L=Tx(g,ve,!0);L&&(U=!0,Bo(G,L))};!Pe&&ve.mixins.length&&ve.mixins.forEach(e),H.extends&&e(H.extends),H.mixins&&H.mixins.forEach(e)}return!mt&&!U?(Ji(H)&&Ne.set(H,null),null):(Xa(mt)?mt.forEach(e=>G[e]=null):Bo(G,mt),Ji(H)&&Ne.set(H,G),G)}function R0(H,ve){return!H||!M0(ve)?!1:(ve=ve.slice(2).replace(/Once$/,""),Ti(H,ve[0].toLowerCase()+ve.slice(1))||Ti(H,yv(ve))||Ti(H,ve))}let zs=null,Ax=null;function d0(H){const ve=zs;return zs=H,Ax=H&&H.type.__scopeId||null,ve}function Hi(H,ve=zs,Pe){if(!ve||H._n)return H;const Ne=(...Ye)=>{Ne._d&&Mm(-1);const mt=d0(ve);let G;try{G=H(...Ye)}finally{d0(mt),Ne._d&&Mm(1)}return G};return Ne._n=!0,Ne._c=!0,Ne._d=!0,Ne}function xp(H){const{type:ve,vnode:Pe,proxy:Ne,withProxy:Ye,props:mt,propsOptions:[G],slots:U,attrs:e,emit:g,render:L,renderCache:a,data:C,setupState:A,ctx:v,inheritAttrs:p}=H;let r,t;const s=d0(H);try{if(Pe.shapeFlag&4){const f=Ye||Ne,u=f;r=Xu(L.call(u,f,a,mt,A,C,v)),t=e}else{const f=ve;r=Xu(f.length>1?f(mt,{attrs:e,slots:U,emit:g}):f(mt,null)),t=ve.props?e:NT(e)}}catch(f){$v.length=0,P0(f,H,1),r=gi(Au)}let n=r;if(t&&p!==!1){const f=Object.keys(t),{shapeFlag:u}=n;f.length&&u&7&&(G&&f.some(yg)&&(t=UT(t,G)),n=Sc(n,t))}return Pe.dirs&&(n=Sc(n),n.dirs=n.dirs?n.dirs.concat(Pe.dirs):Pe.dirs),Pe.transition&&(n.transition=Pe.transition),r=n,d0(s),r}const NT=H=>{let ve;for(const Pe in H)(Pe==="class"||Pe==="style"||M0(Pe))&&((ve||(ve={}))[Pe]=H[Pe]);return ve},UT=(H,ve)=>{const Pe={};for(const Ne in H)(!yg(Ne)||!(Ne.slice(9)in ve))&&(Pe[Ne]=H[Ne]);return Pe};function VT(H,ve,Pe){const{props:Ne,children:Ye,component:mt}=H,{props:G,children:U,patchFlag:e}=ve,g=mt.emitsOptions;if(ve.dirs||ve.transition)return!0;if(Pe&&e>=0){if(e&1024)return!0;if(e&16)return Ne?cm(Ne,G,g):!!G;if(e&8){const L=ve.dynamicProps;for(let a=0;a<L.length;a++){const C=L[a];if(G[C]!==Ne[C]&&!R0(g,C))return!0}}}else return(Ye||U)&&(!U||!U.$stable)?!0:Ne===G?!1:Ne?G?cm(Ne,G,g):!0:!!G;return!1}function cm(H,ve,Pe){const Ne=Object.keys(ve);if(Ne.length!==Object.keys(H).length)return!0;for(let Ye=0;Ye<Ne.length;Ye++){const mt=Ne[Ye];if(ve[mt]!==H[mt]&&!R0(Pe,mt))return!0}return!1}function HT({vnode:H,parent:ve},Pe){for(;ve;){const Ne=ve.subTree;if(Ne.suspense&&Ne.suspense.activeBranch===H&&(Ne.el=H.el),Ne===H)(H=ve.vnode).el=Pe,ve=ve.parent;else break}}const Mx="components";function GT(H,ve){return YT(Mx,H,!0,ve)||H}const WT=Symbol.for("v-ndc");function YT(H,ve,Pe=!0,Ne=!1){const Ye=zs||ls;if(Ye){const mt=Ye.type;if(H===Mx){const U=O4(mt,!1);if(U&&(U===ve||U===Ku(ve)||U===C0(Ku(ve))))return mt}const G=hm(Ye[H]||mt[H],ve)||hm(Ye.appContext[H],ve);return!G&&Ne?mt:G}}function hm(H,ve){return H&&(H[ve]||H[Ku(ve)]||H[C0(Ku(ve))])}const XT=H=>H.__isSuspense;function ZT(H,ve){ve&&ve.pendingBranch?Xa(H)?ve.effects.push(...H):ve.effects.push(H):zT(H)}const jT=Symbol.for("v-scx"),KT=()=>yl(jT),Kd={};function zi(H,ve,Pe){return Sx(H,ve,Pe)}function Sx(H,ve,{immediate:Pe,deep:Ne,flush:Ye,once:mt,onTrack:G,onTrigger:U}=ji){if(ve&&mt){const l=ve;ve=(...m)=>{l(...m),u()}}const e=ls,g=l=>Ne===!0?l:sh(l,Ne===!1?1:void 0);let L,a=!1,C=!1;if(Os(H)?(L=()=>H.value,a=v0(H)):sv(H)?(L=()=>g(H),a=!0):Xa(H)?(C=!0,a=H.some(l=>sv(l)||v0(l)),L=()=>H.map(l=>{if(Os(l))return l.value;if(sv(l))return g(l);if(ri(l))return Tc(l,e,2)})):ri(H)?ve?L=()=>Tc(H,e,2):L=()=>(A&&A(),Yl(H,e,3,[v])):L=dl,ve&&Ne){const l=L;L=()=>sh(l())}let A,v=l=>{A=n.onStop=()=>{Tc(l,e,4),A=n.onStop=void 0}},p;if(F0)if(v=dl,ve?Pe&&Yl(ve,e,3,[L(),C?[]:void 0,v]):L(),Ye==="sync"){const l=KT();p=l.__watcherHandles||(l.__watcherHandles=[])}else return dl;let r=C?new Array(H.length).fill(Kd):Kd;const t=()=>{if(!(!n.active||!n.dirty))if(ve){const l=n.run();(Ne||a||(C?l.some((m,h)=>Mc(m,r[h])):Mc(l,r)))&&(A&&A(),Yl(ve,e,3,[l,r===Kd?void 0:C&&r[0]===Kd?[]:r,v]),r=l)}else n.run()};t.allowRecurse=!!ve;let s;Ye==="sync"?s=t:Ye==="post"?s=()=>$s(t,e&&e.suspense):(t.pre=!0,e&&(t.id=e.uid),s=()=>Rg(t));const n=new Tg(L,dl,s),f=oT(),u=()=>{n.stop(),f&&mg(f.effects,n)};return ve?Pe?t():r=n.run():Ye==="post"?$s(n.run.bind(n),e&&e.suspense):n.run(),p&&p.push(u),u}function JT(H,ve,Pe){const Ne=this.proxy,Ye=Eo(H)?H.includes(".")?Ex(Ne,H):()=>Ne[H]:H.bind(Ne,Ne);let mt;ri(ve)?mt=ve:(mt=ve.handler,Pe=ve);const G=dd(this),U=Sx(Ye,mt.bind(Ne),Pe);return G(),U}function Ex(H,ve){const Pe=ve.split(".");return()=>{let Ne=H;for(let Ye=0;Ye<Pe.length&&Ne;Ye++)Ne=Ne[Pe[Ye]];return Ne}}function sh(H,ve,Pe=0,Ne){if(!Ji(H)||H.__v_skip)return H;if(ve&&ve>0){if(Pe>=ve)return H;Pe++}if(Ne=Ne||new Set,Ne.has(H))return H;if(Ne.add(H),Os(H))sh(H.value,ve,Pe,Ne);else if(Xa(H))for(let Ye=0;Ye<H.length;Ye++)sh(H[Ye],ve,Pe,Ne);else if(Z1(H)||ov(H))H.forEach(Ye=>{sh(Ye,ve,Pe,Ne)});else if(J1(H))for(const Ye in H)sh(H[Ye],ve,Pe,Ne);return H}function Cx(H,ve){if(zs===null)return H;const Pe=z0(zs)||zs.proxy,Ne=H.dirs||(H.dirs=[]);for(let Ye=0;Ye<ve.length;Ye++){let[mt,G,U,e=ji]=ve[Ye];mt&&(ri(mt)&&(mt={mounted:mt,updated:mt}),mt.deep&&sh(G),Ne.push({dir:mt,instance:Pe,value:G,oldValue:void 0,arg:U,modifiers:e}))}return H}function eh(H,ve,Pe,Ne){const Ye=H.dirs,mt=ve&&ve.dirs;for(let G=0;G<Ye.length;G++){const U=Ye[G];mt&&(U.oldValue=mt[G].value);let e=U.dir[Ne];e&&(xh(),Yl(e,Pe,8,[H.el,U,H,ve]),bh())}}const dc=Symbol("_leaveCb"),Jd=Symbol("_enterCb");function QT(){const H={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Th(()=>{H.isMounted=!0}),Wo(()=>{H.isUnmounting=!0}),H}const Hl=[Function,Array],Lx={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Hl,onEnter:Hl,onAfterEnter:Hl,onEnterCancelled:Hl,onBeforeLeave:Hl,onLeave:Hl,onAfterLeave:Hl,onLeaveCancelled:Hl,onBeforeAppear:Hl,onAppear:Hl,onAfterAppear:Hl,onAppearCancelled:Hl},$T={name:"BaseTransition",props:Lx,setup(H,{slots:ve}){const Pe=vo(),Ne=QT();return()=>{const Ye=ve.default&&Rx(ve.default(),!0);if(!Ye||!Ye.length)return;let mt=Ye[0];if(Ye.length>1){for(const C of Ye)if(C.type!==Au){mt=C;break}}const G=Ai(H),{mode:U}=G;if(Ne.isLeaving)return bp(mt);const e=vm(mt);if(!e)return bp(mt);const g=Jp(e,G,Ne,Pe);Qp(e,g);const L=Pe.subTree,a=L&&vm(L);if(a&&a.type!==Au&&!oh(e,a)){const C=Jp(a,G,Ne,Pe);if(Qp(a,C),U==="out-in")return Ne.isLeaving=!0,C.afterLeave=()=>{Ne.isLeaving=!1,Pe.update.active!==!1&&(Pe.effect.dirty=!0,Pe.update())},bp(mt);U==="in-out"&&e.type!==Au&&(C.delayLeave=(A,v,p)=>{const r=Px(Ne,a);r[String(a.key)]=a,A[dc]=()=>{v(),A[dc]=void 0,delete g.delayedLeave},g.delayedLeave=p})}return mt}}},qT=$T;function Px(H,ve){const{leavingVNodes:Pe}=H;let Ne=Pe.get(ve.type);return Ne||(Ne=Object.create(null),Pe.set(ve.type,Ne)),Ne}function Jp(H,ve,Pe,Ne){const{appear:Ye,mode:mt,persisted:G=!1,onBeforeEnter:U,onEnter:e,onAfterEnter:g,onEnterCancelled:L,onBeforeLeave:a,onLeave:C,onAfterLeave:A,onLeaveCancelled:v,onBeforeAppear:p,onAppear:r,onAfterAppear:t,onAppearCancelled:s}=ve,n=String(H.key),f=Px(Pe,H),u=(h,M)=>{h&&Yl(h,Ne,9,M)},l=(h,M)=>{const c=M[1];u(h,M),Xa(h)?h.every(i=>i.length<=1)&&c():h.length<=1&&c()},m={mode:mt,persisted:G,beforeEnter(h){let M=U;if(!Pe.isMounted)if(Ye)M=p||U;else return;h[dc]&&h[dc](!0);const c=f[n];c&&oh(H,c)&&c.el[dc]&&c.el[dc](),u(M,[h])},enter(h){let M=e,c=g,i=L;if(!Pe.isMounted)if(Ye)M=r||e,c=t||g,i=s||L;else return;let d=!1;const b=h[Jd]=w=>{d||(d=!0,w?u(i,[h]):u(c,[h]),m.delayedLeave&&m.delayedLeave(),h[Jd]=void 0)};M?l(M,[h,b]):b()},leave(h,M){const c=String(H.key);if(h[Jd]&&h[Jd](!0),Pe.isUnmounting)return M();u(a,[h]);let i=!1;const d=h[dc]=b=>{i||(i=!0,M(),b?u(v,[h]):u(A,[h]),h[dc]=void 0,f[c]===H&&delete f[c])};f[c]=H,C?l(C,[h,d]):d()},clone(h){return Jp(h,ve,Pe,Ne)}};return m}function bp(H){if(D0(H))return H=Sc(H),H.children=null,H}function vm(H){return D0(H)?H.children?H.children[0]:void 0:H}function Qp(H,ve){H.shapeFlag&6&&H.component?Qp(H.component.subTree,ve):H.shapeFlag&128?(H.ssContent.transition=ve.clone(H.ssContent),H.ssFallback.transition=ve.clone(H.ssFallback)):H.transition=ve}function Rx(H,ve=!1,Pe){let Ne=[],Ye=0;for(let mt=0;mt<H.length;mt++){let G=H[mt];const U=Pe==null?G.key:String(Pe)+String(G.key!=null?G.key:mt);G.type===bs?(G.patchFlag&128&&Ye++,Ne=Ne.concat(Rx(G.children,ve,U))):(ve||G.type!==Au)&&Ne.push(U!=null?Sc(G,{key:U}):G)}if(Ye>1)for(let mt=0;mt<Ne.length;mt++)Ne[mt].patchFlag=-2;return Ne}/*! #__NO_SIDE_EFFECTS__ */function wh(H,ve){return ri(H)?(()=>Bo({name:H.name},ve,{setup:H}))():H}const o0=H=>!!H.type.__asyncLoader,D0=H=>H.type.__isKeepAlive;function Dg(H,ve){Dx(H,"a",ve)}function vd(H,ve){Dx(H,"da",ve)}function Dx(H,ve,Pe=ls){const Ne=H.__wdc||(H.__wdc=()=>{let Ye=Pe;for(;Ye;){if(Ye.isDeactivated)return;Ye=Ye.parent}return H()});if(I0(ve,Ne,Pe),Pe){let Ye=Pe.parent;for(;Ye&&Ye.parent;)D0(Ye.parent.vnode)&&e4(Ne,ve,Pe,Ye),Ye=Ye.parent}}function e4(H,ve,Pe,Ne){const Ye=I0(ve,H,Ne,!0);_g(()=>{mg(Ne[ve],Ye)},Pe)}function I0(H,ve,Pe=ls,Ne=!1){if(Pe){const Ye=Pe[H]||(Pe[H]=[]),mt=ve.__weh||(ve.__weh=(...G)=>{if(Pe.isUnmounted)return;xh();const U=dd(Pe),e=Yl(ve,Pe,H,G);return U(),bh(),e});return Ne?Ye.unshift(mt):Ye.push(mt),mt}}const Sf=H=>(ve,Pe=ls)=>(!F0||H==="sp")&&I0(H,(...Ne)=>ve(...Ne),Pe),Ix=Sf("bm"),Th=Sf("m"),Ig=Sf("bu"),_x=Sf("u"),Wo=Sf("bum"),_g=Sf("um"),t4=Sf("sp"),r4=Sf("rtg"),n4=Sf("rtc");function a4(H,ve=ls){I0("ec",H,ve)}function uv(H,ve,Pe,Ne){let Ye;const mt=Pe&&Pe[Ne];if(Xa(H)||Eo(H)){Ye=new Array(H.length);for(let G=0,U=H.length;G<U;G++)Ye[G]=ve(H[G],G,void 0,mt&&mt[G])}else if(typeof H=="number"){Ye=new Array(H);for(let G=0;G<H;G++)Ye[G]=ve(G+1,G,void 0,mt&&mt[G])}else if(Ji(H))if(H[Symbol.iterator])Ye=Array.from(H,(G,U)=>ve(G,U,void 0,mt&&mt[U]));else{const G=Object.keys(H);Ye=new Array(G.length);for(let U=0,e=G.length;U<e;U++){const g=G[U];Ye[U]=ve(H[g],g,U,mt&&mt[U])}}else Ye=[];return Pe&&(Pe[Ne]=Ye),Ye}const $p=H=>H?Yx(H)?z0(H)||H.proxy:$p(H.parent):null,Kv=Bo(Object.create(null),{$:H=>H,$el:H=>H.vnode.el,$data:H=>H.data,$props:H=>H.props,$attrs:H=>H.attrs,$slots:H=>H.slots,$refs:H=>H.refs,$parent:H=>$p(H.parent),$root:H=>$p(H.root),$emit:H=>H.emit,$options:H=>kg(H),$forceUpdate:H=>H.f||(H.f=()=>{H.effect.dirty=!0,Rg(H.update)}),$nextTick:H=>H.n||(H.n=ks.bind(H.proxy)),$watch:H=>JT.bind(H)}),wp=(H,ve)=>H!==ji&&!H.__isScriptSetup&&Ti(H,ve),i4={get({_:H},ve){const{ctx:Pe,setupState:Ne,data:Ye,props:mt,accessCache:G,type:U,appContext:e}=H;let g;if(ve[0]!=="$"){const A=G[ve];if(A!==void 0)switch(A){case 1:return Ne[ve];case 2:return Ye[ve];case 4:return Pe[ve];case 3:return mt[ve]}else{if(wp(Ne,ve))return G[ve]=1,Ne[ve];if(Ye!==ji&&Ti(Ye,ve))return G[ve]=2,Ye[ve];if((g=H.propsOptions[0])&&Ti(g,ve))return G[ve]=3,mt[ve];if(Pe!==ji&&Ti(Pe,ve))return G[ve]=4,Pe[ve];qp&&(G[ve]=0)}}const L=Kv[ve];let a,C;if(L)return ve==="$attrs"&&el(H,"get",ve),L(H);if((a=U.__cssModules)&&(a=a[ve]))return a;if(Pe!==ji&&Ti(Pe,ve))return G[ve]=4,Pe[ve];if(C=e.config.globalProperties,Ti(C,ve))return C[ve]},set({_:H},ve,Pe){const{data:Ne,setupState:Ye,ctx:mt}=H;return wp(Ye,ve)?(Ye[ve]=Pe,!0):Ne!==ji&&Ti(Ne,ve)?(Ne[ve]=Pe,!0):Ti(H.props,ve)||ve[0]==="$"&&ve.slice(1)in H?!1:(mt[ve]=Pe,!0)},has({_:{data:H,setupState:ve,accessCache:Pe,ctx:Ne,appContext:Ye,propsOptions:mt}},G){let U;return!!Pe[G]||H!==ji&&Ti(H,G)||wp(ve,G)||(U=mt[0])&&Ti(U,G)||Ti(Ne,G)||Ti(Kv,G)||Ti(Ye.config.globalProperties,G)},defineProperty(H,ve,Pe){return Pe.get!=null?H._.accessCache[ve]=0:Ti(Pe,"value")&&this.set(H,ve,Pe.value,null),Reflect.defineProperty(H,ve,Pe)}};function dm(H){return Xa(H)?H.reduce((ve,Pe)=>(ve[Pe]=null,ve),{}):H}let qp=!0;function o4(H){const ve=kg(H),Pe=H.proxy,Ne=H.ctx;qp=!1,ve.beforeCreate&&pm(ve.beforeCreate,H,"bc");const{data:Ye,computed:mt,methods:G,watch:U,provide:e,inject:g,created:L,beforeMount:a,mounted:C,beforeUpdate:A,updated:v,activated:p,deactivated:r,beforeDestroy:t,beforeUnmount:s,destroyed:n,unmounted:f,render:u,renderTracked:l,renderTriggered:m,errorCaptured:h,serverPrefetch:M,expose:c,inheritAttrs:i,components:d,directives:b,filters:w}=ve;if(g&&s4(g,Ne,null),G)for(const S in G){const T=G[S];ri(T)&&(Ne[S]=T.bind(Pe))}if(Ye){const S=Ye.call(Pe,Pe);Ji(S)&&(H.data=mv(S))}if(qp=!0,mt)for(const S in mt){const T=mt[S],o=ri(T)?T.bind(Pe,Pe):ri(T.get)?T.get.bind(Pe,Pe):dl,P=!ri(T)&&ri(T.set)?T.set.bind(Pe):dl,x=bn({get:o,set:P});Object.defineProperty(Ne,S,{enumerable:!0,configurable:!0,get:()=>x.value,set:_=>x.value=_})}if(U)for(const S in U)kx(U[S],Ne,Pe,S);if(e){const S=ri(e)?e.call(Pe):e;Reflect.ownKeys(S).forEach(T=>{s0(T,S[T])})}L&&pm(L,H,"c");function y(S,T){Xa(T)?T.forEach(o=>S(o.bind(Pe))):T&&S(T.bind(Pe))}if(y(Ix,a),y(Th,C),y(Ig,A),y(_x,v),y(Dg,p),y(vd,r),y(a4,h),y(n4,l),y(r4,m),y(Wo,s),y(_g,f),y(t4,M),Xa(c))if(c.length){const S=H.exposed||(H.exposed={});c.forEach(T=>{Object.defineProperty(S,T,{get:()=>Pe[T],set:o=>Pe[T]=o})})}else H.exposed||(H.exposed={});u&&H.render===dl&&(H.render=u),i!=null&&(H.inheritAttrs=i),d&&(H.components=d),b&&(H.directives=b)}function s4(H,ve,Pe=dl){Xa(H)&&(H=eg(H));for(const Ne in H){const Ye=H[Ne];let mt;Ji(Ye)?"default"in Ye?mt=yl(Ye.from||Ne,Ye.default,!0):mt=yl(Ye.from||Ne):mt=yl(Ye),Os(mt)?Object.defineProperty(ve,Ne,{enumerable:!0,configurable:!0,get:()=>mt.value,set:G=>mt.value=G}):ve[Ne]=mt}}function pm(H,ve,Pe){Yl(Xa(H)?H.map(Ne=>Ne.bind(ve.proxy)):H.bind(ve.proxy),ve,Pe)}function kx(H,ve,Pe,Ne){const Ye=Ne.includes(".")?Ex(Pe,Ne):()=>Pe[Ne];if(Eo(H)){const mt=ve[H];ri(mt)&&zi(Ye,mt)}else if(ri(H))zi(Ye,H.bind(Pe));else if(Ji(H))if(Xa(H))H.forEach(mt=>kx(mt,ve,Pe,Ne));else{const mt=ri(H.handler)?H.handler.bind(Pe):ve[H.handler];ri(mt)&&zi(Ye,mt,H)}}function kg(H){const ve=H.type,{mixins:Pe,extends:Ne}=ve,{mixins:Ye,optionsCache:mt,config:{optionMergeStrategies:G}}=H.appContext,U=mt.get(ve);let e;return U?e=U:!Ye.length&&!Pe&&!Ne?e=ve:(e={},Ye.length&&Ye.forEach(g=>p0(e,g,G,!0)),p0(e,ve,G)),Ji(ve)&&mt.set(ve,e),e}function p0(H,ve,Pe,Ne=!1){const{mixins:Ye,extends:mt}=ve;mt&&p0(H,mt,Pe,!0),Ye&&Ye.forEach(G=>p0(H,G,Pe,!0));for(const G in ve)if(!(Ne&&G==="expose")){const U=l4[G]||Pe&&Pe[G];H[G]=U?U(H[G],ve[G]):ve[G]}return H}const l4={data:gm,props:ym,emits:ym,methods:Yv,computed:Yv,beforeCreate:_s,created:_s,beforeMount:_s,mounted:_s,beforeUpdate:_s,updated:_s,beforeDestroy:_s,beforeUnmount:_s,destroyed:_s,unmounted:_s,activated:_s,deactivated:_s,errorCaptured:_s,serverPrefetch:_s,components:Yv,directives:Yv,watch:f4,provide:gm,inject:u4};function gm(H,ve){return ve?H?function(){return Bo(ri(H)?H.call(this,this):H,ri(ve)?ve.call(this,this):ve)}:ve:H}function u4(H,ve){return Yv(eg(H),eg(ve))}function eg(H){if(Xa(H)){const ve={};for(let Pe=0;Pe<H.length;Pe++)ve[H[Pe]]=H[Pe];return ve}return H}function _s(H,ve){return H?[...new Set([].concat(H,ve))]:ve}function Yv(H,ve){return H?Bo(Object.create(null),H,ve):ve}function ym(H,ve){return H?Xa(H)&&Xa(ve)?[...new Set([...H,...ve])]:Bo(Object.create(null),dm(H),dm(ve!=null?ve:{})):ve}function f4(H,ve){if(!H)return ve;if(!ve)return H;const Pe=Bo(Object.create(null),H);for(const Ne in ve)Pe[Ne]=_s(H[Ne],ve[Ne]);return Pe}function Fx(){return{app:null,config:{isNativeTag:Yw,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let c4=0;function h4(H,ve){return function(Ne,Ye=null){ri(Ne)||(Ne=Bo({},Ne)),Ye!=null&&!Ji(Ye)&&(Ye=null);const mt=Fx(),G=new WeakSet;let U=!1;const e=mt.app={_uid:c4++,_component:Ne,_props:Ye,_container:null,_context:mt,_instance:null,version:N4,get config(){return mt.config},set config(g){},use(g,...L){return G.has(g)||(g&&ri(g.install)?(G.add(g),g.install(e,...L)):ri(g)&&(G.add(g),g(e,...L))),e},mixin(g){return mt.mixins.includes(g)||mt.mixins.push(g),e},component(g,L){return L?(mt.components[g]=L,e):mt.components[g]},directive(g,L){return L?(mt.directives[g]=L,e):mt.directives[g]},mount(g,L,a){if(!U){const C=gi(Ne,Ye);return C.appContext=mt,a===!0?a="svg":a===!1&&(a=void 0),L&&ve?ve(C,g):H(C,g,a),U=!0,e._container=g,g.__vue_app__=e,z0(C.component)||C.component.proxy}},unmount(){U&&(H(null,e._container),delete e._container.__vue_app__)},provide(g,L){return mt.provides[g]=L,e},runWithContext(g){const L=Jv;Jv=e;try{return g()}finally{Jv=L}}};return e}}let Jv=null;function s0(H,ve){if(ls){let Pe=ls.provides;const Ne=ls.parent&&ls.parent.provides;Ne===Pe&&(Pe=ls.provides=Object.create(Ne)),Pe[H]=ve}}function yl(H,ve,Pe=!1){const Ne=ls||zs;if(Ne||Jv){const Ye=Ne?Ne.parent==null?Ne.vnode.appContext&&Ne.vnode.appContext.provides:Ne.parent.provides:Jv._context.provides;if(Ye&&H in Ye)return Ye[H];if(arguments.length>1)return Pe&&ri(ve)?ve.call(Ne&&Ne.proxy):ve}}function v4(H,ve,Pe,Ne=!1){const Ye={},mt={};c0(mt,k0,1),H.propsDefaults=Object.create(null),zx(H,ve,Ye,mt);for(const G in H.propsOptions[0])G in Ye||(Ye[G]=void 0);Pe?H.props=Ne?Ye:cx(Ye):H.type.props?H.props=Ye:H.props=mt,H.attrs=mt}function d4(H,ve,Pe,Ne){const{props:Ye,attrs:mt,vnode:{patchFlag:G}}=H,U=Ai(Ye),[e]=H.propsOptions;let g=!1;if((Ne||G>0)&&!(G&16)){if(G&8){const L=H.vnode.dynamicProps;for(let a=0;a<L.length;a++){let C=L[a];if(R0(H.emitsOptions,C))continue;const A=ve[C];if(e)if(Ti(mt,C))A!==mt[C]&&(mt[C]=A,g=!0);else{const v=Ku(C);Ye[v]=tg(e,U,v,A,H,!1)}else A!==mt[C]&&(mt[C]=A,g=!0)}}}else{zx(H,ve,Ye,mt)&&(g=!0);let L;for(const a in U)(!ve||!Ti(ve,a)&&((L=yv(a))===a||!Ti(ve,L)))&&(e?Pe&&(Pe[a]!==void 0||Pe[L]!==void 0)&&(Ye[a]=tg(e,U,a,void 0,H,!0)):delete Ye[a]);if(mt!==U)for(const a in mt)(!ve||!Ti(ve,a)&&!0)&&(delete mt[a],g=!0)}g&&Mf(H,"set","$attrs")}function zx(H,ve,Pe,Ne){const[Ye,mt]=H.propsOptions;let G=!1,U;if(ve)for(let e in ve){if(jv(e))continue;const g=ve[e];let L;Ye&&Ti(Ye,L=Ku(e))?!mt||!mt.includes(L)?Pe[L]=g:(U||(U={}))[L]=g:R0(H.emitsOptions,e)||(!(e in Ne)||g!==Ne[e])&&(Ne[e]=g,G=!0)}if(mt){const e=Ai(Pe),g=U||ji;for(let L=0;L<mt.length;L++){const a=mt[L];Pe[a]=tg(Ye,e,a,g[a],H,!Ti(g,a))}}return G}function tg(H,ve,Pe,Ne,Ye,mt){const G=H[Pe];if(G!=null){const U=Ti(G,"default");if(U&&Ne===void 0){const e=G.default;if(G.type!==Function&&!G.skipFactory&&ri(e)){const{propsDefaults:g}=Ye;if(Pe in g)Ne=g[Pe];else{const L=dd(Ye);Ne=g[Pe]=e.call(null,ve),L()}}else Ne=e}G[0]&&(mt&&!U?Ne=!1:G[1]&&(Ne===""||Ne===yv(Pe))&&(Ne=!0))}return Ne}function Ox(H,ve,Pe=!1){const Ne=ve.propsCache,Ye=Ne.get(H);if(Ye)return Ye;const mt=H.props,G={},U=[];let e=!1;if(!ri(H)){const L=a=>{e=!0;const[C,A]=Ox(a,ve,!0);Bo(G,C),A&&U.push(...A)};!Pe&&ve.mixins.length&&ve.mixins.forEach(L),H.extends&&L(H.extends),H.mixins&&H.mixins.forEach(L)}if(!mt&&!e)return Ji(H)&&Ne.set(H,iv),iv;if(Xa(mt))for(let L=0;L<mt.length;L++){const a=Ku(mt[L]);mm(a)&&(G[a]=ji)}else if(mt)for(const L in mt){const a=Ku(L);if(mm(a)){const C=mt[L],A=G[a]=Xa(C)||ri(C)?{type:C}:Bo({},C);if(A){const v=wm(Boolean,A.type),p=wm(String,A.type);A[0]=v>-1,A[1]=p<0||v<p,(v>-1||Ti(A,"default"))&&U.push(a)}}}const g=[G,U];return Ji(H)&&Ne.set(H,g),g}function mm(H){return H[0]!=="$"&&!jv(H)}function xm(H){return H===null?"null":typeof H=="function"?H.name||"":typeof H=="object"&&H.constructor&&H.constructor.name||""}function bm(H,ve){return xm(H)===xm(ve)}function wm(H,ve){return Xa(ve)?ve.findIndex(Pe=>bm(Pe,H)):ri(ve)&&bm(ve,H)?0:-1}const Bx=H=>H[0]==="_"||H==="$stable",Fg=H=>Xa(H)?H.map(Xu):[Xu(H)],p4=(H,ve,Pe)=>{if(ve._n)return ve;const Ne=Hi((...Ye)=>Fg(ve(...Ye)),Pe);return Ne._c=!1,Ne},Nx=(H,ve,Pe)=>{const Ne=H._ctx;for(const Ye in H){if(Bx(Ye))continue;const mt=H[Ye];if(ri(mt))ve[Ye]=p4(Ye,mt,Ne);else if(mt!=null){const G=Fg(mt);ve[Ye]=()=>G}}},Ux=(H,ve)=>{const Pe=Fg(ve);H.slots.default=()=>Pe},g4=(H,ve)=>{if(H.vnode.shapeFlag&32){const Pe=ve._;Pe?(H.slots=Ai(ve),c0(ve,"_",Pe)):Nx(ve,H.slots={})}else H.slots={},ve&&Ux(H,ve);c0(H.slots,k0,1)},y4=(H,ve,Pe)=>{const{vnode:Ne,slots:Ye}=H;let mt=!0,G=ji;if(Ne.shapeFlag&32){const U=ve._;U?Pe&&U===1?mt=!1:(Bo(Ye,ve),!Pe&&U===1&&delete Ye._):(mt=!ve.$stable,Nx(ve,Ye)),G=ve}else ve&&(Ux(H,ve),G={default:1});if(mt)for(const U in Ye)!Bx(U)&&G[U]==null&&delete Ye[U]};function rg(H,ve,Pe,Ne,Ye=!1){if(Xa(H)){H.forEach((C,A)=>rg(C,ve&&(Xa(ve)?ve[A]:ve),Pe,Ne,Ye));return}if(o0(Ne)&&!Ye)return;const mt=Ne.shapeFlag&4?z0(Ne.component)||Ne.component.proxy:Ne.el,G=Ye?null:mt,{i:U,r:e}=H,g=ve&&ve.r,L=U.refs===ji?U.refs={}:U.refs,a=U.setupState;if(g!=null&&g!==e&&(Eo(g)?(L[g]=null,Ti(a,g)&&(a[g]=null)):Os(g)&&(g.value=null)),ri(e))Tc(e,U,12,[G,L]);else{const C=Eo(e),A=Os(e);if(C||A){const v=()=>{if(H.f){const p=C?Ti(a,e)?a[e]:L[e]:e.value;Ye?Xa(p)&&mg(p,mt):Xa(p)?p.includes(mt)||p.push(mt):C?(L[e]=[mt],Ti(a,e)&&(a[e]=L[e])):(e.value=[mt],H.k&&(L[H.k]=e.value))}else C?(L[e]=G,Ti(a,e)&&(a[e]=G)):A&&(e.value=G,H.k&&(L[H.k]=G))};G?(v.id=-1,$s(v,Pe)):v()}}}const $s=ZT;function m4(H){return x4(H)}function x4(H,ve){const Pe=Q1();Pe.__VUE__=!0;const{insert:Ne,remove:Ye,patchProp:mt,createElement:G,createText:U,createComment:e,setText:g,setElementText:L,parentNode:a,nextSibling:C,setScopeId:A=dl,insertStaticContent:v}=H,p=(Q,oe,Z,Y=null,te=null,X=null,$=void 0,ie=null,J=!!oe.dynamicChildren)=>{if(Q===oe)return;Q&&!oh(Q,oe)&&(Y=O(Q),_(Q,te,X,!0),Q=null),oe.patchFlag===-2&&(J=!1,oe.dynamicChildren=null);const{type:j,ref:se,shapeFlag:ne}=oe;switch(j){case _0:r(Q,oe,Z,Y);break;case Au:t(Q,oe,Z,Y);break;case Ap:Q==null&&s(oe,Z,Y,$);break;case bs:d(Q,oe,Z,Y,te,X,$,ie,J);break;default:ne&1?u(Q,oe,Z,Y,te,X,$,ie,J):ne&6?b(Q,oe,Z,Y,te,X,$,ie,J):(ne&64||ne&128)&&j.process(Q,oe,Z,Y,te,X,$,ie,J,W)}se!=null&&te&&rg(se,Q&&Q.ref,X,oe||Q,!oe)},r=(Q,oe,Z,Y)=>{if(Q==null)Ne(oe.el=U(oe.children),Z,Y);else{const te=oe.el=Q.el;oe.children!==Q.children&&g(te,oe.children)}},t=(Q,oe,Z,Y)=>{Q==null?Ne(oe.el=e(oe.children||""),Z,Y):oe.el=Q.el},s=(Q,oe,Z,Y)=>{[Q.el,Q.anchor]=v(Q.children,oe,Z,Y,Q.el,Q.anchor)},n=({el:Q,anchor:oe},Z,Y)=>{let te;for(;Q&&Q!==oe;)te=C(Q),Ne(Q,Z,Y),Q=te;Ne(oe,Z,Y)},f=({el:Q,anchor:oe})=>{let Z;for(;Q&&Q!==oe;)Z=C(Q),Ye(Q),Q=Z;Ye(oe)},u=(Q,oe,Z,Y,te,X,$,ie,J)=>{oe.type==="svg"?$="svg":oe.type==="math"&&($="mathml"),Q==null?l(oe,Z,Y,te,X,$,ie,J):M(Q,oe,te,X,$,ie,J)},l=(Q,oe,Z,Y,te,X,$,ie)=>{let J,j;const{props:se,shapeFlag:ne,transition:le,dirs:pe}=Q;if(J=Q.el=G(Q.type,X,se&&se.is,se),ne&8?L(J,Q.children):ne&16&&h(Q.children,J,null,Y,te,Tp(Q,X),$,ie),pe&&eh(Q,null,Y,"created"),m(J,Q,Q.scopeId,$,Y),se){for(const be in se)be!=="value"&&!jv(be)&&mt(J,be,null,se[be],X,Q.children,Y,te,F);"value"in se&&mt(J,"value",null,se.value,X),(j=se.onVnodeBeforeMount)&&Yu(j,Y,Q)}pe&&eh(Q,null,Y,"beforeMount");const Ae=b4(te,le);Ae&&le.beforeEnter(J),Ne(J,oe,Z),((j=se&&se.onVnodeMounted)||Ae||pe)&&$s(()=>{j&&Yu(j,Y,Q),Ae&&le.enter(J),pe&&eh(Q,null,Y,"mounted")},te)},m=(Q,oe,Z,Y,te)=>{if(Z&&A(Q,Z),Y)for(let X=0;X<Y.length;X++)A(Q,Y[X]);if(te){let X=te.subTree;if(oe===X){const $=te.vnode;m(Q,$,$.scopeId,$.slotScopeIds,te.parent)}}},h=(Q,oe,Z,Y,te,X,$,ie,J=0)=>{for(let j=J;j<Q.length;j++){const se=Q[j]=ie?gc(Q[j]):Xu(Q[j]);p(null,se,oe,Z,Y,te,X,$,ie)}},M=(Q,oe,Z,Y,te,X,$)=>{const ie=oe.el=Q.el;let{patchFlag:J,dynamicChildren:j,dirs:se}=oe;J|=Q.patchFlag&16;const ne=Q.props||ji,le=oe.props||ji;let pe;if(Z&&th(Z,!1),(pe=le.onVnodeBeforeUpdate)&&Yu(pe,Z,oe,Q),se&&eh(oe,Q,Z,"beforeUpdate"),Z&&th(Z,!0),j?c(Q.dynamicChildren,j,ie,Z,Y,Tp(oe,te),X):$||T(Q,oe,ie,null,Z,Y,Tp(oe,te),X,!1),J>0){if(J&16)i(ie,oe,ne,le,Z,Y,te);else if(J&2&&ne.class!==le.class&&mt(ie,"class",null,le.class,te),J&4&&mt(ie,"style",ne.style,le.style,te),J&8){const Ae=oe.dynamicProps;for(let be=0;be<Ae.length;be++){const Re=Ae[be],xe=ne[Re],Me=le[Re];(Me!==xe||Re==="value")&&mt(ie,Re,xe,Me,te,Q.children,Z,Y,F)}}J&1&&Q.children!==oe.children&&L(ie,oe.children)}else!$&&j==null&&i(ie,oe,ne,le,Z,Y,te);((pe=le.onVnodeUpdated)||se)&&$s(()=>{pe&&Yu(pe,Z,oe,Q),se&&eh(oe,Q,Z,"updated")},Y)},c=(Q,oe,Z,Y,te,X,$)=>{for(let ie=0;ie<oe.length;ie++){const J=Q[ie],j=oe[ie],se=J.el&&(J.type===bs||!oh(J,j)||J.shapeFlag&70)?a(J.el):Z;p(J,j,se,null,Y,te,X,$,!0)}},i=(Q,oe,Z,Y,te,X,$)=>{if(Z!==Y){if(Z!==ji)for(const ie in Z)!jv(ie)&&!(ie in Y)&&mt(Q,ie,Z[ie],null,$,oe.children,te,X,F);for(const ie in Y){if(jv(ie))continue;const J=Y[ie],j=Z[ie];J!==j&&ie!=="value"&&mt(Q,ie,j,J,$,oe.children,te,X,F)}"value"in Y&&mt(Q,"value",Z.value,Y.value,$)}},d=(Q,oe,Z,Y,te,X,$,ie,J)=>{const j=oe.el=Q?Q.el:U(""),se=oe.anchor=Q?Q.anchor:U("");let{patchFlag:ne,dynamicChildren:le,slotScopeIds:pe}=oe;pe&&(ie=ie?ie.concat(pe):pe),Q==null?(Ne(j,Z,Y),Ne(se,Z,Y),h(oe.children||[],Z,se,te,X,$,ie,J)):ne>0&&ne&64&&le&&Q.dynamicChildren?(c(Q.dynamicChildren,le,Z,te,X,$,ie),(oe.key!=null||te&&oe===te.subTree)&&zg(Q,oe,!0)):T(Q,oe,Z,se,te,X,$,ie,J)},b=(Q,oe,Z,Y,te,X,$,ie,J)=>{oe.slotScopeIds=ie,Q==null?oe.shapeFlag&512?te.ctx.activate(oe,Z,Y,$,J):w(oe,Z,Y,te,X,$,J):E(Q,oe,J)},w=(Q,oe,Z,Y,te,X,$)=>{const ie=Q.component=I4(Q,Y,te);if(D0(Q)&&(ie.ctx.renderer=W),_4(ie),ie.asyncDep){if(te&&te.registerDep(ie,y),!Q.el){const J=ie.subTree=gi(Au);t(null,J,oe,Z)}}else y(ie,Q,oe,Z,te,X,$)},E=(Q,oe,Z)=>{const Y=oe.component=Q.component;if(VT(Q,oe,Z))if(Y.asyncDep&&!Y.asyncResolved){S(Y,oe,Z);return}else Y.next=oe,FT(Y.update),Y.effect.dirty=!0,Y.update();else oe.el=Q.el,Y.vnode=oe},y=(Q,oe,Z,Y,te,X,$)=>{const ie=()=>{if(Q.isMounted){let{next:se,bu:ne,u:le,parent:pe,vnode:Ae}=Q;{const ye=Vx(Q);if(ye){se&&(se.el=Ae.el,S(Q,se,$)),ye.asyncDep.then(()=>{Q.isUnmounted||ie()});return}}let be=se,Re;th(Q,!1),se?(se.el=Ae.el,S(Q,se,$)):se=Ae,ne&&yp(ne),(Re=se.props&&se.props.onVnodeBeforeUpdate)&&Yu(Re,pe,se,Ae),th(Q,!0);const xe=xp(Q),Me=Q.subTree;Q.subTree=xe,p(Me,xe,a(Me.el),O(Me),Q,te,X),se.el=xe.el,be===null&&HT(Q,xe.el),le&&$s(le,te),(Re=se.props&&se.props.onVnodeUpdated)&&$s(()=>Yu(Re,pe,se,Ae),te)}else{let se;const{el:ne,props:le}=oe,{bm:pe,m:Ae,parent:be}=Q,Re=o0(oe);if(th(Q,!1),pe&&yp(pe),!Re&&(se=le&&le.onVnodeBeforeMount)&&Yu(se,be,oe),th(Q,!0),ne&&ee){const xe=()=>{Q.subTree=xp(Q),ee(ne,Q.subTree,Q,te,null)};Re?oe.type.__asyncLoader().then(()=>!Q.isUnmounted&&xe()):xe()}else{const xe=Q.subTree=xp(Q);p(null,xe,Z,Y,Q,te,X),oe.el=xe.el}if(Ae&&$s(Ae,te),!Re&&(se=le&&le.onVnodeMounted)){const xe=oe;$s(()=>Yu(se,be,xe),te)}(oe.shapeFlag&256||be&&o0(be.vnode)&&be.vnode.shapeFlag&256)&&Q.a&&$s(Q.a,te),Q.isMounted=!0,oe=Z=Y=null}},J=Q.effect=new Tg(ie,dl,()=>Rg(j),Q.scope),j=Q.update=()=>{J.dirty&&J.run()};j.id=Q.uid,th(Q,!0),j()},S=(Q,oe,Z)=>{oe.component=Q;const Y=Q.vnode.props;Q.vnode=oe,Q.next=null,d4(Q,oe.props,Y,Z),y4(Q,oe.children,Z),xh(),fm(Q),bh()},T=(Q,oe,Z,Y,te,X,$,ie,J=!1)=>{const j=Q&&Q.children,se=Q?Q.shapeFlag:0,ne=oe.children,{patchFlag:le,shapeFlag:pe}=oe;if(le>0){if(le&128){P(j,ne,Z,Y,te,X,$,ie,J);return}else if(le&256){o(j,ne,Z,Y,te,X,$,ie,J);return}}pe&8?(se&16&&F(j,te,X),ne!==j&&L(Z,ne)):se&16?pe&16?P(j,ne,Z,Y,te,X,$,ie,J):F(j,te,X,!0):(se&8&&L(Z,""),pe&16&&h(ne,Z,Y,te,X,$,ie,J))},o=(Q,oe,Z,Y,te,X,$,ie,J)=>{Q=Q||iv,oe=oe||iv;const j=Q.length,se=oe.length,ne=Math.min(j,se);let le;for(le=0;le<ne;le++){const pe=oe[le]=J?gc(oe[le]):Xu(oe[le]);p(Q[le],pe,Z,null,te,X,$,ie,J)}j>se?F(Q,te,X,!0,!1,ne):h(oe,Z,Y,te,X,$,ie,J,ne)},P=(Q,oe,Z,Y,te,X,$,ie,J)=>{let j=0;const se=oe.length;let ne=Q.length-1,le=se-1;for(;j<=ne&&j<=le;){const pe=Q[j],Ae=oe[j]=J?gc(oe[j]):Xu(oe[j]);if(oh(pe,Ae))p(pe,Ae,Z,null,te,X,$,ie,J);else break;j++}for(;j<=ne&&j<=le;){const pe=Q[ne],Ae=oe[le]=J?gc(oe[le]):Xu(oe[le]);if(oh(pe,Ae))p(pe,Ae,Z,null,te,X,$,ie,J);else break;ne--,le--}if(j>ne){if(j<=le){const pe=le+1,Ae=pe<se?oe[pe].el:Y;for(;j<=le;)p(null,oe[j]=J?gc(oe[j]):Xu(oe[j]),Z,Ae,te,X,$,ie,J),j++}}else if(j>le)for(;j<=ne;)_(Q[j],te,X,!0),j++;else{const pe=j,Ae=j,be=new Map;for(j=Ae;j<=le;j++){const _e=oe[j]=J?gc(oe[j]):Xu(oe[j]);_e.key!=null&&be.set(_e.key,j)}let Re,xe=0;const Me=le-Ae+1;let ye=!1,Se=0;const Fe=new Array(Me);for(j=0;j<Me;j++)Fe[j]=0;for(j=pe;j<=ne;j++){const _e=Q[j];if(xe>=Me){_(_e,te,X,!0);continue}let Ue;if(_e.key!=null)Ue=be.get(_e.key);else for(Re=Ae;Re<=le;Re++)if(Fe[Re-Ae]===0&&oh(_e,oe[Re])){Ue=Re;break}Ue===void 0?_(_e,te,X,!0):(Fe[Ue-Ae]=j+1,Ue>=Se?Se=Ue:ye=!0,p(_e,oe[Ue],Z,null,te,X,$,ie,J),xe++)}const Be=ye?w4(Fe):iv;for(Re=Be.length-1,j=Me-1;j>=0;j--){const _e=Ae+j,Ue=oe[_e],it=_e+1<se?oe[_e+1].el:Y;Fe[j]===0?p(null,Ue,Z,it,te,X,$,ie,J):ye&&(Re<0||j!==Be[Re]?x(Ue,Z,it,2):Re--)}}},x=(Q,oe,Z,Y,te=null)=>{const{el:X,type:$,transition:ie,children:J,shapeFlag:j}=Q;if(j&6){x(Q.component.subTree,oe,Z,Y);return}if(j&128){Q.suspense.move(oe,Z,Y);return}if(j&64){$.move(Q,oe,Z,W);return}if($===bs){Ne(X,oe,Z);for(let ne=0;ne<J.length;ne++)x(J[ne],oe,Z,Y);Ne(Q.anchor,oe,Z);return}if($===Ap){n(Q,oe,Z);return}if(Y!==2&&j&1&&ie)if(Y===0)ie.beforeEnter(X),Ne(X,oe,Z),$s(()=>ie.enter(X),te);else{const{leave:ne,delayLeave:le,afterLeave:pe}=ie,Ae=()=>Ne(X,oe,Z),be=()=>{ne(X,()=>{Ae(),pe&&pe()})};le?le(X,Ae,be):be()}else Ne(X,oe,Z)},_=(Q,oe,Z,Y=!1,te=!1)=>{const{type:X,props:$,ref:ie,children:J,dynamicChildren:j,shapeFlag:se,patchFlag:ne,dirs:le}=Q;if(ie!=null&&rg(ie,null,Z,Q,!0),se&256){oe.ctx.deactivate(Q);return}const pe=se&1&&le,Ae=!o0(Q);let be;if(Ae&&(be=$&&$.onVnodeBeforeUnmount)&&Yu(be,oe,Q),se&6)k(Q.component,Z,Y);else{if(se&128){Q.suspense.unmount(Z,Y);return}pe&&eh(Q,null,oe,"beforeUnmount"),se&64?Q.type.remove(Q,oe,Z,te,W,Y):j&&(X!==bs||ne>0&&ne&64)?F(j,oe,Z,!1,!0):(X===bs&&ne&384||!te&&se&16)&&F(J,oe,Z),Y&&I(Q)}(Ae&&(be=$&&$.onVnodeUnmounted)||pe)&&$s(()=>{be&&Yu(be,oe,Q),pe&&eh(Q,null,oe,"unmounted")},Z)},I=Q=>{const{type:oe,el:Z,anchor:Y,transition:te}=Q;if(oe===bs){N(Z,Y);return}if(oe===Ap){f(Q);return}const X=()=>{Ye(Z),te&&!te.persisted&&te.afterLeave&&te.afterLeave()};if(Q.shapeFlag&1&&te&&!te.persisted){const{leave:$,delayLeave:ie}=te,J=()=>$(Z,X);ie?ie(Q.el,X,J):J()}else X()},N=(Q,oe)=>{let Z;for(;Q!==oe;)Z=C(Q),Ye(Q),Q=Z;Ye(oe)},k=(Q,oe,Z)=>{const{bum:Y,scope:te,update:X,subTree:$,um:ie}=Q;Y&&yp(Y),te.stop(),X&&(X.active=!1,_($,Q,oe,Z)),ie&&$s(ie,oe),$s(()=>{Q.isUnmounted=!0},oe),oe&&oe.pendingBranch&&!oe.isUnmounted&&Q.asyncDep&&!Q.asyncResolved&&Q.suspenseId===oe.pendingId&&(oe.deps--,oe.deps===0&&oe.resolve())},F=(Q,oe,Z,Y=!1,te=!1,X=0)=>{for(let $=X;$<Q.length;$++)_(Q[$],oe,Z,Y,te)},O=Q=>Q.shapeFlag&6?O(Q.component.subTree):Q.shapeFlag&128?Q.suspense.next():C(Q.anchor||Q.el);let z=!1;const B=(Q,oe,Z)=>{Q==null?oe._vnode&&_(oe._vnode,null,null,!0):p(oe._vnode||null,Q,oe,null,null,null,Z),z||(z=!0,fm(),bx(),z=!1),oe._vnode=Q},W={p,um:_,m:x,r:I,mt:w,mc:h,pc:T,pbc:c,n:O,o:H};let q,ee;return ve&&([q,ee]=ve(W)),{render:B,hydrate:q,createApp:h4(B,q)}}function Tp({type:H,props:ve},Pe){return Pe==="svg"&&H==="foreignObject"||Pe==="mathml"&&H==="annotation-xml"&&ve&&ve.encoding&&ve.encoding.includes("html")?void 0:Pe}function th({effect:H,update:ve},Pe){H.allowRecurse=ve.allowRecurse=Pe}function b4(H,ve){return(!H||H&&!H.pendingBranch)&&ve&&!ve.persisted}function zg(H,ve,Pe=!1){const Ne=H.children,Ye=ve.children;if(Xa(Ne)&&Xa(Ye))for(let mt=0;mt<Ne.length;mt++){const G=Ne[mt];let U=Ye[mt];U.shapeFlag&1&&!U.dynamicChildren&&((U.patchFlag<=0||U.patchFlag===32)&&(U=Ye[mt]=gc(Ye[mt]),U.el=G.el),Pe||zg(G,U)),U.type===_0&&(U.el=G.el)}}function w4(H){const ve=H.slice(),Pe=[0];let Ne,Ye,mt,G,U;const e=H.length;for(Ne=0;Ne<e;Ne++){const g=H[Ne];if(g!==0){if(Ye=Pe[Pe.length-1],H[Ye]<g){ve[Ne]=Ye,Pe.push(Ne);continue}for(mt=0,G=Pe.length-1;mt<G;)U=mt+G>>1,H[Pe[U]]<g?mt=U+1:G=U;g<H[Pe[mt]]&&(mt>0&&(ve[Ne]=Pe[mt-1]),Pe[mt]=Ne)}}for(mt=Pe.length,G=Pe[mt-1];mt-- >0;)Pe[mt]=G,G=ve[G];return Pe}function Vx(H){const ve=H.subTree.component;if(ve)return ve.asyncDep&&!ve.asyncResolved?ve:Vx(ve)}const T4=H=>H.__isTeleport,Qv=H=>H&&(H.disabled||H.disabled===""),Tm=H=>typeof SVGElement!="undefined"&&H instanceof SVGElement,Am=H=>typeof MathMLElement=="function"&&H instanceof MathMLElement,ng=(H,ve)=>{const Pe=H&&H.to;return Eo(Pe)?ve?ve(Pe):null:Pe},A4={name:"Teleport",__isTeleport:!0,process(H,ve,Pe,Ne,Ye,mt,G,U,e,g){const{mc:L,pc:a,pbc:C,o:{insert:A,querySelector:v,createText:p,createComment:r}}=g,t=Qv(ve.props);let{shapeFlag:s,children:n,dynamicChildren:f}=ve;if(H==null){const u=ve.el=p(""),l=ve.anchor=p("");A(u,Pe,Ne),A(l,Pe,Ne);const m=ve.target=ng(ve.props,v),h=ve.targetAnchor=p("");m&&(A(h,m),G==="svg"||Tm(m)?G="svg":(G==="mathml"||Am(m))&&(G="mathml"));const M=(c,i)=>{s&16&&L(n,c,i,Ye,mt,G,U,e)};t?M(Pe,l):m&&M(m,h)}else{ve.el=H.el;const u=ve.anchor=H.anchor,l=ve.target=H.target,m=ve.targetAnchor=H.targetAnchor,h=Qv(H.props),M=h?Pe:l,c=h?u:m;if(G==="svg"||Tm(l)?G="svg":(G==="mathml"||Am(l))&&(G="mathml"),f?(C(H.dynamicChildren,f,M,Ye,mt,G,U),zg(H,ve,!0)):e||a(H,ve,M,c,Ye,mt,G,U,!1),t)h?ve.props&&H.props&&ve.props.to!==H.props.to&&(ve.props.to=H.props.to):Qd(ve,Pe,u,g,1);else if((ve.props&&ve.props.to)!==(H.props&&H.props.to)){const i=ve.target=ng(ve.props,v);i&&Qd(ve,i,null,g,0)}else h&&Qd(ve,l,m,g,1)}Hx(ve)},remove(H,ve,Pe,Ne,{um:Ye,o:{remove:mt}},G){const{shapeFlag:U,children:e,anchor:g,targetAnchor:L,target:a,props:C}=H;if(a&&mt(L),G&&mt(g),U&16){const A=G||!Qv(C);for(let v=0;v<e.length;v++){const p=e[v];Ye(p,ve,Pe,A,!!p.dynamicChildren)}}},move:Qd,hydrate:M4};function Qd(H,ve,Pe,{o:{insert:Ne},m:Ye},mt=2){mt===0&&Ne(H.targetAnchor,ve,Pe);const{el:G,anchor:U,shapeFlag:e,children:g,props:L}=H,a=mt===2;if(a&&Ne(G,ve,Pe),(!a||Qv(L))&&e&16)for(let C=0;C<g.length;C++)Ye(g[C],ve,Pe,2);a&&Ne(U,ve,Pe)}function M4(H,ve,Pe,Ne,Ye,mt,{o:{nextSibling:G,parentNode:U,querySelector:e}},g){const L=ve.target=ng(ve.props,e);if(L){const a=L._lpa||L.firstChild;if(ve.shapeFlag&16)if(Qv(ve.props))ve.anchor=g(G(H),ve,U(H),Pe,Ne,Ye,mt),ve.targetAnchor=a;else{ve.anchor=G(H);let C=a;for(;C;)if(C=G(C),C&&C.nodeType===8&&C.data==="teleport anchor"){ve.targetAnchor=C,L._lpa=ve.targetAnchor&&G(ve.targetAnchor);break}g(a,ve,L,Pe,Ne,Ye,mt)}Hx(ve)}return ve.anchor&&G(ve.anchor)}const S4=A4;function Hx(H){const ve=H.ctx;if(ve&&ve.ut){let Pe=H.children[0].el;for(;Pe&&Pe!==H.targetAnchor;)Pe.nodeType===1&&Pe.setAttribute("data-v-owner",ve.uid),Pe=Pe.nextSibling;ve.ut()}}const bs=Symbol.for("v-fgt"),_0=Symbol.for("v-txt"),Au=Symbol.for("v-cmt"),Ap=Symbol.for("v-stc"),$v=[];let Tu=null;function xo(H=!1){$v.push(Tu=H?null:[])}function E4(){$v.pop(),Tu=$v[$v.length-1]||null}let sd=1;function Mm(H){sd+=H}function Gx(H){return H.dynamicChildren=sd>0?Tu||iv:null,E4(),sd>0&&Tu&&Tu.push(H),H}function ju(H,ve,Pe,Ne,Ye,mt){return Gx(ho(H,ve,Pe,Ne,Ye,mt,!0))}function Wl(H,ve,Pe,Ne,Ye){return Gx(gi(H,ve,Pe,Ne,Ye,!0))}function ag(H){return H?H.__v_isVNode===!0:!1}function oh(H,ve){return H.type===ve.type&&H.key===ve.key}const k0="__vInternal",Wx=({key:H})=>H!=null?H:null,l0=({ref:H,ref_key:ve,ref_for:Pe})=>(typeof H=="number"&&(H=""+H),H!=null?Eo(H)||Os(H)||ri(H)?{i:zs,r:H,k:ve,f:!!Pe}:H:null);function ho(H,ve=null,Pe=null,Ne=0,Ye=null,mt=H===bs?0:1,G=!1,U=!1){const e={__v_isVNode:!0,__v_skip:!0,type:H,props:ve,key:ve&&Wx(ve),ref:ve&&l0(ve),scopeId:Ax,slotScopeIds:null,children:Pe,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:mt,patchFlag:Ne,dynamicProps:Ye,dynamicChildren:null,appContext:null,ctx:zs};return U?(Og(e,Pe),mt&128&&H.normalize(e)):Pe&&(e.shapeFlag|=Eo(Pe)?8:16),sd>0&&!G&&Tu&&(e.patchFlag>0||mt&6)&&e.patchFlag!==32&&Tu.push(e),e}const gi=C4;function C4(H,ve=null,Pe=null,Ne=0,Ye=null,mt=!1){if((!H||H===WT)&&(H=Au),ag(H)){const U=Sc(H,ve,!0);return Pe&&Og(U,Pe),sd>0&&!mt&&Tu&&(U.shapeFlag&6?Tu[Tu.indexOf(H)]=U:Tu.push(U)),U.patchFlag|=-2,U}if(B4(H)&&(H=H.__vccOpts),ve){ve=L4(ve);let{class:U,style:e}=ve;U&&!Eo(U)&&(ve.class=wg(U)),Ji(e)&&(vx(e)&&!Xa(e)&&(e=Bo({},e)),ve.style=bg(e))}const G=Eo(H)?1:XT(H)?128:T4(H)?64:Ji(H)?4:ri(H)?2:0;return ho(H,ve,Pe,Ne,Ye,G,mt,!0)}function L4(H){return H?vx(H)||k0 in H?Bo({},H):H:null}function Sc(H,ve,Pe=!1){const{props:Ne,ref:Ye,patchFlag:mt,children:G}=H,U=ve?P4(Ne||{},ve):Ne;return{__v_isVNode:!0,__v_skip:!0,type:H.type,props:U,key:U&&Wx(U),ref:ve&&ve.ref?Pe&&Ye?Xa(Ye)?Ye.concat(l0(ve)):[Ye,l0(ve)]:l0(ve):Ye,scopeId:H.scopeId,slotScopeIds:H.slotScopeIds,children:G,target:H.target,targetAnchor:H.targetAnchor,staticCount:H.staticCount,shapeFlag:H.shapeFlag,patchFlag:ve&&H.type!==bs?mt===-1?16:mt|16:mt,dynamicProps:H.dynamicProps,dynamicChildren:H.dynamicChildren,appContext:H.appContext,dirs:H.dirs,transition:H.transition,component:H.component,suspense:H.suspense,ssContent:H.ssContent&&Sc(H.ssContent),ssFallback:H.ssFallback&&Sc(H.ssFallback),el:H.el,anchor:H.anchor,ctx:H.ctx,ce:H.ce}}function pc(H=" ",ve=0){return gi(_0,null,H,ve)}function Mp(H="",ve=!1){return ve?(xo(),Wl(Au,null,H)):gi(Au,null,H)}function Xu(H){return H==null||typeof H=="boolean"?gi(Au):Xa(H)?gi(bs,null,H.slice()):typeof H=="object"?gc(H):gi(_0,null,String(H))}function gc(H){return H.el===null&&H.patchFlag!==-1||H.memo?H:Sc(H)}function Og(H,ve){let Pe=0;const{shapeFlag:Ne}=H;if(ve==null)ve=null;else if(Xa(ve))Pe=16;else if(typeof ve=="object")if(Ne&65){const Ye=ve.default;Ye&&(Ye._c&&(Ye._d=!1),Og(H,Ye()),Ye._c&&(Ye._d=!0));return}else{Pe=32;const Ye=ve._;!Ye&&!(k0 in ve)?ve._ctx=zs:Ye===3&&zs&&(zs.slots._===1?ve._=1:(ve._=2,H.patchFlag|=1024))}else ri(ve)?(ve={default:ve,_ctx:zs},Pe=32):(ve=String(ve),Ne&64?(Pe=16,ve=[pc(ve)]):Pe=8);H.children=ve,H.shapeFlag|=Pe}function P4(...H){const ve={};for(let Pe=0;Pe<H.length;Pe++){const Ne=H[Pe];for(const Ye in Ne)if(Ye==="class")ve.class!==Ne.class&&(ve.class=wg([ve.class,Ne.class]));else if(Ye==="style")ve.style=bg([ve.style,Ne.style]);else if(M0(Ye)){const mt=ve[Ye],G=Ne[Ye];G&&mt!==G&&!(Xa(mt)&&mt.includes(G))&&(ve[Ye]=mt?[].concat(mt,G):G)}else Ye!==""&&(ve[Ye]=Ne[Ye])}return ve}function Yu(H,ve,Pe,Ne=null){Yl(H,ve,7,[Pe,Ne])}const R4=Fx();let D4=0;function I4(H,ve,Pe){const Ne=H.type,Ye=(ve?ve.appContext:H.appContext)||R4,mt={uid:D4++,vnode:H,type:Ne,parent:ve,appContext:Ye,root:null,next:null,subTree:null,effect:null,update:null,scope:new aT(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:ve?ve.provides:Object.create(Ye.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Ox(Ne,Ye),emitsOptions:Tx(Ne,Ye),emit:null,emitted:null,propsDefaults:ji,inheritAttrs:Ne.inheritAttrs,ctx:ji,data:ji,props:ji,attrs:ji,slots:ji,refs:ji,setupState:ji,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:Pe,suspenseId:Pe?Pe.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return mt.ctx={_:mt},mt.root=ve?ve.root:mt,mt.emit=BT.bind(null,mt),H.ce&&H.ce(mt),mt}let ls=null;const vo=()=>ls||zs;let g0,ig;{const H=Q1(),ve=(Pe,Ne)=>{let Ye;return(Ye=H[Pe])||(Ye=H[Pe]=[]),Ye.push(Ne),mt=>{Ye.length>1?Ye.forEach(G=>G(mt)):Ye[0](mt)}};g0=ve("__VUE_INSTANCE_SETTERS__",Pe=>ls=Pe),ig=ve("__VUE_SSR_SETTERS__",Pe=>F0=Pe)}const dd=H=>{const ve=ls;return g0(H),H.scope.on(),()=>{H.scope.off(),g0(ve)}},Sm=()=>{ls&&ls.scope.off(),g0(null)};function Yx(H){return H.vnode.shapeFlag&4}let F0=!1;function _4(H,ve=!1){ve&&ig(ve);const{props:Pe,children:Ne}=H.vnode,Ye=Yx(H);v4(H,Pe,Ye,ve),g4(H,Ne);const mt=Ye?k4(H,ve):void 0;return ve&&ig(!1),mt}function k4(H,ve){const Pe=H.type;H.accessCache=Object.create(null),H.proxy=hd(new Proxy(H.ctx,i4));const{setup:Ne}=Pe;if(Ne){const Ye=H.setupContext=Ne.length>1?z4(H):null,mt=dd(H);xh();const G=Tc(Ne,H,0,[H.props,Ye]);if(bh(),mt(),j1(G)){if(G.then(Sm,Sm),ve)return G.then(U=>{Em(H,U,ve)}).catch(U=>{P0(U,H,0)});H.asyncDep=G}else Em(H,G,ve)}else Xx(H,ve)}function Em(H,ve,Pe){ri(ve)?H.type.__ssrInlineRender?H.ssrRender=ve:H.render=ve:Ji(ve)&&(H.setupState=yx(ve)),Xx(H,Pe)}let Cm;function Xx(H,ve,Pe){const Ne=H.type;if(!H.render){if(!ve&&Cm&&!Ne.render){const Ye=Ne.template||kg(H).template;if(Ye){const{isCustomElement:mt,compilerOptions:G}=H.appContext.config,{delimiters:U,compilerOptions:e}=Ne,g=Bo(Bo({isCustomElement:mt,delimiters:U},G),e);Ne.render=Cm(Ye,g)}}H.render=Ne.render||dl}{const Ye=dd(H);xh();try{o4(H)}finally{bh(),Ye()}}}function F4(H){return H.attrsProxy||(H.attrsProxy=new Proxy(H.attrs,{get(ve,Pe){return el(H,"get","$attrs"),ve[Pe]}}))}function z4(H){const ve=Pe=>{H.exposed=Pe||{}};return{get attrs(){return F4(H)},slots:H.slots,emit:H.emit,expose:ve}}function z0(H){if(H.exposed)return H.exposeProxy||(H.exposeProxy=new Proxy(yx(hd(H.exposed)),{get(ve,Pe){if(Pe in ve)return ve[Pe];if(Pe in Kv)return Kv[Pe](H)},has(ve,Pe){return Pe in ve||Pe in Kv}}))}function O4(H,ve=!0){return ri(H)?H.displayName||H.name:H.name||ve&&H.__name}function B4(H){return ri(H)&&"__vccOpts"in H}const bn=(H,ve)=>CT(H,ve,F0);function Jn(H,ve,Pe){const Ne=arguments.length;return Ne===2?Ji(ve)&&!Xa(ve)?ag(ve)?gi(H,null,[ve]):gi(H,ve):gi(H,null,ve):(Ne>3?Pe=Array.prototype.slice.call(arguments,2):Ne===3&&ag(Pe)&&(Pe=[Pe]),gi(H,ve,Pe))}const N4="3.4.21";/**
* @vue/runtime-dom v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const U4="http://www.w3.org/2000/svg",V4="http://www.w3.org/1998/Math/MathML",yc=typeof document!="undefined"?document:null,Lm=yc&&yc.createElement("template"),H4={insert:(H,ve,Pe)=>{ve.insertBefore(H,Pe||null)},remove:H=>{const ve=H.parentNode;ve&&ve.removeChild(H)},createElement:(H,ve,Pe,Ne)=>{const Ye=ve==="svg"?yc.createElementNS(U4,H):ve==="mathml"?yc.createElementNS(V4,H):yc.createElement(H,Pe?{is:Pe}:void 0);return H==="select"&&Ne&&Ne.multiple!=null&&Ye.setAttribute("multiple",Ne.multiple),Ye},createText:H=>yc.createTextNode(H),createComment:H=>yc.createComment(H),setText:(H,ve)=>{H.nodeValue=ve},setElementText:(H,ve)=>{H.textContent=ve},parentNode:H=>H.parentNode,nextSibling:H=>H.nextSibling,querySelector:H=>yc.querySelector(H),setScopeId(H,ve){H.setAttribute(ve,"")},insertStaticContent(H,ve,Pe,Ne,Ye,mt){const G=Pe?Pe.previousSibling:ve.lastChild;if(Ye&&(Ye===mt||Ye.nextSibling))for(;ve.insertBefore(Ye.cloneNode(!0),Pe),!(Ye===mt||!(Ye=Ye.nextSibling)););else{Lm.innerHTML=Ne==="svg"?`<svg>${H}</svg>`:Ne==="mathml"?`<math>${H}</math>`:H;const U=Lm.content;if(Ne==="svg"||Ne==="mathml"){const e=U.firstChild;for(;e.firstChild;)U.appendChild(e.firstChild);U.removeChild(e)}ve.insertBefore(U,Pe)}return[G?G.nextSibling:ve.firstChild,Pe?Pe.previousSibling:ve.lastChild]}},fc="transition",Vv="animation",ld=Symbol("_vtc"),gh=(H,{slots:ve})=>Jn(qT,G4(H),ve);gh.displayName="Transition";const Zx={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};gh.props=Bo({},Lx,Zx);const rh=(H,ve=[])=>{Xa(H)?H.forEach(Pe=>Pe(...ve)):H&&H(...ve)},Pm=H=>H?Xa(H)?H.some(ve=>ve.length>1):H.length>1:!1;function G4(H){const ve={};for(const d in H)d in Zx||(ve[d]=H[d]);if(H.css===!1)return ve;const{name:Pe="v",type:Ne,duration:Ye,enterFromClass:mt=`${Pe}-enter-from`,enterActiveClass:G=`${Pe}-enter-active`,enterToClass:U=`${Pe}-enter-to`,appearFromClass:e=mt,appearActiveClass:g=G,appearToClass:L=U,leaveFromClass:a=`${Pe}-leave-from`,leaveActiveClass:C=`${Pe}-leave-active`,leaveToClass:A=`${Pe}-leave-to`}=H,v=W4(Ye),p=v&&v[0],r=v&&v[1],{onBeforeEnter:t,onEnter:s,onEnterCancelled:n,onLeave:f,onLeaveCancelled:u,onBeforeAppear:l=t,onAppear:m=s,onAppearCancelled:h=n}=ve,M=(d,b,w)=>{nh(d,b?L:U),nh(d,b?g:G),w&&w()},c=(d,b)=>{d._isLeaving=!1,nh(d,a),nh(d,A),nh(d,C),b&&b()},i=d=>(b,w)=>{const E=d?m:s,y=()=>M(b,d,w);rh(E,[b,y]),Rm(()=>{nh(b,d?e:mt),cc(b,d?L:U),Pm(E)||Dm(b,Ne,p,y)})};return Bo(ve,{onBeforeEnter(d){rh(t,[d]),cc(d,mt),cc(d,G)},onBeforeAppear(d){rh(l,[d]),cc(d,e),cc(d,g)},onEnter:i(!1),onAppear:i(!0),onLeave(d,b){d._isLeaving=!0;const w=()=>c(d,b);cc(d,a),Z4(),cc(d,C),Rm(()=>{!d._isLeaving||(nh(d,a),cc(d,A),Pm(f)||Dm(d,Ne,r,w))}),rh(f,[d,w])},onEnterCancelled(d){M(d,!1),rh(n,[d])},onAppearCancelled(d){M(d,!0),rh(h,[d])},onLeaveCancelled(d){c(d),rh(u,[d])}})}function W4(H){if(H==null)return null;if(Ji(H))return[Sp(H.enter),Sp(H.leave)];{const ve=Sp(H);return[ve,ve]}}function Sp(H){return Qw(H)}function cc(H,ve){ve.split(/\s+/).forEach(Pe=>Pe&&H.classList.add(Pe)),(H[ld]||(H[ld]=new Set)).add(ve)}function nh(H,ve){ve.split(/\s+/).forEach(Ne=>Ne&&H.classList.remove(Ne));const Pe=H[ld];Pe&&(Pe.delete(ve),Pe.size||(H[ld]=void 0))}function Rm(H){requestAnimationFrame(()=>{requestAnimationFrame(H)})}let Y4=0;function Dm(H,ve,Pe,Ne){const Ye=H._endId=++Y4,mt=()=>{Ye===H._endId&&Ne()};if(Pe)return setTimeout(mt,Pe);const{type:G,timeout:U,propCount:e}=X4(H,ve);if(!G)return Ne();const g=G+"end";let L=0;const a=()=>{H.removeEventListener(g,C),mt()},C=A=>{A.target===H&&++L>=e&&a()};setTimeout(()=>{L<e&&a()},U+1),H.addEventListener(g,C)}function X4(H,ve){const Pe=window.getComputedStyle(H),Ne=v=>(Pe[v]||"").split(", "),Ye=Ne(`${fc}Delay`),mt=Ne(`${fc}Duration`),G=Im(Ye,mt),U=Ne(`${Vv}Delay`),e=Ne(`${Vv}Duration`),g=Im(U,e);let L=null,a=0,C=0;ve===fc?G>0&&(L=fc,a=G,C=mt.length):ve===Vv?g>0&&(L=Vv,a=g,C=e.length):(a=Math.max(G,g),L=a>0?G>g?fc:Vv:null,C=L?L===fc?mt.length:e.length:0);const A=L===fc&&/\b(transform|all)(,|$)/.test(Ne(`${fc}Property`).toString());return{type:L,timeout:a,propCount:C,hasTransform:A}}function Im(H,ve){for(;H.length<ve.length;)H=H.concat(H);return Math.max(...ve.map((Pe,Ne)=>_m(Pe)+_m(H[Ne])))}function _m(H){return H==="auto"?0:Number(H.slice(0,-1).replace(",","."))*1e3}function Z4(){return document.body.offsetHeight}function j4(H,ve,Pe){const Ne=H[ld];Ne&&(ve=(ve?[ve,...Ne]:[...Ne]).join(" ")),ve==null?H.removeAttribute("class"):Pe?H.setAttribute("class",ve):H.className=ve}const km=Symbol("_vod"),K4=Symbol("_vsh"),J4=Symbol(""),Q4=/(^|;)\s*display\s*:/;function $4(H,ve,Pe){const Ne=H.style,Ye=Eo(Pe);let mt=!1;if(Pe&&!Ye){if(ve)if(Eo(ve))for(const G of ve.split(";")){const U=G.slice(0,G.indexOf(":")).trim();Pe[U]==null&&u0(Ne,U,"")}else for(const G in ve)Pe[G]==null&&u0(Ne,G,"");for(const G in Pe)G==="display"&&(mt=!0),u0(Ne,G,Pe[G])}else if(Ye){if(ve!==Pe){const G=Ne[J4];G&&(Pe+=";"+G),Ne.cssText=Pe,mt=Q4.test(Pe)}}else ve&&H.removeAttribute("style");km in H&&(H[km]=mt?Ne.display:"",H[K4]&&(Ne.display="none"))}const Fm=/\s*!important$/;function u0(H,ve,Pe){if(Xa(Pe))Pe.forEach(Ne=>u0(H,ve,Ne));else if(Pe==null&&(Pe=""),ve.startsWith("--"))H.setProperty(ve,Pe);else{const Ne=q4(H,ve);Fm.test(Pe)?H.setProperty(yv(Ne),Pe.replace(Fm,""),"important"):H[Ne]=Pe}}const zm=["Webkit","Moz","ms"],Ep={};function q4(H,ve){const Pe=Ep[ve];if(Pe)return Pe;let Ne=Ku(ve);if(Ne!=="filter"&&Ne in H)return Ep[ve]=Ne;Ne=C0(Ne);for(let Ye=0;Ye<zm.length;Ye++){const mt=zm[Ye]+Ne;if(mt in H)return Ep[ve]=mt}return ve}const Om="http://www.w3.org/1999/xlink";function eA(H,ve,Pe,Ne,Ye){if(Ne&&ve.startsWith("xlink:"))Pe==null?H.removeAttributeNS(Om,ve.slice(6,ve.length)):H.setAttributeNS(Om,ve,Pe);else{const mt=nT(ve);Pe==null||mt&&!$1(Pe)?H.removeAttribute(ve):H.setAttribute(ve,mt?"":Pe)}}function tA(H,ve,Pe,Ne,Ye,mt,G){if(ve==="innerHTML"||ve==="textContent"){Ne&&G(Ne,Ye,mt),H[ve]=Pe==null?"":Pe;return}const U=H.tagName;if(ve==="value"&&U!=="PROGRESS"&&!U.includes("-")){const g=U==="OPTION"?H.getAttribute("value")||"":H.value,L=Pe==null?"":Pe;(g!==L||!("_value"in H))&&(H.value=L),Pe==null&&H.removeAttribute(ve),H._value=Pe;return}let e=!1;if(Pe===""||Pe==null){const g=typeof H[ve];g==="boolean"?Pe=$1(Pe):Pe==null&&g==="string"?(Pe="",e=!0):g==="number"&&(Pe=0,e=!0)}try{H[ve]=Pe}catch{}e&&H.removeAttribute(ve)}function rA(H,ve,Pe,Ne){H.addEventListener(ve,Pe,Ne)}function nA(H,ve,Pe,Ne){H.removeEventListener(ve,Pe,Ne)}const Bm=Symbol("_vei");function aA(H,ve,Pe,Ne,Ye=null){const mt=H[Bm]||(H[Bm]={}),G=mt[ve];if(Ne&&G)G.value=Ne;else{const[U,e]=iA(ve);if(Ne){const g=mt[ve]=lA(Ne,Ye);rA(H,U,g,e)}else G&&(nA(H,U,G,e),mt[ve]=void 0)}}const Nm=/(?:Once|Passive|Capture)$/;function iA(H){let ve;if(Nm.test(H)){ve={};let Ne;for(;Ne=H.match(Nm);)H=H.slice(0,H.length-Ne[0].length),ve[Ne[0].toLowerCase()]=!0}return[H[2]===":"?H.slice(3):yv(H.slice(2)),ve]}let Cp=0;const oA=Promise.resolve(),sA=()=>Cp||(oA.then(()=>Cp=0),Cp=Date.now());function lA(H,ve){const Pe=Ne=>{if(!Ne._vts)Ne._vts=Date.now();else if(Ne._vts<=Pe.attached)return;Yl(uA(Ne,Pe.value),ve,5,[Ne])};return Pe.value=H,Pe.attached=sA(),Pe}function uA(H,ve){if(Xa(ve)){const Pe=H.stopImmediatePropagation;return H.stopImmediatePropagation=()=>{Pe.call(H),H._stopped=!0},ve.map(Ne=>Ye=>!Ye._stopped&&Ne&&Ne(Ye))}else return ve}const Um=H=>H.charCodeAt(0)===111&&H.charCodeAt(1)===110&&H.charCodeAt(2)>96&&H.charCodeAt(2)<123,fA=(H,ve,Pe,Ne,Ye,mt,G,U,e)=>{const g=Ye==="svg";ve==="class"?j4(H,Ne,g):ve==="style"?$4(H,Pe,Ne):M0(ve)?yg(ve)||aA(H,ve,Pe,Ne,G):(ve[0]==="."?(ve=ve.slice(1),!0):ve[0]==="^"?(ve=ve.slice(1),!1):cA(H,ve,Ne,g))?tA(H,ve,Ne,mt,G,U,e):(ve==="true-value"?H._trueValue=Ne:ve==="false-value"&&(H._falseValue=Ne),eA(H,ve,Ne,g))};function cA(H,ve,Pe,Ne){if(Ne)return!!(ve==="innerHTML"||ve==="textContent"||ve in H&&Um(ve)&&ri(Pe));if(ve==="spellcheck"||ve==="draggable"||ve==="translate"||ve==="form"||ve==="list"&&H.tagName==="INPUT"||ve==="type"&&H.tagName==="TEXTAREA")return!1;if(ve==="width"||ve==="height"){const Ye=H.tagName;if(Ye==="IMG"||Ye==="VIDEO"||Ye==="CANVAS"||Ye==="SOURCE")return!1}return Um(ve)&&Eo(Pe)?!1:ve in H}const hA=Bo({patchProp:fA},H4);let Vm;function vA(){return Vm||(Vm=m4(hA))}const dA=(...H)=>{const ve=vA().createApp(...H),{mount:Pe}=ve;return ve.mount=Ne=>{const Ye=gA(Ne);if(!Ye)return;const mt=ve._component;!ri(mt)&&!mt.render&&!mt.template&&(mt.template=Ye.innerHTML),Ye.innerHTML="";const G=Pe(Ye,!1,pA(Ye));return Ye instanceof Element&&(Ye.removeAttribute("v-cloak"),Ye.setAttribute("data-v-app","")),G},ve};function pA(H){if(H instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&H instanceof MathMLElement)return"mathml"}function gA(H){return Eo(H)?document.querySelector(H):H}function pd(H,ve,Pe,Ne){return Object.defineProperty(H,ve,{get:Pe,set:Ne,enumerable:!0}),H}const Ec=Na(!1);let og;function yA(H,ve){const Pe=/(edg|edge|edga|edgios)\/([\w.]+)/.exec(H)||/(opr)[\/]([\w.]+)/.exec(H)||/(vivaldi)[\/]([\w.]+)/.exec(H)||/(chrome|crios)[\/]([\w.]+)/.exec(H)||/(version)(applewebkit)[\/]([\w.]+).*(safari)[\/]([\w.]+)/.exec(H)||/(webkit)[\/]([\w.]+).*(version)[\/]([\w.]+).*(safari)[\/]([\w.]+)/.exec(H)||/(firefox|fxios)[\/]([\w.]+)/.exec(H)||/(webkit)[\/]([\w.]+)/.exec(H)||/(opera)(?:.*version|)[\/]([\w.]+)/.exec(H)||[];return{browser:Pe[5]||Pe[3]||Pe[1]||"",version:Pe[2]||Pe[4]||"0",versionNumber:Pe[4]||Pe[2]||"0",platform:ve[0]||""}}function mA(H){return/(ipad)/.exec(H)||/(ipod)/.exec(H)||/(windows phone)/.exec(H)||/(iphone)/.exec(H)||/(kindle)/.exec(H)||/(silk)/.exec(H)||/(android)/.exec(H)||/(win)/.exec(H)||/(mac)/.exec(H)||/(linux)/.exec(H)||/(cros)/.exec(H)||/(playbook)/.exec(H)||/(bb)/.exec(H)||/(blackberry)/.exec(H)||[]}const jx="ontouchstart"in window||window.navigator.maxTouchPoints>0;function xA(H){const ve=H.toLowerCase(),Pe=mA(ve),Ne=yA(ve,Pe),Ye={};Ne.browser&&(Ye[Ne.browser]=!0,Ye.version=Ne.version,Ye.versionNumber=parseInt(Ne.versionNumber,10)),Ne.platform&&(Ye[Ne.platform]=!0);const mt=Ye.android||Ye.ios||Ye.bb||Ye.blackberry||Ye.ipad||Ye.iphone||Ye.ipod||Ye.kindle||Ye.playbook||Ye.silk||Ye["windows phone"];if(mt===!0||ve.indexOf("mobile")!==-1?Ye.mobile=!0:Ye.desktop=!0,Ye["windows phone"]&&(Ye.winphone=!0,delete Ye["windows phone"]),Ye.edga||Ye.edgios?(Ye.edge=!0,Ne.browser="edge"):Ye.crios?(Ye.chrome=!0,Ne.browser="chrome"):Ye.fxios?(Ye.firefox=!0,Ne.browser="firefox"):(Ye.ipod||Ye.ipad||Ye.iphone)&&(Ye.ios=!0),Ye.vivaldi&&(Ne.browser="vivaldi",Ye.vivaldi=!0),(Ye.chrome||Ye.opr||Ye.safari||Ye.vivaldi||Ye.mobile===!0&&Ye.ios!==!0&&mt!==!0)&&(Ye.webkit=!0),Ye.edg?(Ne.browser="edgechromium",Ye.edgeChromium=!0):Ye.opr&&(Ne.browser="opera",Ye.opera=!0),Ye.safari&&(Ye.blackberry||Ye.bb?(Ne.browser="blackberry",Ye.blackberry=!0):Ye.playbook?(Ne.browser="playbook",Ye.playbook=!0):Ye.android?(Ne.browser="android",Ye.android=!0):Ye.kindle?(Ne.browser="kindle",Ye.kindle=!0):Ye.silk&&(Ne.browser="silk",Ye.silk=!0)),Ye.name=Ne.browser,Ye.platform=Ne.platform,ve.indexOf("electron")!==-1)Ye.electron=!0;else if(document.location.href.indexOf("-extension://")!==-1)Ye.bex=!0;else{if(window.Capacitor!==void 0?(Ye.capacitor=!0,Ye.nativeMobile=!0,Ye.nativeMobileWrapper="capacitor"):(window._cordovaNative!==void 0||window.cordova!==void 0)&&(Ye.cordova=!0,Ye.nativeMobile=!0,Ye.nativeMobileWrapper="cordova"),Ec.value===!0&&(og={is:{...Ye}}),jx===!0&&Ye.mac===!0&&(Ye.desktop===!0&&Ye.safari===!0||Ye.nativeMobile===!0&&Ye.android!==!0&&Ye.ios!==!0&&Ye.ipad!==!0)){delete Ye.mac,delete Ye.desktop;const G=Math.min(window.innerHeight,window.innerWidth)>414?"ipad":"iphone";Object.assign(Ye,{mobile:!0,ios:!0,platform:G,[G]:!0})}Ye.mobile!==!0&&window.navigator.userAgentData&&window.navigator.userAgentData.mobile&&(delete Ye.desktop,Ye.mobile=!0)}return Ye}const Hm=navigator.userAgent||navigator.vendor||window.opera,bA={has:{touch:!1,webStorage:!1},within:{iframe:!1}},Ki={userAgent:Hm,is:xA(Hm),has:{touch:jx},within:{iframe:window.self!==window.top}},y0={install(H){const{$q:ve}=H;Ec.value===!0?(H.onSSRHydrated.push(()=>{Object.assign(ve.platform,Ki),Ec.value=!1}),ve.platform=mv(this)):ve.platform=this}};{let H;pd(Ki.has,"webStorage",()=>{if(H!==void 0)return H;try{if(window.localStorage)return H=!0,!0}catch{}return H=!1,!1}),Object.assign(y0,Ki),Ec.value===!0&&(Object.assign(y0,og,bA),og=null)}var O0=(H,ve)=>{const Pe=mv(H);for(const Ne in H)pd(ve,Ne,()=>Pe[Ne],Ye=>{Pe[Ne]=Ye});return ve};const ss={hasPassive:!1,passiveCapture:!0,notPassiveCapture:!0};try{const H=Object.defineProperty({},"passive",{get(){Object.assign(ss,{hasPassive:!0,passive:{passive:!0},notPassive:{passive:!1},passiveCapture:{passive:!0,capture:!0},notPassiveCapture:{passive:!1,capture:!0}})}});window.addEventListener("qtest",null,H),window.removeEventListener("qtest",null,H)}catch{}function yh(){}function wA(H){return H.button===0}function hv(H){return H.touches&&H.touches[0]?H=H.touches[0]:H.changedTouches&&H.changedTouches[0]?H=H.changedTouches[0]:H.targetTouches&&H.targetTouches[0]&&(H=H.targetTouches[0]),{top:H.clientY,left:H.clientX}}function TA(H){if(H.path)return H.path;if(H.composedPath)return H.composedPath();const ve=[];let Pe=H.target;for(;Pe;){if(ve.push(Pe),Pe.tagName==="HTML")return ve.push(document),ve.push(window),ve;Pe=Pe.parentElement}}function bu(H){H.stopPropagation()}function Fs(H){H.cancelable!==!1&&H.preventDefault()}function Oo(H){H.cancelable!==!1&&H.preventDefault(),H.stopPropagation()}function Lp(H,ve){if(H===void 0||ve===!0&&H.__dragPrevented===!0)return;const Pe=ve===!0?Ne=>{Ne.__dragPrevented=!0,Ne.addEventListener("dragstart",Fs,ss.notPassiveCapture)}:Ne=>{delete Ne.__dragPrevented,Ne.removeEventListener("dragstart",Fs,ss.notPassiveCapture)};H.querySelectorAll("a, img").forEach(Pe)}function lh(H,ve,Pe){const Ne=`__q_${ve}_evt`;H[Ne]=H[Ne]!==void 0?H[Ne].concat(Pe):Pe,Pe.forEach(Ye=>{Ye[0].addEventListener(Ye[1],H[Ye[2]],ss[Ye[3]])})}function qv(H,ve){const Pe=`__q_${ve}_evt`;H[Pe]!==void 0&&(H[Pe].forEach(Ne=>{Ne[0].removeEventListener(Ne[1],H[Ne[2]],ss[Ne[3]])}),H[Pe]=void 0)}function Bg(H,ve=250,Pe){let Ne=null;function Ye(){const mt=arguments,G=()=>{Ne=null,Pe!==!0&&H.apply(this,mt)};Ne!==null?clearTimeout(Ne):Pe===!0&&H.apply(this,mt),Ne=setTimeout(G,ve)}return Ye.cancel=()=>{Ne!==null&&clearTimeout(Ne)},Ye}const Pp=["sm","md","lg","xl"],{passive:Gm}=ss;var AA=O0({width:0,height:0,name:"xs",sizes:{sm:600,md:1024,lg:1440,xl:1920},lt:{sm:!0,md:!0,lg:!0,xl:!0},gt:{xs:!1,sm:!1,md:!1,lg:!1},xs:!0,sm:!1,md:!1,lg:!1,xl:!1},{setSizes:yh,setDebounce:yh,install({$q:H,onSSRHydrated:ve}){if(H.screen=this,this.__installed===!0){H.config.screen!==void 0&&(H.config.screen.bodyClasses===!1?document.body.classList.remove(`screen--${this.name}`):this.__update(!0));return}const{visualViewport:Pe}=window,Ne=Pe||window,Ye=document.scrollingElement||document.documentElement,mt=Pe===void 0||Ki.is.mobile===!0?()=>[Math.max(window.innerWidth,Ye.clientWidth),Math.max(window.innerHeight,Ye.clientHeight)]:()=>[Pe.width*Pe.scale+window.innerWidth-Ye.clientWidth,Pe.height*Pe.scale+window.innerHeight-Ye.clientHeight],G=H.config.screen!==void 0&&H.config.screen.bodyClasses===!0;this.__update=a=>{const[C,A]=mt();if(A!==this.height&&(this.height=A),C!==this.width)this.width=C;else if(a!==!0)return;let v=this.sizes;this.gt.xs=C>=v.sm,this.gt.sm=C>=v.md,this.gt.md=C>=v.lg,this.gt.lg=C>=v.xl,this.lt.sm=C<v.sm,this.lt.md=C<v.md,this.lt.lg=C<v.lg,this.lt.xl=C<v.xl,this.xs=this.lt.sm,this.sm=this.gt.xs===!0&&this.lt.md===!0,this.md=this.gt.sm===!0&&this.lt.lg===!0,this.lg=this.gt.md===!0&&this.lt.xl===!0,this.xl=this.gt.lg,v=this.xs===!0&&"xs"||this.sm===!0&&"sm"||this.md===!0&&"md"||this.lg===!0&&"lg"||"xl",v!==this.name&&(G===!0&&(document.body.classList.remove(`screen--${this.name}`),document.body.classList.add(`screen--${v}`)),this.name=v)};let U,e={},g=16;this.setSizes=a=>{Pp.forEach(C=>{a[C]!==void 0&&(e[C]=a[C])})},this.setDebounce=a=>{g=a};const L=()=>{const a=getComputedStyle(document.body);a.getPropertyValue("--q-size-sm")&&Pp.forEach(C=>{this.sizes[C]=parseInt(a.getPropertyValue(`--q-size-${C}`),10)}),this.setSizes=C=>{Pp.forEach(A=>{C[A]&&(this.sizes[A]=C[A])}),this.__update(!0)},this.setDebounce=C=>{U!==void 0&&Ne.removeEventListener("resize",U,Gm),U=C>0?Bg(this.__update,C):this.__update,Ne.addEventListener("resize",U,Gm)},this.setDebounce(g),Object.keys(e).length!==0?(this.setSizes(e),e=void 0):this.__update(),G===!0&&this.name==="xs"&&document.body.classList.add("screen--xs")};Ec.value===!0?ve.push(L):L()}});const xs=O0({isActive:!1,mode:!1},{__media:void 0,set(H){xs.mode=H,H==="auto"?(xs.__media===void 0&&(xs.__media=window.matchMedia("(prefers-color-scheme: dark)"),xs.__updateMedia=()=>{xs.set("auto")},xs.__media.addListener(xs.__updateMedia)),H=xs.__media.matches):xs.__media!==void 0&&(xs.__media.removeListener(xs.__updateMedia),xs.__media=void 0),xs.isActive=H===!0,document.body.classList.remove(`body--${H===!0?"light":"dark"}`),document.body.classList.add(`body--${H===!0?"dark":"light"}`)},toggle(){xs.set(xs.isActive===!1)},install({$q:H,ssrContext:ve}){const{dark:Pe}=H.config;H.dark=this,this.__installed!==!0&&this.set(Pe!==void 0?Pe:!1)}}),Kx=()=>!0;function MA(H){return typeof H=="string"&&H!==""&&H!=="/"&&H!=="#/"}function SA(H){return H.startsWith("#")===!0&&(H=H.substring(1)),H.startsWith("/")===!1&&(H="/"+H),H.endsWith("/")===!0&&(H=H.substring(0,H.length-1)),"#"+H}function EA(H){if(H.backButtonExit===!1)return()=>!1;if(H.backButtonExit==="*")return Kx;const ve=["#/"];return Array.isArray(H.backButtonExit)===!0&&ve.push(...H.backButtonExit.filter(MA).map(SA)),()=>ve.includes(window.location.hash)}var sg={__history:[],add:yh,remove:yh,install({$q:H}){if(this.__installed===!0)return;const{cordova:ve,capacitor:Pe}=Ki.is;if(ve!==!0&&Pe!==!0)return;const Ne=H.config[ve===!0?"cordova":"capacitor"];if(Ne!==void 0&&Ne.backButton===!1||Pe===!0&&(window.Capacitor===void 0||window.Capacitor.Plugins.App===void 0))return;this.add=G=>{G.condition===void 0&&(G.condition=Kx),this.__history.push(G)},this.remove=G=>{const U=this.__history.indexOf(G);U>=0&&this.__history.splice(U,1)};const Ye=EA(Object.assign({backButtonExit:!0},Ne)),mt=()=>{if(this.__history.length){const G=this.__history[this.__history.length-1];G.condition()===!0&&(this.__history.pop(),G.handler())}else Ye()===!0?navigator.app.exitApp():window.history.back()};ve===!0?document.addEventListener("deviceready",()=>{document.addEventListener("backbutton",mt,!1)}):window.Capacitor.Plugins.App.addListener("backButton",mt)}},Wm={isoName:"en-US",nativeName:"English (US)",label:{clear:"Clear",ok:"OK",cancel:"Cancel",close:"Close",set:"Set",select:"Select",reset:"Reset",remove:"Remove",update:"Update",create:"Create",search:"Search",filter:"Filter",refresh:"Refresh",expand:H=>H?`Expand "${H}"`:"Expand",collapse:H=>H?`Collapse "${H}"`:"Collapse"},date:{days:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),daysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),firstDayOfWeek:0,format24h:!1,pluralDay:"days"},table:{noData:"No data available",noResults:"No matching records found",loading:"Loading...",selectedRecords:H=>H===1?"1 record selected.":(H===0?"No":H)+" records selected.",recordsPerPage:"Records per page:",allRows:"All",pagination:(H,ve,Pe)=>H+"-"+ve+" of "+Pe,columns:"Columns"},editor:{url:"URL",bold:"Bold",italic:"Italic",strikethrough:"Strikethrough",underline:"Underline",unorderedList:"Unordered List",orderedList:"Ordered List",subscript:"Subscript",superscript:"Superscript",hyperlink:"Hyperlink",toggleFullscreen:"Toggle Fullscreen",quote:"Quote",left:"Left align",center:"Center align",right:"Right align",justify:"Justify align",print:"Print",outdent:"Decrease indentation",indent:"Increase indentation",removeFormat:"Remove formatting",formatting:"Formatting",fontSize:"Font Size",align:"Align",hr:"Insert Horizontal Rule",undo:"Undo",redo:"Redo",heading1:"Heading 1",heading2:"Heading 2",heading3:"Heading 3",heading4:"Heading 4",heading5:"Heading 5",heading6:"Heading 6",paragraph:"Paragraph",code:"Code",size1:"Very small",size2:"A bit small",size3:"Normal",size4:"Medium-large",size5:"Big",size6:"Very big",size7:"Maximum",defaultFont:"Default Font",viewSource:"View Source"},tree:{noNodes:"No nodes available",noResults:"No matching nodes found"}};function Ym(){const H=Array.isArray(navigator.languages)===!0&&navigator.languages.length!==0?navigator.languages[0]:navigator.language;if(typeof H=="string")return H.split(/[-_]/).map((ve,Pe)=>Pe===0?ve.toLowerCase():Pe>1||ve.length<4?ve.toUpperCase():ve[0].toUpperCase()+ve.slice(1).toLowerCase()).join("-")}const xu=O0({__langPack:{}},{getLocale:Ym,set(H=Wm,ve){const Pe={...H,rtl:H.rtl===!0,getLocale:Ym};{if(Pe.set=xu.set,xu.__langConfig===void 0||xu.__langConfig.noHtmlAttrs!==!0){const Ne=document.documentElement;Ne.setAttribute("dir",Pe.rtl===!0?"rtl":"ltr"),Ne.setAttribute("lang",Pe.isoName)}Object.assign(xu.__langPack,Pe),xu.props=Pe,xu.isoName=Pe.isoName,xu.nativeName=Pe.nativeName}},install({$q:H,lang:ve,ssrContext:Pe}){H.lang=xu.__langPack,xu.__langConfig=H.config.lang,this.__installed===!0?ve!==void 0&&this.set(ve):this.set(ve||Wm)}});function CA(H,ve,Pe=document.body){if(typeof H!="string")throw new TypeError("Expected a string as propName");if(typeof ve!="string")throw new TypeError("Expected a string as value");if(!(Pe instanceof Element))throw new TypeError("Expected a DOM element");Pe.style.setProperty(`--q-${H}`,ve)}let Jx=!1;function LA(H){Jx=H.isComposing===!0}function Qx(H){return Jx===!0||H!==Object(H)||H.isComposing===!0||H.qKeyEvent===!0}function mh(H,ve){return Qx(H)===!0?!1:[].concat(ve).includes(H.keyCode)}function $x(H){if(H.ios===!0)return"ios";if(H.android===!0)return"android"}function PA({is:H,has:ve,within:Pe},Ne){const Ye=[H.desktop===!0?"desktop":"mobile",`${ve.touch===!1?"no-":""}touch`];if(H.mobile===!0){const mt=$x(H);mt!==void 0&&Ye.push("platform-"+mt)}if(H.nativeMobile===!0){const mt=H.nativeMobileWrapper;Ye.push(mt),Ye.push("native-mobile"),H.ios===!0&&(Ne[mt]===void 0||Ne[mt].iosStatusBarPadding!==!1)&&Ye.push("q-ios-padding")}else H.electron===!0?Ye.push("electron"):H.bex===!0&&Ye.push("bex");return Pe.iframe===!0&&Ye.push("within-iframe"),Ye}function RA(){const{is:H}=Ki,ve=document.body.className,Pe=new Set(ve.replace(/ {2}/g," ").split(" "));if(H.nativeMobile!==!0&&H.electron!==!0&&H.bex!==!0){if(H.desktop===!0)Pe.delete("mobile"),Pe.delete("platform-ios"),Pe.delete("platform-android"),Pe.add("desktop");else if(H.mobile===!0){Pe.delete("desktop"),Pe.add("mobile"),Pe.delete("platform-ios"),Pe.delete("platform-android");const Ye=$x(H);Ye!==void 0&&Pe.add(`platform-${Ye}`)}}Ki.has.touch===!0&&(Pe.delete("no-touch"),Pe.add("touch")),Ki.within.iframe===!0&&Pe.add("within-iframe");const Ne=Array.from(Pe).join(" ");ve!==Ne&&(document.body.className=Ne)}function DA(H){for(const ve in H)CA(ve,H[ve])}var IA={install(H){if(this.__installed!==!0){if(Ec.value===!0)RA();else{const{$q:ve}=H;ve.config.brand!==void 0&&DA(ve.config.brand);const Pe=PA(Ki,ve.config);document.body.classList.add.apply(document.body.classList,Pe)}Ki.is.ios===!0&&document.body.addEventListener("touchstart",yh),window.addEventListener("keydown",LA,!0)}}},_A={name:"material-icons",type:{positive:"check_circle",negative:"warning",info:"info",warning:"priority_high"},arrow:{up:"arrow_upward",right:"arrow_forward",down:"arrow_downward",left:"arrow_back",dropdown:"arrow_drop_down"},chevron:{left:"chevron_left",right:"chevron_right"},colorPicker:{spectrum:"gradient",tune:"tune",palette:"style"},pullToRefresh:{icon:"refresh"},carousel:{left:"chevron_left",right:"chevron_right",up:"keyboard_arrow_up",down:"keyboard_arrow_down",navigationIcon:"lens"},chip:{remove:"cancel",selected:"check"},datetime:{arrowLeft:"chevron_left",arrowRight:"chevron_right",now:"access_time",today:"today"},editor:{bold:"format_bold",italic:"format_italic",strikethrough:"strikethrough_s",underline:"format_underlined",unorderedList:"format_list_bulleted",orderedList:"format_list_numbered",subscript:"vertical_align_bottom",superscript:"vertical_align_top",hyperlink:"link",toggleFullscreen:"fullscreen",quote:"format_quote",left:"format_align_left",center:"format_align_center",right:"format_align_right",justify:"format_align_justify",print:"print",outdent:"format_indent_decrease",indent:"format_indent_increase",removeFormat:"format_clear",formatting:"text_format",fontSize:"format_size",align:"format_align_left",hr:"remove",undo:"undo",redo:"redo",heading:"format_size",code:"code",size:"format_size",font:"font_download",viewSource:"code"},expansionItem:{icon:"keyboard_arrow_down",denseIcon:"arrow_drop_down"},fab:{icon:"add",activeIcon:"close"},field:{clear:"cancel",error:"error"},pagination:{first:"first_page",prev:"keyboard_arrow_left",next:"keyboard_arrow_right",last:"last_page"},rating:{icon:"grade"},stepper:{done:"check",active:"edit",error:"warning"},tabs:{left:"chevron_left",right:"chevron_right",up:"keyboard_arrow_up",down:"keyboard_arrow_down"},table:{arrowUp:"arrow_upward",warning:"warning",firstPage:"first_page",prevPage:"chevron_left",nextPage:"chevron_right",lastPage:"last_page"},tree:{icon:"play_arrow"},uploader:{done:"done",clear:"clear",add:"add_box",upload:"cloud_upload",removeQueue:"clear_all",removeUploaded:"done_all"}};const m0=O0({iconMapFn:null,__icons:{}},{set(H,ve){const Pe={...H,rtl:H.rtl===!0};Pe.set=m0.set,Object.assign(m0.__icons,Pe)},install({$q:H,iconSet:ve,ssrContext:Pe}){H.config.iconMapFn!==void 0&&(this.iconMapFn=H.config.iconMapFn),H.iconSet=this.__icons,pd(H,"iconMapFn",()=>this.iconMapFn,Ne=>{this.iconMapFn=Ne}),this.__installed===!0?ve!==void 0&&this.set(ve):this.set(ve||_A)}}),kA="_q_",FA="_q_l_",zA="_q_pc_",OA="_q_fo_",Qh=()=>{},x0={};let qx=!1;function BA(){qx=!0}function xc(H,ve){if(H===ve)return!0;if(H!==null&&ve!==null&&typeof H=="object"&&typeof ve=="object"){if(H.constructor!==ve.constructor)return!1;let Pe,Ne;if(H.constructor===Array){if(Pe=H.length,Pe!==ve.length)return!1;for(Ne=Pe;Ne--!==0;)if(xc(H[Ne],ve[Ne])!==!0)return!1;return!0}if(H.constructor===Map){if(H.size!==ve.size)return!1;let mt=H.entries();for(Ne=mt.next();Ne.done!==!0;){if(ve.has(Ne.value[0])!==!0)return!1;Ne=mt.next()}for(mt=H.entries(),Ne=mt.next();Ne.done!==!0;){if(xc(Ne.value[1],ve.get(Ne.value[0]))!==!0)return!1;Ne=mt.next()}return!0}if(H.constructor===Set){if(H.size!==ve.size)return!1;const mt=H.entries();for(Ne=mt.next();Ne.done!==!0;){if(ve.has(Ne.value[0])!==!0)return!1;Ne=mt.next()}return!0}if(H.buffer!=null&&H.buffer.constructor===ArrayBuffer){if(Pe=H.length,Pe!==ve.length)return!1;for(Ne=Pe;Ne--!==0;)if(H[Ne]!==ve[Ne])return!1;return!0}if(H.constructor===RegExp)return H.source===ve.source&&H.flags===ve.flags;if(H.valueOf!==Object.prototype.valueOf)return H.valueOf()===ve.valueOf();if(H.toString!==Object.prototype.toString)return H.toString()===ve.toString();const Ye=Object.keys(H).filter(mt=>H[mt]!==void 0);if(Pe=Ye.length,Pe!==Object.keys(ve).filter(mt=>ve[mt]!==void 0).length)return!1;for(Ne=Pe;Ne--!==0;){const mt=Ye[Ne];if(xc(H[mt],ve[mt])!==!0)return!1}return!0}return H!==H&&ve!==ve}function ed(H){return H!==null&&typeof H=="object"&&Array.isArray(H)!==!0}function NA(H){return typeof H=="number"&&isFinite(H)}const Xm=[y0,IA,xs,AA,sg,xu,m0];function Zm(H,ve){ve.forEach(Pe=>{Pe.install(H),Pe.__installed=!0})}function UA(H,ve,Pe){H.config.globalProperties.$q=Pe.$q,H.provide(kA,Pe.$q),Zm(Pe,Xm),ve.components!==void 0&&Object.values(ve.components).forEach(Ne=>{ed(Ne)===!0&&Ne.name!==void 0&&H.component(Ne.name,Ne)}),ve.directives!==void 0&&Object.values(ve.directives).forEach(Ne=>{ed(Ne)===!0&&Ne.name!==void 0&&H.directive(Ne.name,Ne)}),ve.plugins!==void 0&&Zm(Pe,Object.values(ve.plugins).filter(Ne=>typeof Ne.install=="function"&&Xm.includes(Ne)===!1)),Ec.value===!0&&(Pe.$q.onSSRHydrated=()=>{Pe.onSSRHydrated.forEach(Ne=>{Ne()}),Pe.$q.onSSRHydrated=()=>{}})}var VA=function(H,ve={}){const Pe={version:"2.14.6"};qx===!1?(ve.config!==void 0&&Object.assign(x0,ve.config),Pe.config={...x0},BA()):Pe.config=ve.config||{},UA(H,ve,{parentApp:H,$q:Pe,lang:ve.lang,iconSet:ve.iconSet,onSSRHydrated:[]})},HA={version:"2.14.6",install:VA,lang:xu,iconSet:m0},GA=(H,ve)=>{const Pe=H.__vccOpts||H;for(const[Ne,Ye]of ve)Pe[Ne]=Ye;return Pe};const WA={};function YA(H,ve){const Pe=GT("router-view");return xo(),Wl(Pe)}var XA=GA(WA,[["render",YA]]);/*!
  * vue-router v4.3.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const rv=typeof document!="undefined";function ZA(H){return H.__esModule||H[Symbol.toStringTag]==="Module"}const Ii=Object.assign;function Rp(H,ve){const Pe={};for(const Ne in ve){const Ye=ve[Ne];Pe[Ne]=Mu(Ye)?Ye.map(H):H(Ye)}return Pe}const td=()=>{},Mu=Array.isArray,e2=/#/g,jA=/&/g,KA=/\//g,JA=/=/g,QA=/\?/g,t2=/\+/g,$A=/%5B/g,qA=/%5D/g,r2=/%5E/g,e5=/%60/g,n2=/%7B/g,t5=/%7C/g,a2=/%7D/g,r5=/%20/g;function Ng(H){return encodeURI(""+H).replace(t5,"|").replace($A,"[").replace(qA,"]")}function n5(H){return Ng(H).replace(n2,"{").replace(a2,"}").replace(r2,"^")}function lg(H){return Ng(H).replace(t2,"%2B").replace(r5,"+").replace(e2,"%23").replace(jA,"%26").replace(e5,"`").replace(n2,"{").replace(a2,"}").replace(r2,"^")}function a5(H){return lg(H).replace(JA,"%3D")}function i5(H){return Ng(H).replace(e2,"%23").replace(QA,"%3F")}function o5(H){return H==null?"":i5(H).replace(KA,"%2F")}function ud(H){try{return decodeURIComponent(""+H)}catch{}return""+H}const s5=/\/$/,l5=H=>H.replace(s5,"");function Dp(H,ve,Pe="/"){let Ne,Ye={},mt="",G="";const U=ve.indexOf("#");let e=ve.indexOf("?");return U<e&&U>=0&&(e=-1),e>-1&&(Ne=ve.slice(0,e),mt=ve.slice(e+1,U>-1?U:ve.length),Ye=H(mt)),U>-1&&(Ne=Ne||ve.slice(0,U),G=ve.slice(U,ve.length)),Ne=h5(Ne!=null?Ne:ve,Pe),{fullPath:Ne+(mt&&"?")+mt+G,path:Ne,query:Ye,hash:ud(G)}}function u5(H,ve){const Pe=ve.query?H(ve.query):"";return ve.path+(Pe&&"?")+Pe+(ve.hash||"")}function jm(H,ve){return!ve||!H.toLowerCase().startsWith(ve.toLowerCase())?H:H.slice(ve.length)||"/"}function f5(H,ve,Pe){const Ne=ve.matched.length-1,Ye=Pe.matched.length-1;return Ne>-1&&Ne===Ye&&vv(ve.matched[Ne],Pe.matched[Ye])&&i2(ve.params,Pe.params)&&H(ve.query)===H(Pe.query)&&ve.hash===Pe.hash}function vv(H,ve){return(H.aliasOf||H)===(ve.aliasOf||ve)}function i2(H,ve){if(Object.keys(H).length!==Object.keys(ve).length)return!1;for(const Pe in H)if(!c5(H[Pe],ve[Pe]))return!1;return!0}function c5(H,ve){return Mu(H)?Km(H,ve):Mu(ve)?Km(ve,H):H===ve}function Km(H,ve){return Mu(ve)?H.length===ve.length&&H.every((Pe,Ne)=>Pe===ve[Ne]):H.length===1&&H[0]===ve}function h5(H,ve){if(H.startsWith("/"))return H;if(!H)return ve;const Pe=ve.split("/"),Ne=H.split("/"),Ye=Ne[Ne.length-1];(Ye===".."||Ye===".")&&Ne.push("");let mt=Pe.length-1,G,U;for(G=0;G<Ne.length;G++)if(U=Ne[G],U!==".")if(U==="..")mt>1&&mt--;else break;return Pe.slice(0,mt).join("/")+"/"+Ne.slice(G).join("/")}var fd;(function(H){H.pop="pop",H.push="push"})(fd||(fd={}));var rd;(function(H){H.back="back",H.forward="forward",H.unknown=""})(rd||(rd={}));function v5(H){if(!H)if(rv){const ve=document.querySelector("base");H=ve&&ve.getAttribute("href")||"/",H=H.replace(/^\w+:\/\/[^\/]+/,"")}else H="/";return H[0]!=="/"&&H[0]!=="#"&&(H="/"+H),l5(H)}const d5=/^[^#]+#/;function p5(H,ve){return H.replace(d5,"#")+ve}function g5(H,ve){const Pe=document.documentElement.getBoundingClientRect(),Ne=H.getBoundingClientRect();return{behavior:ve.behavior,left:Ne.left-Pe.left-(ve.left||0),top:Ne.top-Pe.top-(ve.top||0)}}const B0=()=>({left:window.scrollX,top:window.scrollY});function y5(H){let ve;if("el"in H){const Pe=H.el,Ne=typeof Pe=="string"&&Pe.startsWith("#"),Ye=typeof Pe=="string"?Ne?document.getElementById(Pe.slice(1)):document.querySelector(Pe):Pe;if(!Ye)return;ve=g5(Ye,H)}else ve=H;"scrollBehavior"in document.documentElement.style?window.scrollTo(ve):window.scrollTo(ve.left!=null?ve.left:window.scrollX,ve.top!=null?ve.top:window.scrollY)}function Jm(H,ve){return(history.state?history.state.position-ve:-1)+H}const ug=new Map;function m5(H,ve){ug.set(H,ve)}function x5(H){const ve=ug.get(H);return ug.delete(H),ve}let b5=()=>location.protocol+"//"+location.host;function o2(H,ve){const{pathname:Pe,search:Ne,hash:Ye}=ve,mt=H.indexOf("#");if(mt>-1){let U=Ye.includes(H.slice(mt))?H.slice(mt).length:1,e=Ye.slice(U);return e[0]!=="/"&&(e="/"+e),jm(e,"")}return jm(Pe,H)+Ne+Ye}function w5(H,ve,Pe,Ne){let Ye=[],mt=[],G=null;const U=({state:C})=>{const A=o2(H,location),v=Pe.value,p=ve.value;let r=0;if(C){if(Pe.value=A,ve.value=C,G&&G===v){G=null;return}r=p?C.position-p.position:0}else Ne(A);Ye.forEach(t=>{t(Pe.value,v,{delta:r,type:fd.pop,direction:r?r>0?rd.forward:rd.back:rd.unknown})})};function e(){G=Pe.value}function g(C){Ye.push(C);const A=()=>{const v=Ye.indexOf(C);v>-1&&Ye.splice(v,1)};return mt.push(A),A}function L(){const{history:C}=window;!C.state||C.replaceState(Ii({},C.state,{scroll:B0()}),"")}function a(){for(const C of mt)C();mt=[],window.removeEventListener("popstate",U),window.removeEventListener("beforeunload",L)}return window.addEventListener("popstate",U),window.addEventListener("beforeunload",L,{passive:!0}),{pauseListeners:e,listen:g,destroy:a}}function Qm(H,ve,Pe,Ne=!1,Ye=!1){return{back:H,current:ve,forward:Pe,replaced:Ne,position:window.history.length,scroll:Ye?B0():null}}function T5(H){const{history:ve,location:Pe}=window,Ne={value:o2(H,Pe)},Ye={value:ve.state};Ye.value||mt(Ne.value,{back:null,current:Ne.value,forward:null,position:ve.length-1,replaced:!0,scroll:null},!0);function mt(e,g,L){const a=H.indexOf("#"),C=a>-1?(Pe.host&&document.querySelector("base")?H:H.slice(a))+e:b5()+H+e;try{ve[L?"replaceState":"pushState"](g,"",C),Ye.value=g}catch(A){console.error(A),Pe[L?"replace":"assign"](C)}}function G(e,g){const L=Ii({},ve.state,Qm(Ye.value.back,e,Ye.value.forward,!0),g,{position:Ye.value.position});mt(e,L,!0),Ne.value=e}function U(e,g){const L=Ii({},Ye.value,ve.state,{forward:e,scroll:B0()});mt(L.current,L,!0);const a=Ii({},Qm(Ne.value,e,null),{position:L.position+1},g);mt(e,a,!1),Ne.value=e}return{location:Ne,state:Ye,push:U,replace:G}}function A5(H){H=v5(H);const ve=T5(H),Pe=w5(H,ve.state,ve.location,ve.replace);function Ne(mt,G=!0){G||Pe.pauseListeners(),history.go(mt)}const Ye=Ii({location:"",base:H,go:Ne,createHref:p5.bind(null,H)},ve,Pe);return Object.defineProperty(Ye,"location",{enumerable:!0,get:()=>ve.location.value}),Object.defineProperty(Ye,"state",{enumerable:!0,get:()=>ve.state.value}),Ye}function M5(H){return typeof H=="string"||H&&typeof H=="object"}function s2(H){return typeof H=="string"||typeof H=="symbol"}const hc={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},l2=Symbol("");var $m;(function(H){H[H.aborted=4]="aborted",H[H.cancelled=8]="cancelled",H[H.duplicated=16]="duplicated"})($m||($m={}));function dv(H,ve){return Ii(new Error,{type:H,[l2]:!0},ve)}function Af(H,ve){return H instanceof Error&&l2 in H&&(ve==null||!!(H.type&ve))}const qm="[^/]+?",S5={sensitive:!1,strict:!1,start:!0,end:!0},E5=/[.+*?^${}()[\]/\\]/g;function C5(H,ve){const Pe=Ii({},S5,ve),Ne=[];let Ye=Pe.start?"^":"";const mt=[];for(const g of H){const L=g.length?[]:[90];Pe.strict&&!g.length&&(Ye+="/");for(let a=0;a<g.length;a++){const C=g[a];let A=40+(Pe.sensitive?.25:0);if(C.type===0)a||(Ye+="/"),Ye+=C.value.replace(E5,"\\$&"),A+=40;else if(C.type===1){const{value:v,repeatable:p,optional:r,regexp:t}=C;mt.push({name:v,repeatable:p,optional:r});const s=t||qm;if(s!==qm){A+=10;try{new RegExp(`(${s})`)}catch(f){throw new Error(`Invalid custom RegExp for param "${v}" (${s}): `+f.message)}}let n=p?`((?:${s})(?:/(?:${s}))*)`:`(${s})`;a||(n=r&&g.length<2?`(?:/${n})`:"/"+n),r&&(n+="?"),Ye+=n,A+=20,r&&(A+=-8),p&&(A+=-20),s===".*"&&(A+=-50)}L.push(A)}Ne.push(L)}if(Pe.strict&&Pe.end){const g=Ne.length-1;Ne[g][Ne[g].length-1]+=.7000000000000001}Pe.strict||(Ye+="/?"),Pe.end?Ye+="$":Pe.strict&&(Ye+="(?:/|$)");const G=new RegExp(Ye,Pe.sensitive?"":"i");function U(g){const L=g.match(G),a={};if(!L)return null;for(let C=1;C<L.length;C++){const A=L[C]||"",v=mt[C-1];a[v.name]=A&&v.repeatable?A.split("/"):A}return a}function e(g){let L="",a=!1;for(const C of H){(!a||!L.endsWith("/"))&&(L+="/"),a=!1;for(const A of C)if(A.type===0)L+=A.value;else if(A.type===1){const{value:v,repeatable:p,optional:r}=A,t=v in g?g[v]:"";if(Mu(t)&&!p)throw new Error(`Provided param "${v}" is an array but it is not repeatable (* or + modifiers)`);const s=Mu(t)?t.join("/"):t;if(!s)if(r)C.length<2&&(L.endsWith("/")?L=L.slice(0,-1):a=!0);else throw new Error(`Missing required param "${v}"`);L+=s}}return L||"/"}return{re:G,score:Ne,keys:mt,parse:U,stringify:e}}function L5(H,ve){let Pe=0;for(;Pe<H.length&&Pe<ve.length;){const Ne=ve[Pe]-H[Pe];if(Ne)return Ne;Pe++}return H.length<ve.length?H.length===1&&H[0]===40+40?-1:1:H.length>ve.length?ve.length===1&&ve[0]===40+40?1:-1:0}function P5(H,ve){let Pe=0;const Ne=H.score,Ye=ve.score;for(;Pe<Ne.length&&Pe<Ye.length;){const mt=L5(Ne[Pe],Ye[Pe]);if(mt)return mt;Pe++}if(Math.abs(Ye.length-Ne.length)===1){if(e1(Ne))return 1;if(e1(Ye))return-1}return Ye.length-Ne.length}function e1(H){const ve=H[H.length-1];return H.length>0&&ve[ve.length-1]<0}const R5={type:0,value:""},D5=/[a-zA-Z0-9_]/;function I5(H){if(!H)return[[]];if(H==="/")return[[R5]];if(!H.startsWith("/"))throw new Error(`Invalid path "${H}"`);function ve(A){throw new Error(`ERR (${Pe})/"${g}": ${A}`)}let Pe=0,Ne=Pe;const Ye=[];let mt;function G(){mt&&Ye.push(mt),mt=[]}let U=0,e,g="",L="";function a(){!g||(Pe===0?mt.push({type:0,value:g}):Pe===1||Pe===2||Pe===3?(mt.length>1&&(e==="*"||e==="+")&&ve(`A repeatable param (${g}) must be alone in its segment. eg: '/:ids+.`),mt.push({type:1,value:g,regexp:L,repeatable:e==="*"||e==="+",optional:e==="*"||e==="?"})):ve("Invalid state to consume buffer"),g="")}function C(){g+=e}for(;U<H.length;){if(e=H[U++],e==="\\"&&Pe!==2){Ne=Pe,Pe=4;continue}switch(Pe){case 0:e==="/"?(g&&a(),G()):e===":"?(a(),Pe=1):C();break;case 4:C(),Pe=Ne;break;case 1:e==="("?Pe=2:D5.test(e)?C():(a(),Pe=0,e!=="*"&&e!=="?"&&e!=="+"&&U--);break;case 2:e===")"?L[L.length-1]=="\\"?L=L.slice(0,-1)+e:Pe=3:L+=e;break;case 3:a(),Pe=0,e!=="*"&&e!=="?"&&e!=="+"&&U--,L="";break;default:ve("Unknown state");break}}return Pe===2&&ve(`Unfinished custom RegExp for param "${g}"`),a(),G(),Ye}function _5(H,ve,Pe){const Ne=C5(I5(H.path),Pe),Ye=Ii(Ne,{record:H,parent:ve,children:[],alias:[]});return ve&&!Ye.record.aliasOf==!ve.record.aliasOf&&ve.children.push(Ye),Ye}function k5(H,ve){const Pe=[],Ne=new Map;ve=n1({strict:!1,end:!0,sensitive:!1},ve);function Ye(L){return Ne.get(L)}function mt(L,a,C){const A=!C,v=F5(L);v.aliasOf=C&&C.record;const p=n1(ve,L),r=[v];if("alias"in L){const n=typeof L.alias=="string"?[L.alias]:L.alias;for(const f of n)r.push(Ii({},v,{components:C?C.record.components:v.components,path:f,aliasOf:C?C.record:v}))}let t,s;for(const n of r){const{path:f}=n;if(a&&f[0]!=="/"){const u=a.record.path,l=u[u.length-1]==="/"?"":"/";n.path=a.record.path+(f&&l+f)}if(t=_5(n,a,p),C?C.alias.push(t):(s=s||t,s!==t&&s.alias.push(t),A&&L.name&&!r1(t)&&G(L.name)),v.children){const u=v.children;for(let l=0;l<u.length;l++)mt(u[l],t,C&&C.children[l])}C=C||t,(t.record.components&&Object.keys(t.record.components).length||t.record.name||t.record.redirect)&&e(t)}return s?()=>{G(s)}:td}function G(L){if(s2(L)){const a=Ne.get(L);a&&(Ne.delete(L),Pe.splice(Pe.indexOf(a),1),a.children.forEach(G),a.alias.forEach(G))}else{const a=Pe.indexOf(L);a>-1&&(Pe.splice(a,1),L.record.name&&Ne.delete(L.record.name),L.children.forEach(G),L.alias.forEach(G))}}function U(){return Pe}function e(L){let a=0;for(;a<Pe.length&&P5(L,Pe[a])>=0&&(L.record.path!==Pe[a].record.path||!u2(L,Pe[a]));)a++;Pe.splice(a,0,L),L.record.name&&!r1(L)&&Ne.set(L.record.name,L)}function g(L,a){let C,A={},v,p;if("name"in L&&L.name){if(C=Ne.get(L.name),!C)throw dv(1,{location:L});p=C.record.name,A=Ii(t1(a.params,C.keys.filter(s=>!s.optional).concat(C.parent?C.parent.keys.filter(s=>s.optional):[]).map(s=>s.name)),L.params&&t1(L.params,C.keys.map(s=>s.name))),v=C.stringify(A)}else if(L.path!=null)v=L.path,C=Pe.find(s=>s.re.test(v)),C&&(A=C.parse(v),p=C.record.name);else{if(C=a.name?Ne.get(a.name):Pe.find(s=>s.re.test(a.path)),!C)throw dv(1,{location:L,currentLocation:a});p=C.record.name,A=Ii({},a.params,L.params),v=C.stringify(A)}const r=[];let t=C;for(;t;)r.unshift(t.record),t=t.parent;return{name:p,path:v,params:A,matched:r,meta:O5(r)}}return H.forEach(L=>mt(L)),{addRoute:mt,resolve:g,removeRoute:G,getRoutes:U,getRecordMatcher:Ye}}function t1(H,ve){const Pe={};for(const Ne of ve)Ne in H&&(Pe[Ne]=H[Ne]);return Pe}function F5(H){return{path:H.path,redirect:H.redirect,name:H.name,meta:H.meta||{},aliasOf:void 0,beforeEnter:H.beforeEnter,props:z5(H),children:H.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in H?H.components||null:H.component&&{default:H.component}}}function z5(H){const ve={},Pe=H.props||!1;if("component"in H)ve.default=Pe;else for(const Ne in H.components)ve[Ne]=typeof Pe=="object"?Pe[Ne]:Pe;return ve}function r1(H){for(;H;){if(H.record.aliasOf)return!0;H=H.parent}return!1}function O5(H){return H.reduce((ve,Pe)=>Ii(ve,Pe.meta),{})}function n1(H,ve){const Pe={};for(const Ne in H)Pe[Ne]=Ne in ve?ve[Ne]:H[Ne];return Pe}function u2(H,ve){return ve.children.some(Pe=>Pe===H||u2(H,Pe))}function B5(H){const ve={};if(H===""||H==="?")return ve;const Ne=(H[0]==="?"?H.slice(1):H).split("&");for(let Ye=0;Ye<Ne.length;++Ye){const mt=Ne[Ye].replace(t2," "),G=mt.indexOf("="),U=ud(G<0?mt:mt.slice(0,G)),e=G<0?null:ud(mt.slice(G+1));if(U in ve){let g=ve[U];Mu(g)||(g=ve[U]=[g]),g.push(e)}else ve[U]=e}return ve}function a1(H){let ve="";for(let Pe in H){const Ne=H[Pe];if(Pe=a5(Pe),Ne==null){Ne!==void 0&&(ve+=(ve.length?"&":"")+Pe);continue}(Mu(Ne)?Ne.map(mt=>mt&&lg(mt)):[Ne&&lg(Ne)]).forEach(mt=>{mt!==void 0&&(ve+=(ve.length?"&":"")+Pe,mt!=null&&(ve+="="+mt))})}return ve}function N5(H){const ve={};for(const Pe in H){const Ne=H[Pe];Ne!==void 0&&(ve[Pe]=Mu(Ne)?Ne.map(Ye=>Ye==null?null:""+Ye):Ne==null?Ne:""+Ne)}return ve}const U5=Symbol(""),i1=Symbol(""),Ug=Symbol(""),Vg=Symbol(""),fg=Symbol("");function Hv(){let H=[];function ve(Ne){return H.push(Ne),()=>{const Ye=H.indexOf(Ne);Ye>-1&&H.splice(Ye,1)}}function Pe(){H=[]}return{add:ve,list:()=>H.slice(),reset:Pe}}function mc(H,ve,Pe,Ne,Ye,mt=G=>G()){const G=Ne&&(Ne.enterCallbacks[Ye]=Ne.enterCallbacks[Ye]||[]);return()=>new Promise((U,e)=>{const g=C=>{C===!1?e(dv(4,{from:Pe,to:ve})):C instanceof Error?e(C):M5(C)?e(dv(2,{from:ve,to:C})):(G&&Ne.enterCallbacks[Ye]===G&&typeof C=="function"&&G.push(C),U())},L=mt(()=>H.call(Ne&&Ne.instances[Ye],ve,Pe,g));let a=Promise.resolve(L);H.length<3&&(a=a.then(g)),a.catch(C=>e(C))})}function Ip(H,ve,Pe,Ne,Ye=mt=>mt()){const mt=[];for(const G of H)for(const U in G.components){let e=G.components[U];if(!(ve!=="beforeRouteEnter"&&!G.instances[U]))if(V5(e)){const L=(e.__vccOpts||e)[ve];L&&mt.push(mc(L,Pe,Ne,G,U,Ye))}else{let g=e();mt.push(()=>g.then(L=>{if(!L)return Promise.reject(new Error(`Couldn't resolve component "${U}" at "${G.path}"`));const a=ZA(L)?L.default:L;G.components[U]=a;const A=(a.__vccOpts||a)[ve];return A&&mc(A,Pe,Ne,G,U,Ye)()}))}}return mt}function V5(H){return typeof H=="object"||"displayName"in H||"props"in H||"__vccOpts"in H}function o1(H){const ve=yl(Ug),Pe=yl(Vg),Ne=bn(()=>ve.resolve(wc(H.to))),Ye=bn(()=>{const{matched:e}=Ne.value,{length:g}=e,L=e[g-1],a=Pe.matched;if(!L||!a.length)return-1;const C=a.findIndex(vv.bind(null,L));if(C>-1)return C;const A=s1(e[g-2]);return g>1&&s1(L)===A&&a[a.length-1].path!==A?a.findIndex(vv.bind(null,e[g-2])):C}),mt=bn(()=>Ye.value>-1&&Y5(Pe.params,Ne.value.params)),G=bn(()=>Ye.value>-1&&Ye.value===Pe.matched.length-1&&i2(Pe.params,Ne.value.params));function U(e={}){return W5(e)?ve[wc(H.replace)?"replace":"push"](wc(H.to)).catch(td):Promise.resolve()}return{route:Ne,href:bn(()=>Ne.value.href),isActive:mt,isExactActive:G,navigate:U}}const H5=wh({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:o1,setup(H,{slots:ve}){const Pe=mv(o1(H)),{options:Ne}=yl(Ug),Ye=bn(()=>({[l1(H.activeClass,Ne.linkActiveClass,"router-link-active")]:Pe.isActive,[l1(H.exactActiveClass,Ne.linkExactActiveClass,"router-link-exact-active")]:Pe.isExactActive}));return()=>{const mt=ve.default&&ve.default(Pe);return H.custom?mt:Jn("a",{"aria-current":Pe.isExactActive?H.ariaCurrentValue:null,href:Pe.href,onClick:Pe.navigate,class:Ye.value},mt)}}}),G5=H5;function W5(H){if(!(H.metaKey||H.altKey||H.ctrlKey||H.shiftKey)&&!H.defaultPrevented&&!(H.button!==void 0&&H.button!==0)){if(H.currentTarget&&H.currentTarget.getAttribute){const ve=H.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(ve))return}return H.preventDefault&&H.preventDefault(),!0}}function Y5(H,ve){for(const Pe in ve){const Ne=ve[Pe],Ye=H[Pe];if(typeof Ne=="string"){if(Ne!==Ye)return!1}else if(!Mu(Ye)||Ye.length!==Ne.length||Ne.some((mt,G)=>mt!==Ye[G]))return!1}return!0}function s1(H){return H?H.aliasOf?H.aliasOf.path:H.path:""}const l1=(H,ve,Pe)=>H!=null?H:ve!=null?ve:Pe,X5=wh({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(H,{attrs:ve,slots:Pe}){const Ne=yl(fg),Ye=bn(()=>H.route||Ne.value),mt=yl(i1,0),G=bn(()=>{let g=wc(mt);const{matched:L}=Ye.value;let a;for(;(a=L[g])&&!a.components;)g++;return g}),U=bn(()=>Ye.value.matched[G.value]);s0(i1,bn(()=>G.value+1)),s0(U5,U),s0(fg,Ye);const e=Na();return zi(()=>[e.value,U.value,H.name],([g,L,a],[C,A,v])=>{L&&(L.instances[a]=g,A&&A!==L&&g&&g===C&&(L.leaveGuards.size||(L.leaveGuards=A.leaveGuards),L.updateGuards.size||(L.updateGuards=A.updateGuards))),g&&L&&(!A||!vv(L,A)||!C)&&(L.enterCallbacks[a]||[]).forEach(p=>p(g))},{flush:"post"}),()=>{const g=Ye.value,L=H.name,a=U.value,C=a&&a.components[L];if(!C)return u1(Pe.default,{Component:C,route:g});const A=a.props[L],v=A?A===!0?g.params:typeof A=="function"?A(g):A:null,r=Jn(C,Ii({},v,ve,{onVnodeUnmounted:t=>{t.component.isUnmounted&&(a.instances[L]=null)},ref:e}));return u1(Pe.default,{Component:r,route:g})||r}}});function u1(H,ve){if(!H)return null;const Pe=H(ve);return Pe.length===1?Pe[0]:Pe}const Z5=X5;function j5(H){const ve=k5(H.routes,H),Pe=H.parseQuery||B5,Ne=H.stringifyQuery||a1,Ye=H.history,mt=Hv(),G=Hv(),U=Hv(),e=LT(hc);let g=hc;rv&&H.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const L=Rp.bind(null,O=>""+O),a=Rp.bind(null,o5),C=Rp.bind(null,ud);function A(O,z){let B,W;return s2(O)?(B=ve.getRecordMatcher(O),W=z):W=O,ve.addRoute(W,B)}function v(O){const z=ve.getRecordMatcher(O);z&&ve.removeRoute(z)}function p(){return ve.getRoutes().map(O=>O.record)}function r(O){return!!ve.getRecordMatcher(O)}function t(O,z){if(z=Ii({},z||e.value),typeof O=="string"){const oe=Dp(Pe,O,z.path),Z=ve.resolve({path:oe.path},z),Y=Ye.createHref(oe.fullPath);return Ii(oe,Z,{params:C(Z.params),hash:ud(oe.hash),redirectedFrom:void 0,href:Y})}let B;if(O.path!=null)B=Ii({},O,{path:Dp(Pe,O.path,z.path).path});else{const oe=Ii({},O.params);for(const Z in oe)oe[Z]==null&&delete oe[Z];B=Ii({},O,{params:a(oe)}),z.params=a(z.params)}const W=ve.resolve(B,z),q=O.hash||"";W.params=L(C(W.params));const ee=u5(Ne,Ii({},O,{hash:n5(q),path:W.path})),Q=Ye.createHref(ee);return Ii({fullPath:ee,hash:q,query:Ne===a1?N5(O.query):O.query||{}},W,{redirectedFrom:void 0,href:Q})}function s(O){return typeof O=="string"?Dp(Pe,O,e.value.path):Ii({},O)}function n(O,z){if(g!==O)return dv(8,{from:z,to:O})}function f(O){return m(O)}function u(O){return f(Ii(s(O),{replace:!0}))}function l(O){const z=O.matched[O.matched.length-1];if(z&&z.redirect){const{redirect:B}=z;let W=typeof B=="function"?B(O):B;return typeof W=="string"&&(W=W.includes("?")||W.includes("#")?W=s(W):{path:W},W.params={}),Ii({query:O.query,hash:O.hash,params:W.path!=null?{}:O.params},W)}}function m(O,z){const B=g=t(O),W=e.value,q=O.state,ee=O.force,Q=O.replace===!0,oe=l(B);if(oe)return m(Ii(s(oe),{state:typeof oe=="object"?Ii({},q,oe.state):q,force:ee,replace:Q}),z||B);const Z=B;Z.redirectedFrom=z;let Y;return!ee&&f5(Ne,W,B)&&(Y=dv(16,{to:Z,from:W}),x(W,W,!0,!1)),(Y?Promise.resolve(Y):c(Z,W)).catch(te=>Af(te)?Af(te,2)?te:P(te):T(te,Z,W)).then(te=>{if(te){if(Af(te,2))return m(Ii({replace:Q},s(te.to),{state:typeof te.to=="object"?Ii({},q,te.to.state):q,force:ee}),z||Z)}else te=d(Z,W,!0,Q,q);return i(Z,W,te),te})}function h(O,z){const B=n(O,z);return B?Promise.reject(B):Promise.resolve()}function M(O){const z=N.values().next().value;return z&&typeof z.runWithContext=="function"?z.runWithContext(O):O()}function c(O,z){let B;const[W,q,ee]=K5(O,z);B=Ip(W.reverse(),"beforeRouteLeave",O,z);for(const oe of W)oe.leaveGuards.forEach(Z=>{B.push(mc(Z,O,z))});const Q=h.bind(null,O,z);return B.push(Q),F(B).then(()=>{B=[];for(const oe of mt.list())B.push(mc(oe,O,z));return B.push(Q),F(B)}).then(()=>{B=Ip(q,"beforeRouteUpdate",O,z);for(const oe of q)oe.updateGuards.forEach(Z=>{B.push(mc(Z,O,z))});return B.push(Q),F(B)}).then(()=>{B=[];for(const oe of ee)if(oe.beforeEnter)if(Mu(oe.beforeEnter))for(const Z of oe.beforeEnter)B.push(mc(Z,O,z));else B.push(mc(oe.beforeEnter,O,z));return B.push(Q),F(B)}).then(()=>(O.matched.forEach(oe=>oe.enterCallbacks={}),B=Ip(ee,"beforeRouteEnter",O,z,M),B.push(Q),F(B))).then(()=>{B=[];for(const oe of G.list())B.push(mc(oe,O,z));return B.push(Q),F(B)}).catch(oe=>Af(oe,8)?oe:Promise.reject(oe))}function i(O,z,B){U.list().forEach(W=>M(()=>W(O,z,B)))}function d(O,z,B,W,q){const ee=n(O,z);if(ee)return ee;const Q=z===hc,oe=rv?history.state:{};B&&(W||Q?Ye.replace(O.fullPath,Ii({scroll:Q&&oe&&oe.scroll},q)):Ye.push(O.fullPath,q)),e.value=O,x(O,z,B,Q),P()}let b;function w(){b||(b=Ye.listen((O,z,B)=>{if(!k.listening)return;const W=t(O),q=l(W);if(q){m(Ii(q,{replace:!0}),W).catch(td);return}g=W;const ee=e.value;rv&&m5(Jm(ee.fullPath,B.delta),B0()),c(W,ee).catch(Q=>Af(Q,12)?Q:Af(Q,2)?(m(Q.to,W).then(oe=>{Af(oe,20)&&!B.delta&&B.type===fd.pop&&Ye.go(-1,!1)}).catch(td),Promise.reject()):(B.delta&&Ye.go(-B.delta,!1),T(Q,W,ee))).then(Q=>{Q=Q||d(W,ee,!1),Q&&(B.delta&&!Af(Q,8)?Ye.go(-B.delta,!1):B.type===fd.pop&&Af(Q,20)&&Ye.go(-1,!1)),i(W,ee,Q)}).catch(td)}))}let E=Hv(),y=Hv(),S;function T(O,z,B){P(O);const W=y.list();return W.length?W.forEach(q=>q(O,z,B)):console.error(O),Promise.reject(O)}function o(){return S&&e.value!==hc?Promise.resolve():new Promise((O,z)=>{E.add([O,z])})}function P(O){return S||(S=!O,w(),E.list().forEach(([z,B])=>O?B(O):z()),E.reset()),O}function x(O,z,B,W){const{scrollBehavior:q}=H;if(!rv||!q)return Promise.resolve();const ee=!B&&x5(Jm(O.fullPath,0))||(W||!B)&&history.state&&history.state.scroll||null;return ks().then(()=>q(O,z,ee)).then(Q=>Q&&y5(Q)).catch(Q=>T(Q,O,z))}const _=O=>Ye.go(O);let I;const N=new Set,k={currentRoute:e,listening:!0,addRoute:A,removeRoute:v,hasRoute:r,getRoutes:p,resolve:t,options:H,push:f,replace:u,go:_,back:()=>_(-1),forward:()=>_(1),beforeEach:mt.add,beforeResolve:G.add,afterEach:U.add,onError:y.add,isReady:o,install(O){const z=this;O.component("RouterLink",G5),O.component("RouterView",Z5),O.config.globalProperties.$router=z,Object.defineProperty(O.config.globalProperties,"$route",{enumerable:!0,get:()=>wc(e)}),rv&&!I&&e.value===hc&&(I=!0,f(Ye.location).catch(q=>{}));const B={};for(const q in hc)Object.defineProperty(B,q,{get:()=>e.value[q],enumerable:!0});O.provide(Ug,z),O.provide(Vg,cx(B)),O.provide(fg,e);const W=O.unmount;N.add(O),O.unmount=function(){N.delete(O),N.size<1&&(g=hc,b&&b(),b=null,e.value=hc,I=!1,S=!1),W()}}};function F(O){return O.reduce((z,B)=>z.then(()=>M(B)),Promise.resolve())}return k}function K5(H,ve){const Pe=[],Ne=[],Ye=[],mt=Math.max(ve.matched.length,H.matched.length);for(let G=0;G<mt;G++){const U=ve.matched[G];U&&(H.matched.find(g=>vv(g,U))?Ne.push(U):Pe.push(U));const e=H.matched[G];e&&(ve.matched.find(g=>vv(g,e))||Ye.push(e))}return[Pe,Ne,Ye]}function J5(){return yl(Vg)}const Q5=function(){const ve=document.createElement("link").relList;return ve&&ve.supports&&ve.supports("modulepreload")?"modulepreload":"preload"}(),f1={},$5="/",_p=function(ve,Pe){return!Pe||Pe.length===0?ve():Promise.all(Pe.map(Ne=>{if(Ne=`${$5}${Ne}`,Ne in f1)return;f1[Ne]=!0;const Ye=Ne.endsWith(".css"),mt=Ye?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${Ne}"]${mt}`))return;const G=document.createElement("link");if(G.rel=Ye?"stylesheet":Q5,Ye||(G.as="script",G.crossOrigin=""),G.href=Ne,document.head.appendChild(G),Ye)return new Promise((U,e)=>{G.addEventListener("load",U),G.addEventListener("error",()=>e(new Error(`Unable to preload CSS for ${Ne}`)))})})).then(()=>ve())},Ah={dark:{type:Boolean,default:null}};function Mh(H,ve){return bn(()=>H.dark===null?ve.dark.isActive:H.dark)}const Ts=H=>hd(wh(H)),f2=H=>hd(H);function pl(H,ve){return H!==void 0&&H()||ve}function q5(H,ve){if(H!==void 0){const Pe=H();if(Pe!=null)return Pe.slice()}return ve}function nv(H,ve){return H!==void 0?ve.concat(H()):ve}function e6(H,ve){return H===void 0?ve:ve!==void 0?ve.concat(H()):H()}function c2(H,ve,Pe,Ne,Ye,mt){ve.key=Ne+Ye;const G=Jn(H,ve,Pe);return Ye===!0?Cx(G,mt()):G}var uh=Ts({name:"QCard",props:{...Ah,tag:{type:String,default:"div"},square:Boolean,flat:Boolean,bordered:Boolean},setup(H,{slots:ve}){const{proxy:{$q:Pe}}=vo(),Ne=Mh(H,Pe),Ye=bn(()=>"q-card"+(Ne.value===!0?" q-card--dark q-dark":"")+(H.bordered===!0?" q-card--bordered":"")+(H.square===!0?" q-card--square no-border-radius":"")+(H.flat===!0?" q-card--flat no-shadow":""));return()=>Jn(H.tag,{class:Ye.value},pl(ve.default))}}),N0=Ts({name:"QPage",props:{padding:Boolean,styleFn:Function},setup(H,{slots:ve}){const{proxy:{$q:Pe}}=vo(),Ne=yl(FA,Qh);if(Ne===Qh)return console.error("QPage needs to be a deep child of QLayout"),Qh;if(yl(zA,Qh)===Qh)return console.error("QPage needs to be child of QPageContainer"),Qh;const mt=bn(()=>{const U=(Ne.header.space===!0?Ne.header.size:0)+(Ne.footer.space===!0?Ne.footer.size:0);if(typeof H.styleFn=="function"){const e=Ne.isContainer.value===!0?Ne.containerHeight.value:Pe.screen.height;return H.styleFn(U,e)}return{minHeight:Ne.isContainer.value===!0?Ne.containerHeight.value-U+"px":Pe.screen.height===0?U!==0?`calc(100vh - ${U}px)`:"100vh":Pe.screen.height-U+"px"}}),G=bn(()=>`q-page${H.padding===!0?" q-layout-padding":""}`);return()=>Jn("main",{class:G.value,style:mt.value},pl(ve.default))}});let $d;const t6=new Uint8Array(16);function r6(){if(!$d&&($d=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!$d))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return $d(t6)}const is=[];for(let H=0;H<256;++H)is.push((H+256).toString(16).slice(1));function n6(H,ve=0){return is[H[ve+0]]+is[H[ve+1]]+is[H[ve+2]]+is[H[ve+3]]+"-"+is[H[ve+4]]+is[H[ve+5]]+"-"+is[H[ve+6]]+is[H[ve+7]]+"-"+is[H[ve+8]]+is[H[ve+9]]+"-"+is[H[ve+10]]+is[H[ve+11]]+is[H[ve+12]]+is[H[ve+13]]+is[H[ve+14]]+is[H[ve+15]]}const a6=typeof crypto!="undefined"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var c1={randomUUID:a6};function i6(H,ve,Pe){if(c1.randomUUID&&!ve&&!H)return c1.randomUUID();H=H||{};const Ne=H.random||(H.rng||r6)();if(Ne[6]=Ne[6]&15|64,Ne[8]=Ne[8]&63|128,ve){Pe=Pe||0;for(let Ye=0;Ye<16;++Ye)ve[Pe+Ye]=Ne[Ye];return ve}return n6(Ne)}function o6(H){return H&&H.__esModule&&Object.prototype.hasOwnProperty.call(H,"default")?H.default:H}var h2={exports:{}};(function(H,ve){(function(Ne,Ye){H.exports=Ye()})(self,function(){return function(){var Pe={79288:function(G,U,e){var g=e(3400),L={"X,X div":'direction:ltr;font-family:"Open Sans",verdana,arial,sans-serif;margin:0;padding:0;',"X input,X button":'font-family:"Open Sans",verdana,arial,sans-serif;',"X input:focus,X button:focus":"outline:none;","X a":"text-decoration:none;","X a:hover":"text-decoration:none;","X .crisp":"shape-rendering:crispEdges;","X .user-select-none":"-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;","X svg":"overflow:hidden;","X svg a":"fill:#447adb;","X svg a:hover":"fill:#3c6dc5;","X .main-svg":"position:absolute;top:0;left:0;pointer-events:none;","X .main-svg .draglayer":"pointer-events:all;","X .cursor-default":"cursor:default;","X .cursor-pointer":"cursor:pointer;","X .cursor-crosshair":"cursor:crosshair;","X .cursor-move":"cursor:move;","X .cursor-col-resize":"cursor:col-resize;","X .cursor-row-resize":"cursor:row-resize;","X .cursor-ns-resize":"cursor:ns-resize;","X .cursor-ew-resize":"cursor:ew-resize;","X .cursor-sw-resize":"cursor:sw-resize;","X .cursor-s-resize":"cursor:s-resize;","X .cursor-se-resize":"cursor:se-resize;","X .cursor-w-resize":"cursor:w-resize;","X .cursor-e-resize":"cursor:e-resize;","X .cursor-nw-resize":"cursor:nw-resize;","X .cursor-n-resize":"cursor:n-resize;","X .cursor-ne-resize":"cursor:ne-resize;","X .cursor-grab":"cursor:-webkit-grab;cursor:grab;","X .modebar":"position:absolute;top:2px;right:2px;","X .ease-bg":"-webkit-transition:background-color .3s ease 0s;-moz-transition:background-color .3s ease 0s;-ms-transition:background-color .3s ease 0s;-o-transition:background-color .3s ease 0s;transition:background-color .3s ease 0s;","X .modebar--hover>:not(.watermark)":"opacity:0;-webkit-transition:opacity .3s ease 0s;-moz-transition:opacity .3s ease 0s;-ms-transition:opacity .3s ease 0s;-o-transition:opacity .3s ease 0s;transition:opacity .3s ease 0s;","X:hover .modebar--hover .modebar-group":"opacity:1;","X .modebar-group":"float:left;display:inline-block;box-sizing:border-box;padding-left:8px;position:relative;vertical-align:middle;white-space:nowrap;","X .modebar-btn":"position:relative;font-size:16px;padding:3px 4px;height:22px;cursor:pointer;line-height:normal;box-sizing:border-box;","X .modebar-btn svg":"position:relative;top:2px;","X .modebar.vertical":"display:flex;flex-direction:column;flex-wrap:wrap;align-content:flex-end;max-height:100%;","X .modebar.vertical svg":"top:-1px;","X .modebar.vertical .modebar-group":"display:block;float:none;padding-left:0px;padding-bottom:8px;","X .modebar.vertical .modebar-group .modebar-btn":"display:block;text-align:center;","X [data-title]:before,X [data-title]:after":"position:absolute;-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);-ms-transform:translate3d(0, 0, 0);-o-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);display:none;opacity:0;z-index:1001;pointer-events:none;top:110%;right:50%;","X [data-title]:hover:before,X [data-title]:hover:after":"display:block;opacity:1;","X [data-title]:before":'content:"";position:absolute;background:rgba(0,0,0,0);border:6px solid rgba(0,0,0,0);z-index:1002;margin-top:-12px;border-bottom-color:#69738a;margin-right:-6px;',"X [data-title]:after":"content:attr(data-title);background:#69738a;color:#fff;padding:8px 10px;font-size:12px;line-height:12px;white-space:nowrap;margin-right:-18px;border-radius:2px;","X .vertical [data-title]:before,X .vertical [data-title]:after":"top:0%;right:200%;","X .vertical [data-title]:before":"border:6px solid rgba(0,0,0,0);border-left-color:#69738a;margin-top:8px;margin-right:-30px;",Y:'font-family:"Open Sans",verdana,arial,sans-serif;position:fixed;top:50px;right:20px;z-index:10000;font-size:10pt;max-width:180px;',"Y p":"margin:0;","Y .notifier-note":"min-width:180px;max-width:250px;border:1px solid #fff;z-index:3000;margin:0;background-color:#8c97af;background-color:rgba(140,151,175,.9);color:#fff;padding:10px;overflow-wrap:break-word;word-wrap:break-word;-ms-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;","Y .notifier-close":"color:#fff;opacity:.8;float:right;padding:0 5px;background:none;border:none;font-size:20px;font-weight:bold;line-height:20px;","Y .notifier-close:hover":"color:#444;text-decoration:none;cursor:pointer;"};for(var a in L){var C=a.replace(/^,/," ,").replace(/X/g,".js-plotly-plot .plotly").replace(/Y/g,".plotly-notifier");g.addStyleRule(C,L[a])}},86712:function(G,U,e){G.exports=e(84224)},37240:function(G,U,e){G.exports=e(51132)},29744:function(G,U,e){G.exports=e(94456)},29352:function(G,U,e){G.exports=e(67244)},96144:function(G,U,e){G.exports=e(97776)},53219:function(G,U,e){G.exports=e(61712)},4624:function(G,U,e){G.exports=e(95856)},54543:function(G,U,e){G.exports=e(54272)},45e3:function(G,U,e){G.exports=e(85404)},62300:function(G,U,e){G.exports=e(26048)},6920:function(G,U,e){G.exports=e(66240)},10264:function(G,U,e){G.exports=e(40448)},32016:function(G,U,e){G.exports=e(64884)},27528:function(G,U,e){G.exports=e(15088)},75556:function(G,U,e){G.exports=e(76744)},39204:function(G,U,e){G.exports=e(94704)},73996:function(G,U,e){G.exports=e(62396)},16489:function(G,U,e){G.exports=e(32028)},5e3:function(G,U,e){G.exports=e(81932)},77280:function(G,U,e){G.exports=e(45536)},33992:function(G,U,e){G.exports=e(42600)},17600:function(G,U,e){G.exports=e(21536)},49116:function(G,U,e){G.exports=e(65664)},46808:function(G,U,e){G.exports=e(29044)},36168:function(G,U,e){G.exports=e(48928)},13792:function(G,U,e){var g=e(32016);g.register([e(37240),e(29352),e(5e3),e(33992),e(17600),e(49116),e(6920),e(67484),e(79440),e(39204),e(83096),e(36168),e(20260),e(63560),e(65832),e(46808),e(73996),e(48824),e(89904),e(25120),e(13752),e(4340),e(62300),e(29800),e(8363),e(54543),e(86636),e(42192),e(32140),e(77280),e(89296),e(56816),e(70192),e(45e3),e(27528),e(84764),e(3920),e(50248),e(4624),e(69967),e(10264),e(86152),e(53219),e(81604),e(63796),e(29744),e(89336),e(86712),e(75556),e(16489),e(97312),e(96144)]),G.exports=g},3920:function(G,U,e){G.exports=e(43480)},25120:function(G,U,e){G.exports=e(6296)},4340:function(G,U,e){G.exports=e(7404)},86152:function(G,U,e){G.exports=e(65456)},56816:function(G,U,e){G.exports=e(22020)},89296:function(G,U,e){G.exports=e(29928)},20260:function(G,U,e){G.exports=e(75792)},32140:function(G,U,e){G.exports=e(156)},84764:function(G,U,e){G.exports=e(45499)},48824:function(G,U,e){G.exports=e(3296)},69967:function(G,U,e){G.exports=e(4184)},8363:function(G,U,e){G.exports=e(36952)},86636:function(G,U,e){G.exports=e(38983)},70192:function(G,U,e){G.exports=e(11572)},81604:function(G,U,e){G.exports=e(76924)},63796:function(G,U,e){G.exports=e(62944)},89336:function(G,U,e){G.exports=e(95443)},67484:function(G,U,e){G.exports=e(34864)},97312:function(G,U,e){G.exports=e(76272)},42192:function(G,U,e){G.exports=e(97924)},29800:function(G,U,e){G.exports=e(15436)},63560:function(G,U,e){G.exports=e(5621)},89904:function(G,U,e){G.exports=e(91304)},50248:function(G,U,e){G.exports=e(41724)},65832:function(G,U,e){G.exports=e(31991)},79440:function(G,U,e){G.exports=e(22869)},13752:function(G,U,e){G.exports=e(67776)},83096:function(G,U,e){G.exports=e(95952)},72196:function(G){G.exports=[{path:"",backoff:0},{path:"M-2.4,-3V3L0.6,0Z",backoff:.6},{path:"M-3.7,-2.5V2.5L1.3,0Z",backoff:1.3},{path:"M-4.45,-3L-1.65,-0.2V0.2L-4.45,3L1.55,0Z",backoff:1.55},{path:"M-2.2,-2.2L-0.2,-0.2V0.2L-2.2,2.2L-1.4,3L1.6,0L-1.4,-3Z",backoff:1.6},{path:"M-4.4,-2.1L-0.6,-0.2V0.2L-4.4,2.1L-4,3L2,0L-4,-3Z",backoff:2},{path:"M2,0A2,2 0 1,1 0,-2A2,2 0 0,1 2,0Z",backoff:0,noRotate:!0},{path:"M2,2V-2H-2V2Z",backoff:0,noRotate:!0}]},13916:function(G,U,e){var g=e(72196),L=e(25376),a=e(33816),C=e(31780).templatedArray;e(36208),G.exports=C("annotation",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},text:{valType:"string",editType:"calc+arraydraw"},textangle:{valType:"angle",dflt:0,editType:"calc+arraydraw"},font:L({editType:"calc+arraydraw",colorEditType:"arraydraw"}),width:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},height:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},align:{valType:"enumerated",values:["left","center","right"],dflt:"center",editType:"arraydraw"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"arraydraw"},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},bordercolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},borderpad:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},borderwidth:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},showarrow:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},arrowcolor:{valType:"color",editType:"arraydraw"},arrowhead:{valType:"integer",min:0,max:g.length,dflt:1,editType:"arraydraw"},startarrowhead:{valType:"integer",min:0,max:g.length,dflt:1,editType:"arraydraw"},arrowside:{valType:"flaglist",flags:["end","start"],extras:["none"],dflt:"end",editType:"arraydraw"},arrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},startarrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},arrowwidth:{valType:"number",min:.1,editType:"calc+arraydraw"},standoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},startstandoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},ax:{valType:"any",editType:"calc+arraydraw"},ay:{valType:"any",editType:"calc+arraydraw"},axref:{valType:"enumerated",dflt:"pixel",values:["pixel",a.idRegex.x.toString()],editType:"calc"},ayref:{valType:"enumerated",dflt:"pixel",values:["pixel",a.idRegex.y.toString()],editType:"calc"},xref:{valType:"enumerated",values:["paper",a.idRegex.x.toString()],editType:"calc"},x:{valType:"any",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},xshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},yref:{valType:"enumerated",values:["paper",a.idRegex.y.toString()],editType:"calc"},y:{valType:"any",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto",editType:"calc+arraydraw"},yshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},clicktoshow:{valType:"enumerated",values:[!1,"onoff","onout"],dflt:!1,editType:"arraydraw"},xclick:{valType:"any",editType:"arraydraw"},yclick:{valType:"any",editType:"arraydraw"},hovertext:{valType:"string",editType:"arraydraw"},hoverlabel:{bgcolor:{valType:"color",editType:"arraydraw"},bordercolor:{valType:"color",editType:"arraydraw"},font:L({editType:"arraydraw"}),editType:"arraydraw"},captureevents:{valType:"boolean",editType:"arraydraw"},editType:"calc",_deprecated:{ref:{valType:"string",editType:"calc"}}})},90272:function(G,U,e){var g=e(3400),L=e(54460),a=e(23816).draw;G.exports=function(p){var r=p._fullLayout,t=g.filterVisible(r.annotations);if(t.length&&p._fullData.length)return g.syncOrAsync([a,C],p)};function C(v){var p=v._fullLayout;g.filterVisible(p.annotations).forEach(function(r){var t=L.getFromId(v,r.xref),s=L.getFromId(v,r.yref),n=L.getRefType(r.xref),f=L.getRefType(r.yref);r._extremes={},n==="range"&&A(r,t),f==="range"&&A(r,s)})}function A(v,p){var r=p._id,t=r.charAt(0),s=v[t],n=v["a"+t],f=v[t+"ref"],u=v["a"+t+"ref"],l=v["_"+t+"padplus"],m=v["_"+t+"padminus"],h={x:1,y:-1}[t]*v[t+"shift"],M=3*v.arrowsize*v.arrowwidth||0,c=M+h,i=M-h,d=3*v.startarrowsize*v.arrowwidth||0,b=d+h,w=d-h,E;if(u===f){var y=L.findExtremes(p,[p.r2c(s)],{ppadplus:c,ppadminus:i}),S=L.findExtremes(p,[p.r2c(n)],{ppadplus:Math.max(l,b),ppadminus:Math.max(m,w)});E={min:[y.min[0],S.min[0]],max:[y.max[0],S.max[0]]}}else b=n?b+n:b,w=n?w-n:w,E=L.findExtremes(p,[p.r2c(s)],{ppadplus:Math.max(l,c,b),ppadminus:Math.max(m,i,w)});v._extremes[r]=E}},42300:function(G,U,e){var g=e(3400),L=e(24040),a=e(31780).arrayEditor;G.exports={hasClickToShow:C,onClick:A};function C(r,t){var s=v(r,t);return s.on.length>0||s.explicitOff.length>0}function A(r,t){var s=v(r,t),n=s.on,f=s.off.concat(s.explicitOff),u={},l=r._fullLayout.annotations,m,h;if(!!(n.length||f.length)){for(m=0;m<n.length;m++)h=a(r.layout,"annotations",l[n[m]]),h.modifyItem("visible",!0),g.extendFlat(u,h.getUpdateObj());for(m=0;m<f.length;m++)h=a(r.layout,"annotations",l[f[m]]),h.modifyItem("visible",!1),g.extendFlat(u,h.getUpdateObj());return L.call("update",r,{},u)}}function v(r,t){var s=r._fullLayout.annotations,n=[],f=[],u=[],l=(t||[]).length,m,h,M,c,i,d,b,w;for(m=0;m<s.length;m++)if(M=s[m],c=M.clicktoshow,c){for(h=0;h<l;h++)if(i=t[h],d=i.xaxis,b=i.yaxis,d._id===M.xref&&b._id===M.yref&&d.d2r(i.x)===p(M._xclick,d)&&b.d2r(i.y)===p(M._yclick,b)){M.visible?c==="onout"?w=f:w=u:w=n,w.push(m);break}h===l&&M.visible&&c==="onout"&&f.push(m)}return{on:n,off:f,explicitOff:u}}function p(r,t){return t.type==="log"?t.l2r(r):t.d2r(r)}},87192:function(G,U,e){var g=e(3400),L=e(76308);G.exports=function(C,A,v,p){p("opacity");var r=p("bgcolor"),t=p("bordercolor"),s=L.opacity(t);p("borderpad");var n=p("borderwidth"),f=p("showarrow");p("text",f?" ":v._dfltTitle.annotation),p("textangle"),g.coerceFont(p,"font",v.font),p("width"),p("align");var u=p("height");if(u&&p("valign"),f){var l=p("arrowside"),m,h;l.indexOf("end")!==-1&&(m=p("arrowhead"),h=p("arrowsize")),l.indexOf("start")!==-1&&(p("startarrowhead",m),p("startarrowsize",h)),p("arrowcolor",s?A.bordercolor:L.defaultLine),p("arrowwidth",(s&&n||1)*2),p("standoff"),p("startstandoff")}var M=p("hovertext"),c=v.hoverlabel||{};if(M){var i=p("hoverlabel.bgcolor",c.bgcolor||(L.opacity(r)?L.rgb(r):L.defaultLine)),d=p("hoverlabel.bordercolor",c.bordercolor||L.contrast(i));g.coerceFont(p,"hoverlabel.font",{family:c.font.family,size:c.font.size,color:c.font.color||d})}p("captureevents",!!M)}},26828:function(G,U,e){var g=e(38248),L=e(36896);G.exports=function(C,A,v,p){A=A||{};var r=v==="log"&&A.type==="linear",t=v==="linear"&&A.type==="log";if(!(r||t))return;var s=C._fullLayout.annotations,n=A._id.charAt(0),f,u;function l(h){var M=f[h],c=null;r?c=L(M,A.range):c=Math.pow(10,M),g(c)||(c=null),p(u+h,c)}for(var m=0;m<s.length;m++)f=s[m],u="annotations["+m+"].",f[n+"ref"]===A._id&&l(n),f["a"+n+"ref"]===A._id&&l("a"+n)}},45216:function(G,U,e){var g=e(3400),L=e(54460),a=e(51272),C=e(87192),A=e(13916);G.exports=function(r,t){a(r,t,{name:"annotations",handleItemDefaults:v})};function v(p,r,t){function s(T,o){return g.coerce(p,r,A,T,o)}var n=s("visible"),f=s("clicktoshow");if(!!(n||f)){C(p,r,t,s);for(var u=r.showarrow,l=["x","y"],m=[-10,-30],h={_fullLayout:t},M=0;M<2;M++){var c=l[M],i=L.coerceRef(p,r,h,c,"","paper");if(i!=="paper"){var d=L.getFromId(h,i);d._annIndices.push(r._index)}if(L.coercePosition(r,h,s,i,c,.5),u){var b="a"+c,w=L.coerceRef(p,r,h,b,"pixel",["pixel","paper"]);w!=="pixel"&&w!==i&&(w=r[b]="pixel");var E=w==="pixel"?m[M]:.4;L.coercePosition(r,h,s,w,b,E)}s(c+"anchor"),s(c+"shift")}if(g.noneOrAll(p,r,["x","y"]),u&&g.noneOrAll(p,r,["ax","ay"]),f){var y=s("xclick"),S=s("yclick");r._xclick=y===void 0?r.x:L.cleanPosition(y,h,r.xref),r._yclick=S===void 0?r.y:L.cleanPosition(S,h,r.yref)}}}},23816:function(G,U,e){var g=e(33428),L=e(24040),a=e(7316),C=e(3400),A=C.strTranslate,v=e(54460),p=e(76308),r=e(43616),t=e(93024),s=e(72736),n=e(93972),f=e(86476),u=e(31780).arrayEditor,l=e(33652);G.exports={draw:m,drawOne:h,drawRaw:c};function m(i){var d=i._fullLayout;d._infolayer.selectAll(".annotation").remove();for(var b=0;b<d.annotations.length;b++)d.annotations[b].visible&&h(i,b);return a.previousPromises(i)}function h(i,d){var b=i._fullLayout,w=b.annotations[d]||{},E=v.getFromId(i,w.xref),y=v.getFromId(i,w.yref);E&&E.setScale(),y&&y.setScale(),c(i,w,d,!1,E,y)}function M(i,d,b,w,E){var y=E[b],S=E[b+"ref"],T=b.indexOf("y")!==-1,o=v.getRefType(S)==="domain",P=T?w.h:w.w;return i?o?y+(T?-d:d)/i._length:i.p2r(i.r2p(y)+d):y+(T?-d:d)/P}function c(i,d,b,w,E,y){var S=i._fullLayout,T=i._fullLayout._size,o=i._context.edits,P,x;w?(P="annotation-"+w,x=w+".annotations"):(P="annotation",x="annotations");var _=u(i.layout,x,d),I=_.modifyBase,N=_.modifyItem,k=_.getUpdateObj;S._infolayer.selectAll("."+P+'[data-index="'+b+'"]').remove();var F="clip"+S._uid+"_ann"+b;if(!d._input||d.visible===!1){g.selectAll("#"+F).remove();return}var O={x:{},y:{}},z=+d.textangle||0,B=S._infolayer.append("g").classed(P,!0).attr("data-index",String(b)).style("opacity",d.opacity),W=B.append("g").classed("annotation-text-g",!0),q=o[d.showarrow?"annotationTail":"annotationPosition"],ee=d.captureevents||o.annotationText||q;function Q(pe){var Ae={index:b,annotation:d._input,fullAnnotation:d,event:pe};return w&&(Ae.subplotId=w),Ae}var oe=W.append("g").style("pointer-events",ee?"all":null).call(n,"pointer").on("click",function(){i._dragging=!1,i.emit("plotly_clickannotation",Q(g.event))});d.hovertext&&oe.on("mouseover",function(){var pe=d.hoverlabel,Ae=pe.font,be=this.getBoundingClientRect(),Re=i.getBoundingClientRect();t.loneHover({x0:be.left-Re.left,x1:be.right-Re.left,y:(be.top+be.bottom)/2-Re.top,text:d.hovertext,color:pe.bgcolor,borderColor:pe.bordercolor,fontFamily:Ae.family,fontSize:Ae.size,fontColor:Ae.color},{container:S._hoverlayer.node(),outerContainer:S._paper.node(),gd:i})}).on("mouseout",function(){t.loneUnhover(S._hoverlayer.node())});var Z=d.borderwidth,Y=d.borderpad,te=Z+Y,X=oe.append("rect").attr("class","bg").style("stroke-width",Z+"px").call(p.stroke,d.bordercolor).call(p.fill,d.bgcolor),$=d.width||d.height,ie=S._topclips.selectAll("#"+F).data($?[0]:[]);ie.enter().append("clipPath").classed("annclip",!0).attr("id",F).append("rect"),ie.exit().remove();var J=d.font,j=S._meta?C.templateString(d.text,S._meta):d.text,se=oe.append("text").classed("annotation-text",!0).text(j);function ne(pe){return pe.call(r.font,J).attr({"text-anchor":{left:"start",right:"end"}[d.align]||"middle"}),s.convertToTspans(pe,i,le),pe}function le(){var pe=se.selectAll("a");if(pe.size()===1&&pe.text()===se.text()){var Ae=oe.insert("a",":first-child").attr({"xlink:xlink:href":pe.attr("xlink:href"),"xlink:xlink:show":pe.attr("xlink:show")}).style({cursor:"pointer"});Ae.node().appendChild(X.node())}var be=oe.select(".annotation-text-math-group"),Re=!be.empty(),xe=r.bBox((Re?be:se).node()),Me=xe.width,ye=xe.height,Se=d.width||Me,Fe=d.height||ye,Be=Math.round(Se+2*te),_e=Math.round(Fe+2*te);function Ue(er,$t){return $t==="auto"&&(er<.3333333333333333?$t="left":er>.6666666666666666?$t="right":$t="center"),{center:0,middle:0,left:.5,bottom:-.5,right:-.5,top:.5}[$t]}for(var it=!1,lt=["x","y"],$e=0;$e<lt.length;$e++){var qe=lt[$e],ft=d[qe+"ref"]||qe,ct=d["a"+qe+"ref"],pt={x:E,y}[qe],yt=(z+(qe==="x"?0:-90))*Math.PI/180,Et=Be*Math.cos(yt),tt=_e*Math.sin(yt),Ie=Math.abs(Et)+Math.abs(tt),We=d[qe+"anchor"],Ze=d[qe+"shift"]*(qe==="x"?1:-1),He=O[qe],De,me,ge,Ee,Te,ze=v.getRefType(ft);if(pt&&ze!=="domain"){var Xe=pt.r2fraction(d[qe]);(Xe<0||Xe>1)&&(ct===ft?(Xe=pt.r2fraction(d["a"+qe]),(Xe<0||Xe>1)&&(it=!0)):it=!0),De=pt._offset+pt.r2p(d[qe]),Ee=.5}else{var et=ze==="domain";qe==="x"?(ge=d[qe],De=et?pt._offset+pt._length*ge:De=T.l+T.w*ge):(ge=1-d[qe],De=et?pt._offset+pt._length*ge:De=T.t+T.h*ge),Ee=d.showarrow?.5:ge}if(d.showarrow){He.head=De;var ut=d["a"+qe];if(Te=Et*Ue(.5,d.xanchor)-tt*Ue(.5,d.yanchor),ct===ft){var dt=v.getRefType(ct);dt==="domain"?(qe==="y"&&(ut=1-ut),He.tail=pt._offset+pt._length*ut):dt==="paper"?qe==="y"?(ut=1-ut,He.tail=T.t+T.h*ut):He.tail=T.l+T.w*ut:He.tail=pt._offset+pt.r2p(ut),me=Te}else He.tail=De+ut,me=Te+ut;He.text=He.tail+Te;var Zt=S[qe==="x"?"width":"height"];if(ft==="paper"&&(He.head=C.constrain(He.head,1,Zt-1)),ct==="pixel"){var jt=-Math.max(He.tail-3,He.text),Tt=Math.min(He.tail+3,He.text)-Zt;jt>0?(He.tail+=jt,He.text+=jt):Tt>0&&(He.tail-=Tt,He.text-=Tt)}He.tail+=Ze,He.head+=Ze}else Te=Ie*Ue(Ee,We),me=Te,He.text=De+Te;He.text+=Ze,Te+=Ze,me+=Ze,d["_"+qe+"padplus"]=Ie/2+me,d["_"+qe+"padminus"]=Ie/2-me,d["_"+qe+"size"]=Ie,d["_"+qe+"shift"]=Te}if(it){oe.remove();return}var kt=0,Qt=0;if(d.align!=="left"&&(kt=(Se-Me)*(d.align==="center"?.5:1)),d.valign!=="top"&&(Qt=(Fe-ye)*(d.valign==="middle"?.5:1)),Re)be.select("svg").attr({x:te+kt-1,y:te+Qt}).call(r.setClipUrl,$?F:null,i);else{var wr=te+Qt-xe.top,xt=te+kt-xe.left;se.call(s.positionText,xt,wr).call(r.setClipUrl,$?F:null,i)}ie.select("rect").call(r.setRect,te,te,Se,Fe),X.call(r.setRect,Z/2,Z/2,Be-Z,_e-Z),oe.call(r.setTranslate,Math.round(O.x.text-Be/2),Math.round(O.y.text-_e/2)),W.attr({transform:"rotate("+z+","+O.x.text+","+O.y.text+")"});var At=function(er,$t){B.selectAll(".annotation-arrow-g").remove();var ht=O.x.head,at=O.y.head,bt=O.x.tail+er,Ct=O.y.tail+$t,Dt=O.x.text+er,It=O.y.text+$t,Vt=C.rotationXYMatrix(z,Dt,It),Nt=C.apply2DTransform(Vt),Jt=C.apply2DTransform2(Vt),fr=+X.attr("width"),cr=+X.attr("height"),dr=Dt-.5*fr,Ge=dr+fr,Ve=It-.5*cr,Ot=Ve+cr,Ft=[[dr,Ve,dr,Ot],[dr,Ot,Ge,Ot],[Ge,Ot,Ge,Ve],[Ge,Ve,dr,Ve]].map(Jt);if(!Ft.reduce(function(Ir,cn){return Ir^!!C.segmentsIntersect(ht,at,ht+1e6,at+1e6,cn[0],cn[1],cn[2],cn[3])},!1)){Ft.forEach(function(Ir){var cn=C.segmentsIntersect(bt,Ct,ht,at,Ir[0],Ir[1],Ir[2],Ir[3]);cn&&(bt=cn.x,Ct=cn.y)});var Kt=d.arrowwidth,rr=d.arrowcolor,ur=d.arrowside,ar=B.append("g").style({opacity:p.opacity(rr)}).classed("annotation-arrow-g",!0),Bt=ar.append("path").attr("d","M"+bt+","+Ct+"L"+ht+","+at).style("stroke-width",Kt+"px").call(p.stroke,p.rgb(rr));if(l(Bt,ur,d),o.annotationPosition&&Bt.node().parentNode&&!w){var hr=ht,gr=at;if(d.standoff){var mr=Math.sqrt(Math.pow(ht-bt,2)+Math.pow(at-Ct,2));hr+=d.standoff*(bt-ht)/mr,gr+=d.standoff*(Ct-at)/mr}var vr=ar.append("path").classed("annotation-arrow",!0).classed("anndrag",!0).classed("cursor-move",!0).attr({d:"M3,3H-3V-3H3ZM0,0L"+(bt-hr)+","+(Ct-gr),transform:A(hr,gr)}).style("stroke-width",Kt+6+"px").call(p.stroke,"rgba(0,0,0,0)").call(p.fill,"rgba(0,0,0,0)"),Gr,Rr;f.init({element:vr.node(),gd:i,prepFn:function(){var Ir=r.getTranslate(oe);Gr=Ir.x,Rr=Ir.y,E&&E.autorange&&I(E._name+".autorange",!0),y&&y.autorange&&I(y._name+".autorange",!0)},moveFn:function(Ir,cn){var rn=Nt(Gr,Rr),Ln=rn[0]+Ir,En=rn[1]+cn;oe.call(r.setTranslate,Ln,En),N("x",M(E,Ir,"x",T,d)),N("y",M(y,cn,"y",T,d)),d.axref===d.xref&&N("ax",M(E,Ir,"ax",T,d)),d.ayref===d.yref&&N("ay",M(y,cn,"ay",T,d)),ar.attr("transform",A(Ir,cn)),W.attr({transform:"rotate("+z+","+Ln+","+En+")"})},doneFn:function(){L.call("_guiRelayout",i,k());var Ir=document.querySelector(".js-notes-box-panel");Ir&&Ir.redraw(Ir.selectedObj)}})}}};if(d.showarrow&&At(0,0),q){var Wt;f.init({element:oe.node(),gd:i,prepFn:function(){Wt=W.attr("transform")},moveFn:function(er,$t){var ht="pointer";if(d.showarrow)d.axref===d.xref?N("ax",M(E,er,"ax",T,d)):N("ax",d.ax+er),d.ayref===d.yref?N("ay",M(y,$t,"ay",T.w,d)):N("ay",d.ay+$t),At(er,$t);else{if(w)return;var at,bt;if(E)at=M(E,er,"x",T,d);else{var Ct=d._xsize/T.w,Dt=d.x+(d._xshift-d.xshift)/T.w-Ct/2;at=f.align(Dt+er/T.w,Ct,0,1,d.xanchor)}if(y)bt=M(y,$t,"y",T,d);else{var It=d._ysize/T.h,Vt=d.y-(d._yshift+d.yshift)/T.h-It/2;bt=f.align(Vt-$t/T.h,It,0,1,d.yanchor)}N("x",at),N("y",bt),(!E||!y)&&(ht=f.getCursor(E?.5:at,y?.5:bt,d.xanchor,d.yanchor))}W.attr({transform:A(er,$t)+Wt}),n(oe,ht)},clickFn:function(er,$t){d.captureevents&&i.emit("plotly_clickannotation",Q($t))},doneFn:function(){n(oe),L.call("_guiRelayout",i,k());var er=document.querySelector(".js-notes-box-panel");er&&er.redraw(er.selectedObj)}})}}o.annotationText?se.call(s.makeEditable,{delegate:oe,gd:i}).call(ne).on("edit",function(pe){d.text=pe,this.call(ne),N("text",pe),E&&E.autorange&&I(E._name+".autorange",!0),y&&y.autorange&&I(y._name+".autorange",!0),L.call("_guiRelayout",i,k())}):se.call(ne)}},33652:function(G,U,e){var g=e(33428),L=e(76308),a=e(72196),C=e(3400),A=C.strScale,v=C.strRotate,p=C.strTranslate;G.exports=function(t,s,n){var f=t.node(),u=a[n.arrowhead||0],l=a[n.startarrowhead||0],m=(n.arrowwidth||1)*(n.arrowsize||1),h=(n.arrowwidth||1)*(n.startarrowsize||1),M=s.indexOf("start")>=0,c=s.indexOf("end")>=0,i=u.backoff*m+n.standoff,d=l.backoff*h+n.startstandoff,b,w,E,y;if(f.nodeName==="line"){b={x:+t.attr("x1"),y:+t.attr("y1")},w={x:+t.attr("x2"),y:+t.attr("y2")};var S=b.x-w.x,T=b.y-w.y;if(E=Math.atan2(T,S),y=E+Math.PI,i&&d&&i+d>Math.sqrt(S*S+T*T)){W();return}if(i){if(i*i>S*S+T*T){W();return}var o=i*Math.cos(E),P=i*Math.sin(E);w.x+=o,w.y+=P,t.attr({x2:w.x,y2:w.y})}if(d){if(d*d>S*S+T*T){W();return}var x=d*Math.cos(E),_=d*Math.sin(E);b.x-=x,b.y-=_,t.attr({x1:b.x,y1:b.y})}}else if(f.nodeName==="path"){var I=f.getTotalLength(),N="";if(I<i+d){W();return}var k=f.getPointAtLength(0),F=f.getPointAtLength(.1);E=Math.atan2(k.y-F.y,k.x-F.x),b=f.getPointAtLength(Math.min(d,I)),N="0px,"+d+"px,";var O=f.getPointAtLength(I),z=f.getPointAtLength(I-.1);y=Math.atan2(O.y-z.y,O.x-z.x),w=f.getPointAtLength(Math.max(0,I-i));var B=N?d+i:i;N+=I-B+"px,"+I+"px",t.style("stroke-dasharray",N)}function W(){t.style("stroke-dasharray","0px,100px")}function q(ee,Q,oe,Z){!ee.path||(ee.noRotate&&(oe=0),g.select(f.parentNode).append("path").attr({class:t.attr("class"),d:ee.path,transform:p(Q.x,Q.y)+v(oe*180/Math.PI)+A(Z)}).style({fill:L.rgb(n.arrowcolor),"stroke-width":0}))}M&&q(l,b,E,h),c&&q(u,w,y,m)}},79180:function(G,U,e){var g=e(23816),L=e(42300);G.exports={moduleType:"component",name:"annotations",layoutAttributes:e(13916),supplyLayoutDefaults:e(45216),includeBasePlot:e(36632)("annotations"),calcAutorange:e(90272),draw:g.draw,drawOne:g.drawOne,drawRaw:g.drawRaw,hasClickToShow:L.hasClickToShow,onClick:L.onClick,convertCoords:e(26828)}},45899:function(G,U,e){var g=e(13916),L=e(67824).overrideAll,a=e(31780).templatedArray;G.exports=L(a("annotation",{visible:g.visible,x:{valType:"any"},y:{valType:"any"},z:{valType:"any"},ax:{valType:"number"},ay:{valType:"number"},xanchor:g.xanchor,xshift:g.xshift,yanchor:g.yanchor,yshift:g.yshift,text:g.text,textangle:g.textangle,font:g.font,width:g.width,height:g.height,opacity:g.opacity,align:g.align,valign:g.valign,bgcolor:g.bgcolor,bordercolor:g.bordercolor,borderpad:g.borderpad,borderwidth:g.borderwidth,showarrow:g.showarrow,arrowcolor:g.arrowcolor,arrowhead:g.arrowhead,startarrowhead:g.startarrowhead,arrowside:g.arrowside,arrowsize:g.arrowsize,startarrowsize:g.startarrowsize,arrowwidth:g.arrowwidth,standoff:g.standoff,startstandoff:g.startstandoff,hovertext:g.hovertext,hoverlabel:g.hoverlabel,captureevents:g.captureevents}),"calc","from-root")},42456:function(G,U,e){var g=e(3400),L=e(54460);G.exports=function(A){for(var v=A.fullSceneLayout,p=v.annotations,r=0;r<p.length;r++)a(p[r],A);A.fullLayout._infolayer.selectAll(".annotation-"+A.id).remove()};function a(C,A){var v=A.fullSceneLayout,p=v.domain,r=A.fullLayout._size,t={pdata:null,type:"linear",autorange:!1,range:[-1/0,1/0]};C._xa={},g.extendFlat(C._xa,t),L.setConvert(C._xa),C._xa._offset=r.l+p.x[0]*r.w,C._xa.l2p=function(){return .5*(1+C._pdata[0]/C._pdata[3])*r.w*(p.x[1]-p.x[0])},C._ya={},g.extendFlat(C._ya,t),L.setConvert(C._ya),C._ya._offset=r.t+(1-p.y[1])*r.h,C._ya.l2p=function(){return .5*(1-C._pdata[1]/C._pdata[3])*r.h*(p.y[1]-p.y[0])}}},52808:function(G,U,e){var g=e(3400),L=e(54460),a=e(51272),C=e(87192),A=e(45899);G.exports=function(r,t,s){a(r,t,{name:"annotations",handleItemDefaults:v,fullLayout:s.fullLayout})};function v(p,r,t,s){function n(l,m){return g.coerce(p,r,A,l,m)}function f(l){var m=l+"axis",h={_fullLayout:{}};return h._fullLayout[m]=t[m],L.coercePosition(r,h,n,l,l,.5)}var u=n("visible");!u||(C(p,r,s.fullLayout,n),f("x"),f("y"),f("z"),g.noneOrAll(p,r,["x","y","z"]),r.xref="x",r.yref="y",r.zref="z",n("xanchor"),n("yanchor"),n("xshift"),n("yshift"),r.showarrow&&(r.axref="pixel",r.ayref="pixel",n("ax",-10),n("ay",-30),g.noneOrAll(p,r,["ax","ay"])))}},71836:function(G,U,e){var g=e(23816).drawRaw,L=e(94424),a=["x","y","z"];G.exports=function(A){for(var v=A.fullSceneLayout,p=A.dataScale,r=v.annotations,t=0;t<r.length;t++){for(var s=r[t],n=!1,f=0;f<3;f++){var u=a[f],l=s[u],m=v[u+"axis"],h=m.r2fraction(l);if(h<0||h>1){n=!0;break}}n?A.fullLayout._infolayer.select(".annotation-"+A.id+'[data-index="'+t+'"]').remove():(s._pdata=L(A.glplot.cameraParams,[v.xaxis.r2l(s.x)*p[0],v.yaxis.r2l(s.y)*p[1],v.zaxis.r2l(s.z)*p[2]]),g(A.graphDiv,s,t,A.id,s._xa,s._ya))}}},56864:function(G,U,e){var g=e(24040),L=e(3400);G.exports={moduleType:"component",name:"annotations3d",schema:{subplots:{scene:{annotations:e(45899)}}},layoutAttributes:e(45899),handleDefaults:e(52808),includeBasePlot:a,convert:e(42456),draw:e(71836)};function a(C,A){var v=g.subplotsRegistry.gl3d;if(!!v)for(var p=v.attrRegex,r=Object.keys(C),t=0;t<r.length;t++){var s=r[t];p.test(s)&&(C[s].annotations||[]).length&&(L.pushUnique(A._basePlotModules,v),L.pushUnique(A._subplots.gl3d,s))}}},54976:function(G,U,e){G.exports=e(38700),e(15168),e(67020),e(89792),e(55668),e(65168),e(2084),e(26368),e(24747),e(65616),e(30632),e(73040),e(1104),e(51456),e(4592),e(45348)},97776:function(G,U,e){var g=e(54976),L=e(3400),a=e(39032),C=a.EPOCHJD,A=a.ONEDAY,v={valType:"enumerated",values:L.sortObjectKeys(g.calendars),editType:"calc",dflt:"gregorian"},p=function(E,y,S,T){var o={};return o[S]=v,L.coerce(E,y,o,S,T)},r=function(E,y,S,T){for(var o=0;o<S.length;o++)p(E,y,S[o]+"calendar",T.calendar)},t={chinese:"2000-01-01",coptic:"2000-01-01",discworld:"2000-01-01",ethiopian:"2000-01-01",hebrew:"5000-01-01",islamic:"1000-01-01",julian:"2000-01-01",mayan:"5000-01-01",nanakshahi:"1000-01-01",nepali:"2000-01-01",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-01",thai:"2000-01-01",ummalqura:"1400-01-01"},s={chinese:"2000-01-02",coptic:"2000-01-03",discworld:"2000-01-03",ethiopian:"2000-01-05",hebrew:"5000-01-01",islamic:"1000-01-02",julian:"2000-01-03",mayan:"5000-01-01",nanakshahi:"1000-01-05",nepali:"2000-01-05",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-04",thai:"2000-01-04",ummalqura:"1400-01-06"},n={chinese:["2000-01-01","2001-01-01"],coptic:["1700-01-01","1701-01-01"],discworld:["1800-01-01","1801-01-01"],ethiopian:["2000-01-01","2001-01-01"],hebrew:["5700-01-01","5701-01-01"],islamic:["1400-01-01","1401-01-01"],julian:["2000-01-01","2001-01-01"],mayan:["5200-01-01","5201-01-01"],nanakshahi:["0500-01-01","0501-01-01"],nepali:["2000-01-01","2001-01-01"],persian:["1400-01-01","1401-01-01"],jalali:["1400-01-01","1401-01-01"],taiwan:["0100-01-01","0101-01-01"],thai:["2500-01-01","2501-01-01"],ummalqura:["1400-01-01","1401-01-01"]},f="##",u={d:{0:"dd","-":"d"},e:{0:"d","-":"d"},a:{0:"D","-":"D"},A:{0:"DD","-":"DD"},j:{0:"oo","-":"o"},W:{0:"ww","-":"w"},m:{0:"mm","-":"m"},b:{0:"M","-":"M"},B:{0:"MM","-":"MM"},y:{0:"yy","-":"yy"},Y:{0:"yyyy","-":"yyyy"},U:f,w:f,c:{0:"D M d %X yyyy","-":"D M d %X yyyy"},x:{0:"mm/dd/yyyy","-":"mm/dd/yyyy"}};function l(E,y,S){for(var T=Math.floor((y+.05)/A)+C,o=h(S).fromJD(T),P=0,x,_,I,N,k;(P=E.indexOf("%",P))!==-1;)x=E.charAt(P+1),x==="0"||x==="-"||x==="_"?(I=3,_=E.charAt(P+2),x==="_"&&(x="-")):(_=x,x="0",I=2),N=u[_],N?(N===f?k=f:k=o.formatDate(N[x]),E=E.substr(0,P)+k+E.substr(P+I),P+=k.length):P+=I;return E}var m={};function h(E){var y=m[E];return y||(y=m[E]=g.instance(E),y)}function M(E){return L.extendFlat({},v,{description:E})}function c(E){return"Sets the calendar system to use with `"+E+"` date data."}var i={xcalendar:M(c("x"))},d=L.extendFlat({},i,{ycalendar:M(c("y"))}),b=L.extendFlat({},d,{zcalendar:M(c("z"))}),w=M(["Sets the calendar system to use for `range` and `tick0`","if this is a date axis. This does not set the calendar for","interpreting data on this axis, that's specified in the trace","or via the global `layout.calendar`"].join(" "));G.exports={moduleType:"component",name:"calendars",schema:{traces:{scatter:d,bar:d,box:d,heatmap:d,contour:d,histogram:d,histogram2d:d,histogram2dcontour:d,scatter3d:b,surface:b,mesh3d:b,scattergl:d,ohlc:i,candlestick:i},layout:{calendar:M(["Sets the default calendar system to use for interpreting and","displaying dates throughout the plot."].join(" "))},subplots:{xaxis:{calendar:w},yaxis:{calendar:w},scene:{xaxis:{calendar:w},yaxis:{calendar:w},zaxis:{calendar:w}},polar:{radialaxis:{calendar:w}}},transforms:{filter:{valuecalendar:M(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `value`, if it is a date."].join(" ")),targetcalendar:M(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `target`, if it is an","array of dates. If `target` is a string (eg *x*) we use the","corresponding trace attribute (eg `xcalendar`) if it exists,","even if `targetcalendar` is provided."].join(" "))}}},layoutAttributes:v,handleDefaults:p,handleTraceDefaults:r,CANONICAL_SUNDAY:s,CANONICAL_TICK:t,DFLTRANGE:n,getCal:h,worldCalFmt:l}},22548:function(G,U){U.defaults=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],U.defaultLine="#444",U.lightLine="#eee",U.background="#fff",U.borderLine="#BEC8D9",U.lightFraction=90.9090909090909},76308:function(G,U,e){var g=e(49760),L=e(38248),a=e(38116).isTypedArray,C=G.exports={},A=e(22548);C.defaults=A.defaults;var v=C.defaultLine=A.defaultLine;C.lightLine=A.lightLine;var p=C.background=A.background;C.tinyRGB=function(t){var s=t.toRgb();return"rgb("+Math.round(s.r)+", "+Math.round(s.g)+", "+Math.round(s.b)+")"},C.rgb=function(t){return C.tinyRGB(g(t))},C.opacity=function(t){return t?g(t).getAlpha():0},C.addOpacity=function(t,s){var n=g(t).toRgb();return"rgba("+Math.round(n.r)+", "+Math.round(n.g)+", "+Math.round(n.b)+", "+s+")"},C.combine=function(t,s){var n=g(t).toRgb();if(n.a===1)return g(t).toRgbString();var f=g(s||p).toRgb(),u=f.a===1?f:{r:255*(1-f.a)+f.r*f.a,g:255*(1-f.a)+f.g*f.a,b:255*(1-f.a)+f.b*f.a},l={r:u.r*(1-n.a)+n.r*n.a,g:u.g*(1-n.a)+n.g*n.a,b:u.b*(1-n.a)+n.b*n.a};return g(l).toRgbString()},C.interpolate=function(t,s,n){var f=g(t).toRgb(),u=g(s).toRgb(),l={r:n*f.r+(1-n)*u.r,g:n*f.g+(1-n)*u.g,b:n*f.b+(1-n)*u.b};return g(l).toRgbString()},C.contrast=function(t,s,n){var f=g(t);f.getAlpha()!==1&&(f=g(C.combine(t,p)));var u=f.isDark()?s?f.lighten(s):p:n?f.darken(n):v;return u.toString()},C.stroke=function(t,s){var n=g(s);t.style({stroke:C.tinyRGB(n),"stroke-opacity":n.getAlpha()})},C.fill=function(t,s){var n=g(s);t.style({fill:C.tinyRGB(n),"fill-opacity":n.getAlpha()})},C.clean=function(t){if(!(!t||typeof t!="object")){var s=Object.keys(t),n,f,u,l;for(n=0;n<s.length;n++)if(u=s[n],l=t[u],u.substr(u.length-5)==="color")if(Array.isArray(l))for(f=0;f<l.length;f++)l[f]=r(l[f]);else t[u]=r(l);else if(u.substr(u.length-10)==="colorscale"&&Array.isArray(l))for(f=0;f<l.length;f++)Array.isArray(l[f])&&(l[f][1]=r(l[f][1]));else if(Array.isArray(l)){var m=l[0];if(!Array.isArray(m)&&m&&typeof m=="object")for(f=0;f<l.length;f++)C.clean(l[f])}else l&&typeof l=="object"&&!a(l)&&C.clean(l)}};function r(t){if(L(t)||typeof t!="string")return t;var s=t.trim();if(s.substr(0,3)!=="rgb")return t;var n=s.match(/^rgba?\s*\(([^()]*)\)$/);if(!n)return t;var f=n[1].trim().split(/\s*[\s,]\s*/),u=s.charAt(3)==="a"&&f.length===4;if(!u&&f.length!==3)return t;for(var l=0;l<f.length;l++){if(!f[l].length||(f[l]=Number(f[l]),!(f[l]>=0)))return t;if(l===3)f[l]>1&&(f[l]=1);else if(f[l]>=1)return t}var m=Math.round(f[0]*255)+", "+Math.round(f[1]*255)+", "+Math.round(f[2]*255);return u?"rgba("+m+", "+f[3]+")":"rgb("+m+")"}},42996:function(G,U,e){var g=e(94724),L=e(25376),a=e(92880).extendFlat,C=e(67824).overrideAll;G.exports=C({orientation:{valType:"enumerated",values:["h","v"],dflt:"v"},thicknessmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels"},thickness:{valType:"number",min:0,dflt:30},lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["left","center","right"]},xpad:{valType:"number",min:0,dflt:10},y:{valType:"number"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},ypad:{valType:"number",min:0,dflt:10},outlinecolor:g.linecolor,outlinewidth:g.linewidth,bordercolor:g.linecolor,borderwidth:{valType:"number",min:0,dflt:0},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},tickmode:g.minor.tickmode,nticks:g.nticks,tick0:g.tick0,dtick:g.dtick,tickvals:g.tickvals,ticktext:g.ticktext,ticks:a({},g.ticks,{dflt:""}),ticklabeloverflow:a({},g.ticklabeloverflow,{}),ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside"},ticklen:g.ticklen,tickwidth:g.tickwidth,tickcolor:g.tickcolor,ticklabelstep:g.ticklabelstep,showticklabels:g.showticklabels,labelalias:g.labelalias,tickfont:L({}),tickangle:g.tickangle,tickformat:g.tickformat,tickformatstops:g.tickformatstops,tickprefix:g.tickprefix,showtickprefix:g.showtickprefix,ticksuffix:g.ticksuffix,showticksuffix:g.showticksuffix,separatethousands:g.separatethousands,exponentformat:g.exponentformat,minexponent:g.minexponent,showexponent:g.showexponent,title:{text:{valType:"string"},font:L({}),side:{valType:"enumerated",values:["right","top","bottom"]}},_deprecated:{title:{valType:"string"},titlefont:L({}),titleside:{valType:"enumerated",values:["right","top","bottom"],dflt:"top"}}},"colorbars","from-root")},63964:function(G){G.exports={cn:{colorbar:"colorbar",cbbg:"cbbg",cbfill:"cbfill",cbfills:"cbfills",cbline:"cbline",cblines:"cblines",cbaxis:"cbaxis",cbtitleunshift:"cbtitleunshift",cbtitle:"cbtitle",cboutline:"cboutline",crisp:"crisp",jsPlaceholder:"js-placeholder"}}},64013:function(G,U,e){var g=e(3400),L=e(31780),a=e(26332),C=e(25404),A=e(95936),v=e(42568),p=e(42996);G.exports=function(t,s,n){var f=L.newContainer(s,"colorbar"),u=t.colorbar||{};function l(O,z){return g.coerce(u,f,p,O,z)}var m=n.margin||{t:0,b:0,l:0,r:0},h=n.width-m.l-m.r,M=n.height-m.t-m.b,c=l("orientation"),i=c==="v",d=l("thicknessmode");l("thickness",d==="fraction"?30/(i?h:M):30);var b=l("lenmode");l("len",b==="fraction"?1:i?M:h);var w=l("yref"),E=l("xref"),y=w==="paper",S=E==="paper",T,o,P,x="left";i?(P="middle",x=S?"left":"right",T=S?1.02:1,o=.5):(P=y?"bottom":"top",x="center",T=.5,o=y?1.02:1),g.coerce(u,f,{x:{valType:"number",min:S?-2:0,max:S?3:1,dflt:T}},"x"),g.coerce(u,f,{y:{valType:"number",min:y?-2:0,max:y?3:1,dflt:o}},"y"),l("xanchor",x),l("xpad"),l("yanchor",P),l("ypad"),g.noneOrAll(u,f,["x","y"]),l("outlinecolor"),l("outlinewidth"),l("bordercolor"),l("borderwidth"),l("bgcolor");var _=g.coerce(u,f,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:i?["outside","inside","outside top","inside top","outside bottom","inside bottom"]:["outside","inside","outside left","inside left","outside right","inside right"]}},"ticklabelposition");l("ticklabeloverflow",_.indexOf("inside")!==-1?"hide past domain":"hide past div"),a(u,f,l,"linear");var I=n.font,N={noAutotickangles:!0,outerTicks:!1,font:I};_.indexOf("inside")!==-1&&(N.bgColor="black"),v(u,f,l,"linear",N),A(u,f,l,"linear",N),C(u,f,l,"linear",N),l("title.text",n._dfltTitle.colorbar);var k=f.showticklabels?f.tickfont:I,F=g.extendFlat({},k,{color:I.color,size:g.bigFont(k.size)});g.coerceFont(l,"title.font",F),l("title.side",i?"top":"right")}},37848:function(G,U,e){var g=e(33428),L=e(49760),a=e(7316),C=e(24040),A=e(54460),v=e(86476),p=e(3400),r=p.strTranslate,t=e(92880).extendFlat,s=e(93972),n=e(43616),f=e(76308),u=e(81668),l=e(72736),m=e(94288).flipScale,h=e(28336),M=e(37668),c=e(94724),i=e(84284),d=i.LINE_SPACING,b=i.FROM_TL,w=i.FROM_BR,E=e(63964).cn;function y(_){var I=_._fullLayout,N=I._infolayer.selectAll("g."+E.colorbar).data(S(_),function(k){return k._id});N.enter().append("g").attr("class",function(k){return k._id}).classed(E.colorbar,!0),N.each(function(k){var F=g.select(this);p.ensureSingle(F,"rect",E.cbbg),p.ensureSingle(F,"g",E.cbfills),p.ensureSingle(F,"g",E.cblines),p.ensureSingle(F,"g",E.cbaxis,function(z){z.classed(E.crisp,!0)}),p.ensureSingle(F,"g",E.cbtitleunshift,function(z){z.append("g").classed(E.cbtitle,!0)}),p.ensureSingle(F,"rect",E.cboutline);var O=T(F,k,_);O&&O.then&&(_._promises||[]).push(O),_._context.edits.colorbarPosition&&o(F,k,_)}),N.exit().each(function(k){a.autoMargin(_,k._id)}).remove(),N.order()}function S(_){var I=_._fullLayout,N=_.calcdata,k=[],F,O,z,B;function W(J){return t(J,{_fillcolor:null,_line:{color:null,width:null,dash:null},_levels:{start:null,end:null,size:null},_filllevels:null,_fillgradient:null,_zrange:null})}function q(){typeof B.calc=="function"?B.calc(_,z,F):(F._fillgradient=O.reversescale?m(O.colorscale):O.colorscale,F._zrange=[O[B.min],O[B.max]])}for(var ee=0;ee<N.length;ee++){var Q=N[ee];if(z=Q[0].trace,!!z._module){var oe=z._module.colorbar;if(z.visible===!0&&oe)for(var Z=Array.isArray(oe),Y=Z?oe:[oe],te=0;te<Y.length;te++){B=Y[te];var X=B.container;O=X?z[X]:z,O&&O.showscale&&(F=W(O.colorbar),F._id="cb"+z.uid+(Z&&X?"-"+X:""),F._traceIndex=z.index,F._propPrefix=(X?X+".":"")+"colorbar.",F._meta=z._meta,q(),k.push(F))}}}for(var $ in I._colorAxes)if(O=I[$],O.showscale){var ie=I._colorAxes[$];F=W(O.colorbar),F._id="cb"+$,F._propPrefix=$+".colorbar.",F._meta=I._meta,B={min:"cmin",max:"cmax"},ie[0]!=="heatmap"&&(z=ie[1],B.calc=z._module.colorbar.calc),q(),k.push(F)}return k}function T(_,I,N){var k=I.orientation==="v",F=I.len,O=I.lenmode,z=I.thickness,B=I.thicknessmode,W=I.outlinewidth,q=I.borderwidth,ee=I.bgcolor,Q=I.xanchor,oe=I.yanchor,Z=I.xpad,Y=I.ypad,te=I.x,X=k?I.y:1-I.y,$=I.yref==="paper",ie=I.xref==="paper",J=N._fullLayout,j=J._size,se=I._fillcolor,ne=I._line,le=I.title,pe=le.side,Ae=I._zrange||g.extent((typeof se=="function"?se:ne.color).domain()),be=typeof ne.color=="function"?ne.color:function(){return ne.color},Re=typeof se=="function"?se:function(){return se},xe=I._levels,Me=P(N,I,Ae),ye=Me.fill,Se=Me.line,Fe=Math.round(z*(B==="fraction"?k?j.w:j.h:1)),Be=Fe/(k?j.w:j.h),_e=Math.round(F*(O==="fraction"?k?j.h:j.w:1)),Ue=_e/(k?j.h:j.w),it=ie?j.w:N._fullLayout.width,lt=$?j.h:N._fullLayout.height,$e=Math.round(k?te*it+Z:X*lt+Y),qe={center:.5,right:1}[Q]||0,ft={top:1,middle:.5}[oe]||0,ct=k?te-qe*Be:X-ft*Be,pt=k?X-ft*Ue:te-qe*Ue,yt=Math.round(k?lt*(1-pt):it*pt);I._lenFrac=Ue,I._thickFrac=Be,I._uFrac=ct,I._vFrac=pt;var Et=I._axis=x(N,I,Ae);Et.position=Be+(k?te+Z/j.w:X+Y/j.h);var tt=["top","bottom"].indexOf(pe)!==-1;if(k&&tt&&(Et.title.side=pe,Et.titlex=te+Z/j.w,Et.titley=pt+(le.side==="top"?Ue-Y/j.h:Y/j.h)),!k&&!tt&&(Et.title.side=pe,Et.titley=X+Y/j.h,Et.titlex=pt+Z/j.w),ne.color&&I.tickmode==="auto"){Et.tickmode="linear",Et.tick0=xe.start;var Ie=xe.size,We=p.constrain(_e/50,4,15)+1,Ze=(Ae[1]-Ae[0])/((I.nticks||We)*Ie);if(Ze>1){var He=Math.pow(10,Math.floor(Math.log(Ze)/Math.LN10));Ie*=He*p.roundUp(Ze/He,[2,5,10]),(Math.abs(xe.start)/xe.size+1e-6)%1<2e-6&&(Et.tick0=0)}Et.dtick=Ie}Et.domain=k?[pt+Y/j.h,pt+Ue-Y/j.h]:[pt+Z/j.w,pt+Ue-Z/j.w],Et.setScale(),_.attr("transform",r(Math.round(j.l),Math.round(j.t)));var De=_.select("."+E.cbtitleunshift).attr("transform",r(-Math.round(j.l),-Math.round(j.t))),me=Et.ticklabelposition,ge=Et.title.font.size,Ee=_.select("."+E.cbaxis),Te,ze=0,Xe=0;function et(Tt,kt){var Qt={propContainer:Et,propName:I._propPrefix+"title",traceIndex:I._traceIndex,_meta:I._meta,placeholder:J._dfltTitle.colorbar,containerGroup:_.select("."+E.cbtitle)},wr=Tt.charAt(0)==="h"?Tt.substr(1):"h"+Tt;_.selectAll("."+wr+",."+wr+"-math-group").remove(),u.draw(N,Tt,t(Qt,kt||{}))}function ut(){if(k&&tt||!k&&!tt){var Tt,kt;pe==="top"&&(Tt=Z+j.l+it*te,kt=Y+j.t+lt*(1-pt-Ue)+3+ge*.75),pe==="bottom"&&(Tt=Z+j.l+it*te,kt=Y+j.t+lt*(1-pt)-3-ge*.25),pe==="right"&&(kt=Y+j.t+lt*X+3+ge*.75,Tt=Z+j.l+it*pt),et(Et._id+"title",{attributes:{x:Tt,y:kt,"text-anchor":k?"start":"middle"}})}}function dt(){if(k&&!tt||!k&&tt){var Tt=Et.position||0,kt=Et._offset+Et._length/2,Qt,wr;if(pe==="right")wr=kt,Qt=j.l+it*Tt+10+ge*(Et.showticklabels?1:.5);else if(Qt=kt,pe==="bottom"&&(wr=j.t+lt*Tt+10+(me.indexOf("inside")===-1?Et.tickfont.size:0)+(Et.ticks!=="intside"&&I.ticklen||0)),pe==="top"){var xt=le.text.split("<br>").length;wr=j.t+lt*Tt+10-Fe-d*ge*xt}et((k?"h":"v")+Et._id+"title",{avoid:{selection:g.select(N).selectAll("g."+Et._id+"tick"),side:pe,offsetTop:k?0:j.t,offsetLeft:k?j.l:0,maxShift:k?J.width:J.height},attributes:{x:Qt,y:wr,"text-anchor":"middle"},transform:{rotate:k?-90:0,offset:0}})}}function Zt(){if(!k&&!tt||k&&tt){var Tt=_.select("."+E.cbtitle),kt=Tt.select("text"),Qt=[-W/2,W/2],wr=Tt.select(".h"+Et._id+"title-math-group").node(),xt=15.6;kt.node()&&(xt=parseInt(kt.node().style.fontSize,10)*d);var At;if(wr?(At=n.bBox(wr),Xe=At.width,ze=At.height,ze>xt&&(Qt[1]-=(ze-xt)/2)):kt.node()&&!kt.classed(E.jsPlaceholder)&&(At=n.bBox(kt.node()),Xe=At.width,ze=At.height),k){if(ze){if(ze+=5,pe==="top")Et.domain[1]-=ze/j.h,Qt[1]*=-1;else{Et.domain[0]+=ze/j.h;var Wt=l.lineCount(kt);Qt[1]+=(1-Wt)*xt}Tt.attr("transform",r(Qt[0],Qt[1])),Et.setScale()}}else Xe&&(pe==="right"&&(Et.domain[0]+=(Xe+ge/2)/j.w),Tt.attr("transform",r(Qt[0],Qt[1])),Et.setScale())}_.selectAll("."+E.cbfills+",."+E.cblines).attr("transform",k?r(0,Math.round(j.h*(1-Et.domain[1]))):r(Math.round(j.w*Et.domain[0]),0)),Ee.attr("transform",k?r(0,Math.round(-j.t)):r(Math.round(-j.l),0));var er=_.select("."+E.cbfills).selectAll("rect."+E.cbfill).attr("style","").data(ye);er.enter().append("rect").classed(E.cbfill,!0).attr("style",""),er.exit().remove();var $t=Ae.map(Et.c2p).map(Math.round).sort(function(Dt,It){return Dt-It});er.each(function(Dt,It){var Vt=[It===0?Ae[0]:(ye[It]+ye[It-1])/2,It===ye.length-1?Ae[1]:(ye[It]+ye[It+1])/2].map(Et.c2p).map(Math.round);k&&(Vt[1]=p.constrain(Vt[1]+(Vt[1]>Vt[0])?1:-1,$t[0],$t[1]));var Nt=g.select(this).attr(k?"x":"y",$e).attr(k?"y":"x",g.min(Vt)).attr(k?"width":"height",Math.max(Fe,2)).attr(k?"height":"width",Math.max(g.max(Vt)-g.min(Vt),2));if(I._fillgradient)n.gradient(Nt,N,I._id,k?"vertical":"horizontalreversed",I._fillgradient,"fill");else{var Jt=Re(Dt).replace("e-","");Nt.attr("fill",L(Jt).toHexString())}});var ht=_.select("."+E.cblines).selectAll("path."+E.cbline).data(ne.color&&ne.width?Se:[]);ht.enter().append("path").classed(E.cbline,!0),ht.exit().remove(),ht.each(function(Dt){var It=$e,Vt=Math.round(Et.c2p(Dt))+ne.width/2%1;g.select(this).attr("d","M"+(k?It+","+Vt:Vt+","+It)+(k?"h":"v")+Fe).call(n.lineGroupStyle,ne.width,be(Dt),ne.dash)}),Ee.selectAll("g."+Et._id+"tick,path").remove();var at=$e+Fe+(W||0)/2-(I.ticks==="outside"?1:0),bt=A.calcTicks(Et),Ct=A.getTickSigns(Et)[2];return A.drawTicks(N,Et,{vals:Et.ticks==="inside"?A.clipEnds(Et,bt):bt,layer:Ee,path:A.makeTickPath(Et,at,Ct),transFn:A.makeTransTickFn(Et)}),A.drawLabels(N,Et,{vals:bt,layer:Ee,transFn:A.makeTransTickLabelFn(Et),labelFns:A.makeLabelFns(Et,at)})}function jt(){var Tt,kt=Fe+W/2;me.indexOf("inside")===-1&&(Tt=n.bBox(Ee.node()),kt+=k?Tt.width:Tt.height),Te=De.select("text");var Qt=0,wr=k&&pe==="top",xt=!k&&pe==="right",At=0;if(Te.node()&&!Te.classed(E.jsPlaceholder)){var Wt,er=De.select(".h"+Et._id+"title-math-group").node();er&&(k&&tt||!k&&!tt)?(Tt=n.bBox(er),Qt=Tt.width,Wt=Tt.height):(Tt=n.bBox(De.node()),Qt=Tt.right-j.l-(k?$e:yt),Wt=Tt.bottom-j.t-(k?yt:$e),!k&&pe==="top"&&(kt+=Tt.height,At=Tt.height)),xt&&(Te.attr("transform",r(Qt/2+ge/2,0)),Qt*=2),kt=Math.max(kt,k?Qt:Wt)}var $t=(k?Z:Y)*2+kt+q+W/2,ht=0;!k&&le.text&&oe==="bottom"&&X<=0&&(ht=$t/2,$t+=ht,At+=ht),J._hColorbarMoveTitle=ht,J._hColorbarMoveCBTitle=At;var at=q+W,bt=(k?$e:yt)-at/2-(k?Z:0),Ct=(k?yt:$e)-(k?_e:Y+At-ht);_.select("."+E.cbbg).attr("x",bt).attr("y",Ct).attr(k?"width":"height",Math.max($t-ht,2)).attr(k?"height":"width",Math.max(_e+at,2)).call(f.fill,ee).call(f.stroke,I.bordercolor).style("stroke-width",q);var Dt=xt?Math.max(Qt-10,0):0;_.selectAll("."+E.cboutline).attr("x",(k?$e:yt+Z)+Dt).attr("y",(k?yt+Y-_e:$e)+(wr?ze:0)).attr(k?"width":"height",Math.max(Fe,2)).attr(k?"height":"width",Math.max(_e-(k?2*Y+ze:2*Z+Dt),2)).call(f.stroke,I.outlinecolor).style({fill:"none","stroke-width":W});var It=k?qe*$t:0,Vt=k?0:(1-ft)*$t-At;if(It=ie?j.l-It:-It,Vt=$?j.t-Vt:-Vt,_.attr("transform",r(It,Vt)),!k&&(q||L(ee).getAlpha()&&!L.equals(J.paper_bgcolor,ee))){var Nt=Ee.selectAll("text"),Jt=Nt[0].length,fr=_.select("."+E.cbbg).node(),cr=n.bBox(fr),dr=n.getTranslate(_),Ge=2;Nt.each(function(gr,mr){var vr=0,Gr=Jt-1;if(mr===vr||mr===Gr){var Rr=n.bBox(this),Ir=n.getTranslate(this),cn;if(mr===Gr){var rn=Rr.right+Ir.x,Ln=cr.right+dr.x+yt-q-Ge+te;cn=Ln-rn,cn>0&&(cn=0)}else if(mr===vr){var En=Rr.left+Ir.x,Tr=cr.left+dr.x+yt+q+Ge;cn=Tr-En,cn<0&&(cn=0)}cn&&(Jt<3?this.setAttribute("transform","translate("+cn+",0) "+this.getAttribute("transform")):this.setAttribute("visibility","hidden"))}})}var Ve={},Ot=b[Q],Ft=w[Q],Kt=b[oe],rr=w[oe],ur=$t-Fe;k?(O==="pixels"?(Ve.y=X,Ve.t=_e*Kt,Ve.b=_e*rr):(Ve.t=Ve.b=0,Ve.yt=X+F*Kt,Ve.yb=X-F*rr),B==="pixels"?(Ve.x=te,Ve.l=$t*Ot,Ve.r=$t*Ft):(Ve.l=ur*Ot,Ve.r=ur*Ft,Ve.xl=te-z*Ot,Ve.xr=te+z*Ft)):(O==="pixels"?(Ve.x=te,Ve.l=_e*Ot,Ve.r=_e*Ft):(Ve.l=Ve.r=0,Ve.xl=te+F*Ot,Ve.xr=te-F*Ft),B==="pixels"?(Ve.y=1-X,Ve.t=$t*Kt,Ve.b=$t*rr):(Ve.t=ur*Kt,Ve.b=ur*rr,Ve.yt=X-z*Kt,Ve.yb=X+z*rr));var ar=I.y<.5?"b":"t",Bt=I.x<.5?"l":"r";N._fullLayout._reservedMargin[I._id]={};var hr={r:J.width-bt-It,l:bt+Ve.r,b:J.height-Ct-Vt,t:Ct+Ve.b};ie&&$?a.autoMargin(N,I._id,Ve):ie?N._fullLayout._reservedMargin[I._id][ar]=hr[ar]:$||k?N._fullLayout._reservedMargin[I._id][Bt]=hr[Bt]:N._fullLayout._reservedMargin[I._id][ar]=hr[ar]}return p.syncOrAsync([a.previousPromises,ut,Zt,dt,a.previousPromises,jt],N)}function o(_,I,N){var k=I.orientation==="v",F=N._fullLayout,O=F._size,z,B,W;v.init({element:_.node(),gd:N,prepFn:function(){z=_.attr("transform"),s(_)},moveFn:function(q,ee){_.attr("transform",z+r(q,ee)),B=v.align((k?I._uFrac:I._vFrac)+q/O.w,k?I._thickFrac:I._lenFrac,0,1,I.xanchor),W=v.align((k?I._vFrac:1-I._uFrac)-ee/O.h,k?I._lenFrac:I._thickFrac,0,1,I.yanchor);var Q=v.getCursor(B,W,I.xanchor,I.yanchor);s(_,Q)},doneFn:function(){if(s(_),B!==void 0&&W!==void 0){var q={};q[I._propPrefix+"x"]=B,q[I._propPrefix+"y"]=W,I._traceIndex!==void 0?C.call("_guiRestyle",N,q,I._traceIndex):C.call("_guiRelayout",N,q)}}})}function P(_,I,N){var k=I._levels,F=[],O=[],z,B,W=k.end+k.size/100,q=k.size,ee=1.001*N[0]-.001*N[1],Q=1.001*N[1]-.001*N[0];for(B=0;B<1e5&&(z=k.start+B*q,!(q>0?z>=W:z<=W));B++)z>ee&&z<Q&&F.push(z);if(I._fillgradient)O=[0];else if(typeof I._fillcolor=="function"){var oe=I._filllevels;if(oe)for(W=oe.end+oe.size/100,q=oe.size,B=0;B<1e5&&(z=oe.start+B*q,!(q>0?z>=W:z<=W));B++)z>N[0]&&z<N[1]&&O.push(z);else O=F.map(function(Z){return Z-k.size/2}),O.push(O[O.length-1]+k.size)}else I._fillcolor&&typeof I._fillcolor=="string"&&(O=[0]);return k.size<0&&(F.reverse(),O.reverse()),{line:F,fill:O}}function x(_,I,N){var k=_._fullLayout,F=I.orientation==="v",O={type:"linear",range:N,tickmode:I.tickmode,nticks:I.nticks,tick0:I.tick0,dtick:I.dtick,tickvals:I.tickvals,ticktext:I.ticktext,ticks:I.ticks,ticklen:I.ticklen,tickwidth:I.tickwidth,tickcolor:I.tickcolor,showticklabels:I.showticklabels,labelalias:I.labelalias,ticklabelposition:I.ticklabelposition,ticklabeloverflow:I.ticklabeloverflow,ticklabelstep:I.ticklabelstep,tickfont:I.tickfont,tickangle:I.tickangle,tickformat:I.tickformat,exponentformat:I.exponentformat,minexponent:I.minexponent,separatethousands:I.separatethousands,showexponent:I.showexponent,showtickprefix:I.showtickprefix,tickprefix:I.tickprefix,showticksuffix:I.showticksuffix,ticksuffix:I.ticksuffix,title:I.title,showline:!0,anchor:"free",side:F?"right":"bottom",position:1},z=F?"y":"x",B={type:"linear",_id:z+I._id},W={letter:z,font:k.font,noAutotickangles:z==="y",noHover:!0,noTickson:!0,noTicklabelmode:!0,noInsideRange:!0,calendar:k.calendar};function q(ee,Q){return p.coerce(O,B,c,ee,Q)}return h(O,B,q,W,k),M(O,B,q,W),B}G.exports={draw:y}},90553:function(G,U,e){var g=e(3400);G.exports=function(a){return g.isPlainObject(a.colorbar)}},55080:function(G,U,e){G.exports={moduleType:"component",name:"colorbar",attributes:e(42996),supplyDefaults:e(64013),draw:e(37848).draw,hasColorbar:e(90553)}},49084:function(G,U,e){var g=e(42996),L=e(53756).counter,a=e(95376),C=e(88304).scales;a(C),G.exports=function(v,p){v=v||"",p=p||{};var r=p.cLetter||"c";"onlyIfNumerical"in p?p.onlyIfNumerical:Boolean(v);var t="noScale"in p?p.noScale:v==="marker.line",s="showScaleDflt"in p?p.showScaleDflt:r==="z",n=typeof p.colorscaleDflt=="string"?C[p.colorscaleDflt]:null,f=p.editTypeOverride||"",u;"colorAttr"in p?(u=p.colorAttr,p.colorAttr):u={z:"z",c:"color"}[r];var l=r+"auto",m=r+"min",h=r+"max",M=r+"mid",c={};c[m]=c[h]=void 0;var i={};i[l]=!1;var d={};return u==="color"&&(d.color={valType:"color",arrayOk:!0,editType:f||"style"},p.anim&&(d.color.anim=!0)),d[l]={valType:"boolean",dflt:!0,editType:"calc",impliedEdits:c},d[m]={valType:"number",dflt:null,editType:f||"plot",impliedEdits:i},d[h]={valType:"number",dflt:null,editType:f||"plot",impliedEdits:i},d[M]={valType:"number",dflt:null,editType:"calc",impliedEdits:c},d.colorscale={valType:"colorscale",editType:"calc",dflt:n,impliedEdits:{autocolorscale:!1}},d.autocolorscale={valType:"boolean",dflt:p.autoColorDflt!==!1,editType:"calc",impliedEdits:{colorscale:void 0}},d.reversescale={valType:"boolean",dflt:!1,editType:"plot"},t||(d.showscale={valType:"boolean",dflt:s,editType:"calc"},d.colorbar=g),p.noColorAxis||(d.coloraxis={valType:"subplotid",regex:L("coloraxis"),dflt:null,editType:"calc"}),d}},47128:function(G,U,e){var g=e(38248),L=e(3400),a=e(94288).extractOpts;G.exports=function(A,v,p){var r=A._fullLayout,t=p.vals,s=p.containerStr,n=s?L.nestedProperty(v,s).get():v,f=a(n),u=f.auto!==!1,l=f.min,m=f.max,h=f.mid,M=function(){return L.aggNums(Math.min,null,t)},c=function(){return L.aggNums(Math.max,null,t)};if(l===void 0?l=M():u&&(n._colorAx&&g(l)?l=Math.min(l,M()):l=M()),m===void 0?m=c():u&&(n._colorAx&&g(m)?m=Math.max(m,c()):m=c()),u&&h!==void 0&&(m-h>h-l?l=h-(m-h):m-h<h-l&&(m=h+(h-l))),l===m&&(l-=.5,m+=.5),f._sync("min",l),f._sync("max",m),f.autocolorscale){var i;l*m<0?i=r.colorscale.diverging:l>=0?i=r.colorscale.sequential:i=r.colorscale.sequentialminus,f._sync("colorscale",i)}}},95504:function(G,U,e){var g=e(3400),L=e(94288).hasColorscale,a=e(94288).extractOpts;G.exports=function(A,v){function p(l,m){var h=l["_"+m];h!==void 0&&(l[m]=h)}function r(l,m){var h=m.container?g.nestedProperty(l,m.container).get():l;if(h)if(h.coloraxis)h._colorAx=v[h.coloraxis];else{var M=a(h),c=M.auto;(c||M.min===void 0)&&p(h,m.min),(c||M.max===void 0)&&p(h,m.max),M.autocolorscale&&p(h,"colorscale")}}for(var t=0;t<A.length;t++){var s=A[t],n=s._module.colorbar;if(n)if(Array.isArray(n))for(var f=0;f<n.length;f++)r(s,n[f]);else r(s,n);L(s,"marker.line")&&r(s,{container:"marker.line",min:"cmin",max:"cmax"})}for(var u in v._colorAxes)r(v[u],{min:"cmin",max:"cmax"})}},27260:function(G,U,e){var g=e(38248),L=e(3400),a=e(90553),C=e(64013),A=e(88304).isValid,v=e(24040).traceIs;function p(r,t){var s=t.slice(0,t.length-1);return t?L.nestedProperty(r,s).get()||{}:r}G.exports=function r(t,s,n,f,u){var l=u.prefix,m=u.cLetter,h="_module"in s,M=p(t,l),c=p(s,l),i=p(s._template||{},l)||{},d=function(){return delete t.coloraxis,delete s.coloraxis,r(t,s,n,f,u)};if(h){var b=n._colorAxes||{},w=f(l+"coloraxis");if(w){var E=v(s,"contour")&&L.nestedProperty(s,"contours.coloring").get()||"heatmap",y=b[w];y?(y[2].push(d),y[0]!==E&&(y[0]=!1,L.warn(["Ignoring coloraxis:",w,"setting","as it is linked to incompatible colorscales."].join(" ")))):b[w]=[E,s,[d]];return}}var S=M[m+"min"],T=M[m+"max"],o=g(S)&&g(T)&&S<T,P=f(l+m+"auto",!o);P?f(l+m+"mid"):(f(l+m+"min"),f(l+m+"max"));var x=M.colorscale,_=i.colorscale,I;if(x!==void 0&&(I=!A(x)),_!==void 0&&(I=!A(_)),f(l+"autocolorscale",I),f(l+"colorscale"),f(l+"reversescale"),l!=="marker.line."){var N;l&&h&&(N=a(M));var k=f(l+"showscale",N);k&&(l&&i&&(c._template=i),C(M,c,n))}}},94288:function(G,U,e){var g=e(33428),L=e(49760),a=e(38248),C=e(3400),A=e(76308),v=e(88304).isValid;function p(h,M,c){var i=M?C.nestedProperty(h,M).get()||{}:h,d=i[c||"color"];d&&d._inputArray&&(d=d._inputArray);var b=!1;if(C.isArrayOrTypedArray(d)){for(var w=0;w<d.length;w++)if(a(d[w])){b=!0;break}}return C.isPlainObject(i)&&(b||i.showscale===!0||a(i.cmin)&&a(i.cmax)||v(i.colorscale)||C.isPlainObject(i.colorbar))}var r=["showscale","autocolorscale","colorscale","reversescale","colorbar"],t=["min","max","mid","auto"];function s(h){var M=h._colorAx,c=M||h,i={},d,b,w;for(b=0;b<r.length;b++)w=r[b],i[w]=c[w];if(M)for(d="c",b=0;b<t.length;b++)w=t[b],i[w]=c["c"+w];else{var E;for(b=0;b<t.length;b++){if(w=t[b],E="c"+w,E in c){i[w]=c[E];continue}E="z"+w,E in c&&(i[w]=c[E])}d=E.charAt(0)}return i._sync=function(y,S){var T=t.indexOf(y)!==-1?d+y:y;c[T]=c["_"+T]=S},i}function n(h){for(var M=s(h),c=M.min,i=M.max,d=M.reversescale?f(M.colorscale):M.colorscale,b=d.length,w=new Array(b),E=new Array(b),y=0;y<b;y++){var S=d[y];w[y]=c+S[0]*(i-c),E[y]=S[1]}return{domain:w,range:E}}function f(h){for(var M=h.length,c=new Array(M),i=M-1,d=0;i>=0;i--,d++){var b=h[i];c[d]=[1-b[0],b[1]]}return c}function u(h,M){M=M||{};for(var c=h.domain,i=h.range,d=i.length,b=new Array(d),w=0;w<d;w++){var E=L(i[w]).toRgb();b[w]=[E.r,E.g,E.b,E.a]}var y=g.scale.linear().domain(c).range(b).clamp(!0),S=M.noNumericCheck,T=M.returnArray,o;return S&&T?o=y:S?o=function(P){return m(y(P))}:T?o=function(P){return a(P)?y(P):L(P).isValid()?P:A.defaultLine}:o=function(P){return a(P)?m(y(P)):L(P).isValid()?P:A.defaultLine},o.domain=y.domain,o.range=function(){return i},o}function l(h,M){return u(n(h),M)}function m(h){var M={r:h[0],g:h[1],b:h[2],a:h[3]};return L(M).toRgbString()}G.exports={hasColorscale:p,extractOpts:s,extractScale:n,flipScale:f,makeColorScaleFunc:u,makeColorScaleFuncFromTrace:l}},8932:function(G,U,e){var g=e(88304),L=e(94288);G.exports={moduleType:"component",name:"colorscale",attributes:e(49084),layoutAttributes:e(92332),supplyLayoutDefaults:e(51608),handleDefaults:e(27260),crossTraceDefaults:e(95504),calc:e(47128),scales:g.scales,defaultScale:g.defaultScale,getScale:g.get,isValidScale:g.isValid,hasColorscale:L.hasColorscale,extractOpts:L.extractOpts,extractScale:L.extractScale,flipScale:L.flipScale,makeColorScaleFunc:L.makeColorScaleFunc,makeColorScaleFuncFromTrace:L.makeColorScaleFuncFromTrace}},92332:function(G,U,e){var g=e(92880).extendFlat,L=e(49084),a=e(88304).scales;G.exports={editType:"calc",colorscale:{editType:"calc",sequential:{valType:"colorscale",dflt:a.Reds,editType:"calc"},sequentialminus:{valType:"colorscale",dflt:a.Blues,editType:"calc"},diverging:{valType:"colorscale",dflt:a.RdBu,editType:"calc"}},coloraxis:g({_isSubplotObj:!0,editType:"calc"},L("",{colorAttr:"corresponding trace color array(s)",noColorAxis:!0,showScaleDflt:!0}))}},51608:function(G,U,e){var g=e(3400),L=e(31780),a=e(92332),C=e(27260);G.exports=function(v,p){function r(h,M){return g.coerce(v,p,a,h,M)}r("colorscale.sequential"),r("colorscale.sequentialminus"),r("colorscale.diverging");var t=p._colorAxes,s,n;function f(h,M){return g.coerce(s,n,a.coloraxis,h,M)}for(var u in t){var l=t[u];if(l[0])s=v[u]||{},n=L.newContainer(p,u,"coloraxis"),n._name=u,C(s,n,p,f,{prefix:"",cLetter:"c"});else{for(var m=0;m<l[2].length;m++)l[2][m]();delete p._colorAxes[u]}}}},88304:function(G,U,e){var g=e(49760),L={Greys:[[0,"rgb(0,0,0)"],[1,"rgb(255,255,255)"]],YlGnBu:[[0,"rgb(8,29,88)"],[.125,"rgb(37,52,148)"],[.25,"rgb(34,94,168)"],[.375,"rgb(29,145,192)"],[.5,"rgb(65,182,196)"],[.625,"rgb(127,205,187)"],[.75,"rgb(199,233,180)"],[.875,"rgb(237,248,217)"],[1,"rgb(255,255,217)"]],Greens:[[0,"rgb(0,68,27)"],[.125,"rgb(0,109,44)"],[.25,"rgb(35,139,69)"],[.375,"rgb(65,171,93)"],[.5,"rgb(116,196,118)"],[.625,"rgb(161,217,155)"],[.75,"rgb(199,233,192)"],[.875,"rgb(229,245,224)"],[1,"rgb(247,252,245)"]],YlOrRd:[[0,"rgb(128,0,38)"],[.125,"rgb(189,0,38)"],[.25,"rgb(227,26,28)"],[.375,"rgb(252,78,42)"],[.5,"rgb(253,141,60)"],[.625,"rgb(254,178,76)"],[.75,"rgb(254,217,118)"],[.875,"rgb(255,237,160)"],[1,"rgb(255,255,204)"]],Bluered:[[0,"rgb(0,0,255)"],[1,"rgb(255,0,0)"]],RdBu:[[0,"rgb(5,10,172)"],[.35,"rgb(106,137,247)"],[.5,"rgb(190,190,190)"],[.6,"rgb(220,170,132)"],[.7,"rgb(230,145,90)"],[1,"rgb(178,10,28)"]],Reds:[[0,"rgb(220,220,220)"],[.2,"rgb(245,195,157)"],[.4,"rgb(245,160,105)"],[1,"rgb(178,10,28)"]],Blues:[[0,"rgb(5,10,172)"],[.35,"rgb(40,60,190)"],[.5,"rgb(70,100,245)"],[.6,"rgb(90,120,245)"],[.7,"rgb(106,137,247)"],[1,"rgb(220,220,220)"]],Picnic:[[0,"rgb(0,0,255)"],[.1,"rgb(51,153,255)"],[.2,"rgb(102,204,255)"],[.3,"rgb(153,204,255)"],[.4,"rgb(204,204,255)"],[.5,"rgb(255,255,255)"],[.6,"rgb(255,204,255)"],[.7,"rgb(255,153,255)"],[.8,"rgb(255,102,204)"],[.9,"rgb(255,102,102)"],[1,"rgb(255,0,0)"]],Rainbow:[[0,"rgb(150,0,90)"],[.125,"rgb(0,0,200)"],[.25,"rgb(0,25,255)"],[.375,"rgb(0,152,255)"],[.5,"rgb(44,255,150)"],[.625,"rgb(151,255,0)"],[.75,"rgb(255,234,0)"],[.875,"rgb(255,111,0)"],[1,"rgb(255,0,0)"]],Portland:[[0,"rgb(12,51,131)"],[.25,"rgb(10,136,186)"],[.5,"rgb(242,211,56)"],[.75,"rgb(242,143,56)"],[1,"rgb(217,30,30)"]],Jet:[[0,"rgb(0,0,131)"],[.125,"rgb(0,60,170)"],[.375,"rgb(5,255,255)"],[.625,"rgb(255,255,0)"],[.875,"rgb(250,0,0)"],[1,"rgb(128,0,0)"]],Hot:[[0,"rgb(0,0,0)"],[.3,"rgb(230,0,0)"],[.6,"rgb(255,210,0)"],[1,"rgb(255,255,255)"]],Blackbody:[[0,"rgb(0,0,0)"],[.2,"rgb(230,0,0)"],[.4,"rgb(230,210,0)"],[.7,"rgb(255,255,255)"],[1,"rgb(160,200,255)"]],Earth:[[0,"rgb(0,0,130)"],[.1,"rgb(0,180,180)"],[.2,"rgb(40,210,40)"],[.4,"rgb(230,230,50)"],[.6,"rgb(120,70,20)"],[1,"rgb(255,255,255)"]],Electric:[[0,"rgb(0,0,0)"],[.15,"rgb(30,0,100)"],[.4,"rgb(120,0,100)"],[.6,"rgb(160,90,0)"],[.8,"rgb(230,200,0)"],[1,"rgb(255,250,220)"]],Viridis:[[0,"#440154"],[.06274509803921569,"#48186a"],[.12549019607843137,"#472d7b"],[.18823529411764706,"#424086"],[.25098039215686274,"#3b528b"],[.3137254901960784,"#33638d"],[.3764705882352941,"#2c728e"],[.4392156862745098,"#26828e"],[.5019607843137255,"#21918c"],[.5647058823529412,"#1fa088"],[.6274509803921569,"#28ae80"],[.6901960784313725,"#3fbc73"],[.7529411764705882,"#5ec962"],[.8156862745098039,"#84d44b"],[.8784313725490196,"#addc30"],[.9411764705882353,"#d8e219"],[1,"#fde725"]],Cividis:[[0,"rgb(0,32,76)"],[.058824,"rgb(0,42,102)"],[.117647,"rgb(0,52,110)"],[.176471,"rgb(39,63,108)"],[.235294,"rgb(60,74,107)"],[.294118,"rgb(76,85,107)"],[.352941,"rgb(91,95,109)"],[.411765,"rgb(104,106,112)"],[.470588,"rgb(117,117,117)"],[.529412,"rgb(131,129,120)"],[.588235,"rgb(146,140,120)"],[.647059,"rgb(161,152,118)"],[.705882,"rgb(176,165,114)"],[.764706,"rgb(192,177,109)"],[.823529,"rgb(209,191,102)"],[.882353,"rgb(225,204,92)"],[.941176,"rgb(243,219,79)"],[1,"rgb(255,233,69)"]]},a=L.RdBu;function C(p,r){if(r||(r=a),!p)return r;function t(){try{p=L[p]||JSON.parse(p)}catch{p=r}}return typeof p=="string"&&(t(),typeof p=="string"&&t()),A(p)?p:r}function A(p){var r=0;if(!Array.isArray(p)||p.length<2||!p[0]||!p[p.length-1]||+p[0][0]!=0||+p[p.length-1][0]!=1)return!1;for(var t=0;t<p.length;t++){var s=p[t];if(s.length!==2||+s[0]<r||!g(s[1]).isValid())return!1;r=+s[0]}return!0}function v(p){return L[p]!==void 0?!0:A(p)}G.exports={scales:L,defaultScale:a,get:C,isValid:v}},78316:function(G){G.exports=function(e,g,L,a,C){var A=(e-L)/(a-L),v=A+g/(a-L),p=(A+v)/2;return C==="left"||C==="bottom"?A:C==="center"||C==="middle"?p:C==="right"||C==="top"?v:A<.6666666666666666-p?A:v>1.3333333333333333-p?v:p}},67416:function(G,U,e){var g=e(3400),L=[["sw-resize","s-resize","se-resize"],["w-resize","move","e-resize"],["nw-resize","n-resize","ne-resize"]];G.exports=function(C,A,v,p){return v==="left"?C=0:v==="center"?C=1:v==="right"?C=2:C=g.constrain(Math.floor(C*3),0,2),p==="bottom"?A=0:p==="middle"?A=1:p==="top"?A=2:A=g.constrain(Math.floor(A*3),0,2),L[A][C]}},72760:function(G,U){U.selectMode=function(e){return e==="lasso"||e==="select"},U.drawMode=function(e){return e==="drawclosedpath"||e==="drawopenpath"||e==="drawline"||e==="drawrect"||e==="drawcircle"},U.openMode=function(e){return e==="drawline"||e==="drawopenpath"},U.rectMode=function(e){return e==="select"||e==="drawline"||e==="drawrect"||e==="drawcircle"},U.freeMode=function(e){return e==="lasso"||e==="drawclosedpath"||e==="drawopenpath"},U.selectingOrDrawing=function(e){return U.freeMode(e)||U.rectMode(e)}},86476:function(G,U,e){var g=e(29128),L=e(52264),a=e(89184),C=e(3400).removeElement,A=e(33816),v=G.exports={};v.align=e(78316),v.getCursor=e(67416);var p=e(2616);v.unhover=p.wrapped,v.unhoverRaw=p.raw,v.init=function(n){var f=n.gd,u=1,l=f._context.doubleClickDelay,m=n.element,h,M,c,i,d,b,w,E;f._mouseDownTime||(f._mouseDownTime=0),m.style.pointerEvents="all",m.onmousedown=T,a?(m._ontouchstart&&m.removeEventListener("touchstart",m._ontouchstart),m._ontouchstart=T,m.addEventListener("touchstart",T,{passive:!1})):m.ontouchstart=T;function y(x,_,I){return Math.abs(x)<I&&(x=0),Math.abs(_)<I&&(_=0),[x,_]}var S=n.clampFn||y;function T(x){f._dragged=!1,f._dragging=!0;var _=t(x);h=_[0],M=_[1],w=x.target,b=x,E=x.buttons===2||x.ctrlKey,typeof x.clientX=="undefined"&&typeof x.clientY=="undefined"&&(x.clientX=h,x.clientY=M),c=new Date().getTime(),c-f._mouseDownTime<l?u+=1:(u=1,f._mouseDownTime=c),n.prepFn&&n.prepFn(x,h,M),L&&!E?(d=r(),d.style.cursor=window.getComputedStyle(m).cursor):L||(d=document,i=window.getComputedStyle(document.documentElement).cursor,document.documentElement.style.cursor=window.getComputedStyle(m).cursor),document.addEventListener("mouseup",P),document.addEventListener("touchend",P),n.dragmode!==!1&&(x.preventDefault(),document.addEventListener("mousemove",o),document.addEventListener("touchmove",o,{passive:!1}))}function o(x){x.preventDefault();var _=t(x),I=n.minDrag||A.MINDRAG,N=S(_[0]-h,_[1]-M,I),k=N[0],F=N[1];(k||F)&&(f._dragged=!0,v.unhover(f,x)),f._dragged&&n.moveFn&&!E&&(f._dragdata={element:m,dx:k,dy:F},n.moveFn(k,F))}function P(x){if(delete f._dragdata,n.dragmode!==!1&&(x.preventDefault(),document.removeEventListener("mousemove",o),document.removeEventListener("touchmove",o)),document.removeEventListener("mouseup",P),document.removeEventListener("touchend",P),L?C(d):i&&(d.documentElement.style.cursor=i,i=null),!f._dragging){f._dragged=!1;return}if(f._dragging=!1,new Date().getTime()-f._mouseDownTime>l&&(u=Math.max(u-1,1)),f._dragged)n.doneFn&&n.doneFn();else if(n.clickFn&&n.clickFn(u,b),!E){var _;try{_=new MouseEvent("click",x)}catch{var I=t(x);_=document.createEvent("MouseEvents"),_.initMouseEvent("click",x.bubbles,x.cancelable,x.view,x.detail,x.screenX,x.screenY,I[0],I[1],x.ctrlKey,x.altKey,x.shiftKey,x.metaKey,x.button,x.relatedTarget)}w.dispatchEvent(_)}f._dragging=!1,f._dragged=!1}};function r(){var s=document.createElement("div");s.className="dragcover";var n=s.style;return n.position="fixed",n.left=0,n.right=0,n.top=0,n.bottom=0,n.zIndex=999999999,n.background="none",document.body.appendChild(s),s}v.coverSlip=r;function t(s){return g(s.changedTouches?s.changedTouches[0]:s,document.body)}},2616:function(G,U,e){var g=e(95924),L=e(91200),a=e(52200).getGraphDiv,C=e(92456),A=G.exports={};A.wrapped=function(v,p,r){v=a(v),v._fullLayout&&L.clear(v._fullLayout._uid+C.HOVERID),A.raw(v,p,r)},A.raw=function(p,r){var t=p._fullLayout,s=p._hoverdata;r||(r={}),!(r.target&&!p._dragged&&g.triggerHandler(p,"plotly_beforehover",r)===!1)&&(t._hoverlayer.selectAll("g").remove(),t._hoverlayer.selectAll("line").remove(),t._hoverlayer.selectAll("circle").remove(),p._hoverdata=void 0,r.target&&s&&p.emit("plotly_unhover",{event:r,points:s}))}},98192:function(G,U){U.u={valType:"string",values:["solid","dot","dash","longdash","dashdot","longdashdot"],dflt:"solid",editType:"style"},U.c={shape:{valType:"enumerated",values:["","/","\\","x","-","|","+","."],dflt:"",arrayOk:!0,editType:"style"},fillmode:{valType:"enumerated",values:["replace","overlay"],dflt:"replace",editType:"style"},bgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgopacity:{valType:"number",editType:"style",min:0,max:1},size:{valType:"number",min:0,dflt:8,arrayOk:!0,editType:"style"},solidity:{valType:"number",min:0,max:1,dflt:.3,arrayOk:!0,editType:"style"},editType:"style"}},43616:function(G,U,e){var g=e(33428),L=e(3400),a=L.numberFormat,C=e(38248),A=e(49760),v=e(24040),p=e(76308),r=e(8932),t=L.strTranslate,s=e(72736),n=e(9616),f=e(84284),u=f.LINE_SPACING,l=e(13448).DESELECTDIM,m=e(43028),h=e(7152),M=e(10624).appendArrayPointValue,c=G.exports={};c.font=function(xe,Me,ye,Se){L.isPlainObject(Me)&&(Se=Me.color,ye=Me.size,Me=Me.family),Me&&xe.style("font-family",Me),ye+1&&xe.style("font-size",ye+"px"),Se&&xe.call(p.fill,Se)},c.setPosition=function(xe,Me,ye){xe.attr("x",Me).attr("y",ye)},c.setSize=function(xe,Me,ye){xe.attr("width",Me).attr("height",ye)},c.setRect=function(xe,Me,ye,Se,Fe){xe.call(c.setPosition,Me,ye).call(c.setSize,Se,Fe)},c.translatePoint=function(xe,Me,ye,Se){var Fe=ye.c2p(xe.x),Be=Se.c2p(xe.y);if(C(Fe)&&C(Be)&&Me.node())Me.node().nodeName==="text"?Me.attr("x",Fe).attr("y",Be):Me.attr("transform",t(Fe,Be));else return!1;return!0},c.translatePoints=function(xe,Me,ye){xe.each(function(Se){var Fe=g.select(this);c.translatePoint(Se,Fe,Me,ye)})},c.hideOutsideRangePoint=function(xe,Me,ye,Se,Fe,Be){Me.attr("display",ye.isPtWithinRange(xe,Fe)&&Se.isPtWithinRange(xe,Be)?null:"none")},c.hideOutsideRangePoints=function(xe,Me){if(!!Me._hasClipOnAxisFalse){var ye=Me.xaxis,Se=Me.yaxis;xe.each(function(Fe){var Be=Fe[0].trace,_e=Be.xcalendar,Ue=Be.ycalendar,it=v.traceIs(Be,"bar-like")?".bartext":".point,.textpoint";xe.selectAll(it).each(function(lt){c.hideOutsideRangePoint(lt,g.select(this),ye,Se,_e,Ue)})})}},c.crispRound=function(xe,Me,ye){return!Me||!C(Me)?ye||0:xe._context.staticPlot?Me:Me<1?1:Math.round(Me)},c.singleLineStyle=function(xe,Me,ye,Se,Fe){Me.style("fill","none");var Be=(((xe||[])[0]||{}).trace||{}).line||{},_e=ye||Be.width||0,Ue=Fe||Be.dash||"";p.stroke(Me,Se||Be.color),c.dashLine(Me,Ue,_e)},c.lineGroupStyle=function(xe,Me,ye,Se){xe.style("fill","none").each(function(Fe){var Be=(((Fe||[])[0]||{}).trace||{}).line||{},_e=Me||Be.width||0,Ue=Se||Be.dash||"";g.select(this).call(p.stroke,ye||Be.color).call(c.dashLine,Ue,_e)})},c.dashLine=function(xe,Me,ye){ye=+ye||0,Me=c.dashStyle(Me,ye),xe.style({"stroke-dasharray":Me,"stroke-width":ye+"px"})},c.dashStyle=function(xe,Me){Me=+Me||1;var ye=Math.max(Me,3);return xe==="solid"?xe="":xe==="dot"?xe=ye+"px,"+ye+"px":xe==="dash"?xe=3*ye+"px,"+3*ye+"px":xe==="longdash"?xe=5*ye+"px,"+5*ye+"px":xe==="dashdot"?xe=3*ye+"px,"+ye+"px,"+ye+"px,"+ye+"px":xe==="longdashdot"&&(xe=5*ye+"px,"+2*ye+"px,"+ye+"px,"+2*ye+"px"),xe};function i(xe,Me,ye,Se){var Fe=Me.fillpattern,Be=Me.fillgradient,_e=Fe&&c.getPatternAttr(Fe.shape,0,"");if(_e){var Ue=c.getPatternAttr(Fe.bgcolor,0,null),it=c.getPatternAttr(Fe.fgcolor,0,null),lt=Fe.fgopacity,$e=c.getPatternAttr(Fe.size,0,8),qe=c.getPatternAttr(Fe.solidity,0,.3),ft=Me.uid;c.pattern(xe,"point",ye,ft,_e,$e,qe,void 0,Fe.fillmode,Ue,it,lt)}else if(Be&&Be.type!=="none"){var ct=Be.type,pt="scatterfill-"+Me.uid;if(Se&&(pt="legendfill-"+Me.uid),!Se&&(Be.start!==void 0||Be.stop!==void 0)){var yt,Et;ct==="horizontal"?(yt={x:Be.start,y:0},Et={x:Be.stop,y:0}):ct==="vertical"&&(yt={x:0,y:Be.start},Et={x:0,y:Be.stop}),yt.x=Me._xA.c2p(yt.x===void 0?Me._extremes.x.min[0].val:yt.x,!0),yt.y=Me._yA.c2p(yt.y===void 0?Me._extremes.y.min[0].val:yt.y,!0),Et.x=Me._xA.c2p(Et.x===void 0?Me._extremes.x.max[0].val:Et.x,!0),Et.y=Me._yA.c2p(Et.y===void 0?Me._extremes.y.max[0].val:Et.y,!0),xe.call(T,ye,pt,"linear",Be.colorscale,"fill",yt,Et,!0,!1)}else ct==="horizontal"&&(ct=ct+"reversed"),xe.call(c.gradient,ye,pt,ct,Be.colorscale,"fill")}else Me.fillcolor&&xe.call(p.fill,Me.fillcolor)}c.singleFillStyle=function(xe,Me){var ye=g.select(xe.node()),Se=ye.data(),Fe=((Se[0]||[])[0]||{}).trace||{};i(xe,Fe,Me,!1)},c.fillGroupStyle=function(xe,Me,ye){xe.style("stroke-width",0).each(function(Se){var Fe=g.select(this);Se[0].trace&&i(Fe,Se[0].trace,Me,ye)})};var d=e(71984);c.symbolNames=[],c.symbolFuncs=[],c.symbolBackOffs=[],c.symbolNeedLines={},c.symbolNoDot={},c.symbolNoFill={},c.symbolList=[],Object.keys(d).forEach(function(xe){var Me=d[xe],ye=Me.n;c.symbolList.push(ye,String(ye),xe,ye+100,String(ye+100),xe+"-open"),c.symbolNames[ye]=xe,c.symbolFuncs[ye]=Me.f,c.symbolBackOffs[ye]=Me.backoff||0,Me.needLine&&(c.symbolNeedLines[ye]=!0),Me.noDot?c.symbolNoDot[ye]=!0:c.symbolList.push(ye+200,String(ye+200),xe+"-dot",ye+300,String(ye+300),xe+"-open-dot"),Me.noFill&&(c.symbolNoFill[ye]=!0)});var b=c.symbolNames.length,w="M0,0.5L0.5,0L0,-0.5L-0.5,0Z";c.symbolNumber=function(xe){if(C(xe))xe=+xe;else if(typeof xe=="string"){var Me=0;xe.indexOf("-open")>0&&(Me=100,xe=xe.replace("-open","")),xe.indexOf("-dot")>0&&(Me+=200,xe=xe.replace("-dot","")),xe=c.symbolNames.indexOf(xe),xe>=0&&(xe+=Me)}return xe%100>=b||xe>=400?0:Math.floor(Math.max(xe,0))};function E(xe,Me,ye,Se){var Fe=xe%100;return c.symbolFuncs[Fe](Me,ye,Se)+(xe>=200?w:"")}var y=a("~f"),S={radial:{type:"radial"},radialreversed:{type:"radial",reversed:!0},horizontal:{type:"linear",start:{x:1,y:0},stop:{x:0,y:0}},horizontalreversed:{type:"linear",start:{x:1,y:0},stop:{x:0,y:0},reversed:!0},vertical:{type:"linear",start:{x:0,y:1},stop:{x:0,y:0}},verticalreversed:{type:"linear",start:{x:0,y:1},stop:{x:0,y:0},reversed:!0}};c.gradient=function(xe,Me,ye,Se,Fe,Be){var _e=S[Se];return T(xe,Me,ye,_e.type,Fe,Be,_e.start,_e.stop,!1,_e.reversed)};function T(xe,Me,ye,Se,Fe,Be,_e,Ue,it,lt){var $e=Fe.length,qe;Se==="linear"?qe={node:"linearGradient",attrs:{x1:_e.x,y1:_e.y,x2:Ue.x,y2:Ue.y,gradientUnits:it?"userSpaceOnUse":"objectBoundingBox"},reversed:lt}:Se==="radial"&&(qe={node:"radialGradient",reversed:lt});for(var ft=new Array($e),ct=0;ct<$e;ct++)qe.reversed?ft[$e-1-ct]=[y((1-Fe[ct][0])*100),Fe[ct][1]]:ft[ct]=[y(Fe[ct][0]*100),Fe[ct][1]];var pt=Me._fullLayout,yt="g"+pt._uid+"-"+ye,Et=pt._defs.select(".gradients").selectAll("#"+yt).data([Se+ft.join(";")],L.identity);Et.exit().remove(),Et.enter().append(qe.node).each(function(){var tt=g.select(this);qe.attrs&&tt.attr(qe.attrs),tt.attr("id",yt);var Ie=tt.selectAll("stop").data(ft);Ie.exit().remove(),Ie.enter().append("stop"),Ie.each(function(We){var Ze=A(We[1]);g.select(this).attr({offset:We[0]+"%","stop-color":p.tinyRGB(Ze),"stop-opacity":Ze.getAlpha()})})}),xe.style(Be,Z(yt,Me)).style(Be+"-opacity",null),xe.classed("gradient_filled",!0)}c.pattern=function(xe,Me,ye,Se,Fe,Be,_e,Ue,it,lt,$e,qe){var ft=Me==="legend";Ue&&(it==="overlay"?(lt=Ue,$e=p.contrast(lt)):(lt=void 0,$e=Ue));var ct=ye._fullLayout,pt="p"+ct._uid+"-"+Se,yt,Et,tt=function(et,ut,dt,Zt,jt){return Zt+(jt-Zt)*(et-ut)/(dt-ut)},Ie,We,Ze,He,De={},me=A($e),ge=p.tinyRGB(me),Ee=me.getAlpha(),Te=qe*Ee;switch(Fe){case"/":yt=Be*Math.sqrt(2),Et=Be*Math.sqrt(2),Ie="M-"+yt/4+","+Et/4+"l"+yt/2+",-"+Et/2+"M0,"+Et+"L"+yt+",0M"+yt/4*3+","+Et/4*5+"l"+yt/2+",-"+Et/2,We=_e*Be,He="path",De={d:Ie,opacity:Te,stroke:ge,"stroke-width":We+"px"};break;case"\\":yt=Be*Math.sqrt(2),Et=Be*Math.sqrt(2),Ie="M"+yt/4*3+",-"+Et/4+"l"+yt/2+","+Et/2+"M0,0L"+yt+","+Et+"M-"+yt/4+","+Et/4*3+"l"+yt/2+","+Et/2,We=_e*Be,He="path",De={d:Ie,opacity:Te,stroke:ge,"stroke-width":We+"px"};break;case"x":yt=Be*Math.sqrt(2),Et=Be*Math.sqrt(2),Ie="M-"+yt/4+","+Et/4+"l"+yt/2+",-"+Et/2+"M0,"+Et+"L"+yt+",0M"+yt/4*3+","+Et/4*5+"l"+yt/2+",-"+Et/2+"M"+yt/4*3+",-"+Et/4+"l"+yt/2+","+Et/2+"M0,0L"+yt+","+Et+"M-"+yt/4+","+Et/4*3+"l"+yt/2+","+Et/2,We=Be-Be*Math.sqrt(1-_e),He="path",De={d:Ie,opacity:Te,stroke:ge,"stroke-width":We+"px"};break;case"|":yt=Be,Et=Be,He="path",Ie="M"+yt/2+",0L"+yt/2+","+Et,We=_e*Be,He="path",De={d:Ie,opacity:Te,stroke:ge,"stroke-width":We+"px"};break;case"-":yt=Be,Et=Be,He="path",Ie="M0,"+Et/2+"L"+yt+","+Et/2,We=_e*Be,He="path",De={d:Ie,opacity:Te,stroke:ge,"stroke-width":We+"px"};break;case"+":yt=Be,Et=Be,He="path",Ie="M"+yt/2+",0L"+yt/2+","+Et+"M0,"+Et/2+"L"+yt+","+Et/2,We=Be-Be*Math.sqrt(1-_e),He="path",De={d:Ie,opacity:Te,stroke:ge,"stroke-width":We+"px"};break;case".":yt=Be,Et=Be,_e<Math.PI/4?Ze=Math.sqrt(_e*Be*Be/Math.PI):Ze=tt(_e,Math.PI/4,1,Be/2,Be/Math.sqrt(2)),He="circle",De={cx:yt/2,cy:Et/2,r:Ze,opacity:Te,fill:ge};break}var ze=[Fe||"noSh",lt||"noBg",$e||"noFg",Be,_e].join(";"),Xe=ct._defs.select(".patterns").selectAll("#"+pt).data([ze],L.identity);Xe.exit().remove(),Xe.enter().append("pattern").each(function(){var et=g.select(this);if(et.attr({id:pt,width:yt+"px",height:Et+"px",patternUnits:"userSpaceOnUse",patternTransform:ft?"scale(0.8)":""}),lt){var ut=A(lt),dt=p.tinyRGB(ut),Zt=ut.getAlpha(),jt=et.selectAll("rect").data([0]);jt.exit().remove(),jt.enter().append("rect").attr({width:yt+"px",height:Et+"px",fill:dt,"fill-opacity":Zt})}var Tt=et.selectAll(He).data([0]);Tt.exit().remove(),Tt.enter().append(He).attr(De)}),xe.style("fill",Z(pt,ye)).style("fill-opacity",null),xe.classed("pattern_filled",!0)},c.initGradients=function(xe){var Me=xe._fullLayout,ye=L.ensureSingle(Me._defs,"g","gradients");ye.selectAll("linearGradient,radialGradient").remove(),g.select(xe).selectAll(".gradient_filled").classed("gradient_filled",!1)},c.initPatterns=function(xe){var Me=xe._fullLayout,ye=L.ensureSingle(Me._defs,"g","patterns");ye.selectAll("pattern").remove(),g.select(xe).selectAll(".pattern_filled").classed("pattern_filled",!1)},c.getPatternAttr=function(xe,Me,ye){return xe&&L.isArrayOrTypedArray(xe)?Me<xe.length?xe[Me]:ye:xe},c.pointStyle=function(xe,Me,ye,Se){if(!!xe.size()){var Fe=c.makePointStyleFns(Me);xe.each(function(Be){c.singlePointStyle(Be,g.select(this),Me,Fe,ye,Se)})}},c.singlePointStyle=function(xe,Me,ye,Se,Fe,Be){var _e=ye.marker,Ue=_e.line;if(Be&&Be.i>=0&&xe.i===void 0&&(xe.i=Be.i),Me.style("opacity",Se.selectedOpacityFn?Se.selectedOpacityFn(xe):xe.mo===void 0?_e.opacity:xe.mo),Se.ms2mrc){var it;xe.ms==="various"||_e.size==="various"?it=3:it=Se.ms2mrc(xe.ms),xe.mrc=it,Se.selectedSizeFn&&(it=xe.mrc=Se.selectedSizeFn(xe));var lt=c.symbolNumber(xe.mx||_e.symbol)||0;xe.om=lt%200>=100;var $e=Re(xe,ye),qe=X(xe,ye);Me.attr("d",E(lt,it,$e,qe))}var ft=!1,ct,pt,yt;if(xe.so)yt=Ue.outlierwidth,pt=Ue.outliercolor,ct=_e.outliercolor;else{var Et=(Ue||{}).width;yt=(xe.mlw+1||Et+1||(xe.trace?(xe.trace.marker.line||{}).width:0)+1)-1||0,"mlc"in xe?pt=xe.mlcc=Se.lineScale(xe.mlc):L.isArrayOrTypedArray(Ue.color)?pt=p.defaultLine:pt=Ue.color,L.isArrayOrTypedArray(_e.color)&&(ct=p.defaultLine,ft=!0),"mc"in xe?ct=xe.mcc=Se.markerScale(xe.mc):ct=_e.color||_e.colors||"rgba(0,0,0,0)",Se.selectedColorFn&&(ct=Se.selectedColorFn(xe))}if(xe.om)Me.call(p.stroke,ct).style({"stroke-width":(yt||1)+"px",fill:"none"});else{Me.style("stroke-width",(xe.isBlank?0:yt)+"px");var tt=_e.gradient,Ie=xe.mgt;Ie?ft=!0:Ie=tt&&tt.type,L.isArrayOrTypedArray(Ie)&&(Ie=Ie[0],S[Ie]||(Ie=0));var We=_e.pattern,Ze=We&&c.getPatternAttr(We.shape,xe.i,"");if(Ie&&Ie!=="none"){var He=xe.mgc;He?ft=!0:He=tt.color;var De=ye.uid;ft&&(De+="-"+xe.i),c.gradient(Me,Fe,De,Ie,[[0,He],[1,ct]],"fill")}else if(Ze){var me=!1,ge=We.fgcolor;!ge&&Be&&Be.color&&(ge=Be.color,me=!0);var Ee=c.getPatternAttr(ge,xe.i,Be&&Be.color||null),Te=c.getPatternAttr(We.bgcolor,xe.i,null),ze=We.fgopacity,Xe=c.getPatternAttr(We.size,xe.i,8),et=c.getPatternAttr(We.solidity,xe.i,.3);me=me||xe.mcc||L.isArrayOrTypedArray(We.shape)||L.isArrayOrTypedArray(We.bgcolor)||L.isArrayOrTypedArray(We.fgcolor)||L.isArrayOrTypedArray(We.size)||L.isArrayOrTypedArray(We.solidity);var ut=ye.uid;me&&(ut+="-"+xe.i),c.pattern(Me,"point",Fe,ut,Ze,Xe,et,xe.mcc,We.fillmode,Te,Ee,ze)}else L.isArrayOrTypedArray(ct)?p.fill(Me,ct[xe.i]):p.fill(Me,ct);yt&&p.stroke(Me,pt)}},c.makePointStyleFns=function(xe){var Me={},ye=xe.marker;return Me.markerScale=c.tryColorscale(ye,""),Me.lineScale=c.tryColorscale(ye,"line"),v.traceIs(xe,"symbols")&&(Me.ms2mrc=m.isBubble(xe)?h(xe):function(){return(ye.size||6)/2}),xe.selectedpoints&&L.extendFlat(Me,c.makeSelectedPointStyleFns(xe)),Me},c.makeSelectedPointStyleFns=function(xe){var Me={},ye=xe.selected||{},Se=xe.unselected||{},Fe=xe.marker||{},Be=ye.marker||{},_e=Se.marker||{},Ue=Fe.opacity,it=Be.opacity,lt=_e.opacity,$e=it!==void 0,qe=lt!==void 0;(L.isArrayOrTypedArray(Ue)||$e||qe)&&(Me.selectedOpacityFn=function(Ze){var He=Ze.mo===void 0?Fe.opacity:Ze.mo;return Ze.selected?$e?it:He:qe?lt:l*He});var ft=Fe.color,ct=Be.color,pt=_e.color;(ct||pt)&&(Me.selectedColorFn=function(Ze){var He=Ze.mcc||ft;return Ze.selected?ct||He:pt||He});var yt=Fe.size,Et=Be.size,tt=_e.size,Ie=Et!==void 0,We=tt!==void 0;return v.traceIs(xe,"symbols")&&(Ie||We)&&(Me.selectedSizeFn=function(Ze){var He=Ze.mrc||yt/2;return Ze.selected?Ie?Et/2:He:We?tt/2:He}),Me},c.makeSelectedTextStyleFns=function(xe){var Me={},ye=xe.selected||{},Se=xe.unselected||{},Fe=xe.textfont||{},Be=ye.textfont||{},_e=Se.textfont||{},Ue=Fe.color,it=Be.color,lt=_e.color;return Me.selectedTextColorFn=function($e){var qe=$e.tc||Ue;return $e.selected?it||qe:lt||(it?qe:p.addOpacity(qe,l))},Me},c.selectedPointStyle=function(xe,Me){if(!(!xe.size()||!Me.selectedpoints)){var ye=c.makeSelectedPointStyleFns(Me),Se=Me.marker||{},Fe=[];ye.selectedOpacityFn&&Fe.push(function(Be,_e){Be.style("opacity",ye.selectedOpacityFn(_e))}),ye.selectedColorFn&&Fe.push(function(Be,_e){p.fill(Be,ye.selectedColorFn(_e))}),ye.selectedSizeFn&&Fe.push(function(Be,_e){var Ue=_e.mx||Se.symbol||0,it=ye.selectedSizeFn(_e);Be.attr("d",E(c.symbolNumber(Ue),it,Re(_e,Me),X(_e,Me))),_e.mrc2=it}),Fe.length&&xe.each(function(Be){for(var _e=g.select(this),Ue=0;Ue<Fe.length;Ue++)Fe[Ue](_e,Be)})}},c.tryColorscale=function(xe,Me){var ye=Me?L.nestedProperty(xe,Me).get():xe;if(ye){var Se=ye.color;if((ye.colorscale||ye._colorAx)&&L.isArrayOrTypedArray(Se))return r.makeColorScaleFuncFromTrace(ye)}return L.identity};var o={start:1,end:-1,middle:0,bottom:1,top:-1};function P(xe,Me,ye,Se,Fe){var Be=g.select(xe.node().parentNode),_e=Me.indexOf("top")!==-1?"top":Me.indexOf("bottom")!==-1?"bottom":"middle",Ue=Me.indexOf("left")!==-1?"end":Me.indexOf("right")!==-1?"start":"middle",it=Se?Se/.8+1:0,lt=(s.lineCount(xe)-1)*u+1,$e=o[Ue]*it,qe=ye*.75+o[_e]*it+(o[_e]-1)*lt*ye/2;xe.attr("text-anchor",Ue),Fe||Be.attr("transform",t($e,qe))}function x(xe,Me){var ye=xe.ts||Me.textfont.size;return C(ye)&&ye>0?ye:0}c.textPointStyle=function(xe,Me,ye){if(!!xe.size()){var Se;if(Me.selectedpoints){var Fe=c.makeSelectedTextStyleFns(Me);Se=Fe.selectedTextColorFn}var Be=Me.texttemplate,_e=ye._fullLayout;xe.each(function(Ue){var it=g.select(this),lt=Be?L.extractOption(Ue,Me,"txt","texttemplate"):L.extractOption(Ue,Me,"tx","text");if(!lt&&lt!==0){it.remove();return}if(Be){var $e=Me._module.formatLabels,qe=$e?$e(Ue,Me,_e):{},ft={};M(ft,Me,Ue.i);var ct=Me._meta||{};lt=L.texttemplateString(lt,qe,_e._d3locale,ft,Ue,ct)}var pt=Ue.tp||Me.textposition,yt=x(Ue,Me),Et=Se?Se(Ue):Ue.tc||Me.textfont.color;it.call(c.font,Ue.tf||Me.textfont.family,yt,Et).text(lt).call(s.convertToTspans,ye).call(P,pt,yt,Ue.mrc)})}},c.selectedTextStyle=function(xe,Me){if(!(!xe.size()||!Me.selectedpoints)){var ye=c.makeSelectedTextStyleFns(Me);xe.each(function(Se){var Fe=g.select(this),Be=ye.selectedTextColorFn(Se),_e=Se.tp||Me.textposition,Ue=x(Se,Me);p.fill(Fe,Be);var it=v.traceIs(Me,"bar-like");P(Fe,_e,Ue,Se.mrc2||Se.mrc,it)})}};var _=.5;c.smoothopen=function(xe,Me){if(xe.length<3)return"M"+xe.join("L");var ye="M"+xe[0],Se=[],Fe;for(Fe=1;Fe<xe.length-1;Fe++)Se.push(z(xe[Fe-1],xe[Fe],xe[Fe+1],Me));for(ye+="Q"+Se[0][0]+" "+xe[1],Fe=2;Fe<xe.length-1;Fe++)ye+="C"+Se[Fe-2][1]+" "+Se[Fe-1][0]+" "+xe[Fe];return ye+="Q"+Se[xe.length-3][1]+" "+xe[xe.length-1],ye},c.smoothclosed=function(xe,Me){if(xe.length<3)return"M"+xe.join("L")+"Z";var ye="M"+xe[0],Se=xe.length-1,Fe=[z(xe[Se],xe[0],xe[1],Me)],Be;for(Be=1;Be<Se;Be++)Fe.push(z(xe[Be-1],xe[Be],xe[Be+1],Me));for(Fe.push(z(xe[Se-1],xe[Se],xe[0],Me)),Be=1;Be<=Se;Be++)ye+="C"+Fe[Be-1][1]+" "+Fe[Be][0]+" "+xe[Be];return ye+="C"+Fe[Se][1]+" "+Fe[0][0]+" "+xe[0]+"Z",ye};var I,N;function k(xe,Me,ye){return ye&&(xe=q(xe)),Me?O(xe[1]):F(xe[0])}function F(xe){var Me=g.round(xe,2);return I=Me,Me}function O(xe){var Me=g.round(xe,2);return N=Me,Me}function z(xe,Me,ye,Se){var Fe=xe[0]-Me[0],Be=xe[1]-Me[1],_e=ye[0]-Me[0],Ue=ye[1]-Me[1],it=Math.pow(Fe*Fe+Be*Be,_/2),lt=Math.pow(_e*_e+Ue*Ue,_/2),$e=(lt*lt*Fe-it*it*_e)*Se,qe=(lt*lt*Be-it*it*Ue)*Se,ft=3*lt*(it+lt),ct=3*it*(it+lt);return[[F(Me[0]+(ft&&$e/ft)),O(Me[1]+(ft&&qe/ft))],[F(Me[0]-(ct&&$e/ct)),O(Me[1]-(ct&&qe/ct))]]}var B={hv:function(xe,Me,ye){return"H"+F(Me[0])+"V"+k(Me,1,ye)},vh:function(xe,Me,ye){return"V"+O(Me[1])+"H"+k(Me,0,ye)},hvh:function(xe,Me,ye){return"H"+F((xe[0]+Me[0])/2)+"V"+O(Me[1])+"H"+k(Me,0,ye)},vhv:function(xe,Me,ye){return"V"+O((xe[1]+Me[1])/2)+"H"+F(Me[0])+"V"+k(Me,1,ye)}},W=function(xe,Me,ye){return"L"+k(Me,0,ye)+","+k(Me,1,ye)};c.steps=function(xe){var Me=B[xe]||W;return function(ye){for(var Se="M"+F(ye[0][0])+","+O(ye[0][1]),Fe=ye.length,Be=1;Be<Fe;Be++)Se+=Me(ye[Be-1],ye[Be],Be===Fe-1);return Se}};function q(xe,Me){var ye=xe.backoff,Se=xe.trace,Fe=xe.d,Be=xe.i;if(ye&&Se&&Se.marker&&Se.marker.angle%360===0&&Se.line&&Se.line.shape!=="spline"){var _e=L.isArrayOrTypedArray(ye),Ue=xe,it=Me?Me[0]:I||0,lt=Me?Me[1]:N||0,$e=Ue[0],qe=Ue[1],ft=$e-it,ct=qe-lt,pt=Math.atan2(ct,ft),yt=_e?ye[Be]:ye;if(yt==="auto"){var Et=Ue.i;Se.type==="scatter"&&Et--;var tt=Ue.marker,Ie=tt.symbol;L.isArrayOrTypedArray(Ie)&&(Ie=Ie[Et]);var We=tt.size;L.isArrayOrTypedArray(We)&&(We=We[Et]),yt=tt?c.symbolBackOffs[c.symbolNumber(Ie)]*We:0,yt+=c.getMarkerStandoff(Fe[Et],Se)||0}var Ze=$e-yt*Math.cos(pt),He=qe-yt*Math.sin(pt);(Ze<=$e&&Ze>=it||Ze>=$e&&Ze<=it)&&(He<=qe&&He>=lt||He>=qe&&He<=lt)&&(xe=[Ze,He])}return xe}c.applyBackoff=q,c.makeTester=function(){var xe=L.ensureSingleById(g.select("body"),"svg","js-plotly-tester",function(ye){ye.attr(n.svgAttrs).style({position:"absolute",left:"-10000px",top:"-10000px",width:"9000px",height:"9000px","z-index":"1"})}),Me=L.ensureSingle(xe,"path","js-reference-point",function(ye){ye.attr("d","M0,0H1V1H0Z").style({"stroke-width":0,fill:"black"})});c.tester=xe,c.testref=Me},c.savedBBoxes={};var ee=0,Q=1e4;c.bBox=function(xe,Me,ye){ye||(ye=oe(xe));var Se;if(ye){if(Se=c.savedBBoxes[ye],Se)return L.extendFlat({},Se)}else if(xe.childNodes.length===1){var Fe=xe.childNodes[0];if(ye=oe(Fe),ye){var Be=+Fe.getAttribute("x")||0,_e=+Fe.getAttribute("y")||0,Ue=Fe.getAttribute("transform");if(!Ue){var it=c.bBox(Fe,!1,ye);return Be&&(it.left+=Be,it.right+=Be),_e&&(it.top+=_e,it.bottom+=_e),it}if(ye+="~"+Be+"~"+_e+"~"+Ue,Se=c.savedBBoxes[ye],Se)return L.extendFlat({},Se)}}var lt,$e;Me?lt=xe:($e=c.tester.node(),lt=xe.cloneNode(!0),$e.appendChild(lt)),g.select(lt).attr("transform",null).call(s.positionText,0,0);var qe=lt.getBoundingClientRect(),ft=c.testref.node().getBoundingClientRect();Me||$e.removeChild(lt);var ct={height:qe.height,width:qe.width,left:qe.left-ft.left,top:qe.top-ft.top,right:qe.right-ft.left,bottom:qe.bottom-ft.top};return ee>=Q&&(c.savedBBoxes={},ee=0),ye&&(c.savedBBoxes[ye]=ct),ee++,L.extendFlat({},ct)};function oe(xe){var Me=xe.getAttribute("data-unformatted");if(Me!==null)return Me+xe.getAttribute("data-math")+xe.getAttribute("text-anchor")+xe.getAttribute("style")}c.setClipUrl=function(xe,Me,ye){xe.attr("clip-path",Z(Me,ye))};function Z(xe,Me){if(!xe)return null;var ye=Me._context,Se=ye._exportedPlot?"":ye._baseUrl||"";return Se?"url('"+Se+"#"+xe+"')":"url(#"+xe+")"}c.getTranslate=function(xe){var Me=/.*\btranslate\((-?\d*\.?\d*)[^-\d]*(-?\d*\.?\d*)[^\d].*/,ye=xe.attr?"attr":"getAttribute",Se=xe[ye]("transform")||"",Fe=Se.replace(Me,function(Be,_e,Ue){return[_e,Ue].join(" ")}).split(" ");return{x:+Fe[0]||0,y:+Fe[1]||0}},c.setTranslate=function(xe,Me,ye){var Se=/(\btranslate\(.*?\);?)/,Fe=xe.attr?"attr":"getAttribute",Be=xe.attr?"attr":"setAttribute",_e=xe[Fe]("transform")||"";return Me=Me||0,ye=ye||0,_e=_e.replace(Se,"").trim(),_e+=t(Me,ye),_e=_e.trim(),xe[Be]("transform",_e),_e},c.getScale=function(xe){var Me=/.*\bscale\((\d*\.?\d*)[^\d]*(\d*\.?\d*)[^\d].*/,ye=xe.attr?"attr":"getAttribute",Se=xe[ye]("transform")||"",Fe=Se.replace(Me,function(Be,_e,Ue){return[_e,Ue].join(" ")}).split(" ");return{x:+Fe[0]||1,y:+Fe[1]||1}},c.setScale=function(xe,Me,ye){var Se=/(\bscale\(.*?\);?)/,Fe=xe.attr?"attr":"getAttribute",Be=xe.attr?"attr":"setAttribute",_e=xe[Fe]("transform")||"";return Me=Me||1,ye=ye||1,_e=_e.replace(Se,"").trim(),_e+="scale("+Me+","+ye+")",_e=_e.trim(),xe[Be]("transform",_e),_e};var Y=/\s*sc.*/;c.setPointGroupScale=function(xe,Me,ye){if(Me=Me||1,ye=ye||1,!!xe){var Se=Me===1&&ye===1?"":"scale("+Me+","+ye+")";xe.each(function(){var Fe=(this.getAttribute("transform")||"").replace(Y,"");Fe+=Se,Fe=Fe.trim(),this.setAttribute("transform",Fe)})}};var te=/translate\([^)]*\)\s*$/;c.setTextPointsScale=function(xe,Me,ye){!xe||xe.each(function(){var Se,Fe=g.select(this),Be=Fe.select("text");if(!!Be.node()){var _e=parseFloat(Be.attr("x")||0),Ue=parseFloat(Be.attr("y")||0),it=(Fe.attr("transform")||"").match(te);Me===1&&ye===1?Se=[]:Se=[t(_e,Ue),"scale("+Me+","+ye+")",t(-_e,-Ue)],it&&Se.push(it),Fe.attr("transform",Se.join(""))}})};function X(xe,Me){var ye;return xe&&(ye=xe.mf),ye===void 0&&(ye=Me.marker&&Me.marker.standoff||0),!Me._geo&&!Me._xA?-ye:ye}c.getMarkerStandoff=X;var $=Math.atan2,ie=Math.cos,J=Math.sin;function j(xe,Me){var ye=Me[0],Se=Me[1];return[ye*ie(xe)-Se*J(xe),ye*J(xe)+Se*ie(xe)]}var se,ne,le,pe,Ae,be;function Re(xe,Me){var ye=xe.ma;ye===void 0&&(ye=Me.marker.angle,(!ye||L.isArrayOrTypedArray(ye))&&(ye=0));var Se,Fe,Be=Me.marker.angleref;if(Be==="previous"||Be==="north"){if(Me._geo){var _e=Me._geo.project(xe.lonlat);Se=_e[0],Fe=_e[1]}else{var Ue=Me._xA,it=Me._yA;if(Ue&&it)Se=Ue.c2p(xe.x),Fe=it.c2p(xe.y);else return 90}if(Me._geo){var lt=xe.lonlat[0],$e=xe.lonlat[1],qe=Me._geo.project([lt,$e+1e-5]),ft=Me._geo.project([lt+1e-5,$e]),ct=$(ft[1]-Fe,ft[0]-Se),pt=$(qe[1]-Fe,qe[0]-Se),yt;if(Be==="north")yt=ye/180*Math.PI;else if(Be==="previous"){var Et=lt/180*Math.PI,tt=$e/180*Math.PI,Ie=se/180*Math.PI,We=ne/180*Math.PI,Ze=Ie-Et,He=ie(We)*J(Ze),De=J(We)*ie(tt)-ie(We)*J(tt)*ie(Ze);yt=-$(He,De)-Math.PI,se=lt,ne=$e}var me=j(ct,[ie(yt),0]),ge=j(pt,[J(yt),0]);ye=$(me[1]+ge[1],me[0]+ge[0])/Math.PI*180,Be==="previous"&&!(be===Me.uid&&xe.i===Ae+1)&&(ye=null)}if(Be==="previous"&&!Me._geo)if(be===Me.uid&&xe.i===Ae+1&&C(Se)&&C(Fe)){var Ee=Se-le,Te=Fe-pe,ze=Me.line&&Me.line.shape||"",Xe=ze.slice(ze.length-1);Xe==="h"&&(Te=0),Xe==="v"&&(Ee=0),ye+=$(Te,Ee)/Math.PI*180+90}else ye=null}return le=Se,pe=Fe,Ae=xe.i,be=Me.uid,ye}c.getMarkerAngle=Re},71984:function(G,U,e){var g=e(21984),L=e(33428).round,a="M0,0Z",C=Math.sqrt(2),A=Math.sqrt(3),v=Math.PI,p=Math.cos,r=Math.sin;G.exports={circle:{n:0,f:function(m,h,M){if(t(h))return a;var c=L(m,2),i="M"+c+",0A"+c+","+c+" 0 1,1 0,-"+c+"A"+c+","+c+" 0 0,1 "+c+",0Z";return M?l(h,M,i):i}},square:{n:1,f:function(m,h,M){if(t(h))return a;var c=L(m,2);return l(h,M,"M"+c+","+c+"H-"+c+"V-"+c+"H"+c+"Z")}},diamond:{n:2,f:function(m,h,M){if(t(h))return a;var c=L(m*1.3,2);return l(h,M,"M"+c+",0L0,"+c+"L-"+c+",0L0,-"+c+"Z")}},cross:{n:3,f:function(m,h,M){if(t(h))return a;var c=L(m*.4,2),i=L(m*1.2,2);return l(h,M,"M"+i+","+c+"H"+c+"V"+i+"H-"+c+"V"+c+"H-"+i+"V-"+c+"H-"+c+"V-"+i+"H"+c+"V-"+c+"H"+i+"Z")}},x:{n:4,f:function(m,h,M){if(t(h))return a;var c=L(m*.8/C,2),i="l"+c+","+c,d="l"+c+",-"+c,b="l-"+c+",-"+c,w="l-"+c+","+c;return l(h,M,"M0,"+c+i+d+b+d+b+w+b+w+i+w+i+"Z")}},"triangle-up":{n:5,f:function(m,h,M){if(t(h))return a;var c=L(m*2/A,2),i=L(m/2,2),d=L(m,2);return l(h,M,"M-"+c+","+i+"H"+c+"L0,-"+d+"Z")}},"triangle-down":{n:6,f:function(m,h,M){if(t(h))return a;var c=L(m*2/A,2),i=L(m/2,2),d=L(m,2);return l(h,M,"M-"+c+",-"+i+"H"+c+"L0,"+d+"Z")}},"triangle-left":{n:7,f:function(m,h,M){if(t(h))return a;var c=L(m*2/A,2),i=L(m/2,2),d=L(m,2);return l(h,M,"M"+i+",-"+c+"V"+c+"L-"+d+",0Z")}},"triangle-right":{n:8,f:function(m,h,M){if(t(h))return a;var c=L(m*2/A,2),i=L(m/2,2),d=L(m,2);return l(h,M,"M-"+i+",-"+c+"V"+c+"L"+d+",0Z")}},"triangle-ne":{n:9,f:function(m,h,M){if(t(h))return a;var c=L(m*.6,2),i=L(m*1.2,2);return l(h,M,"M-"+i+",-"+c+"H"+c+"V"+i+"Z")}},"triangle-se":{n:10,f:function(m,h,M){if(t(h))return a;var c=L(m*.6,2),i=L(m*1.2,2);return l(h,M,"M"+c+",-"+i+"V"+c+"H-"+i+"Z")}},"triangle-sw":{n:11,f:function(m,h,M){if(t(h))return a;var c=L(m*.6,2),i=L(m*1.2,2);return l(h,M,"M"+i+","+c+"H-"+c+"V-"+i+"Z")}},"triangle-nw":{n:12,f:function(m,h,M){if(t(h))return a;var c=L(m*.6,2),i=L(m*1.2,2);return l(h,M,"M-"+c+","+i+"V-"+c+"H"+i+"Z")}},pentagon:{n:13,f:function(m,h,M){if(t(h))return a;var c=L(m*.951,2),i=L(m*.588,2),d=L(-m,2),b=L(m*-.309,2),w=L(m*.809,2);return l(h,M,"M"+c+","+b+"L"+i+","+w+"H-"+i+"L-"+c+","+b+"L0,"+d+"Z")}},hexagon:{n:14,f:function(m,h,M){if(t(h))return a;var c=L(m,2),i=L(m/2,2),d=L(m*A/2,2);return l(h,M,"M"+d+",-"+i+"V"+i+"L0,"+c+"L-"+d+","+i+"V-"+i+"L0,-"+c+"Z")}},hexagon2:{n:15,f:function(m,h,M){if(t(h))return a;var c=L(m,2),i=L(m/2,2),d=L(m*A/2,2);return l(h,M,"M-"+i+","+d+"H"+i+"L"+c+",0L"+i+",-"+d+"H-"+i+"L-"+c+",0Z")}},octagon:{n:16,f:function(m,h,M){if(t(h))return a;var c=L(m*.924,2),i=L(m*.383,2);return l(h,M,"M-"+i+",-"+c+"H"+i+"L"+c+",-"+i+"V"+i+"L"+i+","+c+"H-"+i+"L-"+c+","+i+"V-"+i+"Z")}},star:{n:17,f:function(m,h,M){if(t(h))return a;var c=m*1.4,i=L(c*.225,2),d=L(c*.951,2),b=L(c*.363,2),w=L(c*.588,2),E=L(-c,2),y=L(c*-.309,2),S=L(c*.118,2),T=L(c*.809,2),o=L(c*.382,2);return l(h,M,"M"+i+","+y+"H"+d+"L"+b+","+S+"L"+w+","+T+"L0,"+o+"L-"+w+","+T+"L-"+b+","+S+"L-"+d+","+y+"H-"+i+"L0,"+E+"Z")}},hexagram:{n:18,f:function(m,h,M){if(t(h))return a;var c=L(m*.66,2),i=L(m*.38,2),d=L(m*.76,2);return l(h,M,"M-"+d+",0l-"+i+",-"+c+"h"+d+"l"+i+",-"+c+"l"+i+","+c+"h"+d+"l-"+i+","+c+"l"+i+","+c+"h-"+d+"l-"+i+","+c+"l-"+i+",-"+c+"h-"+d+"Z")}},"star-triangle-up":{n:19,f:function(m,h,M){if(t(h))return a;var c=L(m*A*.8,2),i=L(m*.8,2),d=L(m*1.6,2),b=L(m*4,2),w="A "+b+","+b+" 0 0 1 ";return l(h,M,"M-"+c+","+i+w+c+","+i+w+"0,-"+d+w+"-"+c+","+i+"Z")}},"star-triangle-down":{n:20,f:function(m,h,M){if(t(h))return a;var c=L(m*A*.8,2),i=L(m*.8,2),d=L(m*1.6,2),b=L(m*4,2),w="A "+b+","+b+" 0 0 1 ";return l(h,M,"M"+c+",-"+i+w+"-"+c+",-"+i+w+"0,"+d+w+c+",-"+i+"Z")}},"star-square":{n:21,f:function(m,h,M){if(t(h))return a;var c=L(m*1.1,2),i=L(m*2,2),d="A "+i+","+i+" 0 0 1 ";return l(h,M,"M-"+c+",-"+c+d+"-"+c+","+c+d+c+","+c+d+c+",-"+c+d+"-"+c+",-"+c+"Z")}},"star-diamond":{n:22,f:function(m,h,M){if(t(h))return a;var c=L(m*1.4,2),i=L(m*1.9,2),d="A "+i+","+i+" 0 0 1 ";return l(h,M,"M-"+c+",0"+d+"0,"+c+d+c+",0"+d+"0,-"+c+d+"-"+c+",0Z")}},"diamond-tall":{n:23,f:function(m,h,M){if(t(h))return a;var c=L(m*.7,2),i=L(m*1.4,2);return l(h,M,"M0,"+i+"L"+c+",0L0,-"+i+"L-"+c+",0Z")}},"diamond-wide":{n:24,f:function(m,h,M){if(t(h))return a;var c=L(m*1.4,2),i=L(m*.7,2);return l(h,M,"M0,"+i+"L"+c+",0L0,-"+i+"L-"+c+",0Z")}},hourglass:{n:25,f:function(m,h,M){if(t(h))return a;var c=L(m,2);return l(h,M,"M"+c+","+c+"H-"+c+"L"+c+",-"+c+"H-"+c+"Z")},noDot:!0},bowtie:{n:26,f:function(m,h,M){if(t(h))return a;var c=L(m,2);return l(h,M,"M"+c+","+c+"V-"+c+"L-"+c+","+c+"V-"+c+"Z")},noDot:!0},"circle-cross":{n:27,f:function(m,h,M){if(t(h))return a;var c=L(m,2);return l(h,M,"M0,"+c+"V-"+c+"M"+c+",0H-"+c+"M"+c+",0A"+c+","+c+" 0 1,1 0,-"+c+"A"+c+","+c+" 0 0,1 "+c+",0Z")},needLine:!0,noDot:!0},"circle-x":{n:28,f:function(m,h,M){if(t(h))return a;var c=L(m,2),i=L(m/C,2);return l(h,M,"M"+i+","+i+"L-"+i+",-"+i+"M"+i+",-"+i+"L-"+i+","+i+"M"+c+",0A"+c+","+c+" 0 1,1 0,-"+c+"A"+c+","+c+" 0 0,1 "+c+",0Z")},needLine:!0,noDot:!0},"square-cross":{n:29,f:function(m,h,M){if(t(h))return a;var c=L(m,2);return l(h,M,"M0,"+c+"V-"+c+"M"+c+",0H-"+c+"M"+c+","+c+"H-"+c+"V-"+c+"H"+c+"Z")},needLine:!0,noDot:!0},"square-x":{n:30,f:function(m,h,M){if(t(h))return a;var c=L(m,2);return l(h,M,"M"+c+","+c+"L-"+c+",-"+c+"M"+c+",-"+c+"L-"+c+","+c+"M"+c+","+c+"H-"+c+"V-"+c+"H"+c+"Z")},needLine:!0,noDot:!0},"diamond-cross":{n:31,f:function(m,h,M){if(t(h))return a;var c=L(m*1.3,2);return l(h,M,"M"+c+",0L0,"+c+"L-"+c+",0L0,-"+c+"ZM0,-"+c+"V"+c+"M-"+c+",0H"+c)},needLine:!0,noDot:!0},"diamond-x":{n:32,f:function(m,h,M){if(t(h))return a;var c=L(m*1.3,2),i=L(m*.65,2);return l(h,M,"M"+c+",0L0,"+c+"L-"+c+",0L0,-"+c+"ZM-"+i+",-"+i+"L"+i+","+i+"M-"+i+","+i+"L"+i+",-"+i)},needLine:!0,noDot:!0},"cross-thin":{n:33,f:function(m,h,M){if(t(h))return a;var c=L(m*1.4,2);return l(h,M,"M0,"+c+"V-"+c+"M"+c+",0H-"+c)},needLine:!0,noDot:!0,noFill:!0},"x-thin":{n:34,f:function(m,h,M){if(t(h))return a;var c=L(m,2);return l(h,M,"M"+c+","+c+"L-"+c+",-"+c+"M"+c+",-"+c+"L-"+c+","+c)},needLine:!0,noDot:!0,noFill:!0},asterisk:{n:35,f:function(m,h,M){if(t(h))return a;var c=L(m*1.2,2),i=L(m*.85,2);return l(h,M,"M0,"+c+"V-"+c+"M"+c+",0H-"+c+"M"+i+","+i+"L-"+i+",-"+i+"M"+i+",-"+i+"L-"+i+","+i)},needLine:!0,noDot:!0,noFill:!0},hash:{n:36,f:function(m,h,M){if(t(h))return a;var c=L(m/2,2),i=L(m,2);return l(h,M,"M"+c+","+i+"V-"+i+"M"+(c-i)+",-"+i+"V"+i+"M"+i+","+c+"H-"+i+"M-"+i+","+(c-i)+"H"+i)},needLine:!0,noFill:!0},"y-up":{n:37,f:function(m,h,M){if(t(h))return a;var c=L(m*1.2,2),i=L(m*1.6,2),d=L(m*.8,2);return l(h,M,"M-"+c+","+d+"L0,0M"+c+","+d+"L0,0M0,-"+i+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-down":{n:38,f:function(m,h,M){if(t(h))return a;var c=L(m*1.2,2),i=L(m*1.6,2),d=L(m*.8,2);return l(h,M,"M-"+c+",-"+d+"L0,0M"+c+",-"+d+"L0,0M0,"+i+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-left":{n:39,f:function(m,h,M){if(t(h))return a;var c=L(m*1.2,2),i=L(m*1.6,2),d=L(m*.8,2);return l(h,M,"M"+d+","+c+"L0,0M"+d+",-"+c+"L0,0M-"+i+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-right":{n:40,f:function(m,h,M){if(t(h))return a;var c=L(m*1.2,2),i=L(m*1.6,2),d=L(m*.8,2);return l(h,M,"M-"+d+","+c+"L0,0M-"+d+",-"+c+"L0,0M"+i+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"line-ew":{n:41,f:function(m,h,M){if(t(h))return a;var c=L(m*1.4,2);return l(h,M,"M"+c+",0H-"+c)},needLine:!0,noDot:!0,noFill:!0},"line-ns":{n:42,f:function(m,h,M){if(t(h))return a;var c=L(m*1.4,2);return l(h,M,"M0,"+c+"V-"+c)},needLine:!0,noDot:!0,noFill:!0},"line-ne":{n:43,f:function(m,h,M){if(t(h))return a;var c=L(m,2);return l(h,M,"M"+c+",-"+c+"L-"+c+","+c)},needLine:!0,noDot:!0,noFill:!0},"line-nw":{n:44,f:function(m,h,M){if(t(h))return a;var c=L(m,2);return l(h,M,"M"+c+","+c+"L-"+c+",-"+c)},needLine:!0,noDot:!0,noFill:!0},"arrow-up":{n:45,f:function(m,h,M){if(t(h))return a;var c=L(m,2),i=L(m*2,2);return l(h,M,"M0,0L-"+c+","+i+"H"+c+"Z")},backoff:1,noDot:!0},"arrow-down":{n:46,f:function(m,h,M){if(t(h))return a;var c=L(m,2),i=L(m*2,2);return l(h,M,"M0,0L-"+c+",-"+i+"H"+c+"Z")},noDot:!0},"arrow-left":{n:47,f:function(m,h,M){if(t(h))return a;var c=L(m*2,2),i=L(m,2);return l(h,M,"M0,0L"+c+",-"+i+"V"+i+"Z")},noDot:!0},"arrow-right":{n:48,f:function(m,h,M){if(t(h))return a;var c=L(m*2,2),i=L(m,2);return l(h,M,"M0,0L-"+c+",-"+i+"V"+i+"Z")},noDot:!0},"arrow-bar-up":{n:49,f:function(m,h,M){if(t(h))return a;var c=L(m,2),i=L(m*2,2);return l(h,M,"M-"+c+",0H"+c+"M0,0L-"+c+","+i+"H"+c+"Z")},backoff:1,needLine:!0,noDot:!0},"arrow-bar-down":{n:50,f:function(m,h,M){if(t(h))return a;var c=L(m,2),i=L(m*2,2);return l(h,M,"M-"+c+",0H"+c+"M0,0L-"+c+",-"+i+"H"+c+"Z")},needLine:!0,noDot:!0},"arrow-bar-left":{n:51,f:function(m,h,M){if(t(h))return a;var c=L(m*2,2),i=L(m,2);return l(h,M,"M0,-"+i+"V"+i+"M0,0L"+c+",-"+i+"V"+i+"Z")},needLine:!0,noDot:!0},"arrow-bar-right":{n:52,f:function(m,h,M){if(t(h))return a;var c=L(m*2,2),i=L(m,2);return l(h,M,"M0,-"+i+"V"+i+"M0,0L-"+c+",-"+i+"V"+i+"Z")},needLine:!0,noDot:!0},arrow:{n:53,f:function(m,h,M){if(t(h))return a;var c=v/2.5,i=2*m*p(c),d=2*m*r(c);return l(h,M,"M0,0L"+-i+","+d+"L"+i+","+d+"Z")},backoff:.9,noDot:!0},"arrow-wide":{n:54,f:function(m,h,M){if(t(h))return a;var c=v/4,i=2*m*p(c),d=2*m*r(c);return l(h,M,"M0,0L"+-i+","+d+"A "+2*m+","+2*m+" 0 0 1 "+i+","+d+"Z")},backoff:.4,noDot:!0}};function t(m){return m===null}var s,n,f,u;function l(m,h,M){if((!m||m%360===0)&&!h)return M;if(f===m&&u===h&&s===M)return n;f=m,u=h,s=M;function c(I,N){var k=p(I),F=r(I),O=N[0],z=N[1]+(h||0);return[O*k-z*F,O*F+z*k]}for(var i=m/180*v,d=0,b=0,w=g(M),E="",y=0;y<w.length;y++){var S=w[y],T=S[0],o=d,P=b;if(T==="M"||T==="L")d=+S[1],b=+S[2];else if(T==="m"||T==="l")d+=+S[1],b+=+S[2];else if(T==="H")d=+S[1];else if(T==="h")d+=+S[1];else if(T==="V")b=+S[1];else if(T==="v")b+=+S[1];else if(T==="A"){d=+S[1],b=+S[2];var x=c(i,[+S[6],+S[7]]);S[6]=x[0],S[7]=x[1],S[3]=+S[3]+m}(T==="H"||T==="V")&&(T="L"),(T==="h"||T==="v")&&(T="l"),(T==="m"||T==="l")&&(d-=o,b-=P);var _=c(i,[d,b]);(T==="H"||T==="V")&&(T="L"),(T==="M"||T==="L"||T==="m"||T==="l")&&(S[1]=_[0],S[2]=_[1]),S[0]=T,E+=S[0]+S.slice(1).join(",")}return n=E,E}},97644:function(G){G.exports={visible:{valType:"boolean",editType:"calc"},type:{valType:"enumerated",values:["percent","constant","sqrt","data"],editType:"calc"},symmetric:{valType:"boolean",editType:"calc"},array:{valType:"data_array",editType:"calc"},arrayminus:{valType:"data_array",editType:"calc"},value:{valType:"number",min:0,dflt:10,editType:"calc"},valueminus:{valType:"number",min:0,dflt:10,editType:"calc"},traceref:{valType:"integer",min:0,dflt:0,editType:"style"},tracerefminus:{valType:"integer",min:0,dflt:0,editType:"style"},copy_ystyle:{valType:"boolean",editType:"plot"},copy_zstyle:{valType:"boolean",editType:"style"},color:{valType:"color",editType:"style"},thickness:{valType:"number",min:0,dflt:2,editType:"style"},width:{valType:"number",min:0,editType:"plot"},editType:"calc",_deprecated:{opacity:{valType:"number",editType:"style"}}}},14880:function(G,U,e){var g=e(38248),L=e(24040),a=e(54460),C=e(3400),A=e(93792);G.exports=function(r){for(var t=r.calcdata,s=0;s<t.length;s++){var n=t[s],f=n[0].trace;if(f.visible===!0&&L.traceIs(f,"errorBarsOK")){var u=a.getFromId(r,f.xaxis),l=a.getFromId(r,f.yaxis);v(n,f,u,"x"),v(n,f,l,"y")}}};function v(p,r,t,s){var n=r["error_"+s]||{},f=n.visible&&["linear","log"].indexOf(t.type)!==-1,u=[];if(!!f){for(var l=A(n),m=0;m<p.length;m++){var h=p[m],M=h.i;if(M===void 0)M=m;else if(M===null)continue;var c=h[s];if(!!g(t.c2l(c))){var i=l(c,M);if(g(i[0])&&g(i[1])){var d=h[s+"s"]=c-i[0],b=h[s+"h"]=c+i[1];u.push(d,b)}}}var w=t._id,E=r._extremes[w],y=a.findExtremes(t,u,C.extendFlat({tozero:E.opts.tozero},{padded:!0}));E.min=E.min.concat(y.min),E.max=E.max.concat(y.max)}}},93792:function(G){G.exports=function(g){var L=g.type,a=g.symmetric;if(L==="data"){var C=g.array||[];if(a)return function(t,s){var n=+C[s];return[n,n]};var A=g.arrayminus||[];return function(t,s){var n=+C[s],f=+A[s];return!isNaN(n)||!isNaN(f)?[f||0,n||0]:[NaN,NaN]}}else{var v=U(L,g.value),p=U(L,g.valueminus);return a||g.valueminus===void 0?function(t){var s=v(t);return[s,s]}:function(t){return[p(t),v(t)]}}};function U(e,g){if(e==="percent")return function(L){return Math.abs(L*g/100)};if(e==="constant")return function(){return Math.abs(g)};if(e==="sqrt")return function(L){return Math.sqrt(Math.abs(L))}}},65200:function(G,U,e){var g=e(38248),L=e(24040),a=e(3400),C=e(31780),A=e(97644);G.exports=function(v,p,r,t){var s="error_"+t.axis,n=C.newContainer(p,s),f=v[s]||{};function u(d,b){return a.coerce(f,n,A,d,b)}var l=f.array!==void 0||f.value!==void 0||f.type==="sqrt",m=u("visible",l);if(m!==!1){var h=u("type","array"in f?"data":"percent"),M=!0;h!=="sqrt"&&(M=u("symmetric",!((h==="data"?"arrayminus":"valueminus")in f))),h==="data"?(u("array"),u("traceref"),M||(u("arrayminus"),u("tracerefminus"))):(h==="percent"||h==="constant")&&(u("value"),M||u("valueminus"));var c="copy_"+t.inherit+"style";if(t.inherit){var i=p["error_"+t.inherit];(i||{}).visible&&u(c,!(f.color||g(f.thickness)||g(f.width)))}(!t.inherit||!n[c])&&(u("color",r),u("thickness"),u("width",L.traceIs(p,"gl3d")?0:4))}}},64968:function(G,U,e){var g=e(3400),L=e(67824).overrideAll,a=e(97644),C={error_x:g.extendFlat({},a),error_y:g.extendFlat({},a)};delete C.error_x.copy_zstyle,delete C.error_y.copy_zstyle,delete C.error_y.copy_ystyle;var A={error_x:g.extendFlat({},a),error_y:g.extendFlat({},a),error_z:g.extendFlat({},a)};delete A.error_x.copy_ystyle,delete A.error_y.copy_ystyle,delete A.error_z.copy_ystyle,delete A.error_z.copy_zstyle,G.exports={moduleType:"component",name:"errorbars",schema:{traces:{scatter:C,bar:C,histogram:C,scatter3d:L(A,"calc","nested"),scattergl:L(C,"calc","nested")}},supplyDefaults:e(65200),calc:e(14880),makeComputeError:e(93792),plot:e(78512),style:e(92036),hoverInfo:v};function v(p,r,t){(r.error_y||{}).visible&&(t.yerr=p.yh-p.y,r.error_y.symmetric||(t.yerrneg=p.y-p.ys)),(r.error_x||{}).visible&&(t.xerr=p.xh-p.x,r.error_x.symmetric||(t.xerrneg=p.x-p.xs))}},78512:function(G,U,e){var g=e(33428),L=e(38248),a=e(43616),C=e(43028);G.exports=function(p,r,t,s){var n,f=t.xaxis,u=t.yaxis,l=s&&s.duration>0,m=p._context.staticPlot;r.each(function(h){var M=h[0].trace,c=M.error_x||{},i=M.error_y||{},d;M.ids&&(d=function(y){return y.id});var b=C.hasMarkers(M)&&M.marker.maxdisplayed>0;!i.visible&&!c.visible&&(h=[]);var w=g.select(this).selectAll("g.errorbar").data(h,d);if(w.exit().remove(),!!h.length){c.visible||w.selectAll("path.xerror").remove(),i.visible||w.selectAll("path.yerror").remove(),w.style("opacity",1);var E=w.enter().append("g").classed("errorbar",!0);l&&E.style("opacity",0).transition().duration(s.duration).style("opacity",1),a.setClipUrl(w,t.layerClipId,p),w.each(function(y){var S=g.select(this),T=A(y,f,u);if(!(b&&!y.vis)){var o,P=S.select("path.yerror");if(i.visible&&L(T.x)&&L(T.yh)&&L(T.ys)){var x=i.width;o="M"+(T.x-x)+","+T.yh+"h"+2*x+"m-"+x+",0V"+T.ys,T.noYS||(o+="m-"+x+",0h"+2*x),n=!P.size(),n?P=S.append("path").style("vector-effect",m?"none":"non-scaling-stroke").classed("yerror",!0):l&&(P=P.transition().duration(s.duration).ease(s.easing)),P.attr("d",o)}else P.remove();var _=S.select("path.xerror");if(c.visible&&L(T.y)&&L(T.xh)&&L(T.xs)){var I=(c.copy_ystyle?i:c).width;o="M"+T.xh+","+(T.y-I)+"v"+2*I+"m0,-"+I+"H"+T.xs,T.noXS||(o+="m0,-"+I+"v"+2*I),n=!_.size(),n?_=S.append("path").style("vector-effect",m?"none":"non-scaling-stroke").classed("xerror",!0):l&&(_=_.transition().duration(s.duration).ease(s.easing)),_.attr("d",o)}else _.remove()}})}})};function A(v,p,r){var t={x:p.c2p(v.x),y:r.c2p(v.y)};return v.yh!==void 0&&(t.yh=r.c2p(v.yh),t.ys=r.c2p(v.ys),L(t.ys)||(t.noYS=!0,t.ys=r.c2p(v.ys,!0))),v.xh!==void 0&&(t.xh=p.c2p(v.xh),t.xs=p.c2p(v.xs),L(t.xs)||(t.noXS=!0,t.xs=p.c2p(v.xs,!0))),t}},92036:function(G,U,e){var g=e(33428),L=e(76308);G.exports=function(C){C.each(function(A){var v=A[0].trace,p=v.error_y||{},r=v.error_x||{},t=g.select(this);t.selectAll("path.yerror").style("stroke-width",p.thickness+"px").call(L.stroke,p.color),r.copy_ystyle&&(r=p),t.selectAll("path.xerror").style("stroke-width",r.thickness+"px").call(L.stroke,r.color)})}},55756:function(G,U,e){var g=e(25376),L=e(65460).hoverlabel,a=e(92880).extendFlat;G.exports={hoverlabel:{bgcolor:a({},L.bgcolor,{arrayOk:!0}),bordercolor:a({},L.bordercolor,{arrayOk:!0}),font:g({arrayOk:!0,editType:"none"}),align:a({},L.align,{arrayOk:!0}),namelength:a({},L.namelength,{arrayOk:!0}),editType:"none"}}},55056:function(G,U,e){var g=e(3400),L=e(24040);G.exports=function(A){var v=A.calcdata,p=A._fullLayout;function r(u){return function(l){return g.coerceHoverinfo({hoverinfo:l},{_module:u._module},p)}}for(var t=0;t<v.length;t++){var s=v[t],n=s[0].trace;if(!L.traceIs(n,"pie-like")){var f=L.traceIs(n,"2dMap")?a:g.fillArray;f(n.hoverinfo,s,"hi",r(n)),n.hovertemplate&&f(n.hovertemplate,s,"ht"),n.hoverlabel&&(f(n.hoverlabel.bgcolor,s,"hbg"),f(n.hoverlabel.bordercolor,s,"hbc"),f(n.hoverlabel.font.size,s,"hts"),f(n.hoverlabel.font.color,s,"htc"),f(n.hoverlabel.font.family,s,"htf"),f(n.hoverlabel.namelength,s,"hnl"),f(n.hoverlabel.align,s,"hta"))}}};function a(C,A,v,p){p=p||g.identity,Array.isArray(C)&&(A[0][v]=p(C))}},62376:function(G,U,e){var g=e(24040),L=e(83292).hover;G.exports=function(C,A,v){var p=g.getComponentMethod("annotations","onClick")(C,C._hoverdata);v!==void 0&&L(C,A,v,!0);function r(){C.emit("plotly_click",{points:C._hoverdata,event:A})}C._hoverdata&&A&&A.target&&(p&&p.then?p.then(r):r(),A.stopImmediatePropagation&&A.stopImmediatePropagation())}},92456:function(G){G.exports={YANGLE:60,HOVERARROWSIZE:6,HOVERTEXTPAD:3,HOVERFONTSIZE:13,HOVERFONT:"Arial, sans-serif",HOVERMINTIME:50,HOVERID:"-hover"}},95448:function(G,U,e){var g=e(3400),L=e(55756),a=e(16132);G.exports=function(A,v,p,r){function t(n,f){return g.coerce(A,v,L,n,f)}var s=g.extendFlat({},r.hoverlabel);v.hovertemplate&&(s.namelength=-1),a(A,v,t,s)}},10624:function(G,U,e){var g=e(3400);U.getSubplot=function(p){return p.subplot||p.xaxis+p.yaxis||p.geo},U.isTraceInSubplots=function(p,r){if(p.type==="splom"){for(var t=p.xaxes||[],s=p.yaxes||[],n=0;n<t.length;n++)for(var f=0;f<s.length;f++)if(r.indexOf(t[n]+s[f])!==-1)return!0;return!1}return r.indexOf(U.getSubplot(p))!==-1},U.flat=function(p,r){for(var t=new Array(p.length),s=0;s<p.length;s++)t[s]=r;return t},U.p2c=function(p,r){for(var t=new Array(p.length),s=0;s<p.length;s++)t[s]=p[s].p2c(r);return t},U.getDistanceFunction=function(p,r,t,s){return p==="closest"?s||U.quadrature(r,t):p.charAt(0)==="x"?r:t},U.getClosest=function(p,r,t){if(t.index!==!1)t.index>=0&&t.index<p.length?t.distance=0:t.index=!1;else for(var s=0;s<p.length;s++){var n=r(p[s]);n<=t.distance&&(t.index=s,t.distance=n)}return t},U.inbox=function(p,r,t){return p*r<0||p===0?t:1/0},U.quadrature=function(p,r){return function(t){var s=p(t),n=r(t);return Math.sqrt(s*s+n*n)}},U.makeEventData=function(p,r,t){var s="index"in p?p.index:p.pointNumber,n={data:r._input,fullData:r,curveNumber:r.index,pointNumber:s};if(r._indexToPoints){var f=r._indexToPoints[s];f.length===1?n.pointIndex=f[0]:n.pointIndices=f}else n.pointIndex=s;return r._module.eventData?n=r._module.eventData(n,p,r,t,s):("xVal"in p?n.x=p.xVal:"x"in p&&(n.x=p.x),"yVal"in p?n.y=p.yVal:"y"in p&&(n.y=p.y),p.xa&&(n.xaxis=p.xa),p.ya&&(n.yaxis=p.ya),p.zLabelVal!==void 0&&(n.z=p.zLabelVal)),U.appendArrayPointValue(n,r,s),n},U.appendArrayPointValue=function(p,r,t){var s=r._arrayAttrs;if(!!s)for(var n=0;n<s.length;n++){var f=s[n],u=a(f);if(p[u]===void 0){var l=g.nestedProperty(r,f).get(),m=C(l,t);m!==void 0&&(p[u]=m)}}},U.appendArrayMultiPointValues=function(p,r,t){var s=r._arrayAttrs;if(!!s)for(var n=0;n<s.length;n++){var f=s[n],u=a(f);if(p[u]===void 0){for(var l=g.nestedProperty(r,f).get(),m=new Array(t.length),h=0;h<t.length;h++)m[h]=C(l,t[h]);p[u]=m}}};var L={ids:"id",locations:"location",labels:"label",values:"value","marker.colors":"color",parents:"parent"};function a(p){return L[p]||p}function C(p,r){if(Array.isArray(r)){if(Array.isArray(p)&&Array.isArray(p[r[0]]))return p[r[0]][r[1]]}else return p[r]}var A={x:!0,y:!0},v={"x unified":!0,"y unified":!0};U.isUnifiedHover=function(p){return typeof p!="string"?!1:!!v[p]},U.isXYhover=function(p){return typeof p!="string"?!1:!!A[p]}},83292:function(G,U,e){var g=e(33428),L=e(38248),a=e(49760),C=e(3400),A=C.strTranslate,v=C.strRotate,p=e(95924),r=e(72736),t=e(72213),s=e(43616),n=e(76308),f=e(86476),u=e(54460),l=e(24040),m=e(10624),h=e(92456),M=e(77864),c=e(31140),i=h.YANGLE,d=Math.PI*i/180,b=1/Math.sin(d),w=Math.cos(d),E=Math.sin(d),y=h.HOVERARROWSIZE,S=h.HOVERTEXTPAD,T={box:!0,ohlc:!0,violin:!0,candlestick:!0},o={scatter:!0,scattergl:!0,splom:!0};U.hover=function(ie,J,j,se){ie=C.getGraphDiv(ie);var ne=J.target;C.throttle(ie._fullLayout._uid+h.HOVERID,h.HOVERMINTIME,function(){P(ie,J,j,se,ne)})},U.loneHover=function(ie,J){var j=!0;Array.isArray(ie)||(j=!1,ie=[ie]);var se=J.gd,ne=Y(se),le=te(se),pe=ie.map(function(Be){var _e=Be._x0||Be.x0||Be.x||0,Ue=Be._x1||Be.x1||Be.x||0,it=Be._y0||Be.y0||Be.y||0,lt=Be._y1||Be.y1||Be.y||0,$e=Be.eventData;if($e){var qe=Math.min(_e,Ue),ft=Math.max(_e,Ue),ct=Math.min(it,lt),pt=Math.max(it,lt),yt=Be.trace;if(l.traceIs(yt,"gl3d")){var Et=se._fullLayout[yt.scene]._scene.container,tt=Et.offsetLeft,Ie=Et.offsetTop;qe+=tt,ft+=tt,ct+=Ie,pt+=Ie}$e.bbox={x0:qe+le,x1:ft+le,y0:ct+ne,y1:pt+ne},J.inOut_bbox&&J.inOut_bbox.push($e.bbox)}else $e=!1;return{color:Be.color||n.defaultLine,x0:Be.x0||Be.x||0,x1:Be.x1||Be.x||0,y0:Be.y0||Be.y||0,y1:Be.y1||Be.y||0,xLabel:Be.xLabel,yLabel:Be.yLabel,zLabel:Be.zLabel,text:Be.text,name:Be.name,idealAlign:Be.idealAlign,borderColor:Be.borderColor,fontFamily:Be.fontFamily,fontSize:Be.fontSize,fontColor:Be.fontColor,nameLength:Be.nameLength,textAlign:Be.textAlign,trace:Be.trace||{index:0,hoverinfo:""},xa:{_offset:0},ya:{_offset:0},index:0,hovertemplate:Be.hovertemplate||!1,hovertemplateLabels:Be.hovertemplateLabels||!1,eventData:$e}}),Ae=!1,be=I(pe,{gd:se,hovermode:"closest",rotateLabels:Ae,bgColor:J.bgColor||n.background,container:g.select(J.container),outerContainer:J.outerContainer||J.container}),Re=be.hoverLabels,xe=5,Me=0,ye=0;Re.sort(function(Be,_e){return Be.y0-_e.y0}).each(function(Be,_e){var Ue=Be.y0-Be.by/2;Ue-xe<Me?Be.offset=Me-Ue+xe:Be.offset=0,Me=Ue+Be.by+Be.offset,_e===J.anchorIndex&&(ye=Be.offset)}).each(function(Be){Be.offset-=ye});var Se=se._fullLayout._invScaleX,Fe=se._fullLayout._invScaleY;return z(Re,Ae,Se,Fe),j?Re:Re.node()};function P($,ie,J,j,se){J||(J="xy");var ne=Array.isArray(J)?J:[J],le=$._fullLayout,pe=le._plots||[],Ae=pe[J],be=le._has("cartesian");if(Ae){var Re=Ae.overlays.map(function(Lr){return Lr.id});ne=ne.concat(Re)}for(var xe=ne.length,Me=new Array(xe),ye=new Array(xe),Se=!1,Fe=0;Fe<xe;Fe++){var Be=ne[Fe];if(pe[Be])Se=!0,Me[Fe]=pe[Be].xaxis,ye[Fe]=pe[Be].yaxis;else if(le[Be]&&le[Be]._subplot){var _e=le[Be]._subplot;Me[Fe]=_e.xaxis,ye[Fe]=_e.yaxis}else{C.warn("Unrecognized subplot: "+Be);return}}var Ue=ie.hovermode||le.hovermode;if(Ue&&!Se&&(Ue="closest"),["x","y","closest","x unified","y unified"].indexOf(Ue)===-1||!$.calcdata||$.querySelector(".zoombox")||$._dragging)return f.unhoverRaw($,ie);var it=le.hoverdistance;it===-1&&(it=1/0);var lt=le.spikedistance;lt===-1&&(lt=1/0);var $e=[],qe=[],ft,ct,pt,yt,Et,tt,Ie,We,Ze,He,De,me,ge,Ee={hLinePoint:null,vLinePoint:null},Te=!1;if(Array.isArray(ie))for(Ue="array",pt=0;pt<ie.length;pt++)Et=$.calcdata[ie[pt].curveNumber||0],Et&&(tt=Et[0].trace,Et[0].trace.hoverinfo!=="skip"&&(qe.push(Et),tt.orientation==="h"&&(Te=!0)));else{for(yt=0;yt<$.calcdata.length;yt++)Et=$.calcdata[yt],tt=Et[0].trace,tt.hoverinfo!=="skip"&&m.isTraceInSubplots(tt,ne)&&(qe.push(Et),tt.orientation==="h"&&(Te=!0));var ze=!se,Xe,et;if(ze)"xpx"in ie?Xe=ie.xpx:Xe=Me[0]._length/2,"ypx"in ie?et=ie.ypx:et=ye[0]._length/2;else{if(p.triggerHandler($,"plotly_beforehover",ie)===!1)return;var ut=se.getBoundingClientRect();Xe=ie.clientX-ut.left,et=ie.clientY-ut.top,le._calcInverseTransform($);var dt=C.apply3DTransform(le._invTransform)(Xe,et);if(Xe=dt[0],et=dt[1],Xe<0||Xe>Me[0]._length||et<0||et>ye[0]._length)return f.unhoverRaw($,ie)}if(ie.pointerX=Xe+Me[0]._offset,ie.pointerY=et+ye[0]._offset,"xval"in ie?ft=m.flat(ne,ie.xval):ft=m.p2c(Me,Xe),"yval"in ie?ct=m.flat(ne,ie.yval):ct=m.p2c(ye,et),!L(ft[0])||!L(ct[0]))return C.warn("Fx.hover failed",ie,$),f.unhoverRaw($,ie)}var Zt=1/0;function jt(Lr,Wr){for(yt=0;yt<qe.length;yt++)if(Et=qe[yt],!(!Et||!Et[0]||!Et[0].trace)&&(tt=Et[0].trace,!(tt.visible!==!0||tt._length===0)&&["carpet","contourcarpet"].indexOf(tt._module.name)===-1)){if(tt.type==="splom"?(We=0,Ie=ne[We]):(Ie=m.getSubplot(tt),We=ne.indexOf(Ie)),Ze=Ue,m.isUnifiedHover(Ze)&&(Ze=Ze.charAt(0)),me={cd:Et,trace:tt,xa:Me[We],ya:ye[We],maxHoverDistance:it,maxSpikeDistance:lt,index:!1,distance:Math.min(Zt,it),spikeDistance:1/0,xSpike:void 0,ySpike:void 0,color:n.defaultLine,name:tt.name,x0:void 0,x1:void 0,y0:void 0,y1:void 0,xLabelVal:void 0,yLabelVal:void 0,zLabelVal:void 0,text:void 0},le[Ie]&&(me.subplot=le[Ie]._subplot),le._splomScenes&&le._splomScenes[tt.uid]&&(me.scene=le._splomScenes[tt.uid]),ge=$e.length,Ze==="array"){var Ur=ie[yt];"pointNumber"in Ur?(me.index=Ur.pointNumber,Ze="closest"):(Ze="","xval"in Ur&&(He=Ur.xval,Ze="x"),"yval"in Ur&&(De=Ur.yval,Ze=Ze?"closest":"y"))}else Lr!==void 0&&Wr!==void 0?(He=Lr,De=Wr):(He=ft[We],De=ct[We]);if(it!==0)if(tt._module&&tt._module.hoverPoints){var an=tt._module.hoverPoints(me,He,De,Ze,{finiteRange:!0,hoverLayer:le._hoverlayer});if(an)for(var pn,gn=0;gn<an.length;gn++)pn=an[gn],L(pn.x0)&&L(pn.y0)&&$e.push(B(pn,Ue))}else C.log("Unrecognized trace type in hover:",tt);if(Ue==="closest"&&$e.length>ge&&($e.splice(0,ge),Zt=$e[0].distance),be&&lt!==0&&$e.length===0){me.distance=lt,me.index=!1;var Cn=tt._module.hoverPoints(me,He,De,"closest",{hoverLayer:le._hoverlayer});if(Cn&&(Cn=Cn.filter(function(na){return na.spikeDistance<=lt})),Cn&&Cn.length){var zn,aa=Cn.filter(function(na){return na.xa.showspikes&&na.xa.spikesnap!=="hovered data"});if(aa.length){var ha=aa[0];L(ha.x0)&&L(ha.y0)&&(zn=kt(ha),(!Ee.vLinePoint||Ee.vLinePoint.spikeDistance>zn.spikeDistance)&&(Ee.vLinePoint=zn))}var pa=Cn.filter(function(na){return na.ya.showspikes&&na.ya.spikesnap!=="hovered data"});if(pa.length){var ua=pa[0];L(ua.x0)&&L(ua.y0)&&(zn=kt(ua),(!Ee.hLinePoint||Ee.hLinePoint.spikeDistance>zn.spikeDistance)&&(Ee.hLinePoint=zn))}}}}}jt();function Tt(Lr,Wr,Ur){for(var an=null,pn=1/0,gn,Cn=0;Cn<Lr.length;Cn++)gn=Lr[Cn].spikeDistance,Ur&&Cn===0&&(gn=-1/0),gn<=pn&&gn<=Wr&&(an=Lr[Cn],pn=gn);return an}function kt(Lr){return Lr?{xa:Lr.xa,ya:Lr.ya,x:Lr.xSpike!==void 0?Lr.xSpike:(Lr.x0+Lr.x1)/2,y:Lr.ySpike!==void 0?Lr.ySpike:(Lr.y0+Lr.y1)/2,distance:Lr.distance,spikeDistance:Lr.spikeDistance,curveNumber:Lr.trace.index,color:Lr.color,pointNumber:Lr.index}:null}var Qt={fullLayout:le,container:le._hoverlayer,event:ie},wr=$._spikepoints,xt={vLinePoint:Ee.vLinePoint,hLinePoint:Ee.hLinePoint};$._spikepoints=xt;var At=function(){$e.sort(function(Lr,Wr){return Lr.distance-Wr.distance}),$e=oe($e,Ue)};At();var Wt=Ue.charAt(0),er=(Wt==="x"||Wt==="y")&&$e[0]&&o[$e[0].trace.type];if(be&&lt!==0&&$e.length!==0){var $t=$e.filter(function(Lr){return Lr.ya.showspikes}),ht=Tt($t,lt,er);Ee.hLinePoint=kt(ht);var at=$e.filter(function(Lr){return Lr.xa.showspikes}),bt=Tt(at,lt,er);Ee.vLinePoint=kt(bt)}if($e.length===0){var Ct=f.unhoverRaw($,ie);return be&&(Ee.hLinePoint!==null||Ee.vLinePoint!==null)&&ee(wr)&&W($,Ee,Qt),Ct}if(be&&ee(wr)&&W($,Ee,Qt),m.isXYhover(Ze)&&$e[0].length!==0&&$e[0].trace.type!=="splom"){var Dt=$e[0];T[Dt.trace.type]?$e=$e.filter(function(Lr){return Lr.trace.index===Dt.trace.index}):$e=[Dt];var It=$e.length,Vt=Z("x",Dt,le),Nt=Z("y",Dt,le);jt(Vt,Nt);var Jt=[],fr={},cr=0,dr=function(Lr){var Wr=T[Lr.trace.type]?x(Lr):Lr.trace.index;if(!fr[Wr])cr++,fr[Wr]=cr,Jt.push(Lr);else{var Ur=fr[Wr]-1,an=Jt[Ur];Ur>0&&Math.abs(Lr.distance)<Math.abs(an.distance)&&(Jt[Ur]=Lr)}},Ge;for(Ge=0;Ge<It;Ge++)dr($e[Ge]);for(Ge=$e.length-1;Ge>It-1;Ge--)dr($e[Ge]);$e=Jt,At()}var Ve=$._hoverdata,Ot=[],Ft=Y($),Kt=te($);for(pt=0;pt<$e.length;pt++){var rr=$e[pt],ur=m.makeEventData(rr,rr.trace,rr.cd);if(rr.hovertemplate!==!1){var ar=!1;rr.cd[rr.index]&&rr.cd[rr.index].ht&&(ar=rr.cd[rr.index].ht),rr.hovertemplate=ar||rr.trace.hovertemplate||!1}if(rr.xa&&rr.ya){var Bt=rr.x0+rr.xa._offset,hr=rr.x1+rr.xa._offset,gr=rr.y0+rr.ya._offset,mr=rr.y1+rr.ya._offset,vr=Math.min(Bt,hr),Gr=Math.max(Bt,hr),Rr=Math.min(gr,mr),Ir=Math.max(gr,mr);ur.bbox={x0:vr+Kt,x1:Gr+Kt,y0:Rr+Ft,y1:Ir+Ft}}rr.eventData=[ur],Ot.push(ur)}$._hoverdata=Ot;var cn=Ue==="y"&&(qe.length>1||$e.length>1)||Ue==="closest"&&Te&&$e.length>1,rn=n.combine(le.plot_bgcolor||n.background,le.paper_bgcolor),Ln=I($e,{gd:$,hovermode:Ue,rotateLabels:cn,bgColor:rn,container:le._hoverlayer,outerContainer:le._paper.node(),commonLabelOpts:le.hoverlabel,hoverdistance:le.hoverdistance}),En=Ln.hoverLabels;if(m.isUnifiedHover(Ue)||(k(En,cn,le,Ln.commonLabelBoundingBox),z(En,cn,le._invScaleX,le._invScaleY)),se&&se.tagName){var Tr=l.getComponentMethod("annotations","hasClickToShow")($,Ot);t(g.select(se),Tr?"pointer":"")}!se||j||!q($,ie,Ve)||(Ve&&$.emit("plotly_unhover",{event:ie,points:Ve}),$.emit("plotly_hover",{event:ie,points:$._hoverdata,xaxes:Me,yaxes:ye,xvals:ft,yvals:ct}))}function x($){return[$.trace.index,$.index,$.x0,$.y0,$.name,$.attr,$.xa?$.xa._id:"",$.ya?$.ya._id:""].join(",")}var _=/<extra>([\s\S]*)<\/extra>/;function I($,ie){var J=ie.gd,j=J._fullLayout,se=ie.hovermode,ne=ie.rotateLabels,le=ie.bgColor,pe=ie.container,Ae=ie.outerContainer,be=ie.commonLabelOpts||{};if($.length===0)return[[]];var Re=ie.fontFamily||h.HOVERFONT,xe=ie.fontSize||h.HOVERFONTSIZE,Me=$[0],ye=Me.xa,Se=Me.ya,Fe=se.charAt(0),Be=Fe+"Label",_e=Me[Be];if(_e===void 0&&ye.type==="multicategory")for(var Ue=0;Ue<$.length&&(_e=$[Ue][Be],_e===void 0);Ue++);var it=X(J,Ae),lt=it.top,$e=it.width,qe=it.height,ft=_e!==void 0&&Me.distance<=ie.hoverdistance&&(se==="x"||se==="y");if(ft){var ct=!0,pt,yt;for(pt=0;pt<$.length;pt++)if(ct&&$[pt].zLabel===void 0&&(ct=!1),yt=$[pt].hoverinfo||$[pt].trace.hoverinfo,yt){var Et=Array.isArray(yt)?yt:yt.split("+");if(Et.indexOf("all")===-1&&Et.indexOf(se)===-1){ft=!1;break}}ct&&(ft=!1)}var tt=pe.selectAll("g.axistext").data(ft?[0]:[]);tt.enter().append("g").classed("axistext",!0),tt.exit().remove();var Ie={minX:0,maxX:0,minY:0,maxY:0};if(tt.each(function(){var It=g.select(this),Vt=C.ensureSingle(It,"path","",function(Ir){Ir.style({"stroke-width":"1px"})}),Nt=C.ensureSingle(It,"text","",function(Ir){Ir.attr("data-notex",1)}),Jt=be.bgcolor||n.defaultLine,fr=be.bordercolor||n.contrast(Jt),cr=n.contrast(Jt),dr={family:be.font.family||Re,size:be.font.size||xe,color:be.font.color||cr};Vt.style({fill:Jt,stroke:fr}),Nt.text(_e).call(s.font,dr).call(r.positionText,0,0).call(r.convertToTspans,J),It.attr("transform","");var Ge=X(J,Nt.node()),Ve,Ot;if(se==="x"){var Ft=ye.side==="top"?"-":"";Nt.attr("text-anchor","middle").call(r.positionText,0,ye.side==="top"?lt-Ge.bottom-y-S:lt-Ge.top+y+S),Ve=ye._offset+(Me.x0+Me.x1)/2,Ot=Se._offset+(ye.side==="top"?0:Se._length);var Kt=Ge.width/2+S,rr=Ve;Ve<Kt?rr=Kt:Ve>j.width-Kt&&(rr=j.width-Kt),Vt.attr("d","M"+(Ve-rr)+",0L"+(Ve-rr+y)+","+Ft+y+"H"+Kt+"v"+Ft+(S*2+Ge.height)+"H"+-Kt+"V"+Ft+y+"H"+(Ve-rr-y)+"Z"),Ve=rr,Ie.minX=Ve-Kt,Ie.maxX=Ve+Kt,ye.side==="top"?(Ie.minY=Ot-(S*2+Ge.height),Ie.maxY=Ot-S):(Ie.minY=Ot+S,Ie.maxY=Ot+(S*2+Ge.height))}else{var ur,ar,Bt;Se.side==="right"?(ur="start",ar=1,Bt="",Ve=ye._offset+ye._length):(ur="end",ar=-1,Bt="-",Ve=ye._offset),Ot=Se._offset+(Me.y0+Me.y1)/2,Nt.attr("text-anchor",ur),Vt.attr("d","M0,0L"+Bt+y+","+y+"V"+(S+Ge.height/2)+"h"+Bt+(S*2+Ge.width)+"V-"+(S+Ge.height/2)+"H"+Bt+y+"V-"+y+"Z"),Ie.minY=Ot-(S+Ge.height/2),Ie.maxY=Ot+(S+Ge.height/2),Se.side==="right"?(Ie.minX=Ve+y,Ie.maxX=Ve+y+(S*2+Ge.width)):(Ie.minX=Ve-y-(S*2+Ge.width),Ie.maxX=Ve-y);var hr=Ge.height/2,gr=lt-Ge.top-hr,mr="clip"+j._uid+"commonlabel"+Se._id,vr;if(Ve<Ge.width+2*S+y){vr="M-"+(y+S)+"-"+hr+"h-"+(Ge.width-S)+"V"+hr+"h"+(Ge.width-S)+"Z";var Gr=Ge.width-Ve+S;r.positionText(Nt,Gr,gr),ur==="end"&&Nt.selectAll("tspan").each(function(){var Ir=g.select(this),cn=s.tester.append("text").text(Ir.text()).call(s.font,dr),rn=X(J,cn.node());Math.round(rn.width)<Math.round(Ge.width)&&Ir.attr("x",Gr-rn.width),cn.remove()})}else r.positionText(Nt,ar*(S+y),gr),vr=null;var Rr=j._topclips.selectAll("#"+mr).data(vr?[0]:[]);Rr.enter().append("clipPath").attr("id",mr).append("path"),Rr.exit().remove(),Rr.select("path").attr("d",vr),s.setClipUrl(Nt,vr?mr:null,J)}It.attr("transform",A(Ve,Ot))}),m.isUnifiedHover(se)){pe.selectAll("g.hovertext").remove();var We=$.filter(function(It){return It.hoverinfo!=="none"});if(We.length===0)return[];var Ze=j.hoverlabel,He=Ze.font,De={showlegend:!0,legend:{title:{text:_e,font:He},font:He,bgcolor:Ze.bgcolor,bordercolor:Ze.bordercolor,borderwidth:1,tracegroupgap:7,traceorder:j.legend?j.legend.traceorder:void 0,orientation:"v"}},me={font:He};M(De,me,J._fullData);var ge=me.legend;ge.entries=[];for(var Ee=0;Ee<We.length;Ee++){var Te=We[Ee];if(Te.hoverinfo!=="none"){var ze=N(Te,!0,se,j,_e),Xe=ze[0],et=ze[1];Te.name=et,et!==""?Te.text=et+" : "+Xe:Te.text=Xe;var ut=Te.cd[Te.index];ut&&(ut.mc&&(Te.mc=ut.mc),ut.mcc&&(Te.mc=ut.mcc),ut.mlc&&(Te.mlc=ut.mlc),ut.mlcc&&(Te.mlc=ut.mlcc),ut.mlw&&(Te.mlw=ut.mlw),ut.mrc&&(Te.mrc=ut.mrc),ut.dir&&(Te.dir=ut.dir)),Te._distinct=!0,ge.entries.push([Te])}}ge.entries.sort(function(It,Vt){return It[0].trace.index-Vt[0].trace.index}),ge.layer=pe,ge._inHover=!0,ge._groupTitleFont=Ze.grouptitlefont,c(J,ge);var dt=pe.select("g.legend"),Zt=X(J,dt.node()),jt=Zt.width+2*S,Tt=Zt.height+2*S,kt=We[0],Qt=(kt.x0+kt.x1)/2,wr=(kt.y0+kt.y1)/2,xt=!(l.traceIs(kt.trace,"bar-like")||l.traceIs(kt.trace,"box-violin")),At,Wt;Fe==="y"?xt?(Wt=wr-S,At=wr+S):(Wt=Math.min.apply(null,We.map(function(It){return Math.min(It.y0,It.y1)})),At=Math.max.apply(null,We.map(function(It){return Math.max(It.y0,It.y1)}))):Wt=At=C.mean(We.map(function(It){return(It.y0+It.y1)/2}))-Tt/2;var er,$t;Fe==="x"?xt?(er=Qt+S,$t=Qt-S):(er=Math.max.apply(null,We.map(function(It){return Math.max(It.x0,It.x1)})),$t=Math.min.apply(null,We.map(function(It){return Math.min(It.x0,It.x1)}))):er=$t=C.mean(We.map(function(It){return(It.x0+It.x1)/2}))-jt/2;var ht=ye._offset,at=Se._offset;At+=at,er+=ht,$t+=ht-jt,Wt+=at-Tt;var bt,Ct;return er+jt<$e&&er>=0?bt=er:$t+jt<$e&&$t>=0?bt=$t:ht+jt<$e?bt=ht:er-Qt<Qt-$t+jt?bt=$e-jt:bt=0,bt+=S,At+Tt<qe&&At>=0?Ct=At:Wt+Tt<qe&&Wt>=0?Ct=Wt:at+Tt<qe?Ct=at:At-wr<wr-Wt+Tt?Ct=qe-Tt:Ct=0,Ct+=S,dt.attr("transform",A(bt-1,Ct-1)),dt}var Dt=pe.selectAll("g.hovertext").data($,function(It){return x(It)});return Dt.enter().append("g").classed("hovertext",!0).each(function(){var It=g.select(this);It.append("rect").call(n.fill,n.addOpacity(le,.8)),It.append("text").classed("name",!0),It.append("path").style("stroke-width","1px"),It.append("text").classed("nums",!0).call(s.font,Re,xe)}),Dt.exit().remove(),Dt.each(function(It){var Vt=g.select(this).attr("transform",""),Nt=It.color;Array.isArray(Nt)&&(Nt=Nt[It.eventData[0].pointNumber]);var Jt=It.bgcolor||Nt,fr=n.combine(n.opacity(Jt)?Jt:n.defaultLine,le),cr=n.combine(n.opacity(Nt)?Nt:n.defaultLine,le),dr=It.borderColor||n.contrast(fr),Ge=N(It,ft,se,j,_e,Vt),Ve=Ge[0],Ot=Ge[1],Ft=Vt.select("text.nums").call(s.font,It.fontFamily||Re,It.fontSize||xe,It.fontColor||dr).text(Ve).attr("data-notex",1).call(r.positionText,0,0).call(r.convertToTspans,J),Kt=Vt.select("text.name"),rr=0,ur=0;if(Ot&&Ot!==Ve){Kt.call(s.font,It.fontFamily||Re,It.fontSize||xe,cr).text(Ot).attr("data-notex",1).call(r.positionText,0,0).call(r.convertToTspans,J);var ar=X(J,Kt.node());rr=ar.width+2*S,ur=ar.height+2*S}else Kt.remove(),Vt.select("rect").remove();Vt.select("path").style({fill:fr,stroke:dr});var Bt=It.xa._offset+(It.x0+It.x1)/2,hr=It.ya._offset+(It.y0+It.y1)/2,gr=Math.abs(It.x1-It.x0),mr=Math.abs(It.y1-It.y0),vr=X(J,Ft.node()),Gr=vr.width/j._invScaleX,Rr=vr.height/j._invScaleY;It.ty0=(lt-vr.top)/j._invScaleY,It.bx=Gr+2*S,It.by=Math.max(Rr+2*S,ur),It.anchor="start",It.txwidth=Gr,It.tx2width=rr,It.offset=0;var Ir=(Gr+y+S+rr)*j._invScaleX,cn,rn;if(ne)It.pos=Bt,cn=hr+mr/2+Ir<=qe,rn=hr-mr/2-Ir>=0,(It.idealAlign==="top"||!cn)&&rn?(hr-=mr/2,It.anchor="end"):cn?(hr+=mr/2,It.anchor="start"):It.anchor="middle",It.crossPos=hr;else{if(It.pos=hr,cn=Bt+gr/2+Ir<=$e,rn=Bt-gr/2-Ir>=0,(It.idealAlign==="left"||!cn)&&rn)Bt-=gr/2,It.anchor="end";else if(cn)Bt+=gr/2,It.anchor="start";else{It.anchor="middle";var Ln=Ir/2,En=Bt+Ln-$e,Tr=Bt-Ln;En>0&&(Bt-=En),Tr<0&&(Bt+=-Tr)}It.crossPos=Bt}Ft.attr("text-anchor",It.anchor),rr&&Kt.attr("text-anchor",It.anchor),Vt.attr("transform",A(Bt,hr)+(ne?v(i):""))}),{hoverLabels:Dt,commonLabelBoundingBox:Ie}}function N($,ie,J,j,se,ne){var le="",pe="";$.nameOverride!==void 0&&($.name=$.nameOverride),$.name&&($.trace._meta&&($.name=C.templateString($.name,$.trace._meta)),le=Q($.name,$.nameLength));var Ae=J.charAt(0),be=Ae==="x"?"y":"x";$.zLabel!==void 0?($.xLabel!==void 0&&(pe+="x: "+$.xLabel+"<br>"),$.yLabel!==void 0&&(pe+="y: "+$.yLabel+"<br>"),$.trace.type!=="choropleth"&&$.trace.type!=="choroplethmapbox"&&(pe+=(pe?"z: ":"")+$.zLabel)):ie&&$[Ae+"Label"]===se?pe=$[be+"Label"]||"":$.xLabel===void 0?$.yLabel!==void 0&&$.trace.type!=="scattercarpet"&&(pe=$.yLabel):$.yLabel===void 0?pe=$.xLabel:pe="("+$.xLabel+", "+$.yLabel+")",($.text||$.text===0)&&!Array.isArray($.text)&&(pe+=(pe?"<br>":"")+$.text),$.extraText!==void 0&&(pe+=(pe?"<br>":"")+$.extraText),ne&&pe===""&&!$.hovertemplate&&(le===""&&ne.remove(),pe=le);var Re=$.hovertemplate||!1;if(Re){var xe=$.hovertemplateLabels||$;$[Ae+"Label"]!==se&&(xe[Ae+"other"]=xe[Ae+"Val"],xe[Ae+"otherLabel"]=xe[Ae+"Label"]),pe=C.hovertemplateString(Re,xe,j._d3locale,$.eventData[0]||{},$.trace._meta),pe=pe.replace(_,function(Me,ye){return le=Q(ye,$.nameLength),""})}return[pe,le]}function k($,ie,J,j){var se=ie?"xa":"ya",ne=ie?"ya":"xa",le=0,pe=1,Ae=$.size(),be=new Array(Ae),Re=0,xe=j.minX,Me=j.maxX,ye=j.minY,Se=j.maxY,Fe=function(He){return He*J._invScaleX},Be=function(He){return He*J._invScaleY};$.each(function(He){var De=He[se],me=He[ne],ge=De._id.charAt(0)==="x",Ee=De.range;Re===0&&Ee&&Ee[0]>Ee[1]!==ge&&(pe=-1);var Te=0,ze=ge?J.width:J.height;if(J.hovermode==="x"||J.hovermode==="y"){var Xe=F(He,ie),et=He.anchor,ut=et==="end"?-1:1,dt,Zt;if(et==="middle")dt=He.crossPos+(ge?Be(Xe.y-He.by/2):Fe(He.bx/2+He.tx2width/2)),Zt=dt+(ge?Be(He.by):Fe(He.bx));else if(ge)dt=He.crossPos+Be(y+Xe.y)-Be(He.by/2-y),Zt=dt+Be(He.by);else{var jt=Fe(ut*y+Xe.x),Tt=jt+Fe(ut*He.bx);dt=He.crossPos+Math.min(jt,Tt),Zt=He.crossPos+Math.max(jt,Tt)}ge?ye!==void 0&&Se!==void 0&&Math.min(Zt,Se)-Math.max(dt,ye)>1&&(me.side==="left"?(Te=me._mainLinePosition,ze=J.width):ze=me._mainLinePosition):xe!==void 0&&Me!==void 0&&Math.min(Zt,Me)-Math.max(dt,xe)>1&&(me.side==="top"?(Te=me._mainLinePosition,ze=J.height):ze=me._mainLinePosition)}be[Re++]=[{datum:He,traceIndex:He.trace.index,dp:0,pos:He.pos,posref:He.posref,size:He.by*(ge?b:1)/2,pmin:Te,pmax:ze}]}),be.sort(function(He,De){return He[0].posref-De[0].posref||pe*(De[0].traceIndex-He[0].traceIndex)});var _e,Ue,it,lt,$e,qe,ft;function ct(He){var De=He[0],me=He[He.length-1];if(Ue=De.pmin-De.pos-De.dp+De.size,it=me.pos+me.dp+me.size-De.pmax,Ue>.01){for($e=He.length-1;$e>=0;$e--)He[$e].dp+=Ue;_e=!1}if(!(it<.01)){if(Ue<-.01){for($e=He.length-1;$e>=0;$e--)He[$e].dp-=it;_e=!1}if(!!_e){var ge=0;for(lt=0;lt<He.length;lt++)qe=He[lt],qe.pos+qe.dp+qe.size>De.pmax&&ge++;for(lt=He.length-1;lt>=0&&!(ge<=0);lt--)qe=He[lt],qe.pos>De.pmax-1&&(qe.del=!0,ge--);for(lt=0;lt<He.length&&!(ge<=0);lt++)if(qe=He[lt],qe.pos<De.pmin+1)for(qe.del=!0,ge--,it=qe.size*2,$e=He.length-1;$e>=0;$e--)He[$e].dp-=it;for(lt=He.length-1;lt>=0&&!(ge<=0);lt--)qe=He[lt],qe.pos+qe.dp+qe.size>De.pmax&&(qe.del=!0,ge--)}}}for(;!_e&&le<=Ae;){for(le++,_e=!0,lt=0;lt<be.length-1;){var pt=be[lt],yt=be[lt+1],Et=pt[pt.length-1],tt=yt[0];if(Ue=Et.pos+Et.dp+Et.size-tt.pos-tt.dp+tt.size,Ue>.01&&Et.pmin===tt.pmin&&Et.pmax===tt.pmax){for($e=yt.length-1;$e>=0;$e--)yt[$e].dp+=Ue;for(pt.push.apply(pt,yt),be.splice(lt+1,1),ft=0,$e=pt.length-1;$e>=0;$e--)ft+=pt[$e].dp;for(it=ft/pt.length,$e=pt.length-1;$e>=0;$e--)pt[$e].dp-=it;_e=!1}else lt++}be.forEach(ct)}for(lt=be.length-1;lt>=0;lt--){var Ie=be[lt];for($e=Ie.length-1;$e>=0;$e--){var We=Ie[$e],Ze=We.datum;Ze.offset=We.dp,Ze.del=We.del}}}function F($,ie){var J=0,j=$.offset;return ie&&(j*=-E,J=$.offset*w),{x:J,y:j}}function O($){var ie={start:1,end:-1,middle:0}[$.anchor],J=ie*(y+S),j=J+ie*($.txwidth+S),se=$.anchor==="middle";return se&&(J-=$.tx2width/2,j+=$.txwidth/2+S),{alignShift:ie,textShiftX:J,text2ShiftX:j}}function z($,ie,J,j){var se=function(le){return le*J},ne=function(le){return le*j};$.each(function(le){var pe=g.select(this);if(le.del)return pe.remove();var Ae=pe.select("text.nums"),be=le.anchor,Re=be==="end"?-1:1,xe=O(le),Me=F(le,ie),ye=Me.x,Se=Me.y,Fe=be==="middle";pe.select("path").attr("d",Fe?"M-"+se(le.bx/2+le.tx2width/2)+","+ne(Se-le.by/2)+"h"+se(le.bx)+"v"+ne(le.by)+"h-"+se(le.bx)+"Z":"M0,0L"+se(Re*y+ye)+","+ne(y+Se)+"v"+ne(le.by/2-y)+"h"+se(Re*le.bx)+"v-"+ne(le.by)+"H"+se(Re*y+ye)+"V"+ne(Se-y)+"Z");var Be=ye+xe.textShiftX,_e=Se+le.ty0-le.by/2+S,Ue=le.textAlign||"auto";Ue!=="auto"&&(Ue==="left"&&be!=="start"?(Ae.attr("text-anchor","start"),Be=Fe?-le.bx/2-le.tx2width/2+S:-le.bx-S):Ue==="right"&&be!=="end"&&(Ae.attr("text-anchor","end"),Be=Fe?le.bx/2-le.tx2width/2-S:le.bx+S)),Ae.call(r.positionText,se(Be),ne(_e)),le.tx2width&&(pe.select("text.name").call(r.positionText,se(xe.text2ShiftX+xe.alignShift*S+ye),ne(Se+le.ty0-le.by/2+S)),pe.select("rect").call(s.setRect,se(xe.text2ShiftX+(xe.alignShift-1)*le.tx2width/2+ye),ne(Se-le.by/2-1),se(le.tx2width),ne(le.by+2)))})}function B($,ie){var J=$.index,j=$.trace||{},se=$.cd[0],ne=$.cd[J]||{};function le(Me){return Me||L(Me)&&Me===0}var pe=Array.isArray(J)?function(Me,ye){var Se=C.castOption(se,J,Me);return le(Se)?Se:C.extractOption({},j,"",ye)}:function(Me,ye){return C.extractOption(ne,j,Me,ye)};function Ae(Me,ye,Se){var Fe=pe(ye,Se);le(Fe)&&($[Me]=Fe)}if(Ae("hoverinfo","hi","hoverinfo"),Ae("bgcolor","hbg","hoverlabel.bgcolor"),Ae("borderColor","hbc","hoverlabel.bordercolor"),Ae("fontFamily","htf","hoverlabel.font.family"),Ae("fontSize","hts","hoverlabel.font.size"),Ae("fontColor","htc","hoverlabel.font.color"),Ae("nameLength","hnl","hoverlabel.namelength"),Ae("textAlign","hta","hoverlabel.align"),$.posref=ie==="y"||ie==="closest"&&j.orientation==="h"?$.xa._offset+($.x0+$.x1)/2:$.ya._offset+($.y0+$.y1)/2,$.x0=C.constrain($.x0,0,$.xa._length),$.x1=C.constrain($.x1,0,$.xa._length),$.y0=C.constrain($.y0,0,$.ya._length),$.y1=C.constrain($.y1,0,$.ya._length),$.xLabelVal!==void 0&&($.xLabel="xLabel"in $?$.xLabel:u.hoverLabelText($.xa,$.xLabelVal,j.xhoverformat),$.xVal=$.xa.c2d($.xLabelVal)),$.yLabelVal!==void 0&&($.yLabel="yLabel"in $?$.yLabel:u.hoverLabelText($.ya,$.yLabelVal,j.yhoverformat),$.yVal=$.ya.c2d($.yLabelVal)),$.zLabelVal!==void 0&&$.zLabel===void 0&&($.zLabel=String($.zLabelVal)),!isNaN($.xerr)&&!($.xa.type==="log"&&$.xerr<=0)){var be=u.tickText($.xa,$.xa.c2l($.xerr),"hover").text;$.xerrneg!==void 0?$.xLabel+=" +"+be+" / -"+u.tickText($.xa,$.xa.c2l($.xerrneg),"hover").text:$.xLabel+=" \xB1 "+be,ie==="x"&&($.distance+=1)}if(!isNaN($.yerr)&&!($.ya.type==="log"&&$.yerr<=0)){var Re=u.tickText($.ya,$.ya.c2l($.yerr),"hover").text;$.yerrneg!==void 0?$.yLabel+=" +"+Re+" / -"+u.tickText($.ya,$.ya.c2l($.yerrneg),"hover").text:$.yLabel+=" \xB1 "+Re,ie==="y"&&($.distance+=1)}var xe=$.hoverinfo||$.trace.hoverinfo;return xe&&xe!=="all"&&(xe=Array.isArray(xe)?xe:xe.split("+"),xe.indexOf("x")===-1&&($.xLabel=void 0),xe.indexOf("y")===-1&&($.yLabel=void 0),xe.indexOf("z")===-1&&($.zLabel=void 0),xe.indexOf("text")===-1&&($.text=void 0),xe.indexOf("name")===-1&&($.name=void 0)),$}function W($,ie,J){var j=J.container,se=J.fullLayout,ne=se._size,le=J.event,pe=!!ie.hLinePoint,Ae=!!ie.vLinePoint,be,Re;if(j.selectAll(".spikeline").remove(),!!(Ae||pe)){var xe=n.combine(se.plot_bgcolor,se.paper_bgcolor);if(pe){var Me=ie.hLinePoint,ye,Se;be=Me&&Me.xa,Re=Me&&Me.ya;var Fe=Re.spikesnap;Fe==="cursor"?(ye=le.pointerX,Se=le.pointerY):(ye=be._offset+Me.x,Se=Re._offset+Me.y);var Be=a.readability(Me.color,xe)<1.5?n.contrast(xe):Me.color,_e=Re.spikemode,Ue=Re.spikethickness,it=Re.spikecolor||Be,lt=u.getPxPosition($,Re),$e,qe;if(_e.indexOf("toaxis")!==-1||_e.indexOf("across")!==-1){if(_e.indexOf("toaxis")!==-1&&($e=lt,qe=ye),_e.indexOf("across")!==-1){var ft=Re._counterDomainMin,ct=Re._counterDomainMax;Re.anchor==="free"&&(ft=Math.min(ft,Re.position),ct=Math.max(ct,Re.position)),$e=ne.l+ft*ne.w,qe=ne.l+ct*ne.w}j.insert("line",":first-child").attr({x1:$e,x2:qe,y1:Se,y2:Se,"stroke-width":Ue,stroke:it,"stroke-dasharray":s.dashStyle(Re.spikedash,Ue)}).classed("spikeline",!0).classed("crisp",!0),j.insert("line",":first-child").attr({x1:$e,x2:qe,y1:Se,y2:Se,"stroke-width":Ue+2,stroke:xe}).classed("spikeline",!0).classed("crisp",!0)}_e.indexOf("marker")!==-1&&j.insert("circle",":first-child").attr({cx:lt+(Re.side!=="right"?Ue:-Ue),cy:Se,r:Ue,fill:it}).classed("spikeline",!0)}if(Ae){var pt=ie.vLinePoint,yt,Et;be=pt&&pt.xa,Re=pt&&pt.ya;var tt=be.spikesnap;tt==="cursor"?(yt=le.pointerX,Et=le.pointerY):(yt=be._offset+pt.x,Et=Re._offset+pt.y);var Ie=a.readability(pt.color,xe)<1.5?n.contrast(xe):pt.color,We=be.spikemode,Ze=be.spikethickness,He=be.spikecolor||Ie,De=u.getPxPosition($,be),me,ge;if(We.indexOf("toaxis")!==-1||We.indexOf("across")!==-1){if(We.indexOf("toaxis")!==-1&&(me=De,ge=Et),We.indexOf("across")!==-1){var Ee=be._counterDomainMin,Te=be._counterDomainMax;be.anchor==="free"&&(Ee=Math.min(Ee,be.position),Te=Math.max(Te,be.position)),me=ne.t+(1-Te)*ne.h,ge=ne.t+(1-Ee)*ne.h}j.insert("line",":first-child").attr({x1:yt,x2:yt,y1:me,y2:ge,"stroke-width":Ze,stroke:He,"stroke-dasharray":s.dashStyle(be.spikedash,Ze)}).classed("spikeline",!0).classed("crisp",!0),j.insert("line",":first-child").attr({x1:yt,x2:yt,y1:me,y2:ge,"stroke-width":Ze+2,stroke:xe}).classed("spikeline",!0).classed("crisp",!0)}We.indexOf("marker")!==-1&&j.insert("circle",":first-child").attr({cx:yt,cy:De-(be.side!=="top"?Ze:-Ze),r:Ze,fill:He}).classed("spikeline",!0)}}}function q($,ie,J){if(!J||J.length!==$._hoverdata.length)return!0;for(var j=J.length-1;j>=0;j--){var se=J[j],ne=$._hoverdata[j];if(se.curveNumber!==ne.curveNumber||String(se.pointNumber)!==String(ne.pointNumber)||String(se.pointNumbers)!==String(ne.pointNumbers))return!0}return!1}function ee($,ie){return!ie||ie.vLinePoint!==$._spikepoints.vLinePoint||ie.hLinePoint!==$._spikepoints.hLinePoint}function Q($,ie){return r.plainText($||"",{len:ie,allowedTags:["br","sub","sup","b","i","em"]})}function oe($,ie){for(var J=ie.charAt(0),j=[],se=[],ne=[],le=0;le<$.length;le++){var pe=$[le];l.traceIs(pe.trace,"bar-like")||l.traceIs(pe.trace,"box-violin")?ne.push(pe):pe.trace[J+"period"]?se.push(pe):j.push(pe)}return j.concat(se).concat(ne)}function Z($,ie,J){var j=ie[$+"a"],se=ie[$+"Val"],ne=ie.cd[0];if(j.type==="category"||j.type==="multicategory")se=j._categoriesMap[se];else if(j.type==="date"){var le=ie.trace[$+"periodalignment"];if(le){var pe=ie.cd[ie.index],Ae=pe[$+"Start"];Ae===void 0&&(Ae=pe[$]);var be=pe[$+"End"];be===void 0&&(be=pe[$]);var Re=be-Ae;le==="end"?se+=Re:le==="middle"&&(se+=Re/2)}se=j.d2c(se)}return ne&&ne.t&&ne.t.posLetter===j._id&&(J.boxmode==="group"||J.violinmode==="group")&&(se+=ne.t.dPos),se}function Y($){return $.offsetTop+$.clientTop}function te($){return $.offsetLeft+$.clientLeft}function X($,ie){var J=$._fullLayout,j=ie.getBoundingClientRect(),se=j.left,ne=j.top,le=se+j.width,pe=ne+j.height,Ae=C.apply3DTransform(J._invTransform)(se,ne),be=C.apply3DTransform(J._invTransform)(le,pe),Re=Ae[0],xe=Ae[1],Me=be[0],ye=be[1];return{x:Re,y:xe,width:Me-Re,height:ye-xe,top:Math.min(xe,ye),left:Math.min(Re,Me),right:Math.max(Re,Me),bottom:Math.max(xe,ye)}}},16132:function(G,U,e){var g=e(3400),L=e(76308),a=e(10624).isUnifiedHover;G.exports=function(A,v,p,r){r=r||{};var t=v.legend;function s(n){r.font[n]||(r.font[n]=t?v.legend.font[n]:v.font[n])}v&&a(v.hovermode)&&(r.font||(r.font={}),s("size"),s("family"),s("color"),t?(r.bgcolor||(r.bgcolor=L.combine(v.legend.bgcolor,v.paper_bgcolor)),r.bordercolor||(r.bordercolor=v.legend.bordercolor)):r.bgcolor||(r.bgcolor=v.paper_bgcolor)),p("hoverlabel.bgcolor",r.bgcolor),p("hoverlabel.bordercolor",r.bordercolor),p("hoverlabel.namelength",r.namelength),g.coerceFont(p,"hoverlabel.font",r.font),p("hoverlabel.align",r.align)}},41008:function(G,U,e){var g=e(3400),L=e(65460);G.exports=function(C,A){function v(p,r){return A[p]!==void 0?A[p]:g.coerce(C,A,L,p,r)}return v("clickmode"),v("hovermode")}},93024:function(G,U,e){var g=e(33428),L=e(3400),a=e(86476),C=e(10624),A=e(65460),v=e(83292);G.exports={moduleType:"component",name:"fx",constants:e(92456),schema:{layout:A},attributes:e(55756),layoutAttributes:A,supplyLayoutGlobalDefaults:e(81976),supplyDefaults:e(95448),supplyLayoutDefaults:e(88336),calc:e(55056),getDistanceFunction:C.getDistanceFunction,getClosest:C.getClosest,inbox:C.inbox,quadrature:C.quadrature,appendArrayPointValue:C.appendArrayPointValue,castHoverOption:r,castHoverinfo:t,hover:v.hover,unhover:a.unhover,loneHover:v.loneHover,loneUnhover:p,click:e(62376)};function p(s){var n=L.isD3Selection(s)?s:g.select(s);n.selectAll("g.hovertext").remove(),n.selectAll(".spikeline").remove()}function r(s,n,f){return L.castOption(s,n,"hoverlabel."+f)}function t(s,n,f){function u(l){return L.coerceHoverinfo({hoverinfo:l},{_module:s._module},n)}return L.castOption(s,f,"hoverinfo",u)}},65460:function(G,U,e){var g=e(92456),L=e(25376),a=L({editType:"none"});a.family.dflt=g.HOVERFONT,a.size.dflt=g.HOVERFONTSIZE,G.exports={clickmode:{valType:"flaglist",flags:["event","select"],dflt:"event",editType:"plot",extras:["none"]},dragmode:{valType:"enumerated",values:["zoom","pan","select","lasso","drawclosedpath","drawopenpath","drawline","drawrect","drawcircle","orbit","turntable",!1],dflt:"zoom",editType:"modebar"},hovermode:{valType:"enumerated",values:["x","y","closest",!1,"x unified","y unified"],dflt:"closest",editType:"modebar"},hoverdistance:{valType:"integer",min:-1,dflt:20,editType:"none"},spikedistance:{valType:"integer",min:-1,dflt:-1,editType:"none"},hoverlabel:{bgcolor:{valType:"color",editType:"none"},bordercolor:{valType:"color",editType:"none"},font:a,grouptitlefont:L({editType:"none"}),align:{valType:"enumerated",values:["left","right","auto"],dflt:"auto",editType:"none"},namelength:{valType:"integer",min:-1,dflt:15,editType:"none"},editType:"none"},selectdirection:{valType:"enumerated",values:["h","v","d","any"],dflt:"any",editType:"none"}}},88336:function(G,U,e){var g=e(3400),L=e(65460),a=e(41008),C=e(16132);G.exports=function(v,p){function r(l,m){return g.coerce(v,p,L,l,m)}var t=a(v,p);t&&(r("hoverdistance"),r("spikedistance"));var s=r("dragmode");s==="select"&&r("selectdirection");var n=p._has("mapbox"),f=p._has("geo"),u=p._basePlotModules.length;p.dragmode==="zoom"&&((n||f)&&u===1||n&&f&&u===2)&&(p.dragmode="pan"),C(v,p,r),g.coerceFont(r,"hoverlabel.grouptitlefont",p.hoverlabel.font)}},81976:function(G,U,e){var g=e(3400),L=e(16132),a=e(65460);G.exports=function(A,v){function p(r,t){return g.coerce(A,v,a,r,t)}L(A,v,p)}},12704:function(G,U,e){var g=e(3400),L=e(53756).counter,a=e(86968).u,C=e(33816).idRegex,A=e(31780),v={rows:{valType:"integer",min:1,editType:"plot"},roworder:{valType:"enumerated",values:["top to bottom","bottom to top"],dflt:"top to bottom",editType:"plot"},columns:{valType:"integer",min:1,editType:"plot"},subplots:{valType:"info_array",freeLength:!0,dimensions:2,items:{valType:"enumerated",values:[L("xy").toString(),""],editType:"plot"},editType:"plot"},xaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[C.x.toString(),""],editType:"plot"},editType:"plot"},yaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[C.y.toString(),""],editType:"plot"},editType:"plot"},pattern:{valType:"enumerated",values:["independent","coupled"],dflt:"coupled",editType:"plot"},xgap:{valType:"number",min:0,max:1,editType:"plot"},ygap:{valType:"number",min:0,max:1,editType:"plot"},domain:a({name:"grid",editType:"plot",noGridCell:!0},{}),xside:{valType:"enumerated",values:["bottom","bottom plot","top plot","top"],dflt:"bottom plot",editType:"plot"},yside:{valType:"enumerated",values:["left","left plot","right plot","right"],dflt:"left plot",editType:"plot"},editType:"plot"};function p(f,u,l){var m=u[l+"axes"],h=Object.keys((f._splomAxes||{})[l]||{});if(Array.isArray(m))return m;if(h.length)return h}function r(f,u){var l=f.grid||{},m=p(u,l,"x"),h=p(u,l,"y");if(!f.grid&&!m&&!h)return;var M=Array.isArray(l.subplots)&&Array.isArray(l.subplots[0]),c=Array.isArray(m),i=Array.isArray(h),d=c&&m!==l.xaxes&&i&&h!==l.yaxes,b,w;M?(b=l.subplots.length,w=l.subplots[0].length):(i&&(b=h.length),c&&(w=m.length));var E=A.newContainer(u,"grid");function y(F,O){return g.coerce(l,E,v,F,O)}var S=y("rows",b),T=y("columns",w);if(!(S*T>1)){delete u.grid;return}if(!M&&!c&&!i){var o=y("pattern")==="independent";o&&(M=!0)}E._hasSubplotGrid=M;var P=y("roworder"),x=P==="top to bottom",_=M?.2:.1,I=M?.3:.1,N,k;d&&u._splomGridDflt&&(N=u._splomGridDflt.xside,k=u._splomGridDflt.yside),E._domains={x:t("x",y,_,N,T),y:t("y",y,I,k,S,x)}}function t(f,u,l,m,h,M){var c=u(f+"gap",l),i=u("domain."+f);u(f+"side",m);for(var d=new Array(h),b=i[0],w=(i[1]-b)/(h-c),E=w*(1-c),y=0;y<h;y++){var S=b+w*y;d[M?h-1-y:y]=[S,S+E]}return d}function s(f,u){var l=u.grid;if(!(!l||!l._domains)){var m=f.grid||{},h=u._subplots,M=l._hasSubplotGrid,c=l.rows,i=l.columns,d=l.pattern==="independent",b,w,E,y,S,T,o,P=l._axisMap={};if(M){var x=m.subplots||[];T=l.subplots=new Array(c);var _=1;for(b=0;b<c;b++){var I=T[b]=new Array(i),N=x[b]||[];for(w=0;w<i;w++)if(d?(S=_===1?"xy":"x"+_+"y"+_,_++):S=N[w],I[w]="",h.cartesian.indexOf(S)!==-1){if(o=S.indexOf("y"),E=S.slice(0,o),y=S.slice(o),P[E]!==void 0&&P[E]!==w||P[y]!==void 0&&P[y]!==b)continue;I[w]=S,P[E]=w,P[y]=b}}}else{var k=p(u,m,"x"),F=p(u,m,"y");l.xaxes=n(k,h.xaxis,i,P,"x"),l.yaxes=n(F,h.yaxis,c,P,"y")}var O=l._anchors={},z=l.roworder==="top to bottom";for(var B in P){var W=B.charAt(0),q=l[W+"side"],ee,Q,oe;if(q.length<8)O[B]="free";else if(W==="x"){if(q.charAt(0)==="t"===z?(ee=0,Q=1,oe=c):(ee=c-1,Q=-1,oe=-1),M){var Z=P[B];for(b=ee;b!==oe;b+=Q)if(S=T[b][Z],!!S&&(o=S.indexOf("y"),S.slice(0,o)===B)){O[B]=S.slice(o);break}}else for(b=ee;b!==oe;b+=Q)if(y=l.yaxes[b],h.cartesian.indexOf(B+y)!==-1){O[B]=y;break}}else if(q.charAt(0)==="l"?(ee=0,Q=1,oe=i):(ee=i-1,Q=-1,oe=-1),M){var Y=P[B];for(b=ee;b!==oe;b+=Q)if(S=T[Y][b],!!S&&(o=S.indexOf("y"),S.slice(o)===B)){O[B]=S.slice(0,o);break}}else for(b=ee;b!==oe;b+=Q)if(E=l.xaxes[b],h.cartesian.indexOf(E+B)!==-1){O[B]=E;break}}}}function n(f,u,l,m,h){var M=new Array(l),c;function i(d,b){u.indexOf(b)!==-1&&m[b]===void 0?(M[d]=b,m[b]=d):M[d]=""}if(Array.isArray(f))for(c=0;c<l;c++)i(c,f[c]);else for(i(0,h),c=1;c<l;c++)i(c,h+(c+1));return M}G.exports={moduleType:"component",name:"grid",schema:{layout:{grid:v}},layoutAttributes:v,sizeDefaults:r,contentDefaults:s}},65760:function(G,U,e){var g=e(33816),L=e(31780).templatedArray;e(36208),G.exports=L("image",{visible:{valType:"boolean",dflt:!0,editType:"arraydraw"},source:{valType:"string",editType:"arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},sizex:{valType:"number",dflt:0,editType:"arraydraw"},sizey:{valType:"number",dflt:0,editType:"arraydraw"},sizing:{valType:"enumerated",values:["fill","contain","stretch"],dflt:"contain",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},x:{valType:"any",dflt:0,editType:"arraydraw"},y:{valType:"any",dflt:0,editType:"arraydraw"},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",editType:"arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],dflt:"top",editType:"arraydraw"},xref:{valType:"enumerated",values:["paper",g.idRegex.x.toString()],dflt:"paper",editType:"arraydraw"},yref:{valType:"enumerated",values:["paper",g.idRegex.y.toString()],dflt:"paper",editType:"arraydraw"},editType:"arraydraw"})},63556:function(G,U,e){var g=e(38248),L=e(36896);G.exports=function(C,A,v,p){A=A||{};var r=v==="log"&&A.type==="linear",t=v==="linear"&&A.type==="log";if(!!(r||t)){for(var s=C._fullLayout.images,n=A._id.charAt(0),f,u,l=0;l<s.length;l++)if(f=s[l],u="images["+l+"].",f[n+"ref"]===A._id){var m=f[n],h=f["size"+n],M=null,c=null;if(r){M=L(m,A.range);var i=h/Math.pow(10,M)/2;c=2*Math.log(i+Math.sqrt(1+i*i))/Math.LN10}else M=Math.pow(10,m),c=M*(Math.pow(10,h/2)-Math.pow(10,-h/2));g(M)?g(c)||(c=null):(M=null,c=null),p(u+n,M),p(u+"size"+n,c)}}}},25024:function(G,U,e){var g=e(3400),L=e(54460),a=e(51272),C=e(65760),A="images";G.exports=function(r,t){var s={name:A,handleItemDefaults:v};a(r,t,s)};function v(p,r,t){function s(i,d){return g.coerce(p,r,C,i,d)}var n=s("source"),f=s("visible",!!n);if(!f)return r;s("layer"),s("xanchor"),s("yanchor"),s("sizex"),s("sizey"),s("sizing"),s("opacity");for(var u={_fullLayout:t},l=["x","y"],m=0;m<2;m++){var h=l[m],M=L.coerceRef(p,r,u,h,"paper",void 0);if(M!=="paper"){var c=L.getFromId(u,M);c._imgIndices.push(r._index)}L.coercePosition(r,u,s,M,h,0)}return r}},60963:function(G,U,e){var g=e(33428),L=e(43616),a=e(54460),C=e(79811),A=e(9616);G.exports=function(p){var r=p._fullLayout,t=[],s={},n=[],f,u;for(u=0;u<r.images.length;u++){var l=r.images[u];if(l.visible)if(l.layer==="below"&&l.xref!=="paper"&&l.yref!=="paper"){f=C.ref2id(l.xref)+C.ref2id(l.yref);var m=r._plots[f];if(!m){n.push(l);continue}m.mainplot&&(f=m.mainplot.id),s[f]||(s[f]=[]),s[f].push(l)}else l.layer==="above"?t.push(l):n.push(l)}var h={x:{left:{sizing:"xMin",offset:0},center:{sizing:"xMid",offset:-1/2},right:{sizing:"xMax",offset:-1}},y:{top:{sizing:"YMin",offset:0},middle:{sizing:"YMid",offset:-1/2},bottom:{sizing:"YMax",offset:-1}}};function M(y){var S=g.select(this);if(this._imgSrc!==y.source)if(S.attr("xmlns",A.svg),y.source&&y.source.slice(0,5)==="data:")S.attr("xlink:href",y.source),this._imgSrc=y.source;else{var T=new Promise(function(o){var P=new Image;this.img=P,P.setAttribute("crossOrigin","anonymous"),P.onerror=x,P.onload=function(){var _=document.createElement("canvas");_.width=this.width,_.height=this.height;var I=_.getContext("2d",{willReadFrequently:!0});I.drawImage(this,0,0);var N=_.toDataURL("image/png");S.attr("xlink:href",N),o()},S.on("error",x),P.src=y.source,this._imgSrc=y.source;function x(){S.remove(),o()}}.bind(this));p._promises.push(T)}}function c(y){var S=g.select(this),T=a.getFromId(p,y.xref),o=a.getFromId(p,y.yref),P=a.getRefType(y.xref)==="domain",x=a.getRefType(y.yref)==="domain",_=r._size,I,N;T!==void 0?I=typeof y.xref=="string"&&P?T._length*y.sizex:Math.abs(T.l2p(y.sizex)-T.l2p(0)):I=y.sizex*_.w,o!==void 0?N=typeof y.yref=="string"&&x?o._length*y.sizey:Math.abs(o.l2p(y.sizey)-o.l2p(0)):N=y.sizey*_.h;var k=I*h.x[y.xanchor].offset,F=N*h.y[y.yanchor].offset,O=h.x[y.xanchor].sizing+h.y[y.yanchor].sizing,z,B;switch(T!==void 0?z=typeof y.xref=="string"&&P?T._length*y.x+T._offset:T.r2p(y.x)+T._offset:z=y.x*_.w+_.l,z+=k,o!==void 0?B=typeof y.yref=="string"&&x?o._length*(1-y.y)+o._offset:o.r2p(y.y)+o._offset:B=_.h-y.y*_.h+_.t,B+=F,y.sizing){case"fill":O+=" slice";break;case"stretch":O="none";break}S.attr({x:z,y:B,width:I,height:N,preserveAspectRatio:O,opacity:y.opacity});var W=T&&a.getRefType(y.xref)!=="domain"?T._id:"",q=o&&a.getRefType(y.yref)!=="domain"?o._id:"",ee=W+q;L.setClipUrl(S,ee?"clip"+r._uid+ee:null,p)}var i=r._imageLowerLayer.selectAll("image").data(n),d=r._imageUpperLayer.selectAll("image").data(t);i.enter().append("image"),d.enter().append("image"),i.exit().remove(),d.exit().remove(),i.each(function(y){M.bind(this)(y),c.bind(this)(y)}),d.each(function(y){M.bind(this)(y),c.bind(this)(y)});var b=Object.keys(r._plots);for(u=0;u<b.length;u++){f=b[u];var w=r._plots[f];if(!!w.imagelayer){var E=w.imagelayer.selectAll("image").data(s[f]||[]);E.enter().append("image"),E.exit().remove(),E.each(function(y){M.bind(this)(y),c.bind(this)(y)})}}}},7402:function(G,U,e){G.exports={moduleType:"component",name:"images",layoutAttributes:e(65760),supplyLayoutDefaults:e(25024),includeBasePlot:e(36632)("images"),draw:e(60963),convertCoords:e(63556)}},3800:function(G,U,e){var g=e(25376),L=e(22548);G.exports={_isSubplotObj:!0,visible:{valType:"boolean",dflt:!0,editType:"legend"},bgcolor:{valType:"color",editType:"legend"},bordercolor:{valType:"color",dflt:L.defaultLine,editType:"legend"},borderwidth:{valType:"number",min:0,dflt:0,editType:"legend"},font:g({editType:"legend"}),grouptitlefont:g({editType:"legend"}),orientation:{valType:"enumerated",values:["v","h"],dflt:"v",editType:"legend"},traceorder:{valType:"flaglist",flags:["reversed","grouped"],extras:["normal"],editType:"legend"},tracegroupgap:{valType:"number",min:0,dflt:10,editType:"legend"},entrywidth:{valType:"number",min:0,editType:"legend"},entrywidthmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels",editType:"legend"},indentation:{valType:"number",min:-15,dflt:0,editType:"legend"},itemsizing:{valType:"enumerated",values:["trace","constant"],dflt:"trace",editType:"legend"},itemwidth:{valType:"number",min:30,dflt:30,editType:"legend"},itemclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggle",editType:"legend"},itemdoubleclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggleothers",editType:"legend"},groupclick:{valType:"enumerated",values:["toggleitem","togglegroup"],dflt:"togglegroup",editType:"legend"},x:{valType:"number",editType:"legend"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"legend"},y:{valType:"number",editType:"legend"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],editType:"legend"},uirevision:{valType:"any",editType:"none"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"legend"},title:{text:{valType:"string",dflt:"",editType:"legend"},font:g({editType:"legend"}),side:{valType:"enumerated",values:["top","left","top left","top center","top right"],editType:"legend"},editType:"legend"},editType:"legend"}},65196:function(G){G.exports={scrollBarWidth:6,scrollBarMinHeight:20,scrollBarColor:"#808BA4",scrollBarMargin:4,scrollBarEnterAttrs:{rx:20,ry:3,width:0,height:0},titlePad:2,itemGap:5}},77864:function(G,U,e){var g=e(24040),L=e(3400),a=e(31780),C=e(45464),A=e(3800),v=e(64859),p=e(42451);function r(t,s,n,f){var u=s[t]||{},l=a.newContainer(n,t);function m(oe,Z){return L.coerce(u,l,A,oe,Z)}var h=L.coerceFont(m,"font",n.font);m("bgcolor",n.paper_bgcolor),m("bordercolor");var M=m("visible");if(!!M){for(var c,i=function(oe,Z){var Y=c._input,te=c;return L.coerce(Y,te,C,oe,Z)},d=n.font||{},b=L.coerceFont(m,"grouptitlefont",L.extendFlat({},d,{size:Math.round(d.size*1.1)})),w=0,E=!1,y="normal",S=(n.shapes||[]).filter(function(oe){return oe.showlegend}),T=f.concat(S).filter(function(oe){return t===(oe.legend||"legend")}),o=0;o<T.length;o++)if(c=T[o],!!c.visible){var P=c._isShape;(c.showlegend||c._dfltShowLegend&&!(c._module&&c._module.attributes&&c._module.attributes.showlegend&&c._module.attributes.showlegend.dflt===!1))&&(w++,c.showlegend&&(E=!0,(!P&&g.traceIs(c,"pie-like")||c._input.showlegend===!0)&&w++),L.coerceFont(i,"legendgrouptitle.font",b)),(!P&&g.traceIs(c,"bar")&&n.barmode==="stack"||["tonextx","tonexty"].indexOf(c.fill)!==-1)&&(y=p.isGrouped({traceorder:y})?"grouped+reversed":"reversed"),c.legendgroup!==void 0&&c.legendgroup!==""&&(y=p.isReversed({traceorder:y})?"reversed+grouped":"grouped")}var x=L.coerce(s,n,v,"showlegend",E&&w>(t==="legend"?1:0));if(x===!1&&(n[t]=void 0),!(x===!1&&!u.uirevision)&&(m("uirevision",n.uirevision),x!==!1)){m("borderwidth");var _=m("orientation"),I=m("yref"),N=m("xref"),k=_==="h",F=I==="paper",O=N==="paper",z,B,W,q="left";k?(z=0,g.getComponentMethod("rangeslider","isVisible")(s.xaxis)?F?(B=1.1,W="bottom"):(B=1,W="top"):F?(B=-.1,W="top"):(B=0,W="bottom")):(B=1,W="auto",O?z=1.02:(z=1,q="right")),L.coerce(u,l,{x:{valType:"number",editType:"legend",min:O?-2:0,max:O?3:1,dflt:z}},"x"),L.coerce(u,l,{y:{valType:"number",editType:"legend",min:F?-2:0,max:F?3:1,dflt:B}},"y"),m("traceorder",y),p.isGrouped(n[t])&&m("tracegroupgap"),m("entrywidth"),m("entrywidthmode"),m("indentation"),m("itemsizing"),m("itemwidth"),m("itemclick"),m("itemdoubleclick"),m("groupclick"),m("xanchor",q),m("yanchor",W),m("valign"),L.noneOrAll(u,l,["x","y"]);var ee=m("title.text");if(ee){m("title.side",k?"left":"top");var Q=L.extendFlat({},h,{size:L.bigFont(h.size)});L.coerceFont(m,"title.font",Q)}}}}G.exports=function(s,n,f){var u,l=f.slice(),m=n.shapes;if(m)for(u=0;u<m.length;u++){var h=m[u];if(!!h.showlegend){var M={_input:h._input,visible:h.visible,showlegend:h.showlegend,legend:h.legend};l.push(M)}}var c=["legend"];for(u=0;u<l.length;u++)L.pushUnique(c,l[u].legend);for(n._legends=[],u=0;u<c.length;u++){var i=c[u];r(i,s,n,l),n[i]&&n[i].visible&&(n[i]._id=i),n._legends.push(i)}}},31140:function(G,U,e){var g=e(33428),L=e(3400),a=e(7316),C=e(24040),A=e(95924),v=e(86476),p=e(43616),r=e(76308),t=e(72736),s=e(33048),n=e(65196),f=e(84284),u=f.LINE_SPACING,l=f.FROM_TL,m=f.FROM_BR,h=e(35456),M=e(2012),c=e(42451),i=1,d=/^legend[0-9]*$/;G.exports=function(B,W){if(W)w(B,W);else{var q=B._fullLayout,ee=q._legends,Q=q._infolayer.selectAll('[class^="legend"]');Q.each(function(){var te=g.select(this),X=te.attr("class"),$=X.split(" ")[0];$.match(d)&&ee.indexOf($)===-1&&te.remove()});for(var oe=0;oe<ee.length;oe++){var Z=ee[oe],Y=B._fullLayout[Z];w(B,Y)}}};function b(z,B,W){if(!(B.title.side!=="top center"&&B.title.side!=="top right")){var q=B.title.font,ee=q.size*u,Q=0,oe=z.node(),Z=p.bBox(oe).width;B.title.side==="top center"?Q=.5*(B._width-2*W-2*n.titlePad-Z):B.title.side==="top right"&&(Q=B._width-2*W-2*n.titlePad-Z),t.positionText(z,W+n.titlePad+Q,W+ee)}}function w(z,B){var W=B||{},q=z._fullLayout,ee=O(W),Q,oe,Z=W._inHover;if(Z?(oe=W.layer,Q="hover"):(oe=q._infolayer,Q=ee),!!oe){Q+=q._uid,z._legendMouseDownTime||(z._legendMouseDownTime=0);var Y;if(Z){if(!W.entries)return;Y=h(W.entries,W)}else{for(var te=(z.calcdata||[]).slice(),X=q.shapes,$=0;$<X.length;$++){var ie=X[$];if(!!ie.showlegend){var J={_isShape:!0,_fullInput:ie,index:ie._index,name:ie.name||ie.label.text||"shape "+ie._index,legend:ie.legend,legendgroup:ie.legendgroup,legendgrouptitle:ie.legendgrouptitle,legendrank:ie.legendrank,legendwidth:ie.legendwidth,showlegend:ie.showlegend,visible:ie.visible,opacity:ie.opacity,mode:ie.type==="line"?"lines":"markers",line:ie.line,marker:{line:ie.line,color:ie.fillcolor,size:12,symbol:ie.type==="rect"?"square":ie.type==="circle"?"circle":"hexagon2"}};te.push([{trace:J}])}}Y=q.showlegend&&h(te,W,q._legends.length>1)}var j=q.hiddenlabels||[];if(!Z&&(!q.showlegend||!Y.length))return oe.selectAll("."+ee).remove(),q._topdefs.select("#"+Q).remove(),a.autoMargin(z,ee);var se=L.ensureSingle(oe,"g",ee,function(ye){Z||ye.attr("pointer-events","all")}),ne=L.ensureSingleById(q._topdefs,"clipPath",Q,function(ye){ye.append("rect")}),le=L.ensureSingle(se,"rect","bg",function(ye){ye.attr("shape-rendering","crispEdges")});le.call(r.stroke,W.bordercolor).call(r.fill,W.bgcolor).style("stroke-width",W.borderwidth+"px");var pe=L.ensureSingle(se,"g","scrollbox"),Ae=W.title;W._titleWidth=0,W._titleHeight=0;var be;Ae.text?(be=L.ensureSingle(pe,"text",ee+"titletext"),be.attr("text-anchor","start").call(p.font,Ae.font).text(Ae.text),P(be,pe,z,W,i)):pe.selectAll("."+ee+"titletext").remove();var Re=L.ensureSingle(se,"rect","scrollbar",function(ye){ye.attr(n.scrollBarEnterAttrs).call(r.fill,n.scrollBarColor)}),xe=pe.selectAll("g.groups").data(Y);xe.enter().append("g").attr("class","groups"),xe.exit().remove();var Me=xe.selectAll("g.traces").data(L.identity);Me.enter().append("g").attr("class","traces"),Me.exit().remove(),Me.style("opacity",function(ye){var Se=ye[0].trace;return C.traceIs(Se,"pie-like")?j.indexOf(ye[0].label)!==-1?.5:1:Se.visible==="legendonly"?.5:1}).each(function(){g.select(this).call(S,z,W)}).call(M,z,W).each(function(){Z||g.select(this).call(o,z,ee)}),L.syncOrAsync([a.previousPromises,function(){return I(z,xe,Me,W)},function(){var ye=q._size,Se=W.borderwidth,Fe=W.xref==="paper",Be=W.yref==="paper";if(Ae.text&&b(be,W,Se),!Z){var _e,Ue;Fe?_e=ye.l+ye.w*W.x-l[k(W)]*W._width:_e=q.width*W.x-l[k(W)]*W._width,Be?Ue=ye.t+ye.h*(1-W.y)-l[F(W)]*W._effHeight:Ue=q.height*(1-W.y)-l[F(W)]*W._effHeight;var it=N(z,ee,_e,Ue);if(it)return;if(q.margin.autoexpand){var lt=_e,$e=Ue;_e=Fe?L.constrain(_e,0,q.width-W._width):lt,Ue=Be?L.constrain(Ue,0,q.height-W._effHeight):$e,_e!==lt&&L.log("Constrain "+ee+".x to make legend fit inside graph"),Ue!==$e&&L.log("Constrain "+ee+".y to make legend fit inside graph")}p.setTranslate(se,_e,Ue)}if(Re.on(".drag",null),se.on("wheel",null),Z||W._height<=W._maxHeight||z._context.staticPlot){var qe=W._effHeight;Z&&(qe=W._height),le.attr({width:W._width-Se,height:qe-Se,x:Se/2,y:Se/2}),p.setTranslate(pe,0,0),ne.select("rect").attr({width:W._width-2*Se,height:qe-2*Se,x:Se,y:Se}),p.setClipUrl(pe,Q,z),p.setRect(Re,0,0,0,0),delete W._scrollY}else{var ft=Math.max(n.scrollBarMinHeight,W._effHeight*W._effHeight/W._height),ct=W._effHeight-ft-2*n.scrollBarMargin,pt=W._height-W._effHeight,yt=ct/pt,Et=Math.min(W._scrollY||0,pt);le.attr({width:W._width-2*Se+n.scrollBarWidth+n.scrollBarMargin,height:W._effHeight-Se,x:Se/2,y:Se/2}),ne.select("rect").attr({width:W._width-2*Se+n.scrollBarWidth+n.scrollBarMargin,height:W._effHeight-2*Se,x:Se,y:Se+Et}),p.setClipUrl(pe,Q,z),ge(Et,ft,yt),se.on("wheel",function(){Et=L.constrain(W._scrollY+g.event.deltaY/ct*pt,0,pt),ge(Et,ft,yt),Et!==0&&Et!==pt&&g.event.preventDefault()});var tt,Ie,We,Ze=function(et,ut,dt){var Zt=(dt-ut)/yt+et;return L.constrain(Zt,0,pt)},He=function(et,ut,dt){var Zt=(ut-dt)/yt+et;return L.constrain(Zt,0,pt)},De=g.behavior.drag().on("dragstart",function(){var et=g.event.sourceEvent;et.type==="touchstart"?tt=et.changedTouches[0].clientY:tt=et.clientY,We=Et}).on("drag",function(){var et=g.event.sourceEvent;et.buttons===2||et.ctrlKey||(et.type==="touchmove"?Ie=et.changedTouches[0].clientY:Ie=et.clientY,Et=Ze(We,tt,Ie),ge(Et,ft,yt))});Re.call(De);var me=g.behavior.drag().on("dragstart",function(){var et=g.event.sourceEvent;et.type==="touchstart"&&(tt=et.changedTouches[0].clientY,We=Et)}).on("drag",function(){var et=g.event.sourceEvent;et.type==="touchmove"&&(Ie=et.changedTouches[0].clientY,Et=He(We,tt,Ie),ge(Et,ft,yt))});pe.call(me)}function ge(et,ut,dt){W._scrollY=z._fullLayout[ee]._scrollY=et,p.setTranslate(pe,0,-et),p.setRect(Re,W._width,n.scrollBarMargin+et*dt,n.scrollBarWidth,ut),ne.select("rect").attr("y",Se+et)}if(z._context.edits.legendPosition){var Ee,Te,ze,Xe;se.classed("cursor-move",!0),v.init({element:se.node(),gd:z,prepFn:function(){var et=p.getTranslate(se);ze=et.x,Xe=et.y},moveFn:function(et,ut){var dt=ze+et,Zt=Xe+ut;p.setTranslate(se,dt,Zt),Ee=v.align(dt,W._width,ye.l,ye.l+ye.w,W.xanchor),Te=v.align(Zt+W._height,-W._height,ye.t+ye.h,ye.t,W.yanchor)},doneFn:function(){if(Ee!==void 0&&Te!==void 0){var et={};et[ee+".x"]=Ee,et[ee+".y"]=Te,C.call("_guiRelayout",z,et)}},clickFn:function(et,ut){var dt=oe.selectAll("g.traces").filter(function(){var Zt=this.getBoundingClientRect();return ut.clientX>=Zt.left&&ut.clientX<=Zt.right&&ut.clientY>=Zt.top&&ut.clientY<=Zt.bottom});dt.size()>0&&y(z,se,dt,et,ut)}})}}],z)}}function E(z,B,W){var q=z[0],ee=q.width,Q=B.entrywidthmode,oe=q.trace.legendwidth||B.entrywidth;return Q==="fraction"?B._maxWidth*oe:W+(oe||ee)}function y(z,B,W,q,ee){var Q=W.data()[0][0].trace,oe={event:ee,node:W.node(),curveNumber:Q.index,expandedIndex:Q._expandedIndex,data:z.data,layout:z.layout,frames:z._transitionData._frames,config:z._context,fullData:z._fullData,fullLayout:z._fullLayout};Q._group&&(oe.group=Q._group),C.traceIs(Q,"pie-like")&&(oe.label=W.datum()[0].label);var Z=A.triggerHandler(z,"plotly_legendclick",oe);if(q===1){if(Z===!1)return;B._clickTimeout=setTimeout(function(){!z._fullLayout||s(W,z,q)},z._context.doubleClickDelay)}else if(q===2){B._clickTimeout&&clearTimeout(B._clickTimeout),z._legendMouseDownTime=0;var Y=A.triggerHandler(z,"plotly_legenddoubleclick",oe);Y!==!1&&Z!==!1&&s(W,z,q)}}function S(z,B,W){var q=O(W),ee=z.data()[0][0],Q=ee.trace,oe=C.traceIs(Q,"pie-like"),Z=!W._inHover&&B._context.edits.legendText&&!oe,Y=W._maxNameLength,te,X;ee.groupTitle?(te=ee.groupTitle.text,X=ee.groupTitle.font):(X=W.font,W.entries?te=ee.text:(te=oe?ee.label:Q.name,Q._meta&&(te=L.templateString(te,Q._meta))));var $=L.ensureSingle(z,"text",q+"text");$.attr("text-anchor","start").call(p.font,X).text(Z?T(te,Y):te);var ie=W.indentation+W.itemwidth+n.itemGap*2;t.positionText($,ie,0),Z?$.call(t.makeEditable,{gd:B,text:te}).call(P,z,B,W).on("edit",function(J){this.text(T(J,Y)).call(P,z,B,W);var j=ee.trace._fullInput||{},se={};if(C.hasTransform(j,"groupby")){var ne=C.getTransformIndices(j,"groupby"),le=ne[ne.length-1],pe=L.keyedContainer(j,"transforms["+le+"].styles","target","value.name");pe.set(ee.trace._group,J),se=pe.constructUpdate()}else se.name=J;return j._isShape?C.call("_guiRelayout",B,"shapes["+Q.index+"].name",se.name):C.call("_guiRestyle",B,se,Q.index)}):P($,z,B,W)}function T(z,B){var W=Math.max(4,B);if(z&&z.trim().length>=W/2)return z;z=z||"";for(var q=W-z.length;q>0;q--)z+=" ";return z}function o(z,B,W){var q=B._context.doubleClickDelay,ee,Q=1,oe=L.ensureSingle(z,"rect",W+"toggle",function(Z){B._context.staticPlot||Z.style("cursor","pointer").attr("pointer-events","all"),Z.call(r.fill,"rgba(0,0,0,0)")});B._context.staticPlot||(oe.on("mousedown",function(){ee=new Date().getTime(),ee-B._legendMouseDownTime<q?Q+=1:(Q=1,B._legendMouseDownTime=ee)}),oe.on("mouseup",function(){if(!(B._dragged||B._editing)){var Z=B._fullLayout[W];new Date().getTime()-B._legendMouseDownTime>q&&(Q=Math.max(Q-1,1)),y(B,Z,z,Q,g.event)}}))}function P(z,B,W,q,ee){q._inHover&&z.attr("data-notex",!0),t.convertToTspans(z,W,function(){x(B,W,q,ee)})}function x(z,B,W,q){var ee=z.data()[0][0];if(!W._inHover&&ee&&!ee.trace.showlegend){z.remove();return}var Q=z.select("g[class*=math-group]"),oe=Q.node(),Z=O(W);W||(W=B._fullLayout[Z]);var Y=W.borderwidth,te;q===i?te=W.title.font:ee.groupTitle?te=ee.groupTitle.font:te=W.font;var X=te.size*u,$,ie;if(oe){var J=p.bBox(oe);$=J.height,ie=J.width,q===i?p.setTranslate(Q,Y,Y+$*.75):p.setTranslate(Q,0,$*.25)}else{var j="."+Z+(q===i?"title":"")+"text",se=z.select(j),ne=t.lineCount(se),le=se.node();if($=X*ne,ie=le?p.bBox(le).width:0,q===i)W.title.side==="left"&&(ie+=n.itemGap*2),t.positionText(se,Y+n.titlePad,Y+X);else{var pe=n.itemGap*2+W.indentation+W.itemwidth;ee.groupTitle&&(pe=n.itemGap,ie-=W.indentation+W.itemwidth),t.positionText(se,pe,-X*((ne-1)/2-.3))}}q===i?(W._titleWidth=ie,W._titleHeight=$):(ee.lineHeight=X,ee.height=Math.max($,16)+3,ee.width=ie)}function _(z){var B=0,W=0,q=z.title.side;return q&&(q.indexOf("left")!==-1&&(B=z._titleWidth),q.indexOf("top")!==-1&&(W=z._titleHeight)),[B,W]}function I(z,B,W,q){var ee=z._fullLayout,Q=O(q);q||(q=ee[Q]);var oe=ee._size,Z=c.isVertical(q),Y=c.isGrouped(q),te=q.entrywidthmode==="fraction",X=q.borderwidth,$=2*X,ie=n.itemGap,J=q.indentation+q.itemwidth+ie*2,j=2*(X+ie),se=F(q),ne=q.y<0||q.y===0&&se==="top",le=q.y>1||q.y===1&&se==="bottom",pe=q.tracegroupgap,Ae={};q._maxHeight=Math.max(ne||le?ee.height/2:oe.h,30);var be=0;q._width=0,q._height=0;var Re=_(q);if(Z)W.each(function(We){var Ze=We[0].height;p.setTranslate(this,X+Re[0],X+Re[1]+q._height+Ze/2+ie),q._height+=Ze,q._width=Math.max(q._width,We[0].width)}),be=J+q._width,q._width+=ie+J+$,q._height+=j,Y&&(B.each(function(We,Ze){p.setTranslate(this,0,Ze*q.tracegroupgap)}),q._height+=(q._lgroupsLength-1)*q.tracegroupgap);else{var xe=k(q),Me=q.x<0||q.x===0&&xe==="right",ye=q.x>1||q.x===1&&xe==="left",Se=le||ne,Fe=ee.width/2;q._maxWidth=Math.max(Me?Se&&xe==="left"?oe.l+oe.w:Fe:ye?Se&&xe==="right"?oe.r+oe.w:Fe:oe.w,2*J);var Be=0,_e=0;W.each(function(We){var Ze=E(We,q,J);Be=Math.max(Be,Ze),_e+=Ze}),be=null;var Ue=0;if(Y){var it=0,lt=0,$e=0;B.each(function(){var We=0,Ze=0;g.select(this).selectAll("g.traces").each(function(De){var me=E(De,q,J),ge=De[0].height;p.setTranslate(this,Re[0],Re[1]+X+ie+ge/2+Ze),Ze+=ge,We=Math.max(We,me),Ae[De[0].trace.legendgroup]=We});var He=We+ie;lt>0&&He+X+lt>q._maxWidth?(Ue=Math.max(Ue,lt),lt=0,$e+=it+pe,it=Ze):it=Math.max(it,Ze),p.setTranslate(this,lt,$e),lt+=He}),q._width=Math.max(Ue,lt)+X,q._height=$e+it+j}else{var qe=W.size(),ft=_e+$+(qe-1)*ie<q._maxWidth,ct=0,pt=0,yt=0,Et=0;W.each(function(We){var Ze=We[0].height,He=E(We,q,J),De=ft?He:Be;te||(De+=ie),De+X+pt-ie>=q._maxWidth&&(Ue=Math.max(Ue,Et),pt=0,yt+=ct,q._height+=ct,ct=0),p.setTranslate(this,Re[0]+X+pt,Re[1]+X+yt+Ze/2+ie),Et=pt+He+ie,pt+=De,ct=Math.max(ct,Ze)}),ft?(q._width=pt+$,q._height=ct+j):(q._width=Math.max(Ue,Et)+$,q._height+=ct+j)}}q._width=Math.ceil(Math.max(q._width+Re[0],q._titleWidth+2*(X+n.titlePad))),q._height=Math.ceil(Math.max(q._height+Re[1],q._titleHeight+2*(X+n.itemGap))),q._effHeight=Math.min(q._height,q._maxHeight);var tt=z._context.edits,Ie=tt.legendText||tt.legendPosition;W.each(function(We){var Ze=g.select(this).select("."+Q+"toggle"),He=We[0].height,De=We[0].trace.legendgroup,me=E(We,q,J);Y&&De!==""&&(me=Ae[De]);var ge=Ie?J:be||me;!Z&&!te&&(ge+=ie/2),p.setRect(Ze,0,-He/2,ge,He)})}function N(z,B,W,q){var ee=z._fullLayout,Q=ee[B],oe=k(Q),Z=F(Q),Y=Q.xref==="paper",te=Q.yref==="paper";z._fullLayout._reservedMargin[B]={};var X=Q.y<.5?"b":"t",$=Q.x<.5?"l":"r",ie={r:ee.width-W,l:W+Q._width,b:ee.height-q,t:q+Q._effHeight};if(Y&&te)return a.autoMargin(z,B,{x:Q.x,y:Q.y,l:Q._width*l[oe],r:Q._width*m[oe],b:Q._effHeight*m[Z],t:Q._effHeight*l[Z]});Y?z._fullLayout._reservedMargin[B][X]=ie[X]:te||Q.orientation==="v"?z._fullLayout._reservedMargin[B][$]=ie[$]:z._fullLayout._reservedMargin[B][X]=ie[X]}function k(z){return L.isRightAnchor(z)?"right":L.isCenterAnchor(z)?"center":"left"}function F(z){return L.isBottomAnchor(z)?"bottom":L.isMiddleAnchor(z)?"middle":"top"}function O(z){return z._id||"legend"}},35456:function(G,U,e){var g=e(24040),L=e(42451);G.exports=function(C,A,v){var p=A._inHover,r=L.isGrouped(A),t=L.isReversed(A),s={},n=[],f=!1,u={},l=0,m=0,h,M;function c(z,B,W){if(A.visible!==!1&&!(v&&z!==A._id))if(B===""||!L.isGrouped(A)){var q="~~i"+l;n.push(q),s[q]=[W],l++}else n.indexOf(B)===-1?(n.push(B),f=!0,s[B]=[W]):s[B].push(W)}for(h=0;h<C.length;h++){var i=C[h],d=i[0],b=d.trace,w=b.legend,E=b.legendgroup;if(!(!p&&(!b.visible||!b.showlegend)))if(g.traceIs(b,"pie-like"))for(u[E]||(u[E]={}),M=0;M<i.length;M++){var y=i[M].label;u[E][y]||(c(w,E,{label:y,color:i[M].color,i:i[M].i,trace:b,pts:i[M].pts}),u[E][y]=!0,m=Math.max(m,(y||"").length))}else c(w,E,d),m=Math.max(m,(b.name||"").length)}if(!n.length)return[];var S=!f||!r,T=[];for(h=0;h<n.length;h++){var o=s[n[h]];S?T.push(o[0]):T.push(o)}for(S&&(T=[T]),h=0;h<T.length;h++){var P=1/0;for(M=0;M<T[h].length;M++){var x=T[h][M].trace.legendrank;P>x&&(P=x)}T[h][0]._groupMinRank=P,T[h][0]._preGroupSort=h}var _=function(z,B){return z[0]._groupMinRank-B[0]._groupMinRank||z[0]._preGroupSort-B[0]._preGroupSort},I=function(z,B){return z.trace.legendrank-B.trace.legendrank||z._preSort-B._preSort};for(T.forEach(function(z,B){z[0]._preGroupSort=B}),T.sort(_),h=0;h<T.length;h++){T[h].forEach(function(z,B){z._preSort=B}),T[h].sort(I);var N=T[h][0].trace,k=null;for(M=0;M<T[h].length;M++){var F=T[h][M].trace.legendgrouptitle;if(F&&F.text){k=F,p&&(F.font=A._groupTitleFont);break}}if(t&&T[h].reverse(),k){var O=!1;for(M=0;M<T[h].length;M++)if(g.traceIs(T[h][M].trace,"pie-like")){O=!0;break}T[h].unshift({i:-1,groupTitle:k,noClick:O,trace:{showlegend:N.showlegend,legendgroup:N.legendgroup,visible:A.groupclick==="toggleitem"?!0:N.visible}})}for(M=0;M<T[h].length;M++)T[h][M]=[T[h][M]]}return A._lgroupsLength=T.length,A._maxNameLength=m,T}},33048:function(G,U,e){var g=e(24040),L=e(3400),a=L.pushUnique,C=!0;G.exports=function(v,p,r){var t=p._fullLayout;if(p._dragged||p._editing)return;var s=t.legend.itemclick,n=t.legend.itemdoubleclick,f=t.legend.groupclick;r===1&&s==="toggle"&&n==="toggleothers"&&C&&p.data&&p._context.showTips&&L.notifier(L._(p,"Double-click on legend to isolate one trace"),"long"),C=!1;var u;if(r===1?u=s:r===2&&(u=n),!u)return;var l=f==="togglegroup",m=t.hiddenlabels?t.hiddenlabels.slice():[],h=v.data()[0][0];if(h.groupTitle&&h.noClick)return;var M=p._fullData,c=(t.shapes||[]).filter(function(Fe){return Fe.showlegend}),i=M.concat(c),d=h.trace;d._isShape&&(d=d._fullInput);var b=d.legendgroup,w,E,y,S,T,o,P={},x=[],_=[],I=[];function N(Fe,Be){var _e=x.indexOf(Fe),Ue=P.visible;return Ue||(Ue=P.visible=[]),x.indexOf(Fe)===-1&&(x.push(Fe),_e=x.length-1),Ue[_e]=Be,_e}var k=(t.shapes||[]).map(function(Fe){return Fe._input}),F=!1;function O(Fe,Be){k[Fe].visible=Be,F=!0}function z(Fe,Be){if(!(h.groupTitle&&!l)){var _e=Fe._fullInput||Fe,Ue=_e._isShape,it=_e.index;if(it===void 0&&(it=_e._index),g.hasTransform(_e,"groupby")){var lt=_[it];if(!lt){var $e=g.getTransformIndices(_e,"groupby"),qe=$e[$e.length-1];lt=L.keyedContainer(_e,"transforms["+qe+"].styles","target","value.visible"),_[it]=lt}var ft=lt.get(Fe._group);ft===void 0&&(ft=!0),ft!==!1&&lt.set(Fe._group,Be),I[it]=N(it,_e.visible!==!1)}else{var ct=_e.visible===!1?!1:Be;Ue?O(it,ct):N(it,ct)}}}var B=d.legend,W=d._fullInput,q=W&&W._isShape;if(!q&&g.traceIs(d,"pie-like")){var ee=h.label,Q=m.indexOf(ee);if(u==="toggle")Q===-1?m.push(ee):m.splice(Q,1);else if(u==="toggleothers"){var oe=Q!==-1,Z=[];for(w=0;w<p.calcdata.length;w++){var Y=p.calcdata[w];for(E=0;E<Y.length;E++){var te=Y[E],X=te.label;B===Y[0].trace.legend&&ee!==X&&(m.indexOf(X)===-1&&(oe=!0),a(m,X),Z.push(X))}}if(!oe)for(var $=0;$<Z.length;$++){var ie=m.indexOf(Z[$]);ie!==-1&&m.splice(ie,1)}}g.call("_guiRelayout",p,"hiddenlabels",m)}else{var J=b&&b.length,j=[],se;if(J)for(w=0;w<i.length;w++)se=i[w],!!se.visible&&se.legendgroup===b&&j.push(w);if(u==="toggle"){var ne;switch(d.visible){case!0:ne="legendonly";break;case!1:ne=!1;break;case"legendonly":ne=!0;break}if(J)if(l)for(w=0;w<i.length;w++){var le=i[w];le.visible!==!1&&le.legendgroup===b&&z(le,ne)}else z(d,ne);else z(d,ne)}else if(u==="toggleothers"){var pe,Ae,be,Re,xe,Me=!0;for(w=0;w<i.length;w++)if(xe=i[w],pe=xe===d,be=xe.showlegend!==!0,!(pe||be)&&(Ae=J&&xe.legendgroup===b,!Ae&&xe.legend===B&&xe.visible===!0&&!g.traceIs(xe,"notLegendIsolatable"))){Me=!1;break}for(w=0;w<i.length;w++)if(xe=i[w],!(xe.visible===!1||xe.legend!==B)&&!g.traceIs(xe,"notLegendIsolatable"))switch(d.visible){case"legendonly":z(xe,!0);break;case!0:Re=Me?!0:"legendonly",pe=xe===d,be=xe.showlegend!==!0&&!xe.legendgroup,Ae=pe||J&&xe.legendgroup===b,z(xe,Ae||be?!0:Re);break}}for(w=0;w<_.length;w++)if(y=_[w],!!y){var ye=y.constructUpdate(),Se=Object.keys(ye);for(E=0;E<Se.length;E++)S=Se[E],o=P[S]=P[S]||[],o[I[w]]=ye[S]}for(T=Object.keys(P),w=0;w<T.length;w++)for(S=T[w],E=0;E<x.length;E++)P[S].hasOwnProperty(E)||(P[S][E]=void 0);F?g.call("_guiUpdate",p,P,{shapes:k},x):g.call("_guiRestyle",p,P,x)}}},42451:function(G,U){U.isGrouped=function(g){return(g.traceorder||"").indexOf("grouped")!==-1},U.isVertical=function(g){return g.orientation!=="h"},U.isReversed=function(g){return(g.traceorder||"").indexOf("reversed")!==-1}},2780:function(G,U,e){G.exports={moduleType:"component",name:"legend",layoutAttributes:e(3800),supplyLayoutDefaults:e(77864),draw:e(31140),style:e(2012)}},2012:function(G,U,e){var g=e(33428),L=e(24040),a=e(3400),C=a.strTranslate,A=e(43616),v=e(76308),p=e(94288).extractOpts,r=e(43028),t=e(10528),s=e(69656).castOption,n=e(65196),f=12,u=5,l=2,m=10,h=5;G.exports=function(b,w,E){var y=w._fullLayout;E||(E=y.legend);var S=E.itemsizing==="constant",T=E.itemwidth,o=(T+n.itemGap*2)/2,P=C(o,0),x=function(Z,Y,te,X){var $;if(Z+1)$=Z;else if(Y&&Y.width>0)$=Y.width;else return 0;return S?X:Math.min($,te)};b.each(function(Z){var Y=g.select(this),te=a.ensureSingle(Y,"g","layers");te.style("opacity",Z[0].trace.opacity);var X=E.indentation,$=E.valign,ie=Z[0].lineHeight,J=Z[0].height;if($==="middle"&&X===0||!ie||!J)te.attr("transform",null);else{var j={top:1,bottom:-1}[$],se=j*(.5*(ie-J+3))||0,ne=E.indentation;te.attr("transform",C(ne,se))}var le=te.selectAll("g.legendfill").data([Z]);le.enter().append("g").classed("legendfill",!0);var pe=te.selectAll("g.legendlines").data([Z]);pe.enter().append("g").classed("legendlines",!0);var Ae=te.selectAll("g.legendsymbols").data([Z]);Ae.enter().append("g").classed("legendsymbols",!0),Ae.selectAll("g.legendpoints").data([Z]).enter().append("g").classed("legendpoints",!0)}).each(oe).each(N).each(F).each(k).each(z).each(ee).each(q).each(_).each(I).each(B).each(W);function _(Z){var Y=c(Z),te=Y.showFill,X=Y.showLine,$=Y.showGradientLine,ie=Y.showGradientFill,J=Y.anyFill,j=Y.anyLine,se=Z[0],ne=se.trace,le,pe,Ae=p(ne),be=Ae.colorscale,Re=Ae.reversescale,xe=function(Ue){if(Ue.size())if(te)A.fillGroupStyle(Ue,w,!0);else{var it="legendfill-"+ne.uid;A.gradient(Ue,w,it,M(Re),be,"fill")}},Me=function(Ue){if(Ue.size()){var it="legendline-"+ne.uid;A.lineGroupStyle(Ue),A.gradient(Ue,w,it,M(Re),be,"stroke")}},ye=r.hasMarkers(ne)||!J?"M5,0":j?"M5,-2":"M5,-3",Se=g.select(this),Fe=Se.select(".legendfill").selectAll("path").data(te||ie?[Z]:[]);if(Fe.enter().append("path").classed("js-fill",!0),Fe.exit().remove(),Fe.attr("d",ye+"h"+T+"v6h-"+T+"z").call(xe),X||$){var Be=x(void 0,ne.line,m,u);pe=a.minExtend(ne,{line:{width:Be}}),le=[a.minExtend(se,{trace:pe})]}var _e=Se.select(".legendlines").selectAll("path").data(X||$?[le]:[]);_e.enter().append("path").classed("js-line",!0),_e.exit().remove(),_e.attr("d",ye+($?"l"+T+",0.0001":"h"+T)).call(X?A.lineGroupStyle:Me)}function I(Z){var Y=c(Z),te=Y.anyFill,X=Y.anyLine,$=Y.showLine,ie=Y.showMarker,J=Z[0],j=J.trace,se=!ie&&!X&&!te&&r.hasText(j),ne,le;function pe(Fe,Be,_e,Ue){var it=a.nestedProperty(j,Fe).get(),lt=a.isArrayOrTypedArray(it)&&Be?Be(it):it;if(S&&lt&&Ue!==void 0&&(lt=Ue),_e){if(lt<_e[0])return _e[0];if(lt>_e[1])return _e[1]}return lt}function Ae(Fe){return J._distinct&&J.index&&Fe[J.index]?Fe[J.index]:Fe[0]}if(ie||se||$){var be={},Re={};if(ie){be.mc=pe("marker.color",Ae),be.mx=pe("marker.symbol",Ae),be.mo=pe("marker.opacity",a.mean,[.2,1]),be.mlc=pe("marker.line.color",Ae),be.mlw=pe("marker.line.width",a.mean,[0,5],l),Re.marker={sizeref:1,sizemin:1,sizemode:"diameter"};var xe=pe("marker.size",a.mean,[2,16],f);be.ms=xe,Re.marker.size=xe}$&&(Re.line={width:pe("line.width",Ae,[0,10],u)}),se&&(be.tx="Aa",be.tp=pe("textposition",Ae),be.ts=10,be.tc=pe("textfont.color",Ae),be.tf=pe("textfont.family",Ae)),ne=[a.minExtend(J,be)],le=a.minExtend(j,Re),le.selectedpoints=null,le.texttemplate=null}var Me=g.select(this).select("g.legendpoints"),ye=Me.selectAll("path.scatterpts").data(ie?ne:[]);ye.enter().insert("path",":first-child").classed("scatterpts",!0).attr("transform",P),ye.exit().remove(),ye.call(A.pointStyle,le,w),ie&&(ne[0].mrc=3);var Se=Me.selectAll("g.pointtext").data(se?ne:[]);Se.enter().append("g").classed("pointtext",!0).append("text").attr("transform",P),Se.exit().remove(),Se.selectAll("text").call(A.textPointStyle,le,w)}function N(Z){var Y=Z[0].trace,te=Y.type==="waterfall";if(Z[0]._distinct&&te){var X=Z[0].trace[Z[0].dir].marker;return Z[0].mc=X.color,Z[0].mlw=X.line.width,Z[0].mlc=X.line.color,O(Z,this,"waterfall")}var $=[];Y.visible&&te&&($=Z[0].hasTotals?[["increasing","M-6,-6V6H0Z"],["totals","M6,6H0L-6,-6H-0Z"],["decreasing","M6,6V-6H0Z"]]:[["increasing","M-6,-6V6H6Z"],["decreasing","M6,6V-6H-6Z"]]);var ie=g.select(this).select("g.legendpoints").selectAll("path.legendwaterfall").data($);ie.enter().append("path").classed("legendwaterfall",!0).attr("transform",P).style("stroke-miterlimit",1),ie.exit().remove(),ie.each(function(J){var j=g.select(this),se=Y[J[0]].marker,ne=x(void 0,se.line,h,l);j.attr("d",J[1]).style("stroke-width",ne+"px").call(v.fill,se.color),ne&&j.call(v.stroke,se.line.color)})}function k(Z){O(Z,this)}function F(Z){O(Z,this,"funnel")}function O(Z,Y,te){var X=Z[0].trace,$=X.marker||{},ie=$.line||{},J=$.cornerradius?"M6,3a3,3,0,0,1-3,3H-3a3,3,0,0,1-3-3V-3a3,3,0,0,1,3-3H3a3,3,0,0,1,3,3Z":"M6,6H-6V-6H6Z",j=te?X.visible&&X.type===te:L.traceIs(X,"bar"),se=g.select(Y).select("g.legendpoints").selectAll("path.legend"+te).data(j?[Z]:[]);se.enter().append("path").classed("legend"+te,!0).attr("d",J).attr("transform",P),se.exit().remove(),se.each(function(ne){var le=g.select(this),pe=ne[0],Ae=x(pe.mlw,$.line,h,l);le.style("stroke-width",Ae+"px");var be=pe.mcc;if(!E._inHover&&"mc"in pe){var Re=p($),xe=Re.mid;xe===void 0&&(xe=(Re.max+Re.min)/2),be=A.tryColorscale($,"")(xe)}var Me=be||pe.mc||$.color,ye=$.pattern,Se=ye&&A.getPatternAttr(ye.shape,0,"");if(Se){var Fe=A.getPatternAttr(ye.bgcolor,0,null),Be=A.getPatternAttr(ye.fgcolor,0,null),_e=ye.fgopacity,Ue=i(ye.size,8,10),it=i(ye.solidity,.5,1),lt="legend-"+X.uid;le.call(A.pattern,"legend",w,lt,Se,Ue,it,be,ye.fillmode,Fe,Be,_e)}else le.call(v.fill,Me);Ae&&v.stroke(le,pe.mlc||ie.color)})}function z(Z){var Y=Z[0].trace,te=g.select(this).select("g.legendpoints").selectAll("path.legendbox").data(Y.visible&&L.traceIs(Y,"box-violin")?[Z]:[]);te.enter().append("path").classed("legendbox",!0).attr("d","M6,6H-6V-6H6Z").attr("transform",P),te.exit().remove(),te.each(function(){var X=g.select(this);if((Y.boxpoints==="all"||Y.points==="all")&&v.opacity(Y.fillcolor)===0&&v.opacity((Y.line||{}).color)===0){var $=a.minExtend(Y,{marker:{size:S?f:a.constrain(Y.marker.size,2,16),sizeref:1,sizemin:1,sizemode:"diameter"}});te.call(A.pointStyle,$,w)}else{var ie=x(void 0,Y.line,h,l);X.style("stroke-width",ie+"px").call(v.fill,Y.fillcolor),ie&&v.stroke(X,Y.line.color)}})}function B(Z){var Y=Z[0].trace,te=g.select(this).select("g.legendpoints").selectAll("path.legendcandle").data(Y.visible&&Y.type==="candlestick"?[Z,Z]:[]);te.enter().append("path").classed("legendcandle",!0).attr("d",function(X,$){return $?"M-15,0H-8M-8,6V-6H8Z":"M15,0H8M8,-6V6H-8Z"}).attr("transform",P).style("stroke-miterlimit",1),te.exit().remove(),te.each(function(X,$){var ie=g.select(this),J=Y[$?"increasing":"decreasing"],j=x(void 0,J.line,h,l);ie.style("stroke-width",j+"px").call(v.fill,J.fillcolor),j&&v.stroke(ie,J.line.color)})}function W(Z){var Y=Z[0].trace,te=g.select(this).select("g.legendpoints").selectAll("path.legendohlc").data(Y.visible&&Y.type==="ohlc"?[Z,Z]:[]);te.enter().append("path").classed("legendohlc",!0).attr("d",function(X,$){return $?"M-15,0H0M-8,-6V0":"M15,0H0M8,6V0"}).attr("transform",P).style("stroke-miterlimit",1),te.exit().remove(),te.each(function(X,$){var ie=g.select(this),J=Y[$?"increasing":"decreasing"],j=x(void 0,J.line,h,l);ie.style("fill","none").call(A.dashLine,J.line.dash,j),j&&v.stroke(ie,J.line.color)})}function q(Z){Q(Z,this,"pie")}function ee(Z){Q(Z,this,"funnelarea")}function Q(Z,Y,te){var X=Z[0],$=X.trace,ie=te?$.visible&&$.type===te:L.traceIs($,te),J=g.select(Y).select("g.legendpoints").selectAll("path.legend"+te).data(ie?[Z]:[]);if(J.enter().append("path").classed("legend"+te,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",P),J.exit().remove(),J.size()){var j=$.marker||{},se=x(s(j.line.width,X.pts),j.line,h,l),ne="pieLike",le=a.minExtend($,{marker:{line:{width:se}}},ne),pe=a.minExtend(X,{trace:le},ne);t(J,pe,le,w)}}function oe(Z){var Y=Z[0].trace,te,X=[];if(Y.visible)switch(Y.type){case"histogram2d":case"heatmap":X=[["M-15,-2V4H15V-2Z"]],te=!0;break;case"choropleth":case"choroplethmapbox":X=[["M-6,-6V6H6V-6Z"]],te=!0;break;case"densitymapbox":X=[["M-6,0 a6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"]],te="radial";break;case"cone":X=[["M-6,2 A2,2 0 0,0 -6,6 V6L6,4Z"],["M-6,-6 A2,2 0 0,0 -6,-2 L6,-4Z"],["M-6,-2 A2,2 0 0,0 -6,2 L6,0Z"]],te=!1;break;case"streamtube":X=[["M-6,2 A2,2 0 0,0 -6,6 H6 A2,2 0 0,1 6,2 Z"],["M-6,-6 A2,2 0 0,0 -6,-2 H6 A2,2 0 0,1 6,-6 Z"],["M-6,-2 A2,2 0 0,0 -6,2 H6 A2,2 0 0,1 6,-2 Z"]],te=!1;break;case"surface":X=[["M-6,-6 A2,3 0 0,0 -6,0 H6 A2,3 0 0,1 6,-6 Z"],["M-6,1 A2,3 0 0,1 -6,6 H6 A2,3 0 0,0 6,0 Z"]],te=!0;break;case"mesh3d":X=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],te=!1;break;case"volume":X=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],te=!0;break;case"isosurface":X=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6 A12,24 0 0,0 6,-6 L0,6Z"]],te=!1;break}var $=g.select(this).select("g.legendpoints").selectAll("path.legend3dandfriends").data(X);$.enter().append("path").classed("legend3dandfriends",!0).attr("transform",P).style("stroke-miterlimit",1),$.exit().remove(),$.each(function(ie,J){var j=g.select(this),se=p(Y),ne=se.colorscale,le=se.reversescale,pe=function(xe){if(xe.size()){var Me="legendfill-"+Y.uid;A.gradient(xe,w,Me,M(le,te==="radial"),ne,"fill")}},Ae;if(ne){if(!te){var Re=ne.length;Ae=J===0?ne[le?Re-1:0][1]:J===1?ne[le?0:Re-1][1]:ne[Math.floor((Re-1)/2)][1]}}else{var be=Y.vertexcolor||Y.facecolor||Y.color;Ae=a.isArrayOrTypedArray(be)?be[J]||be[0]:be}j.attr("d",ie[0]),Ae?j.call(v.fill,Ae):j.call(pe)})}};function M(d,b){var w=b?"radial":"horizontal";return w+(d?"":"reversed")}function c(d){var b=d[0].trace,w=b.contours,E=r.hasLines(b),y=r.hasMarkers(b),S=b.visible&&b.fill&&b.fill!=="none",T=!1,o=!1;if(w){var P=w.coloring;P==="lines"?T=!0:E=P==="none"||P==="heatmap"||w.showlines,w.type==="constraint"?S=w._operation!=="=":(P==="fill"||P==="heatmap")&&(o=!0)}return{showMarker:y,showLine:E,showFill:S,showGradientLine:T,showGradientFill:o,anyLine:E||T,anyFill:S||o}}function i(d,b,w){return d&&a.isArrayOrTypedArray(d)?b:d>w?w:d}},66540:function(G,U,e){e(76052),G.exports={editType:"modebar",orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"modebar"},bgcolor:{valType:"color",editType:"modebar"},color:{valType:"color",editType:"modebar"},activecolor:{valType:"color",editType:"modebar"},uirevision:{valType:"any",editType:"none"},add:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"},remove:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"}}},44248:function(G,U,e){var g=e(24040),L=e(7316),a=e(79811),C=e(9224),A=e(4016).eraseActiveShape,v=e(3400),p=v._,r=G.exports={};r.toImage={name:"toImage",title:function(d){var b=d._context.toImageButtonOptions||{},w=b.format||"png";return w==="png"?p(d,"Download plot as a png"):p(d,"Download plot")},icon:C.camera,click:function(d){var b=d._context.toImageButtonOptions,w={format:b.format||"png"};v.notifier(p(d,"Taking snapshot - this may take a few seconds"),"long"),w.format!=="svg"&&v.isIE()&&(v.notifier(p(d,"IE only supports svg.  Changing format to svg."),"long"),w.format="svg"),["filename","width","height","scale"].forEach(function(E){E in b&&(w[E]=b[E])}),g.call("downloadImage",d,w).then(function(E){v.notifier(p(d,"Snapshot succeeded")+" - "+E,"long")}).catch(function(){v.notifier(p(d,"Sorry, there was a problem downloading your snapshot!"),"long")})}},r.sendDataToCloud={name:"sendDataToCloud",title:function(d){return p(d,"Edit in Chart Studio")},icon:C.disk,click:function(d){L.sendDataToCloud(d)}},r.editInChartStudio={name:"editInChartStudio",title:function(d){return p(d,"Edit in Chart Studio")},icon:C.pencil,click:function(d){L.sendDataToCloud(d)}},r.zoom2d={name:"zoom2d",_cat:"zoom",title:function(d){return p(d,"Zoom")},attr:"dragmode",val:"zoom",icon:C.zoombox,click:t},r.pan2d={name:"pan2d",_cat:"pan",title:function(d){return p(d,"Pan")},attr:"dragmode",val:"pan",icon:C.pan,click:t},r.select2d={name:"select2d",_cat:"select",title:function(d){return p(d,"Box Select")},attr:"dragmode",val:"select",icon:C.selectbox,click:t},r.lasso2d={name:"lasso2d",_cat:"lasso",title:function(d){return p(d,"Lasso Select")},attr:"dragmode",val:"lasso",icon:C.lasso,click:t},r.drawclosedpath={name:"drawclosedpath",title:function(d){return p(d,"Draw closed freeform")},attr:"dragmode",val:"drawclosedpath",icon:C.drawclosedpath,click:t},r.drawopenpath={name:"drawopenpath",title:function(d){return p(d,"Draw open freeform")},attr:"dragmode",val:"drawopenpath",icon:C.drawopenpath,click:t},r.drawline={name:"drawline",title:function(d){return p(d,"Draw line")},attr:"dragmode",val:"drawline",icon:C.drawline,click:t},r.drawrect={name:"drawrect",title:function(d){return p(d,"Draw rectangle")},attr:"dragmode",val:"drawrect",icon:C.drawrect,click:t},r.drawcircle={name:"drawcircle",title:function(d){return p(d,"Draw circle")},attr:"dragmode",val:"drawcircle",icon:C.drawcircle,click:t},r.eraseshape={name:"eraseshape",title:function(d){return p(d,"Erase active shape")},icon:C.eraseshape,click:A},r.zoomIn2d={name:"zoomIn2d",_cat:"zoomin",title:function(d){return p(d,"Zoom in")},attr:"zoom",val:"in",icon:C.zoom_plus,click:t},r.zoomOut2d={name:"zoomOut2d",_cat:"zoomout",title:function(d){return p(d,"Zoom out")},attr:"zoom",val:"out",icon:C.zoom_minus,click:t},r.autoScale2d={name:"autoScale2d",_cat:"autoscale",title:function(d){return p(d,"Autoscale")},attr:"zoom",val:"auto",icon:C.autoscale,click:t},r.resetScale2d={name:"resetScale2d",_cat:"resetscale",title:function(d){return p(d,"Reset axes")},attr:"zoom",val:"reset",icon:C.home,click:t},r.hoverClosestCartesian={name:"hoverClosestCartesian",_cat:"hoverclosest",title:function(d){return p(d,"Show closest data on hover")},attr:"hovermode",val:"closest",icon:C.tooltip_basic,gravity:"ne",click:t},r.hoverCompareCartesian={name:"hoverCompareCartesian",_cat:"hoverCompare",title:function(d){return p(d,"Compare data on hover")},attr:"hovermode",val:function(d){return d._fullLayout._isHoriz?"y":"x"},icon:C.tooltip_compare,gravity:"ne",click:t};function t(d,b){var w=b.currentTarget,E=w.getAttribute("data-attr"),y=w.getAttribute("data-val")||!0,S=d._fullLayout,T={},o=a.list(d,null,!0),P=S._cartesianSpikesEnabled,x,_;if(E==="zoom"){var I=y==="in"?.5:2,N=(1+I)/2,k=(1-I)/2,F;for(_=0;_<o.length;_++)if(x=o[_],!x.fixedrange)if(F=x._name,y==="auto")T[F+".autorange"]=!0;else if(y==="reset")x._rangeInitial0===void 0&&x._rangeInitial1===void 0?T[F+".autorange"]=!0:x._rangeInitial0===void 0?(T[F+".autorange"]=x._autorangeInitial,T[F+".range"]=[null,x._rangeInitial1]):x._rangeInitial1===void 0?(T[F+".range"]=[x._rangeInitial0,null],T[F+".autorange"]=x._autorangeInitial):T[F+".range"]=[x._rangeInitial0,x._rangeInitial1],x._showSpikeInitial!==void 0&&(T[F+".showspikes"]=x._showSpikeInitial,P==="on"&&!x._showSpikeInitial&&(P="off"));else{var O=[x.r2l(x.range[0]),x.r2l(x.range[1])],z=[N*O[0]+k*O[1],N*O[1]+k*O[0]];T[F+".range[0]"]=x.l2r(z[0]),T[F+".range[1]"]=x.l2r(z[1])}}else E==="hovermode"&&(y==="x"||y==="y")&&(y=S._isHoriz?"y":"x",w.setAttribute("data-val",y)),T[E]=y;S._cartesianSpikesEnabled=P,g.call("_guiRelayout",d,T)}r.zoom3d={name:"zoom3d",_cat:"zoom",title:function(d){return p(d,"Zoom")},attr:"scene.dragmode",val:"zoom",icon:C.zoombox,click:s},r.pan3d={name:"pan3d",_cat:"pan",title:function(d){return p(d,"Pan")},attr:"scene.dragmode",val:"pan",icon:C.pan,click:s},r.orbitRotation={name:"orbitRotation",title:function(d){return p(d,"Orbital rotation")},attr:"scene.dragmode",val:"orbit",icon:C["3d_rotate"],click:s},r.tableRotation={name:"tableRotation",title:function(d){return p(d,"Turntable rotation")},attr:"scene.dragmode",val:"turntable",icon:C["z-axis"],click:s};function s(d,b){for(var w=b.currentTarget,E=w.getAttribute("data-attr"),y=w.getAttribute("data-val")||!0,S=d._fullLayout._subplots.gl3d||[],T={},o=E.split("."),P=0;P<S.length;P++)T[S[P]+"."+o[1]]=y;var x=y==="pan"?y:"zoom";T.dragmode=x,g.call("_guiRelayout",d,T)}r.resetCameraDefault3d={name:"resetCameraDefault3d",_cat:"resetCameraDefault",title:function(d){return p(d,"Reset camera to default")},attr:"resetDefault",icon:C.home,click:n},r.resetCameraLastSave3d={name:"resetCameraLastSave3d",_cat:"resetCameraLastSave",title:function(d){return p(d,"Reset camera to last save")},attr:"resetLastSave",icon:C.movie,click:n};function n(d,b){for(var w=b.currentTarget,E=w.getAttribute("data-attr"),y=E==="resetLastSave",S=E==="resetDefault",T=d._fullLayout,o=T._subplots.gl3d||[],P={},x=0;x<o.length;x++){var _=o[x],I=_+".camera",N=_+".aspectratio",k=_+".aspectmode",F=T[_]._scene,O;y?(P[I+".up"]=F.viewInitial.up,P[I+".eye"]=F.viewInitial.eye,P[I+".center"]=F.viewInitial.center,O=!0):S&&(P[I+".up"]=null,P[I+".eye"]=null,P[I+".center"]=null,O=!0),O&&(P[N+".x"]=F.viewInitial.aspectratio.x,P[N+".y"]=F.viewInitial.aspectratio.y,P[N+".z"]=F.viewInitial.aspectratio.z,P[k]=F.viewInitial.aspectmode)}g.call("_guiRelayout",d,P)}r.hoverClosest3d={name:"hoverClosest3d",_cat:"hoverclosest",title:function(d){return p(d,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:C.tooltip_basic,gravity:"ne",click:u};function f(d,b){var w=b.currentTarget,E=w._previousVal,y=d._fullLayout,S=y._subplots.gl3d||[],T=["xaxis","yaxis","zaxis"],o={},P={};if(E)P=E,w._previousVal=null;else{for(var x=0;x<S.length;x++){var _=S[x],I=y[_],N=_+".hovermode";o[N]=I.hovermode,P[N]=!1;for(var k=0;k<3;k++){var F=T[k],O=_+"."+F+".showspikes";P[O]=!1,o[O]=I[F].showspikes}}w._previousVal=o}return P}function u(d,b){var w=f(d,b);g.call("_guiRelayout",d,w)}r.zoomInGeo={name:"zoomInGeo",_cat:"zoomin",title:function(d){return p(d,"Zoom in")},attr:"zoom",val:"in",icon:C.zoom_plus,click:l},r.zoomOutGeo={name:"zoomOutGeo",_cat:"zoomout",title:function(d){return p(d,"Zoom out")},attr:"zoom",val:"out",icon:C.zoom_minus,click:l},r.resetGeo={name:"resetGeo",_cat:"reset",title:function(d){return p(d,"Reset")},attr:"reset",val:null,icon:C.autoscale,click:l},r.hoverClosestGeo={name:"hoverClosestGeo",_cat:"hoverclosest",title:function(d){return p(d,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:C.tooltip_basic,gravity:"ne",click:h};function l(d,b){for(var w=b.currentTarget,E=w.getAttribute("data-attr"),y=w.getAttribute("data-val")||!0,S=d._fullLayout,T=S._subplots.geo||[],o=0;o<T.length;o++){var P=T[o],x=S[P];if(E==="zoom"){var _=x.projection.scale,I=y==="in"?2*_:.5*_;g.call("_guiRelayout",d,P+".projection.scale",I)}}E==="reset"&&i(d,"geo")}r.hoverClosestGl2d={name:"hoverClosestGl2d",_cat:"hoverclosest",title:function(d){return p(d,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:C.tooltip_basic,gravity:"ne",click:h},r.hoverClosestPie={name:"hoverClosestPie",_cat:"hoverclosest",title:function(d){return p(d,"Toggle show closest data on hover")},attr:"hovermode",val:"closest",icon:C.tooltip_basic,gravity:"ne",click:h};function m(d){var b=d._fullLayout;return b.hovermode?!1:b._has("cartesian")?b._isHoriz?"y":"x":"closest"}function h(d){var b=m(d);g.call("_guiRelayout",d,"hovermode",b)}r.resetViewSankey={name:"resetSankeyGroup",title:function(d){return p(d,"Reset view")},icon:C.home,click:function(d){for(var b={"node.groups":[],"node.x":[],"node.y":[]},w=0;w<d._fullData.length;w++){var E=d._fullData[w]._viewInitial;b["node.groups"].push(E.node.groups.slice()),b["node.x"].push(E.node.x.slice()),b["node.y"].push(E.node.y.slice())}g.call("restyle",d,b)}},r.toggleHover={name:"toggleHover",title:function(d){return p(d,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:C.tooltip_basic,gravity:"ne",click:function(d,b){var w=f(d,b);w.hovermode=m(d),g.call("_guiRelayout",d,w)}},r.resetViews={name:"resetViews",title:function(d){return p(d,"Reset views")},icon:C.home,click:function(d,b){var w=b.currentTarget;w.setAttribute("data-attr","zoom"),w.setAttribute("data-val","reset"),t(d,b),w.setAttribute("data-attr","resetLastSave"),n(d,b),i(d,"geo"),i(d,"mapbox")}},r.toggleSpikelines={name:"toggleSpikelines",title:function(d){return p(d,"Toggle Spike Lines")},icon:C.spikeline,attr:"_cartesianSpikesEnabled",val:"on",click:function(d){var b=d._fullLayout,w=b._cartesianSpikesEnabled;b._cartesianSpikesEnabled=w==="on"?"off":"on",g.call("_guiRelayout",d,M(d))}};function M(d){for(var b=d._fullLayout,w=b._cartesianSpikesEnabled==="on",E=a.list(d,null,!0),y={},S=0;S<E.length;S++){var T=E[S];y[T._name+".showspikes"]=w?!0:T._showSpikeInitial}return y}r.resetViewMapbox={name:"resetViewMapbox",_cat:"resetView",title:function(d){return p(d,"Reset view")},attr:"reset",icon:C.home,click:function(d){i(d,"mapbox")}},r.zoomInMapbox={name:"zoomInMapbox",_cat:"zoomin",title:function(d){return p(d,"Zoom in")},attr:"zoom",val:"in",icon:C.zoom_plus,click:c},r.zoomOutMapbox={name:"zoomOutMapbox",_cat:"zoomout",title:function(d){return p(d,"Zoom out")},attr:"zoom",val:"out",icon:C.zoom_minus,click:c};function c(d,b){for(var w=b.currentTarget,E=w.getAttribute("data-val"),y=d._fullLayout,S=y._subplots.mapbox||[],T=1.05,o={},P=0;P<S.length;P++){var x=S[P],_=y[x].zoom,I=E==="in"?T*_:_/T;o[x+".zoom"]=I}g.call("_guiRelayout",d,o)}function i(d,b){for(var w=d._fullLayout,E=w._subplots[b]||[],y={},S=0;S<E.length;S++)for(var T=E[S],o=w[T]._subplot,P=o.viewInitial,x=Object.keys(P),_=0;_<x.length;_++){var I=x[_];y[T+"."+I]=P[I]}g.call("_guiRelayout",d,y)}},76052:function(G,U,e){var g=e(44248),L=Object.keys(g),a=["drawline","drawopenpath","drawclosedpath","drawcircle","drawrect","eraseshape"],C=["v1hovermode","hoverclosest","hovercompare","togglehover","togglespikelines"].concat(a),A=[],v=function(p){if(C.indexOf(p._cat||p.name)===-1){var r=p.name,t=(p._cat||p.name).toLowerCase();A.indexOf(r)===-1&&A.push(r),A.indexOf(t)===-1&&A.push(t)}};L.forEach(function(p){v(g[p])}),A.sort(),G.exports={DRAW_MODES:a,backButtons:C,foreButtons:A}},90824:function(G,U,e){var g=e(3400),L=e(76308),a=e(31780),C=e(66540);G.exports=function(v,p){var r=v.modebar||{},t=a.newContainer(p,"modebar");function s(f,u){return g.coerce(r,t,C,f,u)}s("orientation"),s("bgcolor",L.addOpacity(p.paper_bgcolor,.5));var n=L.contrast(L.rgb(p.modebar.bgcolor));s("color",L.addOpacity(n,.3)),s("activecolor",L.addOpacity(n,.7)),s("uirevision",p.uirevision),s("add"),s("remove")}},45460:function(G,U,e){G.exports={moduleType:"component",name:"modebar",layoutAttributes:e(66540),supplyLayoutDefaults:e(90824),manage:e(18816)}},18816:function(G,U,e){var g=e(79811),L=e(43028),a=e(24040),C=e(10624).isUnifiedHover,A=e(66400),v=e(44248),p=e(76052).DRAW_MODES,r=e(3400).extendDeep;G.exports=function(h){var M=h._fullLayout,c=h._context,i=M._modeBar;if(!c.displayModeBar&&!c.watermark){i&&(i.destroy(),delete M._modeBar);return}if(!Array.isArray(c.modeBarButtonsToRemove))throw new Error(["*modeBarButtonsToRemove* configuration options","must be an array."].join(" "));if(!Array.isArray(c.modeBarButtonsToAdd))throw new Error(["*modeBarButtonsToAdd* configuration options","must be an array."].join(" "));var d=c.modeBarButtons,b;Array.isArray(d)&&d.length?b=l(d):!c.displayModeBar&&c.watermark?b=[]:b=t(h),i?i.update(h,b):M._modeBar=A(h,b)};function t(m){var h=m._fullLayout,M=m._fullData,c=m._context;function i(J,j){if(typeof j=="string"){if(j.toLowerCase()===J.toLowerCase())return!0}else{var se=j.name,ne=j._cat||j.name;if(se===J||ne===J.toLowerCase())return!0}return!1}var d=h.modebar.add;typeof d=="string"&&(d=[d]);var b=h.modebar.remove;typeof b=="string"&&(b=[b]);var w=c.modeBarButtonsToAdd.concat(d.filter(function(J){for(var j=0;j<c.modeBarButtonsToRemove.length;j++)if(i(J,c.modeBarButtonsToRemove[j]))return!1;return!0})),E=c.modeBarButtonsToRemove.concat(b.filter(function(J){for(var j=0;j<c.modeBarButtonsToAdd.length;j++)if(i(J,c.modeBarButtonsToAdd[j]))return!1;return!0})),y=h._has("cartesian"),S=h._has("gl3d"),T=h._has("geo"),o=h._has("pie"),P=h._has("funnelarea"),x=h._has("gl2d"),_=h._has("ternary"),I=h._has("mapbox"),N=h._has("polar"),k=h._has("smith"),F=h._has("sankey"),O=s(h),z=C(h.hovermode),B=[];function W(J){if(!!J.length){for(var j=[],se=0;se<J.length;se++){for(var ne=J[se],le=v[ne],pe=le.name.toLowerCase(),Ae=(le._cat||le.name).toLowerCase(),be=!1,Re=0;Re<E.length;Re++){var xe=E[Re].toLowerCase();if(xe===pe||xe===Ae){be=!0;break}}be||j.push(v[ne])}B.push(j)}}var q=["toImage"];c.showEditInChartStudio?q.push("editInChartStudio"):c.showSendToCloud&&q.push("sendDataToCloud"),W(q);var ee=[],Q=[],oe=[],Z=[];(y||x||o||P||_)+T+S+I+N+k>1?(Q=["toggleHover"],oe=["resetViews"]):T?(ee=["zoomInGeo","zoomOutGeo"],Q=["hoverClosestGeo"],oe=["resetGeo"]):S?(Q=["hoverClosest3d"],oe=["resetCameraDefault3d","resetCameraLastSave3d"]):I?(ee=["zoomInMapbox","zoomOutMapbox"],Q=["toggleHover"],oe=["resetViewMapbox"]):x?Q=["hoverClosestGl2d"]:o?Q=["hoverClosestPie"]:F?(Q=["hoverClosestCartesian","hoverCompareCartesian"],oe=["resetViewSankey"]):Q=["toggleHover"],y&&(Q=["toggleSpikelines","hoverClosestCartesian","hoverCompareCartesian"]),(f(M)||z)&&(Q=[]),(y||x)&&!O&&(ee=["zoomIn2d","zoomOut2d","autoScale2d"],oe[0]!=="resetViews"&&(oe=["resetScale2d"])),S?Z=["zoom3d","pan3d","orbitRotation","tableRotation"]:(y||x)&&!O||_?Z=["zoom2d","pan2d"]:I||T?Z=["pan2d"]:N&&(Z=["zoom2d"]),n(M)&&Z.push("select2d","lasso2d");var Y=[],te=function(J){Y.indexOf(J)===-1&&Q.indexOf(J)!==-1&&Y.push(J)};if(Array.isArray(w)){for(var X=[],$=0;$<w.length;$++){var ie=w[$];typeof ie=="string"?(ie=ie.toLowerCase(),p.indexOf(ie)!==-1?(h._has("mapbox")||h._has("cartesian"))&&Z.push(ie):ie==="togglespikelines"?te("toggleSpikelines"):ie==="togglehover"?te("toggleHover"):ie==="hovercompare"?te("hoverCompareCartesian"):ie==="hoverclosest"?(te("hoverClosestCartesian"),te("hoverClosestGeo"),te("hoverClosest3d"),te("hoverClosestGl2d"),te("hoverClosestPie")):ie==="v1hovermode"&&(te("toggleHover"),te("hoverClosestCartesian"),te("hoverCompareCartesian"),te("hoverClosestGeo"),te("hoverClosest3d"),te("hoverClosestGl2d"),te("hoverClosestPie"))):X.push(ie)}w=X}return W(Z),W(ee.concat(oe)),W(Y),u(B,w)}function s(m){for(var h=g.list({_fullLayout:m},null,!0),M=0;M<h.length;M++)if(!h[M].fixedrange)return!1;return!0}function n(m){for(var h=!1,M=0;M<m.length&&!h;M++){var c=m[M];!c._module||!c._module.selectPoints||(a.traceIs(c,"scatter-like")?(L.hasMarkers(c)||L.hasText(c))&&(h=!0):a.traceIs(c,"box-violin")?(c.boxpoints==="all"||c.points==="all")&&(h=!0):h=!0)}return h}function f(m){for(var h=0;h<m.length;h++)if(!a.traceIs(m[h],"noHover"))return!1;return!0}function u(m,h){if(h.length)if(Array.isArray(h[0]))for(var M=0;M<h.length;M++)m.push(h[M]);else m.push(h);return m}function l(m){for(var h=r([],m),M=0;M<h.length;M++)for(var c=h[M],i=0;i<c.length;i++){var d=c[i];if(typeof d=="string")if(v[d]!==void 0)h[M][i]=v[d];else throw new Error(["*modeBarButtons* configuration options","invalid button name"].join(" "))}return h}},66400:function(G,U,e){var g=e(33428),L=e(38248),a=e(3400),C=e(9224),A=e(25788).version,v=new DOMParser;function p(n){this.container=n.container,this.element=document.createElement("div"),this.update(n.graphInfo,n.buttons),this.container.appendChild(this.element)}var r=p.prototype;r.update=function(n,f){this.graphInfo=n;var u=this.graphInfo._context,l=this.graphInfo._fullLayout,m="modebar-"+l._uid;this.element.setAttribute("id",m),this._uid=m,this.element.className="modebar",u.displayModeBar==="hover"&&(this.element.className+=" modebar--hover ease-bg"),l.modebar.orientation==="v"&&(this.element.className+=" vertical",f=f.reverse());var h=l.modebar,M=u.displayModeBar==="hover"?".js-plotly-plot .plotly:hover ":"";a.deleteRelatedStyleRule(m),a.addRelatedStyleRule(m,M+"#"+m+" .modebar-group","background-color: "+h.bgcolor),a.addRelatedStyleRule(m,"#"+m+" .modebar-btn .icon path","fill: "+h.color),a.addRelatedStyleRule(m,"#"+m+" .modebar-btn:hover .icon path","fill: "+h.activecolor),a.addRelatedStyleRule(m,"#"+m+" .modebar-btn.active .icon path","fill: "+h.activecolor);var c=!this.hasButtons(f),i=this.hasLogo!==u.displaylogo,d=this.locale!==u.locale;if(this.locale=u.locale,(c||i||d)&&(this.removeAllButtons(),this.updateButtons(f),u.watermark||u.displaylogo)){var b=this.getLogo();u.watermark&&(b.className=b.className+" watermark"),l.modebar.orientation==="v"?this.element.insertBefore(b,this.element.childNodes[0]):this.element.appendChild(b),this.hasLogo=!0}this.updateActiveButton()},r.updateButtons=function(n){var f=this;this.buttons=n,this.buttonElements=[],this.buttonsNames=[],this.buttons.forEach(function(u){var l=f.createGroup();u.forEach(function(m){var h=m.name;if(!h)throw new Error("must provide button 'name' in button config");if(f.buttonsNames.indexOf(h)!==-1)throw new Error("button name '"+h+"' is taken");f.buttonsNames.push(h);var M=f.createButton(m);f.buttonElements.push(M),l.appendChild(M)}),f.element.appendChild(l)})},r.createGroup=function(){var n=document.createElement("div");return n.className="modebar-group",n},r.createButton=function(n){var f=this,u=document.createElement("a");u.setAttribute("rel","tooltip"),u.className="modebar-btn";var l=n.title;l===void 0?l=n.name:typeof l=="function"&&(l=l(this.graphInfo)),(l||l===0)&&u.setAttribute("data-title",l),n.attr!==void 0&&u.setAttribute("data-attr",n.attr);var m=n.val;m!==void 0&&(typeof m=="function"&&(m=m(this.graphInfo)),u.setAttribute("data-val",m));var h=n.click;if(typeof h!="function")throw new Error("must provide button 'click' function in button config");u.addEventListener("click",function(c){n.click(f.graphInfo,c),f.updateActiveButton(c.currentTarget)}),u.setAttribute("data-toggle",n.toggle||!1),n.toggle&&g.select(u).classed("active",!0);var M=n.icon;return typeof M=="function"?u.appendChild(M()):u.appendChild(this.createIcon(M||C.question)),u.setAttribute("data-gravity",n.gravity||"n"),u},r.createIcon=function(n){var f=L(n.height)?Number(n.height):n.ascent-n.descent,u="http://www.w3.org/2000/svg",l;if(n.path){l=document.createElementNS(u,"svg"),l.setAttribute("viewBox",[0,0,n.width,f].join(" ")),l.setAttribute("class","icon");var m=document.createElementNS(u,"path");m.setAttribute("d",n.path),n.transform?m.setAttribute("transform",n.transform):n.ascent!==void 0&&m.setAttribute("transform","matrix(1 0 0 -1 0 "+n.ascent+")"),l.appendChild(m)}if(n.svg){var h=v.parseFromString(n.svg,"application/xml");l=h.childNodes[0]}return l.setAttribute("height","1em"),l.setAttribute("width","1em"),l},r.updateActiveButton=function(n){var f=this.graphInfo._fullLayout,u=n!==void 0?n.getAttribute("data-attr"):null;this.buttonElements.forEach(function(l){var m=l.getAttribute("data-val")||!0,h=l.getAttribute("data-attr"),M=l.getAttribute("data-toggle")==="true",c=g.select(l);if(M)h===u&&c.classed("active",!c.classed("active"));else{var i=h===null?h:a.nestedProperty(f,h).get();c.classed("active",i===m)}})},r.hasButtons=function(n){var f=this.buttons;if(!f||n.length!==f.length)return!1;for(var u=0;u<n.length;++u){if(n[u].length!==f[u].length)return!1;for(var l=0;l<n[u].length;l++)if(n[u][l].name!==f[u][l].name)return!1}return!0};function t(n){return n+" (v"+A+")"}r.getLogo=function(){var n=this.createGroup(),f=document.createElement("a");return f.href="https://plotly.com/",f.target="_blank",f.setAttribute("data-title",t(a._(this.graphInfo,"Produced with Plotly.js"))),f.className="modebar-btn plotlyjsicon modebar-btn--logo",f.appendChild(this.createIcon(C.newplotlylogo)),n.appendChild(f),n},r.removeAllButtons=function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.hasLogo=!1},r.destroy=function(){a.removeElement(this.container.querySelector(".modebar")),a.deleteRelatedStyleRule(this._uid)};function s(n,f){var u=n._fullLayout,l=new p({graphInfo:n,container:u._modebardiv.node(),buttons:f});return u._privateplot&&g.select(l.element).append("span").classed("badge-private float--left",!0).text("PRIVATE"),l}G.exports=s},26680:function(G,U,e){var g=e(25376),L=e(22548),a=e(31780).templatedArray,C=a("button",{visible:{valType:"boolean",dflt:!0,editType:"plot"},step:{valType:"enumerated",values:["month","year","day","hour","minute","second","all"],dflt:"month",editType:"plot"},stepmode:{valType:"enumerated",values:["backward","todate"],dflt:"backward",editType:"plot"},count:{valType:"number",min:0,dflt:1,editType:"plot"},label:{valType:"string",editType:"plot"},editType:"plot"});G.exports={visible:{valType:"boolean",editType:"plot"},buttons:C,x:{valType:"number",min:-2,max:3,editType:"plot"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"plot"},y:{valType:"number",min:-2,max:3,editType:"plot"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"bottom",editType:"plot"},font:g({editType:"plot"}),bgcolor:{valType:"color",dflt:L.lightLine,editType:"plot"},activecolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:L.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"}},85984:function(G){G.exports={yPad:.02,minButtonWidth:30,rx:3,ry:3,lightAmount:25,darkAmount:10}},22148:function(G,U,e){var g=e(3400),L=e(76308),a=e(31780),C=e(51272),A=e(26680),v=e(85984);G.exports=function(s,n,f,u,l){var m=s.rangeselector||{},h=a.newContainer(n,"rangeselector");function M(w,E){return g.coerce(m,h,A,w,E)}var c=C(m,h,{name:"buttons",handleItemDefaults:p,calendar:l}),i=M("visible",c.length>0);if(i){var d=r(n,f,u);M("x",d[0]),M("y",d[1]),g.noneOrAll(s,n,["x","y"]),M("xanchor"),M("yanchor"),g.coerceFont(M,"font",f.font);var b=M("bgcolor");M("activecolor",L.contrast(b,v.lightAmount,v.darkAmount)),M("bordercolor"),M("borderwidth")}};function p(t,s,n,f){var u=f.calendar;function l(M,c){return g.coerce(t,s,A.buttons,M,c)}var m=l("visible");if(m){var h=l("step");h!=="all"&&(u&&u!=="gregorian"&&(h==="month"||h==="year")?s.stepmode="backward":l("stepmode"),l("count")),l("label")}}function r(t,s,n){for(var f=n.filter(function(h){return s[h].anchor===t._id}),u=0,l=0;l<f.length;l++){var m=s[f[l]].domain;m&&(u=Math.max(m[1],u))}return[t.domain[0],u+v.yPad]}},50216:function(G,U,e){var g=e(33428),L=e(24040),a=e(7316),C=e(76308),A=e(43616),v=e(3400),p=v.strTranslate,r=e(72736),t=e(79811),s=e(84284),n=s.LINE_SPACING,f=s.FROM_TL,u=s.FROM_BR,l=e(85984),m=e(48040);G.exports=function(S){var T=S._fullLayout,o=T._infolayer.selectAll(".rangeselector").data(h(S),M);o.enter().append("g").classed("rangeselector",!0),o.exit().remove(),o.style({cursor:"pointer","pointer-events":"all"}),o.each(function(P){var x=g.select(this),_=P,I=_.rangeselector,N=x.selectAll("g.button").data(v.filterVisible(I.buttons));N.enter().append("g").classed("button",!0),N.exit().remove(),N.each(function(k){var F=g.select(this),O=m(_,k);k._isActive=c(_,k,O),F.call(i,I,k),F.call(b,I,k,S),F.on("click",function(){S._dragged||L.call("_guiRelayout",S,O)}),F.on("mouseover",function(){k._isHovered=!0,F.call(i,I,k)}),F.on("mouseout",function(){k._isHovered=!1,F.call(i,I,k)})}),E(S,N,I,_._name,x)})};function h(y){for(var S=t.list(y,"x",!0),T=[],o=0;o<S.length;o++){var P=S[o];P.rangeselector&&P.rangeselector.visible&&T.push(P)}return T}function M(y){return y._id}function c(y,S,T){if(S.step==="all")return y.autorange===!0;var o=Object.keys(T);return y.range[0]===T[o[0]]&&y.range[1]===T[o[1]]}function i(y,S,T){var o=v.ensureSingle(y,"rect","selector-rect",function(P){P.attr("shape-rendering","crispEdges")});o.attr({rx:l.rx,ry:l.ry}),o.call(C.stroke,S.bordercolor).call(C.fill,d(S,T)).style("stroke-width",S.borderwidth+"px")}function d(y,S){return S._isActive||S._isHovered?y.activecolor:y.bgcolor}function b(y,S,T,o){function P(_){r.convertToTspans(_,o)}var x=v.ensureSingle(y,"text","selector-text",function(_){_.attr("text-anchor","middle")});x.call(A.font,S.font).text(w(T,o._fullLayout._meta)).call(P)}function w(y,S){return y.label?S?v.templateString(y.label,S):y.label:y.step==="all"?"all":y.count+y.step.charAt(0)}function E(y,S,T,o,P){var x=0,_=0,I=T.borderwidth;S.each(function(){var B=g.select(this),W=B.select(".selector-text"),q=T.font.size*n,ee=Math.max(q*r.lineCount(W),16)+3;_=Math.max(_,ee)}),S.each(function(){var B=g.select(this),W=B.select(".selector-rect"),q=B.select(".selector-text"),ee=q.node()&&A.bBox(q.node()).width,Q=T.font.size*n,oe=r.lineCount(q),Z=Math.max(ee+10,l.minButtonWidth);B.attr("transform",p(I+x,I)),W.attr({x:0,y:0,width:Z,height:_}),r.positionText(q,Z/2,_/2-(oe-1)*Q/2+3),x+=Z+5});var N=y._fullLayout._size,k=N.l+N.w*T.x,F=N.t+N.h*(1-T.y),O="left";v.isRightAnchor(T)&&(k-=x,O="right"),v.isCenterAnchor(T)&&(k-=x/2,O="center");var z="top";v.isBottomAnchor(T)&&(F-=_,z="bottom"),v.isMiddleAnchor(T)&&(F-=_/2,z="middle"),x=Math.ceil(x),_=Math.ceil(_),k=Math.round(k),F=Math.round(F),a.autoMargin(y,o+"-range-selector",{x:T.x,y:T.y,l:x*f[O],r:x*u[O],b:_*u[z],t:_*f[z]}),P.attr("transform",p(k,F))}},48040:function(G,U,e){var g=e(73220),L=e(3400).titleCase;G.exports=function(A,v){var p=A._name,r={};if(v.step==="all")r[p+".autorange"]=!0;else{var t=a(A,v);r[p+".range[0]"]=t[0],r[p+".range[1]"]=t[1]}return r};function a(C,A){var v=C.range,p=new Date(C.r2l(v[1])),r=A.step,t=g["utc"+L(r)],s=A.count,n;switch(A.stepmode){case"backward":n=C.l2r(+t.offset(p,-s));break;case"todate":var f=t.offset(p,-s);n=C.l2r(+t.ceil(f));break}var u=v[1];return[n,u]}},41152:function(G,U,e){G.exports={moduleType:"component",name:"rangeselector",schema:{subplots:{xaxis:{rangeselector:e(26680)}}},layoutAttributes:e(26680),handleDefaults:e(22148),draw:e(50216)}},11200:function(G,U,e){var g=e(22548);G.exports={bgcolor:{valType:"color",dflt:g.background,editType:"plot"},bordercolor:{valType:"color",dflt:g.defaultLine,editType:"plot"},borderwidth:{valType:"integer",dflt:0,min:0,editType:"plot"},autorange:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},range:{valType:"info_array",items:[{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}}],editType:"calc",impliedEdits:{autorange:!1}},thickness:{valType:"number",dflt:.15,min:0,max:1,editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"}},26652:function(G,U,e){var g=e(79811).list,L=e(19280).getAutoRange,a=e(74636);G.exports=function(A){for(var v=g(A,"x",!0),p=0;p<v.length;p++){var r=v[p],t=r[a.name];t&&t.visible&&t.autorange&&(t._input.autorange=!0,t._input.range=t.range=L(A,r))}}},74636:function(G){G.exports={name:"rangeslider",containerClassName:"rangeslider-container",bgClassName:"rangeslider-bg",rangePlotClassName:"rangeslider-rangeplot",maskMinClassName:"rangeslider-mask-min",maskMaxClassName:"rangeslider-mask-max",slideBoxClassName:"rangeslider-slidebox",grabberMinClassName:"rangeslider-grabber-min",grabAreaMinClassName:"rangeslider-grabarea-min",handleMinClassName:"rangeslider-handle-min",grabberMaxClassName:"rangeslider-grabber-max",grabAreaMaxClassName:"rangeslider-grabarea-max",handleMaxClassName:"rangeslider-handle-max",maskMinOppAxisClassName:"rangeslider-mask-min-opp-axis",maskMaxOppAxisClassName:"rangeslider-mask-max-opp-axis",maskColor:"rgba(0,0,0,0.4)",maskOppAxisColor:"rgba(0,0,0,0.2)",slideBoxFill:"transparent",slideBoxCursor:"ew-resize",grabAreaFill:"transparent",grabAreaCursor:"col-resize",grabAreaWidth:10,handleWidth:4,handleRadius:1,handleStrokeWidth:1,extraPad:15}},94040:function(G,U,e){var g=e(3400),L=e(31780),a=e(79811),C=e(11200),A=e(10936);G.exports=function(p,r,t){var s=p[t],n=r[t];if(!(s.rangeslider||r._requestRangeslider[n._id]))return;g.isPlainObject(s.rangeslider)||(s.rangeslider={});var f=s.rangeslider,u=L.newContainer(n,"rangeslider");function l(o,P){return g.coerce(f,u,C,o,P)}var m,h;function M(o,P){return g.coerce(m,h,A,o,P)}var c=l("visible");if(!!c){l("bgcolor",r.plot_bgcolor),l("bordercolor"),l("borderwidth"),l("thickness"),l("autorange",!n.isValidRange(f.range)),l("range");var i=r._subplots;if(i)for(var d=i.cartesian.filter(function(o){return o.substr(0,o.indexOf("y"))===a.name2id(t)}).map(function(o){return o.substr(o.indexOf("y"),o.length)}),b=g.simpleMap(d,a.id2name),w=0;w<b.length;w++){var E=b[w];m=f[E]||{},h=L.newContainer(u,E,"yaxis");var y=r[E],S;m.range&&y.isValidRange(m.range)&&(S="fixed");var T=M("rangemode",S);T!=="match"&&M("range",y.range.slice())}u._input=f}}},20060:function(G,U,e){var g=e(33428),L=e(24040),a=e(7316),C=e(3400),A=C.strTranslate,v=e(43616),p=e(76308),r=e(81668),t=e(57952),s=e(79811),n=e(86476),f=e(93972),u=e(74636);G.exports=function(S){for(var T=S._fullLayout,o=T._rangeSliderData,P=0;P<o.length;P++){var x=o[P][u.name];x._clipId=x._id+"-"+T._uid}function _(N){return N._name}var I=T._infolayer.selectAll("g."+u.containerClassName).data(o,_);I.exit().each(function(N){var k=N[u.name];T._topdefs.select("#"+k._clipId).remove()}).remove(),o.length!==0&&(I.enter().append("g").classed(u.containerClassName,!0).attr("pointer-events","all"),I.each(function(N){var k=g.select(this),F=N[u.name],O=T[s.id2name(N.anchor)],z=F[s.id2name(N.anchor)];if(F.range){var B=C.simpleMap(F.range,N.r2l),W=C.simpleMap(N.range,N.r2l),q;W[0]<W[1]?q=[Math.min(B[0],W[0]),Math.max(B[1],W[1])]:q=[Math.max(B[0],W[0]),Math.min(B[1],W[1])],F.range=F._input.range=C.simpleMap(q,N.l2r)}N.cleanRange("rangeslider.range");var ee=T._size,Q=N.domain;F._width=ee.w*(Q[1]-Q[0]);var oe=Math.round(ee.l+ee.w*Q[0]),Z=Math.round(ee.t+ee.h*(1-N._counterDomainMin)+(N.side==="bottom"?N._depth:0)+F._offsetShift+u.extraPad);k.attr("transform",A(oe,Z)),F._rl=C.simpleMap(F.range,N.r2l);var Y=F._rl[0],te=F._rl[1],X=te-Y;if(F.p2d=function(be){return be/F._width*X+Y},F.d2p=function(be){return(be-Y)/X*F._width},N.rangebreaks){var $=N.locateBreaks(Y,te);if($.length){var ie,J,j=0;for(ie=0;ie<$.length;ie++)J=$[ie],j+=J.max-J.min;var se=F._width/(te-Y-j),ne=[-se*Y];for(ie=0;ie<$.length;ie++)J=$[ie],ne.push(ne[ne.length-1]-se*(J.max-J.min));for(F.d2p=function(be){for(var Re=ne[0],xe=0;xe<$.length;xe++){var Me=$[xe];if(be>=Me.max)Re=ne[xe+1];else if(be<Me.min)break}return Re+se*be},ie=0;ie<$.length;ie++)J=$[ie],J.pmin=F.d2p(J.min),J.pmax=F.d2p(J.max);F.p2d=function(be){for(var Re=ne[0],xe=0;xe<$.length;xe++){var Me=$[xe];if(be>=Me.pmax)Re=ne[xe+1];else if(be<Me.pmin)break}return(be-Re)/se}}}if(z.rangemode!=="match"){var le=O.r2l(z.range[0]),pe=O.r2l(z.range[1]),Ae=pe-le;F.d2pOppAxis=function(be){return(be-le)/Ae*F._height}}k.call(c,S,N,F).call(i,S,N,F).call(d,S,N,F).call(w,S,N,F,z).call(E,S,N,F).call(y,S,N,F),m(k,S,N,F),M(k,S,N,F,O,z),N.side==="bottom"&&r.draw(S,N._id+"title",{propContainer:N,propName:N._name+".title",placeholder:T._dfltTitle.x,attributes:{x:N._offset+N._length/2,y:Z+F._height+F._offsetShift+10+1.5*N.title.font.size,"text-anchor":"middle"}})}))};function l(S){return typeof S.clientX=="number"?S.clientX:S.touches&&S.touches.length>0?S.touches[0].clientX:0}function m(S,T,o,P){if(T._context.staticPlot)return;var x=S.select("rect."+u.slideBoxClassName).node(),_=S.select("rect."+u.grabAreaMinClassName).node(),I=S.select("rect."+u.grabAreaMaxClassName).node();function N(){var k=g.event,F=k.target,O=l(k),z=O-S.node().getBoundingClientRect().left,B=P.d2p(o._rl[0]),W=P.d2p(o._rl[1]),q=n.coverSlip();this.addEventListener("touchmove",ee),this.addEventListener("touchend",Q),q.addEventListener("mousemove",ee),q.addEventListener("mouseup",Q);function ee(oe){var Z=l(oe),Y=+Z-O,te,X,$;switch(F){case x:if($="ew-resize",B+Y>o._length||W+Y<0)return;te=B+Y,X=W+Y;break;case _:if($="col-resize",B+Y>o._length)return;te=B+Y,X=W;break;case I:if($="col-resize",W+Y<0)return;te=B,X=W+Y;break;default:$="ew-resize",te=z,X=z+Y;break}if(X<te){var ie=X;X=te,te=ie}P._pixelMin=te,P._pixelMax=X,f(g.select(q),$),h(S,T,o,P)}function Q(){q.removeEventListener("mousemove",ee),q.removeEventListener("mouseup",Q),this.removeEventListener("touchmove",ee),this.removeEventListener("touchend",Q),C.removeElement(q)}}S.on("mousedown",N),S.on("touchstart",N)}function h(S,T,o,P){function x(N){return o.l2r(C.constrain(N,P._rl[0],P._rl[1]))}var _=x(P.p2d(P._pixelMin)),I=x(P.p2d(P._pixelMax));window.requestAnimationFrame(function(){L.call("_guiRelayout",T,o._name+".range",[_,I])})}function M(S,T,o,P,x,_){var I=u.handleWidth/2;function N(oe){return C.constrain(oe,0,P._width)}function k(oe){return C.constrain(oe,0,P._height)}function F(oe){return C.constrain(oe,-I,P._width+I)}var O=N(P.d2p(o._rl[0])),z=N(P.d2p(o._rl[1]));if(S.select("rect."+u.slideBoxClassName).attr("x",O).attr("width",z-O),S.select("rect."+u.maskMinClassName).attr("width",O),S.select("rect."+u.maskMaxClassName).attr("x",z).attr("width",P._width-z),_.rangemode!=="match"){var B=P._height-k(P.d2pOppAxis(x._rl[1])),W=P._height-k(P.d2pOppAxis(x._rl[0]));S.select("rect."+u.maskMinOppAxisClassName).attr("x",O).attr("height",B).attr("width",z-O),S.select("rect."+u.maskMaxOppAxisClassName).attr("x",O).attr("y",W).attr("height",P._height-W).attr("width",z-O),S.select("rect."+u.slideBoxClassName).attr("y",B).attr("height",W-B)}var q=.5,ee=Math.round(F(O-I))-q,Q=Math.round(F(z-I))+q;S.select("g."+u.grabberMinClassName).attr("transform",A(ee,q)),S.select("g."+u.grabberMaxClassName).attr("transform",A(Q,q))}function c(S,T,o,P){var x=C.ensureSingle(S,"rect",u.bgClassName,function(k){k.attr({x:0,y:0,"shape-rendering":"crispEdges"})}),_=P.borderwidth%2===0?P.borderwidth:P.borderwidth-1,I=-P._offsetShift,N=v.crispRound(T,P.borderwidth);x.attr({width:P._width+_,height:P._height+_,transform:A(I,I),"stroke-width":N}).call(p.stroke,P.bordercolor).call(p.fill,P.bgcolor)}function i(S,T,o,P){var x=T._fullLayout,_=C.ensureSingleById(x._topdefs,"clipPath",P._clipId,function(I){I.append("rect").attr({x:0,y:0})});_.select("rect").attr({width:P._width,height:P._height})}function d(S,T,o,P){var x=T.calcdata,_=S.selectAll("g."+u.rangePlotClassName).data(o._subplotsWith,C.identity);_.enter().append("g").attr("class",function(N){return u.rangePlotClassName+" "+N}).call(v.setClipUrl,P._clipId,T),_.order(),_.exit().remove();var I;_.each(function(N,k){var F=g.select(this),O=k===0,z=s.getFromId(T,N,"y"),B=z._name,W=P[B],q={data:[],layout:{xaxis:{type:o.type,domain:[0,1],range:P.range.slice(),calendar:o.calendar},width:P._width,height:P._height,margin:{t:0,b:0,l:0,r:0}},_context:T._context};o.rangebreaks&&(q.layout.xaxis.rangebreaks=o.rangebreaks),q.layout[B]={type:z.type,domain:[0,1],range:W.rangemode!=="match"?W.range.slice():z.range.slice(),calendar:z.calendar},z.rangebreaks&&(q.layout[B].rangebreaks=z.rangebreaks),a.supplyDefaults(q);var ee=q._fullLayout.xaxis,Q=q._fullLayout[B];ee.clearCalc(),ee.setScale(),Q.clearCalc(),Q.setScale();var oe={id:N,plotgroup:F,xaxis:ee,yaxis:Q,isRangePlot:!0};O?I=oe:(oe.mainplot="xy",oe.mainplotinfo=I),t.rangePlot(T,oe,b(x,N))})}function b(S,T){for(var o=[],P=0;P<S.length;P++){var x=S[P],_=x[0].trace;_.xaxis+_.yaxis===T&&o.push(x)}return o}function w(S,T,o,P,x){var _=C.ensureSingle(S,"rect",u.maskMinClassName,function(F){F.attr({x:0,y:0,"shape-rendering":"crispEdges"})});_.attr("height",P._height).call(p.fill,u.maskColor);var I=C.ensureSingle(S,"rect",u.maskMaxClassName,function(F){F.attr({y:0,"shape-rendering":"crispEdges"})});if(I.attr("height",P._height).call(p.fill,u.maskColor),x.rangemode!=="match"){var N=C.ensureSingle(S,"rect",u.maskMinOppAxisClassName,function(F){F.attr({y:0,"shape-rendering":"crispEdges"})});N.attr("width",P._width).call(p.fill,u.maskOppAxisColor);var k=C.ensureSingle(S,"rect",u.maskMaxOppAxisClassName,function(F){F.attr({y:0,"shape-rendering":"crispEdges"})});k.attr("width",P._width).style("border-top",u.maskOppBorder).call(p.fill,u.maskOppAxisColor)}}function E(S,T,o,P){if(!T._context.staticPlot){var x=C.ensureSingle(S,"rect",u.slideBoxClassName,function(_){_.attr({y:0,cursor:u.slideBoxCursor,"shape-rendering":"crispEdges"})});x.attr({height:P._height,fill:u.slideBoxFill})}}function y(S,T,o,P){var x=C.ensureSingle(S,"g",u.grabberMinClassName),_=C.ensureSingle(S,"g",u.grabberMaxClassName),I={x:0,width:u.handleWidth,rx:u.handleRadius,fill:p.background,stroke:p.defaultLine,"stroke-width":u.handleStrokeWidth,"shape-rendering":"crispEdges"},N={y:Math.round(P._height/4),height:Math.round(P._height/2)},k=C.ensureSingle(x,"rect",u.handleMinClassName,function(W){W.attr(I)});k.attr(N);var F=C.ensureSingle(_,"rect",u.handleMaxClassName,function(W){W.attr(I)});F.attr(N);var O={width:u.grabAreaWidth,x:0,y:0,fill:u.grabAreaFill,cursor:T._context.staticPlot?void 0:u.grabAreaCursor},z=C.ensureSingle(x,"rect",u.grabAreaMinClassName,function(W){W.attr(O)});z.attr("height",P._height);var B=C.ensureSingle(_,"rect",u.grabAreaMaxClassName,function(W){W.attr(O)});B.attr("height",P._height)}},97944:function(G,U,e){var g=e(79811),L=e(72736),a=e(74636),C=e(84284).LINE_SPACING,A=a.name;function v(p){var r=p&&p[A];return r&&r.visible}U.isVisible=v,U.makeData=function(p){var r=g.list({_fullLayout:p},"x",!0),t=p.margin,s=[];if(!p._has("gl2d"))for(var n=0;n<r.length;n++){var f=r[n];if(v(f)){s.push(f);var u=f[A];u._id=A+f._id,u._height=(p.height-t.b-t.t)*u.thickness,u._offsetShift=Math.floor(u.borderwidth/2)}}p._rangeSliderData=s},U.autoMarginOpts=function(p,r){var t=p._fullLayout,s=r[A],n=r._id.charAt(0),f=0,u=0;if(r.side==="bottom"&&(f=r._depth,r.title.text!==t._dfltTitle[n])){u=1.5*r.title.font.size+10+s._offsetShift;var l=(r.title.text.match(L.BR_TAG_ALL)||[]).length;u+=l*r.title.font.size*C}return{x:0,y:r._counterDomainMin,l:0,r:0,t:0,b:s._height+f+Math.max(t.margin.b,u),pad:a.extraPad+s._offsetShift*2}}},49692:function(G,U,e){var g=e(3400),L=e(11200),a=e(10936),C=e(97944);G.exports={moduleType:"component",name:"rangeslider",schema:{subplots:{xaxis:{rangeslider:g.extendFlat({},L,{yaxis:a})}}},layoutAttributes:e(11200),handleDefaults:e(94040),calcAutorange:e(26652),draw:e(20060),isVisible:C.isVisible,makeData:C.makeData,autoMarginOpts:C.autoMarginOpts}},10936:function(G){G.exports={_isSubplotObj:!0,rangemode:{valType:"enumerated",values:["auto","fixed","match"],dflt:"match",editType:"calc"},range:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},editType:"calc"}},93956:function(G,U,e){var g=e(13916),L=e(52904).line,a=e(98192).u,C=e(92880).extendFlat,A=e(67824).overrideAll,v=e(31780).templatedArray;e(36208),G.exports=A(v("selection",{type:{valType:"enumerated",values:["rect","path"]},xref:C({},g.xref,{}),yref:C({},g.yref,{}),x0:{valType:"any"},x1:{valType:"any"},y0:{valType:"any"},y1:{valType:"any"},path:{valType:"string",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:.7,editType:"arraydraw"},line:{color:L.color,width:C({},L.width,{min:1,dflt:1}),dash:C({},a,{dflt:"dot"})}}),"arraydraw","from-root")},83280:function(G){G.exports={BENDPX:1.5,MINSELECT:12,SELECTDELAY:100,SELECTID:"-select"}},74224:function(G,U,e){var g=e(3400),L=e(54460),a=e(51272),C=e(93956),A=e(65152);G.exports=function(r,t){a(r,t,{name:"selections",handleItemDefaults:v});for(var s=t.selections,n=0;n<s.length;n++){var f=s[n];!f||f.path===void 0&&(f.x0===void 0||f.x1===void 0||f.y0===void 0||f.y1===void 0)&&(t.selections[n]=null)}};function v(p,r,t){function s(x,_){return g.coerce(p,r,C,x,_)}var n=s("path"),f=n?"path":"rect",u=s("type",f),l=u!=="path";l&&delete r.path,s("opacity"),s("line.color"),s("line.width"),s("line.dash");for(var m=["x","y"],h=0;h<2;h++){var M=m[h],c={_fullLayout:t},i,d,b,w=L.coerceRef(p,r,c,M);if(i=L.getFromId(c,w),i._selectionIndices.push(r._index),b=A.rangeToShapePosition(i),d=A.shapePositionToRange(i),l){var E=M+"0",y=M+"1",S=p[E],T=p[y];p[E]=d(p[E],!0),p[y]=d(p[y],!0),L.coercePosition(r,c,s,w,E),L.coercePosition(r,c,s,w,y);var o=r[E],P=r[y];o!==void 0&&P!==void 0&&(r[E]=b(o),r[y]=b(P),p[E]=S,p[y]=T)}}l&&g.noneOrAll(p,r,["x0","x1","y0","y1"])}},23640:function(G,U,e){var g=e(9856).readPaths,L=e(55496),a=e(1936).clearOutlineControllers,C=e(76308),A=e(43616),v=e(31780).arrayEditor,p=e(65152),r=p.getPathString;G.exports={draw:t,drawOne:n,activateLastSelection:l};function t(h){var M=h._fullLayout;a(h),M._selectionLayer.selectAll("path").remove();for(var c in M._plots){var i=M._plots[c].selectionLayer;i&&i.selectAll("path").remove()}for(var d=0;d<M.selections.length;d++)n(h,d)}function s(h){return h._context.editSelection}function n(h,M){h._fullLayout._paperdiv.selectAll('.selectionlayer [data-index="'+M+'"]').remove();var c=p.makeSelectionsOptionsAndPlotinfo(h,M),i=c.options,d=c.plotinfo;if(!i._input)return;b(h._fullLayout._selectionLayer);function b(w){var E=r(h,i),y={"data-index":M,"fill-rule":"evenodd",d:E},S=i.opacity,T="rgba(0,0,0,0)",o=i.line.color||C.contrast(h._fullLayout.plot_bgcolor),P=i.line.width,x=i.line.dash;P||(P=5,x="solid");var _=s(h)&&h._fullLayout._activeSelectionIndex===M;_&&(T=h._fullLayout.activeselection.fillcolor,S=h._fullLayout.activeselection.opacity);for(var I=[],N=1;N>=0;N--){var k=w.append("path").attr(y).style("opacity",N?.1:S).call(C.stroke,o).call(C.fill,T).call(A.dashLine,N?"solid":x,N?4+P:P);if(f(k,h,i),_){var F=v(h.layout,"selections",i);k.style({cursor:"move"});var O={element:k.node(),plotinfo:d,gd:h,editHelpers:F,isActiveSelection:!0},z=g(E,h);L(z,k,O)}else k.style("pointer-events",N?"all":"none");I[N]=k}var B=I[0],W=I[1];W.node().addEventListener("click",function(){return u(h,B)})}}function f(h,M,c){var i=c.xref+c.yref;A.setClipUrl(h,"clip"+M._fullLayout._uid+i,M)}function u(h,M){if(!!s(h)){var c=M.node(),i=+c.getAttribute("data-index");if(i>=0){if(i===h._fullLayout._activeSelectionIndex){m(h);return}h._fullLayout._activeSelectionIndex=i,h._fullLayout._deactivateSelection=m,t(h)}}}function l(h){if(!!s(h)){var M=h._fullLayout.selections.length-1;h._fullLayout._activeSelectionIndex=M,h._fullLayout._deactivateSelection=m,t(h)}}function m(h){if(!!s(h)){var M=h._fullLayout._activeSelectionIndex;M>=0&&(a(h),delete h._fullLayout._activeSelectionIndex,t(h))}}},34200:function(G,U,e){var g=e(98192).u,L=e(92880).extendFlat;G.exports={newselection:{mode:{valType:"enumerated",values:["immediate","gradual"],dflt:"immediate",editType:"none"},line:{color:{valType:"color",editType:"none"},width:{valType:"number",min:1,dflt:1,editType:"none"},dash:L({},g,{dflt:"dot",editType:"none"}),editType:"none"},editType:"none"},activeselection:{fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:.5,editType:"none"},editType:"none"}}},81004:function(G){G.exports=function(e,g,L){L("newselection.mode");var a=L("newselection.line.width");a&&(L("newselection.line.color"),L("newselection.line.dash")),L("activeselection.fillcolor"),L("activeselection.opacity")}},5968:function(G,U,e){var g=e(72760),L=g.selectMode,a=e(1936),C=a.clearOutline,A=e(9856),v=A.readPaths,p=A.writePaths,r=A.fixDatesForPaths;G.exports=function(s,n){if(!!s.length){var f=s[0][0];if(!!f){var u=f.getAttribute("d"),l=n.gd,m=l._fullLayout.newselection,h=n.plotinfo,M=h.xaxis,c=h.yaxis,i=n.isActiveSelection,d=n.dragmode,b=(l.layout||{}).selections||[];if(!L(d)&&i!==void 0){var w=l._fullLayout._activeSelectionIndex;if(w<b.length)switch(l._fullLayout.selections[w].type){case"rect":d="select";break;case"path":d="lasso";break}}var E=v(u,l,h,i),y={xref:M._id,yref:c._id,opacity:m.opacity,line:{color:m.line.color,width:m.line.width,dash:m.line.dash}},S;E.length===1&&(S=E[0]),S&&S.length===5&&d==="select"?(y.type="rect",y.x0=S[0][1],y.y0=S[0][2],y.x1=S[2][1],y.y1=S[2][2]):(y.type="path",M&&c&&r(E,M,c),y.path=p(E),S=null),C(l);for(var T=n.editHelpers,o=(T||{}).modifyItem,P=[],x=0;x<b.length;x++){var _=l._fullLayout.selections[x];if(!_){P[x]=_;continue}if(P[x]=_._input,i!==void 0&&x===l._fullLayout._activeSelectionIndex){var I=y;switch(_.type){case"rect":o("x0",I.x0),o("x1",I.x1),o("y0",I.y0),o("y1",I.y1);break;case"path":o("path",I.path);break}}}return i===void 0?(P.push(y),P):T?T.getUpdateObj():{}}}}},5840:function(G,U,e){var g=e(3400).strTranslate;function L(v,p){switch(v.type){case"log":return v.p2d(p);case"date":return v.p2r(p,0,v.calendar);default:return v.p2r(p)}}function a(v,p){switch(v.type){case"log":return v.d2p(p);case"date":return v.r2p(p,0,v.calendar);default:return v.r2p(p)}}function C(v){var p=v._id.charAt(0)==="y"?1:0;return function(r){return L(v,r[p])}}function A(v){return g(v.xaxis._offset,v.yaxis._offset)}G.exports={p2r:L,r2p:a,axValue:C,getTransform:A}},22676:function(G,U,e){var g=e(23640),L=e(43156);G.exports={moduleType:"component",name:"selections",layoutAttributes:e(93956),supplyLayoutDefaults:e(74224),supplyDrawNewSelectionDefaults:e(81004),includeBasePlot:e(36632)("selections"),draw:g.draw,drawOne:g.drawOne,reselect:L.reselect,prepSelect:L.prepSelect,clearOutline:L.clearOutline,clearSelectionsCache:L.clearSelectionsCache,selectOnClick:L.selectOnClick}},43156:function(G,U,e){var g=e(14756),L=e(61456),a=e(24040),C=e(43616).dashStyle,A=e(76308),v=e(93024),p=e(10624).makeEventData,r=e(72760),t=r.freeMode,s=r.rectMode,n=r.drawMode,f=r.openMode,u=r.selectMode,l=e(65152),m=e(85448),h=e(55496),M=e(1936).clearOutline,c=e(9856),i=c.handleEllipse,d=c.readPaths,b=e(93940).newShapes,w=e(5968),E=e(23640).activateLastSelection,y=e(3400),S=y.sorterAsc,T=e(92065),o=e(91200),P=e(79811).getFromId,x=e(73696),_=e(39172).redrawReglTraces,I=e(83280),N=I.MINSELECT,k=T.filter,F=T.tester,O=e(5840),z=O.p2r,B=O.axValue,W=O.getTransform;function q(He){return He.subplot!==void 0}function ee(He,De,me,ge,Ee){var Te=!q(ge),ze=t(Ee),Xe=s(Ee),et=f(Ee),ut=n(Ee),dt=u(Ee),Zt=Ee==="drawline",jt=Ee==="drawcircle",Tt=Zt||jt,kt=ge.gd,Qt=kt._fullLayout,wr=dt&&Qt.newselection.mode==="immediate"&&Te,xt=Qt._zoomlayer,At=ge.element.getBoundingClientRect(),Wt=ge.plotinfo,er=W(Wt),$t=De-At.left,ht=me-At.top;Qt._calcInverseTransform(kt);var at=y.apply3DTransform(Qt._invTransform)($t,ht);$t=at[0],ht=at[1];var bt=Qt._invScaleX,Ct=Qt._invScaleY,Dt=$t,It=ht,Vt="M"+$t+","+ht,Nt=ge.xaxes[0],Jt=ge.yaxes[0],fr=Nt._length,cr=Jt._length,dr=He.altKey&&!(n(Ee)&&et),Ge,Ve,Ot,Ft,Kt,rr,ur;X(He,kt,ge),ze&&(Ge=k([[$t,ht]],I.BENDPX));var ar=xt.selectAll("path.select-outline-"+Wt.id).data([1]),Bt=ut?Qt.newshape:Qt.newselection;ut&&(ge.hasText=Bt.label.text||Bt.label.texttemplate);var hr=ut&&!et?Bt.fillcolor:"rgba(0,0,0,0)",gr=Bt.line.color||(Te?A.contrast(kt._fullLayout.plot_bgcolor):"#7f7f7f");ar.enter().append("path").attr("class","select-outline select-outline-"+Wt.id).style({opacity:ut?Bt.opacity/2:1,"stroke-dasharray":C(Bt.line.dash,Bt.line.width),"stroke-width":Bt.line.width+"px","shape-rendering":"crispEdges"}).call(A.stroke,gr).call(A.fill,hr).attr("fill-rule","evenodd").classed("cursor-move",!!ut).attr("transform",er).attr("d",Vt+"Z");var mr=xt.append("path").attr("class","zoombox-corners").style({fill:A.background,stroke:A.defaultLine,"stroke-width":1}).attr("transform",er).attr("d","M0,0Z");if(ut&&ge.hasText){var vr=xt.select(".label-temp");vr.empty()&&(vr=xt.append("g").classed("label-temp",!0).classed("select-outline",!0).style({opacity:.8}))}var Gr=Qt._uid+I.SELECTID,Rr=[],Ir=se(kt,ge.xaxes,ge.yaxes,ge.subplot);wr&&!He.shiftKey&&(ge._clearSubplotSelections=function(){if(!!Te){var rn=Nt._id,Ln=Jt._id;lt(kt,rn,Ln,Ir);for(var En=(kt.layout||{}).selections||[],Tr=[],Lr=!1,Wr=0;Wr<En.length;Wr++){var Ur=Qt.selections[Wr];Ur.xref!==rn||Ur.yref!==Ln?Tr.push(En[Wr]):Lr=!0}Lr&&(kt._fullLayout._noEmitSelectedAtStart=!0,a.call("_guiRelayout",kt,{selections:Tr}))}});var cn=tt(ge);ge.moveFn=function(rn,Ln){ge._clearSubplotSelections&&(ge._clearSubplotSelections(),ge._clearSubplotSelections=void 0),Dt=Math.max(0,Math.min(fr,bt*rn+$t)),It=Math.max(0,Math.min(cr,Ct*Ln+ht));var En=Math.abs(Dt-$t),Tr=Math.abs(It-ht);if(Xe){var Lr,Wr,Ur;if(dt){var an=Qt.selectdirection;switch(an==="any"?Tr<Math.min(En*.6,N)?Lr="h":En<Math.min(Tr*.6,N)?Lr="v":Lr="d":Lr=an,Lr){case"h":Wr=jt?cr/2:0,Ur=cr;break;case"v":Wr=jt?fr/2:0,Ur=fr;break}}if(ut)switch(Qt.newshape.drawdirection){case"vertical":Lr="h",Wr=jt?cr/2:0,Ur=cr;break;case"horizontal":Lr="v",Wr=jt?fr/2:0,Ur=fr;break;case"ortho":En<Tr?(Lr="h",Wr=ht,Ur=It):(Lr="v",Wr=$t,Ur=Dt);break;default:Lr="d"}Lr==="h"?(Ft=Tt?i(jt,[Dt,Wr],[Dt,Ur]):[[$t,Wr],[$t,Ur],[Dt,Ur],[Dt,Wr]],Ft.xmin=Tt?Dt:Math.min($t,Dt),Ft.xmax=Tt?Dt:Math.max($t,Dt),Ft.ymin=Math.min(Wr,Ur),Ft.ymax=Math.max(Wr,Ur),mr.attr("d","M"+Ft.xmin+","+(ht-N)+"h-4v"+2*N+"h4ZM"+(Ft.xmax-1)+","+(ht-N)+"h4v"+2*N+"h-4Z")):Lr==="v"?(Ft=Tt?i(jt,[Wr,It],[Ur,It]):[[Wr,ht],[Wr,It],[Ur,It],[Ur,ht]],Ft.xmin=Math.min(Wr,Ur),Ft.xmax=Math.max(Wr,Ur),Ft.ymin=Tt?It:Math.min(ht,It),Ft.ymax=Tt?It:Math.max(ht,It),mr.attr("d","M"+($t-N)+","+Ft.ymin+"v-4h"+2*N+"v4ZM"+($t-N)+","+(Ft.ymax-1)+"v4h"+2*N+"v-4Z")):Lr==="d"&&(Ft=Tt?i(jt,[$t,ht],[Dt,It]):[[$t,ht],[$t,It],[Dt,It],[Dt,ht]],Ft.xmin=Math.min($t,Dt),Ft.xmax=Math.max($t,Dt),Ft.ymin=Math.min(ht,It),Ft.ymax=Math.max(ht,It),mr.attr("d","M0,0Z"))}else ze&&(Ge.addPt([Dt,It]),Ft=Ge.filtered);if(ge.selectionDefs&&ge.selectionDefs.length?(Ot=ye(ge.mergedPolygons,Ft,dr),Ft.subtract=dr,Ve=te(ge.selectionDefs.concat([Ft]))):(Ot=[Ft],Ve=F(Ft)),h(Fe(Ot,et),ar,ge),dt){var pn=_e(kt,!1),gn=pn.eventData?pn.eventData.points.slice():[];pn=_e(kt,!1,Ve,Ir,ge),Ve=pn.selectionTesters,ur=pn.eventData;var Cn;Ge?Cn=Ge.filtered:Cn=pt(Ot),o.throttle(Gr,I.SELECTDELAY,function(){Rr=Be(Ve,Ir);for(var zn=Rr.slice(),aa=0;aa<gn.length;aa++){for(var ha=gn[aa],pa=!1,ua=0;ua<zn.length;ua++)if(zn[ua].curveNumber===ha.curveNumber&&zn[ua].pointNumber===ha.pointNumber){pa=!0;break}pa||zn.push(ha)}zn.length&&(ur||(ur={}),ur.points=zn),cn(ur,Cn),Ie(kt,ur)})}},ge.clickFn=function(rn,Ln){if(mr.remove(),kt._fullLayout._activeShapeIndex>=0){kt._fullLayout._deactivateShape(kt);return}if(!ut){var En=Qt.clickmode;o.done(Gr).then(function(){if(o.clear(Gr),rn===2){for(ar.remove(),Kt=0;Kt<Ir.length;Kt++)rr=Ir[Kt],rr._module.selectPoints(rr,!1);if(xe(kt,Ir),J(ge),Ze(kt),Ir.length){var Tr=Ir[0].xaxis,Lr=Ir[0].yaxis;if(Tr&&Lr){for(var Wr=[],Ur=kt._fullLayout.selections,an=0;an<Ur.length;an++){var pn=Ur[an];!pn||(pn.xref!==Tr._id||pn.yref!==Lr._id)&&Wr.push(pn)}Wr.length<Ur.length&&(kt._fullLayout._noEmitSelectedAtStart=!0,a.call("_guiRelayout",kt,{selections:Wr}))}}}else En.indexOf("select")>-1&&Q(Ln,kt,ge.xaxes,ge.yaxes,ge.subplot,ge,ar),En==="event"&&We(kt,void 0);v.click(kt,Ln,Wt.id)}).catch(y.error)}},ge.doneFn=function(){mr.remove(),o.done(Gr).then(function(){o.clear(Gr),!wr&&Ft&&ge.selectionDefs&&(Ft.subtract=dr,ge.selectionDefs.push(Ft),ge.mergedPolygons.length=0,[].push.apply(ge.mergedPolygons,Ot)),(wr||ut)&&J(ge,wr),ge.doneFnCompleted&&ge.doneFnCompleted(Rr),dt&&We(kt,ur)}).catch(y.error)}}function Q(He,De,me,ge,Ee,Te,ze){var Xe=De._hoverdata,et=De._fullLayout,ut=et.clickmode,dt=ut.indexOf("event")>-1,Zt=[],jt,Tt,kt,Qt,wr,xt,At,Wt,er,$t;if(le(Xe)){X(He,De,Te),jt=se(De,me,ge,Ee);var ht=pe(Xe,jt),at=ht.pointNumbers.length>0;if(at?be(jt,ht):Re(jt)&&(At=Ae(ht))){for(ze&&ze.remove(),$t=0;$t<jt.length;$t++)Tt=jt[$t],Tt._module.selectPoints(Tt,!1);xe(De,jt),J(Te),dt&&Ze(De)}else{Wt=He.shiftKey&&(At!==void 0?At:Ae(ht)),kt=oe(ht.pointNumber,ht.searchInfo,Wt);var bt=Te.selectionDefs.concat([kt]);for(Qt=te(bt),$t=0;$t<jt.length;$t++)if(wr=jt[$t]._module.selectPoints(jt[$t],Qt),xt=Se(wr,jt[$t]),Zt.length)for(var Ct=0;Ct<xt.length;Ct++)Zt.push(xt[Ct]);else Zt=xt;if(er={points:Zt},xe(De,jt,er),kt&&Te&&Te.selectionDefs.push(kt),ze){var Dt=Te.mergedPolygons,It=f(Te.dragmode);h(Fe(Dt,It),ze,Te)}dt&&We(De,er)}}}function oe(He,De,me){return{pointNumber:He,searchInfo:De,subtract:!!me}}function Z(He){return"pointNumber"in He&&"searchInfo"in He}function Y(He){return{xmin:0,xmax:0,ymin:0,ymax:0,pts:[],contains:function(De,me,ge,Ee){var Te=He.searchInfo.cd[0].trace._expandedIndex,ze=Ee.cd[0].trace._expandedIndex;return ze===Te&&ge===He.pointNumber},isRect:!1,degenerate:!1,subtract:!!He.subtract}}function te(He){if(!He.length)return;for(var De=[],me=Z(He[0])?0:He[0][0][0],ge=me,Ee=Z(He[0])?0:He[0][0][1],Te=Ee,ze=0;ze<He.length;ze++)if(Z(He[ze]))De.push(Y(He[ze]));else{var Xe=F(He[ze]);Xe.subtract=!!He[ze].subtract,De.push(Xe),me=Math.min(me,Xe.xmin),ge=Math.max(ge,Xe.xmax),Ee=Math.min(Ee,Xe.ymin),Te=Math.max(Te,Xe.ymax)}function et(ut,dt,Zt,jt){for(var Tt=!1,kt=0;kt<De.length;kt++)De[kt].contains(ut,dt,Zt,jt)&&(Tt=!De[kt].subtract);return Tt}return{xmin:me,xmax:ge,ymin:Ee,ymax:Te,pts:[],contains:et,isRect:!1,degenerate:!1}}function X(He,De,me){var ge=De._fullLayout,Ee=me.plotinfo,Te=me.dragmode,ze=ge._lastSelectedSubplot&&ge._lastSelectedSubplot===Ee.id,Xe=(He.shiftKey||He.altKey)&&!(n(Te)&&f(Te));ze&&Xe&&Ee.selection&&Ee.selection.selectionDefs&&!me.selectionDefs?(me.selectionDefs=Ee.selection.selectionDefs,me.mergedPolygons=Ee.selection.mergedPolygons):(!Xe||!Ee.selection)&&J(me),ze||(M(De),ge._lastSelectedSubplot=Ee.id)}function $(He){return He._fullLayout._activeShapeIndex>=0}function ie(He){return He._fullLayout._activeSelectionIndex>=0}function J(He,De){var me=He.dragmode,ge=He.plotinfo,Ee=He.gd;$(Ee)&&Ee._fullLayout._deactivateShape(Ee),ie(Ee)&&Ee._fullLayout._deactivateSelection(Ee);var Te=Ee._fullLayout,ze=Te._zoomlayer,Xe=n(me),et=u(me);if(Xe||et){var ut=ze.selectAll(".select-outline-"+ge.id);if(ut&&Ee._fullLayout._outlining){var dt;Xe&&(dt=b(ut,He)),dt&&a.call("_guiRelayout",Ee,{shapes:dt});var Zt;et&&!q(He)&&(Zt=w(ut,He)),Zt&&(Ee._fullLayout._noEmitSelectedAtStart=!0,a.call("_guiRelayout",Ee,{selections:Zt}).then(function(){De&&E(Ee)})),Ee._fullLayout._outlining=!1}}ge.selection={},ge.selection.selectionDefs=He.selectionDefs=[],ge.selection.mergedPolygons=He.mergedPolygons=[]}function j(He){return He._id}function se(He,De,me,ge){if(!He.calcdata)return[];var Ee=[],Te=De.map(j),ze=me.map(j),Xe,et,ut;for(ut=0;ut<He.calcdata.length;ut++)if(Xe=He.calcdata[ut],et=Xe[0].trace,!(et.visible!==!0||!et._module||!et._module.selectPoints))if(q({subplot:ge})&&(et.subplot===ge||et.geo===ge))Ee.push(ne(et._module,Xe,De[0],me[0]));else if(et.type==="splom"){if(et._xaxes[Te[0]]&&et._yaxes[ze[0]]){var dt=ne(et._module,Xe,De[0],me[0]);dt.scene=He._fullLayout._splomScenes[et.uid],Ee.push(dt)}}else if(et.type==="sankey"){var Zt=ne(et._module,Xe,De[0],me[0]);Ee.push(Zt)}else{if(Te.indexOf(et.xaxis)===-1&&(!et._xA||!et._xA.overlaying)||ze.indexOf(et.yaxis)===-1&&(!et._yA||!et._yA.overlaying))continue;Ee.push(ne(et._module,Xe,P(He,et.xaxis),P(He,et.yaxis)))}return Ee}function ne(He,De,me,ge){return{_module:He,cd:De,xaxis:me,yaxis:ge}}function le(He){return He&&Array.isArray(He)&&He[0].hoverOnBox!==!0}function pe(He,De){var me=He[0],ge=-1,Ee=[],Te,ze;for(ze=0;ze<De.length;ze++)if(Te=De[ze],me.fullData._expandedIndex===Te.cd[0].trace._expandedIndex){if(me.hoverOnBox===!0)break;me.pointNumber!==void 0?ge=me.pointNumber:me.binNumber!==void 0&&(ge=me.binNumber,Ee=me.pointNumbers);break}return{pointNumber:ge,pointNumbers:Ee,searchInfo:Te}}function Ae(He){var De=He.searchInfo.cd[0].trace,me=He.pointNumber,ge=He.pointNumbers,Ee=ge.length>0,Te=Ee?ge[0]:me;return De.selectedpoints?De.selectedpoints.indexOf(Te)>-1:!1}function be(He,De){var me=[],ge,Ee,Te,ze;for(ze=0;ze<He.length;ze++)ge=He[ze],ge.cd[0].trace.selectedpoints&&ge.cd[0].trace.selectedpoints.length>0&&me.push(ge);if(me.length===1&&(Te=me[0]===De.searchInfo,Te&&(Ee=De.searchInfo.cd[0].trace,Ee.selectedpoints.length===De.pointNumbers.length))){for(ze=0;ze<De.pointNumbers.length;ze++)if(Ee.selectedpoints.indexOf(De.pointNumbers[ze])<0)return!1;return!0}return!1}function Re(He){var De=0,me,ge,Ee;for(Ee=0;Ee<He.length;Ee++)if(me=He[Ee],ge=me.cd[0].trace,ge.selectedpoints&&(ge.selectedpoints.length>1||(De+=ge.selectedpoints.length,De>1)))return!1;return De===1}function xe(He,De,me){var ge;for(ge=0;ge<De.length;ge++){var Ee=De[ge].cd[0].trace._fullInput,Te=He._fullLayout._tracePreGUI[Ee.uid]||{};Te.selectedpoints===void 0&&(Te.selectedpoints=Ee._input.selectedpoints||null)}var ze;if(me){var Xe=me.points||[];for(ge=0;ge<De.length;ge++)ze=De[ge].cd[0].trace,ze._input.selectedpoints=ze._fullInput.selectedpoints=[],ze._fullInput!==ze&&(ze.selectedpoints=[]);for(var et=0;et<Xe.length;et++){var ut=Xe[et],dt=ut.data,Zt=ut.fullData,jt=ut.pointIndex,Tt=ut.pointIndices;Tt?([].push.apply(dt.selectedpoints,Tt),ze._fullInput!==ze&&[].push.apply(Zt.selectedpoints,Tt)):(dt.selectedpoints.push(jt),ze._fullInput!==ze&&Zt.selectedpoints.push(jt))}}else for(ge=0;ge<De.length;ge++)ze=De[ge].cd[0].trace,delete ze.selectedpoints,delete ze._input.selectedpoints,ze._fullInput!==ze&&delete ze._fullInput.selectedpoints;Me(He,De)}function Me(He,De){for(var me=!1,ge=0;ge<De.length;ge++){var Ee=De[ge],Te=Ee.cd;a.traceIs(Te[0].trace,"regl")&&(me=!0);var ze=Ee._module,Xe=ze.styleOnSelect||ze.style;Xe&&(Xe(He,Te,Te[0].node3),Te[0].nodeRangePlot3&&Xe(He,Te,Te[0].nodeRangePlot3))}me&&(x(He),_(He))}function ye(He,De,me){for(var ge=me?g.difference:g.union,Ee=ge({regions:He},{regions:[De]}),Te=Ee.regions.reverse(),ze=0;ze<Te.length;ze++){var Xe=Te[ze];Xe.subtract=ft(Xe,Te.slice(0,ze))}return Te}function Se(He,De){if(Array.isArray(He))for(var me=De.cd,ge=De.cd[0].trace,Ee=0;Ee<He.length;Ee++)He[Ee]=p(He[Ee],ge,me);return He}function Fe(He,De){for(var me=[],ge=0;ge<He.length;ge++){me[ge]=[];for(var Ee=0;Ee<He[ge].length;Ee++){me[ge][Ee]=[],me[ge][Ee][0]=Ee?"L":"M";for(var Te=0;Te<He[ge][Ee].length;Te++)me[ge][Ee].push(He[ge][Ee][Te])}De||me[ge].push(["Z",me[ge][0][1],me[ge][0][2]])}return me}function Be(He,De){for(var me=[],ge,Ee,Te=0;Te<De.length;Te++){var ze=De[Te];Ee=ze._module.selectPoints(ze,He),ge=Se(Ee,ze),me=me.concat(ge)}return me}function _e(He,De,me,ge,Ee){var Te=!!ge,ze,Xe,et;Ee&&(ze=Ee.plotinfo,Xe=Ee.xaxes[0]._id,et=Ee.yaxes[0]._id);var ut=[],dt=[],Zt=qe(He),jt=He._fullLayout;if(ze){var Tt=jt._zoomlayer,kt=jt.dragmode,Qt=n(kt),wr=u(kt);if(Qt||wr){var xt=P(He,Xe,"x"),At=P(He,et,"y");if(xt&&At){var Wt=Tt.selectAll(".select-outline-"+ze.id);if(Wt&&He._fullLayout._outlining&&Wt.length){for(var er=Wt[0][0],$t=er.getAttribute("d"),ht=d($t,He,ze),at=[],bt=0;bt<ht.length;bt++){for(var Ct=ht[bt],Dt=[],It=0;It<Ct.length;It++)Dt.push([ct(xt,Ct[It][1]),ct(At,Ct[It][2])]);Dt.xref=Xe,Dt.yref=et,Dt.subtract=ft(Dt,at),at.push(Dt)}Zt=Zt.concat(at)}}}}var Vt=Xe&&et?[Xe+et]:jt._subplots.cartesian;Ue(He);for(var Nt={},Jt=0;Jt<Vt.length;Jt++){var fr=Vt[Jt],cr=fr.indexOf("y"),dr=fr.slice(0,cr),Ge=fr.slice(cr),Ve=Xe&&et?me:void 0;if(Ve=$e(Zt,dr,Ge,Ve),Ve){var Ot=ge;if(!Te){var Ft=P(He,dr,"x"),Kt=P(He,Ge,"y");Ot=se(He,[Ft],[Kt],fr);for(var rr=0;rr<Ot.length;rr++){var ur=Ot[rr],ar=ur.cd[0],Bt=ar.trace;if(ur._module.name==="scattergl"&&!ar.t.xpx){var hr=Bt.x,gr=Bt.y,mr=Bt._length;ar.t.xpx=[],ar.t.ypx=[];for(var vr=0;vr<mr;vr++)ar.t.xpx[vr]=Ft.c2p(hr[vr]),ar.t.ypx[vr]=Kt.c2p(gr[vr])}ur._module.name==="splom"&&(Nt[Bt.uid]||(Nt[Bt.uid]=!0))}}var Gr=Be(Ve,Ot);ut=ut.concat(Gr),dt=dt.concat(Ot)}}var Rr={points:ut};xe(He,dt,Rr);var Ir=jt.clickmode,cn=Ir.indexOf("event")>-1&&De;if(!ze&&De){var rn=qe(He,!0);if(rn.length){var Ln=rn[0].xref,En=rn[0].yref;if(Ln&&En){var Tr=pt(rn),Lr=Et([P(He,Ln,"x"),P(He,En,"y")]);Lr(Rr,Tr)}}He._fullLayout._noEmitSelectedAtStart?He._fullLayout._noEmitSelectedAtStart=!1:cn&&We(He,Rr),jt._reselect=!1}if(!ze&&jt._deselect){var Wr=jt._deselect;Xe=Wr.xref,et=Wr.yref,it(Xe,et,dt)||lt(He,Xe,et,ge),cn&&(Rr.points.length?We(He,Rr):Ze(He)),jt._deselect=!1}return{eventData:Rr,selectionTesters:me}}function Ue(He){var De=He.calcdata;if(!!De)for(var me=0;me<De.length;me++){var ge=De[me][0],Ee=ge.trace,Te=He._fullLayout._splomScenes;if(Te){var ze=Te[Ee.uid];ze&&(ze.selectBatch=[])}}}function it(He,De,me){for(var ge=0;ge<me.length;ge++){var Ee=me[ge];if(Ee.xaxis&&Ee.xaxis._id===He&&Ee.yaxis&&Ee.yaxis._id===De)return!0}return!1}function lt(He,De,me,ge){ge=se(He,[P(He,De,"x")],[P(He,me,"y")],De+me);for(var Ee=0;Ee<ge.length;Ee++){var Te=ge[Ee];Te._module.selectPoints(Te,!1)}xe(He,ge)}function $e(He,De,me,ge){for(var Ee,Te=0;Te<He.length;Te++){var ze=He[Te];if(!(De!==ze.xref||me!==ze.yref))if(Ee){var Xe=!!ze.subtract;Ee=ye(Ee,ze,Xe),ge=te(Ee)}else Ee=[ze],ge=F(ze)}return ge}function qe(He,De){for(var me=[],ge=He._fullLayout,Ee=ge.selections,Te=Ee.length,ze=0;ze<Te;ze++)if(!(De&&ze!==ge._activeSelectionIndex)){var Xe=Ee[ze];if(!!Xe){var et=Xe.xref,ut=Xe.yref,dt=P(He,et,"x"),Zt=P(He,ut,"y"),jt,Tt,kt,Qt,wr;if(Xe.type==="rect"){wr=[];var xt=ct(dt,Xe.x0),At=ct(dt,Xe.x1),Wt=ct(Zt,Xe.y0),er=ct(Zt,Xe.y1);wr=[[xt,Wt],[xt,er],[At,er],[At,Wt]],jt=Math.min(xt,At),Tt=Math.max(xt,At),kt=Math.min(Wt,er),Qt=Math.max(Wt,er),wr.xmin=jt,wr.xmax=Tt,wr.ymin=kt,wr.ymax=Qt,wr.xref=et,wr.yref=ut,wr.subtract=!1,wr.isRect=!0,me.push(wr)}else if(Xe.type==="path")for(var $t=Xe.path.split("Z"),ht=[],at=0;at<$t.length;at++){var bt=$t[at];if(!!bt){bt+="Z";var Ct=l.extractPathCoords(bt,m.paramIsX,"raw"),Dt=l.extractPathCoords(bt,m.paramIsY,"raw");jt=1/0,Tt=-1/0,kt=1/0,Qt=-1/0,wr=[];for(var It=0;It<Ct.length;It++){var Vt=ct(dt,Ct[It]),Nt=ct(Zt,Dt[It]);wr.push([Vt,Nt]),jt=Math.min(Vt,jt),Tt=Math.max(Vt,Tt),kt=Math.min(Nt,kt),Qt=Math.max(Nt,Qt)}wr.xmin=jt,wr.xmax=Tt,wr.ymin=kt,wr.ymax=Qt,wr.xref=et,wr.yref=ut,wr.subtract=ft(wr,ht),ht.push(wr),me.push(wr)}}}}return me}function ft(He,De){for(var me=!1,ge=0;ge<De.length;ge++)for(var Ee=De[ge],Te=0;Te<He.length;Te++)if(L(He[Te],Ee)){me=!me;break}return me}function ct(He,De){return He.type==="date"&&(De=De.replace("_"," ")),He.type==="log"?He.c2p(De):He.r2p(De,null,He.calendar)}function pt(He){for(var De=He.length,me=[],ge=0;ge<De;ge++){var Ee=He[ge];me=me.concat(Ee),me=me.concat([Ee[0]])}return yt(me)}function yt(He){return He.isRect=He.length===5&&He[0][0]===He[4][0]&&He[0][1]===He[4][1]&&He[0][0]===He[1][0]&&He[2][0]===He[3][0]&&He[0][1]===He[3][1]&&He[1][1]===He[2][1]||He[0][1]===He[1][1]&&He[2][1]===He[3][1]&&He[0][0]===He[3][0]&&He[1][0]===He[2][0],He.isRect&&(He.xmin=Math.min(He[0][0],He[2][0]),He.xmax=Math.max(He[0][0],He[2][0]),He.ymin=Math.min(He[0][1],He[2][1]),He.ymax=Math.max(He[0][1],He[2][1])),He}function Et(He){return function(De,me){for(var ge,Ee,Te=0;Te<He.length;Te++){var ze=He[Te],Xe=ze._id,et=Xe.charAt(0);if(me.isRect){ge||(ge={});var ut=me[et+"min"],dt=me[et+"max"];ut!==void 0&&dt!==void 0&&(ge[Xe]=[z(ze,ut),z(ze,dt)].sort(S))}else Ee||(Ee={}),Ee[Xe]=me.map(B(ze))}ge&&(De.range=ge),Ee&&(De.lassoPoints=Ee)}}function tt(He){var De=He.plotinfo;return De.fillRangeItems||Et(He.xaxes.concat(He.yaxes))}function Ie(He,De){He.emit("plotly_selecting",De)}function We(He,De){De&&(De.selections=(He.layout||{}).selections||[]),He.emit("plotly_selected",De)}function Ze(He){He.emit("plotly_deselect",null)}G.exports={reselect:_e,prepSelect:ee,clearOutline:M,clearSelectionsCache:J,selectOnClick:Q}},46056:function(G,U,e){var g=e(13916),L=e(25376),a=e(52904).line,C=e(98192).u,A=e(92880).extendFlat,v=e(31780).templatedArray;e(36208);var p=e(45464),r=e(21776).ye,t=e(97728);G.exports=v("shape",{visible:A({},p.visible,{editType:"calc+arraydraw"}),showlegend:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},legend:A({},p.legend,{editType:"calc+arraydraw"}),legendgroup:A({},p.legendgroup,{editType:"calc+arraydraw"}),legendgrouptitle:{text:A({},p.legendgrouptitle.text,{editType:"calc+arraydraw"}),font:L({editType:"calc+arraydraw"}),editType:"calc+arraydraw"},legendrank:A({},p.legendrank,{editType:"calc+arraydraw"}),legendwidth:A({},p.legendwidth,{editType:"calc+arraydraw"}),type:{valType:"enumerated",values:["circle","rect","path","line"],editType:"calc+arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},xref:A({},g.xref,{}),xsizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},xanchor:{valType:"any",editType:"calc+arraydraw"},x0:{valType:"any",editType:"calc+arraydraw"},x1:{valType:"any",editType:"calc+arraydraw"},yref:A({},g.yref,{}),ysizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},yanchor:{valType:"any",editType:"calc+arraydraw"},y0:{valType:"any",editType:"calc+arraydraw"},y1:{valType:"any",editType:"calc+arraydraw"},path:{valType:"string",editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},line:{color:A({},a.color,{editType:"arraydraw"}),width:A({},a.width,{editType:"calc+arraydraw"}),dash:A({},C,{editType:"arraydraw"}),editType:"calc+arraydraw"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",editType:"arraydraw"},editable:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},label:{text:{valType:"string",dflt:"",editType:"arraydraw"},texttemplate:r({},{keys:Object.keys(t)}),font:L({editType:"calc+arraydraw",colorEditType:"arraydraw"}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"],editType:"arraydraw"},textangle:{valType:"angle",dflt:"auto",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],editType:"calc+arraydraw"},padding:{valType:"number",dflt:3,min:0,editType:"arraydraw"},editType:"arraydraw"},editType:"arraydraw"})},96084:function(G,U,e){var g=e(3400),L=e(54460),a=e(85448),C=e(65152);G.exports=function(s){var n=s._fullLayout,f=g.filterVisible(n.shapes);if(!(!f.length||!s._fullData.length))for(var u=0;u<f.length;u++){var l=f[u];l._extremes={};var m,h,M=L.getRefType(l.xref),c=L.getRefType(l.yref);if(l.xref!=="paper"&&M!=="domain"){var i=l.xsizemode==="pixel"?l.xanchor:l.x0,d=l.xsizemode==="pixel"?l.xanchor:l.x1;m=L.getFromId(s,l.xref),h=r(m,i,d,l.path,a.paramIsX),h&&(l._extremes[m._id]=L.findExtremes(m,h,A(l)))}if(l.yref!=="paper"&&c!=="domain"){var b=l.ysizemode==="pixel"?l.yanchor:l.y0,w=l.ysizemode==="pixel"?l.yanchor:l.y1;m=L.getFromId(s,l.yref),h=r(m,b,w,l.path,a.paramIsY),h&&(l._extremes[m._id]=L.findExtremes(m,h,v(l)))}}};function A(t){return p(t.line.width,t.xsizemode,t.x0,t.x1,t.path,!1)}function v(t){return p(t.line.width,t.ysizemode,t.y0,t.y1,t.path,!0)}function p(t,s,n,f,u,l){var m=t/2,h=l;if(s==="pixel"){var M=u?C.extractPathCoords(u,l?a.paramIsY:a.paramIsX):[n,f],c=g.aggNums(Math.max,null,M),i=g.aggNums(Math.min,null,M),d=i<0?Math.abs(i)+m:m,b=c>0?c+m:m;return{ppad:m,ppadplus:h?d:b,ppadminus:h?b:d}}else return{ppad:m}}function r(t,s,n,f,u){var l=t.type==="category"||t.type==="multicategory"?t.r2c:t.d2c;if(s!==void 0)return[l(s),l(n)];if(!!f){var m=1/0,h=-1/0,M=f.match(a.segmentRE),c,i,d,b,w;for(t.type==="date"&&(l=C.decodeDate(l)),c=0;c<M.length;c++)i=M[c],d=u[i.charAt(0)].drawn,d!==void 0&&(b=M[c].substr(1).match(a.paramRE),!(!b||b.length<d)&&(w=l(b[d]),w<m&&(m=w),w>h&&(h=w)));if(h>=m)return[m,h]}}},85448:function(G){G.exports={segmentRE:/[MLHVQCTSZ][^MLHVQCTSZ]*/g,paramRE:/[^\s,]+/g,paramIsX:{M:{0:!0,drawn:0},L:{0:!0,drawn:0},H:{0:!0,drawn:0},V:{},Q:{0:!0,2:!0,drawn:2},C:{0:!0,2:!0,4:!0,drawn:4},T:{0:!0,drawn:0},S:{0:!0,2:!0,drawn:2},Z:{}},paramIsY:{M:{1:!0,drawn:1},L:{1:!0,drawn:1},H:{},V:{0:!0,drawn:0},Q:{1:!0,3:!0,drawn:3},C:{1:!0,3:!0,5:!0,drawn:5},T:{1:!0,drawn:1},S:{1:!0,3:!0,drawn:5},Z:{}},numParams:{M:2,L:2,H:1,V:1,Q:4,C:6,T:2,S:4,Z:0}}},43712:function(G,U,e){var g=e(3400),L=e(54460),a=e(51272),C=e(46056),A=e(65152);G.exports=function(t,s){a(t,s,{name:"shapes",handleItemDefaults:p})};function v(r,t){return r?"bottom":t.indexOf("top")!==-1?"top":t.indexOf("bottom")!==-1?"bottom":"middle"}function p(r,t,s){function n(Z,Y){return g.coerce(r,t,C,Z,Y)}t._isShape=!0;var f=n("visible");if(!!f){var u=n("showlegend");u&&(n("legend"),n("legendwidth"),n("legendgroup"),n("legendgrouptitle.text"),g.coerceFont(n,"legendgrouptitle.font"),n("legendrank"));var l=n("path"),m=l?"path":"rect",h=n("type",m),M=h!=="path";M&&delete t.path,n("editable"),n("layer"),n("opacity"),n("fillcolor"),n("fillrule");var c=n("line.width");c&&(n("line.color"),n("line.dash"));for(var i=n("xsizemode"),d=n("ysizemode"),b=["x","y"],w=0;w<2;w++){var E=b[w],y=E+"anchor",S=E==="x"?i:d,T={_fullLayout:s},o,P,x,_=L.coerceRef(r,t,T,E,void 0,"paper"),I=L.getRefType(_);if(I==="range"?(o=L.getFromId(T,_),o._shapeIndices.push(t._index),x=A.rangeToShapePosition(o),P=A.shapePositionToRange(o)):P=x=g.identity,M){var N=.25,k=.75,F=E+"0",O=E+"1",z=r[F],B=r[O];r[F]=P(r[F],!0),r[O]=P(r[O],!0),S==="pixel"?(n(F,0),n(O,10)):(L.coercePosition(t,T,n,_,F,N),L.coercePosition(t,T,n,_,O,k)),t[F]=x(t[F]),t[O]=x(t[O]),r[F]=z,r[O]=B}if(S==="pixel"){var W=r[y];r[y]=P(r[y],!0),L.coercePosition(t,T,n,_,y,.25),t[y]=x(t[y]),r[y]=W}}M&&g.noneOrAll(r,t,["x0","x1","y0","y1"]);var q=h==="line",ee,Q;if(M&&(ee=n("label.texttemplate")),ee||(Q=n("label.text")),Q||ee){n("label.textangle");var oe=n("label.textposition",q?"middle":"middle center");n("label.xanchor"),n("label.yanchor",v(q,oe)),n("label.padding"),g.coerceFont(n,"label.font",s.font)}}}},60728:function(G,U,e){var g=e(3400),L=e(54460),a=e(72736),C=e(43616),A=e(9856).readPaths,v=e(65152),p=v.getPathString,r=e(97728),t=e(84284).FROM_TL;G.exports=function(u,l,m,h){if(h.selectAll(".shape-label").remove(),!!(m.label.text||m.label.texttemplate)){var M;if(m.label.texttemplate){var c={};if(m.type!=="path"){var i=L.getFromId(u,m.xref),d=L.getFromId(u,m.yref);for(var b in r){var w=r[b](m,i,d);w!==void 0&&(c[b]=w)}}M=g.texttemplateStringForShapes(m.label.texttemplate,{},u._fullLayout._d3locale,c)}else M=m.label.text;var E={"data-index":l},y=m.label.font,S={"data-notex":1},T=h.append("g").attr(E).classed("shape-label",!0),o=T.append("text").attr(S).classed("shape-label-text",!0).text(M),P,x,_,I;if(m.path){var N=p(u,m),k=A(N,u);P=1/0,_=1/0,x=-1/0,I=-1/0;for(var F=0;F<k.length;F++)for(var O=0;O<k[F].length;O++)for(var z=k[F][O],B=1;B<z.length;B+=2){var W=z[B],q=z[B+1];P=Math.min(P,W),x=Math.max(x,W),_=Math.min(_,q),I=Math.max(I,q)}}else{var ee=L.getFromId(u,m.xref),Q=L.getRefType(m.xref),oe=L.getFromId(u,m.yref),Z=L.getRefType(m.yref),Y=v.getDataToPixel(u,ee,!1,Q),te=v.getDataToPixel(u,oe,!0,Z);P=Y(m.x0),x=Y(m.x1),_=te(m.y0),I=te(m.y1)}var X=m.label.textangle;X==="auto"&&(m.type==="line"?X=s(P,_,x,I):X=0),o.call(function(ne){return ne.call(C.font,y).attr({}),a.convertToTspans(ne,u),ne});var $=C.bBox(o.node()),ie=n(P,_,x,I,m,X,$),J=ie.textx,j=ie.texty,se=ie.xanchor;o.attr({"text-anchor":{left:"start",center:"middle",right:"end"}[se],y:j,x:J,transform:"rotate("+X+","+J+","+j+")"}).call(a.positionText,J,j)}};function s(f,u,l,m){var h,M;return M=Math.abs(l-f),l>=f?h=u-m:h=m-u,-180/Math.PI*Math.atan2(h,M)}function n(f,u,l,m,h,M,c){var i=h.label.textposition,d=h.label.textangle,b=h.label.padding,w=h.type,E=Math.PI/180*M,y=Math.sin(E),S=Math.cos(E),T=h.label.xanchor,o=h.label.yanchor,P,x,_,I;if(w==="line"){i==="start"?(P=f,x=u):i==="end"?(P=l,x=m):(P=(f+l)/2,x=(u+m)/2),T==="auto"&&(i==="start"?d==="auto"?l>f?T="left":l<f?T="right":T="center":l>f?T="right":l<f?T="left":T="center":i==="end"?d==="auto"?l>f?T="right":l<f?T="left":T="center":l>f?T="left":l<f?T="right":T="center":T="center");var N={left:1,center:0,right:-1},k={bottom:-1,middle:0,top:1};if(d==="auto"){var F=k[o];_=-b*y*F,I=b*S*F}else{var O=N[T],z=k[o];_=b*O,I=b*z}P=P+_,x=x+I}else _=b+3,i.indexOf("right")!==-1?(P=Math.max(f,l)-_,T==="auto"&&(T="right")):i.indexOf("left")!==-1?(P=Math.min(f,l)+_,T==="auto"&&(T="left")):(P=(f+l)/2,T==="auto"&&(T="center")),i.indexOf("top")!==-1?x=Math.min(u,m):i.indexOf("bottom")!==-1?x=Math.max(u,m):x=(u+m)/2,I=b,o==="bottom"?x=x-I:o==="top"&&(x=x+I);var B=t[o],W=h.label.font.size,q=c.height,ee=(q*B-W)*y,Q=-(q*B-W)*S;return{textx:P+ee,texty:x+Q,xanchor:T}}},55496:function(G,U,e){var g=e(3400),L=g.strTranslate,a=e(86476),C=e(72760),A=C.drawMode,v=C.selectMode,p=e(24040),r=e(76308),t=e(7e3),s=t.i000,n=t.i090,f=t.i180,u=t.i270,l=e(1936),m=l.clearOutlineControllers,h=e(9856),M=h.pointsOnRectangle,c=h.pointsOnEllipse,i=h.writePaths,d=e(93940).newShapes,b=e(93940).createShapeObj,w=e(5968),E=e(60728);G.exports=function o(P,x,_,I){I||(I=0);var N=_.gd;function k(){o(P,x,_,I++),(c(P[0])||_.hasText)&&F({redrawing:!0})}function F(ye){var Se={};_.isActiveShape!==void 0&&(_.isActiveShape=!1,Se=d(x,_)),_.isActiveSelection!==void 0&&(_.isActiveSelection=!1,Se=w(x,_),N._fullLayout._reselect=!0),Object.keys(Se).length&&p.call((ye||{}).redrawing?"relayout":"_guiRelayout",N,Se)}var O=N._fullLayout,z=O._zoomlayer,B=_.dragmode,W=A(B),q=v(B);(W||q)&&(N._fullLayout._outlining=!0),m(N),x.attr("d",i(P));var ee,Q,oe,Z,Y;if(!I&&(_.isActiveShape||_.isActiveSelection)){Y=y([],P);var te=z.append("g").attr("class","outline-controllers");le(te),Me()}if(W&&_.hasText){var X=z.select(".label-temp"),$=b(x,_,_.dragmode);E(N,"label-temp",$,X)}function ie(ye){oe=+ye.srcElement.getAttribute("data-i"),Z=+ye.srcElement.getAttribute("data-j"),ee[oe][Z].moveFn=J}function J(ye,Se){if(!!P.length){var Fe=Y[oe][Z][1],Be=Y[oe][Z][2],_e=P[oe],Ue=_e.length;if(M(_e)){var it=ye,lt=Se;if(_.isActiveSelection){var $e=S(_e,Z);$e[1]===_e[Z][1]?lt=0:it=0}for(var qe=0;qe<Ue;qe++)if(qe!==Z){var ft=_e[qe];ft[1]===_e[Z][1]&&(ft[1]=Fe+it),ft[2]===_e[Z][2]&&(ft[2]=Be+lt)}if(_e[Z][1]=Fe+it,_e[Z][2]=Be+lt,!M(_e))for(var ct=0;ct<Ue;ct++)for(var pt=0;pt<_e[ct].length;pt++)_e[ct][pt]=Y[oe][ct][pt]}else _e[Z][1]=Fe+ye,_e[Z][2]=Be+Se;k()}}function j(){F()}function se(){if(!!P.length&&!!P[oe]&&!!P[oe].length){for(var ye=[],Se=0;Se<P[oe].length;Se++)Se!==Z&&ye.push(P[oe][Se]);ye.length>1&&!(ye.length===2&&ye[1][0]==="Z")&&(Z===0&&(ye[0][0]="M"),P[oe]=ye,k(),F())}}function ne(ye,Se){if(ye===2){oe=+Se.srcElement.getAttribute("data-i"),Z=+Se.srcElement.getAttribute("data-j");var Fe=P[oe];!M(Fe)&&!c(Fe)&&se()}}function le(ye){ee=[];for(var Se=0;Se<P.length;Se++){var Fe=P[Se],Be=M(Fe),_e=!Be&&c(Fe);ee[Se]=[];for(var Ue=Fe.length,it=0;it<Ue;it++)if(Fe[it][0]!=="Z"&&!(_e&&it!==s&&it!==n&&it!==f&&it!==u)){var lt=Be&&_.isActiveSelection,$e;lt&&($e=S(Fe,it));var qe=Fe[it][1],ft=Fe[it][2],ct=ye.append(lt?"rect":"circle").attr("data-i",Se).attr("data-j",it).style({fill:r.background,stroke:r.defaultLine,"stroke-width":1,"shape-rendering":"crispEdges"});if(lt){var pt=$e[1]-qe,yt=$e[2]-ft,Et=yt?5:Math.max(Math.min(25,Math.abs(pt)-5),5),tt=pt?5:Math.max(Math.min(25,Math.abs(yt)-5),5);ct.classed(yt?"cursor-ew-resize":"cursor-ns-resize",!0).attr("width",Et).attr("height",tt).attr("x",qe-Et/2).attr("y",ft-tt/2).attr("transform",L(pt/2,yt/2))}else ct.classed("cursor-grab",!0).attr("r",5).attr("cx",qe).attr("cy",ft);ee[Se][it]={element:ct.node(),gd:N,prepFn:ie,doneFn:j,clickFn:ne},a.init(ee[Se][it])}}}function pe(ye,Se){if(!!P.length)for(var Fe=0;Fe<P.length;Fe++)for(var Be=0;Be<P[Fe].length;Be++)for(var _e=0;_e+2<P[Fe][Be].length;_e+=2)P[Fe][Be][_e+1]=Y[Fe][Be][_e+1]+ye,P[Fe][Be][_e+2]=Y[Fe][Be][_e+2]+Se}function Ae(ye,Se){pe(ye,Se),k()}function be(ye){oe=+ye.srcElement.getAttribute("data-i"),oe||(oe=0),Q[oe].moveFn=Ae}function Re(){F()}function xe(ye){ye===2&&T(N)}function Me(){if(Q=[],!!P.length){var ye=0;Q[ye]={element:x[0][0],gd:N,prepFn:be,doneFn:Re,clickFn:xe},a.init(Q[ye])}}};function y(o,P){for(var x=0;x<P.length;x++){var _=P[x];o[x]=[];for(var I=0;I<_.length;I++){o[x][I]=[];for(var N=0;N<_[I].length;N++)o[x][I][N]=_[I][N]}}return o}function S(o,P){var x=o[P][1],_=o[P][2],I=o.length,N,k,F;return N=(P+1)%I,k=o[N][1],F=o[N][2],k===x&&F===_&&(N=(P+2)%I,k=o[N][1],F=o[N][2]),[N,k,F]}function T(o){if(!!v(o._fullLayout.dragmode)){m(o);var P=o._fullLayout._activeSelectionIndex,x=(o.layout||{}).selections||[];if(P<x.length){for(var _=[],I=0;I<x.length;I++)I!==P&&_.push(x[I]);delete o._fullLayout._activeSelectionIndex;var N=o._fullLayout.selections[P];o._fullLayout._deselect={xref:N.xref,yref:N.yref},p.call("_guiRelayout",o,{selections:_})}}}},4016:function(G,U,e){var g=e(33428),L=e(24040),a=e(3400),C=e(54460),A=e(9856).readPaths,v=e(55496),p=e(60728),r=e(1936).clearOutlineControllers,t=e(76308),s=e(43616),n=e(31780).arrayEditor,f=e(86476),u=e(93972),l=e(85448),m=e(65152),h=m.getPathString;G.exports={draw:M,drawOne:d,eraseActiveShape:T,drawLabel:p};function M(o){var P=o._fullLayout;P._shapeUpperLayer.selectAll("path").remove(),P._shapeLowerLayer.selectAll("path").remove(),P._shapeUpperLayer.selectAll("text").remove(),P._shapeLowerLayer.selectAll("text").remove();for(var x in P._plots){var _=P._plots[x].shapelayer;_&&(_.selectAll("path").remove(),_.selectAll("text").remove())}for(var I=0;I<P.shapes.length;I++)P.shapes[I].visible===!0&&d(o,I)}function c(o){return!!o._fullLayout._outlining}function i(o){return!o._context.edits.shapePosition}function d(o,P){o._fullLayout._paperdiv.selectAll('.shapelayer [data-index="'+P+'"]').remove();var x=m.makeShapesOptionsAndPlotinfo(o,P),_=x.options,I=x.plotinfo;if(!_._input||_.visible!==!0)return;if(_.layer!=="below")k(o._fullLayout._shapeUpperLayer);else if(_.xref==="paper"||_.yref==="paper")k(o._fullLayout._shapeLowerLayer);else if(I._hadPlotinfo){var N=I.mainplotinfo||I;k(N.shapelayer)}else k(o._fullLayout._shapeLowerLayer);function k(F){var O=h(o,_),z={"data-index":P,"fill-rule":_.fillrule,d:O},B=_.opacity,W=_.fillcolor,q=_.line.width?_.line.color:"rgba(0,0,0,0)",ee=_.line.width,Q=_.line.dash;!ee&&_.editable===!0&&(ee=5,Q="solid");var oe=O[O.length-1]!=="Z",Z=i(o)&&_.editable&&o._fullLayout._activeShapeIndex===P;Z&&(W=oe?"rgba(0,0,0,0)":o._fullLayout.activeshape.fillcolor,B=o._fullLayout.activeshape.opacity);var Y=F.append("g").classed("shape-group",!0).attr({"data-index":P}),te=Y.append("path").attr(z).style("opacity",B).call(t.stroke,q).call(t.fill,W).call(s.dashLine,Q,ee);b(Y,o,_),p(o,P,_,Y);var X;if((Z||o._context.edits.shapePosition)&&(X=n(o.layout,"shapes",_)),Z){te.style({cursor:"move"});var $={element:te.node(),plotinfo:I,gd:o,editHelpers:X,hasText:_.label.text||_.label.texttemplate,isActiveShape:!0},ie=A(O,o);v(ie,te,$)}else o._context.edits.shapePosition?w(o,te,_,P,F,X):_.editable===!0&&te.style("pointer-events",oe||t.opacity(W)*B<=.5?"stroke":"all");te.node().addEventListener("click",function(){return y(o,te)})}}function b(o,P,x){var _=(x.xref+x.yref).replace(/paper/g,"").replace(/[xyz][1-9]* *domain/g,"");s.setClipUrl(o,_?"clip"+P._fullLayout._uid+_:null,P)}function w(o,P,x,_,I,N){var k=10,F=10,O=x.xsizemode==="pixel",z=x.ysizemode==="pixel",B=x.type==="line",W=x.type==="path",q=N.modifyItem,ee,Q,oe,Z,Y,te,X,$,ie,J,j,se,ne,le,pe,Ae=g.select(P.node().parentNode),be=C.getFromId(o,x.xref),Re=C.getRefType(x.xref),xe=C.getFromId(o,x.yref),Me=C.getRefType(x.yref),ye=m.getDataToPixel(o,be,!1,Re),Se=m.getDataToPixel(o,xe,!0,Me),Fe=m.getPixelToData(o,be,!1,Re),Be=m.getPixelToData(o,xe,!0,Me),_e=lt(),Ue={element:_e.node(),gd:o,prepFn:ft,doneFn:ct,clickFn:pt},it;f.init(Ue),_e.node().onmousemove=qe;function lt(){return B?$e():P}function $e(){var Ze=10,He=Math.max(x.line.width,Ze),De=I.append("g").attr("data-index",_).attr("drag-helper",!0);De.append("path").attr("d",P.attr("d")).style({cursor:"move","stroke-width":He,"stroke-opacity":"0"});var me={"fill-opacity":"0"},ge=Math.max(He/2,Ze);return De.append("circle").attr({"data-line-point":"start-point",cx:O?ye(x.xanchor)+x.x0:ye(x.x0),cy:z?Se(x.yanchor)-x.y0:Se(x.y0),r:ge}).style(me).classed("cursor-grab",!0),De.append("circle").attr({"data-line-point":"end-point",cx:O?ye(x.xanchor)+x.x1:ye(x.x1),cy:z?Se(x.yanchor)-x.y1:Se(x.y1),r:ge}).style(me).classed("cursor-grab",!0),De}function qe(Ze){if(c(o)){it=null;return}if(B)Ze.target.tagName==="path"?it="move":it=Ze.target.attributes["data-line-point"].value==="start-point"?"resize-over-start-point":"resize-over-end-point";else{var He=Ue.element.getBoundingClientRect(),De=He.right-He.left,me=He.bottom-He.top,ge=Ze.clientX-He.left,Ee=Ze.clientY-He.top,Te=!W&&De>k&&me>F&&!Ze.shiftKey?f.getCursor(ge/De,1-Ee/me):"move";u(P,Te),it=Te.split("-")[0]}}function ft(Ze){c(o)||(O&&(Y=ye(x.xanchor)),z&&(te=Se(x.yanchor)),x.type==="path"?pe=x.path:(ee=O?x.x0:ye(x.x0),Q=z?x.y0:Se(x.y0),oe=O?x.x1:ye(x.x1),Z=z?x.y1:Se(x.y1)),ee<oe?(ie=ee,ne="x0",J=oe,le="x1"):(ie=oe,ne="x1",J=ee,le="x0"),!z&&Q<Z||z&&Q>Z?(X=Q,j="y0",$=Z,se="y1"):(X=Z,j="y1",$=Q,se="y0"),qe(Ze),tt(I,x),We(P,x,o),Ue.moveFn=it==="move"?yt:Et,Ue.altKey=Ze.altKey)}function ct(){c(o)||(u(P),Ie(I),b(P,o,x),L.call("_guiRelayout",o,N.getUpdateObj()))}function pt(){c(o)||Ie(I)}function yt(Ze,He){if(x.type==="path"){var De=function(Ee){return Ee},me=De,ge=De;O?q("xanchor",x.xanchor=Fe(Y+Ze)):(me=function(Te){return Fe(ye(Te)+Ze)},be&&be.type==="date"&&(me=m.encodeDate(me))),z?q("yanchor",x.yanchor=Be(te+He)):(ge=function(Te){return Be(Se(Te)+He)},xe&&xe.type==="date"&&(ge=m.encodeDate(ge))),q("path",x.path=E(pe,me,ge))}else O?q("xanchor",x.xanchor=Fe(Y+Ze)):(q("x0",x.x0=Fe(ee+Ze)),q("x1",x.x1=Fe(oe+Ze))),z?q("yanchor",x.yanchor=Be(te+He)):(q("y0",x.y0=Be(Q+He)),q("y1",x.y1=Be(Z+He)));P.attr("d",h(o,x)),tt(I,x),p(o,_,x,Ae)}function Et(Ze,He){if(W){var De=function(xt){return xt},me=De,ge=De;O?q("xanchor",x.xanchor=Fe(Y+Ze)):(me=function(At){return Fe(ye(At)+Ze)},be&&be.type==="date"&&(me=m.encodeDate(me))),z?q("yanchor",x.yanchor=Be(te+He)):(ge=function(At){return Be(Se(At)+He)},xe&&xe.type==="date"&&(ge=m.encodeDate(ge))),q("path",x.path=E(pe,me,ge))}else if(B){if(it==="resize-over-start-point"){var Ee=ee+Ze,Te=z?Q-He:Q+He;q("x0",x.x0=O?Ee:Fe(Ee)),q("y0",x.y0=z?Te:Be(Te))}else if(it==="resize-over-end-point"){var ze=oe+Ze,Xe=z?Z-He:Z+He;q("x1",x.x1=O?ze:Fe(ze)),q("y1",x.y1=z?Xe:Be(Xe))}}else{var et=function(xt){return it.indexOf(xt)!==-1},ut=et("n"),dt=et("s"),Zt=et("w"),jt=et("e"),Tt=ut?X+He:X,kt=dt?$+He:$,Qt=Zt?ie+Ze:ie,wr=jt?J+Ze:J;z&&(ut&&(Tt=X-He),dt&&(kt=$-He)),(!z&&kt-Tt>F||z&&Tt-kt>F)&&(q(j,x[j]=z?Tt:Be(Tt)),q(se,x[se]=z?kt:Be(kt))),wr-Qt>k&&(q(ne,x[ne]=O?Qt:Fe(Qt)),q(le,x[le]=O?wr:Fe(wr)))}P.attr("d",h(o,x)),tt(I,x),p(o,_,x,Ae)}function tt(Ze,He){(O||z)&&De();function De(){var me=He.type!=="path",ge=Ze.selectAll(".visual-cue").data([0]),Ee=1;ge.enter().append("path").attr({fill:"#fff","fill-rule":"evenodd",stroke:"#000","stroke-width":Ee}).classed("visual-cue",!0);var Te=ye(O?He.xanchor:a.midRange(me?[He.x0,He.x1]:m.extractPathCoords(He.path,l.paramIsX))),ze=Se(z?He.yanchor:a.midRange(me?[He.y0,He.y1]:m.extractPathCoords(He.path,l.paramIsY)));if(Te=m.roundPositionForSharpStrokeRendering(Te,Ee),ze=m.roundPositionForSharpStrokeRendering(ze,Ee),O&&z){var Xe="M"+(Te-1-Ee)+","+(ze-1-Ee)+"h-8v2h8 v8h2v-8 h8v-2h-8 v-8h-2 Z";ge.attr("d",Xe)}else if(O){var et="M"+(Te-1-Ee)+","+(ze-9-Ee)+"v18 h2 v-18 Z";ge.attr("d",et)}else{var ut="M"+(Te-9-Ee)+","+(ze-1-Ee)+"h18 v2 h-18 Z";ge.attr("d",ut)}}}function Ie(Ze){Ze.selectAll(".visual-cue").remove()}function We(Ze,He,De){var me=He.xref,ge=He.yref,Ee=C.getFromId(De,me),Te=C.getFromId(De,ge),ze="";me!=="paper"&&!Ee.autorange&&(ze+=me),ge!=="paper"&&!Te.autorange&&(ze+=ge),s.setClipUrl(Ze,ze?"clip"+De._fullLayout._uid+ze:null,De)}}function E(o,P,x){return o.replace(l.segmentRE,function(_){var I=0,N=_.charAt(0),k=l.paramIsX[N],F=l.paramIsY[N],O=l.numParams[N],z=_.substr(1).replace(l.paramRE,function(B){return I>=O||(k[I]?B=P(B):F[I]&&(B=x(B)),I++),B});return N+z})}function y(o,P){if(!!i(o)){var x=P.node(),_=+x.getAttribute("data-index");if(_>=0){if(_===o._fullLayout._activeShapeIndex){S(o);return}o._fullLayout._activeShapeIndex=_,o._fullLayout._deactivateShape=S,M(o)}}}function S(o){if(!!i(o)){var P=o._fullLayout._activeShapeIndex;P>=0&&(r(o),delete o._fullLayout._activeShapeIndex,M(o))}}function T(o){if(!!i(o)){r(o);var P=o._fullLayout._activeShapeIndex,x=(o.layout||{}).shapes||[];if(P<x.length){for(var _=[],I=0;I<x.length;I++)I!==P&&_.push(x[I]);return delete o._fullLayout._activeShapeIndex,L.call("_guiRelayout",o,{shapes:_})}}}},92872:function(G,U,e){var g=e(67824).overrideAll,L=e(45464),a=e(25376),C=e(98192).u,A=e(92880).extendFlat,v=e(21776).ye,p=e(97728);G.exports=g({newshape:{visible:A({},L.visible,{}),showlegend:{valType:"boolean",dflt:!1},legend:A({},L.legend,{}),legendgroup:A({},L.legendgroup,{}),legendgrouptitle:{text:A({},L.legendgrouptitle.text,{}),font:a({})},legendrank:A({},L.legendrank,{}),legendwidth:A({},L.legendwidth,{}),line:{color:{valType:"color"},width:{valType:"number",min:0,dflt:4},dash:A({},C,{dflt:"solid"})},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd"},opacity:{valType:"number",min:0,max:1,dflt:1},layer:{valType:"enumerated",values:["below","above"],dflt:"above"},drawdirection:{valType:"enumerated",values:["ortho","horizontal","vertical","diagonal"],dflt:"diagonal"},name:A({},L.name,{}),label:{text:{valType:"string",dflt:""},texttemplate:v({newshape:!0},{keys:Object.keys(p)}),font:a({}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"]},textangle:{valType:"angle",dflt:"auto"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},padding:{valType:"number",dflt:3,min:0}}},activeshape:{fillcolor:{valType:"color",dflt:"rgb(255,0,255)"},opacity:{valType:"number",min:0,max:1,dflt:.5}}},"none","from-root")},7e3:function(G){var U=32;G.exports={CIRCLE_SIDES:U,i000:0,i090:U/4,i180:U/2,i270:U/4*3,cos45:Math.cos(Math.PI/4),sin45:Math.sin(Math.PI/4),SQRT2:Math.sqrt(2)}},65144:function(G,U,e){var g=e(76308),L=e(3400);function a(C,A){return C?"bottom":A.indexOf("top")!==-1?"top":A.indexOf("bottom")!==-1?"bottom":"middle"}G.exports=function(A,v,p){p("newshape.visible"),p("newshape.name"),p("newshape.showlegend"),p("newshape.legend"),p("newshape.legendwidth"),p("newshape.legendgroup"),p("newshape.legendgrouptitle.text"),L.coerceFont(p,"newshape.legendgrouptitle.font"),p("newshape.legendrank"),p("newshape.drawdirection"),p("newshape.layer"),p("newshape.fillcolor"),p("newshape.fillrule"),p("newshape.opacity");var r=p("newshape.line.width");if(r){var t=(A||{}).plot_bgcolor||"#FFF";p("newshape.line.color",g.contrast(t)),p("newshape.line.dash")}var s=A.dragmode==="drawline",n=p("newshape.label.text"),f=p("newshape.label.texttemplate");if(n||f){p("newshape.label.textangle");var u=p("newshape.label.textposition",s?"middle":"middle center");p("newshape.label.xanchor"),p("newshape.label.yanchor",a(s,u)),p("newshape.label.padding"),L.coerceFont(p,"newshape.label.font",v.font)}p("activeshape.fillcolor"),p("activeshape.opacity")}},9856:function(G,U,e){var g=e(21984),L=e(7e3),a=L.CIRCLE_SIDES,C=L.SQRT2,A=e(5840),v=A.p2r,p=A.r2p,r=[0,3,4,5,6,1,2],t=[0,3,4,1,2];U.writePaths=function(f){var u=f.length;if(!u)return"M0,0Z";for(var l="",m=0;m<u;m++)for(var h=f[m].length,M=0;M<h;M++){var c=f[m][M][0];if(c==="Z")l+="Z";else for(var i=f[m][M].length,d=0;d<i;d++){var b=d;c==="Q"||c==="S"?b=t[d]:c==="C"&&(b=r[d]),l+=f[m][M][b],d>0&&d<i-1&&(l+=",")}}return l},U.readPaths=function(f,u,l,m){var h=g(f),M=[],c=-1,i=function(){c++,M[c]=[]},d,b=0,w=0,E,y,S=function(){E=b,y=w};S();for(var T=0;T<h.length;T++){var o=[],P,x,_,I,N=h[T][0],k=N;switch(N){case"M":i(),b=+h[T][1],w=+h[T][2],o.push([k,b,w]),S();break;case"Q":case"S":P=+h[T][1],_=+h[T][2],b=+h[T][3],w=+h[T][4],o.push([k,b,w,P,_]);break;case"C":P=+h[T][1],_=+h[T][2],x=+h[T][3],I=+h[T][4],b=+h[T][5],w=+h[T][6],o.push([k,b,w,P,_,x,I]);break;case"T":case"L":b=+h[T][1],w=+h[T][2],o.push([k,b,w]);break;case"H":k="L",b=+h[T][1],o.push([k,b,w]);break;case"V":k="L",w=+h[T][1],o.push([k,b,w]);break;case"A":k="L";var F=+h[T][1],O=+h[T][2];+h[T][4]||(F=-F,O=-O);var z=b-F,B=w;for(d=1;d<=a/2;d++){var W=2*Math.PI*d/a;o.push([k,z+F*Math.cos(W),B+O*Math.sin(W)])}break;case"Z":(b!==E||w!==y)&&(b=E,w=y,o.push([k,b,w]));break}for(var q=(l||{}).domain,ee=u._fullLayout._size,Q=l&&l.xsizemode==="pixel",oe=l&&l.ysizemode==="pixel",Z=m===!1,Y=0;Y<o.length;Y++){for(d=0;d+2<7;d+=2){var te=o[Y][d+1],X=o[Y][d+2];te===void 0||X===void 0||(b=te,w=X,l&&(l.xaxis&&l.xaxis.p2r?(Z&&(te-=l.xaxis._offset),Q?te=p(l.xaxis,l.xanchor)+te:te=v(l.xaxis,te)):(Z&&(te-=ee.l),q?te=q.x[0]+te/ee.w:te=te/ee.w),l.yaxis&&l.yaxis.p2r?(Z&&(X-=l.yaxis._offset),oe?X=p(l.yaxis,l.yanchor)-X:X=v(l.yaxis,X)):(Z&&(X-=ee.t),q?X=q.y[1]-X/ee.h:X=1-X/ee.h)),o[Y][d+1]=te,o[Y][d+2]=X)}M[c].push(o[Y].slice())}}return M};function s(f,u){return Math.abs(f-u)<=1e-6}function n(f,u){var l=u[1]-f[1],m=u[2]-f[2];return Math.sqrt(l*l+m*m)}U.pointsOnRectangle=function(f){var u=f.length;if(u!==5)return!1;for(var l=1;l<3;l++){var m=f[0][l]-f[1][l],h=f[3][l]-f[2][l];if(!s(m,h))return!1;var M=f[0][l]-f[3][l],c=f[1][l]-f[2][l];if(!s(M,c))return!1}return!s(f[0][1],f[1][1])&&!s(f[0][1],f[3][1])?!1:!!(n(f[0],f[1])*n(f[0],f[3]))},U.pointsOnEllipse=function(f){var u=f.length;if(u!==a+1)return!1;u=a;for(var l=0;l<u;l++){var m=(u*2-l)%u,h=(u/2+m)%u,M=(u/2+l)%u;if(!s(n(f[l],f[M]),n(f[m],f[h])))return!1}return!0},U.handleEllipse=function(f,u,l){if(!f)return[u,l];var m=U.ellipseOver({x0:u[0],y0:u[1],x1:l[0],y1:l[1]}),h=(m.x1+m.x0)/2,M=(m.y1+m.y0)/2,c=(m.x1-m.x0)/2,i=(m.y1-m.y0)/2;c||(c=i=i/C),i||(i=c=c/C);for(var d=[],b=0;b<a;b++){var w=b*2*Math.PI/a;d.push([h+c*Math.cos(w),M+i*Math.sin(w)])}return d},U.ellipseOver=function(f){var u=f.x0,l=f.y0,m=f.x1,h=f.y1,M=m-u,c=h-l;u-=M,l-=c;var i=(u+m)/2,d=(l+h)/2,b=C;return M*=b,c*=b,{x0:i-M,y0:d-c,x1:i+M,y1:d+c}},U.fixDatesForPaths=function(f,u,l){var m=u.type==="date",h=l.type==="date";if(!m&&!h)return f;for(var M=0;M<f.length;M++)for(var c=0;c<f[M].length;c++)for(var i=0;i+2<f[M][c].length;i+=2)m&&(f[M][c][i+1]=f[M][c][i+1].replace(" ","_")),h&&(f[M][c][i+2]=f[M][c][i+2].replace(" ","_"));return f}},93940:function(G,U,e){var g=e(72760),L=g.drawMode,a=g.openMode,C=e(7e3),A=C.i000,v=C.i090,p=C.i180,r=C.i270,t=C.cos45,s=C.sin45,n=e(5840),f=n.p2r,u=n.r2p,l=e(1936),m=l.clearOutline,h=e(9856),M=h.readPaths,c=h.writePaths,i=h.ellipseOver,d=h.fixDatesForPaths;function b(E,y){if(!!E.length){var S=E[0][0];if(!!S){var T=y.gd,o=y.isActiveShape,P=y.dragmode,x=(T.layout||{}).shapes||[];if(!L(P)&&o!==void 0){var _=T._fullLayout._activeShapeIndex;if(_<x.length)switch(T._fullLayout.shapes[_].type){case"rect":P="drawrect";break;case"circle":P="drawcircle";break;case"line":P="drawline";break;case"path":var I=x[_].path||"";I[I.length-1]==="Z"?P="drawclosedpath":P="drawopenpath";break}}var N=w(E,y,P);m(T);for(var k=y.editHelpers,F=(k||{}).modifyItem,O=[],z=0;z<x.length;z++){var B=T._fullLayout.shapes[z];if(O[z]=B._input,o!==void 0&&z===T._fullLayout._activeShapeIndex){var W=N;switch(B.type){case"line":case"rect":case"circle":F("x0",W.x0),F("x1",W.x1),F("y0",W.y0),F("y1",W.y1);break;case"path":F("path",W.path);break}}}return o===void 0?(O.push(N),O):k?k.getUpdateObj():{}}}}function w(E,y,S){var T=E[0][0],o=y.gd,P=T.getAttribute("d"),x=o._fullLayout.newshape,_=y.plotinfo,I=y.isActiveShape,N=_.xaxis,k=_.yaxis,F=!!_.domain||!_.xaxis,O=!!_.domain||!_.yaxis,z=a(S),B=M(P,o,_,I),W={editable:!0,visible:x.visible,name:x.name,showlegend:x.showlegend,legend:x.legend,legendwidth:x.legendwidth,legendgroup:x.legendgroup,legendgrouptitle:{text:x.legendgrouptitle.text,font:x.legendgrouptitle.font},legendrank:x.legendrank,label:x.label,xref:F?"paper":N._id,yref:O?"paper":k._id,layer:x.layer,opacity:x.opacity,line:{color:x.line.color,width:x.line.width,dash:x.line.dash}};z||(W.fillcolor=x.fillcolor,W.fillrule=x.fillrule);var q;if(B.length===1&&(q=B[0]),q&&q.length===5&&S==="drawrect")W.type="rect",W.x0=q[0][1],W.y0=q[0][2],W.x1=q[2][1],W.y1=q[2][2];else if(q&&S==="drawline")W.type="line",W.x0=q[0][1],W.y0=q[0][2],W.x1=q[1][1],W.y1=q[1][2];else if(q&&S==="drawcircle"){W.type="circle";var ee=q[A][1],Q=q[v][1],oe=q[p][1],Z=q[r][1],Y=q[A][2],te=q[v][2],X=q[p][2],$=q[r][2],ie=_.xaxis&&(_.xaxis.type==="date"||_.xaxis.type==="log"),J=_.yaxis&&(_.yaxis.type==="date"||_.yaxis.type==="log");ie&&(ee=u(_.xaxis,ee),Q=u(_.xaxis,Q),oe=u(_.xaxis,oe),Z=u(_.xaxis,Z)),J&&(Y=u(_.yaxis,Y),te=u(_.yaxis,te),X=u(_.yaxis,X),$=u(_.yaxis,$));var j=(Q+Z)/2,se=(Y+X)/2,ne=(Z-Q+oe-ee)/2,le=($-te+X-Y)/2,pe=i({x0:j,y0:se,x1:j+ne*t,y1:se+le*s});ie&&(pe.x0=f(_.xaxis,pe.x0),pe.x1=f(_.xaxis,pe.x1)),J&&(pe.y0=f(_.yaxis,pe.y0),pe.y1=f(_.yaxis,pe.y1)),W.x0=pe.x0,W.y0=pe.y0,W.x1=pe.x1,W.y1=pe.y1}else W.type="path",N&&k&&d(B,N,k),W.path=c(B),q=null;return W}G.exports={newShapes:b,createShapeObj:w}},1936:function(G){function U(g){var L=g._fullLayout._zoomlayer;L&&L.selectAll(".outline-controllers").remove()}function e(g){var L=g._fullLayout._zoomlayer;L&&L.selectAll(".select-outline").remove(),g._fullLayout._outlining=!1}G.exports={clearOutlineControllers:U,clearOutline:e}},65152:function(G,U,e){var g=e(85448),L=e(3400),a=e(54460);U.rangeToShapePosition=function(A){return A.type==="log"?A.r2d:function(v){return v}},U.shapePositionToRange=function(A){return A.type==="log"?A.d2r:function(v){return v}},U.decodeDate=function(A){return function(v){return v.replace&&(v=v.replace("_"," ")),A(v)}},U.encodeDate=function(A){return function(v){return A(v).replace(" ","_")}},U.extractPathCoords=function(A,v,p){var r=[],t=A.match(g.segmentRE);return t.forEach(function(s){var n=v[s.charAt(0)].drawn;if(n!==void 0){var f=s.substr(1).match(g.paramRE);if(!(!f||f.length<n)){var u=f[n],l=p?u:L.cleanNumber(u);r.push(l)}}}),r},U.getDataToPixel=function(A,v,p,r){var t=A._fullLayout._size,s;if(v)if(r==="domain")s=function(f){return v._length*(p?1-f:f)+v._offset};else{var n=U.shapePositionToRange(v);s=function(f){return v._offset+v.r2p(n(f,!0))},v.type==="date"&&(s=U.decodeDate(s))}else p?s=function(f){return t.t+t.h*(1-f)}:s=function(f){return t.l+t.w*f};return s},U.getPixelToData=function(A,v,p,r){var t=A._fullLayout._size,s;if(v)if(r==="domain")s=function(f){var u=(f-v._offset)/v._length;return p?1-u:u};else{var n=U.rangeToShapePosition(v);s=function(f){return n(v.p2r(f-v._offset))}}else p?s=function(f){return 1-(f-t.t)/t.h}:s=function(f){return(f-t.l)/t.w};return s},U.roundPositionForSharpStrokeRendering=function(A,v){var p=Math.round(v%2)===1,r=Math.round(A);return p?r+.5:r},U.makeShapesOptionsAndPlotinfo=function(A,v){var p=A._fullLayout.shapes[v]||{},r=A._fullLayout._plots[p.xref+p.yref],t=!!r;return t?r._hadPlotinfo=!0:(r={},p.xref&&p.xref!=="paper"&&(r.xaxis=A._fullLayout[p.xref+"axis"]),p.yref&&p.yref!=="paper"&&(r.yaxis=A._fullLayout[p.yref+"axis"])),r.xsizemode=p.xsizemode,r.ysizemode=p.ysizemode,r.xanchor=p.xanchor,r.yanchor=p.yanchor,{options:p,plotinfo:r}},U.makeSelectionsOptionsAndPlotinfo=function(A,v){var p=A._fullLayout.selections[v]||{},r=A._fullLayout._plots[p.xref+p.yref],t=!!r;return t?r._hadPlotinfo=!0:(r={},p.xref&&(r.xaxis=A._fullLayout[p.xref+"axis"]),p.yref&&(r.yaxis=A._fullLayout[p.yref+"axis"])),{options:p,plotinfo:r}},U.getPathString=function(A,v){var p=v.type,r=a.getRefType(v.xref),t=a.getRefType(v.yref),s=a.getFromId(A,v.xref),n=a.getFromId(A,v.yref),f=A._fullLayout._size,u,l,m,h,M,c,i,d;if(s?r==="domain"?l=function(_){return s._offset+s._length*_}:(u=U.shapePositionToRange(s),l=function(_){return s._offset+s.r2p(u(_,!0))}):l=function(_){return f.l+f.w*_},n?t==="domain"?h=function(_){return n._offset+n._length*(1-_)}:(m=U.shapePositionToRange(n),h=function(_){return n._offset+n.r2p(m(_,!0))}):h=function(_){return f.t+f.h*(1-_)},p==="path")return s&&s.type==="date"&&(l=U.decodeDate(l)),n&&n.type==="date"&&(h=U.decodeDate(h)),C(v,l,h);if(v.xsizemode==="pixel"){var b=l(v.xanchor);M=b+v.x0,c=b+v.x1}else M=l(v.x0),c=l(v.x1);if(v.ysizemode==="pixel"){var w=h(v.yanchor);i=w-v.y0,d=w-v.y1}else i=h(v.y0),d=h(v.y1);if(p==="line")return"M"+M+","+i+"L"+c+","+d;if(p==="rect")return"M"+M+","+i+"H"+c+"V"+d+"H"+M+"Z";var E=(M+c)/2,y=(i+d)/2,S=Math.abs(E-M),T=Math.abs(y-i),o="A"+S+","+T,P=E+S+","+y,x=E+","+(y-T);return"M"+P+o+" 0 1,1 "+x+o+" 0 0,1 "+P+"Z"};function C(A,v,p){var r=A.path,t=A.xsizemode,s=A.ysizemode,n=A.xanchor,f=A.yanchor;return r.replace(g.segmentRE,function(u){var l=0,m=u.charAt(0),h=g.paramIsX[m],M=g.paramIsY[m],c=g.numParams[m],i=u.substr(1).replace(g.paramRE,function(d){return h[l]?t==="pixel"?d=v(n)+Number(d):d=v(d):M[l]&&(s==="pixel"?d=p(f)-Number(d):d=p(d)),l++,l>c&&(d="X"),d});return l>c&&(i=i.replace(/[\s,]*X.*/,""),L.log("Ignoring extra params in segment "+u)),m+i})}},41592:function(G,U,e){var g=e(4016);G.exports={moduleType:"component",name:"shapes",layoutAttributes:e(46056),supplyLayoutDefaults:e(43712),supplyDrawNewShapeDefaults:e(65144),includeBasePlot:e(36632)("shapes"),calcAutorange:e(96084),draw:g.draw,drawOne:g.drawOne}},97728:function(G){function U(u,l){return l?l.d2l(u):u}function e(u,l){return l?l.l2d(u):u}function g(u){return u.x0}function L(u){return u.x1}function a(u){return u.y0}function C(u){return u.y1}function A(u,l){return U(u.x1,l)-U(u.x0,l)}function v(u,l,m){return U(u.y1,m)-U(u.y0,m)}function p(u,l){return Math.abs(A(u,l))}function r(u,l,m){return Math.abs(v(u,l,m))}function t(u,l,m){return u.type!=="line"?void 0:Math.sqrt(Math.pow(A(u,l),2)+Math.pow(v(u,l,m),2))}function s(u,l){return e((U(u.x1,l)+U(u.x0,l))/2,l)}function n(u,l,m){return e((U(u.y1,m)+U(u.y0,m))/2,m)}function f(u,l,m){return u.type!=="line"?void 0:v(u,l,m)/A(u,l)}G.exports={x0:g,x1:L,y0:a,y1:C,slope:f,dx:A,dy:v,width:p,height:r,length:t,xcenter:s,ycenter:n}},89861:function(G,U,e){var g=e(25376),L=e(66741),a=e(92880).extendDeepAll,C=e(67824).overrideAll,A=e(85656),v=e(31780).templatedArray,p=e(60876),r=v("step",{visible:{valType:"boolean",dflt:!0},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string"},value:{valType:"string"},execute:{valType:"boolean",dflt:!0}});G.exports=C(v("slider",{visible:{valType:"boolean",dflt:!0},active:{valType:"number",min:0,dflt:0},steps:r,lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",min:-2,max:3,dflt:0},pad:a(L({editType:"arraydraw"}),{},{t:{dflt:20}}),xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left"},y:{valType:"number",min:-2,max:3,dflt:0},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},transition:{duration:{valType:"number",min:0,dflt:150},easing:{valType:"enumerated",values:A.transition.easing.values,dflt:"cubic-in-out"}},currentvalue:{visible:{valType:"boolean",dflt:!0},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left"},offset:{valType:"number",dflt:10},prefix:{valType:"string"},suffix:{valType:"string"},font:g({})},font:g({}),activebgcolor:{valType:"color",dflt:p.gripBgActiveColor},bgcolor:{valType:"color",dflt:p.railBgColor},bordercolor:{valType:"color",dflt:p.railBorderColor},borderwidth:{valType:"number",min:0,dflt:p.railBorderWidth},ticklen:{valType:"number",min:0,dflt:p.tickLength},tickcolor:{valType:"color",dflt:p.tickColor},tickwidth:{valType:"number",min:0,dflt:1},minorticklen:{valType:"number",min:0,dflt:p.minorTickLength}}),"arraydraw","from-root")},60876:function(G){G.exports={name:"sliders",containerClassName:"slider-container",groupClassName:"slider-group",inputAreaClass:"slider-input-area",railRectClass:"slider-rail-rect",railTouchRectClass:"slider-rail-touch-rect",gripRectClass:"slider-grip-rect",tickRectClass:"slider-tick-rect",inputProxyClass:"slider-input-proxy",labelsClass:"slider-labels",labelGroupClass:"slider-label-group",labelClass:"slider-label",currentValueClass:"slider-current-value",railHeight:5,menuIndexAttrName:"slider-active-index",autoMarginIdRoot:"slider-",minWidth:30,minHeight:30,textPadX:40,arrowOffsetX:4,railRadius:2,railWidth:5,railBorder:4,railBorderWidth:1,railBorderColor:"#bec8d9",railBgColor:"#f8fafc",railInset:8,stepInset:10,gripRadius:10,gripWidth:20,gripHeight:20,gripBorder:20,gripBorderWidth:1,gripBorderColor:"#bec8d9",gripBgColor:"#f6f8fa",gripBgActiveColor:"#dbdde0",labelPadding:8,labelOffset:0,tickWidth:1,tickColor:"#333",tickOffset:25,tickLength:7,minorTickOffset:25,minorTickColor:"#333",minorTickLength:4,currentValuePadding:8,currentValueInset:0}},8132:function(G,U,e){var g=e(3400),L=e(51272),a=e(89861),C=e(60876),A=C.name,v=a.steps;G.exports=function(s,n){L(s,n,{name:A,handleItemDefaults:p})};function p(t,s,n){function f(d,b){return g.coerce(t,s,a,d,b)}for(var u=L(t,s,{name:"steps",handleItemDefaults:r}),l=0,m=0;m<u.length;m++)u[m].visible&&l++;var h;if(l<2?h=s.visible=!1:h=f("visible"),!!h){s._stepCount=l;var M=s._visibleSteps=g.filterVisible(u),c=f("active");(u[c]||{}).visible||(s.active=M[0]._index),f("x"),f("y"),g.noneOrAll(t,s,["x","y"]),f("xanchor"),f("yanchor"),f("len"),f("lenmode"),f("pad.t"),f("pad.r"),f("pad.b"),f("pad.l"),g.coerceFont(f,"font",n.font);var i=f("currentvalue.visible");i&&(f("currentvalue.xanchor"),f("currentvalue.prefix"),f("currentvalue.suffix"),f("currentvalue.offset"),g.coerceFont(f,"currentvalue.font",s.font)),f("transition.duration"),f("transition.easing"),f("bgcolor"),f("activebgcolor"),f("bordercolor"),f("borderwidth"),f("ticklen"),f("tickwidth"),f("tickcolor"),f("minorticklen")}}function r(t,s){function n(l,m){return g.coerce(t,s,v,l,m)}var f;if(t.method!=="skip"&&!Array.isArray(t.args)?f=s.visible=!1:f=n("visible"),f){n("method"),n("args");var u=n("label","step-"+s._index);n("value",u),n("execute")}}},79664:function(G,U,e){var g=e(33428),L=e(7316),a=e(76308),C=e(43616),A=e(3400),v=A.strTranslate,p=e(72736),r=e(31780).arrayEditor,t=e(60876),s=e(84284),n=s.LINE_SPACING,f=s.FROM_TL,u=s.FROM_BR;G.exports=function(F){var O=F._context.staticPlot,z=F._fullLayout,B=m(z,F),W=z._infolayer.selectAll("g."+t.containerClassName).data(B.length>0?[0]:[]);W.enter().append("g").classed(t.containerClassName,!0).style("cursor",O?null:"ew-resize");function q(Z){Z._commandObserver&&(Z._commandObserver.remove(),delete Z._commandObserver),L.autoMargin(F,l(Z))}if(W.exit().each(function(){g.select(this).selectAll("g."+t.groupClassName).each(q)}).remove(),B.length!==0){var ee=W.selectAll("g."+t.groupClassName).data(B,h);ee.enter().append("g").classed(t.groupClassName,!0),ee.exit().each(q).remove();for(var Q=0;Q<B.length;Q++){var oe=B[Q];M(F,oe)}ee.each(function(Z){var Y=g.select(this);o(Z),L.manageCommandObserver(F,Z,Z._visibleSteps,function(te){var X=Y.data()[0];X.active!==te.index&&(X._dragging||y(F,Y,X,te.index,!1,!0))}),c(F,g.select(this),Z)})}};function l(k){return t.autoMarginIdRoot+k._index}function m(k,F){for(var O=k[t.name],z=[],B=0;B<O.length;B++){var W=O[B];!W.visible||(W._gd=F,z.push(W))}return z}function h(k){return k._index}function M(k,F){var O=C.tester.selectAll("g."+t.labelGroupClass).data(F._visibleSteps);O.enter().append("g").classed(t.labelGroupClass,!0);var z=0,B=0;O.each(function($){var ie=g.select(this),J=b(ie,{step:$},F),j=J.node();if(j){var se=C.bBox(j);B=Math.max(B,se.height),z=Math.max(z,se.width)}}),O.remove();var W=F._dims={};W.inputAreaWidth=Math.max(t.railWidth,t.gripHeight);var q=k._fullLayout._size;W.lx=q.l+q.w*F.x,W.ly=q.t+q.h*(1-F.y),F.lenmode==="fraction"?W.outerLength=Math.round(q.w*F.len):W.outerLength=F.len,W.inputAreaStart=0,W.inputAreaLength=Math.round(W.outerLength-F.pad.l-F.pad.r);var ee=W.inputAreaLength-2*t.stepInset,Q=ee/(F._stepCount-1),oe=z+t.labelPadding;if(W.labelStride=Math.max(1,Math.ceil(oe/Q)),W.labelHeight=B,W.currentValueMaxWidth=0,W.currentValueHeight=0,W.currentValueTotalHeight=0,W.currentValueMaxLines=1,F.currentvalue.visible){var Z=C.tester.append("g");O.each(function($){var ie=i(Z,F,$.label),J=ie.node()&&C.bBox(ie.node())||{width:0,height:0},j=p.lineCount(ie);W.currentValueMaxWidth=Math.max(W.currentValueMaxWidth,Math.ceil(J.width)),W.currentValueHeight=Math.max(W.currentValueHeight,Math.ceil(J.height)),W.currentValueMaxLines=Math.max(W.currentValueMaxLines,j)}),W.currentValueTotalHeight=W.currentValueHeight+F.currentvalue.offset,Z.remove()}W.height=W.currentValueTotalHeight+t.tickOffset+F.ticklen+t.labelOffset+W.labelHeight+F.pad.t+F.pad.b;var Y="left";A.isRightAnchor(F)&&(W.lx-=W.outerLength,Y="right"),A.isCenterAnchor(F)&&(W.lx-=W.outerLength/2,Y="center");var te="top";A.isBottomAnchor(F)&&(W.ly-=W.height,te="bottom"),A.isMiddleAnchor(F)&&(W.ly-=W.height/2,te="middle"),W.outerLength=Math.ceil(W.outerLength),W.height=Math.ceil(W.height),W.lx=Math.round(W.lx),W.ly=Math.round(W.ly);var X={y:F.y,b:W.height*u[te],t:W.height*f[te]};F.lenmode==="fraction"?(X.l=0,X.xl=F.x-F.len*f[Y],X.r=0,X.xr=F.x+F.len*u[Y]):(X.x=F.x,X.l=W.outerLength*f[Y],X.r=W.outerLength*u[Y]),L.autoMargin(k,l(F),X)}function c(k,F,O){(O.steps[O.active]||{}).visible||(O.active=O._visibleSteps[0]._index),F.call(i,O).call(N,O).call(w,O).call(T,O).call(I,k,O).call(d,k,O);var z=O._dims;C.setTranslate(F,z.lx+O.pad.l,z.ly+O.pad.t),F.call(P,O,!1),F.call(i,O)}function i(k,F,O){if(!!F.currentvalue.visible){var z=F._dims,B,W;switch(F.currentvalue.xanchor){case"right":B=z.inputAreaLength-t.currentValueInset-z.currentValueMaxWidth,W="left";break;case"center":B=z.inputAreaLength*.5,W="middle";break;default:B=t.currentValueInset,W="left"}var q=A.ensureSingle(k,"text",t.labelClass,function(te){te.attr({"text-anchor":W,"data-notex":1})}),ee=F.currentvalue.prefix?F.currentvalue.prefix:"";if(typeof O=="string")ee+=O;else{var Q=F.steps[F.active].label,oe=F._gd._fullLayout._meta;oe&&(Q=A.templateString(Q,oe)),ee+=Q}F.currentvalue.suffix&&(ee+=F.currentvalue.suffix),q.call(C.font,F.currentvalue.font).text(ee).call(p.convertToTspans,F._gd);var Z=p.lineCount(q),Y=(z.currentValueMaxLines+1-Z)*F.currentvalue.font.size*n;return p.positionText(q,B,Y),q}}function d(k,F,O){var z=A.ensureSingle(k,"rect",t.gripRectClass,function(B){B.call(S,F,k,O).style("pointer-events","all")});z.attr({width:t.gripWidth,height:t.gripHeight,rx:t.gripRadius,ry:t.gripRadius}).call(a.stroke,O.bordercolor).call(a.fill,O.bgcolor).style("stroke-width",O.borderwidth+"px")}function b(k,F,O){var z=A.ensureSingle(k,"text",t.labelClass,function(q){q.attr({"text-anchor":"middle","data-notex":1})}),B=F.step.label,W=O._gd._fullLayout._meta;return W&&(B=A.templateString(B,W)),z.call(C.font,O.font).text(B).call(p.convertToTspans,O._gd),z}function w(k,F){var O=A.ensureSingle(k,"g",t.labelsClass),z=F._dims,B=O.selectAll("g."+t.labelGroupClass).data(z.labelSteps);B.enter().append("g").classed(t.labelGroupClass,!0),B.exit().remove(),B.each(function(W){var q=g.select(this);q.call(b,W,F),C.setTranslate(q,x(F,W.fraction),t.tickOffset+F.ticklen+F.font.size*n+t.labelOffset+z.currentValueTotalHeight)})}function E(k,F,O,z,B){var W=Math.round(z*(O._stepCount-1)),q=O._visibleSteps[W]._index;q!==O.active&&y(k,F,O,q,!0,B)}function y(k,F,O,z,B,W){var q=O.active;O.active=z,r(k.layout,t.name,O).applyUpdate("active",z);var ee=O.steps[O.active];F.call(P,O,W),F.call(i,O),k.emit("plotly_sliderchange",{slider:O,step:O.steps[O.active],interaction:B,previousActive:q}),ee&&ee.method&&B&&(F._nextMethod?(F._nextMethod.step=ee,F._nextMethod.doCallback=B,F._nextMethod.doTransition=W):(F._nextMethod={step:ee,doCallback:B,doTransition:W},F._nextMethodRaf=window.requestAnimationFrame(function(){var Q=F._nextMethod.step;!Q.method||(Q.execute&&L.executeAPICommand(k,Q.method,Q.args),F._nextMethod=null,F._nextMethodRaf=null)})))}function S(k,F,O){if(F._context.staticPlot)return;var z=O.node(),B=g.select(F);function W(){return O.data()[0]}function q(){var ee=W();F.emit("plotly_sliderstart",{slider:ee});var Q=O.select("."+t.gripRectClass);g.event.stopPropagation(),g.event.preventDefault(),Q.call(a.fill,ee.activebgcolor);var oe=_(ee,g.mouse(z)[0]);E(F,O,ee,oe,!0),ee._dragging=!0;function Z(){var te=W(),X=_(te,g.mouse(z)[0]);E(F,O,te,X,!1)}B.on("mousemove",Z),B.on("touchmove",Z);function Y(){var te=W();te._dragging=!1,Q.call(a.fill,te.bgcolor),B.on("mouseup",null),B.on("mousemove",null),B.on("touchend",null),B.on("touchmove",null),F.emit("plotly_sliderend",{slider:te,step:te.steps[te.active]})}B.on("mouseup",Y),B.on("touchend",Y)}k.on("mousedown",q),k.on("touchstart",q)}function T(k,F){var O=k.selectAll("rect."+t.tickRectClass).data(F._visibleSteps),z=F._dims;O.enter().append("rect").classed(t.tickRectClass,!0),O.exit().remove(),O.attr({width:F.tickwidth+"px","shape-rendering":"crispEdges"}),O.each(function(B,W){var q=W%z.labelStride===0,ee=g.select(this);ee.attr({height:q?F.ticklen:F.minorticklen}).call(a.fill,F.tickcolor),C.setTranslate(ee,x(F,W/(F._stepCount-1))-.5*F.tickwidth,(q?t.tickOffset:t.minorTickOffset)+z.currentValueTotalHeight)})}function o(k){var F=k._dims;F.labelSteps=[];for(var O=k._stepCount,z=0;z<O;z+=F.labelStride)F.labelSteps.push({fraction:z/(O-1),step:k._visibleSteps[z]})}function P(k,F,O){for(var z=k.select("rect."+t.gripRectClass),B=0,W=0;W<F._stepCount;W++)if(F._visibleSteps[W]._index===F.active){B=W;break}var q=x(F,B/(F._stepCount-1));if(!F._invokingCommand){var ee=z;O&&F.transition.duration>0&&(ee=ee.transition().duration(F.transition.duration).ease(F.transition.easing)),ee.attr("transform",v(q-t.gripWidth*.5,F._dims.currentValueTotalHeight))}}function x(k,F){var O=k._dims;return O.inputAreaStart+t.stepInset+(O.inputAreaLength-2*t.stepInset)*Math.min(1,Math.max(0,F))}function _(k,F){var O=k._dims;return Math.min(1,Math.max(0,(F-t.stepInset-O.inputAreaStart)/(O.inputAreaLength-2*t.stepInset-2*O.inputAreaStart)))}function I(k,F,O){var z=O._dims,B=A.ensureSingle(k,"rect",t.railTouchRectClass,function(W){W.call(S,F,k,O).style("pointer-events","all")});B.attr({width:z.inputAreaLength,height:Math.max(z.inputAreaWidth,t.tickOffset+O.ticklen+z.labelHeight)}).call(a.fill,O.bgcolor).attr("opacity",0),C.setTranslate(B,0,z.currentValueTotalHeight)}function N(k,F){var O=F._dims,z=O.inputAreaLength-t.railInset*2,B=A.ensureSingle(k,"rect",t.railRectClass);B.attr({width:z,height:t.railWidth,rx:t.railRadius,ry:t.railRadius,"shape-rendering":"crispEdges"}).call(a.stroke,F.bordercolor).call(a.fill,F.bgcolor).style("stroke-width",F.borderwidth+"px"),C.setTranslate(B,t.railInset,(O.inputAreaWidth-t.railWidth)*.5+O.currentValueTotalHeight)}},97544:function(G,U,e){var g=e(60876);G.exports={moduleType:"component",name:g.name,layoutAttributes:e(89861),supplyLayoutDefaults:e(8132),draw:e(79664)}},81668:function(G,U,e){var g=e(33428),L=e(38248),a=e(7316),C=e(24040),A=e(3400),v=A.strTranslate,p=e(43616),r=e(76308),t=e(72736),s=e(13448),n=e(84284).OPPOSITE_SIDE,f=/ [XY][0-9]* /;function u(l,m,h){var M=h.propContainer,c=h.propName,i=h.placeholder,d=h.traceIndex,b=h.avoid||{},w=h.attributes,E=h.transform,y=h.containerGroup,S=l._fullLayout,T=1,o=!1,P=M.title,x=(P&&P.text?P.text:"").trim(),_=P&&P.font?P.font:{},I=_.family,N=_.size,k=_.color,F;c==="title.text"?F="titleText":c.indexOf("axis")!==-1?F="axisTitleText":c.indexOf("colorbar"!==-1)&&(F="colorbarTitleText");var O=l._context.edits[F];x===""?T=0:x.replace(f," % ")===i.replace(f," % ")&&(T=.2,o=!0,O||(x="")),h._meta?x=A.templateString(x,h._meta):S._meta&&(x=A.templateString(x,S._meta));var z=x||O,B;y||(y=A.ensureSingle(S._infolayer,"g","g-"+m),B=S._hColorbarMoveTitle);var W=y.selectAll("text").data(z?[0]:[]);if(W.enter().append("text"),W.text(x).attr("class",m),W.exit().remove(),!z)return y;function q(Z){A.syncOrAsync([ee,Q],Z)}function ee(Z){var Y;return!E&&B&&(E={}),E?(Y="",E.rotate&&(Y+="rotate("+[E.rotate,w.x,w.y]+")"),(E.offset||B)&&(Y+=v(0,(E.offset||0)-(B||0)))):Y=null,Z.attr("transform",Y),Z.style({"font-family":I,"font-size":g.round(N,2)+"px",fill:r.rgb(k),opacity:T*r.opacity(k),"font-weight":a.fontWeight}).attr(w).call(t.convertToTspans,l),a.previousPromises(l)}function Q(Z){var Y=g.select(Z.node().parentNode);if(b&&b.selection&&b.side&&x){Y.attr("transform",null);var te=n[b.side],X=b.side==="left"||b.side==="top"?-1:1,$=L(b.pad)?b.pad:2,ie=p.bBox(Y.node()),J={t:0,b:0,l:0,r:0},j=l._fullLayout._reservedMargin;for(var se in j)for(var ne in j[se]){var le=j[se][ne];J[ne]=Math.max(J[ne],le)}var pe={left:J.l,top:J.t,right:S.width-J.r,bottom:S.height-J.b},Ae=b.maxShift||X*(pe[b.side]-ie[b.side]),be=0;if(Ae<0)be=Ae;else{var Re=b.offsetLeft||0,xe=b.offsetTop||0;ie.left-=Re,ie.right-=Re,ie.top-=xe,ie.bottom-=xe,b.selection.each(function(){var ye=p.bBox(this);A.bBoxIntersect(ie,ye,$)&&(be=Math.max(be,X*(ye[b.side]-ie[te])+$))}),be=Math.min(Ae,be),M._titleScoot=Math.abs(be)}if(be>0||Ae<0){var Me={left:[-be,0],right:[be,0],top:[0,-be],bottom:[0,be]}[b.side];Y.attr("transform",v(Me[0],Me[1]))}}}W.call(q);function oe(){T=0,o=!0,W.text(i).on("mouseover.opacity",function(){g.select(this).transition().duration(s.SHOW_PLACEHOLDER).style("opacity",1)}).on("mouseout.opacity",function(){g.select(this).transition().duration(s.HIDE_PLACEHOLDER).style("opacity",0)})}return O&&(x?W.on(".opacity",null):oe(),W.call(t.makeEditable,{gd:l}).on("edit",function(Z){d!==void 0?C.call("_guiRestyle",l,c,Z,d):C.call("_guiRelayout",l,c,Z)}).on("cancel",function(){this.text(this.attr("data-unformatted")).call(q)}).on("input",function(Z){this.text(Z||" ").call(t.positionText,w.x,w.y)})),W.classed("js-placeholder",o),y}G.exports={draw:u}},88444:function(G,U,e){var g=e(25376),L=e(22548),a=e(92880).extendFlat,C=e(67824).overrideAll,A=e(66741),v=e(31780).templatedArray,p=v("button",{visible:{valType:"boolean"},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},args2:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string",dflt:""},execute:{valType:"boolean",dflt:!0}});G.exports=C(v("updatemenu",{_arrayAttrRegexps:[/^updatemenus\[(0|[1-9][0-9]+)\]\.buttons/],visible:{valType:"boolean"},type:{valType:"enumerated",values:["dropdown","buttons"],dflt:"dropdown"},direction:{valType:"enumerated",values:["left","right","up","down"],dflt:"down"},active:{valType:"integer",min:-1,dflt:0},showactive:{valType:"boolean",dflt:!0},buttons:p,x:{valType:"number",min:-2,max:3,dflt:-.05},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"right"},y:{valType:"number",min:-2,max:3,dflt:1},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},pad:a(A({editType:"arraydraw"}),{}),font:g({}),bgcolor:{valType:"color"},bordercolor:{valType:"color",dflt:L.borderLine},borderwidth:{valType:"number",min:0,dflt:1,editType:"arraydraw"}}),"arraydraw","from-root")},73712:function(G){G.exports={name:"updatemenus",containerClassName:"updatemenu-container",headerGroupClassName:"updatemenu-header-group",headerClassName:"updatemenu-header",headerArrowClassName:"updatemenu-header-arrow",dropdownButtonGroupClassName:"updatemenu-dropdown-button-group",dropdownButtonClassName:"updatemenu-dropdown-button",buttonClassName:"updatemenu-button",itemRectClassName:"updatemenu-item-rect",itemTextClassName:"updatemenu-item-text",menuIndexAttrName:"updatemenu-active-index",autoMarginIdRoot:"updatemenu-",blankHeaderOpts:{label:"  "},minWidth:30,minHeight:30,textPadX:24,arrowPadX:16,rx:2,ry:2,textOffsetX:12,textOffsetY:3,arrowOffsetX:4,gapButtonHeader:5,gapButton:2,activeColor:"#F4FAFF",hoverColor:"#F4FAFF",arrowSymbol:{left:"\u25C4",right:"\u25BA",up:"\u25B2",down:"\u25BC"}}},91384:function(G,U,e){var g=e(3400),L=e(51272),a=e(88444),C=e(73712),A=C.name,v=a.buttons;G.exports=function(s,n){var f={name:A,handleItemDefaults:p};L(s,n,f)};function p(t,s,n){function f(m,h){return g.coerce(t,s,a,m,h)}var u=L(t,s,{name:"buttons",handleItemDefaults:r}),l=f("visible",u.length>0);!l||(f("active"),f("direction"),f("type"),f("showactive"),f("x"),f("y"),g.noneOrAll(t,s,["x","y"]),f("xanchor"),f("yanchor"),f("pad.t"),f("pad.r"),f("pad.b"),f("pad.l"),g.coerceFont(f,"font",n.font),f("bgcolor",n.paper_bgcolor),f("bordercolor"),f("borderwidth"))}function r(t,s){function n(u,l){return g.coerce(t,s,v,u,l)}var f=n("visible",t.method==="skip"||Array.isArray(t.args));f&&(n("method"),n("args"),n("args2"),n("label"),n("execute"))}},14420:function(G,U,e){var g=e(33428),L=e(7316),a=e(76308),C=e(43616),A=e(3400),v=e(72736),p=e(31780).arrayEditor,r=e(84284).LINE_SPACING,t=e(73712),s=e(37400);G.exports=function(_){var I=_._fullLayout,N=A.filterVisible(I[t.name]);function k(Q){L.autoMargin(_,T(Q))}var F=I._menulayer.selectAll("g."+t.containerClassName).data(N.length>0?[0]:[]);if(F.enter().append("g").classed(t.containerClassName,!0).style("cursor","pointer"),F.exit().each(function(){g.select(this).selectAll("g."+t.headerGroupClassName).each(k)}).remove(),N.length!==0){var O=F.selectAll("g."+t.headerGroupClassName).data(N,n);O.enter().append("g").classed(t.headerGroupClassName,!0);for(var z=A.ensureSingle(F,"g",t.dropdownButtonGroupClassName,function(Q){Q.style("pointer-events","all")}),B=0;B<N.length;B++){var W=N[B];S(_,W)}var q="updatemenus"+I._uid,ee=new s(_,z,q);O.enter().size()&&(z.node().parentNode.appendChild(z.node()),z.call(P)),O.exit().each(function(Q){z.call(P),k(Q)}).remove(),O.each(function(Q){var oe=g.select(this),Z=Q.type==="dropdown"?z:null;L.manageCommandObserver(_,Q,Q.buttons,function(Y){l(_,Q,Q.buttons[Y.index],oe,Z,ee,Y.index,!0)}),Q.type==="dropdown"?(m(_,oe,z,ee,Q),u(z,Q)&&h(_,oe,z,ee,Q)):h(_,oe,null,null,Q)})}};function n(x){return x._index}function f(x){return+x.attr(t.menuIndexAttrName)==-1}function u(x,_){return+x.attr(t.menuIndexAttrName)===_._index}function l(x,_,I,N,k,F,O,z){_.active=O,p(x.layout,t.name,_).applyUpdate("active",O),_.type==="buttons"?h(x,N,null,null,_):_.type==="dropdown"&&(k.attr(t.menuIndexAttrName,"-1"),m(x,N,k,F,_),z||h(x,N,k,F,_))}function m(x,_,I,N,k){var F=A.ensureSingle(_,"g",t.headerClassName,function(Q){Q.style("pointer-events","all")}),O=k._dims,z=k.active,B=k.buttons[z]||t.blankHeaderOpts,W={y:k.pad.t,yPad:0,x:k.pad.l,xPad:0,index:0},q={width:O.headerWidth,height:O.headerHeight};F.call(i,k,B,x).call(o,k,W,q);var ee=A.ensureSingle(_,"text",t.headerArrowClassName,function(Q){Q.attr("text-anchor","end").call(C.font,k.font).text(t.arrowSymbol[k.direction])});ee.attr({x:O.headerWidth-t.arrowOffsetX+k.pad.l,y:O.headerHeight/2+t.textOffsetY+k.pad.t}),F.on("click",function(){I.call(P,String(u(I,k)?-1:k._index)),h(x,_,I,N,k)}),F.on("mouseover",function(){F.call(E)}),F.on("mouseout",function(){F.call(y,k)}),C.setTranslate(_,O.lx,O.ly)}function h(x,_,I,N,k){I||(I=_,I.attr("pointer-events","all"));var F=!f(I)||k.type==="buttons"?k.buttons:[],O=k.type==="dropdown"?t.dropdownButtonClassName:t.buttonClassName,z=I.selectAll("g."+O).data(A.filterVisible(F)),B=z.enter().append("g").classed(O,!0),W=z.exit();k.type==="dropdown"?(B.attr("opacity","0").transition().attr("opacity","1"),W.transition().attr("opacity","0").remove()):W.remove();var q=0,ee=0,Q=k._dims,oe=["up","down"].indexOf(k.direction)!==-1;k.type==="dropdown"&&(oe?ee=Q.headerHeight+t.gapButtonHeader:q=Q.headerWidth+t.gapButtonHeader),k.type==="dropdown"&&k.direction==="up"&&(ee=-t.gapButtonHeader+t.gapButton-Q.openHeight),k.type==="dropdown"&&k.direction==="left"&&(q=-t.gapButtonHeader+t.gapButton-Q.openWidth);var Z={x:Q.lx+q+k.pad.l,y:Q.ly+ee+k.pad.t,yPad:t.gapButton,xPad:t.gapButton,index:0},Y={l:Z.x+k.borderwidth,t:Z.y+k.borderwidth};z.each(function(te,X){var $=g.select(this);$.call(i,k,te,x).call(o,k,Z),$.on("click",function(){g.event.defaultPrevented||(te.execute&&(te.args2&&k.active===X?(l(x,k,te,_,I,N,-1),L.executeAPICommand(x,te.method,te.args2)):(l(x,k,te,_,I,N,X),L.executeAPICommand(x,te.method,te.args))),x.emit("plotly_buttonclicked",{menu:k,button:te,active:k.active}))}),$.on("mouseover",function(){$.call(E)}),$.on("mouseout",function(){$.call(y,k),z.call(w,k)})}),z.call(w,k),oe?(Y.w=Math.max(Q.openWidth,Q.headerWidth),Y.h=Z.y-Y.t):(Y.w=Z.x-Y.l,Y.h=Math.max(Q.openHeight,Q.headerHeight)),Y.direction=k.direction,N&&(z.size()?M(x,_,I,N,k,Y):c(N))}function M(x,_,I,N,k,F){var O=k.direction,z=O==="up"||O==="down",B=k._dims,W=k.active,q,ee,Q;if(z)for(ee=0,Q=0;Q<W;Q++)ee+=B.heights[Q]+t.gapButton;else for(q=0,Q=0;Q<W;Q++)q+=B.widths[Q]+t.gapButton;N.enable(F,q,ee),N.hbar&&N.hbar.attr("opacity","0").transition().attr("opacity","1"),N.vbar&&N.vbar.attr("opacity","0").transition().attr("opacity","1")}function c(x){var _=!!x.hbar,I=!!x.vbar;_&&x.hbar.transition().attr("opacity","0").each("end",function(){_=!1,I||x.disable()}),I&&x.vbar.transition().attr("opacity","0").each("end",function(){I=!1,_||x.disable()})}function i(x,_,I,N){x.call(d,_).call(b,_,I,N)}function d(x,_){var I=A.ensureSingle(x,"rect",t.itemRectClassName,function(N){N.attr({rx:t.rx,ry:t.ry,"shape-rendering":"crispEdges"})});I.call(a.stroke,_.bordercolor).call(a.fill,_.bgcolor).style("stroke-width",_.borderwidth+"px")}function b(x,_,I,N){var k=A.ensureSingle(x,"text",t.itemTextClassName,function(z){z.attr({"text-anchor":"start","data-notex":1})}),F=I.label,O=N._fullLayout._meta;O&&(F=A.templateString(F,O)),k.call(C.font,_.font).text(F).call(v.convertToTspans,N)}function w(x,_){var I=_.active;x.each(function(N,k){var F=g.select(this);k===I&&_.showactive&&F.select("rect."+t.itemRectClassName).call(a.fill,t.activeColor)})}function E(x){x.select("rect."+t.itemRectClassName).call(a.fill,t.hoverColor)}function y(x,_){x.select("rect."+t.itemRectClassName).call(a.fill,_.bgcolor)}function S(x,_){var I=_._dims={width1:0,height1:0,heights:[],widths:[],totalWidth:0,totalHeight:0,openWidth:0,openHeight:0,lx:0,ly:0},N=C.tester.selectAll("g."+t.dropdownButtonClassName).data(A.filterVisible(_.buttons));N.enter().append("g").classed(t.dropdownButtonClassName,!0);var k=["up","down"].indexOf(_.direction)!==-1;N.each(function(q,ee){var Q=g.select(this);Q.call(i,_,q,x);var oe=Q.select("."+t.itemTextClassName),Z=oe.node()&&C.bBox(oe.node()).width,Y=Math.max(Z+t.textPadX,t.minWidth),te=_.font.size*r,X=v.lineCount(oe),$=Math.max(te*X,t.minHeight)+t.textOffsetY;$=Math.ceil($),Y=Math.ceil(Y),I.widths[ee]=Y,I.heights[ee]=$,I.height1=Math.max(I.height1,$),I.width1=Math.max(I.width1,Y),k?(I.totalWidth=Math.max(I.totalWidth,Y),I.openWidth=I.totalWidth,I.totalHeight+=$+t.gapButton,I.openHeight+=$+t.gapButton):(I.totalWidth+=Y+t.gapButton,I.openWidth+=Y+t.gapButton,I.totalHeight=Math.max(I.totalHeight,$),I.openHeight=I.totalHeight)}),k?I.totalHeight-=t.gapButton:I.totalWidth-=t.gapButton,I.headerWidth=I.width1+t.arrowPadX,I.headerHeight=I.height1,_.type==="dropdown"&&(k?(I.width1+=t.arrowPadX,I.totalHeight=I.height1):I.totalWidth=I.width1,I.totalWidth+=t.arrowPadX),N.remove();var F=I.totalWidth+_.pad.l+_.pad.r,O=I.totalHeight+_.pad.t+_.pad.b,z=x._fullLayout._size;I.lx=z.l+z.w*_.x,I.ly=z.t+z.h*(1-_.y);var B="left";A.isRightAnchor(_)&&(I.lx-=F,B="right"),A.isCenterAnchor(_)&&(I.lx-=F/2,B="center");var W="top";A.isBottomAnchor(_)&&(I.ly-=O,W="bottom"),A.isMiddleAnchor(_)&&(I.ly-=O/2,W="middle"),I.totalWidth=Math.ceil(I.totalWidth),I.totalHeight=Math.ceil(I.totalHeight),I.lx=Math.round(I.lx),I.ly=Math.round(I.ly),L.autoMargin(x,T(_),{x:_.x,y:_.y,l:F*({right:1,center:.5}[B]||0),r:F*({left:1,center:.5}[B]||0),b:O*({top:1,middle:.5}[W]||0),t:O*({bottom:1,middle:.5}[W]||0)})}function T(x){return t.autoMarginIdRoot+x._index}function o(x,_,I,N){N=N||{};var k=x.select("."+t.itemRectClassName),F=x.select("."+t.itemTextClassName),O=_.borderwidth,z=I.index,B=_._dims;C.setTranslate(x,O+I.x,O+I.y);var W=["up","down"].indexOf(_.direction)!==-1,q=N.height||(W?B.heights[z]:B.height1);k.attr({x:0,y:0,width:N.width||(W?B.width1:B.widths[z]),height:q});var ee=_.font.size*r,Q=v.lineCount(F),oe=(Q-1)*ee/2;v.positionText(F,t.textOffsetX,q/2-oe+t.textOffsetY),W?I.y+=B.heights[z]+I.yPad:I.x+=B.widths[z]+I.xPad,I.index++}function P(x,_){x.attr(t.menuIndexAttrName,_||"-1").selectAll("g."+t.dropdownButtonClassName).remove()}},76908:function(G,U,e){var g=e(73712);G.exports={moduleType:"component",name:g.name,layoutAttributes:e(88444),supplyLayoutDefaults:e(91384),draw:e(14420)}},37400:function(G,U,e){G.exports=A;var g=e(33428),L=e(76308),a=e(43616),C=e(3400);function A(v,p,r){this.gd=v,this.container=p,this.id=r,this.position=null,this.translateX=null,this.translateY=null,this.hbar=null,this.vbar=null,this.bg=this.container.selectAll("rect.scrollbox-bg").data([0]),this.bg.exit().on(".drag",null).on("wheel",null).remove(),this.bg.enter().append("rect").classed("scrollbox-bg",!0).style("pointer-events","all").attr({opacity:0,x:0,y:0,width:0,height:0})}A.barWidth=2,A.barLength=20,A.barRadius=2,A.barPad=1,A.barColor="#808BA4",A.prototype.enable=function(p,r,t){var s=this.gd._fullLayout,n=s.width,f=s.height;this.position=p;var u=this.position.l,l=this.position.w,m=this.position.t,h=this.position.h,M=this.position.direction,c=M==="down",i=M==="left",d=M==="right",b=M==="up",w=l,E=h,y,S,T,o;!c&&!i&&!d&&!b&&(this.position.direction="down",c=!0);var P=c||b;P?(y=u,S=y+w,c?(T=m,o=Math.min(T+E,f),E=o-T):(o=m+E,T=Math.max(o-E,0),E=o-T)):(T=m,o=T+E,i?(S=u+w,y=Math.max(S-w,0),w=S-y):(y=u,S=Math.min(y+w,n),w=S-y)),this._box={l:y,t:T,w,h:E};var x=l>w,_=A.barLength+2*A.barPad,I=A.barWidth+2*A.barPad,N=u,k=m+h;k+I>f&&(k=f-I);var F=this.container.selectAll("rect.scrollbar-horizontal").data(x?[0]:[]);F.exit().on(".drag",null).remove(),F.enter().append("rect").classed("scrollbar-horizontal",!0).call(L.fill,A.barColor),x?(this.hbar=F.attr({rx:A.barRadius,ry:A.barRadius,x:N,y:k,width:_,height:I}),this._hbarXMin=N+_/2,this._hbarTranslateMax=w-_):(delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax);var O=h>E,z=A.barWidth+2*A.barPad,B=A.barLength+2*A.barPad,W=u+l,q=m;W+z>n&&(W=n-z);var ee=this.container.selectAll("rect.scrollbar-vertical").data(O?[0]:[]);ee.exit().on(".drag",null).remove(),ee.enter().append("rect").classed("scrollbar-vertical",!0).call(L.fill,A.barColor),O?(this.vbar=ee.attr({rx:A.barRadius,ry:A.barRadius,x:W,y:q,width:z,height:B}),this._vbarYMin=q+B/2,this._vbarTranslateMax=E-B):(delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax);var Q=this.id,oe=y-.5,Z=O?S+z+.5:S+.5,Y=T-.5,te=x?o+I+.5:o+.5,X=s._topdefs.selectAll("#"+Q).data(x||O?[0]:[]);if(X.exit().remove(),X.enter().append("clipPath").attr("id",Q).append("rect"),x||O?(this._clipRect=X.select("rect").attr({x:Math.floor(oe),y:Math.floor(Y),width:Math.ceil(Z)-Math.floor(oe),height:Math.ceil(te)-Math.floor(Y)}),this.container.call(a.setClipUrl,Q,this.gd),this.bg.attr({x:u,y:m,width:l,height:h})):(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(a.setClipUrl,null),delete this._clipRect),x||O){var $=g.behavior.drag().on("dragstart",function(){g.event.sourceEvent.preventDefault()}).on("drag",this._onBoxDrag.bind(this));this.container.on("wheel",null).on("wheel",this._onBoxWheel.bind(this)).on(".drag",null).call($);var ie=g.behavior.drag().on("dragstart",function(){g.event.sourceEvent.preventDefault(),g.event.sourceEvent.stopPropagation()}).on("drag",this._onBarDrag.bind(this));x&&this.hbar.on(".drag",null).call(ie),O&&this.vbar.on(".drag",null).call(ie)}this.setTranslate(r,t)},A.prototype.disable=function(){(this.hbar||this.vbar)&&(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(a.setClipUrl,null),delete this._clipRect),this.hbar&&(this.hbar.on(".drag",null),this.hbar.remove(),delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax),this.vbar&&(this.vbar.on(".drag",null),this.vbar.remove(),delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax)},A.prototype._onBoxDrag=function(){var p=this.translateX,r=this.translateY;this.hbar&&(p-=g.event.dx),this.vbar&&(r-=g.event.dy),this.setTranslate(p,r)},A.prototype._onBoxWheel=function(){var p=this.translateX,r=this.translateY;this.hbar&&(p+=g.event.deltaY),this.vbar&&(r+=g.event.deltaY),this.setTranslate(p,r)},A.prototype._onBarDrag=function(){var p=this.translateX,r=this.translateY;if(this.hbar){var t=p+this._hbarXMin,s=t+this._hbarTranslateMax,n=C.constrain(g.event.x,t,s),f=(n-t)/(s-t),u=this.position.w-this._box.w;p=f*u}if(this.vbar){var l=r+this._vbarYMin,m=l+this._vbarTranslateMax,h=C.constrain(g.event.y,l,m),M=(h-l)/(m-l),c=this.position.h-this._box.h;r=M*c}this.setTranslate(p,r)},A.prototype.setTranslate=function(p,r){var t=this.position.w-this._box.w,s=this.position.h-this._box.h;if(p=C.constrain(p||0,0,t),r=C.constrain(r||0,0,s),this.translateX=p,this.translateY=r,this.container.call(a.setTranslate,this._box.l-this.position.l-p,this._box.t-this.position.t-r),this._clipRect&&this._clipRect.attr({x:Math.floor(this.position.l+p-.5),y:Math.floor(this.position.t+r-.5)}),this.hbar){var n=p/t;this.hbar.call(a.setTranslate,p+n*this._hbarTranslateMax,r)}if(this.vbar){var f=r/s;this.vbar.call(a.setTranslate,p,r+f*this._vbarTranslateMax)}}},84284:function(G){G.exports={FROM_BL:{left:0,center:.5,right:1,bottom:0,middle:.5,top:1},FROM_TL:{left:0,center:.5,right:1,bottom:1,middle:.5,top:0},FROM_BR:{left:1,center:.5,right:0,bottom:0,middle:.5,top:1},LINE_SPACING:1.3,CAP_SHIFT:.7,MID_SHIFT:.35,OPPOSITE_SIDE:{left:"right",right:"left",top:"bottom",bottom:"top"}}},36208:function(G){G.exports={axisRefDescription:function(U,e,g){return["If set to a",U,"axis id (e.g. *"+U+"* or","*"+U+"2*), the `"+U+"` position refers to a",U,"coordinate. If set to *paper*, the `"+U+"`","position refers to the distance from the",e,"of the plotting","area in normalized coordinates where *0* (*1*) corresponds to the",e,"("+g+"). If set to a",U,"axis ID followed by","*domain* (separated by a space), the position behaves like for","*paper*, but refers to the distance in fractions of the domain","length from the",e,"of the domain of that axis: e.g.,","*"+U+"2 domain* refers to the domain of the second",U," axis and a",U,"position of 0.5 refers to the","point between the",e,"and the",g,"of the domain of the","second",U,"axis."].join(" ")}}},48164:function(G){G.exports={INCREASING:{COLOR:"#3D9970",SYMBOL:"\u25B2"},DECREASING:{COLOR:"#FF4136",SYMBOL:"\u25BC"}}},26880:function(G){G.exports={FORMAT_LINK:"https://github.com/d3/d3-format/tree/v1.4.5#d3-format",DATE_FORMAT_LINK:"https://github.com/d3/d3-time-format/tree/v2.2.3#locale_format"}},69104:function(G){G.exports={COMPARISON_OPS:["=","!=","<",">=",">","<="],COMPARISON_OPS2:["=","<",">=",">","<="],INTERVAL_OPS:["[]","()","[)","(]","][",")(","](",")["],SET_OPS:["{}","}{"],CONSTRAINT_REDUCTION:{"=":"=","<":"<","<=":"<",">":">",">=":">","[]":"[]","()":"[]","[)":"[]","(]":"[]","][":"][",")(":"][","](":"][",")[":"]["}}},99168:function(G){G.exports={solid:[[],0],dot:[[.5,1],200],dash:[[.5,1],50],longdash:[[.5,1],10],dashdot:[[.5,.625,.875,1],50],longdashdot:[[.5,.7,.8,1],10]}},87792:function(G){G.exports={circle:"\u25CF","circle-open":"\u25CB",square:"\u25A0","square-open":"\u25A1",diamond:"\u25C6","diamond-open":"\u25C7",cross:"+",x:"\u274C"}},13448:function(G){G.exports={SHOW_PLACEHOLDER:100,HIDE_PLACEHOLDER:1e3,DESELECTDIM:.2}},39032:function(G){G.exports={BADNUM:void 0,FP_SAFE:Number.MAX_VALUE*1e-4,ONEMAXYEAR:316224e5,ONEAVGYEAR:315576e5,ONEMINYEAR:31536e6,ONEMAXQUARTER:79488e5,ONEAVGQUARTER:78894e5,ONEMINQUARTER:76896e5,ONEMAXMONTH:26784e5,ONEAVGMONTH:26298e5,ONEMINMONTH:24192e5,ONEWEEK:6048e5,ONEDAY:864e5,ONEHOUR:36e5,ONEMIN:6e4,ONESEC:1e3,EPOCHJD:24405875e-1,ALMOST_EQUAL:.999999,LOG_CLIP:10,MINUS_SIGN:"\u2212"}},2264:function(G,U){U.CSS_DECLARATIONS=[["image-rendering","optimizeSpeed"],["image-rendering","-moz-crisp-edges"],["image-rendering","-o-crisp-edges"],["image-rendering","-webkit-optimize-contrast"],["image-rendering","optimize-contrast"],["image-rendering","crisp-edges"],["image-rendering","pixelated"]],U.STYLE=U.CSS_DECLARATIONS.map(function(e){return e.join(": ")+"; "}).join("")},9616:function(G,U){U.xmlns="http://www.w3.org/2000/xmlns/",U.svg="http://www.w3.org/2000/svg",U.xlink="http://www.w3.org/1999/xlink",U.svgAttrs={xmlns:U.svg,"xmlns:xlink":U.xlink}},64884:function(G,U,e){U.version=e(25788).version,e(88324),e(79288);for(var g=e(24040),L=U.register=g.register,a=e(22448),C=Object.keys(a),A=0;A<C.length;A++){var v=C[A];v.charAt(0)!=="_"&&(U[v]=a[v]),L({moduleType:"apiMethod",name:v,fn:a[v]})}L(e(65875)),L([e(79180),e(56864),e(22676),e(41592),e(7402),e(76908),e(97544),e(49692),e(41152),e(12704),e(64968),e(8932),e(55080),e(2780),e(93024),e(45460)]),L([e(6580),e(11680)]),window.PlotlyLocales&&Array.isArray(window.PlotlyLocales)&&(L(window.PlotlyLocales),delete window.PlotlyLocales),U.Icons=e(9224);var p=e(93024),r=e(7316);U.Plots={resize:r.resize,graphJson:r.graphJson,sendDataToCloud:r.sendDataToCloud},U.Fx={hover:p.hover,unhover:p.unhover,loneHover:p.loneHover,loneUnhover:p.loneUnhover},U.Snapshot=e(78904),U.PlotSchema=e(73060)},9224:function(G){G.exports={undo:{width:857.1,height:1e3,path:"m857 350q0-87-34-166t-91-137-137-92-166-34q-96 0-183 41t-147 114q-4 6-4 13t5 11l76 77q6 5 14 5 9-1 13-7 41-53 100-82t126-29q58 0 110 23t92 61 61 91 22 111-22 111-61 91-92 61-110 23q-55 0-105-20t-90-57l77-77q17-16 8-38-10-23-33-23h-250q-15 0-25 11t-11 25v250q0 24 22 33 22 10 39-8l72-72q60 57 137 88t159 31q87 0 166-34t137-92 91-137 34-166z",transform:"matrix(1 0 0 -1 0 850)"},home:{width:928.6,height:1e3,path:"m786 296v-267q0-15-11-26t-25-10h-214v214h-143v-214h-214q-15 0-25 10t-11 26v267q0 1 0 2t0 2l321 264 321-264q1-1 1-4z m124 39l-34-41q-5-5-12-6h-2q-7 0-12 3l-386 322-386-322q-7-4-13-4-7 2-12 7l-35 41q-4 5-3 13t6 12l401 334q18 15 42 15t43-15l136-114v109q0 8 5 13t13 5h107q8 0 13-5t5-13v-227l122-102q5-5 6-12t-4-13z",transform:"matrix(1 0 0 -1 0 850)"},"camera-retro":{width:1e3,height:1e3,path:"m518 386q0 8-5 13t-13 5q-37 0-63-27t-26-63q0-8 5-13t13-5 12 5 5 13q0 23 16 38t38 16q8 0 13 5t5 13z m125-73q0-59-42-101t-101-42-101 42-42 101 42 101 101 42 101-42 42-101z m-572-320h858v71h-858v-71z m643 320q0 89-62 152t-152 62-151-62-63-152 63-151 151-63 152 63 62 151z m-571 358h214v72h-214v-72z m-72-107h858v143h-462l-36-71h-360v-72z m929 143v-714q0-30-21-51t-50-21h-858q-29 0-50 21t-21 51v714q0 30 21 51t50 21h858q29 0 50-21t21-51z",transform:"matrix(1 0 0 -1 0 850)"},zoombox:{width:1e3,height:1e3,path:"m1000-25l-250 251c40 63 63 138 63 218 0 224-182 406-407 406-224 0-406-182-406-406s183-406 407-406c80 0 155 22 218 62l250-250 125 125z m-812 250l0 438 437 0 0-438-437 0z m62 375l313 0 0-312-313 0 0 312z",transform:"matrix(1 0 0 -1 0 850)"},pan:{width:1e3,height:1e3,path:"m1000 350l-187 188 0-125-250 0 0 250 125 0-188 187-187-187 125 0 0-250-250 0 0 125-188-188 186-187 0 125 252 0 0-250-125 0 187-188 188 188-125 0 0 250 250 0 0-126 187 188z",transform:"matrix(1 0 0 -1 0 850)"},zoom_plus:{width:875,height:1e3,path:"m1 787l0-875 875 0 0 875-875 0z m687-500l-187 0 0-187-125 0 0 187-188 0 0 125 188 0 0 187 125 0 0-187 187 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},zoom_minus:{width:875,height:1e3,path:"m0 788l0-876 875 0 0 876-875 0z m688-500l-500 0 0 125 500 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},autoscale:{width:1e3,height:1e3,path:"m250 850l-187 0-63 0 0-62 0-188 63 0 0 188 187 0 0 62z m688 0l-188 0 0-62 188 0 0-188 62 0 0 188 0 62-62 0z m-875-938l0 188-63 0 0-188 0-62 63 0 187 0 0 62-187 0z m875 188l0-188-188 0 0-62 188 0 62 0 0 62 0 188-62 0z m-125 188l-1 0-93-94-156 156 156 156 92-93 2 0 0 250-250 0 0-2 93-92-156-156-156 156 94 92 0 2-250 0 0-250 0 0 93 93 157-156-157-156-93 94 0 0 0-250 250 0 0 0-94 93 156 157 156-157-93-93 0 0 250 0 0 250z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_basic:{width:1500,height:1e3,path:"m375 725l0 0-375-375 375-374 0-1 1125 0 0 750-1125 0z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_compare:{width:1125,height:1e3,path:"m187 786l0 2-187-188 188-187 0 0 937 0 0 373-938 0z m0-499l0 1-187-188 188-188 0 0 937 0 0 376-938-1z",transform:"matrix(1 0 0 -1 0 850)"},plotlylogo:{width:1542,height:1e3,path:"m0-10h182v-140h-182v140z m228 146h183v-286h-183v286z m225 714h182v-1000h-182v1000z m225-285h182v-715h-182v715z m225 142h183v-857h-183v857z m231-428h182v-429h-182v429z m225-291h183v-138h-183v138z",transform:"matrix(1 0 0 -1 0 850)"},"z-axis":{width:1e3,height:1e3,path:"m833 5l-17 108v41l-130-65 130-66c0 0 0 38 0 39 0-1 36-14 39-25 4-15-6-22-16-30-15-12-39-16-56-20-90-22-187-23-279-23-261 0-341 34-353 59 3 60 228 110 228 110-140-8-351-35-351-116 0-120 293-142 474-142 155 0 477 22 477 142 0 50-74 79-163 96z m-374 94c-58-5-99-21-99-40 0-24 65-43 144-43 79 0 143 19 143 43 0 19-42 34-98 40v216h87l-132 135-133-135h88v-216z m167 515h-136v1c16 16 31 34 46 52l84 109v54h-230v-71h124v-1c-16-17-28-32-44-51l-89-114v-51h245v72z",transform:"matrix(1 0 0 -1 0 850)"},"3d_rotate":{width:1e3,height:1e3,path:"m922 660c-5 4-9 7-14 11-359 263-580-31-580-31l-102 28 58-400c0 1 1 1 2 2 118 108 351 249 351 249s-62 27-100 42c88 83 222 183 347 122 16-8 30-17 44-27-2 1-4 2-6 4z m36-329c0 0 64 229-88 296-62 27-124 14-175-11 157-78 225-208 249-266 8-19 11-31 11-31 2 5 6 15 11 32-5-13-8-20-8-20z m-775-239c70-31 117-50 198-32-121 80-199 346-199 346l-96-15-58-12c0 0 55-226 155-287z m603 133l-317-139c0 0 4-4 19-14 7-5 24-15 24-15s-177-147-389 4c235-287 536-112 536-112l31-22 100 299-4-1z m-298-153c6-4 14-9 24-15 0 0-17 10-24 15z",transform:"matrix(1 0 0 -1 0 850)"},camera:{width:1e3,height:1e3,path:"m500 450c-83 0-150-67-150-150 0-83 67-150 150-150 83 0 150 67 150 150 0 83-67 150-150 150z m400 150h-120c-16 0-34 13-39 29l-31 93c-6 15-23 28-40 28h-340c-16 0-34-13-39-28l-31-94c-6-15-23-28-40-28h-120c-55 0-100-45-100-100v-450c0-55 45-100 100-100h800c55 0 100 45 100 100v450c0 55-45 100-100 100z m-400-550c-138 0-250 112-250 250 0 138 112 250 250 250 138 0 250-112 250-250 0-138-112-250-250-250z m365 380c-19 0-35 16-35 35 0 19 16 35 35 35 19 0 35-16 35-35 0-19-16-35-35-35z",transform:"matrix(1 0 0 -1 0 850)"},movie:{width:1e3,height:1e3,path:"m938 413l-188-125c0 37-17 71-44 94 64 38 107 107 107 187 0 121-98 219-219 219-121 0-219-98-219-219 0-61 25-117 66-156h-115c30 33 49 76 49 125 0 103-84 187-187 187s-188-84-188-187c0-57 26-107 65-141-38-22-65-62-65-109v-250c0-70 56-126 125-126h500c69 0 125 56 125 126l188-126c34 0 62 28 62 63v375c0 35-28 63-62 63z m-750 0c-69 0-125 56-125 125s56 125 125 125 125-56 125-125-56-125-125-125z m406-1c-87 0-157 70-157 157 0 86 70 156 157 156s156-70 156-156-70-157-156-157z",transform:"matrix(1 0 0 -1 0 850)"},question:{width:857.1,height:1e3,path:"m500 82v107q0 8-5 13t-13 5h-107q-8 0-13-5t-5-13v-107q0-8 5-13t13-5h107q8 0 13 5t5 13z m143 375q0 49-31 91t-77 65-95 23q-136 0-207-119-9-14 4-24l74-55q4-4 10-4 9 0 14 7 30 38 48 51 19 14 48 14 27 0 48-15t21-33q0-21-11-34t-38-25q-35-16-65-48t-29-70v-20q0-8 5-13t13-5h107q8 0 13 5t5 13q0 10 12 27t30 28q18 10 28 16t25 19 25 27 16 34 7 45z m214-107q0-117-57-215t-156-156-215-58-216 58-155 156-58 215 58 215 155 156 216 58 215-58 156-156 57-215z",transform:"matrix(1 0 0 -1 0 850)"},disk:{width:857.1,height:1e3,path:"m214-7h429v214h-429v-214z m500 0h72v500q0 8-6 21t-11 20l-157 156q-5 6-19 12t-22 5v-232q0-22-15-38t-38-16h-322q-22 0-37 16t-16 38v232h-72v-714h72v232q0 22 16 38t37 16h465q22 0 38-16t15-38v-232z m-214 518v178q0 8-5 13t-13 5h-107q-7 0-13-5t-5-13v-178q0-8 5-13t13-5h107q7 0 13 5t5 13z m357-18v-518q0-22-15-38t-38-16h-750q-23 0-38 16t-16 38v750q0 22 16 38t38 16h517q23 0 50-12t42-26l156-157q16-15 27-42t11-49z",transform:"matrix(1 0 0 -1 0 850)"},drawopenpath:{width:70,height:70,path:"M33.21,85.65a7.31,7.31,0,0,1-2.59-.48c-8.16-3.11-9.27-19.8-9.88-41.3-.1-3.58-.19-6.68-.35-9-.15-2.1-.67-3.48-1.43-3.79-2.13-.88-7.91,2.32-12,5.86L3,32.38c1.87-1.64,11.55-9.66,18.27-6.9,2.13.87,4.75,3.14,5.17,9,.17,2.43.26,5.59.36,9.25a224.17,224.17,0,0,0,1.5,23.4c1.54,10.76,4,12.22,4.48,12.4.84.32,2.79-.46,5.76-3.59L43,80.07C41.53,81.57,37.68,85.64,33.21,85.65ZM74.81,69a11.34,11.34,0,0,0,6.09-6.72L87.26,44.5,74.72,32,56.9,38.35c-2.37.86-5.57,3.42-6.61,6L38.65,72.14l8.42,8.43ZM55,46.27a7.91,7.91,0,0,1,3.64-3.17l14.8-5.3,8,8L76.11,60.6l-.06.19a6.37,6.37,0,0,1-3,3.43L48.25,74.59,44.62,71Zm16.57,7.82A6.9,6.9,0,1,0,64.64,61,6.91,6.91,0,0,0,71.54,54.09Zm-4.05,0a2.85,2.85,0,1,1-2.85-2.85A2.86,2.86,0,0,1,67.49,54.09Zm-4.13,5.22L60.5,56.45,44.26,72.7l2.86,2.86ZM97.83,35.67,84.14,22l-8.57,8.57L89.26,44.24Zm-13.69-8,8,8-2.85,2.85-8-8Z",transform:"matrix(1 0 0 1 -15 -15)"},drawclosedpath:{width:90,height:90,path:"M88.41,21.12a26.56,26.56,0,0,0-36.18,0l-2.07,2-2.07-2a26.57,26.57,0,0,0-36.18,0,23.74,23.74,0,0,0,0,34.8L48,90.12a3.22,3.22,0,0,0,4.42,0l36-34.21a23.73,23.73,0,0,0,0-34.79ZM84,51.24,50.16,83.35,16.35,51.25a17.28,17.28,0,0,1,0-25.47,20,20,0,0,1,27.3,0l4.29,4.07a3.23,3.23,0,0,0,4.44,0l4.29-4.07a20,20,0,0,1,27.3,0,17.27,17.27,0,0,1,0,25.46ZM66.76,47.68h-33v6.91h33ZM53.35,35H46.44V68h6.91Z",transform:"matrix(1 0 0 1 -5 -5)"},lasso:{width:1031,height:1e3,path:"m1018 538c-36 207-290 336-568 286-277-48-473-256-436-463 10-57 36-108 76-151-13-66 11-137 68-183 34-28 75-41 114-42l-55-70 0 0c-2-1-3-2-4-3-10-14-8-34 5-45 14-11 34-8 45 4 1 1 2 3 2 5l0 0 113 140c16 11 31 24 45 40 4 3 6 7 8 11 48-3 100 0 151 9 278 48 473 255 436 462z m-624-379c-80 14-149 48-197 96 42 42 109 47 156 9 33-26 47-66 41-105z m-187-74c-19 16-33 37-39 60 50-32 109-55 174-68-42-25-95-24-135 8z m360 75c-34-7-69-9-102-8 8 62-16 128-68 170-73 59-175 54-244-5-9 20-16 40-20 61-28 159 121 317 333 354s407-60 434-217c28-159-121-318-333-355z",transform:"matrix(1 0 0 -1 0 850)"},selectbox:{width:1e3,height:1e3,path:"m0 850l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-285l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z",transform:"matrix(1 0 0 -1 0 850)"},drawline:{width:70,height:70,path:"M60.64,62.3a11.29,11.29,0,0,0,6.09-6.72l6.35-17.72L60.54,25.31l-17.82,6.4c-2.36.86-5.57,3.41-6.6,6L24.48,65.5l8.42,8.42ZM40.79,39.63a7.89,7.89,0,0,1,3.65-3.17l14.79-5.31,8,8L61.94,54l-.06.19a6.44,6.44,0,0,1-3,3.43L34.07,68l-3.62-3.63Zm16.57,7.81a6.9,6.9,0,1,0-6.89,6.9A6.9,6.9,0,0,0,57.36,47.44Zm-4,0a2.86,2.86,0,1,1-2.85-2.85A2.86,2.86,0,0,1,53.32,47.44Zm-4.13,5.22L46.33,49.8,30.08,66.05l2.86,2.86ZM83.65,29,70,15.34,61.4,23.9,75.09,37.59ZM70,21.06l8,8-2.84,2.85-8-8ZM87,80.49H10.67V87H87Z",transform:"matrix(1 0 0 1 -15 -15)"},drawrect:{width:80,height:80,path:"M78,22V79H21V22H78m9-9H12V88H87V13ZM68,46.22H31V54H68ZM53,32H45.22V69H53Z",transform:"matrix(1 0 0 1 -10 -10)"},drawcircle:{width:80,height:80,path:"M50,84.72C26.84,84.72,8,69.28,8,50.3S26.84,15.87,50,15.87,92,31.31,92,50.3,73.16,84.72,50,84.72Zm0-60.59c-18.6,0-33.74,11.74-33.74,26.17S31.4,76.46,50,76.46,83.74,64.72,83.74,50.3,68.6,24.13,50,24.13Zm17.15,22h-34v7.11h34Zm-13.8-13H46.24v34h7.11Z",transform:"matrix(1 0 0 1 -10 -10)"},eraseshape:{width:80,height:80,path:"M82.77,78H31.85L6,49.57,31.85,21.14H82.77a8.72,8.72,0,0,1,8.65,8.77V69.24A8.72,8.72,0,0,1,82.77,78ZM35.46,69.84H82.77a.57.57,0,0,0,.49-.6V29.91a.57.57,0,0,0-.49-.61H35.46L17,49.57Zm32.68-34.7-24,24,5,5,24-24Zm-19,.53-5,5,24,24,5-5Z",transform:"matrix(1 0 0 1 -10 -10)"},spikeline:{width:1e3,height:1e3,path:"M512 409c0-57-46-104-103-104-57 0-104 47-104 104 0 57 47 103 104 103 57 0 103-46 103-103z m-327-39l92 0 0 92-92 0z m-185 0l92 0 0 92-92 0z m370-186l92 0 0 93-92 0z m0-184l92 0 0 92-92 0z",transform:"matrix(1.5 0 0 -1.5 0 850)"},pencil:{width:1792,height:1792,path:"M491 1536l91-91-235-235-91 91v107h128v128h107zm523-928q0-22-22-22-10 0-17 7l-542 542q-7 7-7 17 0 22 22 22 10 0 17-7l542-542q7-7 7-17zm-54-192l416 416-832 832h-416v-416zm683 96q0 53-37 90l-166 166-416-416 166-165q36-38 90-38 53 0 91 38l235 234q37 39 37 91z",transform:"matrix(1 0 0 1 0 1)"},newplotlylogo:{name:"newplotlylogo",svg:["<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 132 132'>","<defs>"," <style>","  .cls-0{fill:#000;}","  .cls-1{fill:#FFF;}","  .cls-2{fill:#F26;}","  .cls-3{fill:#D69;}","  .cls-4{fill:#BAC;}","  .cls-5{fill:#9EF;}"," </style>","</defs>"," <title>plotly-logomark</title>"," <g id='symbol'>","  <rect class='cls-0' x='0' y='0' width='132' height='132' rx='18' ry='18'/>","  <circle class='cls-5' cx='102' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='54' r='6'/>","  <circle class='cls-3' cx='54' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='54' r='6'/>","  <path class='cls-1' d='M30,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,30,72Z'/>","  <path class='cls-1' d='M78,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,78,72Z'/>","  <path class='cls-1' d='M54,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,54,48Z'/>","  <path class='cls-1' d='M102,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,102,48Z'/>"," </g>","</svg>"].join("")}}},98308:function(G,U){U.isLeftAnchor=function(g){return g.xanchor==="left"||g.xanchor==="auto"&&g.x<=.3333333333333333},U.isCenterAnchor=function(g){return g.xanchor==="center"||g.xanchor==="auto"&&g.x>.3333333333333333&&g.x<.6666666666666666},U.isRightAnchor=function(g){return g.xanchor==="right"||g.xanchor==="auto"&&g.x>=.6666666666666666},U.isTopAnchor=function(g){return g.yanchor==="top"||g.yanchor==="auto"&&g.y>=.6666666666666666},U.isMiddleAnchor=function(g){return g.yanchor==="middle"||g.yanchor==="auto"&&g.y>.3333333333333333&&g.y<.6666666666666666},U.isBottomAnchor=function(g){return g.yanchor==="bottom"||g.yanchor==="auto"&&g.y<=.3333333333333333}},11864:function(G,U,e){var g=e(20435),L=g.mod,a=g.modHalf,C=Math.PI,A=2*C;function v(M){return M/180*C}function p(M){return M/C*180}function r(M){return Math.abs(M[1]-M[0])>A-1e-14}function t(M,c){return a(c-M,A)}function s(M,c){return Math.abs(t(M,c))}function n(M,c){if(r(c))return!0;var i,d;c[0]<c[1]?(i=c[0],d=c[1]):(i=c[1],d=c[0]),i=L(i,A),d=L(d,A),i>d&&(d+=A);var b=L(M,A),w=b+A;return b>=i&&b<=d||w>=i&&w<=d}function f(M,c,i,d){if(!n(c,d))return!1;var b,w;return i[0]<i[1]?(b=i[0],w=i[1]):(b=i[1],w=i[0]),M>=b&&M<=w}function u(M,c,i,d,b,w,E){b=b||0,w=w||0;var y=r([i,d]),S,T,o,P,x;y?(S=0,T=C,o=A):i<d?(S=i,o=d):(S=d,o=i),M<c?(P=M,x=c):(P=c,x=M);function _(F,O){return[F*Math.cos(O)+b,w-F*Math.sin(O)]}var I=Math.abs(o-S)<=C?0:1;function N(F,O,z){return"A"+[F,F]+" "+[0,I,z]+" "+_(F,O)}var k;return y?P===null?k="M"+_(x,S)+N(x,T,0)+N(x,o,0)+"Z":k="M"+_(P,S)+N(P,T,0)+N(P,o,0)+"ZM"+_(x,S)+N(x,T,1)+N(x,o,1)+"Z":P===null?(k="M"+_(x,S)+N(x,o,0),E&&(k+="L0,0Z")):k="M"+_(P,S)+"L"+_(x,S)+N(x,o,0)+"L"+_(P,o)+N(P,S,1)+"Z",k}function l(M,c,i,d,b){return u(null,M,c,i,d,b,0)}function m(M,c,i,d,b){return u(null,M,c,i,d,b,1)}function h(M,c,i,d,b,w){return u(M,c,i,d,b,w,1)}G.exports={deg2rad:v,rad2deg:p,angleDelta:t,angleDist:s,isFullCircle:r,isAngleInsideSector:n,isPtInsideSector:f,pathArc:l,pathSector:m,pathAnnulus:h}},38116:function(G,U,e){var g=e(83160).decode,L=e(63620),a=Array.isArray,C=ArrayBuffer,A=DataView;function v(u){return C.isView(u)&&!(u instanceof A)}U.isTypedArray=v;function p(u){return a(u)||v(u)}U.isArrayOrTypedArray=p;function r(u){return!p(u[0])}U.isArray1D=r,U.ensureArray=function(u,l){return a(u)||(u=[]),u.length=l,u};var t={u1c:typeof Uint8ClampedArray=="undefined"?void 0:Uint8ClampedArray,i1:typeof Int8Array=="undefined"?void 0:Int8Array,u1:typeof Uint8Array=="undefined"?void 0:Uint8Array,i2:typeof Int16Array=="undefined"?void 0:Int16Array,u2:typeof Uint16Array=="undefined"?void 0:Uint16Array,i4:typeof Int32Array=="undefined"?void 0:Int32Array,u4:typeof Uint32Array=="undefined"?void 0:Uint32Array,f4:typeof Float32Array=="undefined"?void 0:Float32Array,f8:typeof Float64Array=="undefined"?void 0:Float64Array};t.uint8c=t.u1c,t.uint8=t.u1,t.int8=t.i1,t.uint16=t.u2,t.int16=t.i2,t.uint32=t.u4,t.int32=t.i4,t.float32=t.f4,t.float64=t.f8;function s(u){return u.constructor===ArrayBuffer}U.isArrayBuffer=s,U.decodeTypedArraySpec=function(u){var l=[],m=n(u),h=m.dtype,M=t[h];if(!M)throw new Error('Error in dtype: "'+h+'"');var c=M.BYTES_PER_ELEMENT,i=m.bdata;s(i)||(i=g(i));var d=m.shape===void 0?[i.byteLength/c]:(""+m.shape).split(",");d.reverse();var b=d.length,w,E,y=+d[0],S=c*y,T=0;if(b===1)l=new M(i);else if(b===2)for(w=+d[1],E=0;E<w;E++)l[E]=new M(i,T,y),T+=S;else if(b===3){w=+d[1];for(var o=+d[2],P=0;P<o;P++)for(l[P]=[],E=0;E<w;E++)l[P][E]=new M(i,T,y),T+=S}else throw new Error("ndim: "+b+'is not supported with the shape:"'+m.shape+'"');return l.bdata=m.bdata,l.dtype=m.dtype,l.shape=d.reverse().join(","),u._inputArray=l,l},U.isTypedArraySpec=function(u){return L(u)&&u.hasOwnProperty("dtype")&&typeof u.dtype=="string"&&u.hasOwnProperty("bdata")&&(typeof u.bdata=="string"||s(u.bdata))&&(u.shape===void 0||u.hasOwnProperty("shape")&&(typeof u.shape=="string"||typeof u.shape=="number"))};function n(u){return{bdata:u.bdata,dtype:u.dtype,shape:u.shape}}U.concat=function(){var u=[],l=!0,m=0,h,M,c,i,d,b,w,E;for(c=0;c<arguments.length;c++)i=arguments[c],b=i.length,b&&(M?u.push(i):(M=i,d=b),a(i)?h=!1:(l=!1,m?h!==i.constructor&&(h=!1):h=i.constructor),m+=b);if(!m)return[];if(!u.length)return M;if(l)return M.concat.apply(M,u);if(h){for(w=new h(m),w.set(M),c=0;c<u.length;c++)i=u[c],w.set(i,d),d+=i.length;return w}for(w=new Array(m),E=0;E<M.length;E++)w[E]=M[E];for(c=0;c<u.length;c++){for(i=u[c],E=0;E<i.length;E++)w[d+E]=i[E];d+=E}return w},U.maxRowLength=function(u){return f(u,Math.max,0)},U.minRowLength=function(u){return f(u,Math.min,1/0)};function f(u,l,m){if(p(u))if(p(u[0])){for(var h=m,M=0;M<u.length;M++)h=l(h,u[M].length);return h}else return u.length;return 0}},54037:function(G,U,e){var g=e(38248),L=e(39032).BADNUM,a=/^['"%,$#\s']+|[, ]|['"%,$#\s']+$/g;G.exports=function(A){return typeof A=="string"&&(A=A.replace(a,"")),g(A)?Number(A):L}},73696:function(G){G.exports=function(e){var g=e._fullLayout;g._glcanvas&&g._glcanvas.size()&&g._glcanvas.each(function(L){L.regl&&L.regl.clear({color:!0,depth:!0})})}},75352:function(G){G.exports=function(e){e._responsiveChartHandler&&(window.removeEventListener("resize",e._responsiveChartHandler),delete e._responsiveChartHandler)}},63064:function(G,U,e){var g=e(38248),L=e(49760),a=e(45464),C=e(88304),A=e(76308),v=e(13448).DESELECTDIM,p=e(22296),r=e(53756).counter,t=e(20435).modHalf,s=e(38116).isArrayOrTypedArray,n=e(38116).isTypedArraySpec,f=e(38116).decodeTypedArraySpec;U.valObjectMeta={data_array:{coerceFunction:function(l,m,h){m.set(s(l)?l:n(l)?f(l):h)}},enumerated:{coerceFunction:function(l,m,h,M){M.coerceNumber&&(l=+l),M.values.indexOf(l)===-1?m.set(h):m.set(l)},validateFunction:function(l,m){m.coerceNumber&&(l=+l);for(var h=m.values,M=0;M<h.length;M++){var c=String(h[M]);if(c.charAt(0)==="/"&&c.charAt(c.length-1)==="/"){var i=new RegExp(c.substr(1,c.length-2));if(i.test(l))return!0}else if(l===h[M])return!0}return!1}},boolean:{coerceFunction:function(l,m,h){l===!0||l===!1?m.set(l):m.set(h)}},number:{coerceFunction:function(l,m,h,M){!g(l)||M.min!==void 0&&l<M.min||M.max!==void 0&&l>M.max?m.set(h):m.set(+l)}},integer:{coerceFunction:function(l,m,h,M){l%1||!g(l)||M.min!==void 0&&l<M.min||M.max!==void 0&&l>M.max?m.set(h):m.set(+l)}},string:{coerceFunction:function(l,m,h,M){if(typeof l!="string"){var c=typeof l=="number";M.strict===!0||!c?m.set(h):m.set(String(l))}else M.noBlank&&!l?m.set(h):m.set(l)}},color:{coerceFunction:function(l,m,h){L(l).isValid()?m.set(l):m.set(h)}},colorlist:{coerceFunction:function(l,m,h){function M(c){return L(c).isValid()}!Array.isArray(l)||!l.length?m.set(h):l.every(M)?m.set(l):m.set(h)}},colorscale:{coerceFunction:function(l,m,h){m.set(C.get(l,h))}},angle:{coerceFunction:function(l,m,h){l==="auto"?m.set("auto"):g(l)?m.set(t(+l,360)):m.set(h)}},subplotid:{coerceFunction:function(l,m,h,M){var c=M.regex||r(h);if(typeof l=="string"&&c.test(l)){m.set(l);return}m.set(h)},validateFunction:function(l,m){var h=m.dflt;return l===h?!0:typeof l!="string"?!1:!!r(h).test(l)}},flaglist:{coerceFunction:function(l,m,h,M){if((M.extras||[]).indexOf(l)!==-1){m.set(l);return}if(typeof l!="string"){m.set(h);return}for(var c=l.split("+"),i=0;i<c.length;){var d=c[i];M.flags.indexOf(d)===-1||c.indexOf(d)<i?c.splice(i,1):i++}c.length?m.set(c.join("+")):m.set(h)}},any:{coerceFunction:function(l,m,h){l===void 0?m.set(h):m.set(n(l)?f(l):l)}},info_array:{coerceFunction:function(l,m,h,M){function c(N,k,F){var O,z={set:function(B){O=B}};return F===void 0&&(F=k.dflt),U.valObjectMeta[k.valType].coerceFunction(N,z,F,k),O}if(n(l)&&(l=f(l)),!s(l)){m.set(h);return}var i=M.dimensions===2||M.dimensions==="1-2"&&Array.isArray(l)&&s(l[0]),d=M.items,b=[],w=Array.isArray(d),E=w&&i&&s(d[0]),y=i&&w&&!E,S=w&&!y?d.length:l.length,T,o,P,x,_,I;if(h=Array.isArray(h)?h:[],i)for(T=0;T<S;T++)for(b[T]=[],P=s(l[T])?l[T]:[],y?_=d.length:w?_=d[T].length:_=P.length,o=0;o<_;o++)y?x=d[o]:w?x=d[T][o]:x=d,I=c(P[o],x,(h[T]||[])[o]),I!==void 0&&(b[T][o]=I);else for(T=0;T<S;T++)I=c(l[T],w?d[T]:d,h[T]),I!==void 0&&(b[T]=I);m.set(b)},validateFunction:function(l,m){if(!s(l))return!1;var h=m.items,M=Array.isArray(h),c=m.dimensions===2;if(!m.freeLength&&l.length!==h.length)return!1;for(var i=0;i<l.length;i++)if(c){if(!s(l[i])||!m.freeLength&&l[i].length!==h[i].length)return!1;for(var d=0;d<l[i].length;d++)if(!u(l[i][d],M?h[i][d]:h))return!1}else if(!u(l[i],M?h[i]:h))return!1;return!0}}},U.coerce=function(l,m,h,M,c){var i=p(h,M).get(),d=p(l,M),b=p(m,M),w=d.get(),E=m._template;if(w===void 0&&E&&(w=p(E,M).get(),E=0),c===void 0&&(c=i.dflt),i.arrayOk){if(s(w))return b.set(w),w;if(n(w))return w=f(w),b.set(w),w}var y=U.valObjectMeta[i.valType].coerceFunction;y(w,b,c,i);var S=b.get();return E&&S===c&&!u(w,i)&&(w=p(E,M).get(),y(w,b,c,i),S=b.get()),S},U.coerce2=function(l,m,h,M,c){var i=p(l,M),d=U.coerce(l,m,h,M,c),b=i.get();return b!=null?d:!1},U.coerceFont=function(l,m,h){var M={};return h=h||{},M.family=l(m+".family",h.family),M.size=l(m+".size",h.size),M.color=l(m+".color",h.color),M},U.coercePattern=function(l,m,h,M){var c=l(m+".shape");if(c){l(m+".solidity"),l(m+".size");var i=l(m+".fillmode"),d=i==="overlay";if(!M){var b=l(m+".bgcolor",d?h:void 0);l(m+".fgcolor",d?A.contrast(b):h)}l(m+".fgopacity",d?.5:1)}},U.coerceHoverinfo=function(l,m,h){var M=m._module.attributes,c=M.hoverinfo?M:a,i=c.hoverinfo,d;if(h._dataLength===1){var b=i.dflt==="all"?i.flags.slice():i.dflt.split("+");b.splice(b.indexOf("name"),1),d=b.join("+")}return U.coerce(l,m,c,"hoverinfo",d)},U.coerceSelectionMarkerOpacity=function(l,m){if(!!l.marker){var h=l.marker.opacity;if(h!==void 0){var M,c;!s(h)&&!l.selected&&!l.unselected&&(M=h,c=v*h),m("selected.marker.opacity",M),m("unselected.marker.opacity",c)}}};function u(l,m){var h=U.valObjectMeta[m.valType];if(m.arrayOk&&s(l))return!0;if(h.validateFunction)return h.validateFunction(l,m);var M={},c=M,i={set:function(d){c=d}};return h.coerceFunction(l,i,M,m),c!==M}U.validate=u},67555:function(G,U,e){var g=e(94336).Yn,L=e(38248),a=e(24248),C=e(20435).mod,A=e(39032),v=A.BADNUM,p=A.ONEDAY,r=A.ONEHOUR,t=A.ONEMIN,s=A.ONESEC,n=A.EPOCHJD,f=e(24040),u=e(94336).E9,l=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\d)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,m=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\di?)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,h=new Date().getFullYear()-70;function M(k){return k&&f.componentsRegistry.calendars&&typeof k=="string"&&k!=="gregorian"}U.dateTick0=function(k,F){var O=c(k,!!F);if(F<2)return O;var z=U.dateTime2ms(O,k);return z+=p*(F-1),U.ms2DateTime(z,0,k)};function c(k,F){return M(k)?F?f.getComponentMethod("calendars","CANONICAL_SUNDAY")[k]:f.getComponentMethod("calendars","CANONICAL_TICK")[k]:F?"2000-01-02":"2000-01-01"}U.dfltRange=function(k){return M(k)?f.getComponentMethod("calendars","DFLTRANGE")[k]:["2000-01-01","2001-01-01"]},U.isJSDate=function(k){return typeof k=="object"&&k!==null&&typeof k.getTime=="function"};var i,d;U.dateTime2ms=function(k,F){if(U.isJSDate(k)){var O=k.getTimezoneOffset()*t,z=(k.getUTCMinutes()-k.getMinutes())*t+(k.getUTCSeconds()-k.getSeconds())*s+(k.getUTCMilliseconds()-k.getMilliseconds());if(z){var B=3*t;O=O-B/2+C(z-O+B/2,B)}return k=Number(k)-O,k>=i&&k<=d?k:v}if(typeof k!="string"&&typeof k!="number")return v;k=String(k);var W=M(F),q=k.charAt(0);W&&(q==="G"||q==="g")&&(k=k.substr(1),F="");var ee=W&&F.substr(0,7)==="chinese",Q=k.match(ee?m:l);if(!Q)return v;var oe=Q[1],Z=Q[3]||"1",Y=Number(Q[5]||1),te=Number(Q[7]||0),X=Number(Q[9]||0),$=Number(Q[11]||0);if(W){if(oe.length===2)return v;oe=Number(oe);var ie;try{var J=f.getComponentMethod("calendars","getCal")(F);if(ee){var j=Z.charAt(Z.length-1)==="i";Z=parseInt(Z,10),ie=J.newDate(oe,J.toMonthIndex(oe,Z,j),Y)}else ie=J.newDate(oe,Number(Z),Y)}catch{return v}return ie?(ie.toJD()-n)*p+te*r+X*t+$*s:v}oe.length===2?oe=(Number(oe)+2e3-h)%100+h:oe=Number(oe),Z-=1;var se=new Date(Date.UTC(2e3,Z,Y,te,X));return se.setUTCFullYear(oe),se.getUTCMonth()!==Z||se.getUTCDate()!==Y?v:se.getTime()+$*s},i=U.MIN_MS=U.dateTime2ms("-9999"),d=U.MAX_MS=U.dateTime2ms("9999-12-31 23:59:59.9999"),U.isDateTime=function(k,F){return U.dateTime2ms(k,F)!==v};function b(k,F){return String(k+Math.pow(10,F)).substr(1)}var w=90*p,E=3*r,y=5*t;U.ms2DateTime=function(k,F,O){if(typeof k!="number"||!(k>=i&&k<=d))return v;F||(F=0);var z=Math.floor(C(k+.05,1)*10),B=Math.round(k-z/10),W,q,ee,Q,oe,Z;if(M(O)){var Y=Math.floor(B/p)+n,te=Math.floor(C(k,p));try{W=f.getComponentMethod("calendars","getCal")(O).fromJD(Y).formatDate("yyyy-mm-dd")}catch{W=u("G%Y-%m-%d")(new Date(B))}if(W.charAt(0)==="-")for(;W.length<11;)W="-0"+W.substr(1);else for(;W.length<10;)W="0"+W;q=F<w?Math.floor(te/r):0,ee=F<w?Math.floor(te%r/t):0,Q=F<E?Math.floor(te%t/s):0,oe=F<y?te%s*10+z:0}else Z=new Date(B),W=u("%Y-%m-%d")(Z),q=F<w?Z.getUTCHours():0,ee=F<w?Z.getUTCMinutes():0,Q=F<E?Z.getUTCSeconds():0,oe=F<y?Z.getUTCMilliseconds()*10+z:0;return S(W,q,ee,Q,oe)},U.ms2DateTimeLocal=function(k){if(!(k>=i+p&&k<=d-p))return v;var F=Math.floor(C(k+.05,1)*10),O=new Date(Math.round(k-F/10)),z=g("%Y-%m-%d")(O),B=O.getHours(),W=O.getMinutes(),q=O.getSeconds(),ee=O.getUTCMilliseconds()*10+F;return S(z,B,W,q,ee)};function S(k,F,O,z,B){if((F||O||z||B)&&(k+=" "+b(F,2)+":"+b(O,2),(z||B)&&(k+=":"+b(z,2),B))){for(var W=4;B%10===0;)W-=1,B/=10;k+="."+b(B,W)}return k}U.cleanDate=function(k,F,O){if(k===v)return F;if(U.isJSDate(k)||typeof k=="number"&&isFinite(k)){if(M(O))return a.error("JS Dates and milliseconds are incompatible with world calendars",k),F;if(k=U.ms2DateTimeLocal(+k),!k&&F!==void 0)return F}else if(!U.isDateTime(k,O))return a.error("unrecognized date",k),F;return k};var T=/%\d?f/g,o=/%h/g,P={1:"1",2:"1",3:"2",4:"2"};function x(k,F,O,z){k=k.replace(T,function(W){var q=Math.min(+W.charAt(1)||6,6),ee=(F/1e3%1+2).toFixed(q).substr(2).replace(/0+$/,"")||"0";return ee});var B=new Date(Math.floor(F+.05));if(k=k.replace(o,function(){return P[O("%q")(B)]}),M(z))try{k=f.getComponentMethod("calendars","worldCalFmt")(k,F,z)}catch{return"Invalid"}return O(k)(B)}var _=[59,59.9,59.99,59.999,59.9999];function I(k,F){var O=C(k+.05,p),z=b(Math.floor(O/r),2)+":"+b(C(Math.floor(O/t),60),2);if(F!=="M"){L(F)||(F=0);var B=Math.min(C(k/s,60),_[F]),W=(100+B).toFixed(F).substr(1);F>0&&(W=W.replace(/0+$/,"").replace(/[\.]$/,"")),z+=":"+W}return z}U.formatDate=function(k,F,O,z,B,W){if(B=M(B)&&B,!F)if(O==="y")F=W.year;else if(O==="m")F=W.month;else if(O==="d")F=W.dayMonth+`
`+W.year;else return I(k,O)+`
`+x(W.dayMonthYear,k,z,B);return x(F,k,z,B)};var N=3*p;U.incrementMonth=function(k,F,O){O=M(O)&&O;var z=C(k,p);if(k=Math.round(k-z),O)try{var B=Math.round(k/p)+n,W=f.getComponentMethod("calendars","getCal")(O),q=W.fromJD(B);return F%12?W.add(q,F,"m"):W.add(q,F/12,"y"),(q.toJD()-n)*p+z}catch{a.error("invalid ms "+k+" in calendar "+O)}var ee=new Date(k+N);return ee.setUTCMonth(ee.getUTCMonth()+F)+z-N},U.findExactDates=function(k,F){for(var O=0,z=0,B=0,W=0,q,ee,Q=M(F)&&f.getComponentMethod("calendars","getCal")(F),oe=0;oe<k.length;oe++){if(ee=k[oe],!L(ee)){W++;continue}if(!(ee%p))if(Q)try{q=Q.fromJD(ee/p+n),q.day()===1?q.month()===1?O++:z++:B++}catch{}else q=new Date(ee),q.getUTCDate()===1?q.getUTCMonth()===0?O++:z++:B++}z+=O,B+=z;var Z=k.length-W;return{exactYears:O/Z,exactMonths:z/Z,exactDays:B/Z}}},52200:function(G,U,e){var g=e(33428),L=e(24248),a=e(52248),C=e(36524);function A(h){var M;if(typeof h=="string"){if(M=document.getElementById(h),M===null)throw new Error("No DOM element with id '"+h+"' exists on the page.");return M}else if(h==null)throw new Error("DOM element provided is null or undefined");return h}function v(h){var M=g.select(h);return M.node()instanceof HTMLElement&&M.size()&&M.classed("js-plotly-plot")}function p(h){var M=h&&h.parentNode;M&&M.removeChild(h)}function r(h,M){t("global",h,M)}function t(h,M,c){var i="plotly.js-style-"+h,d=document.getElementById(i);d||(d=document.createElement("style"),d.setAttribute("id",i),d.appendChild(document.createTextNode("")),document.head.appendChild(d));var b=d.sheet;b.insertRule?b.insertRule(M+"{"+c+"}",0):b.addRule?b.addRule(M,c,0):L.warn("addStyleRule failed")}function s(h){var M="plotly.js-style-"+h,c=document.getElementById(M);c&&p(c)}function n(h){var M=u(h),c=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return M.forEach(function(i){var d=f(i);if(d){var b=a.convertCssMatrix(d);c=C.multiply(c,c,b)}}),c}function f(h){var M=window.getComputedStyle(h,null),c=M.getPropertyValue("-webkit-transform")||M.getPropertyValue("-moz-transform")||M.getPropertyValue("-ms-transform")||M.getPropertyValue("-o-transform")||M.getPropertyValue("transform");return c==="none"?null:c.replace("matrix","").replace("3d","").slice(1,-1).split(",").map(function(i){return+i})}function u(h){for(var M=[];l(h);)M.push(h),h=h.parentNode;return M}function l(h){return h&&(h instanceof Element||h instanceof HTMLElement)}function m(h,M){return h&&M&&h.top===M.top&&h.left===M.left&&h.right===M.right&&h.bottom===M.bottom}G.exports={getGraphDiv:A,isPlotDiv:v,removeElement:p,addStyleRule:r,addRelatedStyleRule:t,deleteRelatedStyleRule:s,getFullTransformMatrix:n,getElementTransformMatrix:f,getElementAndAncestors:u,equalDomRects:m}},95924:function(G,U,e){var g=e(61252).EventEmitter,L={init:function(a){if(a._ev instanceof g)return a;var C=new g,A=new g;return a._ev=C,a._internalEv=A,a.on=C.on.bind(C),a.once=C.once.bind(C),a.removeListener=C.removeListener.bind(C),a.removeAllListeners=C.removeAllListeners.bind(C),a._internalOn=A.on.bind(A),a._internalOnce=A.once.bind(A),a._removeInternalListener=A.removeListener.bind(A),a._removeAllInternalListeners=A.removeAllListeners.bind(A),a.emit=function(v,p){typeof jQuery!="undefined"&&jQuery(a).trigger(v,p),C.emit(v,p),A.emit(v,p)},a},triggerHandler:function(a,C,A){var v,p;typeof jQuery!="undefined"&&(v=jQuery(a).triggerHandler(C,A));var r=a._ev;if(!r)return v;var t=r._events[C];if(!t)return v;function s(f){if(f.listener){if(r.removeListener(C,f.listener),!f.fired)return f.fired=!0,f.listener.apply(r,[A])}else return f.apply(r,[A])}t=Array.isArray(t)?t:[t];var n;for(n=0;n<t.length-1;n++)s(t[n]);return p=s(t[n]),v!==void 0?v:p},purge:function(a){return delete a._ev,delete a.on,delete a.once,delete a.removeListener,delete a.removeAllListeners,delete a.emit,delete a._ev,delete a._internalEv,delete a._internalOn,delete a._internalOnce,delete a._removeInternalListener,delete a._removeAllInternalListeners,a}};G.exports=L},92880:function(G,U,e){var g=e(63620),L=Array.isArray;function a(A,v){var p,r;for(p=0;p<A.length;p++){if(r=A[p],r!==null&&typeof r=="object")return!1;r!==void 0&&(v[p]=r)}return!0}U.extendFlat=function(){return C(arguments,!1,!1,!1)},U.extendDeep=function(){return C(arguments,!0,!1,!1)},U.extendDeepAll=function(){return C(arguments,!0,!0,!1)},U.extendDeepNoArrays=function(){return C(arguments,!0,!1,!0)};function C(A,v,p,r){var t=A[0],s=A.length,n,f,u,l,m,h,M;if(s===2&&L(t)&&L(A[1])&&t.length===0){if(M=a(A[1],t),M)return t;t.splice(0,t.length)}for(var c=1;c<s;c++){n=A[c];for(f in n)u=t[f],l=n[f],r&&L(l)?t[f]=l:v&&l&&(g(l)||(m=L(l)))?(m?(m=!1,h=u&&L(u)?u:[]):h=u&&g(u)?u:{},t[f]=C([h,l],v,p,r)):(typeof l!="undefined"||p)&&(t[f]=l)}return t}},68944:function(G){G.exports=function(e){for(var g={},L=[],a=0,C=0;C<e.length;C++){var A=e[C];g[A]!==1&&(g[A]=1,L[a++]=A)}return L}},43880:function(G){G.exports=function(a){for(var C=g(a)?e:U,A=[],v=0;v<a.length;v++){var p=a[v];C(p)&&A.push(p)}return A};function U(L){return L.visible===!0}function e(L){var a=L[0].trace;return a.visible===!0&&a._length!==0}function g(L){return Array.isArray(L)&&Array.isArray(L[0])&&L[0][0]&&L[0][0].trace}},27144:function(G,U,e){var g=e(33428),L=e(36116),a=e(40440),C=e(77844),A=e(42428),v=e(35536),p=e(24248),r=e(63620),t=e(22296),s=e(92065),n=Object.keys(L),f={"ISO-3":v,"USA-states":v,"country names":u};function u(b){for(var w=0;w<n.length;w++){var E=n[w],y=new RegExp(L[E]);if(y.test(b.trim().toLowerCase()))return E}return p.log("Unrecognized country name: "+b+"."),!1}function l(b,w,E){if(!w||typeof w!="string")return!1;var y=f[b](w),S,T,o;if(y){if(b==="USA-states")for(S=[],o=0;o<E.length;o++)T=E[o],T.properties&&T.properties.gu&&T.properties.gu==="USA"&&S.push(T);else S=E;for(o=0;o<S.length;o++)if(T=S[o],T.id===y)return T;p.log(["Location with id",y,"does not have a matching topojson feature at this resolution."].join(" "))}return!1}function m(b){var w=b.geometry,E=w.coordinates,y=b.id,S=[],T,o,P,x;function _(I){for(var N=0;N<I.length-1;N++)if(I[N][0]>0&&I[N+1][0]<0)return N;return null}switch(y==="RUS"||y==="FJI"?T=function(I){var N;if(_(I)===null)N=I;else for(N=new Array(I.length),x=0;x<I.length;x++)N[x]=[I[x][0]<0?I[x][0]+360:I[x][0],I[x][1]];S.push(s.tester(N))}:y==="ATA"?T=function(I){var N=_(I);if(N===null)return S.push(s.tester(I));var k=new Array(I.length+1),F=0;for(x=0;x<I.length;x++)x>N?k[F++]=[I[x][0]+360,I[x][1]]:x===N?(k[F++]=I[x],k[F++]=[I[x][0],-90]):k[F++]=I[x];var O=s.tester(k);O.pts.pop(),S.push(O)}:T=function(I){S.push(s.tester(I))},w.type){case"MultiPolygon":for(o=0;o<E.length;o++)for(P=0;P<E[o].length;P++)T(E[o][P]);break;case"Polygon":for(o=0;o<E.length;o++)T(E[o]);break}return S}function h(b){var w=b.geojson,E=window.PlotlyGeoAssets||{},y=typeof w=="string"?E[w]:w;return r(y)?y:(p.error("Oops ... something went wrong when fetching "+w),!1)}function M(b){var w=b[0].trace,E=h(w);if(!E)return!1;var y={},S=[],T;for(T=0;T<w._length;T++){var o=b[T];(o.loc||o.loc===0)&&(y[o.loc]=o)}function P(I){var N=t(I,w.featureidkey||"id").get(),k=y[N];if(k){var F=I.geometry;if(F.type==="Polygon"||F.type==="MultiPolygon"){var O={type:"Feature",id:N,geometry:F,properties:{}};O.properties.ct=c(O),k.fIn=I,k.fOut=O,S.push(O)}else p.log(["Location",k.loc,"does not have a valid GeoJSON geometry.","Traces with locationmode *geojson-id* only support","*Polygon* and *MultiPolygon* geometries."].join(" "))}delete y[N]}switch(E.type){case"FeatureCollection":var x=E.features;for(T=0;T<x.length;T++)P(x[T]);break;case"Feature":P(E);break;default:return p.warn(["Invalid GeoJSON type",(E.type||"none")+".","Traces with locationmode *geojson-id* only support","*FeatureCollection* and *Feature* types."].join(" ")),!1}for(var _ in y)p.log(["Location *"+_+"*","does not have a matching feature with id-key","*"+w.featureidkey+"*."].join(" "));return S}function c(b){var w=b.geometry,E;if(w.type==="MultiPolygon")for(var y=w.coordinates,S=0,T=0;T<y.length;T++){var o={type:"Polygon",coordinates:y[T]},P=a.default(o);P>S&&(S=P,E=o)}else E=w;return C.default(E).geometry.coordinates}function i(b){var w=window.PlotlyGeoAssets||{},E=[];function y(x){return new Promise(function(_,I){g.json(x,function(N,k){if(N){delete w[x];var F=N.status===404?'GeoJSON at URL "'+x+'" does not exist.':"Unexpected error while fetching from "+x;return I(new Error(F))}return w[x]=k,_(k)})})}function S(x){return new Promise(function(_,I){var N=0,k=setInterval(function(){if(w[x]&&w[x]!=="pending")return clearInterval(k),_(w[x]);if(N>100)return clearInterval(k),I("Unexpected error while fetching from "+x);N++},50)})}for(var T=0;T<b.length;T++){var o=b[T][0].trace,P=o.geojson;typeof P=="string"&&(w[P]?w[P]==="pending"&&E.push(S(P)):(w[P]="pending",E.push(y(P))))}return E}function d(b){return A.default(b)}G.exports={locationToFeature:l,feature2polygons:m,getTraceGeojson:h,extractTraceFeature:M,fetchTraceGeoData:i,computeBbox:d}},44808:function(G,U,e){var g=e(39032).BADNUM;U.calcTraceToLineCoords=function(L){for(var a=L[0].trace,C=a.connectgaps,A=[],v=[],p=0;p<L.length;p++){var r=L[p],t=r.lonlat;t[0]!==g?v.push(t):!C&&v.length>0&&(A.push(v),v=[])}return v.length>0&&A.push(v),A},U.makeLine=function(L){return L.length===1?{type:"LineString",coordinates:L[0]}:{type:"MultiLineString",coordinates:L}},U.makePolygon=function(L){if(L.length===1)return{type:"Polygon",coordinates:L};for(var a=new Array(L.length),C=0;C<L.length;C++)a[C]=[L[C]];return{type:"MultiPolygon",coordinates:a}},U.makeBlank=function(){return{type:"Point",coordinates:[]}}},92348:function(G,U,e){var g=e(20435).mod;U.segmentsIntersect=L;function L(p,r,t,s,n,f,u,l){var m=t-p,h=n-p,M=u-n,c=s-r,i=f-r,d=l-f,b=m*d-M*c;if(b===0)return null;var w=(h*d-M*i)/b,E=(h*c-m*i)/b;return E<0||E>1||w<0||w>1?null:{x:p+m*w,y:r+c*w}}U.segmentDistance=function(r,t,s,n,f,u,l,m){if(L(r,t,s,n,f,u,l,m))return 0;var h=s-r,M=n-t,c=l-f,i=m-u,d=h*h+M*M,b=c*c+i*i,w=Math.min(a(h,M,d,f-r,u-t),a(h,M,d,l-r,m-t),a(c,i,b,r-f,t-u),a(c,i,b,s-f,n-u));return Math.sqrt(w)};function a(p,r,t,s,n){var f=s*p+n*r;if(f<0)return s*s+n*n;if(f>t){var u=s-p,l=n-r;return u*u+l*l}else{var m=s*r-n*p;return m*m/t}}var C,A,v;U.getTextLocation=function(r,t,s,n){if((r!==A||n!==v)&&(C={},A=r,v=n),C[s])return C[s];var f=r.getPointAtLength(g(s-n/2,t)),u=r.getPointAtLength(g(s+n/2,t)),l=Math.atan((u.y-f.y)/(u.x-f.x)),m=r.getPointAtLength(g(s,t)),h=(m.x*4+f.x+u.x)/6,M=(m.y*4+f.y+u.y)/6,c={x:h,y:M,theta:l};return C[s]=c,c},U.clearLocationCache=function(){A=null},U.getVisibleSegment=function(r,t,s){var n=t.left,f=t.right,u=t.top,l=t.bottom,m=0,h=r.getTotalLength(),M=h,c,i;function d(w){var E=r.getPointAtLength(w);w===0?c=E:w===h&&(i=E);var y=E.x<n?n-E.x:E.x>f?E.x-f:0,S=E.y<u?u-E.y:E.y>l?E.y-l:0;return Math.sqrt(y*y+S*S)}for(var b=d(m);b;){if(m+=b+s,m>M)return;b=d(m)}for(b=d(M);b;){if(M-=b+s,m>M)return;b=d(M)}return{min:m,max:M,len:M-m,total:h,isClosed:m===0&&M===h&&Math.abs(c.x-i.x)<.1&&Math.abs(c.y-i.y)<.1}},U.findPointOnPath=function(r,t,s,n){n=n||{};for(var f=n.pathLength||r.getTotalLength(),u=n.tolerance||.001,l=n.iterationLimit||30,m=r.getPointAtLength(0)[s]>r.getPointAtLength(f)[s]?-1:1,h=0,M=0,c=f,i,d,b;h<l;){if(i=(M+c)/2,d=r.getPointAtLength(i),b=d[s]-t,Math.abs(b)<u)return d;m*b>0?c=i:M=i,h++}return d}},33040:function(G,U,e){var g=e(38248),L=e(49760),a=e(72160),C=e(8932),A=e(22548).defaultLine,v=e(38116).isArrayOrTypedArray,p=a(A),r=1;function t(l,m){var h=l;return h[3]*=m,h}function s(l){if(g(l))return p;var m=a(l);return m.length?m:p}function n(l){return g(l)?l:r}function f(l,m,h){var M=l.color;M&&M._inputArray&&(M=M._inputArray);var c=v(M),i=v(m),d=C.extractOpts(l),b=[],w,E,y,S,T;if(d.colorscale!==void 0?w=C.makeColorScaleFuncFromTrace(l):w=s,c?E=function(P,x){return P[x]===void 0?p:a(w(P[x]))}:E=s,i?y=function(P,x){return P[x]===void 0?r:n(P[x])}:y=n,c||i)for(var o=0;o<h;o++)S=E(M,o),T=y(m,o),b[o]=t(S,T);else b=t(a(M),m);return b}function u(l){var m=C.extractOpts(l),h=m.colorscale;return m.reversescale&&(h=C.flipScale(m.colorscale)),h.map(function(M){var c=M[0],i=L(M[1]),d=i.toRgb();return{index:c,rgb:[d.r,d.g,d.b,d.a]}})}G.exports={formatColor:f,parseColorScale:u}},71688:function(G,U,e){var g=e(35536);function L(a){return[a]}G.exports={keyFun:function(a){return a.key},repeat:L,descend:g,wrap:L,unwrap:function(a){return a[0]}}},35536:function(G){G.exports=function(e){return e}},1396:function(G){G.exports=function(e,g){if(!g)return e;var L=1/Math.abs(g),a=L>1?(L*e+L*g)/L:e+g,C=String(a).length;if(C>16){var A=String(g).length,v=String(e).length;if(C>=v+A){var p=parseFloat(a).toPrecision(12);p.indexOf("e+")===-1&&(a=+p)}}return a}},3400:function(G,U,e){var g=e(33428),L=e(94336).E9,a=e(57624).E9,C=e(38248),A=e(39032),v=A.FP_SAFE,p=-v,r=A.BADNUM,t=G.exports={};t.adjustFormat=function(ie){return!ie||/^\d[.]\df/.test(ie)||/[.]\d%/.test(ie)?ie:ie==="0.f"?"~f":/^\d%/.test(ie)?"~%":/^\ds/.test(ie)?"~s":!/^[~,.0$]/.test(ie)&&/[&fps]/.test(ie)?"~"+ie:ie};var s={};t.warnBadFormat=function($){var ie=String($);s[ie]||(s[ie]=1,t.warn('encountered bad format: "'+ie+'"'))},t.noFormat=function($){return String($)},t.numberFormat=function($){var ie;try{ie=a(t.adjustFormat($))}catch{return t.warnBadFormat($),t.noFormat}return ie},t.nestedProperty=e(22296),t.keyedContainer=e(37804),t.relativeAttr=e(23193),t.isPlainObject=e(63620),t.toLogRange=e(36896),t.relinkPrivateKeys=e(51528);var n=e(38116);t.isArrayBuffer=n.isArrayBuffer,t.isTypedArray=n.isTypedArray,t.isArrayOrTypedArray=n.isArrayOrTypedArray,t.isArray1D=n.isArray1D,t.ensureArray=n.ensureArray,t.concat=n.concat,t.maxRowLength=n.maxRowLength,t.minRowLength=n.minRowLength;var f=e(20435);t.mod=f.mod,t.modHalf=f.modHalf;var u=e(63064);t.valObjectMeta=u.valObjectMeta,t.coerce=u.coerce,t.coerce2=u.coerce2,t.coerceFont=u.coerceFont,t.coercePattern=u.coercePattern,t.coerceHoverinfo=u.coerceHoverinfo,t.coerceSelectionMarkerOpacity=u.coerceSelectionMarkerOpacity,t.validate=u.validate;var l=e(67555);t.dateTime2ms=l.dateTime2ms,t.isDateTime=l.isDateTime,t.ms2DateTime=l.ms2DateTime,t.ms2DateTimeLocal=l.ms2DateTimeLocal,t.cleanDate=l.cleanDate,t.isJSDate=l.isJSDate,t.formatDate=l.formatDate,t.incrementMonth=l.incrementMonth,t.dateTick0=l.dateTick0,t.dfltRange=l.dfltRange,t.findExactDates=l.findExactDates,t.MIN_MS=l.MIN_MS,t.MAX_MS=l.MAX_MS;var m=e(14952);t.findBin=m.findBin,t.sorterAsc=m.sorterAsc,t.sorterDes=m.sorterDes,t.distinctVals=m.distinctVals,t.roundUp=m.roundUp,t.sort=m.sort,t.findIndexOfMin=m.findIndexOfMin,t.sortObjectKeys=e(95376);var h=e(63084);t.aggNums=h.aggNums,t.len=h.len,t.mean=h.mean,t.median=h.median,t.midRange=h.midRange,t.variance=h.variance,t.stdev=h.stdev,t.interp=h.interp;var M=e(52248);t.init2dArray=M.init2dArray,t.transposeRagged=M.transposeRagged,t.dot=M.dot,t.translationMatrix=M.translationMatrix,t.rotationMatrix=M.rotationMatrix,t.rotationXYMatrix=M.rotationXYMatrix,t.apply3DTransform=M.apply3DTransform,t.apply2DTransform=M.apply2DTransform,t.apply2DTransform2=M.apply2DTransform2,t.convertCssMatrix=M.convertCssMatrix,t.inverseTransformMatrix=M.inverseTransformMatrix;var c=e(11864);t.deg2rad=c.deg2rad,t.rad2deg=c.rad2deg,t.angleDelta=c.angleDelta,t.angleDist=c.angleDist,t.isFullCircle=c.isFullCircle,t.isAngleInsideSector=c.isAngleInsideSector,t.isPtInsideSector=c.isPtInsideSector,t.pathArc=c.pathArc,t.pathSector=c.pathSector,t.pathAnnulus=c.pathAnnulus;var i=e(98308);t.isLeftAnchor=i.isLeftAnchor,t.isCenterAnchor=i.isCenterAnchor,t.isRightAnchor=i.isRightAnchor,t.isTopAnchor=i.isTopAnchor,t.isMiddleAnchor=i.isMiddleAnchor,t.isBottomAnchor=i.isBottomAnchor;var d=e(92348);t.segmentsIntersect=d.segmentsIntersect,t.segmentDistance=d.segmentDistance,t.getTextLocation=d.getTextLocation,t.clearLocationCache=d.clearLocationCache,t.getVisibleSegment=d.getVisibleSegment,t.findPointOnPath=d.findPointOnPath;var b=e(92880);t.extendFlat=b.extendFlat,t.extendDeep=b.extendDeep,t.extendDeepAll=b.extendDeepAll,t.extendDeepNoArrays=b.extendDeepNoArrays;var w=e(24248);t.log=w.log,t.warn=w.warn,t.error=w.error;var E=e(53756);t.counterRegex=E.counter;var y=e(91200);t.throttle=y.throttle,t.throttleDone=y.done,t.clearThrottle=y.clear;var S=e(52200);t.getGraphDiv=S.getGraphDiv,t.isPlotDiv=S.isPlotDiv,t.removeElement=S.removeElement,t.addStyleRule=S.addStyleRule,t.addRelatedStyleRule=S.addRelatedStyleRule,t.deleteRelatedStyleRule=S.deleteRelatedStyleRule,t.getFullTransformMatrix=S.getFullTransformMatrix,t.getElementTransformMatrix=S.getElementTransformMatrix,t.getElementAndAncestors=S.getElementAndAncestors,t.equalDomRects=S.equalDomRects,t.clearResponsive=e(75352),t.preserveDrawingBuffer=e(34296),t.makeTraceGroups=e(30988),t._=e(98356),t.notifier=e(41792),t.filterUnique=e(68944),t.filterVisible=e(43880),t.pushUnique=e(52416),t.increment=e(1396),t.cleanNumber=e(54037),t.ensureNumber=function(ie){return C(ie)?(ie=Number(ie),ie>v||ie<p?r:ie):r},t.isIndex=function($,ie){return ie!==void 0&&$>=ie?!1:C($)&&$>=0&&$%1===0},t.noop=e(16628),t.identity=e(35536),t.repeat=function($,ie){for(var J=new Array(ie),j=0;j<ie;j++)J[j]=$;return J},t.swapAttrs=function($,ie,J,j){J||(J="x"),j||(j="y");for(var se=0;se<ie.length;se++){var ne=ie[se],le=t.nestedProperty($,ne.replace("?",J)),pe=t.nestedProperty($,ne.replace("?",j)),Ae=le.get();le.set(pe.get()),pe.set(Ae)}},t.raiseToTop=function(ie){ie.parentNode.appendChild(ie)},t.cancelTransition=function($){return $.transition().duration(0)},t.constrain=function($,ie,J){return ie>J?Math.max(J,Math.min(ie,$)):Math.max(ie,Math.min(J,$))},t.bBoxIntersect=function($,ie,J){return J=J||0,$.left<=ie.right+J&&ie.left<=$.right+J&&$.top<=ie.bottom+J&&ie.top<=$.bottom+J},t.simpleMap=function($,ie,J,j,se){for(var ne=$.length,le=new Array(ne),pe=0;pe<ne;pe++)le[pe]=ie($[pe],J,j,se);return le},t.randstr=function $(ie,J,j,se){if(j||(j=16),J===void 0&&(J=24),J<=0)return"0";var ne=Math.log(Math.pow(2,J))/Math.log(j),le="",pe,Ae,be;for(pe=2;ne===1/0;pe*=2)ne=Math.log(Math.pow(2,J/pe))/Math.log(j)*pe;var Re=ne-Math.floor(ne);for(pe=0;pe<Math.floor(ne);pe++)be=Math.floor(Math.random()*j).toString(j),le=be+le;Re&&(Ae=Math.pow(j,Re),be=Math.floor(Math.random()*Ae).toString(j),le=be+le);var xe=parseInt(le,j);return ie&&ie[le]||xe!==1/0&&xe>=Math.pow(2,J)?se>10?(t.warn("randstr failed uniqueness"),le):$(ie,J,j,(se||0)+1):le},t.OptionControl=function($,ie){$||($={}),ie||(ie="opt");var J={};return J.optionList=[],J._newoption=function(j){j[ie]=$,J[j.name]=j,J.optionList.push(j)},J["_"+ie]=$,J},t.smooth=function($,ie){if(ie=Math.round(ie)||0,ie<2)return $;var J=$.length,j=2*J,se=2*ie-1,ne=new Array(se),le=new Array(J),pe,Ae,be,Re;for(pe=0;pe<se;pe++)ne[pe]=(1-Math.cos(Math.PI*(pe+1)/ie))/(2*ie);for(pe=0;pe<J;pe++){for(Re=0,Ae=0;Ae<se;Ae++)be=pe+Ae+1-ie,be<-J?be-=j*Math.round(be/j):be>=j&&(be-=j*Math.floor(be/j)),be<0?be=-1-be:be>=J&&(be=j-1-be),Re+=$[be]*ne[Ae];le[pe]=Re}return le},t.syncOrAsync=function($,ie,J){var j,se;function ne(){return t.syncOrAsync($,ie,J)}for(;$.length;)if(se=$.splice(0,1)[0],j=se(ie),j&&j.then)return j.then(ne);return J&&J(ie)},t.stripTrailingSlash=function($){return $.substr(-1)==="/"?$.substr(0,$.length-1):$},t.noneOrAll=function($,ie,J){if(!!$){var j=!1,se=!0,ne,le;for(ne=0;ne<J.length;ne++)le=$[J[ne]],le!=null?j=!0:se=!1;if(j&&!se)for(ne=0;ne<J.length;ne++)$[J[ne]]=ie[J[ne]]}},t.mergeArray=function($,ie,J,j){var se=typeof j=="function";if(t.isArrayOrTypedArray($))for(var ne=Math.min($.length,ie.length),le=0;le<ne;le++){var pe=$[le];ie[le][J]=se?j(pe):pe}},t.mergeArrayCastPositive=function($,ie,J){return t.mergeArray($,ie,J,function(j){var se=+j;return isFinite(se)&&se>0?se:0})},t.fillArray=function($,ie,J,j){if(j=j||t.identity,t.isArrayOrTypedArray($))for(var se=0;se<ie.length;se++)ie[se][J]=j($[se])},t.castOption=function($,ie,J,j){j=j||t.identity;var se=t.nestedProperty($,J).get();return t.isArrayOrTypedArray(se)?Array.isArray(ie)&&t.isArrayOrTypedArray(se[ie[0]])?j(se[ie[0]][ie[1]]):j(se[ie]):se},t.extractOption=function($,ie,J,j){if(J in $)return $[J];var se=t.nestedProperty(ie,j).get();if(!Array.isArray(se))return se};function T($){var ie={};for(var J in $)for(var j=$[J],se=0;se<j.length;se++)ie[j[se]]=+J;return ie}t.tagSelected=function($,ie,J){var j=ie.selectedpoints,se=ie._indexToPoints,ne;se&&(ne=T(se));function le(xe){return xe!==void 0&&xe<$.length}for(var pe=0;pe<j.length;pe++){var Ae=j[pe];if(t.isIndex(Ae)||t.isArrayOrTypedArray(Ae)&&t.isIndex(Ae[0])&&t.isIndex(Ae[1])){var be=ne?ne[Ae]:Ae,Re=J?J[be]:be;le(Re)&&($[Re].selected=1)}}},t.selIndices2selPoints=function($){var ie=$.selectedpoints,J=$._indexToPoints;if(J){for(var j=T(J),se=[],ne=0;ne<ie.length;ne++){var le=ie[ne];if(t.isIndex(le)){var pe=j[le];t.isIndex(pe)&&se.push(pe)}}return se}else return ie},t.getTargetArray=function($,ie){var J=ie.target;if(typeof J=="string"&&J){var j=t.nestedProperty($,J).get();return t.isArrayOrTypedArray(j)?j:!1}else if(t.isArrayOrTypedArray(J))return J;return!1};function o($,ie,J){var j={};typeof ie!="object"&&(ie={});var se=J==="pieLike"?-1:3,ne=Object.keys($),le,pe,Ae;for(le=0;le<ne.length;le++)pe=ne[le],Ae=$[pe],!(pe.charAt(0)==="_"||typeof Ae=="function")&&(pe==="module"?j[pe]=Ae:Array.isArray(Ae)?pe==="colorscale"||se===-1?j[pe]=Ae.slice():j[pe]=Ae.slice(0,se):t.isTypedArray(Ae)?se===-1?j[pe]=Ae.subarray():j[pe]=Ae.subarray(0,se):Ae&&typeof Ae=="object"?j[pe]=o($[pe],ie[pe],J):j[pe]=Ae);for(ne=Object.keys(ie),le=0;le<ne.length;le++)pe=ne[le],Ae=ie[pe],(typeof Ae!="object"||!(pe in j)||typeof j[pe]!="object")&&(j[pe]=Ae);return j}t.minExtend=o,t.titleCase=function($){return $.charAt(0).toUpperCase()+$.substr(1)},t.containsAny=function($,ie){for(var J=0;J<ie.length;J++)if($.indexOf(ie[J])!==-1)return!0;return!1},t.isIE=function(){return typeof window.navigator.msSaveBlob!="undefined"};var P=/Version\/[\d\.]+.*Safari/;t.isSafari=function(){return P.test(window.navigator.userAgent)};var x=/iPad|iPhone|iPod/;t.isIOS=function(){return x.test(window.navigator.userAgent)};var _=/Firefox\/(\d+)\.\d+/;t.getFirefoxVersion=function(){var $=_.exec(window.navigator.userAgent);if($&&$.length===2){var ie=parseInt($[1]);if(!isNaN(ie))return ie}return null},t.isD3Selection=function($){return $ instanceof g.selection},t.ensureSingle=function($,ie,J,j){var se=$.select(ie+(J?"."+J:""));if(se.size())return se;var ne=$.append(ie);return J&&ne.classed(J,!0),j&&ne.call(j),ne},t.ensureSingleById=function($,ie,J,j){var se=$.select(ie+"#"+J);if(se.size())return se;var ne=$.append(ie).attr("id",J);return j&&ne.call(j),ne},t.objectFromPath=function($,ie){for(var J=$.split("."),j,se=j={},ne=0;ne<J.length;ne++){var le=J[ne],pe=null,Ae=J[ne].match(/(.*)\[([0-9]+)\]/);Ae?(le=Ae[1],pe=Ae[2],j=j[le]=[],ne===J.length-1?j[pe]=ie:j[pe]={},j=j[pe]):(ne===J.length-1?j[le]=ie:j[le]={},j=j[le])}return se};var I=/^([^\[\.]+)\.(.+)?/,N=/^([^\.]+)\[([0-9]+)\](\.)?(.+)?/;function k($){return $.slice(0,2)==="__"}t.expandObjectPaths=function($){var ie,J,j,se,ne,le,pe;if(typeof $=="object"&&!Array.isArray($)){for(J in $)if($.hasOwnProperty(J))if(ie=J.match(I)){if(se=$[J],j=ie[1],k(j))continue;delete $[J],$[j]=t.extendDeepNoArrays($[j]||{},t.objectFromPath(J,t.expandObjectPaths(se))[j])}else if(ie=J.match(N)){if(se=$[J],j=ie[1],k(j))continue;if(ne=parseInt(ie[2]),delete $[J],$[j]=$[j]||[],ie[3]===".")pe=ie[4],le=$[j][ne]=$[j][ne]||{},t.extendDeepNoArrays(le,t.objectFromPath(pe,t.expandObjectPaths(se)));else{if(k(j))continue;$[j][ne]=t.expandObjectPaths(se)}}else{if(k(J))continue;$[J]=t.expandObjectPaths($[J])}}return $},t.numSeparate=function($,ie,J){if(J||(J=!1),typeof ie!="string"||ie.length===0)throw new Error("Separator string required for formatting!");typeof $=="number"&&($=String($));var j=/(\d+)(\d{3})/,se=ie.charAt(0),ne=ie.charAt(1),le=$.split("."),pe=le[0],Ae=le.length>1?se+le[1]:"";if(ne&&(le.length>1||pe.length>4||J))for(;j.test(pe);)pe=pe.replace(j,"$1"+ne+"$2");return pe+Ae},t.TEMPLATE_STRING_REGEX=/%{([^\s%{}:]*)([:|\|][^}]*)?}/g;var F=/^\w*$/;t.templateString=function($,ie){var J={};return $.replace(t.TEMPLATE_STRING_REGEX,function(j,se){var ne;return F.test(se)?ne=ie[se]:(J[se]=J[se]||t.nestedProperty(ie,se).get,ne=J[se]()),t.isValidTextValue(ne)?ne:""})};var O={max:10,count:0,name:"hovertemplate"};t.hovertemplateString=function(){return Q.apply(O,arguments)};var z={max:10,count:0,name:"texttemplate"};t.texttemplateString=function(){return Q.apply(z,arguments)};var B=/^(\S+)([\*\/])(-?\d+(\.\d+)?)$/;function W($){var ie=$.match(B);return ie?{key:ie[1],op:ie[2],number:Number(ie[3])}:{key:$,op:null,number:null}}var q={max:10,count:0,name:"texttemplate",parseMultDiv:!0};t.texttemplateStringForShapes=function(){return Q.apply(q,arguments)};var ee=/^[:|\|]/;function Q($,ie,J){var j=this,se=arguments;ie||(ie={});var ne={};return $.replace(t.TEMPLATE_STRING_REGEX,function(le,pe,Ae){var be=pe==="xother"||pe==="yother",Re=pe==="_xother"||pe==="_yother",xe=pe==="_xother_"||pe==="_yother_",Me=pe==="xother_"||pe==="yother_",ye=be||Re||Me||xe,Se=pe;(Re||xe)&&(Se=Se.substring(1)),(Me||xe)&&(Se=Se.substring(0,Se.length-1));var Fe=null,Be=null;if(j.parseMultDiv){var _e=W(Se);Se=_e.key,Fe=_e.op,Be=_e.number}var Ue;if(ye){if(Ue=ie[Se],Ue===void 0)return""}else{var it,lt;for(lt=3;lt<se.length;lt++)if(it=se[lt],!!it){if(it.hasOwnProperty(Se)){Ue=it[Se];break}if(F.test(Se)||(Ue=t.nestedProperty(it,Se).get(),Ue=ne[Se]||t.nestedProperty(it,Se).get(),Ue&&(ne[Se]=Ue)),Ue!==void 0)break}}if(Ue!==void 0&&(Fe==="*"&&(Ue*=Be),Fe==="/"&&(Ue/=Be)),Ue===void 0&&j)return j.count<j.max&&(t.warn("Variable '"+Se+"' in "+j.name+" could not be found!"),Ue=le),j.count===j.max&&t.warn("Too many "+j.name+" warnings - additional warnings will be suppressed"),j.count++,le;if(Ae){var $e;if(Ae[0]===":"&&($e=J?J.numberFormat:t.numberFormat,Ue=$e(Ae.replace(ee,""))(Ue)),Ae[0]==="|"){$e=J?J.timeFormat:L;var qe=t.dateTime2ms(Ue);Ue=t.formatDate(qe,Ae.replace(ee,""),!1,$e)}}else{var ft=Se+"Label";ie.hasOwnProperty(ft)&&(Ue=ie[ft])}return ye&&(Ue="("+Ue+")",(Re||xe)&&(Ue=" "+Ue),(Me||xe)&&(Ue=Ue+" ")),Ue})}var oe=48,Z=57;t.subplotSort=function($,ie){for(var J=Math.min($.length,ie.length)+1,j=0,se=0,ne=0;ne<J;ne++){var le=$.charCodeAt(ne)||0,pe=ie.charCodeAt(ne)||0,Ae=le>=oe&&le<=Z,be=pe>=oe&&pe<=Z;if(Ae&&(j=10*j+le-oe),be&&(se=10*se+pe-oe),!Ae||!be){if(j!==se)return j-se;if(le!==pe)return le-pe}}return se-j};var Y=2e9;t.seedPseudoRandom=function(){Y=2e9},t.pseudoRandom=function(){var $=Y;return Y=(69069*Y+1)%4294967296,Math.abs(Y-$)<429496729?t.pseudoRandom():Y/4294967296},t.fillText=function($,ie,J){var j=Array.isArray(J)?function(le){J.push(le)}:function(le){J.text=le},se=t.extractOption($,ie,"htx","hovertext");if(t.isValidTextValue(se))return j(se);var ne=t.extractOption($,ie,"tx","text");if(t.isValidTextValue(ne))return j(ne)},t.isValidTextValue=function($){return $||$===0},t.formatPercent=function($,ie){ie=ie||0;for(var J=(Math.round(100*$*Math.pow(10,ie))*Math.pow(.1,ie)).toFixed(ie)+"%",j=0;j<ie;j++)J.indexOf(".")!==-1&&(J=J.replace("0%","%"),J=J.replace(".%","%"));return J},t.isHidden=function($){var ie=window.getComputedStyle($).display;return!ie||ie==="none"},t.strTranslate=function($,ie){return $||ie?"translate("+$+","+ie+")":""},t.strRotate=function($){return $?"rotate("+$+")":""},t.strScale=function($){return $!==1?"scale("+$+")":""},t.getTextTransform=function($){var ie=$.noCenter,J=$.textX,j=$.textY,se=$.targetX,ne=$.targetY,le=$.anchorX||0,pe=$.anchorY||0,Ae=$.rotate,be=$.scale;return be?be>1&&(be=1):be=0,t.strTranslate(se-be*(J+le),ne-be*(j+pe))+t.strScale(be)+(Ae?"rotate("+Ae+(ie?"":" "+J+" "+j)+")":"")},t.setTransormAndDisplay=function($,ie){$.attr("transform",t.getTextTransform(ie)),$.style("display",ie.scale?null:"none")},t.ensureUniformFontSize=function($,ie){var J=t.extendFlat({},ie);return J.size=Math.max(ie.size,$._fullLayout.uniformtext.minsize||0),J},t.join2=function($,ie,J){var j=$.length;return j>1?$.slice(0,-1).join(ie)+J+$[j-1]:$.join(ie)},t.bigFont=function($){return Math.round(1.2*$)};var te=t.getFirefoxVersion(),X=te!==null&&te<86;t.getPositionFromD3Event=function(){return X?[g.event.layerX,g.event.layerY]:[g.event.offsetX,g.event.offsetY]}},63620:function(G){G.exports=function(e){return window&&window.process&&window.process.versions?Object.prototype.toString.call(e)==="[object Object]":Object.prototype.toString.call(e)==="[object Object]"&&Object.getPrototypeOf(e).hasOwnProperty("hasOwnProperty")}},37804:function(G,U,e){var g=e(22296),L=/^\w*$/,a=0,C=1,A=2,v=3,p=4;G.exports=function(t,s,n,f){n=n||"name",f=f||"value";var u,l,m,h={};s&&s.length?(m=g(t,s),l=m.get()):l=t,s=s||"";var M={};if(l)for(u=0;u<l.length;u++)M[l[u][n]]=u;var c=L.test(f),i={set:function(d,b){var w=b===null?p:a;if(!l){if(!m||w===p)return;l=[],m.set(l)}var E=M[d];if(E===void 0){if(w===p)return;w=w|v,E=l.length,M[d]=E}else b!==(c?l[E][f]:g(l[E],f).get())&&(w=w|A);var y=l[E]=l[E]||{};return y[n]=d,c?y[f]=b:g(y,f).set(b),b!==null&&(w=w&~p),h[E]=h[E]|w,i},get:function(d){if(!!l){var b=M[d];if(b!==void 0)return c?l[b][f]:g(l[b],f).get()}},rename:function(d,b){var w=M[d];return w===void 0||(h[w]=h[w]|C,M[b]=w,delete M[d],l[w][n]=b),i},remove:function(d){var b=M[d];if(b===void 0)return i;var w=l[b];if(Object.keys(w).length>2)return h[b]=h[b]|A,i.set(d,null);if(c){for(u=b;u<l.length;u++)h[u]=h[u]|v;for(u=b;u<l.length;u++)M[l[u][n]]--;l.splice(b,1),delete M[d]}else g(w,f).set(null),h[b]=h[b]|A|p;return i},constructUpdate:function(){for(var d,b,w={},E=Object.keys(h),y=0;y<E.length;y++)b=E[y],d=s+"["+b+"]",l[b]?(h[b]&C&&(w[d+"."+n]=l[b][n]),h[b]&A&&(c?w[d+"."+f]=h[b]&p?null:l[b][f]:w[d+"."+f]=h[b]&p?null:g(l[b],f).get())):w[d]=null;return w}};return i}},98356:function(G,U,e){var g=e(24040);G.exports=function(a,C){for(var A=a._context.locale,v=0;v<2;v++){for(var p=a._context.locales,r=0;r<2;r++){var t=(p[A]||{}).dictionary;if(t){var s=t[C];if(s)return s}p=g.localeRegistry}var n=A.split("-")[0];if(n===A)break;A=n}return C}},24248:function(G,U,e){var g=e(20556).dfltConfig,L=e(41792),a=G.exports={};a.log=function(){var C;if(g.logging>1){var A=["LOG:"];for(C=0;C<arguments.length;C++)A.push(arguments[C]);console.trace.apply(console,A)}if(g.notifyOnLogging>1){var v=[];for(C=0;C<arguments.length;C++)v.push(arguments[C]);L(v.join("<br>"),"long")}},a.warn=function(){var C;if(g.logging>0){var A=["WARN:"];for(C=0;C<arguments.length;C++)A.push(arguments[C]);console.trace.apply(console,A)}if(g.notifyOnLogging>0){var v=[];for(C=0;C<arguments.length;C++)v.push(arguments[C]);L(v.join("<br>"),"stick")}},a.error=function(){var C;if(g.logging>0){var A=["ERROR:"];for(C=0;C<arguments.length;C++)A.push(arguments[C]);console.error.apply(console,A)}if(g.notifyOnLogging>0){var v=[];for(C=0;C<arguments.length;C++)v.push(arguments[C]);L(v.join("<br>"),"stick")}}},30988:function(G,U,e){var g=e(33428);G.exports=function(a,C,A){var v=a.selectAll("g."+A.replace(/\s/g,".")).data(C,function(r){return r[0].trace.uid});v.exit().remove(),v.enter().append("g").attr("class",A),v.order();var p=a.classed("rangeplot")?"nodeRangePlot3":"node3";return v.each(function(r){r[0][p]=g.select(this)}),v}},52248:function(G,U,e){var g=e(36524);U.init2dArray=function(L,a){for(var C=new Array(L),A=0;A<L;A++)C[A]=new Array(a);return C},U.transposeRagged=function(L){var a=0,C=L.length,A,v;for(A=0;A<C;A++)a=Math.max(a,L[A].length);var p=new Array(a);for(A=0;A<a;A++)for(p[A]=new Array(C),v=0;v<C;v++)p[A][v]=L[v][A];return p},U.dot=function(L,a){if(!(L.length&&a.length)||L.length!==a.length)return null;var C=L.length,A,v;if(L[0].length)for(A=new Array(C),v=0;v<C;v++)A[v]=U.dot(L[v],a);else if(a[0].length){var p=U.transposeRagged(a);for(A=new Array(p.length),v=0;v<p.length;v++)A[v]=U.dot(L,p[v])}else for(A=0,v=0;v<C;v++)A+=L[v]*a[v];return A},U.translationMatrix=function(L,a){return[[1,0,L],[0,1,a],[0,0,1]]},U.rotationMatrix=function(L){var a=L*Math.PI/180;return[[Math.cos(a),-Math.sin(a),0],[Math.sin(a),Math.cos(a),0],[0,0,1]]},U.rotationXYMatrix=function(L,a,C){return U.dot(U.dot(U.translationMatrix(a,C),U.rotationMatrix(L)),U.translationMatrix(-a,-C))},U.apply3DTransform=function(L){return function(){var a=arguments,C=arguments.length===1?a[0]:[a[0],a[1],a[2]||0];return U.dot(L,[C[0],C[1],C[2],1]).slice(0,3)}},U.apply2DTransform=function(L){return function(){var a=arguments;a.length===3&&(a=a[0]);var C=arguments.length===1?a[0]:[a[0],a[1]];return U.dot(L,[C[0],C[1],1]).slice(0,2)}},U.apply2DTransform2=function(L){var a=U.apply2DTransform(L);return function(C){return a(C.slice(0,2)).concat(a(C.slice(2,4)))}},U.convertCssMatrix=function(L){if(L){var a=L.length;if(a===16)return L;if(a===6)return[L[0],L[1],0,0,L[2],L[3],0,0,0,0,1,0,L[4],L[5],0,1]}return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},U.inverseTransformMatrix=function(L){var a=[];return g.invert(a,L),[[a[0],a[1],a[2],a[3]],[a[4],a[5],a[6],a[7]],[a[8],a[9],a[10],a[11]],[a[12],a[13],a[14],a[15]]]}},20435:function(G){function U(g,L){var a=g%L;return a<0?a+L:a}function e(g,L){return Math.abs(g)>L/2?g-Math.round(g/L)*L:g}G.exports={mod:U,modHalf:e}},22296:function(G,U,e){var g=e(38248),L=e(38116).isArrayOrTypedArray;G.exports=function(f,u){if(g(u))u=String(u);else if(typeof u!="string"||u.substr(u.length-4)==="[-1]")throw"bad property string";var l=u.split("."),m,h,M,c;for(c=0;c<l.length;c++)if(String(l[c]).slice(0,2)==="__")throw"bad property string";for(c=0;c<l.length;){if(m=String(l[c]).match(/^([^\[\]]*)((\[\-?[0-9]*\])+)$/),m){if(m[1])l[c]=m[1];else if(c===0)l.splice(0,1);else throw"bad property string";for(h=m[2].substr(1,m[2].length-2).split("]["),M=0;M<h.length;M++)c++,l.splice(c,0,Number(h[M]))}c++}return typeof f!="object"?s(f,u,l):{set:v(f,l,u),get:a(f,l),astr:u,parts:l,obj:f}};function a(n,f){return function(){var u=n,l,m,h,M,c;for(M=0;M<f.length-1;M++){if(l=f[M],l===-1){for(m=!0,h=[],c=0;c<u.length;c++)h[c]=a(u[c],f.slice(M+1))(),h[c]!==h[0]&&(m=!1);return m?h[0]:h}if(typeof l=="number"&&!L(u)||(u=u[l],typeof u!="object"||u===null))return}if(!(typeof u!="object"||u===null)&&(h=u[f[M]],h!==null))return h}}var C=/(^|\.)args\[/;function A(n,f){return n===void 0||n===null&&!f.match(C)}function v(n,f,u){return function(l){var m=n,h="",M=A(l,u),c,i;for(i=0;i<f.length-1;i++){if(c=f[i],typeof c=="number"&&!L(m))throw"array index but container is not an array";if(c===-1){if(M=!r(m,f.slice(i+1),l,u),M)break;return}if(!t(m,c,f[i+1],M))break;if(m=m[c],typeof m!="object"||m===null)throw"container is not an object";h=p(h,c)}if(M){if(i===f.length-1&&(delete m[f[i]],Array.isArray(m)&&+f[i]===m.length-1))for(;m.length&&m[m.length-1]===void 0;)m.pop()}else m[f[i]]=l}}function p(n,f){var u=f;return g(f)?u="["+f+"]":n&&(u="."+f),n+u}function r(n,f,u,l){var m=L(u),h=!0,M=u,c=l.replace("-1",0),i=m?!1:A(u,c),d=f[0],b;for(b=0;b<n.length;b++)c=l.replace("-1",b),m&&(M=u[b%u.length],i=A(M,c)),i&&(h=!1),t(n,b,d,i)&&v(n[b],f,l.replace("-1",b))(M);return h}function t(n,f,u,l){if(n[f]===void 0){if(l)return!1;typeof u=="number"?n[f]=[]:n[f]={}}return!0}function s(n,f,u){return{set:function(){throw"bad container"},get:function(){},astr:f,parts:u,obj:n}}},16628:function(G){G.exports=function(){}},41792:function(G,U,e){var g=e(33428),L=e(38248),a=[];G.exports=function(C,A){if(a.indexOf(C)!==-1)return;a.push(C);var v=1e3;L(A)?v=A:A==="long"&&(v=3e3);var p=g.select("body").selectAll(".plotly-notifier").data([0]);p.enter().append("div").classed("plotly-notifier",!0);var r=p.selectAll(".notifier-note").data(a);function t(s){s.duration(700).style("opacity",0).each("end",function(n){var f=a.indexOf(n);f!==-1&&a.splice(f,1),g.select(this).remove()})}r.enter().append("div").classed("notifier-note",!0).style("opacity",0).each(function(s){var n=g.select(this);n.append("button").classed("notifier-close",!0).html("&times;").on("click",function(){n.transition().call(t)});for(var f=n.append("p"),u=s.split(/<br\s*\/?>/g),l=0;l<u.length;l++)l&&f.append("br"),f.append("span").text(u[l]);A==="stick"?n.transition().duration(350).style("opacity",1):n.transition().duration(700).style("opacity",1).transition().delay(v).call(t)})}},72213:function(G,U,e){var g=e(93972),L="data-savedcursor",a="!!";G.exports=function(A,v){var p=A.attr(L);if(v){if(!p){for(var r=(A.attr("class")||"").split(" "),t=0;t<r.length;t++){var s=r[t];s.indexOf("cursor-")===0&&A.attr(L,s.substr(7)).classed(s,!1)}A.attr(L)||A.attr(L,a)}g(A,v)}else p&&(A.attr(L,null),p===a?g(A):g(A,p))}},92065:function(G,U,e){var g=e(52248).dot,L=e(39032).BADNUM,a=G.exports={};a.tester=function(A){var v=A.slice(),p=v[0][0],r=p,t=v[0][1],s=t,n;for((v[v.length-1][0]!==v[0][0]||v[v.length-1][1]!==v[0][1])&&v.push(v[0]),n=1;n<v.length;n++)p=Math.min(p,v[n][0]),r=Math.max(r,v[n][0]),t=Math.min(t,v[n][1]),s=Math.max(s,v[n][1]);var f=!1,u;v.length===5&&(v[0][0]===v[1][0]?v[2][0]===v[3][0]&&v[0][1]===v[3][1]&&v[1][1]===v[2][1]&&(f=!0,u=function(c){return c[0]===v[0][0]}):v[0][1]===v[1][1]&&v[2][1]===v[3][1]&&v[0][0]===v[3][0]&&v[1][0]===v[2][0]&&(f=!0,u=function(c){return c[1]===v[0][1]}));function l(c,i){var d=c[0],b=c[1];return!(d===L||d<p||d>r||b===L||b<t||b>s||i&&u(c))}function m(c,i){var d=c[0],b=c[1];if(d===L||d<p||d>r||b===L||b<t||b>s)return!1;var w=v.length,E=v[0][0],y=v[0][1],S=0,T,o,P,x,_;for(T=1;T<w;T++)if(o=E,P=y,E=v[T][0],y=v[T][1],x=Math.min(o,E),!(d<x||d>Math.max(o,E)||b>Math.max(P,y)))if(b<Math.min(P,y))d!==x&&S++;else{if(E===o?_=b:_=P+(d-o)*(y-P)/(E-o),b===_)return!(T===1&&i);b<=_&&d!==x&&S++}return S%2===1}var h=!0,M=v[0];for(n=1;n<v.length;n++)if(M[0]!==v[n][0]||M[1]!==v[n][1]){h=!1;break}return{xmin:p,xmax:r,ymin:t,ymax:s,pts:v,contains:f?l:m,isRect:f,degenerate:h}},a.isSegmentBent=function(A,v,p,r){var t=A[v],s=[A[p][0]-t[0],A[p][1]-t[1]],n=g(s,s),f=Math.sqrt(n),u=[-s[1]/f,s[0]/f],l,m,h;for(l=v+1;l<p;l++)if(m=[A[l][0]-t[0],A[l][1]-t[1]],h=g(m,s),h<0||h>n||Math.abs(g(m,u))>r)return!0;return!1},a.filter=function(A,v){var p=[A[0]],r=0,t=0;function s(f){A.push(f);var u=p.length,l=r;p.splice(t+1);for(var m=l+1;m<A.length;m++)(m===A.length-1||a.isSegmentBent(A,l,m+1,v))&&(p.push(A[m]),p.length<u-2&&(r=m,t=p.length-1),l=m)}if(A.length>1){var n=A.pop();s(n)}return{addPt:s,raw:A,filtered:p}}},5048:function(G,U,e){var g=e(16576),L=e(28624);G.exports=function(C,A,v){var p=C._fullLayout,r=!0;return p._glcanvas.each(function(t){if(t.regl){t.regl.preloadCachedCode(v);return}if(!(t.pick&&!p._has("parcoords"))){try{t.regl=L({canvas:this,attributes:{antialias:!t.pick,preserveDrawingBuffer:!0},pixelRatio:C._context.plotGlPixelRatio||e.g.devicePixelRatio,extensions:A||[],cachedCode:v||{}})}catch{r=!1}t.regl||(r=!1),r&&this.addEventListener("webglcontextlost",function(s){C&&C.emit&&C.emit("plotly_webglcontextlost",{event:s,layer:t.key})},!1)}}),r||g({container:p._glcontainer.node()}),r}},34296:function(G,U,e){var g=e(38248),L=e(25928);G.exports=function(A){var v;if(A&&A.hasOwnProperty("userAgent")?v=A.userAgent:v=a(),typeof v!="string")return!0;var p=L({ua:{headers:{"user-agent":v}},tablet:!0,featureDetect:!1});if(!p)for(var r=v.split(" "),t=1;t<r.length;t++){var s=r[t];if(s.indexOf("Safari")!==-1)for(var n=t-1;n>-1;n--){var f=r[n];if(f.substr(0,8)==="Version/"){var u=f.substr(8).split(".")[0];if(g(u)&&(u=+u),u>=13)return!0}}}return p};function a(){var C;return typeof navigator!="undefined"&&(C=navigator.userAgent),C&&C.headers&&typeof C.headers["user-agent"]=="string"&&(C=C.headers["user-agent"]),C}},52416:function(G){G.exports=function(e,g){if(g instanceof RegExp){for(var L=g.toString(),a=0;a<e.length;a++)if(e[a]instanceof RegExp&&e[a].toString()===L)return e;e.push(g)}else(g||g===0)&&e.indexOf(g)===-1&&e.push(g);return e}},94552:function(G,U,e){var g=e(3400),L=e(20556).dfltConfig;function a(A,v){for(var p=[],r,t=0;t<v.length;t++)r=v[t],r===A?p[t]=r:typeof r=="object"?p[t]=Array.isArray(r)?g.extendDeep([],r):g.extendDeepAll({},r):p[t]=r;return p}var C={};C.add=function(A,v,p,r,t){var s,n;if(A.undoQueue=A.undoQueue||{index:0,queue:[],sequence:!1},n=A.undoQueue.index,A.autoplay){A.undoQueue.inSequence||(A.autoplay=!1);return}!A.undoQueue.sequence||A.undoQueue.beginSequence?(s={undo:{calls:[],args:[]},redo:{calls:[],args:[]}},A.undoQueue.queue.splice(n,A.undoQueue.queue.length-n,s),A.undoQueue.index+=1):s=A.undoQueue.queue[n-1],A.undoQueue.beginSequence=!1,s&&(s.undo.calls.unshift(v),s.undo.args.unshift(p),s.redo.calls.push(r),s.redo.args.push(t)),A.undoQueue.queue.length>L.queueLength&&(A.undoQueue.queue.shift(),A.undoQueue.index--)},C.startSequence=function(A){A.undoQueue=A.undoQueue||{index:0,queue:[],sequence:!1},A.undoQueue.sequence=!0,A.undoQueue.beginSequence=!0},C.stopSequence=function(A){A.undoQueue=A.undoQueue||{index:0,queue:[],sequence:!1},A.undoQueue.sequence=!1,A.undoQueue.beginSequence=!1},C.undo=function(v){var p,r;if(!(v.undoQueue===void 0||isNaN(v.undoQueue.index)||v.undoQueue.index<=0)){for(v.undoQueue.index--,p=v.undoQueue.queue[v.undoQueue.index],v.undoQueue.inSequence=!0,r=0;r<p.undo.calls.length;r++)C.plotDo(v,p.undo.calls[r],p.undo.args[r]);v.undoQueue.inSequence=!1,v.autoplay=!1}},C.redo=function(v){var p,r;if(!(v.undoQueue===void 0||isNaN(v.undoQueue.index)||v.undoQueue.index>=v.undoQueue.queue.length)){for(p=v.undoQueue.queue[v.undoQueue.index],v.undoQueue.inSequence=!0,r=0;r<p.redo.calls.length;r++)C.plotDo(v,p.redo.calls[r],p.redo.args[r]);v.undoQueue.inSequence=!1,v.autoplay=!1,v.undoQueue.index++}},C.plotDo=function(A,v,p){A.autoplay=!0,p=a(A,p),v.apply(null,p)},G.exports=C},53756:function(G,U){U.counter=function(e,g,L,a){var C=(g||"")+(L?"":"$"),A=a===!1?"":"^";return e==="xy"?new RegExp(A+"x([2-9]|[1-9][0-9]+)?y([2-9]|[1-9][0-9]+)?"+C):new RegExp(A+e+"([2-9]|[1-9][0-9]+)?"+C)}},23193:function(G){var U=/^(.*)(\.[^\.\[\]]+|\[\d\])$/,e=/^[^\.\[\]]+$/;G.exports=function(g,L){for(;L;){var a=g.match(U);if(a)g=a[1];else if(g.match(e))g="";else throw new Error("bad relativeAttr call:"+[g,L]);if(L.charAt(0)==="^")L=L.slice(1);else break}return g&&L.charAt(0)!=="["?g+"."+L:g+L}},51528:function(G,U,e){var g=e(38116).isArrayOrTypedArray,L=e(63620);G.exports=function a(C,A){for(var v in A){var p=A[v],r=C[v];if(r!==p)if(v.charAt(0)==="_"||typeof p=="function"){if(v in C)continue;C[v]=p}else if(g(p)&&g(r)&&L(p[0])){if(v==="customdata"||v==="ids")continue;for(var t=Math.min(p.length,r.length),s=0;s<t;s++)r[s]!==p[s]&&L(p[s])&&L(r[s])&&a(r[s],p[s])}else L(p)&&L(r)&&(a(r,p),Object.keys(r).length||delete C[v])}}},14952:function(G,U,e){var g=e(38248),L=e(24248),a=e(35536),C=e(39032).BADNUM,A=1e-9;U.findBin=function(s,n,f){if(g(n.start))return f?Math.ceil((s-n.start)/n.size-A)-1:Math.floor((s-n.start)/n.size+A);var u=0,l=n.length,m=0,h=l>1?(n[l-1]-n[0])/(l-1):1,M,c;for(h>=0?c=f?v:p:c=f?t:r,s+=h*A*(f?-1:1)*(h>=0?1:-1);u<l&&m++<100;)M=Math.floor((u+l)/2),c(n[M],s)?u=M+1:l=M;return m>90&&L.log("Long binary search..."),u-1};function v(s,n){return s<n}function p(s,n){return s<=n}function r(s,n){return s>n}function t(s,n){return s>=n}U.sorterAsc=function(s,n){return s-n},U.sorterDes=function(s,n){return n-s},U.distinctVals=function(s){var n=s.slice();n.sort(U.sorterAsc);var f;for(f=n.length-1;f>-1&&n[f]===C;f--);for(var u=n[f]-n[0]||1,l=u/(f||1)/1e4,m=[],h,M=0;M<=f;M++){var c=n[M],i=c-h;h===void 0?(m.push(c),h=c):i>l&&(u=Math.min(u,i),m.push(c),h=c)}return{vals:m,minDiff:u}},U.roundUp=function(s,n,f){for(var u=0,l=n.length-1,m,h=0,M=f?0:1,c=f?1:0,i=f?Math.ceil:Math.floor;u<l&&h++<100;)m=i((u+l)/2),n[m]<=s?u=m+M:l=m-c;return n[u]},U.sort=function(s,n){for(var f=0,u=0,l=1;l<s.length;l++){var m=n(s[l],s[l-1]);if(m<0?f=1:m>0&&(u=1),f&&u)return s.sort(n)}return u?s:s.reverse()},U.findIndexOfMin=function(s,n){n=n||a;for(var f=1/0,u,l=0;l<s.length;l++){var m=n(s[l]);m<f&&(f=m,u=l)}return u}},93972:function(G){G.exports=function(e,g){(e.attr("class")||"").split(" ").forEach(function(L){L.indexOf("cursor-")===0&&e.classed(L,!1)}),g&&e.classed("cursor-"+g,!0)}},16576:function(G,U,e){var g=e(76308),L=function(){};G.exports=function(C){for(var A in C)typeof C[A]=="function"&&(C[A]=L);C.destroy=function(){C.container.parentNode.removeChild(C.container)};var v=document.createElement("div");v.className="no-webgl",v.style.cursor="pointer",v.style.fontSize="24px",v.style.color=g.defaults[0],v.style.position="absolute",v.style.left=v.style.top="0px",v.style.width=v.style.height="100%",v.style["background-color"]=g.lightLine,v.style["z-index"]=30;var p=document.createElement("p");return p.textContent="WebGL is not supported by your browser - visit https://get.webgl.org for more info",p.style.position="relative",p.style.top="50%",p.style.left="50%",p.style.height="30%",p.style.width="50%",p.style.margin="-15% 0 0 -25%",v.appendChild(p),C.container.appendChild(v),C.container.style.background="#FFFFFF",C.container.onclick=function(){window.open("https://get.webgl.org")},!1}},95376:function(G){G.exports=function(e){return Object.keys(e).sort()}},63084:function(G,U,e){var g=e(38248),L=e(38116).isArrayOrTypedArray;U.aggNums=function(a,C,A,v){var p,r;if((!v||v>A.length)&&(v=A.length),g(C)||(C=!1),L(A[0])){for(r=new Array(v),p=0;p<v;p++)r[p]=U.aggNums(a,C,A[p]);A=r}for(p=0;p<v;p++)g(C)?g(A[p])&&(C=a(+C,+A[p])):C=A[p];return C},U.len=function(a){return U.aggNums(function(C){return C+1},0,a)},U.mean=function(a,C){return C||(C=U.len(a)),U.aggNums(function(A,v){return A+v},0,a)/C},U.midRange=function(a){if(!(a===void 0||a.length===0))return(U.aggNums(Math.max,null,a)+U.aggNums(Math.min,null,a))/2},U.variance=function(a,C,A){return C||(C=U.len(a)),g(A)||(A=U.mean(a,C)),U.aggNums(function(v,p){return v+Math.pow(p-A,2)},0,a)/C},U.stdev=function(a,C,A){return Math.sqrt(U.variance(a,C,A))},U.median=function(a){var C=a.slice().sort();return U.interp(C,.5)},U.interp=function(a,C){if(!g(C))throw"n should be a finite number";if(C=C*a.length-.5,C<0)return a[0];if(C>a.length-1)return a[a.length-1];var A=C%1;return A*a[Math.ceil(C)]+(1-A)*a[Math.floor(C)]}},43080:function(G,U,e){var g=e(72160);function L(a){return a?g(a):[0,0,0,1]}G.exports=L},9188:function(G,U,e){var g=e(2264),L=e(43616),a=e(3400),C=null;function A(){if(C!==null)return C;C=!1;var v=a.isIE()||a.isSafari()||a.isIOS();if(window.navigator.userAgent&&!v){var p=Array.from(g.CSS_DECLARATIONS).reverse(),r=window.CSS&&window.CSS.supports||window.supportsCSS;if(typeof r=="function")C=p.some(function(f){return r.apply(null,f)});else{var t=L.tester.append("image").attr("style",g.STYLE),s=window.getComputedStyle(t.node()),n=s.imageRendering;C=p.some(function(f){var u=f[1];return n===u||n===u.toLowerCase()}),t.remove()}}return C}G.exports=A},72736:function(G,U,e){var g=e(33428),L=e(3400),a=L.strTranslate,C=e(9616),A=e(84284).LINE_SPACING,v=/([^$]*)([$]+[^$]*[$]+)([^$]*)/;U.convertToTspans=function(O,z,B){var W=O.text(),q=!O.attr("data-notex")&&z&&z._context.typesetMath&&typeof MathJax!="undefined"&&W.match(v),ee=g.select(O.node().parentNode);if(ee.empty())return;var Q=O.attr("class")?O.attr("class").split(" ")[0]:"text";Q+="-math",ee.selectAll("svg."+Q).remove(),ee.selectAll("g."+Q+"-group").remove(),O.style("display",null).attr({"data-unformatted":W,"data-math":"N"});function oe(){ee.empty()||(Q=O.attr("class")+"-math",ee.select("svg."+Q).remove()),O.text("").style("white-space","pre");var Z=I(O.node(),W);Z&&O.style("pointer-events","all"),U.positionText(O),B&&B.call(O)}return q?(z&&z._promises||[]).push(new Promise(function(Z){O.style("display","none");var Y=parseInt(O.node().style.fontSize,10),te={fontSize:Y};n(q[2],te,function(X,$,ie){ee.selectAll("svg."+Q).remove(),ee.selectAll("g."+Q+"-group").remove();var J=X&&X.select("svg");if(!J||!J.node()){oe(),Z();return}var j=ee.append("g").classed(Q+"-group",!0).attr({"pointer-events":"none","data-unformatted":W,"data-math":"Y"});j.node().appendChild(J.node()),$&&$.node()&&J.node().insertBefore($.node().cloneNode(!0),J.node().firstChild);var se=ie.width,ne=ie.height;J.attr({class:Q,height:ne,preserveAspectRatio:"xMinYMin meet"}).style({overflow:"visible","pointer-events":"none"});var le=O.node().style.fill||"black",pe=J.select("g");pe.attr({fill:le,stroke:le});var Ae=pe.node().getBoundingClientRect(),be=Ae.width,Re=Ae.height;(be>se||Re>ne)&&(J.style("overflow","hidden"),Ae=J.node().getBoundingClientRect(),be=Ae.width,Re=Ae.height);var xe=+O.attr("x"),Me=+O.attr("y"),ye=Y||O.node().getBoundingClientRect().height,Se=-ye/4;if(Q[0]==="y")j.attr({transform:"rotate("+[-90,xe,Me]+")"+a(-be/2,Se-Re/2)});else if(Q[0]==="l")Me=Se-Re/2;else if(Q[0]==="a"&&Q.indexOf("atitle")!==0)xe=0,Me=Se;else{var Fe=O.attr("text-anchor");xe=xe-be*(Fe==="middle"?.5:Fe==="end"?1:0),Me=Me+Se-Re/2}J.attr({x:xe,y:Me}),B&&B.call(O,j),Z(j)})})):oe(),O};var p=/(<|&lt;|&#60;)/g,r=/(>|&gt;|&#62;)/g;function t(O){return O.replace(p,"\\lt ").replace(r,"\\gt ")}var s=[["$","$"],["\\(","\\)"]];function n(O,z,B){var W=parseInt((MathJax.version||"").split(".")[0]);if(W!==2&&W!==3){L.warn("No MathJax version:",MathJax.version);return}var q,ee,Q,oe,Z=function(){return ee=L.extendDeepAll({},MathJax.Hub.config),Q=MathJax.Hub.processSectionDelay,MathJax.Hub.processSectionDelay!==void 0&&(MathJax.Hub.processSectionDelay=0),MathJax.Hub.Config({messageStyle:"none",tex2jax:{inlineMath:s},displayAlign:"left"})},Y=function(){ee=L.extendDeepAll({},MathJax.config),MathJax.config.tex||(MathJax.config.tex={}),MathJax.config.tex.inlineMath=s},te=function(){if(q=MathJax.Hub.config.menuSettings.renderer,q!=="SVG")return MathJax.Hub.setRenderer("SVG")},X=function(){q=MathJax.config.startup.output,q!=="svg"&&(MathJax.config.startup.output="svg")},$=function(){var le="math-output-"+L.randstr({},64);oe=g.select("body").append("div").attr({id:le}).style({visibility:"hidden",position:"absolute","font-size":z.fontSize+"px"}).text(t(O));var pe=oe.node();return W===2?MathJax.Hub.Typeset(pe):MathJax.typeset([pe])},ie=function(){var le=oe.select(W===2?".MathJax_SVG":".MathJax"),pe=!le.empty()&&oe.select("svg").node();if(!pe)L.log("There was an error in the tex syntax.",O),B();else{var Ae=pe.getBoundingClientRect(),be;W===2?be=g.select("body").select("#MathJax_SVG_glyphs"):be=le.select("defs"),B(le,be,Ae)}oe.remove()},J=function(){if(q!=="SVG")return MathJax.Hub.setRenderer(q)},j=function(){q!=="svg"&&(MathJax.config.startup.output=q)},se=function(){return Q!==void 0&&(MathJax.Hub.processSectionDelay=Q),MathJax.Hub.Config(ee)},ne=function(){MathJax.config=ee};W===2?MathJax.Hub.Queue(Z,te,$,ie,J,se):W===3&&(Y(),X(),MathJax.startup.defaultReady(),MathJax.startup.promise.then(function(){$(),ie(),j(),ne()}))}var f={sup:"font-size:70%",sub:"font-size:70%",b:"font-weight:bold",i:"font-style:italic",a:"cursor:pointer",span:"",em:"font-style:italic;font-weight:bold"},u={sub:"0.3em",sup:"-0.6em"},l={sub:"-0.21em",sup:"0.42em"},m="\u200B",h=["http:","https:","mailto:","",void 0,":"],M=U.NEWLINES=/(\r\n?|\n)/g,c=/(<[^<>]*>)/,i=/<(\/?)([^ >]*)(\s+(.*))?>/i,d=/<br(\s+.*)?>/i;U.BR_TAG_ALL=/<br(\s+.*)?>/gi;var b=/(^|[\s"'])style\s*=\s*("([^"]*);?"|'([^']*);?')/i,w=/(^|[\s"'])href\s*=\s*("([^"]*)"|'([^']*)')/i,E=/(^|[\s"'])target\s*=\s*("([^"\s]*)"|'([^'\s]*)')/i,y=/(^|[\s"'])popup\s*=\s*("([\w=,]*)"|'([\w=,]*)')/i;function S(O,z){if(!O)return null;var B=O.match(z),W=B&&(B[3]||B[4]);return W&&x(W)}var T=/(^|;)\s*color:/;U.plainText=function(O,z){z=z||{};for(var B=z.len!==void 0&&z.len!==-1?z.len:1/0,W=z.allowedTags!==void 0?z.allowedTags:["br"],q="...",ee=q.length,Q=O.split(c),oe=[],Z="",Y=0,te=0;te<Q.length;te++){var X=Q[te],$=X.match(i),ie=$&&$[2].toLowerCase();if(ie)W.indexOf(ie)!==-1&&(oe.push(X),Z=ie);else{var J=X.length;if(Y+J<B)oe.push(X),Y+=J;else if(Y<B){var j=B-Y;Z&&(Z!=="br"||j<=ee||J<=ee)&&oe.pop(),B>ee?oe.push(X.substr(0,j-ee)+q):oe.push(X.substr(0,j));break}Z=""}}return oe.join("")};var o={mu:"\u03BC",amp:"&",lt:"<",gt:">",nbsp:"\xA0",times:"\xD7",plusmn:"\xB1",deg:"\xB0"},P=/&(#\d+|#x[\da-fA-F]+|[a-z]+);/g;function x(O){return O.replace(P,function(z,B){var W;return B.charAt(0)==="#"?W=_(B.charAt(1)==="x"?parseInt(B.substr(2),16):parseInt(B.substr(1),10)):W=o[B],W||z})}U.convertEntities=x;function _(O){if(!(O>1114111)){var z=String.fromCodePoint;if(z)return z(O);var B=String.fromCharCode;return O<=65535?B(O):B((O>>10)+55232,O%1024+56320)}}function I(O,z){z=z.replace(M," ");var B=!1,W=[],q,ee=-1;function Q(){ee++;var Re=document.createElementNS(C.svg,"tspan");g.select(Re).attr({class:"line",dy:ee*A+"em"}),O.appendChild(Re),q=Re;var xe=W;if(W=[{node:Re}],xe.length>1)for(var Me=1;Me<xe.length;Me++)oe(xe[Me])}function oe(Re){var xe=Re.type,Me={},ye;if(xe==="a"){ye="a";var Se=Re.target,Fe=Re.href,Be=Re.popup;Fe&&(Me={"xlink:xlink:show":Se==="_blank"||Se.charAt(0)!=="_"?"new":"replace",target:Se,"xlink:xlink:href":Fe},Be&&(Me.onclick='window.open(this.href.baseVal,this.target.baseVal,"'+Be+'");return false;'))}else ye="tspan";Re.style&&(Me.style=Re.style);var _e=document.createElementNS(C.svg,ye);if(xe==="sup"||xe==="sub"){Z(q,m),q.appendChild(_e);var Ue=document.createElementNS(C.svg,"tspan");Z(Ue,m),g.select(Ue).attr("dy",l[xe]),Me.dy=u[xe],q.appendChild(_e),q.appendChild(Ue)}else q.appendChild(_e);g.select(_e).attr(Me),q=Re.node=_e,W.push(Re)}function Z(Re,xe){Re.appendChild(document.createTextNode(xe))}function Y(Re){if(W.length===1){L.log("Ignoring unexpected end tag </"+Re+">.",z);return}var xe=W.pop();Re!==xe.type&&L.log("Start tag <"+xe.type+"> doesnt match end tag <"+Re+">. Pretending it did match.",z),q=W[W.length-1].node}var te=d.test(z);te?Q():(q=O,W=[{node:O}]);for(var X=z.split(c),$=0;$<X.length;$++){var ie=X[$],J=ie.match(i),j=J&&J[2].toLowerCase(),se=f[j];if(j==="br")Q();else if(se===void 0)Z(q,x(ie));else if(J[1])Y(j);else{var ne=J[4],le={type:j},pe=S(ne,b);if(pe?(pe=pe.replace(T,"$1 fill:"),se&&(pe+=";"+se)):se&&(pe=se),pe&&(le.style=pe),j==="a"){B=!0;var Ae=S(ne,w);if(Ae){var be=N(Ae);be&&(le.href=be,le.target=S(ne,E)||"_blank",le.popup=S(ne,y))}}oe(le)}}return B}function N(O){var z=encodeURI(decodeURI(O)),B=document.createElement("a"),W=document.createElement("a");B.href=O,W.href=z;var q=B.protocol,ee=W.protocol;return h.indexOf(q)!==-1&&h.indexOf(ee)!==-1?z:""}U.sanitizeHTML=function(z){z=z.replace(M," ");for(var B=document.createElement("p"),W=B,q=[],ee=z.split(c),Q=0;Q<ee.length;Q++){var oe=ee[Q],Z=oe.match(i),Y=Z&&Z[2].toLowerCase();if(Y in f)if(Z[1])q.length&&(W=q.pop());else{var te=Z[4],X=S(te,b),$=X?{style:X}:{};if(Y==="a"){var ie=S(te,w);if(ie){var J=N(ie);if(J){$.href=J;var j=S(te,E);j&&($.target=j)}}}var se=document.createElement(Y);W.appendChild(se),g.select(se).attr($),W=se,q.push(se)}else W.appendChild(document.createTextNode(x(oe)))}var ne="innerHTML";return B[ne]},U.lineCount=function(z){return z.selectAll("tspan.line").size()||1},U.positionText=function(z,B,W){return z.each(function(){var q=g.select(this);function ee(Z,Y){return Y===void 0?(Y=q.attr(Z),Y===null&&(q.attr(Z,0),Y=0)):q.attr(Z,Y),Y}var Q=ee("x",B),oe=ee("y",W);this.nodeName==="text"&&q.selectAll("tspan.line").attr({x:Q,y:oe})})};function k(O,z,B){var W=B.horizontalAlign,q=B.verticalAlign||"top",ee=O.node().getBoundingClientRect(),Q=z.node().getBoundingClientRect(),oe,Z,Y;return q==="bottom"?Z=function(){return ee.bottom-oe.height}:q==="middle"?Z=function(){return ee.top+(ee.height-oe.height)/2}:Z=function(){return ee.top},W==="right"?Y=function(){return ee.right-oe.width}:W==="center"?Y=function(){return ee.left+(ee.width-oe.width)/2}:Y=function(){return ee.left},function(){oe=this.node().getBoundingClientRect();var te=Y()-Q.left,X=Z()-Q.top,$=B.gd||{};if(B.gd){$._fullLayout._calcInverseTransform($);var ie=L.apply3DTransform($._fullLayout._invTransform)(te,X);te=ie[0],X=ie[1]}return this.style({top:X+"px",left:te+"px","z-index":1e3}),this}}var F="1px ";U.makeTextShadow=function(O){var z=F,B=F,W=F;return z+B+W+O+", -"+z+"-"+B+W+O+", "+z+"-"+B+W+O+", -"+z+B+W+O},U.makeEditable=function(O,z){var B=z.gd,W=z.delegate,q=g.dispatch("edit","input","cancel"),ee=W||O;if(O.style({"pointer-events":W?"none":"all"}),O.size()!==1)throw new Error("boo");function Q(){Z(),O.style({opacity:0});var Y=ee.attr("class"),te;Y?te="."+Y.split(" ")[0]+"-math-group":te="[class*=-math-group]",te&&g.select(O.node().parentNode).select(te).style({opacity:0})}function oe(Y){var te=Y.node(),X=document.createRange();X.selectNodeContents(te);var $=window.getSelection();$.removeAllRanges(),$.addRange(X),te.focus()}function Z(){var Y=g.select(B),te=Y.select(".svg-container"),X=te.append("div"),$=O.node().style,ie=parseFloat($.fontSize||12),J=z.text;J===void 0&&(J=O.attr("data-unformatted")),X.classed("plugin-editable editable",!0).style({position:"absolute","font-family":$.fontFamily||"Arial","font-size":ie,color:z.fill||$.fill||"black",opacity:1,"background-color":z.background||"transparent",outline:"#ffffff33 1px solid",margin:[-ie/8+1,0,0,-1].join("px ")+"px",padding:"0","box-sizing":"border-box"}).attr({contenteditable:!0}).text(J).call(k(O,te,z)).on("blur",function(){B._editing=!1,O.text(this.textContent).style({opacity:1});var j=g.select(this).attr("class"),se;j?se="."+j.split(" ")[0]+"-math-group":se="[class*=-math-group]",se&&g.select(O.node().parentNode).select(se).style({opacity:0});var ne=this.textContent;g.select(this).transition().duration(0).remove(),g.select(document).on("mouseup",null),q.edit.call(O,ne)}).on("focus",function(){var j=this;B._editing=!0,g.select(document).on("mouseup",function(){if(g.event.target===j)return!1;document.activeElement===X.node()&&X.node().blur()})}).on("keyup",function(){g.event.which===27?(B._editing=!1,O.style({opacity:1}),g.select(this).style({opacity:0}).on("blur",function(){return!1}).transition().remove(),q.cancel.call(O,this.textContent)):(q.input.call(O,this.textContent),g.select(this).call(k(O,te,z)))}).on("keydown",function(){g.event.which===13&&this.blur()}).call(oe)}return z.immediate?Q():ee.on("click",Q),g.rebind(O,q,"on")}},91200:function(G,U){var e={};U.throttle=function(a,C,A){var v=e[a],p=Date.now();if(!v){for(var r in e)e[r].ts<p-6e4&&delete e[r];v=e[a]={ts:0,timer:null}}g(v);function t(){A(),v.ts=Date.now(),v.onDone&&(v.onDone(),v.onDone=null)}if(p>v.ts+C){t();return}v.timer=setTimeout(function(){t(),v.timer=null},C)},U.done=function(L){var a=e[L];return!a||!a.timer?Promise.resolve():new Promise(function(C){var A=a.onDone;a.onDone=function(){A&&A(),C(),a.onDone=null}})},U.clear=function(L){if(L)g(e[L]),delete e[L];else for(var a in e)U.clear(a)};function g(L){L&&L.timer!==null&&(clearTimeout(L.timer),L.timer=null)}},36896:function(G,U,e){var g=e(38248);G.exports=function(a,C){if(a>0)return Math.log(a)/Math.LN10;var A=Math.log(Math.min(C[0],C[1]))/Math.LN10;return g(A)||(A=Math.log(Math.max(C[0],C[1]))/Math.LN10-6),A}},59972:function(G,U,e){var g=G.exports={},L=e(79552).locationmodeToLayer,a=e(55712).NO;g.getTopojsonName=function(C){return[C.scope.replace(/ /g,"-"),"_",C.resolution.toString(),"m"].join("")},g.getTopojsonPath=function(C,A){return C+A+".json"},g.getTopojsonFeatures=function(C,A){var v=L[C.locationmode],p=A.objects[v];return a(A,p).features}},11680:function(G){G.exports={moduleType:"locale",name:"en-US",dictionary:{"Click to enter Colorscale title":"Click to enter Colorscale title"},format:{date:"%m/%d/%Y"}}},6580:function(G){G.exports={moduleType:"locale",name:"en",dictionary:{"Click to enter Colorscale title":"Click to enter Colourscale title"},format:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],periods:["AM","PM"],dateTime:"%a %b %e %X %Y",date:"%d/%m/%Y",time:"%H:%M:%S",decimal:".",thousands:",",grouping:[3],currency:["$",""],year:"%Y",month:"%b %Y",dayMonth:"%b %-d",dayMonthYear:"%b %-d, %Y"}}},69820:function(G,U,e){var g=e(24040);G.exports=function(a){for(var C=g.layoutArrayContainers,A=g.layoutArrayRegexes,v=a.split("[")[0],p,r,t=0;t<A.length;t++)if(r=a.match(A[t]),r&&r.index===0){p=r[0];break}if(p||(p=C[C.indexOf(v)]),!p)return!1;var s=a.substr(p.length);return s?(r=s.match(/^\[(0|[1-9][0-9]*)\](\.(.+))?$/),r?{array:p,index:Number(r[1]),property:r[3]||""}:!1):{array:p,index:"",property:""}}},67824:function(G,U,e){var g=e(92880).extendFlat,L=e(63620),a={valType:"flaglist",extras:["none"],flags:["calc","clearAxisTypes","plot","style","markerSize","colorbars"]},C={valType:"flaglist",extras:["none"],flags:["calc","plot","legend","ticks","axrange","layoutstyle","modebar","camera","arraydraw","colorbars"]},A=a.flags.slice().concat(["fullReplot"]),v=C.flags.slice().concat("layoutReplot");G.exports={traces:a,layout:C,traceFlags:function(){return p(A)},layoutFlags:function(){return p(v)},update:function(s,n){var f=n.editType;if(f&&f!=="none")for(var u=f.split("+"),l=0;l<u.length;l++)s[u[l]]=!0},overrideAll:r};function p(s){for(var n={},f=0;f<s.length;f++)n[s[f]]=!1;return n}function r(s,n,f){var u=g({},s);for(var l in u){var m=u[l];L(m)&&(u[l]=t(m,n,f,l))}return f==="from-root"&&(u.editType=n),u}function t(s,n,f,u){if(s.valType){var l=g({},s);if(l.editType=n,Array.isArray(s.items)){l.items=new Array(s.items.length);for(var m=0;m<s.items.length;m++)l.items[m]=t(s.items[m],n)}return l}else return r(s,n,u.charAt(0)==="_"?"nested":"from-root")}},93404:function(G,U,e){var g=e(38248),L=e(61784),a=e(24040),C=e(3400),A=e(7316),v=e(79811),p=e(76308),r=v.cleanId,t=v.getFromTrace,s=a.traceIs;U.clearPromiseQueue=function(d){Array.isArray(d._promises)&&d._promises.length>0&&C.log("Clearing previous rejected promises from queue."),d._promises=[]},U.cleanLayout=function(d){var b,w;d||(d={}),d.xaxis1&&(d.xaxis||(d.xaxis=d.xaxis1),delete d.xaxis1),d.yaxis1&&(d.yaxis||(d.yaxis=d.yaxis1),delete d.yaxis1),d.scene1&&(d.scene||(d.scene=d.scene1),delete d.scene1);var E=(A.subplotsRegistry.cartesian||{}).attrRegex,y=(A.subplotsRegistry.polar||{}).attrRegex,S=(A.subplotsRegistry.ternary||{}).attrRegex,T=(A.subplotsRegistry.gl3d||{}).attrRegex,o=Object.keys(d);for(b=0;b<o.length;b++){var P=o[b];if(E&&E.test(P)){var x=d[P];x.anchor&&x.anchor!=="free"&&(x.anchor=r(x.anchor)),x.overlaying&&(x.overlaying=r(x.overlaying)),x.type||(x.isdate?x.type="date":x.islog?x.type="log":x.isdate===!1&&x.islog===!1&&(x.type="linear")),(x.autorange==="withzero"||x.autorange==="tozero")&&(x.autorange=!0,x.rangemode="tozero"),x.insiderange&&delete x.range,delete x.islog,delete x.isdate,delete x.categories,h(x,"domain")&&delete x.domain,x.autotick!==void 0&&(x.tickmode===void 0&&(x.tickmode=x.autotick?"auto":"linear"),delete x.autotick),f(x)}else if(y&&y.test(P)){var _=d[P];f(_.radialaxis)}else if(S&&S.test(P)){var I=d[P];f(I.aaxis),f(I.baxis),f(I.caxis)}else if(T&&T.test(P)){var N=d[P],k=N.cameraposition;if(Array.isArray(k)&&k[0].length===4){var F=k[0],O=k[1],z=k[2],B=L([],F),W=[];for(w=0;w<3;++w)W[w]=O[w]+z*B[2+4*w];N.camera={eye:{x:W[0],y:W[1],z:W[2]},center:{x:O[0],y:O[1],z:O[2]},up:{x:0,y:0,z:1}},delete N.cameraposition}f(N.xaxis),f(N.yaxis),f(N.zaxis)}}var q=Array.isArray(d.annotations)?d.annotations.length:0;for(b=0;b<q;b++){var ee=d.annotations[b];!C.isPlainObject(ee)||(ee.ref&&(ee.ref==="paper"?(ee.xref="paper",ee.yref="paper"):ee.ref==="data"&&(ee.xref="x",ee.yref="y"),delete ee.ref),n(ee,"xref"),n(ee,"yref"))}var Q=Array.isArray(d.shapes)?d.shapes.length:0;for(b=0;b<Q;b++){var oe=d.shapes[b];!C.isPlainObject(oe)||(n(oe,"xref"),n(oe,"yref"))}var Z=Array.isArray(d.images)?d.images.length:0;for(b=0;b<Z;b++){var Y=d.images[b];!C.isPlainObject(Y)||(n(Y,"xref"),n(Y,"yref"))}var te=d.legend;return te&&(te.x>3?(te.x=1.02,te.xanchor="left"):te.x<-2&&(te.x=-.02,te.xanchor="right"),te.y>3?(te.y=1.02,te.yanchor="bottom"):te.y<-2&&(te.y=-.02,te.yanchor="top")),f(d),d.dragmode==="rotate"&&(d.dragmode="orbit"),p.clean(d),d.template&&d.template.layout&&U.cleanLayout(d.template.layout),d};function n(d,b){var w=d[b],E=b.charAt(0);w&&w!=="paper"&&(d[b]=r(w,E,!0))}function f(d){d&&((typeof d.title=="string"||typeof d.title=="number")&&(d.title={text:d.title}),b("titlefont","font"),b("titleposition","position"),b("titleside","side"),b("titleoffset","offset"));function b(w,E){var y=d[w],S=d.title&&d.title[E];y&&!S&&(d.title||(d.title={}),d.title[E]=d[w],delete d[w])}}U.cleanData=function(d){for(var b=0;b<d.length;b++){var w=d[b],E;if(w.type==="histogramy"&&"xbins"in w&&!("ybins"in w)&&(w.ybins=w.xbins,delete w.xbins),w.error_y&&"opacity"in w.error_y){var y=p.defaults,S=w.error_y.color||(s(w,"bar")?p.defaultLine:y[b%y.length]);w.error_y.color=p.addOpacity(p.rgb(S),p.opacity(S)*w.error_y.opacity),delete w.error_y.opacity}if("bardir"in w&&(w.bardir==="h"&&(s(w,"bar")||w.type.substr(0,9)==="histogram")&&(w.orientation="h",U.swapXYData(w)),delete w.bardir),w.type==="histogramy"&&U.swapXYData(w),(w.type==="histogramx"||w.type==="histogramy")&&(w.type="histogram"),"scl"in w&&!("colorscale"in w)&&(w.colorscale=w.scl,delete w.scl),"reversescl"in w&&!("reversescale"in w)&&(w.reversescale=w.reversescl,delete w.reversescl),w.xaxis&&(w.xaxis=r(w.xaxis,"x")),w.yaxis&&(w.yaxis=r(w.yaxis,"y")),s(w,"gl3d")&&w.scene&&(w.scene=A.subplotsRegistry.gl3d.cleanId(w.scene)),!s(w,"pie-like")&&!s(w,"bar-like"))if(Array.isArray(w.textposition))for(E=0;E<w.textposition.length;E++)w.textposition[E]=m(w.textposition[E]);else w.textposition&&(w.textposition=m(w.textposition));var T=a.getModule(w);if(T&&T.colorbar){var o=T.colorbar.container,P=o?w[o]:w;P&&P.colorscale&&(P.colorscale==="YIGnBu"&&(P.colorscale="YlGnBu"),P.colorscale==="YIOrRd"&&(P.colorscale="YlOrRd"))}if(w.type==="surface"&&C.isPlainObject(w.contours)){var x=["x","y","z"];for(E=0;E<x.length;E++){var _=w.contours[x[E]];!C.isPlainObject(_)||(_.highlightColor&&(_.highlightcolor=_.highlightColor,delete _.highlightColor),_.highlightWidth&&(_.highlightwidth=_.highlightWidth,delete _.highlightWidth))}}if(w.type==="candlestick"||w.type==="ohlc"){var I=(w.increasing||{}).showlegend!==!1,N=(w.decreasing||{}).showlegend!==!1,k=u(w.increasing),F=u(w.decreasing);if(k!==!1&&F!==!1){var O=l(k,F,I,N);O&&(w.name=O)}else(k||F)&&!w.name&&(w.name=k||F)}if(Array.isArray(w.transforms)){var z=w.transforms;for(E=0;E<z.length;E++){var B=z[E];if(!!C.isPlainObject(B))switch(B.type){case"filter":B.filtersrc&&(B.target=B.filtersrc,delete B.filtersrc),B.calendar&&(B.valuecalendar||(B.valuecalendar=B.calendar),delete B.calendar);break;case"groupby":if(B.styles=B.styles||B.style,B.styles&&!Array.isArray(B.styles)){var W=B.styles,q=Object.keys(W);B.styles=[];for(var ee=0;ee<q.length;ee++)B.styles.push({target:q[ee],value:W[q[ee]]})}break}}}h(w,"line")&&delete w.line,"marker"in w&&(h(w.marker,"line")&&delete w.marker.line,h(w,"marker")&&delete w.marker),p.clean(w),w.autobinx&&(delete w.autobinx,delete w.xbins),w.autobiny&&(delete w.autobiny,delete w.ybins),f(w),w.colorbar&&f(w.colorbar),w.marker&&w.marker.colorbar&&f(w.marker.colorbar),w.line&&w.line.colorbar&&f(w.line.colorbar),w.aaxis&&f(w.aaxis),w.baxis&&f(w.baxis)}};function u(d){if(!C.isPlainObject(d))return!1;var b=d.name;return delete d.name,delete d.showlegend,(typeof b=="string"||typeof b=="number")&&String(b)}function l(d,b,w,E){if(w&&!E)return d;if(E&&!w||!d.trim())return b;if(!b.trim())return d;var y=Math.min(d.length,b.length),S;for(S=0;S<y&&d.charAt(S)===b.charAt(S);S++);var T=d.substr(0,S);return T.trim()}function m(d){var b="middle",w="center";return typeof d=="string"&&(d.indexOf("top")!==-1?b="top":d.indexOf("bottom")!==-1&&(b="bottom"),d.indexOf("left")!==-1?w="left":d.indexOf("right")!==-1&&(w="right")),b+" "+w}function h(d,b){return b in d&&typeof d[b]=="object"&&Object.keys(d[b]).length===0}U.swapXYData=function(d){var b;if(C.swapAttrs(d,["?","?0","d?","?bins","nbins?","autobin?","?src","error_?"]),Array.isArray(d.z)&&Array.isArray(d.z[0])&&(d.transpose?delete d.transpose:d.transpose=!0),d.error_x&&d.error_y){var w=d.error_y,E="copy_ystyle"in w?w.copy_ystyle:!(w.color||w.thickness||w.width);C.swapAttrs(d,["error_?.copy_ystyle"]),E&&C.swapAttrs(d,["error_?.color","error_?.thickness","error_?.width"])}if(typeof d.hoverinfo=="string"){var y=d.hoverinfo.split("+");for(b=0;b<y.length;b++)y[b]==="x"?y[b]="y":y[b]==="y"&&(y[b]="x");d.hoverinfo=y.join("+")}},U.coerceTraceIndices=function(d,b){if(g(b))return[b];if(!Array.isArray(b)||!b.length)return d.data.map(function(y,S){return S});if(Array.isArray(b)){for(var w=[],E=0;E<b.length;E++)C.isIndex(b[E],d.data.length)?w.push(b[E]):C.warn("trace index (",b[E],") is not a number or is out of bounds");return w}return b},U.manageArrayContainers=function(d,b,w){var E=d.obj,y=d.parts,S=y.length,T=y[S-1],o=g(T);if(o&&b===null){var P=y.slice(0,S-1).join("."),x=C.nestedProperty(E,P).get();x.splice(T,1)}else o&&d.get()===void 0&&d.get()===void 0&&(w[d.astr]=null),d.set(b)};var M=/(\.[^\[\]\.]+|\[[^\[\]\.]+\])$/;function c(d){var b=d.search(M);if(b>0)return d.substr(0,b)}U.hasParent=function(d,b){for(var w=c(b);w;){if(w in d)return!0;w=c(w)}return!1};var i=["x","y","z"];U.clearAxisTypes=function(d,b,w){for(var E=0;E<b.length;E++)for(var y=d._fullData[E],S=0;S<3;S++){var T=t(d,y,i[S]);if(T&&T.type!=="log"){var o=T._name,P=T._id.substr(1);if(P.substr(0,5)==="scene"){if(w[P]!==void 0)continue;o=P+"."+o}var x=o+".type";w[o]===void 0&&w[x]===void 0&&C.nestedProperty(d.layout,x).set(null)}}}},22448:function(G,U,e){var g=e(36424);U._doPlot=g._doPlot,U.newPlot=g.newPlot,U.restyle=g.restyle,U.relayout=g.relayout,U.redraw=g.redraw,U.update=g.update,U._guiRestyle=g._guiRestyle,U._guiRelayout=g._guiRelayout,U._guiUpdate=g._guiUpdate,U._storeDirectGUIEdit=g._storeDirectGUIEdit,U.react=g.react,U.extendTraces=g.extendTraces,U.prependTraces=g.prependTraces,U.addTraces=g.addTraces,U.deleteTraces=g.deleteTraces,U.moveTraces=g.moveTraces,U.purge=g.purge,U.addFrames=g.addFrames,U.deleteFrames=g.deleteFrames,U.animate=g.animate,U.setPlotConfig=g.setPlotConfig;var L=e(52200).getGraphDiv,a=e(4016).eraseActiveShape;U.deleteActiveShape=function(A){return a(L(A))},U.toImage=e(67024),U.validate=e(21480),U.downloadImage=e(39792);var C=e(94828);U.makeTemplate=C.makeTemplate,U.validateTemplate=C.validateTemplate},17680:function(G,U,e){var g=e(63620),L=e(16628),a=e(24248),C=e(14952).sorterAsc,A=e(24040);U.containerArrayMatch=e(69820);var v=U.isAddVal=function(t){return t==="add"||g(t)},p=U.isRemoveVal=function(t){return t===null||t==="remove"};U.applyContainerArrayChanges=function(t,s,n,f,u){var l=s.astr,m=A.getComponentMethod(l,"supplyLayoutDefaults"),h=A.getComponentMethod(l,"draw"),M=A.getComponentMethod(l,"drawOne"),c=f.replot||f.recalc||m===L||h===L,i=t.layout,d=t._fullLayout;if(n[""]){Object.keys(n).length>1&&a.warn("Full array edits are incompatible with other edits",l);var b=n[""][""];if(p(b))s.set(null);else if(Array.isArray(b))s.set(b);else return a.warn("Unrecognized full array edit value",l,b),!0;return c?!1:(m(i,d),h(t),!0)}var w=Object.keys(n).map(Number).sort(C),E=s.get(),y=E||[],S=u(d,l).get(),T=[],o=-1,P=y.length,x,_,I,N,k,F,O,z;for(x=0;x<w.length;x++){if(I=w[x],N=n[I],k=Object.keys(N),F=N[""],O=v(F),I<0||I>y.length-(O?0:1)){a.warn("index out of range",l,I);continue}if(F!==void 0)k.length>1&&a.warn("Insertion & removal are incompatible with edits to the same index.",l,I),p(F)?T.push(I):O?(F==="add"&&(F={}),y.splice(I,0,F),S&&S.splice(I,0,{})):a.warn("Unrecognized full object edit value",l,I,F),o===-1&&(o=I);else for(_=0;_<k.length;_++)z=l+"["+I+"].",u(y[I],k[_],z).set(N[k[_]])}for(x=T.length-1;x>=0;x--)y.splice(T[x],1),S&&S.splice(T[x],1);if(y.length?E||s.set(y):s.set(null),c)return!1;if(m(i,d),M!==L){var B;if(o===-1)B=w;else{for(P=Math.max(y.length,P),B=[],x=0;x<w.length&&(I=w[x],!(I>=o));x++)B.push(I);for(x=o;x<P;x++)B.push(x)}for(x=0;x<B.length;x++)M(t,B[x])}else h(t);return!0}},36424:function(G,U,e){var g=e(33428),L=e(38248),a=e(52264),C=e(3400),A=C.nestedProperty,v=e(95924),p=e(94552),r=e(24040),t=e(73060),s=e(7316),n=e(54460),f=e(96312),u=e(94724),l=e(43616),m=e(76308),h=e(42464).initInteractions,M=e(9616),c=e(22676).clearOutline,i=e(20556).dfltConfig,d=e(17680),b=e(93404),w=e(39172),E=e(67824),y=e(33816).AX_NAME_PATTERN,S=0,T=5;function o(Te,ze,Xe,et){var ut;if(Te=C.getGraphDiv(Te),v.init(Te),C.isPlainObject(ze)){var dt=ze;ze=dt.data,Xe=dt.layout,et=dt.config,ut=dt.frames}var Zt=v.triggerHandler(Te,"plotly_beforeplot",[ze,Xe,et]);if(Zt===!1)return Promise.reject();!ze&&!Xe&&!C.isPlotDiv(Te)&&C.warn("Calling _doPlot as if redrawing but this container doesn't yet have a plot.",Te);function jt(){if(ut)return U.addFrames(Te,ut)}N(Te,et),Xe||(Xe={}),g.select(Te).classed("js-plotly-plot",!0),l.makeTester(),Array.isArray(Te._promises)||(Te._promises=[]);var Tt=(Te.data||[]).length===0&&Array.isArray(ze);Array.isArray(ze)&&(b.cleanData(ze),Tt?Te.data=ze:Te.data.push.apply(Te.data,ze),Te.empty=!1),(!Te.layout||Tt)&&(Te.layout=b.cleanLayout(Xe)),s.supplyDefaults(Te);var kt=Te._fullLayout,Qt=kt._has("cartesian");kt._replotting=!0,(Tt||kt._shouldCreateBgLayer)&&(Ee(Te),kt._shouldCreateBgLayer&&delete kt._shouldCreateBgLayer),l.initGradients(Te),l.initPatterns(Te),Tt&&n.saveShowSpikeInitial(Te);var wr=!Te.calcdata||Te.calcdata.length!==(Te._fullData||[]).length;wr&&s.doCalcdata(Te);for(var xt=0;xt<Te.calcdata.length;xt++)Te.calcdata[xt][0].trace=Te._fullData[xt];Te._context.responsive?Te._responsiveChartHandler||(Te._responsiveChartHandler=function(){C.isHidden(Te)||s.resize(Te)},window.addEventListener("resize",Te._responsiveChartHandler)):C.clearResponsive(Te);var At=C.extendFlat({},kt._size),Wt=0;function er(){for(var Vt=kt._basePlotModules,Nt=0;Nt<Vt.length;Nt++)Vt[Nt].drawFramework&&Vt[Nt].drawFramework(Te);!kt._glcanvas&&kt._has("gl")&&(kt._glcanvas=kt._glcontainer.selectAll(".gl-canvas").data([{key:"contextLayer",context:!0,pick:!1},{key:"focusLayer",context:!1,pick:!1},{key:"pickLayer",context:!1,pick:!0}],function(dr){return dr.key}),kt._glcanvas.enter().append("canvas").attr("class",function(dr){return"gl-canvas gl-canvas-"+dr.key.replace("Layer","")}).style({position:"absolute",top:0,left:0,overflow:"visible","pointer-events":"none"}));var Jt=Te._context.plotGlPixelRatio;if(kt._glcanvas){kt._glcanvas.attr("width",kt.width*Jt).attr("height",kt.height*Jt).style("width",kt.width+"px").style("height",kt.height+"px");var fr=kt._glcanvas.data()[0].regl;if(fr&&(Math.floor(kt.width*Jt)!==fr._gl.drawingBufferWidth||Math.floor(kt.height*Jt)!==fr._gl.drawingBufferHeight)){var cr="WebGL context buffer and canvas dimensions do not match due to browser/WebGL bug.";if(Wt)C.error(cr);else return C.log(cr+" Clearing graph and plotting again."),s.cleanPlot([],{},Te._fullData,kt),s.supplyDefaults(Te),kt=Te._fullLayout,s.doCalcdata(Te),Wt++,er()}}return kt.modebar.orientation==="h"?kt._modebardiv.style("height",null).style("width","100%"):kt._modebardiv.style("width",null).style("height",kt.height+"px"),s.previousPromises(Te)}function $t(){if(s.clearAutoMarginIds(Te),w.drawMarginPushers(Te),n.allowAutoMargin(Te),Te._fullLayout.title.text&&Te._fullLayout.title.automargin&&s.allowAutoMargin(Te,"title.automargin"),kt._has("pie"))for(var Vt=Te._fullData,Nt=0;Nt<Vt.length;Nt++){var Jt=Vt[Nt];Jt.type==="pie"&&Jt.automargin&&s.allowAutoMargin(Te,"pie."+Jt.uid+".automargin")}return s.doAutoMargin(Te),s.previousPromises(Te)}function ht(){if(!!s.didMarginChange(At,kt._size))return C.syncOrAsync([$t,w.layoutStyles],Te)}function at(){if(!wr){bt();return}return C.syncOrAsync([r.getComponentMethod("shapes","calcAutorange"),r.getComponentMethod("annotations","calcAutorange"),bt],Te)}function bt(){Te._transitioning||(w.doAutoRangeAndConstraints(Te),Tt&&n.saveRangeInitial(Te),r.getComponentMethod("rangeslider","calcAutorange")(Te))}function Ct(){return n.draw(Te,Tt?"":"redraw")}var Dt=[s.previousPromises,jt,er,$t,ht];Qt&&Dt.push(at),Dt.push(w.layoutStyles),Qt&&Dt.push(Ct,function(Nt){var Jt=Nt._fullLayout._insideTickLabelsUpdaterange;if(Jt)return Nt._fullLayout._insideTickLabelsUpdaterange=void 0,Ae(Nt,Jt).then(function(){n.saveRangeInitial(Nt,!0)})}),Dt.push(w.drawData,w.finalDraw,h,s.addLinks,s.rehover,s.redrag,s.reselect,s.doAutoMargin,s.previousPromises);var It=C.syncOrAsync(Dt,Te);return(!It||!It.then)&&(It=Promise.resolve()),It.then(function(){return P(Te),Te})}function P(Te){var ze=Te._fullLayout;ze._redrawFromAutoMarginCount?ze._redrawFromAutoMarginCount--:Te.emit("plotly_afterplot")}function x(Te){return C.extendFlat(i,Te)}function _(Te,ze){try{Te._fullLayout._paper.style("background",ze)}catch(Xe){C.error(Xe)}}function I(Te,ze){var Xe=m.combine(ze,"white");_(Te,Xe)}function N(Te,ze){if(!Te._context){Te._context=C.extendDeep({},i);var Xe=g.select("base");Te._context._baseUrl=Xe.size()&&Xe.attr("href")?window.location.href.split("#")[0]:""}var et=Te._context,ut,dt,Zt;if(ze){for(dt=Object.keys(ze),ut=0;ut<dt.length;ut++)Zt=dt[ut],!(Zt==="editable"||Zt==="edits")&&Zt in et&&(Zt==="setBackground"&&ze[Zt]==="opaque"?et[Zt]=I:et[Zt]=ze[Zt]);ze.plot3dPixelRatio&&!et.plotGlPixelRatio&&(et.plotGlPixelRatio=et.plot3dPixelRatio);var jt=ze.editable;if(jt!==void 0)for(et.editable=jt,dt=Object.keys(et.edits),ut=0;ut<dt.length;ut++)et.edits[dt[ut]]=jt;if(ze.edits)for(dt=Object.keys(ze.edits),ut=0;ut<dt.length;ut++)Zt=dt[ut],Zt in et.edits&&(et.edits[Zt]=ze.edits[Zt]);et._exportedPlot=ze._exportedPlot}et.staticPlot&&(et.editable=!1,et.edits={},et.autosizable=!1,et.scrollZoom=!1,et.doubleClick=!1,et.showTips=!1,et.showLink=!1,et.displayModeBar=!1),et.displayModeBar==="hover"&&!a&&(et.displayModeBar=!0),(et.setBackground==="transparent"||typeof et.setBackground!="function")&&(et.setBackground=_),et._hasZeroHeight=et._hasZeroHeight||Te.clientHeight===0,et._hasZeroWidth=et._hasZeroWidth||Te.clientWidth===0;var Tt=et.scrollZoom,kt=et._scrollZoom={};if(Tt===!0)kt.cartesian=1,kt.gl3d=1,kt.geo=1,kt.mapbox=1;else if(typeof Tt=="string"){var Qt=Tt.split("+");for(ut=0;ut<Qt.length;ut++)kt[Qt[ut]]=1}else Tt!==!1&&(kt.gl3d=1,kt.geo=1,kt.mapbox=1)}function k(Te){if(Te=C.getGraphDiv(Te),!C.isPlotDiv(Te))throw new Error("This element is not a Plotly plot: "+Te);return b.cleanData(Te.data),b.cleanLayout(Te.layout),Te.calcdata=void 0,U._doPlot(Te).then(function(){return Te.emit("plotly_redraw"),Te})}function F(Te,ze,Xe,et){return Te=C.getGraphDiv(Te),s.cleanPlot([],{},Te._fullData||[],Te._fullLayout||{}),s.purge(Te),U._doPlot(Te,ze,Xe,et)}function O(Te,ze){var Xe=ze+1,et=[],ut,dt;for(ut=0;ut<Te.length;ut++)dt=Te[ut],dt<0?et.push(Xe+dt):et.push(dt);return et}function z(Te,ze,Xe){var et,ut;for(et=0;et<ze.length;et++){if(ut=ze[et],ut!==parseInt(ut,10))throw new Error("all values in "+Xe+" must be integers");if(ut>=Te.data.length||ut<-Te.data.length)throw new Error(Xe+" must be valid indices for gd.data.");if(ze.indexOf(ut,et+1)>-1||ut>=0&&ze.indexOf(-Te.data.length+ut)>-1||ut<0&&ze.indexOf(Te.data.length+ut)>-1)throw new Error("each index in "+Xe+" must be unique.")}}function B(Te,ze,Xe){if(!Array.isArray(Te.data))throw new Error("gd.data must be an array.");if(typeof ze=="undefined")throw new Error("currentIndices is a required argument.");if(Array.isArray(ze)||(ze=[ze]),z(Te,ze,"currentIndices"),typeof Xe!="undefined"&&!Array.isArray(Xe)&&(Xe=[Xe]),typeof Xe!="undefined"&&z(Te,Xe,"newIndices"),typeof Xe!="undefined"&&ze.length!==Xe.length)throw new Error("current and new indices must be of equal length.")}function W(Te,ze,Xe){var et,ut;if(!Array.isArray(Te.data))throw new Error("gd.data must be an array.");if(typeof ze=="undefined")throw new Error("traces must be defined.");for(Array.isArray(ze)||(ze=[ze]),et=0;et<ze.length;et++)if(ut=ze[et],typeof ut!="object"||Array.isArray(ut)||ut===null)throw new Error("all values in traces array must be non-array objects");if(typeof Xe!="undefined"&&!Array.isArray(Xe)&&(Xe=[Xe]),typeof Xe!="undefined"&&Xe.length!==ze.length)throw new Error("if indices is specified, traces.length must equal indices.length")}function q(Te,ze,Xe,et){var ut=C.isPlainObject(et);if(!Array.isArray(Te.data))throw new Error("gd.data must be an array");if(!C.isPlainObject(ze))throw new Error("update must be a key:value object");if(typeof Xe=="undefined")throw new Error("indices must be an integer or array of integers");z(Te,Xe,"indices");for(var dt in ze){if(!Array.isArray(ze[dt])||ze[dt].length!==Xe.length)throw new Error("attribute "+dt+" must be an array of length equal to indices array length");if(ut&&(!(dt in et)||!Array.isArray(et[dt])||et[dt].length!==ze[dt].length))throw new Error("when maxPoints is set as a key:value object it must contain a 1:1 corrispondence with the keys and number of traces in the update object")}}function ee(Te,ze,Xe,et){var ut=C.isPlainObject(et),dt=[],Zt,jt,Tt,kt,Qt;Array.isArray(Xe)||(Xe=[Xe]),Xe=O(Xe,Te.data.length-1);for(var wr in ze)for(var xt=0;xt<Xe.length;xt++){if(Zt=Te.data[Xe[xt]],Tt=A(Zt,wr),jt=Tt.get(),kt=ze[wr][xt],!C.isArrayOrTypedArray(kt))throw new Error("attribute: "+wr+" index: "+xt+" must be an array");if(!C.isArrayOrTypedArray(jt))throw new Error("cannot extend missing or non-array attribute: "+wr);if(jt.constructor!==kt.constructor)throw new Error("cannot extend array with an array of a different type: "+wr);Qt=ut?et[wr][xt]:et,L(Qt)||(Qt=-1),dt.push({prop:Tt,target:jt,insert:kt,maxp:Math.floor(Qt)})}return dt}function Q(Te,ze,Xe,et,ut){q(Te,ze,Xe,et);for(var dt=ee(Te,ze,Xe,et),Zt={},jt={},Tt=0;Tt<dt.length;Tt++){var kt=dt[Tt].prop,Qt=dt[Tt].maxp,wr=ut(dt[Tt].target,dt[Tt].insert,Qt);kt.set(wr[0]),Array.isArray(Zt[kt.astr])||(Zt[kt.astr]=[]),Zt[kt.astr].push(wr[1]),Array.isArray(jt[kt.astr])||(jt[kt.astr]=[]),jt[kt.astr].push(dt[Tt].target.length)}return{update:Zt,maxPoints:jt}}function oe(Te,ze){var Xe=new Te.constructor(Te.length+ze.length);return Xe.set(Te),Xe.set(ze,Te.length),Xe}function Z(Te,ze,Xe,et){Te=C.getGraphDiv(Te);function ut(Tt,kt,Qt){var wr,xt;if(C.isTypedArray(Tt))if(Qt<0){var At=new Tt.constructor(0),Wt=oe(Tt,kt);Qt<0?(wr=Wt,xt=At):(wr=At,xt=Wt)}else if(wr=new Tt.constructor(Qt),xt=new Tt.constructor(Tt.length+kt.length-Qt),Qt===kt.length)wr.set(kt),xt.set(Tt);else if(Qt<kt.length){var er=kt.length-Qt;wr.set(kt.subarray(er)),xt.set(Tt),xt.set(kt.subarray(0,er),Tt.length)}else{var $t=Qt-kt.length,ht=Tt.length-$t;wr.set(Tt.subarray(ht)),wr.set(kt,$t),xt.set(Tt.subarray(0,ht))}else wr=Tt.concat(kt),xt=Qt>=0&&Qt<wr.length?wr.splice(0,wr.length-Qt):[];return[wr,xt]}var dt=Q(Te,ze,Xe,et,ut),Zt=U.redraw(Te),jt=[Te,dt.update,Xe,dt.maxPoints];return p.add(Te,U.prependTraces,jt,Z,arguments),Zt}function Y(Te,ze,Xe,et){Te=C.getGraphDiv(Te);function ut(Tt,kt,Qt){var wr,xt;if(C.isTypedArray(Tt))if(Qt<=0){var At=new Tt.constructor(0),Wt=oe(kt,Tt);Qt<0?(wr=Wt,xt=At):(wr=At,xt=Wt)}else if(wr=new Tt.constructor(Qt),xt=new Tt.constructor(Tt.length+kt.length-Qt),Qt===kt.length)wr.set(kt),xt.set(Tt);else if(Qt<kt.length){var er=kt.length-Qt;wr.set(kt.subarray(0,er)),xt.set(kt.subarray(er)),xt.set(Tt,er)}else{var $t=Qt-kt.length;wr.set(kt),wr.set(Tt.subarray(0,$t),kt.length),xt.set(Tt.subarray($t))}else wr=kt.concat(Tt),xt=Qt>=0&&Qt<wr.length?wr.splice(Qt,wr.length):[];return[wr,xt]}var dt=Q(Te,ze,Xe,et,ut),Zt=U.redraw(Te),jt=[Te,dt.update,Xe,dt.maxPoints];return p.add(Te,U.extendTraces,jt,Y,arguments),Zt}function te(Te,ze,Xe){Te=C.getGraphDiv(Te);var et=[],ut=U.deleteTraces,dt=te,Zt=[Te,et],jt=[Te,ze],Tt,kt;for(W(Te,ze,Xe),Array.isArray(ze)||(ze=[ze]),ze=ze.map(function(Qt){return C.extendFlat({},Qt)}),b.cleanData(ze),Tt=0;Tt<ze.length;Tt++)Te.data.push(ze[Tt]);for(Tt=0;Tt<ze.length;Tt++)et.push(-ze.length+Tt);if(typeof Xe=="undefined")return kt=U.redraw(Te),p.add(Te,ut,Zt,dt,jt),kt;Array.isArray(Xe)||(Xe=[Xe]);try{B(Te,et,Xe)}catch(Qt){throw Te.data.splice(Te.data.length-ze.length,ze.length),Qt}return p.startSequence(Te),p.add(Te,ut,Zt,dt,jt),kt=U.moveTraces(Te,et,Xe),p.stopSequence(Te),kt}function X(Te,ze){Te=C.getGraphDiv(Te);var Xe=[],et=U.addTraces,ut=X,dt=[Te,Xe,ze],Zt=[Te,ze],jt,Tt;if(typeof ze=="undefined")throw new Error("indices must be an integer or array of integers.");for(Array.isArray(ze)||(ze=[ze]),z(Te,ze,"indices"),ze=O(ze,Te.data.length-1),ze.sort(C.sorterDes),jt=0;jt<ze.length;jt+=1)Tt=Te.data.splice(ze[jt],1)[0],Xe.push(Tt);var kt=U.redraw(Te);return p.add(Te,et,dt,ut,Zt),kt}function $(Te,ze,Xe){Te=C.getGraphDiv(Te);var et=[],ut=[],dt=$,Zt=$,jt=[Te,Xe,ze],Tt=[Te,ze,Xe],kt;if(B(Te,ze,Xe),ze=Array.isArray(ze)?ze:[ze],typeof Xe=="undefined")for(Xe=[],kt=0;kt<ze.length;kt++)Xe.push(-ze.length+kt);for(Xe=Array.isArray(Xe)?Xe:[Xe],ze=O(ze,Te.data.length-1),Xe=O(Xe,Te.data.length-1),kt=0;kt<Te.data.length;kt++)ze.indexOf(kt)===-1&&et.push(Te.data[kt]);for(kt=0;kt<ze.length;kt++)ut.push({newIndex:Xe[kt],trace:Te.data[ze[kt]]});for(ut.sort(function(wr,xt){return wr.newIndex-xt.newIndex}),kt=0;kt<ut.length;kt+=1)et.splice(ut[kt].newIndex,0,ut[kt].trace);Te.data=et;var Qt=U.redraw(Te);return p.add(Te,dt,jt,Zt,Tt),Qt}function ie(Te,ze,Xe,et){Te=C.getGraphDiv(Te),b.clearPromiseQueue(Te);var ut={};if(typeof ze=="string")ut[ze]=Xe;else if(C.isPlainObject(ze))ut=C.extendFlat({},ze),et===void 0&&(et=Xe);else return C.warn("Restyle fail.",ze,Xe,et),Promise.reject();Object.keys(ut).length&&(Te.changed=!0);var dt=b.coerceTraceIndices(Te,et),Zt=le(Te,ut,dt),jt=Zt.flags;jt.calc&&(Te.calcdata=void 0),jt.clearAxisTypes&&b.clearAxisTypes(Te,dt,{});var Tt=[];jt.fullReplot?Tt.push(U._doPlot):(Tt.push(s.previousPromises),s.supplyDefaults(Te),jt.markerSize&&(s.doCalcdata(Te),Re(Tt)),jt.style&&Tt.push(w.doTraceStyle),jt.colorbars&&Tt.push(w.doColorBars),Tt.push(P)),Tt.push(s.rehover,s.redrag,s.reselect),p.add(Te,ie,[Te,Zt.undoit,Zt.traces],ie,[Te,Zt.redoit,Zt.traces]);var kt=C.syncOrAsync(Tt,Te);return(!kt||!kt.then)&&(kt=Promise.resolve()),kt.then(function(){return Te.emit("plotly_restyle",Zt.eventData),Te})}function J(Te){return Te===void 0?null:Te}function j(Te,ze){return ze?function(Xe,et,ut){var dt=A(Xe,et),Zt=dt.set;return dt.set=function(jt){var Tt=(ut||"")+et;se(Tt,dt.get(),jt,Te),Zt(jt)},dt}:A}function se(Te,ze,Xe,et){if(Array.isArray(ze)||Array.isArray(Xe))for(var ut=Array.isArray(ze)?ze:[],dt=Array.isArray(Xe)?Xe:[],Zt=Math.max(ut.length,dt.length),jt=0;jt<Zt;jt++)se(Te+"["+jt+"]",ut[jt],dt[jt],et);else if(C.isPlainObject(ze)||C.isPlainObject(Xe)){var Tt=C.isPlainObject(ze)?ze:{},kt=C.isPlainObject(Xe)?Xe:{},Qt=C.extendFlat({},Tt,kt);for(var wr in Qt)se(Te+"."+wr,Tt[wr],kt[wr],et)}else et[Te]===void 0&&(et[Te]=J(ze))}function ne(Te,ze,Xe){for(var et in Xe){var ut=A(Te,et);se(et,ut.get(),Xe[et],ze)}}function le(Te,ze,Xe){var et=Te._fullLayout,ut=Te._fullData,dt=Te.data,Zt=et._guiEditing,jt=j(et._preGUI,Zt),Tt=C.extendDeepAll({},ze),kt;pe(ze);var Qt=E.traceFlags(),wr={},xt={},At;function Wt(){return Xe.map(function(){})}function er(En){var Tr=n.id2name(En);At.indexOf(Tr)===-1&&At.push(Tr)}function $t(En){return"LAYOUT"+En+".autorange"}function ht(En){return"LAYOUT"+En+".range"}function at(En){for(var Tr=En;Tr<ut.length;Tr++)if(ut[Tr]._input===dt[En])return ut[Tr]}function bt(En,Tr,Lr){if(Array.isArray(En)){En.forEach(function(pn){bt(pn,Tr,Lr)});return}if(!(En in ze||b.hasParent(ze,En))){var Wr;if(En.substr(0,6)==="LAYOUT")Wr=jt(Te.layout,En.replace("LAYOUT",""));else{var Ur=Xe[Lr],an=et._tracePreGUI[at(Ur)._fullInput.uid];Wr=j(an,Zt)(dt[Ur],En)}En in xt||(xt[En]=Wt()),xt[En][Lr]===void 0&&(xt[En][Lr]=J(Wr.get())),Tr!==void 0&&Wr.set(Tr)}}function Ct(En){return function(Tr){return ut[Tr][En]}}function Dt(En){return function(Tr,Lr){return Tr===!1?ut[Xe[Lr]][En]:null}}for(var It in ze){if(b.hasParent(ze,It))throw new Error("cannot set "+It+" and a parent attribute simultaneously");var Vt=ze[It],Nt,Jt,fr,cr,dr,Ge;if((It==="autobinx"||It==="autobiny")&&(It=It.charAt(It.length-1)+"bins",Array.isArray(Vt)?Vt=Vt.map(Dt(It)):Vt===!1?Vt=Xe.map(Ct(It)):Vt=null),wr[It]=Vt,It.substr(0,6)==="LAYOUT"){fr=jt(Te.layout,It.replace("LAYOUT","")),xt[It]=[J(fr.get())],fr.set(Array.isArray(Vt)?Vt[0]:Vt),Qt.calc=!0;continue}for(xt[It]=Wt(),kt=0;kt<Xe.length;kt++){Nt=dt[Xe[kt]],Jt=at(Xe[kt]);var Ve=et._tracePreGUI[Jt._fullInput.uid];if(fr=j(Ve,Zt)(Nt,It),cr=fr.get(),dr=Array.isArray(Vt)?Vt[kt%Vt.length]:Vt,dr!==void 0){var Ot=fr.parts[fr.parts.length-1],Ft=It.substr(0,It.length-Ot.length-1),Kt=Ft?Ft+".":"",rr=Ft?A(Jt,Ft).get():Jt;if(Ge=t.getTraceValObject(Jt,fr.parts),Ge&&Ge.impliedEdits&&dr!==null)for(var ur in Ge.impliedEdits)bt(C.relativeAttr(It,ur),Ge.impliedEdits[ur],kt);else if((Ot==="thicknessmode"||Ot==="lenmode")&&cr!==dr&&(dr==="fraction"||dr==="pixels")&&rr){var ar=et._size,Bt=rr.orient,hr=Bt==="top"||Bt==="bottom";if(Ot==="thicknessmode"){var gr=hr?ar.h:ar.w;bt(Kt+"thickness",rr.thickness*(dr==="fraction"?1/gr:gr),kt)}else{var mr=hr?ar.w:ar.h;bt(Kt+"len",rr.len*(dr==="fraction"?1/mr:mr),kt)}}else if(It==="type"&&(dr==="pie"!=(cr==="pie")||dr==="funnelarea"!=(cr==="funnelarea"))){var vr="x",Gr="y";(dr==="bar"||cr==="bar")&&Nt.orientation==="h"&&(vr="y",Gr="x"),C.swapAttrs(Nt,["?","?src"],"labels",vr),C.swapAttrs(Nt,["d?","?0"],"label",vr),C.swapAttrs(Nt,["?","?src"],"values",Gr),cr==="pie"||cr==="funnelarea"?(A(Nt,"marker.color").set(A(Nt,"marker.colors").get()),et._pielayer.selectAll("g.trace").remove()):r.traceIs(Nt,"cartesian")&&A(Nt,"marker.colors").set(A(Nt,"marker.color").get())}xt[It][kt]=J(cr);var Rr=["swapxy","swapxyaxes","orientation","orientationaxes"];if(Rr.indexOf(It)!==-1){if(It==="orientation"){fr.set(dr);var Ir=Nt.x&&!Nt.y?"h":"v";if((fr.get()||Ir)===Jt.orientation)continue}else It==="orientationaxes"&&(Nt.orientation={v:"h",h:"v"}[Jt.orientation]);b.swapXYData(Nt),Qt.calc=Qt.clearAxisTypes=!0}else s.dataArrayContainers.indexOf(fr.parts[0])!==-1?(b.manageArrayContainers(fr,dr,xt),Qt.calc=!0):(Ge?Ge.arrayOk&&!r.traceIs(Jt,"regl")&&(C.isArrayOrTypedArray(dr)||C.isArrayOrTypedArray(cr))?Qt.calc=!0:E.update(Qt,Ge):Qt.calc=!0,fr.set(dr))}}if(["swapxyaxes","orientationaxes"].indexOf(It)!==-1&&n.swap(Te,Xe),It==="orientationaxes"){var cn=A(Te.layout,"hovermode"),rn=cn.get();rn==="x"?cn.set("y"):rn==="y"?cn.set("x"):rn==="x unified"?cn.set("y unified"):rn==="y unified"&&cn.set("x unified")}if(["orientation","type"].indexOf(It)!==-1){for(At=[],kt=0;kt<Xe.length;kt++){var Ln=dt[Xe[kt]];r.traceIs(Ln,"cartesian")&&(er(Ln.xaxis||"x"),er(Ln.yaxis||"y"))}bt(At.map($t),!0,0),bt(At.map(ht),[0,1],0)}}return(Qt.calc||Qt.plot)&&(Qt.fullReplot=!0),{flags:Qt,undoit:xt,redoit:wr,traces:Xe,eventData:C.extendDeepNoArrays([],[Tt,Xe])}}function pe(Te){var ze=C.counterRegex("axis",".title",!1,!1),Xe=/colorbar\.title$/,et=Object.keys(Te),ut,dt,Zt;for(ut=0;ut<et.length;ut++)dt=et[ut],Zt=Te[dt],(dt==="title"||ze.test(dt)||Xe.test(dt))&&(typeof Zt=="string"||typeof Zt=="number")?jt(dt,dt.replace("title","title.text")):dt.indexOf("titlefont")>-1&&dt.indexOf("grouptitlefont")===-1?jt(dt,dt.replace("titlefont","title.font")):dt.indexOf("titleposition")>-1?jt(dt,dt.replace("titleposition","title.position")):dt.indexOf("titleside")>-1?jt(dt,dt.replace("titleside","title.side")):dt.indexOf("titleoffset")>-1&&jt(dt,dt.replace("titleoffset","title.offset"));function jt(Tt,kt){Te[kt]=Te[Tt],delete Te[Tt]}}function Ae(Te,ze,Xe){Te=C.getGraphDiv(Te),b.clearPromiseQueue(Te);var et={};if(typeof ze=="string")et[ze]=Xe;else if(C.isPlainObject(ze))et=C.extendFlat({},ze);else return C.warn("Relayout fail.",ze,Xe),Promise.reject();Object.keys(et).length&&(Te.changed=!0);var ut=Se(Te,et),dt=ut.flags;dt.calc&&(Te.calcdata=void 0);var Zt=[s.previousPromises];dt.layoutReplot?Zt.push(w.layoutReplot):Object.keys(et).length&&(be(Te,dt,ut)||s.supplyDefaults(Te),dt.legend&&Zt.push(w.doLegend),dt.layoutstyle&&Zt.push(w.layoutStyles),dt.axrange&&Re(Zt,ut.rangesAltered),dt.ticks&&Zt.push(w.doTicksRelayout),dt.modebar&&Zt.push(w.doModeBar),dt.camera&&Zt.push(w.doCamera),dt.colorbars&&Zt.push(w.doColorBars),Zt.push(P)),Zt.push(s.rehover,s.redrag,s.reselect),p.add(Te,Ae,[Te,ut.undoit],Ae,[Te,ut.redoit]);var jt=C.syncOrAsync(Zt,Te);return(!jt||!jt.then)&&(jt=Promise.resolve(Te)),jt.then(function(){return Te.emit("plotly_relayout",ut.eventData),Te})}function be(Te,ze,Xe){var et=Te._fullLayout;if(!ze.axrange)return!1;for(var ut in ze)if(ut!=="axrange"&&ze[ut])return!1;var dt,Zt,jt=function(At,Wt){return C.coerce(dt,Zt,u,At,Wt)},Tt={};for(var kt in Xe.rangesAltered){var Qt=n.id2name(kt);if(dt=Te.layout[Qt],Zt=et[Qt],f(dt,Zt,jt,Tt),Zt._matchGroup){for(var wr in Zt._matchGroup)if(wr!==kt){var xt=et[n.id2name(wr)];xt.autorange=Zt.autorange,xt.range=Zt.range.slice(),xt._input.range=Zt.range.slice()}}}return!0}function Re(Te,ze){var Xe=ze?function(et){var ut=[],dt=!0;for(var Zt in ze){var jt=n.getFromId(et,Zt);if(ut.push(Zt),(jt.ticklabelposition||"").indexOf("inside")!==-1&&jt._anchorAxis&&ut.push(jt._anchorAxis._id),jt._matchGroup)for(var Tt in jt._matchGroup)ze[Tt]||ut.push(Tt)}return n.draw(et,ut,{skipTitle:dt})}:function(et){return n.draw(et,"redraw")};Te.push(c,w.doAutoRangeAndConstraints,Xe,w.drawData,w.finalDraw)}var xe=/^[xyz]axis[0-9]*\.range(\[[0|1]\])?$/,Me=/^[xyz]axis[0-9]*\.autorange$/,ye=/^[xyz]axis[0-9]*\.domain(\[[0|1]\])?$/;function Se(Te,ze){var Xe=Te.layout,et=Te._fullLayout,ut=et._guiEditing,dt=j(et._preGUI,ut),Zt=Object.keys(ze),jt=n.list(Te),Tt=C.extendDeepAll({},ze),kt={},Qt,wr,xt;for(pe(ze),Zt=Object.keys(ze),wr=0;wr<Zt.length;wr++)if(Zt[wr].indexOf("allaxes")===0){for(xt=0;xt<jt.length;xt++){var At=jt[xt]._id.substr(1),Wt=At.indexOf("scene")!==-1?At+".":"",er=Zt[wr].replace("allaxes",Wt+jt[xt]._name);ze[er]||(ze[er]=ze[Zt[wr]])}delete ze[Zt[wr]]}var $t=E.layoutFlags(),ht={},at={};function bt(an,pn){if(Array.isArray(an)){an.forEach(function(Cn){bt(Cn,pn)});return}if(!(an in ze||b.hasParent(ze,an))){var gn=dt(Xe,an);an in at||(at[an]=J(gn.get())),pn!==void 0&&gn.set(pn)}}var Ct={},Dt;function It(an){var pn=n.name2id(an.split(".")[0]);return Ct[pn]=1,pn}for(var Vt in ze){if(b.hasParent(ze,Vt))throw new Error("cannot set "+Vt+" and a parent attribute simultaneously");for(var Nt=dt(Xe,Vt),Jt=ze[Vt],fr=Nt.parts.length,cr=fr-1;cr>0&&typeof Nt.parts[cr]!="string";)cr--;var dr=Nt.parts[cr],Ge=Nt.parts[cr-1]+"."+dr,Ve=Nt.parts.slice(0,cr).join("."),Ot=A(Te.layout,Ve).get(),Ft=A(et,Ve).get(),Kt=Nt.get();if(Jt!==void 0){ht[Vt]=Jt,at[Vt]=dr==="reverse"?Jt:J(Kt);var rr=t.getLayoutValObject(et,Nt.parts);if(rr&&rr.impliedEdits&&Jt!==null)for(var ur in rr.impliedEdits)bt(C.relativeAttr(Vt,ur),rr.impliedEdits[ur]);if(["width","height"].indexOf(Vt)!==-1)if(Jt){bt("autosize",null);var ar=Vt==="height"?"width":"height";bt(ar,et[ar])}else et[Vt]=Te._initialAutoSize[Vt];else if(Vt==="autosize")bt("width",Jt?null:et.width),bt("height",Jt?null:et.height);else if(Ge.match(xe))It(Ge),A(et,Ve+"._inputRange").set(null);else if(Ge.match(Me)){It(Ge),A(et,Ve+"._inputRange").set(null);var Bt=A(et,Ve).get();Bt._inputDomain&&(Bt._input.domain=Bt._inputDomain.slice())}else Ge.match(ye)&&A(et,Ve+"._inputDomain").set(null);if(dr==="type"){Dt=Ot;var hr=Ft.type==="linear"&&Jt==="log",gr=Ft.type==="log"&&Jt==="linear";if(hr||gr){if(!Dt||!Dt.range)bt(Ve+".autorange",!0);else if(Ft.autorange)hr&&(Dt.range=Dt.range[1]>Dt.range[0]?[1,2]:[2,1]);else{var mr=Dt.range[0],vr=Dt.range[1];hr?(mr<=0&&vr<=0&&bt(Ve+".autorange",!0),mr<=0?mr=vr/1e6:vr<=0&&(vr=mr/1e6),bt(Ve+".range[0]",Math.log(mr)/Math.LN10),bt(Ve+".range[1]",Math.log(vr)/Math.LN10)):(bt(Ve+".range[0]",Math.pow(10,mr)),bt(Ve+".range[1]",Math.pow(10,vr)))}Array.isArray(et._subplots.polar)&&et._subplots.polar.length&&et[Nt.parts[0]]&&Nt.parts[1]==="radialaxis"&&delete et[Nt.parts[0]]._subplot.viewInitial["radialaxis.range"],r.getComponentMethod("annotations","convertCoords")(Te,Ft,Jt,bt),r.getComponentMethod("images","convertCoords")(Te,Ft,Jt,bt)}else bt(Ve+".autorange",!0),bt(Ve+".range",null);A(et,Ve+"._inputRange").set(null)}else if(dr.match(y)){var Gr=A(et,Vt).get(),Rr=(Jt||{}).type;(!Rr||Rr==="-")&&(Rr="linear"),r.getComponentMethod("annotations","convertCoords")(Te,Gr,Rr,bt),r.getComponentMethod("images","convertCoords")(Te,Gr,Rr,bt)}var Ir=d.containerArrayMatch(Vt);if(Ir){Qt=Ir.array,wr=Ir.index;var cn=Ir.property,rn=rr||{editType:"calc"};wr!==""&&cn===""&&(d.isAddVal(Jt)?at[Vt]=null:d.isRemoveVal(Jt)?at[Vt]=(A(Xe,Qt).get()||[])[wr]:C.warn("unrecognized full object value",ze)),E.update($t,rn),kt[Qt]||(kt[Qt]={});var Ln=kt[Qt][wr];Ln||(Ln=kt[Qt][wr]={}),Ln[cn]=Jt,delete ze[Vt]}else dr==="reverse"?(Ot.range?Ot.range.reverse():(bt(Ve+".autorange",!0),Ot.range=[1,0]),Ft.autorange?$t.calc=!0:$t.plot=!0):(Vt==="dragmode"&&(Jt===!1&&Kt!==!1||Jt!==!1&&Kt===!1)||et._has("scatter-like")&&et._has("regl")&&Vt==="dragmode"&&(Jt==="lasso"||Jt==="select")&&!(Kt==="lasso"||Kt==="select")||et._has("gl2d")?$t.plot=!0:rr?E.update($t,rr):$t.calc=!0,Nt.set(Jt))}}for(Qt in kt){var En=d.applyContainerArrayChanges(Te,dt(Xe,Qt),kt[Qt],$t,dt);En||($t.plot=!0)}for(var Tr in Ct){Dt=n.getFromId(Te,Tr);var Lr=Dt&&Dt._constraintGroup;if(Lr){$t.calc=!0;for(var Wr in Lr)Ct[Wr]||(n.getFromId(Te,Wr)._constraintShrinkable=!0)}}(Fe(Te)||ze.height||ze.width)&&($t.plot=!0);var Ur=et.shapes;for(wr=0;wr<Ur.length;wr++)if(Ur[wr].showlegend){$t.calc=!0;break}return($t.plot||$t.calc)&&($t.layoutReplot=!0),{flags:$t,rangesAltered:Ct,undoit:at,redoit:ht,eventData:Tt}}function Fe(Te){var ze=Te._fullLayout,Xe=ze.width,et=ze.height;return Te.layout.autosize&&s.plotAutoSize(Te,Te.layout,ze),ze.width!==Xe||ze.height!==et}function Be(Te,ze,Xe,et){Te=C.getGraphDiv(Te),b.clearPromiseQueue(Te),C.isPlainObject(ze)||(ze={}),C.isPlainObject(Xe)||(Xe={}),Object.keys(ze).length&&(Te.changed=!0),Object.keys(Xe).length&&(Te.changed=!0);var ut=b.coerceTraceIndices(Te,et),dt=le(Te,C.extendFlat({},ze),ut),Zt=dt.flags,jt=Se(Te,C.extendFlat({},Xe)),Tt=jt.flags;(Zt.calc||Tt.calc)&&(Te.calcdata=void 0),Zt.clearAxisTypes&&b.clearAxisTypes(Te,ut,Xe);var kt=[];Tt.layoutReplot?kt.push(w.layoutReplot):Zt.fullReplot?kt.push(U._doPlot):(kt.push(s.previousPromises),be(Te,Tt,jt)||s.supplyDefaults(Te),Zt.style&&kt.push(w.doTraceStyle),(Zt.colorbars||Tt.colorbars)&&kt.push(w.doColorBars),Tt.legend&&kt.push(w.doLegend),Tt.layoutstyle&&kt.push(w.layoutStyles),Tt.axrange&&Re(kt,jt.rangesAltered),Tt.ticks&&kt.push(w.doTicksRelayout),Tt.modebar&&kt.push(w.doModeBar),Tt.camera&&kt.push(w.doCamera),kt.push(P)),kt.push(s.rehover,s.redrag,s.reselect),p.add(Te,Be,[Te,dt.undoit,jt.undoit,dt.traces],Be,[Te,dt.redoit,jt.redoit,dt.traces]);var Qt=C.syncOrAsync(kt,Te);return(!Qt||!Qt.then)&&(Qt=Promise.resolve(Te)),Qt.then(function(){return Te.emit("plotly_update",{data:dt.eventData,layout:jt.eventData}),Te})}function _e(Te){return function(Xe){Xe._fullLayout._guiEditing=!0;var et=Te.apply(null,arguments);return Xe._fullLayout._guiEditing=!1,et}}var Ue=[{pattern:/^hiddenlabels/,attr:"legend.uirevision"},{pattern:/^((x|y)axis\d*)\.((auto)?range|title\.text)/},{pattern:/axis\d*\.showspikes$/,attr:"modebar.uirevision"},{pattern:/(hover|drag)mode$/,attr:"modebar.uirevision"},{pattern:/^(scene\d*)\.camera/},{pattern:/^(geo\d*)\.(projection|center|fitbounds)/},{pattern:/^(ternary\d*\.[abc]axis)\.(min|title\.text)$/},{pattern:/^(polar\d*\.radialaxis)\.((auto)?range|angle|title\.text)/},{pattern:/^(polar\d*\.angularaxis)\.rotation/},{pattern:/^(mapbox\d*)\.(center|zoom|bearing|pitch)/},{pattern:/^legend\.(x|y)$/,attr:"editrevision"},{pattern:/^(shapes|annotations)/,attr:"editrevision"},{pattern:/^title\.text$/,attr:"editrevision"}],it=[{pattern:/^selectedpoints$/,attr:"selectionrevision"},{pattern:/(^|value\.)visible$/,attr:"legend.uirevision"},{pattern:/^dimensions\[\d+\]\.constraintrange/},{pattern:/^node\.(x|y|groups)/},{pattern:/^level$/},{pattern:/(^|value\.)name$/},{pattern:/colorbar\.title\.text$/},{pattern:/colorbar\.(x|y)$/,attr:"editrevision"}];function lt(Te,ze){for(var Xe=0;Xe<ze.length;Xe++){var et=ze[Xe],ut=Te.match(et.pattern);if(ut){var dt=ut[1]||"";return{head:dt,tail:Te.substr(dt.length+1),attr:et.attr}}}}function $e(Te,ze){var Xe=A(ze,Te).get();if(Xe!==void 0)return Xe;var et=Te.split(".");for(et.pop();et.length>1;)if(et.pop(),Xe=A(ze,et.join(".")+".uirevision").get(),Xe!==void 0)return Xe;return ze.uirevision}function qe(Te,ze){for(var Xe=0;Xe<ze.length;Xe++)if(ze[Xe]._fullInput.uid===Te)return Xe;return-1}function ft(Te,ze,Xe){for(var et=0;et<ze.length;et++)if(ze[et].uid===Te)return et;return!ze[Xe]||ze[Xe].uid?-1:Xe}function ct(Te,ze){var Xe=C.isPlainObject(Te),et=Array.isArray(Te);return Xe||et?(Xe&&C.isPlainObject(ze)||et&&Array.isArray(ze))&&JSON.stringify(Te)===JSON.stringify(ze):Te===ze}function pt(Te,ze,Xe,et){var ut=et._preGUI,dt,Zt,jt,Tt,kt,Qt,wr,xt,At,Wt,er=[],$t={},ht={};for(dt in ut){if(kt=lt(dt,Ue),kt){if(At=kt.head,Wt=kt.tail,Zt=kt.attr||At+".uirevision",jt=A(et,Zt).get(),Tt=jt&&$e(Zt,ze),Tt&&Tt===jt){if(Qt=ut[dt],Qt===null&&(Qt=void 0),wr=A(ze,dt),xt=wr.get(),ct(xt,Qt)){xt===void 0&&Wt==="autorange"&&er.push(At),wr.set(J(A(et,dt).get()));continue}else if(Wt==="autorange"||Wt.substr(0,6)==="range["){var at=ut[At+".range[0]"],bt=ut[At+".range[1]"],Ct=ut[At+".autorange"];if(Ct||Ct===null&&at===null&&bt===null){if(!(At in $t)){var Dt=A(ze,At).get();$t[At]=Dt&&(Dt.autorange||Dt.autorange!==!1&&(!Dt.range||Dt.range.length!==2))}if($t[At]){wr.set(J(A(et,dt).get()));continue}}}}}else C.warn("unrecognized GUI edit: "+dt);delete ut[dt],kt&&kt.tail.substr(0,6)==="range["&&(ht[kt.head]=1)}for(var It=0;It<er.length;It++){var Vt=er[It];if(ht[Vt]){var Nt=A(ze,Vt).get();Nt&&delete Nt.autorange}}var Jt=et._tracePreGUI;for(var fr in Jt){var cr=Jt[fr],dr=null,Ge;for(dt in cr){if(!dr){var Ve=qe(fr,Xe);if(Ve<0){delete Jt[fr];break}var Ot=Xe[Ve];Ge=Ot._fullInput;var Ft=ft(fr,Te,Ge.index);if(Ft<0){delete Jt[fr];break}dr=Te[Ft]}if(kt=lt(dt,it),kt){if(kt.attr?(jt=A(et,kt.attr).get(),Tt=jt&&$e(kt.attr,ze)):(jt=Ge.uirevision,Tt=dr.uirevision,Tt===void 0&&(Tt=ze.uirevision)),Tt&&Tt===jt&&(Qt=cr[dt],Qt===null&&(Qt=void 0),wr=A(dr,dt),xt=wr.get(),ct(xt,Qt))){wr.set(J(A(Ge,dt).get()));continue}}else C.warn("unrecognized GUI edit: "+dt+" in trace uid "+fr);delete cr[dt]}}}function yt(Te,ze,Xe,et){var ut,dt;function Zt(){return U.addFrames(Te,ut)}Te=C.getGraphDiv(Te),b.clearPromiseQueue(Te);var jt=Te._fullData,Tt=Te._fullLayout;if(!C.isPlotDiv(Te)||!jt||!Tt)dt=U.newPlot(Te,ze,Xe,et);else{if(C.isPlainObject(ze)){var kt=ze;ze=kt.data,Xe=kt.layout,et=kt.config,ut=kt.frames}var Qt=!1;if(et){var wr=C.extendDeep({},Te._context);Te._context=void 0,N(Te,et),Qt=We(wr,Te._context)}Te.data=ze||[],b.cleanData(Te.data),Te.layout=Xe||{},b.cleanLayout(Te.layout),pt(Te.data,Te.layout,jt,Tt),s.supplyDefaults(Te,{skipUpdateCalc:!0});var xt=Te._fullData,At=Te._fullLayout,Wt=At.datarevision===void 0,er=At.transition,$t=tt(Te,Tt,At,Wt,er),ht=$t.newDataRevision,at=Et(Te,jt,xt,Wt,er,ht);if(Fe(Te)&&($t.layoutReplot=!0),at.calc||$t.calc){Te.calcdata=void 0;for(var bt=Object.getOwnPropertyNames(At),Ct=0;Ct<bt.length;Ct++){var Dt=bt[Ct],It=Dt.substring(0,5);if(It==="xaxis"||It==="yaxis"){var Vt=At[Dt]._emptyCategories;Vt&&Vt()}}}else s.supplyDefaultsUpdateCalc(Te.calcdata,xt);var Nt=[];if(ut&&(Te._transitionData={},s.createTransitionData(Te),Nt.push(Zt)),At.transition&&!Qt&&(at.anim||$t.anim))$t.ticks&&Nt.push(w.doTicksRelayout),s.doCalcdata(Te),w.doAutoRangeAndConstraints(Te),Nt.push(function(){return s.transitionFromReact(Te,at,$t,Tt)});else if(at.fullReplot||$t.layoutReplot||Qt)Te._fullLayout._skipDefaults=!0,Nt.push(U._doPlot);else{for(var Jt in $t.arrays){var fr=$t.arrays[Jt];if(fr.length){var cr=r.getComponentMethod(Jt,"drawOne");if(cr!==C.noop)for(var dr=0;dr<fr.length;dr++)cr(Te,fr[dr]);else{var Ge=r.getComponentMethod(Jt,"draw");if(Ge===C.noop)throw new Error("cannot draw components: "+Jt);Ge(Te)}}}Nt.push(s.previousPromises),at.style&&Nt.push(w.doTraceStyle),(at.colorbars||$t.colorbars)&&Nt.push(w.doColorBars),$t.legend&&Nt.push(w.doLegend),$t.layoutstyle&&Nt.push(w.layoutStyles),$t.axrange&&Re(Nt),$t.ticks&&Nt.push(w.doTicksRelayout),$t.modebar&&Nt.push(w.doModeBar),$t.camera&&Nt.push(w.doCamera),Nt.push(P)}Nt.push(s.rehover,s.redrag,s.reselect),dt=C.syncOrAsync(Nt,Te),(!dt||!dt.then)&&(dt=Promise.resolve(Te))}return dt.then(function(){return Te.emit("plotly_react",{data:ze,layout:Xe}),Te})}function Et(Te,ze,Xe,et,ut,dt){var Zt=ze.length===Xe.length;if(!ut&&!Zt)return{fullReplot:!0,calc:!0};var jt=E.traceFlags();jt.arrays={},jt.nChanges=0,jt.nChangesAnim=0;var Tt,kt;function Qt(At){var Wt=t.getTraceValObject(kt,At);return!kt._module.animatable&&Wt.anim&&(Wt.anim=!1),Wt}var wr={getValObject:Qt,flags:jt,immutable:et,transition:ut,newDataRevision:dt,gd:Te},xt={};for(Tt=0;Tt<ze.length;Tt++)if(Xe[Tt]){if(kt=Xe[Tt]._fullInput,s.hasMakesDataTransform(kt)&&(kt=Xe[Tt]),xt[kt.uid])continue;xt[kt.uid]=1,Ie(ze[Tt]._fullInput,kt,[],wr)}return(jt.calc||jt.plot)&&(jt.fullReplot=!0),ut&&jt.nChanges&&jt.nChangesAnim&&(jt.anim=jt.nChanges===jt.nChangesAnim&&Zt?"all":"some"),jt}function tt(Te,ze,Xe,et,ut){var dt=E.layoutFlags();dt.arrays={},dt.rangesAltered={},dt.nChanges=0,dt.nChangesAnim=0;function Zt(Tt){return t.getLayoutValObject(Xe,Tt)}var jt={getValObject:Zt,flags:dt,immutable:et,transition:ut,gd:Te};return Ie(ze,Xe,[],jt),(dt.plot||dt.calc)&&(dt.layoutReplot=!0),ut&&dt.nChanges&&dt.nChangesAnim&&(dt.anim=dt.nChanges===dt.nChangesAnim?"all":"some"),dt}function Ie(Te,ze,Xe,et){var ut,dt,Zt,jt=et.getValObject,Tt=et.flags,kt=et.immutable,Qt=et.inArray,wr=et.arrayIndex;function xt(){var Ve=ut.editType;if(Qt&&Ve.indexOf("arraydraw")!==-1){C.pushUnique(Tt.arrays[Qt],wr);return}E.update(Tt,ut),Ve!=="none"&&Tt.nChanges++,et.transition&&ut.anim&&Tt.nChangesAnim++,(xe.test(Zt)||Me.test(Zt))&&(Tt.rangesAltered[Xe[0]]=1),ye.test(Zt)&&A(ze,"_inputDomain").set(null),dt==="datarevision"&&(Tt.newDataRevision=1)}function At(Ve){return Ve.valType==="data_array"||Ve.arrayOk}for(dt in Te){if(Tt.calc&&!et.transition)return;var Wt=Te[dt],er=ze[dt],$t=Xe.concat(dt);if(Zt=$t.join("."),!(dt.charAt(0)==="_"||typeof Wt=="function"||Wt===er)){if((dt==="tick0"||dt==="dtick")&&Xe[0]!=="geo"){var ht=ze.tickmode;if(ht==="auto"||ht==="array"||!ht)continue}if(!(dt==="range"&&ze.autorange)&&!((dt==="zmin"||dt==="zmax")&&ze.type==="contourcarpet")&&(ut=jt($t),!!ut&&!(ut._compareAsJSON&&JSON.stringify(Wt)===JSON.stringify(er)))){var at=ut.valType,bt,Ct=At(ut),Dt=Array.isArray(Wt),It=Array.isArray(er);if(Dt&&It){var Vt="_input_"+dt,Nt=Te[Vt],Jt=ze[Vt];if(Array.isArray(Nt)&&Nt===Jt)continue}if(er===void 0)Ct&&Dt?Tt.calc=!0:xt();else if(ut._isLinkedToArray){var fr=[],cr=!1;Qt||(Tt.arrays[dt]=fr);var dr=Math.min(Wt.length,er.length),Ge=Math.max(Wt.length,er.length);if(dr!==Ge)if(ut.editType==="arraydraw")cr=!0;else{xt();continue}for(bt=0;bt<dr;bt++)Ie(Wt[bt],er[bt],$t.concat(bt),C.extendFlat({inArray:dt,arrayIndex:bt},et));if(cr)for(bt=dr;bt<Ge;bt++)fr.push(bt)}else!at&&C.isPlainObject(Wt)?Ie(Wt,er,$t,et):Ct?Dt&&It?(kt&&(Tt.calc=!0),(kt||et.newDataRevision)&&xt()):Dt!==It?Tt.calc=!0:xt():Dt&&It?(Wt.length!==er.length||String(Wt)!==String(er))&&xt():xt()}}}for(dt in ze)if(!(dt in Te||dt.charAt(0)==="_"||typeof ze[dt]=="function"))if(ut=jt(Xe.concat(dt)),At(ut)&&Array.isArray(ze[dt])){Tt.calc=!0;return}else xt()}function We(Te,ze){var Xe;for(Xe in Te)if(Xe.charAt(0)!=="_"){var et=Te[Xe],ut=ze[Xe];if(et!==ut)if(C.isPlainObject(et)&&C.isPlainObject(ut)){if(We(et,ut))return!0}else if(Array.isArray(et)&&Array.isArray(ut)){if(et.length!==ut.length)return!0;for(var dt=0;dt<et.length;dt++)if(et[dt]!==ut[dt])if(C.isPlainObject(et[dt])&&C.isPlainObject(ut[dt])){if(We(et[dt],ut[dt]))return!0}else return!0}else return!0}}function Ze(Te,ze,Xe){if(Te=C.getGraphDiv(Te),!C.isPlotDiv(Te))throw new Error("This element is not a Plotly plot: "+Te+". It's likely that you've failed to create a plot before animating it. For more details, see https://plotly.com/javascript/animations/");var et=Te._transitionData;et._frameQueue||(et._frameQueue=[]),Xe=s.supplyAnimationDefaults(Xe);var ut=Xe.transition,dt=Xe.frame;et._frameWaitingCnt===void 0&&(et._frameWaitingCnt=0);function Zt(kt){return Array.isArray(ut)?kt>=ut.length?ut[0]:ut[kt]:ut}function jt(kt){return Array.isArray(dt)?kt>=dt.length?dt[0]:dt[kt]:dt}function Tt(kt,Qt){var wr=0;return function(){if(kt&&++wr===Qt)return kt()}}return new Promise(function(kt,Qt){function wr(){if(et._frameQueue.length!==0){for(;et._frameQueue.length;){var dr=et._frameQueue.pop();dr.onInterrupt&&dr.onInterrupt()}Te.emit("plotly_animationinterrupted",[])}}function xt(dr){if(dr.length!==0){for(var Ge=0;Ge<dr.length;Ge++){var Ve;dr[Ge].type==="byname"?Ve=s.computeFrame(Te,dr[Ge].name):Ve=dr[Ge].data;var Ot=jt(Ge),Ft=Zt(Ge);Ft.duration=Math.min(Ft.duration,Ot.duration);var Kt={frame:Ve,name:dr[Ge].name,frameOpts:Ot,transitionOpts:Ft};Ge===dr.length-1&&(Kt.onComplete=Tt(kt,2),Kt.onInterrupt=Qt),et._frameQueue.push(Kt)}Xe.mode==="immediate"&&(et._lastFrameAt=-1/0),et._animationRaf||er()}}function At(){Te.emit("plotly_animated"),window.cancelAnimationFrame(et._animationRaf),et._animationRaf=null}function Wt(){et._currentFrame&&et._currentFrame.onComplete&&et._currentFrame.onComplete();var dr=et._currentFrame=et._frameQueue.shift();if(dr){var Ge=dr.name?dr.name.toString():null;Te._fullLayout._currentFrame=Ge,et._lastFrameAt=Date.now(),et._timeToNext=dr.frameOpts.duration,s.transition(Te,dr.frame.data,dr.frame.layout,b.coerceTraceIndices(Te,dr.frame.traces),dr.frameOpts,dr.transitionOpts).then(function(){dr.onComplete&&dr.onComplete()}),Te.emit("plotly_animatingframe",{name:Ge,frame:dr.frame,animation:{frame:dr.frameOpts,transition:dr.transitionOpts}})}else At()}function er(){Te.emit("plotly_animating"),et._lastFrameAt=-1/0,et._timeToNext=0,et._runningTransitions=0,et._currentFrame=null;var dr=function(){et._animationRaf=window.requestAnimationFrame(dr),Date.now()-et._lastFrameAt>et._timeToNext&&Wt()};dr()}var $t=0;function ht(dr){return Array.isArray(ut)?$t>=ut.length?dr.transitionOpts=ut[$t]:dr.transitionOpts=ut[0]:dr.transitionOpts=ut,$t++,dr}var at,bt,Ct=[],Dt=ze==null,It=Array.isArray(ze),Vt=!Dt&&!It&&C.isPlainObject(ze);if(Vt)Ct.push({type:"object",data:ht(C.extendFlat({},ze))});else if(Dt||["string","number"].indexOf(typeof ze)!==-1)for(at=0;at<et._frames.length;at++)bt=et._frames[at],!!bt&&(Dt||String(bt.group)===String(ze))&&Ct.push({type:"byname",name:String(bt.name),data:ht({name:bt.name})});else if(It)for(at=0;at<ze.length;at++){var Nt=ze[at];["number","string"].indexOf(typeof Nt)!==-1?(Nt=String(Nt),Ct.push({type:"byname",name:Nt,data:ht({name:Nt})})):C.isPlainObject(Nt)&&Ct.push({type:"object",data:ht(C.extendFlat({},Nt))})}for(at=0;at<Ct.length;at++)if(bt=Ct[at],bt.type==="byname"&&!et._frameHash[bt.data.name]){C.warn('animate failure: frame not found: "'+bt.data.name+'"'),Qt();return}["next","immediate"].indexOf(Xe.mode)!==-1&&wr(),Xe.direction==="reverse"&&Ct.reverse();var Jt=Te._fullLayout._currentFrame;if(Jt&&Xe.fromcurrent){var fr=-1;for(at=0;at<Ct.length;at++)if(bt=Ct[at],bt.type==="byname"&&bt.name===Jt){fr=at;break}if(fr>0&&fr<Ct.length-1){var cr=[];for(at=0;at<Ct.length;at++)bt=Ct[at],(Ct[at].type!=="byname"||at>fr)&&cr.push(bt);Ct=cr}}Ct.length>0?xt(Ct):(Te.emit("plotly_animated"),kt())})}function He(Te,ze,Xe){if(Te=C.getGraphDiv(Te),ze==null)return Promise.resolve();if(!C.isPlotDiv(Te))throw new Error("This element is not a Plotly plot: "+Te+". It's likely that you've failed to create a plot before adding frames. For more details, see https://plotly.com/javascript/animations/");var et,ut,dt,Zt,jt=Te._transitionData._frames,Tt=Te._transitionData._frameHash;if(!Array.isArray(ze))throw new Error("addFrames failure: frameList must be an Array of frame definitions"+ze);var kt=jt.length+ze.length*2,Qt=[],wr={};for(et=ze.length-1;et>=0;et--)if(!!C.isPlainObject(ze[et])){var xt=ze[et].name,At=(Tt[xt]||wr[xt]||{}).name,Wt=ze[et].name,er=Tt[At]||wr[At];At&&Wt&&typeof Wt=="number"&&er&&S<T&&(S++,C.warn('addFrames: overwriting frame "'+(Tt[At]||wr[At]).name+'" with a frame whose name of type "number" also equates to "'+At+'". This is valid but may potentially lead to unexpected behavior since all plotly.js frame names are stored internally as strings.'),S===T&&C.warn("addFrames: This API call has yielded too many of these warnings. For the rest of this call, further warnings about numeric frame names will be suppressed.")),wr[xt]={name:xt},Qt.push({frame:s.supplyFrameDefaults(ze[et]),index:Xe&&Xe[et]!==void 0&&Xe[et]!==null?Xe[et]:kt+et})}Qt.sort(function(Vt,Nt){return Vt.index>Nt.index?-1:Vt.index<Nt.index?1:0});var $t=[],ht=[],at=jt.length;for(et=Qt.length-1;et>=0;et--){if(ut=Qt[et].frame,typeof ut.name=="number"&&C.warn("Warning: addFrames accepts frames with numeric names, but the numbers areimplicitly cast to strings"),!ut.name)for(;Tt[ut.name="frame "+Te._transitionData._counter++];);if(Tt[ut.name]){for(dt=0;dt<jt.length&&(jt[dt]||{}).name!==ut.name;dt++);$t.push({type:"replace",index:dt,value:ut}),ht.unshift({type:"replace",index:dt,value:jt[dt]})}else Zt=Math.max(0,Math.min(Qt[et].index,at)),$t.push({type:"insert",index:Zt,value:ut}),ht.unshift({type:"delete",index:Zt}),at++}var bt=s.modifyFrames,Ct=s.modifyFrames,Dt=[Te,ht],It=[Te,$t];return p&&p.add(Te,bt,Dt,Ct,It),s.modifyFrames(Te,$t)}function De(Te,ze){if(Te=C.getGraphDiv(Te),!C.isPlotDiv(Te))throw new Error("This element is not a Plotly plot: "+Te);var Xe,et,ut=Te._transitionData._frames,dt=[],Zt=[];if(!ze)for(ze=[],Xe=0;Xe<ut.length;Xe++)ze.push(Xe);for(ze=ze.slice(),ze.sort(),Xe=ze.length-1;Xe>=0;Xe--)et=ze[Xe],dt.push({type:"delete",index:et}),Zt.unshift({type:"insert",index:et,value:ut[et]});var jt=s.modifyFrames,Tt=s.modifyFrames,kt=[Te,Zt],Qt=[Te,dt];return p&&p.add(Te,jt,kt,Tt,Qt),s.modifyFrames(Te,dt)}function me(Te){Te=C.getGraphDiv(Te);var ze=Te._fullLayout||{},Xe=Te._fullData||[];return s.cleanPlot([],{},Xe,ze),s.purge(Te),v.purge(Te),ze._container&&ze._container.remove(),delete Te._context,Te}function ge(Te){var ze=Te._fullLayout,Xe=Te.getBoundingClientRect();if(!C.equalDomRects(Xe,ze._lastBBox)){var et=ze._invTransform=C.inverseTransformMatrix(C.getFullTransformMatrix(Te));ze._invScaleX=Math.sqrt(et[0][0]*et[0][0]+et[0][1]*et[0][1]+et[0][2]*et[0][2]),ze._invScaleY=Math.sqrt(et[1][0]*et[1][0]+et[1][1]*et[1][1]+et[1][2]*et[1][2]),ze._lastBBox=Xe}}function Ee(Te){var ze=g.select(Te),Xe=Te._fullLayout;if(Xe._calcInverseTransform=ge,Xe._calcInverseTransform(Te),Xe._container=ze.selectAll(".plot-container").data([0]),Xe._container.enter().insert("div",":first-child").classed("plot-container",!0).classed("plotly",!0),Xe._paperdiv=Xe._container.selectAll(".svg-container").data([0]),Xe._paperdiv.enter().append("div").classed("user-select-none",!0).classed("svg-container",!0).style("position","relative"),Xe._glcontainer=Xe._paperdiv.selectAll(".gl-container").data([{}]),Xe._glcontainer.enter().append("div").classed("gl-container",!0),Xe._paperdiv.selectAll(".main-svg").remove(),Xe._paperdiv.select(".modebar-container").remove(),Xe._paper=Xe._paperdiv.insert("svg",":first-child").classed("main-svg",!0),Xe._toppaper=Xe._paperdiv.append("svg").classed("main-svg",!0),Xe._modebardiv=Xe._paperdiv.append("div"),delete Xe._modeBar,Xe._hoverpaper=Xe._paperdiv.append("svg").classed("main-svg",!0),!Xe._uid){var et={};g.selectAll("defs").each(function(){this.id&&(et[this.id.split("-")[1]]=1)}),Xe._uid=C.randstr(et)}Xe._paperdiv.selectAll(".main-svg").attr(M.svgAttrs),Xe._defs=Xe._paper.append("defs").attr("id","defs-"+Xe._uid),Xe._clips=Xe._defs.append("g").classed("clips",!0),Xe._topdefs=Xe._toppaper.append("defs").attr("id","topdefs-"+Xe._uid),Xe._topclips=Xe._topdefs.append("g").classed("clips",!0),Xe._bgLayer=Xe._paper.append("g").classed("bglayer",!0),Xe._draggers=Xe._paper.append("g").classed("draglayer",!0);var ut=Xe._paper.append("g").classed("layer-below",!0);Xe._imageLowerLayer=ut.append("g").classed("imagelayer",!0),Xe._shapeLowerLayer=ut.append("g").classed("shapelayer",!0),Xe._cartesianlayer=Xe._paper.append("g").classed("cartesianlayer",!0),Xe._polarlayer=Xe._paper.append("g").classed("polarlayer",!0),Xe._smithlayer=Xe._paper.append("g").classed("smithlayer",!0),Xe._ternarylayer=Xe._paper.append("g").classed("ternarylayer",!0),Xe._geolayer=Xe._paper.append("g").classed("geolayer",!0),Xe._funnelarealayer=Xe._paper.append("g").classed("funnelarealayer",!0),Xe._pielayer=Xe._paper.append("g").classed("pielayer",!0),Xe._iciclelayer=Xe._paper.append("g").classed("iciclelayer",!0),Xe._treemaplayer=Xe._paper.append("g").classed("treemaplayer",!0),Xe._sunburstlayer=Xe._paper.append("g").classed("sunburstlayer",!0),Xe._indicatorlayer=Xe._toppaper.append("g").classed("indicatorlayer",!0),Xe._glimages=Xe._paper.append("g").classed("glimages",!0);var dt=Xe._toppaper.append("g").classed("layer-above",!0);Xe._imageUpperLayer=dt.append("g").classed("imagelayer",!0),Xe._shapeUpperLayer=dt.append("g").classed("shapelayer",!0),Xe._selectionLayer=Xe._toppaper.append("g").classed("selectionlayer",!0),Xe._infolayer=Xe._toppaper.append("g").classed("infolayer",!0),Xe._menulayer=Xe._toppaper.append("g").classed("menulayer",!0),Xe._zoomlayer=Xe._toppaper.append("g").classed("zoomlayer",!0),Xe._hoverlayer=Xe._hoverpaper.append("g").classed("hoverlayer",!0),Xe._modebardiv.classed("modebar-container",!0).style("position","absolute").style("top","0px").style("right","0px"),Te.emit("plotly_framework")}U.animate=Ze,U.addFrames=He,U.deleteFrames=De,U.addTraces=te,U.deleteTraces=X,U.extendTraces=Z,U.moveTraces=$,U.prependTraces=Y,U.newPlot=F,U._doPlot=o,U.purge=me,U.react=yt,U.redraw=k,U.relayout=Ae,U.restyle=ie,U.setPlotConfig=x,U.update=Be,U._guiRelayout=_e(Ae),U._guiRestyle=_e(ie),U._guiUpdate=_e(Be),U._storeDirectGUIEdit=ne},20556:function(G){var U={staticPlot:{valType:"boolean",dflt:!1},typesetMath:{valType:"boolean",dflt:!0},plotlyServerURL:{valType:"string",dflt:""},editable:{valType:"boolean",dflt:!1},edits:{annotationPosition:{valType:"boolean",dflt:!1},annotationTail:{valType:"boolean",dflt:!1},annotationText:{valType:"boolean",dflt:!1},axisTitleText:{valType:"boolean",dflt:!1},colorbarPosition:{valType:"boolean",dflt:!1},colorbarTitleText:{valType:"boolean",dflt:!1},legendPosition:{valType:"boolean",dflt:!1},legendText:{valType:"boolean",dflt:!1},shapePosition:{valType:"boolean",dflt:!1},titleText:{valType:"boolean",dflt:!1}},editSelection:{valType:"boolean",dflt:!0},autosizable:{valType:"boolean",dflt:!1},responsive:{valType:"boolean",dflt:!1},fillFrame:{valType:"boolean",dflt:!1},frameMargins:{valType:"number",dflt:0,min:0,max:.5},scrollZoom:{valType:"flaglist",flags:["cartesian","gl3d","geo","mapbox"],extras:[!0,!1],dflt:"gl3d+geo+mapbox"},doubleClick:{valType:"enumerated",values:[!1,"reset","autosize","reset+autosize"],dflt:"reset+autosize"},doubleClickDelay:{valType:"number",dflt:300,min:0},showAxisDragHandles:{valType:"boolean",dflt:!0},showAxisRangeEntryBoxes:{valType:"boolean",dflt:!0},showTips:{valType:"boolean",dflt:!0},showLink:{valType:"boolean",dflt:!1},linkText:{valType:"string",dflt:"Edit chart",noBlank:!0},sendData:{valType:"boolean",dflt:!0},showSources:{valType:"any",dflt:!1},displayModeBar:{valType:"enumerated",values:["hover",!0,!1],dflt:"hover"},showSendToCloud:{valType:"boolean",dflt:!1},showEditInChartStudio:{valType:"boolean",dflt:!1},modeBarButtonsToRemove:{valType:"any",dflt:[]},modeBarButtonsToAdd:{valType:"any",dflt:[]},modeBarButtons:{valType:"any",dflt:!1},toImageButtonOptions:{valType:"any",dflt:{}},displaylogo:{valType:"boolean",dflt:!0},watermark:{valType:"boolean",dflt:!1},plotGlPixelRatio:{valType:"number",dflt:2,min:1,max:4},setBackground:{valType:"any",dflt:"transparent"},topojsonURL:{valType:"string",noBlank:!0,dflt:"https://cdn.plot.ly/"},mapboxAccessToken:{valType:"string",dflt:null},logging:{valType:"integer",min:0,max:2,dflt:1},notifyOnLogging:{valType:"integer",min:0,max:2,dflt:0},queueLength:{valType:"integer",min:0,dflt:0},globalTransforms:{valType:"any",dflt:[]},locale:{valType:"string",dflt:"en-US"},locales:{valType:"any",dflt:{}}},e={};function g(L,a){for(var C in L){var A=L[C];A.valType?a[C]=A.dflt:(a[C]||(a[C]={}),g(A,a[C]))}}g(U,e),G.exports={configAttributes:U,dfltConfig:e}},73060:function(G,U,e){var g=e(24040),L=e(3400),a=e(45464),C=e(64859),A=e(16672),v=e(85656),p=e(20556).configAttributes,r=e(67824),t=L.extendDeepAll,s=L.isPlainObject,n=L.isArrayOrTypedArray,f=L.nestedProperty,u=L.valObjectMeta,l="_isSubplotObj",m="_isLinkedToArray",h="_arrayAttrRegexps",M="_deprecated",c=[l,m,h,M];U.IS_SUBPLOT_OBJ=l,U.IS_LINKED_TO_ARRAY=m,U.DEPRECATED=M,U.UNDERSCORE_ATTRS=c,U.get=function(){var N={};g.allTypes.forEach(function(F){N[F]=w(F)});var k={};return Object.keys(g.transformsRegistry).forEach(function(F){k[F]=y(F)}),{defs:{valObjects:u,metaKeys:c.concat(["description","role","editType","impliedEdits"]),editType:{traces:r.traces,layout:r.layout},impliedEdits:{}},traces:N,layout:E(),transforms:k,frames:S(),animation:T(v),config:T(p)}},U.crawl=function(N,k,F,O){var z=F||0;O=O||"",Object.keys(N).forEach(function(B){var W=N[B];if(c.indexOf(B)===-1){var q=(O?O+".":"")+B;k(W,B,N,z,q),!U.isValObject(W)&&s(W)&&B!=="impliedEdits"&&U.crawl(W,k,z+1,q)}})},U.isValObject=function(N){return N&&N.valType!==void 0},U.findArrayAttributes=function(N){var k=[],F=[],O=[],z,B;function W(Y,te,X,$){F=F.slice(0,$).concat([te]),O=O.slice(0,$).concat([Y&&Y._isLinkedToArray]);var ie=Y&&(Y.valType==="data_array"||Y.arrayOk===!0)&&!(F[$-1]==="colorbar"&&(te==="ticktext"||te==="tickvals"));!ie||q(z,0,"")}function q(Y,te,X){var $=Y[F[te]],ie=X+F[te];if(te===F.length-1)n($)&&k.push(B+ie);else if(O[te]){if(Array.isArray($))for(var J=0;J<$.length;J++)s($[J])&&q($[J],te+1,ie+"["+J+"].")}else s($)&&q($,te+1,ie+".")}z=N,B="",U.crawl(a,W),N._module&&N._module.attributes&&U.crawl(N._module.attributes,W);var ee=N.transforms;if(ee)for(var Q=0;Q<ee.length;Q++){var oe=ee[Q],Z=oe._module;Z&&(B="transforms["+Q+"].",z=oe,U.crawl(Z.attributes,W))}return k},U.getTraceValObject=function(N,k){var F=k[0],O=1,z,B;if(F==="transforms"){if(k.length===1)return a.transforms;var W=N.transforms;if(!Array.isArray(W)||!W.length)return!1;var q=k[1];if(!b(q)||q>=W.length)return!1;z=(g.transformsRegistry[W[q].type]||{}).attributes,B=z&&z[k[2]],O=3}else{var ee=N._module;if(ee||(ee=(g.modules[N.type||a.type.dflt]||{})._module),!ee)return!1;if(z=ee.attributes,B=z&&z[F],!B){var Q=ee.basePlotModule;Q&&Q.attributes&&(B=Q.attributes[F])}B||(B=a[F])}return d(B,k,O)},U.getLayoutValObject=function(N,k){var F=i(N,k[0]);return d(F,k,1)};function i(N,k){var F,O,z,B,W=N._basePlotModules;if(W){var q;for(F=0;F<W.length;F++){if(z=W[F],z.attrRegex&&z.attrRegex.test(k)){if(z.layoutAttrOverrides)return z.layoutAttrOverrides;!q&&z.layoutAttributes&&(q=z.layoutAttributes)}var ee=z.baseLayoutAttrOverrides;if(ee&&k in ee)return ee[k]}if(q)return q}var Q=N._modules;if(Q){for(F=0;F<Q.length;F++)if(B=Q[F].layoutAttributes,B&&k in B)return B[k]}for(O in g.componentsRegistry){if(z=g.componentsRegistry[O],z.name==="colorscale"&&k.indexOf("coloraxis")===0)return z.layoutAttributes[k];if(!z.schema&&k===z.name)return z.layoutAttributes}return k in C?C[k]:!1}function d(N,k,F){if(!N)return!1;if(N._isLinkedToArray){if(b(k[F]))F++;else if(F<k.length)return!1}for(;F<k.length;F++){var O=N[k[F]];if(s(O))N=O;else break;if(F===k.length-1)break;if(N._isLinkedToArray){if(F++,!b(k[F]))return!1}else if(N.valType==="info_array"){F++;var z=k[F];if(!b(z))return!1;var B=N.items;if(Array.isArray(B)){if(z>=B.length)return!1;if(N.dimensions===2){if(F++,k.length===F)return N;var W=k[F];if(!b(W))return!1;N=B[z][W]}else N=B[z]}else N=B}}return N}function b(N){return N===Math.round(N)&&N>=0}function w(N){var k,F;k=g.modules[N]._module,F=k.basePlotModule;var O={};O.type=null;var z=t({},a),B=t({},k.attributes);U.crawl(B,function(ee,Q,oe,Z,Y){f(z,Y).set(void 0),ee===void 0&&f(B,Y).set(void 0)}),t(O,z),g.traceIs(N,"noOpacity")&&delete O.opacity,g.traceIs(N,"showLegend")||(delete O.showlegend,delete O.legendgroup),g.traceIs(N,"noHover")&&(delete O.hoverinfo,delete O.hoverlabel),k.selectPoints||delete O.selectedpoints,t(O,B),F.attributes&&t(O,F.attributes),O.type=N;var W={meta:k.meta||{},categories:k.categories||{},animatable:Boolean(k.animatable),type:N,attributes:T(O)};if(k.layoutAttributes){var q={};t(q,k.layoutAttributes),W.layoutAttributes=T(q)}return k.animatable||U.crawl(W,function(ee){U.isValObject(ee)&&"anim"in ee&&delete ee.anim}),W}function E(){var N={},k,F;t(N,C);for(k in g.subplotsRegistry)if(F=g.subplotsRegistry[k],!!F.layoutAttributes)if(Array.isArray(F.attr))for(var O=0;O<F.attr.length;O++)_(N,F,F.attr[O]);else{var z=F.attr==="subplot"?F.name:F.attr;_(N,F,z)}for(k in g.componentsRegistry){F=g.componentsRegistry[k];var B=F.schema;if(B&&(B.subplots||B.layout)){var W=B.subplots;if(W&&W.xaxis&&!W.yaxis)for(var q in W.xaxis)delete N.yaxis[q];delete N.xaxis.shift,delete N.xaxis.autoshift}else F.name==="colorscale"?t(N,F.layoutAttributes):F.layoutAttributes&&I(N,F.layoutAttributes,F.name)}return{layoutAttributes:T(N)}}function y(N){var k=g.transformsRegistry[N],F=t({},k.attributes);return Object.keys(g.componentsRegistry).forEach(function(O){var z=g.componentsRegistry[O];z.schema&&z.schema.transforms&&z.schema.transforms[N]&&Object.keys(z.schema.transforms[N]).forEach(function(B){I(F,z.schema.transforms[N][B],B)})}),{attributes:T(F)}}function S(){var N={frames:t({},A)};return T(N),N.frames}function T(N){return o(N),P(N),x(N),N}function o(N){function k(O){return{valType:"string",editType:"none"}}function F(O,z,B){U.isValObject(O)?(O.arrayOk===!0||O.valType==="data_array")&&(B[z+"src"]=k()):s(O)&&(O.role="object")}U.crawl(N,F)}function P(N){function k(F,O,z){if(!!F){var B=F[m];!B||(delete F[m],z[O]={items:{}},z[O].items[B]=F,z[O].role="object")}}U.crawl(N,k)}function x(N){function k(F){for(var O in F)if(s(F[O]))k(F[O]);else if(Array.isArray(F[O]))for(var z=0;z<F[O].length;z++)k(F[O][z]);else F[O]instanceof RegExp&&(F[O]=F[O].toString())}k(N)}function _(N,k,F){var O=f(N,F),z=t({},k.layoutAttributes);z[l]=!0,O.set(z)}function I(N,k,F){var O=f(N,F);O.set(t(O.get()||{},k))}},31780:function(G,U,e){var g=e(3400),L=e(45464),a="templateitemname",C={name:{valType:"string",editType:"none"}};C[a]={valType:"string",editType:"calc"},U.templatedArray=function(p,r){return r._isLinkedToArray=p,r.name=C.name,r[a]=C[a],r},U.traceTemplater=function(p){var r={},t,s;for(t in p)s=p[t],Array.isArray(s)&&s.length&&(r[t]=0);function n(f){t=g.coerce(f,{},L,"type");var u={type:t,_template:null};if(t in r){s=p[t];var l=r[t]%s.length;r[t]++,u._template=s[l]}return u}return{newTrace:n}},U.newContainer=function(p,r,t){var s=p._template,n=s&&(s[r]||t&&s[t]);g.isPlainObject(n)||(n=null);var f=p[r]={_template:n};return f},U.arrayTemplater=function(p,r,t){var s=p._template,n=s&&s[v(r)],f=s&&s[r];(!Array.isArray(f)||!f.length)&&(f=[]);var u={};function l(h){var M={name:h.name,_input:h},c=M[a]=h[a];if(!A(c))return M._template=n,M;for(var i=0;i<f.length;i++){var d=f[i];if(d.name===c)return u[c]=1,M._template=d,M}return M[t]=h[t]||!1,M._template=!1,M}function m(){for(var h=[],M=0;M<f.length;M++){var c=f[M],i=c.name;if(A(i)&&!u[i]){var d={_template:c,name:i,_input:{_templateitemname:i}};d[a]=c[a],h.push(d),u[i]=1}}return h}return{newItem:l,defaultItems:m}};function A(p){return p&&typeof p=="string"}function v(p){var r=p.length-1;return p.charAt(r)!=="s"&&g.warn("bad argument to arrayDefaultKey: "+p),p.substr(0,p.length-1)+"defaults"}U.arrayDefaultKey=v,U.arrayEditor=function(p,r,t){var s=(g.nestedProperty(p,r).get()||[]).length,n=t._index,f=n>=s&&(t._input||{})._templateitemname;f&&(n=s);var u=r+"["+n+"]",l;function m(){l={},f&&(l[u]={},l[u][a]=f)}m();function h(d,b){l[d]=b}function M(d,b){f?g.nestedProperty(l[u],d).set(b):l[u+"."+d]=b}function c(){var d=l;return m(),d}function i(d,b){d&&M(d,b);var w=c();for(var E in w)g.nestedProperty(p,E).set(w[E])}return{modifyBase:h,modifyItem:M,getUpdateObj:c,applyUpdate:i}}},39172:function(G,U,e){var g=e(33428),L=e(24040),a=e(7316),C=e(3400),A=e(72736),v=e(73696),p=e(76308),r=e(43616),t=e(81668),s=e(45460),n=e(54460),f=e(84284),u=e(71888),l=u.enforce,m=u.clean,h=e(19280).doAutoRange,M="start",c="middle",i="end";U.layoutStyles=function(F){return C.syncOrAsync([a.doAutoMargin,b],F)};function d(F,O,z){for(var B=0;B<z.length;B++){var W=z[B][0],q=z[B][1];if(!(W[0]>=F[1]||W[1]<=F[0])&&q[0]<O[1]&&q[1]>O[0])return!0}return!1}function b(F){var O=F._fullLayout,z=O._size,B=z.p,W=n.list(F,"",!0),q,ee,Q,oe,Z,Y;if(O._paperdiv.style({width:F._context.responsive&&O.autosize&&!F._context._hasZeroWidth&&!F.layout.width?"100%":O.width+"px",height:F._context.responsive&&O.autosize&&!F._context._hasZeroHeight&&!F.layout.height?"100%":O.height+"px"}).selectAll(".main-svg").call(r.setSize,O.width,O.height),F._context.setBackground(F,O.paper_bgcolor),U.drawMainTitle(F),s.manage(F),!O._has("cartesian"))return a.previousPromises(F);function te(me,ge,Ee){var Te=me._lw/2;if(me._id.charAt(0)==="x"){if(ge){if(Ee==="top")return ge._offset-B-Te}else return z.t+z.h*(1-(me.position||0))+Te%1;return ge._offset+ge._length+B+Te}if(ge){if(Ee==="right")return ge._offset+ge._length+B+Te}else return z.l+z.w*(me.position||0)+Te%1;return ge._offset-B-Te}for(q=0;q<W.length;q++){oe=W[q];var X=oe._anchorAxis;oe._linepositions={},oe._lw=r.crispRound(F,oe.linewidth,1),oe._mainLinePosition=te(oe,X,oe.side),oe._mainMirrorPosition=oe.mirror&&X?te(oe,X,f.OPPOSITE_SIDE[oe.side]):null}var $=[],ie=[],J=[],j=p.opacity(O.paper_bgcolor)===1&&p.opacity(O.plot_bgcolor)===1&&O.paper_bgcolor===O.plot_bgcolor;for(ee in O._plots)if(Q=O._plots[ee],Q.mainplot)Q.bg&&Q.bg.remove(),Q.bg=void 0;else{var se=Q.xaxis.domain,ne=Q.yaxis.domain,le=Q.plotgroup;if(d(se,ne,J)){var pe=le.node(),Ae=Q.bg=C.ensureSingle(le,"rect","bg");pe.insertBefore(Ae.node(),pe.childNodes[0]),ie.push(ee)}else le.select("rect.bg").remove(),J.push([se,ne]),j||($.push(ee),ie.push(ee))}var be=O._bgLayer.selectAll(".bg").data($);for(be.enter().append("rect").classed("bg",!0),be.exit().remove(),be.each(function(me){O._plots[me].bg=g.select(this)}),q=0;q<ie.length;q++)Q=O._plots[ie[q]],Z=Q.xaxis,Y=Q.yaxis,Q.bg&&Z._offset!==void 0&&Y._offset!==void 0&&Q.bg.call(r.setRect,Z._offset-B,Y._offset-B,Z._length+2*B,Y._length+2*B).call(p.fill,O.plot_bgcolor).style("stroke-width",0);if(!O._hasOnlyLargeSploms)for(ee in O._plots){Q=O._plots[ee],Z=Q.xaxis,Y=Q.yaxis;var Re=Q.clipId="clip"+O._uid+ee+"plot",xe=C.ensureSingleById(O._clips,"clipPath",Re,function(me){me.classed("plotclip",!0).append("rect")});Q.clipRect=xe.select("rect").attr({width:Z._length,height:Y._length}),r.setTranslate(Q.plot,Z._offset,Y._offset);var Me,ye;Q._hasClipOnAxisFalse?(Me=null,ye=Re):(Me=Re,ye=null),r.setClipUrl(Q.plot,Me,F),Q.layerClipId=ye}var Se,Fe,Be,_e,Ue,it,lt,$e,qe,ft,ct,pt,yt;function Et(me){return"M"+Se+","+me+"H"+Fe}function tt(me){return"M"+Z._offset+","+me+"h"+Z._length}function Ie(me){return"M"+me+","+$e+"V"+lt}function We(me){return Y._shift!==void 0&&(me+=Y._shift),"M"+me+","+Y._offset+"v"+Y._length}function Ze(me,ge,Ee){if(!me.showline||ee!==me._mainSubplot)return"";if(!me._anchorAxis)return Ee(me._mainLinePosition);var Te=ge(me._mainLinePosition);return me.mirror&&(Te+=ge(me._mainMirrorPosition)),Te}for(ee in O._plots){Q=O._plots[ee],Z=Q.xaxis,Y=Q.yaxis;var He="M0,0";w(Z,ee)&&(Ue=y(Z,"left",Y,W),Se=Z._offset-(Ue?B+Ue:0),it=y(Z,"right",Y,W),Fe=Z._offset+Z._length+(it?B+it:0),Be=te(Z,Y,"bottom"),_e=te(Z,Y,"top"),yt=!Z._anchorAxis||ee!==Z._mainSubplot,yt&&(Z.mirror==="allticks"||Z.mirror==="all")&&(Z._linepositions[ee]=[Be,_e]),He=Ze(Z,Et,tt),yt&&Z.showline&&(Z.mirror==="all"||Z.mirror==="allticks")&&(He+=Et(Be)+Et(_e)),Q.xlines.style("stroke-width",Z._lw+"px").call(p.stroke,Z.showline?Z.linecolor:"rgba(0,0,0,0)")),Q.xlines.attr("d",He);var De="M0,0";w(Y,ee)&&(ct=y(Y,"bottom",Z,W),lt=Y._offset+Y._length+(ct?B:0),pt=y(Y,"top",Z,W),$e=Y._offset-(pt?B:0),qe=te(Y,Z,"left"),ft=te(Y,Z,"right"),yt=!Y._anchorAxis||ee!==Y._mainSubplot,yt&&(Y.mirror==="allticks"||Y.mirror==="all")&&(Y._linepositions[ee]=[qe,ft]),De=Ze(Y,Ie,We),yt&&Y.showline&&(Y.mirror==="all"||Y.mirror==="allticks")&&(De+=Ie(qe)+Ie(ft)),Q.ylines.style("stroke-width",Y._lw+"px").call(p.stroke,Y.showline?Y.linecolor:"rgba(0,0,0,0)")),Q.ylines.attr("d",De)}return n.makeClipPaths(F),a.previousPromises(F)}function w(F,O){return(F.ticks||F.showline)&&(O===F._mainSubplot||F.mirror==="all"||F.mirror==="allticks")}function E(F,O,z){if(!z.showline||!z._lw)return!1;if(z.mirror==="all"||z.mirror==="allticks")return!0;var B=z._anchorAxis;if(!B)return!1;var W=f.FROM_BL[O];return z.side===O?B.domain[W]===F.domain[W]:z.mirror&&B.domain[1-W]===F.domain[1-W]}function y(F,O,z,B){if(E(F,O,z))return z._lw;for(var W=0;W<B.length;W++){var q=B[W];if(q._mainAxis===z._mainAxis&&E(F,O,q))return q._lw}return 0}U.drawMainTitle=function(F){var O=F._fullLayout.title,z=F._fullLayout,B=N(z),W=k(z),q=_(z,W),ee=x(z,B);if(t.draw(F,"gtitle",{propContainer:z,propName:"title.text",placeholder:z._dfltTitle.plot,attributes:{x:ee,y:q,"text-anchor":B,dy:W}}),O.text&&O.automargin){var Q=g.selectAll(".gtitle"),oe=r.bBox(Q.node()).height,Z=o(F,O,oe);if(Z>0){P(F,q,Z,oe),Q.attr({x:ee,y:q,"text-anchor":B,dy:I(O.yanchor)}).call(A.positionText,ee,q);var Y=(O.text.match(A.BR_TAG_ALL)||[]).length;if(Y){var te=f.LINE_SPACING*Y+f.MID_SHIFT;O.y===0&&(te=-te),Q.selectAll(".line").each(function(){var X=+this.getAttribute("dy").slice(0,-2)-te+"em";this.setAttribute("dy",X)})}}}};function S(F,O,z,B,W){var q=O.yref==="paper"?F._fullLayout._size.h:F._fullLayout.height,ee=C.isTopAnchor(O)?B:B-W,Q=z==="b"?q-ee:ee;return C.isTopAnchor(O)&&z==="t"||C.isBottomAnchor(O)&&z==="b"?!1:Q<W}function T(F,O,z,B,W){var q=0;return z==="middle"&&(q+=W/2),F==="t"?(z==="top"&&(q+=W),q+=B-O*B):(z==="bottom"&&(q+=W),q+=O*B),q}function o(F,O,z){var B=O.y,W=O.yanchor,q=B>.5?"t":"b",ee=F._fullLayout.margin[q],Q=0;return O.yref==="paper"?Q=z+O.pad.t+O.pad.b:O.yref==="container"&&(Q=T(q,B,W,F._fullLayout.height,z)+O.pad.t+O.pad.b),Q>ee?Q:0}function P(F,O,z,B){var W="title.automargin",q=F._fullLayout.title,ee=q.y>.5?"t":"b",Q={x:q.x,y:q.y,t:0,b:0},oe={};q.yref==="paper"&&S(F,q,ee,O,B)?Q[ee]=z:q.yref==="container"&&(oe[ee]=z,F._fullLayout._reservedMargin[W]=oe),a.allowAutoMargin(F,W),a.autoMargin(F,W,Q)}function x(F,O){var z=F.title,B=F._size,W=0;switch(O===M?W=z.pad.l:O===i&&(W=-z.pad.r),z.xref){case"paper":return B.l+B.w*z.x+W;case"container":default:return F.width*z.x+W}}function _(F,O){var z=F.title,B=F._size,W=0;if(O==="0em"||!O?W=-z.pad.b:O===f.CAP_SHIFT+"em"&&(W=z.pad.t),z.y==="auto")return B.t/2;switch(z.yref){case"paper":return B.t+B.h-B.h*z.y+W;case"container":default:return F.height-F.height*z.y+W}}function I(F){return F==="top"?f.CAP_SHIFT+.3+"em":F==="bottom"?"-0.3em":f.MID_SHIFT+"em"}function N(F){var O=F.title,z=c;return C.isRightAnchor(O)?z=i:C.isLeftAnchor(O)&&(z=M),z}function k(F){var O=F.title,z="0em";return C.isTopAnchor(O)?z=f.CAP_SHIFT+"em":C.isMiddleAnchor(O)&&(z=f.MID_SHIFT+"em"),z}U.doTraceStyle=function(F){var O=F.calcdata,z=[],B;for(B=0;B<O.length;B++){var W=O[B],q=W[0]||{},ee=q.trace||{},Q=ee._module||{},oe=Q.arraysToCalcdata;oe&&oe(W,ee);var Z=Q.editStyle;Z&&z.push({fn:Z,cd0:q})}if(z.length){for(B=0;B<z.length;B++){var Y=z[B];Y.fn(F,Y.cd0)}v(F),U.redrawReglTraces(F)}return a.style(F),L.getComponentMethod("legend","draw")(F),a.previousPromises(F)},U.doColorBars=function(F){return L.getComponentMethod("colorbar","draw")(F),a.previousPromises(F)},U.layoutReplot=function(F){var O=F.layout;return F.layout=void 0,L.call("_doPlot",F,"",O)},U.doLegend=function(F){return L.getComponentMethod("legend","draw")(F),a.previousPromises(F)},U.doTicksRelayout=function(F){return n.draw(F,"redraw"),F._fullLayout._hasOnlyLargeSploms&&(L.subplotsRegistry.splom.updateGrid(F),v(F),U.redrawReglTraces(F)),U.drawMainTitle(F),a.previousPromises(F)},U.doModeBar=function(F){var O=F._fullLayout;s.manage(F);for(var z=0;z<O._basePlotModules.length;z++){var B=O._basePlotModules[z].updateFx;B&&B(F)}return a.previousPromises(F)},U.doCamera=function(F){for(var O=F._fullLayout,z=O._subplots.gl3d,B=0;B<z.length;B++){var W=O[z[B]],q=W._scene;q.setViewport(W)}},U.drawData=function(F){var O=F._fullLayout;v(F);for(var z=O._basePlotModules,B=0;B<z.length;B++)z[B].plot(F);return U.redrawReglTraces(F),a.style(F),L.getComponentMethod("selections","draw")(F),L.getComponentMethod("shapes","draw")(F),L.getComponentMethod("annotations","draw")(F),L.getComponentMethod("images","draw")(F),O._replotting=!1,a.previousPromises(F)},U.redrawReglTraces=function(F){var O=F._fullLayout;if(O._has("regl")){var z=F._fullData,B=[],W=[],q,ee;for(O._hasOnlyLargeSploms&&O._splomGrid.draw(),q=0;q<z.length;q++){var Q=z[q];Q.visible===!0&&Q._length!==0&&(Q.type==="splom"?O._splomScenes[Q.uid].draw():Q.type==="scattergl"?C.pushUnique(B,Q.xaxis+Q.yaxis):Q.type==="scatterpolargl"&&C.pushUnique(W,Q.subplot))}for(q=0;q<B.length;q++)ee=O._plots[B[q]],ee._scene&&ee._scene.draw();for(q=0;q<W.length;q++)ee=O[W[q]]._subplot,ee._scene&&ee._scene.draw()}},U.doAutoRangeAndConstraints=function(F){for(var O=n.list(F,"",!0),z,B={},W=0;W<O.length;W++)if(z=O[W],!B[z._id]){B[z._id]=1,m(F,z),h(F,z);var q=z._matchGroup;if(q)for(var ee in q){var Q=n.getFromId(F,ee);h(F,Q,z.range),B[ee]=1}}l(F)},U.finalDraw=function(F){L.getComponentMethod("rangeslider","draw")(F),L.getComponentMethod("rangeselector","draw")(F)},U.drawMarginPushers=function(F){L.getComponentMethod("legend","draw")(F),L.getComponentMethod("rangeselector","draw")(F),L.getComponentMethod("sliders","draw")(F),L.getComponentMethod("updatemenus","draw")(F),L.getComponentMethod("colorbar","draw")(F)}},94828:function(G,U,e){var g=e(3400),L=g.isPlainObject,a=e(73060),C=e(7316),A=e(45464),v=e(31780),p=e(20556).dfltConfig;U.makeTemplate=function(h){h=g.isPlainObject(h)?h:g.getGraphDiv(h),h=g.extendDeep({_context:p},{data:h.data,layout:h.layout}),C.supplyDefaults(h);var M=h.data||[],c=h.layout||{};c._basePlotModules=h._fullLayout._basePlotModules,c._modules=h._fullLayout._modules;var i={data:{},layout:{}};M.forEach(function(x){var _={};s(x,_,f.bind(null,x));var I=g.coerce(x,{},A,"type"),N=i.data[I];N||(N=i.data[I]=[]),N.push(_)}),s(c,i.layout,n.bind(null,c)),delete i.layout.template;var d=c.template;if(L(d)){var b=d.layout,w,E,y,S,T,o;L(b)&&r(b,i.layout);var P=d.data;if(L(P)){for(E in i.data)if(y=P[E],Array.isArray(y)){for(T=i.data[E],o=T.length,S=y.length,w=0;w<o;w++)r(y[w%S],T[w]);for(w=o;w<S;w++)T.push(g.extendDeep({},y[w]))}for(E in P)E in i.data||(i.data[E]=g.extendDeep([],P[E]))}}return i};function r(h,M){h=g.extendDeep({},h);var c=Object.keys(h).sort(),i,d;function b(T,o,P){if(L(o)&&L(T))r(T,o);else if(Array.isArray(o)&&Array.isArray(T)){var x=v.arrayTemplater({_template:h},P);for(d=0;d<o.length;d++){var _=o[d],I=x.newItem(_)._template;I&&r(I,_)}var N=x.defaultItems();for(d=0;d<N.length;d++)o.push(N[d]._template);for(d=0;d<o.length;d++)delete o[d].templateitemname}}for(i=0;i<c.length;i++){var w=c[i],E=h[w];if(w in M?b(E,M[w],w):M[w]=E,t(w)===w)for(var y in M){var S=t(y);y!==S&&S===w&&!(y in h)&&b(E,M[y],w)}}}function t(h){return h.replace(/[0-9]+$/,"")}function s(h,M,c,i,d){var b=d&&c(d);for(var w in h){var E=h[w],y=u(h,w,i),S=u(h,w,d),T=c(S);if(!T){var o=t(w);o!==w&&(S=u(h,o,d),T=c(S))}if(!(b&&b===T)&&!(!T||T._noTemplating||T.valType==="data_array"||T.arrayOk&&Array.isArray(E)))if(!T.valType&&L(E))s(E,M,c,y,S);else if(T._isLinkedToArray&&Array.isArray(E))for(var P=!1,x=0,_={},I=0;I<E.length;I++){var N=E[I];if(L(N)){var k=N.name;if(k)_[k]||(s(N,M,c,u(E,x,y),u(E,x,S)),x++,_[k]=1);else if(!P){var F=v.arrayDefaultKey(w),O=u(h,F,i),z=u(E,x,y);s(N,M,c,z,u(E,x,S));var B=g.nestedProperty(M,z),W=g.nestedProperty(M,O);W.set(B.get()),B.set(null),P=!0}}}else{var q=g.nestedProperty(M,y);q.set(E)}}}function n(h,M){return a.getLayoutValObject(h,g.nestedProperty({},M).parts)}function f(h,M){return a.getTraceValObject(h,g.nestedProperty({},M).parts)}function u(h,M,c){var i;return c?Array.isArray(h)?i=c+"["+M+"]":i=c+"."+M:i=M,i}U.validateTemplate=function(h,M){var c=g.extendDeep({},{_context:p,data:h.data,layout:h.layout}),i=c.layout||{};L(M)||(M=i.template||{});var d=M.layout,b=M.data,w=[];c.layout=i,c.layout.template=M,C.supplyDefaults(c);var E=c._fullLayout,y=c._fullData,S={};function T(O,z){for(var B in O)if(B.charAt(0)!=="_"&&L(O[B])){var W=t(B),q=[],ee;for(ee=0;ee<z.length;ee++)q.push(u(O,B,z[ee])),W!==B&&q.push(u(O,W,z[ee]));for(ee=0;ee<q.length;ee++)S[q[ee]]=1;T(O[B],q)}}function o(O,z){for(var B in O)if(B.indexOf("defaults")===-1&&L(O[B])){var W=u(O,B,z);S[W]?o(O[B],W):w.push({code:"unused",path:W})}}if(L(d)?(T(E,["layout"]),o(d,"layout")):w.push({code:"layout"}),!L(b))w.push({code:"data"});else{for(var P={},x,_=0;_<y.length;_++){var I=y[_];x=I.type,P[x]=(P[x]||0)+1,I._fullInput._template||w.push({code:"missing",index:I._fullInput.index,traceType:x})}for(x in b){var N=b[x].length,k=P[x]||0;N>k?w.push({code:"unused",traceType:x,templateCount:N,dataCount:k}):k>N&&w.push({code:"reused",traceType:x,templateCount:N,dataCount:k})}}function F(O,z){for(var B in O)if(B.charAt(0)!=="_"){var W=O[B],q=u(O,B,z);L(W)?(Array.isArray(O)&&W._template===!1&&W.templateitemname&&w.push({code:"missing",path:q,templateitemname:W.templateitemname}),F(W,q)):Array.isArray(W)&&l(W)&&F(W,q)}}if(F({data:y,layout:E},""),w.length)return w.map(m)};function l(h){for(var M=0;M<h.length;M++)if(L(h[M]))return!0}function m(h){var M;switch(h.code){case"data":M="The template has no key data.";break;case"layout":M="The template has no key layout.";break;case"missing":h.path?M="There are no templates for item "+h.path+" with name "+h.templateitemname:M="There are no templates for trace "+h.index+", of type "+h.traceType+".";break;case"unused":h.path?M="The template item at "+h.path+" was not used in constructing the plot.":h.dataCount?M="Some of the templates of type "+h.traceType+" were not used. The template has "+h.templateCount+" traces, the data only has "+h.dataCount+" of this type.":M="The template has "+h.templateCount+" traces of type "+h.traceType+" but there are none in the data.";break;case"reused":M="Some of the templates of type "+h.traceType+" were used more than once. The template has "+h.templateCount+" traces, the data has "+h.dataCount+" of this type.";break}return h.msg=M,h}},67024:function(G,U,e){var g=e(38248),L=e(36424),a=e(7316),C=e(3400),A=e(81792),v=e(37164),p=e(63268),r=e(25788).version,t={format:{valType:"enumerated",values:["png","jpeg","webp","svg","full-json"],dflt:"png"},width:{valType:"number",min:1},height:{valType:"number",min:1},scale:{valType:"number",min:0,dflt:1},setBackground:{valType:"any",dflt:!1},imageDataOnly:{valType:"boolean",dflt:!1}};function s(n,f){f=f||{};var u,l,m,h;C.isPlainObject(n)?(u=n.data||[],l=n.layout||{},m=n.config||{},h={}):(n=C.getGraphDiv(n),u=C.extendDeep([],n.data),l=C.extendDeep({},n.layout),m=n._context,h=n._fullLayout||{});function M(k){return!(k in f)||C.validate(f[k],t[k])}if(!M("width")&&f.width!==null||!M("height")&&f.height!==null)throw new Error("Height and width should be pixel values.");if(!M("format"))throw new Error("Export format is not "+C.join2(t.format.values,", "," or ")+".");var c={};function i(k,F){return C.coerce(f,c,t,k,F)}var d=i("format"),b=i("width"),w=i("height"),E=i("scale"),y=i("setBackground"),S=i("imageDataOnly"),T=document.createElement("div");T.style.position="absolute",T.style.left="-5000px",document.body.appendChild(T);var o=C.extendFlat({},l);b?o.width=b:f.width===null&&g(h.width)&&(o.width=h.width),w?o.height=w:f.height===null&&g(h.height)&&(o.height=h.height);var P=C.extendFlat({},m,{_exportedPlot:!0,staticPlot:!0,setBackground:y}),x=A.getRedrawFunc(T);function _(){return new Promise(function(k){setTimeout(k,A.getDelay(T._fullLayout))})}function I(){return new Promise(function(k,F){var O=v(T,d,E),z=T._fullLayout.width,B=T._fullLayout.height;function W(){L.purge(T),document.body.removeChild(T)}if(d==="full-json"){var q=a.graphJson(T,!1,"keepdata","object",!0,!0);return q.version=r,q=JSON.stringify(q),W(),k(S?q:A.encodeJSON(q))}if(W(),d==="svg")return k(S?O:A.encodeSVG(O));var ee=document.createElement("canvas");ee.id=C.randstr(),p({format:d,width:z,height:B,scale:E,canvas:ee,svg:O,promise:!0}).then(k).catch(F)})}function N(k){return S?k.replace(A.IMAGE_URL_PREFIX,""):k}return new Promise(function(k,F){L.newPlot(T,u,o,P).then(x).then(_).then(I).then(function(O){k(N(O))}).catch(function(O){F(O)})})}G.exports=s},21480:function(G,U,e){var g=e(3400),L=e(7316),a=e(73060),C=e(20556).dfltConfig,A=g.isPlainObject,v=Array.isArray,p=g.isArrayOrTypedArray;G.exports=function(i,d){i===void 0&&(i=[]),d===void 0&&(d={});var b=a.get(),w=[],E={_context:g.extendFlat({},C)},y,S;v(i)?(E.data=g.extendDeep([],i),y=i):(E.data=[],y=[],w.push(f("array","data"))),A(d)?(E.layout=g.extendDeep({},d),S=d):(E.layout={},S={},arguments.length>1&&w.push(f("object","layout"))),L.supplyDefaults(E);for(var T=E._fullData,o=y.length,P=0;P<o;P++){var x=y[P],_=["data",P];if(!A(x)){w.push(f("object",_));continue}var I=T[P],N=I.type,k=b.traces[N].attributes;k.type={valType:"enumerated",values:[N]},I.visible===!1&&x.visible!==!1&&w.push(f("invisible",_)),r(x,I,k,w,_);var F=x.transforms,O=I.transforms;if(F){v(F)||w.push(f("array",_,["transforms"])),_.push("transforms");for(var z=0;z<F.length;z++){var B=["transforms",z],W=F[z].type;if(!A(F[z])){w.push(f("object",_,B));continue}var q=b.transforms[W]?b.transforms[W].attributes:{};q.type={valType:"enumerated",values:Object.keys(b.transforms)},r(F[z],O[z],q,w,_,B)}}}var ee=E._fullLayout,Q=t(b,T);return r(S,ee,Q,w,"layout"),w.length===0?void 0:w};function r(c,i,d,b,w,E){E=E||[];for(var y=Object.keys(c),S=0;S<y.length;S++){var T=y[S];if(T!=="transforms"){var o=E.slice();o.push(T);var P=c[T],x=i[T],_=l(d,T),I=(_||{}).valType,N=I==="info_array",k=I==="colorscale",F=(_||{}).items;if(!u(d,T))b.push(f("schema",w,o));else if(A(P)&&A(x)&&I!=="any")r(P,x,_,b,w,o);else if(N&&v(P)){P.length>x.length&&b.push(f("unused",w,o.concat(x.length)));var O=x.length,z=Array.isArray(F);z&&(O=Math.min(O,F.length));var B,W,q,ee,Q;if(_.dimensions===2)for(W=0;W<O;W++)if(v(P[W])){P[W].length>x[W].length&&b.push(f("unused",w,o.concat(W,x[W].length)));var oe=x[W].length;for(B=0;B<(z?Math.min(oe,F[W].length):oe);B++)q=z?F[W][B]:F,ee=P[W][B],Q=x[W][B],g.validate(ee,q)?Q!==ee&&Q!==+ee&&b.push(f("dynamic",w,o.concat(W,B),ee,Q)):b.push(f("value",w,o.concat(W,B),ee))}else b.push(f("array",w,o.concat(W),P[W]));else for(W=0;W<O;W++)q=z?F[W]:F,ee=P[W],Q=x[W],g.validate(ee,q)?Q!==ee&&Q!==+ee&&b.push(f("dynamic",w,o.concat(W),ee,Q)):b.push(f("value",w,o.concat(W),ee))}else if(_.items&&!N&&v(P)){var Z=F[Object.keys(F)[0]],Y=[],te,X;for(te=0;te<x.length;te++){var $=x[te]._index||te;if(X=o.slice(),X.push($),A(P[$])&&A(x[te])){Y.push($);var ie=P[$],J=x[te];A(ie)&&ie.visible!==!1&&J.visible===!1?b.push(f("invisible",w,X)):r(ie,J,Z,b,w,X)}}for(te=0;te<P.length;te++)X=o.slice(),X.push(te),A(P[te])?Y.indexOf(te)===-1&&b.push(f("unused",w,X)):b.push(f("object",w,X,P[te]))}else!A(P)&&A(x)?b.push(f("object",w,o,P)):!p(P)&&p(x)&&!N&&!k?b.push(f("array",w,o,P)):T in i?g.validate(P,_)?_.valType==="enumerated"&&(_.coerceNumber&&P!==+x||P!==x)&&b.push(f("dynamic",w,o,P,x)):b.push(f("value",w,o,P)):b.push(f("unused",w,o,P))}}return b}function t(c,i){for(var d=c.layout.layoutAttributes,b=0;b<i.length;b++){var w=i[b],E=c.traces[w.type],y=E.layoutAttributes;y&&(w.subplot?g.extendFlat(d[E.attributes.subplot.dflt],y):g.extendFlat(d,y))}return d}var s={object:function(c,i){var d;return c==="layout"&&i===""?d="The layout argument":c[0]==="data"&&i===""?d="Trace "+c[1]+" in the data argument":d=n(c)+"key "+i,d+" must be linked to an object container"},array:function(c,i){var d;return c==="data"?d="The data argument":d=n(c)+"key "+i,d+" must be linked to an array container"},schema:function(c,i){return n(c)+"key "+i+" is not part of the schema"},unused:function(c,i,d){var b=A(d)?"container":"key";return n(c)+b+" "+i+" did not get coerced"},dynamic:function(c,i,d,b){return[n(c)+"key",i,"(set to '"+d+"')","got reset to","'"+b+"'","during defaults."].join(" ")},invisible:function(c,i){return(i?n(c)+"item "+i:"Trace "+c[1])+" got defaulted to be not visible"},value:function(c,i,d){return[n(c)+"key "+i,"is set to an invalid value ("+d+")"].join(" ")}};function n(c){return v(c)?"In data trace "+c[1]+", ":"In "+c+", "}function f(c,i,d,b,w){d=d||"";var E,y;v(i)?(E=i[0],y=i[1]):(E=i,y=null);var S=M(d),T=s[c](i,S,b,w);return g.log(T),{code:c,container:E,trace:y,path:d,astr:S,msg:T}}function u(c,i){var d=h(i),b=d.keyMinusId,w=d.id;return b in c&&c[b]._isSubplotObj&&w?!0:i in c}function l(c,i){if(i in c)return c[i];var d=h(i);return c[d.keyMinusId]}var m=g.counterRegex("([a-z]+)");function h(c){var i=c.match(m);return{keyMinusId:i&&i[1],id:i&&i[2]}}function M(c){if(!v(c))return String(c);for(var i="",d=0;d<c.length;d++){var b=c[d];typeof b=="number"?i=i.substr(0,i.length-1)+"["+b+"]":i+=b,d<c.length-1&&(i+=".")}return i}},85656:function(G){G.exports={mode:{valType:"enumerated",dflt:"afterall",values:["immediate","next","afterall"]},direction:{valType:"enumerated",values:["forward","reverse"],dflt:"forward"},fromcurrent:{valType:"boolean",dflt:!1},frame:{duration:{valType:"number",min:0,dflt:500},redraw:{valType:"boolean",dflt:!0}},transition:{duration:{valType:"number",min:0,dflt:500,editType:"none"},easing:{valType:"enumerated",dflt:"cubic-in-out",values:["linear","quad","cubic","sin","exp","circle","elastic","back","bounce","linear-in","quad-in","cubic-in","sin-in","exp-in","circle-in","elastic-in","back-in","bounce-in","linear-out","quad-out","cubic-out","sin-out","exp-out","circle-out","elastic-out","back-out","bounce-out","linear-in-out","quad-in-out","cubic-in-out","sin-in-out","exp-in-out","circle-in-out","elastic-in-out","back-in-out","bounce-in-out"],editType:"none"},ordering:{valType:"enumerated",values:["layout first","traces first"],dflt:"layout first",editType:"none"}}}},51272:function(G,U,e){var g=e(3400),L=e(31780);G.exports=function(C,A,v){var p=v.name,r=v.inclusionAttr||"visible",t=A[p],s=g.isArrayOrTypedArray(C[p])?C[p]:[],n=A[p]=[],f=L.arrayTemplater(A,p,r),u,l;for(u=0;u<s.length;u++){var m=s[u];g.isPlainObject(m)?l=f.newItem(m):(l=f.newItem({}),l[r]=!1),l._index=u,l[r]!==!1&&v.handleItemDefaults(m,l,A,v),n.push(l)}var h=f.defaultItems();for(u=0;u<h.length;u++)l=h[u],l._index=n.length,v.handleItemDefaults({},l,A,v,{}),n.push(l);if(g.isArrayOrTypedArray(t)){var M=Math.min(t.length,n.length);for(u=0;u<M;u++)g.relinkPrivateKeys(n[u],t[u])}return n}},45464:function(G,U,e){var g=e(25376),L=e(55756);G.exports={type:{valType:"enumerated",values:[],dflt:"scatter",editType:"calc+clearAxisTypes",_noTemplating:!0},visible:{valType:"enumerated",values:[!0,!1,"legendonly"],dflt:!0,editType:"calc"},showlegend:{valType:"boolean",dflt:!0,editType:"style"},legend:{valType:"subplotid",dflt:"legend",editType:"style"},legendgroup:{valType:"string",dflt:"",editType:"style"},legendgrouptitle:{text:{valType:"string",dflt:"",editType:"style"},font:g({editType:"style"}),editType:"style"},legendrank:{valType:"number",dflt:1e3,editType:"style"},legendwidth:{valType:"number",min:0,editType:"style"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"style"},name:{valType:"string",editType:"style"},uid:{valType:"string",editType:"plot",anim:!0},ids:{valType:"data_array",editType:"calc",anim:!0},customdata:{valType:"data_array",editType:"calc"},meta:{valType:"any",arrayOk:!0,editType:"plot"},selectedpoints:{valType:"any",editType:"calc"},hoverinfo:{valType:"flaglist",flags:["x","y","z","text","name"],extras:["all","none","skip"],arrayOk:!0,dflt:"all",editType:"none"},hoverlabel:L.hoverlabel,stream:{token:{valType:"string",noBlank:!0,strict:!0,editType:"calc"},maxpoints:{valType:"number",min:0,max:1e4,dflt:500,editType:"calc"},editType:"calc"},transforms:{_isLinkedToArray:"transform",editType:"calc"},uirevision:{valType:"any",editType:"none"}}},1220:function(G,U,e){var g=e(38248),L=e(3400),a=L.dateTime2ms,C=L.incrementMonth,A=e(39032),v=A.ONEAVGMONTH;G.exports=function(r,t,s,n){if(t.type!=="date")return{vals:n};var f=r[s+"periodalignment"];if(!f)return{vals:n};var u=r[s+"period"],l;if(g(u)){if(u=+u,u<=0)return{vals:n}}else if(typeof u=="string"&&u.charAt(0)==="M"){var m=+u.substring(1);if(m>0&&Math.round(m)===m)l=m;else return{vals:n}}for(var h=t.calendar,M=f==="start",c=f==="end",i=r[s+"period0"],d=a(i,h)||0,b=[],w=[],E=[],y=n.length,S=0;S<y;S++){var T=n[S],o,P,x;if(l){for(o=Math.round((T-d)/(l*v)),x=C(d,l*o,h);x>T;)x=C(x,-l,h);for(;x<=T;)x=C(x,l,h);P=C(x,-l,h)}else{for(o=Math.round((T-d)/u),x=d+o*u;x>T;)x-=u;for(;x<=T;)x+=u;P=x-u}b[S]=M?P:c?x:(P+x)/2,w[S]=P,E[S]=x}return{vals:b,starts:w,ends:E}}},26720:function(G){G.exports={xaxis:{valType:"subplotid",dflt:"x",editType:"calc+clearAxisTypes"},yaxis:{valType:"subplotid",dflt:"y",editType:"calc+clearAxisTypes"}}},19280:function(G,U,e){var g=e(33428),L=e(38248),a=e(3400),C=e(39032).FP_SAFE,A=e(24040),v=e(43616),p=e(79811),r=p.getFromId,t=p.isLinked;G.exports={applyAutorangeOptions:o,getAutoRange:s,makePadFn:f,doAutoRange:h,findExtremes:M,concatExtremes:m};function s(P,x){var _,I,N=[],k=P._fullLayout,F=f(k,x,0),O=f(k,x,1),z=m(P,x),B=z.min,W=z.max;if(B.length===0||W.length===0)return a.simpleMap(x.range,x.r2l);var q=B[0].val,ee=W[0].val;for(_=1;_<B.length&&q===ee;_++)q=Math.min(q,B[_].val);for(_=1;_<W.length&&q===ee;_++)ee=Math.max(ee,W[_].val);var Q=x.autorange,oe=Q==="reversed"||Q==="min reversed"||Q==="max reversed";if(!oe&&x.range){var Z=a.simpleMap(x.range,x.r2l);oe=Z[1]<Z[0]}x.autorange==="reversed"&&(x.autorange=!0);var Y=x.rangemode,te=Y==="tozero",X=Y==="nonnegative",$=x._length,ie=$/10,J=0,j,se,ne,le,pe,Ae;for(_=0;_<B.length;_++)for(j=B[_],I=0;I<W.length;I++)se=W[I],Ae=se.val-j.val-n(x,j.val,se.val),Ae>0&&(pe=$-F(j)-O(se),pe>ie?Ae/pe>J&&(ne=j,le=se,J=Ae/pe):Ae/$>J&&(ne={val:j.val,nopad:1},le={val:se.val,nopad:1},J=Ae/$));function be(Se,Fe){return Math.max(Se,O(Fe))}if(q===ee){var Re=q-1,xe=q+1;if(te)if(q===0)N=[0,1];else{var Me=(q>0?W:B).reduce(be,0),ye=q/(1-Math.min(.5,Me/$));N=q>0?[0,ye]:[ye,0]}else X?N=[Math.max(0,Re),Math.max(1,xe)]:N=[Re,xe]}else te?(ne.val>=0&&(ne={val:0,nopad:1}),le.val<=0&&(le={val:0,nopad:1})):X&&(ne.val-J*F(ne)<0&&(ne={val:0,nopad:1}),le.val<=0&&(le={val:1,nopad:1})),J=(le.val-ne.val-n(x,j.val,se.val))/($-F(ne)-O(le)),N=[ne.val-J*F(ne),le.val+J*O(le)];return N=o(N,x),x.limitRange&&x.limitRange(),oe&&N.reverse(),a.simpleMap(N,x.l2r||Number)}function n(P,x,_){var I=0;if(P.rangebreaks)for(var N=P.locateBreaks(x,_),k=0;k<N.length;k++){var F=N[k];I+=F.max-F.min}return I}function f(P,x,_){var I=.05*x._length,N=x._anchorAxis||{};if((x.ticklabelposition||"").indexOf("inside")!==-1||(N.ticklabelposition||"").indexOf("inside")!==-1){var k=x.isReversed();if(!k){var F=a.simpleMap(x.range,x.r2l);k=F[1]<F[0]}k&&(_=!_)}var O=0;return t(P,x._id)||(O=l(P,x,_)),I=Math.max(O,I),x.constrain==="domain"&&x._inputDomain&&(I*=(x._inputDomain[1]-x._inputDomain[0])/(x.domain[1]-x.domain[0])),function(B){return B.nopad?0:B.pad+(B.extrapad?I:O)}}var u=3;function l(P,x,_){var I=0,N=x._id.charAt(0)==="x";for(var k in P._plots){var F=P._plots[k];if(!(x._id!==F.xaxis._id&&x._id!==F.yaxis._id)){var O=(N?F.yaxis:F.xaxis)||{};if((O.ticklabelposition||"").indexOf("inside")!==-1&&(!_&&(O.side==="left"||O.side==="bottom")||_&&(O.side==="top"||O.side==="right"))){if(O._vals){var z=a.deg2rad(O._tickAngles[O._id+"tick"]||0),B=Math.abs(Math.cos(z)),W=Math.abs(Math.sin(z));if(!O._vals[0].bb){var q=O._id+"tick",ee=O._selections[q];ee.each(function(X){var $=g.select(this),ie=$.select(".text-math-group");ie.empty()&&(X.bb=v.bBox($.node()))})}for(var Q=0;Q<O._vals.length;Q++){var oe=O._vals[Q],Z=oe.bb;if(Z){var Y=2*u+Z.width,te=2*u+Z.height;I=Math.max(I,N?Math.max(Y*B,te*W):Math.max(te*B,Y*W))}}}O.ticks==="inside"&&O.ticklabelposition==="inside"&&(I+=O.ticklen||0)}}}return I}function m(P,x,_){var I=x._id,N=P._fullData,k=P._fullLayout,F=[],O=[],z,B,W;function q(Y,te){for(z=0;z<te.length;z++){var X=Y[te[z]],$=(X._extremes||{})[I];if(X.visible===!0&&$){for(B=0;B<$.min.length;B++)W=$.min[B],c(F,W.val,W.pad,{extrapad:W.extrapad});for(B=0;B<$.max.length;B++)W=$.max[B],i(O,W.val,W.pad,{extrapad:W.extrapad})}}}if(q(N,x._traceIndices),q(k.annotations||[],x._annIndices||[]),q(k.shapes||[],x._shapeIndices||[]),x._matchGroup&&!_){for(var ee in x._matchGroup)if(ee!==x._id){var Q=r(P,ee),oe=m(P,Q,!0),Z=x._length/Q._length;for(B=0;B<oe.min.length;B++)W=oe.min[B],c(F,W.val,W.pad*Z,{extrapad:W.extrapad});for(B=0;B<oe.max.length;B++)W=oe.max[B],i(O,W.val,W.pad*Z,{extrapad:W.extrapad})}}return{min:F,max:O}}function h(P,x,_){if(x.setScale(),x.autorange){x.range=_?_.slice():s(P,x),x._r=x.range.slice(),x._rl=a.simpleMap(x._r,x.r2l);var I=x._input,N={};N[x._attr+".range"]=x.range,N[x._attr+".autorange"]=x.autorange,A.call("_storeDirectGUIEdit",P.layout,P._fullLayout._preGUI,N),I.range=x.range.slice(),I.autorange=x.autorange}var k=x._anchorAxis;if(k&&k.rangeslider){var F=k.rangeslider[x._name];F&&F.rangemode==="auto"&&(F.range=s(P,x)),k._input.rangeslider[x._name]=a.extendFlat({},F)}}function M(P,x,_){_||(_={}),P._m||P.setScale();var I=[],N=[],k=x.length,F=_.padded||!1,O=_.tozero&&(P.type==="linear"||P.type==="-"),z=P.type==="log",B=!1,W=_.vpadLinearized||!1,q,ee,Q,oe,Z,Y,te,X,$;function ie(be){if(Array.isArray(be))return B=!0,function(xe){return Math.max(Number(be[xe]||0),0)};var Re=Math.max(Number(be||0),0);return function(){return Re}}var J=ie((P._m>0?_.ppadplus:_.ppadminus)||_.ppad||0),j=ie((P._m>0?_.ppadminus:_.ppadplus)||_.ppad||0),se=ie(_.vpadplus||_.vpad),ne=ie(_.vpadminus||_.vpad);if(!B){if(X=1/0,$=-1/0,z)for(q=0;q<k;q++)ee=x[q],ee<X&&ee>0&&(X=ee),ee>$&&ee<C&&($=ee);else for(q=0;q<k;q++)ee=x[q],ee<X&&ee>-C&&(X=ee),ee>$&&ee<C&&($=ee);x=[X,$],k=2}var le={tozero:O,extrapad:F};function pe(be){Q=x[be],L(Q)&&(Y=J(be),te=j(be),W?(oe=P.c2l(Q)-ne(be),Z=P.c2l(Q)+se(be)):(X=Q-ne(be),$=Q+se(be),z&&X<$/10&&(X=$/10),oe=P.c2l(X),Z=P.c2l($)),O&&(oe=Math.min(0,oe),Z=Math.max(0,Z)),b(oe)&&c(I,oe,te,le),b(Z)&&i(N,Z,Y,le))}var Ae=Math.min(6,k);for(q=0;q<Ae;q++)pe(q);for(q=k-1;q>=Ae;q--)pe(q);return{min:I,max:N,opts:_}}function c(P,x,_,I){d(P,x,_,I,w)}function i(P,x,_,I){d(P,x,_,I,E)}function d(P,x,_,I,N){for(var k=I.tozero,F=I.extrapad,O=!0,z=0;z<P.length&&O;z++){var B=P[z];if(N(B.val,x)&&B.pad>=_&&(B.extrapad||!F)){O=!1;break}else N(x,B.val)&&B.pad<=_&&(F||!B.extrapad)&&(P.splice(z,1),z--)}if(O){var W=k&&x===0;P.push({val:x,pad:W?0:_,extrapad:W?!1:F})}}function b(P){return L(P)&&Math.abs(P)<C}function w(P,x){return P<=x}function E(P,x){return P>=x}function y(P,x){var _=x.autorangeoptions;return _&&_.minallowed!==void 0&&T(x,_.minallowed,_.maxallowed)?_.minallowed:_&&_.clipmin!==void 0&&T(x,_.clipmin,_.clipmax)?Math.max(P,x.d2l(_.clipmin)):P}function S(P,x){var _=x.autorangeoptions;return _&&_.maxallowed!==void 0&&T(x,_.minallowed,_.maxallowed)?_.maxallowed:_&&_.clipmax!==void 0&&T(x,_.clipmin,_.clipmax)?Math.min(P,x.d2l(_.clipmax)):P}function T(P,x,_){return x!==void 0&&_!==void 0?(x=P.d2l(x),_=P.d2l(_),x<_):!0}function o(P,x){if(!x||!x.autorangeoptions)return P;var _=P[0],I=P[1],N=x.autorangeoptions.include;if(N!==void 0){var k=x.d2l(_),F=x.d2l(I);a.isArrayOrTypedArray(N)||(N=[N]);for(var O=0;O<N.length;O++){var z=x.d2l(N[O]);k>=z&&(k=z,_=z),F<=z&&(F=z,I=z)}}return _=y(_,x),I=S(I,x),[_,I]}},76808:function(G){G.exports=function(e,g,L){var a,C;if(L){var A=g==="reversed"||g==="min reversed"||g==="max reversed";a=L[A?1:0],C=L[A?0:1]}var v=e("autorangeoptions.minallowed",C===null?a:void 0),p=e("autorangeoptions.maxallowed",a===null?C:void 0);v===void 0&&e("autorangeoptions.clipmin"),p===void 0&&e("autorangeoptions.clipmax"),e("autorangeoptions.include")}},54460:function(G,U,e){var g=e(33428),L=e(38248),a=e(7316),C=e(24040),A=e(3400),v=A.strTranslate,p=e(72736),r=e(81668),t=e(76308),s=e(43616),n=e(94724),f=e(98728),u=e(39032),l=u.ONEMAXYEAR,m=u.ONEAVGYEAR,h=u.ONEMINYEAR,M=u.ONEMAXQUARTER,c=u.ONEAVGQUARTER,i=u.ONEMINQUARTER,d=u.ONEMAXMONTH,b=u.ONEAVGMONTH,w=u.ONEMINMONTH,E=u.ONEWEEK,y=u.ONEDAY,S=y/2,T=u.ONEHOUR,o=u.ONEMIN,P=u.ONESEC,x=u.MINUS_SIGN,_=u.BADNUM,I={K:"zeroline"},N={K:"gridline",L:"path"},k={K:"minor-gridline",L:"path"},F={K:"tick",L:"path"},O={K:"tick",L:"text"},z={width:["x","r","l","xl","xr"],height:["y","t","b","yt","yb"],right:["r","xr"],left:["l","xl"],top:["t","yt"],bottom:["b","yb"]},B=e(84284),W=B.MID_SHIFT,q=B.CAP_SHIFT,ee=B.LINE_SPACING,Q=B.OPPOSITE_SIDE,oe=3,Z=G.exports={};Z.setConvert=e(78344);var Y=e(52976),te=e(79811),X=te.idSort,$=te.isLinked;Z.id2name=te.id2name,Z.name2id=te.name2id,Z.cleanId=te.cleanId,Z.list=te.list,Z.listIds=te.listIds,Z.getFromId=te.getFromId,Z.getFromTrace=te.getFromTrace;var ie=e(19280);Z.getAutoRange=ie.getAutoRange,Z.findExtremes=ie.findExtremes;var J=1e-4;function j(Ge){var Ve=(Ge[1]-Ge[0])*J;return[Ge[0]-Ve,Ge[1]+Ve]}Z.coerceRef=function(Ge,Ve,Ot,Ft,Kt,rr){var ur=Ft.charAt(Ft.length-1),ar=Ot._fullLayout._subplots[ur+"axis"],Bt=Ft+"ref",hr={};return Kt||(Kt=ar[0]||(typeof rr=="string"?rr:rr[0])),rr||(rr=Kt),ar=ar.concat(ar.map(function(gr){return gr+" domain"})),hr[Bt]={valType:"enumerated",values:ar.concat(rr?typeof rr=="string"?[rr]:rr:[]),dflt:Kt},A.coerce(Ge,Ve,hr,Bt)},Z.getRefType=function(Ge){return Ge===void 0?Ge:Ge==="paper"?"paper":Ge==="pixel"?"pixel":/( domain)$/.test(Ge)?"domain":"range"},Z.coercePosition=function(Ge,Ve,Ot,Ft,Kt,rr){var ur,ar,Bt=Z.getRefType(Ft);if(Bt!=="range")ur=A.ensureNumber,ar=Ot(Kt,rr);else{var hr=Z.getFromId(Ve,Ft);rr=hr.fraction2r(rr),ar=Ot(Kt,rr),ur=hr.cleanPos}Ge[Kt]=ur(ar)},Z.cleanPosition=function(Ge,Ve,Ot){var Ft=Ot==="paper"||Ot==="pixel"?A.ensureNumber:Z.getFromId(Ve,Ot).cleanPos;return Ft(Ge)},Z.redrawComponents=function(Ge,Ve){Ve=Ve||Z.listIds(Ge);var Ot=Ge._fullLayout;function Ft(Kt,rr,ur,ar){for(var Bt=C.getComponentMethod(Kt,rr),hr={},gr=0;gr<Ve.length;gr++)for(var mr=Ot[Z.id2name(Ve[gr])],vr=mr[ur],Gr=0;Gr<vr.length;Gr++){var Rr=vr[Gr];if(!hr[Rr]&&(Bt(Ge,Rr),hr[Rr]=1,ar))return}}Ft("annotations","drawOne","_annIndices"),Ft("shapes","drawOne","_shapeIndices"),Ft("images","draw","_imgIndices",!0),Ft("selections","drawOne","_selectionIndices")};var se=Z.getDataConversions=function(Ge,Ve,Ot,Ft){var Kt,rr=Ot==="x"||Ot==="y"||Ot==="z"?Ot:Ft;if(A.isArrayOrTypedArray(rr)){if(Kt={type:Y(Ft,void 0,{autotypenumbers:Ge._fullLayout.autotypenumbers}),_categories:[]},Z.setConvert(Kt),Kt.type==="category")for(var ur=0;ur<Ft.length;ur++)Kt.d2c(Ft[ur])}else Kt=Z.getFromTrace(Ge,Ve,rr);return Kt?{d2c:Kt.d2c,c2d:Kt.c2d}:rr==="ids"?{d2c:le,c2d:le}:{d2c:ne,c2d:ne}};function ne(Ge){return+Ge}function le(Ge){return String(Ge)}Z.getDataToCoordFunc=function(Ge,Ve,Ot,Ft){return se(Ge,Ve,Ot,Ft).d2c},Z.counterLetter=function(Ge){var Ve=Ge.charAt(0);if(Ve==="x")return"y";if(Ve==="y")return"x"},Z.minDtick=function(Ge,Ve,Ot,Ft){["log","category","multicategory"].indexOf(Ge.type)!==-1||!Ft?Ge._minDtick=0:Ge._minDtick===void 0?(Ge._minDtick=Ve,Ge._forceTick0=Ot):Ge._minDtick&&((Ge._minDtick/Ve+1e-6)%1<2e-6&&((Ot-Ge._forceTick0)/Ve%1+1.000001)%1<2e-6?(Ge._minDtick=Ve,Ge._forceTick0=Ot):((Ve/Ge._minDtick+1e-6)%1>2e-6||((Ot-Ge._forceTick0)/Ge._minDtick%1+1.000001)%1>2e-6)&&(Ge._minDtick=0))},Z.saveRangeInitial=function(Ge,Ve){for(var Ot=Z.list(Ge,"",!0),Ft=!1,Kt=0;Kt<Ot.length;Kt++){var rr=Ot[Kt],ur=rr._rangeInitial0===void 0&&rr._rangeInitial1===void 0,ar=ur||rr.range[0]!==rr._rangeInitial0||rr.range[1]!==rr._rangeInitial1,Bt=rr.autorange;(ur&&Bt!==!0||Ve&&ar)&&(rr._rangeInitial0=Bt==="min"||Bt==="max reversed"?void 0:rr.range[0],rr._rangeInitial1=Bt==="max"||Bt==="min reversed"?void 0:rr.range[1],rr._autorangeInitial=Bt,Ft=!0)}return Ft},Z.saveShowSpikeInitial=function(Ge,Ve){for(var Ot=Z.list(Ge,"",!0),Ft=!1,Kt="on",rr=0;rr<Ot.length;rr++){var ur=Ot[rr],ar=ur._showSpikeInitial===void 0,Bt=ar||ur.showspikes!==ur._showspikes;(ar||Ve&&Bt)&&(ur._showSpikeInitial=ur.showspikes,Ft=!0),Kt==="on"&&!ur.showspikes&&(Kt="off")}return Ge._fullLayout._cartesianSpikesEnabled=Kt,Ft},Z.autoBin=function(Ge,Ve,Ot,Ft,Kt,rr){var ur=A.aggNums(Math.min,null,Ge),ar=A.aggNums(Math.max,null,Ge);if(Ve.type==="category"||Ve.type==="multicategory")return{start:ur-.5,end:ar+.5,size:Math.max(1,Math.round(rr)||1),_dataSpan:ar-ur};Kt||(Kt=Ve.calendar);var Bt;if(Ve.type==="log"?Bt={type:"linear",range:[ur,ar]}:Bt={type:Ve.type,range:A.simpleMap([ur,ar],Ve.c2r,0,Kt),calendar:Kt},Z.setConvert(Bt),rr=rr&&f.dtick(rr,Bt.type),rr)Bt.dtick=rr,Bt.tick0=f.tick0(void 0,Bt.type,Kt);else{var hr;if(Ot)hr=(ar-ur)/Ot;else{var gr=A.distinctVals(Ge),mr=Math.pow(10,Math.floor(Math.log(gr.minDiff)/Math.LN10)),vr=mr*A.roundUp(gr.minDiff/mr,[.9,1.9,4.9,9.9],!0);hr=Math.max(vr,2*A.stdev(Ge)/Math.pow(Ge.length,Ft?.25:.4)),L(hr)||(hr=1)}Z.autoTicks(Bt,hr)}var Gr=Bt.dtick,Rr=Z.tickIncrement(Z.tickFirst(Bt),Gr,"reverse",Kt),Ir,cn;if(typeof Gr=="number")Rr=pe(Rr,Ge,Bt,ur,ar),cn=1+Math.floor((ar-Rr)/Gr),Ir=Rr+cn*Gr;else for(Bt.dtick.charAt(0)==="M"&&(Rr=Ae(Rr,Ge,Gr,ur,Kt)),Ir=Rr,cn=0;Ir<=ar;)Ir=Z.tickIncrement(Ir,Gr,!1,Kt),cn++;return{start:Ve.c2r(Rr,0,Kt),end:Ve.c2r(Ir,0,Kt),size:Gr,_dataSpan:ar-ur}};function pe(Ge,Ve,Ot,Ft,Kt){var rr=0,ur=0,ar=0,Bt=0;function hr(Gr){return(1+(Gr-Ge)*100/Ot.dtick)%100<2}for(var gr=0;gr<Ve.length;gr++)Ve[gr]%1===0?ar++:L(Ve[gr])||Bt++,hr(Ve[gr])&&rr++,hr(Ve[gr]+Ot.dtick/2)&&ur++;var mr=Ve.length-Bt;if(ar===mr&&Ot.type!=="date")Ot.dtick<1?Ge=Ft-.5*Ot.dtick:(Ge-=.5,Ge+Ot.dtick<Ft&&(Ge+=Ot.dtick));else if(ur<mr*.1&&(rr>mr*.3||hr(Ft)||hr(Kt))){var vr=Ot.dtick/2;Ge+=Ge+vr<Ft?vr:-vr}return Ge}function Ae(Ge,Ve,Ot,Ft,Kt){var rr=A.findExactDates(Ve,Kt),ur=.8;if(rr.exactDays>ur){var ar=Number(Ot.substr(1));rr.exactYears>ur&&ar%12===0?Ge=Z.tickIncrement(Ge,"M6","reverse")+y*1.5:rr.exactMonths>ur?Ge=Z.tickIncrement(Ge,"M1","reverse")+y*15.5:Ge-=S;var Bt=Z.tickIncrement(Ge,Ot);if(Bt<=Ft)return Bt}return Ge}Z.prepMinorTicks=function(Ge,Ve,Ot){if(!Ve.minor.dtick){delete Ge.dtick;var Ft=Ve.dtick&&L(Ve._tmin),Kt;if(Ft){var rr=Z.tickIncrement(Ve._tmin,Ve.dtick,!0);Kt=[Ve._tmin,rr*.99+Ve._tmin*.01]}else{var ur=A.simpleMap(Ve.range,Ve.r2l);Kt=[ur[0],.8*ur[0]+.2*ur[1]]}if(Ge.range=A.simpleMap(Kt,Ve.l2r),Ge._isMinor=!0,Z.prepTicks(Ge,Ot),Ft){var ar=L(Ve.dtick),Bt=L(Ge.dtick),hr=ar?Ve.dtick:+Ve.dtick.substring(1),gr=Bt?Ge.dtick:+Ge.dtick.substring(1);ar&&Bt?be(hr,gr)?hr===2*E&&gr===2*y&&(Ge.dtick=E):hr===2*E&&gr===3*y?Ge.dtick=E:hr===E&&!(Ve._input.minor||{}).nticks?Ge.dtick=y:Re(hr/gr,2.5)?Ge.dtick=hr/2:Ge.dtick=hr:String(Ve.dtick).charAt(0)==="M"?Bt?Ge.dtick="M1":be(hr,gr)?hr>=12&&gr===2&&(Ge.dtick="M3"):Ge.dtick=Ve.dtick:String(Ge.dtick).charAt(0)==="L"?String(Ve.dtick).charAt(0)==="L"?be(hr,gr)||(Ge.dtick=Re(hr/gr,2.5)?Ve.dtick/2:Ve.dtick):Ge.dtick="D1":Ge.dtick==="D2"&&+Ve.dtick>1&&(Ge.dtick=1)}Ge.range=Ve.range}Ve.minor._tick0Init===void 0&&(Ge.tick0=Ve.tick0)};function be(Ge,Ve){return Math.abs((Ge/Ve+.5)%1-.5)<.001}function Re(Ge,Ve){return Math.abs(Ge/Ve-1)<.001}Z.prepTicks=function(Ge,Ve){var Ot=A.simpleMap(Ge.range,Ge.r2l,void 0,void 0,Ve);if(Ge.tickmode==="auto"||!Ge.dtick){var Ft=Ge.nticks,Kt;Ft||(Ge.type==="category"||Ge.type==="multicategory"?(Kt=Ge.tickfont?A.bigFont(Ge.tickfont.size||12):15,Ft=Ge._length/Kt):(Kt=Ge._id.charAt(0)==="y"?40:80,Ft=A.constrain(Ge._length/Kt,4,9)+1),Ge._name==="radialaxis"&&(Ft*=2)),Ge.minor&&Ge.minor.tickmode!=="array"||Ge.tickmode==="array"&&(Ft*=100),Ge._roughDTick=Math.abs(Ot[1]-Ot[0])/Ft,Z.autoTicks(Ge,Ge._roughDTick),Ge._minDtick>0&&Ge.dtick<Ge._minDtick*2&&(Ge.dtick=Ge._minDtick,Ge.tick0=Ge.l2r(Ge._forceTick0))}Ge.ticklabelmode==="period"&&Me(Ge),Ge.tick0||(Ge.tick0=Ge.type==="date"?"2000-01-01":0),Ge.type==="date"&&Ge.dtick<.1&&(Ge.dtick=.1),pt(Ge)};function xe(Ge){return+Ge.substring(1)}function Me(Ge){var Ve;function Ot(){return!(L(Ge.dtick)||Ge.dtick.charAt(0)!=="M")}var Ft=Ot(),Kt=Z.getTickFormat(Ge);if(Kt){var rr=Ge._dtickInit!==Ge.dtick;/%[fLQsSMX]/.test(Kt)||(/%[HI]/.test(Kt)?(Ve=T,rr&&!Ft&&Ge.dtick<T&&(Ge.dtick=T)):/%p/.test(Kt)?(Ve=S,rr&&!Ft&&Ge.dtick<S&&(Ge.dtick=S)):/%[Aadejuwx]/.test(Kt)?(Ve=y,rr&&!Ft&&Ge.dtick<y&&(Ge.dtick=y)):/%[UVW]/.test(Kt)?(Ve=E,rr&&!Ft&&Ge.dtick<E&&(Ge.dtick=E)):/%[Bbm]/.test(Kt)?(Ve=b,rr&&(Ft?xe(Ge.dtick)<1:Ge.dtick<w)&&(Ge.dtick="M1")):/%[q]/.test(Kt)?(Ve=c,rr&&(Ft?xe(Ge.dtick)<3:Ge.dtick<i)&&(Ge.dtick="M3")):/%[Yy]/.test(Kt)&&(Ve=m,rr&&(Ft?xe(Ge.dtick)<12:Ge.dtick<h)&&(Ge.dtick="M12")))}Ft=Ot(),Ft&&Ge.tick0===Ge._dowTick0&&(Ge.tick0=Ge._rawTick0),Ge._definedDelta=Ve}function ye(Ge,Ve,Ot){for(var Ft=0;Ft<Ge.length;Ft++){var Kt=Ge[Ft].value,rr=Ft,ur=Ft+1;Ft<Ge.length-1?(rr=Ft,ur=Ft+1):Ft>0?(rr=Ft-1,ur=Ft):(rr=Ft,ur=Ft);var ar=Ge[rr].value,Bt=Ge[ur].value,hr=Math.abs(Bt-ar),gr=Ot||hr,mr=0;gr>=h?hr>=h&&hr<=l?mr=hr:mr=m:Ot===c&&gr>=i?hr>=i&&hr<=M?mr=hr:mr=c:gr>=w?hr>=w&&hr<=d?mr=hr:mr=b:Ot===E&&gr>=E?mr=E:gr>=y?mr=y:Ot===S&&gr>=S?mr=S:Ot===T&&gr>=T&&(mr=T);var vr;mr>=hr&&(mr=hr,vr=!0);var Gr=Kt+mr;if(Ve.rangebreaks&&mr>0){for(var Rr=84,Ir=0,cn=0;cn<Rr;cn++){var rn=(cn+.5)/Rr;Ve.maskBreaks(Kt*(1-rn)+rn*Gr)!==_&&Ir++}mr*=Ir/Rr,mr||(Ge[Ft].drop=!0),vr&&hr>E&&(mr=hr)}(mr>0||Ft===0)&&(Ge[Ft].periodX=Kt+mr/2)}}Z.calcTicks=function(Ve,Ot){for(var Ft=Ve.type,Kt=Ve.calendar,rr=Ve.ticklabelstep,ur=Ve.ticklabelmode==="period",ar=A.simpleMap(Ve.range,Ve.r2l,void 0,void 0,Ot),Bt=ar[1]<ar[0],hr=Math.min(ar[0],ar[1]),gr=Math.max(ar[0],ar[1]),mr=Math.max(1e3,Ve._length||0),vr=[],Gr=[],Rr=[],Ir=[],cn=Ve.minor&&(Ve.minor.ticks||Ve.minor.showgrid),rn=1;rn>=(cn?0:1);rn--){var Ln=!rn;rn?(Ve._dtickInit=Ve.dtick,Ve._tick0Init=Ve.tick0):(Ve.minor._dtickInit=Ve.minor.dtick,Ve.minor._tick0Init=Ve.minor.tick0);var En=rn?Ve:A.extendFlat({},Ve,Ve.minor);if(Ln?Z.prepMinorTicks(En,Ve,Ot):Z.prepTicks(En,Ot),En.tickmode==="array"){rn?(Rr=[],vr=Be(Ve,!Ln)):(Ir=[],Gr=Be(Ve,!Ln));continue}if(En.tickmode==="sync"){Rr=[],vr=Fe(Ve);continue}var Tr=j(ar),Lr=Tr[0],Wr=Tr[1],Ur=L(En.dtick),an=Ft==="log"&&!(Ur||En.dtick.charAt(0)==="L"),pn=Z.tickFirst(En,Ot);if(rn){if(Ve._tmin=pn,pn<Lr!==Bt)break;(Ft==="category"||Ft==="multicategory")&&(Wr=Bt?Math.max(-.5,Wr):Math.min(Ve._categories.length-.5,Wr))}var gn=null,Cn=pn,zn;if(rn){var aa;Ur?aa=Ve.dtick:Ft==="date"?typeof Ve.dtick=="string"&&Ve.dtick.charAt(0)==="M"&&(aa=b*Ve.dtick.substring(1)):aa=Ve._roughDTick,zn=Math.round((Ve.r2l(Cn)-Ve.r2l(Ve.tick0))/aa)-1}var ha=En.dtick;for(En.rangebreaks&&En._tick0Init!==En.tick0&&(Cn=Nt(Cn,Ve),Bt||(Cn=Z.tickIncrement(Cn,ha,!Bt,Kt))),rn&&ur&&(Cn=Z.tickIncrement(Cn,ha,!Bt,Kt),zn--);Bt?Cn>=Wr:Cn<=Wr;Cn=Z.tickIncrement(Cn,ha,Bt,Kt)){if(rn&&zn++,En.rangebreaks&&!Bt){if(Cn<Lr)continue;if(En.maskBreaks(Cn)===_&&Nt(Cn,En)>=gr)break}if(Rr.length>mr||Cn===gn)break;gn=Cn;var pa={value:Cn};rn?(an&&Cn!==(Cn|0)&&(pa.simpleLabel=!0),rr>1&&zn%rr&&(pa.skipLabel=!0),Rr.push(pa)):(pa.minor=!0,Ir.push(pa))}}if(cn){var ua=Ve.minor.ticks==="inside"&&Ve.ticks==="outside"||Ve.minor.ticks==="outside"&&Ve.ticks==="inside";if(!ua){for(var na=Rr.map(function(hn){return hn.value}),br=[],nn=0;nn<Ir.length;nn++){var $r=Ir[nn],dn=$r.value;if(na.indexOf(dn)===-1){for(var Hn=!1,Tn=0;!Hn&&Tn<Rr.length;Tn++)1e7+Rr[Tn].value===1e7+dn&&(Hn=!0);Hn||br.push($r)}}Ir=br}}ur&&ye(Rr,Ve,Ve._definedDelta);var An;if(Ve.rangebreaks){var Nn=Ve._id.charAt(0)==="y",Qn=1;Ve.tickmode==="auto"&&(Qn=Ve.tickfont?Ve.tickfont.size:12);var ya=NaN;for(An=Rr.length-1;An>-1;An--){if(Rr[An].drop){Rr.splice(An,1);continue}Rr[An].value=Nt(Rr[An].value,Ve);var Ia=Ve.c2p(Rr[An].value);(Nn?ya>Ia-Qn:ya<Ia+Qn)?Rr.splice(Bt?An+1:An,1):ya=Ia}}Vt(Ve)&&Math.abs(ar[1]-ar[0])===360&&Rr.pop(),Ve._tmax=(Rr[Rr.length-1]||{}).value,Ve._prevDateHead="",Ve._inCalcTicks=!0;var Sr,zr=function(hn){hn.text="",Ve._prevDateHead=Sr};Rr=Rr.concat(Ir);var Ar,Or;for(An=0;An<Rr.length;An++){var xn=Rr[An].minor,_n=Rr[An].value;xn?Gr.push({x:_n,minor:!0}):(Sr=Ve._prevDateHead,Ar=Z.tickText(Ve,_n,!1,Rr[An].simpleLabel),Or=Rr[An].periodX,Or!==void 0&&(Ar.periodX=Or,(Or>gr||Or<hr)&&(Or>gr&&(Ar.periodX=gr),Or<hr&&(Ar.periodX=hr),zr(Ar))),Rr[An].skipLabel&&zr(Ar),vr.push(Ar))}return vr=vr.concat(Gr),Ve._inCalcTicks=!1,ur&&vr.length&&(vr[0].noTick=!0),vr};function Se(Ge,Ve){return Ge.rangebreaks&&(Ve=Ve.filter(function(Ot){return Ge.maskBreaks(Ot.x)!==_})),Ve}function Fe(Ge){var Ve=Ge._mainAxis,Ot=[];if(Ve._vals){for(var Ft=0;Ft<Ve._vals.length;Ft++)if(!Ve._vals[Ft].noTick){var Kt=Ve.l2p(Ve._vals[Ft].x),rr=Ge.p2l(Kt),ur=Z.tickText(Ge,rr);Ve._vals[Ft].minor&&(ur.minor=!0,ur.text=""),Ot.push(ur)}}return Ot=Se(Ge,Ot),Ot}function Be(Ge,Ve){var Ot=A.simpleMap(Ge.range,Ge.r2l),Ft=j(Ot),Kt=Math.min(Ft[0],Ft[1]),rr=Math.max(Ft[0],Ft[1]),ur=Ge.type==="category"?Ge.d2l_noadd:Ge.d2l;Ge.type==="log"&&String(Ge.dtick).charAt(0)!=="L"&&(Ge.dtick="L"+Math.pow(10,Math.floor(Math.min(Ge.range[0],Ge.range[1]))-1));for(var ar=[],Bt=0;Bt<=1;Bt++)if(!(Ve!==void 0&&(Ve&&Bt||Ve===!1&&!Bt))&&!(Bt&&!Ge.minor)){var hr=Bt?Ge.minor.tickvals:Ge.tickvals,gr=Bt?[]:Ge.ticktext;if(!!hr){A.isArrayOrTypedArray(gr)||(gr=[]);for(var mr=0;mr<hr.length;mr++){var vr=ur(hr[mr]);if(vr>Kt&&vr<rr){var Gr=Z.tickText(Ge,vr,!1,String(gr[mr]));Bt&&(Gr.minor=!0,Gr.text=""),ar.push(Gr)}}}}return ar=Se(Ge,ar),ar}var _e=[2,5,10],Ue=[1,2,3,6,12],it=[1,2,5,10,15,30],lt=[1,2,3,7,14],$e=[-.046,0,.301,.477,.602,.699,.778,.845,.903,.954,1],qe=[-.301,0,.301,.699,1],ft=[15,30,45,90,180];function ct(Ge,Ve,Ot){return Ve*A.roundUp(Ge/Ve,Ot)}Z.autoTicks=function(Ge,Ve,Ot){var Ft;function Kt(mr){return Math.pow(mr,Math.floor(Math.log(Ve)/Math.LN10))}if(Ge.type==="date"){Ge.tick0=A.dateTick0(Ge.calendar,0);var rr=2*Ve;if(rr>m)Ve/=m,Ft=Kt(10),Ge.dtick="M"+12*ct(Ve,Ft,_e);else if(rr>b)Ve/=b,Ge.dtick="M"+ct(Ve,1,Ue);else if(rr>y){if(Ge.dtick=ct(Ve,y,Ge._hasDayOfWeekBreaks?[1,2,7,14]:lt),!Ot){var ur=Z.getTickFormat(Ge),ar=Ge.ticklabelmode==="period";ar&&(Ge._rawTick0=Ge.tick0),/%[uVW]/.test(ur)?Ge.tick0=A.dateTick0(Ge.calendar,2):Ge.tick0=A.dateTick0(Ge.calendar,1),ar&&(Ge._dowTick0=Ge.tick0)}}else rr>T?Ge.dtick=ct(Ve,T,Ue):rr>o?Ge.dtick=ct(Ve,o,it):rr>P?Ge.dtick=ct(Ve,P,it):(Ft=Kt(10),Ge.dtick=ct(Ve,Ft,_e))}else if(Ge.type==="log"){Ge.tick0=0;var Bt=A.simpleMap(Ge.range,Ge.r2l);if(Ge._isMinor&&(Ve*=1.5),Ve>.7)Ge.dtick=Math.ceil(Ve);else if(Math.abs(Bt[1]-Bt[0])<1){var hr=1.5*Math.abs((Bt[1]-Bt[0])/Ve);Ve=Math.abs(Math.pow(10,Bt[1])-Math.pow(10,Bt[0]))/hr,Ft=Kt(10),Ge.dtick="L"+ct(Ve,Ft,_e)}else Ge.dtick=Ve>.3?"D2":"D1"}else Ge.type==="category"||Ge.type==="multicategory"?(Ge.tick0=0,Ge.dtick=Math.ceil(Math.max(Ve,1))):Vt(Ge)?(Ge.tick0=0,Ft=1,Ge.dtick=ct(Ve,Ft,ft)):(Ge.tick0=0,Ft=Kt(10),Ge.dtick=ct(Ve,Ft,_e));if(Ge.dtick===0&&(Ge.dtick=1),!L(Ge.dtick)&&typeof Ge.dtick!="string"){var gr=Ge.dtick;throw Ge.dtick=1,"ax.dtick error: "+String(gr)}};function pt(Ge){var Ve=Ge.dtick;if(Ge._tickexponent=0,!L(Ve)&&typeof Ve!="string"&&(Ve=1),(Ge.type==="category"||Ge.type==="multicategory")&&(Ge._tickround=null),Ge.type==="date"){var Ot=Ge.r2l(Ge.tick0),Ft=Ge.l2r(Ot).replace(/(^-|i)/g,""),Kt=Ft.length;if(String(Ve).charAt(0)==="M")Kt>10||Ft.substr(5)!=="01-01"?Ge._tickround="d":Ge._tickround=+Ve.substr(1)%12===0?"y":"m";else if(Ve>=y&&Kt<=10||Ve>=y*15)Ge._tickround="d";else if(Ve>=o&&Kt<=16||Ve>=T)Ge._tickround="M";else if(Ve>=P&&Kt<=19||Ve>=o)Ge._tickround="S";else{var rr=Ge.l2r(Ot+Ve).replace(/^-/,"").length;Ge._tickround=Math.max(Kt,rr)-20,Ge._tickround<0&&(Ge._tickround=4)}}else if(L(Ve)||Ve.charAt(0)==="L"){var ur=Ge.range.map(Ge.r2d||Number);L(Ve)||(Ve=Number(Ve.substr(1))),Ge._tickround=2-Math.floor(Math.log(Ve)/Math.LN10+.01);var ar=Math.max(Math.abs(ur[0]),Math.abs(ur[1])),Bt=Math.floor(Math.log(ar)/Math.LN10+.01),hr=Ge.minexponent===void 0?3:Ge.minexponent;Math.abs(Bt)>hr&&(ge(Ge.exponentformat)&&!Ee(Bt)?Ge._tickexponent=3*Math.round((Bt-1)/3):Ge._tickexponent=Bt)}else Ge._tickround=null}Z.tickIncrement=function(Ge,Ve,Ot,Ft){var Kt=Ot?-1:1;if(L(Ve))return A.increment(Ge,Kt*Ve);var rr=Ve.charAt(0),ur=Kt*Number(Ve.substr(1));if(rr==="M")return A.incrementMonth(Ge,ur,Ft);if(rr==="L")return Math.log(Math.pow(10,Ge)+ur)/Math.LN10;if(rr==="D"){var ar=Ve==="D2"?qe:$e,Bt=Ge+Kt*.01,hr=A.roundUp(A.mod(Bt,1),ar,Ot);return Math.floor(Bt)+Math.log(g.round(Math.pow(10,hr),1))/Math.LN10}throw"unrecognized dtick "+String(Ve)},Z.tickFirst=function(Ge,Ve){var Ot=Ge.r2l||Number,Ft=A.simpleMap(Ge.range,Ot,void 0,void 0,Ve),Kt=Ft[1]<Ft[0],rr=Kt?Math.floor:Math.ceil,ur=j(Ft)[0],ar=Ge.dtick,Bt=Ot(Ge.tick0);if(L(ar)){var hr=rr((ur-Bt)/ar)*ar+Bt;return(Ge.type==="category"||Ge.type==="multicategory")&&(hr=A.constrain(hr,0,Ge._categories.length-1)),hr}var gr=ar.charAt(0),mr=Number(ar.substr(1));if(gr==="M"){for(var vr=0,Gr=Bt,Rr,Ir,cn;vr<10;){if(Rr=Z.tickIncrement(Gr,ar,Kt,Ge.calendar),(Rr-ur)*(Gr-ur)<=0)return Kt?Math.min(Gr,Rr):Math.max(Gr,Rr);Ir=(ur-(Gr+Rr)/2)/(Rr-Gr),cn=gr+(Math.abs(Math.round(Ir))||1)*mr,Gr=Z.tickIncrement(Gr,cn,Ir<0?!Kt:Kt,Ge.calendar),vr++}return A.error("tickFirst did not converge",Ge),Gr}else{if(gr==="L")return Math.log(rr((Math.pow(10,ur)-Bt)/mr)*mr+Bt)/Math.LN10;if(gr==="D"){var rn=ar==="D2"?qe:$e,Ln=A.roundUp(A.mod(ur,1),rn,Kt);return Math.floor(ur)+Math.log(g.round(Math.pow(10,Ln),1))/Math.LN10}else throw"unrecognized dtick "+String(ar)}},Z.tickText=function(Ge,Ve,Ot,Ft){var Kt=yt(Ge,Ve),rr=Ge.tickmode==="array",ur=Ot||rr,ar=Ge.type,Bt=ar==="category"?Ge.d2l_noadd:Ge.d2l,hr,gr=function(cn){var rn=Ge.l2p(cn);return rn>=0&&rn<=Ge._length?cn:null};if(rr&&A.isArrayOrTypedArray(Ge.ticktext)){var mr=A.simpleMap(Ge.range,Ge.r2l),vr=(Math.abs(mr[1]-mr[0])-(Ge._lBreaks||0))/1e4;for(hr=0;hr<Ge.ticktext.length&&!(Math.abs(Ve-Bt(Ge.tickvals[hr]))<vr);hr++);if(hr<Ge.ticktext.length)return Kt.text=String(Ge.ticktext[hr]),Kt.xbnd=[gr(Kt.x-.5),gr(Kt.x+Ge.dtick-.5)],Kt}function Gr(cn){if(cn===void 0)return!0;if(Ot)return cn==="none";var rn={first:Ge._tmin,last:Ge._tmax}[cn];return cn!=="all"&&Ve!==rn}var Rr=Ot?"never":Ge.exponentformat!=="none"&&Gr(Ge.showexponent)?"hide":"";if(ar==="date"?Et(Ge,Kt,Ot,ur):ar==="log"?tt(Ge,Kt,Ot,ur,Rr):ar==="category"?Ie(Ge,Kt):ar==="multicategory"?We(Ge,Kt,Ot):Vt(Ge)?He(Ge,Kt,Ot,ur,Rr):Ze(Ge,Kt,Ot,ur,Rr),Ft||(Ge.tickprefix&&!Gr(Ge.showtickprefix)&&(Kt.text=Ge.tickprefix+Kt.text),Ge.ticksuffix&&!Gr(Ge.showticksuffix)&&(Kt.text+=Ge.ticksuffix)),Ge.labelalias&&Ge.labelalias.hasOwnProperty(Kt.text)){var Ir=Ge.labelalias[Kt.text];typeof Ir=="string"&&(Kt.text=Ir)}return(Ge.tickson==="boundaries"||Ge.showdividers)&&(Kt.xbnd=[gr(Kt.x-.5),gr(Kt.x+Ge.dtick-.5)]),Kt},Z.hoverLabelText=function(Ge,Ve,Ot){Ot&&(Ge=A.extendFlat({},Ge,{hoverformat:Ot}));var Ft=A.isArrayOrTypedArray(Ve)?Ve[0]:Ve,Kt=A.isArrayOrTypedArray(Ve)?Ve[1]:void 0;if(Kt!==void 0&&Kt!==Ft)return Z.hoverLabelText(Ge,Ft,Ot)+" - "+Z.hoverLabelText(Ge,Kt,Ot);var rr=Ge.type==="log"&&Ft<=0,ur=Z.tickText(Ge,Ge.c2l(rr?-Ft:Ft),"hover").text;return rr?Ft===0?"0":x+ur:ur};function yt(Ge,Ve,Ot){var Ft=Ge.tickfont||{};return{x:Ve,dx:0,dy:0,text:Ot||"",fontSize:Ft.size,font:Ft.family,fontColor:Ft.color}}function Et(Ge,Ve,Ot,Ft){var Kt=Ge._tickround,rr=Ot&&Ge.hoverformat||Z.getTickFormat(Ge);Ft=!rr&&Ft,Ft&&(L(Kt)?Kt=4:Kt={y:"m",m:"d",d:"M",M:"S",S:4}[Kt]);var ur=A.formatDate(Ve.x,rr,Kt,Ge._dateFormat,Ge.calendar,Ge._extraFormat),ar,Bt=ur.indexOf(`
`);if(Bt!==-1&&(ar=ur.substr(Bt+1),ur=ur.substr(0,Bt)),Ft&&(ar!==void 0&&(ur==="00:00:00"||ur==="00:00")?(ur=ar,ar=""):ur.length===8&&(ur=ur.replace(/:00$/,""))),ar)if(Ot)Kt==="d"?ur+=", "+ar:ur=ar+(ur?", "+ur:"");else if(!Ge._inCalcTicks||Ge._prevDateHead!==ar)Ge._prevDateHead=ar,ur+="<br>"+ar;else{var hr=Jt(Ge),gr=Ge._trueSide||Ge.side;(!hr&&gr==="top"||hr&&gr==="bottom")&&(ur+="<br> ")}Ve.text=ur}function tt(Ge,Ve,Ot,Ft,Kt){var rr=Ge.dtick,ur=Ve.x,ar=Ge.tickformat,Bt=typeof rr=="string"&&rr.charAt(0);if(Kt==="never"&&(Kt=""),Ft&&Bt!=="L"&&(rr="L3",Bt="L"),ar||Bt==="L")Ve.text=Te(Math.pow(10,ur),Ge,Kt,Ft);else if(L(rr)||Bt==="D"&&A.mod(ur+.01,1)<.1){var hr=Math.round(ur),gr=Math.abs(hr),mr=Ge.exponentformat;mr==="power"||ge(mr)&&Ee(hr)?(hr===0?Ve.text=1:hr===1?Ve.text="10":Ve.text="10<sup>"+(hr>1?"":x)+gr+"</sup>",Ve.fontSize*=1.25):(mr==="e"||mr==="E")&&gr>2?Ve.text="1"+mr+(hr>0?"+":x)+gr:(Ve.text=Te(Math.pow(10,ur),Ge,"","fakehover"),rr==="D1"&&Ge._id.charAt(0)==="y"&&(Ve.dy-=Ve.fontSize/6))}else if(Bt==="D")Ve.text=String(Math.round(Math.pow(10,A.mod(ur,1)))),Ve.fontSize*=.75;else throw"unrecognized dtick "+String(rr);if(Ge.dtick==="D1"){var vr=String(Ve.text).charAt(0);(vr==="0"||vr==="1")&&(Ge._id.charAt(0)==="y"?Ve.dx-=Ve.fontSize/4:(Ve.dy+=Ve.fontSize/2,Ve.dx+=(Ge.range[1]>Ge.range[0]?1:-1)*Ve.fontSize*(ur<0?.5:.25)))}}function Ie(Ge,Ve){var Ot=Ge._categories[Math.round(Ve.x)];Ot===void 0&&(Ot=""),Ve.text=String(Ot)}function We(Ge,Ve,Ot){var Ft=Math.round(Ve.x),Kt=Ge._categories[Ft]||[],rr=Kt[1]===void 0?"":String(Kt[1]),ur=Kt[0]===void 0?"":String(Kt[0]);Ot?Ve.text=ur+" - "+rr:(Ve.text=rr,Ve.text2=ur)}function Ze(Ge,Ve,Ot,Ft,Kt){Kt==="never"?Kt="":Ge.showexponent==="all"&&Math.abs(Ve.x/Ge.dtick)<1e-6&&(Kt="hide"),Ve.text=Te(Ve.x,Ge,Kt,Ft)}function He(Ge,Ve,Ot,Ft,Kt){if(Ge.thetaunit==="radians"&&!Ot){var rr=Ve.x/180;if(rr===0)Ve.text="0";else{var ur=De(rr);if(ur[1]>=100)Ve.text=Te(A.deg2rad(Ve.x),Ge,Kt,Ft);else{var ar=Ve.x<0;ur[1]===1?ur[0]===1?Ve.text="\u03C0":Ve.text=ur[0]+"\u03C0":Ve.text=["<sup>",ur[0],"</sup>","\u2044","<sub>",ur[1],"</sub>","\u03C0"].join(""),ar&&(Ve.text=x+Ve.text)}}}else Ve.text=Te(Ve.x,Ge,Kt,Ft)}function De(Ge){function Ve(ar,Bt){return Math.abs(ar-Bt)<=1e-6}function Ot(ar,Bt){return Ve(Bt,0)?ar:Ot(Bt,ar%Bt)}function Ft(ar){for(var Bt=1;!Ve(Math.round(ar*Bt)/Bt,ar);)Bt*=10;return Bt}var Kt=Ft(Ge),rr=Ge*Kt,ur=Math.abs(Ot(rr,Kt));return[Math.round(rr/ur),Math.round(Kt/ur)]}var me=["f","p","n","\u03BC","m","","k","M","G","T"];function ge(Ge){return Ge==="SI"||Ge==="B"}function Ee(Ge){return Ge>14||Ge<-15}function Te(Ge,Ve,Ot,Ft){var Kt=Ge<0,rr=Ve._tickround,ur=Ot||Ve.exponentformat||"B",ar=Ve._tickexponent,Bt=Z.getTickFormat(Ve),hr=Ve.separatethousands;if(Ft){var gr={exponentformat:ur,minexponent:Ve.minexponent,dtick:Ve.showexponent==="none"?Ve.dtick:L(Ge)&&Math.abs(Ge)||1,range:Ve.showexponent==="none"?Ve.range.map(Ve.r2d):[0,Ge||1]};pt(gr),rr=(Number(gr._tickround)||0)+4,ar=gr._tickexponent,Ve.hoverformat&&(Bt=Ve.hoverformat)}if(Bt)return Ve._numFormat(Bt)(Ge).replace(/-/g,x);var mr=Math.pow(10,-rr)/2;if(ur==="none"&&(ar=0),Ge=Math.abs(Ge),Ge<mr)Ge="0",Kt=!1;else{if(Ge+=mr,ar&&(Ge*=Math.pow(10,-ar),rr+=ar),rr===0)Ge=String(Math.floor(Ge));else if(rr<0){Ge=String(Math.round(Ge)),Ge=Ge.substr(0,Ge.length+rr);for(var vr=rr;vr<0;vr++)Ge+="0"}else{Ge=String(Ge);var Gr=Ge.indexOf(".")+1;Gr&&(Ge=Ge.substr(0,Gr+rr).replace(/\.?0+$/,""))}Ge=A.numSeparate(Ge,Ve._separators,hr)}if(ar&&ur!=="hide"){ge(ur)&&Ee(ar)&&(ur="power");var Rr;ar<0?Rr=x+-ar:ur!=="power"?Rr="+"+ar:Rr=String(ar),ur==="e"||ur==="E"?Ge+=ur+Rr:ur==="power"?Ge+="\xD710<sup>"+Rr+"</sup>":ur==="B"&&ar===9?Ge+="B":ge(ur)&&(Ge+=me[ar/3+5])}return Kt?x+Ge:Ge}Z.getTickFormat=function(Ge){var Ve;function Ot(Bt){return typeof Bt!="string"?Bt:Number(Bt.replace("M",""))*b}function Ft(Bt,hr){var gr=["L","D"];if(typeof Bt==typeof hr){if(typeof Bt=="number")return Bt-hr;var mr=gr.indexOf(Bt.charAt(0)),vr=gr.indexOf(hr.charAt(0));return mr===vr?Number(Bt.replace(/(L|D)/g,""))-Number(hr.replace(/(L|D)/g,"")):mr-vr}else return typeof Bt=="number"?1:-1}function Kt(Bt,hr,gr){var mr=gr||function(Rr){return Rr},vr=hr[0],Gr=hr[1];return(!vr&&typeof vr!="number"||mr(vr)<=mr(Bt))&&(!Gr&&typeof Gr!="number"||mr(Gr)>=mr(Bt))}function rr(Bt,hr){var gr=hr[0]===null,mr=hr[1]===null,vr=Ft(Bt,hr[0])>=0,Gr=Ft(Bt,hr[1])<=0;return(gr||vr)&&(mr||Gr)}var ur,ar;if(Ge.tickformatstops&&Ge.tickformatstops.length>0)switch(Ge.type){case"date":case"linear":{for(Ve=0;Ve<Ge.tickformatstops.length;Ve++)if(ar=Ge.tickformatstops[Ve],ar.enabled&&Kt(Ge.dtick,ar.dtickrange,Ot)){ur=ar;break}break}case"log":{for(Ve=0;Ve<Ge.tickformatstops.length;Ve++)if(ar=Ge.tickformatstops[Ve],ar.enabled&&rr(Ge.dtick,ar.dtickrange)){ur=ar;break}break}}return ur?ur.value:Ge.tickformat},Z.getSubplots=function(Ge,Ve){var Ot=Ge._fullLayout._subplots,Ft=Ot.cartesian.concat(Ot.gl2d||[]),Kt=Ve?Z.findSubplotsWithAxis(Ft,Ve):Ft;return Kt.sort(function(rr,ur){var ar=rr.substr(1).split("y"),Bt=ur.substr(1).split("y");return ar[0]===Bt[0]?+ar[1]-+Bt[1]:+ar[0]-+Bt[0]}),Kt},Z.findSubplotsWithAxis=function(Ge,Ve){for(var Ot=new RegExp(Ve._id.charAt(0)==="x"?"^"+Ve._id+"y":Ve._id+"$"),Ft=[],Kt=0;Kt<Ge.length;Kt++){var rr=Ge[Kt];Ot.test(rr)&&Ft.push(rr)}return Ft},Z.makeClipPaths=function(Ge){var Ve=Ge._fullLayout;if(!Ve._hasOnlyLargeSploms){var Ot={_offset:0,_length:Ve.width,_id:""},Ft={_offset:0,_length:Ve.height,_id:""},Kt=Z.list(Ge,"x",!0),rr=Z.list(Ge,"y",!0),ur=[],ar,Bt;for(ar=0;ar<Kt.length;ar++)for(ur.push({x:Kt[ar],y:Ft}),Bt=0;Bt<rr.length;Bt++)ar===0&&ur.push({x:Ot,y:rr[Bt]}),ur.push({x:Kt[ar],y:rr[Bt]});var hr=Ve._clips.selectAll(".axesclip").data(ur,function(gr){return gr.x._id+gr.y._id});hr.enter().append("clipPath").classed("axesclip",!0).attr("id",function(gr){return"clip"+Ve._uid+gr.x._id+gr.y._id}).append("rect"),hr.exit().remove(),hr.each(function(gr){g.select(this).select("rect").attr({x:gr.x._offset||0,y:gr.y._offset||0,width:gr.x._length||1,height:gr.y._length||1})})}},Z.draw=function(Ge,Ve,Ot){var Ft=Ge._fullLayout;Ve==="redraw"&&Ft._paper.selectAll("g.subplot").each(function(Bt){var hr=Bt[0],gr=Ft._plots[hr];if(gr){var mr=gr.xaxis,vr=gr.yaxis;gr.xaxislayer.selectAll("."+mr._id+"tick").remove(),gr.yaxislayer.selectAll("."+vr._id+"tick").remove(),gr.xaxislayer.selectAll("."+mr._id+"tick2").remove(),gr.yaxislayer.selectAll("."+vr._id+"tick2").remove(),gr.xaxislayer.selectAll("."+mr._id+"divider").remove(),gr.yaxislayer.selectAll("."+vr._id+"divider").remove(),gr.minorGridlayer&&gr.minorGridlayer.selectAll("path").remove(),gr.gridlayer&&gr.gridlayer.selectAll("path").remove(),gr.zerolinelayer&&gr.zerolinelayer.selectAll("path").remove(),Ft._infolayer.select(".g-"+mr._id+"title").remove(),Ft._infolayer.select(".g-"+vr._id+"title").remove()}});var Kt=!Ve||Ve==="redraw"?Z.listIds(Ge):Ve,rr=Z.list(Ge),ur=rr.filter(function(Bt){return Bt.autoshift}).map(function(Bt){return Bt.overlaying});Kt.map(function(Bt){var hr=Z.getFromId(Ge,Bt);if(hr.tickmode==="sync"&&hr.overlaying){var gr=Kt.findIndex(function(mr){return mr===hr.overlaying});gr>=0&&Kt.unshift(Kt.splice(gr,1).shift())}});var ar={false:{left:0,right:0}};return A.syncOrAsync(Kt.map(function(Bt){return function(){if(!!Bt){var hr=Z.getFromId(Ge,Bt);Ot||(Ot={}),Ot.axShifts=ar,Ot.overlayingShiftedAx=ur;var gr=Z.drawOne(Ge,hr,Ot);return hr._shiftPusher&&cr(hr,hr._fullDepth||0,ar,!0),hr._r=hr.range.slice(),hr._rl=A.simpleMap(hr._r,hr.r2l),gr}}}))},Z.drawOne=function(Ge,Ve,Ot){Ot=Ot||{};var Ft=Ot.axShifts||{},Kt=Ot.overlayingShiftedAx||[],rr,ur,ar;Ve.setScale();var Bt=Ge._fullLayout,hr=Ve._id,gr=hr.charAt(0),mr=Z.counterLetter(hr),vr=Bt._plots[Ve._mainSubplot];if(!vr)return;if(Ve._shiftPusher=Ve.autoshift||Kt.indexOf(Ve._id)!==-1||Kt.indexOf(Ve.overlaying)!==-1,Ve._shiftPusher&Ve.anchor==="free"){var Gr=Ve.linewidth/2||0;Ve.ticks==="inside"&&(Gr+=Ve.ticklen),cr(Ve,Gr,Ft,!0),cr(Ve,Ve.shift||0,Ft,!1)}(Ot.skipTitle!==!0||Ve._shift===void 0)&&(Ve._shift=dr(Ve,Ft));var Rr=vr[gr+"axislayer"],Ir=Ve._mainLinePosition,cn=Ir+=Ve._shift,rn=Ve._mainMirrorPosition,Ln=Ve._vals=Z.calcTicks(Ve),En=[Ve.mirror,cn,rn].join("_");for(rr=0;rr<Ln.length;rr++)Ln[rr].axInfo=En;Ve._selections={},Ve._tickAngles&&(Ve._prevTickAngles=Ve._tickAngles),Ve._tickAngles={},Ve._depth=null;var Tr={};function Lr(Vr){var Qr=hr+(Vr||"tick");return Tr[Qr]||(Tr[Qr]=dt(Ve,Qr,cn)),Tr[Qr]}if(!!Ve.visible){var Wr=Z.makeTransTickFn(Ve),Ur=Z.makeTransTickLabelFn(Ve),an,pn,gn=Ve.ticks==="inside",Cn=Ve.ticks==="outside";if(Ve.tickson==="boundaries"){var zn=Xe(Ve,Ln);pn=Z.clipEnds(Ve,zn),an=gn?pn:zn}else pn=Z.clipEnds(Ve,Ln),an=gn&&Ve.ticklabelmode!=="period"?pn:Ln;var aa=Ve._gridVals=pn,ha=ut(Ve,Ln);if(!Bt._hasOnlyLargeSploms){var pa=Ve._subplotsWith,ua={};for(rr=0;rr<pa.length;rr++){ur=pa[rr],ar=Bt._plots[ur];var na=ar[mr+"axis"],br=na._mainAxis._id;if(!ua[br]){ua[br]=1;var nn=gr==="x"?"M0,"+na._offset+"v"+na._length:"M"+na._offset+",0h"+na._length;Z.drawGrid(Ge,Ve,{vals:aa,counterAxis:na,layer:ar.gridlayer.select("."+hr),minorLayer:ar.minorGridlayer.select("."+hr),path:nn,transFn:Wr}),Z.drawZeroLine(Ge,Ve,{counterAxis:na,layer:ar.zerolinelayer,path:nn,transFn:Wr})}}}var $r,dn=Z.getTickSigns(Ve),Hn=Z.getTickSigns(Ve,"minor");if(Ve.ticks||Ve.minor&&Ve.minor.ticks){var Tn=Z.makeTickPath(Ve,cn,dn[2]),An=Z.makeTickPath(Ve,cn,Hn[2],{minor:!0}),Nn,Qn,ya,Ia;if(Ve._anchorAxis&&Ve.mirror&&Ve.mirror!==!0?(Nn=Z.makeTickPath(Ve,rn,dn[3]),Qn=Z.makeTickPath(Ve,rn,Hn[3],{minor:!0}),ya=Tn+Nn,Ia=An+Qn):(Nn="",Qn="",ya=Tn,Ia=An),Ve.showdividers&&Cn&&Ve.tickson==="boundaries"){var Sr={};for(rr=0;rr<ha.length;rr++)Sr[ha[rr].x]=1;$r=function(Vr){return Sr[Vr.x]?Nn:ya}}else $r=function(Vr){return Vr.minor?Ia:ya}}if(Z.drawTicks(Ge,Ve,{vals:an,layer:Rr,path:$r,transFn:Wr}),Ve.mirror==="allticks"){var zr=Object.keys(Ve._linepositions||{});for(rr=0;rr<zr.length;rr++){ur=zr[rr],ar=Bt._plots[ur];var Ar=Ve._linepositions[ur]||[],Or=Ar[0],xn=Ar[1],_n=Ar[2],hn=Z.makeTickPath(Ve,Or,_n?dn[0]:Hn[0],{minor:_n})+Z.makeTickPath(Ve,xn,_n?dn[1]:Hn[1],{minor:_n});Z.drawTicks(Ge,Ve,{vals:an,layer:ar[gr+"axislayer"],path:hn,transFn:Wr})}}var sn=[];if(sn.push(function(){return Z.drawLabels(Ge,Ve,{vals:Ln,layer:Rr,plotinfo:ar,transFn:Ur,labelFns:Z.makeLabelFns(Ve,cn)})}),Ve.type==="multicategory"){var Er={x:2,y:10}[gr];sn.push(function(){var Vr={x:"height",y:"width"}[gr],Qr=Lr()[Vr]+Er+(Ve._tickAngles[hr+"tick"]?Ve.tickfont.size*ee:0);return Z.drawLabels(Ge,Ve,{vals:et(Ve,Ln),layer:Rr,cls:hr+"tick2",repositionOnUpdate:!0,secondary:!0,transFn:Wr,labelFns:Z.makeLabelFns(Ve,cn+Qr*dn[4])})}),sn.push(function(){return Ve._depth=dn[4]*(Lr("tick2")[Ve.side]-cn),kt(Ge,Ve,{vals:ha,layer:Rr,path:Z.makeTickPath(Ve,cn,dn[4],{len:Ve._depth}),transFn:Wr})})}else Ve.title.hasOwnProperty("standoff")&&sn.push(function(){Ve._depth=dn[4]*(Lr()[Ve.side]-cn)});var Zr=C.getComponentMethod("rangeslider","isVisible")(Ve);return!Ot.skipTitle&&!(Zr&&Ve.side==="bottom")&&sn.push(function(){return wr(Ge,Ve)}),sn.push(function(){var Vr=Ve.side.charAt(0),Qr=Q[Ve.side].charAt(0),wn=Z.getPxPosition(Ge,Ve),Pn=Cn?Ve.ticklen:0,Rn,Un,On,ma;(Ve.automargin||Zr||Ve._shiftPusher)&&(Ve.type==="multicategory"?Rn=Lr("tick2"):(Rn=Lr(),gr==="x"&&Vr==="b"&&(Ve._depth=Math.max(Rn.width>0?Rn.bottom-wn:0,Pn))));var oa=0,ga=0;if(Ve._shiftPusher&&(oa=Math.max(Pn,Rn.height>0?Vr==="l"?wn-Rn.left:Rn.right-wn:0),Ve.title.text!==Bt._dfltTitle[gr]&&(ga=(Ve._titleStandoff||0)+(Ve._titleScoot||0),Vr==="l"&&(ga+=Qt(Ve))),Ve._fullDepth=Math.max(oa,ga)),Ve.automargin){Un={x:0,y:0,r:0,l:0,t:0,b:0};var La=[0,1],di=typeof Ve._shift=="number"?Ve._shift:0;if(gr==="x"){if(Vr==="b"?Un[Vr]=Ve._depth:(Un[Vr]=Ve._depth=Math.max(Rn.width>0?wn-Rn.top:0,Pn),La.reverse()),Rn.width>0){var ni=Rn.right-(Ve._offset+Ve._length);ni>0&&(Un.xr=1,Un.r=ni);var _o=Ve._offset-Rn.left;_o>0&&(Un.xl=0,Un.l=_o)}}else if(Vr==="l"?(Ve._depth=Math.max(Rn.height>0?wn-Rn.left:0,Pn),Un[Vr]=Ve._depth-di):(Ve._depth=Math.max(Rn.height>0?Rn.right-wn:0,Pn),Un[Vr]=Ve._depth+di,La.reverse()),Rn.height>0){var Co=Rn.bottom-(Ve._offset+Ve._length);Co>0&&(Un.yb=0,Un.b=Co);var ro=Ve._offset-Rn.top;ro>0&&(Un.yt=1,Un.t=ro)}Un[mr]=Ve.anchor==="free"?Ve.position:Ve._anchorAxis.domain[La[0]],Ve.title.text!==Bt._dfltTitle[gr]&&(Un[Vr]+=Qt(Ve)+(Ve.title.standoff||0)),Ve.mirror&&Ve.anchor!=="free"&&(On={x:0,y:0,r:0,l:0,t:0,b:0},On[Qr]=Ve.linewidth,Ve.mirror&&Ve.mirror!==!0&&(On[Qr]+=Pn),Ve.mirror===!0||Ve.mirror==="ticks"?On[mr]=Ve._anchorAxis.domain[La[1]]:(Ve.mirror==="all"||Ve.mirror==="allticks")&&(On[mr]=[Ve._counterDomainMin,Ve._counterDomainMax][La[1]]))}Zr&&(ma=C.getComponentMethod("rangeslider","autoMarginOpts")(Ge,Ve)),typeof Ve.automargin=="string"&&(ze(Un,Ve.automargin),ze(On,Ve.automargin)),a.autoMargin(Ge,$t(Ve),Un),a.autoMargin(Ge,ht(Ve),On),a.autoMargin(Ge,at(Ve),ma)}),A.syncOrAsync(sn)}};function ze(Ge,Ve){if(!!Ge){var Ot=Object.keys(z).reduce(function(Ft,Kt){return Ve.indexOf(Kt)!==-1&&z[Kt].forEach(function(rr){Ft[rr]=1}),Ft},{});Object.keys(Ge).forEach(function(Ft){Ot[Ft]||(Ft.length===1?Ge[Ft]=0:delete Ge[Ft])})}}function Xe(Ge,Ve){var Ot=[],Ft,Kt=function(rr,ur){var ar=rr.xbnd[ur];ar!==null&&Ot.push(A.extendFlat({},rr,{x:ar}))};if(Ve.length){for(Ft=0;Ft<Ve.length;Ft++)Kt(Ve[Ft],0);Kt(Ve[Ft-1],1)}return Ot}function et(Ge,Ve){for(var Ot=[],Ft={},Kt=0;Kt<Ve.length;Kt++){var rr=Ve[Kt];Ft[rr.text2]?Ft[rr.text2].push(rr.x):Ft[rr.text2]=[rr.x]}for(var ur in Ft)Ot.push(yt(Ge,A.interp(Ft[ur],.5),ur));return Ot}function ut(Ge,Ve){var Ot=[],Ft,Kt,rr=Ve.length&&Ve[Ve.length-1].x<Ve[0].x,ur=function(Bt,hr){var gr=Bt.xbnd[hr];gr!==null&&Ot.push(A.extendFlat({},Bt,{x:gr}))};if(Ge.showdividers&&Ve.length){for(Ft=0;Ft<Ve.length;Ft++){var ar=Ve[Ft];ar.text2!==Kt&&ur(ar,rr?1:0),Kt=ar.text2}ur(Ve[Ft-1],rr?0:1)}return Ot}function dt(Ge,Ve,Ot){var Ft,Kt,rr,ur;if(Ge._selections[Ve].size())Ft=1/0,Kt=-1/0,rr=1/0,ur=-1/0,Ge._selections[Ve].each(function(){var Bt=er(this),hr=s.bBox(Bt.node().parentNode);Ft=Math.min(Ft,hr.top),Kt=Math.max(Kt,hr.bottom),rr=Math.min(rr,hr.left),ur=Math.max(ur,hr.right)});else{var ar=Z.makeLabelFns(Ge,Ot);Ft=Kt=ar.yFn({dx:0,dy:0,fontSize:0}),rr=ur=ar.xFn({dx:0,dy:0,fontSize:0})}return{top:Ft,bottom:Kt,left:rr,right:ur,height:Kt-Ft,width:ur-rr}}Z.getTickSigns=function(Ge,Ve){var Ot=Ge._id.charAt(0),Ft={x:"top",y:"right"}[Ot],Kt=Ge.side===Ft?1:-1,rr=[-1,1,Kt,-Kt],ur=Ve?(Ge.minor||{}).ticks:Ge.ticks;return ur!=="inside"==(Ot==="x")&&(rr=rr.map(function(ar){return-ar})),Ge.side&&rr.push({l:-1,t:-1,r:1,b:1}[Ge.side.charAt(0)]),rr},Z.makeTransTickFn=function(Ge){return Ge._id.charAt(0)==="x"?function(Ve){return v(Ge._offset+Ge.l2p(Ve.x),0)}:function(Ve){return v(0,Ge._offset+Ge.l2p(Ve.x))}},Z.makeTransTickLabelFn=function(Ge){var Ve=jt(Ge),Ot=Ve[0],Ft=Ve[1];return Ge._id.charAt(0)==="x"?function(Kt){return v(Ot+Ge._offset+Ge.l2p(Zt(Kt)),Ft)}:function(Kt){return v(Ft,Ot+Ge._offset+Ge.l2p(Zt(Kt)))}};function Zt(Ge){return Ge.periodX!==void 0?Ge.periodX:Ge.x}function jt(Ge){var Ve=Ge.ticklabelposition||"",Ot=function(Gr){return Ve.indexOf(Gr)!==-1},Ft=Ot("top"),Kt=Ot("left"),rr=Ot("right"),ur=Ot("bottom"),ar=Ot("inside"),Bt=ur||Kt||Ft||rr;if(!Bt&&!ar)return[0,0];var hr=Ge.side,gr=Bt?(Ge.tickwidth||0)/2:0,mr=oe,vr=Ge.tickfont?Ge.tickfont.size:12;return(ur||Ft)&&(gr+=vr*q,mr+=(Ge.linewidth||0)/2),(Kt||rr)&&(gr+=(Ge.linewidth||0)/2,mr+=oe),ar&&hr==="top"&&(mr-=vr*(1-q)),(Kt||Ft)&&(gr=-gr),(hr==="bottom"||hr==="right")&&(mr=-mr),[Bt?gr:0,ar?mr:0]}Z.makeTickPath=function(Ge,Ve,Ot,Ft){Ft||(Ft={});var Kt=Ft.minor;if(Kt&&!Ge.minor)return"";var rr=Ft.len!==void 0?Ft.len:Kt?Ge.minor.ticklen:Ge.ticklen,ur=Ge._id.charAt(0),ar=(Ge.linewidth||1)/2;return ur==="x"?"M0,"+(Ve+ar*Ot)+"v"+rr*Ot:"M"+(Ve+ar*Ot)+",0h"+rr*Ot},Z.makeLabelFns=function(Ge,Ve,Ot){var Ft=Ge.ticklabelposition||"",Kt=function(zn){return Ft.indexOf(zn)!==-1},rr=Kt("top"),ur=Kt("left"),ar=Kt("right"),Bt=Kt("bottom"),hr=Bt||ur||rr||ar,gr=Kt("inside"),mr=Ft==="inside"&&Ge.ticks==="inside"||!gr&&Ge.ticks==="outside"&&Ge.tickson!=="boundaries",vr=0,Gr=0,Rr=mr?Ge.ticklen:0;if(gr?Rr*=-1:hr&&(Rr=0),mr&&(vr+=Rr,Ot)){var Ir=A.deg2rad(Ot);vr=Rr*Math.cos(Ir)+1,Gr=Rr*Math.sin(Ir)}Ge.showticklabels&&(mr||Ge.showline)&&(vr+=.2*Ge.tickfont.size),vr+=(Ge.linewidth||1)/2*(gr?-1:1);var cn={labelStandoff:vr,labelShift:Gr},rn,Ln,En,Tr,Lr=0,Wr=Ge.side,Ur=Ge._id.charAt(0),an=Ge.tickangle,pn;if(Ur==="x")pn=!gr&&Wr==="bottom"||gr&&Wr==="top",Tr=pn?1:-1,gr&&(Tr*=-1),rn=Gr*Tr,Ln=Ve+vr*Tr,En=pn?1:-.2,Math.abs(an)===90&&(gr?En+=W:an===-90&&Wr==="bottom"?En=q:an===90&&Wr==="top"?En=W:En=.5,Lr=W/2*(an/90)),cn.xFn=function(zn){return zn.dx+rn+Lr*zn.fontSize},cn.yFn=function(zn){return zn.dy+Ln+zn.fontSize*En},cn.anchorFn=function(zn,aa){if(hr){if(ur)return"end";if(ar)return"start"}return!L(aa)||aa===0||aa===180?"middle":aa*Tr<0!==gr?"end":"start"},cn.heightFn=function(zn,aa,ha){return aa<-60||aa>60?-.5*ha:Ge.side==="top"!==gr?-ha:0};else if(Ur==="y"){if(pn=!gr&&Wr==="left"||gr&&Wr==="right",Tr=pn?1:-1,gr&&(Tr*=-1),rn=vr,Ln=Gr*Tr,En=0,!gr&&Math.abs(an)===90&&(an===-90&&Wr==="left"||an===90&&Wr==="right"?En=q:En=.5),gr){var gn=L(an)?+an:0;if(gn!==0){var Cn=A.deg2rad(gn);Lr=Math.abs(Math.sin(Cn))*q*Tr,En=0}}cn.xFn=function(zn){return zn.dx+Ve-(rn+zn.fontSize*En)*Tr+Lr*zn.fontSize},cn.yFn=function(zn){return zn.dy+Ln+zn.fontSize*W},cn.anchorFn=function(zn,aa){return L(aa)&&Math.abs(aa)===90?"middle":pn?"end":"start"},cn.heightFn=function(zn,aa,ha){return Ge.side==="right"&&(aa*=-1),aa<-30?-ha:aa<30?-.5*ha:0}}return cn};function Tt(Ge){return[Ge.text,Ge.x,Ge.axInfo,Ge.font,Ge.fontSize,Ge.fontColor].join("_")}Z.drawTicks=function(Ge,Ve,Ot){Ot=Ot||{};var Ft=Ve._id+"tick",Kt=[].concat(Ve.minor&&Ve.minor.ticks?Ot.vals.filter(function(ur){return ur.minor&&!ur.noTick}):[]).concat(Ve.ticks?Ot.vals.filter(function(ur){return!ur.minor&&!ur.noTick}):[]),rr=Ot.layer.selectAll("path."+Ft).data(Kt,Tt);rr.exit().remove(),rr.enter().append("path").classed(Ft,1).classed("ticks",1).classed("crisp",Ot.crisp!==!1).each(function(ur){return t.stroke(g.select(this),ur.minor?Ve.minor.tickcolor:Ve.tickcolor)}).style("stroke-width",function(ur){return s.crispRound(Ge,ur.minor?Ve.minor.tickwidth:Ve.tickwidth,1)+"px"}).attr("d",Ot.path).style("display",null),fr(Ve,[F]),rr.attr("transform",Ot.transFn)},Z.drawGrid=function(Ge,Ve,Ot){if(Ot=Ot||{},Ve.tickmode!=="sync"){var Ft=Ve._id+"grid",Kt=Ve.minor&&Ve.minor.showgrid,rr=Kt?Ot.vals.filter(function(rn){return rn.minor}):[],ur=Ve.showgrid?Ot.vals.filter(function(rn){return!rn.minor}):[],ar=Ot.counterAxis;if(ar&&Z.shouldShowZeroLine(Ge,Ve,ar))for(var Bt=Ve.tickmode==="array",hr=0;hr<ur.length;hr++){var gr=ur[hr].x;if(Bt?!gr:Math.abs(gr)<Ve.dtick/100)if(ur=ur.slice(0,hr).concat(ur.slice(hr+1)),Bt)hr--;else break}Ve._gw=s.crispRound(Ge,Ve.gridwidth,1);for(var mr=Kt?s.crispRound(Ge,Ve.minor.gridwidth,1):0,vr=Ot.layer,Gr=Ot.minorLayer,Rr=1;Rr>=0;Rr--){var Ir=Rr?vr:Gr;if(!!Ir){var cn=Ir.selectAll("path."+Ft).data(Rr?ur:rr,Tt);cn.exit().remove(),cn.enter().append("path").classed(Ft,1).classed("crisp",Ot.crisp!==!1),cn.attr("transform",Ot.transFn).attr("d",Ot.path).each(function(rn){return t.stroke(g.select(this),rn.minor?Ve.minor.gridcolor:Ve.gridcolor||"#ddd")}).style("stroke-dasharray",function(rn){return s.dashStyle(rn.minor?Ve.minor.griddash:Ve.griddash,rn.minor?Ve.minor.gridwidth:Ve.gridwidth)}).style("stroke-width",function(rn){return(rn.minor?mr:Ve._gw)+"px"}).style("display",null),typeof Ot.path=="function"&&cn.attr("d",Ot.path)}}fr(Ve,[N,k])}},Z.drawZeroLine=function(Ge,Ve,Ot){Ot=Ot||Ot;var Ft=Ve._id+"zl",Kt=Z.shouldShowZeroLine(Ge,Ve,Ot.counterAxis),rr=Ot.layer.selectAll("path."+Ft).data(Kt?[{x:0,id:Ve._id}]:[]);rr.exit().remove(),rr.enter().append("path").classed(Ft,1).classed("zl",1).classed("crisp",Ot.crisp!==!1).each(function(){Ot.layer.selectAll("path").sort(function(ur,ar){return X(ur.id,ar.id)})}),rr.attr("transform",Ot.transFn).attr("d",Ot.path).call(t.stroke,Ve.zerolinecolor||t.defaultLine).style("stroke-width",s.crispRound(Ge,Ve.zerolinewidth,Ve._gw||1)+"px").style("display",null),fr(Ve,[I])},Z.drawLabels=function(Ge,Ve,Ot){Ot=Ot||{};var Ft=Ge._fullLayout,Kt=Ve._id,rr=Ot.cls||Kt+"tick",ur=Ot.vals.filter(function(br){return br.text}),ar=Ot.labelFns,Bt=Ot.secondary?0:Ve.tickangle,hr=(Ve._prevTickAngles||{})[rr],gr=Ot.layer.selectAll("g."+rr).data(Ve.showticklabels?ur:[],Tt),mr=[];gr.enter().append("g").classed(rr,1).append("text").attr("text-anchor","middle").each(function(br){var nn=g.select(this),$r=Ge._promises.length;nn.call(p.positionText,ar.xFn(br),ar.yFn(br)).call(s.font,br.font,br.fontSize,br.fontColor).text(br.text).call(p.convertToTspans,Ge),Ge._promises[$r]?mr.push(Ge._promises.pop().then(function(){vr(nn,Bt)})):vr(nn,Bt)}),fr(Ve,[O]),gr.exit().remove(),Ot.repositionOnUpdate&&gr.each(function(br){g.select(this).select("text").call(p.positionText,ar.xFn(br),ar.yFn(br))});function vr(br,nn){br.each(function($r){var dn=g.select(this),Hn=dn.select(".text-math-group"),Tn=ar.anchorFn($r,nn),An=Ot.transFn.call(dn.node(),$r)+(L(nn)&&+nn!=0?" rotate("+nn+","+ar.xFn($r)+","+(ar.yFn($r)-$r.fontSize/2)+")":""),Nn=p.lineCount(dn),Qn=ee*$r.fontSize,ya=ar.heightFn($r,L(nn)?+nn:0,(Nn-1)*Qn);if(ya&&(An+=v(0,ya)),Hn.empty()){var Ia=dn.select("text");Ia.attr({transform:An,"text-anchor":Tn}),Ia.style("opacity",1),Ve._adjustTickLabelsOverflow&&Ve._adjustTickLabelsOverflow()}else{var Sr=s.bBox(Hn.node()).width,zr=Sr*{end:-.5,start:.5}[Tn];Hn.attr("transform",An+v(zr,0))}})}Ve._adjustTickLabelsOverflow=function(){var br=Ve.ticklabeloverflow;if(!(!br||br==="allow")){var nn=br.indexOf("hide")!==-1,$r=Ve._id.charAt(0)==="x",dn=0,Hn=$r?Ge._fullLayout.width:Ge._fullLayout.height;if(br.indexOf("domain")!==-1){var Tn=A.simpleMap(Ve.range,Ve.r2l);dn=Ve.l2p(Tn[0])+Ve._offset,Hn=Ve.l2p(Tn[1])+Ve._offset}var An=Math.min(dn,Hn),Nn=Math.max(dn,Hn),Qn=Ve.side,ya=1/0,Ia=-1/0;gr.each(function(Or){var xn=g.select(this),_n=xn.select(".text-math-group");if(_n.empty()){var hn=s.bBox(xn.node()),sn=0;$r?(hn.right>Nn||hn.left<An)&&(sn=1):(hn.bottom>Nn||hn.top+(Ve.tickangle?0:Or.fontSize/4)<An)&&(sn=1);var Er=xn.select("text");sn?nn&&Er.style("opacity",0):(Er.style("opacity",1),Qn==="bottom"||Qn==="right"?ya=Math.min(ya,$r?hn.top:hn.left):ya=-1/0,Qn==="top"||Qn==="left"?Ia=Math.max(Ia,$r?hn.bottom:hn.right):Ia=1/0)}});for(var Sr in Ft._plots){var zr=Ft._plots[Sr];if(!(Ve._id!==zr.xaxis._id&&Ve._id!==zr.yaxis._id)){var Ar=$r?zr.yaxis:zr.xaxis;Ar&&(Ar["_visibleLabelMin_"+Ve._id]=ya,Ar["_visibleLabelMax_"+Ve._id]=Ia)}}}},Ve._hideCounterAxisInsideTickLabels=function(br){var nn=Ve._id.charAt(0)==="x",$r=[];for(var dn in Ft._plots){var Hn=Ft._plots[dn];Ve._id!==Hn.xaxis._id&&Ve._id!==Hn.yaxis._id||$r.push(nn?Hn.yaxis:Hn.xaxis)}$r.forEach(function(Tn,An){Tn&&Jt(Tn)&&(br||[I,k,N,F,O]).forEach(function(Nn){var Qn=Nn.K==="tick"&&Nn.L==="text"&&Ve.ticklabelmode==="period",ya=Ft._plots[Ve._mainSubplot],Ia;Nn.K===I.K?Ia=ya.zerolinelayer.selectAll("."+Ve._id+"zl"):Nn.K===k.K?Ia=ya.minorGridlayer.selectAll("."+Ve._id):Nn.K===N.K?Ia=ya.gridlayer.selectAll("."+Ve._id):Ia=ya[Ve._id.charAt(0)+"axislayer"],Ia.each(function(){var Sr=g.select(this);Nn.L&&(Sr=Sr.selectAll(Nn.L)),Sr.each(function(zr){var Ar=Ve.l2p(Qn?Zt(zr):zr.x)+Ve._offset,Or=g.select(this);Ar<Ve["_visibleLabelMax_"+Tn._id]&&Ar>Ve["_visibleLabelMin_"+Tn._id]?Or.style("display","none"):Nn.K==="tick"&&!An&&Or.style("display",null)})})})})},vr(gr,hr+1?hr:Bt);function Gr(){return mr.length&&Promise.all(mr)}var Rr=null;function Ir(){if(vr(gr,Bt),ur.length&&Ve.autotickangles&&(Ve.type!=="log"||String(Ve.dtick).charAt(0)!=="D")){Rr=Ve.autotickangles[0];var br=0,nn=[],$r,dn=1;if(gr.each(function(Pn){br=Math.max(br,Pn.fontSize);var Rn=Ve.l2p(Pn.x),Un=er(this),On=s.bBox(Un.node());dn=Math.max(dn,p.lineCount(Un)),nn.push({top:0,bottom:10,height:10,left:Rn-On.width/2,right:Rn+On.width/2+2,width:On.width+2})}),(Ve.tickson==="boundaries"||Ve.showdividers)&&!Ot.secondary){var Hn=2;for(Ve.ticks&&(Hn+=Ve.tickwidth/2),$r=0;$r<nn.length;$r++){var Tn=ur[$r].xbnd,An=nn[$r];if(Tn[0]!==null&&An.left-Ve.l2p(Tn[0])<Hn||Tn[1]!==null&&Ve.l2p(Tn[1])-An.right<Hn){Rr=90;break}}}else{var Nn=ur.length,Qn=Math.abs((ur[Nn-1].x-ur[0].x)*Ve._m)/(Nn-1),ya=Ve.ticklabelposition||"",Ia=function(Pn){return ya.indexOf(Pn)!==-1},Sr=Ia("top"),zr=Ia("left"),Ar=Ia("right"),Or=Ia("bottom"),xn=Or||zr||Sr||Ar,_n=xn?(Ve.tickwidth||0)+2*oe:0,hn=Qn,sn=br*1.25*dn,Er=Math.sqrt(Math.pow(hn,2)+Math.pow(sn,2)),Zr=hn/Er,Vr=Ve.autotickangles.map(function(Pn){return Pn*Math.PI/180}),Qr=Vr.find(function(Pn){return Math.abs(Math.cos(Pn))<=Zr});Qr===void 0&&(Qr=Vr.reduce(function(Pn,Rn){return Math.abs(Math.cos(Pn))<Math.abs(Math.cos(Rn))?Pn:Rn},Vr[0]));var wn=Qr*(180/Math.PI);for($r=0;$r<nn.length-1;$r++)if(A.bBoxIntersect(nn[$r],nn[$r+1],_n)){Rr=wn;break}}Rr&&vr(gr,Rr)}}Ve._selections&&(Ve._selections[rr]=gr);var cn=[Gr];Ve.automargin&&Ft._redrawFromAutoMarginCount&&hr===90?(Rr=hr,cn.push(function(){vr(gr,hr)})):cn.push(Ir),Ve._tickAngles&&cn.push(function(){Ve._tickAngles[rr]=Rr===null?L(Bt)?Bt:0:Rr});var rn=function(){var br=0,nn=0;return gr.each(function($r,dn){var Hn=er(this),Tn=Hn.select(".text-math-group");if(Tn.empty()){var An;Ve._vals[dn]&&(An=Ve._vals[dn].bb||s.bBox(Hn.node()),Ve._vals[dn].bb=An),br=Math.max(br,An.width),nn=Math.max(nn,An.height)}}),{labelsMaxW:br,labelsMaxH:nn}},Ln=Ve._anchorAxis;if(Ln&&(Ln.autorange||Ln.insiderange)&&Jt(Ve)&&!$(Ft,Ve._id)&&(Ft._insideTickLabelsUpdaterange||(Ft._insideTickLabelsUpdaterange={}),Ln.autorange&&(Ft._insideTickLabelsUpdaterange[Ln._name+".autorange"]=Ln.autorange,cn.push(rn)),Ln.insiderange)){var En=rn(),Tr=Ve._id.charAt(0)==="y"?En.labelsMaxW:En.labelsMaxH;Tr+=2*oe,Ve.ticklabelposition==="inside"&&(Tr+=Ve.ticklen||0);var Lr=Ve.side==="right"||Ve.side==="top"?1:-1,Wr=Lr===1?1:0,Ur=Lr===1?0:1,an=[];an[Ur]=Ln.range[Ur];var pn=Ln.range,gn=Ln.r2p(pn[Wr]),Cn=Ln.r2p(pn[Ur]),zn=Ft._insideTickLabelsUpdaterange[Ln._name+".range"];if(zn){var aa=Ln.r2p(zn[Wr]),ha=Ln.r2p(zn[Ur]),pa=Lr*(Ve._id.charAt(0)==="y"?1:-1);pa*gn<pa*aa&&(gn=aa,an[Wr]=pn[Wr]=zn[Wr]),pa*Cn>pa*ha&&(Cn=ha,an[Ur]=pn[Ur]=zn[Ur])}var ua=Math.abs(Cn-gn);ua-Tr>0?(ua-=Tr,Tr*=1+Tr/ua):Tr=0,Ve._id.charAt(0)!=="y"&&(Tr=-Tr),an[Wr]=Ln.p2r(Ln.r2p(pn[Wr])+Lr*Tr),Ln.autorange==="min"||Ln.autorange==="max reversed"?(an[0]=null,Ln._rangeInitial0=void 0,Ln._rangeInitial1=void 0):(Ln.autorange==="max"||Ln.autorange==="min reversed")&&(an[1]=null,Ln._rangeInitial0=void 0,Ln._rangeInitial1=void 0),Ft._insideTickLabelsUpdaterange[Ln._name+".range"]=an}var na=A.syncOrAsync(cn);return na&&na.then&&Ge._promises.push(na),na};function kt(Ge,Ve,Ot){var Ft=Ve._id+"divider",Kt=Ot.vals,rr=Ot.layer.selectAll("path."+Ft).data(Kt,Tt);rr.exit().remove(),rr.enter().insert("path",":first-child").classed(Ft,1).classed("crisp",1).call(t.stroke,Ve.dividercolor).style("stroke-width",s.crispRound(Ge,Ve.dividerwidth,1)+"px"),rr.attr("transform",Ot.transFn).attr("d",Ot.path)}Z.getPxPosition=function(Ge,Ve){var Ot=Ge._fullLayout._size,Ft=Ve._id.charAt(0),Kt=Ve.side,rr;if(Ve.anchor!=="free"?rr=Ve._anchorAxis:Ft==="x"?rr={_offset:Ot.t+(1-(Ve.position||0))*Ot.h,_length:0}:Ft==="y"&&(rr={_offset:Ot.l+(Ve.position||0)*Ot.w+Ve._shift,_length:0}),Kt==="top"||Kt==="left")return rr._offset;if(Kt==="bottom"||Kt==="right")return rr._offset+rr._length};function Qt(Ge){var Ve=Ge.title.font.size,Ot=(Ge.title.text.match(p.BR_TAG_ALL)||[]).length;return Ge.title.hasOwnProperty("standoff")?Ot?Ve*(q+Ot*ee):Ve*q:Ot?Ve*(Ot+1)*ee:Ve}function wr(Ge,Ve){var Ot=Ge._fullLayout,Ft=Ve._id,Kt=Ft.charAt(0),rr=Ve.title.font.size,ur;if(Ve.title.hasOwnProperty("standoff"))ur=Ve._depth+Ve.title.standoff+Qt(Ve);else{var ar=Jt(Ve);if(Ve.type==="multicategory")ur=Ve._depth;else{var Bt=1.5*rr;ar&&(Bt=.5*rr,Ve.ticks==="outside"&&(Bt+=Ve.ticklen)),ur=10+Bt+(Ve.linewidth?Ve.linewidth-1:0)}ar||(Kt==="x"?ur+=Ve.side==="top"?rr*(Ve.showticklabels?1:0):rr*(Ve.showticklabels?1.5:.5):ur+=Ve.side==="right"?rr*(Ve.showticklabels?1:.5):rr*(Ve.showticklabels?.5:0))}var hr=Z.getPxPosition(Ge,Ve),gr,mr,vr;Kt==="x"?(mr=Ve._offset+Ve._length/2,vr=Ve.side==="top"?hr-ur:hr+ur):(vr=Ve._offset+Ve._length/2,mr=Ve.side==="right"?hr+ur:hr-ur,gr={rotate:"-90",offset:0});var Gr;if(Ve.type!=="multicategory"){var Rr=Ve._selections[Ve._id+"tick"];if(Gr={selection:Rr,side:Ve.side},Rr&&Rr.node()&&Rr.node().parentNode){var Ir=s.getTranslate(Rr.node().parentNode);Gr.offsetLeft=Ir.x,Gr.offsetTop=Ir.y}Ve.title.hasOwnProperty("standoff")&&(Gr.pad=0)}return Ve._titleStandoff=ur,r.draw(Ge,Ft+"title",{propContainer:Ve,propName:Ve._name+".title.text",placeholder:Ot._dfltTitle[Kt],avoid:Gr,transform:gr,attributes:{x:mr,y:vr,"text-anchor":"middle"}})}Z.shouldShowZeroLine=function(Ge,Ve,Ot){var Ft=A.simpleMap(Ve.range,Ve.r2l);return Ft[0]*Ft[1]<=0&&Ve.zeroline&&(Ve.type==="linear"||Ve.type==="-")&&!(Ve.rangebreaks&&Ve.maskBreaks(0)===_)&&(xt(Ve,0)||!At(Ge,Ve,Ot,Ft)||Wt(Ge,Ve))},Z.clipEnds=function(Ge,Ve){return Ve.filter(function(Ot){return xt(Ge,Ot.x)})};function xt(Ge,Ve){var Ot=Ge.l2p(Ve);return Ot>1&&Ot<Ge._length-1}function At(Ge,Ve,Ot,Ft){var Kt=Ot._mainAxis;if(!Kt)return;var rr=Ge._fullLayout,ur=Ve._id.charAt(0),ar=Z.counterLetter(Ve._id),Bt=Ve._offset+(Math.abs(Ft[0])<Math.abs(Ft[1])==(ur==="x")?0:Ve._length);function hr(Rr){if(!Rr.showline||!Rr.linewidth)return!1;var Ir=Math.max((Rr.linewidth+Ve.zerolinewidth)/2,1);function cn(En){return typeof En=="number"&&Math.abs(En-Bt)<Ir}if(cn(Rr._mainLinePosition)||cn(Rr._mainMirrorPosition))return!0;var rn=Rr._linepositions||{};for(var Ln in rn)if(cn(rn[Ln][0])||cn(rn[Ln][1]))return!0}var gr=rr._plots[Ot._mainSubplot];if(!(gr.mainplotinfo||gr).overlays.length)return hr(Ot);for(var mr=Z.list(Ge,ar),vr=0;vr<mr.length;vr++){var Gr=mr[vr];if(Gr._mainAxis===Kt&&hr(Gr))return!0}}function Wt(Ge,Ve){for(var Ot=Ge._fullData,Ft=Ve._mainSubplot,Kt=Ve._id.charAt(0),rr=0;rr<Ot.length;rr++){var ur=Ot[rr];if(ur.visible===!0&&ur.xaxis+ur.yaxis===Ft&&(C.traceIs(ur,"bar-like")&&ur.orientation==={x:"h",y:"v"}[Kt]||ur.fill&&ur.fill.charAt(ur.fill.length-1)===Kt))return!0}return!1}function er(Ge){var Ve=g.select(Ge),Ot=Ve.select(".text-math-group");return Ot.empty()?Ve.select("text"):Ot}Z.allowAutoMargin=function(Ge){for(var Ve=Z.list(Ge,"",!0),Ot=0;Ot<Ve.length;Ot++){var Ft=Ve[Ot];Ft.automargin&&(a.allowAutoMargin(Ge,$t(Ft)),Ft.mirror&&a.allowAutoMargin(Ge,ht(Ft))),C.getComponentMethod("rangeslider","isVisible")(Ft)&&a.allowAutoMargin(Ge,at(Ft))}};function $t(Ge){return Ge._id+".automargin"}function ht(Ge){return $t(Ge)+".mirror"}function at(Ge){return Ge._id+".rangeslider"}Z.swap=function(Ge,Ve){for(var Ot=bt(Ge,Ve),Ft=0;Ft<Ot.length;Ft++)Dt(Ge,Ot[Ft].x,Ot[Ft].y)};function bt(Ge,Ve){var Ot=[],Ft,Kt;for(Ft=0;Ft<Ve.length;Ft++){var rr=[],ur=Ge._fullData[Ve[Ft]].xaxis,ar=Ge._fullData[Ve[Ft]].yaxis;if(!(!ur||!ar)){for(Kt=0;Kt<Ot.length;Kt++)(Ot[Kt].x.indexOf(ur)!==-1||Ot[Kt].y.indexOf(ar)!==-1)&&rr.push(Kt);if(!rr.length){Ot.push({x:[ur],y:[ar]});continue}var Bt=Ot[rr[0]],hr;if(rr.length>1)for(Kt=1;Kt<rr.length;Kt++)hr=Ot[rr[Kt]],Ct(Bt.x,hr.x),Ct(Bt.y,hr.y);Ct(Bt.x,[ur]),Ct(Bt.y,[ar])}}return Ot}function Ct(Ge,Ve){for(var Ot=0;Ot<Ve.length;Ot++)Ge.indexOf(Ve[Ot])===-1&&Ge.push(Ve[Ot])}function Dt(Ge,Ve,Ot){var Ft=[],Kt=[],rr=Ge.layout,ur,ar;for(ur=0;ur<Ve.length;ur++)Ft.push(Z.getFromId(Ge,Ve[ur]));for(ur=0;ur<Ot.length;ur++)Kt.push(Z.getFromId(Ge,Ot[ur]));var Bt=Object.keys(n),hr=["anchor","domain","overlaying","position","side","tickangle","editType"],gr=["linear","log"];for(ur=0;ur<Bt.length;ur++){var mr=Bt[ur],vr=Ft[0][mr],Gr=Kt[0][mr],Rr=!0,Ir=!1,cn=!1;if(!(mr.charAt(0)==="_"||typeof vr=="function"||hr.indexOf(mr)!==-1)){for(ar=1;ar<Ft.length&&Rr;ar++){var rn=Ft[ar][mr];mr==="type"&&gr.indexOf(vr)!==-1&&gr.indexOf(rn)!==-1&&vr!==rn?Ir=!0:rn!==vr&&(Rr=!1)}for(ar=1;ar<Kt.length&&Rr;ar++){var Ln=Kt[ar][mr];mr==="type"&&gr.indexOf(Gr)!==-1&&gr.indexOf(Ln)!==-1&&Gr!==Ln?cn=!0:Kt[ar][mr]!==Gr&&(Rr=!1)}Rr&&(Ir&&(rr[Ft[0]._name].type="linear"),cn&&(rr[Kt[0]._name].type="linear"),It(rr,mr,Ft,Kt,Ge._fullLayout._dfltTitle))}}for(ur=0;ur<Ge._fullLayout.annotations.length;ur++){var En=Ge._fullLayout.annotations[ur];Ve.indexOf(En.xref)!==-1&&Ot.indexOf(En.yref)!==-1&&A.swapAttrs(rr.annotations[ur],["?"])}}function It(Ge,Ve,Ot,Ft,Kt){var rr=A.nestedProperty,ur=rr(Ge[Ot[0]._name],Ve).get(),ar=rr(Ge[Ft[0]._name],Ve).get(),Bt;for(Ve==="title"&&(ur&&ur.text===Kt.x&&(ur.text=Kt.y),ar&&ar.text===Kt.y&&(ar.text=Kt.x)),Bt=0;Bt<Ot.length;Bt++)rr(Ge,Ot[Bt]._name+"."+Ve).set(ar);for(Bt=0;Bt<Ft.length;Bt++)rr(Ge,Ft[Bt]._name+"."+Ve).set(ur)}function Vt(Ge){return Ge._id==="angularaxis"}function Nt(Ge,Ve){for(var Ot=Ve._rangebreaks.length,Ft=0;Ft<Ot;Ft++){var Kt=Ve._rangebreaks[Ft];if(Ge>=Kt.min&&Ge<Kt.max)return Kt.max}return Ge}function Jt(Ge){return(Ge.ticklabelposition||"").indexOf("inside")!==-1}function fr(Ge,Ve){Jt(Ge._anchorAxis||{})&&Ge._hideCounterAxisInsideTickLabels&&Ge._hideCounterAxisInsideTickLabels(Ve)}function cr(Ge,Ve,Ot,Ft){var Kt=Ge.anchor!=="free"&&(Ge.overlaying===void 0||Ge.overlaying===!1)?Ge._id:Ge.overlaying,rr;Ft?rr=Ge.side==="right"?Ve:-Ve:rr=Ve,Kt in Ot||(Ot[Kt]={}),Ge.side in Ot[Kt]||(Ot[Kt][Ge.side]=0),Ot[Kt][Ge.side]+=rr}function dr(Ge,Ve){return Ge.autoshift?Ve[Ge.overlaying][Ge.side]:Ge.shift||0}},52976:function(G,U,e){var g=e(38248),L=e(3400),a=e(39032).BADNUM,C=L.isArrayOrTypedArray,A=L.isDateTime,v=L.cleanNumber,p=Math.round;G.exports=function(m,h,M){var c=m,i=M.noMultiCategory;if(C(c)&&!c.length)return"-";if(!i&&u(c))return"multicategory";if(i&&Array.isArray(c[0])){for(var d=[],b=0;b<c.length;b++)if(C(c[b]))for(var w=0;w<c[b].length;w++)d.push(c[b][w]);c=d}if(s(c,h))return"date";var E=M.autotypenumbers!=="strict";return f(c,E)?"category":t(c,E)?"linear":"-"};function r(l,m){return m?g(l):typeof l=="number"}function t(l,m){for(var h=l.length,M=0;M<h;M++)if(r(l[M],m))return!0;return!1}function s(l,m){for(var h=l.length,M=n(h),c=0,i=0,d={},b=0;b<h;b+=M){var w=p(b),E=l[w],y=String(E);d[y]||(d[y]=1,A(E,m)&&c++,g(E)&&i++)}return c>i*2}function n(l){return Math.max(1,(l-1)/1e3)}function f(l,m){for(var h=l.length,M=n(h),c=0,i=0,d={},b=0;b<h;b+=M){var w=p(b),E=l[w],y=String(E);if(!d[y]){d[y]=1;var S=typeof E;S==="boolean"?i++:(m?v(E)!==a:S==="number")?c++:S==="string"&&i++}}return i>c*2}function u(l){return C(l[0])&&C(l[1])}},28336:function(G,U,e){var g=e(38248),L=e(24040),a=e(3400),C=e(31780),A=e(51272),v=e(94724),p=e(26332),r=e(25404),t=e(95936),s=e(42568),n=e(22416),f=e(42136),u=e(96312),l=e(78344),m=e(33816).WEEKDAY_PATTERN,h=e(33816).HOUR_PATTERN;G.exports=function(b,w,E,y,S){var T=y.letter,o=y.font||{},P=y.splomStash||{},x=E("visible",!y.visibleDflt),_=w._template||{},I=w.type||_.type||"-",N;if(I==="date"){var k=L.getComponentMethod("calendars","handleDefaults");k(b,w,"calendar",y.calendar),y.noTicklabelmode||(N=E("ticklabelmode"))}var F="";(!y.noTicklabelposition||I==="multicategory")&&(F=a.coerce(b,w,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:N==="period"?["outside","inside"]:T==="x"?["outside","inside","outside left","inside left","outside right","inside right"]:["outside","inside","outside top","inside top","outside bottom","inside bottom"]}},"ticklabelposition")),y.noTicklabeloverflow||E("ticklabeloverflow",F.indexOf("inside")!==-1?"hide past domain":I==="category"||I==="multicategory"?"allow":"hide past div"),l(w,S),u(b,w,E,y),n(b,w,E,y),I!=="category"&&!y.noHover&&E("hoverformat");var O=E("color"),z=O!==v.color.dflt?O:o.color,B=P.label||S._dfltTitle[T];if(s(b,w,E,I,y),!x)return w;E("title.text",B),a.coerceFont(E,"title.font",{family:o.family,size:a.bigFont(o.size),color:z}),p(b,w,E,I);var W=y.hasMinor;if(W&&(C.newContainer(w,"minor"),p(b,w,E,I,{isMinor:!0})),t(b,w,E,I,y),r(b,w,E,y),W){var q=y.isMinor;y.isMinor=!0,r(b,w,E,y),y.isMinor=q}f(b,w,E,{dfltColor:O,bgColor:y.bgColor,showGrid:y.showGrid,hasMinor:W,attributes:v}),W&&!w.minor.ticks&&!w.minor.showgrid&&delete w.minor,(w.showline||w.ticks)&&E("mirror");var ee=I==="multicategory";if(!y.noTickson&&(I==="category"||ee)&&(w.ticks||w.showgrid)){var Q;ee&&(Q="boundaries");var oe=E("tickson",Q);oe==="boundaries"&&delete w.ticklabelposition}if(ee){var Z=E("showdividers");Z&&(E("dividercolor"),E("dividerwidth"))}if(I==="date")if(A(b,w,{name:"rangebreaks",inclusionAttr:"enabled",handleItemDefaults:M}),!w.rangebreaks.length)delete w.rangebreaks;else{for(var Y=0;Y<w.rangebreaks.length;Y++)if(w.rangebreaks[Y].pattern===m){w._hasDayOfWeekBreaks=!0;break}if(l(w,S),S._has("scattergl")||S._has("splom"))for(var te=0;te<y.data.length;te++){var X=y.data[te];(X.type==="scattergl"||X.type==="splom")&&(X.visible=!1,a.warn(X.type+" traces do not work on axes with rangebreaks. Setting trace "+X.index+" to `visible: false`."))}}return w};function M(d,b,w){function E(N,k){return a.coerce(d,b,v.rangebreaks,N,k)}var y=E("enabled");if(y){var S=E("bounds");if(S&&S.length>=2){var T="",o,P;if(S.length===2){for(o=0;o<2;o++)if(P=i(S[o]),P){T=m;break}}var x=E("pattern",T);if(x===m)for(o=0;o<2;o++)P=i(S[o]),P&&(b.bounds[o]=S[o]=P-1);if(x)for(o=0;o<2;o++)switch(P=S[o],x){case m:if(!g(P)){b.enabled=!1;return}if(P=+P,P!==Math.floor(P)||P<0||P>=7){b.enabled=!1;return}b.bounds[o]=S[o]=P;break;case h:if(!g(P)){b.enabled=!1;return}if(P=+P,P<0||P>24){b.enabled=!1;return}b.bounds[o]=S[o]=P;break}if(w.autorange===!1){var _=w.range;if(_[0]<_[1]){if(S[0]<_[0]&&S[1]>_[1]){b.enabled=!1;return}}else if(S[0]>_[0]&&S[1]<_[1]){b.enabled=!1;return}}}else{var I=E("values");if(I&&I.length)E("dvalue");else{b.enabled=!1;return}}}}var c={sun:1,mon:2,tue:3,wed:4,thu:5,fri:6,sat:7};function i(d){if(typeof d=="string")return c[d.substr(0,3).toLowerCase()]}},29736:function(G,U,e){var g=e(26880),L=g.FORMAT_LINK,a=g.DATE_FORMAT_LINK;function C(p,r){return{valType:"string",dflt:"",editType:"none",description:(r?A:v)("hover text",p)+["By default the values are formatted using "+(r?"generic number format":"`"+p+"axis.hoverformat`")+"."].join(" ")}}function A(p,r){return["Sets the "+p+" formatting rule"+(r?"for `"+r+"` ":""),"using d3 formatting mini-languages","which are very similar to those in Python. For numbers, see: "+L+"."].join(" ")}function v(p,r){return A(p,r)+[" And for dates see: "+a+".","We add two items to d3's date formatter:","*%h* for half of the year as a decimal number as well as","*%{n}f* for fractional seconds","with n digits. For example, *2016-10-13 09:15:23.456* with tickformat","*%H~%M~%S.%2f* would display *09~15~23.46*"].join(" ")}G.exports={axisHoverFormat:C,descriptionOnlyNumbers:A,descriptionWithDates:v}},79811:function(G,U,e){var g=e(24040),L=e(33816);U.id2name=function(A){if(!(typeof A!="string"||!A.match(L.AX_ID_PATTERN))){var v=A.split(" ")[0].substr(1);return v==="1"&&(v=""),A.charAt(0)+"axis"+v}},U.name2id=function(A){if(!!A.match(L.AX_NAME_PATTERN)){var v=A.substr(5);return v==="1"&&(v=""),A.charAt(0)+v}},U.cleanId=function(A,v,p){var r=/( domain)$/.test(A);if(!(typeof A!="string"||!A.match(L.AX_ID_PATTERN))&&!(v&&A.charAt(0)!==v)&&!(r&&!p)){var t=A.split(" ")[0].substr(1).replace(/^0+/,"");return t==="1"&&(t=""),A.charAt(0)+t+(r&&p?" domain":"")}},U.list=function(C,A,v){var p=C._fullLayout;if(!p)return[];var r=U.listIds(C,A),t=new Array(r.length),s;for(s=0;s<r.length;s++){var n=r[s];t[s]=p[n.charAt(0)+"axis"+n.substr(1)]}if(!v){var f=p._subplots.gl3d||[];for(s=0;s<f.length;s++){var u=p[f[s]];A?t.push(u[A+"axis"]):t.push(u.xaxis,u.yaxis,u.zaxis)}}return t},U.listIds=function(C,A){var v=C._fullLayout;if(!v)return[];var p=v._subplots;return A?p[A+"axis"]:p.xaxis.concat(p.yaxis)},U.getFromId=function(C,A,v){var p=C._fullLayout;return A=A===void 0||typeof A!="string"?A:A.replace(" domain",""),v==="x"?A=A.replace(/y[0-9]*/,""):v==="y"&&(A=A.replace(/x[0-9]*/,"")),p[U.id2name(A)]},U.getFromTrace=function(C,A,v){var p=C._fullLayout,r=null;if(g.traceIs(A,"gl3d")){var t=A.scene;t.substr(0,5)==="scene"&&(r=p[t][v+"axis"])}else r=U.getFromId(C,A[v+"axis"]||v);return r},U.idSort=function(C,A){var v=C.charAt(0),p=A.charAt(0);return v!==p?v>p?1:-1:+(C.substr(1)||1)-+(A.substr(1)||1)},U.ref2id=function(C){return/^[xyz]/.test(C)?C.split(" ")[0]:!1};function a(C,A){if(A&&A.length){for(var v=0;v<A.length;v++)if(A[v][C])return!0}return!1}U.isLinked=function(C,A){return a(A,C._axisMatchGroups)||a(A,C._axisConstraintGroups)}},22416:function(G,U,e){var g=e(38116).isTypedArraySpec;function L(a,C){var A=C.dataAttr||a._id.charAt(0),v={},p,r,t;if(C.axData)p=C.axData;else for(p=[],r=0;r<C.data.length;r++){var s=C.data[r];s[A+"axis"]===a._id&&p.push(s)}for(r=0;r<p.length;r++){var n=p[r][A];for(t=0;t<n.length;t++){var f=n[t];f!=null&&(v[f]=1)}}return Object.keys(v)}G.exports=function(C,A,v,p){if(A.type==="category"){var r=C.categoryarray,t=Array.isArray(r)&&r.length>0||g(r),s;t&&(s="array");var n=v("categoryorder",s),f;n==="array"&&(f=v("categoryarray")),!t&&n==="array"&&(n=A.categoryorder="trace"),n==="trace"?A._initialCategories=[]:n==="array"?A._initialCategories=f.slice():(f=L(A,p).sort(),n==="category ascending"?A._initialCategories=f:n==="category descending"&&(A._initialCategories=f.reverse()))}}},98728:function(G,U,e){var g=e(38248),L=e(3400),a=e(39032),C=a.ONEDAY,A=a.ONEWEEK;U.dtick=function(v,p){var r=p==="log",t=p==="date",s=p==="category",n=t?C:1;if(!v)return n;if(g(v))return v=Number(v),v<=0?n:s?Math.max(1,Math.round(v)):t?Math.max(.1,v):v;if(typeof v!="string"||!(t||r))return n;var f=v.charAt(0),u=v.substr(1);return u=g(u)?Number(u):0,u<=0||!(t&&f==="M"&&u===Math.round(u)||r&&f==="L"||r&&f==="D"&&(u===1||u===2))?n:v},U.tick0=function(v,p,r,t){if(p==="date")return L.cleanDate(v,L.dateTick0(r,t%A===0?1:0));if(!(t==="D1"||t==="D2"))return g(v)?Number(v):0}},33816:function(G,U,e){var g=e(53756).counter;G.exports={idRegex:{x:g("x","( domain)?"),y:g("y","( domain)?")},attrRegex:g("[xy]axis"),xAxisMatch:g("xaxis"),yAxisMatch:g("yaxis"),AX_ID_PATTERN:/^[xyz][0-9]*( domain)?$/,AX_NAME_PATTERN:/^[xyz]axis[0-9]*$/,SUBPLOT_PATTERN:/^x([0-9]*)y([0-9]*)$/,HOUR_PATTERN:"hour",WEEKDAY_PATTERN:"day of week",MINDRAG:8,MINZOOM:20,DRAGGERSIZE:20,REDRAWDELAY:50,DFLTRANGEX:[-1,6],DFLTRANGEY:[-1,4],traceLayerClasses:["imagelayer","heatmaplayer","contourcarpetlayer","contourlayer","funnellayer","waterfalllayer","barlayer","carpetlayer","violinlayer","boxlayer","ohlclayer","scattercarpetlayer","scatterlayer"],clipOnAxisFalseQuery:[".scatterlayer",".barlayer",".funnellayer",".waterfalllayer"],layerValue2layerClass:{"above traces":"above","below traces":"below"}}},71888:function(G,U,e){var g=e(3400),L=e(19280),a=e(79811).id2name,C=e(94724),A=e(21160),v=e(78344),p=e(39032).ALMOST_EQUAL,r=e(84284).FROM_BL;U.handleDefaults=function(h,M,c){var i=c.axIds,d=c.axHasImage,b=M._axisConstraintGroups=[],w=M._axisMatchGroups=[],E,y,S,T,o,P,x,_;for(E=0;E<i.length;E++)T=a(i[E]),o=h[T],P=M[T],t(o,P,{axIds:i,layoutOut:M,hasImage:d[T]});function I(ee,Q){for(E=0;E<ee.length;E++){y=ee[E];for(S in y)M[a(S)][Q]=y}}for(I(w,"_matchGroup"),E=0;E<b.length;E++){y=b[E];for(S in y)if(P=M[a(S)],P.fixedrange){for(var N in y){var k=a(N);(h[k]||{}).fixedrange===!1&&g.warn("fixedrange was specified as false for axis "+k+" but was overridden because another axis in its constraint group has fixedrange true"),M[k].fixedrange=!0}break}}for(E=0;E<b.length;){y=b[E];for(S in y){P=M[a(S)],P._matchGroup&&Object.keys(P._matchGroup).length===Object.keys(y).length&&(b.splice(E,1),E--);break}E++}I(b,"_constraintGroup");var F=["constrain","range","autorange","rangemode","rangebreaks","categoryorder","categoryarray"],O=!1,z=!1;function B(){_=P[x],x==="rangebreaks"&&(z=P._hasDayOfWeekBreaks)}for(E=0;E<w.length;E++){y=w[E];for(var W=0;W<F.length;W++){x=F[W],_=null;var q;for(S in y)if(T=a(S),o=h[T],P=M[T],x in P){if(!P.matches&&(q=P,x in o)){B();break}_===null&&x in o&&B()}if(x==="range"&&_&&o.range&&o.range.length===2&&o.range[0]!==null&&o.range[1]!==null&&(O=!0),x==="autorange"&&_===null&&O&&(_=!1),_===null&&x in q&&(_=q[x]),_!==null)for(S in y)P=M[a(S)],P[x]=x==="range"?_.slice():_,x==="rangebreaks"&&(P._hasDayOfWeekBreaks=z,v(P,M))}}};function t(h,M,c){var i=c.axIds,d=c.layoutOut,b=c.hasImage,w=d._axisConstraintGroups,E=d._axisMatchGroups,y=M._id,S=y.charAt(0),T=((d._splomAxes||{})[S]||{})[y]||{},o=M._id,P=o.charAt(0)==="x";M._matchGroup=null,M._constraintGroup=null;function x(Y,te){return g.coerce(h,M,C,Y,te)}x("constrain",b?"domain":"range"),g.coerce(h,M,{constraintoward:{valType:"enumerated",values:P?["left","center","right"]:["bottom","middle","top"],dflt:P?"center":"middle"}},"constraintoward");var _=M.type,I,N,k=[];for(I=0;I<i.length;I++)if(N=i[I],N!==o){var F=d[a(N)];F.type===_&&k.push(N)}var O=n(w,o);if(O){var z=[];for(I=0;I<k.length;I++)N=k[I],O[N]||z.push(N);k=z}var B=k.length,W,q;B&&(h.matches||T.matches)&&(W=g.coerce(h,M,{matches:{valType:"enumerated",values:k,dflt:k.indexOf(T.matches)!==-1?T.matches:void 0}},"matches"));var ee=b&&!P?M.anchor:void 0;if(B&&!W&&(h.scaleanchor||ee)&&(q=g.coerce(h,M,{scaleanchor:{valType:"enumerated",values:k.concat([!1])}},"scaleanchor",ee)),W){M._matchGroup=f(E,o,W,1);var Q=d[a(W)],oe=s(d,M)/s(d,Q);P!==(W.charAt(0)==="x")&&(oe=(P?"x":"y")+oe),f(w,o,W,oe)}else h.matches&&i.indexOf(h.matches)!==-1&&g.warn("ignored "+M._name+'.matches: "'+h.matches+'" to avoid an infinite loop');if(q){var Z=x("scaleratio");Z||(Z=M.scaleratio=1),f(w,o,q,Z)}else h.scaleanchor&&i.indexOf(h.scaleanchor)!==-1&&g.warn("ignored "+M._name+'.scaleanchor: "'+h.scaleanchor+'" to avoid either an infinite loop and possibly inconsistent scaleratios, or because this axis declares a *matches* constraint.')}function s(h,M){var c=M.domain;return c||(c=h[a(M.overlaying)].domain),c[1]-c[0]}function n(h,M){for(var c=0;c<h.length;c++)if(h[c][M])return h[c];return null}function f(h,M,c,i){var d,b,w,E,y,S=n(h,M);S===null?(S={},S[M]=1,y=h.length,h.push(S)):y=h.indexOf(S);var T=Object.keys(S);for(d=0;d<h.length;d++)if(w=h[d],d!==y&&w[c]){var o=w[c];for(b=0;b<T.length;b++)E=T[b],w[E]=u(o,u(i,S[E]));h.splice(y,1);return}if(i!==1)for(b=0;b<T.length;b++){var P=T[b];S[P]=u(i,S[P])}S[c]=1}function u(h,M){var c="",i="",d,b;typeof h=="string"&&(c=h.match(/^[xy]*/)[0],d=c.length,h=+h.substr(d)),typeof M=="string"&&(i=M.match(/^[xy]*/)[0],b=i.length,M=+M.substr(b));var w=h*M;return!d&&!b?w:!d||!b||c.charAt(0)===i.charAt(0)?c+i+h*M:d===b?w:(d>b?c.substr(b):i.substr(d))+w}function l(h,M){for(var c=M._size,i=c.h/c.w,d={},b=Object.keys(h),w=0;w<b.length;w++){var E=b[w],y=h[E];if(typeof y=="string"){var S=y.match(/^[xy]*/)[0],T=S.length;y=+y.substr(T);for(var o=S.charAt(0)==="y"?i:1/i,P=0;P<T;P++)y*=o}d[E]=y}return d}U.enforce=function(M){var c=M._fullLayout,i=c._axisConstraintGroups||[],d,b,w,E,y,S,T,o;for(d=0;d<i.length;d++){w=l(i[d],c);var P=Object.keys(w),x=1/0,_=0,I=1/0,N={},k={},F=!1;for(b=0;b<P.length;b++)E=P[b],k[E]=y=c[a(E)],y._inputDomain?y.domain=y._inputDomain.slice():y._inputDomain=y.domain.slice(),y._inputRange||(y._inputRange=y.range.slice()),y.setScale(),N[E]=S=Math.abs(y._m)/w[E],x=Math.min(x,S),(y.constrain==="domain"||!y._constraintShrinkable)&&(I=Math.min(I,S)),delete y._constraintShrinkable,_=Math.max(_,S),y.constrain==="domain"&&(F=!0);if(!(x>p*_&&!F)){for(b=0;b<P.length;b++)if(E=P[b],S=N[E],y=k[E],T=y.constrain,S!==I||T==="domain")if(o=S/I,T==="range")A(y,o);else{var O=y._inputDomain,z=(y.domain[1]-y.domain[0])/(O[1]-O[0]),B=(y.r2l(y.range[1])-y.r2l(y.range[0]))/(y.r2l(y._inputRange[1])-y.r2l(y._inputRange[0]));if(o/=z,o*B<1){y.domain=y._input.domain=O.slice(),A(y,o);continue}if(B<1&&(y.range=y._input.range=y._inputRange.slice(),o*=B),y.autorange){var W=y.r2l(y.range[0]),q=y.r2l(y.range[1]),ee=(W+q)/2,Q=ee,oe=ee,Z=Math.abs(q-ee),Y=ee-Z*o*1.0001,te=ee+Z*o*1.0001,X=L.makePadFn(c,y,0),$=L.makePadFn(c,y,1);m(y,o);var ie=Math.abs(y._m),J=L.concatExtremes(M,y),j=J.min,se=J.max,ne,le;for(le=0;le<j.length;le++)ne=j[le].val-X(j[le])/ie,ne>Y&&ne<Q&&(Q=ne);for(le=0;le<se.length;le++)ne=se[le].val+$(se[le])/ie,ne<te&&ne>oe&&(oe=ne);var pe=(oe-Q)/(2*Z);o/=pe,Q=y.l2r(Q),oe=y.l2r(oe),y.range=y._input.range=W<q?[Q,oe]:[oe,Q]}m(y,o)}}}},U.getAxisGroup=function(M,c){for(var i=M._axisMatchGroups,d=0;d<i.length;d++){var b=i[d];if(b[c])return"g"+d}return c},U.clean=function(M,c){if(c._inputDomain){for(var i=!1,d=c._id,b=M._fullLayout._axisConstraintGroups,w=0;w<b.length;w++)if(b[w][d]){i=!0;break}(!i||c.constrain!=="domain")&&(c._input.domain=c.domain=c._inputDomain,delete c._inputDomain)}};function m(h,M){var c=h._inputDomain,i=r[h.constraintoward],d=c[0]+(c[1]-c[0])*i;h.domain=h._input.domain=[d+(c[0]-d)/M,d+(c[1]-d)/M],h.setScale()}},51184:function(G,U,e){var g=e(33428),L=e(3400),a=L.numberFormat,C=e(49760),A=e(89184),v=e(24040),p=L.strTranslate,r=e(72736),t=e(76308),s=e(43616),n=e(93024),f=e(54460),u=e(93972),l=e(86476),m=e(72760),h=m.selectingOrDrawing,M=m.freeMode,c=e(84284).FROM_TL,i=e(73696),d=e(39172).redrawReglTraces,b=e(7316),w=e(79811).getFromId,E=e(22676).prepSelect,y=e(22676).clearOutline,S=e(22676).selectOnClick,T=e(21160),o=e(33816),P=o.MINDRAG,x=o.MINZOOM,_=!0;function I(ne,le,pe,Ae,be,Re,xe,Me){var ye=ne._fullLayout._zoomlayer,Se=xe+Me==="nsew",Fe=(xe+Me).length===1,Be,_e,Ue,it,lt,$e,qe,ft,ct,pt,yt,Et,tt,Ie,We,Ze,He,De,me,ge,Ee,Te,ze;pe+=le.yaxis._shift;function Xe(){if(Be=le.xaxis,_e=le.yaxis,ct=Be._length,pt=_e._length,qe=Be._offset,ft=_e._offset,Ue={},Ue[Be._id]=Be,it={},it[_e._id]=_e,xe&&Me)for(var ar=le.overlays,Bt=0;Bt<ar.length;Bt++){var hr=ar[Bt].xaxis;Ue[hr._id]=hr;var gr=ar[Bt].yaxis;it[gr._id]=gr}lt=se(Ue),$e=se(it),tt=F(lt,Me),Ie=F($e,xe),We=!Ie&&!tt,Et=J(ne,ne._fullLayout._axisMatchGroups,Ue,it),yt=J(ne,ne._fullLayout._axisConstraintGroups,Ue,it,Et);var mr=yt.isSubplotConstrained||Et.isSubplotConstrained;Ze=Me||mr,He=xe||mr;var vr=ne._fullLayout;De=vr._has("scattergl"),me=vr._has("splom"),ge=vr._has("svg")}Xe();var et=q(Ie+tt,ne._fullLayout.dragmode,Se),ut=k(le,xe+Me+"drag",et,pe,Ae,be,Re);if(We&&!Se)return ut.onmousedown=null,ut.style.pointerEvents="none",ut;var dt={element:ut,gd:ne,plotinfo:le};dt.prepFn=function(ar,Bt,hr){var gr=dt.dragmode,mr=ne._fullLayout.dragmode;mr!==gr&&(dt.dragmode=mr),Xe(),Te=ne._fullLayout._invScaleX,ze=ne._fullLayout._invScaleY,We||(Se?ar.shiftKey?mr==="pan"?mr="zoom":h(mr)||(mr="pan"):ar.ctrlKey&&(mr="pan"):mr="pan"),M(mr)?dt.minDrag=1:dt.minDrag=void 0,h(mr)?(dt.xaxes=lt,dt.yaxes=$e,E(ar,Bt,hr,dt,mr)):(dt.clickFn=jt,h(gr)&&Zt(),We||(mr==="zoom"?(dt.moveFn=bt,dt.doneFn=Dt,dt.minDrag=1,at(ar,Bt,hr)):mr==="pan"&&(dt.moveFn=cr,dt.doneFn=Ot))),ne._fullLayout._redrag=function(){var vr=ne._dragdata;if(vr&&vr.element===ut){var Gr=ne._fullLayout.dragmode;h(Gr)||(Xe(),Ft([0,0,ct,pt]),dt.moveFn(vr.dx,vr.dy))}}};function Zt(){dt.plotinfo.selection=!1,y(ne)}function jt(ar,Bt){var hr=dt.gd;if(hr._fullLayout._activeShapeIndex>=0){hr._fullLayout._deactivateShape(hr);return}var gr=hr._fullLayout.clickmode;if(Y(hr),ar===2&&!Fe&&Ve(),Se)gr.indexOf("select")>-1&&S(Bt,hr,lt,$e,le.id,dt),gr.indexOf("event")>-1&&n.click(hr,Bt,le.id);else if(ar===1&&Fe){var mr=xe?_e:Be,vr=xe==="s"||Me==="w"?0:1,Gr=mr._name+".range["+vr+"]",Rr=O(mr,vr),Ir="left",cn="middle";if(mr.fixedrange)return;xe?(cn=xe==="n"?"top":"bottom",mr.side==="right"&&(Ir="right")):Me==="e"&&(Ir="right"),hr._context.showAxisRangeEntryBoxes&&g.select(ut).call(r.makeEditable,{gd:hr,immediate:!0,background:hr._fullLayout.paper_bgcolor,text:String(Rr),fill:mr.tickfont?mr.tickfont.color:"#444",horizontalAlign:Ir,verticalAlign:cn}).on("edit",function(rn){var Ln=mr.d2r(rn);Ln!==void 0&&v.call("_guiRelayout",hr,Gr,Ln)})}}l.init(dt);var Tt,kt,Qt,wr,xt,At,Wt,er,$t,ht;function at(ar,Bt,hr){var gr=ut.getBoundingClientRect();Tt=Bt-gr.left,kt=hr-gr.top,ne._fullLayout._calcInverseTransform(ne);var mr=L.apply3DTransform(ne._fullLayout._invTransform)(Tt,kt);Tt=mr[0],kt=mr[1],Qt={l:Tt,r:Tt,w:0,t:kt,b:kt,h:0},wr=ne._hmpixcount?ne._hmlumcount/ne._hmpixcount:C(ne._fullLayout.plot_bgcolor).getLuminance(),xt="M0,0H"+ct+"V"+pt+"H0V0",At=!1,Wt="xy",ht=!1,er=ee(ye,wr,qe,ft,xt),$t=Q(ye,qe,ft)}function bt(ar,Bt){if(ne._transitioningWithDuration)return!1;var hr=Math.max(0,Math.min(ct,Te*ar+Tt)),gr=Math.max(0,Math.min(pt,ze*Bt+kt)),mr=Math.abs(hr-Tt),vr=Math.abs(gr-kt);Qt.l=Math.min(Tt,hr),Qt.r=Math.max(Tt,hr),Qt.t=Math.min(kt,gr),Qt.b=Math.max(kt,gr);function Gr(){Wt="",Qt.r=Qt.l,Qt.t=Qt.b,$t.attr("d","M0,0Z")}if(yt.isSubplotConstrained)mr>x||vr>x?(Wt="xy",mr/ct>vr/pt?(vr=mr*pt/ct,kt>gr?Qt.t=kt-vr:Qt.b=kt+vr):(mr=vr*ct/pt,Tt>hr?Qt.l=Tt-mr:Qt.r=Tt+mr),$t.attr("d",ie(Qt))):Gr();else if(Et.isSubplotConstrained)if(mr>x||vr>x){Wt="xy";var Rr=Math.min(Qt.l/ct,(pt-Qt.b)/pt),Ir=Math.max(Qt.r/ct,(pt-Qt.t)/pt);Qt.l=Rr*ct,Qt.r=Ir*ct,Qt.b=(1-Rr)*pt,Qt.t=(1-Ir)*pt,$t.attr("d",ie(Qt))}else Gr();else!Ie||vr<Math.min(Math.max(mr*.6,P),x)?mr<P||!tt?Gr():(Qt.t=0,Qt.b=pt,Wt="x",$t.attr("d",X(Qt,kt))):!tt||mr<Math.min(vr*.6,x)?(Qt.l=0,Qt.r=ct,Wt="y",$t.attr("d",$(Qt,Tt))):(Wt="xy",$t.attr("d",ie(Qt)));Qt.w=Qt.r-Qt.l,Qt.h=Qt.b-Qt.t,Wt&&(ht=!0),ne._dragged=ht,oe(er,$t,Qt,xt,At,wr),Ct(),ne.emit("plotly_relayouting",Ee),At=!0}function Ct(){Ee={},(Wt==="xy"||Wt==="x")&&(z(lt,Qt.l/ct,Qt.r/ct,Ee,yt.xaxes),dr("x",Ee)),(Wt==="xy"||Wt==="y")&&(z($e,(pt-Qt.b)/pt,(pt-Qt.t)/pt,Ee,yt.yaxes),dr("y",Ee))}function Dt(){Ct(),Y(ne),Ot(),te(ne)}var It=[0,0,ct,pt],Vt=null,Nt=o.REDRAWDELAY,Jt=le.mainplot?ne._fullLayout._plots[le.mainplot]:le;function fr(ar){if(!ne._context._scrollZoom.cartesian&&!ne._fullLayout._enablescrollzoom)return;if(Zt(),ne._transitioningWithDuration){ar.preventDefault(),ar.stopPropagation();return}Xe(),clearTimeout(Vt);var Bt=-ar.deltaY;if(isFinite(Bt)||(Bt=ar.wheelDelta/10),!isFinite(Bt)){L.log("Did not find wheel motion attributes: ",ar);return}var hr=Math.exp(-Math.min(Math.max(Bt,-20),20)/200),gr=Jt.draglayer.select(".nsewdrag").node().getBoundingClientRect(),mr=(ar.clientX-gr.left)/gr.width,vr=(gr.bottom-ar.clientY)/gr.height,Gr;function Rr(Ir,cn,rn){if(Ir.fixedrange)return;var Ln=L.simpleMap(Ir.range,Ir.r2l),En=Ln[0]+(Ln[1]-Ln[0])*cn;function Tr(Lr){return Ir.l2r(En+(Lr-En)*rn)}Ir.range=Ln.map(Tr)}if(Ze){for(Me||(mr=.5),Gr=0;Gr<lt.length;Gr++)Rr(lt[Gr],mr,hr);dr("x"),It[2]*=hr,It[0]+=It[2]*mr*(1/hr-1)}if(He){for(xe||(vr=.5),Gr=0;Gr<$e.length;Gr++)Rr($e[Gr],vr,hr);dr("y"),It[3]*=hr,It[1]+=It[3]*(1-vr)*(1/hr-1)}Ft(It),Ge(),ne.emit("plotly_relayouting",Ee),Vt=setTimeout(function(){!ne._fullLayout||(It=[0,0,ct,pt],Ot())},Nt),ar.preventDefault()}xe.length*Me.length!==1&&j(ut,fr);function cr(ar,Bt){if(ar=ar*Te,Bt=Bt*ze,ne._transitioningWithDuration)return;if(ne._fullLayout._replotting=!0,tt==="ew"||Ie==="ns"){var hr=tt?-ar:0,gr=Ie?-Bt:0;if(Et.isSubplotConstrained){if(tt&&Ie){var mr=(ar/ct-Bt/pt)/2;ar=mr*ct,Bt=-mr*pt,hr=-ar,gr=-Bt}Ie?hr=-gr*ct/pt:gr=-hr*pt/ct}tt&&(B(lt,ar),dr("x")),Ie&&(B($e,Bt),dr("y")),Ft([hr,gr,ct,pt]),Ge(),ne.emit("plotly_relayouting",Ee);return}function vr(Tr,Lr,Wr){for(var Ur=1-Lr,an,pn,gn=0;gn<Tr.length;gn++){var Cn=Tr[gn];if(!Cn.fixedrange){an=Cn,pn=Cn._rl[Ur]+(Cn._rl[Lr]-Cn._rl[Ur])/W(Wr/Cn._length);var zn=Cn.l2r(pn);zn!==!1&&zn!==void 0&&(Cn.range[Lr]=zn)}}return an._length*(an._rl[Lr]-pn)/(an._rl[Lr]-an._rl[Ur])}var Gr=tt==="w"==(Ie==="n")?1:-1;if(tt&&Ie&&(yt.isSubplotConstrained||Et.isSubplotConstrained)){var Rr=(ar/ct+Gr*Bt/pt)/2;ar=Rr*ct,Bt=Gr*Rr*pt}var Ir,cn;if(tt==="w"?ar=vr(lt,0,ar):tt==="e"?ar=vr(lt,1,-ar):tt||(ar=0),Ie==="n"?Bt=vr($e,1,Bt):Ie==="s"?Bt=vr($e,0,-Bt):Ie||(Bt=0),Ir=tt==="w"?ar:0,cn=Ie==="n"?Bt:0,yt.isSubplotConstrained&&!Et.isSubplotConstrained||Et.isSubplotConstrained&&tt&&Ie&&Gr>0){var rn;if(Et.isSubplotConstrained||!tt&&Ie.length===1){for(rn=0;rn<lt.length;rn++)lt[rn].range=lt[rn]._r.slice(),T(lt[rn],1-Bt/pt);ar=Bt*ct/pt,Ir=ar/2}if(Et.isSubplotConstrained||!Ie&&tt.length===1){for(rn=0;rn<$e.length;rn++)$e[rn].range=$e[rn]._r.slice(),T($e[rn],1-ar/ct);Bt=ar*pt/ct,cn=Bt/2}}(!Et.isSubplotConstrained||!Ie)&&dr("x"),(!Et.isSubplotConstrained||!tt)&&dr("y");var Ln=ct-ar,En=pt-Bt;Et.isSubplotConstrained&&!(tt&&Ie)&&(tt?(cn=Ir?0:ar*pt/ct,En=Ln*pt/ct):(Ir=cn?0:Bt*ct/pt,Ln=En*ct/pt)),Ft([Ir,cn,Ln,En]),Ge(),ne.emit("plotly_relayouting",Ee)}function dr(ar,Bt){for(var hr=Et.isSubplotConstrained?{x:$e,y:lt}[ar]:Et[ar+"axes"],gr=Et.isSubplotConstrained?{x:lt,y:$e}[ar]:[],mr=0;mr<hr.length;mr++){var vr=hr[mr],Gr=vr._id,Rr=Et.xLinks[Gr]||Et.yLinks[Gr],Ir=gr[0]||Ue[Rr]||it[Rr];Ir&&(Bt?(Bt[vr._name+".range[0]"]=Bt[Ir._name+".range[0]"],Bt[vr._name+".range[1]"]=Bt[Ir._name+".range[1]"]):vr.range=Ir.range.slice())}}function Ge(){var ar=[],Bt;function hr(Gr){for(Bt=0;Bt<Gr.length;Bt++)Gr[Bt].fixedrange||ar.push(Gr[Bt]._id)}function gr(Gr,Rr){for(Bt=0;Bt<Gr.length;Bt++){var Ir=Gr[Bt],cn=Ir[Rr];!Ir.fixedrange&&cn.tickmode==="sync"&&ar.push(cn._id)}}for(Ze&&(hr(lt),hr(yt.xaxes),hr(Et.xaxes),gr(le.overlays,"xaxis")),He&&(hr($e),hr(yt.yaxes),hr(Et.yaxes),gr(le.overlays,"yaxis")),Ee={},Bt=0;Bt<ar.length;Bt++){var mr=ar[Bt],vr=w(ne,mr);f.drawOne(ne,vr,{skipTitle:!0}),Ee[vr._name+".range[0]"]=vr.range[0],Ee[vr._name+".range[1]"]=vr.range[1]}f.redrawComponents(ne,ar)}function Ve(){if(!ne._transitioningWithDuration){var ar=ne._context.doubleClick,Bt=[];tt&&(Bt=Bt.concat(lt)),Ie&&(Bt=Bt.concat($e)),Et.xaxes&&(Bt=Bt.concat(Et.xaxes)),Et.yaxes&&(Bt=Bt.concat(Et.yaxes));var hr={},gr,mr;if(ar==="reset+autosize")for(ar="autosize",mr=0;mr<Bt.length;mr++){gr=Bt[mr];var vr=gr._rangeInitial0,Gr=gr._rangeInitial1,Rr=vr!==void 0||Gr!==void 0;if(Rr&&(vr!==void 0&&vr!==gr.range[0]||Gr!==void 0&&Gr!==gr.range[1])||!Rr&&gr.autorange!==!0){ar="reset";break}}if(ar==="autosize")for(mr=0;mr<Bt.length;mr++)gr=Bt[mr],gr.fixedrange||(hr[gr._name+".autorange"]=!0);else if(ar==="reset"){for((tt||yt.isSubplotConstrained)&&(Bt=Bt.concat(yt.xaxes)),Ie&&!yt.isSubplotConstrained&&(Bt=Bt.concat(yt.yaxes)),yt.isSubplotConstrained&&(tt?Ie||(Bt=Bt.concat($e)):Bt=Bt.concat(lt)),mr=0;mr<Bt.length;mr++)if(gr=Bt[mr],!gr.fixedrange){var Ir=gr._name,cn=gr._autorangeInitial;gr._rangeInitial0===void 0&&gr._rangeInitial1===void 0?hr[Ir+".autorange"]=!0:gr._rangeInitial0===void 0?(hr[Ir+".autorange"]=cn,hr[Ir+".range"]=[null,gr._rangeInitial1]):gr._rangeInitial1===void 0?(hr[Ir+".range"]=[gr._rangeInitial0,null],hr[Ir+".autorange"]=cn):hr[Ir+".range"]=[gr._rangeInitial0,gr._rangeInitial1]}}ne.emit("plotly_doubleclick",null),v.call("_guiRelayout",ne,hr)}}function Ot(){Ft([0,0,ct,pt]),L.syncOrAsync([b.previousPromises,function(){ne._fullLayout._replotting=!1,v.call("_guiRelayout",ne,Ee)}],ne)}function Ft(ar){var Bt=ne._fullLayout,hr=Bt._plots,gr=Bt._subplots.cartesian,mr,vr,Gr,Rr;if(me&&v.subplotsRegistry.splom.drag(ne),De){for(mr=0;mr<gr.length;mr++)if(vr=hr[gr[mr]],Gr=vr.xaxis,Rr=vr.yaxis,vr._scene){var Ir=L.simpleMap(Gr.range,Gr.r2l),cn=L.simpleMap(Rr.range,Rr.r2l);Gr.limitRange&&Gr.limitRange(),Rr.limitRange&&Rr.limitRange(),Ir=Gr.range,cn=Rr.range,vr._scene.update({range:[Ir[0],cn[0],Ir[1],cn[1]]})}}if((me||De)&&(i(ne),d(ne)),ge){var rn=ar[2]/Be._length,Ln=ar[3]/_e._length;for(mr=0;mr<gr.length;mr++){vr=hr[gr[mr]],Gr=vr.xaxis,Rr=vr.yaxis;var En=(Ze||Et.isSubplotConstrained)&&!Gr.fixedrange&&Ue[Gr._id],Tr=(He||Et.isSubplotConstrained)&&!Rr.fixedrange&&it[Rr._id],Lr,Wr,Ur,an;if(En?(Lr=rn,Ur=Me||Et.isSubplotConstrained?ar[0]:ur(Gr,Lr)):Et.xaHash[Gr._id]?(Lr=rn,Ur=ar[0]*Gr._length/Be._length):Et.yaHash[Gr._id]?(Lr=Ln,Ur=Ie==="ns"?-ar[1]*Gr._length/_e._length:ur(Gr,Lr,{n:"top",s:"bottom"}[Ie])):(Lr=Kt(Gr,rn,Ln),Ur=rr(Gr,Lr)),Lr>1&&(Gr.maxallowed!==void 0&&Ze===(Gr.range[0]<Gr.range[1]?"e":"w")||Gr.minallowed!==void 0&&Ze===(Gr.range[0]<Gr.range[1]?"w":"e"))&&(Lr=1,Ur=0),Tr?(Wr=Ln,an=xe||Et.isSubplotConstrained?ar[1]:ur(Rr,Wr)):Et.yaHash[Rr._id]?(Wr=Ln,an=ar[1]*Rr._length/_e._length):Et.xaHash[Rr._id]?(Wr=rn,an=tt==="ew"?-ar[0]*Rr._length/Be._length:ur(Rr,Wr,{e:"right",w:"left"}[tt])):(Wr=Kt(Rr,rn,Ln),an=rr(Rr,Wr)),Wr>1&&(Rr.maxallowed!==void 0&&He===(Rr.range[0]<Rr.range[1]?"n":"s")||Rr.minallowed!==void 0&&He===(Rr.range[0]<Rr.range[1]?"s":"n"))&&(Wr=1,an=0),!(!Lr&&!Wr)){Lr||(Lr=1),Wr||(Wr=1);var pn=Gr._offset-Ur/Lr,gn=Rr._offset-an/Wr;vr.clipRect.call(s.setTranslate,Ur,an).call(s.setScale,Lr,Wr),vr.plot.call(s.setTranslate,pn,gn).call(s.setScale,1/Lr,1/Wr),(Lr!==vr.xScaleFactor||Wr!==vr.yScaleFactor)&&(s.setPointGroupScale(vr.zoomScalePts,Lr,Wr),s.setTextPointsScale(vr.zoomScaleTxt,Lr,Wr)),s.hideOutsideRangePoints(vr.clipOnAxisFalseTraces,vr),vr.xScaleFactor=Lr,vr.yScaleFactor=Wr}}}}function Kt(ar,Bt,hr){return ar.fixedrange?0:Ze&&yt.xaHash[ar._id]?Bt:He&&(yt.isSubplotConstrained?yt.xaHash:yt.yaHash)[ar._id]?hr:0}function rr(ar,Bt){return Bt?(ar.range=ar._r.slice(),T(ar,Bt),ur(ar,Bt)):0}function ur(ar,Bt,hr){return ar._length*(1-Bt)*c[hr||ar.constraintoward||"middle"]}return ut}function N(ne,le,pe,Ae){var be=L.ensureSingle(ne.draglayer,le,pe,function(Re){Re.classed("drag",!0).style({fill:"transparent","stroke-width":0}).attr("data-subplot",ne.id)});return be.call(u,Ae),be.node()}function k(ne,le,pe,Ae,be,Re,xe){var Me=N(ne,"rect",le,pe);return g.select(Me).call(s.setRect,Ae,be,Re,xe),Me}function F(ne,le){for(var pe=0;pe<ne.length;pe++)if(!ne[pe].fixedrange)return le;return""}function O(ne,le){var pe=ne.range[le],Ae=Math.abs(pe-ne.range[1-le]),be;return ne.type==="date"?pe:ne.type==="log"?(be=Math.ceil(Math.max(0,-Math.log(Ae)/Math.LN10))+3,a("."+be+"g")(Math.pow(10,pe))):(be=Math.floor(Math.log(Math.abs(pe))/Math.LN10)-Math.floor(Math.log(Ae)/Math.LN10)+4,a("."+String(be)+"g")(pe))}function z(ne,le,pe,Ae,be){for(var Re=0;Re<ne.length;Re++){var xe=ne[Re];if(!xe.fixedrange)if(xe.rangebreaks){var Me=xe._id.charAt(0)==="y",ye=Me?1-le:le,Se=Me?1-pe:pe;Ae[xe._name+".range[0]"]=xe.l2r(xe.p2l(ye*xe._length)),Ae[xe._name+".range[1]"]=xe.l2r(xe.p2l(Se*xe._length))}else{var Fe=xe._rl[0],Be=xe._rl[1]-Fe;Ae[xe._name+".range[0]"]=xe.l2r(Fe+Be*le),Ae[xe._name+".range[1]"]=xe.l2r(Fe+Be*pe)}}if(be&&be.length){var _e=(le+(1-pe))/2;z(be,_e,1-_e,Ae,[])}}function B(ne,le){for(var pe=0;pe<ne.length;pe++){var Ae=ne[pe];if(!Ae.fixedrange){if(Ae.rangebreaks){var be=0,Re=Ae._length,xe=Ae.p2l(be+le)-Ae.p2l(be),Me=Ae.p2l(Re+le)-Ae.p2l(Re),ye=(xe+Me)/2;Ae.range=[Ae.l2r(Ae._rl[0]-ye),Ae.l2r(Ae._rl[1]-ye)]}else Ae.range=[Ae.l2r(Ae._rl[0]-le/Ae._m),Ae.l2r(Ae._rl[1]-le/Ae._m)];Ae.limitRange&&Ae.limitRange()}}}function W(ne){return 1-(ne>=0?Math.min(ne,.9):1/(1/Math.max(ne,-.3)+3.222))}function q(ne,le,pe){return ne?ne==="nsew"?pe?"":le==="pan"?"move":"crosshair":ne.toLowerCase()+"-resize":"pointer"}function ee(ne,le,pe,Ae,be){return ne.append("path").attr("class","zoombox").style({fill:le>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("transform",p(pe,Ae)).attr("d",be+"Z")}function Q(ne,le,pe){return ne.append("path").attr("class","zoombox-corners").style({fill:t.background,stroke:t.defaultLine,"stroke-width":1,opacity:0}).attr("transform",p(le,pe)).attr("d","M0,0Z")}function oe(ne,le,pe,Ae,be,Re){ne.attr("d",Ae+"M"+pe.l+","+pe.t+"v"+pe.h+"h"+pe.w+"v-"+pe.h+"h-"+pe.w+"Z"),Z(ne,le,be,Re)}function Z(ne,le,pe,Ae){pe||(ne.transition().style("fill",Ae>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),le.transition().style("opacity",1).duration(200))}function Y(ne){g.select(ne).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}function te(ne){_&&ne.data&&ne._context.showTips&&(L.notifier(L._(ne,"Double-click to zoom back out"),"long"),_=!1)}function X(ne,le){return"M"+(ne.l-.5)+","+(le-x-.5)+"h-3v"+(2*x+1)+"h3ZM"+(ne.r+.5)+","+(le-x-.5)+"h3v"+(2*x+1)+"h-3Z"}function $(ne,le){return"M"+(le-x-.5)+","+(ne.t-.5)+"v-3h"+(2*x+1)+"v3ZM"+(le-x-.5)+","+(ne.b+.5)+"v3h"+(2*x+1)+"v-3Z"}function ie(ne){var le=Math.floor(Math.min(ne.b-ne.t,ne.r-ne.l,x)/2);return"M"+(ne.l-3.5)+","+(ne.t-.5+le)+"h3v"+-le+"h"+le+"v-3h-"+(le+3)+"ZM"+(ne.r+3.5)+","+(ne.t-.5+le)+"h-3v"+-le+"h"+-le+"v-3h"+(le+3)+"ZM"+(ne.r+3.5)+","+(ne.b+.5-le)+"h-3v"+le+"h"+-le+"v3h"+(le+3)+"ZM"+(ne.l-3.5)+","+(ne.b+.5-le)+"h3v"+le+"h"+le+"v3h-"+(le+3)+"Z"}function J(ne,le,pe,Ae,be){for(var Re=!1,xe={},Me={},ye,Se,Fe,Be,_e=(be||{}).xaHash,Ue=(be||{}).yaHash,it=0;it<le.length;it++){var lt=le[it];for(ye in pe)if(lt[ye]){for(Fe in lt)!(be&&(_e[Fe]||Ue[Fe]))&&!(Fe.charAt(0)==="x"?pe:Ae)[Fe]&&(xe[Fe]=ye);for(Se in Ae)!(be&&(_e[Se]||Ue[Se]))&&lt[Se]&&(Re=!0)}for(Se in Ae)if(lt[Se])for(Be in lt)!(be&&(_e[Be]||Ue[Be]))&&!(Be.charAt(0)==="x"?pe:Ae)[Be]&&(Me[Be]=Se)}Re&&(L.extendFlat(xe,Me),Me={});var $e={},qe=[];for(Fe in xe){var ft=w(ne,Fe);qe.push(ft),$e[ft._id]=ft}var ct={},pt=[];for(Be in Me){var yt=w(ne,Be);pt.push(yt),ct[yt._id]=yt}return{xaHash:$e,yaHash:ct,xaxes:qe,yaxes:pt,xLinks:xe,yLinks:Me,isSubplotConstrained:Re}}function j(ne,le){if(!A)ne.onwheel!==void 0?ne.onwheel=le:ne.onmousewheel!==void 0?ne.onmousewheel=le:ne.isAddedWheelEvent||(ne.isAddedWheelEvent=!0,ne.addEventListener("wheel",le,{passive:!1}));else{var pe=ne.onwheel!==void 0?"wheel":"mousewheel";ne._onwheel&&ne.removeEventListener(pe,ne._onwheel),ne._onwheel=le,ne.addEventListener(pe,le,{passive:!1})}}function se(ne){var le=[];for(var pe in ne)le.push(ne[pe]);return le}G.exports={makeDragBox:I,makeDragger:N,makeRectDragger:k,makeZoombox:ee,makeCorners:Q,updateZoombox:oe,xyCorners:ie,transitionZoombox:Z,removeZoombox:Y,showDoubleClickNotifier:te,attachWheelEventHandler:j}},42464:function(G,U,e){var g=e(33428),L=e(93024),a=e(86476),C=e(93972),A=e(51184).makeDragBox,v=e(33816).DRAGGERSIZE;U.initInteractions=function(r){var t=r._fullLayout;if(r._context.staticPlot){g.select(r).selectAll(".drag").remove();return}if(!(!t._has("cartesian")&&!t._has("splom"))){var s=Object.keys(t._plots||{}).sort(function(f,u){if((t._plots[f].mainplot&&!0)===(t._plots[u].mainplot&&!0)){var l=f.split("y"),m=u.split("y");return l[0]===m[0]?Number(l[1]||1)-Number(m[1]||1):Number(l[0]||1)-Number(m[0]||1)}return t._plots[f].mainplot?1:-1});s.forEach(function(f){var u=t._plots[f],l=u.xaxis,m=u.yaxis;if(!u.mainplot){var h=A(r,u,l._offset,m._offset,l._length,m._length,"ns","ew");h.onmousemove=function(i){r._fullLayout._rehover=function(){r._fullLayout._hoversubplot===f&&r._fullLayout._plots[f]&&L.hover(r,i,f)},L.hover(r,i,f),r._fullLayout._lasthover=h,r._fullLayout._hoversubplot=f},h.onmouseout=function(i){r._dragging||(r._fullLayout._hoversubplot=null,a.unhover(r,i))},r._context.showAxisDragHandles&&(A(r,u,l._offset-v,m._offset-v,v,v,"n","w"),A(r,u,l._offset+l._length,m._offset-v,v,v,"n","e"),A(r,u,l._offset-v,m._offset+m._length,v,v,"s","w"),A(r,u,l._offset+l._length,m._offset+m._length,v,v,"s","e"))}if(r._context.showAxisDragHandles){if(f===l._mainSubplot){var M=l._mainLinePosition;l.side==="top"&&(M-=v),A(r,u,l._offset+l._length*.1,M,l._length*.8,v,"","ew"),A(r,u,l._offset,M,l._length*.1,v,"","w"),A(r,u,l._offset+l._length*.9,M,l._length*.1,v,"","e")}if(f===m._mainSubplot){var c=m._mainLinePosition;m.side!=="right"&&(c-=v),A(r,u,c,m._offset+m._length*.1,v,m._length*.8,"ns",""),A(r,u,c,m._offset+m._length*.9,v,m._length*.1,"s",""),A(r,u,c,m._offset,v,m._length*.1,"n","")}}});var n=t._hoverlayer.node();n.onmousemove=function(f){f.target=r._fullLayout._lasthover,L.hover(r,f,t._hoversubplot)},n.onclick=function(f){f.target=r._fullLayout._lasthover,L.click(r,f)},n.onmousedown=function(f){r._fullLayout._lasthover.onmousedown(f)},U.updateFx(r)}},U.updateFx=function(p){var r=p._fullLayout,t=r.dragmode==="pan"?"move":"crosshair";C(r._draggers,t)}},36632:function(G,U,e){var g=e(24040),L=e(3400),a=e(79811);G.exports=function(A){return function(p,r){var t=p[A];if(!!Array.isArray(t))for(var s=g.subplotsRegistry.cartesian,n=s.idRegex,f=r._subplots,u=f.xaxis,l=f.yaxis,m=f.cartesian,h=r._has("cartesian")||r._has("gl2d"),M=0;M<t.length;M++){var c=t[M];if(!!L.isPlainObject(c)){var i=a.cleanId(c.xref,"x",!1),d=a.cleanId(c.yref,"y",!1),b=n.x.test(i),w=n.y.test(d);if(b||w){h||L.pushUnique(r._basePlotModules,s);var E=!1;b&&u.indexOf(i)===-1&&(u.push(i),E=!0),w&&l.indexOf(d)===-1&&(l.push(d),E=!0),E&&b&&w&&m.push(i+d)}}}}}},57952:function(G,U,e){var g=e(33428),L=e(24040),a=e(3400),C=e(7316),A=e(43616),v=e(84888)._M,p=e(79811),r=e(33816),t=e(9616),s=a.ensureSingle;function n(M,c,i){return a.ensureSingle(M,c,i,function(d){d.datum(i)})}U.name="cartesian",U.attr=["xaxis","yaxis"],U.idRoot=["x","y"],U.idRegex=r.idRegex,U.attrRegex=r.attrRegex,U.attributes=e(26720),U.layoutAttributes=e(94724),U.supplyLayoutDefaults=e(67352),U.transitionAxes=e(73736),U.finalizeSubplots=function(M,c){var i=c._subplots,d=i.xaxis,b=i.yaxis,w=i.cartesian,E=w.concat(i.gl2d||[]),y={},S={},T,o,P;for(T=0;T<E.length;T++){var x=E[T].split("y");y[x[0]]=1,S["y"+x[1]]=1}for(T=0;T<d.length;T++)o=d[T],y[o]||(P=(M[p.id2name(o)]||{}).anchor,r.idRegex.y.test(P)||(P="y"),w.push(o+P),E.push(o+P),S[P]||(S[P]=1,a.pushUnique(b,P)));for(T=0;T<b.length;T++)P=b[T],S[P]||(o=(M[p.id2name(P)]||{}).anchor,r.idRegex.x.test(o)||(o="x"),w.push(o+P),E.push(o+P),y[o]||(y[o]=1,a.pushUnique(d,o)));if(!E.length){o="",P="";for(var _ in M)if(r.attrRegex.test(_)){var I=_.charAt(0);I==="x"?(!o||+_.substr(5)<+o.substr(5))&&(o=_):(!P||+_.substr(5)<+P.substr(5))&&(P=_)}o=o?p.name2id(o):"x",P=P?p.name2id(P):"y",d.push(o),b.push(P),w.push(o+P)}},U.plot=function(M,c,i,d){var b=M._fullLayout,w=b._subplots.cartesian,E=M.calcdata,y;if(!Array.isArray(c))for(c=[],y=0;y<E.length;y++)c.push(y);for(y=0;y<w.length;y++){for(var S=w[y],T=b._plots[S],o=[],P,x=0;x<E.length;x++){var _=E[x],I=_[0].trace;I.xaxis+I.yaxis===S&&((c.indexOf(I.index)!==-1||I.carpet)&&(P&&P[0].trace.xaxis+P[0].trace.yaxis===S&&["tonextx","tonexty","tonext"].indexOf(I.fill)!==-1&&o.indexOf(P)===-1&&o.push(P),o.push(_)),P=_)}f(M,T,o,i,d)}};function f(M,c,i,d,b){for(var w=r.traceLayerClasses,E=M._fullLayout,y=E._modules,S,T,o,P=[],x=[],_=0;_<y.length;_++){S=y[_];var I=S.name,N=L.modules[I].categories;if(N.svg){var k=S.layerName||I+"layer",F=S.plot;T=v(i,F),o=T[0],i=T[1],o.length&&P.push({i:w.indexOf(k),className:k,plotMethod:F,cdModule:o}),N.zoomScale&&x.push("."+k)}}P.sort(function(B,W){return B.i-W.i});var O=c.plot.selectAll("g.mlayer").data(P,function(B){return B.className});if(O.enter().append("g").attr("class",function(B){return B.className}).classed("mlayer",!0).classed("rangeplot",c.isRangePlot),O.exit().remove(),O.order(),O.each(function(B){var W=g.select(this),q=B.className;B.plotMethod(M,c,B.cdModule,W,d,b),r.clipOnAxisFalseQuery.indexOf("."+q)===-1&&A.setClipUrl(W,c.layerClipId,M)}),E._has("scattergl")&&(S=L.getModule("scattergl"),o=v(i,S)[0],S.plot(M,c,o)),!M._context.staticPlot&&(c._hasClipOnAxisFalse&&(c.clipOnAxisFalseTraces=c.plot.selectAll(r.clipOnAxisFalseQuery.join(",")).selectAll(".trace")),x.length)){var z=c.plot.selectAll(x.join(",")).selectAll(".trace");c.zoomScalePts=z.selectAll("path.point"),c.zoomScaleTxt=z.selectAll(".textpoint")}}U.clean=function(M,c,i,d){var b=d._plots||{},w=c._plots||{},E=d._subplots||{},y,S,T;if(d._hasOnlyLargeSploms&&!c._hasOnlyLargeSploms)for(T in b)y=b[T],y.plotgroup&&y.plotgroup.remove();var o=d._has&&d._has("gl"),P=c._has&&c._has("gl");if(o&&!P)for(T in b)y=b[T],y._scene&&y._scene.destroy();if(E.xaxis&&E.yaxis){var x=p.listIds({_fullLayout:d});for(S=0;S<x.length;S++){var _=x[S];c[p.id2name(_)]||d._infolayer.selectAll(".g-"+_+"title").remove()}}var I=d._has&&d._has("cartesian"),N=c._has&&c._has("cartesian");if(I&&!N)m(d._cartesianlayer.selectAll(".subplot"),d),d._defs.selectAll(".axesclip").remove(),delete d._axisConstraintGroups,delete d._axisMatchGroups;else if(E.cartesian)for(S=0;S<E.cartesian.length;S++){var k=E.cartesian[S];if(!w[k]){var F="."+k+",."+k+"-x,."+k+"-y";d._cartesianlayer.selectAll(F).remove(),h(k,d)}}},U.drawFramework=function(M){var c=M._fullLayout,i=u(M),d=c._cartesianlayer.selectAll(".subplot").data(i,String);d.enter().append("g").attr("class",function(b){return"subplot "+b[0]}),d.order(),d.exit().call(m,c),d.each(function(b){var w=b[0],E=c._plots[w];E.plotgroup=g.select(this),l(M,E),E.draglayer=s(c._draggers,"g",w)})},U.rangePlot=function(M,c,i){l(M,c),f(M,c,i),C.style(M)};function u(M){var c=M._fullLayout,i=c._subplots.cartesian,d=i.length,b,w,E,y,S,T,o=[],P=[];for(b=0;b<d;b++){E=i[b],y=c._plots[E],S=y.xaxis,T=y.yaxis;var x=S._mainAxis,_=T._mainAxis,I=x._id+_._id,N=c._plots[I];y.overlays=[],I!==E&&N?(y.mainplot=I,y.mainplotinfo=N,P.push(E)):(y.mainplot=void 0,y.mainplotinfo=void 0,o.push(E))}for(b=0;b<P.length;b++)E=P[b],y=c._plots[E],y.mainplotinfo.overlays.push(y);var k=o.concat(P),F=new Array(d);for(b=0;b<d;b++){E=k[b],y=c._plots[E],S=y.xaxis,T=y.yaxis;var O=[E,S.layer,T.layer,S.overlaying||"",T.overlaying||""];for(w=0;w<y.overlays.length;w++)O.push(y.overlays[w].id);F[b]=O}return F}function l(M,c){var i=c.plotgroup,d=c.id,b=r.layerValue2layerClass[c.xaxis.layer],w=r.layerValue2layerClass[c.yaxis.layer],E=M._fullLayout._hasOnlyLargeSploms;if(c.mainplot){var S=c.mainplotinfo,T=S.plotgroup,o=d+"-x",P=d+"-y";c.minorGridlayer=S.minorGridlayer,c.gridlayer=S.gridlayer,c.zerolinelayer=S.zerolinelayer,s(S.overlinesBelow,"path",o),s(S.overlinesBelow,"path",P),s(S.overaxesBelow,"g",o),s(S.overaxesBelow,"g",P),c.plot=s(S.overplot,"g",d),s(S.overlinesAbove,"path",o),s(S.overlinesAbove,"path",P),s(S.overaxesAbove,"g",o),s(S.overaxesAbove,"g",P),c.xlines=T.select(".overlines-"+b).select("."+o),c.ylines=T.select(".overlines-"+w).select("."+P),c.xaxislayer=T.select(".overaxes-"+b).select("."+o),c.yaxislayer=T.select(".overaxes-"+w).select("."+P)}else if(E)c.xlines=s(i,"path","xlines-above"),c.ylines=s(i,"path","ylines-above"),c.xaxislayer=s(i,"g","xaxislayer-above"),c.yaxislayer=s(i,"g","yaxislayer-above");else{var y=s(i,"g","layer-subplot");c.shapelayer=s(y,"g","shapelayer"),c.imagelayer=s(y,"g","imagelayer"),c.minorGridlayer=s(i,"g","minor-gridlayer"),c.gridlayer=s(i,"g","gridlayer"),c.zerolinelayer=s(i,"g","zerolinelayer"),s(i,"path","xlines-below"),s(i,"path","ylines-below"),c.overlinesBelow=s(i,"g","overlines-below"),s(i,"g","xaxislayer-below"),s(i,"g","yaxislayer-below"),c.overaxesBelow=s(i,"g","overaxes-below"),c.plot=s(i,"g","plot"),c.overplot=s(i,"g","overplot"),c.xlines=s(i,"path","xlines-above"),c.ylines=s(i,"path","ylines-above"),c.overlinesAbove=s(i,"g","overlines-above"),s(i,"g","xaxislayer-above"),s(i,"g","yaxislayer-above"),c.overaxesAbove=s(i,"g","overaxes-above"),c.xlines=i.select(".xlines-"+b),c.ylines=i.select(".ylines-"+w),c.xaxislayer=i.select(".xaxislayer-"+b),c.yaxislayer=i.select(".yaxislayer-"+w)}E||(n(c.minorGridlayer,"g",c.xaxis._id),n(c.minorGridlayer,"g",c.yaxis._id),c.minorGridlayer.selectAll("g").map(function(x){return x[0]}).sort(p.idSort),n(c.gridlayer,"g",c.xaxis._id),n(c.gridlayer,"g",c.yaxis._id),c.gridlayer.selectAll("g").map(function(x){return x[0]}).sort(p.idSort)),c.xlines.style("fill","none").classed("crisp",!0),c.ylines.style("fill","none").classed("crisp",!0)}function m(M,c){if(!!M){var i={};M.each(function(S){var T=S[0],o=g.select(this);o.remove(),h(T,c),i[T]=!0});for(var d in c._plots)for(var b=c._plots[d],w=b.overlays||[],E=0;E<w.length;E++){var y=w[E];i[y.id]&&y.plot.selectAll(".trace").remove()}}}function h(M,c){c._draggers.selectAll("g."+M).remove(),c._defs.select("#clip"+c._uid+M+"plot").remove()}U.toSVG=function(M){var c=M._fullLayout._glimages,i=g.select(M).selectAll(".svg-container"),d=i.filter(function(w,E){return E===i.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus");function b(){var w=this,E=w.toDataURL("image/png"),y=c.append("svg:image");y.attr({xmlns:t.svg,"xlink:href":E,preserveAspectRatio:"none",x:0,y:0,width:w.style.width,height:w.style.height})}d.each(b)},U.updateFx=e(42464).updateFx},94724:function(G,U,e){var g=e(25376),L=e(22548),a=e(98192).u,C=e(92880).extendFlat,A=e(31780).templatedArray,v=e(29736).descriptionWithDates,p=e(39032).ONEDAY,r=e(33816),t=r.HOUR_PATTERN,s=r.WEEKDAY_PATTERN,n={valType:"enumerated",values:["auto","linear","array"],editType:"ticks",impliedEdits:{tick0:void 0,dtick:void 0}},f=C({},n,{values:n.values.slice().concat(["sync"])});function u(S){return{valType:"integer",min:0,dflt:S?5:0,editType:"ticks"}}var l={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},m={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},h={valType:"data_array",editType:"ticks"},M={valType:"enumerated",values:["outside","inside",""],editType:"ticks"};function c(S){var T={valType:"number",min:0,editType:"ticks"};return S||(T.dflt=5),T}function i(S){var T={valType:"number",min:0,editType:"ticks"};return S||(T.dflt=1),T}var d={valType:"color",dflt:L.defaultLine,editType:"ticks"},b={valType:"color",dflt:L.lightLine,editType:"ticks"};function w(S){var T={valType:"number",min:0,editType:"ticks"};return S||(T.dflt=1),T}var E=C({},a,{editType:"ticks"}),y={valType:"boolean",editType:"ticks"};G.exports={visible:{valType:"boolean",editType:"plot"},color:{valType:"color",dflt:L.defaultLine,editType:"ticks"},title:{text:{valType:"string",editType:"ticks"},font:g({editType:"ticks"}),standoff:{valType:"number",min:0,editType:"ticks"},editType:"ticks"},type:{valType:"enumerated",values:["-","linear","log","date","category","multicategory"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},autorange:{valType:"enumerated",values:[!0,!1,"reversed","min reversed","max reversed","min","max"],dflt:!0,editType:"axrange",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},autorangeoptions:{minallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmin:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmax:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},include:{valType:"any",arrayOk:!0,editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},editType:"plot"},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"plot"},range:{valType:"info_array",items:[{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0},{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0}],editType:"axrange",impliedEdits:{autorange:!1},anim:!0},minallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},insiderange:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},scaleanchor:{valType:"enumerated",values:[r.idRegex.x.toString(),r.idRegex.y.toString(),!1],editType:"plot"},scaleratio:{valType:"number",min:0,dflt:1,editType:"plot"},constrain:{valType:"enumerated",values:["range","domain"],editType:"plot"},constraintoward:{valType:"enumerated",values:["left","center","right","top","middle","bottom"],editType:"plot"},matches:{valType:"enumerated",values:[r.idRegex.x.toString(),r.idRegex.y.toString()],editType:"calc"},rangebreaks:A("rangebreak",{enabled:{valType:"boolean",dflt:!0,editType:"calc"},bounds:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},pattern:{valType:"enumerated",values:[s,t,""],editType:"calc"},values:{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"any",editType:"calc"}},dvalue:{valType:"number",editType:"calc",min:0,dflt:p},editType:"calc"}),tickmode:f,nticks:u(),tick0:l,dtick:m,ticklabelstep:{valType:"integer",min:1,dflt:1,editType:"ticks"},tickvals:h,ticktext:{valType:"data_array",editType:"ticks"},ticks:M,tickson:{valType:"enumerated",values:["labels","boundaries"],dflt:"labels",editType:"ticks"},ticklabelmode:{valType:"enumerated",values:["instant","period"],dflt:"instant",editType:"ticks"},ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside",editType:"calc"},ticklabeloverflow:{valType:"enumerated",values:["allow","hide past div","hide past domain"],editType:"calc"},mirror:{valType:"enumerated",values:[!0,"ticks",!1,"all","allticks"],dflt:!1,editType:"ticks+layoutstyle"},ticklen:c(),tickwidth:i(),tickcolor:d,showticklabels:{valType:"boolean",dflt:!0,editType:"ticks"},labelalias:{valType:"any",dflt:!1,editType:"ticks"},automargin:{valType:"flaglist",flags:["height","width","left","right","top","bottom"],extras:[!0,!1],dflt:!1,editType:"ticks"},showspikes:{valType:"boolean",dflt:!1,editType:"modebar"},spikecolor:{valType:"color",dflt:null,editType:"none"},spikethickness:{valType:"number",dflt:3,editType:"none"},spikedash:C({},a,{dflt:"dash",editType:"none"}),spikemode:{valType:"flaglist",flags:["toaxis","across","marker"],dflt:"toaxis",editType:"none"},spikesnap:{valType:"enumerated",values:["data","cursor","hovered data"],dflt:"hovered data",editType:"none"},tickfont:g({editType:"ticks"}),tickangle:{valType:"angle",dflt:"auto",editType:"ticks"},autotickangles:{valType:"info_array",freeLength:!0,items:{valType:"angle"},dflt:[0,30,90],editType:"ticks"},tickprefix:{valType:"string",dflt:"",editType:"ticks"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},ticksuffix:{valType:"string",dflt:"",editType:"ticks"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"ticks"},minexponent:{valType:"number",dflt:3,min:0,editType:"ticks"},separatethousands:{valType:"boolean",dflt:!1,editType:"ticks"},tickformat:{valType:"string",dflt:"",editType:"ticks",description:v("tick label")},tickformatstops:A("tickformatstop",{enabled:{valType:"boolean",dflt:!0,editType:"ticks"},dtickrange:{valType:"info_array",items:[{valType:"any",editType:"ticks"},{valType:"any",editType:"ticks"}],editType:"ticks"},value:{valType:"string",dflt:"",editType:"ticks"},editType:"ticks"}),hoverformat:{valType:"string",dflt:"",editType:"none",description:v("hover text")},showline:{valType:"boolean",dflt:!1,editType:"ticks+layoutstyle"},linecolor:{valType:"color",dflt:L.defaultLine,editType:"layoutstyle"},linewidth:{valType:"number",min:0,dflt:1,editType:"ticks+layoutstyle"},showgrid:y,gridcolor:b,gridwidth:w(),griddash:E,zeroline:{valType:"boolean",editType:"ticks"},zerolinecolor:{valType:"color",dflt:L.defaultLine,editType:"ticks"},zerolinewidth:{valType:"number",dflt:1,editType:"ticks"},showdividers:{valType:"boolean",dflt:!0,editType:"ticks"},dividercolor:{valType:"color",dflt:L.defaultLine,editType:"ticks"},dividerwidth:{valType:"number",dflt:1,editType:"ticks"},anchor:{valType:"enumerated",values:["free",r.idRegex.x.toString(),r.idRegex.y.toString()],editType:"plot"},side:{valType:"enumerated",values:["top","bottom","left","right"],editType:"plot"},overlaying:{valType:"enumerated",values:["free",r.idRegex.x.toString(),r.idRegex.y.toString()],editType:"plot"},minor:{tickmode:n,nticks:u("minor"),tick0:l,dtick:m,tickvals:h,ticks:M,ticklen:c("minor"),tickwidth:i("minor"),tickcolor:d,gridcolor:b,gridwidth:w("minor"),griddash:E,showgrid:y,editType:"ticks"},layer:{valType:"enumerated",values:["above traces","below traces"],dflt:"above traces",editType:"plot"},domain:{valType:"info_array",items:[{valType:"number",min:0,max:1,editType:"plot"},{valType:"number",min:0,max:1,editType:"plot"}],dflt:[0,1],editType:"plot"},position:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},autoshift:{valType:"boolean",dflt:!1,editType:"plot"},shift:{valType:"number",editType:"plot"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array","total ascending","total descending","min ascending","min descending","max ascending","max descending","sum ascending","sum descending","mean ascending","mean descending","median ascending","median descending"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{autotick:{valType:"boolean",editType:"ticks"},title:{valType:"string",editType:"ticks"},titlefont:g({editType:"ticks"})}}},67352:function(G,U,e){var g=e(3400),L=e(76308),a=e(10624).isUnifiedHover,C=e(41008),A=e(31780),v=e(64859),p=e(94724),r=e(14944),t=e(28336),s=e(71888),n=e(37668),f=e(79811),u=f.id2name,l=f.name2id,m=e(33816).AX_ID_PATTERN,h=e(24040),M=h.traceIs,c=h.getComponentMethod;function i(d,b,w){Array.isArray(d[b])?d[b].push(w):d[b]=[w]}G.exports=function(b,w,E){var y=w.autotypenumbers,S={},T={},o={},P={},x={},_={},I={},N={},k={},F={},O,z;for(O=0;O<E.length;O++){var B=E[O];if(!(!M(B,"cartesian")&&!M(B,"gl2d"))){var W;if(B.xaxis)W=u(B.xaxis),i(S,W,B);else if(B.xaxes)for(z=0;z<B.xaxes.length;z++)i(S,u(B.xaxes[z]),B);var q;if(B.yaxis)q=u(B.yaxis),i(S,q,B);else if(B.yaxes)for(z=0;z<B.yaxes.length;z++)i(S,u(B.yaxes[z]),B);if(B.type==="funnel"?B.orientation==="h"?(W&&(T[W]=!0),q&&(I[q]=!0)):q&&(o[q]=!0):B.type==="image"?(q&&(N[q]=!0),W&&(N[W]=!0)):(q&&(x[q]=!0,_[q]=!0),(!M(B,"carpet")||B.type==="carpet"&&!B._cheater)&&W&&(P[W]=!0)),B.type==="carpet"&&B._cheater&&W&&(T[W]=!0),M(B,"2dMap")&&(k[W]=!0,k[q]=!0),M(B,"oriented")){var ee=B.orientation==="h"?q:W;F[ee]=!0}}}var Q=w._subplots,oe=Q.xaxis,Z=Q.yaxis,Y=g.simpleMap(oe,u),te=g.simpleMap(Z,u),X=Y.concat(te),$=L.background;oe.length&&Z.length&&($=g.coerce(b,w,v,"plot_bgcolor"));var ie=L.combine($,w.paper_bgcolor),J,j,se,ne,le;function pe(){var Te=S[J]||[];le._traceIndices=Te.map(function(ze){return ze._expandedIndex}),le._annIndices=[],le._shapeIndices=[],le._selectionIndices=[],le._imgIndices=[],le._subplotsWith=[],le._counterAxes=[],le._name=le._attr=J,le._id=j}function Ae(Te,ze){return g.coerce(ne,le,p,Te,ze)}function be(Te,ze){return g.coerce2(ne,le,p,Te,ze)}function Re(Te){return Te==="x"?Z:oe}function xe(Te,ze){for(var Xe=Te==="x"?Y:te,et=[],ut=0;ut<Xe.length;ut++){var dt=Xe[ut];dt!==ze&&!(b[dt]||{}).overlaying&&et.push(l(dt))}return et}var Me={x:Re("x"),y:Re("y")},ye=Me.x.concat(Me.y),Se={},Fe=[];function Be(){var Te=ne.matches;m.test(Te)&&ye.indexOf(Te)===-1&&(Se[Te]=ne.type,Fe=Object.keys(Se))}var _e=C(b,w),Ue=a(_e);for(O=0;O<X.length;O++){J=X[O],j=l(J),se=J.charAt(0),g.isPlainObject(b[J])||(b[J]={}),ne=b[J],le=A.newContainer(w,J,se+"axis"),pe();var it=se==="x"&&!P[J]&&T[J]||se==="y"&&!x[J]&&o[J],lt=se==="y"&&(!_[J]&&I[J]||N[J]),$e={hasMinor:!0,letter:se,font:w.font,outerTicks:k[J],showGrid:!F[J],data:S[J]||[],bgColor:ie,calendar:w.calendar,automargin:!0,visibleDflt:it,reverseDflt:lt,autotypenumbersDflt:y,splomStash:((w._splomAxes||{})[se]||{})[j],noAutotickangles:se==="y"};Ae("uirevision",w.uirevision),r(ne,le,Ae,$e),t(ne,le,Ae,$e,w);var qe=Ue&&se===_e.charAt(0),ft=be("spikecolor",Ue?le.color:void 0),ct=be("spikethickness",Ue?1.5:void 0),pt=be("spikedash",Ue?"dot":void 0),yt=be("spikemode",Ue?"across":void 0),Et=be("spikesnap"),tt=Ae("showspikes",!!qe||!!ft||!!ct||!!pt||!!yt||!!Et);tt||(delete le.spikecolor,delete le.spikethickness,delete le.spikedash,delete le.spikemode,delete le.spikesnap);var Ie=u(ne.overlaying),We=[0,1];if(w[Ie]!==void 0){var Ze=u(w[Ie].anchor);w[Ze]!==void 0&&(We=w[Ze].domain)}n(ne,le,Ae,{letter:se,counterAxes:Me[se],overlayableAxes:xe(se,J),grid:w.grid,overlayingDomain:We}),Ae("title.standoff"),Be(),le._input=ne}for(O=0;O<Fe.length;){j=Fe[O++],J=u(j),se=J.charAt(0),g.isPlainObject(b[J])||(b[J]={}),ne=b[J],le=A.newContainer(w,J,se+"axis"),pe();var He={letter:se,font:w.font,outerTicks:k[J],showGrid:!F[J],data:[],bgColor:ie,calendar:w.calendar,automargin:!0,visibleDflt:!1,reverseDflt:!1,autotypenumbersDflt:y,splomStash:((w._splomAxes||{})[se]||{})[j]};Ae("uirevision",w.uirevision),le.type=Se[j]||"linear",t(ne,le,Ae,He,w),n(ne,le,Ae,{letter:se,counterAxes:Me[se],overlayableAxes:xe(se,J),grid:w.grid}),Ae("fixedrange"),Be(),le._input=ne}var De=c("rangeslider","handleDefaults"),me=c("rangeselector","handleDefaults");for(O=0;O<Y.length;O++)J=Y[O],ne=b[J],le=w[J],De(b,w,J),le.type==="date"&&me(ne,le,w,te,le.calendar),Ae("fixedrange");for(O=0;O<te.length;O++){J=te[O],ne=b[J],le=w[J];var ge=w[u(le.anchor)],Ee=c("rangeslider","isVisible")(ge);Ae("fixedrange",Ee)}s.handleDefaults(b,w,{axIds:ye.concat(Fe).sort(f.idSort),axHasImage:N})}},42136:function(G,U,e){var g=e(49760).mix,L=e(22548),a=e(3400);G.exports=function(A,v,p,r){r=r||{};var t=r.dfltColor;function s(o,P){return a.coerce2(A,v,r.attributes,o,P)}var n=s("linecolor",t),f=s("linewidth"),u=p("showline",r.showLine||!!n||!!f);u||(delete v.linecolor,delete v.linewidth);var l=g(t,r.bgColor,r.blend||L.lightFraction).toRgbString(),m=s("gridcolor",l),h=s("gridwidth"),M=s("griddash"),c=p("showgrid",r.showGrid||!!m||!!h||!!M);if(c||(delete v.gridcolor,delete v.gridwidth,delete v.griddash),r.hasMinor){var i=g(v.gridcolor,r.bgColor,67).toRgbString(),d=s("minor.gridcolor",i),b=s("minor.gridwidth",v.gridwidth||1),w=s("minor.griddash",v.griddash||"solid"),E=p("minor.showgrid",!!d||!!b||!!w);E||(delete v.minor.gridcolor,delete v.minor.gridwidth,delete v.minor.griddash)}if(!r.noZeroLine){var y=s("zerolinecolor",t),S=s("zerolinewidth"),T=p("zeroline",r.showGrid||!!y||!!S);T||(delete v.zerolinecolor,delete v.zerolinewidth)}}},37668:function(G,U,e){var g=e(38248),L=e(3400);G.exports=function(C,A,v,p){var r=p.counterAxes||[],t=p.overlayableAxes||[],s=p.letter,n=p.grid,f=p.overlayingDomain,u,l,m,h,M,c;n&&(l=n._domains[s][n._axisMap[A._id]],u=n._anchors[A._id],l&&(m=n[s+"side"].split(" ")[0],h=n.domain[s][m==="right"||m==="top"?1:0])),l=l||[0,1],u=u||(g(C.position)?"free":r[0]||"free"),m=m||(s==="x"?"bottom":"left"),h=h||0,M=0,c=!1;var i=L.coerce(C,A,{anchor:{valType:"enumerated",values:["free"].concat(r),dflt:u}},"anchor"),d=L.coerce(C,A,{side:{valType:"enumerated",values:s==="x"?["bottom","top"]:["left","right"],dflt:m}},"side");if(i==="free"){if(s==="y"){var b=v("autoshift");b&&(h=d==="left"?f[0]:f[1],c=A.automargin?A.automargin:!0,M=d==="left"?-3:3),v("shift",M)}v("position",h)}v("automargin",c);var w=!1;if(t.length&&(w=L.coerce(C,A,{overlaying:{valType:"enumerated",values:[!1].concat(t),dflt:!1}},"overlaying")),!w){var E=v("domain",l);E[0]>E[1]-.000244140625&&(A.domain=l),L.noneOrAll(C.domain,A.domain,l),A.tickmode==="sync"&&(A.tickmode="auto")}return v("layer"),A}},42568:function(G,U,e){var g=e(85024);G.exports=function(a,C,A,v,p){p||(p={});var r=p.tickSuffixDflt,t=g(a),s=A("tickprefix");s&&A("showtickprefix",t);var n=A("ticksuffix",r);n&&A("showticksuffix",t)}},96312:function(G,U,e){var g=e(76808);G.exports=function(a,C,A,v){var p=C._template||{},r=C.type||p.type||"-";A("minallowed"),A("maxallowed");var t=A("range");if(!t){var s;!v.noInsiderange&&r!=="log"&&(s=A("insiderange"),s&&(s[0]===null||s[1]===null)&&(C.insiderange=!1,s=void 0),s&&(t=A("range",s)))}var n=C.getAutorangeDflt(t,v),f=A("autorange",n),u;t&&(t[0]===null&&t[1]===null||(t[0]===null||t[1]===null)&&(f==="reversed"||f===!0)||t[0]!==null&&(f==="min"||f==="max reversed")||t[1]!==null&&(f==="max"||f==="min reversed"))&&(t=void 0,delete C.range,C.autorange=!0,u=!0),u||(n=C.getAutorangeDflt(t,v),f=A("autorange",n)),f&&(g(A,f,t),(r==="linear"||r==="-")&&A("rangemode")),C.cleanRange()}},21160:function(G,U,e){var g=e(84284).FROM_BL;G.exports=function(a,C,A){A===void 0&&(A=g[a.constraintoward||"center"]);var v=[a.r2l(a.range[0]),a.r2l(a.range[1])],p=v[0]+(v[1]-v[0])*A;a.range=a._input.range=[a.l2r(p+(v[0]-p)*C),a.l2r(p+(v[1]-p)*C)],a.setScale()}},78344:function(G,U,e){var g=e(33428),L=e(94336).E9,a=e(3400),C=a.numberFormat,A=e(38248),v=a.cleanNumber,p=a.ms2DateTime,r=a.dateTime2ms,t=a.ensureNumber,s=a.isArrayOrTypedArray,n=e(39032),f=n.FP_SAFE,u=n.BADNUM,l=n.LOG_CLIP,m=n.ONEWEEK,h=n.ONEDAY,M=n.ONEHOUR,c=n.ONEMIN,i=n.ONESEC,d=e(79811),b=e(33816),w=b.HOUR_PATTERN,E=b.WEEKDAY_PATTERN;function y(T){return Math.pow(10,T)}function S(T){return T!=null}G.exports=function(o,P){P=P||{};var x=o._id||"x",_=x.charAt(0);function I(X,$){if(X>0)return Math.log(X)/Math.LN10;if(X<=0&&$&&o.range&&o.range.length===2){var ie=o.range[0],J=o.range[1];return .5*(ie+J-2*l*Math.abs(ie-J))}else return u}function N(X,$,ie,J){if((J||{}).msUTC&&A(X))return+X;var j=r(X,ie||o.calendar);if(j===u)if(A(X)){X=+X;var se=Math.floor(a.mod(X+.05,1)*10),ne=Math.round(X-se/10);j=r(new Date(ne))+se/10}else return u;return j}function k(X,$,ie){return p(X,$,ie||o.calendar)}function F(X){return o._categories[Math.round(X)]}function O(X){if(S(X)){if(o._categoriesMap===void 0&&(o._categoriesMap={}),o._categoriesMap[X]!==void 0)return o._categoriesMap[X];o._categories.push(typeof X=="number"?String(X):X);var $=o._categories.length-1;return o._categoriesMap[X]=$,$}return u}function z(X,$){for(var ie=new Array($),J=0;J<$;J++){var j=(X[0]||[])[J],se=(X[1]||[])[J];ie[J]=B([j,se])}return ie}function B(X){if(o._categoriesMap)return o._categoriesMap[X]}function W(X){var $=B(X);if($!==void 0)return $;if(A(X))return+X}function q(X){return A(X)?+X:B(X)}function ee(X,$,ie){return g.round(ie+$*X,2)}function Q(X,$,ie){return(X-ie)/$}var oe=function($){return A($)?ee($,o._m,o._b):u},Z=function(X){return Q(X,o._m,o._b)};if(o.rangebreaks){var Y=_==="y";oe=function(X){if(!A(X))return u;var $=o._rangebreaks.length;if(!$)return ee(X,o._m,o._b);var ie=Y;o.range[0]>o.range[1]&&(ie=!ie);for(var J=ie?-1:1,j=J*X,se=0,ne=0;ne<$;ne++){var le=J*o._rangebreaks[ne].min,pe=J*o._rangebreaks[ne].max;if(j<le)break;if(j>pe)se=ne+1;else{se=j<(le+pe)/2?ne:ne+1;break}}var Ae=o._B[se]||0;return isFinite(Ae)?ee(X,o._m2,Ae):0},Z=function(X){var $=o._rangebreaks.length;if(!$)return Q(X,o._m,o._b);for(var ie=0,J=0;J<$&&!(X<o._rangebreaks[J].pmin);J++)X>o._rangebreaks[J].pmax&&(ie=J+1);return Q(X,o._m2,o._B[ie])}}o.c2l=o.type==="log"?I:t,o.l2c=o.type==="log"?y:t,o.l2p=oe,o.p2l=Z,o.c2p=o.type==="log"?function(X,$){return oe(I(X,$))}:oe,o.p2c=o.type==="log"?function(X){return y(Z(X))}:Z,["linear","-"].indexOf(o.type)!==-1?(o.d2r=o.r2d=o.d2c=o.r2c=o.d2l=o.r2l=v,o.c2d=o.c2r=o.l2d=o.l2r=t,o.d2p=o.r2p=function(X){return o.l2p(v(X))},o.p2d=o.p2r=Z,o.cleanPos=t):o.type==="log"?(o.d2r=o.d2l=function(X,$){return I(v(X),$)},o.r2d=o.r2c=function(X){return y(v(X))},o.d2c=o.r2l=v,o.c2d=o.l2r=t,o.c2r=I,o.l2d=y,o.d2p=function(X,$){return o.l2p(o.d2r(X,$))},o.p2d=function(X){return y(Z(X))},o.r2p=function(X){return o.l2p(v(X))},o.p2r=Z,o.cleanPos=t):o.type==="date"?(o.d2r=o.r2d=a.identity,o.d2c=o.r2c=o.d2l=o.r2l=N,o.c2d=o.c2r=o.l2d=o.l2r=k,o.d2p=o.r2p=function(X,$,ie){return o.l2p(N(X,0,ie))},o.p2d=o.p2r=function(X,$,ie){return k(Z(X),$,ie)},o.cleanPos=function(X){return a.cleanDate(X,u,o.calendar)}):o.type==="category"?(o.d2c=o.d2l=O,o.r2d=o.c2d=o.l2d=F,o.d2r=o.d2l_noadd=W,o.r2c=function(X){var $=q(X);return $!==void 0?$:o.fraction2r(.5)},o.l2r=o.c2r=t,o.r2l=q,o.d2p=function(X){return o.l2p(o.r2c(X))},o.p2d=function(X){return F(Z(X))},o.r2p=o.d2p,o.p2r=Z,o.cleanPos=function(X){return typeof X=="string"&&X!==""?X:t(X)}):o.type==="multicategory"&&(o.r2d=o.c2d=o.l2d=F,o.d2r=o.d2l_noadd=W,o.r2c=function(X){var $=W(X);return $!==void 0?$:o.fraction2r(.5)},o.r2c_just_indices=B,o.l2r=o.c2r=t,o.r2l=W,o.d2p=function(X){return o.l2p(o.r2c(X))},o.p2d=function(X){return F(Z(X))},o.r2p=o.d2p,o.p2r=Z,o.cleanPos=function(X){return Array.isArray(X)||typeof X=="string"&&X!==""?X:t(X)},o.setupMultiCategory=function(X){var $=o._traceIndices,ie,J,j=o._matchGroup;if(j&&o._categories.length===0){for(var se in j)if(se!==x){var ne=P[d.id2name(se)];$=$.concat(ne._traceIndices)}}var le=[[0,{}],[0,{}]],pe=[];for(ie=0;ie<$.length;ie++){var Ae=X[$[ie]];if(_ in Ae){var be=Ae[_],Re=Ae._length||a.minRowLength(be);if(s(be[0])&&s(be[1]))for(J=0;J<Re;J++){var xe=be[0][J],Me=be[1][J];S(xe)&&S(Me)&&(pe.push([xe,Me]),xe in le[0][1]||(le[0][1][xe]=le[0][0]++),Me in le[1][1]||(le[1][1][Me]=le[1][0]++))}}}for(pe.sort(function(ye,Se){var Fe=le[0][1],Be=Fe[ye[0]]-Fe[Se[0]];if(Be)return Be;var _e=le[1][1];return _e[ye[1]]-_e[Se[1]]}),ie=0;ie<pe.length;ie++)O(pe[ie])}),o.fraction2r=function(X){var $=o.r2l(o.range[0]),ie=o.r2l(o.range[1]);return o.l2r($+X*(ie-$))},o.r2fraction=function(X){var $=o.r2l(o.range[0]),ie=o.r2l(o.range[1]);return(o.r2l(X)-$)/(ie-$)},o.limitRange=function(X){var $=o.minallowed,ie=o.maxallowed;if(!($===void 0&&ie===void 0)){X||(X="range");var J=a.nestedProperty(o,X).get(),j=a.simpleMap(J,o.r2l),se=j[1]<j[0];se&&j.reverse();var ne=a.simpleMap([$,ie],o.r2l);if($!==void 0&&j[0]<ne[0]&&(J[se?1:0]=$),ie!==void 0&&j[1]>ne[1]&&(J[se?0:1]=ie),J[0]===J[1]){var le=o.l2r($),pe=o.l2r(ie);if($!==void 0){var Ae=le+1;ie!==void 0&&(Ae=Math.min(Ae,pe)),J[se?1:0]=Ae}if(ie!==void 0){var be=pe+1;$!==void 0&&(be=Math.max(be,le)),J[se?0:1]=be}}}},o.cleanRange=function(X,$){o._cleanRange(X,$),o.limitRange(X)},o._cleanRange=function(X,$){$||($={}),X||(X="range");var ie=a.nestedProperty(o,X).get(),J,j;if(o.type==="date"?j=a.dfltRange(o.calendar):_==="y"?j=b.DFLTRANGEY:o._name==="realaxis"?j=[0,1]:j=$.dfltRange||b.DFLTRANGEX,j=j.slice(),(o.rangemode==="tozero"||o.rangemode==="nonnegative")&&(j[0]=0),!ie||ie.length!==2){a.nestedProperty(o,X).set(j);return}var se=ie[0]===null,ne=ie[1]===null;for(o.type==="date"&&!o.autorange&&(ie[0]=a.cleanDate(ie[0],u,o.calendar),ie[1]=a.cleanDate(ie[1],u,o.calendar)),J=0;J<2;J++)if(o.type==="date"){if(!a.isDateTime(ie[J],o.calendar)){o[X]=j;break}if(o.r2l(ie[0])===o.r2l(ie[1])){var le=a.constrain(o.r2l(ie[0]),a.MIN_MS+1e3,a.MAX_MS-1e3);ie[0]=o.l2r(le-1e3),ie[1]=o.l2r(le+1e3);break}}else{if(!A(ie[J]))if(!(se||ne)&&A(ie[1-J]))ie[J]=ie[1-J]*(J?10:.1);else{o[X]=j;break}if(ie[J]<-f?ie[J]=-f:ie[J]>f&&(ie[J]=f),ie[0]===ie[1]){var pe=Math.max(1,Math.abs(ie[0]*1e-6));ie[0]-=pe,ie[1]+=pe}}},o.setScale=function(X){var $=P._size;if(o.overlaying){var ie=d.getFromId({_fullLayout:P},o.overlaying);o.domain=ie.domain}var J=X&&o._r?"_r":"range",j=o.calendar;o.cleanRange(J);var se=o.r2l(o[J][0],j),ne=o.r2l(o[J][1],j),le=_==="y";if(le?(o._offset=$.t+(1-o.domain[1])*$.h,o._length=$.h*(o.domain[1]-o.domain[0]),o._m=o._length/(se-ne),o._b=-o._m*ne):(o._offset=$.l+o.domain[0]*$.w,o._length=$.w*(o.domain[1]-o.domain[0]),o._m=o._length/(ne-se),o._b=-o._m*se),o._rangebreaks=[],o._lBreaks=0,o._m2=0,o._B=[],o.rangebreaks){var pe,Ae;if(o._rangebreaks=o.locateBreaks(Math.min(se,ne),Math.max(se,ne)),o._rangebreaks.length){for(pe=0;pe<o._rangebreaks.length;pe++)Ae=o._rangebreaks[pe],o._lBreaks+=Math.abs(Ae.max-Ae.min);var be=le;se>ne&&(be=!be),be&&o._rangebreaks.reverse();var Re=be?-1:1;for(o._m2=Re*o._length/(Math.abs(ne-se)-o._lBreaks),o._B.push(-o._m2*(le?ne:se)),pe=0;pe<o._rangebreaks.length;pe++)Ae=o._rangebreaks[pe],o._B.push(o._B[o._B.length-1]-Re*o._m2*(Ae.max-Ae.min));for(pe=0;pe<o._rangebreaks.length;pe++)Ae=o._rangebreaks[pe],Ae.pmin=oe(Ae.min),Ae.pmax=oe(Ae.max)}}if(!isFinite(o._m)||!isFinite(o._b)||o._length<0)throw P._replotting=!1,new Error("Something went wrong with axis scaling")},o.maskBreaks=function(X){var $=o.rangebreaks||[],ie,J,j,se,ne;$._cachedPatterns||($._cachedPatterns=$.map(function(Fe){return Fe.enabled&&Fe.bounds?a.simpleMap(Fe.bounds,Fe.pattern?v:o.d2c):null})),$._cachedValues||($._cachedValues=$.map(function(Fe){return Fe.enabled&&Fe.values?a.simpleMap(Fe.values,o.d2c).sort(a.sorterAsc):null}));for(var le=0;le<$.length;le++){var pe=$[le];if(pe.enabled){if(pe.bounds){var Ae=pe.pattern;switch(ie=$._cachedPatterns[le],J=ie[0],j=ie[1],Ae){case E:ne=new Date(X),se=ne.getUTCDay(),J>j&&(j+=7,se<J&&(se+=7));break;case w:ne=new Date(X);var be=ne.getUTCHours(),Re=ne.getUTCMinutes(),xe=ne.getUTCSeconds(),Me=ne.getUTCMilliseconds();se=be+(Re/60+xe/3600+Me/36e5),J>j&&(j+=24,se<J&&(se+=24));break;case"":se=X;break}if(se>=J&&se<j)return u}else for(var ye=$._cachedValues[le],Se=0;Se<ye.length;Se++)if(J=ye[Se],j=J+pe.dvalue,X>=J&&X<j)return u}}return X},o.locateBreaks=function(X,$){var ie,J,j,se,ne=[];if(!o.rangebreaks)return ne;var le=o.rangebreaks.slice().sort(function(_e,Ue){return _e.pattern===E&&Ue.pattern===w?-1:Ue.pattern===E&&_e.pattern===w?1:0}),pe=function(_e,Ue){if(_e=a.constrain(_e,X,$),Ue=a.constrain(Ue,X,$),_e!==Ue){for(var it=!0,lt=0;lt<ne.length;lt++){var $e=ne[lt];_e<$e.max&&Ue>=$e.min&&(_e<$e.min&&($e.min=_e),Ue>$e.max&&($e.max=Ue),it=!1)}it&&ne.push({min:_e,max:Ue})}};for(ie=0;ie<le.length;ie++){var Ae=le[ie];if(Ae.enabled)if(Ae.bounds){var be=X,Re=$;Ae.pattern&&(be=Math.floor(be)),J=a.simpleMap(Ae.bounds,Ae.pattern?v:o.r2l),j=J[0],se=J[1];var xe=new Date(be),Me,ye;switch(Ae.pattern){case E:ye=m,Me=((se<j?7:0)+(se-j))*h,be+=j*h-(xe.getUTCDay()*h+xe.getUTCHours()*M+xe.getUTCMinutes()*c+xe.getUTCSeconds()*i+xe.getUTCMilliseconds());break;case w:ye=h,Me=((se<j?24:0)+(se-j))*M,be+=j*M-(xe.getUTCHours()*M+xe.getUTCMinutes()*c+xe.getUTCSeconds()*i+xe.getUTCMilliseconds());break;default:be=Math.min(J[0],J[1]),Re=Math.max(J[0],J[1]),ye=Re-be,Me=ye}for(var Se=be;Se<Re;Se+=ye)pe(Se,Se+Me)}else for(var Fe=a.simpleMap(Ae.values,o.d2c),Be=0;Be<Fe.length;Be++)j=Fe[Be],se=j+Ae.dvalue,pe(j,se)}return ne.sort(function(_e,Ue){return _e.min-Ue.min}),ne},o.makeCalcdata=function(X,$,ie){var J,j,se,ne,le=o.type,pe=le==="date"&&X[$+"calendar"];if($ in X){if(J=X[$],ne=X._length||a.minRowLength(J),a.isTypedArray(J)&&(le==="linear"||le==="log")){if(ne===J.length)return J;if(J.subarray)return J.subarray(0,ne)}if(le==="multicategory")return z(J,ne);for(j=new Array(ne),se=0;se<ne;se++)j[se]=o.d2c(J[se],0,pe,ie)}else{var Ae=$+"0"in X?o.d2c(X[$+"0"],0,pe):0,be=X["d"+$]?Number(X["d"+$]):1;for(J=X[{x:"y",y:"x"}[$]],ne=X._length||J.length,j=new Array(ne),se=0;se<ne;se++)j[se]=Ae+se*be}if(o.rangebreaks)for(se=0;se<ne;se++)j[se]=o.maskBreaks(j[se]);return j},o.isValidRange=function(X,$){return Array.isArray(X)&&X.length===2&&($&&X[0]===null||A(o.r2l(X[0])))&&($&&X[1]===null||A(o.r2l(X[1])))},o.getAutorangeDflt=function(X,$){var ie=!o.isValidRange(X,"nullOk");return ie&&$&&$.reverseDflt?ie="reversed":X&&(X[0]===null&&X[1]===null?ie=!0:X[0]===null&&X[1]!==null?ie="min":X[0]!==null&&X[1]===null&&(ie="max")),ie},o.isReversed=function(){var X=o.autorange;return X==="reversed"||X==="min reversed"||X==="max reversed"},o.isPtWithinRange=function(X,$){var ie=o.c2l(X[_],null,$),J=o.r2l(o.range[0]),j=o.r2l(o.range[1]);return J<j?J<=ie&&ie<=j:j<=ie&&ie<=J},o._emptyCategories=function(){o._categories=[],o._categoriesMap={}},o.clearCalc=function(){var X=o._matchGroup;if(X){var $=null,ie=null;for(var J in X){var j=P[d.id2name(J)];if(j._categories){$=j._categories,ie=j._categoriesMap;break}}$&&ie?(o._categories=$,o._categoriesMap=ie):o._emptyCategories()}else o._emptyCategories();if(o._initialCategories)for(var se=0;se<o._initialCategories.length;se++)O(o._initialCategories[se])},o.sortByInitialCategories=function(){var X=[];if(o._emptyCategories(),o._initialCategories)for(var $=0;$<o._initialCategories.length;$++)O(o._initialCategories[$]);X=X.concat(o._traceIndices);var ie=o._matchGroup;for(var J in ie)if(x!==J){var j=P[d.id2name(J)];j._categories=o._categories,j._categoriesMap=o._categoriesMap,X=X.concat(j._traceIndices)}return X};var te=P._d3locale;o.type==="date"&&(o._dateFormat=te?te.timeFormat:L,o._extraFormat=P._extraFormat),o._separators=P.separators,o._numFormat=te?te.numberFormat:C,delete o._minDtick,delete o._forceTick0}},85024:function(G){G.exports=function(e){var g=["showexponent","showtickprefix","showticksuffix"],L=g.filter(function(C){return e[C]!==void 0}),a=function(C){return e[C]===e[L[0]]};if(L.every(a)||L.length===1)return e[L[0]]}},95936:function(G,U,e){var g=e(3400),L=e(76308).contrast,a=e(94724),C=e(85024),A=e(51272);G.exports=function(r,t,s,n,f){f||(f={});var u=s("labelalias");g.isPlainObject(u)||delete t.labelalias;var l=C(r),m=s("showticklabels");if(m){var h=f.font||{},M=t.color,c=t.ticklabelposition||"",i=c.indexOf("inside")!==-1?L(f.bgColor):M&&M!==a.color.dflt?M:h.color;if(g.coerceFont(s,"tickfont",{family:h.family,size:h.size,color:i}),!f.noTicklabelstep&&n!=="multicategory"&&n!=="log"&&s("ticklabelstep"),!f.noAng){var d=s("tickangle");!f.noAutotickangles&&d==="auto"&&s("autotickangles")}if(n!=="category"){var b=s("tickformat");A(r,t,{name:"tickformatstops",inclusionAttr:"enabled",handleItemDefaults:v}),t.tickformatstops.length||delete t.tickformatstops,!f.noExp&&!b&&n!=="date"&&(s("showexponent",l),s("exponentformat"),s("minexponent"),s("separatethousands"))}}};function v(p,r){function t(n,f){return g.coerce(p,r,a.tickformatstops,n,f)}var s=t("enabled");s&&(t("dtickrange"),t("value"))}},25404:function(G,U,e){var g=e(3400),L=e(94724);G.exports=function(C,A,v,p){var r=p.isMinor,t=r?C.minor||{}:C,s=r?A.minor:A,n=r?L.minor:L,f=r?"minor.":"",u=g.coerce2(t,s,n,"ticklen",r?(A.ticklen||5)*.6:void 0),l=g.coerce2(t,s,n,"tickwidth",r?A.tickwidth||1:void 0),m=g.coerce2(t,s,n,"tickcolor",(r?A.tickcolor:void 0)||s.color),h=v(f+"ticks",!r&&p.outerTicks||u||l||m?"outside":"");h||(delete s.ticklen,delete s.tickwidth,delete s.tickcolor)}},26332:function(G,U,e){var g=e(98728),L=e(3400).isArrayOrTypedArray,a=e(38116).isTypedArraySpec,C=e(38116).decodeTypedArraySpec;G.exports=function(v,p,r,t,s){s||(s={});var n=s.isMinor,f=n?v.minor||{}:v,u=n?p.minor:p,l=n?"minor.":"";function m(E){var y=f[E];return a(y)&&(y=C(y)),y!==void 0?y:(u._template||{})[E]}var h=m("tick0"),M=m("dtick"),c=m("tickvals"),i=L(c)?"array":M?"linear":"auto",d=r(l+"tickmode",i);if(d==="auto"||d==="sync")r(l+"nticks");else if(d==="linear"){var b=u.dtick=g.dtick(M,t);u.tick0=g.tick0(h,t,p.calendar,b)}else if(t!=="multicategory"){var w=r(l+"tickvals");w===void 0?u.tickmode="auto":n||r("ticktext")}}},73736:function(G,U,e){var g=e(33428),L=e(24040),a=e(3400),C=e(43616),A=e(54460);G.exports=function(p,r,t,s){var n=p._fullLayout;if(r.length===0){A.redrawComponents(p);return}function f(w){var E=w.xaxis,y=w.yaxis;n._defs.select("#"+w.clipId+"> rect").call(C.setTranslate,0,0).call(C.setScale,1,1),w.plot.call(C.setTranslate,E._offset,y._offset).call(C.setScale,1,1);var S=w.plot.selectAll(".scatterlayer .trace");S.selectAll(".point").call(C.setPointGroupScale,1,1),S.selectAll(".textpoint").call(C.setTextPointsScale,1,1),S.call(C.hideOutsideRangePoints,w)}function u(w,E){var y=w.plotinfo,S=y.xaxis,T=y.yaxis,o=S._length,P=T._length,x=!!w.xr1,_=!!w.yr1,I=[];if(x){var N=a.simpleMap(w.xr0,S.r2l),k=a.simpleMap(w.xr1,S.r2l),F=N[1]-N[0],O=k[1]-k[0];I[0]=(N[0]*(1-E)+E*k[0]-N[0])/(N[1]-N[0])*o,I[2]=o*(1-E+E*O/F),S.range[0]=S.l2r(N[0]*(1-E)+E*k[0]),S.range[1]=S.l2r(N[1]*(1-E)+E*k[1])}else I[0]=0,I[2]=o;if(_){var z=a.simpleMap(w.yr0,T.r2l),B=a.simpleMap(w.yr1,T.r2l),W=z[1]-z[0],q=B[1]-B[0];I[1]=(z[1]*(1-E)+E*B[1]-z[1])/(z[0]-z[1])*P,I[3]=P*(1-E+E*q/W),T.range[0]=S.l2r(z[0]*(1-E)+E*B[0]),T.range[1]=T.l2r(z[1]*(1-E)+E*B[1])}else I[1]=0,I[3]=P;A.drawOne(p,S,{skipTitle:!0}),A.drawOne(p,T,{skipTitle:!0}),A.redrawComponents(p,[S._id,T._id]);var ee=x?o/I[2]:1,Q=_?P/I[3]:1,oe=x?I[0]:0,Z=_?I[1]:0,Y=x?I[0]/I[2]*o:0,te=_?I[1]/I[3]*P:0,X=S._offset-Y,$=T._offset-te;y.clipRect.call(C.setTranslate,oe,Z).call(C.setScale,1/ee,1/Q),y.plot.call(C.setTranslate,X,$).call(C.setScale,ee,Q),C.setPointGroupScale(y.zoomScalePts,1/ee,1/Q),C.setTextPointsScale(y.zoomScaleTxt,1/ee,1/Q)}var l;s&&(l=s());function m(){for(var w={},E=0;E<r.length;E++){var y=r[E],S=y.plotinfo.xaxis,T=y.plotinfo.yaxis;y.xr1&&(w[S._name+".range"]=y.xr1.slice()),y.yr1&&(w[T._name+".range"]=y.yr1.slice())}return l&&l(),L.call("relayout",p,w).then(function(){for(var o=0;o<r.length;o++)f(r[o].plotinfo)})}function h(){for(var w={},E=0;E<r.length;E++){var y=r[E],S=y.plotinfo.xaxis,T=y.plotinfo.yaxis;y.xr0&&(w[S._name+".range"]=y.xr0.slice()),y.yr0&&(w[T._name+".range"]=y.yr0.slice())}return L.call("relayout",p,w).then(function(){for(var o=0;o<r.length;o++)f(r[o].plotinfo)})}var M,c,i,d=g.ease(t.easing);p._transitionData._interruptCallbacks.push(function(){return window.cancelAnimationFrame(i),i=null,h()});function b(){c=Date.now();for(var w=Math.min(1,(c-M)/t.duration),E=d(w),y=0;y<r.length;y++)u(r[y],E);c-M>t.duration?(m(),i=window.cancelAnimationFrame(b)):i=window.requestAnimationFrame(b)}return M=Date.now(),i=window.requestAnimationFrame(b),Promise.resolve()}},14944:function(G,U,e){var g=e(24040).traceIs,L=e(52976);G.exports=function(r,t,s,n){s("autotypenumbers",n.autotypenumbersDflt);var f=s("type",(n.splomStash||{}).type);f==="-"&&(a(t,n.data),t.type==="-"?t.type="linear":r.type=t.type)};function a(p,r){if(p.type==="-"){var t=p._id,s=t.charAt(0),n;t.indexOf("scene")!==-1&&(t=s);var f=C(r,t,s);if(!!f){if(f.type==="histogram"&&s==={v:"y",h:"x"}[f.orientation||"v"]){p.type="linear";return}var u=s+"calendar",l=f[u],m={noMultiCategory:!g(f,"cartesian")||g(f,"noMultiCategory")};if(f.type==="box"&&f._hasPreCompStats&&s==={h:"x",v:"y"}[f.orientation||"v"]&&(m.noMultiCategory=!0),m.autotypenumbers=p.autotypenumbers,v(f,s)){var h=A(f),M=[];for(n=0;n<r.length;n++){var c=r[n];!g(c,"box-violin")||(c[s+"axis"]||s)!==t||(c[h]!==void 0?M.push(c[h][0]):c.name!==void 0?M.push(c.name):M.push("text"),c[u]!==l&&(l=void 0))}p.type=L(M,l,m)}else if(f.type==="splom"){var i=f.dimensions,d=i[f._axesDim[t]];d.visible&&(p.type=L(d.values,l,m))}else p.type=L(f[s]||[f[s+"0"]],l,m)}}}function C(p,r,t){for(var s=0;s<p.length;s++){var n=p[s];if(n.type==="splom"&&n._length>0&&(n["_"+t+"axes"]||{})[r])return n;if((n[t+"axis"]||t)===r){if(v(n,t))return n;if((n[t]||[]).length||n[t+"0"])return n}}}function A(p){return{v:"x",h:"y"}[p.orientation||"v"]}function v(p,r){var t=A(p),s=g(p,"box-violin"),n=g(p._fullInput||{},"candlestick");return s&&!n&&r===t&&p[t]===void 0&&p[t+"0"]===void 0}},62460:function(G,U,e){var g=e(24040),L=e(3400);U.manageCommandObserver=function(r,t,s,n){var f={},u=!0;t&&t._commandObserver&&(f=t._commandObserver),f.cache||(f.cache={}),f.lookupTable={};var l=U.hasSimpleAPICommandBindings(r,s,f.lookupTable);if(t&&t._commandObserver){if(l)return f;if(t._commandObserver.remove)return t._commandObserver.remove(),t._commandObserver=null,f}if(l){a(r,l,f.cache),f.check=function(){if(!!u){var c=a(r,l,f.cache);return c.changed&&n&&f.lookupTable[c.value]!==void 0&&(f.disable(),Promise.resolve(n({value:c.value,type:l.type,prop:l.prop,traces:l.traces,index:f.lookupTable[c.value]})).then(f.enable,f.enable)),c.changed}};for(var m=["plotly_relayout","plotly_redraw","plotly_restyle","plotly_update","plotly_animatingframe","plotly_afterplot"],h=0;h<m.length;h++)r._internalOn(m[h],f.check);f.remove=function(){for(var M=0;M<m.length;M++)r._removeInternalListener(m[M],f.check)}}else L.log("Unable to automatically bind plot updates to API command"),f.lookupTable={},f.remove=function(){};return f.disable=function(){u=!1},f.enable=function(){u=!0},t&&(t._commandObserver=f),f},U.hasSimpleAPICommandBindings=function(r,t,s){var n,f=t.length,u;for(n=0;n<f;n++){var l,m=t[n],h=m.method,M=m.args;if(Array.isArray(M)||(M=[]),!h)return!1;var c=U.computeAPICommandBindings(r,h,M);if(c.length!==1)return!1;if(!u)u=c[0],Array.isArray(u.traces)&&u.traces.sort();else{if(l=c[0],l.type!==u.type||l.prop!==u.prop)return!1;if(Array.isArray(u.traces))if(Array.isArray(l.traces)){l.traces.sort();for(var i=0;i<u.traces.length;i++)if(u.traces[i]!==l.traces[i])return!1}else return!1;else if(l.prop!==u.prop)return!1}l=c[0];var d=l.value;if(Array.isArray(d))if(d.length===1)d=d[0];else return!1;s&&(s[d]=n)}return u};function a(r,t,s){var n,f,u,l=!1;if(t.type==="data")n=r._fullData[t.traces!==null?t.traces[0]:0];else if(t.type==="layout")n=r._fullLayout;else return!1;return f=L.nestedProperty(n,t.prop).get(),u=s[t.type]=s[t.type]||{},u.hasOwnProperty(t.prop)&&u[t.prop]!==f&&(l=!0),u[t.prop]=f,{changed:l,value:f}}U.executeAPICommand=function(r,t,s){if(t==="skip")return Promise.resolve();var n=g.apiMethodRegistry[t],f=[r];Array.isArray(s)||(s=[]);for(var u=0;u<s.length;u++)f.push(s[u]);return n.apply(null,f).catch(function(l){return L.warn("API call to Plotly."+t+" rejected.",l),Promise.reject(l)})},U.computeAPICommandBindings=function(r,t,s){var n;switch(Array.isArray(s)||(s=[]),t){case"restyle":n=v(r,s);break;case"relayout":n=A(r,s);break;case"update":n=v(r,[s[0],s[2]]).concat(A(r,[s[1]]));break;case"animate":n=C(r,s);break;default:n=[]}return n};function C(r,t){return Array.isArray(t[0])&&t[0].length===1&&["string","number"].indexOf(typeof t[0][0])!==-1?[{type:"layout",prop:"_currentFrame",value:t[0][0].toString()}]:[]}function A(r,t){var s=[],n=t[0],f={};if(typeof n=="string")f[n]=t[1];else if(L.isPlainObject(n))f=n;else return s;return p(f,function(u,l,m){s.push({type:"layout",prop:u,value:m})},"",0),s}function v(r,t){var s,n,f,u,l=[];if(n=t[0],f=t[1],s=t[2],u={},typeof n=="string")u[n]=f;else if(L.isPlainObject(n))u=n,s===void 0&&(s=f);else return l;return s===void 0&&(s=null),p(u,function(m,h,M){var c,i;if(Array.isArray(M)){i=M.slice();var d=Math.min(i.length,r.data.length);s&&(d=Math.min(d,s.length)),c=[];for(var b=0;b<d;b++)c[b]=s?s[b]:b}else i=M,c=s?s.slice():null;if(c===null)Array.isArray(i)&&(i=i[0]);else if(Array.isArray(c)){if(!Array.isArray(i)){var w=i;i=[];for(var E=0;E<c.length;E++)i[E]=w}i.length=Math.min(c.length,i.length)}l.push({type:"data",prop:m,traces:c,value:i})},"",0),l}function p(r,t,s,n){Object.keys(r).forEach(function(f){var u=r[f];if(f[0]!=="_"){var l=s+(n>0?".":"")+f;L.isPlainObject(u)?p(u,t,l,n+1):t(l,f,u)}})}},86968:function(G,U,e){var g=e(92880).extendFlat;U.u=function(L,a){L=L||{},a=a||{};var C={valType:"info_array",editType:L.editType,items:[{valType:"number",min:0,max:1,editType:L.editType},{valType:"number",min:0,max:1,editType:L.editType}],dflt:[0,1]};L.name&&L.name+"",L.trace,a.description&&""+a.description;var A={x:g({},C,{}),y:g({},C,{}),editType:L.editType};return L.noGridCell||(A.row={valType:"integer",min:0,dflt:0,editType:L.editType},A.column={valType:"integer",min:0,dflt:0,editType:L.editType}),A},U.Q=function(L,a,C,A){var v=A&&A.x||[0,1],p=A&&A.y||[0,1],r=a.grid;if(r){var t=C("domain.column");t!==void 0&&(t<r.columns?v=r._domains.x[t]:delete L.domain.column);var s=C("domain.row");s!==void 0&&(s<r.rows?p=r._domains.y[s]:delete L.domain.row)}var n=C("domain.x",v),f=C("domain.y",p);n[0]<n[1]||(L.domain.x=v.slice()),f[0]<f[1]||(L.domain.y=p.slice())}},25376:function(G){G.exports=function(U){var e=U.editType,g=U.colorEditType;g===void 0&&(g=e);var L={family:{valType:"string",noBlank:!0,strict:!0,editType:e},size:{valType:"number",min:1,editType:e},color:{valType:"color",editType:g},editType:e};return U.autoSize&&(L.size.dflt="auto"),U.autoColor&&(L.color.dflt="auto"),U.arrayOk&&(L.family.arrayOk=!0,L.size.arrayOk=!0,L.color.arrayOk=!0),L}},16672:function(G){G.exports={_isLinkedToArray:"frames_entry",group:{valType:"string"},name:{valType:"string"},traces:{valType:"any"},baseframe:{valType:"string"},data:{valType:"any"},layout:{valType:"any"}}},79552:function(G,U){U.projNames={airy:"airy",aitoff:"aitoff","albers usa":"albersUsa",albers:"albers",august:"august","azimuthal equal area":"azimuthalEqualArea","azimuthal equidistant":"azimuthalEquidistant",baker:"baker",bertin1953:"bertin1953",boggs:"boggs",bonne:"bonne",bottomley:"bottomley",bromley:"bromley",collignon:"collignon","conic conformal":"conicConformal","conic equal area":"conicEqualArea","conic equidistant":"conicEquidistant",craig:"craig",craster:"craster","cylindrical equal area":"cylindricalEqualArea","cylindrical stereographic":"cylindricalStereographic",eckert1:"eckert1",eckert2:"eckert2",eckert3:"eckert3",eckert4:"eckert4",eckert5:"eckert5",eckert6:"eckert6",eisenlohr:"eisenlohr","equal earth":"equalEarth",equirectangular:"equirectangular",fahey:"fahey","foucaut sinusoidal":"foucautSinusoidal",foucaut:"foucaut",ginzburg4:"ginzburg4",ginzburg5:"ginzburg5",ginzburg6:"ginzburg6",ginzburg8:"ginzburg8",ginzburg9:"ginzburg9",gnomonic:"gnomonic","gringorten quincuncial":"gringortenQuincuncial",gringorten:"gringorten",guyou:"guyou",hammer:"hammer",hill:"hill",homolosine:"homolosine",hufnagel:"hufnagel",hyperelliptical:"hyperelliptical",kavrayskiy7:"kavrayskiy7",lagrange:"lagrange",larrivee:"larrivee",laskowski:"laskowski",loximuthal:"loximuthal",mercator:"mercator",miller:"miller",mollweide:"mollweide","mt flat polar parabolic":"mtFlatPolarParabolic","mt flat polar quartic":"mtFlatPolarQuartic","mt flat polar sinusoidal":"mtFlatPolarSinusoidal","natural earth":"naturalEarth","natural earth1":"naturalEarth1","natural earth2":"naturalEarth2","nell hammer":"nellHammer",nicolosi:"nicolosi",orthographic:"orthographic",patterson:"patterson","peirce quincuncial":"peirceQuincuncial",polyconic:"polyconic","rectangular polyconic":"rectangularPolyconic",robinson:"robinson",satellite:"satellite","sinu mollweide":"sinuMollweide",sinusoidal:"sinusoidal",stereographic:"stereographic",times:"times","transverse mercator":"transverseMercator","van der grinten":"vanDerGrinten","van der grinten2":"vanDerGrinten2","van der grinten3":"vanDerGrinten3","van der grinten4":"vanDerGrinten4",wagner4:"wagner4",wagner6:"wagner6",wiechel:"wiechel","winkel tripel":"winkel3",winkel3:"winkel3"},U.axesNames=["lonaxis","lataxis"],U.lonaxisSpan={orthographic:180,"azimuthal equal area":360,"azimuthal equidistant":360,"conic conformal":180,gnomonic:160,stereographic:180,"transverse mercator":180,"*":360},U.lataxisSpan={"conic conformal":150,stereographic:179.5,"*":180},U.scopeDefaults={world:{lonaxisRange:[-180,180],lataxisRange:[-90,90],projType:"equirectangular",projRotate:[0,0,0]},usa:{lonaxisRange:[-180,-50],lataxisRange:[15,80],projType:"albers usa"},europe:{lonaxisRange:[-30,60],lataxisRange:[30,85],projType:"conic conformal",projRotate:[15,0,0],projParallels:[0,60]},asia:{lonaxisRange:[22,160],lataxisRange:[-15,55],projType:"mercator",projRotate:[0,0,0]},africa:{lonaxisRange:[-30,60],lataxisRange:[-40,40],projType:"mercator",projRotate:[0,0,0]},"north america":{lonaxisRange:[-180,-45],lataxisRange:[5,85],projType:"conic conformal",projRotate:[-100,0,0],projParallels:[29.5,45.5]},"south america":{lonaxisRange:[-100,-30],lataxisRange:[-60,15],projType:"mercator",projRotate:[0,0,0]}},U.clipPad=.001,U.precision=.1,U.landColor="#F0DC82",U.waterColor="#3399FF",U.locationmodeToLayer={"ISO-3":"countries","USA-states":"subunits","country names":"countries"},U.sphereSVG={type:"Sphere"},U.fillLayers={ocean:1,land:1,lakes:1},U.lineLayers={subunits:1,countries:1,coastlines:1,rivers:1,frame:1},U.layers=["bg","ocean","land","lakes","subunits","countries","coastlines","rivers","lataxis","lonaxis","frame","backplot","frontplot"],U.layersForChoropleth=["bg","ocean","land","subunits","countries","coastlines","lataxis","lonaxis","frame","backplot","rivers","lakes","frontplot"],U.layerNameToAdjective={ocean:"ocean",land:"land",lakes:"lake",subunits:"subunit",countries:"country",coastlines:"coastline",rivers:"river",frame:"frame"}},43520:function(G,U,e){var g=e(33428),L=e(83356),a=L.geoPath,C=L.geoDistance,A=e(87108),v=e(24040),p=e(3400),r=p.strTranslate,t=e(76308),s=e(43616),n=e(93024),f=e(7316),u=e(54460),l=e(19280).getAutoRange,m=e(86476),h=e(22676).prepSelect,M=e(22676).clearOutline,c=e(22676).selectOnClick,i=e(79248),d=e(79552),b=e(27144),w=e(59972),E=e(55712).NO;function y(x){this.id=x.id,this.graphDiv=x.graphDiv,this.container=x.container,this.topojsonURL=x.topojsonURL,this.isStatic=x.staticPlot,this.topojsonName=null,this.topojson=null,this.projection=null,this.scope=null,this.viewInitial=null,this.fitScale=null,this.bounds=null,this.midPt=null,this.hasChoropleth=!1,this.traceHash={},this.layers={},this.basePaths={},this.dataPaths={},this.dataPoints={},this.clipDef=null,this.clipRect=null,this.bgRect=null,this.makeFramework()}var S=y.prototype;G.exports=function(_){return new y(_)},S.plot=function(x,_,I,N){var k=this;if(N)return k.update(x,_,!0);k._geoCalcData=x,k._fullLayout=_;var F=_[this.id],O=[],z=!1;for(var B in d.layerNameToAdjective)if(B!=="frame"&&F["show"+B]){z=!0;break}for(var W=!1,q=0;q<x.length;q++){var ee=x[0][0].trace;ee._geo=k,ee.locationmode&&(z=!0);var Q=ee.marker;if(Q){var oe=Q.angle,Z=Q.angleref;(oe||Z==="north"||Z==="previous")&&(W=!0)}}if(this._hasMarkerAngles=W,z){var Y=w.getTopojsonName(F);(k.topojson===null||Y!==k.topojsonName)&&(k.topojsonName=Y,PlotlyGeoAssets.topojson[k.topojsonName]===void 0&&O.push(k.fetchTopojson()))}O=O.concat(b.fetchTraceGeoData(x)),I.push(new Promise(function(te,X){Promise.all(O).then(function(){k.topojson=PlotlyGeoAssets.topojson[k.topojsonName],k.update(x,_),te()}).catch(X)}))},S.fetchTopojson=function(){var x=this,_=w.getTopojsonPath(x.topojsonURL,x.topojsonName);return new Promise(function(I,N){g.json(_,function(k,F){if(k)return k.status===404?N(new Error(["plotly.js could not find topojson file at",_+".","Make sure the *topojsonURL* plot config option","is set properly."].join(" "))):N(new Error(["unexpected error while fetching topojson file at",_].join(" ")));PlotlyGeoAssets.topojson[x.topojsonName]=F,I()})})},S.update=function(x,_,I){var N=_[this.id];this.hasChoropleth=!1;for(var k=0;k<x.length;k++){var F=x[k],O=F[0].trace;O.type==="choropleth"&&(this.hasChoropleth=!0),O.visible===!0&&O._length>0&&O._module.calcGeoJSON(F,_)}if(!I){var z=this.updateProjection(x,_);if(z)return;(!this.viewInitial||this.scope!==N.scope)&&this.saveViewInitial(N)}this.scope=N.scope,this.updateBaseLayers(_,N),this.updateDims(_,N),this.updateFx(_,N),f.generalUpdatePerTraceModule(this.graphDiv,this,x,N);var B=this.layers.frontplot.select(".scatterlayer");this.dataPoints.point=B.selectAll(".point"),this.dataPoints.text=B.selectAll("text"),this.dataPaths.line=B.selectAll(".js-line");var W=this.layers.backplot.select(".choroplethlayer");this.dataPaths.choropleth=W.selectAll("path"),this._render()},S.updateProjection=function(x,_){var I=this.graphDiv,N=_[this.id],k=_._size,F=N.domain,O=N.projection,z=N.lonaxis,B=N.lataxis,W=z._ax,q=B._ax,ee=this.projection=T(N),Q=[[k.l+k.w*F.x[0],k.t+k.h*(1-F.y[1])],[k.l+k.w*F.x[1],k.t+k.h*(1-F.y[0])]],oe=N.center||{},Z=O.rotation||{},Y=z.range||[],te=B.range||[];if(N.fitbounds){W._length=Q[1][0]-Q[0][0],q._length=Q[1][1]-Q[0][1],W.range=l(I,W),q.range=l(I,q);var X=(W.range[0]+W.range[1])/2,$=(q.range[0]+q.range[1])/2;if(N._isScoped)oe={lon:X,lat:$};else if(N._isClipped){oe={lon:X,lat:$},Z={lon:X,lat:$,roll:Z.roll};var ie=O.type,J=d.lonaxisSpan[ie]/2||180,j=d.lataxisSpan[ie]/2||90;Y=[X-J,X+J],te=[$-j,$+j]}else oe={lon:X,lat:$},Z={lon:X,lat:Z.lat,roll:Z.roll}}ee.center([oe.lon-Z.lon,oe.lat-Z.lat]).rotate([-Z.lon,-Z.lat,Z.roll]).parallels(O.parallels);var se=P(Y,te);ee.fitExtent(Q,se);var ne=this.bounds=ee.getBounds(se),le=this.fitScale=ee.scale(),pe=ee.translate();if(N.fitbounds){var Ae=ee.getBounds(P(W.range,q.range)),be=Math.min((ne[1][0]-ne[0][0])/(Ae[1][0]-Ae[0][0]),(ne[1][1]-ne[0][1])/(Ae[1][1]-Ae[0][1]));isFinite(be)?ee.scale(be*le):p.warn("Something went wrong during"+this.id+"fitbounds computations.")}else ee.scale(O.scale*le);var Re=this.midPt=[(ne[0][0]+ne[1][0])/2,(ne[0][1]+ne[1][1])/2];if(ee.translate([pe[0]+(Re[0]-pe[0]),pe[1]+(Re[1]-pe[1])]).clipExtent(ne),N._isAlbersUsa){var xe=ee([oe.lon,oe.lat]),Me=ee.translate();ee.translate([Me[0]-(xe[0]-Me[0]),Me[1]-(xe[1]-Me[1])])}},S.updateBaseLayers=function(x,_){var I=this,N=I.topojson,k=I.layers,F=I.basePaths;function O(Q){return Q==="lonaxis"||Q==="lataxis"}function z(Q){return Boolean(d.lineLayers[Q])}function B(Q){return Boolean(d.fillLayers[Q])}var W=this.hasChoropleth?d.layersForChoropleth:d.layers,q=W.filter(function(Q){return z(Q)||B(Q)?_["show"+Q]:O(Q)?_[Q].showgrid:!0}),ee=I.framework.selectAll(".layer").data(q,String);ee.exit().each(function(Q){delete k[Q],delete F[Q],g.select(this).remove()}),ee.enter().append("g").attr("class",function(Q){return"layer "+Q}).each(function(Q){var oe=k[Q]=g.select(this);Q==="bg"?I.bgRect=oe.append("rect").style("pointer-events","all"):O(Q)?F[Q]=oe.append("path").style("fill","none"):Q==="backplot"?oe.append("g").classed("choroplethlayer",!0):Q==="frontplot"?oe.append("g").classed("scatterlayer",!0):z(Q)?F[Q]=oe.append("path").style("fill","none").style("stroke-miterlimit",2):B(Q)&&(F[Q]=oe.append("path").style("stroke","none"))}),ee.order(),ee.each(function(Q){var oe=F[Q],Z=d.layerNameToAdjective[Q];Q==="frame"?oe.datum(d.sphereSVG):z(Q)||B(Q)?oe.datum(E(N,N.objects[Q])):O(Q)&&oe.datum(o(Q,_,x)).call(t.stroke,_[Q].gridcolor).call(s.dashLine,_[Q].griddash,_[Q].gridwidth),z(Q)?oe.call(t.stroke,_[Z+"color"]).call(s.dashLine,"",_[Z+"width"]):B(Q)&&oe.call(t.fill,_[Z+"color"])})},S.updateDims=function(x,_){var I=this.bounds,N=(_.framewidth||0)/2,k=I[0][0]-N,F=I[0][1]-N,O=I[1][0]-k+N,z=I[1][1]-F+N;s.setRect(this.clipRect,k,F,O,z),this.bgRect.call(s.setRect,k,F,O,z).call(t.fill,_.bgcolor),this.xaxis._offset=k,this.xaxis._length=O,this.yaxis._offset=F,this.yaxis._length=z},S.updateFx=function(x,_){var I=this,N=I.graphDiv,k=I.bgRect,F=x.dragmode,O=x.clickmode;if(I.isStatic)return;function z(){var ee=I.viewInitial,Q={};for(var oe in ee)Q[I.id+"."+oe]=ee[oe];v.call("_guiRelayout",N,Q),N.emit("plotly_doubleclick",null)}function B(ee){return I.projection.invert([ee[0]+I.xaxis._offset,ee[1]+I.yaxis._offset])}var W=function(ee,Q){if(Q.isRect){var oe=ee.range={};oe[I.id]=[B([Q.xmin,Q.ymin]),B([Q.xmax,Q.ymax])]}else{var Z=ee.lassoPoints={};Z[I.id]=Q.map(B)}},q={element:I.bgRect.node(),gd:N,plotinfo:{id:I.id,xaxis:I.xaxis,yaxis:I.yaxis,fillRangeItems:W},xaxes:[I.xaxis],yaxes:[I.yaxis],subplot:I.id,clickFn:function(ee){ee===2&&M(N)}};F==="pan"?(k.node().onmousedown=null,k.call(i(I,_)),k.on("dblclick.zoom",z),N._context._scrollZoom.geo||k.on("wheel.zoom",null)):(F==="select"||F==="lasso")&&(k.on(".zoom",null),q.prepFn=function(ee,Q,oe){h(ee,Q,oe,q,F)},m.init(q)),k.on("mousemove",function(){var ee=I.projection.invert(p.getPositionFromD3Event());if(!ee)return m.unhover(N,g.event);I.xaxis.p2c=function(){return ee[0]},I.yaxis.p2c=function(){return ee[1]},n.hover(N,g.event,I.id)}),k.on("mouseout",function(){N._dragging||m.unhover(N,g.event)}),k.on("click",function(){F!=="select"&&F!=="lasso"&&(O.indexOf("select")>-1&&c(g.event,N,[I.xaxis],[I.yaxis],I.id,q),O.indexOf("event")>-1&&n.click(N,g.event))})},S.makeFramework=function(){var x=this,_=x.graphDiv,I=_._fullLayout,N="clip"+I._uid+x.id;x.clipDef=I._clips.append("clipPath").attr("id",N),x.clipRect=x.clipDef.append("rect"),x.framework=g.select(x.container).append("g").attr("class","geo "+x.id).call(s.setClipUrl,N,_),x.project=function(k){var F=x.projection(k);return F?[F[0]-x.xaxis._offset,F[1]-x.yaxis._offset]:[null,null]},x.xaxis={_id:"x",c2p:function(k){return x.project(k)[0]}},x.yaxis={_id:"y",c2p:function(k){return x.project(k)[1]}},x.mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},u.setConvert(x.mockAxis,I)},S.saveViewInitial=function(x){var _=x.center||{},I=x.projection,N=I.rotation||{};this.viewInitial={fitbounds:x.fitbounds,"projection.scale":I.scale};var k;x._isScoped?k={"center.lon":_.lon,"center.lat":_.lat}:x._isClipped?k={"projection.rotation.lon":N.lon,"projection.rotation.lat":N.lat}:k={"center.lon":_.lon,"center.lat":_.lat,"projection.rotation.lon":N.lon},p.extendFlat(this.viewInitial,k)},S.render=function(x){this._hasMarkerAngles&&x?this.plot(this._geoCalcData,this._fullLayout,[],!0):this._render()},S._render=function(){var x=this.projection,_=x.getPath(),I;function N(F){var O=x(F.lonlat);return O?r(O[0],O[1]):null}function k(F){return x.isLonLatOverEdges(F.lonlat)?"none":null}for(I in this.basePaths)this.basePaths[I].attr("d",_);for(I in this.dataPaths)this.dataPaths[I].attr("d",function(F){return _(F.geojson)});for(I in this.dataPoints)this.dataPoints[I].attr("display",k).attr("transform",N)};function T(x){var _=x.projection,I=_.type,N=d.projNames[I];N="geo"+p.titleCase(N);for(var k=L[N]||A[N],F=k(),O=x._isSatellite?Math.acos(1/_.distance)*180/Math.PI:x._isClipped?d.lonaxisSpan[I]/2:null,z=["center","rotate","parallels","clipExtent"],B=function(ee){return ee?F:[]},W=0;W<z.length;W++){var q=z[W];typeof F[q]!="function"&&(F[q]=B)}return F.isLonLatOverEdges=function(ee){if(F(ee)===null)return!0;if(O){var Q=F.rotate(),oe=C(ee,[-Q[0],-Q[1]]),Z=O*Math.PI/180;return oe>Z}else return!1},F.getPath=function(){return a().projection(F)},F.getBounds=function(ee){return F.getPath().bounds(ee)},F.precision(d.precision),x._isSatellite&&F.tilt(_.tilt).distance(_.distance),O&&F.clipAngle(O-d.clipPad),F}function o(x,_,I){var N=1e-6,k=2.5,F=_[x],O=d.scopeDefaults[_.scope],z,B,W;x==="lonaxis"?(z=O.lonaxisRange,B=O.lataxisRange,W=function($,ie){return[$,ie]}):x==="lataxis"&&(z=O.lataxisRange,B=O.lonaxisRange,W=function($,ie){return[ie,$]});var q={type:"linear",range:[z[0],z[1]-N],tick0:F.tick0,dtick:F.dtick};u.setConvert(q,I);var ee=u.calcTicks(q);!_.isScoped&&x==="lonaxis"&&ee.pop();for(var Q=ee.length,oe=new Array(Q),Z=0;Z<Q;Z++)for(var Y=ee[Z].x,te=oe[Z]=[],X=B[0];X<B[1]+k;X+=k)te.push(W(Y,X));return{type:"MultiLineString",coordinates:oe}}function P(x,_){var I=d.clipPad,N=x[0]+I,k=x[1]-I,F=_[0]+I,O=_[1]-I;N>0&&k<0&&(k+=360);var z=(k-N)/4;return{type:"Polygon",coordinates:[[[N,F],[N,O],[N+z,O],[N+2*z,O],[N+3*z,O],[k,O],[k,F],[k-z,F],[k-2*z,F],[k-3*z,F],[N,F]]]}}},10816:function(G,U,e){var g=e(84888).KY,L=e(3400).counterRegex,a=e(43520),C="geo",A=L(C),v={};v[C]={valType:"subplotid",dflt:C,editType:"calc"};function p(s){for(var n=s._fullLayout,f=s.calcdata,u=n._subplots[C],l=0;l<u.length;l++){var m=u[l],h=g(f,C,m),M=n[m],c=M._subplot;c||(c=a({id:m,graphDiv:s,container:n._geolayer.node(),topojsonURL:s._context.topojsonURL,staticPlot:s._context.staticPlot}),n[m]._subplot=c),c.plot(h,n,s._promises)}}function r(s,n,f,u){for(var l=u._subplots[C]||[],m=0;m<l.length;m++){var h=l[m],M=u[h]._subplot;!n[h]&&!!M&&(M.framework.remove(),M.clipDef.remove())}}function t(s){for(var n=s._fullLayout,f=n._subplots[C],u=0;u<f.length;u++){var l=n[f[u]],m=l._subplot;m.updateFx(n,l)}}G.exports={attr:C,name:C,idRoot:C,idRegex:A,attrRegex:A,attributes:v,layoutAttributes:e(40384),supplyLayoutDefaults:e(86920),plot:p,updateFx:t,clean:r}},40384:function(G,U,e){var g=e(22548),L=e(86968).u,a=e(98192).u,C=e(79552),A=e(67824).overrideAll,v=e(95376),p={range:{valType:"info_array",items:[{valType:"number"},{valType:"number"}]},showgrid:{valType:"boolean",dflt:!1},tick0:{valType:"number",dflt:0},dtick:{valType:"number"},gridcolor:{valType:"color",dflt:g.lightLine},gridwidth:{valType:"number",min:0,dflt:1},griddash:a},r=G.exports=A({domain:L({name:"geo"},{}),fitbounds:{valType:"enumerated",values:[!1,"locations","geojson"],dflt:!1,editType:"plot"},resolution:{valType:"enumerated",values:[110,50],dflt:110,coerceNumber:!0},scope:{valType:"enumerated",values:v(C.scopeDefaults),dflt:"world"},projection:{type:{valType:"enumerated",values:v(C.projNames)},rotation:{lon:{valType:"number"},lat:{valType:"number"},roll:{valType:"number"}},tilt:{valType:"number",dflt:0},distance:{valType:"number",min:1.001,dflt:2},parallels:{valType:"info_array",items:[{valType:"number"},{valType:"number"}]},scale:{valType:"number",min:0,dflt:1}},center:{lon:{valType:"number"},lat:{valType:"number"}},visible:{valType:"boolean",dflt:!0},showcoastlines:{valType:"boolean"},coastlinecolor:{valType:"color",dflt:g.defaultLine},coastlinewidth:{valType:"number",min:0,dflt:1},showland:{valType:"boolean",dflt:!1},landcolor:{valType:"color",dflt:C.landColor},showocean:{valType:"boolean",dflt:!1},oceancolor:{valType:"color",dflt:C.waterColor},showlakes:{valType:"boolean",dflt:!1},lakecolor:{valType:"color",dflt:C.waterColor},showrivers:{valType:"boolean",dflt:!1},rivercolor:{valType:"color",dflt:C.waterColor},riverwidth:{valType:"number",min:0,dflt:1},showcountries:{valType:"boolean"},countrycolor:{valType:"color",dflt:g.defaultLine},countrywidth:{valType:"number",min:0,dflt:1},showsubunits:{valType:"boolean"},subunitcolor:{valType:"color",dflt:g.defaultLine},subunitwidth:{valType:"number",min:0,dflt:1},showframe:{valType:"boolean"},framecolor:{valType:"color",dflt:g.defaultLine},framewidth:{valType:"number",min:0,dflt:1},bgcolor:{valType:"color",dflt:g.background},lonaxis:p,lataxis:p},"plot","from-root");r.uirevision={valType:"any",editType:"none"}},86920:function(G,U,e){var g=e(3400),L=e(168),a=e(84888).op,C=e(79552),A=e(40384),v=C.axesNames;G.exports=function(t,s,n){L(t,s,n,{type:"geo",attributes:A,handleDefaults:p,fullData:n,partition:"y"})};function p(r,t,s,n){var f=a(n.fullData,"geo",n.id),u=f.map(function(te){return te._expandedIndex}),l=s("resolution"),m=s("scope"),h=C.scopeDefaults[m],M=s("projection.type",h.projType),c=t._isAlbersUsa=M==="albers usa";c&&(m=t.scope="usa");var i=t._isScoped=m!=="world",d=t._isSatellite=M==="satellite",b=t._isConic=M.indexOf("conic")!==-1||M==="albers",w=t._isClipped=!!C.lonaxisSpan[M];if(r.visible===!1){var E=g.extendDeep({},t._template);E.showcoastlines=!1,E.showcountries=!1,E.showframe=!1,E.showlakes=!1,E.showland=!1,E.showocean=!1,E.showrivers=!1,E.showsubunits=!1,E.lonaxis&&(E.lonaxis.showgrid=!1),E.lataxis&&(E.lataxis.showgrid=!1),t._template=E}for(var y=s("visible"),S,T=0;T<v.length;T++){var o=v[T],P=[30,10][T],x;if(i)x=h[o+"Range"];else{var _=C[o+"Span"],I=(_[M]||_["*"])/2,N=s("projection.rotation."+o.substr(0,3),h.projRotate[T]);x=[N-I,N+I]}var k=s(o+".range",x);s(o+".tick0"),s(o+".dtick",P),S=s(o+".showgrid",y?void 0:!1),S&&(s(o+".gridcolor"),s(o+".gridwidth"),s(o+".griddash")),t[o]._ax={type:"linear",_id:o.slice(0,3),_traceIndices:u,setScale:g.identity,c2l:g.identity,r2l:g.identity,autorange:!0,range:k.slice(),_m:1,_input:{}}}var F=t.lonaxis.range,O=t.lataxis.range,z=F[0],B=F[1];z>0&&B<0&&(B+=360);var W=(z+B)/2,q;if(!c){var ee=i?h.projRotate:[W,0,0];q=s("projection.rotation.lon",ee[0]),s("projection.rotation.lat",ee[1]),s("projection.rotation.roll",ee[2]),S=s("showcoastlines",!i&&y),S&&(s("coastlinecolor"),s("coastlinewidth")),S=s("showocean",y?void 0:!1),S&&s("oceancolor")}var Q,oe;if(c?(Q=-96.6,oe=38.7):(Q=i?W:q,oe=(O[0]+O[1])/2),s("center.lon",Q),s("center.lat",oe),d&&(s("projection.tilt"),s("projection.distance")),b){var Z=h.projParallels||[0,60];s("projection.parallels",Z)}s("projection.scale"),S=s("showland",y?void 0:!1),S&&s("landcolor"),S=s("showlakes",y?void 0:!1),S&&s("lakecolor"),S=s("showrivers",y?void 0:!1),S&&(s("rivercolor"),s("riverwidth")),S=s("showcountries",i&&m!=="usa"&&y),S&&(s("countrycolor"),s("countrywidth")),(m==="usa"||m==="north america"&&l===50)&&(s("showsubunits",y),s("subunitcolor"),s("subunitwidth")),i||(S=s("showframe",y),S&&(s("framecolor"),s("framewidth"))),s("bgcolor");var Y=s("fitbounds");Y&&(delete t.projection.scale,i?(delete t.center.lon,delete t.center.lat):w?(delete t.center.lon,delete t.center.lat,delete t.projection.rotation.lon,delete t.projection.rotation.lat,delete t.lonaxis.range,delete t.lataxis.range):(delete t.center.lon,delete t.center.lat,delete t.projection.rotation.lon))}},79248:function(G,U,e){var g=e(33428),L=e(3400),a=e(24040),C=Math.PI/180,A=180/Math.PI,v={cursor:"pointer"},p={cursor:"auto"};function r(o,P){var x=o.projection,_;return P._isScoped?_=n:P._isClipped?_=u:_=f,_(o,x)}G.exports=r;function t(o,P){return g.behavior.zoom().translate(P.translate()).scale(P.scale())}function s(o,P,x){var _=o.id,I=o.graphDiv,N=I.layout,k=N[_],F=I._fullLayout,O=F[_],z={},B={};function W(q,ee){z[_+"."+q]=L.nestedProperty(k,q).get(),a.call("_storeDirectGUIEdit",N,F._preGUI,z);var Q=L.nestedProperty(O,q);Q.get()!==ee&&(Q.set(ee),L.nestedProperty(k,q).set(ee),B[_+"."+q]=ee)}x(W),W("projection.scale",P.scale()/o.fitScale),W("fitbounds",!1),I.emit("plotly_relayout",B)}function n(o,P){var x=t(o,P);function _(){g.select(this).style(v)}function I(){P.scale(g.event.scale).translate(g.event.translate),o.render(!0);var F=P.invert(o.midPt);o.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":P.scale()/o.fitScale,"geo.center.lon":F[0],"geo.center.lat":F[1]})}function N(F){var O=P.invert(o.midPt);F("center.lon",O[0]),F("center.lat",O[1])}function k(){g.select(this).style(p),s(o,P,N)}return x.on("zoomstart",_).on("zoom",I).on("zoomend",k),x}function f(o,P){var x=t(o,P),_=2,I,N,k,F,O,z,B,W,q;function ee(X){return P.invert(X)}function Q(X){var $=ee(X);if(!$)return!0;var ie=P($);return Math.abs(ie[0]-X[0])>_||Math.abs(ie[1]-X[1])>_}function oe(){g.select(this).style(v),I=g.mouse(this),N=P.rotate(),k=P.translate(),F=N,O=ee(I)}function Z(){if(z=g.mouse(this),Q(I)){x.scale(P.scale()),x.translate(P.translate());return}P.scale(g.event.scale),P.translate([k[0],g.event.translate[1]]),O?ee(z)&&(W=ee(z),B=[F[0]+(W[0]-O[0]),N[1],N[2]],P.rotate(B),F=B):(I=z,O=ee(I)),q=!0,o.render(!0);var X=P.rotate(),$=P.invert(o.midPt);o.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":P.scale()/o.fitScale,"geo.center.lon":$[0],"geo.center.lat":$[1],"geo.projection.rotation.lon":-X[0]})}function Y(){g.select(this).style(p),q&&s(o,P,te)}function te(X){var $=P.rotate(),ie=P.invert(o.midPt);X("projection.rotation.lon",-$[0]),X("center.lon",ie[0]),X("center.lat",ie[1])}return x.on("zoomstart",oe).on("zoom",Z).on("zoomend",Y),x}function u(o,P){P.rotate(),P.scale();var x=t(o,P),_=T(x,"zoomstart","zoom","zoomend"),I=0,N=x.on,k;x.on("zoomstart",function(){g.select(this).style(v);var W=g.mouse(this),q=P.rotate(),ee=q,Q=P.translate(),oe=m(q);k=l(P,W),N.call(x,"zoom",function(){var Z=g.mouse(this);if(P.scale(g.event.scale),!k)W=Z,k=l(P,W);else if(l(P,Z)){P.rotate(q).translate(Q);var Y=l(P,Z),te=M(k,Y),X=w(h(oe,te)),$=c(X,k,ee);(!isFinite($[0])||!isFinite($[1])||!isFinite($[2]))&&($=ee),P.rotate($),ee=$}O(_.of(this,arguments))}),F(_.of(this,arguments))}).on("zoomend",function(){g.select(this).style(p),N.call(x,"zoom",null),z(_.of(this,arguments)),s(o,P,B)}).on("zoom.redraw",function(){o.render(!0);var W=P.rotate();o.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":P.scale()/o.fitScale,"geo.projection.rotation.lon":-W[0],"geo.projection.rotation.lat":-W[1]})});function F(W){I++||W({type:"zoomstart"})}function O(W){W({type:"zoom"})}function z(W){--I||W({type:"zoomend"})}function B(W){var q=P.rotate();W("projection.rotation.lon",-q[0]),W("projection.rotation.lat",-q[1])}return g.rebind(x,_,"on")}function l(o,P){var x=o.invert(P);return x&&isFinite(x[0])&&isFinite(x[1])&&E(x)}function m(o){var P=.5*o[0]*C,x=.5*o[1]*C,_=.5*o[2]*C,I=Math.sin(P),N=Math.cos(P),k=Math.sin(x),F=Math.cos(x),O=Math.sin(_),z=Math.cos(_);return[N*F*z+I*k*O,I*F*z-N*k*O,N*k*z+I*F*O,N*F*O-I*k*z]}function h(o,P){var x=o[0],_=o[1],I=o[2],N=o[3],k=P[0],F=P[1],O=P[2],z=P[3];return[x*k-_*F-I*O-N*z,x*F+_*k+I*z-N*O,x*O-_*z+I*k+N*F,x*z+_*O-I*F+N*k]}function M(o,P){if(!(!o||!P)){var x=S(o,P),_=Math.sqrt(y(x,x)),I=.5*Math.acos(Math.max(-1,Math.min(1,y(o,P)))),N=Math.sin(I)/_;return _&&[Math.cos(I),x[2]*N,-x[1]*N,x[0]*N]}}function c(o,P,x){var _=b(P,2,o[0]);_=b(_,1,o[1]),_=b(_,0,o[2]-x[2]);var I=P[0],N=P[1],k=P[2],F=_[0],O=_[1],z=_[2],B=Math.atan2(N,I)*A,W=Math.sqrt(I*I+N*N),q,ee;Math.abs(O)>W?(ee=(O>0?90:-90)-B,q=0):(ee=Math.asin(O/W)*A-B,q=Math.sqrt(W*W-O*O));var Q=180-ee-2*B,oe=(Math.atan2(z,F)-Math.atan2(k,q))*A,Z=(Math.atan2(z,F)-Math.atan2(k,-q))*A,Y=i(x[0],x[1],ee,oe),te=i(x[0],x[1],Q,Z);return Y<=te?[ee,oe,x[2]]:[Q,Z,x[2]]}function i(o,P,x,_){var I=d(x-o),N=d(_-P);return Math.sqrt(I*I+N*N)}function d(o){return(o%360+540)%360-180}function b(o,P,x){var _=x*C,I=o.slice(),N=P===0?1:0,k=P===2?1:2,F=Math.cos(_),O=Math.sin(_);return I[N]=o[N]*F-o[k]*O,I[k]=o[k]*F+o[N]*O,I}function w(o){return[Math.atan2(2*(o[0]*o[1]+o[2]*o[3]),1-2*(o[1]*o[1]+o[2]*o[2]))*A,Math.asin(Math.max(-1,Math.min(1,2*(o[0]*o[2]-o[3]*o[1]))))*A,Math.atan2(2*(o[0]*o[3]+o[1]*o[2]),1-2*(o[2]*o[2]+o[3]*o[3]))*A]}function E(o){var P=o[0]*C,x=o[1]*C,_=Math.cos(x);return[_*Math.cos(P),_*Math.sin(P),Math.sin(x)]}function y(o,P){for(var x=0,_=0,I=o.length;_<I;++_)x+=o[_]*P[_];return x}function S(o,P){return[o[1]*P[2]-o[2]*P[1],o[2]*P[0]-o[0]*P[2],o[0]*P[1]-o[1]*P[0]]}function T(o){for(var P=0,x=arguments.length,_=[];++P<x;)_.push(arguments[P]);var I=g.dispatch.apply(null,_);return I.of=function(N,k){return function(F){var O;try{O=F.sourceEvent=g.event,F.target=o,g.event=F,I[F.type].apply(N,k)}finally{g.event=O}}},I}},84888:function(G,U,e){var g=e(24040),L=e(33816).SUBPLOT_PATTERN;U.KY=function(a,C,A){var v=g.subplotsRegistry[C];if(!v)return[];for(var p=v.attr,r=[],t=0;t<a.length;t++){var s=a[t],n=s[0].trace;n[p]===A&&r.push(s)}return r},U._M=function(a,C){var A=[],v=[],p;if(typeof C=="string"?p=g.getModule(C).plot:typeof C=="function"?p=C:p=C.plot,!p)return[A,a];for(var r=0;r<a.length;r++){var t=a[r],s=t[0].trace;s.visible!==!0||s._length===0||(s._module&&s._module.plot===p?A.push(t):v.push(t))}return[A,v]},U.op=function(C,A,v){if(!g.subplotsRegistry[A])return[];var p=g.subplotsRegistry[A].attr,r=[],t,s,n;if(A==="gl2d"){var f=v.match(L);s="x"+f[1],n="y"+f[2]}for(var u=0;u<C.length;u++)t=C[u],A==="gl2d"&&g.traceIs(t,"gl2d")?t[p[0]]===s&&t[p[1]]===n&&r.push(t):t[p]===v&&r.push(t);return r}},2428:function(G,U,e){var g=e(62644),L=e(97264),a=e(29128),C=e(33816),A=e(89184);G.exports=p;function v(r,t){this.element=r,this.plot=t,this.mouseListener=null,this.wheelListener=null,this.lastInputTime=Date.now(),this.lastPos=[0,0],this.boxEnabled=!1,this.boxInited=!1,this.boxStart=[0,0],this.boxEnd=[0,0],this.dragStart=[0,0]}function p(r){var t=r.mouseContainer,s=r.glplot,n=new v(t,s);function f(){r.xaxis.autorange=!1,r.yaxis.autorange=!1}function u(){for(var m=r.graphDiv._fullLayout._axisConstraintGroups,h=r.xaxis._id,M=r.yaxis._id,c=0;c<m.length;c++)if(m[c][h]!==-1){if(m[c][M]!==-1)return!0;break}return!1}n.mouseListener=g(t,l),t.addEventListener("touchstart",function(m){var h=a(m.changedTouches[0],t);l(0,h[0],h[1]),l(1,h[0],h[1]),m.preventDefault()},A?{passive:!1}:!1),t.addEventListener("touchmove",function(m){m.preventDefault();var h=a(m.changedTouches[0],t);l(1,h[0],h[1]),m.preventDefault()},A?{passive:!1}:!1),t.addEventListener("touchend",function(m){l(0,n.lastPos[0],n.lastPos[1]),m.preventDefault()},A?{passive:!1}:!1);function l(m,h,M){var c=r.calcDataBox(),i=s.viewBox,d=n.lastPos[0],b=n.lastPos[1],w=C.MINDRAG*s.pixelRatio,E=C.MINZOOM*s.pixelRatio,y,S;h*=s.pixelRatio,M*=s.pixelRatio,M=i[3]-i[1]-M;function T(N,k,F){var O=Math.min(k,F),z=Math.max(k,F);O!==z?(c[N]=O,c[N+2]=z,n.dataBox=c,r.setRanges(c)):(r.selectBox.selectBox=[0,0,1,1],r.glplot.setDirty())}switch(r.fullLayout.dragmode){case"zoom":if(m){var o=h/(i[2]-i[0])*(c[2]-c[0])+c[0],P=M/(i[3]-i[1])*(c[3]-c[1])+c[1];n.boxInited||(n.boxStart[0]=o,n.boxStart[1]=P,n.dragStart[0]=h,n.dragStart[1]=M),n.boxEnd[0]=o,n.boxEnd[1]=P,n.boxInited=!0,!n.boxEnabled&&(n.boxStart[0]!==n.boxEnd[0]||n.boxStart[1]!==n.boxEnd[1])&&(n.boxEnabled=!0);var x=Math.abs(n.dragStart[0]-h)<E,_=Math.abs(n.dragStart[1]-M)<E;if(u()&&!(x&&_)){y=n.boxEnd[0]-n.boxStart[0],S=n.boxEnd[1]-n.boxStart[1];var I=(c[3]-c[1])/(c[2]-c[0]);Math.abs(y*I)>Math.abs(S)?(n.boxEnd[1]=n.boxStart[1]+Math.abs(y)*I*(S>=0?1:-1),n.boxEnd[1]<c[1]?(n.boxEnd[1]=c[1],n.boxEnd[0]=n.boxStart[0]+(c[1]-n.boxStart[1])/Math.abs(I)):n.boxEnd[1]>c[3]&&(n.boxEnd[1]=c[3],n.boxEnd[0]=n.boxStart[0]+(c[3]-n.boxStart[1])/Math.abs(I))):(n.boxEnd[0]=n.boxStart[0]+Math.abs(S)/I*(y>=0?1:-1),n.boxEnd[0]<c[0]?(n.boxEnd[0]=c[0],n.boxEnd[1]=n.boxStart[1]+(c[0]-n.boxStart[0])*Math.abs(I)):n.boxEnd[0]>c[2]&&(n.boxEnd[0]=c[2],n.boxEnd[1]=n.boxStart[1]+(c[2]-n.boxStart[0])*Math.abs(I)))}else x&&(n.boxEnd[0]=n.boxStart[0]),_&&(n.boxEnd[1]=n.boxStart[1])}else n.boxEnabled?(y=n.boxStart[0]!==n.boxEnd[0],S=n.boxStart[1]!==n.boxEnd[1],y||S?(y&&(T(0,n.boxStart[0],n.boxEnd[0]),r.xaxis.autorange=!1),S&&(T(1,n.boxStart[1],n.boxEnd[1]),r.yaxis.autorange=!1),r.relayoutCallback()):r.glplot.setDirty(),n.boxEnabled=!1,n.boxInited=!1):n.boxInited&&(n.boxInited=!1);break;case"pan":n.boxEnabled=!1,n.boxInited=!1,m?(n.panning||(n.dragStart[0]=h,n.dragStart[1]=M),Math.abs(n.dragStart[0]-h)<w&&(h=n.dragStart[0]),Math.abs(n.dragStart[1]-M)<w&&(M=n.dragStart[1]),y=(d-h)*(c[2]-c[0])/(s.viewBox[2]-s.viewBox[0]),S=(b-M)*(c[3]-c[1])/(s.viewBox[3]-s.viewBox[1]),c[0]+=y,c[2]+=y,c[1]+=S,c[3]+=S,r.setRanges(c),n.panning=!0,n.lastInputTime=Date.now(),f(),r.cameraChanged(),r.handleAnnotations()):n.panning&&(n.panning=!1,r.relayoutCallback());break}n.lastPos[0]=h,n.lastPos[1]=M}return n.wheelListener=L(t,function(m,h){if(!r.scrollZoom)return!1;var M=r.calcDataBox(),c=s.viewBox,i=n.lastPos[0],d=n.lastPos[1],b=Math.exp(5*h/(c[3]-c[1])),w=i/(c[2]-c[0])*(M[2]-M[0])+M[0],E=d/(c[3]-c[1])*(M[3]-M[1])+M[1];return M[0]=(M[0]-w)*b+w,M[2]=(M[2]-w)*b+w,M[1]=(M[1]-E)*b+E,M[3]=(M[3]-E)*b+E,r.setRanges(M),n.lastInputTime=Date.now(),f(),r.cameraChanged(),r.handleAnnotations(),r.relayoutCallback(),!0},!0),n}},92568:function(G,U,e){var g=e(54460),L=e(43080);function a(p){this.scene=p,this.gl=p.gl,this.pixelRatio=p.pixelRatio,this.screenBox=[0,0,1,1],this.viewBox=[0,0,1,1],this.dataBox=[-1,-1,1,1],this.borderLineEnable=[!1,!1,!1,!1],this.borderLineWidth=[1,1,1,1],this.borderLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.ticks=[[],[]],this.tickEnable=[!0,!0,!1,!1],this.tickPad=[15,15,15,15],this.tickAngle=[0,0,0,0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickMarkLength=[0,0,0,0],this.tickMarkWidth=[0,0,0,0],this.tickMarkColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labels=["x","y"],this.labelEnable=[!0,!0,!1,!1],this.labelAngle=[0,Math.PI/2,0,3*Math.PI/2],this.labelPad=[15,15,15,15],this.labelSize=[12,12],this.labelFont=["sans-serif","sans-serif"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.title="",this.titleEnable=!0,this.titleCenter=[0,0,0,0],this.titleAngle=0,this.titleColor=[0,0,0,1],this.titleFont="sans-serif",this.titleSize=18,this.gridLineEnable=[!0,!0],this.gridLineColor=[[0,0,0,.5],[0,0,0,.5]],this.gridLineWidth=[1,1],this.zeroLineEnable=[!0,!0],this.zeroLineWidth=[1,1],this.zeroLineColor=[[0,0,0,1],[0,0,0,1]],this.borderColor=[0,0,0,0],this.backgroundColor=[0,0,0,0],this.static=this.scene.staticPlot}var C=a.prototype,A=["xaxis","yaxis"];C.merge=function(p){this.titleEnable=!1,this.backgroundColor=L(p.plot_bgcolor);var r,t,s,n,f,u,l,m,h,M,c;for(M=0;M<2;++M){r=A[M];var i=r.charAt(0);for(t=p[this.scene[r]._name],s=t.title.text===this.scene.fullLayout._dfltTitle[i]?"":t.title.text,c=0;c<=2;c+=2)this.labelEnable[M+c]=!1,this.labels[M+c]=s,this.labelColor[M+c]=L(t.title.font.color),this.labelFont[M+c]=t.title.font.family,this.labelSize[M+c]=t.title.font.size,this.labelPad[M+c]=this.getLabelPad(r,t),this.tickEnable[M+c]=!1,this.tickColor[M+c]=L((t.tickfont||{}).color),this.tickAngle[M+c]=t.tickangle==="auto"?0:Math.PI*-t.tickangle/180,this.tickPad[M+c]=this.getTickPad(t),this.tickMarkLength[M+c]=0,this.tickMarkWidth[M+c]=t.tickwidth||0,this.tickMarkColor[M+c]=L(t.tickcolor),this.borderLineEnable[M+c]=!1,this.borderLineColor[M+c]=L(t.linecolor),this.borderLineWidth[M+c]=t.linewidth||0;l=this.hasSharedAxis(t),f=this.hasAxisInDfltPos(r,t)&&!l,u=this.hasAxisInAltrPos(r,t)&&!l,n=t.mirror||!1,m=l?String(n).indexOf("all")!==-1:!!n,h=l?n==="allticks":String(n).indexOf("ticks")!==-1,f?this.labelEnable[M]=!0:u&&(this.labelEnable[M+2]=!0),f?this.tickEnable[M]=t.showticklabels:u&&(this.tickEnable[M+2]=t.showticklabels),(f||m)&&(this.borderLineEnable[M]=t.showline),(u||m)&&(this.borderLineEnable[M+2]=t.showline),(f||h)&&(this.tickMarkLength[M]=this.getTickMarkLength(t)),(u||h)&&(this.tickMarkLength[M+2]=this.getTickMarkLength(t)),this.gridLineEnable[M]=t.showgrid,this.gridLineColor[M]=L(t.gridcolor),this.gridLineWidth[M]=t.gridwidth,this.zeroLineEnable[M]=t.zeroline,this.zeroLineColor[M]=L(t.zerolinecolor),this.zeroLineWidth[M]=t.zerolinewidth}},C.hasSharedAxis=function(p){var r=this.scene,t=r.fullLayout._subplots.gl2d,s=g.findSubplotsWithAxis(t,p);return s.indexOf(r.id)!==0},C.hasAxisInDfltPos=function(p,r){var t=r.side;if(p==="xaxis")return t==="bottom";if(p==="yaxis")return t==="left"},C.hasAxisInAltrPos=function(p,r){var t=r.side;if(p==="xaxis")return t==="top";if(p==="yaxis")return t==="right"},C.getLabelPad=function(p,r){var t=1.5,s=r.title.font.size,n=r.showticklabels;if(p==="xaxis")return r.side==="top"?-10+s*(t+(n?1:0)):-10+s*(t+(n?.5:0));if(p==="yaxis")return r.side==="right"?10+s*(t+(n?1:.5)):10+s*(t+(n?.5:0))},C.getTickPad=function(p){return p.ticks==="outside"?10+p.ticklen:15},C.getTickMarkLength=function(p){if(!p.ticks)return 0;var r=p.ticklen;return p.ticks==="inside"?-r:r};function v(p){return new a(p)}G.exports=v},39952:function(G,U,e){var g=e(67824).overrideAll,L=e(17188),a=e(64859),C=e(9616),A=e(33816),v=e(57952),p=e(65460),r=e(84888).op;U.name="gl2d",U.attr=["xaxis","yaxis"],U.idRoot=["x","y"],U.idRegex=A.idRegex,U.attrRegex=A.attrRegex,U.attributes=e(26720),U.supplyLayoutDefaults=function(t,s,n){s._has("cartesian")||v.supplyLayoutDefaults(t,s,n)},U.layoutAttrOverrides=g(v.layoutAttributes,"plot","from-root"),U.baseLayoutAttrOverrides=g({plot_bgcolor:a.plot_bgcolor,hoverlabel:p.hoverlabel},"plot","nested"),U.plot=function(s){for(var n=s._fullLayout,f=s._fullData,u=n._subplots.gl2d,l=0;l<u.length;l++){var m=u[l],h=n._plots[m],M=r(f,"gl2d",m),c=h._scene2d;c===void 0&&(c=new L({id:m,graphDiv:s,container:s.querySelector(".gl-container"),staticPlot:s._context.staticPlot,plotGlPixelRatio:s._context.plotGlPixelRatio},n),h._scene2d=c),c.plot(M,s.calcdata,n,s.layout)}},U.clean=function(t,s,n,f){for(var u=f._subplots.gl2d||[],l=0;l<u.length;l++){var m=u[l],h=f._plots[m];if(!!h._scene2d){var M=r(t,"gl2d",m);M.length===0&&(h._scene2d.destroy(),delete f._plots[m])}}v.clean.apply(this,arguments)},U.drawFramework=function(t){t._context.staticPlot||v.drawFramework(t)},U.toSVG=function(t){for(var s=t._fullLayout,n=s._subplots.gl2d,f=0;f<n.length;f++){var u=s._plots[n[f]],l=u._scene2d,m=l.toImage("png"),h=s._glimages.append("svg:image");h.attr({xmlns:C.svg,"xlink:href":m,x:0,y:0,width:"100%",height:"100%",preserveAspectRatio:"none"}),l.destroy()}},U.updateFx=function(t){for(var s=t._fullLayout,n=s._subplots.gl2d,f=0;f<n.length;f++){var u=s._plots[n[f]]._scene2d;u.updateFx(s.dragmode)}}},17188:function(G,U,e){var g=e(24040),L=e(54460),a=e(93024),C=e(67792).gl_plot2d,A=e(67792).gl_spikes2d,v=e(67792).gl_select_box,p=e(5408),r=e(92568),t=e(2428),s=e(16576),n=e(71888),f=n.enforce,u=n.clean,l=e(19280).doAutoRange,m=e(72760),h=m.drawMode,M=m.selectMode,c=["xaxis","yaxis"],i,d,b=e(33816).SUBPLOT_PATTERN;function w(S,T){this.container=S.container,this.graphDiv=S.graphDiv,this.pixelRatio=S.plotGlPixelRatio||window.devicePixelRatio,this.id=S.id,this.staticPlot=!!S.staticPlot,this.scrollZoom=this.graphDiv._context._scrollZoom.cartesian,this.fullData=null,this.updateRefs(T),this.makeFramework(),!this.stopped&&(this.glplotOptions=r(this),this.glplotOptions.merge(T),this.glplot=C(this.glplotOptions),this.camera=t(this),this.traces={},this.spikes=A(this.glplot),this.selectBox=v(this.glplot,{innerFill:!1,outerFill:!0}),this.lastButtonState=0,this.pickResult=null,this.isMouseOver=!0,this.stopped=!1,this.redraw=this.draw.bind(this),this.redraw())}G.exports=w;var E=w.prototype;E.makeFramework=function(){if(this.staticPlot){if(!d&&(i=document.createElement("canvas"),d=p({canvas:i,preserveDrawingBuffer:!1,premultipliedAlpha:!0,antialias:!0}),!d))throw new Error("Error creating static canvas/context for image server");this.canvas=i,this.gl=d}else{var S=this.container.querySelector(".gl-canvas-focus"),T=p({canvas:S,preserveDrawingBuffer:!0,premultipliedAlpha:!0});if(!T){s(this),this.stopped=!0;return}this.canvas=S,this.gl=T}var o=this.canvas;o.style.width="100%",o.style.height="100%",o.style.position="absolute",o.style.top="0px",o.style.left="0px",o.style["pointer-events"]="none",this.updateSize(o);var P=this.svgContainer=document.createElementNS("http://www.w3.org/2000/svg","svg");P.style.position="absolute",P.style.top=P.style.left="0px",P.style.width=P.style.height="100%",P.style["z-index"]=20,P.style["pointer-events"]="none";var x=this.mouseContainer=document.createElement("div");x.style.position="absolute",x.style["pointer-events"]="auto",this.pickCanvas=this.container.querySelector(".gl-canvas-pick");var _=this.container;_.appendChild(P),_.appendChild(x);var I=this;x.addEventListener("mouseout",function(){I.isMouseOver=!1,I.unhover()}),x.addEventListener("mouseover",function(){I.isMouseOver=!0})},E.toImage=function(S){S||(S="png"),this.stopped=!0,this.staticPlot&&this.container.appendChild(i),this.updateSize(this.canvas);var T=this.glplot.gl,o=T.drawingBufferWidth,P=T.drawingBufferHeight;T.clearColor(1,1,1,0),T.clear(T.COLOR_BUFFER_BIT|T.DEPTH_BUFFER_BIT),this.glplot.setDirty(),this.glplot.draw(),T.bindFramebuffer(T.FRAMEBUFFER,null);var x=new Uint8Array(o*P*4);T.readPixels(0,0,o,P,T.RGBA,T.UNSIGNED_BYTE,x);for(var _=0,I=P-1;_<I;++_,--I)for(var N=0;N<o;++N)for(var k=0;k<4;++k){var F=x[4*(o*_+N)+k];x[4*(o*_+N)+k]=x[4*(o*I+N)+k],x[4*(o*I+N)+k]=F}var O=document.createElement("canvas");O.width=o,O.height=P;var z=O.getContext("2d",{willReadFrequently:!0}),B=z.createImageData(o,P);B.data.set(x),z.putImageData(B,0,0);var W;switch(S){case"jpeg":W=O.toDataURL("image/jpeg");break;case"webp":W=O.toDataURL("image/webp");break;default:W=O.toDataURL("image/png")}return this.staticPlot&&this.container.removeChild(i),W},E.updateSize=function(S){S||(S=this.canvas);var T=this.pixelRatio,o=this.fullLayout,P=o.width,x=o.height,_=Math.ceil(T*P)|0,I=Math.ceil(T*x)|0;return(S.width!==_||S.height!==I)&&(S.width=_,S.height=I),S},E.computeTickMarks=function(){this.xaxis.setScale(),this.yaxis.setScale();for(var S=[L.calcTicks(this.xaxis),L.calcTicks(this.yaxis)],T=0;T<2;++T)for(var o=0;o<S[T].length;++o)S[T][o].text=S[T][o].text+"";return S};function y(S,T){for(var o=0;o<2;++o){var P=S[o],x=T[o];if(P.length!==x.length)return!0;for(var _=0;_<P.length;++_)if(P[_].x!==x[_].x)return!0}return!1}E.updateRefs=function(S){this.fullLayout=S;var T=this.id.match(b),o="xaxis"+T[1],P="yaxis"+T[2];this.xaxis=this.fullLayout[o],this.yaxis=this.fullLayout[P]},E.relayoutCallback=function(){var S=this.graphDiv,T=this.xaxis,o=this.yaxis,P=S.layout,x={},_=x[T._name+".range"]=T.range.slice(),I=x[o._name+".range"]=o.range.slice();x[T._name+".autorange"]=T.autorange,x[o._name+".autorange"]=o.autorange,g.call("_storeDirectGUIEdit",S.layout,S._fullLayout._preGUI,x);var N=P[T._name];N.range=_,N.autorange=T.autorange;var k=P[o._name];k.range=I,k.autorange=o.autorange,x.lastInputTime=this.camera.lastInputTime,S.emit("plotly_relayout",x)},E.cameraChanged=function(){var S=this.camera;this.glplot.setDataBox(this.calcDataBox());var T=this.computeTickMarks(),o=this.glplotOptions.ticks;y(T,o)&&(this.glplotOptions.ticks=T,this.glplotOptions.dataBox=S.dataBox,this.glplot.update(this.glplotOptions),this.handleAnnotations())},E.handleAnnotations=function(){for(var S=this.graphDiv,T=this.fullLayout.annotations,o=0;o<T.length;o++){var P=T[o];P.xref===this.xaxis._id&&P.yref===this.yaxis._id&&g.getComponentMethod("annotations","drawOne")(S,o)}},E.destroy=function(){if(!!this.glplot){var S=this.traces;S&&Object.keys(S).map(function(T){S[T].dispose(),delete S[T]}),this.glplot.dispose(),this.container.removeChild(this.svgContainer),this.container.removeChild(this.mouseContainer),this.fullData=null,this.glplot=null,this.stopped=!0,this.camera.mouseListener.enabled=!1,this.mouseContainer.removeEventListener("wheel",this.camera.wheelListener),this.camera=null}},E.plot=function(S,T,o){var P=this.glplot;this.updateRefs(o),this.xaxis.clearCalc(),this.yaxis.clearCalc(),this.updateTraces(S,T),this.updateFx(o.dragmode);var x=o.width,_=o.height;this.updateSize(this.canvas);var I=this.glplotOptions;I.merge(o),I.screenBox=[0,0,x,_];var N={_fullLayout:{_axisConstraintGroups:o._axisConstraintGroups,xaxis:this.xaxis,yaxis:this.yaxis,_size:o._size}};u(N,this.xaxis),u(N,this.yaxis);var k=o._size,F=this.xaxis.domain,O=this.yaxis.domain;I.viewBox=[k.l+F[0]*k.w,k.b+O[0]*k.h,x-k.r-(1-F[1])*k.w,_-k.t-(1-O[1])*k.h],this.mouseContainer.style.width=k.w*(F[1]-F[0])+"px",this.mouseContainer.style.height=k.h*(O[1]-O[0])+"px",this.mouseContainer.height=k.h*(O[1]-O[0]),this.mouseContainer.style.left=k.l+F[0]*k.w+"px",this.mouseContainer.style.top=k.t+(1-O[1])*k.h+"px";var z,B;for(B=0;B<2;++B)z=this[c[B]],z._length=I.viewBox[B+2]-I.viewBox[B],l(this.graphDiv,z),z.setScale();f(N),I.ticks=this.computeTickMarks(),I.dataBox=this.calcDataBox(),I.merge(o),P.update(I),this.glplot.draw()},E.calcDataBox=function(){var S=this.xaxis,T=this.yaxis,o=S.range,P=T.range,x=S.r2l,_=T.r2l;return[x(o[0]),_(P[0]),x(o[1]),_(P[1])]},E.setRanges=function(S){var T=this.xaxis,o=this.yaxis,P=T.l2r,x=o.l2r;T.range=[P(S[0]),P(S[2])],o.range=[x(S[1]),x(S[3])]},E.updateTraces=function(S,T){var o=Object.keys(this.traces),P,x,_;this.fullData=S;e:for(P=0;P<o.length;P++){var I=o[P],N=this.traces[I];for(x=0;x<S.length;x++)if(_=S[x],_.uid===I&&_.type===N.type)continue e;N.dispose(),delete this.traces[I]}for(P=0;P<S.length;P++){_=S[P];var k=T[P],F=this.traces[_.uid];F?F.update(_,k):(F=_._module.plot(this,_,k),this.traces[_.uid]=F)}this.glplot.objects.sort(function(O,z){return O._trace.index-z._trace.index})},E.updateFx=function(S){M(S)||h(S)?(this.pickCanvas.style["pointer-events"]="none",this.mouseContainer.style["pointer-events"]="none"):(this.pickCanvas.style["pointer-events"]="auto",this.mouseContainer.style["pointer-events"]="auto"),S==="pan"?this.mouseContainer.style.cursor="move":S==="zoom"?this.mouseContainer.style.cursor="crosshair":this.mouseContainer.style.cursor=null},E.emitPointAction=function(S,T){for(var o=S.trace.uid,P=S.pointIndex,x,_=0;_<this.fullData.length;_++)this.fullData[_].uid===o&&(x=this.fullData[_]);var I={x:S.traceCoord[0],y:S.traceCoord[1],curveNumber:x.index,pointNumber:P,data:x._input,fullData:this.fullData,xaxis:this.xaxis,yaxis:this.yaxis};a.appendArrayPointValue(I,x,P),this.graphDiv.emit(T,{points:[I]})},E.draw=function(){if(!this.stopped){requestAnimationFrame(this.redraw);var S=this.glplot,T=this.camera,o=T.mouseListener,P=this.lastButtonState===1&&o.buttons===0,x=this.fullLayout;this.lastButtonState=o.buttons,this.cameraChanged();var _=o.x*S.pixelRatio,I=this.canvas.height-S.pixelRatio*o.y,N;if(T.boxEnabled&&x.dragmode==="zoom"){this.selectBox.enabled=!0;for(var k=this.selectBox.selectBox=[Math.min(T.boxStart[0],T.boxEnd[0]),Math.min(T.boxStart[1],T.boxEnd[1]),Math.max(T.boxStart[0],T.boxEnd[0]),Math.max(T.boxStart[1],T.boxEnd[1])],F=0;F<2;F++)T.boxStart[F]===T.boxEnd[F]&&(k[F]=S.dataBox[F],k[F+2]=S.dataBox[F+2]);S.setDirty()}else if(!T.panning&&this.isMouseOver){this.selectBox.enabled=!1;var O=x._size,z=this.xaxis.domain,B=this.yaxis.domain;N=S.pick(_/S.pixelRatio+O.l+z[0]*O.w,I/S.pixelRatio-(O.t+(1-B[1])*O.h));var W=N&&N.object._trace.handlePick(N);if(W&&P&&this.emitPointAction(W,"plotly_click"),N&&N.object._trace.hoverinfo!=="skip"&&x.hovermode&&W&&(!this.lastPickResult||this.lastPickResult.traceUid!==W.trace.uid||this.lastPickResult.dataCoord[0]!==W.dataCoord[0]||this.lastPickResult.dataCoord[1]!==W.dataCoord[1])){var q=W;this.lastPickResult={traceUid:W.trace?W.trace.uid:null,dataCoord:W.dataCoord.slice()},this.spikes.update({center:N.dataCoord}),q.screenCoord=[((S.viewBox[2]-S.viewBox[0])*(N.dataCoord[0]-S.dataBox[0])/(S.dataBox[2]-S.dataBox[0])+S.viewBox[0])/S.pixelRatio,(this.canvas.height-(S.viewBox[3]-S.viewBox[1])*(N.dataCoord[1]-S.dataBox[1])/(S.dataBox[3]-S.dataBox[1])-S.viewBox[1])/S.pixelRatio],this.emitPointAction(W,"plotly_hover");var ee=this.fullData[q.trace.index]||{},Q=q.pointIndex,oe=a.castHoverinfo(ee,x,Q);if(oe&&oe!=="all"){var Z=oe.split("+");Z.indexOf("x")===-1&&(q.traceCoord[0]=void 0),Z.indexOf("y")===-1&&(q.traceCoord[1]=void 0),Z.indexOf("z")===-1&&(q.traceCoord[2]=void 0),Z.indexOf("text")===-1&&(q.textLabel=void 0),Z.indexOf("name")===-1&&(q.name=void 0)}a.loneHover({x:q.screenCoord[0],y:q.screenCoord[1],xLabel:this.hoverFormatter("xaxis",q.traceCoord[0]),yLabel:this.hoverFormatter("yaxis",q.traceCoord[1]),zLabel:q.traceCoord[2],text:q.textLabel,name:q.name,color:a.castHoverOption(ee,Q,"bgcolor")||q.color,borderColor:a.castHoverOption(ee,Q,"bordercolor"),fontFamily:a.castHoverOption(ee,Q,"font.family"),fontSize:a.castHoverOption(ee,Q,"font.size"),fontColor:a.castHoverOption(ee,Q,"font.color"),nameLength:a.castHoverOption(ee,Q,"namelength"),textAlign:a.castHoverOption(ee,Q,"align")},{container:this.svgContainer,gd:this.graphDiv})}}N||this.unhover(),S.draw()}},E.unhover=function(){this.lastPickResult&&(this.spikes.update({}),this.lastPickResult=null,this.graphDiv.emit("plotly_unhover"),a.loneUnhover(this.svgContainer))},E.hoverFormatter=function(S,T){if(T!==void 0){var o=this[S];return L.tickText(o,o.c2l(T),"hover").text}}},12536:function(G,U,e){var g=e(67824).overrideAll,L=e(65460),a=e(98432),C=e(84888).op,A=e(3400),v=e(9616),p="gl3d",r="scene";U.name=p,U.attr=r,U.idRoot=r,U.idRegex=U.attrRegex=A.counterRegex("scene"),U.attributes=e(6636),U.layoutAttributes=e(346),U.baseLayoutAttrOverrides=g({hoverlabel:L.hoverlabel},"plot","nested"),U.supplyLayoutDefaults=e(5208),U.plot=function(s){for(var n=s._fullLayout,f=s._fullData,u=n._subplots[p],l=0;l<u.length;l++){var m=u[l],h=C(f,p,m),M=n[m],c=M.camera,i=M._scene;i||(i=new a({id:m,graphDiv:s,container:s.querySelector(".gl-container"),staticPlot:s._context.staticPlot,plotGlPixelRatio:s._context.plotGlPixelRatio,camera:c},n),M._scene=i),i.viewInitial||(i.viewInitial={up:{x:c.up.x,y:c.up.y,z:c.up.z},eye:{x:c.eye.x,y:c.eye.y,z:c.eye.z},center:{x:c.center.x,y:c.center.y,z:c.center.z}}),i.plot(h,n,s.layout)}},U.clean=function(t,s,n,f){for(var u=f._subplots[p]||[],l=0;l<u.length;l++){var m=u[l];!s[m]&&!!f[m]._scene&&(f[m]._scene.destroy(),f._infolayer&&f._infolayer.selectAll(".annotation-"+m).remove())}},U.toSVG=function(t){for(var s=t._fullLayout,n=s._subplots[p],f=s._size,u=0;u<n.length;u++){var l=s[n[u]],m=l.domain,h=l._scene,M=h.toImage("png"),c=s._glimages.append("svg:image");c.attr({xmlns:v.svg,"xlink:href":M,x:f.l+f.w*m.x[0],y:f.t+f.h*(1-m.y[1]),width:f.w*(m.x[1]-m.x[0]),height:f.h*(m.y[1]-m.y[0]),preserveAspectRatio:"none"}),h.destroy()}},U.cleanId=function(s){if(!!s.match(/^scene[0-9]*$/)){var n=s.substr(5);return n==="1"&&(n=""),r+n}},U.updateFx=function(t){for(var s=t._fullLayout,n=s._subplots[p],f=0;f<n.length;f++){var u=s[n[f]]._scene;u.updateFx(s.dragmode,s.hovermode)}}},6636:function(G){G.exports={scene:{valType:"subplotid",dflt:"scene",editType:"calc+clearAxisTypes"}}},86140:function(G,U,e){var g=e(76308),L=e(94724),a=e(92880).extendFlat,C=e(67824).overrideAll;G.exports=C({visible:L.visible,showspikes:{valType:"boolean",dflt:!0},spikesides:{valType:"boolean",dflt:!0},spikethickness:{valType:"number",min:0,dflt:2},spikecolor:{valType:"color",dflt:g.defaultLine},showbackground:{valType:"boolean",dflt:!1},backgroundcolor:{valType:"color",dflt:"rgba(204, 204, 204, 0.5)"},showaxeslabels:{valType:"boolean",dflt:!0},color:L.color,categoryorder:L.categoryorder,categoryarray:L.categoryarray,title:{text:L.title.text,font:L.title.font},type:a({},L.type,{values:["-","linear","log","date","category"]}),autotypenumbers:L.autotypenumbers,autorange:L.autorange,autorangeoptions:{minallowed:L.autorangeoptions.minallowed,maxallowed:L.autorangeoptions.maxallowed,clipmin:L.autorangeoptions.clipmin,clipmax:L.autorangeoptions.clipmax,include:L.autorangeoptions.include,editType:"plot"},rangemode:L.rangemode,minallowed:L.minallowed,maxallowed:L.maxallowed,range:a({},L.range,{items:[{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}}],anim:!1}),tickmode:L.minor.tickmode,nticks:L.nticks,tick0:L.tick0,dtick:L.dtick,tickvals:L.tickvals,ticktext:L.ticktext,ticks:L.ticks,mirror:L.mirror,ticklen:L.ticklen,tickwidth:L.tickwidth,tickcolor:L.tickcolor,showticklabels:L.showticklabels,labelalias:L.labelalias,tickfont:L.tickfont,tickangle:L.tickangle,tickprefix:L.tickprefix,showtickprefix:L.showtickprefix,ticksuffix:L.ticksuffix,showticksuffix:L.showticksuffix,showexponent:L.showexponent,exponentformat:L.exponentformat,minexponent:L.minexponent,separatethousands:L.separatethousands,tickformat:L.tickformat,tickformatstops:L.tickformatstops,hoverformat:L.hoverformat,showline:L.showline,linecolor:L.linecolor,linewidth:L.linewidth,showgrid:L.showgrid,gridcolor:a({},L.gridcolor,{dflt:"rgb(204, 204, 204)"}),gridwidth:L.gridwidth,zeroline:L.zeroline,zerolinecolor:L.zerolinecolor,zerolinewidth:L.zerolinewidth,_deprecated:{title:L._deprecated.title,titlefont:L._deprecated.titlefont}},"plot","from-root")},64380:function(G,U,e){var g=e(49760).mix,L=e(3400),a=e(31780),C=e(86140),A=e(14944),v=e(28336),p=["xaxis","yaxis","zaxis"],r=100*(204-68)/(255-68);G.exports=function(s,n,f){var u,l;function m(c,i){return L.coerce(u,l,C,c,i)}for(var h=0;h<p.length;h++){var M=p[h];u=s[M]||{},l=a.newContainer(n,M),l._id=M[0]+f.scene,l._name=M,A(u,l,m,f),v(u,l,m,{font:f.font,letter:M[0],data:f.data,showGrid:!0,noAutotickangles:!0,noTickson:!0,noTicklabelmode:!0,noTicklabelstep:!0,noTicklabelposition:!0,noTicklabeloverflow:!0,noInsiderange:!0,bgColor:f.bgColor,calendar:f.calendar},f.fullLayout),m("gridcolor",g(l.color,f.bgColor,r).toRgbString()),m("title.text",M[0]),l.setScale=L.noop,m("showspikes")&&(m("spikesides"),m("spikethickness"),m("spikecolor",l.color)),m("showaxeslabels"),m("showbackground")&&m("backgroundcolor")}}},44728:function(G,U,e){var g=e(43080),L=e(3400),a=["xaxis","yaxis","zaxis"];function C(){this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickSize=[12,12,12],this.tickAngle=[0,0,0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[18,18,18],this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont=["Open Sans","Open Sans","Open Sans"],this.labelSize=[20,20,20],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[30,30,30],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[10,10,10],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!0,!0,!0],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._defaultTickPad=this.tickPad.slice(),this._defaultLabelPad=this.labelPad.slice(),this._defaultLineTickLength=this.lineTickLength.slice()}var A=C.prototype;A.merge=function(p,r){for(var t=this,s=0;s<3;++s){var n=r[a[s]];if(!n.visible){t.tickEnable[s]=!1,t.labelEnable[s]=!1,t.lineEnable[s]=!1,t.lineTickEnable[s]=!1,t.gridEnable[s]=!1,t.zeroEnable[s]=!1,t.backgroundEnable[s]=!1;continue}t.labels[s]=p._meta?L.templateString(n.title.text,p._meta):n.title.text,"font"in n.title&&(n.title.font.color&&(t.labelColor[s]=g(n.title.font.color)),n.title.font.family&&(t.labelFont[s]=n.title.font.family),n.title.font.size&&(t.labelSize[s]=n.title.font.size)),"showline"in n&&(t.lineEnable[s]=n.showline),"linecolor"in n&&(t.lineColor[s]=g(n.linecolor)),"linewidth"in n&&(t.lineWidth[s]=n.linewidth),"showgrid"in n&&(t.gridEnable[s]=n.showgrid),"gridcolor"in n&&(t.gridColor[s]=g(n.gridcolor)),"gridwidth"in n&&(t.gridWidth[s]=n.gridwidth),n.type==="log"?t.zeroEnable[s]=!1:"zeroline"in n&&(t.zeroEnable[s]=n.zeroline),"zerolinecolor"in n&&(t.zeroLineColor[s]=g(n.zerolinecolor)),"zerolinewidth"in n&&(t.zeroLineWidth[s]=n.zerolinewidth),"ticks"in n&&!!n.ticks?t.lineTickEnable[s]=!0:t.lineTickEnable[s]=!1,"ticklen"in n&&(t.lineTickLength[s]=t._defaultLineTickLength[s]=n.ticklen),"tickcolor"in n&&(t.lineTickColor[s]=g(n.tickcolor)),"tickwidth"in n&&(t.lineTickWidth[s]=n.tickwidth),"tickangle"in n&&(t.tickAngle[s]=n.tickangle==="auto"?-3600:Math.PI*-n.tickangle/180),"showticklabels"in n&&(t.tickEnable[s]=n.showticklabels),"tickfont"in n&&(n.tickfont.color&&(t.tickColor[s]=g(n.tickfont.color)),n.tickfont.family&&(t.tickFont[s]=n.tickfont.family),n.tickfont.size&&(t.tickSize[s]=n.tickfont.size)),"mirror"in n?["ticks","all","allticks"].indexOf(n.mirror)!==-1?(t.lineTickMirror[s]=!0,t.lineMirror[s]=!0):n.mirror===!0?(t.lineTickMirror[s]=!1,t.lineMirror[s]=!0):(t.lineTickMirror[s]=!1,t.lineMirror[s]=!1):t.lineMirror[s]=!1,"showbackground"in n&&n.showbackground!==!1?(t.backgroundEnable[s]=!0,t.backgroundColor[s]=g(n.backgroundcolor)):t.backgroundEnable[s]=!1}};function v(p,r){var t=new C;return t.merge(p,r),t}G.exports=v},5208:function(G,U,e){var g=e(3400),L=e(76308),a=e(24040),C=e(168),A=e(64380),v=e(346),p=e(84888).op,r="gl3d";G.exports=function(n,f,u){var l=f._basePlotModules.length>1;function m(h){if(!l){var M=g.validate(n[h],v[h]);if(M)return n[h]}}C(n,f,u,{type:r,attributes:v,handleDefaults:t,fullLayout:f,font:f.font,fullData:u,getDfltFromLayout:m,autotypenumbersDflt:f.autotypenumbers,paper_bgcolor:f.paper_bgcolor,calendar:f.calendar})};function t(s,n,f,u){for(var l=f("bgcolor"),m=L.combine(l,u.paper_bgcolor),h=["up","center","eye"],M=0;M<h.length;M++)f("camera."+h[M]+".x"),f("camera."+h[M]+".y"),f("camera."+h[M]+".z");f("camera.projection.type");var c=!!f("aspectratio.x")&&!!f("aspectratio.y")&&!!f("aspectratio.z"),i=c?"manual":"auto",d=f("aspectmode",i);c||(s.aspectratio=n.aspectratio={x:1,y:1,z:1},d==="manual"&&(n.aspectmode="auto"),s.aspectmode=n.aspectmode);var b=p(u.fullData,r,u.id);A(s,n,{font:u.font,scene:u.id,data:b,bgColor:m,calendar:u.calendar,autotypenumbersDflt:u.autotypenumbersDflt,fullLayout:u.fullLayout}),a.getComponentMethod("annotations3d","handleDefaults")(s,n,u);var w=u.getDfltFromLayout("dragmode");if(w!==!1&&!w)if(w="orbit",s.camera&&s.camera.up){var E=s.camera.up.x,y=s.camera.up.y,S=s.camera.up.z;S!==0&&(!E||!y||!S||S/Math.sqrt(E*E+y*y+S*S)>.999)&&(w="turntable")}else w="turntable";f("dragmode",w),f("hovermode",u.getDfltFromLayout("hovermode"))}},346:function(G,U,e){var g=e(86140),L=e(86968).u,a=e(92880).extendFlat,C=e(3400).counterRegex;function A(v,p,r){return{x:{valType:"number",dflt:v,editType:"camera"},y:{valType:"number",dflt:p,editType:"camera"},z:{valType:"number",dflt:r,editType:"camera"},editType:"camera"}}G.exports={_arrayAttrRegexps:[C("scene",".annotations",!0)],bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"plot"},camera:{up:a(A(0,0,1),{}),center:a(A(0,0,0),{}),eye:a(A(1.25,1.25,1.25),{}),projection:{type:{valType:"enumerated",values:["perspective","orthographic"],dflt:"perspective",editType:"calc"},editType:"calc"},editType:"camera"},domain:L({name:"scene",editType:"plot"}),aspectmode:{valType:"enumerated",values:["auto","cube","data","manual"],dflt:"auto",editType:"plot",impliedEdits:{"aspectratio.x":void 0,"aspectratio.y":void 0,"aspectratio.z":void 0}},aspectratio:{x:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},y:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},z:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},editType:"plot",impliedEdits:{aspectmode:"manual"}},xaxis:g,yaxis:g,zaxis:g,dragmode:{valType:"enumerated",values:["orbit","turntable","zoom","pan",!1],editType:"plot"},hovermode:{valType:"enumerated",values:["closest",!1],dflt:"closest",editType:"modebar"},uirevision:{valType:"any",editType:"none"},editType:"plot",_deprecated:{cameraposition:{valType:"info_array",editType:"camera"}}}},9020:function(G,U,e){var g=e(43080),L=["xaxis","yaxis","zaxis"];function a(){this.enabled=[!0,!0,!0],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.drawSides=[!0,!0,!0],this.lineWidth=[1,1,1]}var C=a.prototype;C.merge=function(v){for(var p=0;p<3;++p){var r=v[L[p]];if(!r.visible){this.enabled[p]=!1,this.drawSides[p]=!1;continue}this.enabled[p]=r.showspikes,this.colors[p]=g(r.spikecolor),this.drawSides[p]=r.spikesides,this.lineWidth[p]=r.spikethickness}};function A(v){var p=new a;return p.merge(v),p}G.exports=A},87152:function(G,U,e){G.exports=A;var g=e(54460),L=e(3400),a=["xaxis","yaxis","zaxis"];function C(v){for(var p=new Array(3),r=0;r<3;++r){for(var t=v[r],s=new Array(t.length),n=0;n<t.length;++n)s[n]=t[n].x;p[r]=s}return p}function A(v){for(var p=v.axesOptions,r=v.glplot.axesPixels,t=v.fullSceneLayout,s=[[],[],[]],n=0;n<3;++n){var f=t[a[n]];if(f._length=(r[n].hi-r[n].lo)*r[n].pixelsPerDataUnit/v.dataScale[n],Math.abs(f._length)===1/0||isNaN(f._length))s[n]=[];else{f._input_range=f.range.slice(),f.range[0]=r[n].lo/v.dataScale[n],f.range[1]=r[n].hi/v.dataScale[n],f._m=1/(v.dataScale[n]*r[n].pixelsPerDataUnit),f.range[0]===f.range[1]&&(f.range[0]-=1,f.range[1]+=1);var u=f.tickmode;if(f.tickmode==="auto"){f.tickmode="linear";var l=f.nticks||L.constrain(f._length/40,4,9);g.autoTicks(f,Math.abs(f.range[1]-f.range[0])/l)}for(var m=g.calcTicks(f,{msUTC:!0}),h=0;h<m.length;++h)m[h].x=m[h].x*v.dataScale[n],f.type==="date"&&(m[h].text=m[h].text.replace(/\<br\>/g," "));s[n]=m,f.tickmode=u}}p.ticks=s;for(var n=0;n<3;++n){.5*(v.glplot.bounds[0][n]+v.glplot.bounds[1][n]);for(var h=0;h<2;++h)p.bounds[h][n]=v.glplot.bounds[h][n]}v.contourLevels=C(s)}},94424:function(G){function U(g,L){var a=[0,0,0,0],C,A;for(C=0;C<4;++C)for(A=0;A<4;++A)a[A]+=g[4*C+A]*L[C];return a}function e(g,L){var a=U(g.projection,U(g.view,U(g.model,[L[0],L[1],L[2],1])));return a}G.exports=e},98432:function(G,U,e){var g=e(67792).gl_plot3d,L=g.createCamera,a=g.createScene,C=e(5408),A=e(89184),v=e(24040),p=e(3400),r=p.preserveDrawingBuffer(),t=e(54460),s=e(93024),n=e(43080),f=e(16576),u=e(94424),l=e(44728),m=e(9020),h=e(87152),M=e(19280).applyAutorangeOptions,c,i,d=!1;function b(I,N){var k=document.createElement("div"),F=I.container;this.graphDiv=I.graphDiv;var O=document.createElementNS("http://www.w3.org/2000/svg","svg");O.style.position="absolute",O.style.top=O.style.left="0px",O.style.width=O.style.height="100%",O.style["z-index"]=20,O.style["pointer-events"]="none",k.appendChild(O),this.svgContainer=O,k.id=I.id,k.style.position="absolute",k.style.top=k.style.left="0px",k.style.width=k.style.height="100%",F.appendChild(k),this.fullLayout=N,this.id=I.id||"scene",this.fullSceneLayout=N[this.id],this.plotArgs=[[],{},{}],this.axesOptions=l(N,N[this.id]),this.spikeOptions=m(N[this.id]),this.container=k,this.staticMode=!!I.staticPlot,this.pixelRatio=this.pixelRatio||I.plotGlPixelRatio||2,this.dataScale=[1,1,1],this.contourLevels=[[],[],[]],this.convertAnnotations=v.getComponentMethod("annotations3d","convert"),this.drawAnnotations=v.getComponentMethod("annotations3d","draw"),this.initializeGLPlot()}var w=b.prototype;w.prepareOptions=function(){var I=this,N={canvas:I.canvas,gl:I.gl,glOptions:{preserveDrawingBuffer:r,premultipliedAlpha:!0,antialias:!0},container:I.container,axes:I.axesOptions,spikes:I.spikeOptions,pickRadius:10,snapToData:!0,autoScale:!0,autoBounds:!1,cameraObject:I.camera,pixelRatio:I.pixelRatio};if(I.staticMode){if(!i&&(c=document.createElement("canvas"),i=C({canvas:c,preserveDrawingBuffer:!0,premultipliedAlpha:!0,antialias:!0}),!i))throw new Error("error creating static canvas/context for image server");N.gl=i,N.canvas=c}return N};var E=!0;w.tryCreatePlot=function(){var I=this,N=I.prepareOptions(),k=!0;try{I.glplot=a(N)}catch{if(I.staticMode||!E||r)k=!1;else{p.warn(["webgl setup failed possibly due to","false preserveDrawingBuffer config.","The mobile/tablet device may not be detected by is-mobile module.","Enabling preserveDrawingBuffer in second attempt to create webgl scene..."].join(" "));try{r=N.glOptions.preserveDrawingBuffer=!0,I.glplot=a(N)}catch{r=N.glOptions.preserveDrawingBuffer=!1,k=!1}}}return E=!1,k},w.initializeGLCamera=function(){var I=this,N=I.fullSceneLayout.camera,k=N.projection.type==="orthographic";I.camera=L(I.container,{center:[N.center.x,N.center.y,N.center.z],eye:[N.eye.x,N.eye.y,N.eye.z],up:[N.up.x,N.up.y,N.up.z],_ortho:k,zoomMin:.01,zoomMax:100,mode:"orbit"})},w.initializeGLPlot=function(){var I=this;I.initializeGLCamera();var N=I.tryCreatePlot();if(!N)return f(I);I.traces={},I.make4thDimension();var k=I.graphDiv,F=k.layout,O=function(){var B={};return I.isCameraChanged(F)&&(B[I.id+".camera"]=I.getCamera()),I.isAspectChanged(F)&&(B[I.id+".aspectratio"]=I.glplot.getAspectratio(),F[I.id].aspectmode!=="manual"&&(I.fullSceneLayout.aspectmode=F[I.id].aspectmode=B[I.id+".aspectmode"]="manual")),B},z=function(B){if(B.fullSceneLayout.dragmode!==!1){var W=O();B.saveLayout(F),B.graphDiv.emit("plotly_relayout",W)}};return I.glplot.canvas&&(I.glplot.canvas.addEventListener("mouseup",function(){z(I)}),I.glplot.canvas.addEventListener("touchstart",function(){d=!0}),I.glplot.canvas.addEventListener("wheel",function(B){if(k._context._scrollZoom.gl3d){if(I.camera._ortho){var W=B.deltaX>B.deltaY?1.1:.9090909090909091,q=I.glplot.getAspectratio();I.glplot.setAspectratio({x:W*q.x,y:W*q.y,z:W*q.z})}z(I)}},A?{passive:!1}:!1),I.glplot.canvas.addEventListener("mousemove",function(){if(I.fullSceneLayout.dragmode!==!1&&I.camera.mouseListener.buttons!==0){var B=O();I.graphDiv.emit("plotly_relayouting",B)}}),I.staticMode||I.glplot.canvas.addEventListener("webglcontextlost",function(B){k&&k.emit&&k.emit("plotly_webglcontextlost",{event:B,layer:I.id})},!1)),I.glplot.oncontextloss=function(){I.recoverContext()},I.glplot.onrender=function(){I.render()},!0},w.render=function(){var I=this,N=I.graphDiv,k,F=I.svgContainer,O=I.container.getBoundingClientRect();N._fullLayout._calcInverseTransform(N);var z=N._fullLayout._invScaleX,B=N._fullLayout._invScaleY,W=O.width*z,q=O.height*B;F.setAttributeNS(null,"viewBox","0 0 "+W+" "+q),F.setAttributeNS(null,"width",W),F.setAttributeNS(null,"height",q),h(I),I.glplot.axes.update(I.axesOptions);for(var ee=Object.keys(I.traces),Q=null,oe=I.glplot.selection,Z=0;Z<ee.length;++Z)k=I.traces[ee[Z]],k.data.hoverinfo!=="skip"&&k.handlePick(oe)&&(Q=k),k.setContourLevels&&k.setContourLevels();function Y(Re,xe,Me){var ye=I.fullSceneLayout[Re+"axis"];return ye.type!=="log"&&(xe=ye.d2l(xe)),t.hoverLabelText(ye,xe,Me)}if(Q!==null){var te=u(I.glplot.cameraParams,oe.dataCoordinate);k=Q.data;var X=N._fullData[k.index],$=oe.index,ie={xLabel:Y("x",oe.traceCoordinate[0],k.xhoverformat),yLabel:Y("y",oe.traceCoordinate[1],k.yhoverformat),zLabel:Y("z",oe.traceCoordinate[2],k.zhoverformat)},J=s.castHoverinfo(X,I.fullLayout,$),j=(J||"").split("+"),se=J&&J==="all";!X.hovertemplate&&!se&&(j.indexOf("x")===-1&&(ie.xLabel=void 0),j.indexOf("y")===-1&&(ie.yLabel=void 0),j.indexOf("z")===-1&&(ie.zLabel=void 0),j.indexOf("text")===-1&&(oe.textLabel=void 0),j.indexOf("name")===-1&&(Q.name=void 0));var ne,le=[];k.type==="cone"||k.type==="streamtube"?(ie.uLabel=Y("x",oe.traceCoordinate[3],k.uhoverformat),(se||j.indexOf("u")!==-1)&&le.push("u: "+ie.uLabel),ie.vLabel=Y("y",oe.traceCoordinate[4],k.vhoverformat),(se||j.indexOf("v")!==-1)&&le.push("v: "+ie.vLabel),ie.wLabel=Y("z",oe.traceCoordinate[5],k.whoverformat),(se||j.indexOf("w")!==-1)&&le.push("w: "+ie.wLabel),ie.normLabel=oe.traceCoordinate[6].toPrecision(3),(se||j.indexOf("norm")!==-1)&&le.push("norm: "+ie.normLabel),k.type==="streamtube"&&(ie.divergenceLabel=oe.traceCoordinate[7].toPrecision(3),(se||j.indexOf("divergence")!==-1)&&le.push("divergence: "+ie.divergenceLabel)),oe.textLabel&&le.push(oe.textLabel),ne=le.join("<br>")):k.type==="isosurface"||k.type==="volume"?(ie.valueLabel=t.hoverLabelText(I._mockAxis,I._mockAxis.d2l(oe.traceCoordinate[3]),k.valuehoverformat),le.push("value: "+ie.valueLabel),oe.textLabel&&le.push(oe.textLabel),ne=le.join("<br>")):ne=oe.textLabel;var pe={x:oe.traceCoordinate[0],y:oe.traceCoordinate[1],z:oe.traceCoordinate[2],data:X._input,fullData:X,curveNumber:X.index,pointNumber:$};s.appendArrayPointValue(pe,X,$),k._module.eventData&&(pe=X._module.eventData(pe,oe,X,{},$));var Ae={points:[pe]};if(I.fullSceneLayout.hovermode){var be=[];s.loneHover({trace:X,x:(.5+.5*te[0]/te[3])*W,y:(.5-.5*te[1]/te[3])*q,xLabel:ie.xLabel,yLabel:ie.yLabel,zLabel:ie.zLabel,text:ne,name:Q.name,color:s.castHoverOption(X,$,"bgcolor")||Q.color,borderColor:s.castHoverOption(X,$,"bordercolor"),fontFamily:s.castHoverOption(X,$,"font.family"),fontSize:s.castHoverOption(X,$,"font.size"),fontColor:s.castHoverOption(X,$,"font.color"),nameLength:s.castHoverOption(X,$,"namelength"),textAlign:s.castHoverOption(X,$,"align"),hovertemplate:p.castOption(X,$,"hovertemplate"),hovertemplateLabels:p.extendFlat({},pe,ie),eventData:[pe]},{container:F,gd:N,inOut_bbox:be}),pe.bbox=be[0]}oe.distance<5&&(oe.buttons||d)?N.emit("plotly_click",Ae):N.emit("plotly_hover",Ae),this.oldEventData=Ae}else s.loneUnhover(F),this.oldEventData&&N.emit("plotly_unhover",this.oldEventData),this.oldEventData=void 0;I.drawAnnotations(I)},w.recoverContext=function(){var I=this;I.glplot.dispose();var N=function(){if(I.glplot.gl.isContextLost()){requestAnimationFrame(N);return}if(!I.initializeGLPlot()){p.error("Catastrophic and unrecoverable WebGL error. Context lost.");return}I.plot.apply(I,I.plotArgs)};requestAnimationFrame(N)};var y=["xaxis","yaxis","zaxis"];function S(I,N,k){for(var F=I.fullSceneLayout,O=0;O<3;O++){var z=y[O],B=z.charAt(0),W=F[z],q=N[B],ee=N[B+"calendar"],Q=N["_"+B+"length"];if(!p.isArrayOrTypedArray(q))k[0][O]=Math.min(k[0][O],0),k[1][O]=Math.max(k[1][O],Q-1);else for(var oe,Z=0;Z<(Q||q.length);Z++)if(p.isArrayOrTypedArray(q[Z]))for(var Y=0;Y<q[Z].length;++Y)oe=W.d2l(q[Z][Y],0,ee),!isNaN(oe)&&isFinite(oe)&&(k[0][O]=Math.min(k[0][O],oe),k[1][O]=Math.max(k[1][O],oe));else oe=W.d2l(q[Z],0,ee),!isNaN(oe)&&isFinite(oe)&&(k[0][O]=Math.min(k[0][O],oe),k[1][O]=Math.max(k[1][O],oe))}}function T(I,N){for(var k=I.fullSceneLayout,F=k.annotations||[],O=0;O<3;O++)for(var z=y[O],B=z.charAt(0),W=k[z],q=0;q<F.length;q++){var ee=F[q];if(ee.visible){var Q=W.r2l(ee[B]);!isNaN(Q)&&isFinite(Q)&&(N[0][O]=Math.min(N[0][O],Q),N[1][O]=Math.max(N[1][O],Q))}}}w.plot=function(I,N,k){var F=this;if(F.plotArgs=[I,N,k],F.glplot.contextLost)return;var O,z,B,W,q,ee,Q=N[F.id],oe=k[F.id];F.fullLayout=N,F.fullSceneLayout=Q,F.axesOptions.merge(N,Q),F.spikeOptions.merge(Q),F.setViewport(Q),F.updateFx(Q.dragmode,Q.hovermode),F.camera.enableWheel=F.graphDiv._context._scrollZoom.gl3d,F.glplot.setClearColor(n(Q.bgcolor)),F.setConvert(q),I?Array.isArray(I)||(I=[I]):I=[];var Z=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(B=0;B<I.length;++B)O=I[B],!(O.visible!==!0||O._length===0)&&S(this,O,Z);T(this,Z);var Y=[1,1,1];for(W=0;W<3;++W)Z[1][W]===Z[0][W]?Y[W]=1:Y[W]=1/(Z[1][W]-Z[0][W]);for(F.dataScale=Y,F.convertAnnotations(this),B=0;B<I.length;++B)O=I[B],!(O.visible!==!0||O._length===0)&&(z=F.traces[O.uid],z?z.data.type===O.type?z.update(O):(z.dispose(),z=O._module.plot(this,O),F.traces[O.uid]=z):(z=O._module.plot(this,O),F.traces[O.uid]=z),z.name=O.name);var te=Object.keys(F.traces);e:for(B=0;B<te.length;++B){for(W=0;W<I.length;++W)if(I[W].uid===te[B]&&I[W].visible===!0&&I[W]._length!==0)continue e;z=F.traces[te[B]],z.dispose(),delete F.traces[te[B]]}F.glplot.objects.sort(function(lt,$e){return lt._trace.data.index-$e._trace.data.index});var X=[[0,0,0],[0,0,0]],$={};for(B=0;B<3;++B){q=Q[y[B]],ee=q.type,ee in $?($[ee].acc*=Y[B],$[ee].count+=1):$[ee]={acc:Y[B],count:1};var ie;if(q.autorange){X[0][B]=1/0,X[1][B]=-1/0;var J=F.glplot.objects,j=F.fullSceneLayout.annotations||[],se=q._name.charAt(0);for(W=0;W<J.length;W++){var ne=J[W],le=ne.bounds,pe=ne._trace.data._pad||0;ne.constructor.name==="ErrorBars"&&q._lowerLogErrorBound?X[0][B]=Math.min(X[0][B],q._lowerLogErrorBound):X[0][B]=Math.min(X[0][B],le[0][B]/Y[B]-pe),X[1][B]=Math.max(X[1][B],le[1][B]/Y[B]+pe)}for(W=0;W<j.length;W++){var Ae=j[W];if(Ae.visible){var be=q.r2l(Ae[se]);X[0][B]=Math.min(X[0][B],be),X[1][B]=Math.max(X[1][B],be)}}if("rangemode"in q&&q.rangemode==="tozero"&&(X[0][B]=Math.min(X[0][B],0),X[1][B]=Math.max(X[1][B],0)),X[0][B]>X[1][B])X[0][B]=-1,X[1][B]=1;else{var Re=X[1][B]-X[0][B];X[0][B]-=Re/32,X[1][B]+=Re/32}if(ie=[X[0][B],X[1][B]],ie=M(ie,q),X[0][B]=ie[0],X[1][B]=ie[1],q.isReversed()){var xe=X[0][B];X[0][B]=X[1][B],X[1][B]=xe}}else ie=q.range,X[0][B]=q.r2l(ie[0]),X[1][B]=q.r2l(ie[1]);X[0][B]===X[1][B]&&(X[0][B]-=1,X[1][B]+=1),q.range=[X[0][B],X[1][B]],q.limitRange(),F.glplot.setBounds(B,{min:q.range[0]*Y[B],max:q.range[1]*Y[B]})}var Me,ye=Q.aspectmode;if(ye==="cube")Me=[1,1,1];else if(ye==="manual"){var Se=Q.aspectratio;Me=[Se.x,Se.y,Se.z]}else if(ye==="auto"||ye==="data"){var Fe=[1,1,1];for(B=0;B<3;++B){q=Q[y[B]],ee=q.type;var Be=$[ee];Fe[B]=Math.pow(Be.acc,1/Be.count)/Y[B]}ye==="data"||Math.max.apply(null,Fe)/Math.min.apply(null,Fe)<=4?Me=Fe:Me=[1,1,1]}else throw new Error("scene.js aspectRatio was not one of the enumerated types");Q.aspectratio.x=oe.aspectratio.x=Me[0],Q.aspectratio.y=oe.aspectratio.y=Me[1],Q.aspectratio.z=oe.aspectratio.z=Me[2],F.glplot.setAspectratio(Q.aspectratio),F.viewInitial.aspectratio||(F.viewInitial.aspectratio={x:Q.aspectratio.x,y:Q.aspectratio.y,z:Q.aspectratio.z}),F.viewInitial.aspectmode||(F.viewInitial.aspectmode=Q.aspectmode);var _e=Q.domain||null,Ue=N._size||null;if(_e&&Ue){var it=F.container.style;it.position="absolute",it.left=Ue.l+_e.x[0]*Ue.w+"px",it.top=Ue.t+(1-_e.y[1])*Ue.h+"px",it.width=Ue.w*(_e.x[1]-_e.x[0])+"px",it.height=Ue.h*(_e.y[1]-_e.y[0])+"px"}F.glplot.redraw()},w.destroy=function(){var I=this;!I.glplot||(I.camera.mouseListener.enabled=!1,I.container.removeEventListener("wheel",I.camera.wheelListener),I.camera=null,I.glplot.dispose(),I.container.parentNode.removeChild(I.container),I.glplot=null)};function o(I){return[[I.eye.x,I.eye.y,I.eye.z],[I.center.x,I.center.y,I.center.z],[I.up.x,I.up.y,I.up.z]]}function P(I){return{up:{x:I.up[0],y:I.up[1],z:I.up[2]},center:{x:I.center[0],y:I.center[1],z:I.center[2]},eye:{x:I.eye[0],y:I.eye[1],z:I.eye[2]},projection:{type:I._ortho===!0?"orthographic":"perspective"}}}w.getCamera=function(){var I=this;return I.camera.view.recalcMatrix(I.camera.view.lastT()),P(I.camera)},w.setViewport=function(I){var N=this,k=I.camera;N.camera.lookAt.apply(this,o(k)),N.glplot.setAspectratio(I.aspectratio);var F=k.projection.type==="orthographic",O=N.camera._ortho;F!==O&&(N.glplot.redraw(),N.glplot.clearRGBA(),N.glplot.dispose(),N.initializeGLPlot())},w.isCameraChanged=function(I){var N=this,k=N.getCamera(),F=p.nestedProperty(I,N.id+".camera"),O=F.get();function z(ee,Q,oe,Z){var Y=["up","center","eye"],te=["x","y","z"];return Q[Y[oe]]&&ee[Y[oe]][te[Z]]===Q[Y[oe]][te[Z]]}var B=!1;if(O===void 0)B=!0;else{for(var W=0;W<3;W++)for(var q=0;q<3;q++)if(!z(k,O,W,q)){B=!0;break}(!O.projection||k.projection&&k.projection.type!==O.projection.type)&&(B=!0)}return B},w.isAspectChanged=function(I){var N=this,k=N.glplot.getAspectratio(),F=p.nestedProperty(I,N.id+".aspectratio"),O=F.get();return O===void 0||O.x!==k.x||O.y!==k.y||O.z!==k.z},w.saveLayout=function(I){var N=this,k=N.fullLayout,F,O,z,B,W,q,ee=N.isCameraChanged(I),Q=N.isAspectChanged(I),oe=ee||Q;if(oe){var Z={};if(ee&&(F=N.getCamera(),O=p.nestedProperty(I,N.id+".camera"),z=O.get(),Z[N.id+".camera"]=z),Q&&(B=N.glplot.getAspectratio(),W=p.nestedProperty(I,N.id+".aspectratio"),q=W.get(),Z[N.id+".aspectratio"]=q),v.call("_storeDirectGUIEdit",I,k._preGUI,Z),ee){O.set(F);var Y=p.nestedProperty(k,N.id+".camera");Y.set(F)}if(Q){W.set(B);var te=p.nestedProperty(k,N.id+".aspectratio");te.set(B),N.glplot.redraw()}}return oe},w.updateFx=function(I,N){var k=this,F=k.camera;if(F)if(I==="orbit")F.mode="orbit",F.keyBindingMode="rotate";else if(I==="turntable"){F.up=[0,0,1],F.mode="turntable",F.keyBindingMode="rotate";var O=k.graphDiv,z=O._fullLayout,B=k.fullSceneLayout.camera,W=B.up.x,q=B.up.y,ee=B.up.z;if(ee/Math.sqrt(W*W+q*q+ee*ee)<.999){var Q=k.id+".camera.up",oe={x:0,y:0,z:1},Z={};Z[Q]=oe;var Y=O.layout;v.call("_storeDirectGUIEdit",Y,z._preGUI,Z),B.up=oe,p.nestedProperty(Y,Q).set(oe)}}else F.keyBindingMode=I;k.fullSceneLayout.hovermode=N};function x(I,N,k){for(var F=0,O=k-1;F<O;++F,--O)for(var z=0;z<N;++z)for(var B=0;B<4;++B){var W=4*(N*F+z)+B,q=4*(N*O+z)+B,ee=I[W];I[W]=I[q],I[q]=ee}}function _(I,N,k){for(var F=0;F<k;++F)for(var O=0;O<N;++O){var z=4*(N*F+O),B=I[z+3];if(B>0)for(var W=255/B,q=0;q<3;++q)I[z+q]=Math.min(W*I[z+q],255)}}w.toImage=function(I){var N=this;I||(I="png"),N.staticMode&&N.container.appendChild(c),N.glplot.redraw();var k=N.glplot.gl,F=k.drawingBufferWidth,O=k.drawingBufferHeight;k.bindFramebuffer(k.FRAMEBUFFER,null);var z=new Uint8Array(F*O*4);k.readPixels(0,0,F,O,k.RGBA,k.UNSIGNED_BYTE,z),x(z,F,O),_(z,F,O);var B=document.createElement("canvas");B.width=F,B.height=O;var W=B.getContext("2d",{willReadFrequently:!0}),q=W.createImageData(F,O);q.data.set(z),W.putImageData(q,0,0);var ee;switch(I){case"jpeg":ee=B.toDataURL("image/jpeg");break;case"webp":ee=B.toDataURL("image/webp");break;default:ee=B.toDataURL("image/png")}return N.staticMode&&N.container.removeChild(c),ee},w.setConvert=function(){for(var I=this,N=0;N<3;N++){var k=I.fullSceneLayout[y[N]];t.setConvert(k,I.fullLayout),k.setScale=p.noop}},w.make4thDimension=function(){var I=this,N=I.graphDiv,k=N._fullLayout;I._mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},t.setConvert(I._mockAxis,k)},G.exports=b},52094:function(G){G.exports=function(e,g,L,a){a=a||e.length;for(var C=new Array(a),A=0;A<a;A++)C[A]=[e[A],g[A],L[A]];return C}},64859:function(G,U,e){var g=e(25376),L=e(85656),a=e(22548),C=e(92872),A=e(34200),v=e(66741),p=e(92880).extendFlat,r=g({editType:"calc"});r.family.dflt='"Open Sans", verdana, arial, sans-serif',r.size.dflt=12,r.color.dflt=a.defaultLine,G.exports={font:r,title:{text:{valType:"string",editType:"layoutstyle"},font:g({editType:"layoutstyle"}),xref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},yref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},x:{valType:"number",min:0,max:1,dflt:.5,editType:"layoutstyle"},y:{valType:"number",min:0,max:1,dflt:"auto",editType:"layoutstyle"},xanchor:{valType:"enumerated",dflt:"auto",values:["auto","left","center","right"],editType:"layoutstyle"},yanchor:{valType:"enumerated",dflt:"auto",values:["auto","top","middle","bottom"],editType:"layoutstyle"},pad:p(v({editType:"layoutstyle"}),{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},editType:"layoutstyle"},uniformtext:{mode:{valType:"enumerated",values:[!1,"hide","show"],dflt:!1,editType:"plot"},minsize:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"},autosize:{valType:"boolean",dflt:!1,editType:"none"},width:{valType:"number",min:10,dflt:700,editType:"plot"},height:{valType:"number",min:10,dflt:450,editType:"plot"},minreducedwidth:{valType:"number",min:2,dflt:64,editType:"plot"},minreducedheight:{valType:"number",min:2,dflt:64,editType:"plot"},margin:{l:{valType:"number",min:0,dflt:80,editType:"plot"},r:{valType:"number",min:0,dflt:80,editType:"plot"},t:{valType:"number",min:0,dflt:100,editType:"plot"},b:{valType:"number",min:0,dflt:80,editType:"plot"},pad:{valType:"number",min:0,dflt:0,editType:"plot"},autoexpand:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},computed:{valType:"any",editType:"none"},paper_bgcolor:{valType:"color",dflt:a.background,editType:"plot"},plot_bgcolor:{valType:"color",dflt:a.background,editType:"layoutstyle"},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},separators:{valType:"string",editType:"plot"},hidesources:{valType:"boolean",dflt:!1,editType:"plot"},showlegend:{valType:"boolean",editType:"legend"},colorway:{valType:"colorlist",dflt:a.defaults,editType:"calc"},datarevision:{valType:"any",editType:"calc"},uirevision:{valType:"any",editType:"none"},editrevision:{valType:"any",editType:"none"},selectionrevision:{valType:"any",editType:"none"},template:{valType:"any",editType:"calc"},newshape:C.newshape,activeshape:C.activeshape,newselection:A.newselection,activeselection:A.activeselection,meta:{valType:"any",arrayOk:!0,editType:"plot"},transition:p({},L.transition,{editType:"none"}),_deprecated:{title:{valType:"string",editType:"layoutstyle"},titlefont:g({editType:"layoutstyle"})}}},47552:function(G,U,e){var g=e(95376),L="1.13.4",a='\xA9 <a target="_blank" href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',C=['\xA9 <a target="_blank" href="https://carto.com/">Carto</a>',a].join(" "),A=['Map tiles by <a target="_blank" href="https://stamen.com">Stamen Design</a>','under <a target="_blank" href="https://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>',"|",'Data by <a target="_blank" href="https://openstreetmap.org">OpenStreetMap</a> contributors','under <a target="_blank" href="https://www.openstreetmap.org/copyright">ODbL</a>'].join(" "),v=['Map tiles by <a target="_blank" href="https://stamen.com">Stamen Design</a>','under <a target="_blank" href="https://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>',"|",'Data by <a target="_blank" href="https://openstreetmap.org">OpenStreetMap</a> contributors','under <a target="_blank" href="https://creativecommons.org/licenses/by-sa/3.0">CC BY SA</a>'].join(" "),p={"open-street-map":{id:"osm",version:8,sources:{"plotly-osm-tiles":{type:"raster",attribution:a,tiles:["https://a.tile.openstreetmap.org/{z}/{x}/{y}.png","https://b.tile.openstreetmap.org/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-osm-tiles",type:"raster",source:"plotly-osm-tiles",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"white-bg":{id:"white-bg",version:8,sources:{},layers:[{id:"white-bg",type:"background",paint:{"background-color":"#FFFFFF"},minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"carto-positron":{id:"carto-positron",version:8,sources:{"plotly-carto-positron":{type:"raster",attribution:C,tiles:["https://cartodb-basemaps-c.global.ssl.fastly.net/light_all/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-carto-positron",type:"raster",source:"plotly-carto-positron",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"carto-darkmatter":{id:"carto-darkmatter",version:8,sources:{"plotly-carto-darkmatter":{type:"raster",attribution:C,tiles:["https://cartodb-basemaps-c.global.ssl.fastly.net/dark_all/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-carto-darkmatter",type:"raster",source:"plotly-carto-darkmatter",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"stamen-terrain":{id:"stamen-terrain",version:8,sources:{"plotly-stamen-terrain":{type:"raster",attribution:A,tiles:["https://tiles.stadiamaps.com/tiles/stamen_terrain/{z}/{x}/{y}.png?api_key="],tileSize:256}},layers:[{id:"plotly-stamen-terrain",type:"raster",source:"plotly-stamen-terrain",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"stamen-toner":{id:"stamen-toner",version:8,sources:{"plotly-stamen-toner":{type:"raster",attribution:A,tiles:["https://tiles.stadiamaps.com/tiles/stamen_toner/{z}/{x}/{y}.png?api_key="],tileSize:256}},layers:[{id:"plotly-stamen-toner",type:"raster",source:"plotly-stamen-toner",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"stamen-watercolor":{id:"stamen-watercolor",version:8,sources:{"plotly-stamen-watercolor":{type:"raster",attribution:v,tiles:["https://tiles.stadiamaps.com/tiles/stamen_watercolor/{z}/{x}/{y}.jpg?api_key="],tileSize:256}},layers:[{id:"plotly-stamen-watercolor",type:"raster",source:"plotly-stamen-watercolor",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"}},r=g(p);G.exports={requiredVersion:L,styleUrlPrefix:"mapbox://styles/mapbox/",styleUrlSuffix:"v9",styleValuesMapbox:["basic","streets","outdoors","light","dark","satellite","satellite-streets"],styleValueDflt:"basic",stylesNonMapbox:p,styleValuesNonMapbox:r,traceLayerPrefix:"plotly-trace-layer-",layoutLayerPrefix:"plotly-layout-layer-",wrongVersionErrorMsg:["Your custom plotly.js bundle is not using the correct mapbox-gl version","Please install @plotly/mapbox-gl@"+L+"."].join(`
`),noAccessTokenErrorMsg:["Missing Mapbox access token.","Mapbox trace type require a Mapbox access token to be registered.","For example:","  Plotly.newPlot(gd, data, layout, { mapboxAccessToken: 'my-access-token' });","More info here: https://www.mapbox.com/help/define-access-token/"].join(`
`),missingStyleErrorMsg:["No valid mapbox style found, please set `mapbox.style` to one of:",r.join(", "),"or register a Mapbox access token to use a Mapbox-served style."].join(`
`),multipleTokensErrorMsg:["Set multiple mapbox access token across different mapbox subplot,","using first token found as mapbox-gl does not allow multipleaccess tokens on the same page."].join(`
`),mapOnErrorMsg:"Mapbox error.",mapboxLogo:{path0:"m 10.5,1.24 c -5.11,0 -9.25,4.15 -9.25,9.25 0,5.1 4.15,9.25 9.25,9.25 5.1,0 9.25,-4.15 9.25,-9.25 0,-5.11 -4.14,-9.25 -9.25,-9.25 z m 4.39,11.53 c -1.93,1.93 -4.78,2.31 -6.7,2.31 -0.7,0 -1.41,-0.05 -2.1,-0.16 0,0 -1.02,-5.64 2.14,-8.81 0.83,-0.83 1.95,-1.28 3.13,-1.28 1.27,0 2.49,0.51 3.39,1.42 1.84,1.84 1.89,4.75 0.14,6.52 z",path1:"M 10.5,-0.01 C 4.7,-0.01 0,4.7 0,10.49 c 0,5.79 4.7,10.5 10.5,10.5 5.8,0 10.5,-4.7 10.5,-10.5 C 20.99,4.7 16.3,-0.01 10.5,-0.01 Z m 0,19.75 c -5.11,0 -9.25,-4.15 -9.25,-9.25 0,-5.1 4.14,-9.26 9.25,-9.26 5.11,0 9.25,4.15 9.25,9.25 0,5.13 -4.14,9.26 -9.25,9.26 z",path2:"M 14.74,6.25 C 12.9,4.41 9.98,4.35 8.23,6.1 5.07,9.27 6.09,14.91 6.09,14.91 c 0,0 5.64,1.02 8.81,-2.14 C 16.64,11 16.59,8.09 14.74,6.25 Z m -2.27,4.09 -0.91,1.87 -0.9,-1.87 -1.86,-0.91 1.86,-0.9 0.9,-1.87 0.91,1.87 1.86,0.9 z",polygon:"11.56,12.21 10.66,10.34 8.8,9.43 10.66,8.53 11.56,6.66 12.47,8.53 14.33,9.43 12.47,10.34"},styleRules:{map:"overflow:hidden;position:relative;","missing-css":"display:none;",canary:"background-color:salmon;","ctrl-bottom-left":"position: absolute; pointer-events: none; z-index: 2; bottom: 0; left: 0;","ctrl-bottom-right":"position: absolute; pointer-events: none; z-index: 2; right: 0; bottom: 0;",ctrl:"clear: both; pointer-events: auto; transform: translate(0, 0);","ctrl-attrib.mapboxgl-compact .mapboxgl-ctrl-attrib-inner":"display: none;","ctrl-attrib.mapboxgl-compact:hover .mapboxgl-ctrl-attrib-inner":"display: block; margin-top:2px","ctrl-attrib.mapboxgl-compact:hover":"padding: 2px 24px 2px 4px; visibility: visible; margin-top: 6px;","ctrl-attrib.mapboxgl-compact::after":`content: ""; cursor: pointer; position: absolute; background-image: url('data:image/svg+xml;charset=utf-8,%3Csvg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"%3E %3Cpath fill="%23333333" fill-rule="evenodd" d="M4,10a6,6 0 1,0 12,0a6,6 0 1,0 -12,0 M9,7a1,1 0 1,0 2,0a1,1 0 1,0 -2,0 M9,10a1,1 0 1,1 2,0l0,3a1,1 0 1,1 -2,0"/%3E %3C/svg%3E'); background-color: rgba(255, 255, 255, 0.5); width: 24px; height: 24px; box-sizing: border-box; border-radius: 12px;`,"ctrl-attrib.mapboxgl-compact":"min-height: 20px; padding: 0; margin: 10px; position: relative; background-color: #fff; border-radius: 3px 12px 12px 3px;","ctrl-bottom-right > .mapboxgl-ctrl-attrib.mapboxgl-compact::after":"bottom: 0; right: 0","ctrl-bottom-left > .mapboxgl-ctrl-attrib.mapboxgl-compact::after":"bottom: 0; left: 0","ctrl-bottom-left .mapboxgl-ctrl":"margin: 0 0 10px 10px; float: left;","ctrl-bottom-right .mapboxgl-ctrl":"margin: 0 10px 10px 0; float: right;","ctrl-attrib":"color: rgba(0, 0, 0, 0.75); text-decoration: none; font-size: 12px","ctrl-attrib a":"color: rgba(0, 0, 0, 0.75); text-decoration: none; font-size: 12px","ctrl-attrib a:hover":"color: inherit; text-decoration: underline;","ctrl-attrib .mapbox-improve-map":"font-weight: bold; margin-left: 2px;","attrib-empty":"display: none;","ctrl-logo":`display:block; width: 21px; height: 21px; background-image: url('data:image/svg+xml;charset=utf-8,%3C?xml version="1.0" encoding="utf-8"?%3E %3Csvg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 21 21" style="enable-background:new 0 0 21 21;" xml:space="preserve"%3E%3Cg transform="translate(0,0.01)"%3E%3Cpath d="m 10.5,1.24 c -5.11,0 -9.25,4.15 -9.25,9.25 0,5.1 4.15,9.25 9.25,9.25 5.1,0 9.25,-4.15 9.25,-9.25 0,-5.11 -4.14,-9.25 -9.25,-9.25 z m 4.39,11.53 c -1.93,1.93 -4.78,2.31 -6.7,2.31 -0.7,0 -1.41,-0.05 -2.1,-0.16 0,0 -1.02,-5.64 2.14,-8.81 0.83,-0.83 1.95,-1.28 3.13,-1.28 1.27,0 2.49,0.51 3.39,1.42 1.84,1.84 1.89,4.75 0.14,6.52 z" style="opacity:0.9;fill:%23ffffff;enable-background:new" class="st0"/%3E%3Cpath d="M 10.5,-0.01 C 4.7,-0.01 0,4.7 0,10.49 c 0,5.79 4.7,10.5 10.5,10.5 5.8,0 10.5,-4.7 10.5,-10.5 C 20.99,4.7 16.3,-0.01 10.5,-0.01 Z m 0,19.75 c -5.11,0 -9.25,-4.15 -9.25,-9.25 0,-5.1 4.14,-9.26 9.25,-9.26 5.11,0 9.25,4.15 9.25,9.25 0,5.13 -4.14,9.26 -9.25,9.26 z" style="opacity:0.35;enable-background:new" class="st1"/%3E%3Cpath d="M 14.74,6.25 C 12.9,4.41 9.98,4.35 8.23,6.1 5.07,9.27 6.09,14.91 6.09,14.91 c 0,0 5.64,1.02 8.81,-2.14 C 16.64,11 16.59,8.09 14.74,6.25 Z m -2.27,4.09 -0.91,1.87 -0.9,-1.87 -1.86,-0.91 1.86,-0.9 0.9,-1.87 0.91,1.87 1.86,0.9 z" style="opacity:0.35;enable-background:new" class="st1"/%3E%3Cpolygon points="11.56,12.21 10.66,10.34 8.8,9.43 10.66,8.53 11.56,6.66 12.47,8.53 14.33,9.43 12.47,10.34 " style="opacity:0.9;fill:%23ffffff;enable-background:new" class="st0"/%3E%3C/g%3E%3C/svg%3E')`}}},89032:function(G,U,e){var g=e(3400);G.exports=function(a,C){var A=a.split(" "),v=A[0],p=A[1],r=g.isArrayOrTypedArray(C)?g.mean(C):C,t=.5+r/100,s=1.5+r/100,n=["",""],f=[0,0];switch(v){case"top":n[0]="top",f[1]=-s;break;case"bottom":n[0]="bottom",f[1]=s;break}switch(p){case"left":n[1]="right",f[0]=-t;break;case"right":n[1]="left",f[0]=t;break}var u;return n[0]&&n[1]?u=n.join("-"):n[0]?u=n[0]:n[1]?u=n[1]:u="center",{anchor:u,offset:f}}},33688:function(G,U,e){var g=e(3480),L=e(3400),a=L.strTranslate,C=L.strScale,A=e(84888).KY,v=e(9616),p=e(33428),r=e(43616),t=e(72736),s=e(14440),n="mapbox",f=U.constants=e(47552);U.name=n,U.attr="subplot",U.idRoot=n,U.idRegex=U.attrRegex=L.counterRegex(n),U.attributes={subplot:{valType:"subplotid",dflt:"mapbox",editType:"calc"}},U.layoutAttributes=e(5232),U.supplyLayoutDefaults=e(5976),U.plot=function(h){var M=h._fullLayout,c=h.calcdata,i=M._subplots[n];if(g.version!==f.requiredVersion)throw new Error(f.wrongVersionErrorMsg);var d=u(h,i);g.accessToken=d;for(var b=0;b<i.length;b++){var w=i[b],E=A(c,n,w),y=M[w],S=y._subplot;S||(S=new s(h,w),M[w]._subplot=S),S.viewInitial||(S.viewInitial={center:L.extendFlat({},y.center),zoom:y.zoom,bearing:y.bearing,pitch:y.pitch}),S.plot(E,M,h._promises)}},U.clean=function(m,h,M,c){for(var i=c._subplots[n]||[],d=0;d<i.length;d++){var b=i[d];!h[b]&&!!c[b]._subplot&&c[b]._subplot.destroy()}},U.toSVG=function(m){for(var h=m._fullLayout,M=h._subplots[n],c=h._size,i=0;i<M.length;i++){var d=h[M[i]],b=d.domain,w=d._subplot,E=w.toImage("png"),y=h._glimages.append("svg:image");y.attr({xmlns:v.svg,"xlink:href":E,x:c.l+c.w*b.x[0],y:c.t+c.h*(1-b.y[1]),width:c.w*(b.x[1]-b.x[0]),height:c.h*(b.y[1]-b.y[0]),preserveAspectRatio:"none"});var S=p.select(d._subplot.div),T=S.select(".mapboxgl-ctrl-logo").node().offsetParent===null;if(!T){var o=h._glimages.append("g");o.attr("transform",a(c.l+c.w*b.x[0]+10,c.t+c.h*(1-b.y[0])-31)),o.append("path").attr("d",f.mapboxLogo.path0).style({opacity:.9,fill:"#ffffff","enable-background":"new"}),o.append("path").attr("d",f.mapboxLogo.path1).style("opacity",.35).style("enable-background","new"),o.append("path").attr("d",f.mapboxLogo.path2).style("opacity",.35).style("enable-background","new"),o.append("polygon").attr("points",f.mapboxLogo.polygon).style({opacity:.9,fill:"#ffffff","enable-background":"new"})}var P=S.select(".mapboxgl-ctrl-attrib").text().replace("Improve this map",""),x=h._glimages.append("g"),_=x.append("text");_.text(P).classed("static-attribution",!0).attr({"font-size":12,"font-family":"Arial",color:"rgba(0, 0, 0, 0.75)","text-anchor":"end","data-unformatted":P});var I=r.bBox(_.node()),N=c.w*(b.x[1]-b.x[0]);if(I.width>N/2){var k=P.split("|").join("<br>");_.text(k).attr("data-unformatted",k).call(t.convertToTspans,m),I=r.bBox(_.node())}_.attr("transform",a(-3,-I.height+8)),x.insert("rect",".static-attribution").attr({x:-I.width-6,y:-I.height-3,width:I.width+6,height:I.height+3,fill:"rgba(255, 255, 255, 0.75)"});var F=1;I.width+6>N&&(F=N/(I.width+6));var O=[c.l+c.w*b.x[1],c.t+c.h*(1-b.y[0])];x.attr("transform",a(O[0],O[1])+C(F))}};function u(m,h){var M=m._fullLayout,c=m._context;if(c.mapboxAccessToken==="")return"";for(var i=[],d=[],b=!1,w=!1,E=0;E<h.length;E++){var y=M[h[E]],S=y.accesstoken;l(y.style)&&(S?L.pushUnique(i,S):(l(y._input.style)&&(L.error("Uses Mapbox map style, but did not set an access token."),b=!0),w=!0)),S&&L.pushUnique(d,S)}if(w){var T=b?f.noAccessTokenErrorMsg:f.missingStyleErrorMsg;throw L.error(T),new Error(T)}return i.length?(i.length>1&&L.warn(f.multipleTokensErrorMsg),i[0]):(d.length&&L.log(["Listed mapbox access token(s)",d.join(","),"but did not use a Mapbox map style, ignoring token(s)."].join(" ")),"")}function l(m){return typeof m=="string"&&(f.styleValuesMapbox.indexOf(m)!==-1||m.indexOf("mapbox://")===0||m.indexOf("stamen")===0)}U.updateFx=function(m){for(var h=m._fullLayout,M=h._subplots[n],c=0;c<M.length;c++){var i=h[M[c]]._subplot;i.updateFx(h)}}},22360:function(G,U,e){var g=e(3400),L=e(72736).sanitizeHTML,a=e(89032),C=e(47552);function A(s,n){this.subplot=s,this.uid=s.uid+"-"+n,this.index=n,this.idSource="source-"+this.uid,this.idLayer=C.layoutLayerPrefix+this.uid,this.sourceType=null,this.source=null,this.layerType=null,this.below=null,this.visible=!1}var v=A.prototype;v.update=function(n){this.visible?this.needsNewImage(n)?this.updateImage(n):this.needsNewSource(n)?(this.removeLayer(),this.updateSource(n),this.updateLayer(n)):this.needsNewLayer(n)?this.updateLayer(n):this.updateStyle(n):(this.updateSource(n),this.updateLayer(n)),this.visible=p(n)},v.needsNewImage=function(s){var n=this.subplot.map;return n.getSource(this.idSource)&&this.sourceType==="image"&&s.sourcetype==="image"&&(this.source!==s.source||JSON.stringify(this.coordinates)!==JSON.stringify(s.coordinates))},v.needsNewSource=function(s){return this.sourceType!==s.sourcetype||JSON.stringify(this.source)!==JSON.stringify(s.source)||this.layerType!==s.type},v.needsNewLayer=function(s){return this.layerType!==s.type||this.below!==this.subplot.belowLookup["layout-"+this.index]},v.lookupBelow=function(){return this.subplot.belowLookup["layout-"+this.index]},v.updateImage=function(s){var n=this.subplot.map;n.getSource(this.idSource).updateImage({url:s.source,coordinates:s.coordinates});var f=this.findFollowingMapboxLayerId(this.lookupBelow());f!==null&&this.subplot.map.moveLayer(this.idLayer,f)},v.updateSource=function(s){var n=this.subplot.map;if(n.getSource(this.idSource)&&n.removeSource(this.idSource),this.sourceType=s.sourcetype,this.source=s.source,!!p(s)){var f=t(s);n.addSource(this.idSource,f)}},v.findFollowingMapboxLayerId=function(s){if(s==="traces")for(var n=this.subplot.getMapLayers(),f=0;f<n.length;f++){var u=n[f].id;if(typeof u=="string"&&u.indexOf(C.traceLayerPrefix)===0){s=u;break}}return s},v.updateLayer=function(s){var n=this.subplot,f=r(s),u=this.lookupBelow(),l=this.findFollowingMapboxLayerId(u);this.removeLayer(),p(s)&&n.addLayer({id:this.idLayer,source:this.idSource,"source-layer":s.sourcelayer||"",type:s.type,minzoom:s.minzoom,maxzoom:s.maxzoom,layout:f.layout,paint:f.paint},l),this.layerType=s.type,this.below=u},v.updateStyle=function(s){if(p(s)){var n=r(s);this.subplot.setOptions(this.idLayer,"setLayoutProperty",n.layout),this.subplot.setOptions(this.idLayer,"setPaintProperty",n.paint)}},v.removeLayer=function(){var s=this.subplot.map;s.getLayer(this.idLayer)&&s.removeLayer(this.idLayer)},v.dispose=function(){var s=this.subplot.map;s.getLayer(this.idLayer)&&s.removeLayer(this.idLayer),s.getSource(this.idSource)&&s.removeSource(this.idSource)};function p(s){if(!s.visible)return!1;var n=s.source;if(Array.isArray(n)&&n.length>0){for(var f=0;f<n.length;f++)if(typeof n[f]!="string"||n[f].length===0)return!1;return!0}return g.isPlainObject(n)||typeof n=="string"&&n.length>0}function r(s){var n={},f={};switch(s.type){case"circle":g.extendFlat(f,{"circle-radius":s.circle.radius,"circle-color":s.color,"circle-opacity":s.opacity});break;case"line":g.extendFlat(f,{"line-width":s.line.width,"line-color":s.color,"line-opacity":s.opacity,"line-dasharray":s.line.dash});break;case"fill":g.extendFlat(f,{"fill-color":s.color,"fill-outline-color":s.fill.outlinecolor,"fill-opacity":s.opacity});break;case"symbol":var u=s.symbol,l=a(u.textposition,u.iconsize);g.extendFlat(n,{"icon-image":u.icon+"-15","icon-size":u.iconsize/10,"text-field":u.text,"text-size":u.textfont.size,"text-anchor":l.anchor,"text-offset":l.offset,"symbol-placement":u.placement}),g.extendFlat(f,{"icon-color":s.color,"text-color":u.textfont.color,"text-opacity":s.opacity});break;case"raster":g.extendFlat(f,{"raster-fade-duration":0,"raster-opacity":s.opacity});break}return{layout:n,paint:f}}function t(s){var n=s.sourcetype,f=s.source,u={type:n},l;return n==="geojson"?l="data":n==="vector"?l=typeof f=="string"?"url":"tiles":n==="raster"?(l="tiles",u.tileSize=256):n==="image"&&(l="url",u.coordinates=s.coordinates),u[l]=f,s.sourceattribution&&(u.attribution=L(s.sourceattribution)),u}G.exports=function(n,f,u){var l=new A(n,f);return l.update(u),l}},5232:function(G,U,e){var g=e(3400),L=e(76308).defaultLine,a=e(86968).u,C=e(25376),A=e(52904).textposition,v=e(67824).overrideAll,p=e(31780).templatedArray,r=e(47552),t=C({});t.family.dflt="Open Sans Regular, Arial Unicode MS Regular";var s=G.exports=v({_arrayAttrRegexps:[g.counterRegex("mapbox",".layers",!0)],domain:a({name:"mapbox"}),accesstoken:{valType:"string",noBlank:!0,strict:!0},style:{valType:"any",values:r.styleValuesMapbox.concat(r.styleValuesNonMapbox),dflt:r.styleValueDflt},center:{lon:{valType:"number",dflt:0},lat:{valType:"number",dflt:0}},zoom:{valType:"number",dflt:1},bearing:{valType:"number",dflt:0},pitch:{valType:"number",dflt:0},bounds:{west:{valType:"number"},east:{valType:"number"},south:{valType:"number"},north:{valType:"number"}},layers:p("layer",{visible:{valType:"boolean",dflt:!0},sourcetype:{valType:"enumerated",values:["geojson","vector","raster","image"],dflt:"geojson"},source:{valType:"any"},sourcelayer:{valType:"string",dflt:""},sourceattribution:{valType:"string"},type:{valType:"enumerated",values:["circle","line","fill","symbol","raster"],dflt:"circle"},coordinates:{valType:"any"},below:{valType:"string"},color:{valType:"color",dflt:L},opacity:{valType:"number",min:0,max:1,dflt:1},minzoom:{valType:"number",min:0,max:24,dflt:0},maxzoom:{valType:"number",min:0,max:24,dflt:24},circle:{radius:{valType:"number",dflt:15}},line:{width:{valType:"number",dflt:2},dash:{valType:"data_array"}},fill:{outlinecolor:{valType:"color",dflt:L}},symbol:{icon:{valType:"string",dflt:"marker"},iconsize:{valType:"number",dflt:10},text:{valType:"string",dflt:""},placement:{valType:"enumerated",values:["point","line","line-center"],dflt:"point"},textfont:t,textposition:g.extendFlat({},A,{arrayOk:!1})}})},"plot","from-root");s.uirevision={valType:"any",editType:"none"}},5976:function(G,U,e){var g=e(3400),L=e(168),a=e(51272),C=e(5232);G.exports=function(r,t,s){L(r,t,s,{type:"mapbox",attributes:C,handleDefaults:A,partition:"y",accessToken:t._mapboxAccessToken})};function A(p,r,t,s){t("accesstoken",s.accessToken),t("style"),t("center.lon"),t("center.lat"),t("zoom"),t("bearing"),t("pitch");var n=t("bounds.west"),f=t("bounds.east"),u=t("bounds.south"),l=t("bounds.north");(n===void 0||f===void 0||u===void 0||l===void 0)&&delete r.bounds,a(p,r,{name:"layers",handleItemDefaults:v}),r._input=p}function v(p,r){function t(m,h){return g.coerce(p,r,C.layers,m,h)}var s=t("visible");if(s){var n=t("sourcetype"),f=n==="raster"||n==="image";t("source"),t("sourceattribution"),n==="vector"&&t("sourcelayer"),n==="image"&&t("coordinates");var u;f&&(u="raster");var l=t("type",u);f&&l!=="raster"&&(l=r.type="raster",g.log("Source types *raster* and *image* must drawn *raster* layer type.")),t("below"),t("color"),t("opacity"),t("minzoom"),t("maxzoom"),l==="circle"&&t("circle.radius"),l==="line"&&(t("line.width"),t("line.dash")),l==="fill"&&t("fill.outlinecolor"),l==="symbol"&&(t("symbol.icon"),t("symbol.iconsize"),t("symbol.text"),g.coerceFont(t,"symbol.textfont"),t("symbol.textposition"),t("symbol.placement"))}}},14440:function(G,U,e){var g=e(3480),L=e(3400),a=e(27144),C=e(24040),A=e(54460),v=e(86476),p=e(93024),r=e(72760),t=r.drawMode,s=r.selectMode,n=e(22676).prepSelect,f=e(22676).clearOutline,u=e(22676).clearSelectionsCache,l=e(22676).selectOnClick,m=e(47552),h=e(22360);function M(E,y){this.id=y,this.gd=E;var S=E._fullLayout,T=E._context;this.container=S._glcontainer.node(),this.isStatic=T.staticPlot,this.uid=S._uid+"-"+this.id,this.div=null,this.xaxis=null,this.yaxis=null,this.createFramework(S),this.map=null,this.accessToken=null,this.styleObj=null,this.traceHash={},this.layerList=[],this.belowLookup={},this.dragging=!1,this.wheeling=!1}var c=M.prototype;c.plot=function(E,y,S){var T=this,o=y[T.id];T.map&&o.accesstoken!==T.accessToken&&(T.map.remove(),T.map=null,T.styleObj=null,T.traceHash={},T.layerList=[]);var P;T.map?P=new Promise(function(x,_){T.updateMap(E,y,x,_)}):P=new Promise(function(x,_){T.createMap(E,y,x,_)}),S.push(P)},c.createMap=function(E,y,S,T){var o=this,P=y[o.id],x=o.styleObj=d(P.style,y);o.accessToken=P.accesstoken;var _=P.bounds,I=_?[[_.west,_.south],[_.east,_.north]]:null,N=o.map=new g.Map({container:o.div,style:x.style,center:w(P.center),zoom:P.zoom,bearing:P.bearing,pitch:P.pitch,maxBounds:I,interactive:!o.isStatic,preserveDrawingBuffer:o.isStatic,doubleClickZoom:!1,boxZoom:!1,attributionControl:!1}).addControl(new g.AttributionControl({compact:!0}));N._canvas.style.left="0px",N._canvas.style.top="0px",o.rejectOnError(T),o.isStatic||o.initFx(E,y);var k=[];k.push(new Promise(function(F){N.once("load",F)})),k=k.concat(a.fetchTraceGeoData(E)),Promise.all(k).then(function(){o.fillBelowLookup(E,y),o.updateData(E),o.updateLayout(y),o.resolveOnRender(S)}).catch(T)},c.updateMap=function(E,y,S,T){var o=this,P=o.map,x=y[this.id];o.rejectOnError(T);var _=[],I=d(x.style,y);JSON.stringify(o.styleObj)!==JSON.stringify(I)&&(o.styleObj=I,P.setStyle(I.style),o.traceHash={},_.push(new Promise(function(N){P.once("styledata",N)}))),_=_.concat(a.fetchTraceGeoData(E)),Promise.all(_).then(function(){o.fillBelowLookup(E,y),o.updateData(E),o.updateLayout(y),o.resolveOnRender(S)}).catch(T)},c.fillBelowLookup=function(E,y){var S=y[this.id],T=S.layers,o,P,x=this.belowLookup={},_=!1;for(o=0;o<E.length;o++){var I=E[o][0].trace,N=I._module;typeof I.below=="string"?P=I.below:N.getBelow&&(P=N.getBelow(I,this)),P===""&&(_=!0),x["trace-"+I.uid]=P||""}for(o=0;o<T.length;o++){var k=T[o];typeof k.below=="string"?P=k.below:_?P="traces":P="",x["layout-"+o]=P}var F={},O,z;for(O in x)P=x[O],F[P]?F[P].push(O):F[P]=[O];for(P in F){var B=F[P];if(B.length>1)for(o=0;o<B.length;o++)O=B[o],O.indexOf("trace-")===0?(z=O.split("trace-")[1],this.traceHash[z]&&(this.traceHash[z].below=null)):O.indexOf("layout-")===0&&(z=O.split("layout-")[1],this.layerList[z]&&(this.layerList[z].below=null))}};var i={choroplethmapbox:0,densitymapbox:1,scattermapbox:2};c.updateData=function(E){var y=this.traceHash,S,T,o,P,x=E.slice().sort(function(F,O){return i[F[0].trace.type]-i[O[0].trace.type]});for(o=0;o<x.length;o++){var _=x[o];T=_[0].trace,S=y[T.uid];var I=!1;S&&(S.type===T.type?(S.update(_),I=!0):S.dispose()),!I&&T._module&&(y[T.uid]=T._module.plot(this,_))}var N=Object.keys(y);e:for(o=0;o<N.length;o++){var k=N[o];for(P=0;P<E.length;P++)if(T=E[P][0].trace,k===T.uid)continue e;S=y[k],S.dispose(),delete y[k]}},c.updateLayout=function(E){var y=this.map,S=E[this.id];!this.dragging&&!this.wheeling&&(y.setCenter(w(S.center)),y.setZoom(S.zoom),y.setBearing(S.bearing),y.setPitch(S.pitch)),this.updateLayers(E),this.updateFramework(E),this.updateFx(E),this.map.resize(),this.gd._context._scrollZoom.mapbox?y.scrollZoom.enable():y.scrollZoom.disable()},c.resolveOnRender=function(E){var y=this.map;y.on("render",function S(){y.loaded()&&(y.off("render",S),setTimeout(E,10))})},c.rejectOnError=function(E){var y=this.map;function S(){E(new Error(m.mapOnErrorMsg))}y.once("error",S),y.once("style.error",S),y.once("source.error",S),y.once("tile.error",S),y.once("layer.error",S)},c.createFramework=function(E){var y=this,S=y.div=document.createElement("div");S.id=y.uid,S.style.position="absolute",y.container.appendChild(S),y.xaxis={_id:"x",c2p:function(T){return y.project(T).x}},y.yaxis={_id:"y",c2p:function(T){return y.project(T).y}},y.updateFramework(E),y.mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},A.setConvert(y.mockAxis,E)},c.initFx=function(E,y){var S=this,T=S.gd,o=S.map;o.on("moveend",function(_){if(!!S.map){var I=T._fullLayout;if(_.originalEvent||S.wheeling){var N=I[S.id];C.call("_storeDirectGUIEdit",T.layout,I._preGUI,S.getViewEdits(N));var k=S.getView();N._input.center=N.center=k.center,N._input.zoom=N.zoom=k.zoom,N._input.bearing=N.bearing=k.bearing,N._input.pitch=N.pitch=k.pitch,T.emit("plotly_relayout",S.getViewEditsWithDerived(k))}_.originalEvent&&_.originalEvent.type==="mouseup"?S.dragging=!1:S.wheeling&&(S.wheeling=!1),I._rehover&&I._rehover()}}),o.on("wheel",function(){S.wheeling=!0}),o.on("mousemove",function(_){var I=S.div.getBoundingClientRect(),N=[_.originalEvent.offsetX,_.originalEvent.offsetY];_.target.getBoundingClientRect=function(){return I},S.xaxis.p2c=function(){return o.unproject(N).lng},S.yaxis.p2c=function(){return o.unproject(N).lat},T._fullLayout._rehover=function(){T._fullLayout._hoversubplot===S.id&&T._fullLayout[S.id]&&p.hover(T,_,S.id)},p.hover(T,_,S.id),T._fullLayout._hoversubplot=S.id});function P(){p.loneUnhover(y._hoverlayer)}o.on("dragstart",function(){S.dragging=!0,P()}),o.on("zoomstart",P),o.on("mouseout",function(){T._fullLayout._hoversubplot=null});function x(){var _=S.getView();T.emit("plotly_relayouting",S.getViewEditsWithDerived(_))}o.on("drag",x),o.on("zoom",x),o.on("dblclick",function(){var _=T._fullLayout[S.id];C.call("_storeDirectGUIEdit",T.layout,T._fullLayout._preGUI,S.getViewEdits(_));var I=S.viewInitial;o.setCenter(w(I.center)),o.setZoom(I.zoom),o.setBearing(I.bearing),o.setPitch(I.pitch);var N=S.getView();_._input.center=_.center=N.center,_._input.zoom=_.zoom=N.zoom,_._input.bearing=_.bearing=N.bearing,_._input.pitch=_.pitch=N.pitch,T.emit("plotly_doubleclick",null),T.emit("plotly_relayout",S.getViewEditsWithDerived(N))}),S.clearOutline=function(){u(S.dragOptions),f(S.dragOptions.gd)},S.onClickInPanFn=function(_){return function(I){var N=T._fullLayout.clickmode;N.indexOf("select")>-1&&l(I.originalEvent,T,[S.xaxis],[S.yaxis],S.id,_),N.indexOf("event")>-1&&p.click(T,I.originalEvent)}}},c.updateFx=function(E){var y=this,S=y.map,T=y.gd;if(y.isStatic)return;function o(I){var N=y.map.unproject(I);return[N.lng,N.lat]}var P=E.dragmode,x;x=function(I,N){if(N.isRect){var k=I.range={};k[y.id]=[o([N.xmin,N.ymin]),o([N.xmax,N.ymax])]}else{var F=I.lassoPoints={};F[y.id]=N.map(o)}};var _=y.dragOptions;y.dragOptions=L.extendDeep(_||{},{dragmode:E.dragmode,element:y.div,gd:T,plotinfo:{id:y.id,domain:E[y.id].domain,xaxis:y.xaxis,yaxis:y.yaxis,fillRangeItems:x},xaxes:[y.xaxis],yaxes:[y.yaxis],subplot:y.id}),S.off("click",y.onClickInPanHandler),s(P)||t(P)?(S.dragPan.disable(),S.on("zoomstart",y.clearOutline),y.dragOptions.prepFn=function(I,N,k){n(I,N,k,y.dragOptions,P)},v.init(y.dragOptions)):(S.dragPan.enable(),S.off("zoomstart",y.clearOutline),y.div.onmousedown=null,y.div.ontouchstart=null,y.div.removeEventListener("touchstart",y.div._ontouchstart),y.onClickInPanHandler=y.onClickInPanFn(y.dragOptions),S.on("click",y.onClickInPanHandler))},c.updateFramework=function(E){var y=E[this.id].domain,S=E._size,T=this.div.style;T.width=S.w*(y.x[1]-y.x[0])+"px",T.height=S.h*(y.y[1]-y.y[0])+"px",T.left=S.l+y.x[0]*S.w+"px",T.top=S.t+(1-y.y[1])*S.h+"px",this.xaxis._offset=S.l+y.x[0]*S.w,this.xaxis._length=S.w*(y.x[1]-y.x[0]),this.yaxis._offset=S.t+(1-y.y[1])*S.h,this.yaxis._length=S.h*(y.y[1]-y.y[0])},c.updateLayers=function(E){var y=E[this.id],S=y.layers,T=this.layerList,o;if(S.length!==T.length){for(o=0;o<T.length;o++)T[o].dispose();for(T=this.layerList=[],o=0;o<S.length;o++)T.push(h(this,o,S[o]))}else for(o=0;o<S.length;o++)T[o].update(S[o])},c.destroy=function(){this.map&&(this.map.remove(),this.map=null,this.container.removeChild(this.div))},c.toImage=function(){return this.map.stop(),this.map.getCanvas().toDataURL()},c.setOptions=function(E,y,S){for(var T in S)this.map[y](E,T,S[T])},c.getMapLayers=function(){return this.map.getStyle().layers},c.addLayer=function(E,y){var S=this.map;if(typeof y=="string"){if(y===""){S.addLayer(E,y);return}for(var T=this.getMapLayers(),o=0;o<T.length;o++)if(y===T[o].id){S.addLayer(E,y);return}L.warn(["Trying to add layer with *below* value",y,"referencing a layer that does not exist","or that does not yet exist."].join(" "))}S.addLayer(E)},c.project=function(E){return this.map.project(new g.LngLat(E[0],E[1]))},c.getView=function(){var E=this.map,y=E.getCenter(),S=y.lng,T=y.lat,o={lon:S,lat:T},P=E.getCanvas(),x=parseInt(P.style.width),_=parseInt(P.style.height);return{center:o,zoom:E.getZoom(),bearing:E.getBearing(),pitch:E.getPitch(),_derived:{coordinates:[E.unproject([0,0]).toArray(),E.unproject([x,0]).toArray(),E.unproject([x,_]).toArray(),E.unproject([0,_]).toArray()]}}},c.getViewEdits=function(E){for(var y=this.id,S=["center","zoom","bearing","pitch"],T={},o=0;o<S.length;o++){var P=S[o];T[y+"."+P]=E[P]}return T},c.getViewEditsWithDerived=function(E){var y=this.id,S=this.getViewEdits(E);return S[y+"._derived"]=E._derived,S};function d(E,y){var S={};if(L.isPlainObject(E))S.id=E.id,S.style=E;else if(typeof E=="string")if(S.id=E,m.styleValuesMapbox.indexOf(E)!==-1)S.style=b(E);else if(m.stylesNonMapbox[E]){S.style=m.stylesNonMapbox[E];var T=S.style.sources["plotly-"+E],o=T?T.tiles:void 0;o&&o[0]&&o[0].slice(-9)==="?api_key="&&(o[0]+=y._mapboxAccessToken)}else S.style=E;else S.id=m.styleValueDflt,S.style=b(m.styleValueDflt);return S.transition={duration:0,delay:0},S}function b(E){return m.styleUrlPrefix+E+"-"+m.styleUrlSuffix}function w(E){return[E.lon,E.lat]}G.exports=M},66741:function(G){G.exports=function(U){var e=U.editType;return{t:{valType:"number",dflt:0,editType:e},r:{valType:"number",dflt:0,editType:e},b:{valType:"number",dflt:0,editType:e},l:{valType:"number",dflt:0,editType:e},editType:e}}},7316:function(G,U,e){var g=e(33428),L=e(94336).m_,a=e(57624).SO,C=e(38248),A=e(83160),v=e(24040),p=e(73060),r=e(31780),t=e(3400),s=e(76308),n=e(39032).BADNUM,f=e(79811),u=e(1936).clearOutline,l=e(55308),m=e(85656),h=e(16672),M=e(84888)._M,c=t.relinkPrivateKeys,i=t._,d=G.exports={};t.extendFlat(d,v),d.attributes=e(45464),d.attributes.type.values=d.allTypes,d.fontAttrs=e(25376),d.layoutAttributes=e(64859),d.fontWeight="normal";var b=d.transformsRegistry,w=e(62460);d.executeAPICommand=w.executeAPICommand,d.computeAPICommandBindings=w.computeAPICommandBindings,d.manageCommandObserver=w.manageCommandObserver,d.hasSimpleAPICommandBindings=w.hasSimpleAPICommandBindings,d.redrawText=function(X){return X=t.getGraphDiv(X),new Promise(function($){setTimeout(function(){!X._fullLayout||(v.getComponentMethod("annotations","draw")(X),v.getComponentMethod("legend","draw")(X),v.getComponentMethod("colorbar","draw")(X),$(d.previousPromises(X)))},300)})},d.resize=function(X){X=t.getGraphDiv(X);var $,ie=new Promise(function(J,j){(!X||t.isHidden(X))&&j(new Error("Resize must be passed a displayed plot div element.")),X._redrawTimer&&clearTimeout(X._redrawTimer),X._resolveResize&&($=X._resolveResize),X._resolveResize=J,X._redrawTimer=setTimeout(function(){if(!X.layout||X.layout.width&&X.layout.height||t.isHidden(X)){J(X);return}delete X.layout.width,delete X.layout.height;var se=X.changed;X.autoplay=!0,v.call("relayout",X,{autosize:!0}).then(function(){X.changed=se,X._resolveResize===J&&(delete X._resolveResize,J(X))})},100)});return $&&$(ie),ie},d.previousPromises=function(X){if((X._promises||[]).length)return Promise.all(X._promises).then(function(){X._promises=[]})},d.addLinks=function(X){if(!(!X._context.showLink&&!X._context.showSources)){var $=X._fullLayout,ie=t.ensureSingle($._paper,"text","js-plot-link-container",function(pe){pe.style({"font-family":'"Open Sans", Arial, sans-serif',"font-size":"12px",fill:s.defaultLine,"pointer-events":"all"}).each(function(){var Ae=g.select(this);Ae.append("tspan").classed("js-link-to-tool",!0),Ae.append("tspan").classed("js-link-spacer",!0),Ae.append("tspan").classed("js-sourcelinks",!0)})}),J=ie.node(),j={y:$._paper.attr("height")-9};document.body.contains(J)&&J.getComputedTextLength()>=$.width-20?(j["text-anchor"]="start",j.x=5):(j["text-anchor"]="end",j.x=$._paper.attr("width")-7),ie.attr(j);var se=ie.select(".js-link-to-tool"),ne=ie.select(".js-link-spacer"),le=ie.select(".js-sourcelinks");X._context.showSources&&X._context.showSources(X),X._context.showLink&&E(X,se),ne.text(se.text()&&le.text()?" - ":"")}};function E(X,$){$.text("");var ie=$.append("a").attr({"xlink:xlink:href":"#",class:"link--impt link--embedview","font-weight":"bold"}).text(X._context.linkText+" "+String.fromCharCode(187));if(X._context.sendData)ie.on("click",function(){d.sendDataToCloud(X)});else{var J=window.location.pathname.split("/"),j=window.location.search;ie.attr({"xlink:xlink:show":"new","xlink:xlink:href":"/"+J[2].split(".")[0]+"/"+J[1]+j})}}d.sendDataToCloud=function(X){var $=(window.PLOTLYENV||{}).BASE_URL||X._context.plotlyServerURL;if(!!$){X.emit("plotly_beforeexport");var ie=g.select(X).append("div").attr("id","hiddenform").style("display","none"),J=ie.append("form").attr({action:$+"/external",method:"post",target:"_blank"}),j=J.append("input").attr({type:"text",name:"data"});return j.node().value=d.graphJson(X,!1,"keepdata"),J.node().submit(),ie.remove(),X.emit("plotly_afterexport"),!1}};var y=["days","shortDays","months","shortMonths","periods","dateTime","date","time","decimal","thousands","grouping","currency"],S=["year","month","dayMonth","dayMonthYear"];d.supplyDefaults=function(X,$){var ie=$&&$.skipUpdateCalc,J=X._fullLayout||{};if(J._skipDefaults){delete J._skipDefaults;return}var j=X._fullLayout={},se=X.layout||{},ne=X._fullData||[],le=X._fullData=[],pe=X.data||[],Ae=X.calcdata||[],be=X._context||{},Re;X._transitionData||d.createTransitionData(X),j._dfltTitle={plot:i(X,"Click to enter Plot title"),x:i(X,"Click to enter X axis title"),y:i(X,"Click to enter Y axis title"),colorbar:i(X,"Click to enter Colorscale title"),annotation:i(X,"new text")},j._traceWord=i(X,"trace");var xe=P(X,y);if(j._mapboxAccessToken=be.mapboxAccessToken,J._initialAutoSizeIsDone){var Me=J.width,ye=J.height;d.supplyLayoutGlobalDefaults(se,j,xe),se.width||(j.width=Me),se.height||(j.height=ye),d.sanitizeMargins(j)}else{d.supplyLayoutGlobalDefaults(se,j,xe);var Se=!se.width||!se.height,Fe=j.autosize,Be=be.autosizable,_e=Se&&(Fe||Be);_e?d.plotAutoSize(X,se,j):Se&&d.sanitizeMargins(j),!Fe&&Se&&(se.width=j.width,se.height=j.height)}j._d3locale=x(xe,j.separators),j._extraFormat=P(X,S),j._initialAutoSizeIsDone=!0,j._dataLength=pe.length,j._modules=[],j._visibleModules=[],j._basePlotModules=[];var Ue=j._subplots=o(),it=j._splomAxes={x:{},y:{}},lt=j._splomSubplots={};j._splomGridDflt={},j._scatterStackOpts={},j._firstScatter={},j._alignmentOpts={},j._colorAxes={},j._requestRangeslider={},j._traceUids=T(ne,pe),j._globalTransforms=(X._context||{}).globalTransforms,d.supplyDataDefaults(pe,le,se,j);var $e=Object.keys(it.x),qe=Object.keys(it.y);if($e.length>1&&qe.length>1){for(v.getComponentMethod("grid","sizeDefaults")(se,j),Re=0;Re<$e.length;Re++)t.pushUnique(Ue.xaxis,$e[Re]);for(Re=0;Re<qe.length;Re++)t.pushUnique(Ue.yaxis,qe[Re]);for(var ft in lt)t.pushUnique(Ue.cartesian,ft)}if(j._has=d._hasPlotType.bind(j),ne.length===le.length)for(Re=0;Re<le.length;Re++)c(le[Re],ne[Re]);d.supplyLayoutModuleDefaults(se,j,le,X._transitionData);var ct=j._visibleModules,pt=[];for(Re=0;Re<ct.length;Re++){var yt=ct[Re].crossTraceDefaults;yt&&t.pushUnique(pt,yt)}for(Re=0;Re<pt.length;Re++)pt[Re](le,j);j._hasOnlyLargeSploms=j._basePlotModules.length===1&&j._basePlotModules[0].name==="splom"&&$e.length>15&&qe.length>15&&j.shapes.length===0&&j.images.length===0,d.linkSubplots(le,j,ne,J),d.cleanPlot(le,j,ne,J);var Et=!!(J._has&&J._has("gl2d")),tt=!!(j._has&&j._has("gl2d")),Ie=!!(J._has&&J._has("cartesian")),We=!!(j._has&&j._has("cartesian")),Ze=Ie||Et,He=We||tt;Ze&&!He?J._bgLayer.remove():He&&!Ze&&(j._shouldCreateBgLayer=!0),J._zoomlayer&&!X._dragging&&u({_fullLayout:J}),_(le,j),c(j,J),v.getComponentMethod("colorscale","crossTraceDefaults")(le,j),j._preGUI||(j._preGUI={}),j._tracePreGUI||(j._tracePreGUI={});var De=j._tracePreGUI,me={},ge;for(ge in De)me[ge]="old";for(Re=0;Re<le.length;Re++)ge=le[Re]._fullInput.uid,me[ge]||(De[ge]={}),me[ge]="new";for(ge in me)me[ge]==="old"&&delete De[ge];O(j),v.getComponentMethod("rangeslider","makeData")(j),!ie&&Ae.length===le.length&&d.supplyDefaultsUpdateCalc(Ae,le)},d.supplyDefaultsUpdateCalc=function(X,$){for(var ie=0;ie<$.length;ie++){var J=$[ie],j=(X[ie]||[])[0];if(j&&j.trace){var se=j.trace;if(se._hasCalcTransform){var ne=se._arrayAttrs,le,pe,Ae;for(le=0;le<ne.length;le++)pe=ne[le],Ae=t.nestedProperty(se,pe).get().slice(),t.nestedProperty(J,pe).set(Ae)}j.trace=J}}};function T(X,$){var ie=$.length,J=[],j,se;for(j=0;j<X.length;j++){var ne=X[j]._fullInput;ne!==se&&J.push(ne),se=ne}var le=J.length,pe=new Array(ie),Ae={};function be(Me,ye){pe[ye]=Me,Ae[Me]=1}function Re(Me,ye){if(Me&&typeof Me=="string"&&!Ae[Me])return be(Me,ye),!0}for(j=0;j<ie;j++){var xe=$[j].uid;typeof xe=="number"&&(xe=String(xe)),!Re(xe,j)&&(j<le&&Re(J[j].uid,j)||be(t.randstr(Ae),j))}return pe}function o(){var X=v.collectableSubplotTypes,$={},ie,J;if(!X){X=[];var j=v.subplotsRegistry;for(var se in j){var ne=j[se],le=ne.attr;if(le&&(X.push(se),Array.isArray(le)))for(J=0;J<le.length;J++)t.pushUnique(X,le[J])}}for(ie=0;ie<X.length;ie++)$[X[ie]]=[];return $}function P(X,$){var ie=X._context.locale;ie||(ie="en-US");var J=!1,j={};function se(Re){for(var xe=!0,Me=0;Me<$.length;Me++){var ye=$[Me];j[ye]||(Re[ye]?j[ye]=Re[ye]:xe=!1)}xe&&(J=!0)}for(var ne=0;ne<2;ne++){for(var le=X._context.locales,pe=0;pe<2;pe++){var Ae=(le[ie]||{}).format;if(Ae&&(se(Ae),J))break;le=v.localeRegistry}var be=ie.split("-")[0];if(J||be===ie)break;ie=be}return J||se(v.localeRegistry.en.format),j}function x(X,$){return X.decimal=$.charAt(0),X.thousands=$.charAt(1),{numberFormat:function(ie){try{ie=a(X).format(t.adjustFormat(ie))}catch{return t.warnBadFormat(ie),t.noFormat}return ie},timeFormat:L(X).utcFormat}}function _(X,$){var ie,J=[];$.meta&&(ie=$._meta={meta:$.meta,layout:{meta:$.meta}});for(var j=0;j<X.length;j++){var se=X[j];se.meta?J[se.index]=se._meta={meta:se.meta}:$.meta&&(se._meta={meta:$.meta}),$.meta&&(se._meta.layout={meta:$.meta})}J.length&&(ie||(ie=$._meta={}),ie.data=J)}d.createTransitionData=function(X){X._transitionData||(X._transitionData={}),X._transitionData._frames||(X._transitionData._frames=[]),X._transitionData._frameHash||(X._transitionData._frameHash={}),X._transitionData._counter||(X._transitionData._counter=0),X._transitionData._interruptCallbacks||(X._transitionData._interruptCallbacks=[])},d._hasPlotType=function(X){var $,ie=this._basePlotModules||[];for($=0;$<ie.length;$++)if(ie[$].name===X)return!0;var J=this._modules||[];for($=0;$<J.length;$++){var j=J[$].name;if(j===X)return!0;var se=v.modules[j];if(se&&se.categories[X])return!0}return!1},d.cleanPlot=function(X,$,ie,J){var j,se,ne=J._basePlotModules||[];for(j=0;j<ne.length;j++){var le=ne[j];le.clean&&le.clean(X,$,ie,J)}var pe=J._has&&J._has("gl"),Ae=$._has&&$._has("gl");pe&&!Ae&&J._glcontainer!==void 0&&(J._glcontainer.selectAll(".gl-canvas").remove(),J._glcontainer.selectAll(".no-webgl").remove(),J._glcanvas=null);var be=!!J._infolayer;e:for(j=0;j<ie.length;j++){var Re=ie[j],xe=Re.uid;for(se=0;se<X.length;se++){var Me=X[se];if(xe===Me.uid)continue e}be&&J._infolayer.select(".cb"+xe).remove()}},d.linkSubplots=function(X,$,ie,J){var j,se,ne=J._plots||{},le=$._plots={},pe=$._subplots,Ae={_fullData:X,_fullLayout:$},be=pe.cartesian.concat(pe.gl2d||[]);for(j=0;j<be.length;j++){var Re=be[j],xe=ne[Re],Me=f.getFromId(Ae,Re,"x"),ye=f.getFromId(Ae,Re,"y"),Se;for(xe?Se=le[Re]=xe:(Se=le[Re]={},Se.id=Re),Me._counterAxes.push(ye._id),ye._counterAxes.push(Me._id),Me._subplotsWith.push(Re),ye._subplotsWith.push(Re),Se.xaxis=Me,Se.yaxis=ye,Se._hasClipOnAxisFalse=!1,se=0;se<X.length;se++){var Fe=X[se];if(Fe.xaxis===Se.xaxis._id&&Fe.yaxis===Se.yaxis._id&&Fe.cliponaxis===!1){Se._hasClipOnAxisFalse=!0;break}}}var Be=f.list(Ae,null,!0),_e;for(j=0;j<Be.length;j++){_e=Be[j];var Ue=null;_e.overlaying&&(Ue=f.getFromId(Ae,_e.overlaying),Ue&&Ue.overlaying&&(_e.overlaying=!1,Ue=null)),_e._mainAxis=Ue||_e,Ue&&(_e.domain=Ue.domain.slice()),_e._anchorAxis=_e.anchor==="free"?null:f.getFromId(Ae,_e.anchor)}for(j=0;j<Be.length;j++)if(_e=Be[j],_e._counterAxes.sort(f.idSort),_e._subplotsWith.sort(t.subplotSort),_e._mainSubplot=I(_e,$),_e._counterAxes.length&&(_e.spikemode&&_e.spikemode.indexOf("across")!==-1||_e.automargin&&_e.mirror&&_e.anchor!=="free"||v.getComponentMethod("rangeslider","isVisible")(_e))){var it=1,lt=0;for(se=0;se<_e._counterAxes.length;se++){var $e=f.getFromId(Ae,_e._counterAxes[se]);it=Math.min(it,$e.domain[0]),lt=Math.max(lt,$e.domain[1])}it<lt&&(_e._counterDomainMin=it,_e._counterDomainMax=lt)}};function I(X,$){var ie={_fullLayout:$},J=X._id.charAt(0)==="x",j=X._mainAxis._anchorAxis,se="",ne="",le="";if(j&&(le=j._mainAxis._id,se=J?X._id+le:le+X._id),!se||!$._plots[se]){se="";for(var pe=X._counterAxes,Ae=0;Ae<pe.length;Ae++){var be=pe[Ae],Re=J?X._id+be:be+X._id;ne||(ne=Re);var xe=f.getFromId(ie,be);if(le&&xe.overlaying===le){se=Re;break}}}return se||ne}d.clearExpandedTraceDefaultColors=function(X){var $,ie,J;function j(ne,le,pe,Ae){ie[Ae]=le,ie.length=Ae+1,ne.valType==="color"&&ne.dflt===void 0&&$.push(ie.join("."))}for(ie=[],$=X._module._colorAttrs,$||(X._module._colorAttrs=$=[],p.crawl(X._module.attributes,j)),J=0;J<$.length;J++){var se=t.nestedProperty(X,"_input."+$[J]);se.get()||t.nestedProperty(X,$[J]).set(null)}},d.supplyDataDefaults=function(X,$,ie,J){var j=J._modules,se=J._visibleModules,ne=J._basePlotModules,le=0,pe=0,Ae,be,Re;J._transformModules=[];function xe(qe){$.push(qe);var ft=qe._module;!ft||(t.pushUnique(j,ft),qe.visible===!0&&t.pushUnique(se,ft),t.pushUnique(ne,qe._module.basePlotModule),le++,qe._input.visible!==!1&&pe++)}var Me={},ye=[],Se=(ie.template||{}).data||{},Fe=r.traceTemplater(Se);for(Ae=0;Ae<X.length;Ae++){if(Re=X[Ae],be=Fe.newTrace(Re),be.uid=J._traceUids[Ae],d.supplyTraceDefaults(Re,be,pe,J,Ae),be.index=Ae,be._input=Re,be._expandedIndex=le,be.transforms&&be.transforms.length)for(var Be=Re.visible!==!1&&be.visible===!1,_e=k(be,$,ie,J),Ue=0;Ue<_e.length;Ue++){var it=_e[Ue],lt={_template:be._template,type:be.type,uid:be.uid+Ue};Be&&it.visible===!1&&delete it.visible,d.supplyTraceDefaults(it,lt,le,J,Ae),c(lt,it),lt.index=Ae,lt._input=Re,lt._fullInput=be,lt._expandedIndex=le,lt._expandedInput=it,xe(lt)}else be._fullInput=be,be._expandedInput=be,xe(be);v.traceIs(be,"carpetAxis")&&(Me[be.carpet]=be),v.traceIs(be,"carpetDependent")&&ye.push(Ae)}for(Ae=0;Ae<ye.length;Ae++)if(be=$[ye[Ae]],!!be.visible){var $e=Me[be.carpet];if(be._carpet=$e,!$e||!$e.visible){be.visible=!1;continue}be.xaxis=$e.xaxis,be.yaxis=$e.yaxis}},d.supplyAnimationDefaults=function(X){X=X||{};var $,ie={};function J(j,se){return t.coerce(X||{},ie,m,j,se)}if(J("mode"),J("direction"),J("fromcurrent"),Array.isArray(X.frame))for(ie.frame=[],$=0;$<X.frame.length;$++)ie.frame[$]=d.supplyAnimationFrameDefaults(X.frame[$]||{});else ie.frame=d.supplyAnimationFrameDefaults(X.frame||{});if(Array.isArray(X.transition))for(ie.transition=[],$=0;$<X.transition.length;$++)ie.transition[$]=d.supplyAnimationTransitionDefaults(X.transition[$]||{});else ie.transition=d.supplyAnimationTransitionDefaults(X.transition||{});return ie},d.supplyAnimationFrameDefaults=function(X){var $={};function ie(J,j){return t.coerce(X||{},$,m.frame,J,j)}return ie("duration"),ie("redraw"),$},d.supplyAnimationTransitionDefaults=function(X){var $={};function ie(J,j){return t.coerce(X||{},$,m.transition,J,j)}return ie("duration"),ie("easing"),$},d.supplyFrameDefaults=function(X){var $={};function ie(J,j){return t.coerce(X,$,h,J,j)}return ie("group"),ie("name"),ie("traces"),ie("baseframe"),ie("data"),ie("layout"),$},d.supplyTraceDefaults=function(X,$,ie,J,j){var se=J.colorway||s.defaults,ne=se[ie%se.length],le;function pe(Ue,it){return t.coerce(X,$,d.attributes,Ue,it)}var Ae=pe("visible");pe("type"),pe("name",J._traceWord+" "+j),pe("uirevision",J.uirevision);var be=d.getModule($);if($._module=be,be){var Re=be.basePlotModule,xe=Re.attr,Me=Re.attributes;if(xe&&Me){var ye=J._subplots,Se="";if(Ae||Re.name!=="gl2d"){if(Array.isArray(xe))for(le=0;le<xe.length;le++){var Fe=xe[le],Be=t.coerce(X,$,Me,Fe);ye[Fe]&&t.pushUnique(ye[Fe],Be),Se+=Be}else Se=t.coerce(X,$,Me,xe);ye[Re.name]&&t.pushUnique(ye[Re.name],Se)}}}if(Ae){if(pe("customdata"),pe("ids"),pe("meta"),v.traceIs($,"showLegend")?(t.coerce(X,$,be.attributes.showlegend?be.attributes:d.attributes,"showlegend"),pe("legend"),pe("legendwidth"),pe("legendgroup"),pe("legendgrouptitle.text"),pe("legendrank"),$._dfltShowLegend=!0):$._dfltShowLegend=!1,be&&be.supplyDefaults(X,$,ne,J),v.traceIs($,"noOpacity")||pe("opacity"),v.traceIs($,"notLegendIsolatable")&&($.visible=!!$.visible),v.traceIs($,"noHover")||($.hovertemplate||t.coerceHoverinfo(X,$,J),$.type!=="parcats"&&v.getComponentMethod("fx","supplyDefaults")(X,$,ne,J)),be&&be.selectPoints){var _e=pe("selectedpoints");t.isTypedArray(_e)&&($.selectedpoints=Array.from(_e))}d.supplyTransformDefaults(X,$,J)}return $};function N(X){var $=X.transforms;if(Array.isArray($)&&$.length)for(var ie=0;ie<$.length;ie++){var J=$[ie],j=J._module||b[J.type];if(j&&j.makesData)return!0}return!1}d.hasMakesDataTransform=N,d.supplyTransformDefaults=function(X,$,ie){if(!!($._length||N(X))){var J=ie._globalTransforms||[],j=ie._transformModules||[];if(!(!Array.isArray(X.transforms)&&J.length===0))for(var se=X.transforms||[],ne=J.concat(se),le=$.transforms=[],pe=0;pe<ne.length;pe++){var Ae=ne[pe],be=Ae.type,Re=b[be],xe,Me=!(Ae._module&&Ae._module===Re),ye=Re&&typeof Re.transform=="function";Re||t.warn("Unrecognized transform type "+be+"."),Re&&Re.supplyDefaults&&(Me||ye)?(xe=Re.supplyDefaults(Ae,$,ie,X),xe.type=be,xe._module=Re,t.pushUnique(j,Re)):xe=t.extendFlat({},Ae),le.push(xe)}}};function k(X,$,ie,J){for(var j=X.transforms,se=[X],ne=0;ne<j.length;ne++){var le=j[ne],pe=b[le.type];pe&&pe.transform&&(se=pe.transform(se,{transform:le,fullTrace:X,fullData:$,layout:ie,fullLayout:J,transformIndex:ne}))}return se}d.supplyLayoutGlobalDefaults=function(X,$,ie){function J(Re,xe){return t.coerce(X,$,d.layoutAttributes,Re,xe)}var j=X.template;t.isPlainObject(j)&&($.template=j,$._template=j.layout,$._dataTemplate=j.data),J("autotypenumbers");var se=t.coerceFont(J,"font"),ne=se.size;t.coerceFont(J,"title.font",t.extendFlat({},se,{size:Math.round(ne*1.4)})),J("title.text",$._dfltTitle.plot),J("title.xref");var le=J("title.yref");J("title.pad.t"),J("title.pad.r"),J("title.pad.b"),J("title.pad.l");var pe=J("title.automargin");J("title.x"),J("title.xanchor"),J("title.y"),J("title.yanchor"),pe&&(le==="paper"&&($.title.y!==0&&($.title.y=1),$.title.yanchor==="auto"&&($.title.yanchor=$.title.y===0?"top":"bottom")),le==="container"&&($.title.y==="auto"&&($.title.y=1),$.title.yanchor==="auto"&&($.title.yanchor=$.title.y<.5?"bottom":"top")));var Ae=J("uniformtext.mode");Ae&&J("uniformtext.minsize"),J("autosize",!(X.width&&X.height)),J("width"),J("height"),J("minreducedwidth"),J("minreducedheight"),J("margin.l"),J("margin.r"),J("margin.t"),J("margin.b"),J("margin.pad"),J("margin.autoexpand"),X.width&&X.height&&d.sanitizeMargins($),v.getComponentMethod("grid","sizeDefaults")(X,$),J("paper_bgcolor"),J("separators",ie.decimal+ie.thousands),J("hidesources"),J("colorway"),J("datarevision");var be=J("uirevision");J("editrevision",be),J("selectionrevision",be),v.getComponentMethod("modebar","supplyLayoutDefaults")(X,$),v.getComponentMethod("shapes","supplyDrawNewShapeDefaults")(X,$,J),v.getComponentMethod("selections","supplyDrawNewSelectionDefaults")(X,$,J),J("meta"),t.isPlainObject(X.transition)&&(J("transition.duration"),J("transition.easing"),J("transition.ordering")),v.getComponentMethod("calendars","handleDefaults")(X,$,"calendar"),v.getComponentMethod("fx","supplyLayoutGlobalDefaults")(X,$,J),t.coerce(X,$,l,"scattermode")};function F(X){return typeof X=="string"&&X.substr(X.length-2)==="px"&&parseFloat(X)}d.plotAutoSize=function($,ie,J){var j=$._context||{},se=j.frameMargins,ne,le,pe=t.isPlotDiv($);if(pe&&$.emit("plotly_autosize"),j.fillFrame)ne=window.innerWidth,le=window.innerHeight,document.body.style.overflow="hidden";else{var Ae=pe?window.getComputedStyle($):{};if(ne=F(Ae.width)||F(Ae.maxWidth)||J.width,le=F(Ae.height)||F(Ae.maxHeight)||J.height,C(se)&&se>0){var be=1-2*se;ne=Math.round(be*ne),le=Math.round(be*le)}}var Re=d.layoutAttributes.width.min,xe=d.layoutAttributes.height.min;ne<Re&&(ne=Re),le<xe&&(le=xe);var Me=!ie.width&&Math.abs(J.width-ne)>1,ye=!ie.height&&Math.abs(J.height-le)>1;(ye||Me)&&(Me&&(J.width=ne),ye&&(J.height=le)),$._initialAutoSize||($._initialAutoSize={width:ne,height:le}),d.sanitizeMargins(J)},d.supplyLayoutModuleDefaults=function(X,$,ie,J){var j=v.componentsRegistry,se=$._basePlotModules,ne,le,pe,Ae=v.subplotsRegistry.cartesian;for(ne in j)pe=j[ne],pe.includeBasePlot&&pe.includeBasePlot(X,$);se.length||se.push(Ae),$._has("cartesian")&&(v.getComponentMethod("grid","contentDefaults")(X,$),Ae.finalizeSubplots(X,$));for(var be in $._subplots)$._subplots[be].sort(t.subplotSort);for(le=0;le<se.length;le++)pe=se[le],pe.supplyLayoutDefaults&&pe.supplyLayoutDefaults(X,$,ie);var Re=$._modules;for(le=0;le<Re.length;le++)pe=Re[le],pe.supplyLayoutDefaults&&pe.supplyLayoutDefaults(X,$,ie);var xe=$._transformModules;for(le=0;le<xe.length;le++)pe=xe[le],pe.supplyLayoutDefaults&&pe.supplyLayoutDefaults(X,$,ie,J);for(ne in j)pe=j[ne],pe.supplyLayoutDefaults&&pe.supplyLayoutDefaults(X,$,ie)},d.purge=function(X){var $=X._fullLayout||{};$._glcontainer!==void 0&&($._glcontainer.selectAll(".gl-canvas").remove(),$._glcontainer.remove(),$._glcanvas=null),$._modeBar&&$._modeBar.destroy(),X._transitionData&&(X._transitionData._interruptCallbacks&&(X._transitionData._interruptCallbacks.length=0),X._transitionData._animationRaf&&window.cancelAnimationFrame(X._transitionData._animationRaf)),t.clearThrottle(),t.clearResponsive(X),delete X.data,delete X.layout,delete X._fullData,delete X._fullLayout,delete X.calcdata,delete X.empty,delete X.fid,delete X.undoqueue,delete X.undonum,delete X.autoplay,delete X.changed,delete X._promises,delete X._redrawTimer,delete X._hmlumcount,delete X._hmpixcount,delete X._transitionData,delete X._transitioning,delete X._initialAutoSize,delete X._transitioningWithDuration,delete X._dragging,delete X._dragged,delete X._dragdata,delete X._hoverdata,delete X._snapshotInProgress,delete X._editing,delete X._mouseDownTime,delete X._legendMouseDownTime,X.removeAllListeners&&X.removeAllListeners()},d.style=function(X){var $=X._fullLayout._visibleModules,ie=[],J;for(J=0;J<$.length;J++){var j=$[J];j.style&&t.pushUnique(ie,j.style)}for(J=0;J<ie.length;J++)ie[J](X)},d.sanitizeMargins=function(X){if(!(!X||!X.margin)){var $=X.width,ie=X.height,J=X.margin,j=$-(J.l+J.r),se=ie-(J.t+J.b),ne;j<0&&(ne=($-1)/(J.l+J.r),J.l=Math.floor(ne*J.l),J.r=Math.floor(ne*J.r)),se<0&&(ne=(ie-1)/(J.t+J.b),J.t=Math.floor(ne*J.t),J.b=Math.floor(ne*J.b))}},d.clearAutoMarginIds=function(X){X._fullLayout._pushmarginIds={}},d.allowAutoMargin=function(X,$){X._fullLayout._pushmarginIds[$]=1};function O(X){var $=X.margin;if(!X._size){var ie=X._size={l:Math.round($.l),r:Math.round($.r),t:Math.round($.t),b:Math.round($.b),p:Math.round($.pad)};ie.w=Math.round(X.width)-ie.l-ie.r,ie.h=Math.round(X.height)-ie.t-ie.b}X._pushmargin||(X._pushmargin={}),X._pushmarginIds||(X._pushmarginIds={}),X._reservedMargin||(X._reservedMargin={})}var z=2,B=2;d.autoMargin=function(X,$,ie){var J=X._fullLayout,j=J.width,se=J.height,ne=J.margin,le=J.minreducedwidth,pe=J.minreducedheight,Ae=t.constrain(j-ne.l-ne.r,z,le),be=t.constrain(se-ne.t-ne.b,B,pe),Re=Math.max(0,j-Ae),xe=Math.max(0,se-be),Me=J._pushmargin,ye=J._pushmarginIds;if(ne.autoexpand!==!1){if(!ie)delete Me[$],delete ye[$];else{var Se=ie.pad;if(Se===void 0&&(Se=Math.min(12,ne.l,ne.r,ne.t,ne.b)),Re){var Fe=(ie.l+ie.r)/Re;Fe>1&&(ie.l/=Fe,ie.r/=Fe)}if(xe){var Be=(ie.t+ie.b)/xe;Be>1&&(ie.t/=Be,ie.b/=Be)}var _e=ie.xl!==void 0?ie.xl:ie.x,Ue=ie.xr!==void 0?ie.xr:ie.x,it=ie.yt!==void 0?ie.yt:ie.y,lt=ie.yb!==void 0?ie.yb:ie.y;Me[$]={l:{val:_e,size:ie.l+Se},r:{val:Ue,size:ie.r+Se},b:{val:lt,size:ie.b+Se},t:{val:it,size:ie.t+Se}},ye[$]=1}if(!J._replotting)return d.doAutoMargin(X)}};function W(X){if("_redrawFromAutoMarginCount"in X._fullLayout)return!1;var $=f.list(X,"",!0);for(var ie in $)if($[ie].autoshift||$[ie].shift)return!0;return!1}d.doAutoMargin=function(X){var $=X._fullLayout,ie=$.width,J=$.height;$._size||($._size={}),O($);var j=$._size,se=$.margin,ne={t:0,b:0,l:0,r:0},le=t.extendFlat({},j),pe=se.l,Ae=se.r,be=se.t,Re=se.b,xe=$._pushmargin,Me=$._pushmarginIds,ye=$.minreducedwidth,Se=$.minreducedheight;if(se.autoexpand!==!1){for(var Fe in xe)Me[Fe]||delete xe[Fe];var Be=X._fullLayout._reservedMargin;for(var _e in Be)for(var Ue in Be[_e]){var it=Be[_e][Ue];ne[Ue]=Math.max(ne[Ue],it)}xe.base={l:{val:0,size:pe},r:{val:1,size:Ae},t:{val:1,size:be},b:{val:0,size:Re}};for(var lt in ne){var $e=0;for(var qe in xe)qe!=="base"&&C(xe[qe][lt].size)&&($e=xe[qe][lt].size>$e?xe[qe][lt].size:$e);var ft=Math.max(0,se[lt]-$e);ne[lt]=Math.max(0,ne[lt]-ft)}for(var ct in xe){var pt=xe[ct].l||{},yt=xe[ct].b||{},Et=pt.val,tt=pt.size,Ie=yt.val,We=yt.size,Ze=ie-ne.r-ne.l,He=J-ne.t-ne.b;for(var De in xe){if(C(tt)&&xe[De].r){var me=xe[De].r.val,ge=xe[De].r.size;if(me>Et){var Ee=(tt*me+(ge-Ze)*Et)/(me-Et),Te=(ge*(1-Et)+(tt-Ze)*(1-me))/(me-Et);Ee+Te>pe+Ae&&(pe=Ee,Ae=Te)}}if(C(We)&&xe[De].t){var ze=xe[De].t.val,Xe=xe[De].t.size;if(ze>Ie){var et=(We*ze+(Xe-He)*Ie)/(ze-Ie),ut=(Xe*(1-Ie)+(We-He)*(1-ze))/(ze-Ie);et+ut>Re+be&&(Re=et,be=ut)}}}}}var dt=t.constrain(ie-se.l-se.r,z,ye),Zt=t.constrain(J-se.t-se.b,B,Se),jt=Math.max(0,ie-dt),Tt=Math.max(0,J-Zt);if(jt){var kt=(pe+Ae)/jt;kt>1&&(pe/=kt,Ae/=kt)}if(Tt){var Qt=(Re+be)/Tt;Qt>1&&(Re/=Qt,be/=Qt)}if(j.l=Math.round(pe)+ne.l,j.r=Math.round(Ae)+ne.r,j.t=Math.round(be)+ne.t,j.b=Math.round(Re)+ne.b,j.p=Math.round(se.pad),j.w=Math.round(ie)-j.l-j.r,j.h=Math.round(J)-j.t-j.b,!$._replotting&&(d.didMarginChange(le,j)||W(X))){"_redrawFromAutoMarginCount"in $?$._redrawFromAutoMarginCount++:$._redrawFromAutoMarginCount=1;var wr=3*(1+Object.keys(Me).length);if($._redrawFromAutoMarginCount<wr)return v.call("_doPlot",X);$._size=le,t.warn("Too many auto-margin redraws.")}q(X)};function q(X){var $=f.list(X,"",!0);["_adjustTickLabelsOverflow","_hideCounterAxisInsideTickLabels"].forEach(function(ie){for(var J=0;J<$.length;J++){var j=$[J][ie];j&&j()}})}var ee=["l","r","t","b","p","w","h"];d.didMarginChange=function(X,$){for(var ie=0;ie<ee.length;ie++){var J=ee[ie],j=X[J],se=$[J];if(!C(j)||Math.abs(se-j)>1)return!0}return!1},d.graphJson=function(X,$,ie,J,j,se){(j&&$&&!X._fullData||j&&!$&&!X._fullLayout)&&d.supplyDefaults(X);var ne=j?X._fullData:X.data,le=j?X._fullLayout:X.layout,pe=(X._transitionData||{})._frames;function Ae(xe,Me){if(typeof xe=="function")return Me?"_function_":null;if(t.isPlainObject(xe)){var ye={},Se;return Object.keys(xe).sort().forEach(function(Ue){if(["_","["].indexOf(Ue.charAt(0))===-1){if(typeof xe[Ue]=="function"){Me&&(ye[Ue]="_function");return}if(ie==="keepdata"){if(Ue.substr(Ue.length-3)==="src")return}else if(ie==="keepstream"){if(Se=xe[Ue+"src"],typeof Se=="string"&&Se.indexOf(":")>0&&!t.isPlainObject(xe.stream))return}else if(ie!=="keepall"&&(Se=xe[Ue+"src"],typeof Se=="string"&&Se.indexOf(":")>0))return;ye[Ue]=Ae(xe[Ue],Me)}}),ye}var Fe=Array.isArray(xe),Be=t.isTypedArray(xe);if((Fe||Be)&&xe.dtype&&xe.shape){var _e=xe.bdata;return Ae({dtype:xe.dtype,shape:xe.shape,bdata:t.isArrayBuffer(_e)?A.encode(_e):_e},Me)}return Fe?xe.map(function(Ue){return Ae(Ue,Me)}):Be?t.simpleMap(xe,t.identity):t.isJSDate(xe)?t.ms2DateTimeLocal(+xe):xe}var be={data:(ne||[]).map(function(xe){var Me=Ae(xe);return $&&delete Me.fit,Me})};if(!$&&(be.layout=Ae(le),j)){var Re=le._size;be.layout.computed={margin:{b:Re.b,l:Re.l,r:Re.r,t:Re.t}}}return pe&&(be.frames=Ae(pe)),se&&(be.config=Ae(X._context,!0)),J==="object"?be:JSON.stringify(be)},d.modifyFrames=function(X,$){var ie,J,j,se=X._transitionData._frames,ne=X._transitionData._frameHash;for(ie=0;ie<$.length;ie++)switch(J=$[ie],J.type){case"replace":j=J.value;var le=(se[J.index]||{}).name,pe=j.name;se[J.index]=ne[pe]=j,pe!==le&&(delete ne[le],ne[pe]=j);break;case"insert":j=J.value,ne[j.name]=j,se.splice(J.index,0,j);break;case"delete":j=se[J.index],delete ne[j.name],se.splice(J.index,1);break}return Promise.resolve()},d.computeFrame=function(X,$){var ie=X._transitionData._frameHash,J,j,se,ne;if(!$)throw new Error("computeFrame must be given a string frame name");var le=ie[$.toString()];if(!le)return!1;for(var pe=[le],Ae=[le.name];le.baseframe&&(le=ie[le.baseframe.toString()])&&Ae.indexOf(le.name)===-1;)pe.push(le),Ae.push(le.name);for(var be={};le=pe.pop();)if(le.layout&&(be.layout=d.extendLayout(be.layout,le.layout)),le.data){if(be.data||(be.data=[]),j=le.traces,!j)for(j=[],J=0;J<le.data.length;J++)j[J]=J;for(be.traces||(be.traces=[]),J=0;J<le.data.length;J++)se=j[J],se!=null&&(ne=be.traces.indexOf(se),ne===-1&&(ne=be.data.length,be.traces[ne]=se),be.data[ne]=d.extendTrace(be.data[ne],le.data[J]))}return be},d.recomputeFrameHash=function(X){for(var $=X._transitionData._frameHash={},ie=X._transitionData._frames,J=0;J<ie.length;J++){var j=ie[J];j&&j.name&&($[j.name]=j)}},d.extendObjectWithContainers=function(X,$,ie){var J,j,se,ne,le,pe,Ae,be,Re=t.extendDeepNoArrays({},$||{}),xe=t.expandObjectPaths(Re),Me={};if(ie&&ie.length)for(se=0;se<ie.length;se++)J=t.nestedProperty(xe,ie[se]),j=J.get(),j===void 0?t.nestedProperty(Me,ie[se]).set(null):(J.set(null),t.nestedProperty(Me,ie[se]).set(j));if(X=t.extendDeepNoArrays(X||{},xe),ie&&ie.length){for(se=0;se<ie.length;se++)if(le=t.nestedProperty(Me,ie[se]),Ae=le.get(),!!Ae){for(pe=t.nestedProperty(X,ie[se]),be=pe.get(),Array.isArray(be)||(be=[],pe.set(be)),ne=0;ne<Ae.length;ne++){var ye=Ae[ne];ye===null?be[ne]=null:be[ne]=d.extendObjectWithContainers(be[ne],ye)}pe.set(be)}}return X},d.dataArrayContainers=["transforms","dimensions"],d.layoutArrayContainers=v.layoutArrayContainers,d.extendTrace=function(X,$){return d.extendObjectWithContainers(X,$,d.dataArrayContainers)},d.extendLayout=function(X,$){return d.extendObjectWithContainers(X,$,d.layoutArrayContainers)},d.transition=function(X,$,ie,J,j,se){var ne={redraw:j.redraw},le={},pe=[];return ne.prepareFn=function(){for(var Ae=Array.isArray($)?$.length:0,be=J.slice(0,Ae),Re=0;Re<be.length;Re++){var xe=be[Re],Me=X._fullData[xe],ye=Me._module;if(!!ye){if(ye.animatable){var Se=ye.basePlotModule.name;le[Se]||(le[Se]=[]),le[Se].push(xe)}X.data[be[Re]]=d.extendTrace(X.data[be[Re]],$[Re])}}var Fe=t.expandObjectPaths(t.extendDeepNoArrays({},ie)),Be=/^[xy]axis[0-9]*$/;for(var _e in Fe)!Be.test(_e)||delete Fe[_e].range;d.extendLayout(X.layout,Fe),delete X.calcdata,d.supplyDefaults(X),d.doCalcdata(X);var Ue=t.expandObjectPaths(ie);if(Ue){var it=X._fullLayout._plots;for(var lt in it){var $e=it[lt],qe=$e.xaxis,ft=$e.yaxis,ct=qe.range.slice(),pt=ft.range.slice(),yt=null,Et=null,tt=null,Ie=null;Array.isArray(Ue[qe._name+".range"])?yt=Ue[qe._name+".range"].slice():Array.isArray((Ue[qe._name]||{}).range)&&(yt=Ue[qe._name].range.slice()),Array.isArray(Ue[ft._name+".range"])?Et=Ue[ft._name+".range"].slice():Array.isArray((Ue[ft._name]||{}).range)&&(Et=Ue[ft._name].range.slice()),ct&&yt&&(qe.r2l(ct[0])!==qe.r2l(yt[0])||qe.r2l(ct[1])!==qe.r2l(yt[1]))&&(tt={xr0:ct,xr1:yt}),pt&&Et&&(ft.r2l(pt[0])!==ft.r2l(Et[0])||ft.r2l(pt[1])!==ft.r2l(Et[1]))&&(Ie={yr0:pt,yr1:Et}),(tt||Ie)&&pe.push(t.extendFlat({plotinfo:$e},tt,Ie))}}return Promise.resolve()},ne.runFn=function(Ae){var be,Re=X._fullLayout._basePlotModules,xe=pe.length,Me;if(ie)for(Me=0;Me<Re.length;Me++)Re[Me].transitionAxes&&Re[Me].transitionAxes(X,pe,se,Ae);xe?(be=t.extendFlat({},se),be.duration=0,delete le.cartesian):be=se;for(var ye in le){var Se=le[ye],Fe=X._fullData[Se[0]]._module;Fe.basePlotModule.plot(X,Se,be,Ae)}},Q(X,se,ne)},d.transitionFromReact=function(X,$,ie,J){var j=X._fullLayout,se=j.transition,ne={},le=[];return ne.prepareFn=function(){var pe=j._plots;ne.redraw=!1,$.anim==="some"&&(ne.redraw=!0),ie.anim==="some"&&(ne.redraw=!0);for(var Ae in pe){var be=pe[Ae],Re=be.xaxis,xe=be.yaxis,Me=J[Re._name].range.slice(),ye=J[xe._name].range.slice(),Se=Re.range.slice(),Fe=xe.range.slice();Re.setScale(),xe.setScale();var Be=null,_e=null;(Re.r2l(Me[0])!==Re.r2l(Se[0])||Re.r2l(Me[1])!==Re.r2l(Se[1]))&&(Be={xr0:Me,xr1:Se}),(xe.r2l(ye[0])!==xe.r2l(Fe[0])||xe.r2l(ye[1])!==xe.r2l(Fe[1]))&&(_e={yr0:ye,yr1:Fe}),(Be||_e)&&le.push(t.extendFlat({plotinfo:be},Be,_e))}return Promise.resolve()},ne.runFn=function(pe){for(var Ae=X._fullData,be=X._fullLayout,Re=be._basePlotModules,xe,Me,ye,Se=[],Fe=0;Fe<Ae.length;Fe++)Se.push(Fe);function Be(){if(!!X._fullLayout)for(var Ue=0;Ue<Re.length;Ue++)Re[Ue].transitionAxes&&Re[Ue].transitionAxes(X,le,xe,pe)}function _e(){if(!!X._fullLayout)for(var Ue=0;Ue<Re.length;Ue++)Re[Ue].plot(X,ye,Me,pe)}le.length&&$.anim?se.ordering==="traces first"?(xe=t.extendFlat({},se,{duration:0}),ye=Se,Me=se,setTimeout(Be,se.duration),_e()):(xe=se,ye=null,Me=t.extendFlat({},se,{duration:0}),setTimeout(_e,xe.duration),Be()):le.length?(xe=se,Be()):$.anim&&(ye=Se,Me=se,_e())},Q(X,se,ne)};function Q(X,$,ie){var J=!1;function j(Re){var xe=Promise.resolve();if(!Re)return xe;for(;Re.length;)xe=xe.then(Re.shift());return xe}function se(Re){if(!!Re)for(;Re.length;)Re.shift()}function ne(){return X.emit("plotly_transitioning",[]),new Promise(function(Re){X._transitioning=!0,$.duration>0&&(X._transitioningWithDuration=!0),X._transitionData._interruptCallbacks.push(function(){J=!0}),ie.redraw&&X._transitionData._interruptCallbacks.push(function(){return v.call("redraw",X)}),X._transitionData._interruptCallbacks.push(function(){X.emit("plotly_transitioninterrupted",[])});var xe=0,Me=0;function ye(){return xe++,function(){Me++,!J&&Me===xe&&le(Re)}}ie.runFn(ye),setTimeout(ye())})}function le(Re){if(!!X._transitionData)return se(X._transitionData._interruptCallbacks),Promise.resolve().then(function(){if(ie.redraw)return v.call("redraw",X)}).then(function(){X._transitioning=!1,X._transitioningWithDuration=!1,X.emit("plotly_transitioned",[])}).then(Re)}function pe(){if(!!X._transitionData)return X._transitioning=!1,j(X._transitionData._interruptCallbacks)}var Ae=[d.previousPromises,pe,ie.prepareFn,d.rehover,d.reselect,ne],be=t.syncOrAsync(Ae,X);return(!be||!be.then)&&(be=Promise.resolve()),be.then(function(){return X})}d.doCalcdata=function(X,$){var ie=f.list(X),J=X._fullData,j=X._fullLayout,se,ne,le,pe,Ae=new Array(J.length),be=(X.calcdata||[]).slice();for(X.calcdata=Ae,j._numBoxes=0,j._numViolins=0,j._violinScaleGroupStats={},X._hmpixcount=0,X._hmlumcount=0,j._piecolormap={},j._sunburstcolormap={},j._treemapcolormap={},j._iciclecolormap={},j._funnelareacolormap={},le=0;le<J.length;le++)if(Array.isArray($)&&$.indexOf(le)===-1){Ae[le]=be[le];continue}for(le=0;le<J.length;le++)se=J[le],se._arrayAttrs=p.findArrayAttributes(se),se._extremes={};var Re=j._subplots.polar||[];for(le=0;le<Re.length;le++)ie.push(j[Re[le]].radialaxis,j[Re[le]].angularaxis);for(var xe in j._colorAxes){var Me=j[xe];Me.cauto!==!1&&(delete Me.cmin,delete Me.cmax)}var ye=!1;function Se(_e){if(se=J[_e],ne=se._module,se.visible===!0&&se.transforms){if(ne&&ne.calc){var Ue=ne.calc(X,se);Ue[0]&&Ue[0].t&&Ue[0].t._scene&&delete Ue[0].t._scene.dirty}for(pe=0;pe<se.transforms.length;pe++){var it=se.transforms[pe];ne=b[it.type],ne&&ne.calcTransform&&(se._hasCalcTransform=!0,ye=!0,ne.calcTransform(X,se,it))}}}function Fe(_e,Ue){if(se=J[_e],ne=se._module,!!ne.isContainer===Ue){var it=[];if(se.visible===!0&&se._length!==0){delete se._indexToPoints;var lt=se.transforms||[];for(pe=lt.length-1;pe>=0;pe--)if(lt[pe].enabled){se._indexToPoints=lt[pe]._indexToPoints;break}ne&&ne.calc&&(it=ne.calc(X,se))}(!Array.isArray(it)||!it[0])&&(it=[{x:n,y:n}]),it[0].t||(it[0].t={}),it[0].trace=se,Ae[_e]=it}}for(Y(ie,J,j),le=0;le<J.length;le++)Fe(le,!0);for(le=0;le<J.length;le++)Se(le);for(ye&&Y(ie,J,j),le=0;le<J.length;le++)Fe(le,!0);for(le=0;le<J.length;le++)Fe(le,!1);te(X);var Be=Z(ie,X);if(Be.length){for(j._numBoxes=0,j._numViolins=0,le=0;le<Be.length;le++)Fe(Be[le],!0);for(le=0;le<Be.length;le++)Fe(Be[le],!1);te(X)}v.getComponentMethod("fx","calc")(X),v.getComponentMethod("errorbars","calc")(X)};var oe=/(total|sum|min|max|mean|median) (ascending|descending)/;function Z(X,$){var ie=[],J,j,se,ne,le;function pe(De,me,ge){var Ee=me._id.charAt(0);if(De==="histogram2dcontour"){var Te=me._counterAxes[0],ze=f.getFromId($,Te),Xe=Ee==="x"||Te==="x"&&ze.type==="category",et=Ee==="y"||Te==="y"&&ze.type==="category";return function(ut,dt){return ut===0||dt===0||Xe&&ut===ge[dt].length-1||et&&dt===ge.length-1?-1:(Ee==="y"?dt:ut)-1}}else return function(ut,dt){return Ee==="y"?dt:ut}}var Ae={min:function(De){return t.aggNums(Math.min,null,De)},max:function(De){return t.aggNums(Math.max,null,De)},sum:function(De){return t.aggNums(function(me,ge){return me+ge},null,De)},total:function(De){return t.aggNums(function(me,ge){return me+ge},null,De)},mean:function(De){return t.mean(De)},median:function(De){return t.median(De)}};function be(De,me){return De[1]-me[1]}function Re(De,me){return me[1]-De[1]}for(J=0;J<X.length;J++){var xe=X[J];if(xe.type==="category"){var Me=xe.categoryorder.match(oe);if(Me){var ye=Me[1],Se=Me[2],Fe=xe._id.charAt(0),Be=Fe==="x",_e=[];for(j=0;j<xe._categories.length;j++)_e.push([xe._categories[j],[]]);for(j=0;j<xe._traceIndices.length;j++){var Ue=xe._traceIndices[j],it=$._fullData[Ue];if(it.visible===!0){var lt=it.type;v.traceIs(it,"histogram")&&(delete it._xautoBinFinished,delete it._yautoBinFinished);var $e=lt==="splom",qe=lt==="scattergl",ft=$.calcdata[Ue];for(se=0;se<ft.length;se++){var ct=ft[se],pt,yt;if($e){var Et=it._axesDim[xe._id];if(!Be){var tt=it._diag[Et][0];tt&&(xe=$._fullLayout[f.id2name(tt)])}var Ie=ct.trace.dimensions[Et].values;for(ne=0;ne<Ie.length;ne++)for(pt=xe._categoriesMap[Ie[ne]],le=0;le<ct.trace.dimensions.length;le++)if(le!==Et){var We=ct.trace.dimensions[le];_e[pt][1].push(We.values[ne])}}else if(qe){for(ne=0;ne<ct.t.x.length;ne++)Be?(pt=ct.t.x[ne],yt=ct.t.y[ne]):(pt=ct.t.y[ne],yt=ct.t.x[ne]),_e[pt][1].push(yt);ct.t&&ct.t._scene&&delete ct.t._scene.dirty}else if(ct.hasOwnProperty("z")){yt=ct.z;var Ze=pe(it.type,xe,yt);for(ne=0;ne<yt.length;ne++)for(le=0;le<yt[ne].length;le++)pt=Ze(le,ne),pt+1&&_e[pt][1].push(yt[ne][le])}else for(pt=ct.p,pt===void 0&&(pt=ct[Fe]),yt=ct.s,yt===void 0&&(yt=ct.v),yt===void 0&&(yt=Be?ct.y:ct.x),Array.isArray(yt)||(yt===void 0?yt=[]:yt=[yt]),ne=0;ne<yt.length;ne++)_e[pt][1].push(yt[ne])}}}xe._categoriesValue=_e;var He=[];for(j=0;j<_e.length;j++)He.push([_e[j][0],Ae[ye](_e[j][1])]);He.sort(Se==="descending"?Re:be),xe._categoriesAggregatedValue=He,xe._initialCategories=He.map(function(De){return De[0]}),ie=ie.concat(xe.sortByInitialCategories())}}}return ie}function Y(X,$,ie){var J={};function j(pe){pe.clearCalc(),pe.type==="multicategory"&&pe.setupMultiCategory($),J[pe._id]=1}t.simpleMap(X,j);for(var se=ie._axisMatchGroups||[],ne=0;ne<se.length;ne++)for(var le in se[ne])J[le]||j(ie[f.id2name(le)])}function te(X){var $=X._fullLayout,ie=$._visibleModules,J={},j,se,ne;for(se=0;se<ie.length;se++){var le=ie[se],pe=le.crossTraceCalc;if(pe){var Ae=le.basePlotModule.name;J[Ae]?t.pushUnique(J[Ae],pe):J[Ae]=[pe]}}for(ne in J){var be=J[ne],Re=$._subplots[ne];if(Array.isArray(Re))for(j=0;j<Re.length;j++){var xe=Re[j],Me=ne==="cartesian"?$._plots[xe]:$[xe];for(se=0;se<be.length;se++)be[se](X,Me,xe)}else for(se=0;se<be.length;se++)be[se](X)}}d.rehover=function(X){X._fullLayout._rehover&&X._fullLayout._rehover()},d.redrag=function(X){X._fullLayout._redrag&&X._fullLayout._redrag()},d.reselect=function(X){var $=X._fullLayout,ie=(X.layout||{}).selections,J=$._previousSelections;$._previousSelections=ie;var j=$._reselect||JSON.stringify(ie)!==JSON.stringify(J);v.getComponentMethod("selections","reselect")(X,j)},d.generalUpdatePerTraceModule=function(X,$,ie,J){var j=$.traceHash,se={},ne;for(ne=0;ne<ie.length;ne++){var le=ie[ne],pe=le[0].trace;pe.visible&&(se[pe.type]=se[pe.type]||[],se[pe.type].push(le))}for(var Ae in j)if(!se[Ae]){var be=j[Ae][0],Re=be[0].trace;Re.visible=!1,se[Ae]=[be]}for(var xe in se){var Me=se[xe],ye=Me[0][0].trace._module;ye.plot(X,$,t.filterVisible(Me),J)}$.traceHash=se},d.plotBasePlot=function(X,$,ie,J,j){var se=v.getModule(X),ne=M($.calcdata,se)[0];se.plot($,ne,J,j)},d.cleanBasePlot=function(X,$,ie,J,j){var se=j._has&&j._has(X),ne=ie._has&&ie._has(X);se&&!ne&&j["_"+X+"layer"].selectAll("g.trace").remove()}},39360:function(G){G.exports={attr:"subplot",name:"polar",axisNames:["angularaxis","radialaxis"],axisName2dataArray:{angularaxis:"theta",radialaxis:"r"},layerNames:["draglayer","plotbg","backplot","angular-grid","radial-grid","frontplot","angular-line","radial-line","angular-axis","radial-axis"],radialDragBoxSize:50,angularDragBoxSize:30,cornerLen:25,cornerHalfWidth:2,MINDRAG:8,MINZOOM:20,OFFEDGE:20}},57384:function(G,U,e){var g=e(3400),L=e(92065).tester,a=g.findIndexOfMin,C=g.isAngleInsideSector,A=g.angleDelta,v=g.angleDist;function p(i,d,b,w,E){if(!C(d,w))return!1;var y,S;b[0]<b[1]?(y=b[0],S=b[1]):(y=b[1],S=b[0]);var T=L(f(y,w[0],w[1],E)),o=L(f(S,w[0],w[1],E)),P=[i*Math.cos(d),i*Math.sin(d)];return o.contains(P)&&!T.contains(P)}function r(i,d,b,w){var E,y,S=w[0],T=w[1],o=m(Math.sin(d)-Math.sin(i)),P=m(Math.cos(d)-Math.cos(i)),x=Math.tan(b),_=m(1/x),I=o/P,N=T-I*S;return _?o&&P?(E=N/(x-I),y=x*E):P?(E=T*_,y=T):(E=S,y=S*x):o&&P?(E=0,y=N):P?(E=0,y=T):E=y=NaN,[E,y]}function t(i,d,b,w){var E=-d*b,y=d*d+1,S=2*(d*E-b),T=E*E+b*b-i*i,o=Math.sqrt(S*S-4*y*T),P=(-S+o)/(2*y),x=(-S-o)/(2*y);return[[P,d*P+E+w],[x,d*x+E+w]]}function s(i,d){var b=d.length,w=new Array(b+1),E;for(E=0;E<b;E++){var y=d[E];w[E]=[i*Math.cos(y),i*Math.sin(y)]}return w[E]=w[0].slice(),w}function n(i,d,b,w){var E=w.length,y=[],S,T;function o(z){return[i*Math.cos(z),i*Math.sin(z)]}function P(z,B,W){return r(z,B,W,o(z))}function x(z){return g.mod(z,E)}function _(z){return C(z,[d,b])}var I=a(w,function(z){return _(z)?v(z,d):1/0}),N=P(w[I],w[x(I-1)],d);for(y.push(N),S=I,T=0;T<E;S++,T++){var k=w[x(S)];if(!_(k))break;y.push(o(k))}var F=a(w,function(z){return _(z)?v(z,b):1/0}),O=P(w[F],w[x(F+1)],b);return y.push(O),y.push([0,0]),y.push(y[0].slice()),y}function f(i,d,b,w){return g.isFullCircle([d,b])?s(i,w):n(i,d,b,w)}function u(i,d,b,w){for(var E=1/0,y=1/0,S=f(i,d,b,w),T=0;T<S.length;T++){var o=S[T];E=Math.min(E,o[0]),y=Math.min(y,-o[1])}return[E,y]}function l(i,d){var b=function(y){var S=A(y,i);return S>0?S:1/0},w=a(d,b),E=g.mod(w+1,d.length);return[d[w],d[E]]}function m(i){return Math.abs(i)>1e-10?i:0}function h(i,d,b){d=d||0,b=b||0;for(var w=i.length,E=new Array(w),y=0;y<w;y++){var S=i[y];E[y]=[d+S[0],b-S[1]]}return E}function M(i,d,b,w,E,y){var S=f(i,d,b,w);return"M"+h(S,E,y).join("L")}function c(i,d,b,w,E,y,S){var T,o;i<d?(T=i,o=d):(T=d,o=i);var P=h(f(T,b,w,E),y,S),x=h(f(o,b,w,E),y,S);return"M"+x.reverse().join("L")+"M"+P.join("L")}G.exports={isPtInsidePolygon:p,findPolygonOffset:u,findEnclosingVertexAngles:l,findIntersectionXY:r,findXYatLength:t,clampTiny:m,pathPolygon:M,pathPolygonAnnulus:c}},40872:function(G,U,e){var g=e(84888).KY,L=e(3400).counterRegex,a=e(62400),C=e(39360),A=C.attr,v=C.name,p=L(v),r={};r[A]={valType:"subplotid",dflt:v,editType:"calc"};function t(n){for(var f=n._fullLayout,u=n.calcdata,l=f._subplots[v],m=0;m<l.length;m++){var h=l[m],M=g(u,v,h),c=f[h]._subplot;c||(c=a(n,h),f[h]._subplot=c),c.plot(M,f,n._promises)}}function s(n,f,u,l){for(var m=l._subplots[v]||[],h=l._has&&l._has("gl"),M=f._has&&f._has("gl"),c=h&&!M,i=0;i<m.length;i++){var d=m[i],b=l[d]._subplot;if(!f[d]&&!!b){b.framework.remove(),b.layers["radial-axis-title"].remove();for(var w in b.clipPaths)b.clipPaths[w].remove()}c&&b._scene&&(b._scene.destroy(),b._scene=null)}}G.exports={attr:A,name:v,idRoot:v,idRegex:p,attrRegex:p,attributes:r,layoutAttributes:e(95300),supplyLayoutDefaults:e(84380),plot:t,clean:s,toSVG:e(57952).toSVG}},95300:function(G,U,e){var g=e(22548),L=e(94724),a=e(86968).u,C=e(3400).extendFlat,A=e(67824).overrideAll,v=A({color:L.color,showline:C({},L.showline,{dflt:!0}),linecolor:L.linecolor,linewidth:L.linewidth,showgrid:C({},L.showgrid,{dflt:!0}),gridcolor:L.gridcolor,gridwidth:L.gridwidth,griddash:L.griddash},"plot","from-root"),p=A({tickmode:L.minor.tickmode,nticks:L.nticks,tick0:L.tick0,dtick:L.dtick,tickvals:L.tickvals,ticktext:L.ticktext,ticks:L.ticks,ticklen:L.ticklen,tickwidth:L.tickwidth,tickcolor:L.tickcolor,ticklabelstep:L.ticklabelstep,showticklabels:L.showticklabels,labelalias:L.labelalias,showtickprefix:L.showtickprefix,tickprefix:L.tickprefix,showticksuffix:L.showticksuffix,ticksuffix:L.ticksuffix,showexponent:L.showexponent,exponentformat:L.exponentformat,minexponent:L.minexponent,separatethousands:L.separatethousands,tickfont:L.tickfont,tickangle:L.tickangle,tickformat:L.tickformat,tickformatstops:L.tickformatstops,layer:L.layer},"plot","from-root"),r={visible:C({},L.visible,{dflt:!0}),type:C({},L.type,{values:["-","linear","log","date","category"]}),autotypenumbers:L.autotypenumbers,autorangeoptions:{minallowed:L.autorangeoptions.minallowed,maxallowed:L.autorangeoptions.maxallowed,clipmin:L.autorangeoptions.clipmin,clipmax:L.autorangeoptions.clipmax,include:L.autorangeoptions.include,editType:"plot"},autorange:C({},L.autorange,{editType:"plot"}),rangemode:{valType:"enumerated",values:["tozero","nonnegative","normal"],dflt:"tozero",editType:"calc"},minallowed:C({},L.minallowed,{editType:"plot"}),maxallowed:C({},L.maxallowed,{editType:"plot"}),range:C({},L.range,{items:[{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}}],editType:"plot"}),categoryorder:L.categoryorder,categoryarray:L.categoryarray,angle:{valType:"angle",editType:"plot"},autotickangles:L.autotickangles,side:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"clockwise",editType:"plot"},title:{text:C({},L.title.text,{editType:"plot",dflt:""}),font:C({},L.title.font,{editType:"plot"}),editType:"plot"},hoverformat:L.hoverformat,uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{title:L._deprecated.title,titlefont:L._deprecated.titlefont}};C(r,v,p);var t={visible:C({},L.visible,{dflt:!0}),type:{valType:"enumerated",values:["-","linear","category"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:L.autotypenumbers,categoryorder:L.categoryorder,categoryarray:L.categoryarray,thetaunit:{valType:"enumerated",values:["radians","degrees"],dflt:"degrees",editType:"calc"},period:{valType:"number",editType:"calc",min:0},direction:{valType:"enumerated",values:["counterclockwise","clockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"angle",editType:"calc"},hoverformat:L.hoverformat,uirevision:{valType:"any",editType:"none"},editType:"calc"};C(t,v,p),G.exports={domain:a({name:"polar",editType:"plot"}),sector:{valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],dflt:[0,360],editType:"plot"},hole:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},bgcolor:{valType:"color",editType:"plot",dflt:g.background},radialaxis:r,angularaxis:t,gridshape:{valType:"enumerated",values:["circular","linear"],dflt:"circular",editType:"plot"},uirevision:{valType:"any",editType:"none"},editType:"calc"}},84380:function(G,U,e){var g=e(3400),L=e(76308),a=e(31780),C=e(168),A=e(84888).op,v=e(26332),p=e(25404),r=e(95936),t=e(42568),s=e(22416),n=e(42136),f=e(76808),u=e(52976),l=e(95300),m=e(57696),h=e(39360),M=h.axisNames;function c(d,b,w,E){var y=w("bgcolor");E.bgColor=L.combine(y,E.paper_bgcolor);var S=w("sector");w("hole");var T=A(E.fullData,h.name,E.id),o=E.layoutOut,P;function x($,ie){return w(P+"."+$,ie)}for(var _=0;_<M.length;_++){P=M[_],g.isPlainObject(d[P])||(d[P]={});var I=d[P],N=a.newContainer(b,P);N._id=N._name=P,N._attr=E.id+"."+P,N._traceIndices=T.map(function($){return $._expandedIndex});var k=h.axisName2dataArray[P],F=i(I,N,x,T,k,E);s(I,N,x,{axData:T,dataAttr:k});var O=x("visible");switch(m(N,b,o),x("uirevision",b.uirevision),N._m=1,P){case"radialaxis":x("minallowed"),x("maxallowed");var z=x("range"),B=N.getAutorangeDflt(z),W=x("autorange",B),q;z&&(z[0]===null&&z[1]===null||(z[0]===null||z[1]===null)&&(W==="reversed"||W===!0)||z[0]!==null&&(W==="min"||W==="max reversed")||z[1]!==null&&(W==="max"||W==="min reversed"))&&(z=void 0,delete N.range,N.autorange=!0,q=!0),q||(B=N.getAutorangeDflt(z),W=x("autorange",B)),I.autorange=W,W&&(f(x,W,z),(F==="linear"||F==="-")&&x("rangemode"),N.isReversed()&&(N._m=-1)),N.cleanRange("range",{dfltRange:[0,1]});break;case"angularaxis":if(F==="date"){g.log("Polar plots do not support date angular axes yet.");for(var ee=0;ee<T.length;ee++)T[ee].visible=!1;F=I.type=N.type="linear"}x(F==="linear"?"thetaunit":"period");var Q=x("direction");x("rotation",{counterclockwise:0,clockwise:90}[Q]);break}if(t(I,N,x,N.type,{tickSuffixDflt:N.thetaunit==="degrees"?"\xB0":void 0}),O){var oe,Z,Y,te,X=E.font||{};oe=x("color"),Z=oe===I.color?oe:X.color,Y=X.size,te=X.family,v(I,N,x,N.type),r(I,N,x,N.type,{font:{color:Z,size:Y,family:te},noAutotickangles:P==="angularaxis"}),p(I,N,x,{outerTicks:!0}),n(I,N,x,{dfltColor:oe,bgColor:E.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:l[P]}),x("layer"),P==="radialaxis"&&(x("side"),x("angle",S[0]),x("title.text"),g.coerceFont(x,"title.font",{color:Z,size:g.bigFont(Y),family:te}))}F!=="category"&&x("hoverformat"),N._input=I}b.angularaxis.type==="category"&&w("gridshape")}function i(d,b,w,E,y,S){var T=w("autotypenumbers",S.autotypenumbersDflt),o=w("type");if(o==="-"){for(var P,x=0;x<E.length;x++)if(E[x].visible){P=E[x];break}P&&P[y]&&(b.type=u(P[y],"gregorian",{noMultiCategory:!0,autotypenumbers:T})),b.type==="-"?b.type="linear":d.type=b.type}return b.type}G.exports=function(b,w,E){C(b,w,E,{type:h.name,attributes:l,handleDefaults:c,font:w.font,autotypenumbersDflt:w.autotypenumbers,paper_bgcolor:w.paper_bgcolor,fullData:E,layoutOut:w})}},62400:function(G,U,e){var g=e(33428),L=e(49760),a=e(24040),C=e(3400),A=C.strRotate,v=C.strTranslate,p=e(76308),r=e(43616),t=e(7316),s=e(54460),n=e(78344),f=e(57696),u=e(19280).doAutoRange,l=e(51184),m=e(86476),h=e(93024),M=e(81668),c=e(22676).prepSelect,i=e(22676).selectOnClick,d=e(22676).clearOutline,b=e(93972),w=e(73696),E=e(39172).redrawReglTraces,y=e(84284).MID_SHIFT,S=e(39360),T=e(57384),o=e(36416),P=o.smith,x=o.reactanceArc,_=o.resistanceArc,I=o.smithTransform,N=C._,k=C.mod,F=C.deg2rad,O=C.rad2deg;function z(oe,Z,Y){this.isSmith=Y||!1,this.id=Z,this.gd=oe,this._hasClipOnAxisFalse=null,this.vangles=null,this.radialAxisAngle=null,this.traceHash={},this.layers={},this.clipPaths={},this.clipIds={},this.viewInitial={};var te=oe._fullLayout,X="clip"+te._uid+Z;this.clipIds.forTraces=X+"-for-traces",this.clipPaths.forTraces=te._clips.append("clipPath").attr("id",this.clipIds.forTraces),this.clipPaths.forTraces.append("path"),this.framework=te["_"+(Y?"smith":"polar")+"layer"].append("g").attr("class",Z),this.getHole=function($){return this.isSmith?0:$.hole},this.getSector=function($){return this.isSmith?[0,360]:$.sector},this.getRadial=function($){return this.isSmith?$.realaxis:$.radialaxis},this.getAngular=function($){return this.isSmith?$.imaginaryaxis:$.angularaxis},Y||(this.radialTickLayout=null,this.angularTickLayout=null)}var B=z.prototype;G.exports=function(Z,Y,te){return new z(Z,Y,te)},B.plot=function(oe,Z){for(var Y=this,te=Z[Y.id],X=!1,$=0;$<oe.length;$++){var ie=oe[$][0].trace;if(ie.cliponaxis===!1){X=!0;break}}Y._hasClipOnAxisFalse=X,Y.updateLayers(Z,te),Y.updateLayout(Z,te),t.generalUpdatePerTraceModule(Y.gd,Y,oe,te),Y.updateFx(Z,te),Y.isSmith&&(delete te.realaxis.range,delete te.imaginaryaxis.range)},B.updateLayers=function(oe,Z){var Y=this,te=Y.isSmith,X=Y.layers,$=Y.getRadial(Z),ie=Y.getAngular(Z),J=S.layerNames,j=J.indexOf("frontplot"),se=J.slice(0,j),ne=ie.layer==="below traces",le=$.layer==="below traces";ne&&se.push("angular-line"),le&&se.push("radial-line"),ne&&se.push("angular-axis"),le&&se.push("radial-axis"),se.push("frontplot"),ne||se.push("angular-line"),le||se.push("radial-line"),ne||se.push("angular-axis"),le||se.push("radial-axis");var pe=(te?"smith":"polar")+"sublayer",Ae=Y.framework.selectAll("."+pe).data(se,String);Ae.enter().append("g").attr("class",function(be){return pe+" "+be}).each(function(be){var Re=X[be]=g.select(this);switch(be){case"frontplot":te||Re.append("g").classed("barlayer",!0),Re.append("g").classed("scatterlayer",!0);break;case"backplot":Re.append("g").classed("maplayer",!0);break;case"plotbg":X.bg=Re.append("path");break;case"radial-grid":Re.style("fill","none");break;case"angular-grid":Re.style("fill","none");break;case"radial-line":Re.append("line").style("fill","none");break;case"angular-line":Re.append("path").style("fill","none");break}}),Ae.order()},B.updateLayout=function(oe,Z){var Y=this,te=Y.layers,X=oe._size,$=Y.getRadial(Z),ie=Y.getAngular(Z),J=Z.domain.x,j=Z.domain.y;Y.xOffset=X.l+X.w*J[0],Y.yOffset=X.t+X.h*(1-j[1]);var se=Y.xLength=X.w*(J[1]-J[0]),ne=Y.yLength=X.h*(j[1]-j[0]),le=Y.getSector(Z);Y.sectorInRad=le.map(F);var pe=Y.sectorBBox=q(le),Ae=pe[2]-pe[0],be=pe[3]-pe[1],Re=ne/se,xe=Math.abs(be/Ae),Me,ye,Se,Fe,Be;Re>xe?(Me=se,ye=se*xe,Be=(ne-ye)/X.h/2,Se=[J[0],J[1]],Fe=[j[0]+Be,j[1]-Be]):(Me=ne/xe,ye=ne,Be=(se-Me)/X.w/2,Se=[J[0]+Be,J[1]-Be],Fe=[j[0],j[1]]),Y.xLength2=Me,Y.yLength2=ye,Y.xDomain2=Se,Y.yDomain2=Fe;var _e=Y.xOffset2=X.l+X.w*Se[0],Ue=Y.yOffset2=X.t+X.h*(1-Fe[1]),it=Y.radius=Me/Ae,lt=Y.innerRadius=Y.getHole(Z)*it,$e=Y.cx=_e-it*pe[0],qe=Y.cy=Ue+it*pe[3],ft=Y.cxx=$e-_e,ct=Y.cyy=qe-Ue,pt=$.side,yt;pt==="counterclockwise"?(yt=pt,pt="top"):pt==="clockwise"&&(yt=pt,pt="bottom"),Y.radialAxis=Y.mockAxis(oe,Z,$,{_id:"x",side:pt,_trueSide:yt,domain:[lt/X.w,it/X.w]}),Y.angularAxis=Y.mockAxis(oe,Z,ie,{side:"right",domain:[0,Math.PI],autorange:!1}),Y.doAutoRange(oe,Z),Y.updateAngularAxis(oe,Z),Y.updateRadialAxis(oe,Z),Y.updateRadialAxisTitle(oe,Z),Y.xaxis=Y.mockCartesianAxis(oe,Z,{_id:"x",domain:Se}),Y.yaxis=Y.mockCartesianAxis(oe,Z,{_id:"y",domain:Fe});var Et=Y.pathSubplot();Y.clipPaths.forTraces.select("path").attr("d",Et).attr("transform",v(ft,ct)),te.frontplot.attr("transform",v(_e,Ue)).call(r.setClipUrl,Y._hasClipOnAxisFalse?null:Y.clipIds.forTraces,Y.gd),te.bg.attr("d",Et).attr("transform",v($e,qe)).call(p.fill,Z.bgcolor)},B.mockAxis=function(oe,Z,Y,te){var X=C.extendFlat({},Y,te);return f(X,Z,oe),X},B.mockCartesianAxis=function(oe,Z,Y){var te=this,X=te.isSmith,$=Y._id,ie=C.extendFlat({type:"linear"},Y);n(ie,oe);var J={x:[0,2],y:[1,3]};return ie.setRange=function(){var j=te.sectorBBox,se=J[$],ne=te.radialAxis._rl,le=(ne[1]-ne[0])/(1-te.getHole(Z));ie.range=[j[se[0]]*le,j[se[1]]*le]},ie.isPtWithinRange=$==="x"&&!X?function(j){return te.isPtInside(j)}:function(){return!0},ie.setRange(),ie.setScale(),ie},B.doAutoRange=function(oe,Z){var Y=this,te=Y.gd,X=Y.radialAxis,$=Y.getRadial(Z);u(te,X);var ie=X.range;if($.range=ie.slice(),$._input.range=ie.slice(),X._rl=[X.r2l(ie[0],null,"gregorian"),X.r2l(ie[1],null,"gregorian")],X.minallowed!==void 0){var J=X.r2l(X.minallowed);X._rl[0]>X._rl[1]?X._rl[1]=Math.max(X._rl[1],J):X._rl[0]=Math.max(X._rl[0],J)}if(X.maxallowed!==void 0){var j=X.r2l(X.maxallowed);X._rl[0]<X._rl[1]?X._rl[1]=Math.min(X._rl[1],j):X._rl[0]=Math.min(X._rl[0],j)}},B.updateRadialAxis=function(oe,Z){var Y=this,te=Y.gd,X=Y.layers,$=Y.radius,ie=Y.innerRadius,J=Y.cx,j=Y.cy,se=Y.getRadial(Z),ne=k(Y.getSector(Z)[0],360),le=Y.radialAxis,pe=ie<$,Ae=Y.isSmith;Ae||(Y.fillViewInitialKey("radialaxis.angle",se.angle),Y.fillViewInitialKey("radialaxis.range",le.range.slice()),le.setGeometry()),le.tickangle==="auto"&&ne>90&&ne<=270&&(le.tickangle=180);var be=Ae?function(it){var lt=I(Y,P([it.x,0]));return v(lt[0]-J,lt[1]-j)}:function(it){return v(le.l2p(it.x)+ie,0)},Re=Ae?function(it){return _(Y,it.x,-1/0,1/0)}:function(it){return Y.pathArc(le.r2p(it.x)+ie)},xe=W(se);if(Y.radialTickLayout!==xe&&(X["radial-axis"].selectAll(".xtick").remove(),Y.radialTickLayout=xe),pe){le.setScale();var Me=0,ye=Ae?(le.tickvals||[]).filter(function(it){return it>=0}).map(function(it){return s.tickText(le,it,!0,!1)}):s.calcTicks(le),Se=Ae?ye:s.clipEnds(le,ye),Fe=s.getTickSigns(le)[2];Ae&&((le.ticks==="top"&&le.side==="bottom"||le.ticks==="bottom"&&le.side==="top")&&(Fe=-Fe),le.ticks==="top"&&le.side==="top"&&(Me=-le.ticklen),le.ticks==="bottom"&&le.side==="bottom"&&(Me=le.ticklen)),s.drawTicks(te,le,{vals:ye,layer:X["radial-axis"],path:s.makeTickPath(le,0,Fe),transFn:be,crisp:!1}),s.drawGrid(te,le,{vals:Se,layer:X["radial-grid"],path:Re,transFn:C.noop,crisp:!1}),s.drawLabels(te,le,{vals:ye,layer:X["radial-axis"],transFn:be,labelFns:s.makeLabelFns(le,Me)})}var Be=Y.radialAxisAngle=Y.vangles?O(ee(F(se.angle),Y.vangles)):se.angle,_e=v(J,j),Ue=_e+A(-Be);Q(X["radial-axis"],pe&&(se.showticklabels||se.ticks),{transform:Ue}),Q(X["radial-grid"],pe&&se.showgrid,{transform:Ae?"":_e}),Q(X["radial-line"].select("line"),pe&&se.showline,{x1:Ae?-$:ie,y1:0,x2:$,y2:0,transform:Ue}).attr("stroke-width",se.linewidth).call(p.stroke,se.linecolor)},B.updateRadialAxisTitle=function(oe,Z,Y){if(!this.isSmith){var te=this,X=te.gd,$=te.radius,ie=te.cx,J=te.cy,j=te.getRadial(Z),se=te.id+"title",ne=0;if(j.title){var le=r.bBox(te.layers["radial-axis"].node()).height,pe=j.title.font.size,Ae=j.side;ne=Ae==="top"?pe:Ae==="counterclockwise"?-(le+pe*.4):le+pe*.8}var be=Y!==void 0?Y:te.radialAxisAngle,Re=F(be),xe=Math.cos(Re),Me=Math.sin(Re),ye=ie+$/2*xe+ne*Me,Se=J-$/2*Me+ne*xe;te.layers["radial-axis-title"]=M.draw(X,se,{propContainer:j,propName:te.id+".radialaxis.title",placeholder:N(X,"Click to enter radial axis title"),attributes:{x:ye,y:Se,"text-anchor":"middle"},transform:{rotate:-be}})}},B.updateAngularAxis=function(oe,Z){var Y=this,te=Y.gd,X=Y.layers,$=Y.radius,ie=Y.innerRadius,J=Y.cx,j=Y.cy,se=Y.getAngular(Z),ne=Y.angularAxis,le=Y.isSmith;le||(Y.fillViewInitialKey("angularaxis.rotation",se.rotation),ne.setGeometry(),ne.setScale());var pe=le?function(lt){var $e=I(Y,P([0,lt.x]));return Math.atan2($e[0]-J,$e[1]-j)-Math.PI/2}:function(lt){return ne.t2g(lt.x)};ne.type==="linear"&&ne.thetaunit==="radians"&&(ne.tick0=O(ne.tick0),ne.dtick=O(ne.dtick));var Ae=function(lt){return v(J+$*Math.cos(lt),j-$*Math.sin(lt))},be=le?function(lt){var $e=I(Y,P([0,lt.x]));return v($e[0],$e[1])}:function(lt){return Ae(pe(lt))},Re=le?function(lt){var $e=I(Y,P([0,lt.x])),qe=Math.atan2($e[0]-J,$e[1]-j)-Math.PI/2;return v($e[0],$e[1])+A(-O(qe))}:function(lt){var $e=pe(lt);return Ae($e)+A(-O($e))},xe=le?function(lt){return x(Y,lt.x,0,1/0)}:function(lt){var $e=pe(lt),qe=Math.cos($e),ft=Math.sin($e);return"M"+[J+ie*qe,j-ie*ft]+"L"+[J+$*qe,j-$*ft]},Me=s.makeLabelFns(ne,0),ye=Me.labelStandoff,Se={};Se.xFn=function(lt){var $e=pe(lt);return Math.cos($e)*ye},Se.yFn=function(lt){var $e=pe(lt),qe=Math.sin($e)>0?.2:1;return-Math.sin($e)*(ye+lt.fontSize*qe)+Math.abs(Math.cos($e))*(lt.fontSize*y)},Se.anchorFn=function(lt){var $e=pe(lt),qe=Math.cos($e);return Math.abs(qe)<.1?"middle":qe>0?"start":"end"},Se.heightFn=function(lt,$e,qe){var ft=pe(lt);return-.5*(1+Math.sin(ft))*qe};var Fe=W(se);Y.angularTickLayout!==Fe&&(X["angular-axis"].selectAll("."+ne._id+"tick").remove(),Y.angularTickLayout=Fe);var Be=le?[1/0].concat(ne.tickvals||[]).map(function(lt){return s.tickText(ne,lt,!0,!1)}):s.calcTicks(ne);le&&(Be[0].text="\u221E",Be[0].fontSize*=1.75);var _e;if(Z.gridshape==="linear"?(_e=Be.map(pe),C.angleDelta(_e[0],_e[1])<0&&(_e=_e.slice().reverse())):_e=null,Y.vangles=_e,ne.type==="category"&&(Be=Be.filter(function(lt){return C.isAngleInsideSector(pe(lt),Y.sectorInRad)})),ne.visible){var Ue=ne.ticks==="inside"?-1:1,it=(ne.linewidth||1)/2;s.drawTicks(te,ne,{vals:Be,layer:X["angular-axis"],path:"M"+Ue*it+",0h"+Ue*ne.ticklen,transFn:Re,crisp:!1}),s.drawGrid(te,ne,{vals:Be,layer:X["angular-grid"],path:xe,transFn:C.noop,crisp:!1}),s.drawLabels(te,ne,{vals:Be,layer:X["angular-axis"],repositionOnUpdate:!0,transFn:be,labelFns:Se})}Q(X["angular-line"].select("path"),se.showline,{d:Y.pathSubplot(),transform:v(J,j)}).attr("stroke-width",se.linewidth).call(p.stroke,se.linecolor)},B.updateFx=function(oe,Z){if(!this.gd._context.staticPlot){var Y=!this.isSmith;Y&&(this.updateAngularDrag(oe),this.updateRadialDrag(oe,Z,0),this.updateRadialDrag(oe,Z,1)),this.updateHoverAndMainDrag(oe)}},B.updateHoverAndMainDrag=function(oe){var Z=this,Y=Z.isSmith,te=Z.gd,X=Z.layers,$=oe._zoomlayer,ie=S.MINZOOM,J=S.OFFEDGE,j=Z.radius,se=Z.innerRadius,ne=Z.cx,le=Z.cy,pe=Z.cxx,Ae=Z.cyy,be=Z.sectorInRad,Re=Z.vangles,xe=Z.radialAxis,Me=T.clampTiny,ye=T.findXYatLength,Se=T.findEnclosingVertexAngles,Fe=S.cornerHalfWidth,Be=S.cornerLen/2,_e,Ue,it=l.makeDragger(X,"path","maindrag",oe.dragmode===!1?"none":"crosshair");g.select(it).attr("d",Z.pathSubplot()).attr("transform",v(ne,le)),it.onmousemove=function(Tt){h.hover(te,Tt,Z.id),te._fullLayout._lasthover=it,te._fullLayout._hoversubplot=Z.id},it.onmouseout=function(Tt){te._dragging||m.unhover(te,Tt)};var lt={element:it,gd:te,subplot:Z.id,plotinfo:{id:Z.id,xaxis:Z.xaxis,yaxis:Z.yaxis},xaxes:[Z.xaxis],yaxes:[Z.yaxis]},$e,qe,ft,ct,pt,yt,Et,tt,Ie;function We(Tt,kt){return Math.sqrt(Tt*Tt+kt*kt)}function Ze(Tt,kt){return We(Tt-pe,kt-Ae)}function He(Tt,kt){return Math.atan2(Ae-kt,Tt-pe)}function De(Tt,kt){return[Tt*Math.cos(kt),Tt*Math.sin(-kt)]}function me(Tt,kt){if(Tt===0)return Z.pathSector(2*Fe);var Qt=Be/Tt,wr=kt-Qt,xt=kt+Qt,At=Math.max(0,Math.min(Tt,j)),Wt=At-Fe,er=At+Fe;return"M"+De(Wt,wr)+"A"+[Wt,Wt]+" 0,0,0 "+De(Wt,xt)+"L"+De(er,xt)+"A"+[er,er]+" 0,0,1 "+De(er,wr)+"Z"}function ge(Tt,kt,Qt){if(Tt===0)return Z.pathSector(2*Fe);var wr=De(Tt,kt),xt=De(Tt,Qt),At=Me((wr[0]+xt[0])/2),Wt=Me((wr[1]+xt[1])/2),er,$t;if(At&&Wt){var ht=Wt/At,at=-1/ht,bt=ye(Fe,ht,At,Wt);er=ye(Be,at,bt[0][0],bt[0][1]),$t=ye(Be,at,bt[1][0],bt[1][1])}else{var Ct,Dt;Wt?(Ct=Be,Dt=Fe):(Ct=Fe,Dt=Be),er=[[At-Ct,Wt-Dt],[At+Ct,Wt-Dt]],$t=[[At-Ct,Wt+Dt],[At+Ct,Wt+Dt]]}return"M"+er.join("L")+"L"+$t.reverse().join("L")+"Z"}function Ee(){ft=null,ct=null,pt=Z.pathSubplot(),yt=!1;var Tt=te._fullLayout[Z.id];Et=L(Tt.bgcolor).getLuminance(),tt=l.makeZoombox($,Et,ne,le,pt),tt.attr("fill-rule","evenodd"),Ie=l.makeCorners($,ne,le),d(te)}function Te(Tt,kt){return kt=Math.max(Math.min(kt,j),se),Tt<J?Tt=0:j-Tt<J?Tt=j:kt<J?kt=0:j-kt<J&&(kt=j),Math.abs(kt-Tt)>ie?(Tt<kt?(ft=Tt,ct=kt):(ft=kt,ct=Tt),!0):(ft=null,ct=null,!1)}function ze(Tt,kt){Tt=Tt||pt,kt=kt||"M0,0Z",tt.attr("d",Tt),Ie.attr("d",kt),l.transitionZoombox(tt,Ie,yt,Et),yt=!0;var Qt={};Zt(Qt),te.emit("plotly_relayouting",Qt)}function Xe(Tt,kt){Tt=Tt*_e,kt=kt*Ue;var Qt=$e+Tt,wr=qe+kt,xt=Ze($e,qe),At=Math.min(Ze(Qt,wr),j),Wt=He($e,qe),er,$t;Te(xt,At)&&(er=pt+Z.pathSector(ct),ft&&(er+=Z.pathSector(ft)),$t=me(ft,Wt)+me(ct,Wt)),ze(er,$t)}function et(Tt,kt,Qt,wr){var xt=T.findIntersectionXY(Qt,wr,Qt,[Tt-pe,Ae-kt]);return We(xt[0],xt[1])}function ut(Tt,kt){var Qt=$e+Tt,wr=qe+kt,xt=He($e,qe),At=He(Qt,wr),Wt=Se(xt,Re),er=Se(At,Re),$t=et($e,qe,Wt[0],Wt[1]),ht=Math.min(et(Qt,wr,er[0],er[1]),j),at,bt;Te($t,ht)&&(at=pt+Z.pathSector(ct),ft&&(at+=Z.pathSector(ft)),bt=[ge(ft,Wt[0],Wt[1]),ge(ct,Wt[0],Wt[1])].join(" ")),ze(at,bt)}function dt(){if(l.removeZoombox(te),!(ft===null||ct===null)){var Tt={};Zt(Tt),l.showDoubleClickNotifier(te),a.call("_guiRelayout",te,Tt)}}function Zt(Tt){var kt=xe._rl,Qt=(kt[1]-kt[0])/(1-se/j)/j,wr=[kt[0]+(ft-se)*Qt,kt[0]+(ct-se)*Qt];Tt[Z.id+".radialaxis.range"]=wr}function jt(Tt,kt){var Qt=te._fullLayout.clickmode;if(l.removeZoombox(te),Tt===2){var wr={};for(var xt in Z.viewInitial)wr[Z.id+"."+xt]=Z.viewInitial[xt];te.emit("plotly_doubleclick",null),a.call("_guiRelayout",te,wr)}Qt.indexOf("select")>-1&&Tt===1&&i(kt,te,[Z.xaxis],[Z.yaxis],Z.id,lt),Qt.indexOf("event")>-1&&h.click(te,kt,Z.id)}lt.prepFn=function(Tt,kt,Qt){var wr=te._fullLayout.dragmode,xt=it.getBoundingClientRect();te._fullLayout._calcInverseTransform(te);var At=te._fullLayout._invTransform;_e=te._fullLayout._invScaleX,Ue=te._fullLayout._invScaleY;var Wt=C.apply3DTransform(At)(kt-xt.left,Qt-xt.top);if($e=Wt[0],qe=Wt[1],Re){var er=T.findPolygonOffset(j,be[0],be[1],Re);$e+=pe+er[0],qe+=Ae+er[1]}switch(wr){case"zoom":lt.clickFn=jt,Y||(Re?lt.moveFn=ut:lt.moveFn=Xe,lt.doneFn=dt,Ee());break;case"select":case"lasso":c(Tt,kt,Qt,lt,wr);break}},m.init(lt)},B.updateRadialDrag=function(oe,Z,Y){var te=this,X=te.gd,$=te.layers,ie=te.radius,J=te.innerRadius,j=te.cx,se=te.cy,ne=te.radialAxis,le=S.radialDragBoxSize,pe=le/2;if(!ne.visible)return;var Ae=F(te.radialAxisAngle),be=ne._rl,Re=be[0],xe=be[1],Me=be[Y],ye=.75*(be[1]-be[0])/(1-te.getHole(Z))/ie,Se,Fe,Be;Y?(Se=j+(ie+pe)*Math.cos(Ae),Fe=se-(ie+pe)*Math.sin(Ae),Be="radialdrag"):(Se=j+(J-pe)*Math.cos(Ae),Fe=se-(J-pe)*Math.sin(Ae),Be="radialdrag-inner");var _e=l.makeRectDragger($,Be,"crosshair",-pe,-pe,le,le),Ue={element:_e,gd:X};oe.dragmode===!1&&(Ue.dragmode=!1),Q(g.select(_e),ne.visible&&J<ie,{transform:v(Se,Fe)});var it,lt,$e;function qe(Et,tt){if(it)it(Et,tt);else{var Ie=[Et,-tt],We=[Math.cos(Ae),Math.sin(Ae)],Ze=Math.abs(C.dot(Ie,We)/Math.sqrt(C.dot(Ie,Ie)));isNaN(Ze)||(it=Ze<.5?pt:yt)}var He={};ft(He),X.emit("plotly_relayouting",He)}function ft(Et){lt!==null?Et[te.id+".radialaxis.angle"]=lt:$e!==null&&(Et[te.id+".radialaxis.range["+Y+"]"]=$e)}function ct(){lt!==null?a.call("_guiRelayout",X,te.id+".radialaxis.angle",lt):$e!==null&&a.call("_guiRelayout",X,te.id+".radialaxis.range["+Y+"]",$e)}function pt(Et,tt){if(Y!==0){var Ie=Se+Et,We=Fe+tt;lt=Math.atan2(se-We,Ie-j),te.vangles&&(lt=ee(lt,te.vangles)),lt=O(lt);var Ze=v(j,se)+A(-lt);$["radial-axis"].attr("transform",Ze),$["radial-line"].select("line").attr("transform",Ze);var He=te.gd._fullLayout,De=He[te.id];te.updateRadialAxisTitle(He,De,lt)}}function yt(Et,tt){var Ie=C.dot([Et,-tt],[Math.cos(Ae),Math.sin(Ae)]);if($e=Me-ye*Ie,ye>0!=(Y?$e>Re:$e<xe)){$e=null;return}var We=X._fullLayout,Ze=We[te.id];ne.range[Y]=$e,ne._rl[Y]=$e,te.updateRadialAxis(We,Ze),te.xaxis.setRange(),te.xaxis.setScale(),te.yaxis.setRange(),te.yaxis.setScale();var He=!1;for(var De in te.traceHash){var me=te.traceHash[De],ge=C.filterVisible(me),Ee=me[0][0].trace._module;Ee.plot(X,te,ge,Ze),a.traceIs(De,"gl")&&ge.length&&(He=!0)}He&&(w(X),E(X))}Ue.prepFn=function(){it=null,lt=null,$e=null,Ue.moveFn=qe,Ue.doneFn=ct,d(X)},Ue.clampFn=function(Et,tt){return Math.sqrt(Et*Et+tt*tt)<S.MINDRAG&&(Et=0,tt=0),[Et,tt]},m.init(Ue)},B.updateAngularDrag=function(oe){var Z=this,Y=Z.gd,te=Z.layers,X=Z.radius,$=Z.angularAxis,ie=Z.cx,J=Z.cy,j=Z.cxx,se=Z.cyy,ne=S.angularDragBoxSize,le=l.makeDragger(te,"path","angulardrag",oe.dragmode===!1?"none":"move"),pe={element:le,gd:Y};oe.dragmode===!1?pe.dragmode=!1:g.select(le).attr("d",Z.pathAnnulus(X,X+ne)).attr("transform",v(ie,J)).call(b,"move");function Ae($e,qe){return Math.atan2(se+ne-qe,$e-j-ne)}var be=te.frontplot.select(".scatterlayer").selectAll(".trace"),Re=be.selectAll(".point"),xe=be.selectAll(".textpoint"),Me,ye,Se,Fe,Be,_e;function Ue($e,qe){var ft=Z.gd._fullLayout,ct=ft[Z.id],pt=Me+$e*oe._invScaleX,yt=ye+qe*oe._invScaleY,Et=Ae(pt,yt),tt=O(Et-_e);if(Fe=Se+tt,te.frontplot.attr("transform",v(Z.xOffset2,Z.yOffset2)+A([-tt,j,se])),Z.vangles){Be=Z.radialAxisAngle+tt;var Ie=v(ie,J)+A(-tt),We=v(ie,J)+A(-Be);te.bg.attr("transform",Ie),te["radial-grid"].attr("transform",Ie),te["radial-axis"].attr("transform",We),te["radial-line"].select("line").attr("transform",We),Z.updateRadialAxisTitle(ft,ct,Be)}else Z.clipPaths.forTraces.select("path").attr("transform",v(j,se)+A(tt));Re.each(function(){var Te=g.select(this),ze=r.getTranslate(Te);Te.attr("transform",v(ze.x,ze.y)+A([tt]))}),xe.each(function(){var Te=g.select(this),ze=Te.select("text"),Xe=r.getTranslate(Te);Te.attr("transform",A([tt,ze.attr("x"),ze.attr("y")])+v(Xe.x,Xe.y))}),$.rotation=C.modHalf(Fe,360),Z.updateAngularAxis(ft,ct),Z._hasClipOnAxisFalse&&!C.isFullCircle(Z.sectorInRad)&&be.call(r.hideOutsideRangePoints,Z);var Ze=!1;for(var He in Z.traceHash)if(a.traceIs(He,"gl")){var De=Z.traceHash[He],me=C.filterVisible(De),ge=De[0][0].trace._module;ge.plot(Y,Z,me,ct),me.length&&(Ze=!0)}Ze&&(w(Y),E(Y));var Ee={};it(Ee),Y.emit("plotly_relayouting",Ee)}function it($e){$e[Z.id+".angularaxis.rotation"]=Fe,Z.vangles&&($e[Z.id+".radialaxis.angle"]=Be)}function lt(){xe.select("text").attr("transform",null);var $e={};it($e),a.call("_guiRelayout",Y,$e)}pe.prepFn=function($e,qe,ft){var ct=oe[Z.id];Se=ct.angularaxis.rotation;var pt=le.getBoundingClientRect();Me=qe-pt.left,ye=ft-pt.top,Y._fullLayout._calcInverseTransform(Y);var yt=C.apply3DTransform(oe._invTransform)(Me,ye);Me=yt[0],ye=yt[1],_e=Ae(Me,ye),pe.moveFn=Ue,pe.doneFn=lt,d(Y)},Z.vangles&&!C.isFullCircle(Z.sectorInRad)&&(pe.prepFn=C.noop,b(g.select(le),null)),m.init(pe)},B.isPtInside=function(oe){if(this.isSmith)return!0;var Z=this.sectorInRad,Y=this.vangles,te=this.angularAxis.c2g(oe.theta),X=this.radialAxis,$=X.c2l(oe.r),ie=X._rl,J=Y?T.isPtInsidePolygon:C.isPtInsideSector;return J($,te,ie,Z,Y)},B.pathArc=function(oe){var Z=this.sectorInRad,Y=this.vangles,te=Y?T.pathPolygon:C.pathArc;return te(oe,Z[0],Z[1],Y)},B.pathSector=function(oe){var Z=this.sectorInRad,Y=this.vangles,te=Y?T.pathPolygon:C.pathSector;return te(oe,Z[0],Z[1],Y)},B.pathAnnulus=function(oe,Z){var Y=this.sectorInRad,te=this.vangles,X=te?T.pathPolygonAnnulus:C.pathAnnulus;return X(oe,Z,Y[0],Y[1],te)},B.pathSubplot=function(){var oe=this.innerRadius,Z=this.radius;return oe?this.pathAnnulus(oe,Z):this.pathSector(Z)},B.fillViewInitialKey=function(oe,Z){oe in this.viewInitial||(this.viewInitial[oe]=Z)};function W(oe){var Z=oe.ticks+String(oe.ticklen)+String(oe.showticklabels);return"side"in oe&&(Z+=oe.side),Z}function q(oe){var Z=oe[0],Y=oe[1],te=Y-Z,X=k(Z,360),$=X+te,ie=Math.cos(F(X)),J=Math.sin(F(X)),j=Math.cos(F($)),se=Math.sin(F($)),ne,le,pe,Ae;return X<=90&&$>=90||X>90&&$>=450?Ae=1:J<=0&&se<=0?Ae=0:Ae=Math.max(J,se),X<=180&&$>=180||X>180&&$>=540?ne=-1:ie>=0&&j>=0?ne=0:ne=Math.min(ie,j),X<=270&&$>=270||X>270&&$>=630?le=-1:J>=0&&se>=0?le=0:le=Math.min(J,se),$>=360?pe=1:ie<=0&&j<=0?pe=0:pe=Math.max(ie,j),[ne,le,pe,Ae]}function ee(oe,Z){var Y=function(X){return C.angleDist(oe,X)},te=C.findIndexOfMin(Z,Y);return Z[te]}function Q(oe,Z,Y){return Z?(oe.attr("display",null),oe.attr(Y)):oe&&oe.attr("display","none"),oe}},57696:function(G,U,e){var g=e(3400),L=e(78344),a=g.deg2rad,C=g.rad2deg;G.exports=function(s,n,f){switch(L(s,f),s._id){case"x":case"radialaxis":A(s,n);break;case"angularaxis":r(s,n);break}};function A(t,s){var n=s._subplot;t.setGeometry=function(){var f=t._rl[0],u=t._rl[1],l=n.innerRadius,m=(n.radius-l)/(u-f),h=l/m,M=f>u?function(c){return c<=0}:function(c){return c>=0};t.c2g=function(c){var i=t.c2l(c)-f;return(M(i)?i:0)+h},t.g2c=function(c){return t.l2c(c+f-h)},t.g2p=function(c){return c*m},t.c2p=function(c){return t.g2p(t.c2g(c))}}}function v(t,s){return s==="degrees"?a(t):t}function p(t,s){return s==="degrees"?C(t):t}function r(t,s){var n=t.type;if(n==="linear"){var f=t.d2c,u=t.c2d;t.d2c=function(l,m){return v(f(l),m)},t.c2d=function(l,m){return u(p(l,m))}}t.makeCalcdata=function(l,m){var h=l[m],M=l._length,c,i,d=function(S){return t.d2c(S,l.thetaunit)};if(h)for(c=new Array(M),i=0;i<M;i++)c[i]=d(h[i]);else{var b=m+"0",w="d"+m,E=b in l?d(l[b]):0,y=l[w]?d(l[w]):(t.period||2*Math.PI)/M;for(c=new Array(M),i=0;i<M;i++)c[i]=E+i*y}return c},t.setGeometry=function(){var l=s.sector,m=l.map(a),h={clockwise:-1,counterclockwise:1}[t.direction],M=a(t.rotation),c=function(T){return h*T+M},i=function(T){return(T-M)/h},d,b,w,E;switch(n){case"linear":b=d=g.identity,E=a,w=C,t.range=g.isFullCircle(m)?[l[0],l[0]+360]:m.map(i).map(C);break;case"category":var y=t._categories.length,S=t.period?Math.max(t.period,y):y;S===0&&(S=1),b=E=function(T){return T*2*Math.PI/S},d=w=function(T){return T*S/Math.PI/2},t.range=[0,S];break}t.c2g=function(T){return c(b(T))},t.g2c=function(T){return d(i(T))},t.t2g=function(T){return c(E(T))},t.g2t=function(T){return w(i(T))}}}},55012:function(G){G.exports={attr:"subplot",name:"smith",axisNames:["realaxis","imaginaryaxis"],axisName2dataArray:{imaginaryaxis:"imag",realaxis:"real"}}},36416:function(G){function U(A){return A<0?-1:A>0?1:0}function e(A){var v=A[0],p=A[1];if(!isFinite(v)||!isFinite(p))return[1,0];var r=(v+1)*(v+1)+p*p;return[(v*v+p*p-1)/r,2*p/r]}function g(A,v){var p=v[0],r=v[1];return[p*A.radius+A.cx,-r*A.radius+A.cy]}function L(A,v){return v*A.radius}function a(A,v,p,r){var t=g(A,e([p,v])),s=t[0],n=t[1],f=g(A,e([r,v])),u=f[0],l=f[1];if(v===0)return["M"+s+","+n,"L"+u+","+l].join(" ");var m=L(A,1/Math.abs(v));return["M"+s+","+n,"A"+m+","+m+" 0 0,"+(v<0?1:0)+" "+u+","+l].join(" ")}function C(A,v,p,r){var t=L(A,1/(v+1)),s=g(A,e([v,p])),n=s[0],f=s[1],u=g(A,e([v,r])),l=u[0],m=u[1];if(U(p)!==U(r)){var h=g(A,e([v,0])),M=h[0],c=h[1];return["M"+n+","+f,"A"+t+","+t+" 0 0,"+(0<p?0:1)+" "+M+","+c,"A"+t+","+t+" 0 0,"+(r<0?0:1)+l+","+m].join(" ")}return["M"+n+","+f,"A"+t+","+t+" 0 0,"+(r<p?0:1)+" "+l+","+m].join(" ")}G.exports={smith:e,reactanceArc:a,resistanceArc:C,smithTransform:g}},47788:function(G,U,e){var g=e(84888).KY,L=e(3400).counterRegex,a=e(62400),C=e(55012),A=C.attr,v=C.name,p=L(v),r={};r[A]={valType:"subplotid",dflt:v,editType:"calc"};function t(n){for(var f=n._fullLayout,u=n.calcdata,l=f._subplots[v],m=0;m<l.length;m++){var h=l[m],M=g(u,v,h),c=f[h]._subplot;c||(c=a(n,h,!0),f[h]._subplot=c),c.plot(M,f,n._promises)}}function s(n,f,u,l){for(var m=l._subplots[v]||[],h=0;h<m.length;h++){var M=m[h],c=l[M]._subplot;if(!f[M]&&!!c){c.framework.remove();for(var i in c.clipPaths)c.clipPaths[i].remove()}}}G.exports={attr:A,name:v,idRoot:v,idRegex:p,attrRegex:p,attributes:r,layoutAttributes:e(6183),supplyLayoutDefaults:e(22836),plot:t,clean:s,toSVG:e(57952).toSVG}},6183:function(G,U,e){var g=e(22548),L=e(94724),a=e(86968).u,C=e(3400).extendFlat,A=e(67824).overrideAll,v=A({color:L.color,showline:C({},L.showline,{dflt:!0}),linecolor:L.linecolor,linewidth:L.linewidth,showgrid:C({},L.showgrid,{dflt:!0}),gridcolor:L.gridcolor,gridwidth:L.gridwidth,griddash:L.griddash},"plot","from-root"),p=A({ticklen:L.ticklen,tickwidth:C({},L.tickwidth,{dflt:2}),tickcolor:L.tickcolor,showticklabels:L.showticklabels,labelalias:L.labelalias,showtickprefix:L.showtickprefix,tickprefix:L.tickprefix,showticksuffix:L.showticksuffix,ticksuffix:L.ticksuffix,tickfont:L.tickfont,tickformat:L.tickformat,hoverformat:L.hoverformat,layer:L.layer},"plot","from-root"),r=C({visible:C({},L.visible,{dflt:!0}),tickvals:{dflt:[.2,.5,1,2,5],valType:"data_array",editType:"plot"},tickangle:C({},L.tickangle,{dflt:90}),ticks:{valType:"enumerated",values:["top","bottom",""],editType:"ticks"},side:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},editType:"calc"},v,p),t=C({visible:C({},L.visible,{dflt:!0}),tickvals:{valType:"data_array",editType:"plot"},ticks:L.ticks,editType:"calc"},v,p);G.exports={domain:a({name:"smith",editType:"plot"}),bgcolor:{valType:"color",editType:"plot",dflt:g.background},realaxis:r,imaginaryaxis:t,editType:"calc"}},22836:function(G,U,e){var g=e(3400),L=e(76308),a=e(31780),C=e(168),A=e(84888).op,v=e(42568),p=e(95936),r=e(42136),t=e(78344),s=e(6183),n=e(55012),f=n.axisNames,u=m(function(h){return g.isTypedArray(h)&&(h=Array.from(h)),h.slice().reverse().map(function(M){return-M}).concat([0]).concat(h)},String);function l(h,M,c,i){var d=c("bgcolor");i.bgColor=L.combine(d,i.paper_bgcolor);var b=A(i.fullData,n.name,i.id),w=i.layoutOut,E;function y(B,W){return c(E+"."+B,W)}for(var S=0;S<f.length;S++){E=f[S],g.isPlainObject(h[E])||(h[E]={});var T=h[E],o=a.newContainer(M,E);o._id=o._name=E,o._attr=i.id+"."+E,o._traceIndices=b.map(function(B){return B._expandedIndex});var P=y("visible");if(o.type="linear",t(o,w),v(T,o,y,o.type),P){var x=E==="realaxis";if(x&&y("side"),x)y("tickvals");else{var _=u(M.realaxis.tickvals||s.realaxis.tickvals.dflt);y("tickvals",_)}g.isTypedArray(o.tickvals)&&(o.tickvals=Array.from(o.tickvals));var I,N,k,F,O=i.font||{};P&&(I=y("color"),N=I===T.color?I:O.color,k=O.size,F=O.family),p(T,o,y,o.type,{noAutotickangles:!0,noTicklabelstep:!0,noAng:!x,noExp:!0,font:{color:N,size:k,family:F}}),g.coerce2(h,M,s,E+".ticklen"),g.coerce2(h,M,s,E+".tickwidth"),g.coerce2(h,M,s,E+".tickcolor",M.color);var z=y("ticks");z||(delete M[E].ticklen,delete M[E].tickwidth,delete M[E].tickcolor),r(T,o,y,{dfltColor:I,bgColor:i.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:s[E]}),y("layer")}y("hoverformat"),delete o.type,o._input=T}}G.exports=function(M,c,i){C(M,c,i,{noUirevision:!0,type:n.name,attributes:s,handleDefaults:l,font:c.font,paper_bgcolor:c.paper_bgcolor,fullData:i,layoutOut:c})};function m(h,M){var c={};return function(i){var d=M?M(i):i;if(d in c)return c[d];var b=h(i);return c[d]=b,b}}},168:function(G,U,e){var g=e(3400),L=e(31780),a=e(86968).Q;G.exports=function(A,v,p,r){var t=r.type,s=r.attributes,n=r.handleDefaults,f=r.partition||"x",u=v._subplots[t],l=u.length,m=l&&u[0].replace(/\d+$/,""),h,M;function c(w,E){return g.coerce(h,M,s,w,E)}for(var i=0;i<l;i++){var d=u[i];A[d]?h=A[d]:h=A[d]={},M=L.newContainer(v,d,m),r.noUirevision||c("uirevision",v.uirevision);var b={};b[f]=[i/l,(i+1)/l],a(M,v,c,b),r.id=d,n(h,M,c,r)}}},21776:function(G,U,e){var g=e(26880);g.FORMAT_LINK,g.DATE_FORMAT_LINK;function L(a){var C=a.description?" "+a.description:"",A=a.keys||[];if(A.length>0){for(var v=[],p=0;p<A.length;p++)v[p]="`"+A[p]+"`";C=C+"Finally, the template string has access to ",A.length===1?C=C+"variable "+v[0]:C=C+"variables "+v.slice(0,-1).join(", ")+" and "+v.slice(-1)+"."}return C}U.Ks=function(a,C){a=a||{},C=C||{},L(C);var A={valType:"string",dflt:"",editType:a.editType||"none"};return a.arrayOk!==!1&&(A.arrayOk=!0),A},U.Gw=function(a,C){a=a||{},C=C||{},L(C);var A={valType:"string",dflt:"",editType:a.editType||"calc"};return a.arrayOk!==!1&&(A.arrayOk=!0),A},U.ye=function(a,C){a=a||{},C=C||{},a.newshape,L(C);var A={valType:"string",dflt:"",editType:a.editType||"arraydraw"};return A}},19352:function(G,U,e){var g=e(24696),L=e(84888).KY,a=e(3400).counterRegex,C="ternary";U.name=C;var A=U.attr="subplot";U.idRoot=C,U.idRegex=U.attrRegex=a(C);var v=U.attributes={};v[A]={valType:"subplotid",dflt:"ternary",editType:"calc"},U.layoutAttributes=e(86379),U.supplyLayoutDefaults=e(38536),U.plot=function(r){for(var t=r._fullLayout,s=r.calcdata,n=t._subplots[C],f=0;f<n.length;f++){var u=n[f],l=L(s,C,u),m=t[u]._subplot;m||(m=new g({id:u,graphDiv:r,container:t._ternarylayer.node()},t),t[u]._subplot=m),m.plot(l,t,r._promises)}},U.clean=function(p,r,t,s){for(var n=s._subplots[C]||[],f=0;f<n.length;f++){var u=n[f],l=s[u]._subplot;!r[u]&&!!l&&(l.plotContainer.remove(),l.clipDef.remove(),l.clipDefRelative.remove(),l.layers["a-title"].remove(),l.layers["b-title"].remove(),l.layers["c-title"].remove())}}},86379:function(G,U,e){var g=e(22548),L=e(86968).u,a=e(94724),C=e(67824).overrideAll,A=e(92880).extendFlat,v={title:{text:a.title.text,font:a.title.font},color:a.color,tickmode:a.minor.tickmode,nticks:A({},a.nticks,{dflt:6,min:1}),tick0:a.tick0,dtick:a.dtick,tickvals:a.tickvals,ticktext:a.ticktext,ticks:a.ticks,ticklen:a.ticklen,tickwidth:a.tickwidth,tickcolor:a.tickcolor,ticklabelstep:a.ticklabelstep,showticklabels:a.showticklabels,labelalias:a.labelalias,showtickprefix:a.showtickprefix,tickprefix:a.tickprefix,showticksuffix:a.showticksuffix,ticksuffix:a.ticksuffix,showexponent:a.showexponent,exponentformat:a.exponentformat,minexponent:a.minexponent,separatethousands:a.separatethousands,tickfont:a.tickfont,tickangle:a.tickangle,tickformat:a.tickformat,tickformatstops:a.tickformatstops,hoverformat:a.hoverformat,showline:A({},a.showline,{dflt:!0}),linecolor:a.linecolor,linewidth:a.linewidth,showgrid:A({},a.showgrid,{dflt:!0}),gridcolor:a.gridcolor,gridwidth:a.gridwidth,griddash:a.griddash,layer:a.layer,min:{valType:"number",dflt:0,min:0},_deprecated:{title:a._deprecated.title,titlefont:a._deprecated.titlefont}},p=G.exports=C({domain:L({name:"ternary"}),bgcolor:{valType:"color",dflt:g.background},sum:{valType:"number",dflt:1,min:0},aaxis:v,baxis:v,caxis:v},"plot","from-root");p.uirevision={valType:"any",editType:"none"},p.aaxis.uirevision=p.baxis.uirevision=p.caxis.uirevision={valType:"any",editType:"none"}},38536:function(G,U,e){var g=e(76308),L=e(31780),a=e(3400),C=e(168),A=e(95936),v=e(42568),p=e(25404),r=e(26332),t=e(42136),s=e(86379),n=["aaxis","baxis","caxis"];G.exports=function(m,h,M){C(m,h,M,{type:"ternary",attributes:s,handleDefaults:f,font:h.font,paper_bgcolor:h.paper_bgcolor})};function f(l,m,h,M){var c=h("bgcolor"),i=h("sum");M.bgColor=g.combine(c,M.paper_bgcolor);for(var d,b,w,E=0;E<n.length;E++)d=n[E],b=l[d]||{},w=L.newContainer(m,d),w._name=d,u(b,w,M,m);var y=m.aaxis,S=m.baxis,T=m.caxis;y.min+S.min+T.min>=i&&(y.min=0,S.min=0,T.min=0,l.aaxis&&delete l.aaxis.min,l.baxis&&delete l.baxis.min,l.caxis&&delete l.caxis.min)}function u(l,m,h,M){var c=s[m._name];function i(o,P){return a.coerce(l,m,c,o,P)}i("uirevision",M.uirevision),m.type="linear";var d=i("color"),b=d!==c.color.dflt?d:h.font.color,w=m._name,E=w.charAt(0).toUpperCase(),y="Component "+E,S=i("title.text",y);m._hovertitle=S===y?S:E,a.coerceFont(i,"title.font",{family:h.font.family,size:a.bigFont(h.font.size),color:b}),i("min"),r(l,m,i,"linear"),v(l,m,i,"linear"),A(l,m,i,"linear",{noAutotickangles:!0}),p(l,m,i,{outerTicks:!0});var T=i("showticklabels");T&&(a.coerceFont(i,"tickfont",{family:h.font.family,size:h.font.size,color:b}),i("tickangle"),i("tickformat")),t(l,m,i,{dfltColor:d,bgColor:h.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:c}),i("hoverformat"),i("layer")}},24696:function(G,U,e){var g=e(33428),L=e(49760),a=e(24040),C=e(3400),A=C.strTranslate,v=C._,p=e(76308),r=e(43616),t=e(78344),s=e(92880).extendFlat,n=e(7316),f=e(54460),u=e(86476),l=e(93024),m=e(72760),h=m.freeMode,M=m.rectMode,c=e(81668),i=e(22676).prepSelect,d=e(22676).selectOnClick,b=e(22676).clearOutline,w=e(22676).clearSelectionsCache,E=e(33816);function y(O,z){this.id=O.id,this.graphDiv=O.graphDiv,this.init(z),this.makeFramework(z),this.aTickLayout=null,this.bTickLayout=null,this.cTickLayout=null}G.exports=y;var S=y.prototype;S.init=function(O){this.container=O._ternarylayer,this.defs=O._defs,this.layoutId=O._uid,this.traceHash={},this.layers={}},S.plot=function(O,z){var B=this,W=z[B.id],q=z._size;B._hasClipOnAxisFalse=!1;for(var ee=0;ee<O.length;ee++){var Q=O[ee][0].trace;if(Q.cliponaxis===!1){B._hasClipOnAxisFalse=!0;break}}B.updateLayers(W),B.adjustLayout(W,q),n.generalUpdatePerTraceModule(B.graphDiv,B,O,W),B.layers.plotbg.select("path").call(p.fill,W.bgcolor)},S.makeFramework=function(O){var z=this,B=z.graphDiv,W=O[z.id],q=z.clipId="clip"+z.layoutId+z.id,ee=z.clipIdRelative="clip-relative"+z.layoutId+z.id;z.clipDef=C.ensureSingleById(O._clips,"clipPath",q,function(Q){Q.append("path").attr("d","M0,0Z")}),z.clipDefRelative=C.ensureSingleById(O._clips,"clipPath",ee,function(Q){Q.append("path").attr("d","M0,0Z")}),z.plotContainer=C.ensureSingle(z.container,"g",z.id),z.updateLayers(W),r.setClipUrl(z.layers.backplot,q,B),r.setClipUrl(z.layers.grids,q,B)},S.updateLayers=function(O){var z=this,B=z.layers,W=["draglayer","plotbg","backplot","grids"];O.aaxis.layer==="below traces"&&W.push("aaxis","aline"),O.baxis.layer==="below traces"&&W.push("baxis","bline"),O.caxis.layer==="below traces"&&W.push("caxis","cline"),W.push("frontplot"),O.aaxis.layer==="above traces"&&W.push("aaxis","aline"),O.baxis.layer==="above traces"&&W.push("baxis","bline"),O.caxis.layer==="above traces"&&W.push("caxis","cline");var q=z.plotContainer.selectAll("g.toplevel").data(W,String),ee=["agrid","bgrid","cgrid"];q.enter().append("g").attr("class",function(Q){return"toplevel "+Q}).each(function(Q){var oe=g.select(this);B[Q]=oe,Q==="frontplot"?oe.append("g").classed("scatterlayer",!0):Q==="backplot"?oe.append("g").classed("maplayer",!0):Q==="plotbg"?oe.append("path").attr("d","M0,0Z"):Q==="aline"||Q==="bline"||Q==="cline"?oe.append("path"):Q==="grids"&&ee.forEach(function(Z){B[Z]=oe.append("g").classed("grid "+Z,!0)})}),q.order()};var T=Math.sqrt(4/3);S.adjustLayout=function(O,z){var B=this,W=O.domain,q=(W.x[0]+W.x[1])/2,ee=(W.y[0]+W.y[1])/2,Q=W.x[1]-W.x[0],oe=W.y[1]-W.y[0],Z=Q*z.w,Y=oe*z.h,te=O.sum,X=O.aaxis.min,$=O.baxis.min,ie=O.caxis.min,J,j,se,ne,le,pe;Z>T*Y?(ne=Y,se=ne*T):(se=Z,ne=se/T),le=Q*se/Z,pe=oe*ne/Y,J=z.l+z.w*q-se/2,j=z.t+z.h*(1-ee)-ne/2,B.x0=J,B.y0=j,B.w=se,B.h=ne,B.sum=te,B.xaxis={type:"linear",range:[X+2*ie-te,te-X-2*$],domain:[q-le/2,q+le/2],_id:"x"},t(B.xaxis,B.graphDiv._fullLayout),B.xaxis.setScale(),B.xaxis.isPtWithinRange=function(Ue){return Ue.a>=B.aaxis.range[0]&&Ue.a<=B.aaxis.range[1]&&Ue.b>=B.baxis.range[1]&&Ue.b<=B.baxis.range[0]&&Ue.c>=B.caxis.range[1]&&Ue.c<=B.caxis.range[0]},B.yaxis={type:"linear",range:[X,te-$-ie],domain:[ee-pe/2,ee+pe/2],_id:"y"},t(B.yaxis,B.graphDiv._fullLayout),B.yaxis.setScale(),B.yaxis.isPtWithinRange=function(){return!0};var Ae=B.yaxis.domain[0],be=B.aaxis=s({},O.aaxis,{range:[X,te-$-ie],side:"left",tickangle:(+O.aaxis.tickangle||0)-30,domain:[Ae,Ae+pe*T],anchor:"free",position:0,_id:"y",_length:se});t(be,B.graphDiv._fullLayout),be.setScale();var Re=B.baxis=s({},O.baxis,{range:[te-X-ie,$],side:"bottom",domain:B.xaxis.domain,anchor:"free",position:0,_id:"x",_length:se});t(Re,B.graphDiv._fullLayout),Re.setScale();var xe=B.caxis=s({},O.caxis,{range:[te-X-$,ie],side:"right",tickangle:(+O.caxis.tickangle||0)+30,domain:[Ae,Ae+pe*T],anchor:"free",position:0,_id:"y",_length:se});t(xe,B.graphDiv._fullLayout),xe.setScale();var Me="M"+J+","+(j+ne)+"h"+se+"l-"+se/2+",-"+ne+"Z";B.clipDef.select("path").attr("d",Me),B.layers.plotbg.select("path").attr("d",Me);var ye="M0,"+ne+"h"+se+"l-"+se/2+",-"+ne+"Z";B.clipDefRelative.select("path").attr("d",ye);var Se=A(J,j);B.plotContainer.selectAll(".scatterlayer,.maplayer").attr("transform",Se),B.clipDefRelative.select("path").attr("transform",null);var Fe=A(J-Re._offset,j+ne);B.layers.baxis.attr("transform",Fe),B.layers.bgrid.attr("transform",Fe);var Be=A(J+se/2,j)+"rotate(30)"+A(0,-be._offset);B.layers.aaxis.attr("transform",Be),B.layers.agrid.attr("transform",Be);var _e=A(J+se/2,j)+"rotate(-30)"+A(0,-xe._offset);B.layers.caxis.attr("transform",_e),B.layers.cgrid.attr("transform",_e),B.drawAxes(!0),B.layers.aline.select("path").attr("d",be.showline?"M"+J+","+(j+ne)+"l"+se/2+",-"+ne:"M0,0").call(p.stroke,be.linecolor||"#000").style("stroke-width",(be.linewidth||0)+"px"),B.layers.bline.select("path").attr("d",Re.showline?"M"+J+","+(j+ne)+"h"+se:"M0,0").call(p.stroke,Re.linecolor||"#000").style("stroke-width",(Re.linewidth||0)+"px"),B.layers.cline.select("path").attr("d",xe.showline?"M"+(J+se/2)+","+j+"l"+se/2+","+ne:"M0,0").call(p.stroke,xe.linecolor||"#000").style("stroke-width",(xe.linewidth||0)+"px"),B.graphDiv._context.staticPlot||B.initInteractions(),r.setClipUrl(B.layers.frontplot,B._hasClipOnAxisFalse?null:B.clipId,B.graphDiv)},S.drawAxes=function(O){var z=this,B=z.graphDiv,W=z.id.substr(7)+"title",q=z.layers,ee=z.aaxis,Q=z.baxis,oe=z.caxis;if(z.drawAx(ee),z.drawAx(Q),z.drawAx(oe),O){var Z=Math.max(ee.showticklabels?ee.tickfont.size/2:0,(oe.showticklabels?oe.tickfont.size*.75:0)+(oe.ticks==="outside"?oe.ticklen*.87:0)),Y=(Q.showticklabels?Q.tickfont.size:0)+(Q.ticks==="outside"?Q.ticklen:0)+3;q["a-title"]=c.draw(B,"a"+W,{propContainer:ee,propName:z.id+".aaxis.title",placeholder:v(B,"Click to enter Component A title"),attributes:{x:z.x0+z.w/2,y:z.y0-ee.title.font.size/3-Z,"text-anchor":"middle"}}),q["b-title"]=c.draw(B,"b"+W,{propContainer:Q,propName:z.id+".baxis.title",placeholder:v(B,"Click to enter Component B title"),attributes:{x:z.x0-Y,y:z.y0+z.h+Q.title.font.size*.83+Y,"text-anchor":"middle"}}),q["c-title"]=c.draw(B,"c"+W,{propContainer:oe,propName:z.id+".caxis.title",placeholder:v(B,"Click to enter Component C title"),attributes:{x:z.x0+z.w+Y,y:z.y0+z.h+oe.title.font.size*.83+Y,"text-anchor":"middle"}})}},S.drawAx=function(O){var z=this,B=z.graphDiv,W=O._name,q=W.charAt(0),ee=O._id,Q=z.layers[W],oe=30,Z=q+"tickLayout",Y=o(O);z[Z]!==Y&&(Q.selectAll("."+ee+"tick").remove(),z[Z]=Y),O.setScale();var te=f.calcTicks(O),X=f.clipEnds(O,te),$=f.makeTransTickFn(O),ie=f.getTickSigns(O)[2],J=C.deg2rad(oe),j=ie*(O.linewidth||1)/2,se=ie*O.ticklen,ne=z.w,le=z.h,pe=q==="b"?"M0,"+j+"l"+Math.sin(J)*se+","+Math.cos(J)*se:"M"+j+",0l"+Math.cos(J)*se+","+-Math.sin(J)*se,Ae={a:"M0,0l"+le+",-"+ne/2,b:"M0,0l-"+ne/2+",-"+le,c:"M0,0l-"+le+","+ne/2}[q];f.drawTicks(B,O,{vals:O.ticks==="inside"?X:te,layer:Q,path:pe,transFn:$,crisp:!1}),f.drawGrid(B,O,{vals:X,layer:z.layers[q+"grid"],path:Ae,transFn:$,crisp:!1}),f.drawLabels(B,O,{vals:te,layer:Q,transFn:$,labelFns:f.makeLabelFns(O,0,oe)})};function o(O){return O.ticks+String(O.ticklen)+String(O.showticklabels)}var P=E.MINZOOM/2+.87,x="m-0.87,.5h"+P+"v3h-"+(P+5.2)+"l"+(P/2+2.6)+",-"+(P*.87+4.5)+"l2.6,1.5l-"+P/2+","+P*.87+"Z",_="m0.87,.5h-"+P+"v3h"+(P+5.2)+"l-"+(P/2+2.6)+",-"+(P*.87+4.5)+"l-2.6,1.5l"+P/2+","+P*.87+"Z",I="m0,1l"+P/2+","+P*.87+"l2.6,-1.5l-"+(P/2+2.6)+",-"+(P*.87+4.5)+"l-"+(P/2+2.6)+","+(P*.87+4.5)+"l2.6,1.5l"+P/2+",-"+P*.87+"Z",N="m0.5,0.5h5v-2h-5v-5h-2v5h-5v2h5v5h2Z",k=!0;S.clearOutline=function(){w(this.dragOptions),b(this.dragOptions.gd)},S.initInteractions=function(){var O=this,z=O.layers.plotbg.select("path").node(),B=O.graphDiv,W=B._fullLayout._zoomlayer,q,ee;this.dragOptions={element:z,gd:B,plotinfo:{id:O.id,domain:B._fullLayout[O.id].domain,xaxis:O.xaxis,yaxis:O.yaxis},subplot:O.id,prepFn:function(Fe,Be,_e){O.dragOptions.xaxes=[O.xaxis],O.dragOptions.yaxes=[O.yaxis],q=B._fullLayout._invScaleX,ee=B._fullLayout._invScaleY;var Ue=O.dragOptions.dragmode=B._fullLayout.dragmode;h(Ue)?O.dragOptions.minDrag=1:O.dragOptions.minDrag=void 0,Ue==="zoom"?(O.dragOptions.moveFn=Re,O.dragOptions.clickFn=ne,O.dragOptions.doneFn=xe,le(Fe,Be,_e)):Ue==="pan"?(O.dragOptions.moveFn=ye,O.dragOptions.clickFn=ne,O.dragOptions.doneFn=Se,Me(),O.clearOutline(B)):(M(Ue)||h(Ue))&&i(Fe,Be,_e,O.dragOptions,Ue)}};var Q,oe,Z,Y,te,X,$,ie,J,j;function se(Fe){var Be={};return Be[O.id+".aaxis.min"]=Fe.a,Be[O.id+".baxis.min"]=Fe.b,Be[O.id+".caxis.min"]=Fe.c,Be}function ne(Fe,Be){var _e=B._fullLayout.clickmode;F(B),Fe===2&&(B.emit("plotly_doubleclick",null),a.call("_guiRelayout",B,se({a:0,b:0,c:0}))),_e.indexOf("select")>-1&&Fe===1&&d(Be,B,[O.xaxis],[O.yaxis],O.id,O.dragOptions),_e.indexOf("event")>-1&&l.click(B,Be,O.id)}function le(Fe,Be,_e){var Ue=z.getBoundingClientRect();Q=Be-Ue.left,oe=_e-Ue.top,B._fullLayout._calcInverseTransform(B);var it=B._fullLayout._invTransform,lt=C.apply3DTransform(it)(Q,oe);Q=lt[0],oe=lt[1],Z={a:O.aaxis.range[0],b:O.baxis.range[1],c:O.caxis.range[1]},te=Z,Y=O.aaxis.range[1]-Z.a,X=L(O.graphDiv._fullLayout[O.id].bgcolor).getLuminance(),$="M0,"+O.h+"L"+O.w/2+", 0L"+O.w+","+O.h+"Z",ie=!1,J=W.append("path").attr("class","zoombox").attr("transform",A(O.x0,O.y0)).style({fill:X>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("d",$),j=W.append("path").attr("class","zoombox-corners").attr("transform",A(O.x0,O.y0)).style({fill:p.background,stroke:p.defaultLine,"stroke-width":1,opacity:0}).attr("d","M0,0Z"),O.clearOutline(B)}function pe(Fe,Be){return 1-Be/O.h}function Ae(Fe,Be){return 1-(Fe+(O.h-Be)/Math.sqrt(3))/O.w}function be(Fe,Be){return(Fe-(O.h-Be)/Math.sqrt(3))/O.w}function Re(Fe,Be){var _e=Q+Fe*q,Ue=oe+Be*ee,it=Math.max(0,Math.min(1,pe(Q,oe),pe(_e,Ue))),lt=Math.max(0,Math.min(1,Ae(Q,oe),Ae(_e,Ue))),$e=Math.max(0,Math.min(1,be(Q,oe),be(_e,Ue))),qe=(it/2+$e)*O.w,ft=(1-it/2-lt)*O.w,ct=(qe+ft)/2,pt=ft-qe,yt=(1-it)*O.h,Et=yt-pt/T;pt<E.MINZOOM?(te=Z,J.attr("d",$),j.attr("d","M0,0Z")):(te={a:Z.a+it*Y,b:Z.b+lt*Y,c:Z.c+$e*Y},J.attr("d",$+"M"+qe+","+yt+"H"+ft+"L"+ct+","+Et+"L"+qe+","+yt+"Z"),j.attr("d","M"+Q+","+oe+N+"M"+qe+","+yt+x+"M"+ft+","+yt+_+"M"+ct+","+Et+I)),ie||(J.transition().style("fill",X>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),j.transition().style("opacity",1).duration(200),ie=!0),B.emit("plotly_relayouting",se(te))}function xe(){F(B),te!==Z&&(a.call("_guiRelayout",B,se(te)),k&&B.data&&B._context.showTips&&(C.notifier(v(B,"Double-click to zoom back out"),"long"),k=!1))}function Me(){Z={a:O.aaxis.range[0],b:O.baxis.range[1],c:O.caxis.range[1]},te=Z}function ye(Fe,Be){var _e=Fe/O.xaxis._m,Ue=Be/O.yaxis._m;te={a:Z.a-Ue,b:Z.b+(_e+Ue)/2,c:Z.c-(_e-Ue)/2};var it=[te.a,te.b,te.c].sort(C.sorterAsc),lt={a:it.indexOf(te.a),b:it.indexOf(te.b),c:it.indexOf(te.c)};it[0]<0&&(it[1]+it[0]/2<0?(it[2]+=it[0]+it[1],it[0]=it[1]=0):(it[2]+=it[0]/2,it[1]+=it[0]/2,it[0]=0),te={a:it[lt.a],b:it[lt.b],c:it[lt.c]},Be=(Z.a-te.a)*O.yaxis._m,Fe=(Z.c-te.c-Z.b+te.b)*O.xaxis._m);var $e=A(O.x0+Fe,O.y0+Be);O.plotContainer.selectAll(".scatterlayer,.maplayer").attr("transform",$e);var qe=A(-Fe,-Be);O.clipDefRelative.select("path").attr("transform",qe),O.aaxis.range=[te.a,O.sum-te.b-te.c],O.baxis.range=[O.sum-te.a-te.c,te.b],O.caxis.range=[O.sum-te.a-te.b,te.c],O.drawAxes(!1),O._hasClipOnAxisFalse&&O.plotContainer.select(".scatterlayer").selectAll(".trace").call(r.hideOutsideRangePoints,O),B.emit("plotly_relayouting",se(te))}function Se(){a.call("_guiRelayout",B,se(te))}z.onmousemove=function(Fe){l.hover(B,Fe,O.id),B._fullLayout._lasthover=z,B._fullLayout._hoversubplot=O.id},z.onmouseout=function(Fe){B._dragging||u.unhover(B,Fe)},u.init(this.dragOptions)};function F(O){g.select(O).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}},24040:function(G,U,e){var g=e(24248),L=e(16628),a=e(52416),C=e(63620),A=e(52200).addStyleRule,v=e(92880),p=e(45464),r=e(64859),t=v.extendFlat,s=v.extendDeepAll;U.modules={},U.allCategories={},U.allTypes=[],U.subplotsRegistry={},U.transformsRegistry={},U.componentsRegistry={},U.layoutArrayContainers=[],U.layoutArrayRegexes=[],U.traceLayoutAttributes={},U.localeRegistry={},U.apiMethodRegistry={},U.collectableSubplotTypes=null,U.register=function(w){if(U.collectableSubplotTypes=null,w)w&&!Array.isArray(w)&&(w=[w]);else throw new Error("No argument passed to Plotly.register.");for(var E=0;E<w.length;E++){var y=w[E];if(!y)throw new Error("Invalid module was attempted to be registered!");switch(y.moduleType){case"trace":n(y);break;case"transform":l(y);break;case"component":u(y);break;case"locale":m(y);break;case"apiMethod":var S=y.name;U.apiMethodRegistry[S]=y.fn;break;default:throw new Error("Invalid module was attempted to be registered!")}}},U.getModule=function(b){var w=U.modules[d(b)];return w?w._module:!1},U.traceIs=function(b,w){if(b=d(b),b==="various")return!1;var E=U.modules[b];return E||(b&&g.log("Unrecognized trace type "+b+"."),E=U.modules[p.type.dflt]),!!E.categories[w]},U.getTransformIndices=function(b,w){for(var E=[],y=b.transforms||[],S=0;S<y.length;S++)y[S].type===w&&E.push(S);return E},U.hasTransform=function(b,w){for(var E=b.transforms||[],y=0;y<E.length;y++)if(E[y].type===w)return!0;return!1},U.getComponentMethod=function(b,w){var E=U.componentsRegistry[b];return E&&E[w]||L},U.call=function(){var b=arguments[0],w=[].slice.call(arguments,1);return U.apiMethodRegistry[b].apply(null,w)};function n(b){var w=b.name,E=b.categories,y=b.meta;if(U.modules[w]){g.log("Type "+w+" already registered");return}U.subplotsRegistry[b.basePlotModule.name]||f(b.basePlotModule);for(var S={},T=0;T<E.length;T++)S[E[T]]=!0,U.allCategories[E[T]]=!0;U.modules[w]={_module:b,categories:S},y&&Object.keys(y).length&&(U.modules[w].meta=y),U.allTypes.push(w);for(var o in U.componentsRegistry)M(o,w);b.layoutAttributes&&t(U.traceLayoutAttributes,b.layoutAttributes);var P=b.basePlotModule,x=P.name;if(x==="mapbox"){var _=P.constants.styleRules;for(var I in _)A(".js-plotly-plot .plotly .mapboxgl-"+I,_[I])}(x==="geo"||x==="mapbox")&&window.PlotlyGeoAssets===void 0&&(window.PlotlyGeoAssets={topojson:{}})}function f(b){var w=b.name;if(U.subplotsRegistry[w]){g.log("Plot type "+w+" already registered.");return}h(b),U.subplotsRegistry[w]=b;for(var E in U.componentsRegistry)i(E,b.name)}function u(b){if(typeof b.name!="string")throw new Error("Component module *name* must be a string.");var w=b.name;U.componentsRegistry[w]=b,b.layoutAttributes&&(b.layoutAttributes._isLinkedToArray&&a(U.layoutArrayContainers,w),h(b));for(var E in U.modules)M(w,E);for(var y in U.subplotsRegistry)i(w,y);for(var S in U.transformsRegistry)c(w,S);b.schema&&b.schema.layout&&s(r,b.schema.layout)}function l(b){if(typeof b.name!="string")throw new Error("Transform module *name* must be a string.");var w="Transform module "+b.name,E=typeof b.transform=="function",y=typeof b.calcTransform=="function";if(!E&&!y)throw new Error(w+" is missing a *transform* or *calcTransform* method.");E&&y&&g.log([w+" has both a *transform* and *calcTransform* methods.","Please note that all *transform* methods are executed","before all *calcTransform* methods."].join(" ")),C(b.attributes)||g.log(w+" registered without an *attributes* object."),typeof b.supplyDefaults!="function"&&g.log(w+" registered without a *supplyDefaults* method."),U.transformsRegistry[b.name]=b;for(var S in U.componentsRegistry)c(S,b.name)}function m(b){var w=b.name,E=w.split("-")[0],y=b.dictionary,S=b.format,T=y&&Object.keys(y).length,o=S&&Object.keys(S).length,P=U.localeRegistry,x=P[w];if(x||(P[w]=x={}),E!==w){var _=P[E];_||(P[E]=_={}),T&&_.dictionary===x.dictionary&&(_.dictionary=y),o&&_.format===x.format&&(_.format=S)}T&&(x.dictionary=y),o&&(x.format=S)}function h(b){if(b.layoutAttributes){var w=b.layoutAttributes._arrayAttrRegexps;if(w)for(var E=0;E<w.length;E++)a(U.layoutArrayRegexes,w[E])}}function M(b,w){var E=U.componentsRegistry[b].schema;if(!(!E||!E.traces)){var y=E.traces[w];y&&s(U.modules[w]._module.attributes,y)}}function c(b,w){var E=U.componentsRegistry[b].schema;if(!(!E||!E.transforms)){var y=E.transforms[w];y&&s(U.transformsRegistry[w].attributes,y)}}function i(b,w){var E=U.componentsRegistry[b].schema;if(!(!E||!E.subplots)){var y=U.subplotsRegistry[w],S=y.layoutAttributes,T=y.attr==="subplot"?y.name:y.attr;Array.isArray(T)&&(T=T[0]);var o=E.subplots[T];S&&o&&s(S,o)}}function d(b){return typeof b=="object"&&(b=b.type),b}},91536:function(G,U,e){var g=e(24040),L=e(3400),a=L.extendFlat,C=L.extendDeep;function A(p){var r;switch(p){case"themes__thumb":r={autosize:!0,width:150,height:150,title:{text:""},showlegend:!1,margin:{l:5,r:5,t:5,b:5,pad:0},annotations:[]};break;case"thumbnail":r={title:{text:""},hidesources:!0,showlegend:!1,borderwidth:0,bordercolor:"",margin:{l:1,r:1,t:1,b:1,pad:0},annotations:[]};break;default:r={}}return r}function v(p){var r=["xaxis","yaxis","zaxis"];return r.indexOf(p.slice(0,5))>-1}G.exports=function(r,t){var s,n=r.data,f=r.layout,u=C([],n),l=C({},f,A(t.tileClass)),m=r._context||{};if(t.width&&(l.width=t.width),t.height&&(l.height=t.height),t.tileClass==="thumbnail"||t.tileClass==="themes__thumb"){l.annotations=[];var h=Object.keys(l);for(s=0;s<h.length;s++)v(h[s])&&(l[h[s]].title={text:""});for(s=0;s<u.length;s++){var M=u[s];M.showscale=!1,M.marker&&(M.marker.showscale=!1),g.traceIs(M,"pie-like")&&(M.textposition="none")}}if(Array.isArray(t.annotations))for(s=0;s<t.annotations.length;s++)l.annotations.push(t.annotations[s]);var c=Object.keys(l).filter(function(E){return E.match(/^scene\d*$/)});if(c.length){var i={};for(t.tileClass==="thumbnail"&&(i={title:{text:""},showaxeslabels:!1,showticklabels:!1,linetickenable:!1}),s=0;s<c.length;s++){var d=l[c[s]];d.xaxis||(d.xaxis={}),d.yaxis||(d.yaxis={}),d.zaxis||(d.zaxis={}),a(d.xaxis,i),a(d.yaxis,i),a(d.zaxis,i),d._scene=null}}var b=document.createElement("div");t.tileClass&&(b.className=t.tileClass);var w={gd:b,td:b,layout:l,data:u,config:{staticPlot:t.staticPlot===void 0?!0:t.staticPlot,plotGlPixelRatio:t.plotGlPixelRatio===void 0?2:t.plotGlPixelRatio,displaylogo:t.displaylogo||!1,showLink:t.showLink||!1,showTips:t.showTips||!1,mapboxAccessToken:m.mapboxAccessToken}};return t.setBackground!=="transparent"&&(w.config.setBackground=t.setBackground||"opaque"),w.gd.defaultLayout=A(t.tileClass),w}},39792:function(G,U,e){var g=e(3400),L=e(67024),a=e(48616),C=e(81792);function A(v,p){var r;return g.isPlainObject(v)||(r=g.getGraphDiv(v)),p=p||{},p.format=p.format||"png",p.width=p.width||null,p.height=p.height||null,p.imageDataOnly=!0,new Promise(function(t,s){r&&r._snapshotInProgress&&s(new Error("Snapshotting already in progress.")),g.isIE()&&p.format!=="svg"&&s(new Error(C.MSG_IE_BAD_FORMAT)),r&&(r._snapshotInProgress=!0);var n=L(v,p),f=p.filename||v.fn||"newplot";f+="."+p.format.replace("-","."),n.then(function(u){return r&&(r._snapshotInProgress=!1),a(u,f,p.format)}).then(function(u){t(u)}).catch(function(u){r&&(r._snapshotInProgress=!1),s(u)})})}G.exports=A},48616:function(G,U,e){var g=e(3400),L=e(81792);function a(C,A,v){var p=document.createElement("a"),r="download"in p,t=new Promise(function(s,n){var f,u;if(g.isIE())return f=L.createBlob(C,"svg"),window.navigator.msSaveBlob(f,A),f=null,s(A);if(r)return f=L.createBlob(C,v),u=L.createObjectURL(f),p.href=u,p.download=A,document.body.appendChild(p),p.click(),document.body.removeChild(p),L.revokeObjectURL(u),f=null,s(A);if(g.isSafari()){var l=v==="svg"?",":";base64,";return L.octetStream(l+encodeURIComponent(C)),s(A)}n(new Error("download error"))});return t}G.exports=a},81792:function(G,U,e){var g=e(24040);U.getDelay=function(C){return C._has&&(C._has("gl3d")||C._has("gl2d")||C._has("mapbox"))?500:0},U.getRedrawFunc=function(C){return function(){g.getComponentMethod("colorbar","draw")(C)}},U.encodeSVG=function(C){return"data:image/svg+xml,"+encodeURIComponent(C)},U.encodeJSON=function(C){return"data:application/json,"+encodeURIComponent(C)};var L=window.URL||window.webkitURL;U.createObjectURL=function(C){return L.createObjectURL(C)},U.revokeObjectURL=function(C){return L.revokeObjectURL(C)},U.createBlob=function(C,A){if(A==="svg")return new window.Blob([C],{type:"image/svg+xml;charset=utf-8"});if(A==="full-json")return new window.Blob([C],{type:"application/json;charset=utf-8"});var v=a(window.atob(C));return new window.Blob([v],{type:"image/"+A})},U.octetStream=function(C){document.location.href="data:application/octet-stream"+C};function a(C){for(var A=C.length,v=new ArrayBuffer(A),p=new Uint8Array(v),r=0;r<A;r++)p[r]=C.charCodeAt(r);return v}U.IMAGE_URL_PREFIX=/^data:image\/\w+;base64,/,U.MSG_IE_BAD_FORMAT="Sorry IE does not support downloading from canvas. Try {format:'svg'} instead."},78904:function(G,U,e){var g=e(81792),L={getDelay:g.getDelay,getRedrawFunc:g.getRedrawFunc,clone:e(91536),toSVG:e(37164),svgToImg:e(63268),toImage:e(61808),downloadImage:e(39792)};G.exports=L},63268:function(G,U,e){var g=e(3400),L=e(61252).EventEmitter,a=e(81792);function C(A){var v=A.emitter||new L,p=new Promise(function(r,t){var s=window.Image,n=A.svg,f=A.format||"png";if(g.isIE()&&f!=="svg"){var u=new Error(a.MSG_IE_BAD_FORMAT);return t(u),A.promise?p:v.emit("error",u)}var l=A.canvas,m=A.scale||1,h=A.width||300,M=A.height||150,c=m*h,i=m*M,d=l.getContext("2d",{willReadFrequently:!0}),b=new s,w,E;f==="svg"||g.isSafari()?E=a.encodeSVG(n):(w=a.createBlob(n,"svg"),E=a.createObjectURL(w)),l.width=c,l.height=i,b.onload=function(){var y;switch(w=null,a.revokeObjectURL(E),f!=="svg"&&d.drawImage(b,0,0,c,i),f){case"jpeg":y=l.toDataURL("image/jpeg");break;case"png":y=l.toDataURL("image/png");break;case"webp":y=l.toDataURL("image/webp");break;case"svg":y=E;break;default:var S="Image format is not jpeg, png, svg or webp.";if(t(new Error(S)),!A.promise)return v.emit("error",S)}r(y),A.promise||v.emit("success",y)},b.onerror=function(y){if(w=null,a.revokeObjectURL(E),t(y),!A.promise)return v.emit("error",y)},b.src=E});return A.promise?p:v}G.exports=C},61808:function(G,U,e){var g=e(61252).EventEmitter,L=e(24040),a=e(3400),C=e(81792),A=e(91536),v=e(37164),p=e(63268);function r(t,s){var n=new g,f=A(t,{format:"png"}),u=f.gd;u.style.position="absolute",u.style.left="-5000px",document.body.appendChild(u);function l(){var h=C.getDelay(u._fullLayout);setTimeout(function(){var M=v(u),c=document.createElement("canvas");c.id=a.randstr(),n=p({format:s.format,width:u._fullLayout.width,height:u._fullLayout.height,canvas:c,emitter:n,svg:M}),n.clean=function(){u&&document.body.removeChild(u)}},h)}var m=C.getRedrawFunc(u);return L.call("_doPlot",u,f.data,f.layout,f.config).then(m).then(l).catch(function(h){n.emit("error",h)}),n}G.exports=r},37164:function(G,U,e){var g=e(33428),L=e(3400),a=e(43616),C=e(76308),A=e(9616),v=/"/g,p="TOBESTRIPPED",r=new RegExp('("'+p+")|("+p+'")',"g");function t(n){var f=g.select("body").append("div").style({display:"none"}).html(""),u=n.replace(/(&[^;]*;)/gi,function(l){return l==="&lt;"?"&#60;":l==="&rt;"?"&#62;":l.indexOf("<")!==-1||l.indexOf(">")!==-1?"":f.html(l).text()});return f.remove(),u}function s(n){return n.replace(/&(?!\w+;|\#[0-9]+;| \#x[0-9A-F]+;)/g,"&amp;")}G.exports=function(f,u,l){var m=f._fullLayout,h=m._paper,M=m._toppaper,c=m.width,i=m.height,d;h.insert("rect",":first-child").call(a.setRect,0,0,c,i).call(C.fill,m.paper_bgcolor);var b=m._basePlotModules||[];for(d=0;d<b.length;d++){var w=b[d];w.toSVG&&w.toSVG(f)}if(M){var E=M.node().childNodes,y=Array.prototype.slice.call(E);for(d=0;d<y.length;d++){var S=y[d];S.childNodes.length&&h.node().appendChild(S)}}m._draggers&&m._draggers.remove(),h.node().style.background="",h.selectAll("text").attr({"data-unformatted":null,"data-math":null}).each(function(){var o=g.select(this);if(this.style.visibility==="hidden"||this.style.display==="none"){o.remove();return}else o.style({visibility:null,display:null});var P=this.style.fontFamily;P&&P.indexOf('"')!==-1&&o.style("font-family",P.replace(v,p))}),h.selectAll(".gradient_filled,.pattern_filled").each(function(){var o=g.select(this),P=this.style.fill;P&&P.indexOf("url(")!==-1&&o.style("fill",P.replace(v,p));var x=this.style.stroke;x&&x.indexOf("url(")!==-1&&o.style("stroke",x.replace(v,p))}),(u==="pdf"||u==="eps")&&h.selectAll("#MathJax_SVG_glyphs path").attr("stroke-width",0),h.node().setAttributeNS(A.xmlns,"xmlns",A.svg),h.node().setAttributeNS(A.xmlns,"xmlns:xlink",A.xlink),u==="svg"&&l&&(h.attr("width",l*c),h.attr("height",l*i),h.attr("viewBox","0 0 "+c+" "+i));var T=new window.XMLSerializer().serializeToString(h.node());return T=t(T),T=s(T),T=T.replace(r,"'"),L.isIE()&&(T=T.replace(/"/gi,"'"),T=T.replace(/(\('#)([^']*)('\))/gi,'("#$2")'),T=T.replace(/(\\')/gi,'"')),T}},84664:function(G,U,e){var g=e(3400);G.exports=function(a,C){for(var A=0;A<a.length;A++)a[A].i=A;g.mergeArray(C.text,a,"tx"),g.mergeArray(C.hovertext,a,"htx");var v=C.marker;if(v){g.mergeArray(v.opacity,a,"mo",!0),g.mergeArray(v.color,a,"mc");var p=v.line;p&&(g.mergeArray(p.color,a,"mlc"),g.mergeArrayCastPositive(p.width,a,"mlw"))}}},20832:function(G,U,e){var g=e(52904),L=e(29736).axisHoverFormat,a=e(21776).Ks,C=e(21776).Gw,A=e(49084),v=e(25376),p=e(78048),r=e(98192).c,t=e(92880).extendFlat,s=v({editType:"calc",arrayOk:!0,colorEditType:"style"}),n=g.marker,f=n.line,u=t({},f.width,{dflt:0}),l=t({width:u,editType:"calc"},A("marker.line")),m=t({line:l,editType:"calc"},A("marker"),{opacity:{valType:"number",arrayOk:!0,dflt:1,min:0,max:1,editType:"style"},pattern:r,cornerradius:{valType:"any",editType:"calc"}});G.exports={x:g.x,x0:g.x0,dx:g.dx,y:g.y,y0:g.y0,dy:g.dy,xperiod:g.xperiod,yperiod:g.yperiod,xperiod0:g.xperiod0,yperiod0:g.yperiod0,xperiodalignment:g.xperiodalignment,yperiodalignment:g.yperiodalignment,xhoverformat:L("x"),yhoverformat:L("y"),text:g.text,texttemplate:C({editType:"plot"},{keys:p.eventDataKeys}),hovertext:g.hovertext,hovertemplate:a({},{keys:p.eventDataKeys}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"calc"},insidetextanchor:{valType:"enumerated",values:["end","middle","start"],dflt:"end",editType:"plot"},textangle:{valType:"angle",dflt:"auto",editType:"plot"},textfont:t({},s,{}),insidetextfont:t({},s,{}),outsidetextfont:t({},s,{}),constraintext:{valType:"enumerated",values:["inside","outside","both","none"],dflt:"both",editType:"calc"},cliponaxis:t({},g.cliponaxis,{}),orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},base:{valType:"any",dflt:null,arrayOk:!0,editType:"calc"},offset:{valType:"number",dflt:null,arrayOk:!0,editType:"calc"},width:{valType:"number",dflt:null,min:0,arrayOk:!0,editType:"calc"},marker:m,offsetgroup:g.offsetgroup,alignmentgroup:g.alignmentgroup,selected:{marker:{opacity:g.selected.marker.opacity,color:g.selected.marker.color,editType:"style"},textfont:g.selected.textfont,editType:"style"},unselected:{marker:{opacity:g.unselected.marker.opacity,color:g.unselected.marker.color,editType:"style"},textfont:g.unselected.textfont,editType:"style"},_deprecated:{bardir:{valType:"enumerated",editType:"calc",values:["v","h"]}}}},71820:function(G,U,e){var g=e(54460),L=e(1220),a=e(94288).hasColorscale,C=e(47128),A=e(84664),v=e(4500);G.exports=function(r,t){var s=g.getFromId(r,t.xaxis||"x"),n=g.getFromId(r,t.yaxis||"y"),f,u,l,m,h,M,c={msUTC:!!(t.base||t.base===0)};t.orientation==="h"?(f=s.makeCalcdata(t,"x",c),l=n.makeCalcdata(t,"y"),m=L(t,n,"y",l),h=!!t.yperiodalignment,M="y"):(f=n.makeCalcdata(t,"y",c),l=s.makeCalcdata(t,"x"),m=L(t,s,"x",l),h=!!t.xperiodalignment,M="x"),u=m.vals;for(var i=Math.min(u.length,f.length),d=new Array(i),b=0;b<i;b++)d[b]={p:u[b],s:f[b]},h&&(d[b].orig_p=l[b],d[b][M+"End"]=m.ends[b],d[b][M+"Start"]=m.starts[b]),t.ids&&(d[b].id=String(t.ids[b]));return a(t,"marker")&&C(r,t,{vals:t.marker.color,containerStr:"marker",cLetter:"c"}),a(t,"marker.line")&&C(r,t,{vals:t.marker.line.color,containerStr:"marker.line",cLetter:"c"}),A(d,t),v(d,t),d}},78048:function(G){G.exports={TEXTPAD:3,eventDataKeys:["value","label"]}},96376:function(G,U,e){var g=e(38248),L=e(3400).isArrayOrTypedArray,a=e(39032).BADNUM,C=e(24040),A=e(54460),v=e(71888).getAxisGroup,p=e(72592);function r(x,_){for(var I=_.xaxis,N=_.yaxis,k=x._fullLayout,F=x._fullData,O=x.calcdata,z=[],B=[],W=0;W<F.length;W++){var q=F[W];if(q.visible===!0&&C.traceIs(q,"bar")&&q.xaxis===I._id&&q.yaxis===N._id&&(q.orientation==="h"?z.push(O[W]):B.push(O[W]),q._computePh))for(var ee=x.calcdata[W],Q=0;Q<ee.length;Q++)typeof ee[Q].ph0=="function"&&(ee[Q].ph0=ee[Q].ph0()),typeof ee[Q].ph1=="function"&&(ee[Q].ph1=ee[Q].ph1())}var oe={xCat:I.type==="category"||I.type==="multicategory",yCat:N.type==="category"||N.type==="multicategory",mode:k.barmode,norm:k.barnorm,gap:k.bargap,groupgap:k.bargroupgap};t(x,I,N,B,oe),t(x,N,I,z,oe)}function t(x,_,I,N,k){if(!!N.length){var F,O,z,B,W;switch(f(I,N),k.mode){case"overlay":u(_,I,N,k);break;case"group":for(F=[],O=[],z=0;z<N.length;z++)B=N[z],W=B[0].trace,W.offset===void 0?O.push(B):F.push(B);O.length&&l(x,_,I,O,k),F.length&&u(_,I,F,k);break;case"stack":case"relative":for(F=[],O=[],z=0;z<N.length;z++)B=N[z],W=B[0].trace,W.base===void 0?O.push(B):F.push(B);n(O),O.length&&m(x,_,I,O,k),F.length&&u(_,I,F,k);break}s(N),o(N,_)}}function s(x){var _,I,N,k,F,O,z;for(_=0;_<x.length;_++)I=x[_],N=I[0].trace,k=I[0].t,k.cornerradiusvalue===void 0&&(F=N.marker?N.marker.cornerradius:void 0,F!==void 0&&(O=g(F)?+F:+F.slice(0,-1),z=g(F)?"px":"%",k.cornerradiusvalue=O,k.cornerradiusform=z))}function n(x){if(!(x.length<2)){var _,I,N,k,F,O,z;for(_=0;_<x.length&&(I=x[_],N=I[0].trace,F=N.marker?N.marker.cornerradius:void 0,F===void 0);_++);if(F!==void 0)for(O=g(F)?+F:+F.slice(0,-1),z=g(F)?"px":"%",_=0;_<x.length;_++)I=x[_],k=I[0].t,k.cornerradiusvalue=O,k.cornerradiusform=z}}function f(x,_){var I,N;for(I=0;I<_.length;I++){var k=_[I],F=k[0].trace,O=F.type==="funnel"?F._base:F.base,z,B=F.orientation==="h"?F.xcalendar:F.ycalendar,W=x.type==="category"||x.type==="multicategory"?function(){return null}:x.d2c;if(L(O)){for(N=0;N<Math.min(O.length,k.length);N++)z=W(O[N],0,B),g(z)?(k[N].b=+z,k[N].hasB=1):k[N].b=0;for(;N<k.length;N++)k[N].b=0}else{z=W(O,0,B);var q=g(z);for(z=q?z:0,N=0;N<k.length;N++)k[N].b=z,q&&(k[N].hasB=1)}}}function u(x,_,I,N){for(var k=0;k<I.length;k++){var F=I[k],O=new p([F],{posAxis:x,sepNegVal:!1,overlapNoMerge:!N.norm});h(x,O,N),N.norm?(E(O),S(_,O,N)):b(_,O)}}function l(x,_,I,N,k){var F=new p(N,{posAxis:_,sepNegVal:!1,overlapNoMerge:!k.norm});M(x,_,F,k),y(F,_),k.norm?(E(F),S(I,F,k)):b(I,F)}function m(x,_,I,N,k){var F=new p(N,{posAxis:_,sepNegVal:k.mode==="relative",overlapNoMerge:!(k.norm||k.mode==="stack"||k.mode==="relative")});h(_,F,k),w(I,F,k);for(var O=0;O<N.length;O++)for(var z=N[O],B=0;B<z.length;B++){var W=z[B];if(W.s!==a){var q=W.b+W.s===F.get(W.p,W.s);q&&(W._outmost=!0)}}k.norm&&S(I,F,k)}function h(x,_,I){for(var N=_.minDiff,k=_.traces,F=N*(1-I.gap),O=F,z=O*(1-(I.groupgap||0)),B=-z/2,W=0;W<k.length;W++){var q=k[W],ee=q[0].t;ee.barwidth=z,ee.poffset=B,ee.bargroupwidth=F,ee.bardelta=N}_.binWidth=k[0][0].t.barwidth/100,c(_),i(x,_),d(x,_)}function M(x,_,I,N){for(var k=x._fullLayout,F=I.positions,O=I.distinctPositions,z=I.minDiff,B=I.traces,W=B.length,q=F.length!==O.length,ee=z*(1-N.gap),Q=v(k,_._id)+B[0][0].trace.orientation,oe=k._alignmentOpts[Q]||{},Z=0;Z<W;Z++){var Y=B[Z],te=Y[0].trace,X=oe[te.alignmentgroup]||{},$=Object.keys(X.offsetGroups||{}).length,ie;$?ie=ee/$:ie=q?ee/W:ee;var J=ie*(1-(N.groupgap||0)),j;$?j=((2*te._offsetIndex+1-$)*ie-J)/2:j=q?((2*Z+1-W)*ie-J)/2:-J/2;var se=Y[0].t;se.barwidth=J,se.poffset=j,se.bargroupwidth=ee,se.bardelta=z}I.binWidth=B[0][0].t.barwidth/100,c(I),i(_,I),d(_,I,q)}function c(x){var _=x.traces,I,N;for(I=0;I<_.length;I++){var k=_[I],F=k[0],O=F.trace,z=F.t,B=O._offset||O.offset,W=z.poffset,q;if(L(B)){for(q=Array.prototype.slice.call(B,0,k.length),N=0;N<q.length;N++)g(q[N])||(q[N]=W);for(N=q.length;N<k.length;N++)q.push(W);z.poffset=q}else B!==void 0&&(z.poffset=B);var ee=O._width||O.width,Q=z.barwidth;if(L(ee)){var oe=Array.prototype.slice.call(ee,0,k.length);for(N=0;N<oe.length;N++)g(oe[N])||(oe[N]=Q);for(N=oe.length;N<k.length;N++)oe.push(Q);if(z.barwidth=oe,B===void 0){for(q=[],N=0;N<k.length;N++)q.push(W+(Q-oe[N])/2);z.poffset=q}}else ee!==void 0&&(z.barwidth=ee,B===void 0&&(z.poffset=W+(Q-ee)/2))}}function i(x,_){for(var I=_.traces,N=P(x),k=0;k<I.length;k++)for(var F=I[k],O=F[0].t,z=O.poffset,B=L(z),W=O.barwidth,q=L(W),ee=0;ee<F.length;ee++){var Q=F[ee],oe=Q.w=q?W[ee]:W;Q.p===void 0&&(Q.p=Q[N],Q["orig_"+N]=Q[N]);var Z=(B?z[ee]:z)+oe/2;Q[N]=Q.p+Z}}function d(x,_,I){var N=_.traces,k=_.minDiff,F=k/2;A.minDtick(x,_.minDiff,_.distinctPositions[0],I);for(var O=0;O<N.length;O++){var z=N[O],B=z[0],W=B.trace,q=[],ee,Q,oe,Z;for(Z=0;Z<z.length;Z++)ee=z[Z],Q=ee.p-F,oe=ee.p+F,q.push(Q,oe);if(W.width||W.offset){var Y=B.t,te=Y.poffset,X=Y.barwidth,$=L(te),ie=L(X);for(Z=0;Z<z.length;Z++){ee=z[Z];var J=$?te[Z]:te,j=ie?X[Z]:X;Q=ee.p+J,oe=Q+j,q.push(Q,oe)}}W._extremes[x._id]=A.findExtremes(x,q,{padded:!1})}}function b(x,_){for(var I=_.traces,N=P(x),k=0;k<I.length;k++){for(var F=I[k],O=F[0].trace,z=O.type==="scatter",B=O.orientation==="v",W=[],q=!1,ee=0;ee<F.length;ee++){var Q=F[ee],oe=z?0:Q.b,Z=z?B?Q.y:Q.x:oe+Q.s;Q[N]=Z,W.push(Z),Q.hasB&&W.push(oe),(!Q.hasB||!Q.b)&&(q=!0)}O._extremes[x._id]=A.findExtremes(x,W,{tozero:q,padded:!0})}}function w(x,_,I){var N=P(x),k=_.traces,F,O,z,B,W,q;for(B=0;B<k.length;B++)if(F=k[B],O=F[0].trace,O.type==="funnel")for(W=0;W<F.length;W++)q=F[W],q.s!==a&&_.put(q.p,-.5*q.s);for(B=0;B<k.length;B++){F=k[B],O=F[0].trace,z=O.type==="funnel";var ee=[];for(W=0;W<F.length;W++)if(q=F[W],q.s!==a){var Q;z?Q=q.s:Q=q.s+q.b;var oe=_.put(q.p,Q),Z=oe+Q;q.b=oe,q[N]=Z,I.norm||(ee.push(Z),q.hasB&&ee.push(oe))}I.norm||(O._extremes[x._id]=A.findExtremes(x,ee,{tozero:!0,padded:!0}))}}function E(x){for(var _=x.traces,I=0;I<_.length;I++)for(var N=_[I],k=0;k<N.length;k++){var F=N[k];F.s!==a&&x.put(F.p,F.b+F.s)}}function y(x,_){for(var I=x.traces,N=0;N<I.length;N++){var k=I[N],F=k[0].trace;if(F.base===void 0)for(var O=new p([k],{posAxis:_,sepNegVal:!0,overlapNoMerge:!0}),z=0;z<k.length;z++){var B=k[z];if(B.p!==a){var W=O.put(B.p,B.b+B.s);W&&(B.b=W)}}}}function S(x,_,I){var N=_.traces,k=P(x),F=I.norm==="fraction"?1:100,O=F/1e9,z=x.l2c(x.c2l(0)),B=I.mode==="stack"?F:z;function W(j){return g(x.c2l(j))&&(j<z-O||j>B+O||!g(z))}for(var q=0;q<N.length;q++){for(var ee=N[q],Q=ee[0].trace,oe=[],Z=!1,Y=!1,te=0;te<ee.length;te++){var X=ee[te];if(X.s!==a){var $=Math.abs(F/_.get(X.p,X.s));X.b*=$,X.s*=$;var ie=X.b,J=ie+X.s;X[k]=J,oe.push(J),Y=Y||W(J),X.hasB&&(oe.push(ie),Y=Y||W(ie)),(!X.hasB||!X.b)&&(Z=!0)}}Q._extremes[x._id]=A.findExtremes(x,oe,{tozero:Z,padded:Y})}}function T(x,_,I,N){for(var k=P(N),F=0;F<x.length;F++)for(var O=x[F],z=0;z<O.length;z++){var B=O[z],W=B[k];B._sMin=_[W],B._sMax=I[W]}}function o(x,_){var I=P(_),N={},k,F,O,z=1/0,B=-1/0;for(k=0;k<x.length;k++)for(O=x[k],F=0;F<O.length;F++){var W=O[F].p;g(W)&&(z=Math.min(z,W),B=Math.max(B,W))}var q=1e4/(B-z),ee=N.round=function(le){return String(Math.round(q*(le-z)))},Q={},oe={},Z=x.some(function(le){var pe=le[0].trace;return"marker"in pe&&pe.marker.cornerradius});for(k=0;k<x.length;k++){O=x[k],O[0].t.extents=N;var Y=O[0].t.poffset,te=L(Y);for(F=0;F<O.length;F++){var X=O[F],$=X[I]-X.w/2;if(g($)){var ie=X[I]+X.w/2,J=ee(X.p);N[J]?N[J]=[Math.min($,N[J][0]),Math.max(ie,N[J][1])]:N[J]=[$,ie]}if(X.p0=X.p+(te?Y[F]:Y),X.p1=X.p0+X.w,X.s0=X.b,X.s1=X.s0+X.s,Z){var j=Math.min(X.s0,X.s1)||0,se=Math.max(X.s0,X.s1)||0,ne=X[I];Q[ne]=ne in Q?Math.min(Q[ne],j):j,oe[ne]=ne in oe?Math.max(oe[ne],se):se}}}Z&&T(x,Q,oe,_)}function P(x){return x._id.charAt(0)}G.exports={crossTraceCalc:r,setGroupPositions:t}},31508:function(G,U,e){var g=e(38248),L=e(3400),a=e(76308),C=e(24040),A=e(43980),v=e(31147),p=e(55592),r=e(20011),t=e(20832),s=L.coerceFont;function n(m,h,M,c){function i(y,S){return L.coerce(m,h,t,y,S)}var d=A(m,h,c,i);if(!d){h.visible=!1;return}v(m,h,c,i),i("xhoverformat"),i("yhoverformat"),i("orientation",h.x&&!h.y?"h":"v"),i("base"),i("offset"),i("width"),i("text"),i("hovertext"),i("hovertemplate");var b=i("textposition");l(m,h,c,i,b,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),p(m,h,i,M,c);var w=(h.marker.line||{}).color,E=C.getComponentMethod("errorbars","supplyDefaults");E(m,h,w||a.defaultLine,{axis:"y"}),E(m,h,w||a.defaultLine,{axis:"x",inherit:"y"}),L.coerceSelectionMarkerOpacity(h,i)}function f(m,h){var M,c;function i(w,E){return L.coerce(c._input,c,t,w,E)}for(var d=0;d<m.length;d++)if(c=m[d],c.type==="bar"){M=c._input;var b=i("marker.cornerradius",h.barcornerradius);c.marker&&(c.marker.cornerradius=u(b)),h.barmode==="group"&&r(M,c,h,i)}}function u(m){if(g(m)){if(m=+m,m>=0)return m}else if(typeof m=="string"&&(m=m.trim(),m.slice(-1)==="%"&&g(m.slice(0,-1))&&(m=+m.slice(0,-1),m>=0)))return m+"%"}function l(m,h,M,c,i,d){d=d||{};var b=d.moduleHasSelected!==!1,w=d.moduleHasUnselected!==!1,E=d.moduleHasConstrain!==!1,y=d.moduleHasCliponaxis!==!1,S=d.moduleHasTextangle!==!1,T=d.moduleHasInsideanchor!==!1,o=!!d.hasPathbar,P=Array.isArray(i)||i==="auto",x=P||i==="inside",_=P||i==="outside";if(x||_){var I=s(c,"textfont",M.font),N=L.extendFlat({},I),k=m.textfont&&m.textfont.color,F=!k;if(F&&delete N.color,s(c,"insidetextfont",N),o){var O=L.extendFlat({},I);F&&delete O.color,s(c,"pathbar.textfont",O)}_&&s(c,"outsidetextfont",I),b&&c("selected.textfont.color"),w&&c("unselected.textfont.color"),E&&c("constraintext"),y&&c("cliponaxis"),S&&c("textangle"),c("texttemplate")}x&&T&&c("insidetextanchor")}G.exports={supplyDefaults:n,crossTraceDefaults:f,handleText:l,validateCornerradius:u}},52160:function(G){G.exports=function(e,g,L){return e.x="xVal"in g?g.xVal:g.x,e.y="yVal"in g?g.yVal:g.y,g.xa&&(e.xaxis=g.xa),g.ya&&(e.yaxis=g.ya),L.orientation==="h"?(e.label=e.y,e.value=e.x):(e.label=e.x,e.value=e.y),e}},60444:function(G,U,e){var g=e(38248),L=e(49760),a=e(3400).isArrayOrTypedArray;U.coerceString=function(C,A,v){if(typeof A=="string"){if(A||!C.noBlank)return A}else if((typeof A=="number"||A===!0)&&!C.strict)return String(A);return v!==void 0?v:C.dflt},U.coerceNumber=function(C,A,v){if(g(A)){A=+A;var p=C.min,r=C.max,t=p!==void 0&&A<p||r!==void 0&&A>r;if(!t)return A}return v!==void 0?v:C.dflt},U.coerceColor=function(C,A,v){return L(A).isValid()?A:v!==void 0?v:C.dflt},U.coerceEnumerated=function(C,A,v){return C.coerceNumber&&(A=+A),C.values.indexOf(A)!==-1?A:v!==void 0?v:C.dflt},U.getValue=function(C,A){var v;return a(C)?A<C.length&&(v=C[A]):v=C,v},U.getLineWidth=function(C,A){var v=0<A.mlw?A.mlw:a(C.marker.line.width)?0:C.marker.line.width;return v}},63400:function(G,U,e){var g=e(93024),L=e(24040),a=e(76308),C=e(3400).fillText,A=e(60444).getLineWidth,v=e(54460).hoverLabelText,p=e(39032).BADNUM;function r(n,f,u,l,m){var h=t(n,f,u,l,m);if(h){var M=h.cd,c=M[0].trace,i=M[h.index];return h.color=s(c,i),L.getComponentMethod("errorbars","hoverInfo")(i,c,h),[h]}}function t(n,f,u,l,m){var h=n.cd,M=h[0].trace,c=h[0].t,i=l==="closest",d=M.type==="waterfall",b=n.maxHoverDistance,w=n.maxSpikeDistance,E,y,S,T,o,P,x;M.orientation==="h"?(E=u,y=f,S="y",T="x",o=oe,P=q):(E=f,y=u,S="x",T="y",P=oe,o=q);var _=M[S+"period"],I=i||_;function N(le){return F(le,-1)}function k(le){return F(le,1)}function F(le,pe){var Ae=le.w;return le[S]+pe*Ae/2}function O(le){return le[S+"End"]-le[S+"Start"]}var z=i?N:_?function(le){return le.p-O(le)/2}:function(le){return Math.min(N(le),le.p-c.bardelta/2)},B=i?k:_?function(le){return le.p+O(le)/2}:function(le){return Math.max(k(le),le.p+c.bardelta/2)};function W(le,pe,Ae){return m.finiteRange&&(Ae=0),g.inbox(le-E,pe-E,Ae+Math.min(1,Math.abs(pe-le)/x)-1)}function q(le){return W(z(le),B(le),b)}function ee(le){return W(N(le),k(le),w)}function Q(le){var pe=le[T];if(d){var Ae=Math.abs(le.rawS)||0;y>0?pe+=Ae:y<0&&(pe-=Ae)}return pe}function oe(le){var pe=y,Ae=le.b,be=Q(le);return g.inbox(Ae-pe,be-pe,b+(be-pe)/(be-Ae)-1)}function Z(le){var pe=y,Ae=le.b,be=Q(le);return g.inbox(Ae-pe,be-pe,w+(be-pe)/(be-Ae)-1)}var Y=n[S+"a"],te=n[T+"a"];x=Math.abs(Y.r2c(Y.range[1])-Y.r2c(Y.range[0]));function X(le){return(o(le)+P(le))/2}var $=g.getDistanceFunction(l,o,P,X);if(g.getClosest(h,$,n),n.index!==!1&&h[n.index].p!==p){I||(z=function(le){return Math.min(N(le),le.p-c.bargroupwidth/2)},B=function(le){return Math.max(k(le),le.p+c.bargroupwidth/2)});var ie=n.index,J=h[ie],j=M.base?J.b+J.s:J.s;n[T+"0"]=n[T+"1"]=te.c2p(J[T],!0),n[T+"LabelVal"]=j;var se=c.extents[c.extents.round(J.p)];n[S+"0"]=Y.c2p(i?z(J):se[0],!0),n[S+"1"]=Y.c2p(i?B(J):se[1],!0);var ne=J.orig_p!==void 0;return n[S+"LabelVal"]=ne?J.orig_p:J.p,n.labelLabel=v(Y,n[S+"LabelVal"],M[S+"hoverformat"]),n.valueLabel=v(te,n[T+"LabelVal"],M[T+"hoverformat"]),n.baseLabel=v(te,J.b,M[T+"hoverformat"]),n.spikeDistance=(Z(J)+ee(J))/2,n[S+"Spike"]=Y.c2p(J.p,!0),C(J,M,n),n.hovertemplate=M.hovertemplate,n}}function s(n,f){var u=f.mcc||n.marker.color,l=f.mlcc||n.marker.line.color,m=A(n,f);if(a.opacity(u))return u;if(a.opacity(l)&&m)return l}G.exports={hoverPoints:r,hoverOnBars:t,getTraceColor:s}},51132:function(G,U,e){G.exports={attributes:e(20832),layoutAttributes:e(39324),supplyDefaults:e(31508).supplyDefaults,crossTraceDefaults:e(31508).crossTraceDefaults,supplyLayoutDefaults:e(37156),calc:e(71820),crossTraceCalc:e(96376).crossTraceCalc,colorbar:e(5528),arraysToCalcdata:e(84664),plot:e(98184).plot,style:e(60100).style,styleOnSelect:e(60100).styleOnSelect,hoverPoints:e(63400).hoverPoints,eventData:e(52160),selectPoints:e(45784),moduleType:"trace",name:"bar",basePlotModule:e(57952),categories:["bar-like","cartesian","svg","bar","oriented","errorBarsOK","showLegend","zoomScale"],animatable:!0,meta:{}}},39324:function(G){G.exports={barmode:{valType:"enumerated",values:["stack","group","overlay","relative"],dflt:"group",editType:"calc"},barnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},bargap:{valType:"number",min:0,max:1,editType:"calc"},bargroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},barcornerradius:{valType:"any",editType:"calc"}}},37156:function(G,U,e){var g=e(24040),L=e(54460),a=e(3400),C=e(39324),A=e(31508).validateCornerradius;G.exports=function(v,p,r){function t(d,b){return a.coerce(v,p,C,d,b)}for(var s=!1,n=!1,f=!1,u={},l=t("barmode"),m=0;m<r.length;m++){var h=r[m];if(g.traceIs(h,"bar")&&h.visible)s=!0;else continue;if(l==="group"){var M=h.xaxis+h.yaxis;u[M]&&(f=!0),u[M]=!0}if(h.visible&&h.type==="histogram"){var c=L.getFromId({_fullLayout:p},h[h.orientation==="v"?"xaxis":"yaxis"]);c.type!=="category"&&(n=!0)}}if(!s){delete p.barmode;return}l!=="overlay"&&t("barnorm"),t("bargap",n&&!f?0:.2),t("bargroupgap");var i=t("barcornerradius");p.barcornerradius=A(i)}},98184:function(G,U,e){var g=e(33428),L=e(38248),a=e(3400),C=e(72736),A=e(76308),v=e(43616),p=e(24040),r=e(54460).tickText,t=e(82744),s=t.recordMinTextSize,n=t.clearMinTextSize,f=e(60100),u=e(60444),l=e(78048),m=e(20832),h=m.text,M=m.textposition,c=e(10624).appendArrayPointValue,i=l.TEXTPAD;function d(q){return q.id}function b(q){if(q.ids)return d}function w(q){return(q>0)-(q<0)}function E(q,ee){return q<ee?1:-1}function y(q,ee,Q,oe){var Z=[],Y=[],te=oe?ee:Q,X=oe?Q:ee;return Z[0]=te.c2p(q.s0,!0),Y[0]=X.c2p(q.p0,!0),Z[1]=te.c2p(q.s1,!0),Y[1]=X.c2p(q.p1,!0),oe?[Z,Y]:[Y,Z]}function S(q,ee,Q,oe){if(!ee.uniformtext.mode&&T(Q)){var Z;return oe&&(Z=oe()),q.transition().duration(Q.duration).ease(Q.easing).each("end",function(){Z&&Z()}).each("interrupt",function(){Z&&Z()})}else return q}function T(q){return q&&q.duration>0}function o(q,ee,Q,oe,Z,Y){var te=ee.xaxis,X=ee.yaxis,$=q._fullLayout,ie=q._context.staticPlot;Z||(Z={mode:$.barmode,norm:$.barmode,gap:$.bargap,groupgap:$.bargroupgap},n("bar",$));var J=a.makeTraceGroups(oe,Q,"trace bars").each(function(j){var se=g.select(this),ne=j[0].trace,le=j[0].t,pe=ne.type==="waterfall",Ae=ne.type==="funnel",be=ne.type==="histogram",Re=ne.type==="bar",xe=Re||Ae,Me=0;pe&&ne.connector.visible&&ne.connector.mode==="between"&&(Me=ne.connector.line.width/2);var ye=ne.orientation==="h",Se=T(Z),Fe=a.ensureSingle(se,"g","points"),Be=b(ne),_e=Fe.selectAll("g.point").data(a.identity,Be);_e.enter().append("g").classed("point",!0),_e.exit().remove(),_e.each(function(it,lt){var $e=g.select(this),qe=y(it,te,X,ye),ft=qe[0][0],ct=qe[0][1],pt=qe[1][0],yt=qe[1][1],Et=(ye?ct-ft:yt-pt)===0;Et&&xe&&u.getLineWidth(ne,it)&&(Et=!1),Et||(Et=!L(ft)||!L(ct)||!L(pt)||!L(yt)),it.isBlank=Et,Et&&(ye?ct=ft:yt=pt),Me&&!Et&&(ye?(ft-=E(ft,ct)*Me,ct+=E(ft,ct)*Me):(pt-=E(pt,yt)*Me,yt+=E(pt,yt)*Me));var tt,Ie;if(ne.type==="waterfall"){if(!Et){var We=ne[it.dir].marker;tt=We.line.width,Ie=We.color}}else tt=u.getLineWidth(ne,it),Ie=it.mc||ne.marker.color;function Ze(at){var bt=g.round(tt/2%1,2);return Z.gap===0&&Z.groupgap===0?g.round(Math.round(at)-bt,2):at}function He(at,bt,Ct){return Ct&&at===bt?at:Math.abs(at-bt)>=2?Ze(at):at>bt?Math.ceil(at):Math.floor(at)}var De=A.opacity(Ie),me=De<1||tt>.01?Ze:He;q._context.staticPlot||(ft=me(ft,ct,ye),ct=me(ct,ft,ye),pt=me(pt,yt,!ye),yt=me(yt,pt,!ye));var ge=ye?te.c2p:X.c2p,Ee;it.s0>0?Ee=it._sMax:it.s0<0?Ee=it._sMin:Ee=it.s1>0?it._sMax:it._sMin;function Te(at,bt){if(!at)return 0;var Ct=Math.abs(ye?yt-pt:ct-ft),Dt=Math.abs(ye?ct-ft:yt-pt),It=me(Math.abs(ge(Ee,!0)-ge(0,!0))),Vt=it.hasB?Math.min(Ct/2,Dt/2):Math.min(Ct/2,It),Nt;if(bt==="%"){var Jt=Math.min(50,at);Nt=Ct*(Jt/100)}else Nt=at;return me(Math.max(Math.min(Nt,Vt),0))}var ze=Re||be?Te(le.cornerradiusvalue,le.cornerradiusform):0,Xe,et,ut="M"+ft+","+pt+"V"+yt+"H"+ct+"V"+pt+"Z",dt=0;if(ze&&it.s){var Zt=w(it.s0)===0||w(it.s)===w(it.s0)?it.s1:it.s0;if(dt=me(it.hasB?0:Math.abs(ge(Ee,!0)-ge(Zt,!0))),dt<ze){var jt=E(ft,ct),Tt=E(pt,yt),kt=jt===-Tt?1:0;if(ye)if(it.hasB)Xe="M"+(ft+ze*jt)+","+pt+"A "+ze+","+ze+" 0 0 "+kt+" "+ft+","+(pt+ze*Tt)+"V"+(yt-ze*Tt)+"A "+ze+","+ze+" 0 0 "+kt+" "+(ft+ze*jt)+","+yt+"H"+(ct-ze*jt)+"A "+ze+","+ze+" 0 0 "+kt+" "+ct+","+(yt-ze*Tt)+"V"+(pt+ze*Tt)+"A "+ze+","+ze+" 0 0 "+kt+" "+(ct-ze*jt)+","+pt+"Z";else{et=Math.abs(ct-ft)+dt;var Qt=et<ze?ze-Math.sqrt(et*(2*ze-et)):0,wr=dt>0?Math.sqrt(dt*(2*ze-dt)):0,xt=jt>0?Math.max:Math.min;Xe="M"+ft+","+pt+"V"+(yt-Qt*Tt)+"H"+xt(ct-(ze-dt)*jt,ft)+"A "+ze+","+ze+" 0 0 "+kt+" "+ct+","+(yt-ze*Tt-wr)+"V"+(pt+ze*Tt+wr)+"A "+ze+","+ze+" 0 0 "+kt+" "+xt(ct-(ze-dt)*jt,ft)+","+(pt+Qt*Tt)+"Z"}else if(it.hasB)Xe="M"+(ft+ze*jt)+","+pt+"A "+ze+","+ze+" 0 0 "+kt+" "+ft+","+(pt+ze*Tt)+"V"+(yt-ze*Tt)+"A "+ze+","+ze+" 0 0 "+kt+" "+(ft+ze*jt)+","+yt+"H"+(ct-ze*jt)+"A "+ze+","+ze+" 0 0 "+kt+" "+ct+","+(yt-ze*Tt)+"V"+(pt+ze*Tt)+"A "+ze+","+ze+" 0 0 "+kt+" "+(ct-ze*jt)+","+pt+"Z";else{et=Math.abs(yt-pt)+dt;var At=et<ze?ze-Math.sqrt(et*(2*ze-et)):0,Wt=dt>0?Math.sqrt(dt*(2*ze-dt)):0,er=Tt>0?Math.max:Math.min;Xe="M"+(ft+At*jt)+","+pt+"V"+er(yt-(ze-dt)*Tt,pt)+"A "+ze+","+ze+" 0 0 "+kt+" "+(ft+ze*jt-Wt)+","+yt+"H"+(ct-ze*jt+Wt)+"A "+ze+","+ze+" 0 0 "+kt+" "+(ct-At*jt)+","+er(yt-(ze-dt)*Tt,pt)+"V"+pt+"Z"}}else Xe=ut}else Xe=ut;var $t=S(a.ensureSingle($e,"path"),$,Z,Y);if($t.style("vector-effect",ie?"none":"non-scaling-stroke").attr("d",isNaN((ct-ft)*(yt-pt))||Et&&q._context.staticPlot?"M0,0Z":Xe).call(v.setClipUrl,ee.layerClipId,q),!$.uniformtext.mode&&Se){var ht=v.makePointStyleFns(ne);v.singlePointStyle(it,$t,ne,ht,q)}P(q,ee,$e,j,lt,ft,ct,pt,yt,ze,dt,Z,Y),ee.layerClipId&&v.hideOutsideRangePoint(it,$e.select("text"),te,X,ne.xcalendar,ne.ycalendar)});var Ue=ne.cliponaxis===!1;v.setClipUrl(se,Ue?null:ee.layerClipId,q)});p.getComponentMethod("errorbars","plot")(q,J,ee,Z)}function P(q,ee,Q,oe,Z,Y,te,X,$,ie,J,j,se){var ne=ee.xaxis,le=ee.yaxis,pe=q._fullLayout,Ae;function be(et,ut,dt){var Zt=a.ensureSingle(et,"text").text(ut).attr({class:"bartext bartext-"+Ae,"text-anchor":"middle","data-notex":1}).call(v.font,dt).call(C.convertToTspans,q);return Zt}var Re=oe[0].trace,xe=Re.orientation==="h",Me=O(pe,oe,Z,ne,le);Ae=z(Re,Z);var ye=j.mode==="stack"||j.mode==="relative",Se=oe[Z],Fe=!ye||Se._outmost,Be=Se.hasB,_e=ie&&ie-J>i;if(!Me||Ae==="none"||(Se.isBlank||Y===te||X===$)&&(Ae==="auto"||Ae==="inside")){Q.select("text").remove();return}var Ue=pe.font,it=f.getBarColor(oe[Z],Re),lt=f.getInsideTextFont(Re,Z,Ue,it),$e=f.getOutsideTextFont(Re,Z,Ue),qe=Re.insidetextanchor||"end",ft=Q.datum();xe?ne.type==="log"&&ft.s0<=0&&(ne.range[0]<ne.range[1]?Y=0:Y=ne._length):le.type==="log"&&ft.s0<=0&&(le.range[0]<le.range[1]?X=le._length:X=0);var ct=Math.abs(te-Y),pt=Math.abs($-X),yt=ct-2*i,Et=pt-2*i,tt,Ie,We,Ze,He;if(Ae==="outside"&&!Fe&&!Se.hasB&&(Ae="inside"),Ae==="auto")if(Fe){Ae="inside",He=a.ensureUniformFontSize(q,lt),tt=be(Q,Me,He),Ie=v.bBox(tt.node()),We=Ie.width,Ze=Ie.height;var De=We>0&&Ze>0,me;_e?Be?me=x(yt-2*ie,Et,We,Ze,xe)||x(yt,Et-2*ie,We,Ze,xe):xe?me=x(yt-(ie-J),Et,We,Ze,xe)||x(yt,Et-2*(ie-J),We,Ze,xe):me=x(yt,Et-(ie-J),We,Ze,xe)||x(yt-2*(ie-J),Et,We,Ze,xe):me=x(yt,Et,We,Ze,xe),De&&me?Ae="inside":(Ae="outside",tt.remove(),tt=null)}else Ae="inside";if(!tt){He=a.ensureUniformFontSize(q,Ae==="outside"?$e:lt),tt=be(Q,Me,He);var ge=tt.attr("transform");if(tt.attr("transform",""),Ie=v.bBox(tt.node()),We=Ie.width,Ze=Ie.height,tt.attr("transform",ge),We<=0||Ze<=0){tt.remove();return}}var Ee=Re.textangle,Te,ze;Ae==="outside"?(ze=Re.constraintext==="both"||Re.constraintext==="outside",Te=F(Y,te,X,$,Ie,{isHorizontal:xe,constrained:ze,angle:Ee})):(ze=Re.constraintext==="both"||Re.constraintext==="inside",Te=N(Y,te,X,$,Ie,{isHorizontal:xe,constrained:ze,angle:Ee,anchor:qe,hasB:Be,r:ie,overhead:J})),Te.fontSize=He.size,s(Re.type==="histogram"?"bar":Re.type,Te,pe),Se.transform=Te;var Xe=S(tt,pe,j,se);a.setTransormAndDisplay(Xe,Te)}function x(q,ee,Q,oe,Z){if(q<0||ee<0)return!1;var Y=Q<=q&&oe<=ee,te=Q<=ee&&oe<=q,X=Z?q>=Q*(ee/oe):ee>=oe*(q/Q);return Y||te||X}function _(q){return q==="auto"?0:q}function I(q,ee){var Q=Math.PI/180*ee,oe=Math.abs(Math.sin(Q)),Z=Math.abs(Math.cos(Q));return{x:q.width*Z+q.height*oe,y:q.width*oe+q.height*Z}}function N(q,ee,Q,oe,Z,Y){var te=!!Y.isHorizontal,X=!!Y.constrained,$=Y.angle||0,ie=Y.anchor,J=ie==="end",j=ie==="start",se=Y.leftToRight||0,ne=(se+1)/2,le=1-ne,pe=Y.hasB,Ae=Y.r,be=Y.overhead,Re=Z.width,xe=Z.height,Me=Math.abs(ee-q),ye=Math.abs(oe-Q),Se=Me>2*i&&ye>2*i?i:0;Me-=2*Se,ye-=2*Se;var Fe=_($);$==="auto"&&!(Re<=Me&&xe<=ye)&&(Re>Me||xe>ye)&&(!(Re>ye||xe>Me)||Re<xe!=Me<ye)&&(Fe+=90);var Be=I(Z,Fe),_e,Ue;if(Ae&&Ae-be>i){var it=k(q,ee,Q,oe,Be,Ae,be,te,pe);_e=it.scale,Ue=it.pad}else _e=1,X&&(_e=Math.min(1,Me/Be.x,ye/Be.y)),Ue=0;var lt=Z.left*le+Z.right*ne,$e=(Z.top+Z.bottom)/2,qe=(q+i)*le+(ee-i)*ne,ft=(Q+oe)/2,ct=0,pt=0;if(j||J){var yt=(te?Be.x:Be.y)/2;Ae&&(J||pe)&&(Se+=Ue);var Et=te?E(q,ee):E(Q,oe);te?j?(qe=q+Et*Se,ct=-Et*yt):(qe=ee-Et*Se,ct=Et*yt):j?(ft=Q+Et*Se,pt=-Et*yt):(ft=oe-Et*Se,pt=Et*yt)}return{textX:lt,textY:$e,targetX:qe,targetY:ft,anchorX:ct,anchorY:pt,scale:_e,rotate:Fe}}function k(q,ee,Q,oe,Z,Y,te,X,$){var ie=Math.max(0,Math.abs(ee-q)-2*i),J=Math.max(0,Math.abs(oe-Q)-2*i),j=Y-i,se=te?j-Math.sqrt(j*j-(j-te)*(j-te)):j,ne=$?j*2:X?j-te:2*se,le=$?j*2:X?2*se:j-te,pe,Ae,be,Re,xe;return Z.y/Z.x>=J/(ie-ne)?Re=J/Z.y:Z.y/Z.x<=(J-le)/ie?Re=ie/Z.x:!$&&X?(pe=Z.x*Z.x+Z.y*Z.y/4,Ae=-2*Z.x*(ie-j)-Z.y*(J/2-j),be=(ie-j)*(ie-j)+(J/2-j)*(J/2-j)-j*j,Re=(-Ae+Math.sqrt(Ae*Ae-4*pe*be))/(2*pe)):$?(pe=(Z.x*Z.x+Z.y*Z.y)/4,Ae=-Z.x*(ie/2-j)-Z.y*(J/2-j),be=(ie/2-j)*(ie/2-j)+(J/2-j)*(J/2-j)-j*j,Re=(-Ae+Math.sqrt(Ae*Ae-4*pe*be))/(2*pe)):(pe=Z.x*Z.x/4+Z.y*Z.y,Ae=-Z.x*(ie/2-j)-2*Z.y*(J-j),be=(ie/2-j)*(ie/2-j)+(J-j)*(J-j)-j*j,Re=(-Ae+Math.sqrt(Ae*Ae-4*pe*be))/(2*pe)),Re=Math.min(1,Re),X?xe=Math.max(0,j-Math.sqrt(Math.max(0,j*j-(j-(J-Z.y*Re)/2)*(j-(J-Z.y*Re)/2)))-te):xe=Math.max(0,j-Math.sqrt(Math.max(0,j*j-(j-(ie-Z.x*Re)/2)*(j-(ie-Z.x*Re)/2)))-te),{scale:Re,pad:xe}}function F(q,ee,Q,oe,Z,Y){var te=!!Y.isHorizontal,X=!!Y.constrained,$=Y.angle||0,ie=Z.width,J=Z.height,j=Math.abs(ee-q),se=Math.abs(oe-Q),ne;te?ne=se>2*i?i:0:ne=j>2*i?i:0;var le=1;X&&(le=te?Math.min(1,se/J):Math.min(1,j/ie));var pe=_($),Ae=I(Z,pe),be=(te?Ae.x:Ae.y)/2,Re=(Z.left+Z.right)/2,xe=(Z.top+Z.bottom)/2,Me=(q+ee)/2,ye=(Q+oe)/2,Se=0,Fe=0,Be=te?E(ee,q):E(Q,oe);return te?(Me=ee-Be*ne,Se=Be*be):(ye=oe+Be*ne,Fe=-Be*be),{textX:Re,textY:xe,targetX:Me,targetY:ye,anchorX:Se,anchorY:Fe,scale:le,rotate:pe}}function O(q,ee,Q,oe,Z){var Y=ee[0].trace,te=Y.texttemplate,X;return te?X=B(q,ee,Q,oe,Z):Y.textinfo?X=W(ee,Q,oe,Z):X=u.getValue(Y.text,Q),u.coerceString(h,X)}function z(q,ee){var Q=u.getValue(q.textposition,ee);return u.coerceEnumerated(M,Q)}function B(q,ee,Q,oe,Z){var Y=ee[0].trace,te=a.castOption(Y,Q,"texttemplate");if(!te)return"";var X=Y.type==="histogram",$=Y.type==="waterfall",ie=Y.type==="funnel",J=Y.orientation==="h",j,se,ne,le;J?(j="y",se=Z,ne="x",le=oe):(j="x",se=oe,ne="y",le=Z);function pe(Se){return r(se,se.c2l(Se),!0).text}function Ae(Se){return r(le,le.c2l(Se),!0).text}var be=ee[Q],Re={};Re.label=be.p,Re.labelLabel=Re[j+"Label"]=pe(be.p);var xe=a.castOption(Y,be.i,"text");(xe===0||xe)&&(Re.text=xe),Re.value=be.s,Re.valueLabel=Re[ne+"Label"]=Ae(be.s);var Me={};c(Me,Y,be.i),(X||Me.x===void 0)&&(Me.x=J?Re.value:Re.label),(X||Me.y===void 0)&&(Me.y=J?Re.label:Re.value),(X||Me.xLabel===void 0)&&(Me.xLabel=J?Re.valueLabel:Re.labelLabel),(X||Me.yLabel===void 0)&&(Me.yLabel=J?Re.labelLabel:Re.valueLabel),$&&(Re.delta=+be.rawS||be.s,Re.deltaLabel=Ae(Re.delta),Re.final=be.v,Re.finalLabel=Ae(Re.final),Re.initial=Re.final-Re.delta,Re.initialLabel=Ae(Re.initial)),ie&&(Re.value=be.s,Re.valueLabel=Ae(Re.value),Re.percentInitial=be.begR,Re.percentInitialLabel=a.formatPercent(be.begR),Re.percentPrevious=be.difR,Re.percentPreviousLabel=a.formatPercent(be.difR),Re.percentTotal=be.sumR,Re.percenTotalLabel=a.formatPercent(be.sumR));var ye=a.castOption(Y,be.i,"customdata");return ye&&(Re.customdata=ye),a.texttemplateString(te,Re,q._d3locale,Me,Re,Y._meta||{})}function W(q,ee,Q,oe){var Z=q[0].trace,Y=Z.orientation==="h",te=Z.type==="waterfall",X=Z.type==="funnel";function $(ye){var Se=Y?oe:Q;return r(Se,ye,!0).text}function ie(ye){var Se=Y?Q:oe;return r(Se,+ye,!0).text}var J=Z.textinfo,j=q[ee],se=J.split("+"),ne=[],le,pe=function(ye){return se.indexOf(ye)!==-1};if(pe("label")&&ne.push($(q[ee].p)),pe("text")&&(le=a.castOption(Z,j.i,"text"),(le===0||le)&&ne.push(le)),te){var Ae=+j.rawS||j.s,be=j.v,Re=be-Ae;pe("initial")&&ne.push(ie(Re)),pe("delta")&&ne.push(ie(Ae)),pe("final")&&ne.push(ie(be))}if(X){pe("value")&&ne.push(ie(j.s));var xe=0;pe("percent initial")&&xe++,pe("percent previous")&&xe++,pe("percent total")&&xe++;var Me=xe>1;pe("percent initial")&&(le=a.formatPercent(j.begR),Me&&(le+=" of initial"),ne.push(le)),pe("percent previous")&&(le=a.formatPercent(j.difR),Me&&(le+=" of previous"),ne.push(le)),pe("percent total")&&(le=a.formatPercent(j.sumR),Me&&(le+=" of total"),ne.push(le))}return ne.join("<br>")}G.exports={plot:o,toMoveInsideBar:N}},45784:function(G){G.exports=function(g,L){var a=g.cd,C=g.xaxis,A=g.yaxis,v=a[0].trace,p=v.type==="funnel",r=v.orientation==="h",t=[],s;if(L===!1)for(s=0;s<a.length;s++)a[s].selected=0;else for(s=0;s<a.length;s++){var n=a[s],f="ct"in n?n.ct:U(n,C,A,r,p);L.contains(f,!1,s,g)?(t.push({pointNumber:s,x:C.c2d(n.x),y:A.c2d(n.y)}),n.selected=1):n.selected=0}return t};function U(e,g,L,a,C){var A=g.c2p(a?e.s0:e.p0,!0),v=g.c2p(a?e.s1:e.p1,!0),p=L.c2p(a?e.p0:e.s0,!0),r=L.c2p(a?e.p1:e.s1,!0);return C?[(A+v)/2,(p+r)/2]:a?[v,(p+r)/2]:[(A+v)/2,r]}},72592:function(G,U,e){G.exports=L;var g=e(3400).distinctVals;function L(a,C){this.traces=a,this.sepNegVal=C.sepNegVal,this.overlapNoMerge=C.overlapNoMerge;for(var A=1/0,v=C.posAxis._id.charAt(0),p=[],r=0;r<a.length;r++){for(var t=a[r],s=0;s<t.length;s++){var n=t[s],f=n.p;f===void 0&&(f=n[v]),f!==void 0&&p.push(f)}t[0]&&t[0].width1&&(A=Math.min(t[0].width1,A))}this.positions=p;var u=g(p);this.distinctPositions=u.vals,u.vals.length===1&&A!==1/0?this.minDiff=A:this.minDiff=Math.min(u.minDiff,A);var l=(C.posAxis||{}).type;(l==="category"||l==="multicategory")&&(this.minDiff=1),this.binWidth=this.minDiff,this.bins={}}L.prototype.put=function(C,A){var v=this.getLabel(C,A),p=this.bins[v]||0;return this.bins[v]=p+A,p},L.prototype.get=function(C,A){var v=this.getLabel(C,A);return this.bins[v]||0},L.prototype.getLabel=function(C,A){var v=A<0&&this.sepNegVal?"v":"^",p=this.overlapNoMerge?C:Math.round(C/this.binWidth);return v+p}},60100:function(G,U,e){var g=e(33428),L=e(76308),a=e(43616),C=e(3400),A=e(24040),v=e(82744).resizeText,p=e(20832),r=p.textfont,t=p.insidetextfont,s=p.outsidetextfont,n=e(60444);function f(y){var S=g.select(y).selectAll("g.barlayer").selectAll("g.trace");v(y,S,"bar");var T=S.size(),o=y._fullLayout;S.style("opacity",function(P){return P[0].trace.opacity}).each(function(P){(o.barmode==="stack"&&T>1||o.bargap===0&&o.bargroupgap===0&&!P[0].trace.marker.line.width)&&g.select(this).attr("shape-rendering","crispEdges")}),S.selectAll("g.points").each(function(P){var x=g.select(this),_=P[0].trace;u(x,_,y)}),A.getComponentMethod("errorbars","style")(S)}function u(y,S,T){a.pointStyle(y.selectAll("path"),S,T),l(y,S,T)}function l(y,S,T){y.selectAll("text").each(function(o){var P=g.select(this),x=C.ensureUniformFontSize(T,c(P,o,S,T));a.font(P,x)})}function m(y,S,T){var o=S[0].trace;o.selectedpoints?h(T,o,y):(u(T,o,y),A.getComponentMethod("errorbars","style")(T))}function h(y,S,T){a.selectedPointStyle(y.selectAll("path"),S),M(y.selectAll("text"),S,T)}function M(y,S,T){y.each(function(o){var P=g.select(this),x;if(o.selected){x=C.ensureUniformFontSize(T,c(P,o,S,T));var _=S.selected.textfont&&S.selected.textfont.color;_&&(x.color=_),a.font(P,x)}else a.selectedTextStyle(P,S)})}function c(y,S,T,o){var P=o._fullLayout.font,x=T.textfont;if(y.classed("bartext-inside")){var _=E(S,T);x=d(T,S.i,P,_)}else y.classed("bartext-outside")&&(x=b(T,S.i,P));return x}function i(y,S,T){return w(r,y.textfont,S,T)}function d(y,S,T,o){var P=i(y,S,T),x=y._input.textfont===void 0||y._input.textfont.color===void 0||Array.isArray(y.textfont.color)&&y.textfont.color[S]===void 0;return x&&(P={color:L.contrast(o),family:P.family,size:P.size}),w(t,y.insidetextfont,S,P)}function b(y,S,T){var o=i(y,S,T);return w(s,y.outsidetextfont,S,o)}function w(y,S,T,o){S=S||{};var P=n.getValue(S.family,T),x=n.getValue(S.size,T),_=n.getValue(S.color,T);return{family:n.coerceString(y.family,P,o.family),size:n.coerceNumber(y.size,x,o.size),color:n.coerceColor(y.color,_,o.color)}}function E(y,S){return S.type==="waterfall"?S[y.dir].marker.color:y.mcc||y.mc||S.marker.color}G.exports={style:f,styleTextPoints:l,styleOnSelect:m,getInsideTextFont:d,getOutsideTextFont:b,getBarColor:E,resizeText:v}},55592:function(G,U,e){var g=e(76308),L=e(94288).hasColorscale,a=e(27260),C=e(3400).coercePattern;G.exports=function(v,p,r,t,s){var n=r("marker.color",t),f=L(v,"marker");f&&a(v,p,s,r,{prefix:"marker.",cLetter:"c"}),r("marker.line.color",g.defaultLine),L(v,"marker.line")&&a(v,p,s,r,{prefix:"marker.line.",cLetter:"c"}),r("marker.line.width"),r("marker.opacity"),C(r,"marker.pattern",n,f),r("selected.marker.color"),r("unselected.marker.color")}},82744:function(G,U,e){var g=e(33428),L=e(3400);function a(p,r,t){var s=p._fullLayout,n=s["_"+t+"Text_minsize"];if(n){var f=s.uniformtext.mode==="hide",u;switch(t){case"funnelarea":case"pie":case"sunburst":u="g.slice";break;case"treemap":case"icicle":u="g.slice, g.pathbar";break;default:u="g.points > g.point"}r.selectAll(u).each(function(l){var m=l.transform;if(m){m.scale=f&&m.hide?0:n/m.fontSize;var h=g.select(this).select("text");L.setTransormAndDisplay(h,m)}})}}function C(p,r,t){if(t.uniformtext.mode){var s=v(p),n=t.uniformtext.minsize,f=r.scale*r.fontSize;r.hide=f<n,t[s]=t[s]||1/0,r.hide||(t[s]=Math.min(t[s],Math.max(f,n)))}}function A(p,r){var t=v(p);r[t]=void 0}function v(p){return"_"+p+"Text_minsize"}G.exports={recordMinTextSize:C,clearMinTextSize:A,resizeText:a}},78100:function(G,U,e){var g=e(21776).Ks,L=e(92880).extendFlat,a=e(8319),C=e(20832);G.exports={r:a.r,theta:a.theta,r0:a.r0,dr:a.dr,theta0:a.theta0,dtheta:a.dtheta,thetaunit:a.thetaunit,base:L({},C.base,{}),offset:L({},C.offset,{}),width:L({},C.width,{}),text:L({},C.text,{}),hovertext:L({},C.hovertext,{}),marker:A(),hoverinfo:a.hoverinfo,hovertemplate:g(),selected:C.selected,unselected:C.unselected};function A(){var v=L({},C.marker);return delete v.cornerradius,v}},47056:function(G,U,e){var g=e(94288).hasColorscale,L=e(47128),a=e(3400).isArrayOrTypedArray,C=e(84664),A=e(96376).setGroupPositions,v=e(4500),p=e(24040).traceIs,r=e(3400).extendFlat;function t(n,f){for(var u=n._fullLayout,l=f.subplot,m=u[l].radialaxis,h=u[l].angularaxis,M=m.makeCalcdata(f,"r"),c=h.makeCalcdata(f,"theta"),i=f._length,d=new Array(i),b=M,w=c,E=0;E<i;E++)d[E]={p:w[E],s:b[E]};function y(S){var T=f[S];T!==void 0&&(f["_"+S]=a(T)?h.makeCalcdata(f,S):h.d2c(T,f.thetaunit))}return h.type==="linear"&&(y("width"),y("offset")),g(f,"marker")&&L(n,f,{vals:f.marker.color,containerStr:"marker",cLetter:"c"}),g(f,"marker.line")&&L(n,f,{vals:f.marker.line.color,containerStr:"marker.line",cLetter:"c"}),C(d,f),v(d,f),d}function s(n,f,u){for(var l=n.calcdata,m=[],h=0;h<l.length;h++){var M=l[h],c=M[0].trace;c.visible===!0&&p(c,"bar")&&c.subplot===u&&m.push(M)}var i=r({},f.radialaxis,{_id:"x"}),d=f.angularaxis;A(n,d,i,m,{mode:f.barmode,norm:f.barnorm,gap:f.bargap,groupgap:f.bargroupgap})}G.exports={calc:t,crossTraceCalc:s}},70384:function(G,U,e){var g=e(3400),L=e(85968).handleRThetaDefaults,a=e(55592),C=e(78100);G.exports=function(v,p,r,t){function s(f,u){return g.coerce(v,p,C,f,u)}var n=L(v,p,t,s);if(!n){p.visible=!1;return}s("thetaunit"),s("base"),s("offset"),s("width"),s("text"),s("hovertext"),s("hovertemplate"),a(v,p,s,r,t),g.coerceSelectionMarkerOpacity(p,s)}},68896:function(G,U,e){var g=e(93024),L=e(3400),a=e(63400).getTraceColor,C=L.fillText,A=e(8504).makeHoverPointText,v=e(57384).isPtInsidePolygon;G.exports=function(r,t,s){var n=r.cd,f=n[0].trace,u=r.subplot,l=u.radialAxis,m=u.angularAxis,h=u.vangles,M=h?v:L.isPtInsideSector,c=r.maxHoverDistance,i=m._period||2*Math.PI,d=Math.abs(l.g2p(Math.sqrt(t*t+s*s))),b=Math.atan2(s,t);l.range[0]>l.range[1]&&(b+=Math.PI);var w=function(T){return M(d,b,[T.rp0,T.rp1],[T.thetag0,T.thetag1],h)?c+Math.min(1,Math.abs(T.thetag1-T.thetag0)/i)-1+(T.rp1-d)/(T.rp1-T.rp0)-1:1/0};if(g.getClosest(n,w,r),r.index!==!1){var E=r.index,y=n[E];r.x0=r.x1=y.ct[0],r.y0=r.y1=y.ct[1];var S=L.extendFlat({},y,{r:y.s,theta:y.p});return C(y,f,r),A(S,f,u,r),r.hovertemplate=f.hovertemplate,r.color=a(f,y),r.xLabelVal=r.yLabelVal=void 0,y.s<0&&(r.idealAlign="left"),[r]}}},94456:function(G,U,e){G.exports={moduleType:"trace",name:"barpolar",basePlotModule:e(40872),categories:["polar","bar","showLegend"],attributes:e(78100),layoutAttributes:e(9320),supplyDefaults:e(70384),supplyLayoutDefaults:e(89580),calc:e(47056).calc,crossTraceCalc:e(47056).crossTraceCalc,plot:e(42040),colorbar:e(5528),formatLabels:e(22852),style:e(60100).style,styleOnSelect:e(60100).styleOnSelect,hoverPoints:e(68896),selectPoints:e(45784),meta:{}}},9320:function(G){G.exports={barmode:{valType:"enumerated",values:["stack","overlay"],dflt:"stack",editType:"calc"},bargap:{valType:"number",dflt:.1,min:0,max:1,editType:"calc"}}},89580:function(G,U,e){var g=e(3400),L=e(9320);G.exports=function(a,C,A){var v={},p;function r(n,f){return g.coerce(a[p]||{},C[p],L,n,f)}for(var t=0;t<A.length;t++){var s=A[t];s.type==="barpolar"&&s.visible===!0&&(p=s.subplot,v[p]||(r("barmode"),r("bargap"),v[p]=1))}}},42040:function(G,U,e){var g=e(33428),L=e(38248),a=e(3400),C=e(43616),A=e(57384);G.exports=function(r,t,s){var n=r._context.staticPlot,f=t.xaxis,u=t.yaxis,l=t.radialAxis,m=t.angularAxis,h=v(t),M=t.layers.frontplot.select("g.barlayer");a.makeTraceGroups(M,s,"trace bars").each(function(){var c=g.select(this),i=a.ensureSingle(c,"g","points"),d=i.selectAll("g.point").data(a.identity);d.enter().append("g").style("vector-effect",n?"none":"non-scaling-stroke").style("stroke-miterlimit",2).classed("point",!0),d.exit().remove(),d.each(function(b){var w=g.select(this),E=b.rp0=l.c2p(b.s0),y=b.rp1=l.c2p(b.s1),S=b.thetag0=m.c2g(b.p0),T=b.thetag1=m.c2g(b.p1),o;if(!L(E)||!L(y)||!L(S)||!L(T)||E===y||S===T)o="M0,0Z";else{var P=l.c2g(b.s1),x=(S+T)/2;b.ct=[f.c2p(P*Math.cos(x)),u.c2p(P*Math.sin(x))],o=h(E,y,S,T)}a.ensureSingle(w,"path").attr("d",o)}),C.setClipUrl(c,t._hasClipOnAxisFalse?t.clipIds.forTraces:null,r)})};function v(p){var r=p.cxx,t=p.cyy;return p.vangles?function(s,n,f,u){var l,m;a.angleDelta(f,u)>0?(l=f,m=u):(l=u,m=f);var h=A.findEnclosingVertexAngles(l,p.vangles)[0],M=A.findEnclosingVertexAngles(m,p.vangles)[1],c=[h,(l+m)/2,M];return A.pathPolygonAnnulus(s,n,l,m,c,r,t)}:function(s,n,f,u){return a.pathAnnulus(s,n,f,u,r,t)}}},63188:function(G,U,e){var g=e(98304),L=e(52904),a=e(20832),C=e(22548),A=e(29736).axisHoverFormat,v=e(21776).Ks,p=e(92880).extendFlat,r=L.marker,t=r.line;G.exports={y:{valType:"data_array",editType:"calc+clearAxisTypes"},x:{valType:"data_array",editType:"calc+clearAxisTypes"},x0:{valType:"any",editType:"calc+clearAxisTypes"},y0:{valType:"any",editType:"calc+clearAxisTypes"},dx:{valType:"number",editType:"calc"},dy:{valType:"number",editType:"calc"},xperiod:L.xperiod,yperiod:L.yperiod,xperiod0:L.xperiod0,yperiod0:L.yperiod0,xperiodalignment:L.xperiodalignment,yperiodalignment:L.yperiodalignment,xhoverformat:A("x"),yhoverformat:A("y"),name:{valType:"string",editType:"calc+clearAxisTypes"},q1:{valType:"data_array",editType:"calc+clearAxisTypes"},median:{valType:"data_array",editType:"calc+clearAxisTypes"},q3:{valType:"data_array",editType:"calc+clearAxisTypes"},lowerfence:{valType:"data_array",editType:"calc"},upperfence:{valType:"data_array",editType:"calc"},notched:{valType:"boolean",editType:"calc"},notchwidth:{valType:"number",min:0,max:.5,dflt:.25,editType:"calc"},notchspan:{valType:"data_array",editType:"calc"},boxpoints:{valType:"enumerated",values:["all","outliers","suspectedoutliers",!1],editType:"calc"},jitter:{valType:"number",min:0,max:1,editType:"calc"},pointpos:{valType:"number",min:-2,max:2,editType:"calc"},sdmultiple:{valType:"number",min:0,editType:"calc",dflt:1},sizemode:{valType:"enumerated",values:["quartiles","sd"],editType:"calc",dflt:"quartiles"},boxmean:{valType:"enumerated",values:[!0,"sd",!1],editType:"calc"},mean:{valType:"data_array",editType:"calc"},sd:{valType:"data_array",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},quartilemethod:{valType:"enumerated",values:["linear","exclusive","inclusive"],dflt:"linear",editType:"calc"},width:{valType:"number",min:0,dflt:0,editType:"calc"},marker:{outliercolor:{valType:"color",dflt:"rgba(0, 0, 0, 0)",editType:"style"},symbol:p({},r.symbol,{arrayOk:!1,editType:"plot"}),opacity:p({},r.opacity,{arrayOk:!1,dflt:1,editType:"style"}),angle:p({},r.angle,{arrayOk:!1,editType:"calc"}),size:p({},r.size,{arrayOk:!1,editType:"calc"}),color:p({},r.color,{arrayOk:!1,editType:"style"}),line:{color:p({},t.color,{arrayOk:!1,dflt:C.defaultLine,editType:"style"}),width:p({},t.width,{arrayOk:!1,dflt:0,editType:"style"}),outliercolor:{valType:"color",editType:"style"},outlierwidth:{valType:"number",min:0,dflt:1,editType:"style"},editType:"style"},editType:"plot"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,dflt:2,editType:"style"},editType:"plot"},fillcolor:g(),whiskerwidth:{valType:"number",min:0,max:1,dflt:.5,editType:"calc"},showwhiskers:{valType:"boolean",editType:"calc"},offsetgroup:a.offsetgroup,alignmentgroup:a.alignmentgroup,selected:{marker:L.selected.marker,editType:"style"},unselected:{marker:L.unselected.marker,editType:"style"},text:p({},L.text,{}),hovertext:p({},L.hovertext,{}),hovertemplate:v({}),hoveron:{valType:"flaglist",flags:["boxes","points"],dflt:"boxes+points",editType:"style"}}},62555:function(G,U,e){var g=e(38248),L=e(54460),a=e(1220),C=e(3400),A=e(39032).BADNUM,v=C._;G.exports=function(b,w){var E=b._fullLayout,y=L.getFromId(b,w.xaxis||"x"),S=L.getFromId(b,w.yaxis||"y"),T=[],o=w.type==="violin"?"_numViolins":"_numBoxes",P,x,_,I,N,k,F;w.orientation==="h"?(_=y,I="x",N=S,k="y",F=!!w.yperiodalignment):(_=S,I="y",N=y,k="x",F=!!w.xperiodalignment);var O=p(w,k,N,E[o]),z=O[0],B=O[1],W=C.distinctVals(z,N),q=W.vals,ee=W.minDiff/2,Q,oe,Z,Y,te,X,$=(w.boxpoints||w.points)==="all"?C.identity:function(Et){return Et.v<Q.lf||Et.v>Q.uf};if(w._hasPreCompStats){var ie=w[I],J=function(Et){return _.d2c((w[Et]||[])[P])},j=1/0,se=-1/0;for(P=0;P<w._length;P++){var ne=z[P];if(!!g(ne)){if(Q={},Q.pos=Q[k]=ne,F&&B&&(Q.orig_p=B[P]),Q.q1=J("q1"),Q.med=J("median"),Q.q3=J("q3"),oe=[],ie&&C.isArrayOrTypedArray(ie[P]))for(x=0;x<ie[P].length;x++)X=_.d2c(ie[P][x]),X!==A&&(te={v:X,i:[P,x]},n(te,w,[P,x]),oe.push(te));if(Q.pts=oe.sort(u),Z=Q[I]=oe.map(l),Y=Z.length,Q.med!==A&&Q.q1!==A&&Q.q3!==A&&Q.med>=Q.q1&&Q.q3>=Q.med){var le=J("lowerfence");Q.lf=le!==A&&le<=Q.q1?le:m(Q,Z,Y);var pe=J("upperfence");Q.uf=pe!==A&&pe>=Q.q3?pe:h(Q,Z,Y);var Ae=J("mean");Q.mean=Ae!==A?Ae:Y?C.mean(Z,Y):(Q.q1+Q.q3)/2;var be=J("sd");Q.sd=Ae!==A&&be>=0?be:Y?C.stdev(Z,Y,Q.mean):Q.q3-Q.q1,Q.lo=M(Q),Q.uo=c(Q);var Re=J("notchspan");Re=Re!==A&&Re>0?Re:i(Q,Y),Q.ln=Q.med-Re,Q.un=Q.med+Re;var xe=Q.lf,Me=Q.uf;w.boxpoints&&Z.length&&(xe=Math.min(xe,Z[0]),Me=Math.max(Me,Z[Y-1])),w.notched&&(xe=Math.min(xe,Q.ln),Me=Math.max(Me,Q.un)),Q.min=xe,Q.max=Me}else{C.warn(["Invalid input - make sure that q1 <= median <= q3","q1 = "+Q.q1,"median = "+Q.med,"q3 = "+Q.q3].join(`
`));var ye;Q.med!==A?ye=Q.med:Q.q1!==A?Q.q3!==A?ye=(Q.q1+Q.q3)/2:ye=Q.q1:Q.q3!==A?ye=Q.q3:ye=0,Q.med=ye,Q.q1=Q.q3=ye,Q.lf=Q.uf=ye,Q.mean=Q.sd=ye,Q.ln=Q.un=ye,Q.min=Q.max=ye}j=Math.min(j,Q.min),se=Math.max(se,Q.max),Q.pts2=oe.filter($),T.push(Q)}}w._extremes[_._id]=L.findExtremes(_,[j,se],{padded:!0})}else{var Se=_.makeCalcdata(w,I),Fe=r(q,ee),Be=q.length,_e=t(Be);for(P=0;P<w._length;P++)if(X=Se[P],!!g(X)){var Ue=C.findBin(z[P],Fe);Ue>=0&&Ue<Be&&(te={v:X,i:P},n(te,w,P),_e[Ue].push(te))}var it=1/0,lt=-1/0,$e=w.quartilemethod,qe=$e==="exclusive",ft=$e==="inclusive";for(P=0;P<Be;P++)if(_e[P].length>0){if(Q={},Q.pos=Q[k]=q[P],oe=Q.pts=_e[P].sort(u),Z=Q[I]=oe.map(l),Y=Z.length,Q.min=Z[0],Q.max=Z[Y-1],Q.mean=C.mean(Z,Y),Q.sd=C.stdev(Z,Y,Q.mean)*w.sdmultiple,Q.med=C.interp(Z,.5),Y%2&&(qe||ft)){var ct,pt;qe?(ct=Z.slice(0,Y/2),pt=Z.slice(Y/2+1)):ft&&(ct=Z.slice(0,Y/2+1),pt=Z.slice(Y/2)),Q.q1=C.interp(ct,.5),Q.q3=C.interp(pt,.5)}else Q.q1=C.interp(Z,.25),Q.q3=C.interp(Z,.75);Q.lf=m(Q,Z,Y),Q.uf=h(Q,Z,Y),Q.lo=M(Q),Q.uo=c(Q);var yt=i(Q,Y);Q.ln=Q.med-yt,Q.un=Q.med+yt,it=Math.min(it,Q.ln),lt=Math.max(lt,Q.un),Q.pts2=oe.filter($),T.push(Q)}w.notched&&C.isTypedArray(Se)&&(Se=Array.from(Se)),w._extremes[_._id]=L.findExtremes(_,w.notched?Se.concat([it,lt]):Se,{padded:!0})}return f(T,w),T.length>0?(T[0].t={num:E[o],dPos:ee,posLetter:k,valLetter:I,labels:{med:v(b,"median:"),min:v(b,"min:"),q1:v(b,"q1:"),q3:v(b,"q3:"),max:v(b,"max:"),mean:w.boxmean==="sd"||w.sizemode==="sd"?v(b,"mean \xB1 \u03C3:").replace("\u03C3",w.sdmultiple===1?"\u03C3":w.sdmultiple+"\u03C3"):v(b,"mean:"),lf:v(b,"lower fence:"),uf:v(b,"upper fence:")}},E[o]++,T):[{t:{empty:!0}}]};function p(d,b,w,E){var y=b in d,S=b+"0"in d,T="d"+b in d;if(y||S&&T){var o=w.makeCalcdata(d,b),P=a(d,w,b,o).vals;return[P,o]}var x;S?x=d[b+"0"]:"name"in d&&(w.type==="category"||g(d.name)&&["linear","log"].indexOf(w.type)!==-1||C.isDateTime(d.name)&&w.type==="date")?x=d.name:x=E;for(var _=w.type==="multicategory"?w.r2c_just_indices(x):w.d2c(x,0,d[b+"calendar"]),I=d._length,N=new Array(I),k=0;k<I;k++)N[k]=_;return[N]}function r(d,b){for(var w=d.length,E=new Array(w+1),y=0;y<w;y++)E[y]=d[y]-b;return E[w]=d[w-1]+b,E}function t(d){for(var b=new Array(d),w=0;w<d;w++)b[w]=[];return b}var s={text:"tx",hovertext:"htx"};function n(d,b,w){for(var E in s)C.isArrayOrTypedArray(b[E])&&(Array.isArray(w)?C.isArrayOrTypedArray(b[E][w[0]])&&(d[s[E]]=b[E][w[0]][w[1]]):d[s[E]]=b[E][w])}function f(d,b){if(C.isArrayOrTypedArray(b.selectedpoints))for(var w=0;w<d.length;w++){for(var E=d[w].pts||[],y={},S=0;S<E.length;S++)y[E[S].i]=S;C.tagSelected(E,b,y)}}function u(d,b){return d.v-b.v}function l(d){return d.v}function m(d,b,w){return w===0?d.q1:Math.min(d.q1,b[Math.min(C.findBin(2.5*d.q1-1.5*d.q3,b,!0)+1,w-1)])}function h(d,b,w){return w===0?d.q3:Math.max(d.q3,b[Math.max(C.findBin(2.5*d.q3-1.5*d.q1,b),0)])}function M(d){return 4*d.q1-3*d.q3}function c(d){return 4*d.q3-3*d.q1}function i(d,b){return b===0?0:1.57*(d.q3-d.q1)/Math.sqrt(b)}},96404:function(G,U,e){var g=e(54460),L=e(3400),a=e(71888).getAxisGroup,C=["v","h"];function A(p,r){for(var t=p.calcdata,s=r.xaxis,n=r.yaxis,f=0;f<C.length;f++){for(var u=C[f],l=u==="h"?n:s,m=[],h=0;h<t.length;h++){var M=t[h],c=M[0].t,i=M[0].trace;i.visible===!0&&(i.type==="box"||i.type==="candlestick")&&!c.empty&&(i.orientation||"v")===u&&i.xaxis===s._id&&i.yaxis===n._id&&m.push(h)}v("box",p,m,l)}}function v(p,r,t,s){var n=r.calcdata,f=r._fullLayout,u=s._id,l=u.charAt(0),m,h,M,c=[],i=0;for(m=0;m<t.length;m++)for(M=n[t[m]],h=0;h<M.length;h++)c.push(s.c2l(M[h].pos,!0)),i+=(M[h].pts2||[]).length;if(!!c.length){var d=L.distinctVals(c);(s.type==="category"||s.type==="multicategory")&&(d.minDiff=1);var b=d.minDiff/2;g.minDtick(s,d.minDiff,d.vals[0],!0);var w=p==="violin"?"_numViolins":"_numBoxes",E=f[w],y=f[p+"mode"]==="group"&&E>1,S=1-f[p+"gap"],T=1-f[p+"groupgap"];for(m=0;m<t.length;m++){M=n[t[m]];var o=M[0].trace,P=M[0].t,x=o.width,_=o.side,I,N,k,F;if(x)I=N=F=x/2,k=0;else if(I=b,y){var O=a(f,s._id)+o.orientation,z=f._alignmentOpts[O]||{},B=z[o.alignmentgroup]||{},W=Object.keys(B.offsetGroups||{}).length,q=W||E,ee=W?o._offsetIndex:P.num;N=I*S*T/q,k=2*I*(-.5+(ee+.5)/q)*S,F=I*S/q}else N=I*S*T,k=0,F=I;P.dPos=I,P.bPos=k,P.bdPos=N,P.wHover=F;var Q,oe,Z=k+N,Y,te,X,$,ie,J,j=Boolean(x),se=(o.boxpoints||o.points)&&i>0;if(_==="positive"?(Q=I*(x?1:.5),Y=Z,oe=Y=k):_==="negative"?(Q=Y=k,oe=I*(x?1:.5),te=Z):(Q=oe=I,Y=te=Z),se){var ne=o.pointpos,le=o.jitter,pe=o.marker.size/2,Ae=0;ne+le>=0&&(Ae=Z*(ne+le),Ae>Q?(j=!0,ie=pe,X=Ae):Ae>Y&&(ie=pe,X=Q)),Ae<=Q&&(X=Q);var be=0;ne-le<=0&&(be=-Z*(ne-le),be>oe?(j=!0,J=pe,$=be):be>te&&(J=pe,$=oe)),be<=oe&&($=oe)}else X=Q,$=oe;var Re=new Array(M.length);for(h=0;h<M.length;h++)Re[h]=M[h].pos;o._extremes[u]=g.findExtremes(s,Re,{padded:j,vpadminus:$,vpadplus:X,vpadLinearized:!0,ppadminus:{x:J,y:ie}[l],ppadplus:{x:ie,y:J}[l]})}}}G.exports={crossTraceCalc:A,setPositionOffset:v}},90624:function(G,U,e){var g=e(3400),L=e(24040),a=e(76308),C=e(31147),A=e(20011),v=e(52976),p=e(63188);function r(f,u,l,m){function h(T,o){return g.coerce(f,u,p,T,o)}if(t(f,u,h,m),u.visible!==!1){C(f,u,m,h),h("xhoverformat"),h("yhoverformat");var M=u._hasPreCompStats;M&&(h("lowerfence"),h("upperfence")),h("line.color",(f.marker||{}).color||l),h("line.width"),h("fillcolor",a.addOpacity(u.line.color,.5));var c=!1;if(M){var i=h("mean"),d=h("sd");i&&i.length&&(c=!0,d&&d.length&&(c="sd"))}h("whiskerwidth");var b=h("sizemode"),w;b==="quartiles"&&(w=h("boxmean",c)),h("showwhiskers",b==="quartiles"),(b==="sd"||w==="sd")&&h("sdmultiple"),h("width"),h("quartilemethod");var E=!1;if(M){var y=h("notchspan");y&&y.length&&(E=!0)}else g.validate(f.notchwidth,p.notchwidth)&&(E=!0);var S=h("notched",E);S&&h("notchwidth"),s(f,u,h,{prefix:"box"})}}function t(f,u,l,m){function h(W){var q=0;return W&&W.length&&(q+=1,g.isArrayOrTypedArray(W[0])&&W[0].length&&(q+=1)),q}function M(W){return g.validate(f[W],p[W])}var c=l("y"),i=l("x"),d;if(u.type==="box"){var b=l("q1"),w=l("median"),E=l("q3");u._hasPreCompStats=b&&b.length&&w&&w.length&&E&&E.length,d=Math.min(g.minRowLength(b),g.minRowLength(w),g.minRowLength(E))}var y=h(c),S=h(i),T=y&&g.minRowLength(c),o=S&&g.minRowLength(i),P=m.calendar,x={autotypenumbers:m.autotypenumbers},_,I;if(u._hasPreCompStats)switch(String(S)+String(y)){case"00":var N=M("x0")||M("dx"),k=M("y0")||M("dy");k&&!N?_="h":_="v",I=d;break;case"10":_="v",I=Math.min(d,o);break;case"20":_="h",I=Math.min(d,i.length);break;case"01":_="h",I=Math.min(d,T);break;case"02":_="v",I=Math.min(d,c.length);break;case"12":_="v",I=Math.min(d,o,c.length);break;case"21":_="h",I=Math.min(d,i.length,T);break;case"11":I=0;break;case"22":var F=!1,O;for(O=0;O<i.length;O++)if(v(i[O],P,x)==="category"){F=!0;break}if(F)_="v",I=Math.min(d,o,c.length);else{for(O=0;O<c.length;O++)if(v(c[O],P,x)==="category"){F=!0;break}F?(_="h",I=Math.min(d,i.length,T)):(_="v",I=Math.min(d,o,c.length))}break}else y>0?(_="v",S>0?I=Math.min(o,T):I=Math.min(T)):S>0?(_="h",I=Math.min(o)):I=0;if(!I){u.visible=!1;return}u._length=I;var z=l("orientation",_);u._hasPreCompStats?z==="v"&&S===0?(l("x0",0),l("dx",1)):z==="h"&&y===0&&(l("y0",0),l("dy",1)):z==="v"&&S===0?l("x0"):z==="h"&&y===0&&l("y0");var B=L.getComponentMethod("calendars","handleTraceDefaults");B(f,u,["x","y"],m)}function s(f,u,l,m){var h=m.prefix,M=g.coerce2(f,u,p,"marker.outliercolor"),c=l("marker.line.outliercolor"),i="outliers";u._hasPreCompStats?i="all":(M||c)&&(i="suspectedoutliers");var d=l(h+"points",i);d?(l("jitter",d==="all"?.3:0),l("pointpos",d==="all"?-1.5:0),l("marker.symbol"),l("marker.opacity"),l("marker.size"),l("marker.angle"),l("marker.color",u.line.color),l("marker.line.color"),l("marker.line.width"),d==="suspectedoutliers"&&(l("marker.line.outliercolor",u.marker.color),l("marker.line.outlierwidth")),l("selected.marker.color"),l("unselected.marker.color"),l("selected.marker.size"),l("unselected.marker.size"),l("text"),l("hovertext")):delete u.marker;var b=l("hoveron");(b==="all"||b.indexOf("points")!==-1)&&l("hovertemplate"),g.coerceSelectionMarkerOpacity(u,l)}function n(f,u){var l,m;function h(i){return g.coerce(m._input,m,p,i)}for(var M=0;M<f.length;M++){m=f[M];var c=m.type;(c==="box"||c==="violin")&&(l=m._input,u[c+"mode"]==="group"&&A(l,m,u,h))}}G.exports={supplyDefaults:r,crossTraceDefaults:n,handleSampleDefaults:t,handlePointsDefaults:s}},10392:function(G){G.exports=function(e,g){return g.hoverOnBox&&(e.hoverOnBox=g.hoverOnBox),"xVal"in g&&(e.x=g.xVal),"yVal"in g&&(e.y=g.yVal),g.xa&&(e.xaxis=g.xa),g.ya&&(e.yaxis=g.ya),e}},27576:function(G,U,e){var g=e(54460),L=e(3400),a=e(93024),C=e(76308),A=L.fillText;function v(t,s,n,f){var u=t.cd,l=u[0].trace,m=l.hoveron,h=[],M;return m.indexOf("boxes")!==-1&&(h=h.concat(p(t,s,n,f))),m.indexOf("points")!==-1&&(M=r(t,s,n)),f==="closest"?M?[M]:h:(M&&h.push(M),h)}function p(t,s,n,f){var u=t.cd,l=t.xa,m=t.ya,h=u[0].trace,M=u[0].t,c=h.type==="violin",i,d,b,w,E,y,S,T,o,P,x,_=M.bdPos,I,N,k=M.wHover,F=function(be){return b.c2l(be.pos)+M.bPos-b.c2l(y)};c&&h.side!=="both"?(h.side==="positive"&&(o=function(be){var Re=F(be);return a.inbox(Re,Re+k,P)},I=_,N=0),h.side==="negative"&&(o=function(be){var Re=F(be);return a.inbox(Re-k,Re,P)},I=0,N=_)):(o=function(be){var Re=F(be);return a.inbox(Re-k,Re+k,P)},I=N=_);var O;c?O=function(be){return a.inbox(be.span[0]-E,be.span[1]-E,P)}:O=function(be){return a.inbox(be.min-E,be.max-E,P)},h.orientation==="h"?(E=s,y=n,S=O,T=o,i="y",b=m,d="x",w=l):(E=n,y=s,S=o,T=O,i="x",b=l,d="y",w=m);var z=Math.min(1,_/Math.abs(b.r2c(b.range[1])-b.r2c(b.range[0])));P=t.maxHoverDistance-z,x=t.maxSpikeDistance-z;function B(be){return(S(be)+T(be))/2}var W=a.getDistanceFunction(f,S,T,B);if(a.getClosest(u,W,t),t.index===!1)return[];var q=u[t.index],ee=h.line.color,Q=(h.marker||{}).color;C.opacity(ee)&&h.line.width?t.color=ee:C.opacity(Q)&&h.boxpoints?t.color=Q:t.color=h.fillcolor,t[i+"0"]=b.c2p(q.pos+M.bPos-N,!0),t[i+"1"]=b.c2p(q.pos+M.bPos+I,!0),t[i+"LabelVal"]=q.orig_p!==void 0?q.orig_p:q.pos;var oe=i+"Spike";t.spikeDistance=B(q)*x/P,t[oe]=b.c2p(q.pos,!0);var Z=h.boxmean||h.sizemode==="sd"||(h.meanline||{}).visible,Y=h.boxpoints||h.points,te=Y&&Z?["max","uf","q3","med","mean","q1","lf","min"]:Y&&!Z?["max","uf","q3","med","q1","lf","min"]:!Y&&Z?["max","q3","med","mean","q1","min"]:["max","q3","med","q1","min"],X=w.range[1]<w.range[0];h.orientation===(X?"v":"h")&&te.reverse();for(var $=t.spikeDistance,ie=t[oe],J=[],j=0;j<te.length;j++){var se=te[j];if(se in q){var ne=q[se],le=w.c2p(ne,!0),pe=L.extendFlat({},t);pe.attr=se,pe[d+"0"]=pe[d+"1"]=le,pe[d+"LabelVal"]=ne,pe[d+"Label"]=(M.labels?M.labels[se]+" ":"")+g.hoverLabelText(w,ne,h[d+"hoverformat"]),pe.hoverOnBox=!0,se==="mean"&&"sd"in q&&(h.boxmean==="sd"||h.sizemode==="sd")&&(pe[d+"err"]=q.sd),pe.hovertemplate=!1,J.push(pe)}}t.name="",t.spikeDistance=void 0,t[oe]=void 0;for(var Ae=0;Ae<J.length;Ae++)J[Ae].attr!=="med"?(J[Ae].name="",J[Ae].spikeDistance=void 0,J[Ae][oe]=void 0):(J[Ae].spikeDistance=$,J[Ae][oe]=ie);return J}function r(t,s,n){for(var f=t.cd,u=t.xa,l=t.ya,m=f[0].trace,h=u.c2p(s),M=l.c2p(n),c,i=function(O){var z=Math.max(3,O.mrc||0);return Math.max(Math.abs(u.c2p(O.x)-h)-z,1-3/z)},d=function(O){var z=Math.max(3,O.mrc||0);return Math.max(Math.abs(l.c2p(O.y)-M)-z,1-3/z)},b=a.quadrature(i,d),w=!1,E,y,S=0;S<f.length;S++){E=f[S];for(var T=0;T<(E.pts||[]).length;T++){y=E.pts[T];var o=b(y);o<=t.distance&&(t.distance=o,w=[S,T])}}if(!w)return!1;E=f[w[0]],y=E.pts[w[1]];var P=u.c2p(y.x,!0),x=l.c2p(y.y,!0),_=y.mrc||1;c=L.extendFlat({},t,{index:y.i,color:(m.marker||{}).color,name:m.name,x0:P-_,x1:P+_,y0:x-_,y1:x+_,spikeDistance:t.distance,hovertemplate:m.hovertemplate});var I=E.orig_p,N=I!==void 0?I:E.pos,k;m.orientation==="h"?(k=l,c.xLabelVal=y.x,c.yLabelVal=N):(k=u,c.xLabelVal=N,c.yLabelVal=y.y);var F=k._id.charAt(0);return c[F+"Spike"]=k.c2p(E.pos,!0),A(y,m,c),c}G.exports={hoverPoints:v,hoverOnBoxes:p,hoverOnPoints:r}},67244:function(G,U,e){G.exports={attributes:e(63188),layoutAttributes:e(16560),supplyDefaults:e(90624).supplyDefaults,crossTraceDefaults:e(90624).crossTraceDefaults,supplyLayoutDefaults:e(68832).supplyLayoutDefaults,calc:e(62555),crossTraceCalc:e(96404).crossTraceCalc,plot:e(18728).plot,style:e(25776).style,styleOnSelect:e(25776).styleOnSelect,hoverPoints:e(27576).hoverPoints,eventData:e(10392),selectPoints:e(8264),moduleType:"trace",name:"box",basePlotModule:e(57952),categories:["cartesian","svg","symbols","oriented","box-violin","showLegend","boxLayout","zoomScale"],meta:{}}},16560:function(G){G.exports={boxmode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc"},boxgap:{valType:"number",min:0,max:1,dflt:.3,editType:"calc"},boxgroupgap:{valType:"number",min:0,max:1,dflt:.3,editType:"calc"}}},68832:function(G,U,e){var g=e(24040),L=e(3400),a=e(16560);function C(v,p,r,t,s){for(var n=s+"Layout",f=!1,u=0;u<r.length;u++){var l=r[u];if(g.traceIs(l,n)){f=!0;break}}!f||(t(s+"mode"),t(s+"gap"),t(s+"groupgap"))}function A(v,p,r){function t(s,n){return L.coerce(v,p,a,s,n)}C(v,p,r,t,"box")}G.exports={supplyLayoutDefaults:A,_supply:C}},18728:function(G,U,e){var g=e(33428),L=e(3400),a=e(43616),C=5,A=.01;function v(s,n,f,u){var l=s._context.staticPlot,m=n.xaxis,h=n.yaxis;L.makeTraceGroups(u,f,"trace boxes").each(function(M){var c=g.select(this),i=M[0],d=i.t,b=i.trace;if(d.wdPos=d.bdPos*b.whiskerwidth,b.visible!==!0||d.empty){c.remove();return}var w,E;b.orientation==="h"?(w=h,E=m):(w=m,E=h),p(c,{pos:w,val:E},b,d,l),r(c,{x:m,y:h},b,d),t(c,{pos:w,val:E},b,d)})}function p(s,n,f,u,l){var m=f.orientation==="h",h=n.val,M=n.pos,c=!!M.rangebreaks,i=u.bPos,d=u.wdPos||0,b=u.bPosPxOffset||0,w=f.whiskerwidth||0,E=f.showwhiskers!==!1,y=f.notched||!1,S=y?1-2*f.notchwidth:1,T,o;Array.isArray(u.bdPos)?(T=u.bdPos[0],o=u.bdPos[1]):(T=u.bdPos,o=u.bdPos);var P=s.selectAll("path.box").data(f.type!=="violin"||f.box.visible?L.identity:[]);P.enter().append("path").style("vector-effect",l?"none":"non-scaling-stroke").attr("class","box"),P.exit().remove(),P.each(function(x){if(x.empty)return g.select(this).attr("d","M0,0Z");var _=M.c2l(x.pos+i,!0),I=M.l2p(_-T)+b,N=M.l2p(_+o)+b,k=c?(I+N)/2:M.l2p(_)+b,F=f.whiskerwidth,O=c?I*F+(1-F)*k:M.l2p(_-d)+b,z=c?N*F+(1-F)*k:M.l2p(_+d)+b,B=M.l2p(_-T*S)+b,W=M.l2p(_+o*S)+b,q=f.sizemode==="sd",ee=h.c2p(q?x.mean-x.sd:x.q1,!0),Q=q?h.c2p(x.mean+x.sd,!0):h.c2p(x.q3,!0),oe=L.constrain(q?h.c2p(x.mean,!0):h.c2p(x.med,!0),Math.min(ee,Q)+1,Math.max(ee,Q)-1),Z=x.lf===void 0||f.boxpoints===!1||q,Y=h.c2p(Z?x.min:x.lf,!0),te=h.c2p(Z?x.max:x.uf,!0),X=h.c2p(x.ln,!0),$=h.c2p(x.un,!0);m?g.select(this).attr("d","M"+oe+","+B+"V"+W+"M"+ee+","+I+"V"+N+(y?"H"+X+"L"+oe+","+W+"L"+$+","+N:"")+"H"+Q+"V"+I+(y?"H"+$+"L"+oe+","+B+"L"+X+","+I:"")+"Z"+(E?"M"+ee+","+k+"H"+Y+"M"+Q+","+k+"H"+te+(w===0?"":"M"+Y+","+O+"V"+z+"M"+te+","+O+"V"+z):"")):g.select(this).attr("d","M"+B+","+oe+"H"+W+"M"+I+","+ee+"H"+N+(y?"V"+X+"L"+W+","+oe+"L"+N+","+$:"")+"V"+Q+"H"+I+(y?"V"+$+"L"+B+","+oe+"L"+I+","+X:"")+"Z"+(E?"M"+k+","+ee+"V"+Y+"M"+k+","+Q+"V"+te+(w===0?"":"M"+O+","+Y+"H"+z+"M"+O+","+te+"H"+z):""))})}function r(s,n,f,u){var l=n.x,m=n.y,h=u.bdPos,M=u.bPos,c=f.boxpoints||f.points;L.seedPseudoRandom();var i=function(w){return w.forEach(function(E){E.t=u,E.trace=f}),w},d=s.selectAll("g.points").data(c?i:[]);d.enter().append("g").attr("class","points"),d.exit().remove();var b=d.selectAll("path").data(function(w){var E,y=w.pts2,S=Math.max((w.max-w.min)/10,w.q3-w.q1),T=S*1e-9,o=S*A,P=[],x=0,_;if(f.jitter){if(S===0)for(x=1,P=new Array(y.length),E=0;E<y.length;E++)P[E]=1;else for(E=0;E<y.length;E++){var I=Math.max(0,E-C),N=y[I].v,k=Math.min(y.length-1,E+C),F=y[k].v;c!=="all"&&(y[E].v<w.lf?F=Math.min(F,w.lf):N=Math.max(N,w.uf));var O=Math.sqrt(o*(k-I)/(F-N+T))||0;O=L.constrain(Math.abs(O),0,1),P.push(O),x=Math.max(O,x)}_=f.jitter*2/(x||1)}for(E=0;E<y.length;E++){var z=y[E],B=z.v,W=f.jitter?_*P[E]*(L.pseudoRandom()-.5):0,q=w.pos+M+h*(f.pointpos+W);f.orientation==="h"?(z.y=q,z.x=B):(z.x=q,z.y=B),c==="suspectedoutliers"&&B<w.uo&&B>w.lo&&(z.so=!0)}return y});b.enter().append("path").classed("point",!0),b.exit().remove(),b.call(a.translatePoints,l,m)}function t(s,n,f,u){var l=n.val,m=n.pos,h=!!m.rangebreaks,M=u.bPos,c=u.bPosPxOffset||0,i=f.boxmean||(f.meanline||{}).visible,d,b;Array.isArray(u.bdPos)?(d=u.bdPos[0],b=u.bdPos[1]):(d=u.bdPos,b=u.bdPos);var w=s.selectAll("path.mean").data(f.type==="box"&&f.boxmean||f.type==="violin"&&f.box.visible&&f.meanline.visible?L.identity:[]);w.enter().append("path").attr("class","mean").style({fill:"none","vector-effect":"non-scaling-stroke"}),w.exit().remove(),w.each(function(E){var y=m.c2l(E.pos+M,!0),S=m.l2p(y-d)+c,T=m.l2p(y+b)+c,o=h?(S+T)/2:m.l2p(y)+c,P=l.c2p(E.mean,!0),x=l.c2p(E.mean-E.sd,!0),_=l.c2p(E.mean+E.sd,!0);f.orientation==="h"?g.select(this).attr("d","M"+P+","+S+"V"+T+(i==="sd"?"m0,0L"+x+","+o+"L"+P+","+S+"L"+_+","+o+"Z":"")):g.select(this).attr("d","M"+S+","+P+"H"+T+(i==="sd"?"m0,0L"+o+","+x+"L"+S+","+P+"L"+o+","+_+"Z":""))})}G.exports={plot:v,plotBoxAndWhiskers:p,plotPoints:r,plotBoxMean:t}},8264:function(G){G.exports=function(e,g){var L=e.cd,a=e.xaxis,C=e.yaxis,A=[],v,p;if(g===!1)for(v=0;v<L.length;v++)for(p=0;p<(L[v].pts||[]).length;p++)L[v].pts[p].selected=0;else for(v=0;v<L.length;v++)for(p=0;p<(L[v].pts||[]).length;p++){var r=L[v].pts[p],t=a.c2p(r.x),s=C.c2p(r.y);g.contains([t,s],null,r.i,e)?(A.push({pointNumber:r.i,x:a.c2d(r.x),y:C.c2d(r.y)}),r.selected=1):r.selected=0}return A}},25776:function(G,U,e){var g=e(33428),L=e(76308),a=e(43616);function C(v,p,r){var t=r||g.select(v).selectAll("g.trace.boxes");t.style("opacity",function(s){return s[0].trace.opacity}),t.each(function(s){var n=g.select(this),f=s[0].trace,u=f.line.width;function l(M,c,i,d){M.style("stroke-width",c+"px").call(L.stroke,i).call(L.fill,d)}var m=n.selectAll("path.box");if(f.type==="candlestick")m.each(function(M){if(!M.empty){var c=g.select(this),i=f[M.dir];l(c,i.line.width,i.line.color,i.fillcolor),c.style("opacity",f.selectedpoints&&!M.selected?.3:1)}});else{l(m,u,f.line.color,f.fillcolor),n.selectAll("path.mean").style({"stroke-width":u,"stroke-dasharray":2*u+"px,"+u+"px"}).call(L.stroke,f.line.color);var h=n.selectAll("path.point");a.pointStyle(h,f,v)}})}function A(v,p,r){var t=p[0].trace,s=r.selectAll("path.point");t.selectedpoints?a.selectedPointStyle(s,t):a.pointStyle(s,t,v)}G.exports={style:C,styleOnSelect:A}},64216:function(G,U,e){var g=e(3400).extendFlat,L=e(29736).axisHoverFormat,a=e(20279),C=e(63188);function A(v){return{line:{color:g({},C.line.color,{dflt:v}),width:C.line.width,editType:"style"},fillcolor:C.fillcolor,editType:"style"}}G.exports={xperiod:a.xperiod,xperiod0:a.xperiod0,xperiodalignment:a.xperiodalignment,xhoverformat:L("x"),yhoverformat:L("y"),x:a.x,open:a.open,high:a.high,low:a.low,close:a.close,line:{width:g({},C.line.width,{}),editType:"style"},increasing:A(a.increasing.line.color.dflt),decreasing:A(a.decreasing.line.color.dflt),text:a.text,hovertext:a.hovertext,whiskerwidth:g({},C.whiskerwidth,{dflt:0}),hoverlabel:a.hoverlabel}},46283:function(G,U,e){var g=e(3400),L=e(54460),a=e(1220),C=e(42812).calcCommon;G.exports=function(v,p){var r=v._fullLayout,t=L.getFromId(v,p.xaxis),s=L.getFromId(v,p.yaxis),n=t.makeCalcdata(p,"x"),f=a(p,t,"x",n).vals,u=C(v,p,n,f,s,A);return u.length?(g.extendFlat(u[0].t,{num:r._numBoxes,dPos:g.distinctVals(f).minDiff/2,posLetter:"x",valLetter:"y"}),r._numBoxes++,u):[{t:{empty:!0}}]};function A(v,p,r,t){return{min:r,q1:Math.min(v,t),med:t,q3:Math.max(v,t),max:p}}},64588:function(G,U,e){var g=e(3400),L=e(76308),a=e(52744),C=e(31147),A=e(64216);G.exports=function(r,t,s,n){function f(l,m){return g.coerce(r,t,A,l,m)}var u=a(r,t,f,n);if(!u){t.visible=!1;return}C(r,t,n,f,{x:!0}),f("xhoverformat"),f("yhoverformat"),f("line.width"),v(r,t,f,"increasing"),v(r,t,f,"decreasing"),f("text"),f("hovertext"),f("whiskerwidth"),n._requestRangeslider[t.xaxis]=!0};function v(p,r,t,s){var n=t(s+".line.color");t(s+".line.width",r.line.width),t(s+".fillcolor",L.addOpacity(n,.5))}},61712:function(G,U,e){G.exports={moduleType:"trace",name:"candlestick",basePlotModule:e(57952),categories:["cartesian","svg","showLegend","candlestick","boxLayout"],meta:{},attributes:e(64216),layoutAttributes:e(16560),supplyLayoutDefaults:e(68832).supplyLayoutDefaults,crossTraceCalc:e(96404).crossTraceCalc,supplyDefaults:e(64588),calc:e(46283),plot:e(18728).plot,layerName:"boxlayer",style:e(25776).style,hoverPoints:e(18720).hoverPoints,selectPoints:e(97384)}},93504:function(G,U,e){var g=e(63856),L=e(31780);G.exports=function(A,v,p,r,t){var s=r("a");s||(r("da"),r("a0"));var n=r("b");n||(r("db"),r("b0")),a(A,v,p,t)};function a(C,A,v,p){var r=["aaxis","baxis"];r.forEach(function(t){var s=t.charAt(0),n=C[t]||{},f=L.newContainer(A,t),u={noAutotickangles:!0,noTicklabelstep:!0,tickfont:"x",id:s+"axis",letter:s,font:A.font,name:t,data:C[s],calendar:A.calendar,dfltColor:p,bgColor:v.paper_bgcolor,autotypenumbersDflt:v.autotypenumbers,fullLayout:v};g(n,f,u),f._categories=f._categories||[],!C[t]&&n.type!=="-"&&(C[t]={type:n.type})})}},51676:function(G,U,e){var g=e(3400).isArrayOrTypedArray;G.exports=function(a){return L(a,0)};function L(a,C){if(!g(a)||C>=10)return null;for(var A=1/0,v=-1/0,p=a.length,r=0;r<p;r++){var t=a[r];if(g(t)){var s=L(t,C+1);s&&(A=Math.min(s[0],A),v=Math.max(s[1],v))}else A=Math.min(t,A),v=Math.max(t,v)}return[A,v]}},85720:function(G,U,e){var g=e(25376),L=e(98692),a=e(22548),C=g({editType:"calc"});C.family.dflt='"Open Sans", verdana, arial, sans-serif',C.size.dflt=12,C.color.dflt=a.defaultLine,G.exports={carpet:{valType:"string",editType:"calc"},x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},a:{valType:"data_array",editType:"calc"},a0:{valType:"number",dflt:0,editType:"calc"},da:{valType:"number",dflt:1,editType:"calc"},b:{valType:"data_array",editType:"calc"},b0:{valType:"number",dflt:0,editType:"calc"},db:{valType:"number",dflt:1,editType:"calc"},cheaterslope:{valType:"number",dflt:1,editType:"calc"},aaxis:L,baxis:L,font:C,color:{valType:"color",dflt:a.defaultLine,editType:"plot"},transforms:void 0}},77712:function(G,U,e){var g=e(3400).isArrayOrTypedArray;G.exports=function(L,a,C,A){var v,p,r,t,s,n,f,u,l,m,h,M,c,i=g(C)?"a":"b",d=i==="a"?L.aaxis:L.baxis,b=d.smoothing,w=i==="a"?L.a2i:L.b2j,E=i==="a"?C:A,y=i==="a"?A:C,S=i==="a"?a.a.length:a.b.length,T=i==="a"?a.b.length:a.a.length,o=Math.floor(i==="a"?L.b2j(y):L.a2i(y)),P=i==="a"?function(ee){return L.evalxy([],ee,o)}:function(ee){return L.evalxy([],o,ee)};b&&(r=Math.max(0,Math.min(T-2,o)),t=o-r,p=i==="a"?function(ee,Q){return L.dxydi([],ee,r,Q,t)}:function(ee,Q){return L.dxydj([],r,ee,t,Q)});var x=w(E[0]),_=w(E[1]),I=x<_?1:-1,N=(_-x)*1e-8,k=I>0?Math.floor:Math.ceil,F=I>0?Math.ceil:Math.floor,O=I>0?Math.min:Math.max,z=I>0?Math.max:Math.min,B=k(x+N),W=F(_-N);f=P(x);var q=[[f]];for(v=B;v*I<W*I;v+=I)s=[],h=z(x,v),M=O(_,v+I),c=M-h,n=Math.max(0,Math.min(S-2,Math.floor(.5*(h+M)))),u=P(M),b&&(l=p(n,h-n),m=p(n,M-n),s.push([f[0]+l[0]/3*c,f[1]+l[1]/3*c]),s.push([u[0]-m[0]/3*c,u[1]-m[1]/3*c])),s.push(u),q.push(s),f=u;return q}},98692:function(G,U,e){var g=e(25376),L=e(22548),a=e(94724),C=e(29736).descriptionWithDates,A=e(67824).overrideAll,v=e(98192).u,p=e(92880).extendFlat;G.exports={color:{valType:"color",editType:"calc"},smoothing:{valType:"number",dflt:1,min:0,max:1.3,editType:"calc"},title:{text:{valType:"string",dflt:"",editType:"calc"},font:g({editType:"calc"}),offset:{valType:"number",dflt:10,editType:"calc"},editType:"calc"},type:{valType:"enumerated",values:["-","linear","date","category"],dflt:"-",editType:"calc"},autotypenumbers:a.autotypenumbers,autorange:{valType:"enumerated",values:[!0,!1,"reversed"],dflt:!0,editType:"calc"},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"calc"},range:{valType:"info_array",editType:"calc",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}]},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},cheatertype:{valType:"enumerated",values:["index","value"],dflt:"value",editType:"calc"},tickmode:{valType:"enumerated",values:["linear","array"],dflt:"array",editType:"calc"},nticks:{valType:"integer",min:0,dflt:0,editType:"calc"},tickvals:{valType:"data_array",editType:"calc"},ticktext:{valType:"data_array",editType:"calc"},showticklabels:{valType:"enumerated",values:["start","end","both","none"],dflt:"start",editType:"calc"},labelalias:p({},a.labelalias,{editType:"calc"}),tickfont:g({editType:"calc"}),tickangle:{valType:"angle",dflt:"auto",editType:"calc"},tickprefix:{valType:"string",dflt:"",editType:"calc"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},ticksuffix:{valType:"string",dflt:"",editType:"calc"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"calc"},minexponent:{valType:"number",dflt:3,min:0,editType:"calc"},separatethousands:{valType:"boolean",dflt:!1,editType:"calc"},tickformat:{valType:"string",dflt:"",editType:"calc",description:C("tick label")},tickformatstops:A(a.tickformatstops,"calc","from-root"),categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},labelpadding:{valType:"integer",dflt:10,editType:"calc"},labelprefix:{valType:"string",editType:"calc"},labelsuffix:{valType:"string",dflt:"",editType:"calc"},showline:{valType:"boolean",dflt:!1,editType:"calc"},linecolor:{valType:"color",dflt:L.defaultLine,editType:"calc"},linewidth:{valType:"number",min:0,dflt:1,editType:"calc"},gridcolor:{valType:"color",editType:"calc"},gridwidth:{valType:"number",min:0,dflt:1,editType:"calc"},griddash:p({},v,{editType:"calc"}),showgrid:{valType:"boolean",dflt:!0,editType:"calc"},minorgridcount:{valType:"integer",min:0,dflt:0,editType:"calc"},minorgridwidth:{valType:"number",min:0,dflt:1,editType:"calc"},minorgriddash:p({},v,{editType:"calc"}),minorgridcolor:{valType:"color",dflt:L.lightLine,editType:"calc"},startline:{valType:"boolean",editType:"calc"},startlinecolor:{valType:"color",editType:"calc"},startlinewidth:{valType:"number",dflt:1,editType:"calc"},endline:{valType:"boolean",editType:"calc"},endlinewidth:{valType:"number",dflt:1,editType:"calc"},endlinecolor:{valType:"color",editType:"calc"},tick0:{valType:"number",min:0,dflt:0,editType:"calc"},dtick:{valType:"number",min:0,dflt:1,editType:"calc"},arraytick0:{valType:"integer",min:0,dflt:0,editType:"calc"},arraydtick:{valType:"integer",min:1,dflt:1,editType:"calc"},_deprecated:{title:{valType:"string",editType:"calc"},titlefont:g({editType:"calc"}),titleoffset:{valType:"number",dflt:10,editType:"calc"}},editType:"calc"}},63856:function(G,U,e){var g=e(85720),L=e(76308).addOpacity,a=e(24040),C=e(3400),A=e(26332),v=e(95936),p=e(42568),r=e(22416),t=e(78344),s=e(52976);G.exports=function(u,l,m){var h=m.letter,M=m.font||{},c=g[h+"axis"];function i(B,W){return C.coerce(u,l,c,B,W)}function d(B,W){return C.coerce2(u,l,c,B,W)}m.name&&(l._name=m.name,l._id=m.name),i("autotypenumbers",m.autotypenumbersDflt);var b=i("type");if(b==="-"&&(m.data&&n(l,m.data),l.type==="-"?l.type="linear":b=u.type=l.type),i("smoothing"),i("cheatertype"),i("showticklabels"),i("labelprefix",h+" = "),i("labelsuffix"),i("showtickprefix"),i("showticksuffix"),i("separatethousands"),i("tickformat"),i("exponentformat"),i("minexponent"),i("showexponent"),i("categoryorder"),i("tickmode"),i("tickvals"),i("ticktext"),i("tick0"),i("dtick"),l.tickmode==="array"&&(i("arraytick0"),i("arraydtick")),i("labelpadding"),l._hovertitle=h,b==="date"){var w=a.getComponentMethod("calendars","handleDefaults");w(u,l,"calendar",m.calendar)}t(l,m.fullLayout),l.c2p=C.identity;var E=i("color",m.dfltColor),y=E===u.color?E:M.color,S=i("title.text");S&&(C.coerceFont(i,"title.font",{family:M.family,size:C.bigFont(M.size),color:y}),i("title.offset")),i("tickangle");var T=i("autorange",!l.isValidRange(u.range));T&&i("rangemode"),i("range"),l.cleanRange(),i("fixedrange"),A(u,l,i,b),p(u,l,i,b,m),v(u,l,i,b,m),r(u,l,i,{data:m.data,dataAttr:h});var o=d("gridcolor",L(E,.3)),P=d("gridwidth"),x=d("griddash"),_=i("showgrid");_||(delete l.gridcolor,delete l.gridwidth,delete l.griddash);var I=d("startlinecolor",E),N=d("startlinewidth",P),k=i("startline",l.showgrid||!!I||!!N);k||(delete l.startlinecolor,delete l.startlinewidth);var F=d("endlinecolor",E),O=d("endlinewidth",P),z=i("endline",l.showgrid||!!F||!!O);return z||(delete l.endlinecolor,delete l.endlinewidth),_?(i("minorgridcount"),i("minorgridwidth",P),i("minorgriddash",x),i("minorgridcolor",L(o,.06)),l.minorgridcount||(delete l.minorgridwidth,delete l.minorgriddash,delete l.minorgridcolor)):(delete l.gridcolor,delete l.gridwidth,delete l.griddash),l.showticklabels==="none"&&(delete l.tickfont,delete l.tickangle,delete l.showexponent,delete l.exponentformat,delete l.minexponent,delete l.tickformat,delete l.showticksuffix,delete l.showtickprefix),l.showticksuffix||delete l.ticksuffix,l.showtickprefix||delete l.tickprefix,i("tickmode"),l};function n(f,u){if(f.type==="-"){var l=f._id,m=l.charAt(0),h=m+"calendar",M=f[h];f.type=s(u,M,{autotypenumbers:f.autotypenumbers})}}},58744:function(G,U,e){var g=e(54460),L=e(3400).isArray1D,a=e(60776),C=e(51676),A=e(19216),v=e(14724),p=e(24944),r=e(26136),t=e(51512),s=e(2872),n=e(81e3);G.exports=function(u,l){var m=g.getFromId(u,l.xaxis),h=g.getFromId(u,l.yaxis),M=l.aaxis,c=l.baxis,i=l.x,d=l.y,b=[];i&&L(i)&&b.push("x"),d&&L(d)&&b.push("y"),b.length&&s(l,M,c,"a","b",b);var w=l._a=l._a||l.a,E=l._b=l._b||l.b;i=l._x||l.x,d=l._y||l.y;var y={};if(l._cheater){var S=M.cheatertype==="index"?w.length:w,T=c.cheatertype==="index"?E.length:E;i=a(S,T,l.cheaterslope)}l._x=i=r(i),l._y=d=r(d),t(i,w,E),t(d,w,E),n(l),l.setScale();var o=C(i),P=C(d),x=.5*(o[1]-o[0]),_=.5*(o[1]+o[0]),I=.5*(P[1]-P[0]),N=.5*(P[1]+P[0]),k=1.3;return o=[_-x*k,_+x*k],P=[N-I*k,N+I*k],l._extremes[m._id]=g.findExtremes(m,o,{padded:!0}),l._extremes[h._id]=g.findExtremes(h,P,{padded:!0}),A(l,"a","b"),A(l,"b","a"),v(l,M),v(l,c),y.clipsegments=p(l._xctrl,l._yctrl,M,c),y.x=i,y.y=d,y.a=w,y.b=E,[y]}},24944:function(G){G.exports=function(e,g,L,a){var C,A,v,p=[],r=!!L.smoothing,t=!!a.smoothing,s=e[0].length-1,n=e.length-1;for(C=0,A=[],v=[];C<=s;C++)A[C]=e[0][C],v[C]=g[0][C];for(p.push({x:A,y:v,bicubic:r}),C=0,A=[],v=[];C<=n;C++)A[C]=e[C][s],v[C]=g[C][s];for(p.push({x:A,y:v,bicubic:t}),C=s,A=[],v=[];C>=0;C--)A[s-C]=e[n][C],v[s-C]=g[n][C];for(p.push({x:A,y:v,bicubic:r}),C=n,A=[],v=[];C>=0;C--)A[n-C]=e[C][0],v[n-C]=g[C][0];return p.push({x:A,y:v,bicubic:t}),p}},19216:function(G,U,e){var g=e(54460),L=e(92880).extendFlat;G.exports=function(C,A,v){var p,r,t,s,n,f,u,l,m,h,M,c,i,d,b=C["_"+A],w=C[A+"axis"],E=w._gridlines=[],y=w._minorgridlines=[],S=w._boundarylines=[],T=C["_"+v],o=C[v+"axis"];w.tickmode==="array"&&(w.tickvals=b.slice());var P=C._xctrl,x=C._yctrl,_=P[0].length,I=P.length,N=C._a.length,k=C._b.length;g.prepTicks(w),w.tickmode==="array"&&delete w.tickvals;var F=w.smoothing?3:1;function O(B){var W,q,ee,Q,oe,Z,Y,te,X,$,ie,J,j=[],se=[],ne={};if(A==="b")for(q=C.b2j(B),ee=Math.floor(Math.max(0,Math.min(k-2,q))),Q=q-ee,ne.length=k,ne.crossLength=N,ne.xy=function(le){return C.evalxy([],le,q)},ne.dxy=function(le,pe){return C.dxydi([],le,ee,pe,Q)},W=0;W<N;W++)Z=Math.min(N-2,W),Y=W-Z,te=C.evalxy([],W,q),o.smoothing&&W>0&&(X=C.dxydi([],W-1,ee,0,Q),j.push(oe[0]+X[0]/3),se.push(oe[1]+X[1]/3),$=C.dxydi([],W-1,ee,1,Q),j.push(te[0]-$[0]/3),se.push(te[1]-$[1]/3)),j.push(te[0]),se.push(te[1]),oe=te;else for(W=C.a2i(B),Z=Math.floor(Math.max(0,Math.min(N-2,W))),Y=W-Z,ne.length=N,ne.crossLength=k,ne.xy=function(le){return C.evalxy([],W,le)},ne.dxy=function(le,pe){return C.dxydj([],Z,le,Y,pe)},q=0;q<k;q++)ee=Math.min(k-2,q),Q=q-ee,te=C.evalxy([],W,q),o.smoothing&&q>0&&(ie=C.dxydj([],Z,q-1,Y,0),j.push(oe[0]+ie[0]/3),se.push(oe[1]+ie[1]/3),J=C.dxydj([],Z,q-1,Y,1),j.push(te[0]-J[0]/3),se.push(te[1]-J[1]/3)),j.push(te[0]),se.push(te[1]),oe=te;return ne.axisLetter=A,ne.axis=w,ne.crossAxis=o,ne.value=B,ne.constvar=v,ne.index=l,ne.x=j,ne.y=se,ne.smoothing=o.smoothing,ne}function z(B){var W,q,ee,Q,oe,Z=[],Y=[],te={};if(te.length=b.length,te.crossLength=T.length,A==="b")for(ee=Math.max(0,Math.min(k-2,B)),oe=Math.min(1,Math.max(0,B-ee)),te.xy=function(X){return C.evalxy([],X,B)},te.dxy=function(X,$){return C.dxydi([],X,ee,$,oe)},W=0;W<_;W++)Z[W]=P[B*F][W],Y[W]=x[B*F][W];else for(q=Math.max(0,Math.min(N-2,B)),Q=Math.min(1,Math.max(0,B-q)),te.xy=function(X){return C.evalxy([],B,X)},te.dxy=function(X,$){return C.dxydj([],q,X,Q,$)},W=0;W<I;W++)Z[W]=P[W][B*F],Y[W]=x[W][B*F];return te.axisLetter=A,te.axis=w,te.crossAxis=o,te.value=b[B],te.constvar=v,te.index=B,te.x=Z,te.y=Y,te.smoothing=o.smoothing,te}if(w.tickmode==="array"){for(s=5e-15,n=[Math.floor((b.length-1-w.arraytick0)/w.arraydtick*(1+s)),Math.ceil(-w.arraytick0/w.arraydtick/(1+s))].sort(function(B,W){return B-W}),f=n[0]-1,u=n[1]+1,l=f;l<u;l++)r=w.arraytick0+w.arraydtick*l,!(r<0||r>b.length-1)&&E.push(L(z(r),{color:w.gridcolor,width:w.gridwidth,dash:w.griddash}));for(l=f;l<u;l++)if(t=w.arraytick0+w.arraydtick*l,M=Math.min(t+w.arraydtick,b.length-1),!(t<0||t>b.length-1)&&!(M<0||M>b.length-1))for(c=b[t],i=b[M],p=0;p<w.minorgridcount;p++)d=M-t,!(d<=0)&&(h=c+(i-c)*(p+1)/(w.minorgridcount+1)*(w.arraydtick/d),!(h<b[0]||h>b[b.length-1])&&y.push(L(O(h),{color:w.minorgridcolor,width:w.minorgridwidth,dash:w.minorgriddash})));w.startline&&S.push(L(z(0),{color:w.startlinecolor,width:w.startlinewidth})),w.endline&&S.push(L(z(b.length-1),{color:w.endlinecolor,width:w.endlinewidth}))}else{for(s=5e-15,n=[Math.floor((b[b.length-1]-w.tick0)/w.dtick*(1+s)),Math.ceil((b[0]-w.tick0)/w.dtick/(1+s))].sort(function(B,W){return B-W}),f=n[0],u=n[1],l=f;l<=u;l++)m=w.tick0+w.dtick*l,E.push(L(O(m),{color:w.gridcolor,width:w.gridwidth,dash:w.griddash}));for(l=f-1;l<u+1;l++)for(m=w.tick0+w.dtick*l,p=0;p<w.minorgridcount;p++)h=m+w.dtick*(p+1)/(w.minorgridcount+1),!(h<b[0]||h>b[b.length-1])&&y.push(L(O(h),{color:w.minorgridcolor,width:w.minorgridwidth,dash:w.minorgriddash}));w.startline&&S.push(L(O(b[0]),{color:w.startlinecolor,width:w.startlinewidth})),w.endline&&S.push(L(O(b[b.length-1]),{color:w.endlinecolor,width:w.endlinewidth}))}}},14724:function(G,U,e){var g=e(54460),L=e(92880).extendFlat;G.exports=function(C,A){var v,p,r,t,s,n=A._labels=[],f=A._gridlines;for(v=0;v<f.length;v++)s=f[v],["start","both"].indexOf(A.showticklabels)!==-1&&(p=g.tickText(A,s.value),L(p,{prefix:r,suffix:t,endAnchor:!0,xy:s.xy(0),dxy:s.dxy(0,0),axis:s.axis,length:s.crossAxis.length,font:s.axis.tickfont,isFirst:v===0,isLast:v===f.length-1}),n.push(p)),["end","both"].indexOf(A.showticklabels)!==-1&&(p=g.tickText(A,s.value),L(p,{endAnchor:!1,xy:s.xy(s.crossLength-1),dxy:s.dxy(s.crossLength-2,1),axis:s.axis,length:s.crossAxis.length,font:s.axis.tickfont,isFirst:v===0,isLast:v===f.length-1}),n.push(p))}},62284:function(G){var U=.5;G.exports=function(g,L,a,C){var A=g[0]-L[0],v=g[1]-L[1],p=a[0]-L[0],r=a[1]-L[1],t=Math.pow(A*A+v*v,U/2),s=Math.pow(p*p+r*r,U/2),n=(s*s*A-t*t*p)*C,f=(s*s*v-t*t*r)*C,u=s*(t+s)*3,l=t*(t+s)*3;return[[L[0]+(u&&n/u),L[1]+(u&&f/u)],[L[0]-(l&&n/l),L[1]-(l&&f/l)]]}},60776:function(G,U,e){var g=e(3400).isArrayOrTypedArray;G.exports=function(L,a,C){var A,v,p,r,t,s,n=[],f=g(L)?L.length:L,u=g(a)?a.length:a,l=g(L)?L:null,m=g(a)?a:null;l&&(p=(l.length-1)/(l[l.length-1]-l[0])/(f-1)),m&&(r=(m.length-1)/(m[m.length-1]-m[0])/(u-1));var h,M=1/0,c=-1/0;for(v=0;v<u;v++)for(n[v]=[],s=m?(m[v]-m[0])*r:v/(u-1),A=0;A<f;A++)t=l?(l[A]-l[0])*p:A/(f-1),h=t-s*C,M=Math.min(h,M),c=Math.max(h,c),n[v][A]=h;var i=1/(c-M),d=-M*i;for(v=0;v<u;v++)for(A=0;A<f;A++)n[v][A]=i*n[v][A]+d;return n}},30180:function(G,U,e){var g=e(62284),L=e(3400).ensureArray;function a(C,A,v){var p=-.5*v[0]+1.5*A[0],r=-.5*v[1]+1.5*A[1];return[(2*p+C[0])/3,(2*r+C[1])/3]}G.exports=function(A,v,p,r,t,s){var n,f,u,l,m,h,M,c,i,d,b=p[0].length,w=p.length,E=t?3*b-2:b,y=s?3*w-2:w;for(A=L(A,y),v=L(v,y),u=0;u<y;u++)A[u]=L(A[u],E),v[u]=L(v[u],E);for(f=0,l=0;f<w;f++,l+=s?3:1)for(m=A[l],h=v[l],M=p[f],c=r[f],n=0,u=0;n<b;n++,u+=t?3:1)m[u]=M[n],h[u]=c[n];if(t)for(f=0,l=0;f<w;f++,l+=s?3:1){for(n=1,u=3;n<b-1;n++,u+=3)i=g([p[f][n-1],r[f][n-1]],[p[f][n],r[f][n]],[p[f][n+1],r[f][n+1]],t),A[l][u-1]=i[0][0],v[l][u-1]=i[0][1],A[l][u+1]=i[1][0],v[l][u+1]=i[1][1];d=a([A[l][0],v[l][0]],[A[l][2],v[l][2]],[A[l][3],v[l][3]]),A[l][1]=d[0],v[l][1]=d[1],d=a([A[l][E-1],v[l][E-1]],[A[l][E-3],v[l][E-3]],[A[l][E-4],v[l][E-4]]),A[l][E-2]=d[0],v[l][E-2]=d[1]}if(s)for(u=0;u<E;u++){for(l=3;l<y-3;l+=3)i=g([A[l-3][u],v[l-3][u]],[A[l][u],v[l][u]],[A[l+3][u],v[l+3][u]],s),A[l-1][u]=i[0][0],v[l-1][u]=i[0][1],A[l+1][u]=i[1][0],v[l+1][u]=i[1][1];d=a([A[0][u],v[0][u]],[A[2][u],v[2][u]],[A[3][u],v[3][u]]),A[1][u]=d[0],v[1][u]=d[1],d=a([A[y-1][u],v[y-1][u]],[A[y-3][u],v[y-3][u]],[A[y-4][u],v[y-4][u]]),A[y-2][u]=d[0],v[y-2][u]=d[1]}if(t&&s)for(l=1;l<y;l+=(l+1)%3===0?2:1){for(u=3;u<E-3;u+=3)i=g([A[l][u-3],v[l][u-3]],[A[l][u],v[l][u]],[A[l][u+3],v[l][u+3]],t),A[l][u-1]=.5*(A[l][u-1]+i[0][0]),v[l][u-1]=.5*(v[l][u-1]+i[0][1]),A[l][u+1]=.5*(A[l][u+1]+i[1][0]),v[l][u+1]=.5*(v[l][u+1]+i[1][1]);d=a([A[l][0],v[l][0]],[A[l][2],v[l][2]],[A[l][3],v[l][3]]),A[l][1]=.5*(A[l][1]+d[0]),v[l][1]=.5*(v[l][1]+d[1]),d=a([A[l][E-1],v[l][E-1]],[A[l][E-3],v[l][E-3]],[A[l][E-4],v[l][E-4]]),A[l][E-2]=.5*(A[l][E-2]+d[0]),v[l][E-2]=.5*(v[l][E-2]+d[1])}return[A,v]}},24588:function(G){G.exports={RELATIVE_CULL_TOLERANCE:1e-6}},26435:function(G){G.exports=function(U,e,g){return e&&g?function(L,a,C,A,v){L||(L=[]);var p,r,t,s,n,f;a*=3,C*=3;var u=A*A,l=1-A,m=l*l,h=l*A*2,M=-3*m,c=3*(m-h),i=3*(h-u),d=3*u,b=v*v,w=b*v,E=1-v,y=E*E,S=y*E;for(f=0;f<U.length;f++)n=U[f],p=M*n[C][a]+c*n[C][a+1]+i*n[C][a+2]+d*n[C][a+3],r=M*n[C+1][a]+c*n[C+1][a+1]+i*n[C+1][a+2]+d*n[C+1][a+3],t=M*n[C+2][a]+c*n[C+2][a+1]+i*n[C+2][a+2]+d*n[C+2][a+3],s=M*n[C+3][a]+c*n[C+3][a+1]+i*n[C+3][a+2]+d*n[C+3][a+3],L[f]=S*p+3*(y*v*r+E*b*t)+w*s;return L}:e?function(L,a,C,A,v){L||(L=[]);var p,r,t,s;a*=3;var n=A*A,f=1-A,u=f*f,l=f*A*2,m=-3*u,h=3*(u-l),M=3*(l-n),c=3*n,i=1-v;for(t=0;t<U.length;t++)s=U[t],p=m*s[C][a]+h*s[C][a+1]+M*s[C][a+2]+c*s[C][a+3],r=m*s[C+1][a]+h*s[C+1][a+1]+M*s[C+1][a+2]+c*s[C+1][a+3],L[t]=i*p+v*r;return L}:g?function(L,a,C,A,v){L||(L=[]);var p,r,t,s,n,f;C*=3;var u=v*v,l=u*v,m=1-v,h=m*m,M=h*m;for(n=0;n<U.length;n++)f=U[n],p=f[C][a+1]-f[C][a],r=f[C+1][a+1]-f[C+1][a],t=f[C+2][a+1]-f[C+2][a],s=f[C+3][a+1]-f[C+3][a],L[n]=M*p+3*(h*v*r+m*u*t)+l*s;return L}:function(L,a,C,A,v){L||(L=[]);var p,r,t,s,n=1-v;for(t=0;t<U.length;t++)s=U[t],p=s[C][a+1]-s[C][a],r=s[C+1][a+1]-s[C+1][a],L[t]=n*p+v*r;return L}}},24464:function(G){G.exports=function(U,e,g){return e&&g?function(L,a,C,A,v){L||(L=[]);var p,r,t,s,n,f;a*=3,C*=3;var u=A*A,l=u*A,m=1-A,h=m*m,M=h*m,c=v*v,i=1-v,d=i*i,b=i*v*2,w=-3*d,E=3*(d-b),y=3*(b-c),S=3*c;for(f=0;f<U.length;f++)n=U[f],p=w*n[C][a]+E*n[C+1][a]+y*n[C+2][a]+S*n[C+3][a],r=w*n[C][a+1]+E*n[C+1][a+1]+y*n[C+2][a+1]+S*n[C+3][a+1],t=w*n[C][a+2]+E*n[C+1][a+2]+y*n[C+2][a+2]+S*n[C+3][a+2],s=w*n[C][a+3]+E*n[C+1][a+3]+y*n[C+2][a+3]+S*n[C+3][a+3],L[f]=M*p+3*(h*A*r+m*u*t)+l*s;return L}:e?function(L,a,C,A,v){L||(L=[]);var p,r,t,s,n,f;a*=3;var u=v*v,l=u*v,m=1-v,h=m*m,M=h*m;for(n=0;n<U.length;n++)f=U[n],p=f[C+1][a]-f[C][a],r=f[C+1][a+1]-f[C][a+1],t=f[C+1][a+2]-f[C][a+2],s=f[C+1][a+3]-f[C][a+3],L[n]=M*p+3*(h*v*r+m*u*t)+l*s;return L}:g?function(L,a,C,A,v){L||(L=[]);var p,r,t,s;C*=3;var n=1-A,f=v*v,u=1-v,l=u*u,m=u*v*2,h=-3*l,M=3*(l-m),c=3*(m-f),i=3*f;for(t=0;t<U.length;t++)s=U[t],p=h*s[C][a]+M*s[C+1][a]+c*s[C+2][a]+i*s[C+3][a],r=h*s[C][a+1]+M*s[C+1][a+1]+c*s[C+2][a+1]+i*s[C+3][a+1],L[t]=n*p+A*r;return L}:function(L,a,C,A,v){L||(L=[]);var p,r,t,s,n=1-A;for(t=0;t<U.length;t++)s=U[t],p=s[C+1][a]-s[C][a],r=s[C+1][a+1]-s[C][a+1],L[t]=n*p+A*r;return L}}},29056:function(G){G.exports=function(U,e,g,L,a){var C=e-2,A=g-2;return L&&a?function(v,p,r){v||(v=[]);var t,s,n,f,u,l,m=Math.max(0,Math.min(Math.floor(p),C)),h=Math.max(0,Math.min(Math.floor(r),A)),M=Math.max(0,Math.min(1,p-m)),c=Math.max(0,Math.min(1,r-h));m*=3,h*=3;var i=M*M,d=i*M,b=1-M,w=b*b,E=w*b,y=c*c,S=y*c,T=1-c,o=T*T,P=o*T;for(l=0;l<U.length;l++)u=U[l],t=E*u[h][m]+3*(w*M*u[h][m+1]+b*i*u[h][m+2])+d*u[h][m+3],s=E*u[h+1][m]+3*(w*M*u[h+1][m+1]+b*i*u[h+1][m+2])+d*u[h+1][m+3],n=E*u[h+2][m]+3*(w*M*u[h+2][m+1]+b*i*u[h+2][m+2])+d*u[h+2][m+3],f=E*u[h+3][m]+3*(w*M*u[h+3][m+1]+b*i*u[h+3][m+2])+d*u[h+3][m+3],v[l]=P*t+3*(o*c*s+T*y*n)+S*f;return v}:L?function(v,p,r){v||(v=[]);var t=Math.max(0,Math.min(Math.floor(p),C)),s=Math.max(0,Math.min(Math.floor(r),A)),n=Math.max(0,Math.min(1,p-t)),f=Math.max(0,Math.min(1,r-s)),u,l,m,h,M,c;t*=3;var i=n*n,d=i*n,b=1-n,w=b*b,E=w*b,y=1-f;for(M=0;M<U.length;M++)c=U[M],u=y*c[s][t]+f*c[s+1][t],l=y*c[s][t+1]+f*c[s+1][t+1],m=y*c[s][t+2]+f*c[s+1][t+1],h=y*c[s][t+3]+f*c[s+1][t+1],v[M]=E*u+3*(w*n*l+b*i*m)+d*h;return v}:a?function(v,p,r){v||(v=[]);var t=Math.max(0,Math.min(Math.floor(p),C)),s=Math.max(0,Math.min(Math.floor(r),A)),n=Math.max(0,Math.min(1,p-t)),f=Math.max(0,Math.min(1,r-s)),u,l,m,h,M,c;s*=3;var i=f*f,d=i*f,b=1-f,w=b*b,E=w*b,y=1-n;for(M=0;M<U.length;M++)c=U[M],u=y*c[s][t]+n*c[s][t+1],l=y*c[s+1][t]+n*c[s+1][t+1],m=y*c[s+2][t]+n*c[s+2][t+1],h=y*c[s+3][t]+n*c[s+3][t+1],v[M]=E*u+3*(w*f*l+b*i*m)+d*h;return v}:function(v,p,r){v||(v=[]);var t=Math.max(0,Math.min(Math.floor(p),C)),s=Math.max(0,Math.min(Math.floor(r),A)),n=Math.max(0,Math.min(1,p-t)),f=Math.max(0,Math.min(1,r-s)),u,l,m,h,M=1-f,c=1-n;for(m=0;m<U.length;m++)h=U[m],u=c*h[s][t]+n*h[s][t+1],l=c*h[s+1][t]+n*h[s+1][t+1],v[m]=M*u+f*l;return v}}},38356:function(G,U,e){var g=e(3400),L=e(86411),a=e(93504),C=e(85720),A=e(22548);G.exports=function(p,r,t,s){function n(l,m){return g.coerce(p,r,C,l,m)}r._clipPathId="clip"+r.uid+"carpet";var f=n("color",A.defaultLine);if(g.coerceFont(n,"font"),n("carpet"),a(p,r,s,n,f),!r.a||!r.b){r.visible=!1;return}r.a.length<3&&(r.aaxis.smoothing=0),r.b.length<3&&(r.baxis.smoothing=0);var u=L(p,r,n);u||(r.visible=!1),r._cheater&&n("cheaterslope")}},95856:function(G,U,e){G.exports={attributes:e(85720),supplyDefaults:e(38356),plot:e(164),calc:e(58744),animatable:!0,isContainer:!0,moduleType:"trace",name:"carpet",basePlotModule:e(57952),categories:["cartesian","svg","carpet","carpetAxis","notLegendIsolatable","noMultiCategory","noHover","noSortingByValue"],meta:{}}},50948:function(G){G.exports=function(U,e){for(var g=U._fullData.length,L,a=0;a<g;a++){var C=U._fullData[a];if(C.index!==e.index&&C.type==="carpet"&&(L||(L=C),C.carpet===e.carpet))return C}return L}},53416:function(G){G.exports=function(e,g,L){if(e.length===0)return"";var a,C=[],A=L?3:1;for(a=0;a<e.length;a+=A)C.push(e[a]+","+g[a]),L&&a<e.length-A&&(C.push("C"),C.push([e[a+1]+","+g[a+1],e[a+2]+","+g[a+2]+" "].join(" ")));return C.join(L?"":"L")}},87072:function(G,U,e){var g=e(3400).isArrayOrTypedArray;G.exports=function(a,C,A){var v;for(g(a)?a.length>C.length&&(a=a.slice(0,C.length)):a=[],v=0;v<C.length;v++)a[v]=A(C[v]);return a}},15584:function(G){G.exports=function(e,g,L,a,C,A){var v=C[0]*e.dpdx(g),p=C[1]*e.dpdy(L),r=1,t=1;if(A){var s=Math.sqrt(C[0]*C[0]+C[1]*C[1]),n=Math.sqrt(A[0]*A[0]+A[1]*A[1]),f=(C[0]*A[0]+C[1]*A[1])/s/n;t=Math.max(0,f)}var u=Math.atan2(p,v)*180/Math.PI;return u<-90?(u+=180,r=-r):u>90&&(u-=180,r=-r),{angle:u,flip:r,p:e.c2p(a,g,L),offsetMultplier:t}}},164:function(G,U,e){var g=e(33428),L=e(43616),a=e(87072),C=e(53416),A=e(15584),v=e(72736),p=e(3400),r=p.strRotate,t=p.strTranslate,s=e(84284);G.exports=function(i,d,b,w){var E=i._context.staticPlot,y=d.xaxis,S=d.yaxis,T=i._fullLayout,o=T._clips;p.makeTraceGroups(w,b,"trace").each(function(P){var x=g.select(this),_=P[0],I=_.trace,N=I.aaxis,k=I.baxis,F=p.ensureSingle(x,"g","minorlayer"),O=p.ensureSingle(x,"g","majorlayer"),z=p.ensureSingle(x,"g","boundarylayer"),B=p.ensureSingle(x,"g","labellayer");x.style("opacity",I.opacity),f(y,S,O,N,"a",N._gridlines,!0),f(y,S,O,k,"b",k._gridlines,!0),f(y,S,F,N,"a",N._minorgridlines,!0),f(y,S,F,k,"b",k._minorgridlines,!0),f(y,S,z,N,"a-boundary",N._boundarylines,E),f(y,S,z,k,"b-boundary",k._boundarylines,E);var W=u(i,y,S,I,_,B,N._labels,"a-label"),q=u(i,y,S,I,_,B,k._labels,"b-label");l(i,B,I,_,y,S,W,q),n(I,_,o,y,S)})};function n(c,i,d,b,w){var E,y,S,T,o=d.select("#"+c._clipPathId);o.size()||(o=d.append("clipPath").classed("carpetclip",!0));var P=p.ensureSingle(o,"path","carpetboundary"),x=i.clipsegments,_=[];for(T=0;T<x.length;T++)E=x[T],y=a([],E.x,b.c2p),S=a([],E.y,w.c2p),_.push(C(y,S,E.bicubic));var I="M"+_.join("L")+"Z";o.attr("id",c._clipPathId),P.attr("d",I)}function f(c,i,d,b,w,E,y){var S="const-"+w+"-lines",T=d.selectAll("."+S).data(E);T.enter().append("path").classed(S,!0).style("vector-effect",y?"none":"non-scaling-stroke"),T.each(function(o){var P=o,x=P.x,_=P.y,I=a([],x,c.c2p),N=a([],_,i.c2p),k="M"+C(I,N,P.smoothing),F=g.select(this);F.attr("d",k).style("stroke-width",P.width).style("stroke",P.color).style("stroke-dasharray",L.dashStyle(P.dash,P.width)).style("fill","none")}),T.exit().remove()}function u(c,i,d,b,w,E,y,S){var T=E.selectAll("text."+S).data(y);T.enter().append("text").classed(S,!0);var o=0,P={};return T.each(function(x,_){var I;if(x.axis.tickangle==="auto")I=A(b,i,d,x.xy,x.dxy);else{var N=(x.axis.tickangle+180)*Math.PI/180;I=A(b,i,d,x.xy,[Math.cos(N),Math.sin(N)])}_||(P={angle:I.angle,flip:I.flip});var k=(x.endAnchor?-1:1)*I.flip,F=g.select(this).attr({"text-anchor":k>0?"start":"end","data-notex":1}).call(L.font,x.font).text(x.text).call(v.convertToTspans,c),O=L.bBox(this);F.attr("transform",t(I.p[0],I.p[1])+r(I.angle)+t(x.axis.labelpadding*k,O.height*.3)),o=Math.max(o,O.width+x.axis.labelpadding)}),T.exit().remove(),P.maxExtent=o,P}function l(c,i,d,b,w,E,y,S){var T,o,P,x,_=p.aggNums(Math.min,null,d.a),I=p.aggNums(Math.max,null,d.a),N=p.aggNums(Math.min,null,d.b),k=p.aggNums(Math.max,null,d.b);T=.5*(_+I),o=N,P=d.ab2xy(T,o,!0),x=d.dxyda_rough(T,o),y.angle===void 0&&p.extendFlat(y,A(d,w,E,P,d.dxydb_rough(T,o))),M(c,i,d,b,P,x,d.aaxis,w,E,y,"a-title"),T=_,o=.5*(N+k),P=d.ab2xy(T,o,!0),x=d.dxydb_rough(T,o),S.angle===void 0&&p.extendFlat(S,A(d,w,E,P,d.dxyda_rough(T,o))),M(c,i,d,b,P,x,d.baxis,w,E,S,"b-title")}var m=s.LINE_SPACING,h=(1-s.MID_SHIFT)/m+1;function M(c,i,d,b,w,E,y,S,T,o,P){var x=[];y.title.text&&x.push(y.title.text);var _=i.selectAll("text."+P).data(x),I=o.maxExtent;_.enter().append("text").classed(P,!0),_.each(function(){var N=A(d,S,T,w,E);["start","both"].indexOf(y.showticklabels)===-1&&(I=0);var k=y.title.font.size;I+=k+y.title.offset;var F=o.angle+(o.flip<0?180:0),O=(F-N.angle+450)%360,z=O>90&&O<270,B=g.select(this);B.text(y.title.text).call(v.convertToTspans,c),z&&(I=(-v.lineCount(B)+h)*m*k-I),B.attr("transform",t(N.p[0],N.p[1])+r(N.angle)+t(0,I)).attr("text-anchor","middle").call(L.font,y.title.font)}),_.exit().remove()}},81e3:function(G,U,e){var g=e(24588),L=e(14952).findBin,a=e(30180),C=e(29056),A=e(26435),v=e(24464);G.exports=function(r){var t=r._a,s=r._b,n=t.length,f=s.length,u=r.aaxis,l=r.baxis,m=t[0],h=t[n-1],M=s[0],c=s[f-1],i=t[t.length-1]-t[0],d=s[s.length-1]-s[0],b=i*g.RELATIVE_CULL_TOLERANCE,w=d*g.RELATIVE_CULL_TOLERANCE;m-=b,h+=b,M-=w,c+=w,r.isVisible=function(E,y){return E>m&&E<h&&y>M&&y<c},r.isOccluded=function(E,y){return E<m||E>h||y<M||y>c},r.setScale=function(){var E=r._x,y=r._y,S=a(r._xctrl,r._yctrl,E,y,u.smoothing,l.smoothing);r._xctrl=S[0],r._yctrl=S[1],r.evalxy=C([r._xctrl,r._yctrl],n,f,u.smoothing,l.smoothing),r.dxydi=A([r._xctrl,r._yctrl],u.smoothing,l.smoothing),r.dxydj=v([r._xctrl,r._yctrl],u.smoothing,l.smoothing)},r.i2a=function(E){var y=Math.max(0,Math.floor(E[0]),n-2),S=E[0]-y;return(1-S)*t[y]+S*t[y+1]},r.j2b=function(E){var y=Math.max(0,Math.floor(E[1]),n-2),S=E[1]-y;return(1-S)*s[y]+S*s[y+1]},r.ij2ab=function(E){return[r.i2a(E[0]),r.j2b(E[1])]},r.a2i=function(E){var y=Math.max(0,Math.min(L(E,t),n-2)),S=t[y],T=t[y+1];return Math.max(0,Math.min(n-1,y+(E-S)/(T-S)))},r.b2j=function(E){var y=Math.max(0,Math.min(L(E,s),f-2)),S=s[y],T=s[y+1];return Math.max(0,Math.min(f-1,y+(E-S)/(T-S)))},r.ab2ij=function(E){return[r.a2i(E[0]),r.b2j(E[1])]},r.i2c=function(E,y){return r.evalxy([],E,y)},r.ab2xy=function(E,y,S){if(!S&&(E<t[0]||E>t[n-1]|y<s[0]||y>s[f-1]))return[!1,!1];var T=r.a2i(E),o=r.b2j(y),P=r.evalxy([],T,o);if(S){var x=0,_=0,I=[],N,k,F,O;E<t[0]?(N=0,k=0,x=(E-t[0])/(t[1]-t[0])):E>t[n-1]?(N=n-2,k=1,x=(E-t[n-1])/(t[n-1]-t[n-2])):(N=Math.max(0,Math.min(n-2,Math.floor(T))),k=T-N),y<s[0]?(F=0,O=0,_=(y-s[0])/(s[1]-s[0])):y>s[f-1]?(F=f-2,O=1,_=(y-s[f-1])/(s[f-1]-s[f-2])):(F=Math.max(0,Math.min(f-2,Math.floor(o))),O=o-F),x&&(r.dxydi(I,N,F,k,O),P[0]+=I[0]*x,P[1]+=I[1]*x),_&&(r.dxydj(I,N,F,k,O),P[0]+=I[0]*_,P[1]+=I[1]*_)}return P},r.c2p=function(E,y,S){return[y.c2p(E[0]),S.c2p(E[1])]},r.p2x=function(E,y,S){return[y.p2c(E[0]),S.p2c(E[1])]},r.dadi=function(E){var y=Math.max(0,Math.min(t.length-2,E));return t[y+1]-t[y]},r.dbdj=function(E){var y=Math.max(0,Math.min(s.length-2,E));return s[y+1]-s[y]},r.dxyda=function(E,y,S,T){var o=r.dxydi(null,E,y,S,T),P=r.dadi(E,S);return[o[0]/P,o[1]/P]},r.dxydb=function(E,y,S,T){var o=r.dxydj(null,E,y,S,T),P=r.dbdj(y,T);return[o[0]/P,o[1]/P]},r.dxyda_rough=function(E,y,S){var T=i*(S||.1),o=r.ab2xy(E+T,y,!0),P=r.ab2xy(E-T,y,!0);return[(o[0]-P[0])*.5/T,(o[1]-P[1])*.5/T]},r.dxydb_rough=function(E,y,S){var T=d*(S||.1),o=r.ab2xy(E,y+T,!0),P=r.ab2xy(E,y-T,!0);return[(o[0]-P[0])*.5/T,(o[1]-P[1])*.5/T]},r.dpdx=function(E){return E._m},r.dpdy=function(E){return E._m}}},51512:function(G,U,e){var g=e(3400);G.exports=function(a,C,A){var v,p,r,t=[],s=[],n=a[0].length,f=a.length;function u(q,ee){var Q=0,oe,Z=0;return q>0&&(oe=a[ee][q-1])!==void 0&&(Z++,Q+=oe),q<n-1&&(oe=a[ee][q+1])!==void 0&&(Z++,Q+=oe),ee>0&&(oe=a[ee-1][q])!==void 0&&(Z++,Q+=oe),ee<f-1&&(oe=a[ee+1][q])!==void 0&&(Z++,Q+=oe),Q/Math.max(1,Z)}var l=0;for(v=0;v<n;v++)for(p=0;p<f;p++)a[p][v]===void 0&&(t.push(v),s.push(p),a[p][v]=u(v,p)),l=Math.max(l,Math.abs(a[p][v]));if(!t.length)return a;var m,h,M,c,i,d,b,w,E,y,S,T=1e-5,o=0,P=100,x=0,_=t.length;do{for(o=0,r=0;r<_;r++){v=t[r],p=s[r];var I=0,N=0,k,F,O,z,B,W;v===0?(B=Math.min(n-1,2),O=C[B],z=C[1],k=a[p][B],F=a[p][1],N+=F+(F-k)*(C[0]-z)/(z-O),I++):v===n-1&&(B=Math.max(0,n-3),O=C[B],z=C[n-2],k=a[p][B],F=a[p][n-2],N+=F+(F-k)*(C[n-1]-z)/(z-O),I++),(v===0||v===n-1)&&p>0&&p<f-1&&(m=A[p+1]-A[p],h=A[p]-A[p-1],N+=(h*a[p+1][v]+m*a[p-1][v])/(h+m),I++),p===0?(W=Math.min(f-1,2),O=A[W],z=A[1],k=a[W][v],F=a[1][v],N+=F+(F-k)*(A[0]-z)/(z-O),I++):p===f-1&&(W=Math.max(0,f-3),O=A[W],z=A[f-2],k=a[W][v],F=a[f-2][v],N+=F+(F-k)*(A[f-1]-z)/(z-O),I++),(p===0||p===f-1)&&v>0&&v<n-1&&(m=C[v+1]-C[v],h=C[v]-C[v-1],N+=(h*a[p][v+1]+m*a[p][v-1])/(h+m),I++),I?N/=I:(M=C[v+1]-C[v],c=C[v]-C[v-1],i=A[p+1]-A[p],d=A[p]-A[p-1],b=M*c*(M+c),w=i*d*(i+d),N=(b*(d*a[p+1][v]+i*a[p-1][v])+w*(c*a[p][v+1]+M*a[p][v-1]))/(w*(c+M)+b*(d+i))),E=N-a[p][v],y=E/l,o+=y*y,S=I?0:.85,a[p][v]+=E*(1+S)}o=Math.sqrt(o)}while(x++<P&&o>T);return g.log("Smoother converged to",o,"after",x,"iterations"),a}},86411:function(G,U,e){var g=e(3400).isArray1D;G.exports=function(a,C,A){var v=A("x"),p=v&&v.length,r=A("y"),t=r&&r.length;if(!p&&!t)return!1;if(C._cheater=!v,(!p||g(v))&&(!t||g(r))){var s=p?v.length:1/0;t&&(s=Math.min(s,r.length)),C.a&&C.a.length&&(s=Math.min(s,C.a.length)),C.b&&C.b.length&&(s=Math.min(s,C.b.length)),C._length=s}else C._length=null;return!0}},83372:function(G,U,e){var g=e(21776).Ks,L=e(6096),a=e(49084),C=e(45464),A=e(22548).defaultLine,v=e(92880).extendFlat,p=L.marker.line;G.exports=v({locations:{valType:"data_array",editType:"calc"},locationmode:L.locationmode,z:{valType:"data_array",editType:"calc"},geojson:v({},L.geojson,{}),featureidkey:L.featureidkey,text:v({},L.text,{}),hovertext:v({},L.hovertext,{}),marker:{line:{color:v({},p.color,{dflt:A}),width:v({},p.width,{dflt:1}),editType:"calc"},opacity:{valType:"number",arrayOk:!0,min:0,max:1,dflt:1,editType:"style"},editType:"calc"},selected:{marker:{opacity:L.selected.marker.opacity,editType:"plot"},editType:"plot"},unselected:{marker:{opacity:L.unselected.marker.opacity,editType:"plot"},editType:"plot"},hoverinfo:v({},C.hoverinfo,{editType:"calc",flags:["location","z","text","name"]}),hovertemplate:g(),showlegend:v({},C.showlegend,{dflt:!1})},a("",{cLetter:"z",editTypeOverride:"calc"}))},7924:function(G,U,e){var g=e(38248),L=e(39032).BADNUM,a=e(47128),C=e(20148),A=e(4500);function v(p){return p&&typeof p=="string"}G.exports=function(r,t){var s=t._length,n=new Array(s),f;t.geojson?f=function(M){return v(M)||g(M)}:f=v;for(var u=0;u<s;u++){var l=n[u]={},m=t.locations[u],h=t.z[u];f(m)&&g(h)?(l.loc=m,l.z=h):(l.loc=null,l.z=L),l.index=u}return C(n,t),a(r,t,{vals:t.z,containerStr:"",cLetter:"z"}),A(n,t),n}},30972:function(G,U,e){var g=e(3400),L=e(27260),a=e(83372);G.exports=function(A,v,p,r){function t(h,M){return g.coerce(A,v,a,h,M)}var s=t("locations"),n=t("z");if(!(s&&s.length&&g.isArrayOrTypedArray(n)&&n.length)){v.visible=!1;return}v._length=Math.min(s.length,n.length);var f=t("geojson"),u;(typeof f=="string"&&f!==""||g.isPlainObject(f))&&(u="geojson-id");var l=t("locationmode",u);l==="geojson-id"&&t("featureidkey"),t("text"),t("hovertext"),t("hovertemplate");var m=t("marker.line.width");m&&t("marker.line.color"),t("marker.opacity"),L(A,v,r,t,{prefix:"",cLetter:"z"}),g.coerceSelectionMarkerOpacity(v,t)}},52428:function(G){G.exports=function(e,g,L,a,C){e.location=g.location,e.z=g.z;var A=a[C];return A.fIn&&A.fIn.properties&&(e.properties=A.fIn.properties),e.ct=A.ct,e}},69224:function(G,U,e){var g=e(54460),L=e(83372),a=e(3400).fillText;G.exports=function(v,p,r){var t=v.cd,s=t[0].trace,n=v.subplot,f,u,l,m,h=[p,r],M=[p+360,r];for(u=0;u<t.length;u++)if(f=t[u],m=!1,f._polygons){for(l=0;l<f._polygons.length;l++)f._polygons[l].contains(h)&&(m=!m),f._polygons[l].contains(M)&&(m=!m);if(m)break}if(!(!m||!f))return v.x0=v.x1=v.xa.c2p(f.ct),v.y0=v.y1=v.ya.c2p(f.ct),v.index=f.index,v.location=f.loc,v.z=f.z,v.zLabel=g.tickText(n.mockAxis,n.mockAxis.c2l(f.z),"hover").text,v.hovertemplate=f.hovertemplate,C(v,s,f),[v]};function C(A,v,p){if(!v.hovertemplate){var r=p.hi||v.hoverinfo,t=String(p.loc),s=r==="all"?L.hoverinfo.flags:r.split("+"),n=s.indexOf("name")!==-1,f=s.indexOf("location")!==-1,u=s.indexOf("z")!==-1,l=s.indexOf("text")!==-1,m=!n&&f,h=[];m?A.nameOverride=t:(n&&(A.nameOverride=v.name),f&&h.push(t)),u&&h.push(A.zLabel),l&&a(p,v,h),A.extraText=h.join("<br>")}}},54272:function(G,U,e){G.exports={attributes:e(83372),supplyDefaults:e(30972),colorbar:e(96288),calc:e(7924),calcGeoJSON:e(88364).calcGeoJSON,plot:e(88364).plot,style:e(7947).style,styleOnSelect:e(7947).styleOnSelect,hoverPoints:e(69224),eventData:e(52428),selectPoints:e(17328),moduleType:"trace",name:"choropleth",basePlotModule:e(10816),categories:["geo","noOpacity","showLegend"],meta:{}}},88364:function(G,U,e){var g=e(33428),L=e(3400),a=e(27144),C=e(59972).getTopojsonFeatures,A=e(19280).findExtremes,v=e(7947).style;function p(t,s,n){var f=s.layers.backplot.select(".choroplethlayer");L.makeTraceGroups(f,n,"trace choropleth").each(function(u){var l=g.select(this),m=l.selectAll("path.choroplethlocation").data(L.identity);m.enter().append("path").classed("choroplethlocation",!0),m.exit().remove(),v(t,u)})}function r(t,s){for(var n=t[0].trace,f=s[n.geo],u=f._subplot,l=n.locationmode,m=n._length,h=l==="geojson-id"?a.extractTraceFeature(t):C(n,u.topojson),M=[],c=[],i=0;i<m;i++){var d=t[i],b=l==="geojson-id"?d.fOut:a.locationToFeature(l,d.loc,h);if(b){d.geojson=b,d.ct=b.properties.ct,d._polygons=a.feature2polygons(b);var w=a.computeBbox(b);M.push(w[0],w[2]),c.push(w[1],w[3])}else d.geojson=null}if(f.fitbounds==="geojson"&&l==="geojson-id"){var E=a.computeBbox(a.getTraceGeojson(n));M=[E[0],E[2]],c=[E[1],E[3]]}var y={padded:!0};n._extremes.lon=A(f.lonaxis._ax,M,y),n._extremes.lat=A(f.lataxis._ax,c,y)}G.exports={calcGeoJSON:r,plot:p}},17328:function(G){G.exports=function(e,g){var L=e.cd,a=e.xaxis,C=e.yaxis,A=[],v,p,r,t,s;if(g===!1)for(v=0;v<L.length;v++)L[v].selected=0;else for(v=0;v<L.length;v++)p=L[v],r=p.ct,r&&(t=a.c2p(r),s=C.c2p(r),g.contains([t,s],null,v,e)?(A.push({pointNumber:v,lon:r[0],lat:r[1]}),p.selected=1):p.selected=0);return A}},7947:function(G,U,e){var g=e(33428),L=e(76308),a=e(43616),C=e(8932);function A(r,t){t&&v(r,t)}function v(r,t){var s=t[0].trace,n=t[0].node3,f=n.selectAll(".choroplethlocation"),u=s.marker||{},l=u.line||{},m=C.makeColorScaleFuncFromTrace(s);f.each(function(h){g.select(this).attr("fill",m(h.z)).call(L.stroke,h.mlc||l.color).call(a.dashLine,"",h.mlw||l.width||0).style("opacity",u.opacity)}),a.selectedPointStyle(f,s)}function p(r,t){var s=t[0].node3,n=t[0].trace;n.selectedpoints?a.selectedPointStyle(s.selectAll(".choroplethlocation"),n):v(r,t)}G.exports={style:A,styleOnSelect:p}},45608:function(G,U,e){var g=e(83372),L=e(49084),a=e(21776).Ks,C=e(45464),A=e(92880).extendFlat;G.exports=A({locations:{valType:"data_array",editType:"calc"},z:{valType:"data_array",editType:"calc"},geojson:{valType:"any",editType:"calc"},featureidkey:A({},g.featureidkey,{}),below:{valType:"string",editType:"plot"},text:g.text,hovertext:g.hovertext,marker:{line:{color:A({},g.marker.line.color,{editType:"plot"}),width:A({},g.marker.line.width,{editType:"plot"}),editType:"calc"},opacity:A({},g.marker.opacity,{editType:"plot"}),editType:"calc"},selected:{marker:{opacity:A({},g.selected.marker.opacity,{editType:"plot"}),editType:"plot"},editType:"plot"},unselected:{marker:{opacity:A({},g.unselected.marker.opacity,{editType:"plot"}),editType:"plot"},editType:"plot"},hoverinfo:g.hoverinfo,hovertemplate:a({},{keys:["properties"]}),showlegend:A({},C.showlegend,{dflt:!1})},L("",{cLetter:"z",editTypeOverride:"calc"}))},13504:function(G,U,e){var g=e(38248),L=e(3400),a=e(8932),C=e(43616),A=e(44808).makeBlank,v=e(27144);function p(t){var s=t[0].trace,n=s.visible===!0&&s._length!==0,f={layout:{visibility:"none"},paint:{}},u={layout:{visibility:"none"},paint:{}},l=s._opts={fill:f,line:u,geojson:A()};if(!n)return l;var m=v.extractTraceFeature(t);if(!m)return l;var h=a.makeColorScaleFuncFromTrace(s),M=s.marker,c=M.line||{},i;L.isArrayOrTypedArray(M.opacity)&&(i=function(o){var P=o.mo;return g(P)?+L.constrain(P,0,1):0});var d;L.isArrayOrTypedArray(c.color)&&(d=function(o){return o.mlc});var b;L.isArrayOrTypedArray(c.width)&&(b=function(o){return o.mlw});for(var w=0;w<t.length;w++){var E=t[w],y=E.fOut;if(y){var S=y.properties;S.fc=h(E.z),i&&(S.mo=i(E)),d&&(S.mlc=d(E)),b&&(S.mlw=b(E)),E.ct=S.ct,E._polygons=v.feature2polygons(y)}}var T=i?{type:"identity",property:"mo"}:M.opacity;return L.extendFlat(f.paint,{"fill-color":{type:"identity",property:"fc"},"fill-opacity":T}),L.extendFlat(u.paint,{"line-color":d?{type:"identity",property:"mlc"}:c.color,"line-width":b?{type:"identity",property:"mlw"}:c.width,"line-opacity":T}),f.layout.visibility="visible",u.layout.visibility="visible",l.geojson={type:"FeatureCollection",features:m},r(t),l}function r(t){var s=t[0].trace,n=s._opts,f;if(s.selectedpoints){for(var u=C.makeSelectedPointStyleFns(s),l=0;l<t.length;l++){var m=t[l];m.fOut&&(m.fOut.properties.mo2=u.selectedOpacityFn(m))}f={type:"identity",property:"mo2"}}else f=L.isArrayOrTypedArray(s.marker.opacity)?{type:"identity",property:"mo"}:s.marker.opacity;return L.extendFlat(n.fill.paint,{"fill-opacity":f}),L.extendFlat(n.line.paint,{"line-opacity":f}),n}G.exports={convert:p,convertOnSelect:r}},9352:function(G,U,e){var g=e(3400),L=e(27260),a=e(45608);G.exports=function(A,v,p,r){function t(l,m){return g.coerce(A,v,a,l,m)}var s=t("locations"),n=t("z"),f=t("geojson");if(!g.isArrayOrTypedArray(s)||!s.length||!g.isArrayOrTypedArray(n)||!n.length||!(typeof f=="string"&&f!==""||g.isPlainObject(f))){v.visible=!1;return}t("featureidkey"),v._length=Math.min(s.length,n.length),t("below"),t("text"),t("hovertext"),t("hovertemplate");var u=t("marker.line.width");u&&t("marker.line.color"),t("marker.opacity"),L(A,v,r,t,{prefix:"",cLetter:"z"}),g.coerceSelectionMarkerOpacity(v,t)}},85404:function(G,U,e){G.exports={attributes:e(45608),supplyDefaults:e(9352),colorbar:e(96288),calc:e(7924),plot:e(61288),hoverPoints:e(69224),eventData:e(52428),selectPoints:e(17328),styleOnSelect:function(g,L){if(L){var a=L[0].trace;a._glTrace.updateOnSelect(L)}},getBelow:function(g,L){for(var a=L.getMapLayers(),C=a.length-2;C>=0;C--){var A=a[C].id;if(typeof A=="string"&&A.indexOf("water")===0){for(var v=C+1;v<a.length;v++)if(A=a[v].id,typeof A=="string"&&A.indexOf("plotly-")===-1)return A}}},moduleType:"trace",name:"choroplethmapbox",basePlotModule:e(33688),categories:["mapbox","gl","noOpacity","showLegend"],meta:{hr_name:"choropleth_mapbox"}}},61288:function(G,U,e){var g=e(13504).convert,L=e(13504).convertOnSelect,a=e(47552).traceLayerPrefix;function C(v,p){this.type="choroplethmapbox",this.subplot=v,this.uid=p,this.sourceId="source-"+p,this.layerList=[["fill",a+p+"-fill"],["line",a+p+"-line"]],this.below=null}var A=C.prototype;A.update=function(v){this._update(g(v)),v[0].trace._glTrace=this},A.updateOnSelect=function(v){this._update(L(v))},A._update=function(v){var p=this.subplot,r=this.layerList,t=p.belowLookup["trace-"+this.uid];p.map.getSource(this.sourceId).setData(v.geojson),t!==this.below&&(this._removeLayers(),this._addLayers(v,t),this.below=t);for(var s=0;s<r.length;s++){var n=r[s],f=n[0],u=n[1],l=v[f];p.setOptions(u,"setLayoutProperty",l.layout),l.layout.visibility==="visible"&&p.setOptions(u,"setPaintProperty",l.paint)}},A._addLayers=function(v,p){for(var r=this.subplot,t=this.layerList,s=this.sourceId,n=0;n<t.length;n++){var f=t[n],u=f[0],l=v[u];r.addLayer({type:u,id:f[1],source:s,layout:l.layout,paint:l.paint},p)}},A._removeLayers=function(){for(var v=this.subplot.map,p=this.layerList,r=p.length-1;r>=0;r--)v.removeLayer(p[r][1])},A.dispose=function(){var v=this.subplot.map;this._removeLayers(),v.removeSource(this.sourceId)},G.exports=function(p,r){var t=r[0].trace,s=new C(p,t.uid),n=s.sourceId,f=g(r),u=s.below=p.belowLookup["trace-"+t.uid];return p.map.addSource(n,{type:"geojson",data:f.geojson}),s._addLayers(f,u),r[0].trace._glTrace=s,s}},86040:function(G,U,e){var g=e(49084),L=e(29736).axisHoverFormat,a=e(21776).Ks,C=e(52948),A=e(45464),v=e(92880).extendFlat,p={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},u:{valType:"data_array",editType:"calc"},v:{valType:"data_array",editType:"calc"},w:{valType:"data_array",editType:"calc"},sizemode:{valType:"enumerated",values:["scaled","absolute"],editType:"calc",dflt:"scaled"},sizeref:{valType:"number",editType:"calc",min:0},anchor:{valType:"enumerated",editType:"calc",values:["tip","tail","cm","center"],dflt:"cm"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertemplate:a({editType:"calc"},{keys:["norm"]}),uhoverformat:L("u",1),vhoverformat:L("v",1),whoverformat:L("w",1),xhoverformat:L("x"),yhoverformat:L("y"),zhoverformat:L("z"),showlegend:v({},A.showlegend,{dflt:!1})};v(p,g("",{colorAttr:"u/v/w norm",showScaleDflt:!0,editTypeOverride:"calc"}));var r=["opacity","lightposition","lighting"];r.forEach(function(t){p[t]=C[t]}),p.hoverinfo=v({},A.hoverinfo,{editType:"calc",flags:["x","y","z","u","v","w","norm","text","name"],dflt:"x+y+z+norm+text+name"}),p.transforms=void 0,G.exports=p},83344:function(G,U,e){var g=e(47128);G.exports=function(a,C){for(var A=C.u,v=C.v,p=C.w,r=Math.min(C.x.length,C.y.length,C.z.length,A.length,v.length,p.length),t=-1/0,s=1/0,n=0;n<r;n++){var f=A[n],u=v[n],l=p[n],m=Math.sqrt(f*f+u*u+l*l);t=Math.max(t,m),s=Math.min(s,m)}C._len=r,C._normMax=t,g(a,C,{vals:[s,t],containerStr:"",cLetter:"c"})}},6648:function(G,U,e){var g=e(67792).gl_cone3d,L=e(67792).gl_cone3d.createConeMesh,a=e(3400).simpleMap,C=e(33040).parseColorScale,A=e(8932).extractOpts,v=e(3400).isArrayOrTypedArray,p=e(52094);function r(m,h){this.scene=m,this.uid=h,this.mesh=null,this.data=null}var t=r.prototype;t.handlePick=function(m){if(m.object===this.mesh){var h=m.index=m.data.index,M=this.data.x[h],c=this.data.y[h],i=this.data.z[h],d=this.data.u[h],b=this.data.v[h],w=this.data.w[h];m.traceCoordinate=[M,c,i,d,b,w,Math.sqrt(d*d+b*b+w*w)];var E=this.data.hovertext||this.data.text;return v(E)&&E[h]!==void 0?m.textLabel=E[h]:E&&(m.textLabel=E),!0}};var s={xaxis:0,yaxis:1,zaxis:2},n={tip:1,tail:0,cm:.25,center:.5},f={tip:1,tail:1,cm:.75,center:.5};function u(m,h){var M=m.fullSceneLayout,c=m.dataScale,i={};function d(y,S){var T=M[S],o=c[s[S]];return a(y,function(P){return T.d2l(P)*o})}i.vectors=p(d(h.u,"xaxis"),d(h.v,"yaxis"),d(h.w,"zaxis"),h._len),i.positions=p(d(h.x,"xaxis"),d(h.y,"yaxis"),d(h.z,"zaxis"),h._len);var b=A(h);i.colormap=C(h),i.vertexIntensityBounds=[b.min/h._normMax,b.max/h._normMax],i.coneOffset=n[h.anchor],h.sizemode==="scaled"?i.coneSize=h.sizeref||.5:i.coneSize=h.sizeref&&h._normMax?h.sizeref/h._normMax:.5;var w=g(i),E=h.lightposition;return w.lightPosition=[E.x,E.y,E.z],w.ambient=h.lighting.ambient,w.diffuse=h.lighting.diffuse,w.specular=h.lighting.specular,w.roughness=h.lighting.roughness,w.fresnel=h.lighting.fresnel,w.opacity=h.opacity,h._pad=f[h.anchor]*w.vectorScale*w.coneScale*h._normMax,w}t.update=function(m){this.data=m;var h=u(this.scene,m);this.mesh.update(h)},t.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function l(m,h){var M=m.glplot.gl,c=u(m,h),i=L(M,c),d=new r(m,h.uid);return d.mesh=i,d.data=h,i._trace=d,m.glplot.add(i),d}G.exports=l},86096:function(G,U,e){var g=e(3400),L=e(27260),a=e(86040);G.exports=function(A,v,p,r){function t(h,M){return g.coerce(A,v,a,h,M)}var s=t("u"),n=t("v"),f=t("w"),u=t("x"),l=t("y"),m=t("z");if(!s||!s.length||!n||!n.length||!f||!f.length||!u||!u.length||!l||!l.length||!m||!m.length){v.visible=!1;return}t("sizeref"),t("sizemode"),t("anchor"),t("lighting.ambient"),t("lighting.diffuse"),t("lighting.specular"),t("lighting.roughness"),t("lighting.fresnel"),t("lightposition.x"),t("lightposition.y"),t("lightposition.z"),L(A,v,r,t,{prefix:"",cLetter:"c"}),t("text"),t("hovertext"),t("hovertemplate"),t("uhoverformat"),t("vhoverformat"),t("whoverformat"),t("xhoverformat"),t("yhoverformat"),t("zhoverformat"),v._length=null}},26048:function(G,U,e){G.exports={moduleType:"trace",name:"cone",basePlotModule:e(12536),categories:["gl3d","showLegend"],attributes:e(86040),supplyDefaults:e(86096),colorbar:{min:"cmin",max:"cmax"},calc:e(83344),plot:e(6648),eventData:function(g,L){return g.norm=L.traceCoordinate[6],g},meta:{}}},67104:function(G,U,e){var g=e(83328),L=e(52904),a=e(29736),C=a.axisHoverFormat,A=a.descriptionOnlyNumbers,v=e(49084),p=e(98192).u,r=e(25376),t=e(92880).extendFlat,s=e(69104),n=s.COMPARISON_OPS2,f=s.INTERVAL_OPS,u=L.line;G.exports=t({z:g.z,x:g.x,x0:g.x0,dx:g.dx,y:g.y,y0:g.y0,dy:g.dy,xperiod:g.xperiod,yperiod:g.yperiod,xperiod0:L.xperiod0,yperiod0:L.yperiod0,xperiodalignment:g.xperiodalignment,yperiodalignment:g.yperiodalignment,text:g.text,hovertext:g.hovertext,transpose:g.transpose,xtype:g.xtype,ytype:g.ytype,xhoverformat:C("x"),yhoverformat:C("y"),zhoverformat:C("z",1),hovertemplate:g.hovertemplate,texttemplate:t({},g.texttemplate,{}),textfont:t({},g.textfont,{}),hoverongaps:g.hoverongaps,connectgaps:t({},g.connectgaps,{}),fillcolor:{valType:"color",editType:"calc"},autocontour:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"contours.start":void 0,"contours.end":void 0,"contours.size":void 0}},ncontours:{valType:"integer",dflt:15,min:1,editType:"calc"},contours:{type:{valType:"enumerated",values:["levels","constraint"],dflt:"levels",editType:"calc"},start:{valType:"number",dflt:null,editType:"plot",impliedEdits:{"^autocontour":!1}},end:{valType:"number",dflt:null,editType:"plot",impliedEdits:{"^autocontour":!1}},size:{valType:"number",dflt:null,min:0,editType:"plot",impliedEdits:{"^autocontour":!1}},coloring:{valType:"enumerated",values:["fill","heatmap","lines","none"],dflt:"fill",editType:"calc"},showlines:{valType:"boolean",dflt:!0,editType:"plot"},showlabels:{valType:"boolean",dflt:!1,editType:"plot"},labelfont:r({editType:"plot",colorEditType:"style"}),labelformat:{valType:"string",dflt:"",editType:"plot",description:A("contour label")},operation:{valType:"enumerated",values:[].concat(n).concat(f),dflt:"=",editType:"calc"},value:{valType:"any",dflt:0,editType:"calc"},editType:"calc",impliedEdits:{autocontour:!1}},line:{color:t({},u.color,{editType:"style+colorbars"}),width:{valType:"number",min:0,editType:"style+colorbars"},dash:p,smoothing:t({},u.smoothing,{}),editType:"plot"}},v("",{cLetter:"z",autoColorDflt:!1,editTypeOverride:"calc"}))},20688:function(G,U,e){var g=e(8932),L=e(19512),a=e(54444),C=e(46960);G.exports=function(v,p){var r=L(v,p),t=r[0].z;a(p,t);var s=p.contours,n=g.extractOpts(p),f;if(s.coloring==="heatmap"&&n.auto&&p.autocontour===!1){var u=s.start,l=C(s),m=s.size||1,h=Math.floor((l-u)/m)+1;isFinite(m)||(m=1,h=1);var M=u-m/2,c=M+h*m;f=[M,c]}else f=t;return g.calc(v,p,{vals:f,cLetter:"z"}),r}},56008:function(G){G.exports=function(U,e){var g=U[0],L=g.z,a;switch(e.type){case"levels":var C=Math.min(L[0][0],L[0][1]);for(a=0;a<U.length;a++){var A=U[a];A.prefixBoundary=!A.edgepaths.length&&(C>A.level||A.starts.length&&C===A.level)}break;case"constraint":if(g.prefixBoundary=!1,g.edgepaths.length)return;var v=g.x.length,p=g.y.length,r=-1/0,t=1/0;for(a=0;a<p;a++)t=Math.min(t,L[a][0]),t=Math.min(t,L[a][v-1]),r=Math.max(r,L[a][0]),r=Math.max(r,L[a][v-1]);for(a=1;a<v-1;a++)t=Math.min(t,L[0][a]),t=Math.min(t,L[p-1][a]),r=Math.max(r,L[0][a]),r=Math.max(r,L[p-1][a]);var s=e.value,n,f;switch(e._operation){case">":s>r&&(g.prefixBoundary=!0);break;case"<":(s<t||g.starts.length&&s===t)&&(g.prefixBoundary=!0);break;case"[]":n=Math.min(s[0],s[1]),f=Math.max(s[0],s[1]),(f<t||n>r||g.starts.length&&f===t)&&(g.prefixBoundary=!0);break;case"][":n=Math.min(s[0],s[1]),f=Math.max(s[0],s[1]),n<t&&f>r&&(g.prefixBoundary=!0);break}break}}},55296:function(G,U,e){var g=e(8932),L=e(41076),a=e(46960);function C(A,v,p){var r=v.contours,t=v.line,s=r.size||1,n=r.coloring,f=L(v,{isColorbar:!0});if(n==="heatmap"){var u=g.extractOpts(v);p._fillgradient=u.reversescale?g.flipScale(u.colorscale):u.colorscale,p._zrange=[u.min,u.max]}else n==="fill"&&(p._fillcolor=f);p._line={color:n==="lines"?f:t.color,width:r.showlines!==!1?t.width:0,dash:t.dash},p._levels={start:r.start,end:a(r),size:s}}G.exports={min:"zmin",max:"zmax",calc:C}},93252:function(G){G.exports={BOTTOMSTART:[1,9,13,104,713],TOPSTART:[4,6,7,104,713],LEFTSTART:[8,12,14,208,1114],RIGHTSTART:[2,3,11,208,1114],NEWDELTA:[null,[-1,0],[0,-1],[-1,0],[1,0],null,[0,-1],[-1,0],[0,1],[0,1],null,[0,1],[1,0],[1,0],[0,-1]],CHOOSESADDLE:{104:[4,1],208:[2,8],713:[7,13],1114:[11,14]},SADDLEREMAINDER:{1:4,2:8,4:1,7:13,8:2,11:14,13:7,14:11},LABELDISTANCE:2,LABELINCREASE:10,LABELMIN:3,LABELMAX:10,LABELOPTIMIZER:{EDGECOST:1,ANGLECOST:1,NEIGHBORCOST:5,SAMELEVELFACTOR:10,SAMELEVELDISTANCE:5,MAXCOST:100,INITIALSEARCHPOINTS:10,ITERATIONS:5}}},95536:function(G,U,e){var g=e(38248),L=e(17428),a=e(76308),C=a.addOpacity,A=a.opacity,v=e(69104),p=e(3400).isArrayOrTypedArray,r=v.CONSTRAINT_REDUCTION,t=v.COMPARISON_OPS2;G.exports=function(f,u,l,m,h,M){var c=u.contours,i,d,b,w=l("contours.operation");if(c._operation=r[w],s(l,c),w==="="?i=c.showlines=!0:(i=l("contours.showlines"),b=l("fillcolor",C((f.line||{}).color||h,.5))),i){var E=b&&A(b)?C(u.fillcolor,1):h;d=l("line.color",E),l("line.width",2),l("line.dash")}l("line.smoothing"),L(l,m,d,M)};function s(n,f){var u;t.indexOf(f.operation)===-1?(n("contours.value",[0,1]),p(f.value)?f.value.length>2?f.value=f.value.slice(2):f.length===0?f.value=[0,1]:f.length<2?(u=parseFloat(f.value[0]),f.value=[u,u+1]):f.value=[parseFloat(f.value[0]),parseFloat(f.value[1])]:g(f.value)&&(u=parseFloat(f.value),f.value=[u,u+1])):(n("contours.value",0),g(f.value)||(p(f.value)?f.value=parseFloat(f.value[0]):f.value=0))}},3212:function(G,U,e){var g=e(69104),L=e(38248);G.exports={"[]":C("[]"),"][":C("]["),">":A(">"),"<":A("<"),"=":A("=")};function a(v,p){var r=Array.isArray(p),t;function s(n){return L(n)?+n:null}return g.COMPARISON_OPS2.indexOf(v)!==-1?t=s(r?p[0]:p):g.INTERVAL_OPS.indexOf(v)!==-1?t=r?[s(p[0]),s(p[1])]:[s(p),s(p)]:g.SET_OPS.indexOf(v)!==-1&&(t=r?p.map(s):[s(p)]),t}function C(v){return function(p){p=a(v,p);var r=Math.min(p[0],p[1]),t=Math.max(p[0],p[1]);return{start:r,end:t,size:t-r}}}function A(v){return function(p){return p=a(v,p),{start:p,end:1/0,size:1/0}}}},84952:function(G){G.exports=function(e,g,L,a){var C=a("contours.start"),A=a("contours.end"),v=C===!1||A===!1,p=L("contours.size"),r;v?r=g.autocontour=!0:r=L("autocontour",!1),(r||!p)&&L("ncontours")}},82172:function(G,U,e){var g=e(3400);G.exports=function(a,C){var A,v,p,r=function(n){return n.reverse()},t=function(n){return n};switch(C){case"=":case"<":return a;case">":for(a.length!==1&&g.warn("Contour data invalid for the specified inequality operation."),v=a[0],A=0;A<v.edgepaths.length;A++)v.edgepaths[A]=r(v.edgepaths[A]);for(A=0;A<v.paths.length;A++)v.paths[A]=r(v.paths[A]);for(A=0;A<v.starts.length;A++)v.starts[A]=r(v.starts[A]);return a;case"][":var s=r;r=t,t=s;case"[]":for(a.length!==2&&g.warn("Contour data invalid for the specified inequality range operation."),v=L(a[0]),p=L(a[1]),A=0;A<v.edgepaths.length;A++)v.edgepaths[A]=r(v.edgepaths[A]);for(A=0;A<v.paths.length;A++)v.paths[A]=r(v.paths[A]);for(A=0;A<v.starts.length;A++)v.starts[A]=r(v.starts[A]);for(;p.edgepaths.length;)v.edgepaths.push(t(p.edgepaths.shift()));for(;p.paths.length;)v.paths.push(t(p.paths.shift()));for(;p.starts.length;)v.starts.push(t(p.starts.shift()));return[v]}};function L(a){return g.extendFlat({},a,{edgepaths:g.extendDeep([],a.edgepaths),paths:g.extendDeep([],a.paths),starts:g.extendDeep([],a.starts)})}},57004:function(G,U,e){var g=e(3400),L=e(51264),a=e(31147),C=e(95536),A=e(84952),v=e(97680),p=e(39096),r=e(67104);G.exports=function(s,n,f,u){function l(c,i){return g.coerce(s,n,r,c,i)}function m(c){return g.coerce2(s,n,r,c)}var h=L(s,n,l,u);if(!h){n.visible=!1;return}a(s,n,u,l),l("xhoverformat"),l("yhoverformat"),l("text"),l("hovertext"),l("hoverongaps"),l("hovertemplate");var M=l("contours.type")==="constraint";l("connectgaps",g.isArray1D(n.z)),M?C(s,n,l,u,f):(A(s,n,l,m),v(s,n,l,u)),n.contours&&n.contours.coloring==="heatmap"&&p(l,u)}},61512:function(G,U,e){var g=e(3400),L=e(3212),a=e(46960);G.exports=function(A,v,p){for(var r=A.type==="constraint"?L[A._operation](A.value):A,t=r.size,s=[],n=a(r),f=p.trace._carpetTrace,u=f?{xaxis:f.aaxis,yaxis:f.baxis,x:p.a,y:p.b}:{xaxis:v.xaxis,yaxis:v.yaxis,x:p.x,y:p.y},l=r.start;l<n;l+=t)if(s.push(g.extendFlat({level:l,crossings:{},starts:[],edgepaths:[],paths:[],z:p.z,smoothing:p.trace.line.smoothing},u)),s.length>1e3){g.warn("Too many contours, clipping at 1000",A);break}return s}},46960:function(G){G.exports=function(e){return e.end+e.size/1e6}},88748:function(G,U,e){var g=e(3400),L=e(93252);G.exports=function(t,s,n){var f,u,l,m,h;for(s=s||.01,n=n||.01,l=0;l<t.length;l++){for(m=t[l],h=0;h<m.starts.length;h++)u=m.starts[h],A(m,u,"edge",s,n);for(f=0;Object.keys(m.crossings).length&&f<1e4;)f++,u=Object.keys(m.crossings)[0].split(",").map(Number),A(m,u,void 0,s,n);f===1e4&&g.log("Infinite loop in contour?")}};function a(r,t,s,n){return Math.abs(r[0]-t[0])<s&&Math.abs(r[1]-t[1])<n}function C(r,t){var s=r[2]-t[2],n=r[3]-t[3];return Math.sqrt(s*s+n*n)}function A(r,t,s,n,f){var u=t.join(","),l=r.crossings[u],m=v(l,s,t),h=[p(r,t,[-m[0],-m[1]])],M=r.z.length,c=r.z[0].length,i=t.slice(),d=m.slice(),b;for(b=0;b<1e4;b++){if(l>20?(l=L.CHOOSESADDLE[l][(m[0]||m[1])<0?0:1],r.crossings[u]=L.SADDLEREMAINDER[l]):delete r.crossings[u],m=L.NEWDELTA[l],!m){g.log("Found bad marching index:",l,t,r.level);break}h.push(p(r,t,m)),t[0]+=m[0],t[1]+=m[1],u=t.join(","),a(h[h.length-1],h[h.length-2],n,f)&&h.pop();var w=m[0]&&(t[0]<0||t[0]>c-2)||m[1]&&(t[1]<0||t[1]>M-2),E=t[0]===i[0]&&t[1]===i[1]&&m[0]===d[0]&&m[1]===d[1];if(E||s&&w)break;l=r.crossings[u]}b===1e4&&g.log("Infinite loop in contour?");var y=a(h[0],h[h.length-1],n,f),S=0,T=.2*r.smoothing,o=[],P=0,x,_,I,N,k,F,O,z,B,W,q;for(b=1;b<h.length;b++)O=C(h[b],h[b-1]),S+=O,o.push(O);var ee=S/o.length*T;function Q(Y){return h[Y%h.length]}for(b=h.length-2;b>=P;b--)if(x=o[b],x<ee){for(I=0,_=b-1;_>=P&&x+o[_]<ee;_--)x+=o[_];if(y&&b===h.length-2)for(I=0;I<_&&x+o[I]<ee;I++)x+=o[I];k=b-_+I+1,F=Math.floor((b+_+I+2)/2),!y&&b===h.length-2?N=h[h.length-1]:!y&&_===-1?N=h[0]:k%2?N=Q(F):N=[(Q(F)[0]+Q(F+1)[0])/2,(Q(F)[1]+Q(F+1)[1])/2],h.splice(_+1,b-_+1,N),b=_+1,I&&(P=I),y&&(b===h.length-2?h[I]=h[h.length-1]:b===0&&(h[h.length-1]=h[0]))}for(h.splice(0,P),b=0;b<h.length;b++)h[b].length=2;if(!(h.length<2))if(y)h.pop(),r.paths.push(h);else{s||g.log("Unclosed interior contour?",r.level,i.join(","),h.join("L"));var oe=!1;for(z=0;z<r.edgepaths.length;z++)if(W=r.edgepaths[z],!oe&&a(W[0],h[h.length-1],n,f)){h.pop(),oe=!0;var Z=!1;for(B=0;B<r.edgepaths.length;B++)if(q=r.edgepaths[B],a(q[q.length-1],h[0],n,f)){Z=!0,h.shift(),r.edgepaths.splice(z,1),B===z?r.paths.push(h.concat(q)):(B>z&&B--,r.edgepaths[B]=q.concat(h,W));break}Z||(r.edgepaths[z]=h.concat(W))}for(z=0;z<r.edgepaths.length&&!oe;z++)W=r.edgepaths[z],a(W[W.length-1],h[0],n,f)&&(h.shift(),r.edgepaths[z]=W.concat(h),oe=!0);oe||r.edgepaths.push(h)}}function v(r,t,s){var n=0,f=0;return r>20&&t?r===208||r===1114?n=s[0]===0?1:-1:f=s[1]===0?1:-1:L.BOTTOMSTART.indexOf(r)!==-1?f=1:L.LEFTSTART.indexOf(r)!==-1?n=1:L.TOPSTART.indexOf(r)!==-1?f=-1:n=-1,[n,f]}function p(r,t,s){var n=t[0]+Math.max(s[0],0),f=t[1]+Math.max(s[1],0),u=r.z[f][n],l=r.xaxis,m=r.yaxis;if(s[1]){var h=(r.level-u)/(r.z[f][n+1]-u),M=(h!==1?(1-h)*l.c2l(r.x[n]):0)+(h!==0?h*l.c2l(r.x[n+1]):0);return[l.c2p(l.l2c(M),!0),m.c2p(r.y[f],!0),n+h,f]}else{var c=(r.level-u)/(r.z[f+1][n]-u),i=(c!==1?(1-c)*m.c2l(r.y[f]):0)+(c!==0?c*m.c2l(r.y[f+1]):0);return[l.c2p(r.x[n],!0),m.c2p(m.l2c(i),!0),n,f+c]}}},38200:function(G,U,e){var g=e(76308),L=e(55512);G.exports=function(C,A,v,p,r){r||(r={}),r.isContour=!0;var t=L(C,A,v,p,r);return t&&t.forEach(function(s){var n=s.trace;n.contours.type==="constraint"&&(n.fillcolor&&g.opacity(n.fillcolor)?s.color=g.addOpacity(n.fillcolor,1):n.contours.showlines&&g.opacity(n.line.color)&&(s.color=g.addOpacity(n.line.color,1)))}),t}},66240:function(G,U,e){G.exports={attributes:e(67104),supplyDefaults:e(57004),calc:e(20688),plot:e(23676).plot,style:e(52440),colorbar:e(55296),hoverPoints:e(38200),moduleType:"trace",name:"contour",basePlotModule:e(57952),categories:["cartesian","svg","2dMap","contour","showLegend"],meta:{}}},17428:function(G,U,e){var g=e(3400);G.exports=function(a,C,A,v){v||(v={});var p=a("contours.showlabels");if(p){var r=C.font;g.coerceFont(a,"contours.labelfont",{family:r.family,size:r.size,color:A}),a("contours.labelformat")}v.hasHover!==!1&&a("zhoverformat")}},41076:function(G,U,e){var g=e(33428),L=e(8932),a=e(46960);G.exports=function(A){var v=A.contours,p=v.start,r=a(v),t=v.size||1,s=Math.floor((r-p)/t)+1,n=v.coloring==="lines"?0:1,f=L.extractOpts(A);isFinite(t)||(t=1,s=1);var u=f.reversescale?L.flipScale(f.colorscale):f.colorscale,l=u.length,m=new Array(l),h=new Array(l),M,c,i=f.min,d=f.max;if(v.coloring==="heatmap"){for(c=0;c<l;c++)M=u[c],m[c]=M[0]*(d-i)+i,h[c]=M[1];var b=g.extent([i,d,v.start,v.start+t*(s-1)]),w=b[i<d?0:1],E=b[i<d?1:0];w!==i&&(m.splice(0,0,w),h.splice(0,0,h[0])),E!==d&&(m.push(E),h.push(h[h.length-1]))}else{var y=A._input&&typeof A._input.zmin=="number"&&typeof A._input.zmax=="number";for(y&&(p<=i||r>=d)&&(p<=i&&(p=i),r>=d&&(r=d),s=Math.floor((r-p)/t)+1,n=0),c=0;c<l;c++)M=u[c],m[c]=(M[0]*(s+n-1)-n/2)*t+p,h[c]=M[1];(y||A.autocontour)&&(m[0]>i&&(m.unshift(i),h.unshift(h[0])),m[m.length-1]<d&&(m.push(d),h.push(h[h.length-1])))}return L.makeColorScaleFunc({domain:m,range:h},{noNumericCheck:!0})}},72424:function(G,U,e){var g=e(93252);G.exports=function(C){var A=C[0].z,v=A.length,p=A[0].length,r=v===2||p===2,t,s,n,f,u,l,m,h,M;for(s=0;s<v-1;s++)for(f=[],s===0&&(f=f.concat(g.BOTTOMSTART)),s===v-2&&(f=f.concat(g.TOPSTART)),t=0;t<p-1;t++)for(n=f.slice(),t===0&&(n=n.concat(g.LEFTSTART)),t===p-2&&(n=n.concat(g.RIGHTSTART)),u=t+","+s,l=[[A[s][t],A[s][t+1]],[A[s+1][t],A[s+1][t+1]]],M=0;M<C.length;M++)h=C[M],m=L(h.level,l),m&&(h.crossings[u]=m,n.indexOf(m)!==-1&&(h.starts.push([t,s]),r&&n.indexOf(m,n.indexOf(m)+1)!==-1&&h.starts.push([t,s])))};function L(a,C){var A=(C[0][0]>a?0:1)+(C[0][1]>a?0:2)+(C[1][1]>a?0:4)+(C[1][0]>a?0:8);if(A===5||A===10){var v=(C[0][0]+C[0][1]+C[1][0]+C[1][1])/4;return a>v?A===5?713:1114:A===5?104:208}return A===15?0:A}},23676:function(G,U,e){var g=e(33428),L=e(3400),a=e(43616),C=e(8932),A=e(72736),v=e(54460),p=e(78344),r=e(41420),t=e(72424),s=e(88748),n=e(61512),f=e(82172),u=e(56008),l=e(93252),m=l.LABELOPTIMIZER;U.plot=function(y,S,T,o){var P=S.xaxis,x=S.yaxis;L.makeTraceGroups(o,T,"contour").each(function(_){var I=g.select(this),N=_[0],k=N.trace,F=N.x,O=N.y,z=k.contours,B=n(z,S,N),W=L.ensureSingle(I,"g","heatmapcoloring"),q=[];z.coloring==="heatmap"&&(q=[_]),r(y,S,q,W),t(B),s(B);var ee=P.c2p(F[0],!0),Q=P.c2p(F[F.length-1],!0),oe=x.c2p(O[0],!0),Z=x.c2p(O[O.length-1],!0),Y=[[ee,Z],[Q,Z],[Q,oe],[ee,oe]],te=B;z.type==="constraint"&&(te=f(B,z._operation)),h(I,Y,z),M(I,te,Y,z),i(I,B,y,N,z),b(I,S,y,N,Y)})};function h(E,y,S){var T=L.ensureSingle(E,"g","contourbg"),o=T.selectAll("path").data(S.coloring==="fill"?[0]:[]);o.enter().append("path"),o.exit().remove(),o.attr("d","M"+y.join("L")+"Z").style("stroke","none")}function M(E,y,S,T){var o=T.coloring==="fill"||T.type==="constraint"&&T._operation!=="=",P="M"+S.join("L")+"Z";o&&u(y,T);var x=L.ensureSingle(E,"g","contourfill"),_=x.selectAll("path").data(o?y:[]);_.enter().append("path"),_.exit().remove(),_.each(function(I){var N=(I.prefixBoundary?P:"")+c(I,S);N?g.select(this).attr("d",N).style("stroke","none"):g.select(this).remove()})}function c(E,y){var S="",T=0,o=E.edgepaths.map(function(ee,Q){return Q}),P=!0,x,_,I,N,k,F;function O(ee){return Math.abs(ee[1]-y[0][1])<.01}function z(ee){return Math.abs(ee[1]-y[2][1])<.01}function B(ee){return Math.abs(ee[0]-y[0][0])<.01}function W(ee){return Math.abs(ee[0]-y[2][0])<.01}for(;o.length;){for(F=a.smoothopen(E.edgepaths[T],E.smoothing),S+=P?F:F.replace(/^M/,"L"),o.splice(o.indexOf(T),1),x=E.edgepaths[T][E.edgepaths[T].length-1],N=-1,I=0;I<4;I++){if(!x){L.log("Missing end?",T,E);break}for(O(x)&&!W(x)?_=y[1]:B(x)?_=y[0]:z(x)?_=y[3]:W(x)&&(_=y[2]),k=0;k<E.edgepaths.length;k++){var q=E.edgepaths[k][0];Math.abs(x[0]-_[0])<.01?Math.abs(x[0]-q[0])<.01&&(q[1]-x[1])*(_[1]-q[1])>=0&&(_=q,N=k):Math.abs(x[1]-_[1])<.01?Math.abs(x[1]-q[1])<.01&&(q[0]-x[0])*(_[0]-q[0])>=0&&(_=q,N=k):L.log("endpt to newendpt is not vert. or horz.",x,_,q)}if(x=_,N>=0)break;S+="L"+_}if(N===E.edgepaths.length){L.log("unclosed perimeter path");break}T=N,P=o.indexOf(T)===-1,P&&(T=o[0],S+="Z")}for(T=0;T<E.paths.length;T++)S+=a.smoothclosed(E.paths[T],E.smoothing);return S}function i(E,y,S,T,o){var P=S._context.staticPlot,x=L.ensureSingle(E,"g","contourlines"),_=o.showlines!==!1,I=o.showlabels,N=_&&I,k=U.createLines(x,_||I,y,P),F=U.createLineClip(x,N,S,T.trace.uid),O=E.selectAll("g.contourlabels").data(I?[0]:[]);if(O.exit().remove(),O.enter().append("g").classed("contourlabels",!0),I){var z=[],B=[];L.clearLocationCache();var W=U.labelFormatter(S,T),q=a.tester.append("text").attr("data-notex",1).call(a.font,o.labelfont),ee=y[0].xaxis,Q=y[0].yaxis,oe=ee._length,Z=Q._length,Y=ee.range,te=Q.range,X=L.aggNums(Math.min,null,T.x),$=L.aggNums(Math.max,null,T.x),ie=L.aggNums(Math.min,null,T.y),J=L.aggNums(Math.max,null,T.y),j=Math.max(ee.c2p(X,!0),0),se=Math.min(ee.c2p($,!0),oe),ne=Math.max(Q.c2p(J,!0),0),le=Math.min(Q.c2p(ie,!0),Z),pe={};Y[0]<Y[1]?(pe.left=j,pe.right=se):(pe.left=se,pe.right=j),te[0]<te[1]?(pe.top=ne,pe.bottom=le):(pe.top=le,pe.bottom=ne),pe.middle=(pe.top+pe.bottom)/2,pe.center=(pe.left+pe.right)/2,z.push([[pe.left,pe.top],[pe.right,pe.top],[pe.right,pe.bottom],[pe.left,pe.bottom]]);var Ae=Math.sqrt(oe*oe+Z*Z),be=l.LABELDISTANCE*Ae/Math.max(1,y.length/l.LABELINCREASE);k.each(function(Re){var xe=U.calcTextOpts(Re.level,W,q,S);g.select(this).selectAll("path").each(function(){var Me=this,ye=L.getVisibleSegment(Me,pe,xe.height/2);if(!!ye&&!(ye.len<(xe.width+xe.height)*l.LABELMIN))for(var Se=Math.min(Math.ceil(ye.len/be),l.LABELMAX),Fe=0;Fe<Se;Fe++){var Be=U.findBestTextLocation(Me,ye,xe,B,pe);if(!Be)break;U.addLabelData(Be,xe,B,z)}})}),q.remove(),U.drawLabels(O,B,S,F,N?z:null)}I&&!_&&k.remove()}U.createLines=function(E,y,S,T){var o=S[0].smoothing,P=E.selectAll("g.contourlevel").data(y?S:[]);if(P.exit().remove(),P.enter().append("g").classed("contourlevel",!0),y){var x=P.selectAll("path.openline").data(function(I){return I.pedgepaths||I.edgepaths});x.exit().remove(),x.enter().append("path").classed("openline",!0),x.attr("d",function(I){return a.smoothopen(I,o)}).style("stroke-miterlimit",1).style("vector-effect",T?"none":"non-scaling-stroke");var _=P.selectAll("path.closedline").data(function(I){return I.ppaths||I.paths});_.exit().remove(),_.enter().append("path").classed("closedline",!0),_.attr("d",function(I){return a.smoothclosed(I,o)}).style("stroke-miterlimit",1).style("vector-effect",T?"none":"non-scaling-stroke")}return P},U.createLineClip=function(E,y,S,T){var o=S._fullLayout._clips,P=y?"clipline"+T:null,x=o.selectAll("#"+P).data(y?[0]:[]);return x.exit().remove(),x.enter().append("clipPath").classed("contourlineclip",!0).attr("id",P),a.setClipUrl(E,P,S),x},U.labelFormatter=function(E,y){var S=E._fullLayout,T=y.trace,o=T.contours,P={type:"linear",_id:"ycontour",showexponent:"all",exponentformat:"B"};if(o.labelformat)P.tickformat=o.labelformat,p(P,S);else{var x=C.extractOpts(T);if(x&&x.colorbar&&x.colorbar._axis)P=x.colorbar._axis;else{if(o.type==="constraint"){var _=o.value;L.isArrayOrTypedArray(_)?P.range=[_[0],_[_.length-1]]:P.range=[_,_]}else P.range=[o.start,o.end],P.nticks=(o.end-o.start)/o.size;P.range[0]===P.range[1]&&(P.range[1]+=P.range[0]||1),P.nticks||(P.nticks=1e3),p(P,S),v.prepTicks(P),P._tmin=null,P._tmax=null}}return function(I){return v.tickText(P,I).text}},U.calcTextOpts=function(E,y,S,T){var o=y(E);S.text(o).call(A.convertToTspans,T);var P=S.node(),x=a.bBox(P,!0);return{text:o,width:x.width,height:x.height,fontSize:+P.style["font-size"].replace("px",""),level:E,dy:(x.top+x.bottom)/2}},U.findBestTextLocation=function(E,y,S,T,o){var P=S.width,x,_,I,N,k;y.isClosed?(_=y.len/m.INITIALSEARCHPOINTS,x=y.min+_/2,I=y.max):(_=(y.len-P)/(m.INITIALSEARCHPOINTS+1),x=y.min+_+P/2,I=y.max-(_+P)/2);for(var F=1/0,O=0;O<m.ITERATIONS;O++){for(var z=x;z<I;z+=_){var B=L.getTextLocation(E,y.total,z,P),W=d(B,S,T,o);W<F&&(F=W,k=B,N=z)}if(F>m.MAXCOST*2)break;O&&(_/=2),x=N-_/2,I=x+_*1.5}if(F<=m.MAXCOST)return k};function d(E,y,S,T){var o=y.width/2,P=y.height/2,x=E.x,_=E.y,I=E.theta,N=Math.cos(I)*o,k=Math.sin(I)*o,F=(x>T.center?T.right-x:x-T.left)/(N+Math.abs(Math.sin(I)*P)),O=(_>T.middle?T.bottom-_:_-T.top)/(Math.abs(k)+Math.cos(I)*P);if(F<1||O<1)return 1/0;var z=m.EDGECOST*(1/(F-1)+1/(O-1));z+=m.ANGLECOST*I*I;for(var B=x-N,W=_-k,q=x+N,ee=_+k,Q=0;Q<S.length;Q++){var oe=S[Q],Z=Math.cos(oe.theta)*oe.width/2,Y=Math.sin(oe.theta)*oe.width/2,te=L.segmentDistance(B,W,q,ee,oe.x-Z,oe.y-Y,oe.x+Z,oe.y+Y)*2/(y.height+oe.height),X=oe.level===y.level,$=X?m.SAMELEVELDISTANCE:1;if(te<=$)return 1/0;var ie=m.NEIGHBORCOST*(X?m.SAMELEVELFACTOR:1);z+=ie/(te-$)}return z}U.addLabelData=function(E,y,S,T){var o=y.fontSize,P=y.width+o/3,x=Math.max(0,y.height-o/3),_=E.x,I=E.y,N=E.theta,k=Math.sin(N),F=Math.cos(N),O=function(B,W){return[_+B*F-W*k,I+B*k+W*F]},z=[O(-P/2,-x/2),O(-P/2,x/2),O(P/2,x/2),O(P/2,-x/2)];S.push({text:y.text,x:_,y:I,dy:y.dy,theta:N,level:y.level,width:P,height:x}),T.push(z)},U.drawLabels=function(E,y,S,T,o){var P=E.selectAll("text").data(y,function(N){return N.text+","+N.x+","+N.y+","+N.theta});if(P.exit().remove(),P.enter().append("text").attr({"data-notex":1,"text-anchor":"middle"}).each(function(N){var k=N.x+Math.sin(N.theta)*N.dy,F=N.y-Math.cos(N.theta)*N.dy;g.select(this).text(N.text).attr({x:k,y:F,transform:"rotate("+180*N.theta/Math.PI+" "+k+" "+F+")"}).call(A.convertToTspans,S)}),o){for(var x="",_=0;_<o.length;_++)x+="M"+o[_].join("L")+"Z";var I=L.ensureSingle(T,"path","");I.attr("d",x)}};function b(E,y,S,T,o){var P=T.trace,x=S._fullLayout._clips,_="clip"+P.uid,I=x.selectAll("#"+_).data(P.connectgaps?[]:[0]);if(I.enter().append("clipPath").classed("contourclip",!0).attr("id",_),I.exit().remove(),P.connectgaps===!1){var N={level:.9,crossings:{},starts:[],edgepaths:[],paths:[],xaxis:y.xaxis,yaxis:y.yaxis,x:T.x,y:T.y,z:w(T),smoothing:0};t([N]),s([N]),u([N],{type:"levels"});var k=L.ensureSingle(I,"path","");k.attr("d",(N.prefixBoundary?"M"+o.join("L")+"Z":"")+c(N,o))}else _=null;a.setClipUrl(E,_,S)}function w(E){var y=E.trace._emptypoints,S=[],T=E.z.length,o=E.z[0].length,P,x=[],_;for(P=0;P<o;P++)x.push(1);for(P=0;P<T;P++)S.push(x.slice());for(P=0;P<y.length;P++)_=y[P],S[_[0]][_[1]]=0;return E.zmask=S,S}},54444:function(G,U,e){var g=e(54460),L=e(3400);G.exports=function(A,v){var p=A.contours;if(A.autocontour){var r=A.zmin,t=A.zmax;(A.zauto||r===void 0)&&(r=L.aggNums(Math.min,null,v)),(A.zauto||t===void 0)&&(t=L.aggNums(Math.max,null,v));var s=a(r,t,A.ncontours);p.size=s.dtick,p.start=g.tickFirst(s),s.range.reverse(),p.end=g.tickFirst(s),p.start===r&&(p.start+=p.size),p.end===t&&(p.end-=p.size),p.start>p.end&&(p.start=p.end=(p.start+p.end)/2),A._input.contours||(A._input.contours={}),L.extendFlat(A._input.contours,{start:p.start,end:p.end,size:p.size}),A._input.autocontour=!0}else if(p.type!=="constraint"){var n=p.start,f=p.end,u=A._input.contours;if(n>f&&(p.start=u.start=f,f=p.end=u.end=n,n=p.start),!(p.size>0)){var l;n===f?l=1:l=a(n,f,A.ncontours).dtick,u.size=p.size=l}}};function a(C,A,v){var p={type:"linear",range:[C,A]};return g.autoTicks(p,(A-C)/(v||15)),p}},52440:function(G,U,e){var g=e(33428),L=e(43616),a=e(41648),C=e(41076);G.exports=function(v){var p=g.select(v).selectAll("g.contour");p.style("opacity",function(r){return r[0].trace.opacity}),p.each(function(r){var t=g.select(this),s=r[0].trace,n=s.contours,f=s.line,u=n.size||1,l=n.start,m=n.type==="constraint",h=!m&&n.coloring==="lines",M=!m&&n.coloring==="fill",c=h||M?C(s):null;t.selectAll("g.contourlevel").each(function(b){g.select(this).selectAll("path").call(L.lineGroupStyle,f.width,h?c(b.level):f.color,f.dash)});var i=n.labelfont;if(t.selectAll("g.contourlabels text").each(function(b){L.font(g.select(this),{family:i.family,size:i.size,color:i.color||(h?c(b.level):f.color)})}),m)t.selectAll("g.contourfill path").style("fill",s.fillcolor);else if(M){var d;t.selectAll("g.contourfill path").style("fill",function(b){return d===void 0&&(d=b.level),c(b.level+.5*u)}),d===void 0&&(d=l),t.selectAll("g.contourbg path").style("fill",c(d-.5*u))}}),a(v)}},97680:function(G,U,e){var g=e(27260),L=e(17428);G.exports=function(C,A,v,p,r){var t=v("contours.coloring"),s,n="";t==="fill"&&(s=v("contours.showlines")),s!==!1&&(t!=="lines"&&(n=v("line.color","#000")),v("line.width",.5),v("line.dash")),t!=="none"&&(C.showlegend!==!0&&(A.showlegend=!1),A._dfltShowLegend=!1,g(C,A,p,v,{prefix:"",cLetter:"z"})),v("line.smoothing"),L(v,p,n,r)}},37960:function(G,U,e){var g=e(83328),L=e(67104),a=e(49084),C=e(92880).extendFlat,A=L.contours;G.exports=C({carpet:{valType:"string",editType:"calc"},z:g.z,a:g.x,a0:g.x0,da:g.dx,b:g.y,b0:g.y0,db:g.dy,text:g.text,hovertext:g.hovertext,transpose:g.transpose,atype:g.xtype,btype:g.ytype,fillcolor:L.fillcolor,autocontour:L.autocontour,ncontours:L.ncontours,contours:{type:A.type,start:A.start,end:A.end,size:A.size,coloring:{valType:"enumerated",values:["fill","lines","none"],dflt:"fill",editType:"calc"},showlines:A.showlines,showlabels:A.showlabels,labelfont:A.labelfont,labelformat:A.labelformat,operation:A.operation,value:A.value,editType:"calc",impliedEdits:{autocontour:!1}},line:{color:L.line.color,width:L.line.width,dash:L.line.dash,smoothing:L.line.smoothing,editType:"plot"},transforms:void 0},a("",{cLetter:"z",autoColorDflt:!1}))},30572:function(G,U,e){var g=e(47128),L=e(3400),a=e(2872),C=e(26136),A=e(70448),v=e(11240),p=e(35744),r=e(3252),t=e(50948),s=e(54444);G.exports=function(u,l){var m=l._carpetTrace=t(u,l);if(!(!m||!m.visible||m.visible==="legendonly")){if(!l.a||!l.b){var h=u.data[m.index],M=u.data[l.index];M.a||(M.a=h.a),M.b||(M.b=h.b),r(M,l,l._defaultColor,u._fullLayout)}var c=n(u,l);return s(l,l._z),c}};function n(f,u){var l=u._carpetTrace,m=l.aaxis,h=l.baxis,M,c,i,d,b,w,E;m._minDtick=0,h._minDtick=0,L.isArray1D(u.z)&&a(u,m,h,"a","b",["z"]),M=u._a=u._a||u.a,d=u._b=u._b||u.b,M=M?m.makeCalcdata(u,"_a"):[],d=d?h.makeCalcdata(u,"_b"):[],c=u.a0||0,i=u.da||1,b=u.b0||0,w=u.db||1,E=u._z=C(u._z||u.z,u.transpose),u._emptypoints=v(E),A(E,u._emptypoints);var y=L.maxRowLength(E),S=u.xtype==="scaled"?"":M,T=p(u,S,c,i,y,m),o=u.ytype==="scaled"?"":d,P=p(u,o,b,w,E.length,h),x={a:T,b:P,z:E};return u.contours.type==="levels"&&u.contours.coloring!=="none"&&g(f,u,{vals:E,containerStr:"",cLetter:"z"}),[x]}},3252:function(G,U,e){var g=e(3400),L=e(51264),a=e(37960),C=e(95536),A=e(84952),v=e(97680);G.exports=function(r,t,s,n){function f(h,M){return g.coerce(r,t,a,h,M)}function u(h){return g.coerce2(r,t,a,h)}if(f("carpet"),r.a&&r.b){var l=L(r,t,f,n,"a","b");if(!l){t.visible=!1;return}f("text");var m=f("contours.type")==="constraint";m?C(r,t,f,n,s,{hasHover:!1}):(A(r,t,f,u),v(r,t,f,n,{hasHover:!1}))}else t._defaultColor=s,t._length=null}},40448:function(G,U,e){G.exports={attributes:e(37960),supplyDefaults:e(3252),colorbar:e(55296),calc:e(30572),plot:e(94440),style:e(52440),moduleType:"trace",name:"contourcarpet",basePlotModule:e(57952),categories:["cartesian","svg","carpet","contour","symbols","showLegend","hasLines","carpetDependent","noHover","noSortingByValue"],meta:{}}},94440:function(G,U,e){var g=e(33428),L=e(87072),a=e(53416),C=e(43616),A=e(3400),v=e(72424),p=e(88748),r=e(23676),t=e(93252),s=e(82172),n=e(61512),f=e(56008),u=e(50948),l=e(77712);G.exports=function(S,T,o,P){var x=T.xaxis,_=T.yaxis;A.makeTraceGroups(P,o,"contour").each(function(I){var N=g.select(this),k=I[0],F=k.trace,O=F._carpetTrace=u(S,F),z=S.calcdata[O.index][0];if(!O.visible||O.visible==="legendonly")return;var B=k.a,W=k.b,q=F.contours,ee=n(q,T,k),Q=q.type==="constraint",oe=q._operation,Z=Q?oe==="="?"lines":"fill":q.coloring;function Y(Ae){var be=O.ab2xy(Ae[0],Ae[1],!0);return[x.c2p(be[0]),_.c2p(be[1])]}var te=[[B[0],W[W.length-1]],[B[B.length-1],W[W.length-1]],[B[B.length-1],W[0]],[B[0],W[0]]];v(ee);var X=(B[B.length-1]-B[0])*1e-8,$=(W[W.length-1]-W[0])*1e-8;p(ee,X,$);var ie=ee;q.type==="constraint"&&(ie=s(ee,oe)),m(ee,Y);var J,j,se,ne,le=[];for(ne=z.clipsegments.length-1;ne>=0;ne--)J=z.clipsegments[ne],j=L([],J.x,x.c2p),se=L([],J.y,_.c2p),j.reverse(),se.reverse(),le.push(a(j,se,J.bicubic));var pe="M"+le.join("L")+"Z";b(N,z.clipsegments,x,_,Q,Z),w(F,N,x,_,ie,te,Y,O,z,Z,pe),h(N,ee,S,k,q,T,O),C.setClipUrl(N,O._clipPathId,S)})};function m(y,S){var T,o,P,x,_,I,N,k,F;for(T=0;T<y.length;T++){for(x=y[T],_=x.pedgepaths=[],I=x.ppaths=[],o=0;o<x.edgepaths.length;o++){for(F=x.edgepaths[o],N=[],P=0;P<F.length;P++)N[P]=S(F[P]);_.push(N)}for(o=0;o<x.paths.length;o++){for(F=x.paths[o],k=[],P=0;P<F.length;P++)k[P]=S(F[P]);I.push(k)}}}function h(y,S,T,o,P,x,_){var I=T._context.staticPlot,N=A.ensureSingle(y,"g","contourlines"),k=P.showlines!==!1,F=P.showlabels,O=k&&F,z=r.createLines(N,k||F,S,I),B=r.createLineClip(N,O,T,o.trace.uid),W=y.selectAll("g.contourlabels").data(F?[0]:[]);if(W.exit().remove(),W.enter().append("g").classed("contourlabels",!0),F){var q=x.xaxis,ee=x.yaxis,Q=q._length,oe=ee._length,Z=[[[0,0],[Q,0],[Q,oe],[0,oe]]],Y=[];A.clearLocationCache();var te=r.labelFormatter(T,o),X=C.tester.append("text").attr("data-notex",1).call(C.font,P.labelfont),$={left:0,right:Q,center:Q/2,top:0,bottom:oe,middle:oe/2},ie=Math.sqrt(Q*Q+oe*oe),J=t.LABELDISTANCE*ie/Math.max(1,S.length/t.LABELINCREASE);z.each(function(j){var se=r.calcTextOpts(j.level,te,X,T);g.select(this).selectAll("path").each(function(ne){var le=this,pe=A.getVisibleSegment(le,$,se.height/2);if(!!pe&&(M(le,ne,j,pe,_,se.height),!(pe.len<(se.width+se.height)*t.LABELMIN)))for(var Ae=Math.min(Math.ceil(pe.len/J),t.LABELMAX),be=0;be<Ae;be++){var Re=r.findBestTextLocation(le,pe,se,Y,$);if(!Re)break;r.addLabelData(Re,se,Y,Z)}})}),X.remove(),r.drawLabels(W,Y,T,B,O?Z:null)}F&&!k&&z.remove()}function M(y,S,T,o,P,x){for(var _,I=0;I<T.pedgepaths.length;I++)S===T.pedgepaths[I]&&(_=T.edgepaths[I]);if(!_)return;var N=P.a[0],k=P.a[P.a.length-1],F=P.b[0],O=P.b[P.b.length-1];function z(Q,oe){var Z=0,Y,te=.1;return(Math.abs(Q[0]-N)<te||Math.abs(Q[0]-k)<te)&&(Y=i(P.dxydb_rough(Q[0],Q[1],te)),Z=Math.max(Z,x*d(oe,Y)/2)),(Math.abs(Q[1]-F)<te||Math.abs(Q[1]-O)<te)&&(Y=i(P.dxyda_rough(Q[0],Q[1],te)),Z=Math.max(Z,x*d(oe,Y)/2)),Z}var B=c(y,0,1),W=c(y,o.total,o.total-1),q=z(_[0],B),ee=o.total-z(_[_.length-1],W);o.min<q&&(o.min=q),o.max>ee&&(o.max=ee),o.len=o.max-o.min}function c(y,S,T){var o=y.getPointAtLength(S),P=y.getPointAtLength(T),x=P.x-o.x,_=P.y-o.y,I=Math.sqrt(x*x+_*_);return[x/I,_/I]}function i(y){var S=Math.sqrt(y[0]*y[0]+y[1]*y[1]);return[y[0]/S,y[1]/S]}function d(y,S){var T=Math.abs(y[0]*S[0]+y[1]*S[1]),o=Math.sqrt(1-T*T);return o/T}function b(y,S,T,o,P,x){var _,I,N,k,F=A.ensureSingle(y,"g","contourbg"),O=F.selectAll("path").data(x==="fill"&&!P?[0]:[]);O.enter().append("path"),O.exit().remove();var z=[];for(k=0;k<S.length;k++)_=S[k],I=L([],_.x,T.c2p),N=L([],_.y,o.c2p),z.push(a(I,N,_.bicubic));O.attr("d","M"+z.join("L")+"Z").style("stroke","none")}function w(y,S,T,o,P,x,_,I,N,k,F){var O=k==="fill";O&&f(P,y.contours);var z=A.ensureSingle(S,"g","contourfill"),B=z.selectAll("path").data(O?P:[]);B.enter().append("path"),B.exit().remove(),B.each(function(W){var q=(W.prefixBoundary?F:"")+E(y,W,x,_,I,N,T,o);q?g.select(this).attr("d",q).style("stroke","none"):g.select(this).remove()})}function E(y,S,T,o,P,x,_,I){var N,k="",F=S.edgepaths.map(function(se,ne){return ne}),O=!0,z,B,W,q,ee,Q,oe=Math.abs(T[0][0]-T[2][0])*1e-4,Z=Math.abs(T[0][1]-T[2][1])*1e-4;function Y(se){return Math.abs(se[1]-T[0][1])<Z}function te(se){return Math.abs(se[1]-T[2][1])<Z}function X(se){return Math.abs(se[0]-T[0][0])<oe}function $(se){return Math.abs(se[0]-T[2][0])<oe}function ie(se,ne){var le,pe,Ae,be,Re="";for(Y(se)&&!$(se)||te(se)&&!X(se)?(be=P.aaxis,Ae=l(P,x,[se[0],ne[0]],.5*(se[1]+ne[1]))):(be=P.baxis,Ae=l(P,x,.5*(se[0]+ne[0]),[se[1],ne[1]])),le=1;le<Ae.length;le++)for(Re+=be.smoothing?"C":"L",pe=0;pe<Ae[le].length;pe++){var xe=Ae[le][pe];Re+=[_.c2p(xe[0]),I.c2p(xe[1])]+" "}return Re}for(N=0,z=null;F.length;){var J=S.edgepaths[N][0];for(z&&(k+=ie(z,J)),Q=C.smoothopen(S.edgepaths[N].map(o),S.smoothing),k+=O?Q:Q.replace(/^M/,"L"),F.splice(F.indexOf(N),1),z=S.edgepaths[N][S.edgepaths[N].length-1],q=-1,W=0;W<4;W++){if(!z){A.log("Missing end?",N,S);break}for(Y(z)&&!$(z)?B=T[1]:X(z)?B=T[0]:te(z)?B=T[3]:$(z)&&(B=T[2]),ee=0;ee<S.edgepaths.length;ee++){var j=S.edgepaths[ee][0];Math.abs(z[0]-B[0])<oe?Math.abs(z[0]-j[0])<oe&&(j[1]-z[1])*(B[1]-j[1])>=0&&(B=j,q=ee):Math.abs(z[1]-B[1])<Z?Math.abs(z[1]-j[1])<Z&&(j[0]-z[0])*(B[0]-j[0])>=0&&(B=j,q=ee):A.log("endpt to newendpt is not vert. or horz.",z,B,j)}if(q>=0)break;k+=ie(z,B),z=B}if(q===S.edgepaths.length){A.log("unclosed perimeter path");break}N=q,O=F.indexOf(N)===-1,O&&(N=F[0],k+=ie(z,B)+"Z",z=null)}for(N=0;N<S.paths.length;N++)k+=C.smoothclosed(S.paths[N].map(o),S.smoothing);return k}},33928:function(G,U,e){var g=e(49084),L=e(21776).Ks,a=e(45464),C=e(31512),A=e(92880).extendFlat;G.exports=A({lon:C.lon,lat:C.lat,z:{valType:"data_array",editType:"calc"},radius:{valType:"number",editType:"plot",arrayOk:!0,min:1,dflt:30},below:{valType:"string",editType:"plot"},text:C.text,hovertext:C.hovertext,hoverinfo:A({},a.hoverinfo,{flags:["lon","lat","z","text","name"]}),hovertemplate:L(),showlegend:A({},a.showlegend,{dflt:!1})},g("",{cLetter:"z",editTypeOverride:"calc"}))},90876:function(G,U,e){var g=e(38248),L=e(3400).isArrayOrTypedArray,a=e(39032).BADNUM,C=e(47128),A=e(3400)._;G.exports=function(p,r){for(var t=r._length,s=new Array(t),n=r.z,f=L(n)&&n.length,u=0;u<t;u++){var l=s[u]={},m=r.lon[u],h=r.lat[u];if(l.lonlat=g(m)&&g(h)?[+m,+h]:[a,a],f){var M=n[u];l.z=g(M)?M:a}}return C(p,r,{vals:f?n:[0,1],containerStr:"",cLetter:"z"}),t&&(s[0].t={labels:{lat:A(p,"lat:")+" ",lon:A(p,"lon:")+" "}}),s}},4629:function(G,U,e){var g=e(38248),L=e(3400),a=e(76308),C=e(8932),A=e(39032).BADNUM,v=e(44808).makeBlank;G.exports=function(r){var t=r[0].trace,s=t.visible===!0&&t._length!==0,n={layout:{visibility:"none"},paint:{}},f=t._opts={heatmap:n,geojson:v()};if(!s)return f;var u=[],l,m=t.z,h=t.radius,M=L.isArrayOrTypedArray(m)&&m.length,c=L.isArrayOrTypedArray(h);for(l=0;l<r.length;l++){var i=r[l],d=i.lonlat;if(d[0]!==A){var b={};if(M){var w=i.z;b.z=w!==A?w:0}c&&(b.r=g(h[l])&&h[l]>0?+h[l]:0),u.push({type:"Feature",geometry:{type:"Point",coordinates:d},properties:b})}}var E=C.extractOpts(t),y=E.reversescale?C.flipScale(E.colorscale):E.colorscale,S=y[0][1],T=a.opacity(S)<1?S:a.addOpacity(S,0),o=["interpolate",["linear"],["heatmap-density"],0,T];for(l=1;l<y.length;l++)o.push(y[l][0],y[l][1]);var P=["interpolate",["linear"],["get","z"],E.min,0,E.max,1];return L.extendFlat(f.heatmap.paint,{"heatmap-weight":M?P:1/(E.max-E.min),"heatmap-color":o,"heatmap-radius":c?{type:"identity",property:"r"}:t.radius,"heatmap-opacity":t.opacity}),f.geojson={type:"FeatureCollection",features:u},f.heatmap.layout.visibility="visible",f}},97664:function(G,U,e){var g=e(3400),L=e(27260),a=e(33928);G.exports=function(A,v,p,r){function t(u,l){return g.coerce(A,v,a,u,l)}var s=t("lon")||[],n=t("lat")||[],f=Math.min(s.length,n.length);if(!f){v.visible=!1;return}v._length=f,t("z"),t("radius"),t("below"),t("text"),t("hovertext"),t("hovertemplate"),L(A,v,r,t,{prefix:"",cLetter:"z"})}},96176:function(G){G.exports=function(e,g){return e.lon=g.lon,e.lat=g.lat,e.z=g.z,e}},25336:function(G,U,e){var g=e(54460),L=e(63312).hoverPoints,a=e(63312).getExtraText;G.exports=function(A,v,p){var r=L(A,v,p);if(!!r){var t=r[0],s=t.cd,n=s[0].trace,f=s[t.index];if(delete t.color,"z"in f){var u=t.subplot.mockAxis;t.z=f.z,t.zLabel=g.tickText(u,u.c2l(f.z),"hover").text}return t.extraText=a(n,f,s[0].t.labels),[t]}}},15088:function(G,U,e){G.exports={attributes:e(33928),supplyDefaults:e(97664),colorbar:e(96288),formatLabels:e(11960),calc:e(90876),plot:e(35256),hoverPoints:e(25336),eventData:e(96176),getBelow:function(g,L){for(var a=L.getMapLayers(),C=0;C<a.length;C++){var A=a[C],v=A.id;if(A.type==="symbol"&&typeof v=="string"&&v.indexOf("plotly-")===-1)return v}},moduleType:"trace",name:"densitymapbox",basePlotModule:e(33688),categories:["mapbox","gl","showLegend"],meta:{hr_name:"density_mapbox"}}},35256:function(G,U,e){var g=e(4629),L=e(47552).traceLayerPrefix;function a(A,v){this.type="densitymapbox",this.subplot=A,this.uid=v,this.sourceId="source-"+v,this.layerList=[["heatmap",L+v+"-heatmap"]],this.below=null}var C=a.prototype;C.update=function(A){var v=this.subplot,p=this.layerList,r=g(A),t=v.belowLookup["trace-"+this.uid];v.map.getSource(this.sourceId).setData(r.geojson),t!==this.below&&(this._removeLayers(),this._addLayers(r,t),this.below=t);for(var s=0;s<p.length;s++){var n=p[s],f=n[0],u=n[1],l=r[f];v.setOptions(u,"setLayoutProperty",l.layout),l.layout.visibility==="visible"&&v.setOptions(u,"setPaintProperty",l.paint)}},C._addLayers=function(A,v){for(var p=this.subplot,r=this.layerList,t=this.sourceId,s=0;s<r.length;s++){var n=r[s],f=n[0],u=A[f];p.addLayer({type:f,id:n[1],source:t,layout:u.layout,paint:u.paint},v)}},C._removeLayers=function(){for(var A=this.subplot.map,v=this.layerList,p=v.length-1;p>=0;p--)A.removeLayer(v[p][1])},C.dispose=function(){var A=this.subplot.map;this._removeLayers(),A.removeSource(this.sourceId)},G.exports=function(v,p){var r=p[0].trace,t=new a(v,r.uid),s=t.sourceId,n=g(p),f=t.below=v.belowLookup["trace-"+r.uid];return v.map.addSource(s,{type:"geojson",data:n.geojson}),t._addLayers(n,f),t}},74248:function(G,U,e){var g=e(3400);G.exports=function(a,C){for(var A=0;A<a.length;A++)a[A].i=A;g.mergeArray(C.text,a,"tx"),g.mergeArray(C.hovertext,a,"htx");var v=C.marker;if(v){g.mergeArray(v.opacity,a,"mo"),g.mergeArray(v.color,a,"mc");var p=v.line;p&&(g.mergeArray(p.color,a,"mlc"),g.mergeArrayCastPositive(p.width,a,"mlw"))}}},20088:function(G,U,e){var g=e(20832),L=e(52904).line,a=e(45464),C=e(29736).axisHoverFormat,A=e(21776).Ks,v=e(21776).Gw,p=e(74732),r=e(92880).extendFlat,t=e(76308);G.exports={x:g.x,x0:g.x0,dx:g.dx,y:g.y,y0:g.y0,dy:g.dy,xperiod:g.xperiod,yperiod:g.yperiod,xperiod0:g.xperiod0,yperiod0:g.yperiod0,xperiodalignment:g.xperiodalignment,yperiodalignment:g.yperiodalignment,xhoverformat:C("x"),yhoverformat:C("y"),hovertext:g.hovertext,hovertemplate:A({},{keys:p.eventDataKeys}),hoverinfo:r({},a.hoverinfo,{flags:["name","x","y","text","percent initial","percent previous","percent total"]}),textinfo:{valType:"flaglist",flags:["label","text","percent initial","percent previous","percent total","value"],extras:["none"],editType:"plot",arrayOk:!1},texttemplate:v({editType:"plot"},{keys:p.eventDataKeys.concat(["label","value"])}),text:g.text,textposition:g.textposition,insidetextanchor:r({},g.insidetextanchor,{dflt:"middle"}),textangle:r({},g.textangle,{dflt:0}),textfont:g.textfont,insidetextfont:g.insidetextfont,outsidetextfont:g.outsidetextfont,constraintext:g.constraintext,cliponaxis:g.cliponaxis,orientation:r({},g.orientation,{}),offset:r({},g.offset,{arrayOk:!1}),width:r({},g.width,{arrayOk:!1}),marker:s(),connector:{fillcolor:{valType:"color",editType:"style"},line:{color:r({},L.color,{dflt:t.defaultLine}),width:r({},L.width,{dflt:0,editType:"plot"}),dash:L.dash,editType:"style"},visible:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},offsetgroup:g.offsetgroup,alignmentgroup:g.alignmentgroup};function s(){var n=r({},g.marker);return delete n.pattern,delete n.cornerradius,n}},23096:function(G,U,e){var g=e(54460),L=e(1220),a=e(74248),C=e(4500),A=e(39032).BADNUM;G.exports=function(r,t){var s=g.getFromId(r,t.xaxis||"x"),n=g.getFromId(r,t.yaxis||"y"),f,u,l,m,h,M,c,i;t.orientation==="h"?(f=s.makeCalcdata(t,"x"),l=n.makeCalcdata(t,"y"),m=L(t,n,"y",l),h=!!t.yperiodalignment,M="y"):(f=n.makeCalcdata(t,"y"),l=s.makeCalcdata(t,"x"),m=L(t,s,"x",l),h=!!t.xperiodalignment,M="x"),u=m.vals;var d=Math.min(u.length,f.length),b=new Array(d);for(t._base=[],c=0;c<d;c++){f[c]<0&&(f[c]=A);var w=!1;f[c]!==A&&c+1<d&&f[c+1]!==A&&(w=!0),i=b[c]={p:u[c],s:f[c],cNext:w},t._base[c]=-.5*i.s,h&&(b[c].orig_p=l[c],b[c][M+"End"]=m.ends[c],b[c][M+"Start"]=m.starts[c]),t.ids&&(i.id=String(t.ids[c])),c===0&&(b[0].vTotal=0),b[0].vTotal+=v(i.s),i.begR=v(i.s)/v(b[0].s)}var E;for(c=0;c<d;c++)i=b[c],i.s!==A&&(i.sumR=i.s/b[0].vTotal,i.difR=E!==void 0?i.s/E:1,E=i.s);return a(b,t),C(b,t),b};function v(p){return p===A?0:p}},74732:function(G){G.exports={eventDataKeys:["percentInitial","percentPrevious","percentTotal"]}},4804:function(G,U,e){var g=e(96376).setGroupPositions;G.exports=function(a,C){var A=a._fullLayout,v=a._fullData,p=a.calcdata,r=C.xaxis,t=C.yaxis,s=[],n=[],f=[],u,l;for(l=0;l<v.length;l++){var m=v[l],h=m.orientation==="h";m.visible===!0&&m.xaxis===r._id&&m.yaxis===t._id&&m.type==="funnel"&&(u=p[l],h?f.push(u):n.push(u),s.push(u))}var M={mode:A.funnelmode,norm:A.funnelnorm,gap:A.funnelgap,groupgap:A.funnelgroupgap};for(g(a,r,t,n,M),g(a,t,r,f,M),l=0;l<s.length;l++){u=s[l];for(var c=0;c<u.length;c++)c+1<u.length&&(u[c].nextP0=u[c+1].p0,u[c].nextS0=u[c+1].s0,u[c].nextP1=u[c+1].p1,u[c].nextS1=u[c+1].s1)}}},45432:function(G,U,e){var g=e(3400),L=e(20011),a=e(31508).handleText,C=e(43980),A=e(31147),v=e(20088),p=e(76308);function r(n,f,u,l){function m(w,E){return g.coerce(n,f,v,w,E)}var h=C(n,f,l,m);if(!h){f.visible=!1;return}A(n,f,l,m),m("xhoverformat"),m("yhoverformat"),m("orientation",f.y&&!f.x?"v":"h"),m("offset"),m("width");var M=m("text");m("hovertext"),m("hovertemplate");var c=m("textposition");a(n,f,l,m,c,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),f.textposition!=="none"&&!f.texttemplate&&m("textinfo",g.isArrayOrTypedArray(M)?"text+value":"value");var i=m("marker.color",u);m("marker.line.color",p.defaultLine),m("marker.line.width");var d=m("connector.visible");if(d){m("connector.fillcolor",t(i));var b=m("connector.line.width");b&&(m("connector.line.color"),m("connector.line.dash"))}}function t(n){var f=g.isArrayOrTypedArray(n)?"#000":n;return p.addOpacity(f,.5*p.opacity(f))}function s(n,f){var u,l;function m(M){return g.coerce(l._input,l,v,M)}if(f.funnelmode==="group")for(var h=0;h<n.length;h++)l=n[h],u=l._input,L(u,l,f,m)}G.exports={supplyDefaults:r,crossTraceDefaults:s}},34580:function(G){G.exports=function(e,g){return e.x="xVal"in g?g.xVal:g.x,e.y="yVal"in g?g.yVal:g.y,"percentInitial"in g&&(e.percentInitial=g.percentInitial),"percentPrevious"in g&&(e.percentPrevious=g.percentPrevious),"percentTotal"in g&&(e.percentTotal=g.percentTotal),g.xa&&(e.xaxis=g.xa),g.ya&&(e.yaxis=g.ya),e}},31488:function(G,U,e){var g=e(76308).opacity,L=e(63400).hoverOnBars,a=e(3400).formatPercent;G.exports=function(v,p,r,t,s){var n=L(v,p,r,t,s);if(!!n){var f=n.cd,u=f[0].trace,l=u.orientation==="h",m=n.index,h=f[m],M=l?"x":"y";n[M+"LabelVal"]=h.s,n.percentInitial=h.begR,n.percentInitialLabel=a(h.begR,1),n.percentPrevious=h.difR,n.percentPreviousLabel=a(h.difR,1),n.percentTotal=h.sumR,n.percentTotalLabel=a(h.sumR,1);var c=h.hi||u.hoverinfo,i=[];if(c&&c!=="none"&&c!=="skip"){var d=c==="all",b=c.split("+"),w=function(E){return d||b.indexOf(E)!==-1};w("percent initial")&&i.push(n.percentInitialLabel+" of initial"),w("percent previous")&&i.push(n.percentPreviousLabel+" of previous"),w("percent total")&&i.push(n.percentTotalLabel+" of total")}return n.extraText=i.join("<br>"),n.color=C(u,h),[n]}};function C(A,v){var p=A.marker,r=v.mc||p.color,t=v.mlc||p.line.color,s=v.mlw||p.line.width;if(g(r))return r;if(g(t)&&s)return t}},94704:function(G,U,e){G.exports={attributes:e(20088),layoutAttributes:e(7076),supplyDefaults:e(45432).supplyDefaults,crossTraceDefaults:e(45432).crossTraceDefaults,supplyLayoutDefaults:e(11631),calc:e(23096),crossTraceCalc:e(4804),plot:e(42200),style:e(44544).style,hoverPoints:e(31488),eventData:e(34580),selectPoints:e(45784),moduleType:"trace",name:"funnel",basePlotModule:e(57952),categories:["bar-like","cartesian","svg","oriented","showLegend","zoomScale"],meta:{}}},7076:function(G){G.exports={funnelmode:{valType:"enumerated",values:["stack","group","overlay"],dflt:"stack",editType:"calc"},funnelgap:{valType:"number",min:0,max:1,editType:"calc"},funnelgroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},11631:function(G,U,e){var g=e(3400),L=e(7076);G.exports=function(a,C,A){var v=!1;function p(s,n){return g.coerce(a,C,L,s,n)}for(var r=0;r<A.length;r++){var t=A[r];if(t.visible&&t.type==="funnel"){v=!0;break}}v&&(p("funnelmode"),p("funnelgap",.2),p("funnelgroupgap"))}},42200:function(G,U,e){var g=e(33428),L=e(3400),a=e(43616),C=e(39032).BADNUM,A=e(98184),v=e(82744).clearMinTextSize;G.exports=function(n,f,u,l){var m=n._fullLayout;v("funnel",m),p(n,f,u,l),r(n,f,u,l),A.plot(n,f,u,l,{mode:m.funnelmode,norm:m.funnelmode,gap:m.funnelgap,groupgap:m.funnelgroupgap})};function p(s,n,f,u){var l=n.xaxis,m=n.yaxis;L.makeTraceGroups(u,f,"trace bars").each(function(h){var M=g.select(this),c=h[0].trace,i=L.ensureSingle(M,"g","regions");if(!c.connector||!c.connector.visible){i.remove();return}var d=c.orientation==="h",b=i.selectAll("g.region").data(L.identity);b.enter().append("g").classed("region",!0),b.exit().remove();var w=b.size();b.each(function(E,y){if(!(y!==w-1&&!E.cNext)){var S=t(E,l,m,d),T=S[0],o=S[1],P="";T[0]!==C&&o[0]!==C&&T[1]!==C&&o[1]!==C&&T[2]!==C&&o[2]!==C&&T[3]!==C&&o[3]!==C&&(d?P+="M"+T[0]+","+o[1]+"L"+T[2]+","+o[2]+"H"+T[3]+"L"+T[1]+","+o[1]+"Z":P+="M"+T[1]+","+o[1]+"L"+T[2]+","+o[3]+"V"+o[2]+"L"+T[1]+","+o[0]+"Z"),P===""&&(P="M0,0Z"),L.ensureSingle(g.select(this),"path").attr("d",P).call(a.setClipUrl,n.layerClipId,s)}})})}function r(s,n,f,u){var l=n.xaxis,m=n.yaxis;L.makeTraceGroups(u,f,"trace bars").each(function(h){var M=g.select(this),c=h[0].trace,i=L.ensureSingle(M,"g","lines");if(!c.connector||!c.connector.visible||!c.connector.line.width){i.remove();return}var d=c.orientation==="h",b=i.selectAll("g.line").data(L.identity);b.enter().append("g").classed("line",!0),b.exit().remove();var w=b.size();b.each(function(E,y){if(!(y!==w-1&&!E.cNext)){var S=t(E,l,m,d),T=S[0],o=S[1],P="";T[3]!==void 0&&o[3]!==void 0&&(d?(P+="M"+T[0]+","+o[1]+"L"+T[2]+","+o[2],P+="M"+T[1]+","+o[1]+"L"+T[3]+","+o[2]):(P+="M"+T[1]+","+o[1]+"L"+T[2]+","+o[3],P+="M"+T[1]+","+o[0]+"L"+T[2]+","+o[2])),P===""&&(P="M0,0Z"),L.ensureSingle(g.select(this),"path").attr("d",P).call(a.setClipUrl,n.layerClipId,s)}})})}function t(s,n,f,u){var l=[],m=[],h=u?n:f,M=u?f:n;return l[0]=h.c2p(s.s0,!0),m[0]=M.c2p(s.p0,!0),l[1]=h.c2p(s.s1,!0),m[1]=M.c2p(s.p1,!0),l[2]=h.c2p(s.nextS0,!0),m[2]=M.c2p(s.nextP0,!0),l[3]=h.c2p(s.nextS1,!0),m[3]=M.c2p(s.nextP1,!0),u?[l,m]:[m,l]}},44544:function(G,U,e){var g=e(33428),L=e(43616),a=e(76308),C=e(13448).DESELECTDIM,A=e(60100),v=e(82744).resizeText,p=A.styleTextPoints;function r(t,s,n){var f=n||g.select(t).selectAll("g.funnellayer").selectAll("g.trace");v(t,f,"funnel"),f.style("opacity",function(u){return u[0].trace.opacity}),f.each(function(u){var l=g.select(this),m=u[0].trace;l.selectAll(".point > path").each(function(h){if(!h.isBlank){var M=m.marker;g.select(this).call(a.fill,h.mc||M.color).call(a.stroke,h.mlc||M.line.color).call(L.dashLine,M.line.dash,h.mlw||M.line.width).style("opacity",m.selectedpoints&&!h.selected?C:1)}}),p(l,m,t),l.selectAll(".regions").each(function(){g.select(this).selectAll("path").style("stroke-width",0).call(a.fill,m.connector.fillcolor)}),l.selectAll(".lines").each(function(){var h=m.connector.line;L.lineGroupStyle(g.select(this).selectAll("path"),h.width,h.color,h.dash)})})}G.exports={style:r}},22332:function(G,U,e){var g=e(74996),L=e(45464),a=e(86968).u,C=e(21776).Ks,A=e(21776).Gw,v=e(92880).extendFlat;G.exports={labels:g.labels,label0:g.label0,dlabel:g.dlabel,values:g.values,marker:{colors:g.marker.colors,line:{color:v({},g.marker.line.color,{dflt:null}),width:v({},g.marker.line.width,{dflt:1}),editType:"calc"},pattern:g.marker.pattern,editType:"calc"},text:g.text,hovertext:g.hovertext,scalegroup:v({},g.scalegroup,{}),textinfo:v({},g.textinfo,{flags:["label","text","value","percent"]}),texttemplate:A({editType:"plot"},{keys:["label","color","value","text","percent"]}),hoverinfo:v({},L.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:C({},{keys:["label","color","value","text","percent"]}),textposition:v({},g.textposition,{values:["inside","none"],dflt:"inside"}),textfont:g.textfont,insidetextfont:g.insidetextfont,title:{text:g.title.text,font:g.title.font,position:v({},g.title.position,{values:["top left","top center","top right"],dflt:"top center"}),editType:"plot"},domain:a({name:"funnelarea",trace:!0,editType:"calc"}),aspectratio:{valType:"number",min:0,dflt:1,editType:"plot"},baseratio:{valType:"number",min:0,max:1,dflt:.333,editType:"plot"}}},91248:function(G,U,e){var g=e(7316);U.name="funnelarea",U.plot=function(L,a,C,A){g.plotBasePlot(U.name,L,a,C,A)},U.clean=function(L,a,C,A){g.cleanBasePlot(U.name,L,a,C,A)}},54e3:function(G,U,e){var g=e(45768);function L(C,A){return g.calc(C,A)}function a(C){g.crossTraceCalc(C,{type:"funnelarea"})}G.exports={calc:L,crossTraceCalc:a}},92688:function(G,U,e){var g=e(3400),L=e(22332),a=e(86968).Q,C=e(31508).handleText,A=e(74174).handleLabelsAndValues,v=e(74174).handleMarkerDefaults;G.exports=function(r,t,s,n){function f(w,E){return g.coerce(r,t,L,w,E)}var u=f("labels"),l=f("values"),m=A(u,l),h=m.len;if(t._hasLabels=m.hasLabels,t._hasValues=m.hasValues,!t._hasLabels&&t._hasValues&&(f("label0"),f("dlabel")),!h){t.visible=!1;return}t._length=h,v(r,t,n,f),f("scalegroup");var M=f("text"),c=f("texttemplate"),i;if(c||(i=f("textinfo",Array.isArray(M)?"text+percent":"percent")),f("hovertext"),f("hovertemplate"),c||i&&i!=="none"){var d=f("textposition");C(r,t,n,f,d,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1})}else i==="none"&&f("textposition","none");a(t,n,f);var b=f("title.text");b&&(f("title.position"),g.coerceFont(f,"title.font",n.font)),f("aspectratio"),f("baseratio")}},62396:function(G,U,e){G.exports={moduleType:"trace",name:"funnelarea",basePlotModule:e(91248),categories:["pie-like","funnelarea","showLegend"],attributes:e(22332),layoutAttributes:e(61280),supplyDefaults:e(92688),supplyLayoutDefaults:e(35384),calc:e(54e3).calc,crossTraceCalc:e(54e3).crossTraceCalc,plot:e(39472),style:e(62096),styleOne:e(10528),meta:{}}},61280:function(G,U,e){var g=e(85204).hiddenlabels;G.exports={hiddenlabels:g,funnelareacolorway:{valType:"colorlist",editType:"calc"},extendfunnelareacolors:{valType:"boolean",dflt:!0,editType:"calc"}}},35384:function(G,U,e){var g=e(3400),L=e(61280);G.exports=function(C,A){function v(p,r){return g.coerce(C,A,L,p,r)}v("hiddenlabels"),v("funnelareacolorway",A.colorway),v("extendfunnelareacolors")}},39472:function(G,U,e){var g=e(33428),L=e(43616),a=e(3400),C=a.strScale,A=a.strTranslate,v=e(72736),p=e(98184),r=p.toMoveInsideBar,t=e(82744),s=t.recordMinTextSize,n=t.clearMinTextSize,f=e(69656),u=e(37820),l=u.attachFxHandlers,m=u.determineInsideTextFont,h=u.layoutAreas,M=u.prerenderTitles,c=u.positionTitleOutside,i=u.formatSliceLabel;G.exports=function(y,S){var T=y._context.staticPlot,o=y._fullLayout;n("funnelarea",o),M(S,y),h(S,o._size),a.makeTraceGroups(o._funnelarealayer,S,"trace").each(function(P){var x=g.select(this),_=P[0],I=_.trace;w(P),x.each(function(){var N=g.select(this).selectAll("g.slice").data(P);N.enter().append("g").classed("slice",!0),N.exit().remove(),N.each(function(F,O){if(F.hidden){g.select(this).selectAll("path,g").remove();return}F.pointNumber=F.i,F.curveNumber=I.index;var z=_.cx,B=_.cy,W=g.select(this),q=W.selectAll("path.surface").data([F]);q.enter().append("path").classed("surface",!0).style({"pointer-events":T?"none":"all"}),W.call(l,y,P);var ee="M"+(z+F.TR[0])+","+(B+F.TR[1])+d(F.TR,F.BR)+d(F.BR,F.BL)+d(F.BL,F.TL)+"Z";q.attr("d",ee),i(y,F,_);var Q=f.castOption(I.textposition,F.pts),oe=W.selectAll("g.slicetext").data(F.text&&Q!=="none"?[0]:[]);oe.enter().append("g").classed("slicetext",!0),oe.exit().remove(),oe.each(function(){var Z=a.ensureSingle(g.select(this),"text","",function(se){se.attr("data-notex",1)}),Y=a.ensureUniformFontSize(y,m(I,F,o.font));Z.text(F.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(L.font,Y).call(v.convertToTspans,y);var te=L.bBox(Z.node()),X,$,ie,J=Math.min(F.BL[1],F.BR[1])+B,j=Math.max(F.TL[1],F.TR[1])+B;$=Math.max(F.TL[0],F.BL[0])+z,ie=Math.min(F.TR[0],F.BR[0])+z,X=r($,ie,J,j,te,{isHorizontal:!0,constrained:!0,angle:0,anchor:"middle"}),X.fontSize=Y.size,s(I.type,X,o),P[O].transform=X,a.setTransormAndDisplay(Z,X)})});var k=g.select(this).selectAll("g.titletext").data(I.title.text?[0]:[]);k.enter().append("g").classed("titletext",!0),k.exit().remove(),k.each(function(){var F=a.ensureSingle(g.select(this),"text","",function(B){B.attr("data-notex",1)}),O=I.title.text;I._meta&&(O=a.templateString(O,I._meta)),F.text(O).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(L.font,I.title.font).call(v.convertToTspans,y);var z=c(_,o._size);F.attr("transform",A(z.x,z.y)+C(Math.min(1,z.scale))+A(z.tx,z.ty))})})})};function d(E,y){var S=y[0]-E[0],T=y[1]-E[1];return"l"+S+","+T}function b(E,y){return[.5*(E[0]+y[0]),.5*(E[1]+y[1])]}function w(E){if(!E.length)return;var y=E[0],S=y.trace,T=S.aspectratio,o=S.baseratio;o>.999&&(o=.999);var P=Math.pow(o,2),x=y.vTotal,_=x*P/(1-P),I=x,N=_/x;function k(){var ne=Math.sqrt(N);return{x:ne,y:-ne}}function F(){var ne=k();return[ne.x,ne.y]}var O,z=[];z.push(F());var B,W;for(B=E.length-1;B>-1;B--)if(W=E[B],!W.hidden){var q=W.v/I;N+=q,z.push(F())}var ee=1/0,Q=-1/0;for(B=0;B<z.length;B++)O=z[B],ee=Math.min(ee,O[1]),Q=Math.max(Q,O[1]);for(B=0;B<z.length;B++)z[B][1]-=(Q+ee)/2;var oe=z[z.length-1][0],Z=y.r,Y=(Q-ee)/2,te=Z/oe,X=Z/Y*T;for(y.r=X*Y,B=0;B<z.length;B++)z[B][0]*=te,z[B][1]*=X;O=z[0];var $=[-O[0],O[1]],ie=[O[0],O[1]],J=0;for(B=E.length-1;B>-1;B--)if(W=E[B],!W.hidden){J+=1;var j=z[J][0],se=z[J][1];W.TL=[-j,se],W.TR=[j,se],W.BL=$,W.BR=ie,W.pxmid=b(W.TR,W.BR),$=W.TL,ie=W.TR}}},62096:function(G,U,e){var g=e(33428),L=e(10528),a=e(82744).resizeText;G.exports=function(A){var v=A._fullLayout._funnelarealayer.selectAll(".trace");a(A,v,"funnelarea"),v.each(function(p){var r=p[0],t=r.trace,s=g.select(this);s.style({opacity:t.opacity}),s.selectAll("path.surface").each(function(n){g.select(this).call(L,n,t,A)})})}},83328:function(G,U,e){var g=e(52904),L=e(45464),a=e(25376),C=e(29736).axisHoverFormat,A=e(21776).Ks,v=e(21776).Gw,p=e(49084),r=e(92880).extendFlat;G.exports=r({z:{valType:"data_array",editType:"calc"},x:r({},g.x,{impliedEdits:{xtype:"array"}}),x0:r({},g.x0,{impliedEdits:{xtype:"scaled"}}),dx:r({},g.dx,{impliedEdits:{xtype:"scaled"}}),y:r({},g.y,{impliedEdits:{ytype:"array"}}),y0:r({},g.y0,{impliedEdits:{ytype:"scaled"}}),dy:r({},g.dy,{impliedEdits:{ytype:"scaled"}}),xperiod:r({},g.xperiod,{impliedEdits:{xtype:"scaled"}}),yperiod:r({},g.yperiod,{impliedEdits:{ytype:"scaled"}}),xperiod0:r({},g.xperiod0,{impliedEdits:{xtype:"scaled"}}),yperiod0:r({},g.yperiod0,{impliedEdits:{ytype:"scaled"}}),xperiodalignment:r({},g.xperiodalignment,{impliedEdits:{xtype:"scaled"}}),yperiodalignment:r({},g.yperiodalignment,{impliedEdits:{ytype:"scaled"}}),text:{valType:"data_array",editType:"calc"},hovertext:{valType:"data_array",editType:"calc"},transpose:{valType:"boolean",dflt:!1,editType:"calc"},xtype:{valType:"enumerated",values:["array","scaled"],editType:"calc+clearAxisTypes"},ytype:{valType:"enumerated",values:["array","scaled"],editType:"calc+clearAxisTypes"},zsmooth:{valType:"enumerated",values:["fast","best",!1],dflt:!1,editType:"calc"},hoverongaps:{valType:"boolean",dflt:!0,editType:"none"},connectgaps:{valType:"boolean",editType:"calc"},xgap:{valType:"number",dflt:0,min:0,editType:"plot"},ygap:{valType:"number",dflt:0,min:0,editType:"plot"},xhoverformat:C("x"),yhoverformat:C("y"),zhoverformat:C("z",1),hovertemplate:A(),texttemplate:v({arrayOk:!1,editType:"plot"},{keys:["x","y","z","text"]}),textfont:a({editType:"plot",autoSize:!0,autoColor:!0,colorEditType:"style"}),showlegend:r({},L.showlegend,{dflt:!1})},{transforms:void 0},p("",{cLetter:"z",autoColorDflt:!1}))},19512:function(G,U,e){var g=e(24040),L=e(3400),a=e(54460),C=e(1220),A=e(55480),v=e(47128),p=e(2872),r=e(26136),t=e(70448),s=e(11240),n=e(35744),f=e(39032).BADNUM;G.exports=function(h,M){var c=a.getFromId(h,M.xaxis||"x"),i=a.getFromId(h,M.yaxis||"y"),d=g.traceIs(M,"contour"),b=g.traceIs(M,"histogram"),w=g.traceIs(M,"gl2d"),E=d?"best":M.zsmooth,y,S,T,o,P,x,_,I,N,k,F;if(c._minDtick=0,i._minDtick=0,b)F=A(h,M),o=F.orig_x,y=F.x,S=F.x0,T=F.dx,I=F.orig_y,P=F.y,x=F.y0,_=F.dy,N=F.z;else{var O=M.z;L.isArray1D(O)?(p(M,c,i,"x","y",["z"]),y=M._x,P=M._y,O=M._z):(o=M.x?c.makeCalcdata(M,"x"):[],I=M.y?i.makeCalcdata(M,"y"):[],y=C(M,c,"x",o).vals,P=C(M,i,"y",I).vals,M._x=y,M._y=P),S=M.x0,T=M.dx,x=M.y0,_=M.dy,N=r(O,M,c,i)}(c.rangebreaks||i.rangebreaks)&&(N=l(y,P,N),b||(y=u(y),P=u(P),M._x=y,M._y=P)),!b&&(d||M.connectgaps)&&(M._emptypoints=s(N),t(N,M._emptypoints));function z(te){E=M._input.zsmooth=M.zsmooth=!1,L.warn('cannot use zsmooth: "fast": '+te)}function B(te){if(te.length>1){var X=(te[te.length-1]-te[0])/(te.length-1),$=Math.abs(X/100);for(k=0;k<te.length-1;k++)if(Math.abs(te[k+1]-te[k]-X)>$)return!1}return!0}M._islinear=!1,c.type==="log"||i.type==="log"?E==="fast"&&z("log axis found"):B(y)?B(P)?M._islinear=!0:E==="fast"&&z("y scale is not linear"):E==="fast"&&z("x scale is not linear");var W=L.maxRowLength(N),q=M.xtype==="scaled"?"":y,ee=n(M,q,S,T,W,c),Q=M.ytype==="scaled"?"":P,oe=n(M,Q,x,_,N.length,i);w||(M._extremes[c._id]=a.findExtremes(c,ee),M._extremes[i._id]=a.findExtremes(i,oe));var Z={x:ee,y:oe,z:N,text:M._text||M.text,hovertext:M._hovertext||M.hovertext};if(M.xperiodalignment&&o&&(Z.orig_x=o),M.yperiodalignment&&I&&(Z.orig_y=I),q&&q.length===ee.length-1&&(Z.xCenter=q),Q&&Q.length===oe.length-1&&(Z.yCenter=Q),b&&(Z.xRanges=F.xRanges,Z.yRanges=F.yRanges,Z.pts=F.pts),d||v(h,M,{vals:N,cLetter:"z"}),d&&M.contours&&M.contours.coloring==="heatmap"){var Y={type:M.type==="contour"?"heatmap":"histogram2d",xcalendar:M.xcalendar,ycalendar:M.ycalendar};Z.xfill=n(Y,q,S,T,W,c),Z.yfill=n(Y,Q,x,_,N.length,i)}return[Z]};function u(m){for(var h=[],M=m.length,c=0;c<M;c++){var i=m[c];i!==f&&h.push(i)}return h}function l(m,h,M){for(var c=[],i=-1,d=0;d<M.length;d++)if(h[d]!==f){i++,c[i]=[];for(var b=0;b<M[d].length;b++)m[b]!==f&&c[i].push(M[d][b])}return c}},26136:function(G,U,e){var g=e(38248),L=e(3400),a=e(39032).BADNUM;G.exports=function(A,v,p,r){var t,s,n,f,u,l;function m(b){if(!!g(b))return+b}if(v&&v.transpose){for(t=0,u=0;u<A.length;u++)t=Math.max(t,A[u].length);if(t===0)return!1;n=function(b){return b.length},f=function(b,w,E){return(b[E]||[])[w]}}else t=A.length,n=function(b,w){return b[w].length},f=function(b,w,E){return(b[w]||[])[E]};var h=function(b,w,E){return w===a||E===a?a:f(b,w,E)};function M(b){if(v&&v.type!=="carpet"&&v.type!=="contourcarpet"&&b&&b.type==="category"&&v["_"+b._id.charAt(0)].length){var w=b._id.charAt(0),E={},y=v["_"+w+"CategoryMap"]||v[w];for(u=0;u<y.length;u++)E[y[u]]=u;return function(S){var T=E[b._categories[S]];return T+1?T:a}}else return L.identity}var c=M(p),i=M(r);r&&r.type==="category"&&(t=r._categories.length);var d=new Array(t);for(u=0;u<t;u++)for(p&&p.type==="category"?s=p._categories.length:s=n(A,u),d[u]=new Array(s),l=0;l<s;l++)d[u][l]=m(h(A,i(u),c(l)));return d}},96288:function(G){G.exports={min:"zmin",max:"zmax"}},2872:function(G,U,e){var g=e(3400),L=e(39032).BADNUM,a=e(1220);G.exports=function(A,v,p,r,t,s){var n=A._length,f=v.makeCalcdata(A,r),u=p.makeCalcdata(A,t);f=a(A,v,r,f).vals,u=a(A,p,t,u).vals;var l=A.text,m=l!==void 0&&g.isArray1D(l),h=A.hovertext,M=h!==void 0&&g.isArray1D(h),c,i,d=g.distinctVals(f),b=d.vals,w=g.distinctVals(u),E=w.vals,y=[],S,T,o=E.length,P=b.length;for(c=0;c<s.length;c++)y[c]=g.init2dArray(o,P);m&&(S=g.init2dArray(o,P)),M&&(T=g.init2dArray(o,P));var x=g.init2dArray(o,P);for(c=0;c<n;c++)if(f[c]!==L&&u[c]!==L){var _=g.findBin(f[c]+d.minDiff/2,b),I=g.findBin(u[c]+w.minDiff/2,E);for(i=0;i<s.length;i++){var N=s[i],k=A[N],F=y[i];F[I][_]=k[c],x[I][_]=c}m&&(S[I][_]=l[c]),M&&(T[I][_]=h[c])}for(A["_"+r]=b,A["_"+t]=E,i=0;i<s.length;i++)A["_"+s[i]]=y[i];m&&(A._text=S),M&&(A._hovertext=T),v&&v.type==="category"&&(A["_"+r+"CategoryMap"]=b.map(function(O){return v._categories[O]})),p&&p.type==="category"&&(A["_"+t+"CategoryMap"]=E.map(function(O){return p._categories[O]})),A._after2before=x}},24480:function(G,U,e){var g=e(3400),L=e(51264),a=e(39096),C=e(31147),A=e(82748),v=e(27260),p=e(83328);G.exports=function(t,s,n,f){function u(m,h){return g.coerce(t,s,p,m,h)}var l=L(t,s,u,f);if(!l){s.visible=!1;return}C(t,s,f,u),u("xhoverformat"),u("yhoverformat"),u("text"),u("hovertext"),u("hovertemplate"),a(u,f),A(t,s,u,f),u("hoverongaps"),u("connectgaps",g.isArray1D(s.z)&&s.zsmooth!==!1),v(t,s,f,u,{prefix:"",cLetter:"z"})}},11240:function(G,U,e){var g=e(3400).maxRowLength;G.exports=function(a){var C=[],A={},v=[],p=a[0],r=[],t=[0,0,0],s=g(a),n,f,u,l,m,h,M,c;for(f=0;f<a.length;f++)for(n=r,r=p,p=a[f+1]||[],u=0;u<s;u++)r[u]===void 0&&(h=(r[u-1]!==void 0?1:0)+(r[u+1]!==void 0?1:0)+(n[u]!==void 0?1:0)+(p[u]!==void 0?1:0),h?(f===0&&h++,u===0&&h++,f===a.length-1&&h++,u===r.length-1&&h++,h<4&&(A[[f,u]]=[f,u,h]),C.push([f,u,h])):v.push([f,u]));for(;v.length;){for(M={},c=!1,m=v.length-1;m>=0;m--)l=v[m],f=l[0],u=l[1],h=((A[[f-1,u]]||t)[2]+(A[[f+1,u]]||t)[2]+(A[[f,u-1]]||t)[2]+(A[[f,u+1]]||t)[2])/20,h&&(M[l]=[f,u,h],v.splice(m,1),c=!0);if(!c)throw"findEmpties iterated with no new neighbors";for(l in M)A[l]=M[l],C.push(M[l])}return C.sort(function(i,d){return d[2]-i[2]})}},55512:function(G,U,e){var g=e(93024),L=e(3400),a=L.isArrayOrTypedArray,C=e(54460),A=e(8932).extractOpts;G.exports=function(p,r,t,s,n){n||(n={});var f=n.isContour,u=p.cd[0],l=u.trace,m=p.xa,h=p.ya,M=u.x,c=u.y,i=u.z,d=u.xCenter,b=u.yCenter,w=u.zmask,E=l.zhoverformat,y=M,S=c,T,o,P,x;if(p.index!==!1){try{P=Math.round(p.index[1]),x=Math.round(p.index[0])}catch{L.error("Error hovering on heatmap, pointNumber must be [row,col], found:",p.index);return}if(P<0||P>=i[0].length||x<0||x>i.length)return}else{if(g.inbox(r-M[0],r-M[M.length-1],0)>0||g.inbox(t-c[0],t-c[c.length-1],0)>0)return;if(f){var _;for(y=[2*M[0]-M[1]],_=1;_<M.length;_++)y.push((M[_]+M[_-1])/2);for(y.push([2*M[M.length-1]-M[M.length-2]]),S=[2*c[0]-c[1]],_=1;_<c.length;_++)S.push((c[_]+c[_-1])/2);S.push([2*c[c.length-1]-c[c.length-2]])}P=Math.max(0,Math.min(y.length-2,L.findBin(r,y))),x=Math.max(0,Math.min(S.length-2,L.findBin(t,S)))}var I=m.c2p(M[P]),N=m.c2p(M[P+1]),k=h.c2p(c[x]),F=h.c2p(c[x+1]),O,z;f?(O=u.orig_x||M,z=u.orig_y||c,N=I,T=O[P],F=k,o=z[x]):(O=u.orig_x||d||M,z=u.orig_y||b||c,T=d?O[P]:(O[P]+O[P+1])/2,o=b?z[x]:(z[x]+z[x+1])/2,m&&m.type==="category"&&(T=M[P]),h&&h.type==="category"&&(o=c[x]),l.zsmooth&&(I=N=m.c2p(T),k=F=h.c2p(o)));var B=i[x][P];if(w&&!w[x][P]&&(B=void 0),!(B===void 0&&!l.hoverongaps)){var W;a(u.hovertext)&&a(u.hovertext[x])?W=u.hovertext[x][P]:a(u.text)&&a(u.text[x])&&(W=u.text[x][P]);var q=A(l),ee={type:"linear",range:[q.min,q.max],hoverformat:E,_separators:m._separators,_numFormat:m._numFormat},Q=C.tickText(ee,B,"hover").text;return[L.extendFlat(p,{index:l._after2before?l._after2before[x][P]:[x,P],distance:p.maxHoverDistance,spikeDistance:p.maxSpikeDistance,x0:I,x1:N,y0:k,y1:F,xLabelVal:T,yLabelVal:o,zLabelVal:B,zLabel:Q,text:W})]}}},81932:function(G,U,e){G.exports={attributes:e(83328),supplyDefaults:e(24480),calc:e(19512),plot:e(41420),colorbar:e(96288),style:e(41648),hoverPoints:e(55512),moduleType:"trace",name:"heatmap",basePlotModule:e(57952),categories:["cartesian","svg","2dMap","showLegend"],meta:{}}},70448:function(G,U,e){var g=e(3400),L=.01,a=[[-1,0],[1,0],[0,-1],[0,1]];function C(v){return .5-.25*Math.min(1,v*.5)}G.exports=function(p,r){var t=1,s;for(A(p,r),s=0;s<r.length&&!(r[s][2]<4);s++);for(r=r.slice(s),s=0;s<100&&t>L;s++)t=A(p,r,C(t));return t>L&&g.log("interp2d didn't converge quickly",t),p};function A(v,p,r){var t=0,s,n,f,u,l,m,h,M,c,i,d,b,w;for(u=0;u<p.length;u++){for(s=p[u],n=s[0],f=s[1],d=v[n][f],i=0,c=0,l=0;l<4;l++)m=a[l],h=v[n+m[0]],h&&(M=h[f+m[1]],M!==void 0&&(i===0?b=w=M:(b=Math.min(b,M),w=Math.max(w,M)),c++,i+=M));if(c===0)throw"iterateInterp2d order is wrong: no defined neighbors";v[n][f]=i/c,d===void 0?c<4&&(t=1):(v[n][f]=(1+r)*v[n][f]-r*d,w>b&&(t=Math.max(t,Math.abs(v[n][f]-d)/(w-b))))}return t}},39096:function(G,U,e){var g=e(3400);G.exports=function(a,C){a("texttemplate");var A=g.extendFlat({},C.font,{color:"auto",size:"auto"});g.coerceFont(a,"textfont",A)}},35744:function(G,U,e){var g=e(24040),L=e(3400).isArrayOrTypedArray;G.exports=function(C,A,v,p,r,t){var s=[],n=g.traceIs(C,"contour"),f=g.traceIs(C,"histogram"),u=g.traceIs(C,"gl2d"),l,m,h,M=L(A)&&A.length>1;if(M&&!f&&t.type!=="category"){var c=A.length;if(c<=r){if(n||u)s=Array.from(A).slice(0,r);else if(r===1)t.type==="log"?s=[.5*A[0],2*A[0]]:s=[A[0]-.5,A[0]+.5];else if(t.type==="log"){for(s=[Math.pow(A[0],1.5)/Math.pow(A[1],.5)],h=1;h<c;h++)s.push(Math.sqrt(A[h-1]*A[h]));s.push(Math.pow(A[c-1],1.5)/Math.pow(A[c-2],.5))}else{for(s=[1.5*A[0]-.5*A[1]],h=1;h<c;h++)s.push((A[h-1]+A[h])*.5);s.push(1.5*A[c-1]-.5*A[c-2])}if(c<r){var i=s[s.length-1],d;if(t.type==="log")for(d=i/s[s.length-2],h=c;h<r;h++)i*=d,s.push(i);else for(d=i-s[s.length-2],h=c;h<r;h++)i+=d,s.push(i)}}else return n?A.slice(0,r):A.slice(0,r+1)}else{var b=C[t._id.charAt(0)+"calendar"];if(f)l=t.r2c(v,0,b);else if(L(A)&&A.length===1)l=A[0];else if(v===void 0)l=0;else{var w=t.type==="log"?t.d2c:t.r2c;l=w(v,0,b)}for(m=p||1,h=n||u?0:-.5;h<r;h++)s.push(l+m*h)}return s}},41420:function(G,U,e){var g=e(33428),L=e(49760),a=e(24040),C=e(43616),A=e(54460),v=e(3400),p=e(72736),r=e(76688),t=e(76308),s=e(8932).extractOpts,n=e(8932).makeColorScaleFuncFromTrace,f=e(9616),u=e(84284),l=u.LINE_SPACING,m=e(9188),h=e(2264).STYLE,M="heatmap-label";function c(E){return E.selectAll("g."+M)}function i(E){c(E).remove()}G.exports=function(E,y,S,T){var o=y.xaxis,P=y.yaxis;v.makeTraceGroups(T,S,"hm").each(function(x){var _=g.select(this),I=x[0],N=I.trace,k=N.xgap||0,F=N.ygap||0,O=I.z,z=I.x,B=I.y,W=I.xCenter,q=I.yCenter,ee=a.traceIs(N,"contour"),Q=ee?"best":N.zsmooth,oe=O.length,Z=v.maxRowLength(O),Y=!1,te=!1,X,$,ie,J,j,se,ne,le;for(se=0;X===void 0&&se<z.length-1;)X=o.c2p(z[se]),se++;for(se=z.length-1;$===void 0&&se>0;)$=o.c2p(z[se]),se--;for($<X&&(ie=$,$=X,X=ie,Y=!0),se=0;J===void 0&&se<B.length-1;)J=P.c2p(B[se]),se++;for(se=B.length-1;j===void 0&&se>0;)j=P.c2p(B[se]),se--;j<J&&(ie=J,J=j,j=ie,te=!0),ee&&(W=z,q=B,z=I.xfill,B=I.yfill);var pe="default";if(Q?pe=Q==="best"?"smooth":"fast":N._islinear&&k===0&&F===0&&m()&&(pe="fast"),pe!=="fast"){var Ae=Q==="best"?0:.5;X=Math.max(-Ae*o._length,X),$=Math.min((1+Ae)*o._length,$),J=Math.max(-Ae*P._length,J),j=Math.min((1+Ae)*P._length,j)}var be=Math.round($-X),Re=Math.round(j-J),xe=X>=o._length||$<=0||J>=P._length||j<=0;if(xe){var Me=_.selectAll("image").data([]);Me.exit().remove(),i(_);return}var ye,Se;pe==="fast"?(ye=Z,Se=oe):(ye=be,Se=Re);var Fe=document.createElement("canvas");Fe.width=ye,Fe.height=Se;var Be=Fe.getContext("2d",{willReadFrequently:!0}),_e=n(N,{noNumericCheck:!0,returnArray:!0}),Ue,it;pe==="fast"?(Ue=Y?function(an){return Z-1-an}:v.identity,it=te?function(an){return oe-1-an}:v.identity):(Ue=function(an){return v.constrain(Math.round(o.c2p(z[an])-X),0,be)},it=function(an){return v.constrain(Math.round(P.c2p(B[an])-J),0,Re)});var lt=it(0),$e=[lt,lt],qe=Y?0:1,ft=te?0:1,ct=0,pt=0,yt=0,Et=0,tt,Ie,We,Ze,He;function De(an,pn){if(an!==void 0){var gn=_e(an);return gn[0]=Math.round(gn[0]),gn[1]=Math.round(gn[1]),gn[2]=Math.round(gn[2]),ct+=pn,pt+=gn[0]*pn,yt+=gn[1]*pn,Et+=gn[2]*pn,gn}return[0,0,0,0]}function me(an,pn,gn,Cn){var zn=an[gn.bin0];if(zn===void 0)return De(void 0,1);var aa=an[gn.bin1],ha=pn[gn.bin0],pa=pn[gn.bin1],ua=aa-zn||0,na=ha-zn||0,br;return aa===void 0?pa===void 0?br=0:ha===void 0?br=2*(pa-zn):br=(2*pa-ha-zn)*2/3:pa===void 0?ha===void 0?br=0:br=(2*zn-aa-ha)*2/3:ha===void 0?br=(2*pa-aa-zn)*2/3:br=pa+zn-aa-ha,De(zn+gn.frac*ua+Cn.frac*(na+gn.frac*br))}if(pe!=="default"){var ge=0,Ee;try{Ee=new Uint8Array(ye*Se*4)}catch{Ee=new Array(ye*Se*4)}if(pe==="smooth"){var Te=W||z,ze=q||B,Xe=new Array(Te.length),et=new Array(ze.length),ut=new Array(be),dt=W?b:d,Zt=q?b:d,jt,Tt,kt;for(se=0;se<Te.length;se++)Xe[se]=Math.round(o.c2p(Te[se])-X);for(se=0;se<ze.length;se++)et[se]=Math.round(P.c2p(ze[se])-J);for(se=0;se<be;se++)ut[se]=dt(se,Xe);for(ne=0;ne<Re;ne++)for(jt=Zt(ne,et),Tt=O[jt.bin0],kt=O[jt.bin1],se=0;se<be;se++,ge+=4)He=me(Tt,kt,ut[se],jt),w(Ee,ge,He)}else for(ne=0;ne<oe;ne++)for(Ze=O[ne],$e=it(ne),se=0;se<Z;se++)He=De(Ze[se],1),ge=($e*Z+Ue(se))*4,w(Ee,ge,He);var Qt=Be.createImageData(ye,Se);try{Qt.data.set(Ee)}catch{var wr=Qt.data,xt=wr.length;for(ne=0;ne<xt;ne++)wr[ne]=Ee[ne]}Be.putImageData(Qt,0,0)}else{var At=Math.floor(k/2),Wt=Math.floor(F/2);for(ne=0;ne<oe;ne++)if(Ze=O[ne],$e.reverse(),$e[ft]=it(ne+1),!($e[0]===$e[1]||$e[0]===void 0||$e[1]===void 0))for(Ie=Ue(0),tt=[Ie,Ie],se=0;se<Z;se++)tt.reverse(),tt[qe]=Ue(se+1),!(tt[0]===tt[1]||tt[0]===void 0||tt[1]===void 0)&&(We=Ze[se],He=De(We,(tt[1]-tt[0])*($e[1]-$e[0])),Be.fillStyle="rgba("+He.join(",")+")",Be.fillRect(tt[0]+At,$e[0]+Wt,tt[1]-tt[0]-k,$e[1]-$e[0]-F))}pt=Math.round(pt/ct),yt=Math.round(yt/ct),Et=Math.round(Et/ct);var er=L("rgb("+pt+","+yt+","+Et+")");E._hmpixcount=(E._hmpixcount||0)+ct,E._hmlumcount=(E._hmlumcount||0)+ct*er.getLuminance();var $t=_.selectAll("image").data(x);$t.enter().append("svg:image").attr({xmlns:f.svg,preserveAspectRatio:"none"}),$t.attr({height:Re,width:be,x:X,y:J,"xlink:href":Fe.toDataURL("image/png")}),pe==="fast"&&!Q&&$t.attr("style",h),i(_);var ht=N.texttemplate;if(ht){var at=s(N),bt={type:"linear",range:[at.min,at.max],_separators:o._separators,_numFormat:o._numFormat},Ct=N.type==="histogram2dcontour",Dt=N.type==="contour",It=Dt?1:0,Vt=Dt?oe-1:oe,Nt=Dt?1:0,Jt=Dt?Z-1:Z,fr=[];for(se=It;se<Vt;se++){var cr;if(Dt)cr=I.y[se];else if(Ct){if(se===0||se===oe-1)continue;cr=I.y[se]}else if(I.yCenter)cr=I.yCenter[se];else{if(se+1===oe&&I.y[se+1]===void 0)continue;cr=(I.y[se]+I.y[se+1])/2}var dr=Math.round(P.c2p(cr));if(!(0>dr||dr>P._length))for(ne=Nt;ne<Jt;ne++){var Ge;if(Dt)Ge=I.x[ne];else if(Ct){if(ne===0||ne===Z-1)continue;Ge=I.x[ne]}else if(I.xCenter)Ge=I.xCenter[ne];else{if(ne+1===Z&&I.x[ne+1]===void 0)continue;Ge=(I.x[ne]+I.x[ne+1])/2}var Ve=Math.round(o.c2p(Ge));if(!(0>Ve||Ve>o._length)){var Ot=r({x:Ge,y:cr},N,E._fullLayout);Ot.x=Ge,Ot.y=cr;var Ft=I.z[se][ne];Ft===void 0?(Ot.z="",Ot.zLabel=""):(Ot.z=Ft,Ot.zLabel=A.tickText(bt,Ft,"hover").text);var Kt=I.text&&I.text[se]&&I.text[se][ne];(Kt===void 0||Kt===!1)&&(Kt=""),Ot.text=Kt;var rr=v.texttemplateString(ht,Ot,E._fullLayout._d3locale,Ot,N._meta||{});if(!!rr){var ur=rr.split("<br>"),ar=ur.length,Bt=0;for(le=0;le<ar;le++)Bt=Math.max(Bt,ur[le].length);fr.push({l:ar,c:Bt,t:rr,x:Ve,y:dr,z:Ft})}}}}var hr=N.textfont,gr=hr.family,mr=hr.size,vr=E._fullLayout.font.size;if(!mr||mr==="auto"){var Gr=1/0,Rr=1/0,Ir=0,cn=0;for(le=0;le<fr.length;le++){var rn=fr[le];if(Ir=Math.max(Ir,rn.l),cn=Math.max(cn,rn.c),le<fr.length-1){var Ln=fr[le+1],En=Math.abs(Ln.x-rn.x),Tr=Math.abs(Ln.y-rn.y);En&&(Gr=Math.min(Gr,En)),Tr&&(Rr=Math.min(Rr,Tr))}}!isFinite(Gr)||!isFinite(Rr)?mr=vr:(Gr-=k,Rr-=F,Gr/=cn,Rr/=Ir,Gr/=l/2,Rr/=l,mr=Math.min(Math.floor(Gr),Math.floor(Rr),vr))}if(mr<=0||!isFinite(mr))return;var Lr=function(an){return an.x},Wr=function(an){return an.y-mr*(an.l*l/2-1)},Ur=c(_).data(fr);Ur.enter().append("g").classed(M,1).append("text").attr("text-anchor","middle").each(function(an){var pn=g.select(this),gn=hr.color;(!gn||gn==="auto")&&(gn=t.contrast("rgba("+_e(an.z).join()+")")),pn.attr("data-notex",1).call(p.positionText,Lr(an),Wr(an)).call(C.font,gr,mr,gn).text(an.t).call(p.convertToTspans,E)})}})};function d(E,y){var S=y.length-2,T=v.constrain(v.findBin(E,y),0,S),o=y[T],P=y[T+1],x=v.constrain(T+(E-o)/(P-o)-.5,0,S),_=Math.round(x),I=Math.abs(x-_);return!x||x===S||!I?{bin0:_,bin1:_,frac:0}:{bin0:_,frac:I,bin1:Math.round(_+I/(x-_))}}function b(E,y){var S=y.length-1,T=v.constrain(v.findBin(E,y),0,S),o=y[T],P=y[T+1],x=(E-o)/(P-o)||0;return x<=0?{bin0:T,bin1:T,frac:0}:x<.5?{bin0:T,bin1:T+1,frac:x}:{bin0:T+1,bin1:T,frac:1-x}}function w(E,y,S){E[y]=S[0],E[y+1]=S[1],E[y+2]=S[2],E[y+3]=Math.round(S[3]*255)}},41648:function(G,U,e){var g=e(33428);G.exports=function(a){g.select(a).selectAll(".hm image").style("opacity",function(C){return C.trace.opacity})}},82748:function(G){G.exports=function(e,g,L){var a=L("zsmooth");a===!1&&(L("xgap"),L("ygap")),L("zhoverformat")}},51264:function(G,U,e){var g=e(38248),L=e(3400),a=e(24040);G.exports=function(p,r,t,s,n,f){var u=t("z");n=n||"x",f=f||"y";var l,m;if(u===void 0||!u.length)return 0;if(L.isArray1D(u)){l=t(n),m=t(f);var h=L.minRowLength(l),M=L.minRowLength(m);if(h===0||M===0)return 0;r._length=Math.min(h,M,u.length)}else{if(l=C(n,t),m=C(f,t),!A(u))return 0;t("transpose"),r._length=null}if(p.type==="heatmapgl")return!0;var c=a.getComponentMethod("calendars","handleTraceDefaults");return c(p,r,[n,f],s),!0};function C(v,p){var r=p(v),t=r?p(v+"type","array"):"scaled";return t==="scaled"&&(p(v+"0"),p("d"+v)),r}function A(v){for(var p=!0,r=!1,t=!1,s,n=0;n<v.length;n++){if(s=v[n],!L.isArrayOrTypedArray(s)){p=!1;break}s.length>0&&(r=!0);for(var f=0;f<s.length;f++)if(g(s[f])){t=!0;break}}return p&&r&&t}},74512:function(G,U,e){for(var g=e(83328),L=e(49084),a=e(92880).extendFlat,C=e(67824).overrideAll,A=["z","x","x0","dx","y","y0","dy","text","transpose","xtype","ytype"],v={},p=0;p<A.length;p++){var r=A[p];v[r]=g[r]}v.zsmooth={valType:"enumerated",values:["fast",!1],dflt:"fast",editType:"calc"},a(v,L("",{cLetter:"z",autoColorDflt:!1})),G.exports=C(v,"calc","nested")},84656:function(G,U,e){var g=e(67792).gl_heatmap2d,L=e(54460),a=e(43080);function C(r,t){this.scene=r,this.uid=t,this.type="heatmapgl",this.name="",this.hoverinfo="all",this.xData=[],this.yData=[],this.zData=[],this.textLabels=[],this.idToIndex=[],this.bounds=[0,0,0,0],this.options={zsmooth:"fast",z:[],x:[],y:[],shape:[0,0],colorLevels:[0],colorValues:[0,0,0,1]},this.heatmap=g(r.glplot,this.options),this.heatmap._trace=this}var A=C.prototype;A.handlePick=function(r){var t=this.options,s=t.shape,n=r.pointId,f=n%s[0],u=Math.floor(n/s[0]),l=n;return{trace:this,dataCoord:r.dataCoord,traceCoord:[t.x[f],t.y[u],t.z[l]],textLabel:this.textLabels[n],name:this.name,pointIndex:[u,f],hoverinfo:this.hoverinfo}},A.update=function(r,t){var s=t[0];this.index=r.index,this.name=r.name,this.hoverinfo=r.hoverinfo;var n=s.z;this.options.z=[].concat.apply([],n);var f=n[0].length,u=n.length;this.options.shape=[f,u],this.options.x=s.x,this.options.y=s.y,this.options.zsmooth=r.zsmooth;var l=v(r);this.options.colorLevels=l.colorLevels,this.options.colorValues=l.colorValues,this.textLabels=[].concat.apply([],r.text),this.heatmap.update(this.options);var m=this.scene.xaxis,h=this.scene.yaxis,M,c;r.zsmooth===!1&&(M={ppad:s.x[1]-s.x[0]},c={ppad:s.y[1]-s.y[0]}),r._extremes[m._id]=L.findExtremes(m,s.x,M),r._extremes[h._id]=L.findExtremes(h,s.y,c)},A.dispose=function(){this.heatmap.dispose()};function v(r){for(var t=r.colorscale,s=r.zmin,n=r.zmax,f=t.length,u=new Array(f),l=new Array(4*f),m=0;m<f;m++){var h=t[m],M=a(h[1]);u[m]=s+h[0]*(n-s);for(var c=0;c<4;c++)l[4*m+c]=M[c]}return{colorLevels:u,colorValues:l}}function p(r,t,s){var n=new C(r,t.uid);return n.update(t,s),n}G.exports=p},86464:function(G,U,e){var g=e(3400),L=e(51264),a=e(27260),C=e(74512);G.exports=function(v,p,r,t){function s(f,u){return g.coerce(v,p,C,f,u)}var n=L(v,p,s,t);if(!n){p.visible=!1;return}s("text"),s("zsmooth"),a(v,p,t,s,{prefix:"",cLetter:"z"})}},45536:function(G,U,e){G.exports={attributes:e(74512),supplyDefaults:e(86464),colorbar:e(96288),calc:e(19512),plot:e(84656),moduleType:"trace",name:"heatmapgl",basePlotModule:e(39952),categories:["gl","gl2d","2dMap"],meta:{}}},40196:function(G,U,e){var g=e(20832),L=e(29736).axisHoverFormat,a=e(21776).Ks,C=e(21776).Gw,A=e(25376),v=e(11120),p=e(73316),r=e(92880).extendFlat;G.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},xhoverformat:L("x"),yhoverformat:L("y"),text:r({},g.text,{}),hovertext:r({},g.hovertext,{}),orientation:g.orientation,histfunc:{valType:"enumerated",values:["count","sum","avg","min","max"],dflt:"count",editType:"calc"},histnorm:{valType:"enumerated",values:["","percent","probability","density","probability density"],dflt:"",editType:"calc"},cumulative:{enabled:{valType:"boolean",dflt:!1,editType:"calc"},direction:{valType:"enumerated",values:["increasing","decreasing"],dflt:"increasing",editType:"calc"},currentbin:{valType:"enumerated",values:["include","exclude","half"],dflt:"include",editType:"calc"},editType:"calc"},nbinsx:{valType:"integer",min:0,dflt:0,editType:"calc"},xbins:v("x",!0),nbinsy:{valType:"integer",min:0,dflt:0,editType:"calc"},ybins:v("y",!0),autobinx:{valType:"boolean",dflt:null,editType:"calc"},autobiny:{valType:"boolean",dflt:null,editType:"calc"},bingroup:{valType:"string",dflt:"",editType:"calc"},hovertemplate:a({},{keys:p.eventDataKeys}),texttemplate:C({arrayOk:!1,editType:"plot"},{keys:["label","value"]}),textposition:r({},g.textposition,{arrayOk:!1}),textfont:A({arrayOk:!1,editType:"plot",colorEditType:"style"}),outsidetextfont:A({arrayOk:!1,editType:"plot",colorEditType:"style"}),insidetextfont:A({arrayOk:!1,editType:"plot",colorEditType:"style"}),insidetextanchor:g.insidetextanchor,textangle:g.textangle,cliponaxis:g.cliponaxis,constraintext:g.constraintext,marker:g.marker,offsetgroup:g.offsetgroup,alignmentgroup:g.alignmentgroup,selected:g.selected,unselected:g.unselected,_deprecated:{bardir:g._deprecated.bardir}}},2e3:function(G){G.exports=function(e,g){for(var L=e.length,a=0,C=0;C<L;C++)g[C]?(e[C]/=g[C],a+=e[C]):e[C]=null;return a}},11120:function(G){G.exports=function(e,g){return{start:{valType:"any",editType:"calc"},end:{valType:"any",editType:"calc"},size:{valType:"any",editType:"calc"},editType:"calc"}}},16964:function(G,U,e){var g=e(38248);G.exports={count:function(L,a,C){return C[L]++,1},sum:function(L,a,C,A){var v=A[a];return g(v)?(v=Number(v),C[L]+=v,v):0},avg:function(L,a,C,A,v){var p=A[a];return g(p)&&(p=Number(p),C[L]+=p,v[L]++),0},min:function(L,a,C,A){var v=A[a];if(g(v))if(v=Number(v),g(C[L])){if(C[L]>v){var p=v-C[L];return C[L]=v,p}}else return C[L]=v,v;return 0},max:function(L,a,C,A){var v=A[a];if(g(v))if(v=Number(v),g(C[L])){if(C[L]<v){var p=v-C[L];return C[L]=v,p}}else return C[L]=v,v;return 0}}},67712:function(G,U,e){var g=e(39032),L=g.ONEAVGYEAR,a=g.ONEAVGMONTH,C=g.ONEDAY,A=g.ONEHOUR,v=g.ONEMIN,p=g.ONESEC,r=e(54460).tickIncrement;G.exports=function(l,m,h,M,c){var i=-1.1*m,d=-.1*m,b=l-d,w=h[0],E=h[1],y=Math.min(t(w+d,w+b,M,c),t(E+d,E+b,M,c)),S=Math.min(t(w+i,w+d,M,c),t(E+i,E+d,M,c)),T,o;if(y>S&&S<Math.abs(E-w)/4e3?(T=y,o=!1):(T=Math.min(y,S),o=!0),M.type==="date"&&T>C){var P=T===L?1:6,x=T===L?"M12":"M1";return function(_,I){var N=M.c2d(_,L,c),k=N.indexOf("-",P);k>0&&(N=N.substr(0,k));var F=M.d2c(N,0,c);if(F<_){var O=r(F,x,!1,c);(F+O)/2<_+l&&(F=O)}return I&&o?r(F,x,!0,c):F}}return function(_,I){var N=T*Math.round(_/T);return N+T/10<_&&N+T*.9<_+l&&(N+=T),I&&o&&(N-=T),N}};function t(u,l,m,h){if(u*l<=0)return 1/0;for(var M=Math.abs(l-u),c=m.type==="date",i=s(M,c),d=0;d<10;d++){var b=s(i*80,c);if(i===b)break;if(n(b,u,l,c,m,h))i=b;else break}return i}function s(u,l){return l&&u>p?u>C?u>L*1.1?L:u>a*1.1?a:C:u>A?A:u>v?v:p:Math.pow(10,Math.floor(Math.log(u)/Math.LN10))}function n(u,l,m,h,M,c){if(h&&u>C){var i=f(l,M,c),d=f(m,M,c),b=u===L?0:1;return i[b]!==d[b]}return Math.floor(m/u)-Math.floor(l/u)>.1}function f(u,l,m){var h=l.c2d(u,L,m).split("-");return h[0]===""&&(h.unshift(),h[0]="-"+h[0]),h}},35852:function(G,U,e){var g=e(38248),L=e(3400),a=e(24040),C=e(54460),A=e(84664),v=e(16964),p=e(10648),r=e(2e3),t=e(67712);function s(m,h){var M=[],c=[],i=h.orientation==="h",d=C.getFromId(m,i?h.yaxis:h.xaxis),b=i?"y":"x",w={x:"y",y:"x"}[b],E=h[b+"calendar"],y=h.cumulative,S,T=n(m,h,d,b),o=T[0],P=T[1],x=typeof o.size=="string",_=[],I=x?_:o,N=[],k=[],F=[],O=0,z=h.histnorm,B=h.histfunc,W=z.indexOf("density")!==-1,q,ee,Q;y.enabled&&W&&(z=z.replace(/ ?density$/,""),W=!1);var oe=B==="max"||B==="min",Z=oe?null:0,Y=v.count,te=p[z],X=!1,$=function(Be){return d.r2c(Be,0,E)},ie;for(L.isArrayOrTypedArray(h[w])&&B!=="count"&&(ie=h[w],X=B==="avg",Y=v[B]),S=$(o.start),ee=$(o.end)+(S-C.tickIncrement(S,o.size,!1,E))/1e6;S<ee&&M.length<1e6&&(q=C.tickIncrement(S,o.size,!1,E),M.push((S+q)/2),c.push(Z),F.push([]),_.push(S),W&&N.push(1/(q-S)),X&&k.push(0),!(q<=S));)S=q;_.push(S),!x&&d.type==="date"&&(I={start:$(I.start),end:$(I.end),size:I.size}),m._fullLayout._roundFnOpts||(m._fullLayout._roundFnOpts={});var J=h["_"+b+"bingroup"],j={leftGap:1/0,rightGap:1/0};J&&(m._fullLayout._roundFnOpts[J]||(m._fullLayout._roundFnOpts[J]=j),j=m._fullLayout._roundFnOpts[J]);var se=c.length,ne=!0,le=j.leftGap,pe=j.rightGap,Ae={};for(S=0;S<P.length;S++){var be=P[S];Q=L.findBin(be,I),Q>=0&&Q<se&&(O+=Y(Q,S,c,ie,k),ne&&F[Q].length&&be!==P[F[Q][0]]&&(ne=!1),F[Q].push(S),Ae[S]=Q,le=Math.min(le,be-_[Q]),pe=Math.min(pe,_[Q+1]-be))}j.leftGap=le,j.rightGap=pe;var Re;ne||(Re=function(Be,_e){return function(){var Ue=m._fullLayout._roundFnOpts[J];return t(Ue.leftGap,Ue.rightGap,_,d,E)(Be,_e)}}),X&&(O=r(c,k)),te&&te(c,O,N),y.enabled&&l(c,y.direction,y.currentbin);var xe=Math.min(M.length,c.length),Me=[],ye=0,Se=xe-1;for(S=0;S<xe;S++)if(c[S]){ye=S;break}for(S=xe-1;S>=ye;S--)if(c[S]){Se=S;break}for(S=ye;S<=Se;S++)if(g(M[S])&&g(c[S])){var Fe={p:M[S],s:c[S],b:0};y.enabled||(Fe.pts=F[S],ne?Fe.ph0=Fe.ph1=F[S].length?P[F[S][0]]:M[S]:(h._computePh=!0,Fe.ph0=Re(_[S]),Fe.ph1=Re(_[S+1],!0))),Me.push(Fe)}return Me.length===1&&(Me[0].width1=C.tickIncrement(Me[0].p,o.size,!1,E)-Me[0].p),A(Me,h),L.isArrayOrTypedArray(h.selectedpoints)&&L.tagSelected(Me,h,Ae),Me}function n(m,h,M,c,i){var d=c+"bins",b=m._fullLayout,w=h["_"+c+"bingroup"],E=b._histogramBinOpts[w],y=b.barmode==="overlay",S,T,o,P,x,_,I,N=function(be){return M.r2c(be,0,P)},k=function(be){return M.c2r(be,0,P)},F=M.type==="date"?function(be){return be||be===0?L.cleanDate(be,null,P):null}:function(be){return g(be)?Number(be):null};function O(be,Re,xe){Re[be+"Found"]?(Re[be]=F(Re[be]),Re[be]===null&&(Re[be]=xe[be])):(_[be]=Re[be]=xe[be],L.nestedProperty(T[0],d+"."+be).set(xe[be]))}if(h["_"+c+"autoBinFinished"])delete h["_"+c+"autoBinFinished"];else{T=E.traces;var z=[],B=!0,W=!1,q=!1;for(S=0;S<T.length;S++)if(o=T[S],o.visible){var ee=E.dirs[S];x=o["_"+ee+"pos0"]=M.makeCalcdata(o,ee),z=L.concat(z,x),delete o["_"+c+"autoBinFinished"],h.visible===!0&&(B?B=!1:(delete o._autoBin,o["_"+c+"autoBinFinished"]=1),a.traceIs(o,"2dMap")&&(W=!0),o.type==="histogram2dcontour"&&(q=!0))}P=T[0][c+"calendar"];var Q=C.autoBin(z,M,E.nbins,W,P,E.sizeFound&&E.size),oe=T[0]._autoBin={};if(_=oe[E.dirs[0]]={},q&&(E.size||(Q.start=k(C.tickIncrement(N(Q.start),Q.size,!0,P))),E.end===void 0&&(Q.end=k(C.tickIncrement(N(Q.end),Q.size,!1,P)))),y&&!a.traceIs(h,"2dMap")&&Q._dataSpan===0&&M.type!=="category"&&M.type!=="multicategory"&&h.bingroup===""&&typeof h.xbins=="undefined"){if(i)return[Q,x,!0];Q=f(m,h,M,c,d)}I=o.cumulative||{},I.enabled&&I.currentbin!=="include"&&(I.direction==="decreasing"?Q.start=k(C.tickIncrement(N(Q.start),Q.size,!0,P)):Q.end=k(C.tickIncrement(N(Q.end),Q.size,!1,P))),E.size=Q.size,E.sizeFound||(_.size=Q.size,L.nestedProperty(T[0],d+".size").set(Q.size)),O("start",E,Q),O("end",E,Q)}x=h["_"+c+"pos0"],delete h["_"+c+"pos0"];var Z=h._input[d]||{},Y=L.extendFlat({},E),te=E.start,X=M.r2l(Z.start),$=X!==void 0;if((E.startFound||$)&&X!==M.r2l(te)){var ie=$?X:L.aggNums(Math.min,null,x),J={type:M.type==="category"||M.type==="multicategory"?"linear":M.type,r2l:M.r2l,dtick:E.size,tick0:te,calendar:P,range:[ie,C.tickIncrement(ie,E.size,!1,P)].map(M.l2r)},j=C.tickFirst(J);j>M.r2l(ie)&&(j=C.tickIncrement(j,E.size,!0,P)),Y.start=M.l2r(j),$||L.nestedProperty(h,d+".start").set(Y.start)}var se=E.end,ne=M.r2l(Z.end),le=ne!==void 0;if((E.endFound||le)&&ne!==M.r2l(se)){var pe=le?ne:L.aggNums(Math.max,null,x);Y.end=M.l2r(pe),le||L.nestedProperty(h,d+".start").set(Y.end)}var Ae="autobin"+c;return h._input[Ae]===!1&&(h._input[d]=L.extendFlat({},h[d]||{}),delete h._input[Ae],delete h[Ae]),[Y,x]}function f(m,h,M,c,i){var d=m._fullLayout,b=u(m,h),w=!1,E=1/0,y=[h],S,T,o;for(S=0;S<b.length;S++)if(T=b[S],T===h)w=!0;else if(!w)o=d._histogramBinOpts[T["_"+c+"bingroup"]],E=Math.min(E,o.size||T[i].size);else{var P=n(m,T,M,c,!0),x=P[0],_=P[2];T["_"+c+"autoBinFinished"]=1,T["_"+c+"pos0"]=P[1],_?y.push(T):E=Math.min(E,x.size)}var I=new Array(y.length);for(S=0;S<y.length;S++)for(var N=y[S]["_"+c+"pos0"],k=0;k<N.length;k++)if(N[k]!==void 0){I[S]=N[k];break}for(isFinite(E)||(E=L.distinctVals(I).minDiff),S=0;S<y.length;S++){T=y[S];var F=T[c+"calendar"],O={start:M.c2r(I[S]-E/2,0,F),end:M.c2r(I[S]+E/2,0,F),size:E};T._input[i]=T[i]=O,o=d._histogramBinOpts[T["_"+c+"bingroup"]],o&&L.extendFlat(o,O)}return h[i]}function u(m,h){for(var M=h.xaxis,c=h.yaxis,i=h.orientation,d=[],b=m._fullData,w=0;w<b.length;w++){var E=b[w];E.type==="histogram"&&E.visible===!0&&E.orientation===i&&E.xaxis===M&&E.yaxis===c&&d.push(E)}return d}function l(m,h,M){var c,i,d;function b(E){d=m[E],m[E]/=2}function w(E){i=m[E],m[E]=d+i/2,d+=i}if(M==="half")if(h==="increasing")for(b(0),c=1;c<m.length;c++)w(c);else for(b(m.length-1),c=m.length-2;c>=0;c--)w(c);else if(h==="increasing"){for(c=1;c<m.length;c++)m[c]+=m[c-1];M==="exclude"&&(m.unshift(0),m.pop())}else{for(c=m.length-2;c>=0;c--)m[c]+=m[c+1];M==="exclude"&&(m.push(0),m.shift())}}G.exports={calc:s,calcAllAutoBins:n}},73316:function(G){G.exports={eventDataKeys:["binNumber"]}},80536:function(G,U,e){var g=e(3400),L=e(79811),a=e(24040).traceIs,C=e(20011),A=e(31508).validateCornerradius,v=g.nestedProperty,p=e(71888).getAxisGroup,r=[{aStr:{x:"xbins.start",y:"ybins.start"},name:"start"},{aStr:{x:"xbins.end",y:"ybins.end"},name:"end"},{aStr:{x:"xbins.size",y:"ybins.size"},name:"size"},{aStr:{x:"nbinsx",y:"nbinsy"},name:"nbins"}],t=["x","y"];G.exports=function(n,f){var u=f._histogramBinOpts={},l=[],m={},h=[],M,c,i,d,b,w,E;function y(Q,oe){return g.coerce(M._input,M,M._module.attributes,Q,oe)}function S(Q){return Q.orientation==="v"?"x":"y"}function T(Q,oe){var Z=L.getFromTrace({_fullLayout:f},Q,oe);return Z.type}function o(Q,oe,Z){var Y=Q.uid+"__"+Z;oe||(oe=Y);var te=T(Q,Z),X=Q[Z+"calendar"]||"",$=u[oe],ie=!0;$&&(te===$.axType&&X===$.calendar?(ie=!1,$.traces.push(Q),$.dirs.push(Z)):(oe=Y,te!==$.axType&&g.warn(["Attempted to group the bins of trace",Q.index,"set on a","type:"+te,"axis","with bins on","type:"+$.axType,"axis."].join(" ")),X!==$.calendar&&g.warn(["Attempted to group the bins of trace",Q.index,"set with a",X,"calendar","with bins",$.calendar?"on a "+$.calendar+" calendar":"w/o a set calendar"].join(" ")))),ie&&(u[oe]={traces:[Q],dirs:[Z],axType:te,calendar:Q[Z+"calendar"]||""}),Q["_"+Z+"bingroup"]=oe}for(b=0;b<n.length;b++)if(M=n[b],a(M,"histogram")){if(l.push(M),delete M._xautoBinFinished,delete M._yautoBinFinished,M.type==="histogram"){var P=y("marker.cornerradius",f.barcornerradius);M.marker&&(M.marker.cornerradius=A(P))}a(M,"2dMap")||C(M._input,M,f,y)}var x=f._alignmentOpts||{};for(b=0;b<l.length;b++){if(M=l[b],i="",!a(M,"2dMap")){if(d=S(M),f.barmode==="group"&&M.alignmentgroup){var _=M[d+"axis"],I=p(f,_)+M.orientation;(x[I]||{})[M.alignmentgroup]&&(i=I)}!i&&f.barmode!=="overlay"&&(i=p(f,M.xaxis)+p(f,M.yaxis)+S(M))}i?(m[i]||(m[i]=[]),m[i].push(M)):h.push(M)}for(i in m){if(c=m[i],c.length===1){h.push(c[0]);continue}var N=!1;for(c.length&&(M=c[0],N=y("bingroup")),i=N||i,b=0;b<c.length;b++){M=c[b];var k=M._input.bingroup;k&&k!==i&&g.warn(["Trace",M.index,"must match","within bingroup",i+".","Ignoring its bingroup:",k,"setting."].join(" ")),M.bingroup=i,o(M,i,S(M))}}for(b=0;b<h.length;b++){M=h[b];var F=y("bingroup");if(a(M,"2dMap"))for(E=0;E<2;E++){d=t[E];var O=y(d+"bingroup",F?F+"__"+d:null);o(M,O,d)}else o(M,F,S(M))}for(i in u){var z=u[i];for(c=z.traces,w=0;w<r.length;w++){var B=r[w],W=B.name,q,ee;if(!(W==="nbins"&&z.sizeFound)){for(b=0;b<c.length;b++){if(M=c[b],d=z.dirs[b],q=B.aStr[d],v(M._input,q).get()!==void 0){z[W]=y(q),z[W+"Found"]=!0;break}ee=(M._autoBin||{})[d]||{},ee[W]&&v(M,q).set(ee[W])}if(W==="start"||W==="end")for(;b<c.length;b++)M=c[b],M["_"+d+"bingroup"]&&(ee=(M._autoBin||{})[d]||{},y(q,ee[W]));W==="nbins"&&!z.sizeFound&&!z.nbinsFound&&(M=c[0],z[W]=y(q))}}}}},6616:function(G,U,e){var g=e(24040),L=e(3400),a=e(76308),C=e(31508).handleText,A=e(55592),v=e(40196);G.exports=function(r,t,s,n){function f(S,T){return L.coerce(r,t,v,S,T)}var u=f("x"),l=f("y"),m=f("cumulative.enabled");m&&(f("cumulative.direction"),f("cumulative.currentbin")),f("text");var h=f("textposition");C(r,t,n,f,h,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),f("hovertext"),f("hovertemplate"),f("xhoverformat"),f("yhoverformat");var M=f("orientation",l&&!u?"h":"v"),c=M==="v"?"x":"y",i=M==="v"?"y":"x",d=u&&l?Math.min(L.minRowLength(u)&&L.minRowLength(l)):L.minRowLength(t[c]||[]);if(!d){t.visible=!1;return}t._length=d;var b=g.getComponentMethod("calendars","handleTraceDefaults");b(r,t,["x","y"],n);var w=t[i];w&&f("histfunc"),f("histnorm"),f("autobin"+c),A(r,t,f,s,n),L.coerceSelectionMarkerOpacity(t,f);var E=(t.marker.line||{}).color,y=g.getComponentMethod("errorbars","supplyDefaults");y(r,t,E||a.defaultLine,{axis:"y"}),y(r,t,E||a.defaultLine,{axis:"x",inherit:"y"})}},84980:function(G){G.exports=function(e,g,L,a,C){if(e.x="xVal"in g?g.xVal:g.x,e.y="yVal"in g?g.yVal:g.y,"zLabelVal"in g&&(e.z=g.zLabelVal),g.xa&&(e.xaxis=g.xa),g.ya&&(e.yaxis=g.ya),!(L.cumulative||{}).enabled){var A=Array.isArray(C)?a[0].pts[C[0]][C[1]]:a[C].pts;e.pointNumbers=A,e.binNumber=e.pointNumber,delete e.pointNumber,delete e.pointIndex;var v;if(L._indexToPoints){v=[];for(var p=0;p<A.length;p++)v=v.concat(L._indexToPoints[A[p]])}else v=A;e.pointIndices=v}return e}},43339:function(G,U,e){var g=e(63400).hoverPoints,L=e(54460).hoverLabelText;G.exports=function(C,A,v,p,r){var t=g(C,A,v,p,r);if(!!t){C=t[0];var s=C.cd[C.index],n=C.cd[0].trace;if(!n.cumulative.enabled){var f=n.orientation==="h"?"y":"x";C[f+"Label"]=L(C[f+"a"],[s.ph0,s.ph1],n[f+"hoverformat"])}return t}}},42600:function(G,U,e){G.exports={attributes:e(40196),layoutAttributes:e(39324),supplyDefaults:e(6616),crossTraceDefaults:e(80536),supplyLayoutDefaults:e(37156),calc:e(35852).calc,crossTraceCalc:e(96376).crossTraceCalc,plot:e(98184).plot,layerName:"barlayer",style:e(60100).style,styleOnSelect:e(60100).styleOnSelect,colorbar:e(5528),hoverPoints:e(43339),selectPoints:e(45784),eventData:e(84980),moduleType:"trace",name:"histogram",basePlotModule:e(57952),categories:["bar-like","cartesian","svg","bar","histogram","oriented","errorBarsOK","showLegend"],meta:{}}},10648:function(G){G.exports={percent:function(U,e){for(var g=U.length,L=100/e,a=0;a<g;a++)U[a]*=L},probability:function(U,e){for(var g=U.length,L=0;L<g;L++)U[L]/=e},density:function(U,e,g,L){var a=U.length;L=L||1;for(var C=0;C<a;C++)U[C]*=g[C]*L},"probability density":function(U,e,g,L){var a=U.length;L&&(e/=L);for(var C=0;C<a;C++)U[C]*=g[C]/e}}},37008:function(G,U,e){var g=e(40196),L=e(11120),a=e(83328),C=e(45464),A=e(29736).axisHoverFormat,v=e(21776).Ks,p=e(21776).Gw,r=e(49084),t=e(92880).extendFlat;G.exports=t({x:g.x,y:g.y,z:{valType:"data_array",editType:"calc"},marker:{color:{valType:"data_array",editType:"calc"},editType:"calc"},histnorm:g.histnorm,histfunc:g.histfunc,nbinsx:g.nbinsx,xbins:L("x"),nbinsy:g.nbinsy,ybins:L("y"),autobinx:g.autobinx,autobiny:g.autobiny,bingroup:t({},g.bingroup,{}),xbingroup:t({},g.bingroup,{}),ybingroup:t({},g.bingroup,{}),xgap:a.xgap,ygap:a.ygap,zsmooth:a.zsmooth,xhoverformat:A("x"),yhoverformat:A("y"),zhoverformat:A("z",1),hovertemplate:v({},{keys:"z"}),texttemplate:p({arrayOk:!1,editType:"plot"},{keys:"z"}),textfont:a.textfont,showlegend:t({},C.showlegend,{dflt:!1})},r("",{cLetter:"z",autoColorDflt:!1}))},55480:function(G,U,e){var g=e(3400),L=e(54460),a=e(16964),C=e(10648),A=e(2e3),v=e(67712),p=e(35852).calcAllAutoBins;G.exports=function(f,u){var l=L.getFromId(f,u.xaxis),m=L.getFromId(f,u.yaxis),h=u.xcalendar,M=u.ycalendar,c=function(He){return l.r2c(He,0,h)},i=function(He){return m.r2c(He,0,M)},d=function(He){return l.c2r(He,0,h)},b=function(He){return m.c2r(He,0,M)},w,E,y,S,T=p(f,u,l,"x"),o=T[0],P=T[1],x=p(f,u,m,"y"),_=x[0],I=x[1],N=u._length;P.length>N&&P.splice(N,P.length-N),I.length>N&&I.splice(N,I.length-N);var k=[],F=[],O=[],z=typeof o.size=="string",B=typeof _.size=="string",W=[],q=[],ee=z?W:o,Q=B?q:_,oe=0,Z=[],Y=[],te=u.histnorm,X=u.histfunc,$=te.indexOf("density")!==-1,ie=X==="max"||X==="min",J=ie?null:0,j=a.count,se=C[te],ne=!1,le=[],pe=[],Ae="z"in u?u.z:"marker"in u&&Array.isArray(u.marker.color)?u.marker.color:"";Ae&&X!=="count"&&(ne=X==="avg",j=a[X]);var be=o.size,Re=c(o.start),xe=c(o.end)+(Re-L.tickIncrement(Re,be,!1,h))/1e6;for(w=Re;w<xe;w=L.tickIncrement(w,be,!1,h))F.push(J),W.push(w),ne&&O.push(0);W.push(w);var Me=F.length,ye=(w-Re)/Me,Se=d(Re+ye/2),Fe=_.size,Be=i(_.start),_e=i(_.end)+(Be-L.tickIncrement(Be,Fe,!1,M))/1e6;for(w=Be;w<_e;w=L.tickIncrement(w,Fe,!1,M)){k.push(F.slice()),q.push(w);var Ue=new Array(Me);for(E=0;E<Me;E++)Ue[E]=[];Y.push(Ue),ne&&Z.push(O.slice())}q.push(w);var it=k.length,lt=(w-Be)/it,$e=b(Be+lt/2);$&&(le=r(F.length,ee,ye,z),pe=r(k.length,Q,lt,B)),!z&&l.type==="date"&&(ee=t(c,ee)),!B&&m.type==="date"&&(Q=t(i,Q));var qe=!0,ft=!0,ct=new Array(Me),pt=new Array(it),yt=1/0,Et=1/0,tt=1/0,Ie=1/0;for(w=0;w<N;w++){var We=P[w],Ze=I[w];y=g.findBin(We,ee),S=g.findBin(Ze,Q),y>=0&&y<Me&&S>=0&&S<it&&(oe+=j(y,w,k[S],Ae,Z[S]),Y[S][y].push(w),qe&&(ct[y]===void 0?ct[y]=We:ct[y]!==We&&(qe=!1)),ft&&(pt[S]===void 0?pt[S]=Ze:pt[S]!==Ze&&(ft=!1)),yt=Math.min(yt,We-W[y]),Et=Math.min(Et,W[y+1]-We),tt=Math.min(tt,Ze-q[S]),Ie=Math.min(Ie,q[S+1]-Ze))}if(ne)for(S=0;S<it;S++)oe+=A(k[S],Z[S]);if(se)for(S=0;S<it;S++)se(k[S],oe,le,pe[S]);return{x:P,xRanges:s(W,qe&&ct,yt,Et,l,h),x0:Se,dx:ye,y:I,yRanges:s(q,ft&&pt,tt,Ie,m,M),y0:$e,dy:lt,z:k,pts:Y}};function r(n,f,u,l){var m=new Array(n),h;if(l)for(h=0;h<n;h++)m[h]=1/(f[h+1]-f[h]);else{var M=1/u;for(h=0;h<n;h++)m[h]=M}return m}function t(n,f){return{start:n(f.start),end:n(f.end),size:f.size}}function s(n,f,u,l,m,h){var M,c=n.length-1,i=new Array(c),d=v(u,l,n,m,h);for(M=0;M<c;M++){var b=(f||[])[M];i[M]=b===void 0?[d(n[M]),d(n[M+1],!0)]:[b,b]}return i}},99784:function(G,U,e){var g=e(3400),L=e(56408),a=e(82748),C=e(27260),A=e(39096),v=e(37008);G.exports=function(r,t,s,n){function f(u,l){return g.coerce(r,t,v,u,l)}L(r,t,f,n),t.visible!==!1&&(a(r,t,f,n),C(r,t,n,f,{prefix:"",cLetter:"z"}),f("hovertemplate"),A(f,n),f("xhoverformat"),f("yhoverformat"))}},59576:function(G,U,e){var g=e(55512),L=e(54460).hoverLabelText;G.exports=function(C,A,v,p,r){var t=g(C,A,v,p,r);if(!!t){C=t[0];var s=C.index,n=s[0],f=s[1],u=C.cd[0],l=u.trace,m=u.xRanges[f],h=u.yRanges[n];return C.xLabel=L(C.xa,[m[0],m[1]],l.xhoverformat),C.yLabel=L(C.ya,[h[0],h[1]],l.yhoverformat),t}}},21536:function(G,U,e){G.exports={attributes:e(37008),supplyDefaults:e(99784),crossTraceDefaults:e(80536),calc:e(19512),plot:e(41420),layerName:"heatmaplayer",colorbar:e(96288),style:e(41648),hoverPoints:e(59576),eventData:e(84980),moduleType:"trace",name:"histogram2d",basePlotModule:e(57952),categories:["cartesian","svg","2dMap","histogram","showLegend"],meta:{}}},56408:function(G,U,e){var g=e(24040),L=e(3400);G.exports=function(C,A,v,p){var r=v("x"),t=v("y"),s=L.minRowLength(r),n=L.minRowLength(t);if(!s||!n){A.visible=!1;return}A._length=Math.min(s,n);var f=g.getComponentMethod("calendars","handleTraceDefaults");f(C,A,["x","y"],p);var u=v("z")||v("marker.color");u&&v("histfunc"),v("histnorm"),v("autobinx"),v("autobiny")}},81220:function(G,U,e){var g=e(37008),L=e(67104),a=e(49084),C=e(29736).axisHoverFormat,A=e(92880).extendFlat;G.exports=A({x:g.x,y:g.y,z:g.z,marker:g.marker,histnorm:g.histnorm,histfunc:g.histfunc,nbinsx:g.nbinsx,xbins:g.xbins,nbinsy:g.nbinsy,ybins:g.ybins,autobinx:g.autobinx,autobiny:g.autobiny,bingroup:g.bingroup,xbingroup:g.xbingroup,ybingroup:g.ybingroup,autocontour:L.autocontour,ncontours:L.ncontours,contours:L.contours,line:{color:L.line.color,width:A({},L.line.width,{dflt:.5}),dash:L.line.dash,smoothing:L.line.smoothing,editType:"plot"},xhoverformat:C("x"),yhoverformat:C("y"),zhoverformat:C("z",1),hovertemplate:g.hovertemplate,texttemplate:L.texttemplate,textfont:L.textfont},a("",{cLetter:"z",editTypeOverride:"calc"}))},3704:function(G,U,e){var g=e(3400),L=e(56408),a=e(84952),C=e(97680),A=e(39096),v=e(81220);G.exports=function(r,t,s,n){function f(l,m){return g.coerce(r,t,v,l,m)}function u(l){return g.coerce2(r,t,v,l)}L(r,t,f,n),t.visible!==!1&&(a(r,t,f,u),C(r,t,f,n),f("xhoverformat"),f("yhoverformat"),f("hovertemplate"),t.contours&&t.contours.coloring==="heatmap"&&A(f,n))}},65664:function(G,U,e){G.exports={attributes:e(81220),supplyDefaults:e(3704),crossTraceDefaults:e(80536),calc:e(20688),plot:e(23676).plot,layerName:"contourlayer",style:e(52440),colorbar:e(55296),hoverPoints:e(38200),moduleType:"trace",name:"histogram2dcontour",basePlotModule:e(57952),categories:["cartesian","svg","2dMap","contour","histogram","showLegend"],meta:{}}},97376:function(G,U,e){var g=e(21776).Ks,L=e(21776).Gw,a=e(49084),C=e(86968).u,A=e(74996),v=e(424),p=e(40516),r=e(32984),t=e(92880).extendFlat,s=e(98192).c;G.exports={labels:v.labels,parents:v.parents,values:v.values,branchvalues:v.branchvalues,count:v.count,level:v.level,maxdepth:v.maxdepth,tiling:{orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"plot"},flip:p.tiling.flip,pad:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},marker:t({colors:v.marker.colors,line:v.marker.line,pattern:s,editType:"calc"},a("marker",{colorAttr:"colors",anim:!1})),leaf:v.leaf,pathbar:p.pathbar,text:A.text,textinfo:v.textinfo,texttemplate:L({editType:"plot"},{keys:r.eventDataKeys.concat(["label","value"])}),hovertext:A.hovertext,hoverinfo:v.hoverinfo,hovertemplate:g({},{keys:r.eventDataKeys}),textfont:A.textfont,insidetextfont:A.insidetextfont,outsidetextfont:p.outsidetextfont,textposition:p.textposition,sort:A.sort,root:v.root,domain:C({name:"icicle",trace:!0,editType:"calc"})}},59564:function(G,U,e){var g=e(7316);U.name="icicle",U.plot=function(L,a,C,A){g.plotBasePlot(U.name,L,a,C,A)},U.clean=function(L,a,C,A){g.cleanBasePlot(U.name,L,a,C,A)}},73876:function(G,U,e){var g=e(3776);U.r=function(L,a){return g.calc(L,a)},U.q=function(L){return g._runCrossTraceCalc("icicle",L)}},7045:function(G,U,e){var g=e(3400),L=e(97376),a=e(76308),C=e(86968).Q,A=e(31508).handleText,v=e(78048).TEXTPAD,p=e(74174).handleMarkerDefaults,r=e(8932),t=r.hasColorscale,s=r.handleDefaults;G.exports=function(f,u,l,m){function h(y,S){return g.coerce(f,u,L,y,S)}var M=h("labels"),c=h("parents");if(!M||!M.length||!c||!c.length){u.visible=!1;return}var i=h("values");i&&i.length?h("branchvalues"):h("count"),h("level"),h("maxdepth"),h("tiling.orientation"),h("tiling.flip"),h("tiling.pad");var d=h("text");h("texttemplate"),u.texttemplate||h("textinfo",g.isArrayOrTypedArray(d)?"text+label":"label"),h("hovertext"),h("hovertemplate");var b=h("pathbar.visible"),w="auto";A(f,u,m,h,w,{hasPathbar:b,moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),h("textposition"),p(f,u,m,h);var E=u._hasColorscale=t(f,"marker","colors")||(f.marker||{}).coloraxis;E&&s(f,u,m,h,{prefix:"marker.",cLetter:"c"}),h("leaf.opacity",E?1:.7),u._hovered={marker:{line:{width:2,color:a.contrast(m.paper_bgcolor)}}},b&&(h("pathbar.thickness",u.pathbar.textfont.size+2*v),h("pathbar.side"),h("pathbar.edgeshape")),h("sort"),h("root.color"),C(u,m,h),u._length=null}},67880:function(G,U,e){var g=e(33428),L=e(3400),a=e(43616),C=e(72736),A=e(25132),v=e(47192).styleOne,p=e(32984),r=e(78176),t=e(45716),s=e(96488).formatSliceLabel,n=!1;G.exports=function(u,l,m,h,M){var c=M.width,i=M.height,d=M.viewX,b=M.viewY,w=M.pathSlice,E=M.toMoveInsideSlice,y=M.strTransform,S=M.hasTransition,T=M.handleSlicesExit,o=M.makeUpdateSliceInterpolator,P=M.makeUpdateTextInterpolator,x=M.prevEntry,_={},I=u._context.staticPlot,N=u._fullLayout,k=l[0],F=k.trace,O=F.textposition.indexOf("left")!==-1,z=F.textposition.indexOf("right")!==-1,B=F.textposition.indexOf("bottom")!==-1,W=A(m,[c,i],{flipX:F.tiling.flip.indexOf("x")>-1,flipY:F.tiling.flip.indexOf("y")>-1,orientation:F.tiling.orientation,pad:{inner:F.tiling.pad},maxDepth:F._maxDepth}),q=W.descendants(),ee=1/0,Q=-1/0;q.forEach(function(X){var $=X.depth;$>=F._maxDepth?(X.x0=X.x1=(X.x0+X.x1)/2,X.y0=X.y1=(X.y0+X.y1)/2):(ee=Math.min(ee,$),Q=Math.max(Q,$))}),h=h.data(q,r.getPtId),F._maxVisibleLayers=isFinite(Q)?Q-ee+1:0,h.enter().append("g").classed("slice",!0),T(h,n,_,[c,i],w),h.order();var oe=null;if(S&&x){var Z=r.getPtId(x);h.each(function(X){oe===null&&r.getPtId(X)===Z&&(oe={x0:X.x0,x1:X.x1,y0:X.y0,y1:X.y1})})}var Y=function(){return oe||{x0:0,x1:c,y0:0,y1:i}},te=h;return S&&(te=te.transition().each("end",function(){var X=g.select(this);r.setSliceCursor(X,u,{hideOnRoot:!0,hideOnLeaves:!1,isTransitioning:!1})})),te.each(function(X){X._x0=d(X.x0),X._x1=d(X.x1),X._y0=b(X.y0),X._y1=b(X.y1),X._hoverX=d(X.x1-F.tiling.pad),X._hoverY=b(B?X.y1-F.tiling.pad/2:X.y0+F.tiling.pad/2);var $=g.select(this),ie=L.ensureSingle($,"path","surface",function(ne){ne.style("pointer-events",I?"none":"all")});S?ie.transition().attrTween("d",function(ne){var le=o(ne,n,Y(),[c,i],{orientation:F.tiling.orientation,flipX:F.tiling.flip.indexOf("x")>-1,flipY:F.tiling.flip.indexOf("y")>-1});return function(pe){return w(le(pe))}}):ie.attr("d",w),$.call(t,m,u,l,{styleOne:v,eventDataKeys:p.eventDataKeys,transitionTime:p.CLICK_TRANSITION_TIME,transitionEasing:p.CLICK_TRANSITION_EASING}).call(r.setSliceCursor,u,{isTransitioning:u._transitioning}),ie.call(v,X,F,u,{hovered:!1}),X.x0===X.x1||X.y0===X.y1?X._text="":X._text=s(X,m,F,l,N)||"";var J=L.ensureSingle($,"g","slicetext"),j=L.ensureSingle(J,"text","",function(ne){ne.attr("data-notex",1)}),se=L.ensureUniformFontSize(u,r.determineTextFont(F,X,N.font));j.text(X._text||" ").classed("slicetext",!0).attr("text-anchor",z?"end":O?"start":"middle").call(a.font,se).call(C.convertToTspans,u),X.textBB=a.bBox(j.node()),X.transform=E(X,{fontSize:se.size}),X.transform.fontSize=se.size,S?j.transition().attrTween("transform",function(ne){var le=P(ne,n,Y(),[c,i]);return function(pe){return y(le(pe))}}):j.attr("transform",y(X))}),oe}},29044:function(G,U,e){G.exports={moduleType:"trace",name:"icicle",basePlotModule:e(59564),categories:[],animatable:!0,attributes:e(97376),layoutAttributes:e(90676),supplyDefaults:e(7045),supplyLayoutDefaults:e(4304),calc:e(73876).r,crossTraceCalc:e(73876).q,plot:e(38364),style:e(47192).style,colorbar:e(5528),meta:{}}},90676:function(G){G.exports={iciclecolorway:{valType:"colorlist",editType:"calc"},extendiciclecolors:{valType:"boolean",dflt:!0,editType:"calc"}}},4304:function(G,U,e){var g=e(3400),L=e(90676);G.exports=function(C,A){function v(p,r){return g.coerce(C,A,L,p,r)}v("iciclecolorway",A.colorway),v("extendiciclecolors")}},25132:function(G,U,e){var g=e(74148),L=e(83024);G.exports=function(C,A,v){var p=v.flipX,r=v.flipY,t=v.orientation==="h",s=v.maxDepth,n=A[0],f=A[1];s&&(n=(C.height+1)*A[0]/Math.min(C.height+1,s),f=(C.height+1)*A[1]/Math.min(C.height+1,s));var u=g.partition().padding(v.pad.inner).size(t?[A[1],n]:[A[0],f])(C);return(t||p||r)&&L(u,A,{swapXY:t,flipX:p,flipY:r}),u}},38364:function(G,U,e){var g=e(95808),L=e(67880);G.exports=function(C,A,v,p){return g(C,A,v,p,{type:"icicle",drawDescendants:L})}},47192:function(G,U,e){var g=e(33428),L=e(76308),a=e(3400),C=e(82744).resizeText,A=e(60404);function v(r){var t=r._fullLayout._iciclelayer.selectAll(".trace");C(r,t,"icicle"),t.each(function(s){var n=g.select(this),f=s[0],u=f.trace;n.style("opacity",u.opacity),n.selectAll("path.surface").each(function(l){g.select(this).call(p,l,u,r)})})}function p(r,t,s,n){var f=t.data.data,u=!t.children,l=f.i,m=a.castOption(s,l,"marker.line.color")||L.defaultLine,h=a.castOption(s,l,"marker.line.width")||0;r.call(A,t,s,n).style("stroke-width",h).call(L.stroke,m).style("opacity",u?s.leaf.opacity:null)}G.exports={style:v,styleOne:p}},95188:function(G,U,e){for(var g=e(45464),L=e(21776).Ks,a=e(92880).extendFlat,C=e(47797).colormodel,A=["rgb","rgba","rgba256","hsl","hsla"],v=[],p=[],r=0;r<A.length;r++){var t=C[A[r]];v.push("For the `"+A[r]+"` colormodel, it is ["+(t.zminDflt||t.min).join(", ")+"]."),p.push("For the `"+A[r]+"` colormodel, it is ["+(t.zmaxDflt||t.max).join(", ")+"].")}G.exports=a({source:{valType:"string",editType:"calc"},z:{valType:"data_array",editType:"calc"},colormodel:{valType:"enumerated",values:A,editType:"calc"},zsmooth:{valType:"enumerated",values:["fast",!1],dflt:!1,editType:"plot"},zmin:{valType:"info_array",items:[{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"}],editType:"calc"},zmax:{valType:"info_array",items:[{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"}],editType:"calc"},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dx:{valType:"number",dflt:1,editType:"calc"},dy:{valType:"number",dflt:1,editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"data_array",editType:"plot"},hoverinfo:a({},g.hoverinfo,{flags:["x","y","z","color","name","text"],dflt:"x+y+z+text+name"}),hovertemplate:L({},{keys:["z","color","colormodel"]}),transforms:void 0})},93336:function(G,U,e){var g=e(3400),L=e(47797),a=e(38248),C=e(54460),A=e(3400).maxRowLength,v=e(18712).i;G.exports=function(n,f){var u,l;if(f._hasZ)u=f.z.length,l=A(f.z);else if(f._hasSource){var m=v(f.source);u=m.height,l=m.width}var h=C.getFromId(n,f.xaxis||"x"),M=C.getFromId(n,f.yaxis||"y"),c=h.d2c(f.x0)-f.dx/2,i=M.d2c(f.y0)-f.dy/2,d,b=[c,c+l*f.dx],w=[i,i+u*f.dy];if(h&&h.type==="log")for(d=0;d<l;d++)b.push(c+d*f.dx);if(M&&M.type==="log")for(d=0;d<u;d++)w.push(i+d*f.dy);f._extremes[h._id]=C.findExtremes(h,b),f._extremes[M._id]=C.findExtremes(M,w),f._scaler=t(f);var E={x0:c,y0:i,z:f.z,w:l,h:u};return[E]};function p(s,n,f,u){return function(l){return g.constrain((l-s)*n,f,u)}}function r(s,n){return function(f){return g.constrain(f,s,n)}}function t(s){var n=L.colormodel[s.colormodel],f=n.colormodel||s.colormodel,u=f.length;s._sArray=[];for(var l=0;l<u;l++)n.min[l]!==s.zmin[l]||n.max[l]!==s.zmax[l]?s._sArray.push(p(s.zmin[l],(n.max[l]-n.min[l])/(s.zmax[l]-s.zmin[l]),n.min[l],n.max[l])):s._sArray.push(r(n.min[l],n.max[l]));return function(m){for(var h=m.slice(0,u),M=0;M<u;M++){var c=h[M];if(!a(c))return!1;h[M]=s._sArray[M](c)}return h}}},47797:function(G){G.exports={colormodel:{rgb:{min:[0,0,0],max:[255,255,255],fmt:function(U){return U.slice(0,3)},suffix:["","",""]},rgba:{min:[0,0,0,0],max:[255,255,255,1],fmt:function(U){return U.slice(0,4)},suffix:["","","",""]},rgba256:{colormodel:"rgba",zminDflt:[0,0,0,0],zmaxDflt:[255,255,255,255],min:[0,0,0,0],max:[255,255,255,1],fmt:function(U){return U.slice(0,4)},suffix:["","","",""]},hsl:{min:[0,0,0],max:[360,100,100],fmt:function(U){var e=U.slice(0,3);return e[1]=e[1]+"%",e[2]=e[2]+"%",e},suffix:["\xB0","%","%"]},hsla:{min:[0,0,0,0],max:[360,100,100,1],fmt:function(U){var e=U.slice(0,4);return e[1]=e[1]+"%",e[2]=e[2]+"%",e},suffix:["\xB0","%","%",""]}}}},13188:function(G,U,e){var g=e(3400),L=e(95188),a=e(47797),C=e(81792).IMAGE_URL_PREFIX;G.exports=function(v,p){function r(n,f){return g.coerce(v,p,L,n,f)}r("source"),p.source&&!p.source.match(C)&&delete p.source,p._hasSource=!!p.source;var t=r("z");if(p._hasZ=!(t===void 0||!t.length||!t[0]||!t[0].length),!p._hasZ&&!p._hasSource){p.visible=!1;return}r("x0"),r("y0"),r("dx"),r("dy");var s;p._hasZ?(r("colormodel","rgb"),s=a.colormodel[p.colormodel],r("zmin",s.zminDflt||s.min),r("zmax",s.zmaxDflt||s.max)):p._hasSource&&(p.colormodel="rgba256",s=a.colormodel[p.colormodel],p.zmin=s.zminDflt,p.zmax=s.zmaxDflt),r("zsmooth"),r("text"),r("hovertext"),r("hovertemplate"),p._length=null}},79972:function(G){G.exports=function(e,g){return"xVal"in g&&(e.x=g.xVal),"yVal"in g&&(e.y=g.yVal),g.xa&&(e.xaxis=g.xa),g.ya&&(e.yaxis=g.ya),e.color=g.color,e.colormodel=g.trace.colormodel,e.z||(e.z=g.color),e}},18712:function(G,U,e){var g=e(19480),L=e(81792).IMAGE_URL_PREFIX,a=e(33576).Buffer;U.i=function(C){var A=C.replace(L,""),v=new a(A,"base64");return g(v)}},24892:function(G,U,e){var g=e(93024),L=e(3400),a=L.isArrayOrTypedArray,C=e(47797);G.exports=function(v,p,r){var t=v.cd[0],s=t.trace,n=v.xa,f=v.ya;if(!(g.inbox(p-t.x0,p-(t.x0+t.w*s.dx),0)>0||g.inbox(r-t.y0,r-(t.y0+t.h*s.dy),0)>0)){var u=Math.floor((p-t.x0)/s.dx),l=Math.floor(Math.abs(r-t.y0)/s.dy),m;if(s._hasZ?m=t.z[l][u]:s._hasSource&&(m=s._canvas.el.getContext("2d",{willReadFrequently:!0}).getImageData(u,l,1,1).data),!!m){var h=t.hi||s.hoverinfo,M;if(h){var c=h.split("+");c.indexOf("all")!==-1&&(c=["color"]),c.indexOf("color")!==-1&&(M=!0)}var i=C.colormodel[s.colormodel],d=i.colormodel||s.colormodel,b=d.length,w=s._scaler(m),E=i.suffix,y=[];(s.hovertemplate||M)&&(y.push("["+[w[0]+E[0],w[1]+E[1],w[2]+E[2]].join(", ")),b===4&&y.push(", "+w[3]+E[3]),y.push("]"),y=y.join(""),v.extraText=d.toUpperCase()+": "+y);var S;a(s.hovertext)&&a(s.hovertext[l])?S=s.hovertext[l][u]:a(s.text)&&a(s.text[l])&&(S=s.text[l][u]);var T=f.c2p(t.y0+(l+.5)*s.dy),o=t.x0+(u+.5)*s.dx,P=t.y0+(l+.5)*s.dy,x="["+m.slice(0,s.colormodel.length).join(", ")+"]";return[L.extendFlat(v,{index:[l,u],x0:n.c2p(t.x0+u*s.dx),x1:n.c2p(t.x0+(u+1)*s.dx),y0:T,y1:T,color:w,xVal:o,xLabelVal:o,yVal:P,yLabelVal:P,zLabelVal:x,text:S,hovertemplateLabels:{zLabel:x,colorLabel:y,"color[0]Label":w[0]+E[0],"color[1]Label":w[1]+E[1],"color[2]Label":w[2]+E[2],"color[3]Label":w[3]+E[3]}})]}}}},48928:function(G,U,e){G.exports={attributes:e(95188),supplyDefaults:e(13188),calc:e(93336),plot:e(63715),style:e(28576),hoverPoints:e(24892),eventData:e(79972),moduleType:"trace",name:"image",basePlotModule:e(57952),categories:["cartesian","svg","2dMap","noSortingByValue"],animatable:!1,meta:{}}},63715:function(G,U,e){var g=e(33428),L=e(3400),a=L.strTranslate,C=e(9616),A=e(47797),v=e(9188),p=e(2264).STYLE;G.exports=function(t,s,n,f){var u=s.xaxis,l=s.yaxis,m=!t._context._exportedPlot&&v();L.makeTraceGroups(f,n,"im").each(function(h){var M=g.select(this),c=h[0],i=c.trace,d=(i.zsmooth==="fast"||i.zsmooth===!1&&m)&&!i._hasZ&&i._hasSource&&u.type==="linear"&&l.type==="linear";i._realImage=d;var b=c.z,w=c.x0,E=c.y0,y=c.w,S=c.h,T=i.dx,o=i.dy,P,x,_,I,N,k;for(k=0;P===void 0&&k<y;)P=u.c2p(w+k*T),k++;for(k=y;x===void 0&&k>0;)x=u.c2p(w+k*T),k--;for(k=0;I===void 0&&k<S;)I=l.c2p(E+k*o),k++;for(k=S;N===void 0&&k>0;)N=l.c2p(E+k*o),k--;if(x<P&&(_=x,x=P,P=_),N<I&&(_=I,I=N,N=_),!d){var F=.5;P=Math.max(-F*u._length,P),x=Math.min((1+F)*u._length,x),I=Math.max(-F*l._length,I),N=Math.min((1+F)*l._length,N)}var O=Math.round(x-P),z=Math.round(N-I),B=O<=0||z<=0;if(B){var W=M.selectAll("image").data([]);W.exit().remove();return}function q(J){var j=document.createElement("canvas");j.width=O,j.height=z;var se=j.getContext("2d",{willReadFrequently:!0}),ne=function(Be){return L.constrain(Math.round(u.c2p(w+Be*T)-P),0,O)},le=function(Be){return L.constrain(Math.round(l.c2p(E+Be*o)-I),0,z)},pe=A.colormodel[i.colormodel],Ae=pe.colormodel||i.colormodel,be=pe.fmt,Re;for(k=0;k<c.w;k++){var xe=ne(k),Me=ne(k+1);if(!(Me===xe||isNaN(Me)||isNaN(xe)))for(var ye=0;ye<c.h;ye++){var Se=le(ye),Fe=le(ye+1);Fe===Se||isNaN(Fe)||isNaN(Se)||!J(k,ye)||(Re=i._scaler(J(k,ye)),Re?se.fillStyle=Ae+"("+be(Re).join(",")+")":se.fillStyle="rgba(0,0,0,0)",se.fillRect(xe,Se,Me-xe,Fe-Se))}}return j}var ee=M.selectAll("image").data([h]);ee.enter().append("svg:image").attr({xmlns:C.svg,preserveAspectRatio:"none"}),ee.exit().remove();var Q=i.zsmooth===!1?p:"";if(d){var oe=L.simpleMap(u.range,u.r2l),Z=L.simpleMap(l.range,l.r2l),Y=oe[1]<oe[0],te=Z[1]>Z[0];if(Y||te){var X=P+O/2,$=I+z/2;Q+="transform:"+a(X+"px",$+"px")+"scale("+(Y?-1:1)+","+(te?-1:1)+")"+a(-X+"px",-$+"px")+";"}}ee.attr("style",Q);var ie=new Promise(function(J){if(i._hasZ)J();else if(i._hasSource)if(i._canvas&&i._canvas.el.width===y&&i._canvas.el.height===S&&i._canvas.source===i.source)J();else{var j=document.createElement("canvas");j.width=y,j.height=S;var se=j.getContext("2d",{willReadFrequently:!0});i._image=i._image||new Image;var ne=i._image;ne.onload=function(){se.drawImage(ne,0,0),i._canvas={el:j,source:i.source},J()},ne.setAttribute("src",i.source)}}).then(function(){var J,j;if(i._hasZ)j=q(function(le,pe){var Ae=b[pe][le];return L.isTypedArray(Ae)&&(Ae=Array.from(Ae)),Ae}),J=j.toDataURL("image/png");else if(i._hasSource)if(d)J=i.source;else{var se=i._canvas.el.getContext("2d",{willReadFrequently:!0}),ne=se.getImageData(0,0,y,S).data;j=q(function(le,pe){var Ae=4*(pe*y+le);return[ne[Ae],ne[Ae+1],ne[Ae+2],ne[Ae+3]]}),J=j.toDataURL("image/png")}ee.attr({"xlink:href":J,height:z,width:O,x:P,y:I})});t._promises.push(ie)})}},28576:function(G,U,e){var g=e(33428);G.exports=function(a){g.select(a).selectAll(".im image").style("opacity",function(C){return C[0].trace.opacity})}},89864:function(G,U,e){var g=e(92880).extendFlat,L=e(92880).extendDeep,a=e(67824).overrideAll,C=e(25376),A=e(22548),v=e(86968).u,p=e(94724),r=e(31780).templatedArray,t=e(48164),s=e(29736).descriptionOnlyNumbers,n=C({editType:"plot",colorEditType:"plot"}),f={color:{valType:"color",editType:"plot"},line:{color:{valType:"color",dflt:A.defaultLine,editType:"plot"},width:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},thickness:{valType:"number",min:0,max:1,dflt:1,editType:"plot"},editType:"calc"},u={valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],editType:"plot"},l=r("step",L({},f,{range:u}));G.exports={mode:{valType:"flaglist",editType:"calc",flags:["number","delta","gauge"],dflt:"number"},value:{valType:"number",editType:"calc",anim:!0},align:{valType:"enumerated",values:["left","center","right"],editType:"plot"},domain:v({name:"indicator",trace:!0,editType:"calc"}),title:{text:{valType:"string",editType:"plot"},align:{valType:"enumerated",values:["left","center","right"],editType:"plot"},font:g({},n,{}),editType:"plot"},number:{valueformat:{valType:"string",dflt:"",editType:"plot",description:s("value")},font:g({},n,{}),prefix:{valType:"string",dflt:"",editType:"plot"},suffix:{valType:"string",dflt:"",editType:"plot"},editType:"plot"},delta:{reference:{valType:"number",editType:"calc"},position:{valType:"enumerated",values:["top","bottom","left","right"],dflt:"bottom",editType:"plot"},relative:{valType:"boolean",editType:"plot",dflt:!1},valueformat:{valType:"string",editType:"plot",description:s("value")},increasing:{symbol:{valType:"string",dflt:t.INCREASING.SYMBOL,editType:"plot"},color:{valType:"color",dflt:t.INCREASING.COLOR,editType:"plot"},editType:"plot"},decreasing:{symbol:{valType:"string",dflt:t.DECREASING.SYMBOL,editType:"plot"},color:{valType:"color",dflt:t.DECREASING.COLOR,editType:"plot"},editType:"plot"},font:g({},n,{}),prefix:{valType:"string",dflt:"",editType:"plot"},suffix:{valType:"string",dflt:"",editType:"plot"},editType:"calc"},gauge:{shape:{valType:"enumerated",editType:"plot",dflt:"angular",values:["angular","bullet"]},bar:L({},f,{color:{dflt:"green"}}),bgcolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:A.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:1,editType:"plot"},axis:a({range:u,visible:g({},p.visible,{dflt:!0}),tickmode:p.minor.tickmode,nticks:p.nticks,tick0:p.tick0,dtick:p.dtick,tickvals:p.tickvals,ticktext:p.ticktext,ticks:g({},p.ticks,{dflt:"outside"}),ticklen:p.ticklen,tickwidth:p.tickwidth,tickcolor:p.tickcolor,ticklabelstep:p.ticklabelstep,showticklabels:p.showticklabels,labelalias:p.labelalias,tickfont:C({}),tickangle:p.tickangle,tickformat:p.tickformat,tickformatstops:p.tickformatstops,tickprefix:p.tickprefix,showtickprefix:p.showtickprefix,ticksuffix:p.ticksuffix,showticksuffix:p.showticksuffix,separatethousands:p.separatethousands,exponentformat:p.exponentformat,minexponent:p.minexponent,showexponent:p.showexponent,editType:"plot"},"plot"),steps:l,threshold:{line:{color:g({},f.line.color,{}),width:g({},f.line.width,{dflt:1}),editType:"plot"},thickness:g({},f.thickness,{dflt:.85}),value:{valType:"number",editType:"calc",dflt:!1},editType:"plot"},editType:"plot"}}},92728:function(G,U,e){var g=e(7316);U.name="indicator",U.plot=function(L,a,C,A){g.plotBasePlot(U.name,L,a,C,A)},U.clean=function(L,a,C,A){g.cleanBasePlot(U.name,L,a,C,A)}},79136:function(G){function U(e,g){var L=[],a=g.value;typeof g._lastValue!="number"&&(g._lastValue=g.value);var C=g._lastValue,A=C;return g._hasDelta&&typeof g.delta.reference=="number"&&(A=g.delta.reference),L[0]={y:a,lastY:C,delta:a-A,relativeDelta:(a-A)/A},L}G.exports={calc:U}},12096:function(G){G.exports={defaultNumberFontSize:80,bulletNumberDomainSize:.25,bulletPadding:.025,innerRadius:.75,valueThickness:.5,titlePadding:5,horizontalPadding:10}},20424:function(G,U,e){var g=e(3400),L=e(89864),a=e(86968).Q,C=e(31780),A=e(51272),v=e(12096),p=e(26332),r=e(25404),t=e(95936),s=e(42568);function n(u,l,m,h){function M(N,k){return g.coerce(u,l,L,N,k)}a(l,h,M),M("mode"),l._hasNumber=l.mode.indexOf("number")!==-1,l._hasDelta=l.mode.indexOf("delta")!==-1,l._hasGauge=l.mode.indexOf("gauge")!==-1;var c=M("value");l._range=[0,typeof c=="number"?1.5*c:1];var i=new Array(2),d;l._hasNumber&&(M("number.valueformat"),M("number.font.color",h.font.color),M("number.font.family",h.font.family),M("number.font.size"),l.number.font.size===void 0&&(l.number.font.size=v.defaultNumberFontSize,i[0]=!0),M("number.prefix"),M("number.suffix"),d=l.number.font.size);var b;l._hasDelta&&(M("delta.font.color",h.font.color),M("delta.font.family",h.font.family),M("delta.font.size"),l.delta.font.size===void 0&&(l.delta.font.size=(l._hasNumber?.5:1)*(d||v.defaultNumberFontSize),i[1]=!0),M("delta.reference",l.value),M("delta.relative"),M("delta.valueformat",l.delta.relative?"2%":""),M("delta.increasing.symbol"),M("delta.increasing.color"),M("delta.decreasing.symbol"),M("delta.decreasing.color"),M("delta.position"),M("delta.prefix"),M("delta.suffix"),b=l.delta.font.size),l._scaleNumbers=(!l._hasNumber||i[0])&&(!l._hasDelta||i[1])||!1,M("title.font.color",h.font.color),M("title.font.family",h.font.family),M("title.font.size",.25*(d||b||v.defaultNumberFontSize)),M("title.text");var w,E,y,S;function T(N,k){return g.coerce(w,E,L.gauge,N,k)}function o(N,k){return g.coerce(y,S,L.gauge.axis,N,k)}if(l._hasGauge){w=u.gauge,w||(w={}),E=C.newContainer(l,"gauge"),T("shape");var P=l._isBullet=l.gauge.shape==="bullet";P||M("title.align","center");var x=l._isAngular=l.gauge.shape==="angular";x||M("align","center"),T("bgcolor",h.paper_bgcolor),T("borderwidth"),T("bordercolor"),T("bar.color"),T("bar.line.color"),T("bar.line.width");var _=v.valueThickness*(l.gauge.shape==="bullet"?.5:1);T("bar.thickness",_),A(w,E,{name:"steps",handleItemDefaults:f}),T("threshold.value"),T("threshold.thickness"),T("threshold.line.width"),T("threshold.line.color"),y={},w&&(y=w.axis||{}),S=C.newContainer(E,"axis"),o("visible"),l._range=o("range",l._range);var I={noAutotickangles:!0,outerTicks:!0};p(y,S,o,"linear"),s(y,S,o,"linear",I),t(y,S,o,"linear",I),r(y,S,o,I)}else M("title.align","center"),M("align","center"),l._isAngular=l._isBullet=!1;l._length=null}function f(u,l){function m(h,M){return g.coerce(u,l,L.gauge.steps,h,M)}m("color"),m("line.color"),m("line.width"),m("range"),m("thickness")}G.exports={supplyDefaults:n}},43480:function(G,U,e){G.exports={moduleType:"trace",name:"indicator",basePlotModule:e(92728),categories:["svg","noOpacity","noHover"],animatable:!0,attributes:e(89864),supplyDefaults:e(20424).supplyDefaults,calc:e(79136).calc,plot:e(97864),meta:{}}},97864:function(G,U,e){var g=e(33428),L=e(67756).qy,a=e(67756).Gz,C=e(3400),A=C.strScale,v=C.strTranslate,p=C.rad2deg,r=e(84284).MID_SHIFT,t=e(43616),s=e(12096),n=e(72736),f=e(54460),u=e(28336),l=e(37668),m=e(94724),h=e(76308),M={left:"start",center:"middle",right:"end"},c={left:0,center:.5,right:1},i=/[yzafpnmkMGTPEZY]/;function d(I){return I&&I.duration>0}G.exports=function(N,k,F,O){var z=N._fullLayout,B;d(F)&&O&&(B=O()),C.makeTraceGroups(z._indicatorlayer,k,"trace").each(function(W){var q=W[0],ee=q.trace,Q=g.select(this),oe=ee._hasGauge,Z=ee._isAngular,Y=ee._isBullet,te=ee.domain,X={w:z._size.w*(te.x[1]-te.x[0]),h:z._size.h*(te.y[1]-te.y[0]),l:z._size.l+z._size.w*te.x[0],r:z._size.r+z._size.w*(1-te.x[1]),t:z._size.t+z._size.h*(1-te.y[1]),b:z._size.b+z._size.h*te.y[0]},$=X.l+X.w/2,ie=X.t+X.h/2,J=Math.min(X.w/2,X.h),j=s.innerRadius*J,se,ne,le,pe=ee.align||"center";if(ne=ie,!oe)se=X.l+c[pe]*X.w,le=function(_e){return o(_e,X.w,X.h)};else if(Z&&(se=$,ne=ie+J/2,le=function(_e){return P(_e,.9*j)}),Y){var Ae=s.bulletPadding,be=1-s.bulletNumberDomainSize+Ae;se=X.l+(be+(1-be)*c[pe])*X.w,le=function(_e){return o(_e,(s.bulletNumberDomainSize-Ae)*X.w,X.h)}}E(N,Q,W,{numbersX:se,numbersY:ne,numbersScaler:le,transitionOpts:F,onComplete:B});var Re,xe;oe&&(Re={range:ee.gauge.axis.range,color:ee.gauge.bgcolor,line:{color:ee.gauge.bordercolor,width:0},thickness:1},xe={range:ee.gauge.axis.range,color:"rgba(0, 0, 0, 0)",line:{color:ee.gauge.bordercolor,width:ee.gauge.borderwidth},thickness:1});var Me=Q.selectAll("g.angular").data(Z?W:[]);Me.exit().remove();var ye=Q.selectAll("g.angularaxis").data(Z?W:[]);ye.exit().remove(),Z&&w(N,Q,W,{radius:J,innerRadius:j,gauge:Me,layer:ye,size:X,gaugeBg:Re,gaugeOutline:xe,transitionOpts:F,onComplete:B});var Se=Q.selectAll("g.bullet").data(Y?W:[]);Se.exit().remove();var Fe=Q.selectAll("g.bulletaxis").data(Y?W:[]);Fe.exit().remove(),Y&&b(N,Q,W,{gauge:Se,layer:Fe,size:X,gaugeBg:Re,gaugeOutline:xe,transitionOpts:F,onComplete:B});var Be=Q.selectAll("text.title").data(W);Be.exit().remove(),Be.enter().append("text").classed("title",!0),Be.attr("text-anchor",function(){return Y?M.right:M[ee.title.align]}).text(ee.title.text).call(t.font,ee.title.font).call(n.convertToTspans,N),Be.attr("transform",function(){var _e=X.l+X.w*c[ee.title.align],Ue,it=s.titlePadding,lt=t.bBox(Be.node());if(oe){if(Z)if(ee.gauge.axis.visible){var $e=t.bBox(ye.node());Ue=$e.top-it-lt.bottom}else Ue=X.t+X.h/2-J/2-lt.bottom-it;Y&&(Ue=ne-(lt.top+lt.bottom)/2,_e=X.l-s.bulletPadding*X.w)}else Ue=ee._numbersTop-it-lt.bottom;return v(_e,Ue)})})};function b(I,N,k,F){var O=k[0].trace,z=F.gauge,B=F.layer,W=F.gaugeBg,q=F.gaugeOutline,ee=F.size,Q=O.domain,oe=F.transitionOpts,Z=F.onComplete,Y,te,X,$,ie;z.enter().append("g").classed("bullet",!0),z.attr("transform",v(ee.l,ee.t)),B.enter().append("g").classed("bulletaxis",!0).classed("crisp",!0),B.selectAll("g.xbulletaxistick,path,text").remove();var J=ee.h,j=O.gauge.bar.thickness*J,se=Q.x[0],ne=Q.x[0]+(Q.x[1]-Q.x[0])*(O._hasNumber||O._hasDelta?1-s.bulletNumberDomainSize:1);Y=T(I,O.gauge.axis),Y._id="xbulletaxis",Y.domain=[se,ne],Y.setScale(),te=f.calcTicks(Y),X=f.makeTransTickFn(Y),$=f.getTickSigns(Y)[2],ie=ee.t+ee.h,Y.visible&&(f.drawTicks(I,Y,{vals:Y.ticks==="inside"?f.clipEnds(Y,te):te,layer:B,path:f.makeTickPath(Y,ie,$),transFn:X}),f.drawLabels(I,Y,{vals:te,layer:B,transFn:X,labelFns:f.makeLabelFns(Y,ie)}));function le(ye){ye.attr("width",function(Se){return Math.max(0,Y.c2p(Se.range[1])-Y.c2p(Se.range[0]))}).attr("x",function(Se){return Y.c2p(Se.range[0])}).attr("y",function(Se){return .5*(1-Se.thickness)*J}).attr("height",function(Se){return Se.thickness*J})}var pe=[W].concat(O.gauge.steps),Ae=z.selectAll("g.bg-bullet").data(pe);Ae.enter().append("g").classed("bg-bullet",!0).append("rect"),Ae.select("rect").call(le).call(y),Ae.exit().remove();var be=z.selectAll("g.value-bullet").data([O.gauge.bar]);be.enter().append("g").classed("value-bullet",!0).append("rect"),be.select("rect").attr("height",j).attr("y",(J-j)/2).call(y),d(oe)?be.select("rect").transition().duration(oe.duration).ease(oe.easing).each("end",function(){Z&&Z()}).each("interrupt",function(){Z&&Z()}).attr("width",Math.max(0,Y.c2p(Math.min(O.gauge.axis.range[1],k[0].y)))):be.select("rect").attr("width",typeof k[0].y=="number"?Math.max(0,Y.c2p(Math.min(O.gauge.axis.range[1],k[0].y))):0),be.exit().remove();var Re=k.filter(function(){return O.gauge.threshold.value||O.gauge.threshold.value===0}),xe=z.selectAll("g.threshold-bullet").data(Re);xe.enter().append("g").classed("threshold-bullet",!0).append("line"),xe.select("line").attr("x1",Y.c2p(O.gauge.threshold.value)).attr("x2",Y.c2p(O.gauge.threshold.value)).attr("y1",(1-O.gauge.threshold.thickness)/2*J).attr("y2",(1-(1-O.gauge.threshold.thickness)/2)*J).call(h.stroke,O.gauge.threshold.line.color).style("stroke-width",O.gauge.threshold.line.width),xe.exit().remove();var Me=z.selectAll("g.gauge-outline").data([q]);Me.enter().append("g").classed("gauge-outline",!0).append("rect"),Me.select("rect").call(le).call(y),Me.exit().remove()}function w(I,N,k,F){var O=k[0].trace,z=F.size,B=F.radius,W=F.innerRadius,q=F.gaugeBg,ee=F.gaugeOutline,Q=[z.l+z.w/2,z.t+z.h/2+B/2],oe=F.gauge,Z=F.layer,Y=F.transitionOpts,te=F.onComplete,X=Math.PI/2;function $(qe){var ft=O.gauge.axis.range[0],ct=O.gauge.axis.range[1],pt=(qe-ft)/(ct-ft)*Math.PI-X;return pt<-X?-X:pt>X?X:pt}function ie(qe){return g.svg.arc().innerRadius((W+B)/2-qe/2*(B-W)).outerRadius((W+B)/2+qe/2*(B-W)).startAngle(-X)}function J(qe){qe.attr("d",function(ft){return ie(ft.thickness).startAngle($(ft.range[0])).endAngle($(ft.range[1]))()})}var j,se,ne,le;oe.enter().append("g").classed("angular",!0),oe.attr("transform",v(Q[0],Q[1])),Z.enter().append("g").classed("angularaxis",!0).classed("crisp",!0),Z.selectAll("g.xangularaxistick,path,text").remove(),j=T(I,O.gauge.axis),j.type="linear",j.range=O.gauge.axis.range,j._id="xangularaxis",j.ticklabeloverflow="allow",j.setScale();var pe=function(qe){return(j.range[0]-qe.x)/(j.range[1]-j.range[0])*Math.PI+Math.PI},Ae={},be=f.makeLabelFns(j,0),Re=be.labelStandoff;Ae.xFn=function(qe){var ft=pe(qe);return Math.cos(ft)*Re},Ae.yFn=function(qe){var ft=pe(qe),ct=Math.sin(ft)>0?.2:1;return-Math.sin(ft)*(Re+qe.fontSize*ct)+Math.abs(Math.cos(ft))*(qe.fontSize*r)},Ae.anchorFn=function(qe){var ft=pe(qe),ct=Math.cos(ft);return Math.abs(ct)<.1?"middle":ct>0?"start":"end"},Ae.heightFn=function(qe,ft,ct){var pt=pe(qe);return-.5*(1+Math.sin(pt))*ct};var xe=function(qe){return v(Q[0]+B*Math.cos(qe),Q[1]-B*Math.sin(qe))};ne=function(qe){return xe(pe(qe))};var Me=function(qe){var ft=pe(qe);return xe(ft)+"rotate("+-p(ft)+")"};if(se=f.calcTicks(j),le=f.getTickSigns(j)[2],j.visible){le=j.ticks==="inside"?-1:1;var ye=(j.linewidth||1)/2;f.drawTicks(I,j,{vals:se,layer:Z,path:"M"+le*ye+",0h"+le*j.ticklen,transFn:Me}),f.drawLabels(I,j,{vals:se,layer:Z,transFn:ne,labelFns:Ae})}var Se=[q].concat(O.gauge.steps),Fe=oe.selectAll("g.bg-arc").data(Se);Fe.enter().append("g").classed("bg-arc",!0).append("path"),Fe.select("path").call(J).call(y),Fe.exit().remove();var Be=ie(O.gauge.bar.thickness),_e=oe.selectAll("g.value-arc").data([O.gauge.bar]);_e.enter().append("g").classed("value-arc",!0).append("path");var Ue=_e.select("path");d(Y)?(Ue.transition().duration(Y.duration).ease(Y.easing).each("end",function(){te&&te()}).each("interrupt",function(){te&&te()}).attrTween("d",S(Be,$(k[0].lastY),$(k[0].y))),O._lastValue=k[0].y):Ue.attr("d",typeof k[0].y=="number"?Be.endAngle($(k[0].y)):"M0,0Z"),Ue.call(y),_e.exit().remove(),Se=[];var it=O.gauge.threshold.value;(it||it===0)&&Se.push({range:[it,it],color:O.gauge.threshold.color,line:{color:O.gauge.threshold.line.color,width:O.gauge.threshold.line.width},thickness:O.gauge.threshold.thickness});var lt=oe.selectAll("g.threshold-arc").data(Se);lt.enter().append("g").classed("threshold-arc",!0).append("path"),lt.select("path").call(J).call(y),lt.exit().remove();var $e=oe.selectAll("g.gauge-outline").data([ee]);$e.enter().append("g").classed("gauge-outline",!0).append("path"),$e.select("path").call(J).call(y),$e.exit().remove()}function E(I,N,k,F){var O=k[0].trace,z=F.numbersX,B=F.numbersY,W=O.align||"center",q=M[W],ee=F.transitionOpts,Q=F.onComplete,oe=C.ensureSingle(N,"g","numbers"),Z,Y,te,X=[];O._hasNumber&&X.push("number"),O._hasDelta&&(X.push("delta"),O.delta.position==="left"&&X.reverse());var $=oe.selectAll("text").data(X);$.enter().append("text"),$.attr("text-anchor",function(){return q}).attr("class",function(xe){return xe}).attr("x",null).attr("y",null).attr("dx",null).attr("dy",null),$.exit().remove();function ie(xe,Me,ye,Se){if(xe.match("s")&&ye>=0!=Se>=0&&!Me(ye).slice(-1).match(i)&&!Me(Se).slice(-1).match(i)){var Fe=xe.slice().replace("s","f").replace(/\d+/,function(_e){return parseInt(_e)-1}),Be=T(I,{tickformat:Fe});return function(_e){return Math.abs(_e)<1?f.tickText(Be,_e).text:Me(_e)}}else return Me}function J(){var xe=T(I,{tickformat:O.number.valueformat},O._range);xe.setScale(),f.prepTicks(xe);var Me=function(_e){return f.tickText(xe,_e).text},ye=O.number.suffix,Se=O.number.prefix,Fe=oe.select("text.number");function Be(){var _e=typeof k[0].y=="number"?Se+Me(k[0].y)+ye:"-";Fe.text(_e).call(t.font,O.number.font).call(n.convertToTspans,I)}return d(ee)?Fe.transition().duration(ee.duration).ease(ee.easing).each("end",function(){Be(),Q&&Q()}).each("interrupt",function(){Be(),Q&&Q()}).attrTween("text",function(){var _e=g.select(this),Ue=a(k[0].lastY,k[0].y);O._lastValue=k[0].y;var it=ie(O.number.valueformat,Me,k[0].lastY,k[0].y);return function(lt){_e.text(Se+it(Ue(lt))+ye)}}):Be(),Z=x(Se+Me(k[0].y)+ye,O.number.font,q,I),Fe}function j(){var xe=T(I,{tickformat:O.delta.valueformat},O._range);xe.setScale(),f.prepTicks(xe);var Me=function(lt){return f.tickText(xe,lt).text},ye=O.delta.suffix,Se=O.delta.prefix,Fe=function(lt){var $e=O.delta.relative?lt.relativeDelta:lt.delta;return $e},Be=function(lt,$e){return lt===0||typeof lt!="number"||isNaN(lt)?"-":(lt>0?O.delta.increasing.symbol:O.delta.decreasing.symbol)+Se+$e(lt)+ye},_e=function(lt){return lt.delta>=0?O.delta.increasing.color:O.delta.decreasing.color};O._deltaLastValue===void 0&&(O._deltaLastValue=Fe(k[0]));var Ue=oe.select("text.delta");Ue.call(t.font,O.delta.font).call(h.fill,_e({delta:O._deltaLastValue}));function it(){Ue.text(Be(Fe(k[0]),Me)).call(h.fill,_e(k[0])).call(n.convertToTspans,I)}return d(ee)?Ue.transition().duration(ee.duration).ease(ee.easing).tween("text",function(){var lt=g.select(this),$e=Fe(k[0]),qe=O._deltaLastValue,ft=ie(O.delta.valueformat,Me,qe,$e),ct=a(qe,$e);return O._deltaLastValue=$e,function(pt){lt.text(Be(ct(pt),ft)),lt.call(h.fill,_e({delta:ct(pt)}))}}).each("end",function(){it(),Q&&Q()}).each("interrupt",function(){it(),Q&&Q()}):it(),Y=x(Be(Fe(k[0]),Me),O.delta.font,q,I),Ue}var se=O.mode+O.align,ne;if(O._hasDelta&&(ne=j(),se+=O.delta.position+O.delta.font.size+O.delta.font.family+O.delta.valueformat,se+=O.delta.increasing.symbol+O.delta.decreasing.symbol,te=Y),O._hasNumber&&(J(),se+=O.number.font.size+O.number.font.family+O.number.valueformat+O.number.suffix+O.number.prefix,te=Z),O._hasDelta&&O._hasNumber){var le=[(Z.left+Z.right)/2,(Z.top+Z.bottom)/2],pe=[(Y.left+Y.right)/2,(Y.top+Y.bottom)/2],Ae,be,Re=.75*O.delta.font.size;O.delta.position==="left"&&(Ae=_(O,"deltaPos",0,-1*(Z.width*c[O.align]+Y.width*(1-c[O.align])+Re),se,Math.min),be=le[1]-pe[1],te={width:Z.width+Y.width+Re,height:Math.max(Z.height,Y.height),left:Y.left+Ae,right:Z.right,top:Math.min(Z.top,Y.top+be),bottom:Math.max(Z.bottom,Y.bottom+be)}),O.delta.position==="right"&&(Ae=_(O,"deltaPos",0,Z.width*(1-c[O.align])+Y.width*c[O.align]+Re,se,Math.max),be=le[1]-pe[1],te={width:Z.width+Y.width+Re,height:Math.max(Z.height,Y.height),left:Z.left,right:Y.right+Ae,top:Math.min(Z.top,Y.top+be),bottom:Math.max(Z.bottom,Y.bottom+be)}),O.delta.position==="bottom"&&(Ae=null,be=Y.height,te={width:Math.max(Z.width,Y.width),height:Z.height+Y.height,left:Math.min(Z.left,Y.left),right:Math.max(Z.right,Y.right),top:Z.bottom-Z.height,bottom:Z.bottom+Y.height}),O.delta.position==="top"&&(Ae=null,be=Z.top,te={width:Math.max(Z.width,Y.width),height:Z.height+Y.height,left:Math.min(Z.left,Y.left),right:Math.max(Z.right,Y.right),top:Z.bottom-Z.height-Y.height,bottom:Z.bottom}),ne.attr({dx:Ae,dy:be})}(O._hasNumber||O._hasDelta)&&oe.attr("transform",function(){var xe=F.numbersScaler(te);se+=xe[2];var Me=_(O,"numbersScale",1,xe[0],se,Math.min),ye;O._scaleNumbers||(Me=1),O._isAngular?ye=B-Me*te.bottom:ye=B-Me*(te.top+te.bottom)/2,O._numbersTop=Me*te.top+ye;var Se=te[W];W==="center"&&(Se=(te.left+te.right)/2);var Fe=z-Me*Se;return Fe=_(O,"numbersTranslate",0,Fe,se,Math.max),v(Fe,ye)+A(Me)})}function y(I){I.each(function(N){h.stroke(g.select(this),N.line.color)}).each(function(N){h.fill(g.select(this),N.color)}).style("stroke-width",function(N){return N.line.width})}function S(I,N,k){return function(){var F=L(N,k);return function(O){return I.endAngle(F(O))()}}}function T(I,N,k){var F=I._fullLayout,O=C.extendFlat({type:"linear",ticks:"outside",range:k,showline:!0},N),z={type:"linear",_id:"x"+N._id},B={letter:"x",font:F.font,noAutotickangles:!0,noHover:!0,noTickson:!0};function W(q,ee){return C.coerce(O,z,m,q,ee)}return u(O,z,W,B,F),l(O,z,W,B),z}function o(I,N,k){var F=Math.min(N/I.width,k/I.height);return[F,I,N+"x"+k]}function P(I,N){var k=Math.sqrt(I.width/2*(I.width/2)+I.height*I.height),F=N/k;return[F,I,N]}function x(I,N,k,F){var O=document.createElementNS("http://www.w3.org/2000/svg","text"),z=g.select(O);return z.text(I).attr("x",0).attr("y",0).attr("text-anchor",k).attr("data-unformatted",I).call(n.convertToTspans,F).call(t.font,N),t.bBox(z.node())}function _(I,N,k,F,O,z){var B="_cache"+N;I[B]&&I[B].key===O||(I[B]={key:O,value:k});var W=C.aggNums(z,null,[I[B].value,F],2);return I[B].value=W,W}},50048:function(G,U,e){var g=e(49084),L=e(29736).axisHoverFormat,a=e(21776).Ks,C=e(52948),A=e(45464),v=e(92880).extendFlat,p=e(67824).overrideAll;function r(n){return{show:{valType:"boolean",dflt:!1},locations:{valType:"data_array",dflt:[]},fill:{valType:"number",min:0,max:1,dflt:1}}}function t(n){return{show:{valType:"boolean",dflt:!0},fill:{valType:"number",min:0,max:1,dflt:1}}}var s=G.exports=p(v({x:{valType:"data_array"},y:{valType:"data_array"},z:{valType:"data_array"},value:{valType:"data_array"},isomin:{valType:"number"},isomax:{valType:"number"},surface:{show:{valType:"boolean",dflt:!0},count:{valType:"integer",dflt:2,min:1},fill:{valType:"number",min:0,max:1,dflt:1},pattern:{valType:"flaglist",flags:["A","B","C","D","E"],extras:["all","odd","even"],dflt:"all"}},spaceframe:{show:{valType:"boolean",dflt:!1},fill:{valType:"number",min:0,max:1,dflt:.15}},slices:{x:r(),y:r(),z:r()},caps:{x:t(),y:t(),z:t()},text:{valType:"string",dflt:"",arrayOk:!0},hovertext:{valType:"string",dflt:"",arrayOk:!0},hovertemplate:a(),xhoverformat:L("x"),yhoverformat:L("y"),zhoverformat:L("z"),valuehoverformat:L("value",1),showlegend:v({},A.showlegend,{dflt:!1})},g("",{colorAttr:"`value`",showScaleDflt:!0,editTypeOverride:"calc"}),{opacity:C.opacity,lightposition:C.lightposition,lighting:C.lighting,flatshading:C.flatshading,contour:C.contour,hoverinfo:v({},A.hoverinfo)}),"calc","nested");s.flatshading.dflt=!0,s.lighting.facenormalsepsilon.dflt=0,s.x.editType=s.y.editType=s.z.editType=s.value.editType="calc+clearAxisTypes",s.transforms=void 0},62624:function(G,U,e){var g=e(47128),L=e(3832).processGrid,a=e(3832).filter;G.exports=function(A,v){v._len=Math.min(v.x.length,v.y.length,v.z.length,v.value.length),v._x=a(v.x,v._len),v._y=a(v.y,v._len),v._z=a(v.z,v._len),v._value=a(v.value,v._len);var p=L(v);v._gridFill=p.fill,v._Xs=p.Xs,v._Ys=p.Ys,v._Zs=p.Zs,v._len=p.len;for(var r=1/0,t=-1/0,s=0;s<v._len;s++){var n=v._value[s];r=Math.min(r,n),t=Math.max(t,n)}v._minValues=r,v._maxValues=t,v._vMin=v.isomin===void 0||v.isomin===null?r:v.isomin,v._vMax=v.isomax===void 0||v.isomin===null?t:v.isomax,g(A,v,{vals:[v._vMin,v._vMax],containerStr:"",cLetter:"c"})}},31460:function(G,U,e){var g=e(67792).gl_mesh3d,L=e(33040).parseColorScale,a=e(3400).isArrayOrTypedArray,C=e(43080),A=e(8932).extractOpts,v=e(52094),p=function(u,l){for(var m=l.length-1;m>0;m--){var h=Math.min(l[m],l[m-1]),M=Math.max(l[m],l[m-1]);if(M>h&&h<u&&u<=M)return{id:m,distRatio:(M-u)/(M-h)}}return{id:0,distRatio:0}};function r(u,l,m){this.scene=u,this.uid=m,this.mesh=l,this.name="",this.data=null,this.showContour=!1}var t=r.prototype;t.handlePick=function(u){if(u.object===this.mesh){var l=u.data.index,m=this.data._meshX[l],h=this.data._meshY[l],M=this.data._meshZ[l],c=this.data._Ys.length,i=this.data._Zs.length,d=p(m,this.data._Xs).id,b=p(h,this.data._Ys).id,w=p(M,this.data._Zs).id,E=u.index=w+i*b+i*c*d;u.traceCoordinate=[this.data._meshX[E],this.data._meshY[E],this.data._meshZ[E],this.data._value[E]];var y=this.data.hovertext||this.data.text;return a(y)&&y[E]!==void 0?u.textLabel=y[E]:y&&(u.textLabel=y),!0}},t.update=function(u){var l=this.scene,m=l.fullSceneLayout;this.data=n(u);function h(b,w,E,y){return w.map(function(S){return b.d2l(S,0,y)*E})}var M=v(h(m.xaxis,u._meshX,l.dataScale[0],u.xcalendar),h(m.yaxis,u._meshY,l.dataScale[1],u.ycalendar),h(m.zaxis,u._meshZ,l.dataScale[2],u.zcalendar)),c=v(u._meshI,u._meshJ,u._meshK),i={positions:M,cells:c,lightPosition:[u.lightposition.x,u.lightposition.y,u.lightposition.z],ambient:u.lighting.ambient,diffuse:u.lighting.diffuse,specular:u.lighting.specular,roughness:u.lighting.roughness,fresnel:u.lighting.fresnel,vertexNormalsEpsilon:u.lighting.vertexnormalsepsilon,faceNormalsEpsilon:u.lighting.facenormalsepsilon,opacity:u.opacity,contourEnable:u.contour.show,contourColor:C(u.contour.color).slice(0,3),contourWidth:u.contour.width,useFacetNormals:u.flatshading},d=A(u);i.vertexIntensity=u._meshIntensity,i.vertexIntensityBounds=[d.min,d.max],i.colormap=L(u),this.mesh.update(i)},t.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};var s=["xyz","xzy","yxz","yzx","zxy","zyx"];function n(u){u._meshI=[],u._meshJ=[],u._meshK=[];var l=u.surface.show,m=u.spaceframe.show,h=u.surface.fill,M=u.spaceframe.fill,c=!1,i=!1,d=0,b,w,E=u._Xs,y=u._Ys,S=u._Zs,T=E.length,o=y.length,P=S.length,x=s.indexOf(u._gridFill.replace(/-/g,"").replace(/\+/g,"")),_=function(Ze,He,De){switch(x){case 5:return De+P*He+P*o*Ze;case 4:return De+P*Ze+P*T*He;case 3:return He+o*De+o*P*Ze;case 2:return He+o*Ze+o*T*De;case 1:return Ze+T*De+T*P*He;default:return Ze+T*He+T*o*De}},I=u._minValues,N=u._maxValues,k=u._vMin,F=u._vMax,O,z,B,W;function q(Ze,He,De){for(var me=W.length,ge=w;ge<me;ge++)if(Ze===O[ge]&&He===z[ge]&&De===B[ge])return ge;return-1}function ee(){w=b}function Q(){O=[],z=[],B=[],W=[],b=0,ee()}function oe(Ze,He,De,me){return O.push(Ze),z.push(He),B.push(De),W.push(me),b++,b-1}function Z(Ze,He,De){return u._meshI.push(Ze),u._meshJ.push(He),u._meshK.push(De),d++,d-1}function Y(Ze,He,De){for(var me=[],ge=0;ge<Ze.length;ge++)me[ge]=(Ze[ge]+He[ge]+De[ge])/3;return me}function te(Ze,He,De){for(var me=[],ge=0;ge<Ze.length;ge++)me[ge]=Ze[ge]*(1-De)+De*He[ge];return me}var X;function $(Ze){X=Ze}function ie(Ze,He){var De=Ze[0],me=Ze[1],ge=Ze[2],Ee=Y(De,me,ge),Te=Math.sqrt(1-X),ze=te(Ee,De,Te),Xe=te(Ee,me,Te),et=te(Ee,ge,Te),ut=He[0],dt=He[1],Zt=He[2];return{xyzv:[[De,me,Xe],[Xe,ze,De],[me,ge,et],[et,Xe,me],[ge,De,ze],[ze,et,ge]],abc:[[ut,dt,-1],[-1,-1,ut],[dt,Zt,-1],[-1,-1,dt],[Zt,ut,-1],[-1,-1,Zt]]}}function J(Ze,He){return Ze==="all"||Ze===null?!0:Ze.indexOf(He)>-1}function j(Ze,He){return Ze===null?He:Ze}function se(Ze,He,De){ee();var me=[He],ge=[De];if(X>=1)me=[He],ge=[De];else if(X>0){var Ee=ie(He,De);me=Ee.xyzv,ge=Ee.abc}for(var Te=0;Te<me.length;Te++){He=me[Te],De=ge[Te];for(var ze=[],Xe=0;Xe<3;Xe++){var et=He[Xe][0],ut=He[Xe][1],dt=He[Xe][2],Zt=He[Xe][3],jt=De[Xe]>-1?De[Xe]:q(et,ut,dt);jt>-1?ze[Xe]=jt:ze[Xe]=oe(et,ut,dt,j(Ze,Zt))}Z(ze[0],ze[1],ze[2])}}function ne(Ze,He,De){var me=function(ge,Ee,Te){se(Ze,[He[ge],He[Ee],He[Te]],[De[ge],De[Ee],De[Te]])};me(0,1,2),me(2,3,0)}function le(Ze,He,De){var me=function(ge,Ee,Te){se(Ze,[He[ge],He[Ee],He[Te]],[De[ge],De[Ee],De[Te]])};me(0,1,2),me(3,0,1),me(2,3,0),me(1,2,3)}function pe(Ze,He,De,me){var ge=Ze[3];ge<De&&(ge=De),ge>me&&(ge=me);for(var Ee=(Ze[3]-ge)/(Ze[3]-He[3]+1e-9),Te=[],ze=0;ze<4;ze++)Te[ze]=(1-Ee)*Ze[ze]+Ee*He[ze];return Te}function Ae(Ze,He,De){return Ze>=He&&Ze<=De}function be(Ze){var He=.001*(F-k);return Ze>=k-He&&Ze<=F+He}function Re(Ze){for(var He=[],De=0;De<4;De++){var me=Ze[De];He.push([u._x[me],u._y[me],u._z[me],u._value[me]])}return He}var xe=3;function Me(Ze,He,De,me,ge,Ee){Ee||(Ee=1),De=[-1,-1,-1];var Te=!1,ze=[Ae(He[0][3],me,ge),Ae(He[1][3],me,ge),Ae(He[2][3],me,ge)];if(!ze[0]&&!ze[1]&&!ze[2])return!1;var Xe=function(ut,dt,Zt){return be(dt[0][3])&&be(dt[1][3])&&be(dt[2][3])?(se(ut,dt,Zt),!0):Ee<xe?Me(ut,dt,Zt,k,F,++Ee):!1};if(ze[0]&&ze[1]&&ze[2])return Xe(Ze,He,De)||Te;var et=!1;return[[0,1,2],[2,0,1],[1,2,0]].forEach(function(ut){if(ze[ut[0]]&&ze[ut[1]]&&!ze[ut[2]]){var dt=He[ut[0]],Zt=He[ut[1]],jt=He[ut[2]],Tt=pe(jt,dt,me,ge),kt=pe(jt,Zt,me,ge);Te=Xe(Ze,[kt,Tt,dt],[-1,-1,De[ut[0]]])||Te,Te=Xe(Ze,[dt,Zt,kt],[De[ut[0]],De[ut[1]],-1])||Te,et=!0}}),et||[[0,1,2],[1,2,0],[2,0,1]].forEach(function(ut){if(ze[ut[0]]&&!ze[ut[1]]&&!ze[ut[2]]){var dt=He[ut[0]],Zt=He[ut[1]],jt=He[ut[2]],Tt=pe(Zt,dt,me,ge),kt=pe(jt,dt,me,ge);Te=Xe(Ze,[kt,Tt,dt],[-1,-1,De[ut[0]]])||Te,et=!0}}),Te}function ye(Ze,He,De,me){var ge=!1,Ee=Re(He),Te=[Ae(Ee[0][3],De,me),Ae(Ee[1][3],De,me),Ae(Ee[2][3],De,me),Ae(Ee[3][3],De,me)];if(!Te[0]&&!Te[1]&&!Te[2]&&!Te[3])return ge;if(Te[0]&&Te[1]&&Te[2]&&Te[3])return i&&(ge=le(Ze,Ee,He)||ge),ge;var ze=!1;return[[0,1,2,3],[3,0,1,2],[2,3,0,1],[1,2,3,0]].forEach(function(Xe){if(Te[Xe[0]]&&Te[Xe[1]]&&Te[Xe[2]]&&!Te[Xe[3]]){var et=Ee[Xe[0]],ut=Ee[Xe[1]],dt=Ee[Xe[2]],Zt=Ee[Xe[3]];if(i)ge=se(Ze,[et,ut,dt],[He[Xe[0]],He[Xe[1]],He[Xe[2]]])||ge;else{var jt=pe(Zt,et,De,me),Tt=pe(Zt,ut,De,me),kt=pe(Zt,dt,De,me);ge=se(null,[jt,Tt,kt],[-1,-1,-1])||ge}ze=!0}}),ze||([[0,1,2,3],[1,2,3,0],[2,3,0,1],[3,0,1,2],[0,2,3,1],[1,3,2,0]].forEach(function(Xe){if(Te[Xe[0]]&&Te[Xe[1]]&&!Te[Xe[2]]&&!Te[Xe[3]]){var et=Ee[Xe[0]],ut=Ee[Xe[1]],dt=Ee[Xe[2]],Zt=Ee[Xe[3]],jt=pe(dt,et,De,me),Tt=pe(dt,ut,De,me),kt=pe(Zt,ut,De,me),Qt=pe(Zt,et,De,me);i?(ge=se(Ze,[et,Qt,jt],[He[Xe[0]],-1,-1])||ge,ge=se(Ze,[ut,Tt,kt],[He[Xe[1]],-1,-1])||ge):ge=ne(null,[jt,Tt,kt,Qt],[-1,-1,-1,-1])||ge,ze=!0}}),ze)||[[0,1,2,3],[1,2,3,0],[2,3,0,1],[3,0,1,2]].forEach(function(Xe){if(Te[Xe[0]]&&!Te[Xe[1]]&&!Te[Xe[2]]&&!Te[Xe[3]]){var et=Ee[Xe[0]],ut=Ee[Xe[1]],dt=Ee[Xe[2]],Zt=Ee[Xe[3]],jt=pe(ut,et,De,me),Tt=pe(dt,et,De,me),kt=pe(Zt,et,De,me);i?(ge=se(Ze,[et,jt,Tt],[He[Xe[0]],-1,-1])||ge,ge=se(Ze,[et,Tt,kt],[He[Xe[0]],-1,-1])||ge,ge=se(Ze,[et,kt,jt],[He[Xe[0]],-1,-1])||ge):ge=se(null,[jt,Tt,kt],[-1,-1,-1])||ge,ze=!0}}),ge}function Se(Ze,He,De,me,ge,Ee,Te,ze,Xe,et,ut){var dt=!1;return c&&(J(Ze,"A")&&(dt=ye(null,[He,De,me,Ee],et,ut)||dt),J(Ze,"B")&&(dt=ye(null,[De,me,ge,Xe],et,ut)||dt),J(Ze,"C")&&(dt=ye(null,[De,Ee,Te,Xe],et,ut)||dt),J(Ze,"D")&&(dt=ye(null,[me,Ee,ze,Xe],et,ut)||dt),J(Ze,"E")&&(dt=ye(null,[De,me,Ee,Xe],et,ut)||dt)),i&&(dt=ye(Ze,[De,me,Ee,Xe],et,ut)||dt),dt}function Fe(Ze,He,De,me,ge,Ee,Te,ze){return[ze[0]===!0?!0:Me(Ze,Re([He,De,me]),[He,De,me],Ee,Te),ze[1]===!0?!0:Me(Ze,Re([me,ge,He]),[me,ge,He],Ee,Te)]}function Be(Ze,He,De,me,ge,Ee,Te,ze,Xe){return ze?Fe(Ze,He,De,ge,me,Ee,Te,Xe):Fe(Ze,De,ge,me,He,Ee,Te,Xe)}function _e(Ze,He,De,me,ge,Ee,Te){var ze=!1,Xe,et,ut,dt,Zt=function(){ze=Me(Ze,[Xe,et,ut],[-1,-1,-1],ge,Ee)||ze,ze=Me(Ze,[ut,dt,Xe],[-1,-1,-1],ge,Ee)||ze},jt=Te[0],Tt=Te[1],kt=Te[2];return jt&&(Xe=te(Re([_(He,De-0,me-0)])[0],Re([_(He-1,De-0,me-0)])[0],jt),et=te(Re([_(He,De-0,me-1)])[0],Re([_(He-1,De-0,me-1)])[0],jt),ut=te(Re([_(He,De-1,me-1)])[0],Re([_(He-1,De-1,me-1)])[0],jt),dt=te(Re([_(He,De-1,me-0)])[0],Re([_(He-1,De-1,me-0)])[0],jt),Zt()),Tt&&(Xe=te(Re([_(He-0,De,me-0)])[0],Re([_(He-0,De-1,me-0)])[0],Tt),et=te(Re([_(He-0,De,me-1)])[0],Re([_(He-0,De-1,me-1)])[0],Tt),ut=te(Re([_(He-1,De,me-1)])[0],Re([_(He-1,De-1,me-1)])[0],Tt),dt=te(Re([_(He-1,De,me-0)])[0],Re([_(He-1,De-1,me-0)])[0],Tt),Zt()),kt&&(Xe=te(Re([_(He-0,De-0,me)])[0],Re([_(He-0,De-0,me-1)])[0],kt),et=te(Re([_(He-0,De-1,me)])[0],Re([_(He-0,De-1,me-1)])[0],kt),ut=te(Re([_(He-1,De-1,me)])[0],Re([_(He-1,De-1,me-1)])[0],kt),dt=te(Re([_(He-1,De-0,me)])[0],Re([_(He-1,De-0,me-1)])[0],kt),Zt()),ze}function Ue(Ze,He,De,me,ge,Ee,Te,ze,Xe,et,ut,dt){var Zt=Ze;return dt?(c&&Ze==="even"&&(Zt=null),Se(Zt,He,De,me,ge,Ee,Te,ze,Xe,et,ut)):(c&&Ze==="odd"&&(Zt=null),Se(Zt,Xe,ze,Te,Ee,ge,me,De,He,et,ut))}function it(Ze,He,De,me,ge){for(var Ee=[],Te=0,ze=0;ze<He.length;ze++)for(var Xe=He[ze],et=1;et<P;et++)for(var ut=1;ut<o;ut++)Ee.push(Be(Ze,_(Xe,ut-1,et-1),_(Xe,ut-1,et),_(Xe,ut,et-1),_(Xe,ut,et),De,me,(Xe+ut+et)%2,ge&&ge[Te]?ge[Te]:[])),Te++;return Ee}function lt(Ze,He,De,me,ge){for(var Ee=[],Te=0,ze=0;ze<He.length;ze++)for(var Xe=He[ze],et=1;et<T;et++)for(var ut=1;ut<P;ut++)Ee.push(Be(Ze,_(et-1,Xe,ut-1),_(et,Xe,ut-1),_(et-1,Xe,ut),_(et,Xe,ut),De,me,(et+Xe+ut)%2,ge&&ge[Te]?ge[Te]:[])),Te++;return Ee}function $e(Ze,He,De,me,ge){for(var Ee=[],Te=0,ze=0;ze<He.length;ze++)for(var Xe=He[ze],et=1;et<o;et++)for(var ut=1;ut<T;ut++)Ee.push(Be(Ze,_(ut-1,et-1,Xe),_(ut-1,et,Xe),_(ut,et-1,Xe),_(ut,et,Xe),De,me,(ut+et+Xe)%2,ge&&ge[Te]?ge[Te]:[])),Te++;return Ee}function qe(Ze,He,De){for(var me=1;me<P;me++)for(var ge=1;ge<o;ge++)for(var Ee=1;Ee<T;Ee++)Ue(Ze,_(Ee-1,ge-1,me-1),_(Ee-1,ge-1,me),_(Ee-1,ge,me-1),_(Ee-1,ge,me),_(Ee,ge-1,me-1),_(Ee,ge-1,me),_(Ee,ge,me-1),_(Ee,ge,me),He,De,(Ee+ge+me)%2)}function ft(Ze,He,De){i=!0,qe(Ze,He,De),i=!1}function ct(Ze,He,De){c=!0,qe(Ze,He,De),c=!1}function pt(Ze,He,De,me,ge,Ee){for(var Te=[],ze=0,Xe=0;Xe<He.length;Xe++)for(var et=He[Xe],ut=1;ut<P;ut++)for(var dt=1;dt<o;dt++)Te.push(_e(Ze,et,dt,ut,De,me,ge[Xe],Ee&&Ee[ze]?Ee[ze]:[])),ze++;return Te}function yt(Ze,He,De,me,ge,Ee){for(var Te=[],ze=0,Xe=0;Xe<He.length;Xe++)for(var et=He[Xe],ut=1;ut<T;ut++)for(var dt=1;dt<P;dt++)Te.push(_e(Ze,ut,et,dt,De,me,ge[Xe],Ee&&Ee[ze]?Ee[ze]:[])),ze++;return Te}function Et(Ze,He,De,me,ge,Ee){for(var Te=[],ze=0,Xe=0;Xe<He.length;Xe++)for(var et=He[Xe],ut=1;ut<o;ut++)for(var dt=1;dt<T;dt++)Te.push(_e(Ze,dt,ut,et,De,me,ge[Xe],Ee&&Ee[ze]?Ee[ze]:[])),ze++;return Te}function tt(Ze,He){for(var De=[],me=Ze;me<He;me++)De.push(me);return De}function Ie(){for(var Ze=0;Ze<T;Ze++)for(var He=0;He<o;He++)for(var De=0;De<P;De++){var me=_(Ze,He,De);oe(u._x[me],u._y[me],u._z[me],u._value[me])}}function We(){Q(),Ie();var Ze=null;if(m&&M&&($(M),ft(Ze,k,F)),l&&h){$(h);for(var He=u.surface.pattern,De=u.surface.count,me=0;me<De;me++){var ge=De===1?.5:me/(De-1),Ee=(1-ge)*k+ge*F,Te=Math.abs(Ee-I),ze=Math.abs(Ee-N),Xe=Te>ze?[I,Ee]:[Ee,N];ct(He,Xe[0],Xe[1])}}var et=[[Math.min(k,N),Math.max(k,N)],[Math.min(I,F),Math.max(I,F)]];["x","y","z"].forEach(function(ut){for(var dt=[],Zt=0;Zt<et.length;Zt++){var jt=0,Tt=et[Zt][0],kt=et[Zt][1],Qt=u.slices[ut];if(Qt.show&&Qt.fill){$(Qt.fill);var wr=[],xt=[],At=[];if(Qt.locations.length)for(var Wt=0;Wt<Qt.locations.length;Wt++){var er=p(Qt.locations[Wt],ut==="x"?E:ut==="y"?y:S);er.distRatio===0?wr.push(er.id):er.id>0&&(xt.push(er.id),ut==="x"?At.push([er.distRatio,0,0]):ut==="y"?At.push([0,er.distRatio,0]):At.push([0,0,er.distRatio]))}else ut==="x"?wr=tt(1,T-1):ut==="y"?wr=tt(1,o-1):wr=tt(1,P-1);xt.length>0&&(ut==="x"?dt[jt]=pt(Ze,xt,Tt,kt,At,dt[jt]):ut==="y"?dt[jt]=yt(Ze,xt,Tt,kt,At,dt[jt]):dt[jt]=Et(Ze,xt,Tt,kt,At,dt[jt]),jt++),wr.length>0&&(ut==="x"?dt[jt]=it(Ze,wr,Tt,kt,dt[jt]):ut==="y"?dt[jt]=lt(Ze,wr,Tt,kt,dt[jt]):dt[jt]=$e(Ze,wr,Tt,kt,dt[jt]),jt++)}var $t=u.caps[ut];$t.show&&$t.fill&&($($t.fill),ut==="x"?dt[jt]=it(Ze,[0,T-1],Tt,kt,dt[jt]):ut==="y"?dt[jt]=lt(Ze,[0,o-1],Tt,kt,dt[jt]):dt[jt]=$e(Ze,[0,P-1],Tt,kt,dt[jt]),jt++)}}),d===0&&Q(),u._meshX=O,u._meshY=z,u._meshZ=B,u._meshIntensity=W,u._Xs=E,u._Ys=y,u._Zs=S}return We(),u}function f(u,l){var m=u.glplot.gl,h=g({gl:m}),M=new r(u,h,l.uid);return h._trace=M,M.update(l),u.glplot.add(h),M}G.exports={findNearestOnAxis:p,generateIsoMeshes:n,createIsosurfaceTrace:f}},70548:function(G,U,e){var g=e(3400),L=e(24040),a=e(50048),C=e(27260);function A(p,r,t,s){function n(f,u){return g.coerce(p,r,a,f,u)}v(p,r,t,s,n)}function v(p,r,t,s,n){var f=n("isomin"),u=n("isomax");u!=null&&f!==void 0&&f!==null&&f>u&&(r.isomin=null,r.isomax=null);var l=n("x"),m=n("y"),h=n("z"),M=n("value");if(!l||!l.length||!m||!m.length||!h||!h.length||!M||!M.length){r.visible=!1;return}var c=L.getComponentMethod("calendars","handleTraceDefaults");c(p,r,["x","y","z"],s),n("valuehoverformat"),["x","y","z"].forEach(function(w){n(w+"hoverformat");var E="caps."+w,y=n(E+".show");y&&n(E+".fill");var S="slices."+w,T=n(S+".show");T&&(n(S+".fill"),n(S+".locations"))});var i=n("spaceframe.show");i&&n("spaceframe.fill");var d=n("surface.show");d&&(n("surface.count"),n("surface.fill"),n("surface.pattern"));var b=n("contour.show");b&&(n("contour.color"),n("contour.width")),["text","hovertext","hovertemplate","lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lighting.vertexnormalsepsilon","lighting.facenormalsepsilon","lightposition.x","lightposition.y","lightposition.z","flatshading","opacity"].forEach(function(w){n(w)}),C(p,r,s,n,{prefix:"",cLetter:"c"}),r._length=null}G.exports={supplyDefaults:A,supplyIsoDefaults:v}},6296:function(G,U,e){G.exports={attributes:e(50048),supplyDefaults:e(70548).supplyDefaults,calc:e(62624),colorbar:{min:"cmin",max:"cmax"},plot:e(31460).createIsosurfaceTrace,moduleType:"trace",name:"isosurface",basePlotModule:e(12536),categories:["gl3d","showLegend"],meta:{}}},52948:function(G,U,e){var g=e(49084),L=e(29736).axisHoverFormat,a=e(21776).Ks,C=e(16716),A=e(45464),v=e(92880).extendFlat;G.exports=v({x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},i:{valType:"data_array",editType:"calc"},j:{valType:"data_array",editType:"calc"},k:{valType:"data_array",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertemplate:a({editType:"calc"}),xhoverformat:L("x"),yhoverformat:L("y"),zhoverformat:L("z"),delaunayaxis:{valType:"enumerated",values:["x","y","z"],dflt:"z",editType:"calc"},alphahull:{valType:"number",dflt:-1,editType:"calc"},intensity:{valType:"data_array",editType:"calc"},intensitymode:{valType:"enumerated",values:["vertex","cell"],dflt:"vertex",editType:"calc"},color:{valType:"color",editType:"calc"},vertexcolor:{valType:"data_array",editType:"calc"},facecolor:{valType:"data_array",editType:"calc"},transforms:void 0},g("",{colorAttr:"`intensity`",showScaleDflt:!0,editTypeOverride:"calc"}),{opacity:C.opacity,flatshading:{valType:"boolean",dflt:!1,editType:"calc"},contour:{show:v({},C.contours.x.show,{}),color:C.contours.x.color,width:C.contours.x.width,editType:"calc"},lightposition:{x:v({},C.lightposition.x,{dflt:1e5}),y:v({},C.lightposition.y,{dflt:1e5}),z:v({},C.lightposition.z,{dflt:0}),editType:"calc"},lighting:v({vertexnormalsepsilon:{valType:"number",min:0,max:1,dflt:1e-12,editType:"calc"},facenormalsepsilon:{valType:"number",min:0,max:1,dflt:1e-6,editType:"calc"},editType:"calc"},C.lighting),hoverinfo:v({},A.hoverinfo,{editType:"calc"}),showlegend:v({},A.showlegend,{dflt:!1})})},1876:function(G,U,e){var g=e(47128);G.exports=function(a,C){C.intensity&&g(a,C,{vals:C.intensity,containerStr:"",cLetter:"c"})}},576:function(G,U,e){var g=e(67792).gl_mesh3d,L=e(67792).delaunay_triangulate,a=e(67792).alpha_shape,C=e(67792).convex_hull,A=e(33040).parseColorScale,v=e(3400).isArrayOrTypedArray,p=e(43080),r=e(8932).extractOpts,t=e(52094);function s(c,i,d){this.scene=c,this.uid=d,this.mesh=i,this.name="",this.color="#fff",this.data=null,this.showContour=!1}var n=s.prototype;n.handlePick=function(c){if(c.object===this.mesh){var i=c.index=c.data.index;c.data._cellCenter?c.traceCoordinate=c.data.dataCoordinate:c.traceCoordinate=[this.data.x[i],this.data.y[i],this.data.z[i]];var d=this.data.hovertext||this.data.text;return v(d)&&d[i]!==void 0?c.textLabel=d[i]:d&&(c.textLabel=d),!0}};function f(c){for(var i=[],d=c.length,b=0;b<d;b++)i[b]=p(c[b]);return i}function u(c,i,d,b){for(var w=[],E=i.length,y=0;y<E;y++)w[y]=c.d2l(i[y],0,b)*d;return w}function l(c){for(var i=[],d=c.length,b=0;b<d;b++)i[b]=Math.round(c[b]);return i}function m(c,i){for(var d=["x","y","z"].indexOf(c),b=[],w=i.length,E=0;E<w;E++)b[E]=[i[E][(d+1)%3],i[E][(d+2)%3]];return L(b)}function h(c,i){for(var d=c.length,b=0;b<d;b++)if(c[b]<=-.5||c[b]>=i-.5)return!1;return!0}n.update=function(c){var i=this.scene,d=i.fullSceneLayout;this.data=c;var b=c.x.length,w=t(u(d.xaxis,c.x,i.dataScale[0],c.xcalendar),u(d.yaxis,c.y,i.dataScale[1],c.ycalendar),u(d.zaxis,c.z,i.dataScale[2],c.zcalendar)),E;if(c.i&&c.j&&c.k){if(c.i.length!==c.j.length||c.j.length!==c.k.length||!h(c.i,b)||!h(c.j,b)||!h(c.k,b))return;E=t(l(c.i),l(c.j),l(c.k))}else c.alphahull===0?E=C(w):c.alphahull>0?E=a(c.alphahull,w):E=m(c.delaunayaxis,w);var y={positions:w,cells:E,lightPosition:[c.lightposition.x,c.lightposition.y,c.lightposition.z],ambient:c.lighting.ambient,diffuse:c.lighting.diffuse,specular:c.lighting.specular,roughness:c.lighting.roughness,fresnel:c.lighting.fresnel,vertexNormalsEpsilon:c.lighting.vertexnormalsepsilon,faceNormalsEpsilon:c.lighting.facenormalsepsilon,opacity:c.opacity,contourEnable:c.contour.show,contourColor:p(c.contour.color).slice(0,3),contourWidth:c.contour.width,useFacetNormals:c.flatshading};if(c.intensity){var S=r(c);this.color="#fff";var T=c.intensitymode;y[T+"Intensity"]=c.intensity,y[T+"IntensityBounds"]=[S.min,S.max],y.colormap=A(c)}else c.vertexcolor?(this.color=c.vertexcolor[0],y.vertexColors=f(c.vertexcolor)):c.facecolor?(this.color=c.facecolor[0],y.cellColors=f(c.facecolor)):(this.color=c.color,y.meshColor=p(c.color));this.mesh.update(y)},n.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function M(c,i){var d=c.glplot.gl,b=g({gl:d}),w=new s(c,b,i.uid);return b._trace=w,w.update(i),c.glplot.add(b),w}G.exports=M},74212:function(G,U,e){var g=e(24040),L=e(3400),a=e(27260),C=e(52948);G.exports=function(v,p,r,t){function s(m,h){return L.coerce(v,p,C,m,h)}function n(m){var h=m.map(function(M){var c=s(M);return c&&L.isArrayOrTypedArray(c)?c:null});return h.every(function(M){return M&&M.length===h[0].length})&&h}var f=n(["x","y","z"]);if(!f){p.visible=!1;return}if(n(["i","j","k"]),p.i&&(!p.j||!p.k)||p.j&&(!p.k||!p.i)||p.k&&(!p.i||!p.j)){p.visible=!1;return}var u=g.getComponentMethod("calendars","handleTraceDefaults");u(v,p,["x","y","z"],t),["lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lighting.vertexnormalsepsilon","lighting.facenormalsepsilon","lightposition.x","lightposition.y","lightposition.z","flatshading","alphahull","delaunayaxis","opacity"].forEach(function(m){s(m)});var l=s("contour.show");l&&(s("contour.color"),s("contour.width")),"intensity"in v?(s("intensity"),s("intensitymode"),a(v,p,t,s,{prefix:"",cLetter:"c"})):(p.showscale=!1,"facecolor"in v?s("facecolor"):"vertexcolor"in v?s("vertexcolor"):s("color",r)),s("text"),s("hovertext"),s("hovertemplate"),s("xhoverformat"),s("yhoverformat"),s("zhoverformat"),p._length=null}},7404:function(G,U,e){G.exports={attributes:e(52948),supplyDefaults:e(74212),calc:e(1876),colorbar:{min:"cmin",max:"cmax"},plot:e(576),moduleType:"trace",name:"mesh3d",basePlotModule:e(12536),categories:["gl3d","showLegend"],meta:{}}},20279:function(G,U,e){var g=e(3400).extendFlat,L=e(52904),a=e(29736).axisHoverFormat,C=e(98192).u,A=e(55756),v=e(48164),p=v.INCREASING.COLOR,r=v.DECREASING.COLOR,t=L.line;function s(n){return{line:{color:g({},t.color,{dflt:n}),width:t.width,dash:C,editType:"style"},editType:"style"}}G.exports={xperiod:L.xperiod,xperiod0:L.xperiod0,xperiodalignment:L.xperiodalignment,xhoverformat:a("x"),yhoverformat:a("y"),x:{valType:"data_array",editType:"calc+clearAxisTypes"},open:{valType:"data_array",editType:"calc"},high:{valType:"data_array",editType:"calc"},low:{valType:"data_array",editType:"calc"},close:{valType:"data_array",editType:"calc"},line:{width:g({},t.width,{}),dash:g({},C,{}),editType:"style"},increasing:s(p),decreasing:s(r),text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},tickwidth:{valType:"number",min:0,max:.5,dflt:.3,editType:"calc"},hoverlabel:g({},A.hoverlabel,{split:{valType:"boolean",dflt:!1,editType:"style"}})}},42812:function(G,U,e){var g=e(3400),L=g._,a=e(54460),C=e(1220),A=e(39032).BADNUM;function v(s,n){var f=a.getFromId(s,n.xaxis),u=a.getFromId(s,n.yaxis),l=t(s,f,n),m=n._minDiff;n._minDiff=null;var h=n._origX;n._origX=null;var M=n._xcalc;n._xcalc=null;var c=r(s,n,h,M,u,p);return n._extremes[f._id]=a.findExtremes(f,M,{vpad:m/2}),c.length?(g.extendFlat(c[0].t,{wHover:m/2,tickLen:l}),c):[{t:{empty:!0}}]}function p(s,n,f,u){return{o:s,h:n,l:f,c:u}}function r(s,n,f,u,l,m){for(var h=l.makeCalcdata(n,"open"),M=l.makeCalcdata(n,"high"),c=l.makeCalcdata(n,"low"),i=l.makeCalcdata(n,"close"),d=g.isArrayOrTypedArray(n.text),b=g.isArrayOrTypedArray(n.hovertext),w=!0,E=null,y=!!n.xperiodalignment,S=[],T=0;T<u.length;T++){var o=u[T],P=h[T],x=M[T],_=c[T],I=i[T];if(o!==A&&P!==A&&x!==A&&_!==A&&I!==A){I===P?E!==null&&I!==E&&(w=I>E):w=I>P,E=I;var N=m(P,x,_,I);N.pos=o,N.yc=(P+I)/2,N.i=T,N.dir=w?"increasing":"decreasing",N.x=N.pos,N.y=[_,x],y&&(N.orig_p=f[T]),d&&(N.tx=n.text[T]),b&&(N.htx=n.hovertext[T]),S.push(N)}else S.push({pos:o,empty:!0})}return n._extremes[l._id]=a.findExtremes(l,g.concat(c,M),{padded:!0}),S.length&&(S[0].t={labels:{open:L(s,"open:")+" ",high:L(s,"high:")+" ",low:L(s,"low:")+" ",close:L(s,"close:")+" "}}),S}function t(s,n,f){var u=f._minDiff;if(!u){var l=s._fullData,m=[];u=1/0;var h;for(h=0;h<l.length;h++){var M=l[h];if(M.type==="ohlc"&&M.visible===!0&&M.xaxis===n._id){m.push(M);var c=n.makeCalcdata(M,"x");M._origX=c;var i=C(f,n,"x",c).vals;M._xcalc=i;var d=g.distinctVals(i).minDiff;d&&isFinite(d)&&(u=Math.min(u,d))}}for(u===1/0&&(u=1),h=0;h<m.length;h++)m[h]._minDiff=u}return u*f.tickwidth}G.exports={calc:v,calcCommon:r}},23860:function(G,U,e){var g=e(3400),L=e(52744),a=e(31147),C=e(20279);G.exports=function(p,r,t,s){function n(u,l){return g.coerce(p,r,C,u,l)}var f=L(p,r,n,s);if(!f){r.visible=!1;return}a(p,r,s,n,{x:!0}),n("xhoverformat"),n("yhoverformat"),n("line.width"),n("line.dash"),A(p,r,n,"increasing"),A(p,r,n,"decreasing"),n("text"),n("hovertext"),n("tickwidth"),s._requestRangeslider[r.xaxis]=!0};function A(v,p,r,t){r(t+".line.color"),r(t+".line.width",p.line.width),r(t+".line.dash",p.line.dash)}},18720:function(G,U,e){var g=e(54460),L=e(3400),a=e(93024),C=e(76308),A=e(3400).fillText,v=e(48164),p={increasing:v.INCREASING.SYMBOL,decreasing:v.DECREASING.SYMBOL};function r(f,u,l,m){var h=f.cd,M=h[0].trace;return M.hoverlabel.split?s(f,u,l,m):n(f,u,l,m)}function t(f,u,l,m){var h=f.cd,M=f.xa,c=h[0].trace,i=h[0].t,d=c.type,b=d==="ohlc"?"l":"min",w=d==="ohlc"?"h":"max",E,y,S=i.bPos||0,T=function(W){return W.pos+S-u},o=i.bdPos||i.tickLen,P=i.wHover,x=Math.min(1,o/Math.abs(M.r2c(M.range[1])-M.r2c(M.range[0])));E=f.maxHoverDistance-x,y=f.maxSpikeDistance-x;function _(W){var q=T(W);return a.inbox(q-P,q+P,E)}function I(W){var q=W[b],ee=W[w];return q===ee||a.inbox(q-l,ee-l,E)}function N(W){return(_(W)+I(W))/2}var k=a.getDistanceFunction(m,_,I,N);if(a.getClosest(h,k,f),f.index===!1)return null;var F=h[f.index];if(F.empty)return null;var O=F.dir,z=c[O],B=z.line.color;return C.opacity(B)&&z.line.width?f.color=B:f.color=z.fillcolor,f.x0=M.c2p(F.pos+S-o,!0),f.x1=M.c2p(F.pos+S+o,!0),f.xLabelVal=F.orig_p!==void 0?F.orig_p:F.pos,f.spikeDistance=N(F)*y/E,f.xSpike=M.c2p(F.pos,!0),f}function s(f,u,l,m){var h=f.cd,M=f.ya,c=h[0].trace,i=h[0].t,d=[],b=t(f,u,l,m);if(!b)return[];var w=b.index,E=h[w],y=E.hi||c.hoverinfo,S=y.split("+"),T=y==="all",o=T||S.indexOf("y")!==-1;if(!o)return[];for(var P=["high","open","close","low"],x={},_=0;_<P.length;_++){var I=P[_],N=c[I][b.index],k=M.c2p(N,!0),F;N in x?(F=x[N],F.yLabel+="<br>"+i.labels[I]+g.hoverLabelText(M,N,c.yhoverformat)):(F=L.extendFlat({},b),F.y0=F.y1=k,F.yLabelVal=N,F.yLabel=i.labels[I]+g.hoverLabelText(M,N,c.yhoverformat),F.name="",d.push(F),x[N]=F)}return d}function n(f,u,l,m){var h=f.cd,M=f.ya,c=h[0].trace,i=h[0].t,d=t(f,u,l,m);if(!d)return[];var b=d.index,w=h[b],E=d.index=w.i,y=w.dir;function S(N){return i.labels[N]+g.hoverLabelText(M,c[N][E],c.yhoverformat)}var T=w.hi||c.hoverinfo,o=T.split("+"),P=T==="all",x=P||o.indexOf("y")!==-1,_=P||o.indexOf("text")!==-1,I=x?[S("open"),S("high"),S("low"),S("close")+"  "+p[y]]:[];return _&&A(w,c,I),d.extraText=I.join("<br>"),d.y0=d.y1=M.c2p(w.yc,!0),[d]}G.exports={hoverPoints:r,hoverSplit:s,hoverOnPoints:n}},65456:function(G,U,e){G.exports={moduleType:"trace",name:"ohlc",basePlotModule:e(57952),categories:["cartesian","svg","showLegend"],meta:{},attributes:e(20279),supplyDefaults:e(23860),calc:e(42812).calc,plot:e(36664),style:e(14008),hoverPoints:e(18720).hoverPoints,selectPoints:e(97384)}},52744:function(G,U,e){var g=e(24040),L=e(3400);G.exports=function(C,A,v,p){var r=v("x"),t=v("open"),s=v("high"),n=v("low"),f=v("close");v("hoverlabel.split");var u=g.getComponentMethod("calendars","handleTraceDefaults");if(u(C,A,["x"],p),!!(t&&s&&n&&f)){var l=Math.min(t.length,s.length,n.length,f.length);return r&&(l=Math.min(l,L.minRowLength(r))),A._length=l,l}}},36664:function(G,U,e){var g=e(33428),L=e(3400);G.exports=function(C,A,v,p){var r=A.yaxis,t=A.xaxis,s=!!t.rangebreaks;L.makeTraceGroups(p,v,"trace ohlc").each(function(n){var f=g.select(this),u=n[0],l=u.t,m=u.trace;if(m.visible!==!0||l.empty){f.remove();return}var h=l.tickLen,M=f.selectAll("path").data(L.identity);M.enter().append("path"),M.exit().remove(),M.attr("d",function(c){if(c.empty)return"M0,0Z";var i=t.c2p(c.pos-h,!0),d=t.c2p(c.pos+h,!0),b=s?(i+d)/2:t.c2p(c.pos,!0),w=r.c2p(c.o,!0),E=r.c2p(c.h,!0),y=r.c2p(c.l,!0),S=r.c2p(c.c,!0);return"M"+i+","+w+"H"+b+"M"+b+","+E+"V"+y+"M"+d+","+S+"H"+b})})}},97384:function(G){G.exports=function(e,g){var L=e.cd,a=e.xaxis,C=e.yaxis,A=[],v,p=L[0].t.bPos||0;if(g===!1)for(v=0;v<L.length;v++)L[v].selected=0;else for(v=0;v<L.length;v++){var r=L[v];g.contains([a.c2p(r.pos+p),C.c2p(r.yc)],null,r.i,e)?(A.push({pointNumber:r.i,x:a.c2d(r.pos),y:C.c2d(r.yc)}),r.selected=1):r.selected=0}return A}},14008:function(G,U,e){var g=e(33428),L=e(43616),a=e(76308);G.exports=function(A,v,p){var r=p||g.select(A).selectAll("g.ohlclayer").selectAll("g.trace");r.style("opacity",function(t){return t[0].trace.opacity}),r.each(function(t){var s=t[0].trace;g.select(this).selectAll("path").each(function(n){if(!n.empty){var f=s[n.dir].line;g.select(this).style("fill","none").call(a.stroke,f.color).call(L.dashLine,f.dash,f.width).style("opacity",s.selectedpoints&&!n.selected?.3:1)}})})}},72140:function(G,U,e){var g=e(92880).extendFlat,L=e(45464),a=e(25376),C=e(49084),A=e(21776).Ks,v=e(86968).u,p=g({editType:"calc"},C("line",{editTypeOverride:"calc"}),{shape:{valType:"enumerated",values:["linear","hspline"],dflt:"linear",editType:"plot"},hovertemplate:A({editType:"plot",arrayOk:!1},{keys:["count","probability"]})});G.exports={domain:v({name:"parcats",trace:!0,editType:"calc"}),hoverinfo:g({},L.hoverinfo,{flags:["count","probability"],editType:"plot",arrayOk:!1}),hoveron:{valType:"enumerated",values:["category","color","dimension"],dflt:"category",editType:"plot"},hovertemplate:A({editType:"plot",arrayOk:!1},{keys:["count","probability","category","categorycount","colorcount","bandcolorcount"]}),arrangement:{valType:"enumerated",values:["perpendicular","freeform","fixed"],dflt:"perpendicular",editType:"plot"},bundlecolors:{valType:"boolean",dflt:!0,editType:"plot"},sortpaths:{valType:"enumerated",values:["forward","backward"],dflt:"forward",editType:"plot"},labelfont:a({editType:"calc"}),tickfont:a({editType:"calc"}),dimensions:{_isLinkedToArray:"dimension",label:{valType:"string",editType:"calc"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},ticktext:{valType:"data_array",editType:"calc"},values:{valType:"data_array",dflt:[],editType:"calc"},displayindex:{valType:"integer",editType:"calc"},editType:"calc",visible:{valType:"boolean",dflt:!0,editType:"calc"}},line:p,counts:{valType:"number",min:0,dflt:1,arrayOk:!0,editType:"calc"},customdata:void 0,hoverlabel:void 0,ids:void 0,legend:void 0,legendgroup:void 0,legendrank:void 0,opacity:void 0,selectedpoints:void 0,showlegend:void 0}},91800:function(G,U,e){var g=e(84888)._M,L=e(60268),a="parcats";U.name=a,U.plot=function(C,A,v,p){var r=g(C.calcdata,a);if(r.length){var t=r[0];L(C,t,v,p)}},U.clean=function(C,A,v,p){var r=p._has&&p._has("parcats"),t=A._has&&A._has("parcats");r&&!t&&p._paperdiv.selectAll(".parcats").remove()}},69136:function(G,U,e){var g=e(71688).wrap,L=e(94288).hasColorscale,a=e(47128),C=e(68944),A=e(43616),v=e(3400),p=e(38248);G.exports=function(i,d){var b=v.filterVisible(d.dimensions);if(b.length===0)return[];var w=b.map(function(Z){var Y;if(Z.categoryorder==="trace")Y=null;else if(Z.categoryorder==="array")Y=Z.categoryarray;else{Y=C(Z.values);for(var te=!0,X=0;X<Y.length;X++)if(!p(Y[X])){te=!1;break}Y.sort(te?v.sorterAsc:void 0),Z.categoryorder==="category descending"&&(Y=Y.reverse())}return l(Z.values,Y)}),E,y,S;v.isArrayOrTypedArray(d.counts)?E=d.counts:E=[d.counts],m(b),b.forEach(function(Z,Y){h(Z,w[Y])});var T=d.line,o;T?(L(d,"line")&&a(i,d,{vals:d.line.color,containerStr:"line",cLetter:"c"}),o=A.tryColorscale(T)):o=v.identity;function P(Z){var Y,te;return v.isArrayOrTypedArray(T.color)?(Y=T.color[Z%T.color.length],te=Y):Y=T.color,{color:o(Y),rawColor:te}}var x=b[0].values.length,_={},I=w.map(function(Z){return Z.inds});S=0;var N,k;for(N=0;N<x;N++){var F=[];for(k=0;k<I.length;k++)F.push(I[k][N]);y=E[N%E.length],S+=y;var O=P(N),z=F+"-"+O.rawColor;_[z]===void 0&&(_[z]=f(F,O.color,O.rawColor)),u(_[z],N,y)}var B=b.map(function(Z,Y){return t(Y,Z._index,Z._displayindex,Z.label,S)});for(N=0;N<x;N++)for(y=E[N%E.length],k=0;k<B.length;k++){var W=B[k].containerInd,q=w[k].inds[N],ee=B[k].categories;if(ee[q]===void 0){var Q=d.dimensions[W]._categoryarray[q],oe=d.dimensions[W]._ticktext[q];ee[q]=s(k,q,Q,oe)}n(ee[q],N,y)}return g(r(B,_,S))};function r(c,i,d){var b=c.map(function(w){return w.categories.length}).reduce(function(w,E){return Math.max(w,E)});return{dimensions:c,paths:i,trace:void 0,maxCats:b,count:d}}function t(c,i,d,b,w){return{dimensionInd:c,containerInd:i,displayInd:d,dimensionLabel:b,count:w,categories:[],dragX:null}}function s(c,i,d,b){return{dimensionInd:c,categoryInd:i,categoryValue:d,displayInd:i,categoryLabel:b,valueInds:[],count:0,dragY:null}}function n(c,i,d){c.valueInds.push(i),c.count+=d}function f(c,i,d){return{categoryInds:c,color:i,rawColor:d,valueInds:[],count:0}}function u(c,i,d){c.valueInds.push(i),c.count+=d}function l(c,i){i==null?i=[]:i=i.map(function(o){return o});var d={},b={},w=[];i.forEach(function(o,P){d[o]=0,b[o]=P});for(var E=0;E<c.length;E++){var y=c[E],S;d[y]===void 0?(d[y]=1,S=i.push(y)-1,b[y]=S):(d[y]++,S=b[y]),w.push(S)}var T=i.map(function(o){return d[o]});return{uniqueValues:i,uniqueCounts:T,inds:w}}function m(c){var i=c.map(function(b){return b.displayindex}),d;if(M(i))for(d=0;d<c.length;d++)c[d]._displayindex=c[d].displayindex;else for(d=0;d<c.length;d++)c[d]._displayindex=d}function h(c,i){c._categoryarray=i.uniqueValues,c.ticktext===null||c.ticktext===void 0?c._ticktext=[]:c._ticktext=c.ticktext.slice();for(var d=c._ticktext.length;d<i.uniqueValues.length;d++)c._ticktext.push(i.uniqueValues[d])}function M(c){for(var i=new Array(c.length),d=0;d<c.length;d++){if(c[d]<0||c[d]>=c.length||i[c[d]]!==void 0)return!1;i[c[d]]=!0}return!0}},76671:function(G,U,e){var g=e(3400),L=e(94288).hasColorscale,a=e(27260),C=e(86968).Q,A=e(51272),v=e(72140),p=e(26284),r=e(38116).isTypedArraySpec;function t(n,f,u,l,m){m("line.shape"),m("line.hovertemplate");var h=m("line.color",l.colorway[0]);if(L(n,"line")&&g.isArrayOrTypedArray(h)){if(h.length)return m("line.colorscale"),a(n,f,l,m,{prefix:"line.",cLetter:"c"}),h.length;f.line.color=u}return 1/0}function s(n,f){function u(d,b){return g.coerce(n,f,v.dimensions,d,b)}var l=u("values"),m=u("visible");if(l&&l.length||(m=f.visible=!1),m){u("label"),u("displayindex",f._index);var h=n.categoryarray,M=g.isArrayOrTypedArray(h)&&h.length>0||r(h),c;M&&(c="array");var i=u("categoryorder",c);i==="array"?(u("categoryarray"),u("ticktext")):(delete n.categoryarray,delete n.ticktext),!M&&i==="array"&&(f.categoryorder="trace")}}G.exports=function(f,u,l,m){function h(b,w){return g.coerce(f,u,v,b,w)}var M=A(f,u,{name:"dimensions",handleItemDefaults:s}),c=t(f,u,l,m,h);C(u,m,h),(!Array.isArray(M)||!M.length)&&(u.visible=!1),p(u,M,"values",c),h("hoveron"),h("hovertemplate"),h("arrangement"),h("bundlecolors"),h("sortpaths"),h("counts");var i={family:m.font.family,size:Math.round(m.font.size),color:m.font.color};g.coerceFont(h,"labelfont",i);var d={family:m.font.family,size:Math.round(m.font.size/1.2),color:m.font.color};g.coerceFont(h,"tickfont",d)}},22020:function(G,U,e){G.exports={attributes:e(72140),supplyDefaults:e(76671),calc:e(69136),plot:e(60268),colorbar:{container:"line",min:"cmin",max:"cmax"},moduleType:"trace",name:"parcats",basePlotModule:e(91800),categories:["noOpacity"],meta:{}}},51036:function(G,U,e){var g=e(33428),L=e(67756).Gz,a=e(36424),C=e(93024),A=e(3400),v=A.strTranslate,p=e(43616),r=e(49760),t=e(72736);function s(X,$,ie,J){var j=$._context.staticPlot,se=X.map(Q.bind(0,$,ie)),ne=J.selectAll("g.parcatslayer").data([null]);ne.enter().append("g").attr("class","parcatslayer").style("pointer-events",j?"none":"all");var le=ne.selectAll("g.trace.parcats").data(se,n),pe=le.enter().append("g").attr("class","trace parcats");le.attr("transform",function(Ue){return v(Ue.x,Ue.y)}),pe.append("g").attr("class","paths");var Ae=le.select("g.paths"),be=Ae.selectAll("path.path").data(function(Ue){return Ue.paths},n);be.attr("fill",function(Ue){return Ue.model.color});var Re=be.enter().append("path").attr("class","path").attr("stroke-opacity",0).attr("fill",function(Ue){return Ue.model.color}).attr("fill-opacity",0);i(Re),be.attr("d",function(Ue){return Ue.svgD}),Re.empty()||be.sort(u),be.exit().remove(),be.on("mouseover",l).on("mouseout",m).on("click",c),pe.append("g").attr("class","dimensions");var xe=le.select("g.dimensions"),Me=xe.selectAll("g.dimension").data(function(Ue){return Ue.dimensions},n);Me.enter().append("g").attr("class","dimension"),Me.attr("transform",function(Ue){return v(Ue.x,0)}),Me.exit().remove();var ye=Me.selectAll("g.category").data(function(Ue){return Ue.categories},n),Se=ye.enter().append("g").attr("class","category");ye.attr("transform",function(Ue){return v(0,Ue.y)}),Se.append("rect").attr("class","catrect").attr("pointer-events","none"),ye.select("rect.catrect").attr("fill","none").attr("width",function(Ue){return Ue.width}).attr("height",function(Ue){return Ue.height}),w(Se);var Fe=ye.selectAll("rect.bandrect").data(function(Ue){return Ue.bands},n);Fe.each(function(){A.raiseToTop(this)}),Fe.attr("fill",function(Ue){return Ue.color});var Be=Fe.enter().append("rect").attr("class","bandrect").attr("stroke-opacity",0).attr("fill",function(Ue){return Ue.color}).attr("fill-opacity",0);Fe.attr("fill",function(Ue){return Ue.color}).attr("width",function(Ue){return Ue.width}).attr("height",function(Ue){return Ue.height}).attr("y",function(Ue){return Ue.y}).attr("cursor",function(Ue){return Ue.parcatsViewModel.arrangement==="fixed"?"default":Ue.parcatsViewModel.arrangement==="perpendicular"?"ns-resize":"move"}),y(Be),Fe.exit().remove(),Se.append("text").attr("class","catlabel").attr("pointer-events","none");var _e=$._fullLayout.paper_bgcolor;ye.select("text.catlabel").attr("text-anchor",function(Ue){return f(Ue)?"start":"end"}).attr("alignment-baseline","middle").style("text-shadow",t.makeTextShadow(_e)).style("fill","rgb(0, 0, 0)").attr("x",function(Ue){return f(Ue)?Ue.width+5:-5}).attr("y",function(Ue){return Ue.height/2}).text(function(Ue){return Ue.model.categoryLabel}).each(function(Ue){p.font(g.select(this),Ue.parcatsViewModel.categorylabelfont),t.convertToTspans(g.select(this),$)}),Se.append("text").attr("class","dimlabel"),ye.select("text.dimlabel").attr("text-anchor","middle").attr("alignment-baseline","baseline").attr("cursor",function(Ue){return Ue.parcatsViewModel.arrangement==="fixed"?"default":"ew-resize"}).attr("x",function(Ue){return Ue.width/2}).attr("y",-5).text(function(Ue,it){return it===0?Ue.parcatsViewModel.model.dimensions[Ue.model.dimensionInd].dimensionLabel:null}).each(function(Ue){p.font(g.select(this),Ue.parcatsViewModel.labelfont)}),ye.selectAll("rect.bandrect").on("mouseover",k).on("mouseout",F),ye.exit().remove(),Me.call(g.behavior.drag().origin(function(Ue){return{x:Ue.x,y:0}}).on("dragstart",O).on("drag",z).on("dragend",B)),le.each(function(Ue){Ue.traceSelection=g.select(this),Ue.pathSelection=g.select(this).selectAll("g.paths").selectAll("path.path"),Ue.dimensionSelection=g.select(this).selectAll("g.dimensions").selectAll("g.dimension")}),le.exit().remove()}G.exports=function(X,$,ie,J){s(ie,X,J,$)};function n(X){return X.key}function f(X){var $=X.parcatsViewModel.dimensions.length,ie=X.parcatsViewModel.dimensions[$-1].model.dimensionInd;return X.model.dimensionInd===ie}function u(X,$){return X.model.rawColor>$.model.rawColor?1:X.model.rawColor<$.model.rawColor?-1:0}function l(X){if(!X.parcatsViewModel.dragDimension&&X.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1){A.raiseToTop(this),d(g.select(this));var $=h(X),ie=M(X);if(X.parcatsViewModel.graphDiv.emit("plotly_hover",{points:$,event:g.event,constraints:ie}),X.parcatsViewModel.hoverinfoItems.indexOf("none")===-1){var J=g.mouse(this)[0],j=X.parcatsViewModel.graphDiv,se=X.parcatsViewModel.trace,ne=j._fullLayout,le=ne._paperdiv.node().getBoundingClientRect(),pe=X.parcatsViewModel.graphDiv.getBoundingClientRect(),Ae,be,Re;for(Re=0;Re<X.leftXs.length-1;Re++)if(X.leftXs[Re]+X.dimWidths[Re]-2<=J&&J<=X.leftXs[Re+1]+2){var xe=X.parcatsViewModel.dimensions[Re],Me=X.parcatsViewModel.dimensions[Re+1];Ae=(xe.x+xe.width+Me.x)/2,be=(X.topYs[Re]+X.topYs[Re+1]+X.height)/2;break}var ye=X.parcatsViewModel.x+Ae,Se=X.parcatsViewModel.y+be,Fe=r.mostReadable(X.model.color,["black","white"]),Be=X.model.count,_e=Be/X.parcatsViewModel.model.count,Ue={countLabel:Be,probabilityLabel:_e.toFixed(3)},it=[];X.parcatsViewModel.hoverinfoItems.indexOf("count")!==-1&&it.push(["Count:",Ue.countLabel].join(" ")),X.parcatsViewModel.hoverinfoItems.indexOf("probability")!==-1&&it.push(["P:",Ue.probabilityLabel].join(" "));var lt=it.join("<br>"),$e=g.mouse(j)[0];C.loneHover({trace:se,x:ye-le.left+pe.left,y:Se-le.top+pe.top,text:lt,color:X.model.color,borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontSize:10,fontColor:Fe,idealAlign:$e<ye?"right":"left",hovertemplate:(se.line||{}).hovertemplate,hovertemplateLabels:Ue,eventData:[{data:se._input,fullData:se,count:Be,probability:_e}]},{container:ne._hoverlayer.node(),outerContainer:ne._paper.node(),gd:j})}}}function m(X){if(!X.parcatsViewModel.dragDimension&&(i(g.select(this)),C.loneUnhover(X.parcatsViewModel.graphDiv._fullLayout._hoverlayer.node()),X.parcatsViewModel.pathSelection.sort(u),X.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1)){var $=h(X),ie=M(X);X.parcatsViewModel.graphDiv.emit("plotly_unhover",{points:$,event:g.event,constraints:ie})}}function h(X){for(var $=[],ie=W(X.parcatsViewModel),J=0;J<X.model.valueInds.length;J++){var j=X.model.valueInds[J];$.push({curveNumber:ie,pointNumber:j})}return $}function M(X){for(var $={},ie=X.parcatsViewModel.model.dimensions,J=0;J<ie.length;J++){var j=ie[J],se=j.categories[X.model.categoryInds[J]];$[j.containerInd]=se.categoryValue}return X.model.rawColor!==void 0&&($.color=X.model.rawColor),$}function c(X){if(X.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1){var $=h(X),ie=M(X);X.parcatsViewModel.graphDiv.emit("plotly_click",{points:$,event:g.event,constraints:ie})}}function i(X){X.attr("fill",function($){return $.model.color}).attr("fill-opacity",.6).attr("stroke","lightgray").attr("stroke-width",.2).attr("stroke-opacity",1)}function d(X){X.attr("fill-opacity",.8).attr("stroke",function($){return r.mostReadable($.model.color,["black","white"])}).attr("stroke-width",.3)}function b(X){X.select("rect.catrect").attr("stroke","black").attr("stroke-width",2.5)}function w(X){X.select("rect.catrect").attr("stroke","black").attr("stroke-width",1).attr("stroke-opacity",1)}function E(X){X.attr("stroke","black").attr("stroke-width",1.5)}function y(X){X.attr("stroke","black").attr("stroke-width",.2).attr("stroke-opacity",1).attr("fill-opacity",1)}function S(X){var $=X.parcatsViewModel.pathSelection,ie=X.categoryViewModel.model.dimensionInd,J=X.categoryViewModel.model.categoryInd;return $.filter(function(j){return j.model.categoryInds[ie]===J&&j.model.color===X.color})}function T(X){var $=g.select(X.parentNode).selectAll("rect.bandrect");$.each(function(ie){var J=S(ie);d(J),J.each(function(){A.raiseToTop(this)})}),b(g.select(X.parentNode))}function o(X){var $=g.select(X).datum(),ie=S($);d(ie),ie.each(function(){A.raiseToTop(this)}),g.select(X.parentNode).selectAll("rect.bandrect").filter(function(J){return J.color===$.color}).each(function(){A.raiseToTop(this),E(g.select(this))})}function P(X,$,ie){var J=g.select(X).datum(),j=J.categoryViewModel.model,se=J.parcatsViewModel.graphDiv,ne=g.select(X.parentNode).selectAll("rect.bandrect"),le=[];ne.each(function(Ae){var be=S(Ae);be.each(function(Re){Array.prototype.push.apply(le,h(Re))})});var pe={};pe[j.dimensionInd]=j.categoryValue,se.emit($,{points:le,event:ie,constraints:pe})}function x(X,$,ie){var J=g.select(X).datum(),j=J.categoryViewModel.model,se=J.parcatsViewModel.graphDiv,ne=S(J),le=[];ne.each(function(Ae){Array.prototype.push.apply(le,h(Ae))});var pe={};pe[j.dimensionInd]=j.categoryValue,J.rawColor!==void 0&&(pe.color=J.rawColor),se.emit($,{points:le,event:ie,constraints:pe})}function _(X,$,ie){X._fullLayout._calcInverseTransform(X);var J=X._fullLayout._invScaleX,j=X._fullLayout._invScaleY,se=g.select(ie.parentNode).select("rect.catrect"),ne=se.node().getBoundingClientRect(),le=se.datum(),pe=le.parcatsViewModel,Ae=pe.model.dimensions[le.model.dimensionInd],be=pe.trace,Re=ne.top+ne.height/2,xe,Me;pe.dimensions.length>1&&Ae.displayInd===pe.dimensions.length-1?(xe=ne.left,Me="left"):(xe=ne.left+ne.width,Me="right");var ye=le.model.count,Se=le.model.categoryLabel,Fe=ye/le.parcatsViewModel.model.count,Be={countLabel:ye,categoryLabel:Se,probabilityLabel:Fe.toFixed(3)},_e=[];le.parcatsViewModel.hoverinfoItems.indexOf("count")!==-1&&_e.push(["Count:",Be.countLabel].join(" ")),le.parcatsViewModel.hoverinfoItems.indexOf("probability")!==-1&&_e.push(["P("+Be.categoryLabel+"):",Be.probabilityLabel].join(" "));var Ue=_e.join("<br>");return{trace:be,x:J*(xe-$.left),y:j*(Re-$.top),text:Ue,color:"lightgray",borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontSize:12,fontColor:"black",idealAlign:Me,hovertemplate:be.hovertemplate,hovertemplateLabels:Be,eventData:[{data:be._input,fullData:be,count:ye,category:Se,probability:Fe}]}}function I(X,$,ie){var J=[];return g.select(ie.parentNode.parentNode).selectAll("g.category").select("rect.catrect").each(function(){var j=this;J.push(_(X,$,j))}),J}function N(X,$,ie){X._fullLayout._calcInverseTransform(X);var J=X._fullLayout._invScaleX,j=X._fullLayout._invScaleY,se=ie.getBoundingClientRect(),ne=g.select(ie).datum(),le=ne.categoryViewModel,pe=le.parcatsViewModel,Ae=pe.model.dimensions[le.model.dimensionInd],be=pe.trace,Re=se.y+se.height/2,xe,Me;pe.dimensions.length>1&&Ae.displayInd===pe.dimensions.length-1?(xe=se.left,Me="left"):(xe=se.left+se.width,Me="right");var ye=le.model.categoryLabel,Se=ne.parcatsViewModel.model.count,Fe=0;ne.categoryViewModel.bands.forEach(function(pt){pt.color===ne.color&&(Fe+=pt.count)});var Be=le.model.count,_e=0;pe.pathSelection.each(function(pt){pt.model.color===ne.color&&(_e+=pt.model.count)});var Ue=Fe/Se,it=Fe/_e,lt=Fe/Be,$e={countLabel:Se,categoryLabel:ye,probabilityLabel:Ue.toFixed(3)},qe=[];le.parcatsViewModel.hoverinfoItems.indexOf("count")!==-1&&qe.push(["Count:",$e.countLabel].join(" ")),le.parcatsViewModel.hoverinfoItems.indexOf("probability")!==-1&&(qe.push("P(color \u2229 "+ye+"): "+$e.probabilityLabel),qe.push("P("+ye+" | color): "+it.toFixed(3)),qe.push("P(color | "+ye+"): "+lt.toFixed(3)));var ft=qe.join("<br>"),ct=r.mostReadable(ne.color,["black","white"]);return{trace:be,x:J*(xe-$.left),y:j*(Re-$.top),text:ft,color:ne.color,borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontColor:ct,fontSize:10,idealAlign:Me,hovertemplate:be.hovertemplate,hovertemplateLabels:$e,eventData:[{data:be._input,fullData:be,category:ye,count:Se,probability:Ue,categorycount:Be,colorcount:_e,bandcolorcount:Fe}]}}function k(X){if(!X.parcatsViewModel.dragDimension&&X.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1){var $=g.mouse(this)[1];if($<-1)return;var ie=X.parcatsViewModel.graphDiv,J=ie._fullLayout,j=J._paperdiv.node().getBoundingClientRect(),se=X.parcatsViewModel.hoveron,ne=this;if(se==="color"?(o(ne),x(ne,"plotly_hover",g.event)):(T(ne),P(ne,"plotly_hover",g.event)),X.parcatsViewModel.hoverinfoItems.indexOf("none")===-1){var le;se==="category"?le=_(ie,j,ne):se==="color"?le=N(ie,j,ne):se==="dimension"&&(le=I(ie,j,ne)),le&&C.loneHover(le,{container:J._hoverlayer.node(),outerContainer:J._paper.node(),gd:ie})}}}function F(X){var $=X.parcatsViewModel;if(!$.dragDimension&&(i($.pathSelection),w($.dimensionSelection.selectAll("g.category")),y($.dimensionSelection.selectAll("g.category").selectAll("rect.bandrect")),C.loneUnhover($.graphDiv._fullLayout._hoverlayer.node()),$.pathSelection.sort(u),$.hoverinfoItems.indexOf("skip")===-1)){var ie=X.parcatsViewModel.hoveron,J=this;ie==="color"?x(J,"plotly_unhover",g.event):P(J,"plotly_unhover",g.event)}}function O(X){X.parcatsViewModel.arrangement!=="fixed"&&(X.dragDimensionDisplayInd=X.model.displayInd,X.initialDragDimensionDisplayInds=X.parcatsViewModel.model.dimensions.map(function($){return $.displayInd}),X.dragHasMoved=!1,X.dragCategoryDisplayInd=null,g.select(this).selectAll("g.category").select("rect.catrect").each(function($){var ie=g.mouse(this)[0],J=g.mouse(this)[1];-2<=ie&&ie<=$.width+2&&-2<=J&&J<=$.height+2&&(X.dragCategoryDisplayInd=$.model.displayInd,X.initialDragCategoryDisplayInds=X.model.categories.map(function(j){return j.displayInd}),$.model.dragY=$.y,A.raiseToTop(this.parentNode),g.select(this.parentNode).selectAll("rect.bandrect").each(function(j){j.y<J&&J<=j.y+j.height&&(X.potentialClickBand=this)}))}),X.parcatsViewModel.dragDimension=X,C.loneUnhover(X.parcatsViewModel.graphDiv._fullLayout._hoverlayer.node()))}function z(X){if(X.parcatsViewModel.arrangement!=="fixed"&&(X.dragHasMoved=!0,X.dragDimensionDisplayInd!==null)){var $=X.dragDimensionDisplayInd,ie=$-1,J=$+1,j=X.parcatsViewModel.dimensions[$];if(X.dragCategoryDisplayInd!==null){var se=j.categories[X.dragCategoryDisplayInd];se.model.dragY+=g.event.dy;var ne=se.model.dragY,le=se.model.displayInd,pe=j.categories,Ae=pe[le-1],be=pe[le+1];Ae!==void 0&&ne<Ae.y+Ae.height/2&&(se.model.displayInd=Ae.model.displayInd,Ae.model.displayInd=le),be!==void 0&&ne+se.height>be.y+be.height/2&&(se.model.displayInd=be.model.displayInd,be.model.displayInd=le),X.dragCategoryDisplayInd=se.model.displayInd}if(X.dragCategoryDisplayInd===null||X.parcatsViewModel.arrangement==="freeform"){j.model.dragX=g.event.x;var Re=X.parcatsViewModel.dimensions[ie],xe=X.parcatsViewModel.dimensions[J];Re!==void 0&&j.model.dragX<Re.x+Re.width&&(j.model.displayInd=Re.model.displayInd,Re.model.displayInd=$),xe!==void 0&&j.model.dragX+j.width>xe.x&&(j.model.displayInd=xe.model.displayInd,xe.model.displayInd=X.dragDimensionDisplayInd),X.dragDimensionDisplayInd=j.model.displayInd}Y(X.parcatsViewModel),Z(X.parcatsViewModel),ee(X.parcatsViewModel),q(X.parcatsViewModel)}}function B(X){if(X.parcatsViewModel.arrangement!=="fixed"&&X.dragDimensionDisplayInd!==null){g.select(this).selectAll("text").attr("font-weight","normal");var $={},ie=W(X.parcatsViewModel),J=X.parcatsViewModel.model.dimensions.map(function(xe){return xe.displayInd}),j=X.initialDragDimensionDisplayInds.some(function(xe,Me){return xe!==J[Me]});j&&J.forEach(function(xe,Me){var ye=X.parcatsViewModel.model.dimensions[Me].containerInd;$["dimensions["+ye+"].displayindex"]=xe});var se=!1;if(X.dragCategoryDisplayInd!==null){var ne=X.model.categories.map(function(xe){return xe.displayInd});if(se=X.initialDragCategoryDisplayInds.some(function(xe,Me){return xe!==ne[Me]}),se){var le=X.model.categories.slice().sort(function(xe,Me){return xe.displayInd-Me.displayInd}),pe=le.map(function(xe){return xe.categoryValue}),Ae=le.map(function(xe){return xe.categoryLabel});$["dimensions["+X.model.containerInd+"].categoryarray"]=[pe],$["dimensions["+X.model.containerInd+"].ticktext"]=[Ae],$["dimensions["+X.model.containerInd+"].categoryorder"]="array"}}if(X.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1&&!X.dragHasMoved&&X.potentialClickBand&&(X.parcatsViewModel.hoveron==="color"?x(X.potentialClickBand,"plotly_click",g.event.sourceEvent):P(X.potentialClickBand,"plotly_click",g.event.sourceEvent)),X.model.dragX=null,X.dragCategoryDisplayInd!==null){var be=X.parcatsViewModel.dimensions[X.dragDimensionDisplayInd].categories[X.dragCategoryDisplayInd];be.model.dragY=null,X.dragCategoryDisplayInd=null}X.dragDimensionDisplayInd=null,X.parcatsViewModel.dragDimension=null,X.dragHasMoved=null,X.potentialClickBand=null,Y(X.parcatsViewModel),Z(X.parcatsViewModel);var Re=g.transition().duration(300).ease("cubic-in-out");Re.each(function(){ee(X.parcatsViewModel,!0),q(X.parcatsViewModel,!0)}).each("end",function(){(j||se)&&a.restyle(X.parcatsViewModel.graphDiv,$,[ie])})}}function W(X){for(var $,ie=X.graphDiv._fullData,J=0;J<ie.length;J++)if(X.key===ie[J].uid){$=J;break}return $}function q(X,$){$===void 0&&($=!1);function ie(J){return $?J.transition():J}X.pathSelection.data(function(J){return J.paths},n),ie(X.pathSelection).attr("d",function(J){return J.svgD})}function ee(X,$){$===void 0&&($=!1);function ie(pe){return $?pe.transition():pe}X.dimensionSelection.data(function(pe){return pe.dimensions},n);var J=X.dimensionSelection.selectAll("g.category").data(function(pe){return pe.categories},n);ie(X.dimensionSelection).attr("transform",function(pe){return v(pe.x,0)}),ie(J).attr("transform",function(pe){return v(0,pe.y)});var j=J.select(".dimlabel");j.text(function(pe,Ae){return Ae===0?pe.parcatsViewModel.model.dimensions[pe.model.dimensionInd].dimensionLabel:null});var se=J.select(".catlabel");se.attr("text-anchor",function(pe){return f(pe)?"start":"end"}).attr("x",function(pe){return f(pe)?pe.width+5:-5}).each(function(pe){var Ae,be;f(pe)?(Ae=pe.width+5,be="start"):(Ae=-5,be="end"),g.select(this).selectAll("tspan").attr("x",Ae).attr("text-anchor",be)});var ne=J.selectAll("rect.bandrect").data(function(pe){return pe.bands},n),le=ne.enter().append("rect").attr("class","bandrect").attr("cursor","move").attr("stroke-opacity",0).attr("fill",function(pe){return pe.color}).attr("fill-opacity",0);ne.attr("fill",function(pe){return pe.color}).attr("width",function(pe){return pe.width}).attr("height",function(pe){return pe.height}).attr("y",function(pe){return pe.y}),y(le),ne.each(function(){A.raiseToTop(this)}),ne.exit().remove()}function Q(X,$,ie){var J=ie[0],j=$.margin||{l:80,r:80,t:100,b:80},se=J.trace,ne=se.domain,le=$.width,pe=$.height,Ae=Math.floor(le*(ne.x[1]-ne.x[0])),be=Math.floor(pe*(ne.y[1]-ne.y[0])),Re=ne.x[0]*le+j.l,xe=$.height-ne.y[1]*$.height+j.t,Me=se.line.shape,ye;se.hoverinfo==="all"?ye=["count","probability"]:ye=(se.hoverinfo||"").split("+");var Se={trace:se,key:se.uid,model:J,x:Re,y:xe,width:Ae,height:be,hoveron:se.hoveron,hoverinfoItems:ye,arrangement:se.arrangement,bundlecolors:se.bundlecolors,sortpaths:se.sortpaths,labelfont:se.labelfont,categorylabelfont:se.tickfont,pathShape:Me,dragDimension:null,margin:j,paths:[],dimensions:[],graphDiv:X,traceSelection:null,pathSelection:null,dimensionSelection:null};return J.dimensions&&(Y(Se),Z(Se)),Se}function oe(X,$,ie,J,j){var se=[],ne=[],le,pe;for(pe=0;pe<ie.length-1;pe++)le=L(ie[pe]+X[pe],X[pe+1]),se.push(le(j)),ne.push(le(1-j));var Ae="M "+X[0]+","+$[0];for(Ae+="l"+ie[0]+",0 ",pe=1;pe<ie.length;pe++)Ae+="C"+se[pe-1]+","+$[pe-1]+" "+ne[pe-1]+","+$[pe]+" "+X[pe]+","+$[pe],Ae+="l"+ie[pe]+",0 ";for(Ae+="l0,"+J+" ",Ae+="l -"+ie[ie.length-1]+",0 ",pe=ie.length-2;pe>=0;pe--)Ae+="C"+ne[pe]+","+($[pe+1]+J)+" "+se[pe]+","+($[pe]+J)+" "+(X[pe]+ie[pe])+","+($[pe]+J),Ae+="l-"+ie[pe]+",0 ";return Ae+="Z",Ae}function Z(X){var $=X.dimensions,ie=X.model,J=$.map(function(tt){return tt.categories.map(function(Ie){return Ie.y})}),j=X.model.dimensions.map(function(tt){return tt.categories.map(function(Ie){return Ie.displayInd})}),se=X.model.dimensions.map(function(tt){return tt.displayInd}),ne=X.dimensions.map(function(tt){return tt.model.dimensionInd}),le=$.map(function(tt){return tt.x}),pe=$.map(function(tt){return tt.width}),Ae=[];for(var be in ie.paths)ie.paths.hasOwnProperty(be)&&Ae.push(ie.paths[be]);function Re(tt){var Ie=tt.categoryInds.map(function(Ze,He){return j[He][Ze]}),We=ne.map(function(Ze){return Ie[Ze]});return We}Ae.sort(function(tt,Ie){var We=Re(tt),Ze=Re(Ie);return X.sortpaths==="backward"&&(We.reverse(),Ze.reverse()),We.push(tt.valueInds[0]),Ze.push(Ie.valueInds[0]),X.bundlecolors&&(We.unshift(tt.rawColor),Ze.unshift(Ie.rawColor)),We<Ze?-1:We>Ze?1:0});for(var xe=new Array(Ae.length),Me=$[0].model.count,ye=$[0].categories.map(function(tt){return tt.height}).reduce(function(tt,Ie){return tt+Ie}),Se=0;Se<Ae.length;Se++){var Fe=Ae[Se],Be;Me>0?Be=ye*(Fe.count/Me):Be=0;for(var _e=new Array(J.length),Ue=0;Ue<Fe.categoryInds.length;Ue++){var it=Fe.categoryInds[Ue],lt=j[Ue][it],$e=se[Ue];_e[$e]=J[$e][lt],J[$e][lt]+=Be;var qe=X.dimensions[$e].categories[lt],ft=qe.bands.length,ct=qe.bands[ft-1];if(ct===void 0||Fe.rawColor!==ct.rawColor){var pt=ct===void 0?0:ct.y+ct.height;qe.bands.push({key:pt,color:Fe.color,rawColor:Fe.rawColor,height:Be,width:qe.width,count:Fe.count,y:pt,categoryViewModel:qe,parcatsViewModel:X})}else{var yt=qe.bands[ft-1];yt.height+=Be,yt.count+=Fe.count}}var Et;X.pathShape==="hspline"?Et=oe(le,_e,pe,Be,.5):Et=oe(le,_e,pe,Be,0),xe[Se]={key:Fe.valueInds[0],model:Fe,height:Be,leftXs:le,topYs:_e,dimWidths:pe,svgD:Et,parcatsViewModel:X}}X.paths=xe}function Y(X){var $=X.model.dimensions.map(function(ne){return{displayInd:ne.displayInd,dimensionInd:ne.dimensionInd}});$.sort(function(ne,le){return ne.displayInd-le.displayInd});var ie=[];for(var J in $){var j=$[J].dimensionInd,se=X.model.dimensions[j];ie.push(te(X,se))}X.dimensions=ie}function te(X,$){var ie=40,J=16,j=X.model.dimensions.length,se=$.displayInd,ne,le,pe;j>1?ne=(X.width-2*ie-J)/(j-1):ne=0,le=ie,pe=le+ne*se;var Ae=[],be=X.model.maxCats,Re=$.categories.length,xe=8,Me=$.count,ye=X.height-xe*(be-1),Se,Fe,Be,_e,Ue,it=(be-Re)*xe/2,lt=$.categories.map(function($e){return{displayInd:$e.displayInd,categoryInd:$e.categoryInd}});for(lt.sort(function($e,qe){return $e.displayInd-qe.displayInd}),Ue=0;Ue<Re;Ue++)_e=lt[Ue].categoryInd,Fe=$.categories[_e],Me>0?Se=Fe.count/Me*ye:Se=0,Be={key:Fe.valueInds[0],model:Fe,width:J,height:Se,y:Fe.dragY!==null?Fe.dragY:it,bands:[],parcatsViewModel:X},it=it+Se+xe,Ae.push(Be);return{key:$.dimensionInd,x:$.dragX!==null?$.dragX:pe,y:0,width:J,model:$,categories:Ae,parcatsViewModel:X,dragCategoryDisplayInd:null,dragDimensionDisplayInd:null,initialDragDimensionDisplayInds:null,initialDragCategoryDisplayInds:null,dragHasMoved:null,potentialClickBand:null}}},60268:function(G,U,e){var g=e(51036);G.exports=function(a,C,A,v){var p=a._fullLayout,r=p._paper,t=p._size;g(a,r,C,{width:t.w,height:t.h,margin:{t:t.t,r:t.r,b:t.b,l:t.l}},A,v)}},82296:function(G,U,e){var g=e(49084),L=e(94724),a=e(25376),C=e(86968).u,A=e(92880).extendFlat,v=e(31780).templatedArray;G.exports={domain:C({name:"parcoords",trace:!0,editType:"plot"}),labelangle:{valType:"angle",dflt:0,editType:"plot"},labelside:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},labelfont:a({editType:"plot"}),tickfont:a({editType:"plot"}),rangefont:a({editType:"plot"}),dimensions:v("dimension",{label:{valType:"string",editType:"plot"},tickvals:A({},L.tickvals,{editType:"plot"}),ticktext:A({},L.ticktext,{editType:"plot"}),tickformat:A({},L.tickformat,{editType:"plot"}),visible:{valType:"boolean",dflt:!0,editType:"plot"},range:{valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],editType:"plot"},constraintrange:{valType:"info_array",freeLength:!0,dimensions:"1-2",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},multiselect:{valType:"boolean",dflt:!0,editType:"plot"},values:{valType:"data_array",editType:"calc"},editType:"calc"}),line:A({editType:"calc"},g("line",{colorscaleDflt:"Viridis",autoColorDflt:!1,editTypeOverride:"calc"})),unselected:{line:{color:{valType:"color",dflt:"#7f7f7f",editType:"plot"},opacity:{valType:"number",min:0,max:1,dflt:"auto",editType:"plot"},editType:"plot"},editType:"plot"}}},71864:function(G,U,e){var g=e(30140),L=e(33428),a=e(71688).keyFun,C=e(71688).repeat,A=e(3400).sorterAsc,v=e(3400).strTranslate,p=g.bar.snapRatio;function r(B,W){return B*(1-p)+W*p}var t=g.bar.snapClose;function s(B,W){return B*(1-t)+W*t}function n(B,W,q,ee){if(f(q,ee))return q;var Q=B?-1:1,oe=0,Z=W.length-1;if(Q<0){var Y=oe;oe=Z,Z=Y}for(var te=W[oe],X=te,$=oe;Q*$<Q*Z;$+=Q){var ie=$+Q,J=W[ie];if(Q*q<Q*s(te,J))return r(te,X);if(Q*q<Q*J||ie===Z)return r(J,te);X=te,te=J}}function f(B,W){for(var q=0;q<W.length;q++)if(B>=W[q][0]&&B<=W[q][1])return!0;return!1}function u(B){B.attr("x",-g.bar.captureWidth/2).attr("width",g.bar.captureWidth)}function l(B){B.attr("visibility","visible").style("visibility","visible").attr("fill","yellow").attr("opacity",0)}function m(B){if(!B.brush.filterSpecified)return"0,"+B.height;for(var W=h(B.brush.filter.getConsolidated(),B.height),q=[0],ee,Q,oe,Z=W.length?W[0][0]:null,Y=0;Y<W.length;Y++)ee=W[Y],Q=ee[1]-ee[0],q.push(Z),q.push(Q),oe=Y+1,oe<W.length&&(Z=W[oe][0]-ee[1]);return q.push(B.height),q}function h(B,W){return B.map(function(q){return q.map(function(ee){return Math.max(0,ee*W)}).sort(A)})}function M(B,W){var q=g.bar.handleHeight;if(!(W>B[1]+q||W<B[0]-q))return W>=.9*B[1]+.1*B[0]?"n":W<=.9*B[0]+.1*B[1]?"s":"ns"}function c(){L.select(document.body).style("cursor",null)}function i(B){B.attr("stroke-dasharray",m)}function d(B,W){var q=L.select(B).selectAll(".highlight, .highlight-shadow"),ee=W?q.transition().duration(g.bar.snapDuration).each("end",W):q;i(ee)}function b(B,W){var q=B.brush,ee=q.filterSpecified,Q=NaN,oe={},Z;if(ee){var Y=B.height,te=q.filter.getConsolidated(),X=h(te,Y),$=NaN,ie=NaN,J=NaN;for(Z=0;Z<=X.length;Z++){var j=X[Z];if(j&&j[0]<=W&&W<=j[1]){$=Z;break}else if(ie=Z?Z-1:NaN,j&&j[0]>W){J=Z;break}}if(Q=$,isNaN(Q)&&(isNaN(ie)||isNaN(J)?Q=isNaN(ie)?J:ie:Q=W-X[ie][1]<X[J][0]-W?ie:J),!isNaN(Q)){var se=X[Q],ne=M(se,W);ne&&(oe.interval=te[Q],oe.intervalPix=se,oe.region=ne)}}if(B.ordinal&&!oe.region){var le=B.unitTickvals,pe=B.unitToPaddedPx.invert(W);for(Z=0;Z<le.length;Z++){var Ae=[le[Math.max(Z-1,0)]*.25+le[Z]*.75,le[Math.min(Z+1,le.length-1)]*.25+le[Z]*.75];if(pe>=Ae[0]&&pe<=Ae[1]){oe.clickableOrdinalRange=Ae;break}}}return oe}function w(B,W){L.event.sourceEvent.stopPropagation();var q=W.height-L.mouse(B)[1]-2*g.verticalPadding,ee=W.unitToPaddedPx.invert(q),Q=W.brush,oe=b(W,q),Z=oe.interval,Y=Q.svgBrush;if(Y.wasDragged=!1,Y.grabbingBar=oe.region==="ns",Y.grabbingBar){var te=Z.map(W.unitToPaddedPx);Y.grabPoint=q-te[0]-g.verticalPadding,Y.barLength=te[1]-te[0]}Y.clickableOrdinalRange=oe.clickableOrdinalRange,Y.stayingIntervals=W.multiselect&&Q.filterSpecified?Q.filter.getConsolidated():[],Z&&(Y.stayingIntervals=Y.stayingIntervals.filter(function(X){return X[0]!==Z[0]&&X[1]!==Z[1]})),Y.startExtent=oe.region?Z[oe.region==="s"?1:0]:ee,W.parent.inBrushDrag=!0,Y.brushStartCallback()}function E(B,W){L.event.sourceEvent.stopPropagation();var q=W.height-L.mouse(B)[1]-2*g.verticalPadding,ee=W.brush.svgBrush;ee.wasDragged=!0,ee._dragging=!0,ee.grabbingBar?ee.newExtent=[q-ee.grabPoint,q+ee.barLength-ee.grabPoint].map(W.unitToPaddedPx.invert):ee.newExtent=[ee.startExtent,W.unitToPaddedPx.invert(q)].sort(A),W.brush.filterSpecified=!0,ee.extent=ee.stayingIntervals.concat([ee.newExtent]),ee.brushCallback(W),d(B.parentNode)}function y(B,W){var q=W.brush,ee=q.filter,Q=q.svgBrush;Q._dragging||(S(B,W),E(B,W),W.brush.svgBrush.wasDragged=!1),Q._dragging=!1;var oe=L.event;oe.sourceEvent.stopPropagation();var Z=Q.grabbingBar;if(Q.grabbingBar=!1,Q.grabLocation=void 0,W.parent.inBrushDrag=!1,c(),!Q.wasDragged){Q.wasDragged=void 0,Q.clickableOrdinalRange?q.filterSpecified&&W.multiselect?Q.extent.push(Q.clickableOrdinalRange):(Q.extent=[Q.clickableOrdinalRange],q.filterSpecified=!0):Z?(Q.extent=Q.stayingIntervals,Q.extent.length===0&&I(q)):I(q),Q.brushCallback(W),d(B.parentNode),Q.brushEndCallback(q.filterSpecified?ee.getConsolidated():[]);return}var Y=function(){ee.set(ee.getConsolidated())};if(W.ordinal){var te=W.unitTickvals;te[te.length-1]<te[0]&&te.reverse(),Q.newExtent=[n(0,te,Q.newExtent[0],Q.stayingIntervals),n(1,te,Q.newExtent[1],Q.stayingIntervals)];var X=Q.newExtent[1]>Q.newExtent[0];Q.extent=Q.stayingIntervals.concat(X?[Q.newExtent]:[]),Q.extent.length||I(q),Q.brushCallback(W),X?d(B.parentNode,Y):(Y(),d(B.parentNode))}else Y();Q.brushEndCallback(q.filterSpecified?ee.getConsolidated():[])}function S(B,W){var q=W.height-L.mouse(B)[1]-2*g.verticalPadding,ee=b(W,q),Q="crosshair";ee.clickableOrdinalRange?Q="pointer":ee.region&&(Q=ee.region+"-resize"),L.select(document.body).style("cursor",Q)}function T(B){B.on("mousemove",function(W){L.event.preventDefault(),W.parent.inBrushDrag||S(this,W)}).on("mouseleave",function(W){W.parent.inBrushDrag||c()}).call(L.behavior.drag().on("dragstart",function(W){w(this,W)}).on("drag",function(W){E(this,W)}).on("dragend",function(W){y(this,W)}))}function o(B,W){return B[0]-W[0]}function P(B,W,q){var ee=q._context.staticPlot,Q=B.selectAll(".background").data(C);Q.enter().append("rect").classed("background",!0).call(u).call(l).style("pointer-events",ee?"none":"auto").attr("transform",v(0,g.verticalPadding)),Q.call(T).attr("height",function(Y){return Y.height-g.verticalPadding});var oe=B.selectAll(".highlight-shadow").data(C);oe.enter().append("line").classed("highlight-shadow",!0).attr("x",-g.bar.width/2).attr("stroke-width",g.bar.width+g.bar.strokeWidth).attr("stroke",W).attr("opacity",g.bar.strokeOpacity).attr("stroke-linecap","butt"),oe.attr("y1",function(Y){return Y.height}).call(i);var Z=B.selectAll(".highlight").data(C);Z.enter().append("line").classed("highlight",!0).attr("x",-g.bar.width/2).attr("stroke-width",g.bar.width-g.bar.strokeWidth).attr("stroke",g.bar.fillColor).attr("opacity",g.bar.fillOpacity).attr("stroke-linecap","butt"),Z.attr("y1",function(Y){return Y.height}).call(i)}function x(B,W,q){var ee=B.selectAll("."+g.cn.axisBrush).data(C,a);ee.enter().append("g").classed(g.cn.axisBrush,!0),P(ee,W,q)}function _(B){return B.svgBrush.extent.map(function(W){return W.slice()})}function I(B){B.filterSpecified=!1,B.svgBrush.extent=[[-1/0,1/0]]}function N(B){return function(q){var ee=q.brush,Q=_(ee),oe=Q.slice();ee.filter.set(oe),B()}}function k(B){for(var W=B.slice(),q=[],ee,Q=W.shift();Q;){for(ee=Q.slice();(Q=W.shift())&&Q[0]<=ee[1];)ee[1]=Math.max(ee[1],Q[1]);q.push(ee)}return q.length===1&&q[0][0]>q[0][1]&&(q=[]),q}function F(){var B=[],W,q;return{set:function(ee){B=ee.map(function(Q){return Q.slice().sort(A)}).sort(o),B.length===1&&B[0][0]===-1/0&&B[0][1]===1/0&&(B=[[0,-1]]),W=k(B),q=B.reduce(function(Q,oe){return[Math.min(Q[0],oe[0]),Math.max(Q[1],oe[1])]},[1/0,-1/0])},get:function(){return B.slice()},getConsolidated:function(){return W},getBounds:function(){return q}}}function O(B,W,q,ee,Q,oe){var Z=F();return Z.set(q),{filter:Z,filterSpecified:W,svgBrush:{extent:[],brushStartCallback:ee,brushCallback:N(Q),brushEndCallback:oe}}}function z(B,W){if(Array.isArray(B[0])?(B=B.map(function(ee){return ee.sort(A)}),W.multiselect?B=k(B.sort(o)):B=[B[0]]):B=[B.sort(A)],W.tickvals){var q=W.tickvals.slice().sort(A);if(B=B.map(function(ee){var Q=[n(0,q,ee[0],[]),n(1,q,ee[1],[])];if(Q[1]>Q[0])return Q}).filter(function(ee){return ee}),!B.length)return}return B.length>1?B:B[0]}G.exports={makeBrush:O,ensureAxisBrush:x,cleanRanges:z}},61664:function(G,U,e){G.exports={attributes:e(82296),supplyDefaults:e(60664),calc:e(95044),colorbar:{container:"line",min:"cmin",max:"cmax"},moduleType:"trace",name:"parcoords",basePlotModule:e(19976),categories:["gl","regl","noOpacity","noHover"],meta:{}}},19976:function(G,U,e){var g=e(33428),L=e(84888)._M,a=e(24196),C=e(9616);U.name="parcoords",U.plot=function(A){var v=L(A.calcdata,"parcoords")[0];v.length&&a(A,v)},U.clean=function(A,v,p,r){var t=r._has&&r._has("parcoords"),s=v._has&&v._has("parcoords");t&&!s&&(r._paperdiv.selectAll(".parcoords").remove(),r._glimages.selectAll("*").remove())},U.toSVG=function(A){var v=A._fullLayout._glimages,p=g.select(A).selectAll(".svg-container"),r=p.filter(function(s,n){return n===p.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus");function t(){var s=this,n=s.toDataURL("image/png"),f=v.append("svg:image");f.attr({xmlns:C.svg,"xlink:href":n,preserveAspectRatio:"none",x:0,y:0,width:s.style.width,height:s.style.height})}r.each(t),window.setTimeout(function(){g.selectAll("#filterBarPattern").attr("id","filterBarPattern")},60)}},95044:function(G,U,e){var g=e(3400).isArrayOrTypedArray,L=e(8932),a=e(71688).wrap;G.exports=function(v,p){var r,t;return L.hasColorscale(p,"line")&&g(p.line.color)?(r=p.line.color,t=L.extractOpts(p.line).colorscale,L.calc(v,p,{vals:r,containerStr:"line",cLetter:"c"})):(r=C(p._length),t=[[0,p.line.color],[1,p.line.color]]),a({lineColor:r,cscale:t})};function C(A){for(var v=new Array(A),p=0;p<A;p++)v[p]=.5;return v}},30140:function(G){G.exports={maxDimensionCount:60,overdrag:45,verticalPadding:2,tickDistance:50,canvasPixelRatio:1,blockLineCount:5e3,layers:["contextLineLayer","focusLineLayer","pickLineLayer"],axisTitleOffset:28,axisExtentOffset:10,bar:{width:4,captureWidth:10,fillColor:"magenta",fillOpacity:1,snapDuration:150,snapRatio:.25,snapClose:.01,strokeOpacity:1,strokeWidth:1,handleHeight:8,handleOpacity:1,handleOverlap:0},cn:{axisExtentText:"axis-extent-text",parcoordsLineLayers:"parcoords-line-layers",parcoordsLineLayer:"parcoords-lines",parcoords:"parcoords",parcoordsControlView:"parcoords-control-view",yAxis:"y-axis",axisOverlays:"axis-overlays",axis:"axis",axisHeading:"axis-heading",axisTitle:"axis-title",axisExtent:"axis-extent",axisExtentTop:"axis-extent-top",axisExtentTopText:"axis-extent-top-text",axisExtentBottom:"axis-extent-bottom",axisExtentBottomText:"axis-extent-bottom-text",axisBrush:"axis-brush"},id:{filterBarPattern:"filter-bar-pattern"}}},60664:function(G,U,e){var g=e(3400),L=e(94288).hasColorscale,a=e(27260),C=e(86968).Q,A=e(51272),v=e(54460),p=e(82296),r=e(71864),t=e(30140).maxDimensionCount,s=e(26284);function n(u,l,m,h,M){var c=M("line.color",m);if(L(u,"line")&&g.isArrayOrTypedArray(c)){if(c.length)return M("line.colorscale"),a(u,l,h,M,{prefix:"line.",cLetter:"c"}),c.length;l.line.color=m}return 1/0}function f(u,l,m,h){function M(w,E){return g.coerce(u,l,p.dimensions,w,E)}var c=M("values"),i=M("visible");if(c&&c.length||(i=l.visible=!1),i){M("label"),M("tickvals"),M("ticktext"),M("tickformat");var d=M("range");l._ax={_id:"y",type:"linear",showexponent:"all",exponentformat:"B",range:d},v.setConvert(l._ax,h.layout),M("multiselect");var b=M("constraintrange");b&&(l.constraintrange=r.cleanRanges(b,l))}}G.exports=function(l,m,h,M){function c(E,y){return g.coerce(l,m,p,E,y)}var i=l.dimensions;Array.isArray(i)&&i.length>t&&(g.log("parcoords traces support up to "+t+" dimensions at the moment"),i.splice(t));var d=A(l,m,{name:"dimensions",layout:M,handleItemDefaults:f}),b=n(l,m,h,M,c);C(m,M,c),(!Array.isArray(d)||!d.length)&&(m.visible=!1),s(m,d,"values",b);var w={family:M.font.family,size:Math.round(M.font.size/1.2),color:M.font.color};g.coerceFont(c,"labelfont",w),g.coerceFont(c,"tickfont",w),g.coerceFont(c,"rangefont",w),c("labelangle"),c("labelside"),c("unselected.line.color"),c("unselected.line.opacity")}},95724:function(G,U,e){var g=e(3400).isTypedArray;U.convertTypedArray=function(L){return g(L)?Array.prototype.slice.call(L):L},U.isOrdinal=function(L){return!!L.tickvals},U.isVisible=function(L){return L.visible||!("visible"in L)}},29928:function(G,U,e){var g=e(61664);g.plot=e(24196),G.exports=g},51352:function(G,U,e){var g=["precision highp float;","","varying vec4 fragColor;","","attribute vec4 p01_04, p05_08, p09_12, p13_16,","               p17_20, p21_24, p25_28, p29_32,","               p33_36, p37_40, p41_44, p45_48,","               p49_52, p53_56, p57_60, colors;","","uniform mat4 dim0A, dim1A, dim0B, dim1B, dim0C, dim1C, dim0D, dim1D,","             loA, hiA, loB, hiB, loC, hiC, loD, hiD;","","uniform vec2 resolution, viewBoxPos, viewBoxSize;","uniform float maskHeight;","uniform float drwLayer; // 0: context, 1: focus, 2: pick","uniform vec4 contextColor;","uniform sampler2D maskTexture, palette;","","bool isPick    = (drwLayer > 1.5);","bool isContext = (drwLayer < 0.5);","","const vec4 ZEROS = vec4(0.0, 0.0, 0.0, 0.0);","const vec4 UNITS = vec4(1.0, 1.0, 1.0, 1.0);","","float val(mat4 p, mat4 v) {","    return dot(matrixCompMult(p, v) * UNITS, UNITS);","}","","float axisY(float ratio, mat4 A, mat4 B, mat4 C, mat4 D) {","    float y1 = val(A, dim0A) + val(B, dim0B) + val(C, dim0C) + val(D, dim0D);","    float y2 = val(A, dim1A) + val(B, dim1B) + val(C, dim1C) + val(D, dim1D);","    return y1 * (1.0 - ratio) + y2 * ratio;","}","","int iMod(int a, int b) {","    return a - b * (a / b);","}","","bool fOutside(float p, float lo, float hi) {","    return (lo < hi) && (lo > p || p > hi);","}","","bool vOutside(vec4 p, vec4 lo, vec4 hi) {","    return (","        fOutside(p[0], lo[0], hi[0]) ||","        fOutside(p[1], lo[1], hi[1]) ||","        fOutside(p[2], lo[2], hi[2]) ||","        fOutside(p[3], lo[3], hi[3])","    );","}","","bool mOutside(mat4 p, mat4 lo, mat4 hi) {","    return (","        vOutside(p[0], lo[0], hi[0]) ||","        vOutside(p[1], lo[1], hi[1]) ||","        vOutside(p[2], lo[2], hi[2]) ||","        vOutside(p[3], lo[3], hi[3])","    );","}","","bool outsideBoundingBox(mat4 A, mat4 B, mat4 C, mat4 D) {","    return mOutside(A, loA, hiA) ||","           mOutside(B, loB, hiB) ||","           mOutside(C, loC, hiC) ||","           mOutside(D, loD, hiD);","}","","bool outsideRasterMask(mat4 A, mat4 B, mat4 C, mat4 D) {","    mat4 pnts[4];","    pnts[0] = A;","    pnts[1] = B;","    pnts[2] = C;","    pnts[3] = D;","","    for(int i = 0; i < 4; ++i) {","        for(int j = 0; j < 4; ++j) {","            for(int k = 0; k < 4; ++k) {","                if(0 == iMod(","                    int(255.0 * texture2D(maskTexture,","                        vec2(","                            (float(i * 2 + j / 2) + 0.5) / 8.0,","                            (pnts[i][j][k] * (maskHeight - 1.0) + 1.0) / maskHeight","                        ))[3]","                    ) / int(pow(2.0, float(iMod(j * 4 + k, 8)))),","                    2","                )) return true;","            }","        }","    }","    return false;","}","","vec4 position(bool isContext, float v, mat4 A, mat4 B, mat4 C, mat4 D) {","    float x = 0.5 * sign(v) + 0.5;","    float y = axisY(x, A, B, C, D);","    float z = 1.0 - abs(v);","","    z += isContext ? 0.0 : 2.0 * float(","        outsideBoundingBox(A, B, C, D) ||","        outsideRasterMask(A, B, C, D)","    );","","    return vec4(","        2.0 * (vec2(x, y) * viewBoxSize + viewBoxPos) / resolution - 1.0,","        z,","        1.0","    );","}","","void main() {","    mat4 A = mat4(p01_04, p05_08, p09_12, p13_16);","    mat4 B = mat4(p17_20, p21_24, p25_28, p29_32);","    mat4 C = mat4(p33_36, p37_40, p41_44, p45_48);","    mat4 D = mat4(p49_52, p53_56, p57_60, ZEROS);","","    float v = colors[3];","","    gl_Position = position(isContext, v, A, B, C, D);","","    fragColor =","        isContext ? vec4(contextColor) :","        isPick ? vec4(colors.rgb, 1.0) : texture2D(palette, vec2(abs(v), 0.5));","}"].join(`
`),L=["precision highp float;","","varying vec4 fragColor;","","void main() {","    gl_FragColor = fragColor;","}"].join(`
`),a=e(30140).maxDimensionCount,C=e(3400),A=1e-6,v=2048,p=new Uint8Array(4),r=new Uint8Array(4),t={shape:[256,1],format:"rgba",type:"uint8",mag:"nearest",min:"nearest"};function s(y){y.read({x:0,y:0,width:1,height:1,data:p})}function n(y,S,T,o,P){var x=y._gl;x.enable(x.SCISSOR_TEST),x.scissor(S,T,o,P),y.clear({color:[0,0,0,0],depth:1})}function f(y,S,T,o,P,x){var _=x.key;function I(N){var k=Math.min(o,P-N*o);N===0&&(window.cancelAnimationFrame(T.currentRafs[_]),delete T.currentRafs[_],n(y,x.scissorX,x.scissorY,x.scissorWidth,x.viewBoxSize[1])),!T.clearOnly&&(x.count=2*k,x.offset=2*N*o,S(x),N*o+k<P&&(T.currentRafs[_]=window.requestAnimationFrame(function(){I(N+1)})),T.drawCompleted=!1)}T.drawCompleted||(s(y),T.drawCompleted=!0),I(0)}function u(y){return Math.max(A,Math.min(1-A,y))}function l(y,S){for(var T=new Array(256),o=0;o<256;o++)T[o]=y(o/255).concat(S);return T}function m(y,S){return(y>>>8*S)%256/255}function h(y,S,T){for(var o=new Array(y*(a+4)),P=0,x=0;x<y;x++){for(var _=0;_<a;_++)o[P++]=_<S.length?S[_].paddedUnitValues[x]:.5;o[P++]=m(x,2),o[P++]=m(x,1),o[P++]=m(x,0),o[P++]=u(T[x])}return o}function M(y,S,T){for(var o=new Array(S*8),P=0,x=0;x<S;x++)for(var _=0;_<2;_++)for(var I=0;I<4;I++){var N=y*4+I,k=T[x*64+N];N===63&&_===0&&(k*=-1),o[P++]=k}return o}function c(y){var S="0"+y;return S.substr(S.length-2)}function i(y){return y<a?"p"+c(y+1)+"_"+c(y+4):"colors"}function d(y,S,T){for(var o=0;o<=a;o+=4)y[i(o)](M(o/4,S,T))}function b(y){for(var S={},T=0;T<=a;T+=4)S[i(T)]=y.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)});return S}function w(y,S,T,o,P,x,_,I,N,k,F,O,z,B){for(var W=[[],[]],q=0;q<64;q++)W[0][q]=q===P?1:0,W[1][q]=q===x?1:0;_*=B,I*=B,N*=B,k*=B;var ee=y.lines.canvasOverdrag*B,Q=y.domain,oe=y.canvasWidth*B,Z=y.canvasHeight*B,Y=y.pad.l*B,te=y.pad.b*B,X=y.layoutHeight*B,$=y.layoutWidth*B,ie=y.deselectedLines.color,J=y.deselectedLines.opacity,j=C.extendFlat({key:F,resolution:[oe,Z],viewBoxPos:[_+ee,I],viewBoxSize:[N,k],i0:P,i1:x,dim0A:W[0].slice(0,16),dim0B:W[0].slice(16,32),dim0C:W[0].slice(32,48),dim0D:W[0].slice(48,64),dim1A:W[1].slice(0,16),dim1B:W[1].slice(16,32),dim1C:W[1].slice(32,48),dim1D:W[1].slice(48,64),drwLayer:O,contextColor:[ie[0]/255,ie[1]/255,ie[2]/255,J!=="auto"?ie[3]*J:Math.max(1/255,Math.pow(1/y.lines.color.length,1/3))],scissorX:(o===S?0:_+ee)+(Y-ee)+$*Q.x[0],scissorWidth:(o===T?oe-_+ee:N+.5)+(o===S?_+ee:0),scissorY:I+te+X*Q.y[0],scissorHeight:k,viewportX:Y-ee+$*Q.x[0],viewportY:te+X*Q.y[0],viewportWidth:oe,viewportHeight:Z},z);return j}function E(y){var S=v-1,T=Math.max(0,Math.floor(y[0]*S),0),o=Math.min(S,Math.ceil(y[1]*S),S);return[Math.min(T,o),Math.max(T,o)]}G.exports=function(y,S){var T=S.context,o=S.pick,P=S.regl,x=P._gl,_=x.getParameter(x.ALIASED_LINE_WIDTH_RANGE),I=Math.max(_[0],Math.min(_[1],S.viewModel.plotGlPixelRatio)),N={currentRafs:{},drawCompleted:!0,clearOnly:!1},k,F,O,z,B=b(P),W,q=P.texture(t),ee=[];oe(S);var Q=P({profile:!1,blend:{enable:T,func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:1,dstAlpha:1},equation:{rgb:"add",alpha:"add"},color:[0,0,0,0]},depth:{enable:!T,mask:!0,func:"less",range:[0,1]},cull:{enable:!0,face:"back"},scissor:{enable:!0,box:{x:P.prop("scissorX"),y:P.prop("scissorY"),width:P.prop("scissorWidth"),height:P.prop("scissorHeight")}},viewport:{x:P.prop("viewportX"),y:P.prop("viewportY"),width:P.prop("viewportWidth"),height:P.prop("viewportHeight")},dither:!1,vert:g,frag:L,primitive:"lines",lineWidth:I,attributes:B,uniforms:{resolution:P.prop("resolution"),viewBoxPos:P.prop("viewBoxPos"),viewBoxSize:P.prop("viewBoxSize"),dim0A:P.prop("dim0A"),dim1A:P.prop("dim1A"),dim0B:P.prop("dim0B"),dim1B:P.prop("dim1B"),dim0C:P.prop("dim0C"),dim1C:P.prop("dim1C"),dim0D:P.prop("dim0D"),dim1D:P.prop("dim1D"),loA:P.prop("loA"),hiA:P.prop("hiA"),loB:P.prop("loB"),hiB:P.prop("hiB"),loC:P.prop("loC"),hiC:P.prop("hiC"),loD:P.prop("loD"),hiD:P.prop("hiD"),palette:q,contextColor:P.prop("contextColor"),maskTexture:P.prop("maskTexture"),drwLayer:P.prop("drwLayer"),maskHeight:P.prop("maskHeight")},offset:P.prop("offset"),count:P.prop("count")});function oe(ie){k=ie.model,F=ie.viewModel,O=F.dimensions.slice(),z=O[0]?O[0].values.length:0;var J=k.lines,j=o?J.color.map(function(ne,le){return le/J.color.length}):J.color,se=h(z,O,j);d(B,z,se),!T&&!o&&(q=P.texture(C.extendFlat({data:l(k.unitToColor,255)},t)))}function Z(ie){var J,j,se,ne=[[],[]];for(se=0;se<64;se++){var le=!ie&&se<O.length?O[se].brush.filter.getBounds():[-1/0,1/0];ne[0][se]=le[0],ne[1][se]=le[1]}var pe=v*8,Ae=new Array(pe);for(J=0;J<pe;J++)Ae[J]=255;if(!ie)for(J=0;J<O.length;J++){var be=J%8,Re=(J-be)/8,xe=Math.pow(2,be),Me=O[J],ye=Me.brush.filter.get();if(!(ye.length<2)){var Se=E(ye[0])[1];for(j=1;j<ye.length;j++){var Fe=E(ye[j]);for(se=Se+1;se<Fe[0];se++)Ae[se*8+Re]&=~xe;Se=Math.max(Se,Fe[1])}}}var Be={shape:[8,v],format:"alpha",type:"uint8",mag:"nearest",min:"nearest",data:Ae};return W?W(Be):W=P.texture(Be),{maskTexture:W,maskHeight:v,loA:ne[0].slice(0,16),loB:ne[0].slice(16,32),loC:ne[0].slice(32,48),loD:ne[0].slice(48,64),hiA:ne[1].slice(0,16),hiB:ne[1].slice(16,32),hiC:ne[1].slice(32,48),hiD:ne[1].slice(48,64)}}function Y(ie,J,j){var se=ie.length,ne,le,pe,Ae=1/0,be=-1/0;for(ne=0;ne<se;ne++)ie[ne].dim0.canvasX<Ae&&(Ae=ie[ne].dim0.canvasX,le=ne),ie[ne].dim1.canvasX>be&&(be=ie[ne].dim1.canvasX,pe=ne);se===0&&n(P,0,0,k.canvasWidth,k.canvasHeight);var Re=Z(T);for(ne=0;ne<se;ne++){var xe=ie[ne],Me=xe.dim0.crossfilterDimensionIndex,ye=xe.dim1.crossfilterDimensionIndex,Se=xe.canvasX,Fe=xe.canvasY,Be=Se+xe.panelSizeX,_e=xe.plotGlPixelRatio;if(J||!ee[Me]||ee[Me][0]!==Se||ee[Me][1]!==Be){ee[Me]=[Se,Be];var Ue=w(k,le,pe,ne,Me,ye,Se,Fe,xe.panelSizeX,xe.panelSizeY,xe.dim0.crossfilterDimensionIndex,T?0:o?2:1,Re,_e);N.clearOnly=j;var it=J?k.lines.blockLineCount:z;f(P,Q,N,it,z,Ue)}}}function te(ie,J){return P.read({x:ie,y:J,width:1,height:1,data:r}),r}function X(ie,J,j,se){var ne=new Uint8Array(4*j*se);return P.read({x:ie,y:J,width:j,height:se,data:ne}),ne}function $(){y.style["pointer-events"]="none",q.destroy(),W&&W.destroy();for(var ie in B)B[ie].destroy()}return{render:Y,readPixel:te,readPixels:X,destroy:$,update:oe}}},26284:function(G){G.exports=function(U,e,g,L){L||(L=1/0);var a,C;for(a=0;a<e.length;a++)C=e[a],C.visible&&(L=Math.min(L,C[g].length));for(L===1/0&&(L=0),U._length=L,a=0;a<e.length;a++)C=e[a],C.visible&&(C._length=L);return L}},36336:function(G,U,e){var g=e(33428),L=e(3400),a=L.isArrayOrTypedArray,C=L.numberFormat,A=e(96824),v=e(54460),p=L.strRotate,r=L.strTranslate,t=e(72736),s=e(43616),n=e(8932),f=e(71688),u=f.keyFun,l=f.repeat,m=f.unwrap,h=e(95724),M=e(30140),c=e(71864),i=e(51352);function d(ee,Q,oe){return L.aggNums(ee,null,Q,oe)}function b(ee,Q){return E(d(Math.min,ee,Q),d(Math.max,ee,Q))}function w(ee){var Q=ee.range;return Q?E(Q[0],Q[1]):b(ee.values,ee._length)}function E(ee,Q){return(isNaN(ee)||!isFinite(ee))&&(ee=0),(isNaN(Q)||!isFinite(Q))&&(Q=0),ee===Q&&(ee===0?(ee-=1,Q+=1):(ee*=.9,Q*=1.1)),[ee,Q]}function y(ee,Q){return Q?function(oe,Z){var Y=Q[Z];return Y==null?ee(oe):Y}:ee}function S(ee,Q,oe,Z,Y){var te=w(oe);return Z?g.scale.ordinal().domain(Z.map(y(C(oe.tickformat),Y))).range(Z.map(function(X){var $=(X-te[0])/(te[1]-te[0]);return ee-Q+$*(2*Q-ee)})):g.scale.linear().domain(te).range([ee-Q,Q])}function T(ee,Q){return g.scale.linear().range([Q,ee-Q])}function o(ee,Q){return g.scale.linear().domain(w(ee)).range([Q,1-Q])}function P(ee){if(!!ee.tickvals){var Q=w(ee);return g.scale.ordinal().domain(ee.tickvals).range(ee.tickvals.map(function(oe){return(oe-Q[0])/(Q[1]-Q[0])}))}}function x(ee){var Q=ee.map(function(te){return te[0]}),oe=ee.map(function(te){var X=A(te[1]);return g.rgb("rgb("+X[0]+","+X[1]+","+X[2]+")")}),Z=function(te){return function(X){return X[te]}},Y="rgb".split("").map(function(te){return g.scale.linear().clamp(!0).domain(Q).range(oe.map(Z(te)))});return function(te){return Y.map(function(X){return X(te)})}}function _(ee){return ee.dimensions.some(function(Q){return Q.brush.filterSpecified})}function I(ee,Q,oe){var Z=m(Q),Y=Z.trace,te=h.convertTypedArray(Z.lineColor),X=Y.line,$={color:A(Y.unselected.line.color),opacity:Y.unselected.line.opacity},ie=n.extractOpts(X),J=ie.reversescale?n.flipScale(Z.cscale):Z.cscale,j=Y.domain,se=Y.dimensions,ne=ee.width,le=Y.labelangle,pe=Y.labelside,Ae=Y.labelfont,be=Y.tickfont,Re=Y.rangefont,xe=L.extendDeepNoArrays({},X,{color:te.map(g.scale.linear().domain(w({values:te,range:[ie.min,ie.max],_length:Y._length}))),blockLineCount:M.blockLineCount,canvasOverdrag:M.overdrag*M.canvasPixelRatio}),Me=Math.floor(ne*(j.x[1]-j.x[0])),ye=Math.floor(ee.height*(j.y[1]-j.y[0])),Se=ee.margin||{l:80,r:80,t:100,b:80},Fe=Me,Be=ye;return{key:oe,colCount:se.filter(h.isVisible).length,dimensions:se,tickDistance:M.tickDistance,unitToColor:x(J),lines:xe,deselectedLines:$,labelAngle:le,labelSide:pe,labelFont:Ae,tickFont:be,rangeFont:Re,layoutWidth:ne,layoutHeight:ee.height,domain:j,translateX:j.x[0]*ne,translateY:ee.height-j.y[1]*ee.height,pad:Se,canvasWidth:Fe*M.canvasPixelRatio+2*xe.canvasOverdrag,canvasHeight:Be*M.canvasPixelRatio,width:Fe,height:Be,canvasPixelRatio:M.canvasPixelRatio}}function N(ee,Q,oe){var Z=oe.width,Y=oe.height,te=oe.dimensions,X=oe.canvasPixelRatio,$=function(ne){return Z*ne/Math.max(1,oe.colCount-1)},ie=M.verticalPadding/Y,J=T(Y,M.verticalPadding),j={key:oe.key,xScale:$,model:oe,inBrushDrag:!1},se={};return j.dimensions=te.filter(h.isVisible).map(function(ne,le){var pe=o(ne,ie),Ae=se[ne.label];se[ne.label]=(Ae||0)+1;var be=ne.label+(Ae?"__"+Ae:""),Re=ne.constraintrange,xe=Re&&Re.length;xe&&!a(Re[0])&&(Re=[Re]);var Me=xe?Re.map(function(qe){return qe.map(pe)}):[[-1/0,1/0]],ye=function(){var qe=j;qe.focusLayer&&qe.focusLayer.render(qe.panels,!0);var ft=_(qe);!ee.contextShown()&&ft?(qe.contextLayer&&qe.contextLayer.render(qe.panels,!0),ee.contextShown(!0)):ee.contextShown()&&!ft&&(qe.contextLayer&&qe.contextLayer.render(qe.panels,!0,!0),ee.contextShown(!1))},Se=ne.values;Se.length>ne._length&&(Se=Se.slice(0,ne._length));var Fe=ne.tickvals,Be;function _e(qe,ft){return{val:qe,text:Be[ft]}}function Ue(qe,ft){return qe.val-ft.val}if(a(Fe)&&Fe.length){L.isTypedArray(Fe)&&(Fe=Array.from(Fe)),Be=ne.ticktext,!a(Be)||!Be.length?Be=Fe.map(C(ne.tickformat)):Be.length>Fe.length?Be=Be.slice(0,Fe.length):Fe.length>Be.length&&(Fe=Fe.slice(0,Be.length));for(var it=1;it<Fe.length;it++)if(Fe[it]<Fe[it-1]){for(var lt=Fe.map(_e).sort(Ue),$e=0;$e<Fe.length;$e++)Fe[$e]=lt[$e].val,Be[$e]=lt[$e].text;break}}else Fe=void 0;return Se=h.convertTypedArray(Se),{key:be,label:ne.label,tickFormat:ne.tickformat,tickvals:Fe,ticktext:Be,ordinal:h.isOrdinal(ne),multiselect:ne.multiselect,xIndex:le,crossfilterDimensionIndex:le,visibleIndex:ne._index,height:Y,values:Se,paddedUnitValues:Se.map(pe),unitTickvals:Fe&&Fe.map(pe),xScale:$,x:$(le),canvasX:$(le)*X,unitToPaddedPx:J,domainScale:S(Y,M.verticalPadding,ne,Fe,Be),ordinalScale:P(ne),parent:j,model:oe,brush:c.makeBrush(ee,xe,Me,function(){ee.linePickActive(!1)},ye,function(qe){if(j.focusLayer.render(j.panels,!0),j.pickLayer&&j.pickLayer.render(j.panels,!0),ee.linePickActive(!0),Q&&Q.filterChanged){var ft=pe.invert,ct=qe.map(function(pt){return pt.map(ft).sort(L.sorterAsc)}).sort(function(pt,yt){return pt[0]-yt[0]});Q.filterChanged(j.key,ne._index,ct)}})}}),j}function k(ee){ee.classed(M.cn.axisExtentText,!0).attr("text-anchor","middle").style("cursor","default")}function F(){var ee=!0,Q=!1;return{linePickActive:function(oe){return arguments.length?ee=!!oe:ee},contextShown:function(oe){return arguments.length?Q=!!oe:Q}}}function O(ee,Q){var oe=Q==="top"?1:-1,Z=ee*Math.PI/180,Y=Math.sin(Z),te=Math.cos(Z);return{dir:oe,dx:Y,dy:te,degrees:ee}}function z(ee,Q,oe){for(var Z=Q.panels||(Q.panels=[]),Y=ee.data(),te=0;te<Y.length-1;te++){var X=Z[te]||(Z[te]={}),$=Y[te],ie=Y[te+1];X.dim0=$,X.dim1=ie,X.canvasX=$.canvasX,X.panelSizeX=ie.canvasX-$.canvasX,X.panelSizeY=Q.model.canvasHeight,X.y=0,X.canvasY=0,X.plotGlPixelRatio=oe}}function B(ee){for(var Q=0;Q<ee.length;Q++)for(var oe=0;oe<ee[Q].length;oe++)for(var Z=ee[Q][oe].trace,Y=Z.dimensions,te=0;te<Y.length;te++){var X=Y[te].values,$=Y[te]._ax;$&&($.range?$.range=E($.range[0],$.range[1]):$.range=b(X,Z._length),$.dtick||($.dtick=.01*(Math.abs($.range[1]-$.range[0])||1)),$.tickformat=Y[te].tickformat,v.calcTicks($),$.cleanRange())}}function W(ee,Q){return v.tickText(ee._ax,Q,!1).text}function q(ee,Q){if(ee.ordinal)return"";var oe=ee.domainScale.domain(),Z=oe[Q?oe.length-1:0];return W(ee.model.dimensions[ee.visibleIndex],Z)}G.exports=function(Q,oe,Z,Y){var te=Q._context.staticPlot,X=Q._fullLayout,$=X._toppaper,ie=X._glcontainer,J=Q._context.plotGlPixelRatio,j=Q._fullLayout.paper_bgcolor;B(oe);var se=F(),ne=oe.filter(function($e){return m($e).trace.visible}).map(I.bind(0,Z)).map(N.bind(0,se,Y));ie.each(function($e,qe){return L.extendFlat($e,ne[qe])});var le=ie.selectAll(".gl-canvas").each(function($e){$e.viewModel=ne[0],$e.viewModel.plotGlPixelRatio=J,$e.viewModel.paperColor=j,$e.model=$e.viewModel?$e.viewModel.model:null}),pe=null,Ae=le.filter(function($e){return $e.pick});Ae.style("pointer-events",te?"none":"auto").on("mousemove",function($e){if(se.linePickActive()&&$e.lineLayer&&Y&&Y.hover){var qe=g.event,ft=this.width,ct=this.height,pt=g.mouse(this),yt=pt[0],Et=pt[1];if(yt<0||Et<0||yt>=ft||Et>=ct)return;var tt=$e.lineLayer.readPixel(yt,ct-1-Et),Ie=tt[3]!==0,We=Ie?tt[2]+256*(tt[1]+256*tt[0]):null,Ze={x:yt,y:Et,clientX:qe.clientX,clientY:qe.clientY,dataIndex:$e.model.key,curveNumber:We};We!==pe&&(Ie?Y.hover(Ze):Y.unhover&&Y.unhover(Ze),pe=We)}}),le.style("opacity",function($e){return $e.pick?0:1}),$.style("background","rgba(255, 255, 255, 0)");var be=$.selectAll("."+M.cn.parcoords).data(ne,u);be.exit().remove(),be.enter().append("g").classed(M.cn.parcoords,!0).style("shape-rendering","crispEdges").style("pointer-events","none"),be.attr("transform",function($e){return r($e.model.translateX,$e.model.translateY)});var Re=be.selectAll("."+M.cn.parcoordsControlView).data(l,u);Re.enter().append("g").classed(M.cn.parcoordsControlView,!0),Re.attr("transform",function($e){return r($e.model.pad.l,$e.model.pad.t)});var xe=Re.selectAll("."+M.cn.yAxis).data(function($e){return $e.dimensions},u);xe.enter().append("g").classed(M.cn.yAxis,!0),Re.each(function($e){z(xe,$e,J)}),le.each(function($e){if($e.viewModel){!$e.lineLayer||Y?$e.lineLayer=i(this,$e):$e.lineLayer.update($e),($e.key||$e.key===0)&&($e.viewModel[$e.key]=$e.lineLayer);var qe=!$e.context||Y;$e.lineLayer.render($e.viewModel.panels,qe)}}),xe.attr("transform",function($e){return r($e.xScale($e.xIndex),0)}),xe.call(g.behavior.drag().origin(function($e){return $e}).on("drag",function($e){var qe=$e.parent;se.linePickActive(!1),$e.x=Math.max(-M.overdrag,Math.min($e.model.width+M.overdrag,g.event.x)),$e.canvasX=$e.x*$e.model.canvasPixelRatio,xe.sort(function(ft,ct){return ft.x-ct.x}).each(function(ft,ct){ft.xIndex=ct,ft.x=$e===ft?ft.x:ft.xScale(ft.xIndex),ft.canvasX=ft.x*ft.model.canvasPixelRatio}),z(xe,qe,J),xe.filter(function(ft){return Math.abs($e.xIndex-ft.xIndex)!==0}).attr("transform",function(ft){return r(ft.xScale(ft.xIndex),0)}),g.select(this).attr("transform",r($e.x,0)),xe.each(function(ft,ct,pt){pt===$e.parent.key&&(qe.dimensions[ct]=ft)}),qe.contextLayer&&qe.contextLayer.render(qe.panels,!1,!_(qe)),qe.focusLayer.render&&qe.focusLayer.render(qe.panels)}).on("dragend",function($e){var qe=$e.parent;$e.x=$e.xScale($e.xIndex),$e.canvasX=$e.x*$e.model.canvasPixelRatio,z(xe,qe,J),g.select(this).attr("transform",function(ft){return r(ft.x,0)}),qe.contextLayer&&qe.contextLayer.render(qe.panels,!1,!_(qe)),qe.focusLayer&&qe.focusLayer.render(qe.panels),qe.pickLayer&&qe.pickLayer.render(qe.panels,!0),se.linePickActive(!0),Y&&Y.axesMoved&&Y.axesMoved(qe.key,qe.dimensions.map(function(ft){return ft.crossfilterDimensionIndex}))})),xe.exit().remove();var Me=xe.selectAll("."+M.cn.axisOverlays).data(l,u);Me.enter().append("g").classed(M.cn.axisOverlays,!0),Me.selectAll("."+M.cn.axis).remove();var ye=Me.selectAll("."+M.cn.axis).data(l,u);ye.enter().append("g").classed(M.cn.axis,!0),ye.each(function($e){var qe=$e.model.height/$e.model.tickDistance,ft=$e.domainScale,ct=ft.domain();g.select(this).call(g.svg.axis().orient("left").tickSize(4).outerTickSize(2).ticks(qe,$e.tickFormat).tickValues($e.ordinal?ct:null).tickFormat(function(pt){return h.isOrdinal($e)?pt:W($e.model.dimensions[$e.visibleIndex],pt)}).scale(ft)),s.font(ye.selectAll("text"),$e.model.tickFont)}),ye.selectAll(".domain, .tick>line").attr("fill","none").attr("stroke","black").attr("stroke-opacity",.25).attr("stroke-width","1px"),ye.selectAll("text").style("text-shadow",t.makeTextShadow(j)).style("cursor","default");var Se=Me.selectAll("."+M.cn.axisHeading).data(l,u);Se.enter().append("g").classed(M.cn.axisHeading,!0);var Fe=Se.selectAll("."+M.cn.axisTitle).data(l,u);Fe.enter().append("text").classed(M.cn.axisTitle,!0).attr("text-anchor","middle").style("cursor","ew-resize").style("pointer-events",te?"none":"auto"),Fe.text(function($e){return $e.label}).each(function($e){var qe=g.select(this);s.font(qe,$e.model.labelFont),t.convertToTspans(qe,Q)}).attr("transform",function($e){var qe=O($e.model.labelAngle,$e.model.labelSide),ft=M.axisTitleOffset;return(qe.dir>0?"":r(0,2*ft+$e.model.height))+p(qe.degrees)+r(-ft*qe.dx,-ft*qe.dy)}).attr("text-anchor",function($e){var qe=O($e.model.labelAngle,$e.model.labelSide),ft=Math.abs(qe.dx),ct=Math.abs(qe.dy);return 2*ft>ct?qe.dir*qe.dx<0?"start":"end":"middle"});var Be=Me.selectAll("."+M.cn.axisExtent).data(l,u);Be.enter().append("g").classed(M.cn.axisExtent,!0);var _e=Be.selectAll("."+M.cn.axisExtentTop).data(l,u);_e.enter().append("g").classed(M.cn.axisExtentTop,!0),_e.attr("transform",r(0,-M.axisExtentOffset));var Ue=_e.selectAll("."+M.cn.axisExtentTopText).data(l,u);Ue.enter().append("text").classed(M.cn.axisExtentTopText,!0).call(k),Ue.text(function($e){return q($e,!0)}).each(function($e){s.font(g.select(this),$e.model.rangeFont)});var it=Be.selectAll("."+M.cn.axisExtentBottom).data(l,u);it.enter().append("g").classed(M.cn.axisExtentBottom,!0),it.attr("transform",function($e){return r(0,$e.model.height+M.axisExtentOffset)});var lt=it.selectAll("."+M.cn.axisExtentBottomText).data(l,u);lt.enter().append("text").classed(M.cn.axisExtentBottomText,!0).attr("dy","0.75em").call(k),lt.text(function($e){return q($e,!1)}).each(function($e){s.font(g.select(this),$e.model.rangeFont)}),c.ensureAxisBrush(Me,j,Q)}},24196:function(G,U,e){var g=e(36336),L=e(5048),a=e(95724).isVisible,C={};function A(r,t,s){var n=t.indexOf(s),f=r.indexOf(n);return f===-1&&(f+=t.length),f}function v(r,t){return function(n,f){return A(r,t,n)-A(r,t,f)}}var p=G.exports=function(t,s){var n=t._fullLayout,f=L(t,[],C);if(!!f){var u={},l={},m={},h={},M=n._size;s.forEach(function(w,E){var y=w[0].trace;m[E]=y.index;var S=h[E]=y._fullInput.index;u[E]=t.data[S].dimensions,l[E]=t.data[S].dimensions.slice()});var c=function(w,E,y){var S=l[w][E],T=y.map(function(N){return N.slice()}),o="dimensions["+E+"].constraintrange",P=n._tracePreGUI[t._fullData[m[w]]._fullInput.uid];if(P[o]===void 0){var x=S.constraintrange;P[o]=x||null}var _=t._fullData[m[w]].dimensions[E];T.length?(T.length===1&&(T=T[0]),S.constraintrange=T,_.constraintrange=T.slice(),T=[T]):(delete S.constraintrange,delete _.constraintrange,T=null);var I={};I[o]=T,t.emit("plotly_restyle",[I,[h[w]]])},i=function(w){t.emit("plotly_hover",w)},d=function(w){t.emit("plotly_unhover",w)},b=function(w,E){var y=v(E,l[w].filter(a));u[w].sort(y),l[w].filter(function(S){return!a(S)}).sort(function(S){return l[w].indexOf(S)}).forEach(function(S){u[w].splice(u[w].indexOf(S),1),u[w].splice(l[w].indexOf(S),0,S)}),t.emit("plotly_restyle",[{dimensions:[u[w]]},[h[w]]])};g(t,s,{width:M.w,height:M.h,margin:{t:M.t,r:M.r,b:M.b,l:M.l}},{filterChanged:c,hover:i,unhover:d,axesMoved:b})}};p.reglPrecompiled=C},74996:function(G,U,e){var g=e(45464),L=e(86968).u,a=e(25376),C=e(22548),A=e(21776).Ks,v=e(21776).Gw,p=e(92880).extendFlat,r=e(98192).c,t=a({editType:"plot",arrayOk:!0,colorEditType:"plot"});G.exports={labels:{valType:"data_array",editType:"calc"},label0:{valType:"number",dflt:0,editType:"calc"},dlabel:{valType:"number",dflt:1,editType:"calc"},values:{valType:"data_array",editType:"calc"},marker:{colors:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:C.defaultLine,arrayOk:!0,editType:"style"},width:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"style"},editType:"calc"},pattern:r,editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},scalegroup:{valType:"string",dflt:"",editType:"calc"},textinfo:{valType:"flaglist",flags:["label","text","value","percent"],extras:["none"],editType:"calc"},hoverinfo:p({},g.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:A({},{keys:["label","color","value","percent","text"]}),texttemplate:v({editType:"plot"},{keys:["label","color","value","percent","text"]}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"plot"},textfont:p({},t,{}),insidetextorientation:{valType:"enumerated",values:["horizontal","radial","tangential","auto"],dflt:"auto",editType:"plot"},insidetextfont:p({},t,{}),outsidetextfont:p({},t,{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},title:{text:{valType:"string",dflt:"",editType:"plot"},font:p({},t,{}),position:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"plot"},editType:"plot"},domain:L({name:"pie",trace:!0,editType:"calc"}),hole:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},sort:{valType:"boolean",dflt:!0,editType:"calc"},direction:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"angle",dflt:0,editType:"calc"},pull:{valType:"number",min:0,max:1,dflt:0,arrayOk:!0,editType:"calc"},_deprecated:{title:{valType:"string",dflt:"",editType:"calc"},titlefont:p({},t,{}),titleposition:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"calc"}}}},80036:function(G,U,e){var g=e(7316);U.name="pie",U.plot=function(L,a,C,A){g.plotBasePlot(U.name,L,a,C,A)},U.clean=function(L,a,C,A){g.cleanBasePlot(U.name,L,a,C,A)}},45768:function(G,U,e){var g=e(38248),L=e(49760),a=e(76308),C={};function A(t,s){var n=[],f=t._fullLayout,u=f.hiddenlabels||[],l=s.labels,m=s.marker.colors||[],h=s.values,M=s._length,c=s._hasValues&&M,i,d;if(s.dlabel)for(l=new Array(M),i=0;i<M;i++)l[i]=String(s.label0+i*s.dlabel);var b={},w=v(f["_"+s.type+"colormap"]),E=0,y=!1;for(i=0;i<M;i++){var S,T,o;if(c){if(S=h[i],!g(S))continue;S=+S}else S=1;T=l[i],(T===void 0||T==="")&&(T=i),T=String(T);var P=b[T];P===void 0?(b[T]=n.length,o=u.indexOf(T)!==-1,o||(E+=S),n.push({v:S,label:T,color:w(m[i],T),i,pts:[i],hidden:o})):(y=!0,d=n[P],d.v+=S,d.pts.push(i),d.hidden||(E+=S),d.color===!1&&m[i]&&(d.color=w(m[i],T)))}n=n.filter(function(_){return _.v>=0});var x=s.type==="funnelarea"?y:s.sort;return x&&n.sort(function(_,I){return I.v-_.v}),n[0]&&(n[0].vTotal=E),n}function v(t){return function(n,f){return!n||(n=L(n),!n.isValid())?!1:(n=a.addOpacity(n,n.getAlpha()),t[f]||(t[f]=n),n)}}function p(t,s){var n=(s||{}).type;n||(n="pie");var f=t._fullLayout,u=t.calcdata,l=f[n+"colorway"],m=f["_"+n+"colormap"];f["extend"+n+"colors"]&&(l=r(l,C));for(var h=0,M=0;M<u.length;M++){var c=u[M],i=c[0].trace.type;if(i===n)for(var d=0;d<c.length;d++){var b=c[d];b.color===!1&&(m[b.label]?b.color=m[b.label]:(m[b.label]=b.color=l[h%l.length],h++))}}}function r(t,s){var n,f=JSON.stringify(t),u=s[f];if(!u){for(u=t.slice(),n=0;n<t.length;n++)u.push(L(t[n]).lighten(20).toHexString());for(n=0;n<t.length;n++)u.push(L(t[n]).darken(20).toHexString());s[f]=u}return u}G.exports={calc:A,crossTraceCalc:p,makePullColorFn:v,generateExtendedColors:r}},74174:function(G,U,e){var g=e(38248),L=e(3400),a=e(74996),C=e(86968).Q,A=e(31508).handleText,v=e(3400).coercePattern;function p(s,n){var f=L.isArrayOrTypedArray(s),u=L.isArrayOrTypedArray(n),l=Math.min(f?s.length:1/0,u?n.length:1/0);if(isFinite(l)||(l=0),l&&u){for(var m,h=0;h<l;h++){var M=n[h];if(g(M)&&M>0){m=!0;break}}m||(l=0)}return{hasLabels:f,hasValues:u,len:l}}function r(s,n,f,u,l){var m=u("marker.line.width");m&&u("marker.line.color",l?void 0:f.paper_bgcolor);var h=u("marker.colors");v(u,"marker.pattern",h),s.marker&&!n.marker.pattern.fgcolor&&(n.marker.pattern.fgcolor=s.marker.colors),n.marker.pattern.bgcolor||(n.marker.pattern.bgcolor=f.paper_bgcolor)}function t(s,n,f,u){function l(P,x){return L.coerce(s,n,a,P,x)}var m=l("labels"),h=l("values"),M=p(m,h),c=M.len;if(n._hasLabels=M.hasLabels,n._hasValues=M.hasValues,!n._hasLabels&&n._hasValues&&(l("label0"),l("dlabel")),!c){n.visible=!1;return}n._length=c,r(s,n,u,l,!0),l("scalegroup");var i=l("text"),d=l("texttemplate"),b;if(d||(b=l("textinfo",L.isArrayOrTypedArray(i)?"text+percent":"percent")),l("hovertext"),l("hovertemplate"),d||b&&b!=="none"){var w=l("textposition");A(s,n,u,l,w,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1});var E=Array.isArray(w)||w==="auto",y=E||w==="outside";y&&l("automargin"),(w==="inside"||w==="auto"||Array.isArray(w))&&l("insidetextorientation")}else b==="none"&&l("textposition","none");C(n,u,l);var S=l("hole"),T=l("title.text");if(T){var o=l("title.position",S?"middle center":"top center");!S&&o==="middle center"&&(n.title.position="top center"),L.coerceFont(l,"title.font",u.font)}l("sort"),l("direction"),l("rotation"),l("pull")}G.exports={handleLabelsAndValues:p,handleMarkerDefaults:r,supplyDefaults:t}},53644:function(G,U,e){var g=e(10624).appendArrayMultiPointValues;G.exports=function(a,C){var A={curveNumber:C.index,pointNumbers:a.pts,data:C._input,fullData:C,label:a.label,color:a.color,value:a.v,percent:a.percent,text:a.text,bbox:a.bbox,v:a.v};return a.pts.length===1&&(A.pointNumber=A.i=a.pts[0]),g(A,C,a.pts),C.type==="funnelarea"&&(delete A.v,delete A.i),A}},21552:function(G,U,e){var g=e(43616),L=e(76308);G.exports=function(C,A,v,p){var r=v.marker.pattern;r&&r.shape?g.pointStyle(C,v,p,A):L.fill(C,A.color)}},69656:function(G,U,e){var g=e(3400);function L(a){return a.indexOf("e")!==-1?a.replace(/[.]?0+e/,"e"):a.indexOf(".")!==-1?a.replace(/[.]?0+$/,""):a}U.formatPiePercent=function(C,A){var v=L((C*100).toPrecision(3));return g.numSeparate(v,A)+"%"},U.formatPieValue=function(C,A){var v=L(C.toPrecision(10));return g.numSeparate(v,A)},U.getFirstFilled=function(C,A){if(!!g.isArrayOrTypedArray(C))for(var v=0;v<A.length;v++){var p=C[A[v]];if(p||p===0||p==="")return p}},U.castOption=function(C,A){if(g.isArrayOrTypedArray(C))return U.getFirstFilled(C,A);if(C)return C},U.getRotationAngle=function(a){return(a==="auto"?0:a)*Math.PI/180}},75792:function(G,U,e){G.exports={attributes:e(74996),supplyDefaults:e(74174).supplyDefaults,supplyLayoutDefaults:e(90248),layoutAttributes:e(85204),calc:e(45768).calc,crossTraceCalc:e(45768).crossTraceCalc,plot:e(37820).plot,style:e(22152),styleOne:e(10528),moduleType:"trace",name:"pie",basePlotModule:e(80036),categories:["pie-like","pie","showLegend"],meta:{}}},85204:function(G){G.exports={hiddenlabels:{valType:"data_array",editType:"calc"},piecolorway:{valType:"colorlist",editType:"calc"},extendpiecolors:{valType:"boolean",dflt:!0,editType:"calc"}}},90248:function(G,U,e){var g=e(3400),L=e(85204);G.exports=function(C,A){function v(p,r){return g.coerce(C,A,L,p,r)}v("hiddenlabels"),v("piecolorway",A.colorway),v("extendpiecolors")}},37820:function(G,U,e){var g=e(33428),L=e(7316),a=e(93024),C=e(76308),A=e(43616),v=e(3400),p=v.strScale,r=v.strTranslate,t=e(72736),s=e(82744),n=s.recordMinTextSize,f=s.clearMinTextSize,u=e(78048).TEXTPAD,l=e(69656),m=e(53644),h=e(3400).isValidTextValue;function M(Y,te){var X=Y._context.staticPlot,$=Y._fullLayout,ie=$._size;f("pie",$),w(te,Y),W(te,ie);var J=v.makeTraceGroups($._pielayer,te,"trace").each(function(j){var se=g.select(this),ne=j[0],le=ne.trace;ee(j),se.attr("stroke-linejoin","round"),se.each(function(){var pe=g.select(this).selectAll("g.slice").data(j);pe.enter().append("g").classed("slice",!0),pe.exit().remove();var Ae=[[[],[]],[[],[]]],be=!1;pe.each(function(_e,Ue){if(_e.hidden){g.select(this).selectAll("path,g").remove();return}_e.pointNumber=_e.i,_e.curveNumber=le.index,Ae[_e.pxmid[1]<0?0:1][_e.pxmid[0]<0?0:1].push(_e);var it=ne.cx,lt=ne.cy,$e=g.select(this),qe=$e.selectAll("path.surface").data([_e]);if(qe.enter().append("path").classed("surface",!0).style({"pointer-events":X?"none":"all"}),$e.call(i,Y,j),le.pull){var ft=+l.castOption(le.pull,_e.pts)||0;ft>0&&(it+=ft*_e.pxmid[0],lt+=ft*_e.pxmid[1])}_e.cxFinal=it,_e.cyFinal=lt;function ct(Ze,He,De,me){var ge=me*(He[0]-Ze[0]),Ee=me*(He[1]-Ze[1]);return"a"+me*ne.r+","+me*ne.r+" 0 "+_e.largeArc+(De?" 1 ":" 0 ")+ge+","+Ee}var pt=le.hole;if(_e.v===ne.vTotal){var yt="M"+(it+_e.px0[0])+","+(lt+_e.px0[1])+ct(_e.px0,_e.pxmid,!0,1)+ct(_e.pxmid,_e.px0,!0,1)+"Z";pt?qe.attr("d","M"+(it+pt*_e.px0[0])+","+(lt+pt*_e.px0[1])+ct(_e.px0,_e.pxmid,!1,pt)+ct(_e.pxmid,_e.px0,!1,pt)+"Z"+yt):qe.attr("d",yt)}else{var Et=ct(_e.px0,_e.px1,!0,1);if(pt){var tt=1-pt;qe.attr("d","M"+(it+pt*_e.px1[0])+","+(lt+pt*_e.px1[1])+ct(_e.px1,_e.px0,!1,pt)+"l"+tt*_e.px0[0]+","+tt*_e.px0[1]+Et+"Z")}else qe.attr("d","M"+it+","+lt+"l"+_e.px0[0]+","+_e.px0[1]+Et+"Z")}oe(Y,_e,ne);var Ie=l.castOption(le.textposition,_e.pts),We=$e.selectAll("g.slicetext").data(_e.text&&Ie!=="none"?[0]:[]);We.enter().append("g").classed("slicetext",!0),We.exit().remove(),We.each(function(){var Ze=v.ensureSingle(g.select(this),"text","",function(Xe){Xe.attr("data-notex",1)}),He=v.ensureUniformFontSize(Y,Ie==="outside"?d(le,_e,$.font):b(le,_e,$.font));Ze.text(_e.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(A.font,He).call(t.convertToTspans,Y);var De=A.bBox(Ze.node()),me;if(Ie==="outside")me=I(De,_e);else if(me=E(De,_e,ne),Ie==="auto"&&me.scale<1){var ge=v.ensureUniformFontSize(Y,le.outsidetextfont);Ze.call(A.font,ge),De=A.bBox(Ze.node()),me=I(De,_e)}var Ee=me.textPosAngle,Te=Ee===void 0?_e.pxmid:Q(ne.r,Ee);if(me.targetX=it+Te[0]*me.rCenter+(me.x||0),me.targetY=lt+Te[1]*me.rCenter+(me.y||0),Z(me,De),me.outside){var ze=me.targetY;_e.yLabelMin=ze-De.height/2,_e.yLabelMid=ze,_e.yLabelMax=ze+De.height/2,_e.labelExtraX=0,_e.labelExtraY=0,be=!0}me.fontSize=He.size,n(le.type,me,$),j[Ue].transform=me,v.setTransormAndDisplay(Ze,me)})});var Re=g.select(this).selectAll("g.titletext").data(le.title.text?[0]:[]);if(Re.enter().append("g").classed("titletext",!0),Re.exit().remove(),Re.each(function(){var _e=v.ensureSingle(g.select(this),"text","",function(lt){lt.attr("data-notex",1)}),Ue=le.title.text;le._meta&&(Ue=v.templateString(Ue,le._meta)),_e.text(Ue).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(A.font,le.title.font).call(t.convertToTspans,Y);var it;le.title.position==="middle center"?it=N(ne):it=k(ne,ie),_e.attr("transform",r(it.x,it.y)+p(Math.min(1,it.scale))+r(it.tx,it.ty))}),be&&B(Ae,le),c(pe,le),be&&le.automargin){var xe=A.bBox(se.node()),Me=le.domain,ye=ie.w*(Me.x[1]-Me.x[0]),Se=ie.h*(Me.y[1]-Me.y[0]),Fe=(.5*ye-ne.r)/ie.w,Be=(.5*Se-ne.r)/ie.h;L.autoMargin(Y,"pie."+le.uid+".automargin",{xl:Me.x[0]-Fe,xr:Me.x[1]+Fe,yb:Me.y[0]-Be,yt:Me.y[1]+Be,l:Math.max(ne.cx-ne.r-xe.left,0),r:Math.max(xe.right-(ne.cx+ne.r),0),b:Math.max(xe.bottom-(ne.cy+ne.r),0),t:Math.max(ne.cy-ne.r-xe.top,0),pad:5})}})});setTimeout(function(){J.selectAll("tspan").each(function(){var j=g.select(this);j.attr("dy")&&j.attr("dy",j.attr("dy"))})},0)}function c(Y,te){Y.each(function(X){var $=g.select(this);if(!X.labelExtraX&&!X.labelExtraY){$.select("path.textline").remove();return}var ie=$.select("g.slicetext text");X.transform.targetX+=X.labelExtraX,X.transform.targetY+=X.labelExtraY,v.setTransormAndDisplay(ie,X.transform);var J=X.cxFinal+X.pxmid[0],j=X.cyFinal+X.pxmid[1],se="M"+J+","+j,ne=(X.yLabelMax-X.yLabelMin)*(X.pxmid[0]<0?-1:1)/4;if(X.labelExtraX){var le=X.labelExtraX*X.pxmid[1]/X.pxmid[0],pe=X.yLabelMid+X.labelExtraY-(X.cyFinal+X.pxmid[1]);Math.abs(le)>Math.abs(pe)?se+="l"+pe*X.pxmid[0]/X.pxmid[1]+","+pe+"H"+(J+X.labelExtraX+ne):se+="l"+X.labelExtraX+","+le+"v"+(pe-le)+"h"+ne}else se+="V"+(X.yLabelMid+X.labelExtraY)+"h"+ne;v.ensureSingle($,"path","textline").call(C.stroke,te.outsidetextfont.color).attr({"stroke-width":Math.min(2,te.outsidetextfont.size/8),d:se,fill:"none"})})}function i(Y,te,X){var $=X[0],ie=$.cx,J=$.cy,j=$.trace,se=j.type==="funnelarea";"_hasHoverLabel"in j||(j._hasHoverLabel=!1),"_hasHoverEvent"in j||(j._hasHoverEvent=!1),Y.on("mouseover",function(ne){var le=te._fullLayout,pe=te._fullData[j.index];if(!(te._dragging||le.hovermode===!1)){var Ae=pe.hoverinfo;if(Array.isArray(Ae)&&(Ae=a.castHoverinfo({hoverinfo:[l.castOption(Ae,ne.pts)],_module:j._module},le,0)),Ae==="all"&&(Ae="label+text+value+percent+name"),pe.hovertemplate||Ae!=="none"&&Ae!=="skip"&&Ae){var be=ne.rInscribed||0,Re=ie+ne.pxmid[0]*(1-be),xe=J+ne.pxmid[1]*(1-be),Me=le.separators,ye=[];if(Ae&&Ae.indexOf("label")!==-1&&ye.push(ne.label),ne.text=l.castOption(pe.hovertext||pe.text,ne.pts),Ae&&Ae.indexOf("text")!==-1){var Se=ne.text;v.isValidTextValue(Se)&&ye.push(Se)}ne.value=ne.v,ne.valueLabel=l.formatPieValue(ne.v,Me),Ae&&Ae.indexOf("value")!==-1&&ye.push(ne.valueLabel),ne.percent=ne.v/$.vTotal,ne.percentLabel=l.formatPiePercent(ne.percent,Me),Ae&&Ae.indexOf("percent")!==-1&&ye.push(ne.percentLabel);var Fe=pe.hoverlabel,Be=Fe.font,_e=[];a.loneHover({trace:j,x0:Re-be*$.r,x1:Re+be*$.r,y:xe,_x0:se?ie+ne.TL[0]:Re-be*$.r,_x1:se?ie+ne.TR[0]:Re+be*$.r,_y0:se?J+ne.TL[1]:xe-be*$.r,_y1:se?J+ne.BL[1]:xe+be*$.r,text:ye.join("<br>"),name:pe.hovertemplate||Ae.indexOf("name")!==-1?pe.name:void 0,idealAlign:ne.pxmid[0]<0?"left":"right",color:l.castOption(Fe.bgcolor,ne.pts)||ne.color,borderColor:l.castOption(Fe.bordercolor,ne.pts),fontFamily:l.castOption(Be.family,ne.pts),fontSize:l.castOption(Be.size,ne.pts),fontColor:l.castOption(Be.color,ne.pts),nameLength:l.castOption(Fe.namelength,ne.pts),textAlign:l.castOption(Fe.align,ne.pts),hovertemplate:l.castOption(pe.hovertemplate,ne.pts),hovertemplateLabels:ne,eventData:[m(ne,pe)]},{container:le._hoverlayer.node(),outerContainer:le._paper.node(),gd:te,inOut_bbox:_e}),ne.bbox=_e[0],j._hasHoverLabel=!0}j._hasHoverEvent=!0,te.emit("plotly_hover",{points:[m(ne,pe)],event:g.event})}}),Y.on("mouseout",function(ne){var le=te._fullLayout,pe=te._fullData[j.index],Ae=g.select(this).datum();j._hasHoverEvent&&(ne.originalEvent=g.event,te.emit("plotly_unhover",{points:[m(Ae,pe)],event:g.event}),j._hasHoverEvent=!1),j._hasHoverLabel&&(a.loneUnhover(le._hoverlayer.node()),j._hasHoverLabel=!1)}),Y.on("click",function(ne){var le=te._fullLayout,pe=te._fullData[j.index];te._dragging||le.hovermode===!1||(te._hoverdata=[m(ne,pe)],a.click(te,g.event))})}function d(Y,te,X){var $=l.castOption(Y.outsidetextfont.color,te.pts)||l.castOption(Y.textfont.color,te.pts)||X.color,ie=l.castOption(Y.outsidetextfont.family,te.pts)||l.castOption(Y.textfont.family,te.pts)||X.family,J=l.castOption(Y.outsidetextfont.size,te.pts)||l.castOption(Y.textfont.size,te.pts)||X.size;return{color:$,family:ie,size:J}}function b(Y,te,X){var $=l.castOption(Y.insidetextfont.color,te.pts);!$&&Y._input.textfont&&($=l.castOption(Y._input.textfont.color,te.pts));var ie=l.castOption(Y.insidetextfont.family,te.pts)||l.castOption(Y.textfont.family,te.pts)||X.family,J=l.castOption(Y.insidetextfont.size,te.pts)||l.castOption(Y.textfont.size,te.pts)||X.size;return{color:$||C.contrast(te.color),family:ie,size:J}}function w(Y,te){for(var X,$,ie=0;ie<Y.length;ie++)if(X=Y[ie][0],$=X.trace,$.title.text){var J=$.title.text;$._meta&&(J=v.templateString(J,$._meta));var j=A.tester.append("text").attr("data-notex",1).text(J).call(A.font,$.title.font).call(t.convertToTspans,te),se=A.bBox(j.node(),!0);X.titleBox={width:se.width,height:se.height},j.remove()}}function E(Y,te,X){var $=X.r||te.rpx1,ie=te.rInscribed,J=te.startangle===te.stopangle;if(J)return{rCenter:1-ie,scale:0,rotate:0,textPosAngle:0};var j=te.ring,se=j===1&&Math.abs(te.startangle-te.stopangle)===Math.PI*2,ne=te.halfangle,le=te.midangle,pe=X.trace.insidetextorientation,Ae=pe==="horizontal",be=pe==="tangential",Re=pe==="radial",xe=pe==="auto",Me=[],ye;if(!xe){var Se=function($e,qe){if(y(te,$e)){var ft=Math.abs($e-te.startangle),ct=Math.abs($e-te.stopangle),pt=ft<ct?ft:ct;qe==="tan"?ye=T(Y,$,j,pt,0):ye=S(Y,$,j,pt,Math.PI/2),ye.textPosAngle=$e,Me.push(ye)}},Fe;if(Ae||be){for(Fe=4;Fe>=-4;Fe-=2)Se(Math.PI*Fe,"tan");for(Fe=4;Fe>=-4;Fe-=2)Se(Math.PI*(Fe+1),"tan")}if(Ae||Re){for(Fe=4;Fe>=-4;Fe-=2)Se(Math.PI*(Fe+1.5),"rad");for(Fe=4;Fe>=-4;Fe-=2)Se(Math.PI*(Fe+.5),"rad")}}if(se||xe||Ae){var Be=Math.sqrt(Y.width*Y.width+Y.height*Y.height);if(ye={scale:ie*$*2/Be,rCenter:1-ie,rotate:0},ye.textPosAngle=(te.startangle+te.stopangle)/2,ye.scale>=1)return ye;Me.push(ye)}(xe||Re)&&(ye=S(Y,$,j,ne,le),ye.textPosAngle=(te.startangle+te.stopangle)/2,Me.push(ye)),(xe||be)&&(ye=T(Y,$,j,ne,le),ye.textPosAngle=(te.startangle+te.stopangle)/2,Me.push(ye));for(var _e=0,Ue=0,it=0;it<Me.length;it++){var lt=Me[it].scale;if(Ue<lt&&(Ue=lt,_e=it),!xe&&Ue>=1)break}return Me[_e]}function y(Y,te){var X=Y.startangle,$=Y.stopangle;return X>te&&te>$||X<te&&te<$}function S(Y,te,X,$,ie){te=Math.max(0,te-2*u);var J=Y.width/Y.height,j=x(J,$,te,X);return{scale:j*2/Y.height,rCenter:o(J,j/te),rotate:P(ie)}}function T(Y,te,X,$,ie){te=Math.max(0,te-2*u);var J=Y.height/Y.width,j=x(J,$,te,X);return{scale:j*2/Y.width,rCenter:o(J,j/te),rotate:P(ie+Math.PI/2)}}function o(Y,te){return Math.cos(te)-Y*te}function P(Y){return(180/Math.PI*Y+720)%180-90}function x(Y,te,X,$){var ie=Y+1/(2*Math.tan(te));return X*Math.min(1/(Math.sqrt(ie*ie+.5)+ie),$/(Math.sqrt(Y*Y+$/2)+Y))}function _(Y,te){return Y.v===te.vTotal&&!te.trace.hole?1:Math.min(1/(1+1/Math.sin(Y.halfangle)),Y.ring/2)}function I(Y,te){var X=te.pxmid[0],$=te.pxmid[1],ie=Y.width/2,J=Y.height/2;return X<0&&(ie*=-1),$<0&&(J*=-1),{scale:1,rCenter:1,rotate:0,x:ie+Math.abs(J)*(ie>0?1:-1)/2,y:J/(1+X*X/($*$)),outside:!0}}function N(Y){var te=Math.sqrt(Y.titleBox.width*Y.titleBox.width+Y.titleBox.height*Y.titleBox.height);return{x:Y.cx,y:Y.cy,scale:Y.trace.hole*Y.r*2/te,tx:0,ty:-Y.titleBox.height/2+Y.trace.title.font.size}}function k(Y,te){var X=1,$=1,ie,J=Y.trace,j={x:Y.cx,y:Y.cy},se={tx:0,ty:0};se.ty+=J.title.font.size,ie=z(J),J.title.position.indexOf("top")!==-1?(j.y-=(1+ie)*Y.r,se.ty-=Y.titleBox.height):J.title.position.indexOf("bottom")!==-1&&(j.y+=(1+ie)*Y.r);var ne=F(Y.r,Y.trace.aspectratio),le=te.w*(J.domain.x[1]-J.domain.x[0])/2;return J.title.position.indexOf("left")!==-1?(le=le+ne,j.x-=(1+ie)*ne,se.tx+=Y.titleBox.width/2):J.title.position.indexOf("center")!==-1?le*=2:J.title.position.indexOf("right")!==-1&&(le=le+ne,j.x+=(1+ie)*ne,se.tx-=Y.titleBox.width/2),X=le/Y.titleBox.width,$=O(Y,te)/Y.titleBox.height,{x:j.x,y:j.y,scale:Math.min(X,$),tx:se.tx,ty:se.ty}}function F(Y,te){return Y/(te===void 0?1:te)}function O(Y,te){var X=Y.trace,$=te.h*(X.domain.y[1]-X.domain.y[0]);return Math.min(Y.titleBox.height,$/2)}function z(Y){var te=Y.pull;if(!te)return 0;var X;if(v.isArrayOrTypedArray(te))for(te=0,X=0;X<Y.pull.length;X++)Y.pull[X]>te&&(te=Y.pull[X]);return te}function B(Y,te){var X,$,ie,J,j,se,ne,le,pe,Ae,be,Re,xe;function Me(Be,_e){return Be.pxmid[1]-_e.pxmid[1]}function ye(Be,_e){return _e.pxmid[1]-Be.pxmid[1]}function Se(Be,_e){_e||(_e={});var Ue=_e.labelExtraY+($?_e.yLabelMax:_e.yLabelMin),it=$?Be.yLabelMin:Be.yLabelMax,lt=$?Be.yLabelMax:Be.yLabelMin,$e=Be.cyFinal+j(Be.px0[1],Be.px1[1]),qe=Ue-it,ft,ct,pt,yt,Et,tt;if(qe*ne>0&&(Be.labelExtraY=qe),!!v.isArrayOrTypedArray(te.pull))for(ct=0;ct<Ae.length;ct++)pt=Ae[ct],!(pt===Be||(l.castOption(te.pull,Be.pts)||0)>=(l.castOption(te.pull,pt.pts)||0))&&((Be.pxmid[1]-pt.pxmid[1])*ne>0?(yt=pt.cyFinal+j(pt.px0[1],pt.px1[1]),qe=yt-it-Be.labelExtraY,qe*ne>0&&(Be.labelExtraY+=qe)):(lt+Be.labelExtraY-$e)*ne>0&&(ft=3*se*Math.abs(ct-Ae.indexOf(Be)),Et=pt.cxFinal+J(pt.px0[0],pt.px1[0]),tt=Et+ft-(Be.cxFinal+Be.pxmid[0])-Be.labelExtraX,tt*se>0&&(Be.labelExtraX+=tt)))}for($=0;$<2;$++)for(ie=$?Me:ye,j=$?Math.max:Math.min,ne=$?1:-1,X=0;X<2;X++){for(J=X?Math.max:Math.min,se=X?1:-1,le=Y[$][X],le.sort(ie),pe=Y[1-$][X],Ae=pe.concat(le),Re=[],be=0;be<le.length;be++)le[be].yLabelMid!==void 0&&Re.push(le[be]);for(xe=!1,be=0;$&&be<pe.length;be++)if(pe[be].yLabelMid!==void 0){xe=pe[be];break}for(be=0;be<Re.length;be++){var Fe=be&&Re[be-1];xe&&!be&&(Fe=xe),Se(Re[be],Fe)}}}function W(Y,te){for(var X=[],$=0;$<Y.length;$++){var ie=Y[$][0],J=ie.trace,j=J.domain,se=te.w*(j.x[1]-j.x[0]),ne=te.h*(j.y[1]-j.y[0]);J.title.text&&J.title.position!=="middle center"&&(ne-=O(ie,te));var le=se/2,pe=ne/2;J.type==="funnelarea"&&!J.scalegroup&&(pe/=J.aspectratio),ie.r=Math.min(le,pe)/(1+z(J)),ie.cx=te.l+te.w*(J.domain.x[1]+J.domain.x[0])/2,ie.cy=te.t+te.h*(1-J.domain.y[0])-ne/2,J.title.text&&J.title.position.indexOf("bottom")!==-1&&(ie.cy-=O(ie,te)),J.scalegroup&&X.indexOf(J.scalegroup)===-1&&X.push(J.scalegroup)}q(Y,X)}function q(Y,te){for(var X,$,ie,J=0;J<te.length;J++){var j=1/0,se=te[J];for($=0;$<Y.length;$++)if(X=Y[$][0],ie=X.trace,ie.scalegroup===se){var ne;if(ie.type==="pie")ne=X.r*X.r;else if(ie.type==="funnelarea"){var le,pe;ie.aspectratio>1?(le=X.r,pe=le/ie.aspectratio):(pe=X.r,le=pe*ie.aspectratio),le*=(1+ie.baseratio)/2,ne=le*pe}j=Math.min(j,ne/X.vTotal)}for($=0;$<Y.length;$++)if(X=Y[$][0],ie=X.trace,ie.scalegroup===se){var Ae=j*X.vTotal;ie.type==="funnelarea"&&(Ae/=(1+ie.baseratio)/2,Ae/=ie.aspectratio),X.r=Math.sqrt(Ae)}}}function ee(Y){var te=Y[0],X=te.r,$=te.trace,ie=l.getRotationAngle($.rotation),J=2*Math.PI/te.vTotal,j="px0",se="px1",ne,le,pe;if($.direction==="counterclockwise"){for(ne=0;ne<Y.length&&Y[ne].hidden;ne++);if(ne===Y.length)return;ie+=J*Y[ne].v,J*=-1,j="px1",se="px0"}for(pe=Q(X,ie),ne=0;ne<Y.length;ne++)le=Y[ne],!le.hidden&&(le[j]=pe,le.startangle=ie,ie+=J*le.v/2,le.pxmid=Q(X,ie),le.midangle=ie,ie+=J*le.v/2,pe=Q(X,ie),le.stopangle=ie,le[se]=pe,le.largeArc=le.v>te.vTotal/2?1:0,le.halfangle=Math.PI*Math.min(le.v/te.vTotal,.5),le.ring=1-$.hole,le.rInscribed=_(le,te))}function Q(Y,te){return[Y*Math.sin(te),-Y*Math.cos(te)]}function oe(Y,te,X){var $=Y._fullLayout,ie=X.trace,J=ie.texttemplate,j=ie.textinfo;if(!J&&j&&j!=="none"){var se=j.split("+"),ne=function(_e){return se.indexOf(_e)!==-1},le=ne("label"),pe=ne("text"),Ae=ne("value"),be=ne("percent"),Re=$.separators,xe;if(xe=le?[te.label]:[],pe){var Me=l.getFirstFilled(ie.text,te.pts);h(Me)&&xe.push(Me)}Ae&&xe.push(l.formatPieValue(te.v,Re)),be&&xe.push(l.formatPiePercent(te.v/X.vTotal,Re)),te.text=xe.join("<br>")}function ye(_e){return{label:_e.label,value:_e.v,valueLabel:l.formatPieValue(_e.v,$.separators),percent:_e.v/X.vTotal,percentLabel:l.formatPiePercent(_e.v/X.vTotal,$.separators),color:_e.color,text:_e.text,customdata:v.castOption(ie,_e.i,"customdata")}}if(J){var Se=v.castOption(ie,te.i,"texttemplate");if(!Se)te.text="";else{var Fe=ye(te),Be=l.getFirstFilled(ie.text,te.pts);(h(Be)||Be==="")&&(Fe.text=Be),te.text=v.texttemplateString(Se,Fe,Y._fullLayout._d3locale,Fe,ie._meta||{})}}}function Z(Y,te){var X=Y.rotate*Math.PI/180,$=Math.cos(X),ie=Math.sin(X),J=(te.left+te.right)/2,j=(te.top+te.bottom)/2;Y.textX=J*$-j*ie,Y.textY=J*ie+j*$,Y.noCenter=!0}G.exports={plot:M,formatSliceLabel:oe,transformInsideText:E,determineInsideTextFont:b,positionTitleOutside:k,prerenderTitles:w,layoutAreas:W,attachFxHandlers:i,computeTransform:Z}},22152:function(G,U,e){var g=e(33428),L=e(10528),a=e(82744).resizeText;G.exports=function(A){var v=A._fullLayout._pielayer.selectAll(".trace");a(A,v,"pie"),v.each(function(p){var r=p[0],t=r.trace,s=g.select(this);s.style({opacity:t.opacity}),s.selectAll("path.surface").each(function(n){g.select(this).call(L,n,t,A)})})}},10528:function(G,U,e){var g=e(76308),L=e(69656).castOption,a=e(21552);G.exports=function(A,v,p,r){var t=p.marker.line,s=L(t.color,v.pts)||g.defaultLine,n=L(t.width,v.pts)||0;A.call(a,v,p,r).style("stroke-width",n).call(g.stroke,s)}},35484:function(G,U,e){var g=e(52904);G.exports={x:g.x,y:g.y,xy:{valType:"data_array",editType:"calc"},indices:{valType:"data_array",editType:"calc"},xbounds:{valType:"data_array",editType:"calc"},ybounds:{valType:"data_array",editType:"calc"},text:g.text,marker:{color:{valType:"color",arrayOk:!1,editType:"calc"},opacity:{valType:"number",min:0,max:1,dflt:1,arrayOk:!1,editType:"calc"},blend:{valType:"boolean",dflt:null,editType:"calc"},sizemin:{valType:"number",min:.1,max:2,dflt:.5,editType:"calc"},sizemax:{valType:"number",min:.1,dflt:20,editType:"calc"},border:{color:{valType:"color",arrayOk:!1,editType:"calc"},arearatio:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},editType:"calc"},editType:"calc"},transforms:void 0}},11072:function(G,U,e){var g=e(67792).gl_pointcloud2d,L=e(3400).isArrayOrTypedArray,a=e(43080),C=e(19280).findExtremes,A=e(44928);function v(t,s){this.scene=t,this.uid=s,this.type="pointcloud",this.pickXData=[],this.pickYData=[],this.xData=[],this.yData=[],this.textLabels=[],this.color="rgb(0, 0, 0)",this.name="",this.hoverinfo="all",this.idToIndex=new Int32Array(0),this.bounds=[0,0,0,0],this.pointcloudOptions={positions:new Float32Array(0),idToIndex:this.idToIndex,sizemin:.5,sizemax:12,color:[0,0,0,1],areaRatio:1,borderColor:[0,0,0,1]},this.pointcloud=g(t.glplot,this.pointcloudOptions),this.pointcloud._trace=this}var p=v.prototype;p.handlePick=function(t){var s=this.idToIndex[t.pointId];return{trace:this,dataCoord:t.dataCoord,traceCoord:this.pickXYData?[this.pickXYData[s*2],this.pickXYData[s*2+1]]:[this.pickXData[s],this.pickYData[s]],textLabel:L(this.textLabels)?this.textLabels[s]:this.textLabels,color:this.color,name:this.name,pointIndex:s,hoverinfo:this.hoverinfo}},p.update=function(t){this.index=t.index,this.textLabels=t.text,this.name=t.name,this.hoverinfo=t.hoverinfo,this.bounds=[1/0,1/0,-1/0,-1/0],this.updateFast(t),this.color=A(t,{})},p.updateFast=function(t){var s=this.xData=this.pickXData=t.x,n=this.yData=this.pickYData=t.y,f=this.pickXYData=t.xy,u=t.xbounds&&t.ybounds,l=t.indices,m,h,M,c=this.bounds,i,d,b;if(f){if(M=f,m=f.length>>>1,u)c[0]=t.xbounds[0],c[2]=t.xbounds[1],c[1]=t.ybounds[0],c[3]=t.ybounds[1];else for(b=0;b<m;b++)i=M[b*2],d=M[b*2+1],i<c[0]&&(c[0]=i),i>c[2]&&(c[2]=i),d<c[1]&&(c[1]=d),d>c[3]&&(c[3]=d);if(l)h=l;else for(h=new Int32Array(m),b=0;b<m;b++)h[b]=b}else for(m=s.length,M=new Float32Array(2*m),h=new Int32Array(m),b=0;b<m;b++)i=s[b],d=n[b],h[b]=b,M[b*2]=i,M[b*2+1]=d,i<c[0]&&(c[0]=i),i>c[2]&&(c[2]=i),d<c[1]&&(c[1]=d),d>c[3]&&(c[3]=d);this.idToIndex=h,this.pointcloudOptions.idToIndex=h,this.pointcloudOptions.positions=M;var w=a(t.marker.color),E=a(t.marker.border.color),y=t.opacity*t.marker.opacity;w[3]*=y,this.pointcloudOptions.color=w;var S=t.marker.blend;if(S===null){var T=100;S=s.length<T||n.length<T}this.pointcloudOptions.blend=S,E[3]*=y,this.pointcloudOptions.borderColor=E;var o=t.marker.sizemin,P=Math.max(t.marker.sizemax,t.marker.sizemin);this.pointcloudOptions.sizeMin=o,this.pointcloudOptions.sizeMax=P,this.pointcloudOptions.areaRatio=t.marker.border.arearatio,this.pointcloud.update(this.pointcloudOptions);var x=this.scene.xaxis,_=this.scene.yaxis,I=P/2||.5;t._extremes[x._id]=C(x,[c[0],c[2]],{ppad:I}),t._extremes[_._id]=C(_,[c[1],c[3]],{ppad:I})},p.dispose=function(){this.pointcloud.dispose()};function r(t,s){var n=new v(t,s.uid);return n.update(s),n}G.exports=r},41904:function(G,U,e){var g=e(3400),L=e(35484);G.exports=function(C,A,v){function p(r,t){return g.coerce(C,A,L,r,t)}p("x"),p("y"),p("xbounds"),p("ybounds"),C.xy&&C.xy instanceof Float32Array&&(A.xy=C.xy),C.indices&&C.indices instanceof Int32Array&&(A.indices=C.indices),p("text"),p("marker.color",v),p("marker.opacity"),p("marker.blend"),p("marker.sizemin"),p("marker.sizemax"),p("marker.border.color",v),p("marker.border.arearatio"),A._length=null}},156:function(G,U,e){G.exports={attributes:e(35484),supplyDefaults:e(41904),calc:e(41484),plot:e(11072),moduleType:"trace",name:"pointcloud",basePlotModule:e(39952),categories:["gl","gl2d","showLegend"],meta:{}}},41440:function(G,U,e){var g=e(25376),L=e(45464),a=e(22548),C=e(55756),A=e(86968).u,v=e(21776).Ks,p=e(49084),r=e(31780).templatedArray,t=e(29736).descriptionOnlyNumbers,s=e(92880).extendFlat,n=e(67824).overrideAll,f=G.exports=n({hoverinfo:s({},L.hoverinfo,{flags:[],arrayOk:!1}),hoverlabel:C.hoverlabel,domain:A({name:"sankey",trace:!0}),orientation:{valType:"enumerated",values:["v","h"],dflt:"h"},valueformat:{valType:"string",dflt:".3s",description:t("value")},valuesuffix:{valType:"string",dflt:""},arrangement:{valType:"enumerated",values:["snap","perpendicular","freeform","fixed"],dflt:"snap"},textfont:g({}),customdata:void 0,node:{label:{valType:"data_array",dflt:[]},groups:{valType:"info_array",impliedEdits:{x:[],y:[]},dimensions:2,freeLength:!0,dflt:[],items:{valType:"number",editType:"calc"}},x:{valType:"data_array",dflt:[]},y:{valType:"data_array",dflt:[]},color:{valType:"color",arrayOk:!0},customdata:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:a.defaultLine,arrayOk:!0},width:{valType:"number",min:0,dflt:.5,arrayOk:!0}},pad:{valType:"number",arrayOk:!1,min:0,dflt:20},thickness:{valType:"number",arrayOk:!1,min:1,dflt:20},hoverinfo:{valType:"enumerated",values:["all","none","skip"],dflt:"all"},hoverlabel:C.hoverlabel,hovertemplate:v({},{keys:["value","label"]}),align:{valType:"enumerated",values:["justify","left","right","center"],dflt:"justify"}},link:{arrowlen:{valType:"number",min:0,dflt:0},label:{valType:"data_array",dflt:[]},color:{valType:"color",arrayOk:!0},hovercolor:{valType:"color",arrayOk:!0},customdata:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:a.defaultLine,arrayOk:!0},width:{valType:"number",min:0,dflt:0,arrayOk:!0}},source:{valType:"data_array",dflt:[]},target:{valType:"data_array",dflt:[]},value:{valType:"data_array",dflt:[]},hoverinfo:{valType:"enumerated",values:["all","none","skip"],dflt:"all"},hoverlabel:C.hoverlabel,hovertemplate:v({},{keys:["value","label"]}),colorscales:r("concentrationscales",{editType:"calc",label:{valType:"string",editType:"calc",dflt:""},cmax:{valType:"number",editType:"calc",dflt:1},cmin:{valType:"number",editType:"calc",dflt:0},colorscale:s(p().colorscale,{dflt:[[0,"white"],[1,"black"]]})})}},"calc","nested");f.transforms=void 0},10760:function(G,U,e){var g=e(67824).overrideAll,L=e(84888)._M,a=e(59596),C=e(65460),A=e(93972),v=e(86476),p=e(22676).prepSelect,r=e(3400),t=e(24040),s="sankey";U.name=s,U.baseLayoutAttrOverrides=g({hoverlabel:C.hoverlabel},"plot","nested"),U.plot=function(f){var u=L(f.calcdata,s)[0];a(f,u),U.updateFx(f)},U.clean=function(f,u,l,m){var h=m._has&&m._has(s),M=u._has&&u._has(s);h&&!M&&(m._paperdiv.selectAll(".sankey").remove(),m._paperdiv.selectAll(".bgsankey").remove())},U.updateFx=function(f){for(var u=0;u<f._fullData.length;u++)n(f,u)};function n(f,u){var l=f._fullData[u],m=f._fullLayout,h=m.dragmode,M=m.dragmode==="pan"?"move":"crosshair",c=l._bgRect;if(!!c&&!(h==="pan"||h==="zoom")){A(c,M);var i={_id:"x",c2p:r.identity,_offset:l._sankey.translateX,_length:l._sankey.width},d={_id:"y",c2p:r.identity,_offset:l._sankey.translateY,_length:l._sankey.height},b={gd:f,element:c.node(),plotinfo:{id:u,xaxis:i,yaxis:d,fillRangeItems:r.noop},subplot:u,xaxes:[i],yaxes:[d],doneFnCompleted:function(w){var E=f._fullData[u],y,S=E.node.groups.slice(),T=[];function o(I){for(var N=E._sankey.graph.nodes,k=0;k<N.length;k++)if(N[k].pointNumber===I)return N[k]}for(var P=0;P<w.length;P++){var x=o(w[P].pointNumber);if(!!x)if(x.group){for(var _=0;_<x.childrenNodes.length;_++)T.push(x.childrenNodes[_].pointNumber);S[x.pointNumber-E.node._count]=!1}else T.push(x.pointNumber)}y=S.filter(Boolean).concat([T]),t.call("_guiRestyle",f,{"node.groups":[y]},u)}};b.prepFn=function(w,E,y){p(w,E,y,b,h)},v.init(b)}}},48068:function(G,U,e){var g=e(78484),L=e(3400),a=e(71688).wrap,C=L.isArrayOrTypedArray,A=L.isIndex,v=e(8932);function p(t){var s=t.node,n=t.link,f=[],u=C(n.color),l=C(n.hovercolor),m=C(n.customdata),h={},M={},c=n.colorscales.length,i;for(i=0;i<c;i++){var d=n.colorscales[i],b=v.extractScale(d,{cLetter:"c"}),w=v.makeColorScaleFunc(b);M[d.label]=w}var E=0;for(i=0;i<n.value.length;i++)n.source[i]>E&&(E=n.source[i]),n.target[i]>E&&(E=n.target[i]);var y=E+1;t.node._count=y;var S,T=t.node.groups,o={};for(i=0;i<T.length;i++){var P=T[i];for(S=0;S<P.length;S++){var x=P[S],_=y+i;o.hasOwnProperty(x)?L.warn("Node "+x+" is already part of a group."):o[x]=_}}var I={source:[],target:[]};for(i=0;i<n.value.length;i++){var N=n.value[i],k=n.source[i],F=n.target[i];if(!!(N>0&&A(k,y)&&A(F,y))&&!(o.hasOwnProperty(k)&&o.hasOwnProperty(F)&&o[k]===o[F])){o.hasOwnProperty(F)&&(F=o[F]),o.hasOwnProperty(k)&&(k=o[k]),k=+k,F=+F,h[k]=h[F]=!0;var O="";n.label&&n.label[i]&&(O=n.label[i]);var z=null;O&&M.hasOwnProperty(O)&&(z=M[O]),f.push({pointNumber:i,label:O,color:u?n.color[i]:n.color,hovercolor:l?n.hovercolor[i]:n.hovercolor,customdata:m?n.customdata[i]:n.customdata,concentrationscale:z,source:k,target:F,value:+N}),I.source.push(k),I.target.push(F)}}var B=y+T.length,W=C(s.color),q=C(s.customdata),ee=[];for(i=0;i<B;i++)if(!!h[i]){var Q=s.label[i];ee.push({group:i>y-1,childrenNodes:[],pointNumber:i,label:Q,color:W?s.color[i]:s.color,customdata:q?s.customdata[i]:s.customdata})}var oe=!1;return r(B,I.source,I.target)&&(oe=!0),{circular:oe,links:f,nodes:ee,groups:T,groupLookup:o}}function r(t,s,n){for(var f=L.init2dArray(t,0),u=0;u<Math.min(s.length,n.length);u++)if(L.isIndex(s[u],t)&&L.isIndex(n[u],t)){if(s[u]===n[u])return!0;f[s[u]].push(n[u])}var l=g(f);return l.components.some(function(m){return m.length>1})}G.exports=function(s,n){var f=p(n);return a({circular:f.circular,_nodes:f.nodes,_links:f.links,_groups:f.groups,_groupLookup:f.groupLookup})}},11820:function(G){G.exports={nodeTextOffsetHorizontal:4,nodeTextOffsetVertical:3,nodePadAcross:10,sankeyIterations:50,forceIterations:5,forceTicksPerFrame:10,duration:500,ease:"linear",cn:{sankey:"sankey",sankeyLinks:"sankey-links",sankeyLink:"sankey-link",sankeyNodeSet:"sankey-node-set",sankeyNode:"sankey-node",nodeRect:"node-rect",nodeLabel:"node-label"}}},47140:function(G,U,e){var g=e(3400),L=e(41440),a=e(76308),C=e(49760),A=e(86968).Q,v=e(16132),p=e(31780),r=e(51272);G.exports=function(n,f,u,l){function m(_,I){return g.coerce(n,f,L,_,I)}var h=g.extendDeep(l.hoverlabel,n.hoverlabel),M=n.node,c=p.newContainer(f,"node");function i(_,I){return g.coerce(M,c,L.node,_,I)}i("label"),i("groups"),i("x"),i("y"),i("pad"),i("thickness"),i("line.color"),i("line.width"),i("hoverinfo",n.hoverinfo),v(M,c,i,h),i("hovertemplate"),i("align");var d=l.colorway,b=function(_){return d[_%d.length]};i("color",c.label.map(function(_,I){return a.addOpacity(b(I),.8)})),i("customdata");var w=n.link||{},E=p.newContainer(f,"link");function y(_,I){return g.coerce(w,E,L.link,_,I)}y("label"),y("arrowlen"),y("source"),y("target"),y("value"),y("line.color"),y("line.width"),y("hoverinfo",n.hoverinfo),v(w,E,y,h),y("hovertemplate");var S=C(l.paper_bgcolor).getLuminance()<.333,T=S?"rgba(255, 255, 255, 0.6)":"rgba(0, 0, 0, 0.2)",o=y("color",T);function P(_){var I=C(_);if(!I.isValid())return _;var N=I.getAlpha();return N<=.8?I.setAlpha(N+.2):I=S?I.brighten():I.darken(),I.toRgbString()}y("hovercolor",Array.isArray(o)?o.map(P):P(o)),y("customdata"),r(w,E,{name:"colorscales",handleItemDefaults:t}),A(f,l,m),m("orientation"),m("valueformat"),m("valuesuffix");var x;c.x.length&&c.y.length&&(x="freeform"),m("arrangement",x),g.coerceFont(m,"textfont",g.extendFlat({},l.font)),f._length=null};function t(s,n){function f(u,l){return g.coerce(s,n,L.link.colorscales,u,l)}f("label"),f("cmin"),f("cmax"),f("colorscale")}},45499:function(G,U,e){G.exports={attributes:e(41440),supplyDefaults:e(47140),calc:e(48068),plot:e(59596),moduleType:"trace",name:"sankey",basePlotModule:e(10760),selectPoints:e(81128),categories:["noOpacity"],meta:{}}},59596:function(G,U,e){var g=e(33428),L=e(3400),a=L.numberFormat,C=e(83248),A=e(93024),v=e(76308),p=e(11820).cn,r=L._;function t(d){return d!==""}function s(d,b){return d.filter(function(w){return w.key===b.traceId})}function n(d,b){g.select(d).select("path").style("fill-opacity",b),g.select(d).select("rect").style("fill-opacity",b)}function f(d){g.select(d).select("text.name").style("fill","black")}function u(d){return function(b){return d.node.sourceLinks.indexOf(b.link)!==-1||d.node.targetLinks.indexOf(b.link)!==-1}}function l(d){return function(b){return b.node.sourceLinks.indexOf(d.link)!==-1||b.node.targetLinks.indexOf(d.link)!==-1}}function m(d,b,w){b&&w&&s(w,b).selectAll("."+p.sankeyLink).filter(u(b)).call(M.bind(0,b,w,!1))}function h(d,b,w){b&&w&&s(w,b).selectAll("."+p.sankeyLink).filter(u(b)).call(c.bind(0,b,w,!1))}function M(d,b,w,E){E.style("fill",function(y){if(!y.link.concentrationscale)return y.tinyColorHoverHue}).style("fill-opacity",function(y){if(!y.link.concentrationscale)return y.tinyColorHoverAlpha}),E.each(function(y){var S=y.link.label;S!==""&&s(b,d).selectAll("."+p.sankeyLink).filter(function(T){return T.link.label===S}).style("fill",function(T){if(!T.link.concentrationscale)return T.tinyColorHoverHue}).style("fill-opacity",function(T){if(!T.link.concentrationscale)return T.tinyColorHoverAlpha})}),w&&s(b,d).selectAll("."+p.sankeyNode).filter(l(d)).call(m)}function c(d,b,w,E){E.style("fill",function(y){return y.tinyColorHue}).style("fill-opacity",function(y){return y.tinyColorAlpha}),E.each(function(y){var S=y.link.label;S!==""&&s(b,d).selectAll("."+p.sankeyLink).filter(function(T){return T.link.label===S}).style("fill",function(T){return T.tinyColorHue}).style("fill-opacity",function(T){return T.tinyColorAlpha})}),w&&s(b,d).selectAll(p.sankeyNode).filter(l(d)).call(h)}function i(d,b){var w=d.hoverlabel||{},E=L.nestedProperty(w,b).get();return Array.isArray(E)?!1:E}G.exports=function(b,w){for(var E=b._fullLayout,y=E._paper,S=E._size,T=0;T<b._fullData.length;T++)if(!!b._fullData[T].visible&&b._fullData[T].type===p.sankey&&!b._fullData[T]._viewInitial){var o=b._fullData[T].node;b._fullData[T]._viewInitial={node:{groups:o.groups.slice(),x:o.x.slice(),y:o.y.slice()}}}var P=function(Q,oe){var Z=oe.link;Z.originalEvent=g.event,b._hoverdata=[Z],A.click(b,{target:!0})},x=function(Q,oe,Z){b._fullLayout.hovermode!==!1&&(g.select(Q).call(M.bind(0,oe,Z,!0)),oe.link.trace.link.hoverinfo!=="skip"&&(oe.link.fullData=oe.link.trace,b.emit("plotly_hover",{event:g.event,points:[oe.link]})))},_=r(b,"source:")+" ",I=r(b,"target:")+" ",N=r(b,"concentration:")+" ",k=r(b,"incoming flow count:")+" ",F=r(b,"outgoing flow count:")+" ",O=function(Q,oe){if(b._fullLayout.hovermode===!1)return;var Z=oe.link.trace.link;if(Z.hoverinfo==="none"||Z.hoverinfo==="skip")return;var Y=[];function te(ne){var le,pe;ne.circular?(le=(ne.circularPathData.leftInnerExtent+ne.circularPathData.rightInnerExtent)/2,pe=ne.circularPathData.verticalFullExtent):(le=(ne.source.x1+ne.target.x0)/2,pe=(ne.y0+ne.y1)/2);var Ae=[le,pe];return ne.trace.orientation==="v"&&Ae.reverse(),Ae[0]+=oe.parent.translateX,Ae[1]+=oe.parent.translateY,Ae}for(var X=0,$=0;$<oe.flow.links.length;$++){var ie=oe.flow.links[$];if(!(b._fullLayout.hovermode==="closest"&&oe.link.pointNumber!==ie.pointNumber)){oe.link.pointNumber===ie.pointNumber&&(X=$),ie.fullData=ie.trace,Z=oe.link.trace.link;var J=te(ie),j={valueLabel:a(oe.valueFormat)(ie.value)+oe.valueSuffix};Y.push({x:J[0],y:J[1],name:j.valueLabel,text:[ie.label||"",_+ie.source.label,I+ie.target.label,ie.concentrationscale?N+a("%0.2f")(ie.flow.labelConcentration):""].filter(t).join("<br>"),color:i(Z,"bgcolor")||v.addOpacity(ie.color,1),borderColor:i(Z,"bordercolor"),fontFamily:i(Z,"font.family"),fontSize:i(Z,"font.size"),fontColor:i(Z,"font.color"),nameLength:i(Z,"namelength"),textAlign:i(Z,"align"),idealAlign:g.event.x<J[0]?"right":"left",hovertemplate:Z.hovertemplate,hovertemplateLabels:j,eventData:[ie]})}}var se=A.loneHover(Y,{container:E._hoverlayer.node(),outerContainer:E._paper.node(),gd:b,anchorIndex:X});se.each(function(){var ne=this;oe.link.concentrationscale||n(ne,.65),f(ne)})},z=function(Q,oe,Z){b._fullLayout.hovermode!==!1&&(g.select(Q).call(c.bind(0,oe,Z,!0)),oe.link.trace.link.hoverinfo!=="skip"&&(oe.link.fullData=oe.link.trace,b.emit("plotly_unhover",{event:g.event,points:[oe.link]})),A.loneUnhover(E._hoverlayer.node()))},B=function(Q,oe,Z){var Y=oe.node;Y.originalEvent=g.event,b._hoverdata=[Y],g.select(Q).call(h,oe,Z),A.click(b,{target:!0})},W=function(Q,oe,Z){b._fullLayout.hovermode!==!1&&(g.select(Q).call(m,oe,Z),oe.node.trace.node.hoverinfo!=="skip"&&(oe.node.fullData=oe.node.trace,b.emit("plotly_hover",{event:g.event,points:[oe.node]})))},q=function(Q,oe){if(b._fullLayout.hovermode!==!1){var Z=oe.node.trace.node;if(!(Z.hoverinfo==="none"||Z.hoverinfo==="skip")){var Y=g.select(Q).select("."+p.nodeRect),te=b._fullLayout._paperdiv.node().getBoundingClientRect(),X=Y.node().getBoundingClientRect(),$=X.left-2-te.left,ie=X.right+2-te.left,J=X.top+X.height/4-te.top,j={valueLabel:a(oe.valueFormat)(oe.node.value)+oe.valueSuffix};oe.node.fullData=oe.node.trace,b._fullLayout._calcInverseTransform(b);var se=b._fullLayout._invScaleX,ne=b._fullLayout._invScaleY,le=A.loneHover({x0:se*$,x1:se*ie,y:ne*J,name:a(oe.valueFormat)(oe.node.value)+oe.valueSuffix,text:[oe.node.label,k+oe.node.targetLinks.length,F+oe.node.sourceLinks.length].filter(t).join("<br>"),color:i(Z,"bgcolor")||oe.tinyColorHue,borderColor:i(Z,"bordercolor"),fontFamily:i(Z,"font.family"),fontSize:i(Z,"font.size"),fontColor:i(Z,"font.color"),nameLength:i(Z,"namelength"),textAlign:i(Z,"align"),idealAlign:"left",hovertemplate:Z.hovertemplate,hovertemplateLabels:j,eventData:[oe.node]},{container:E._hoverlayer.node(),outerContainer:E._paper.node(),gd:b});n(le,.85),f(le)}}},ee=function(Q,oe,Z){b._fullLayout.hovermode!==!1&&(g.select(Q).call(h,oe,Z),oe.node.trace.node.hoverinfo!=="skip"&&(oe.node.fullData=oe.node.trace,b.emit("plotly_unhover",{event:g.event,points:[oe.node]})),A.loneUnhover(E._hoverlayer.node()))};C(b,y,w,{width:S.w,height:S.h,margin:{t:S.t,r:S.r,b:S.b,l:S.l}},{linkEvents:{hover:x,follow:O,unhover:z,select:P},nodeEvents:{hover:W,follow:q,unhover:ee,select:B}})}},83248:function(G,U,e){var g=e(49812),L=e(67756).Gz,a=e(33428),C=e(26800),A=e(48932),v=e(11820),p=e(49760),r=e(76308),t=e(43616),s=e(3400),n=s.strTranslate,f=s.strRotate,u=e(71688),l=u.keyFun,m=u.repeat,h=u.unwrap,M=e(72736),c=e(24040),i=e(84284),d=i.CAP_SHIFT,b=i.LINE_SPACING,w=3;function E(te,X,$){var ie=h(X),J=ie.trace,j=J.domain,se=J.orientation==="h",ne=J.node.pad,le=J.node.thickness,pe={justify:C.sankeyJustify,left:C.sankeyLeft,right:C.sankeyRight,center:C.sankeyCenter}[J.node.align],Ae=te.width*(j.x[1]-j.x[0]),be=te.height*(j.y[1]-j.y[0]),Re=ie._nodes,xe=ie._links,Me=ie.circular,ye;Me?ye=A.sankeyCircular().circularLinkGap(0):ye=C.sankey(),ye.iterations(v.sankeyIterations).size(se?[Ae,be]:[be,Ae]).nodeWidth(le).nodePadding(ne).nodeId(function(tt){return tt.pointNumber}).nodeAlign(pe).nodes(Re).links(xe);var Se=ye();ye.nodePadding()<ne&&s.warn("node.pad was reduced to ",ye.nodePadding()," to fit within the figure.");var Fe,Be,_e;for(var Ue in ie._groupLookup){var it=parseInt(ie._groupLookup[Ue]),lt;for(Fe=0;Fe<Se.nodes.length;Fe++)if(Se.nodes[Fe].pointNumber===it){lt=Se.nodes[Fe];break}if(!!lt){var $e={pointNumber:parseInt(Ue),x0:lt.x0,x1:lt.x1,y0:lt.y0,y1:lt.y1,partOfGroup:!0,sourceLinks:[],targetLinks:[]};Se.nodes.unshift($e),lt.childrenNodes.unshift($e)}}function qe(){for(Fe=0;Fe<Se.nodes.length;Fe++){var tt=Se.nodes[Fe],Ie={},We,Ze;for(Be=0;Be<tt.targetLinks.length;Be++)Ze=tt.targetLinks[Be],We=Ze.source.pointNumber+":"+Ze.target.pointNumber,Ie.hasOwnProperty(We)||(Ie[We]=[]),Ie[We].push(Ze);var He=Object.keys(Ie);for(Be=0;Be<He.length;Be++){We=He[Be];var De=Ie[We],me=0,ge={};for(_e=0;_e<De.length;_e++)Ze=De[_e],ge[Ze.label]||(ge[Ze.label]=0),ge[Ze.label]+=Ze.value,me+=Ze.value;for(_e=0;_e<De.length;_e++)Ze=De[_e],Ze.flow={value:me,labelConcentration:ge[Ze.label]/me,concentration:Ze.value/me,links:De},Ze.concentrationscale&&(Ze.color=p(Ze.concentrationscale(Ze.flow.labelConcentration)))}var Ee=0;for(Be=0;Be<tt.sourceLinks.length;Be++)Ee+=tt.sourceLinks[Be].value;for(Be=0;Be<tt.sourceLinks.length;Be++)Ze=tt.sourceLinks[Be],Ze.concentrationOut=Ze.value/Ee;var Te=0;for(Be=0;Be<tt.targetLinks.length;Be++)Te+=tt.targetLinks[Be].value;for(Be=0;Be<tt.targetLinks.length;Be++)Ze=tt.targetLinks[Be],Ze.concenrationIn=Ze.value/Te}}qe();function ft(tt){tt.forEach(function(Ie){var We,Ze,He=0,De=Ie.length,me;for(Ie.sort(function(ge,Ee){return ge.y0-Ee.y0}),me=0;me<De;++me)We=Ie[me],We.y0>=He||(Ze=He-We.y0,Ze>1e-6&&(We.y0+=Ze,We.y1+=Ze)),He=We.y1+ne})}function ct(tt){var Ie=tt.map(function(Ee,Te){return{x0:Ee.x0,index:Te}}).sort(function(Ee,Te){return Ee.x0-Te.x0}),We=[],Ze=-1,He,De=-1/0,me;for(Fe=0;Fe<Ie.length;Fe++){var ge=tt[Ie[Fe].index];ge.x0>De+le&&(Ze+=1,He=ge.x0),De=ge.x0,We[Ze]||(We[Ze]=[]),We[Ze].push(ge),me=He-ge.x0,ge.x0+=me,ge.x1+=me}return We}if(J.node.x.length&&J.node.y.length){for(Fe=0;Fe<Math.min(J.node.x.length,J.node.y.length,Se.nodes.length);Fe++)if(J.node.x[Fe]&&J.node.y[Fe]){var pt=[J.node.x[Fe]*Ae,J.node.y[Fe]*be];Se.nodes[Fe].x0=pt[0]-le/2,Se.nodes[Fe].x1=pt[0]+le/2;var yt=Se.nodes[Fe].y1-Se.nodes[Fe].y0;Se.nodes[Fe].y0=pt[1]-yt/2,Se.nodes[Fe].y1=pt[1]+yt/2}if(J.arrangement==="snap"){Re=Se.nodes;var Et=ct(Re);ft(Et)}ye.update(Se)}return{circular:Me,key:$,trace:J,guid:s.randstr(),horizontal:se,width:Ae,height:be,nodePad:J.node.pad,nodeLineColor:J.node.line.color,nodeLineWidth:J.node.line.width,linkLineColor:J.link.line.color,linkLineWidth:J.link.line.width,linkArrowLength:J.link.arrowlen,valueFormat:J.valueformat,valueSuffix:J.valuesuffix,textFont:J.textfont,translateX:j.x[0]*te.width+te.margin.l,translateY:te.height-j.y[1]*te.height+te.margin.t,dragParallel:se?be:Ae,dragPerpendicular:se?Ae:be,arrangement:J.arrangement,sankey:ye,graph:Se,forceLayouts:{},interactionState:{dragInProgress:!1,hovered:!1}}}function y(te,X,$){var ie=p(X.color),J=p(X.hovercolor),j=X.source.label+"|"+X.target.label,se=j+"__"+$;return X.trace=te.trace,X.curveNumber=te.trace.index,{circular:te.circular,key:se,traceId:te.key,pointNumber:X.pointNumber,link:X,tinyColorHue:r.tinyRGB(ie),tinyColorAlpha:ie.getAlpha(),tinyColorHoverHue:r.tinyRGB(J),tinyColorHoverAlpha:J.getAlpha(),linkPath:T,linkLineColor:te.linkLineColor,linkLineWidth:te.linkLineWidth,linkArrowLength:te.linkArrowLength,valueFormat:te.valueFormat,valueSuffix:te.valueSuffix,sankey:te.sankey,parent:te,interactionState:te.interactionState,flow:X.flow}}function S(te,X){var $="",ie=te.width/2,J=te.circularPathData;return te.circularLinkType==="top"?$="M "+(J.targetX-X)+" "+(J.targetY+ie)+" L"+(J.rightInnerExtent-X)+" "+(J.targetY+ie)+"A"+(J.rightLargeArcRadius+ie)+" "+(J.rightSmallArcRadius+ie)+" 0 0 1 "+(J.rightFullExtent-ie-X)+" "+(J.targetY-J.rightSmallArcRadius)+"L"+(J.rightFullExtent-ie-X)+" "+J.verticalRightInnerExtent+"A"+(J.rightLargeArcRadius+ie)+" "+(J.rightLargeArcRadius+ie)+" 0 0 1 "+(J.rightInnerExtent-X)+" "+(J.verticalFullExtent-ie)+"L"+J.leftInnerExtent+" "+(J.verticalFullExtent-ie)+"A"+(J.leftLargeArcRadius+ie)+" "+(J.leftLargeArcRadius+ie)+" 0 0 1 "+(J.leftFullExtent+ie)+" "+J.verticalLeftInnerExtent+"L"+(J.leftFullExtent+ie)+" "+(J.sourceY-J.leftSmallArcRadius)+"A"+(J.leftLargeArcRadius+ie)+" "+(J.leftSmallArcRadius+ie)+" 0 0 1 "+J.leftInnerExtent+" "+(J.sourceY+ie)+"L"+J.sourceX+" "+(J.sourceY+ie)+"L"+J.sourceX+" "+(J.sourceY-ie)+"L"+J.leftInnerExtent+" "+(J.sourceY-ie)+"A"+(J.leftLargeArcRadius-ie)+" "+(J.leftSmallArcRadius-ie)+" 0 0 0 "+(J.leftFullExtent-ie)+" "+(J.sourceY-J.leftSmallArcRadius)+"L"+(J.leftFullExtent-ie)+" "+J.verticalLeftInnerExtent+"A"+(J.leftLargeArcRadius-ie)+" "+(J.leftLargeArcRadius-ie)+" 0 0 0 "+J.leftInnerExtent+" "+(J.verticalFullExtent+ie)+"L"+(J.rightInnerExtent-X)+" "+(J.verticalFullExtent+ie)+"A"+(J.rightLargeArcRadius-ie)+" "+(J.rightLargeArcRadius-ie)+" 0 0 0 "+(J.rightFullExtent+ie-X)+" "+J.verticalRightInnerExtent+"L"+(J.rightFullExtent+ie-X)+" "+(J.targetY-J.rightSmallArcRadius)+"A"+(J.rightLargeArcRadius-ie)+" "+(J.rightSmallArcRadius-ie)+" 0 0 0 "+(J.rightInnerExtent-X)+" "+(J.targetY-ie)+"L"+(J.targetX-X)+" "+(J.targetY-ie)+(X>0?"L"+J.targetX+" "+J.targetY:"")+"Z":$="M "+(J.targetX-X)+" "+(J.targetY-ie)+" L"+(J.rightInnerExtent-X)+" "+(J.targetY-ie)+"A"+(J.rightLargeArcRadius+ie)+" "+(J.rightSmallArcRadius+ie)+" 0 0 0 "+(J.rightFullExtent-ie-X)+" "+(J.targetY+J.rightSmallArcRadius)+"L"+(J.rightFullExtent-ie-X)+" "+J.verticalRightInnerExtent+"A"+(J.rightLargeArcRadius+ie)+" "+(J.rightLargeArcRadius+ie)+" 0 0 0 "+(J.rightInnerExtent-X)+" "+(J.verticalFullExtent+ie)+"L"+J.leftInnerExtent+" "+(J.verticalFullExtent+ie)+"A"+(J.leftLargeArcRadius+ie)+" "+(J.leftLargeArcRadius+ie)+" 0 0 0 "+(J.leftFullExtent+ie)+" "+J.verticalLeftInnerExtent+"L"+(J.leftFullExtent+ie)+" "+(J.sourceY+J.leftSmallArcRadius)+"A"+(J.leftLargeArcRadius+ie)+" "+(J.leftSmallArcRadius+ie)+" 0 0 0 "+J.leftInnerExtent+" "+(J.sourceY-ie)+"L"+J.sourceX+" "+(J.sourceY-ie)+"L"+J.sourceX+" "+(J.sourceY+ie)+"L"+J.leftInnerExtent+" "+(J.sourceY+ie)+"A"+(J.leftLargeArcRadius-ie)+" "+(J.leftSmallArcRadius-ie)+" 0 0 1 "+(J.leftFullExtent-ie)+" "+(J.sourceY+J.leftSmallArcRadius)+"L"+(J.leftFullExtent-ie)+" "+J.verticalLeftInnerExtent+"A"+(J.leftLargeArcRadius-ie)+" "+(J.leftLargeArcRadius-ie)+" 0 0 1 "+J.leftInnerExtent+" "+(J.verticalFullExtent-ie)+"L"+(J.rightInnerExtent-X)+" "+(J.verticalFullExtent-ie)+"A"+(J.rightLargeArcRadius-ie)+" "+(J.rightLargeArcRadius-ie)+" 0 0 1 "+(J.rightFullExtent+ie-X)+" "+J.verticalRightInnerExtent+"L"+(J.rightFullExtent+ie-X)+" "+(J.targetY+J.rightSmallArcRadius)+"A"+(J.rightLargeArcRadius-ie)+" "+(J.rightSmallArcRadius-ie)+" 0 0 1 "+(J.rightInnerExtent-X)+" "+(J.targetY+ie)+"L"+(J.targetX-X)+" "+(J.targetY+ie)+(X>0?"L"+J.targetX+" "+J.targetY:"")+"Z",$}function T(){var te=.5;function X($){var ie=$.linkArrowLength;if($.link.circular)return S($.link,ie);var J=Math.abs(($.link.target.x0-$.link.source.x1)/2);ie>J&&(ie=J);var j=$.link.source.x1,se=$.link.target.x0-ie,ne=L(j,se),le=ne(te),pe=ne(1-te),Ae=$.link.y0-$.link.width/2,be=$.link.y0+$.link.width/2,Re=$.link.y1-$.link.width/2,xe=$.link.y1+$.link.width/2,Me="M"+j+","+Ae,ye="C"+le+","+Ae+" "+pe+","+Re+" "+se+","+Re,Se="C"+pe+","+xe+" "+le+","+be+" "+j+","+be,Fe=ie>0?"L"+(se+ie)+","+(Re+$.link.width/2):"";return Fe+="L"+se+","+xe,Me+ye+Fe+Se+"Z"}return X}function o(te,X){var $=p(X.color),ie=v.nodePadAcross,J=te.nodePad/2;X.dx=X.x1-X.x0,X.dy=X.y1-X.y0;var j=X.dx,se=Math.max(.5,X.dy),ne="node_"+X.pointNumber;return X.group&&(ne=s.randstr()),X.trace=te.trace,X.curveNumber=te.trace.index,{index:X.pointNumber,key:ne,partOfGroup:X.partOfGroup||!1,group:X.group,traceId:te.key,trace:te.trace,node:X,nodePad:te.nodePad,nodeLineColor:te.nodeLineColor,nodeLineWidth:te.nodeLineWidth,textFont:te.textFont,size:te.horizontal?te.height:te.width,visibleWidth:Math.ceil(j),visibleHeight:se,zoneX:-ie,zoneY:-J,zoneWidth:j+2*ie,zoneHeight:se+2*J,labelY:te.horizontal?X.dy/2+1:X.dx/2+1,left:X.originalLayer===1,sizeAcross:te.width,forceLayouts:te.forceLayouts,horizontal:te.horizontal,darkBackground:$.getBrightness()<=128,tinyColorHue:r.tinyRGB($),tinyColorAlpha:$.getAlpha(),valueFormat:te.valueFormat,valueSuffix:te.valueSuffix,sankey:te.sankey,graph:te.graph,arrangement:te.arrangement,uniqueNodeLabelPathId:[te.guid,te.key,ne].join("_"),interactionState:te.interactionState,figure:te}}function P(te){te.attr("transform",function(X){return n(X.node.x0.toFixed(3),X.node.y0.toFixed(3))})}function x(te){te.call(P)}function _(te,X){te.call(x),X.attr("d",T())}function I(te){te.attr("width",function(X){return X.node.x1-X.node.x0}).attr("height",function(X){return X.visibleHeight})}function N(te){return te.link.width>1||te.linkLineWidth>0}function k(te){var X=n(te.translateX,te.translateY);return X+(te.horizontal?"matrix(1 0 0 1 0 0)":"matrix(0 1 1 0 0 0)")}function F(te,X,$){te.on(".basic",null).on("mouseover.basic",function(ie){!ie.interactionState.dragInProgress&&!ie.partOfGroup&&($.hover(this,ie,X),ie.interactionState.hovered=[this,ie])}).on("mousemove.basic",function(ie){!ie.interactionState.dragInProgress&&!ie.partOfGroup&&($.follow(this,ie),ie.interactionState.hovered=[this,ie])}).on("mouseout.basic",function(ie){!ie.interactionState.dragInProgress&&!ie.partOfGroup&&($.unhover(this,ie,X),ie.interactionState.hovered=!1)}).on("click.basic",function(ie){ie.interactionState.hovered&&($.unhover(this,ie,X),ie.interactionState.hovered=!1),!ie.interactionState.dragInProgress&&!ie.partOfGroup&&$.select(this,ie,X)})}function O(te,X,$,ie){var J=a.behavior.drag().origin(function(j){return{x:j.node.x0+j.visibleWidth/2,y:j.node.y0+j.visibleHeight/2}}).on("dragstart",function(j){if(j.arrangement!=="fixed"&&(s.ensureSingle(ie._fullLayout._infolayer,"g","dragcover",function(ne){ie._fullLayout._dragCover=ne}),s.raiseToTop(this),j.interactionState.dragInProgress=j.node,Q(j.node),j.interactionState.hovered&&($.nodeEvents.unhover.apply(0,j.interactionState.hovered),j.interactionState.hovered=!1),j.arrangement==="snap")){var se=j.traceId+"|"+j.key;j.forceLayouts[se]?j.forceLayouts[se].alpha(1):z(te,se,j),B(te,X,j,se,ie)}}).on("drag",function(j){if(j.arrangement!=="fixed"){var se=a.event.x,ne=a.event.y;j.arrangement==="snap"?(j.node.x0=se-j.visibleWidth/2,j.node.x1=se+j.visibleWidth/2,j.node.y0=ne-j.visibleHeight/2,j.node.y1=ne+j.visibleHeight/2):(j.arrangement==="freeform"&&(j.node.x0=se-j.visibleWidth/2,j.node.x1=se+j.visibleWidth/2),ne=Math.max(0,Math.min(j.size-j.visibleHeight/2,ne)),j.node.y0=ne-j.visibleHeight/2,j.node.y1=ne+j.visibleHeight/2),Q(j.node),j.arrangement!=="snap"&&(j.sankey.update(j.graph),_(te.filter(oe(j)),X))}}).on("dragend",function(j){if(j.arrangement!=="fixed"){j.interactionState.dragInProgress=!1;for(var se=0;se<j.node.childrenNodes.length;se++)j.node.childrenNodes[se].x=j.node.x,j.node.childrenNodes[se].y=j.node.y;j.arrangement!=="snap"&&q(j,ie)}});te.on(".drag",null).call(J)}function z(te,X,$,ie){Z($.graph.nodes);var J=$.graph.nodes.filter(function(j){return j.originalX===$.node.originalX}).filter(function(j){return!j.partOfGroup});$.forceLayouts[X]=g.forceSimulation(J).alphaDecay(0).force("collide",g.forceCollide().radius(function(j){return j.dy/2+$.nodePad/2}).strength(1).iterations(v.forceIterations)).force("constrain",W(te,X,J,$)).stop()}function B(te,X,$,ie,J){window.requestAnimationFrame(function j(){var se;for(se=0;se<v.forceTicksPerFrame;se++)$.forceLayouts[ie].tick();var ne=$.graph.nodes;if(Y(ne),$.sankey.update($.graph),_(te.filter(oe($)),X),$.forceLayouts[ie].alpha()>0)window.requestAnimationFrame(j);else{var le=$.node.originalX;$.node.x0=le-$.visibleWidth/2,$.node.x1=le+$.visibleWidth/2,q($,J)}})}function W(te,X,$,ie){return function(){for(var j=0,se=0;se<$.length;se++){var ne=$[se];ne===ie.interactionState.dragInProgress?(ne.x=ne.lastDraggedX,ne.y=ne.lastDraggedY):(ne.vx=(ne.originalX-ne.x)/v.forceTicksPerFrame,ne.y=Math.min(ie.size-ne.dy/2,Math.max(ne.dy/2,ne.y))),j=Math.max(j,Math.abs(ne.vx),Math.abs(ne.vy))}!ie.interactionState.dragInProgress&&j<.1&&ie.forceLayouts[X].alpha()>0&&ie.forceLayouts[X].alpha(0)}}function q(te,X){for(var $=[],ie=[],J=0;J<te.graph.nodes.length;J++){var j=(te.graph.nodes[J].x0+te.graph.nodes[J].x1)/2,se=(te.graph.nodes[J].y0+te.graph.nodes[J].y1)/2;$.push(j/te.figure.width),ie.push(se/te.figure.height)}c.call("_guiRestyle",X,{"node.x":[$],"node.y":[ie]},te.trace.index).then(function(){X._fullLayout._dragCover&&X._fullLayout._dragCover.remove()})}function ee(te){var X=[],$;for($=0;$<te.length;$++)te[$].originalX=(te[$].x0+te[$].x1)/2,te[$].originalY=(te[$].y0+te[$].y1)/2,X.indexOf(te[$].originalX)===-1&&X.push(te[$].originalX);for(X.sort(function(ie,J){return ie-J}),$=0;$<te.length;$++)te[$].originalLayerIndex=X.indexOf(te[$].originalX),te[$].originalLayer=te[$].originalLayerIndex/(X.length-1)}function Q(te){te.lastDraggedX=te.x0+te.dx/2,te.lastDraggedY=te.y0+te.dy/2}function oe(te){return function(X){return X.node.originalX===te.node.originalX}}function Z(te){for(var X=0;X<te.length;X++)te[X].y=(te[X].y0+te[X].y1)/2,te[X].x=(te[X].x0+te[X].x1)/2}function Y(te){for(var X=0;X<te.length;X++)te[X].y0=te[X].y-te[X].dy/2,te[X].y1=te[X].y0+te[X].dy,te[X].x0=te[X].x-te[X].dx/2,te[X].x1=te[X].x0+te[X].dx}G.exports=function(te,X,$,ie,J){var j=te._context.staticPlot,se=!1;s.ensureSingle(te._fullLayout._infolayer,"g","first-render",function(){se=!0});var ne=te._fullLayout._dragCover,le=$.filter(function(Se){return h(Se).trace.visible}).map(E.bind(null,ie)),pe=X.selectAll("."+v.cn.sankey).data(le,l);pe.exit().remove(),pe.enter().append("g").classed(v.cn.sankey,!0).style("box-sizing","content-box").style("position","absolute").style("left",0).style("shape-rendering","geometricPrecision").style("pointer-events",j?"none":"auto").attr("transform",k),pe.each(function(Se,Fe){te._fullData[Fe]._sankey=Se;var Be="bgsankey-"+Se.trace.uid+"-"+Fe;s.ensureSingle(te._fullLayout._draggers,"rect",Be),te._fullData[Fe]._bgRect=a.select("."+Be),te._fullData[Fe]._bgRect.style("pointer-events",j?"none":"all").attr("width",Se.width).attr("height",Se.height).attr("x",Se.translateX).attr("y",Se.translateY).classed("bgsankey",!0).style({fill:"transparent","stroke-width":0})}),pe.transition().ease(v.ease).duration(v.duration).attr("transform",k);var Ae=pe.selectAll("."+v.cn.sankeyLinks).data(m,l);Ae.enter().append("g").classed(v.cn.sankeyLinks,!0).style("fill","none");var be=Ae.selectAll("."+v.cn.sankeyLink).data(function(Se){var Fe=Se.graph.links;return Fe.filter(function(Be){return Be.value}).map(y.bind(null,Se))},l);be.enter().append("path").classed(v.cn.sankeyLink,!0).call(F,pe,J.linkEvents),be.style("stroke",function(Se){return N(Se)?r.tinyRGB(p(Se.linkLineColor)):Se.tinyColorHue}).style("stroke-opacity",function(Se){return N(Se)?r.opacity(Se.linkLineColor):Se.tinyColorAlpha}).style("fill",function(Se){return Se.tinyColorHue}).style("fill-opacity",function(Se){return Se.tinyColorAlpha}).style("stroke-width",function(Se){return N(Se)?Se.linkLineWidth:1}).attr("d",T()),be.style("opacity",function(){return te._context.staticPlot||se||ne?1:0}).transition().ease(v.ease).duration(v.duration).style("opacity",1),be.exit().transition().ease(v.ease).duration(v.duration).style("opacity",0).remove();var Re=pe.selectAll("."+v.cn.sankeyNodeSet).data(m,l);Re.enter().append("g").classed(v.cn.sankeyNodeSet,!0),Re.style("cursor",function(Se){switch(Se.arrangement){case"fixed":return"default";case"perpendicular":return"ns-resize";default:return"move"}});var xe=Re.selectAll("."+v.cn.sankeyNode).data(function(Se){var Fe=Se.graph.nodes;return ee(Fe),Fe.map(o.bind(null,Se))},l);xe.enter().append("g").classed(v.cn.sankeyNode,!0).call(P).style("opacity",function(Se){return(te._context.staticPlot||se)&&!Se.partOfGroup?1:0}),xe.call(F,pe,J.nodeEvents).call(O,be,J,te),xe.transition().ease(v.ease).duration(v.duration).call(P).style("opacity",function(Se){return Se.partOfGroup?0:1}),xe.exit().transition().ease(v.ease).duration(v.duration).style("opacity",0).remove();var Me=xe.selectAll("."+v.cn.nodeRect).data(m);Me.enter().append("rect").classed(v.cn.nodeRect,!0).call(I),Me.style("stroke-width",function(Se){return Se.nodeLineWidth}).style("stroke",function(Se){return r.tinyRGB(p(Se.nodeLineColor))}).style("stroke-opacity",function(Se){return r.opacity(Se.nodeLineColor)}).style("fill",function(Se){return Se.tinyColorHue}).style("fill-opacity",function(Se){return Se.tinyColorAlpha}),Me.transition().ease(v.ease).duration(v.duration).call(I);var ye=xe.selectAll("."+v.cn.nodeLabel).data(m);ye.enter().append("text").classed(v.cn.nodeLabel,!0).style("cursor","default"),ye.attr("data-notex",1).text(function(Se){return Se.node.label}).each(function(Se){var Fe=a.select(this);t.font(Fe,Se.textFont),M.convertToTspans(Fe,te)}).style("text-shadow",M.makeTextShadow(te._fullLayout.paper_bgcolor)).attr("text-anchor",function(Se){return Se.horizontal&&Se.left?"end":"start"}).attr("transform",function(Se){var Fe=a.select(this),Be=M.lineCount(Fe),_e=Se.textFont.size*((Be-1)*b-d),Ue=Se.nodeLineWidth/2+w,it=((Se.horizontal?Se.visibleHeight:Se.visibleWidth)-_e)/2;Se.horizontal&&(Se.left?Ue=-Ue:Ue+=Se.visibleWidth);var lt=Se.horizontal?"":"scale(-1,1)"+f(90);return n(Se.horizontal?Ue:it,Se.horizontal?it:Ue)+lt}),ye.transition().ease(v.ease).duration(v.duration)}},81128:function(G){G.exports=function(e,g){for(var L=e.cd,a=[],C=L[0].trace,A=C._sankey.graph.nodes,v=0;v<A.length;v++){var p=A[v];if(!p.partOfGroup){var r=[(p.x0+p.x1)/2,(p.y0+p.y1)/2];C.orientation==="v"&&r.reverse(),g&&g.contains(r,!1,v,e)&&a.push({pointNumber:p.pointNumber})}}return a}},20148:function(G,U,e){var g=e(3400);G.exports=function(a,C){for(var A=0;A<a.length;A++)a[A].i=A;g.mergeArray(C.text,a,"tx"),g.mergeArray(C.texttemplate,a,"txt"),g.mergeArray(C.hovertext,a,"htx"),g.mergeArray(C.customdata,a,"data"),g.mergeArray(C.textposition,a,"tp"),C.textfont&&(g.mergeArrayCastPositive(C.textfont.size,a,"ts"),g.mergeArray(C.textfont.color,a,"tc"),g.mergeArray(C.textfont.family,a,"tf"));var v=C.marker;if(v){g.mergeArrayCastPositive(v.size,a,"ms"),g.mergeArrayCastPositive(v.opacity,a,"mo"),g.mergeArray(v.symbol,a,"mx"),g.mergeArray(v.angle,a,"ma"),g.mergeArray(v.standoff,a,"mf"),g.mergeArray(v.color,a,"mc");var p=v.line;v.line&&(g.mergeArray(p.color,a,"mlc"),g.mergeArrayCastPositive(p.width,a,"mlw"));var r=v.gradient;r&&r.type!=="none"&&(g.mergeArray(r.type,a,"mgt"),g.mergeArray(r.color,a,"mgc"))}}},52904:function(G,U,e){var g=e(29736).axisHoverFormat,L=e(21776).Gw,a=e(21776).Ks,C=e(49084),A=e(25376),v=e(98192).u,p=e(98192).c,r=e(43616),t=e(88200),s=e(92880).extendFlat,n=e(98304);function f(m){return{valType:"any",dflt:0,editType:"calc"}}function u(m){return{valType:"any",editType:"calc"}}function l(m){return{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"}}G.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dx:{valType:"number",dflt:1,editType:"calc",anim:!0},y:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dy:{valType:"number",dflt:1,editType:"calc",anim:!0},xperiod:f(),yperiod:f(),xperiod0:u(),yperiod0:u(),xperiodalignment:l(),yperiodalignment:l(),xhoverformat:g("x"),yhoverformat:g("y"),offsetgroup:{valType:"string",dflt:"",editType:"calc"},alignmentgroup:{valType:"string",dflt:"",editType:"calc"},stackgroup:{valType:"string",dflt:"",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc"},groupnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},stackgaps:{valType:"enumerated",values:["infer zero","interpolate"],dflt:"infer zero",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},texttemplate:L({},{}),hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"],editType:"calc"},hoveron:{valType:"flaglist",flags:["points","fills"],editType:"style"},hovertemplate:a({},{keys:t.eventDataKeys}),line:{color:{valType:"color",editType:"style",anim:!0},width:{valType:"number",min:0,dflt:2,editType:"style",anim:!0},shape:{valType:"enumerated",values:["linear","spline","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},smoothing:{valType:"number",min:0,max:1.3,dflt:1,editType:"plot"},dash:s({},v,{editType:"style"}),backoff:{valType:"number",min:0,dflt:"auto",arrayOk:!0,editType:"plot"},simplify:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},cliponaxis:{valType:"boolean",dflt:!0,editType:"plot"},fill:{valType:"enumerated",values:["none","tozeroy","tozerox","tonexty","tonextx","toself","tonext"],editType:"calc"},fillcolor:n(!0),fillgradient:s({type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],dflt:"none",editType:"calc"},start:{valType:"number",editType:"calc"},stop:{valType:"number",editType:"calc"},colorscale:{valType:"colorscale",editType:"style"},editType:"calc"}),fillpattern:p,marker:s({symbol:{valType:"enumerated",values:r.symbolList,dflt:"circle",arrayOk:!0,editType:"style"},opacity:{valType:"number",min:0,max:1,arrayOk:!0,editType:"style",anim:!0},angle:{valType:"angle",dflt:0,arrayOk:!0,editType:"plot",anim:!1},angleref:{valType:"enumerated",values:["previous","up"],dflt:"up",editType:"plot",anim:!1},standoff:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"plot",anim:!0},size:{valType:"number",min:0,dflt:6,arrayOk:!0,editType:"calc",anim:!0},maxdisplayed:{valType:"number",min:0,dflt:0,editType:"plot"},sizeref:{valType:"number",dflt:1,editType:"calc"},sizemin:{valType:"number",min:0,dflt:0,editType:"calc"},sizemode:{valType:"enumerated",values:["diameter","area"],dflt:"diameter",editType:"calc"},line:s({width:{valType:"number",min:0,arrayOk:!0,editType:"style",anim:!0},editType:"calc"},C("marker.line",{anim:!0})),gradient:{type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],arrayOk:!0,dflt:"none",editType:"calc"},color:{valType:"color",arrayOk:!0,editType:"calc"},editType:"calc"},editType:"calc"},C("marker",{anim:!0})),selected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},unselected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"middle center",arrayOk:!0,editType:"calc"},textfont:A({editType:"calc",colorEditType:"style",arrayOk:!0})}},16356:function(G,U,e){var g=e(38248),L=e(3400),a=e(54460),C=e(1220),A=e(39032).BADNUM,v=e(43028),p=e(90136),r=e(20148),t=e(4500);function s(h,M){var c=h._fullLayout,i=M._xA=a.getFromId(h,M.xaxis||"x","x"),d=M._yA=a.getFromId(h,M.yaxis||"y","y"),b=i.makeCalcdata(M,"x"),w=d.makeCalcdata(M,"y"),E=C(M,i,"x",b),y=C(M,d,"y",w),S=E.vals,T=y.vals,o=M._length,P=new Array(o),x=M.ids,_=m(M,c,i,d),I=!1,N,k,F,O,z,B;u(c,M);var W="x",q="y",ee;if(_)L.pushUnique(_.traceIndices,M._expandedIndex),N=_.orientation==="v",N?(q="s",ee="x"):(W="s",ee="y"),z=_.stackgaps==="interpolate";else{var Q=f(M,o);n(h,M,i,d,S,T,Q)}var oe=!!M.xperiodalignment,Z=!!M.yperiodalignment;for(k=0;k<o;k++){var Y=P[k]={},te=g(S[k]),X=g(T[k]);te&&X?(Y[W]=S[k],Y[q]=T[k],oe&&(Y.orig_x=b[k],Y.xEnd=E.ends[k],Y.xStart=E.starts[k]),Z&&(Y.orig_y=w[k],Y.yEnd=y.ends[k],Y.yStart=y.starts[k])):_&&(N?te:X)?(Y[ee]=N?S[k]:T[k],Y.gap=!0,z?(Y.s=A,I=!0):Y.s=0):Y[W]=Y[q]=A,x&&(Y.id=String(x[k]))}if(r(P,M),p(h,M),t(P,M),_){for(k=0;k<P.length;)P[k][ee]===A?P.splice(k,1):k++;if(L.sort(P,function(j,se){return j[ee]-se[ee]||j.i-se.i}),I){for(k=0;k<P.length-1&&P[k].gap;)k++;for(B=P[k].s,B||(B=P[k].s=0),F=0;F<k;F++)P[F].s=B;for(O=P.length-1;O>k&&P[O].gap;)O--;for(B=P[O].s,F=P.length-1;F>O;F--)P[F].s=B;for(;k<O;)if(k++,P[k].gap){for(F=k+1;P[F].gap;)F++;for(var $=P[k-1][ee],ie=P[k-1].s,J=(P[F].s-ie)/(P[F][ee]-$);k<F;)P[k].s=ie+(P[k][ee]-$)*J,k++}}}return P}function n(h,M,c,i,d,b,w){var E=M._length,y=h._fullLayout,S=c._id,T=i._id,o=y._firstScatter[l(M)]===M.uid,P=(m(M,y,c,i)||{}).orientation,x=M.fill;c._minDtick=0,i._minDtick=0;var _={padded:!0},I={padded:!0};w&&(_.ppad=I.ppad=w);var N=E<2||d[0]!==d[E-1]||b[0]!==b[E-1];N&&(x==="tozerox"||x==="tonextx"&&(o||P==="h"))?_.tozero=!0:!(M.error_y||{}).visible&&(x==="tonexty"||x==="tozeroy"||!v.hasMarkers(M)&&!v.hasText(M))&&(_.padded=!1,_.ppad=0),N&&(x==="tozeroy"||x==="tonexty"&&(o||P==="v"))?I.tozero=!0:(x==="tonextx"||x==="tozerox")&&(I.padded=!1),S&&(M._extremes[S]=a.findExtremes(c,d,_)),T&&(M._extremes[T]=a.findExtremes(i,b,I))}function f(h,M){if(!!v.hasMarkers(h)){var c=h.marker,i=1.6*(h.marker.sizeref||1),d;if(h.marker.sizemode==="area"?d=function(S){return Math.max(Math.sqrt((S||0)/i),3)}:d=function(S){return Math.max((S||0)/i,3)},L.isArrayOrTypedArray(c.size)){var b={type:"linear"};a.setConvert(b);for(var w=b.makeCalcdata(h.marker,"size"),E=new Array(M),y=0;y<M;y++)E[y]=d(w[y]);return E}else return d(c.size)}}function u(h,M){var c=l(M),i=h._firstScatter;i[c]||(i[c]=M.uid)}function l(h){var M=h.stackgroup;return h.xaxis+h.yaxis+h.type+(M?"-"+M:"")}function m(h,M,c,i){var d=h.stackgroup;if(!!d){var b=M._scatterStackOpts[c._id+i._id][d],w=b.orientation==="v"?i:c;if(w.type==="linear"||w.type==="log")return b}}G.exports={calc:s,calcMarkerSize:f,calcAxisExpansion:n,setFirstScatter:u,getStackOpts:m}},4500:function(G,U,e){var g=e(3400);G.exports=function(a,C){g.isArrayOrTypedArray(C.selectedpoints)&&g.tagSelected(a,C)}},90136:function(G,U,e){var g=e(94288).hasColorscale,L=e(47128),a=e(43028);G.exports=function(A,v){a.hasLines(v)&&g(v,"line")&&L(A,v,{vals:v.line.color,containerStr:"line",cLetter:"c"}),a.hasMarkers(v)&&(g(v,"marker")&&L(A,v,{vals:v.marker.color,containerStr:"marker",cLetter:"c"}),g(v,"marker.line")&&L(A,v,{vals:v.marker.line.color,containerStr:"marker.line",cLetter:"c"}))}},88200:function(G){G.exports={PTS_LINESONLY:20,minTolerance:.2,toleranceGrowth:10,maxScreensAway:20,eventDataKeys:[]}},96664:function(G,U,e){var g=e(16356),L=e(96376).setGroupPositions;function a(v,p){for(var r=p.xaxis,t=p.yaxis,s=v._fullLayout,n=v._fullData,f=v.calcdata,u=[],l=[],m=0;m<n.length;m++){var h=n[m];h.visible===!0&&h.type==="scatter"&&h.xaxis===r._id&&h.yaxis===t._id&&(h.orientation==="h"?u.push(f[m]):h.orientation==="v"&&l.push(f[m]))}var M={mode:s.scattermode,gap:s.scattergap};L(v,r,t,l,M),L(v,t,r,u,M)}G.exports=function(p,r){p._fullLayout.scattermode==="group"&&a(p,r);var t=r.xaxis,s=r.yaxis,n=t._id+s._id,f=p._fullLayout._scatterStackOpts[n];if(!!f){var u=p.calcdata,l,m,h,M,c,i,d,b,w,E,y,S,T,o,P;for(var x in f){E=f[x];var _=E.traceIndices;if(!!_.length){for(y=E.stackgaps==="interpolate",S=E.groupnorm,E.orientation==="v"?(T="x",o="y"):(T="y",o="x"),P=new Array(_.length),l=0;l<P.length;l++)P[l]=!1;i=u[_[0]];var I=new Array(i.length);for(l=0;l<i.length;l++)I[l]=i[l][T];for(l=1;l<_.length;l++){for(c=u[_[l]],m=h=0;m<c.length;m++){for(d=c[m][T];d>I[h]&&h<I.length;h++)C(c,m,I[h],l,P,y,T),m++;if(d!==I[h]){for(M=0;M<l;M++)C(u[_[M]],h,d,M,P,y,T);I.splice(h,0,d)}h++}for(;h<I.length;h++)C(c,m,I[h],l,P,y,T),m++}var N=I.length;for(m=0;m<i.length;m++){for(b=i[m][o]=i[m].s,l=1;l<_.length;l++)c=u[_[l]],c[0].trace._rawLength=c[0].trace._length,c[0].trace._length=N,b+=c[m].s,c[m][o]=b;if(S)for(w=(S==="fraction"?b:b/100)||1,l=0;l<_.length;l++){var k=u[_[l]][m];k[o]/=w,k.sNorm=k.s/w}}for(l=0;l<_.length;l++){c=u[_[l]];var F=c[0].trace,O=g.calcMarkerSize(F,F._rawLength),z=Array.isArray(O);if(O&&P[l]||z){var B=O;for(O=new Array(N),m=0;m<N;m++)O[m]=c[m].gap?0:z?B[c[m].i]:B}var W=new Array(N),q=new Array(N);for(m=0;m<N;m++)W[m]=c[m].x,q[m]=c[m].y;g.calcAxisExpansion(p,F,t,s,W,q,O),c[0].t.orientation=E.orientation}}}}};function C(v,p,r,t,s,n,f){s[t]=!0;var u={i:null,gap:!0,s:0};if(u[f]=r,v.splice(p,0,u),p&&r===v[p-1][f]){var l=v[p-1];u.s=l.s,u.i=l.i,u.gap=l.gap}else n&&(u.s=A(v,p,r,f));p||(v[0].t=v[1].t,v[0].trace=v[1].trace,delete v[1].t,delete v[1].trace)}function A(v,p,r,t){var s=v[p-1],n=v[p+1];return n?s?s.s+(n.s-s.s)*(r-s[t])/(n[t]-s[t]):n.s:s.s}},35036:function(G,U,e){var g=e(3400),L=e(20011),a=e(52904);G.exports=function(A,v){var p,r,t;function s(m){return g.coerce(r._input,r,a,m)}if(v.scattermode==="group")for(t=0;t<A.length;t++)r=A[t],r.type==="scatter"&&(p=r._input,L(p,r,v,s));for(t=0;t<A.length;t++){var n=A[t];if(n.type==="scatter"){var f=n.fill;if(!(f==="none"||f==="toself")&&(n.opacity=void 0,f==="tonexty"||f==="tonextx"))for(var u=t-1;u>=0;u--){var l=A[u];if(l.type==="scatter"&&l.xaxis===n.xaxis&&l.yaxis===n.yaxis){l.opacity=void 0;break}}}}}},18800:function(G,U,e){var g=e(3400),L=e(24040),a=e(52904),C=e(88200),A=e(43028),v=e(43980),p=e(31147),r=e(43912),t=e(74428),s=e(66828),n=e(11731),f=e(124),u=e(70840),l=e(3400).coercePattern;G.exports=function(h,M,c,i){function d(P,x){return g.coerce(h,M,a,P,x)}var b=v(h,M,i,d);if(b||(M.visible=!1),!!M.visible){p(h,M,i,d),d("xhoverformat"),d("yhoverformat");var w=r(h,M,i,d);i.scattermode==="group"&&M.orientation===void 0&&d("orientation","v");var E=!w&&b<C.PTS_LINESONLY?"lines+markers":"lines";d("text"),d("hovertext"),d("mode",E),A.hasMarkers(M)&&t(h,M,c,i,d,{gradient:!0}),A.hasLines(M)&&(s(h,M,c,i,d,{backoff:!0}),n(h,M,d),d("connectgaps"),d("line.simplify")),A.hasText(M)&&(d("texttemplate"),f(h,M,i,d));var y=[];(A.hasMarkers(M)||A.hasText(M))&&(d("cliponaxis"),d("marker.maxdisplayed"),y.push("points")),d("fill",w?w.fillDflt:"none"),M.fill!=="none"&&(u(h,M,c,d,{moduleHasFillgradient:!0}),A.hasLines(M)||n(h,M,d),l(d,"fillpattern",M.fillcolor,!1));var S=(M.line||{}).color,T=(M.marker||{}).color;(M.fill==="tonext"||M.fill==="toself")&&y.push("fills"),d("hoveron",y.join("+")||"points"),M.hoveron!=="fills"&&d("hovertemplate");var o=L.getComponentMethod("errorbars","supplyDefaults");o(h,M,S||T||c,{axis:"y"}),o(h,M,S||T||c,{axis:"x",inherit:"y"}),g.coerceSelectionMarkerOpacity(M,d)}}},98304:function(G){G.exports=function(e){return{valType:"color",editType:"style",anim:!0}}},70840:function(G,U,e){var g=e(76308),L=e(3400).isArrayOrTypedArray;function a(C){for(var A=g.interpolate(C[0][1],C[1][1],.5),v=2;v<C.length;v++){var p=g.interpolate(C[v-1][1],C[v][1],.5);A=g.interpolate(A,p,C[v-1][0]/C[v][0])}return A}G.exports=function(A,v,p,r,t){t||(t={});var s=!1;if(v.marker){var n=v.marker.color,f=(v.marker.line||{}).color;n&&!L(n)?s=n:f&&!L(f)&&(s=f)}var u;if(t.moduleHasFillgradient){var l=r("fillgradient.type");if(l!=="none"){r("fillgradient.start"),r("fillgradient.stop");var m=r("fillgradient.colorscale");m&&(u=a(m))}}r("fillcolor",g.addOpacity((v.line||{}).color||s||u||p,.5))}},76688:function(G,U,e){var g=e(54460);G.exports=function(a,C,A){var v={},p={_fullLayout:A},r=g.getFromTrace(p,C,"x"),t=g.getFromTrace(p,C,"y"),s=a.orig_x;s===void 0&&(s=a.x);var n=a.orig_y;return n===void 0&&(n=a.y),v.xLabel=g.tickText(r,r.c2l(s),!0).text,v.yLabel=g.tickText(t,t.c2l(n),!0).text,v}},44928:function(G,U,e){var g=e(76308),L=e(43028);G.exports=function(C,A){var v,p;if(C.mode==="lines")return v=C.line.color,v&&g.opacity(v)?v:C.fillcolor;if(C.mode==="none")return C.fill?C.fillcolor:"";var r=A.mcc||(C.marker||{}).color,t=A.mlcc||((C.marker||{}).line||{}).color;return p=r&&g.opacity(r)?r:t&&g.opacity(t)&&(A.mlw||((C.marker||{}).line||{}).width)?t:"",p?g.opacity(p)<.3?g.addOpacity(p,.3):p:(v=(C.line||{}).color,v&&g.opacity(v)&&L.hasLines(C)&&C.line.width?v:C.fillcolor)}},20011:function(G,U,e){var g=e(71888).getAxisGroup;G.exports=function(a,C,A,v){var p=C.orientation,r=C[{v:"x",h:"y"}[p]+"axis"],t=g(A,r)+p,s=A._alignmentOpts||{},n=v("alignmentgroup"),f=s[t];f||(f=s[t]={});var u=f[n];u?u.traces.push(C):u=f[n]={traces:[C],alignmentIndex:Object.keys(f).length,offsetGroups:{}};var l=v("offsetgroup"),m=u.offsetGroups,h=m[l];l&&(h||(h=m[l]={offsetIndex:Object.keys(m).length}),C._offsetIndex=h.offsetIndex)}},98723:function(G,U,e){var g=e(3400),L=e(93024),a=e(24040),C=e(44928),A=e(76308),v=g.fillText;G.exports=function(r,t,s,n){var f=r.cd,u=f[0].trace,l=r.xa,m=r.ya,h=l.c2p(t),M=m.c2p(s),c=[h,M],i=u.hoveron||"",d=u.mode.indexOf("markers")!==-1?3:.5,b=!!u.xperiodalignment,w=!!u.yperiodalignment;if(i.indexOf("points")!==-1){var E=function(ee){if(b){var Q=l.c2p(ee.xStart),oe=l.c2p(ee.xEnd);return h>=Math.min(Q,oe)&&h<=Math.max(Q,oe)?0:1/0}var Z=Math.max(3,ee.mrc||0),Y=1-1/Z,te=Math.abs(l.c2p(ee.x)-h);return te<Z?Y*te/Z:te-Z+Y},y=function(ee){if(w){var Q=m.c2p(ee.yStart),oe=m.c2p(ee.yEnd);return M>=Math.min(Q,oe)&&M<=Math.max(Q,oe)?0:1/0}var Z=Math.max(3,ee.mrc||0),Y=1-1/Z,te=Math.abs(m.c2p(ee.y)-M);return te<Z?Y*te/Z:te-Z+Y},S=function(ee){var Q=Math.max(d,ee.mrc||0),oe=l.c2p(ee.x)-h,Z=m.c2p(ee.y)-M;return Math.max(Math.sqrt(oe*oe+Z*Z)-Q,1-d/Q)},T=L.getDistanceFunction(n,E,y,S);if(L.getClosest(f,T,r),r.index!==!1){var o=f[r.index],P=l.c2p(o.x,!0),x=m.c2p(o.y,!0),_=o.mrc||1;r.index=o.i;var I=f[0].t.orientation,N=I&&(o.sNorm||o.s),k=I==="h"?N:o.orig_x!==void 0?o.orig_x:o.x,F=I==="v"?N:o.orig_y!==void 0?o.orig_y:o.y;return g.extendFlat(r,{color:C(u,o),x0:P-_,x1:P+_,xLabelVal:k,y0:x-_,y1:x+_,yLabelVal:F,spikeDistance:S(o),hovertemplate:u.hovertemplate}),v(o,u,r),a.getComponentMethod("errorbars","hoverInfo")(o,u,r),[r]}}function O(ee){if(!ee)return!1;var Q=ee.node();try{var oe=new DOMPoint(c[0],c[1]);return Q.isPointInFill(oe)}catch{var Z=Q.ownerSVGElement.createSVGPoint();return Z.x=c[0],Z.y=c[1],Q.isPointInFill(Z)}}function z(ee){var Q,oe=[],Z=1/0,Y=-1/0,te=1/0,X=-1/0,$;for(Q=0;Q<ee.length;Q++){var ie=ee[Q];ie.contains(c)&&(oe.push(ie),te=Math.min(te,ie.ymin),X=Math.max(X,ie.ymax))}if(oe.length===0)return null;te=Math.max(te,0),X=Math.min(X,m._length),$=(te+X)/2;var J,j,se,ne,le,pe,Ae;for(Q=0;Q<oe.length;Q++)for(j=oe[Q].pts,J=1;J<j.length;J++)pe=j[J-1][1],Ae=j[J][1],pe>$!=Ae>=$&&(ne=j[J-1][0],le=j[J][0],Ae-pe&&(se=ne+(le-ne)*($-pe)/(Ae-pe),Z=Math.min(Z,se),Y=Math.max(Y,se)));return Z=Math.max(Z,0),Y=Math.min(Y,l._length),{x0:Z,x1:Y,y0:$,y1:$}}if(i.indexOf("fills")!==-1&&u._fillElement){var B=O(u._fillElement)&&!O(u._fillExclusionElement);if(B){var W=z(u._polygons);W===null&&(W={x0:c[0],x1:c[0],y0:c[1],y1:c[1]});var q=A.defaultLine;return A.opacity(u.fillcolor)?q=u.fillcolor:A.opacity((u.line||{}).color)&&(q=u.line.color),g.extendFlat(r,{distance:r.maxHoverDistance,x0:W.x0,x1:W.x1,y0:W.y0,y1:W.y1,color:q,hovertemplate:!1}),delete r.index,u.text&&!g.isArrayOrTypedArray(u.text)?r.text=String(u.text):r.text=u.name,[r]}}}},65875:function(G,U,e){var g=e(43028);G.exports={hasLines:g.hasLines,hasMarkers:g.hasMarkers,hasText:g.hasText,isBubble:g.isBubble,attributes:e(52904),layoutAttributes:e(55308),supplyDefaults:e(18800),crossTraceDefaults:e(35036),supplyLayoutDefaults:e(59748),calc:e(16356).calc,crossTraceCalc:e(96664),arraysToCalcdata:e(20148),plot:e(96504),colorbar:e(5528),formatLabels:e(76688),style:e(49224).style,styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(98723),selectPoints:e(91560),animatable:!0,moduleType:"trace",name:"scatter",basePlotModule:e(57952),categories:["cartesian","svg","symbols","errorBarsOK","showLegend","scatter-like","zoomScale"],meta:{}}},55308:function(G){G.exports={scattermode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc"},scattergap:{valType:"number",min:0,max:1,editType:"calc"}}},59748:function(G,U,e){var g=e(3400),L=e(55308);G.exports=function(a,C){function A(p,r){return g.coerce(a,C,L,p,r)}var v=C.barmode==="group";C.scattermode==="group"&&A("scattergap",v?C.bargap:.2)}},66828:function(G,U,e){var g=e(3400).isArrayOrTypedArray,L=e(94288).hasColorscale,a=e(27260);G.exports=function(A,v,p,r,t,s){s||(s={});var n=(A.marker||{}).color;if(n&&n._inputArray&&(n=n._inputArray),t("line.color",p),L(A,"line"))a(A,v,r,t,{prefix:"line.",cLetter:"c"});else{var f=(g(n)?!1:n)||p;t("line.color",f)}t("line.width"),s.noDash||t("line.dash"),s.backoff&&t("line.backoff")}},52340:function(G,U,e){var g=e(43616),L=e(39032),a=L.BADNUM,C=L.LOG_CLIP,A=C+.5,v=C-.5,p=e(3400),r=p.segmentsIntersect,t=p.constrain,s=e(88200);G.exports=function(f,u){var l=u.trace||{},m=u.xaxis,h=u.yaxis,M=m.type==="log",c=h.type==="log",i=m._length,d=h._length,b=u.backoff,w=l.marker,E=u.connectGaps,y=u.baseTolerance,S=u.shape,T=S==="linear",o=l.fill&&l.fill!=="none",P=[],x=s.minTolerance,_=f.length,I=new Array(_),N=0,k,F,O,z,B,W,q,ee,Q,oe,Z,Y,te,X,$,ie;function J(ut){var dt=f[ut];if(!dt)return!1;var Zt=u.linearized?m.l2p(dt.x):m.c2p(dt.x),jt=u.linearized?h.l2p(dt.y):h.c2p(dt.y);if(Zt===a){if(M&&(Zt=m.c2p(dt.x,!0)),Zt===a)return!1;c&&jt===a&&(Zt*=Math.abs(m._m*d*(m._m>0?A:v)/(h._m*i*(h._m>0?A:v)))),Zt*=1e3}if(jt===a){if(c&&(jt=h.c2p(dt.y,!0)),jt===a)return!1;jt*=1e3}return[Zt,jt]}function j(ut,dt,Zt,jt){var Tt=Zt-ut,kt=jt-dt,Qt=.5-ut,wr=.5-dt,xt=Tt*Tt+kt*kt,At=Tt*Qt+kt*wr;if(At>0&&At<xt){var Wt=Qt*kt-wr*Tt;if(Wt*Wt<xt)return!0}}var se,ne;function le(ut,dt){var Zt=ut[0]/i,jt=ut[1]/d,Tt=Math.max(0,-Zt,Zt-1,-jt,jt-1);return Tt&&se!==void 0&&j(Zt,jt,se,ne)&&(Tt=0),Tt&&dt&&j(Zt,jt,dt[0]/i,dt[1]/d)&&(Tt=0),(1+s.toleranceGrowth*Tt)*y}function pe(ut,dt){var Zt=ut[0]-dt[0],jt=ut[1]-dt[1];return Math.sqrt(Zt*Zt+jt*jt)}var Ae=s.maxScreensAway,be=-i*Ae,Re=i*(1+Ae),xe=-d*Ae,Me=d*(1+Ae),ye=[[be,xe,Re,xe],[Re,xe,Re,Me],[Re,Me,be,Me],[be,Me,be,xe]],Se,Fe,Be,_e,Ue,it;function lt(ut,dt){for(var Zt=[],jt=0,Tt=0;Tt<4;Tt++){var kt=ye[Tt],Qt=r(ut[0],ut[1],dt[0],dt[1],kt[0],kt[1],kt[2],kt[3]);Qt&&(!jt||Math.abs(Qt.x-Zt[0][0])>1||Math.abs(Qt.y-Zt[0][1])>1)&&(Qt=[Qt.x,Qt.y],jt&&pe(Qt,ut)<pe(Zt[0],ut)?Zt.unshift(Qt):Zt.push(Qt),jt++)}return Zt}function $e(ut){if(ut[0]<be||ut[0]>Re||ut[1]<xe||ut[1]>Me)return[t(ut[0],be,Re),t(ut[1],xe,Me)]}function qe(ut,dt){if(ut[0]===dt[0]&&(ut[0]===be||ut[0]===Re)||ut[1]===dt[1]&&(ut[1]===xe||ut[1]===Me))return!0}function ft(ut,dt){var Zt=[],jt=$e(ut),Tt=$e(dt);return jt&&Tt&&qe(jt,Tt)||(jt&&Zt.push(jt),Tt&&Zt.push(Tt)),Zt}function ct(ut,dt,Zt){return function(jt,Tt){var kt=$e(jt),Qt=$e(Tt),wr=[];if(kt&&Qt&&qe(kt,Qt))return wr;kt&&wr.push(kt),Qt&&wr.push(Qt);var xt=2*p.constrain((jt[ut]+Tt[ut])/2,dt,Zt)-((kt||jt)[ut]+(Qt||Tt)[ut]);if(xt){var At;kt&&Qt?At=xt>0==kt[ut]>Qt[ut]?kt:Qt:At=kt||Qt,At[ut]+=xt}return wr}}var pt;S==="linear"||S==="spline"?pt=lt:S==="hv"||S==="vh"?pt=ft:S==="hvh"?pt=ct(0,be,Re):S==="vhv"&&(pt=ct(1,xe,Me));function yt(ut,dt){var Zt=dt[0]-ut[0],jt=(dt[1]-ut[1])/Zt,Tt=(ut[1]*dt[0]-dt[1]*ut[0])/Zt;return Tt>0?[jt>0?be:Re,Me]:[jt>0?Re:be,xe]}function Et(ut){var dt=ut[0],Zt=ut[1],jt=dt===I[N-1][0],Tt=Zt===I[N-1][1];if(!(jt&&Tt))if(N>1){var kt=dt===I[N-2][0],Qt=Zt===I[N-2][1];jt&&(dt===be||dt===Re)&&kt?Qt?N--:I[N-1]=ut:Tt&&(Zt===xe||Zt===Me)&&Qt?kt?N--:I[N-1]=ut:I[N++]=ut}else I[N++]=ut}function tt(ut){I[N-1][0]!==ut[0]&&I[N-1][1]!==ut[1]&&Et([Be,_e]),Et(ut),Ue=null,Be=_e=0}var Ie=p.isArrayOrTypedArray(w);function We(ut){if(ut&&b&&(ut.i=k,ut.d=f,ut.trace=l,ut.marker=Ie?w[ut.i]:w,ut.backoff=b),se=ut[0]/i,ne=ut[1]/d,Se=ut[0]<be?be:ut[0]>Re?Re:0,Fe=ut[1]<xe?xe:ut[1]>Me?Me:0,Se||Fe){if(!N)I[N++]=[Se||ut[0],Fe||ut[1]];else if(Ue){var dt=pt(Ue,ut);dt.length>1&&(tt(dt[0]),I[N++]=dt[1])}else it=pt(I[N-1],ut)[0],I[N++]=it;var Zt=I[N-1];Se&&Fe&&(Zt[0]!==Se||Zt[1]!==Fe)?(Ue&&(Be!==Se&&_e!==Fe?Et(Be&&_e?yt(Ue,ut):[Be||Se,_e||Fe]):Be&&_e&&Et([Be,_e])),Et([Se,Fe])):Be-Se&&_e-Fe&&Et([Se||Be,Fe||_e]),Ue=ut,Be=Se,_e=Fe}else Ue&&tt(pt(Ue,ut)[0]),I[N++]=ut}for(k=0;k<_;k++)if(F=J(k),!!F){for(N=0,Ue=null,We(F),k++;k<_;k++){if(z=J(k),!z){if(E)continue;break}if(!T||!u.simplify){We(z);continue}var Ze=J(k+1);if(oe=pe(z,F),!(!(o&&(N===0||N===_-1))&&oe<le(z,Ze)*x)){for(ee=[(z[0]-F[0])/oe,(z[1]-F[1])/oe],B=F,Z=oe,Y=X=$=0,q=!1,O=z,k++;k<f.length;k++){if(W=Ze,Ze=J(k+1),!W){if(E)continue;break}if(Q=[W[0]-F[0],W[1]-F[1]],ie=Q[0]*ee[1]-Q[1]*ee[0],X=Math.min(X,ie),$=Math.max($,ie),$-X>le(W,Ze))break;O=W,te=Q[0]*ee[0]+Q[1]*ee[1],te>Z?(Z=te,z=W,q=!1):te<Y&&(Y=te,B=W,q=!0)}if(q?(We(z),O!==B&&We(B)):(B!==F&&We(B),O!==z&&We(z)),We(O),k>=f.length||!W)break;We(W),F=W}}Ue&&Et([Be||Ue[0],_e||Ue[1]]),P.push(I.slice(0,N))}var He=S.slice(S.length-1);if(b&&He!=="h"&&He!=="v"){for(var De=!1,me=-1,ge=[],Ee=0;Ee<P.length;Ee++)for(var Te=0;Te<P[Ee].length-1;Te++){var ze=P[Ee][Te],Xe=P[Ee][Te+1],et=g.applyBackoff(Xe,ze);(et[0]!==Xe[0]||et[1]!==Xe[1])&&(De=!0),ge[me+1]||(me++,ge[me]=[ze,[et[0],et[1]]])}return De?ge:P}return P}},11731:function(G){G.exports=function(e,g,L){var a=L("line.shape");a==="spline"&&L("line.smoothing")}},14328:function(G){var U={tonextx:1,tonexty:1,tonext:1};G.exports=function(g,L,a){var C,A,v,p,r,t={},s=!1,n=-1,f=0,u=-1;for(A=0;A<a.length;A++)C=a[A][0].trace,v=C.stackgroup||"",v?v in t?r=t[v]:(r=t[v]=f,f++):C.fill in U&&u>=0?r=u:(r=u=f,f++),r<n&&(s=!0),C._groupIndex=n=r;var l=a.slice();s&&l.sort(function(h,M){var c=h[0].trace,i=M[0].trace;return c._groupIndex-i._groupIndex||c.index-i.index});var m={};for(A=0;A<l.length;A++)C=l[A][0].trace,v=C.stackgroup||"",C.visible===!0?(C._nexttrace=null,C.fill in U&&(p=m[v],C._prevtrace=p||null,p&&(p._nexttrace=C)),C._ownfill=C.fill&&(C.fill.substr(0,6)==="tozero"||C.fill==="toself"||C.fill.substr(0,2)==="to"&&!C._prevtrace),m[v]=C):C._prevtrace=C._nexttrace=C._ownfill=null;return l}},7152:function(G,U,e){var g=e(38248);G.exports=function(a,C){C||(C=2);var A=a.marker,v=A.sizeref||1,p=A.sizemin||0,r=A.sizemode==="area"?function(t){return Math.sqrt(t/v)}:function(t){return t/v};return function(t){var s=r(t/C);return g(s)&&s>0?Math.max(s,p):0}}},5528:function(G){G.exports={container:"marker",min:"cmin",max:"cmax"}},74428:function(G,U,e){var g=e(76308),L=e(94288).hasColorscale,a=e(27260),C=e(43028);G.exports=function(v,p,r,t,s,n){var f=C.isBubble(v),u=(v.line||{}).color,l;if(n=n||{},u&&(r=u),s("marker.symbol"),s("marker.opacity",f?.7:1),s("marker.size"),n.noAngle||(s("marker.angle"),n.noAngleRef||s("marker.angleref"),n.noStandOff||s("marker.standoff")),s("marker.color",r),L(v,"marker")&&a(v,p,t,s,{prefix:"marker.",cLetter:"c"}),n.noSelect||(s("selected.marker.color"),s("unselected.marker.color"),s("selected.marker.size"),s("unselected.marker.size")),n.noLine||(u&&!Array.isArray(u)&&p.marker.color!==u?l=u:f?l=g.background:l=g.defaultLine,s("marker.line.color",l),L(v,"marker.line")&&a(v,p,t,s,{prefix:"marker.line.",cLetter:"c"}),s("marker.line.width",f?1:0)),f&&(s("marker.sizeref"),s("marker.sizemin"),s("marker.sizemode")),n.gradient){var m=s("marker.gradient.type");m!=="none"&&s("marker.gradient.color")}}},31147:function(G,U,e){var g=e(3400).dateTick0,L=e(39032),a=L.ONEWEEK;function C(A,v){return A%a===0?g(v,1):g(v,0)}G.exports=function(v,p,r,t,s){if(s||(s={x:!0,y:!0}),s.x){var n=t("xperiod");n&&(t("xperiod0",C(n,p.xcalendar)),t("xperiodalignment"))}if(s.y){var f=t("yperiod");f&&(t("yperiod0",C(f,p.ycalendar)),t("yperiodalignment"))}}},96504:function(G,U,e){var g=e(33428),L=e(24040),a=e(3400),C=a.ensureSingle,A=a.identity,v=e(43616),p=e(43028),r=e(52340),t=e(14328),s=e(92065).tester;G.exports=function(m,h,M,c,i,d){var b,w,E=!i,y=!!i&&i.duration>0,S=t(m,h,M);if(b=c.selectAll("g.trace").data(S,function(o){return o[0].trace.uid}),b.enter().append("g").attr("class",function(o){return"trace scatter trace"+o[0].trace.uid}).style("stroke-miterlimit",2),b.order(),n(m,b,h),y){d&&(w=d());var T=g.transition().duration(i.duration).ease(i.easing).each("end",function(){w&&w()}).each("interrupt",function(){w&&w()});T.each(function(){c.selectAll("g.trace").each(function(o,P){f(m,P,h,o,S,this,i)})})}else b.each(function(o,P){f(m,P,h,o,S,this,i)});E&&b.exit().remove(),c.selectAll("path:not([d])").remove()};function n(l,m,h){m.each(function(M){var c=C(g.select(this),"g","fills");v.setClipUrl(c,h.layerClipId,l);var i=M[0].trace,d=[];i._ownfill&&d.push("_ownFill"),i._nexttrace&&d.push("_nextFill");var b=c.selectAll("g").data(d,A);b.enter().append("g"),b.exit().each(function(w){i[w]=null}).remove(),b.order().each(function(w){i[w]=C(g.select(this),"path","js-fill")})})}function f(l,m,h,M,c,i,d){var b=l._context.staticPlot,w;u(l,m,h,M,c);var E=!!d&&d.duration>0;function y(Et){return E?Et.transition():Et}var S=h.xaxis,T=h.yaxis,o=M[0].trace,P=o.line,x=g.select(i),_=C(x,"g","errorbars"),I=C(x,"g","lines"),N=C(x,"g","points"),k=C(x,"g","text");if(L.getComponentMethod("errorbars","plot")(l,_,h,d),o.visible!==!0)return;y(x).style("opacity",o.opacity);var F,O,z=o.fill.charAt(o.fill.length-1);z!=="x"&&z!=="y"&&(z="");var B,W;z==="y"?(B=1,W=T.c2p(0,!0)):z==="x"&&(B=0,W=S.c2p(0,!0)),M[0][h.isRangePlot?"nodeRangePlot3":"node3"]=x;var q="",ee=[],Q=o._prevtrace,oe=null,Z=null;Q&&(q=Q._prevRevpath||"",O=Q._nextFill,ee=Q._ownPolygons,oe=Q._fillsegments,Z=Q._fillElement);var Y,te,X="",$="",ie,J,j,se,ne,le,pe=[];o._polygons=[];var Ae=[],be=[],Re=a.noop;if(F=o._ownFill,p.hasLines(o)||o.fill!=="none"){O&&O.datum(M),["hv","vh","hvh","vhv"].indexOf(P.shape)!==-1?(ie=v.steps(P.shape),J=v.steps(P.shape.split("").reverse().join(""))):P.shape==="spline"?ie=J=function(Et){var tt=Et[Et.length-1];return Et.length>1&&Et[0][0]===tt[0]&&Et[0][1]===tt[1]?v.smoothclosed(Et.slice(1),P.smoothing):v.smoothopen(Et,P.smoothing)}:ie=J=function(Et){return"M"+Et.join("L")},j=function(Et){return J(Et.reverse())},be=r(M,{xaxis:S,yaxis:T,trace:o,connectGaps:o.connectgaps,baseTolerance:Math.max(P.width||1,3)/4,shape:P.shape,backoff:P.backoff,simplify:P.simplify,fill:o.fill}),Ae=new Array(be.length);var xe=0;for(w=0;w<be.length;w++){var Me,ye=be[w];!Me||!z?(Me=ye.slice(),Ae[xe]=Me,xe++):Me.push.apply(Me,ye)}o._fillElement=null,o._fillExclusionElement=Z,o._fillsegments=Ae.slice(0,xe),Ae=o._fillsegments,be.length&&(se=be[0][0].slice(),ne=be[be.length-1],le=ne[ne.length-1].slice()),Re=function(Et){return function(tt){if(Y=ie(tt),te=j(tt),X?z?(X+="L"+Y.substr(1),$=te+("L"+$.substr(1))):(X+="Z"+Y,$=te+"Z"+$):(X=Y,$=te),p.hasLines(o)){var Ie=g.select(this);if(Ie.datum(M),Et)y(Ie.style("opacity",0).attr("d",Y).call(v.lineGroupStyle)).style("opacity",1);else{var We=y(Ie);We.attr("d",Y),v.singleLineStyle(M,We)}}}}}var Se=I.selectAll(".js-line").data(be);y(Se.exit()).style("opacity",0).remove(),Se.each(Re(!1)),Se.enter().append("path").classed("js-line",!0).style("vector-effect",b?"none":"non-scaling-stroke").call(v.lineGroupStyle).each(Re(!0)),v.setClipUrl(Se,h.layerClipId,l);function Fe(Et){y(Et).attr("d","M0,0Z")}var Be=function(){var Et=new Array(Ae.length);for(w=0;w<Ae.length;w++)Et[w]=s(Ae[w]);return Et},_e=function(Et){var tt,Ie;if(!Et||Et.length===0)for(tt=new Array(Ae.length),Ie=0;Ie<Ae.length;Ie++){var We=Ae[Ie][0].slice(),Ze=Ae[Ie][Ae[Ie].length-1].slice();We[B]=Ze[B]=W;var He=[Ze,We],De=He.concat(Ae[Ie]);tt[Ie]=s(De)}else{for(tt=new Array(Et.length-1+Ae.length),Ie=0;Ie<Et.length-1;Ie++)tt[Ie]=s(Et[Ie]);var me=Et[Et.length-1].slice();for(me.reverse(),Ie=0;Ie<Ae.length;Ie++)tt[Et.length-1+Ie]=s(Ae[Ie].concat(me))}return tt};be.length?(F?(F.datum(M),se&&le&&(z?(se[B]=le[B]=W,y(F).attr("d","M"+le+"L"+se+"L"+X.substr(1)).call(v.singleFillStyle,l),pe=_e(null)):(y(F).attr("d",X+"Z").call(v.singleFillStyle,l),pe=Be())),o._polygons=pe,o._fillElement=F):O&&(o.fill.substr(0,6)==="tonext"&&X&&q?(o.fill==="tonext"?(y(O).attr("d",X+"Z"+q+"Z").call(v.singleFillStyle,l),pe=Be(),o._polygons=pe.concat(ee)):(y(O).attr("d",X+"L"+q.substr(1)+"Z").call(v.singleFillStyle,l),pe=_e(oe),o._polygons=pe),o._fillElement=O):Fe(O)),o._prevRevpath=$):(F?Fe(F):O&&Fe(O),o._prevRevpath=null),o._ownPolygons=pe;function Ue(Et){return Et.filter(function(tt){return!tt.gap&&tt.vis})}function it(Et){return Et.filter(function(tt){return tt.vis})}function lt(Et){return Et.filter(function(tt){return!tt.gap})}function $e(Et){return Et.id}function qe(Et){if(Et.ids)return $e}function ft(){return!1}function ct(Et,tt,Ie){var We,Ze,He,De=Ie[0].trace,me=p.hasMarkers(De),ge=p.hasText(De),Ee=qe(De),Te=ft,ze=ft;if(me||ge){var Xe=A,et=De.stackgroup,ut=et&&l._fullLayout._scatterStackOpts[S._id+T._id][et].stackgaps==="infer zero";De.marker.maxdisplayed||De._needsCull?Xe=ut?it:Ue:et&&!ut&&(Xe=lt),me&&(Te=Xe),ge&&(ze=Xe)}Ze=Et.selectAll("path.point"),We=Ze.data(Te,Ee);var dt=We.enter().append("path").classed("point",!0);E&&dt.call(v.pointStyle,De,l).call(v.translatePoints,S,T).style("opacity",0).transition().style("opacity",1),We.order();var Zt;me&&(Zt=v.makePointStyleFns(De)),We.each(function(jt){var Tt=g.select(this),kt=y(Tt);He=v.translatePoint(jt,kt,S,T),He?(v.singlePointStyle(jt,kt,De,Zt,l),h.layerClipId&&v.hideOutsideRangePoint(jt,kt,S,T,De.xcalendar,De.ycalendar),De.customdata&&Tt.classed("plotly-customdata",jt.data!==null&&jt.data!==void 0)):kt.remove()}),E?We.exit().transition().style("opacity",0).remove():We.exit().remove(),Ze=tt.selectAll("g"),We=Ze.data(ze,Ee),We.enter().append("g").classed("textpoint",!0).append("text"),We.order(),We.each(function(jt){var Tt=g.select(this),kt=y(Tt.select("text"));He=v.translatePoint(jt,kt,S,T),He?h.layerClipId&&v.hideOutsideRangePoint(jt,Tt,S,T,De.xcalendar,De.ycalendar):Tt.remove()}),We.selectAll("text").call(v.textPointStyle,De,l).each(function(jt){var Tt=S.c2p(jt.x),kt=T.c2p(jt.y);g.select(this).selectAll("tspan.line").each(function(){y(g.select(this)).attr({x:Tt,y:kt})})}),We.exit().remove()}N.datum(M),k.datum(M),ct(N,k,M);var pt=o.cliponaxis===!1,yt=pt?null:h.layerClipId;v.setClipUrl(N,yt,l),v.setClipUrl(k,yt,l)}function u(l,m,h,M,c){var i=h.xaxis,d=h.yaxis,b=g.extent(a.simpleMap(i.range,i.r2c)),w=g.extent(a.simpleMap(d.range,d.r2c)),E=M[0].trace;if(!!p.hasMarkers(E)){var y=E.marker.maxdisplayed;if(y!==0){var S=M.filter(function(x){return x.x>=b[0]&&x.x<=b[1]&&x.y>=w[0]&&x.y<=w[1]}),T=Math.ceil(S.length/y),o=0;c.forEach(function(x,_){var I=x[0].trace;p.hasMarkers(I)&&I.marker.maxdisplayed>0&&_<m&&o++});var P=Math.round(o*T/3+Math.floor(o/3)*T/7.1);M.forEach(function(x){delete x.vis}),S.forEach(function(x,_){Math.round((_+P)%T)===0&&(x.vis=!0)})}}}},91560:function(G,U,e){var g=e(43028);G.exports=function(a,C){var A=a.cd,v=a.xaxis,p=a.yaxis,r=[],t=A[0].trace,s,n,f,u,l=!g.hasMarkers(t)&&!g.hasText(t);if(l)return[];if(C===!1)for(s=0;s<A.length;s++)A[s].selected=0;else for(s=0;s<A.length;s++)n=A[s],f=v.c2p(n.x),u=p.c2p(n.y),n.i!==null&&C.contains([f,u],!1,s,a)?(r.push({pointNumber:n.i,x:v.c2d(n.x),y:p.c2d(n.y)}),n.selected=1):n.selected=0;return r}},43912:function(G){var U=["orientation","groupnorm","stackgaps"];G.exports=function(g,L,a,C){var A=a._scatterStackOpts,v=C("stackgroup");if(v){var p=L.xaxis+L.yaxis,r=A[p];r||(r=A[p]={});var t=r[v],s=!1;t?t.traces.push(L):(t=r[v]={traceIndices:[],traces:[L]},s=!0);for(var n={orientation:L.x&&!L.y?"h":"v"},f=0;f<U.length;f++){var u=U[f],l=u+"Found";if(!t[l]){var m=g[u]!==void 0,h=u==="orientation";if((m||s)&&(t[u]=C(u,n[u]),h&&(t.fillDflt=t[u]==="h"?"tonextx":"tonexty"),m&&(t[l]=!0,!s&&(delete t.traces[0][u],h))))for(var M=0;M<t.traces.length-1;M++){var c=t.traces[M];c._input.fill!==c.fill&&(c.fill=t.fillDflt)}}}return t}}},49224:function(G,U,e){var g=e(33428),L=e(43616),a=e(24040);function C(r){var t=g.select(r).selectAll("g.trace.scatter");t.style("opacity",function(s){return s[0].trace.opacity}),t.selectAll("g.points").each(function(s){var n=g.select(this),f=s.trace||s[0].trace;A(n,f,r)}),t.selectAll("g.text").each(function(s){var n=g.select(this),f=s.trace||s[0].trace;v(n,f,r)}),t.selectAll("g.trace path.js-line").call(L.lineGroupStyle),t.selectAll("g.trace path.js-fill").call(L.fillGroupStyle,r,!1),a.getComponentMethod("errorbars","style")(t)}function A(r,t,s){L.pointStyle(r.selectAll("path.point"),t,s)}function v(r,t,s){L.textPointStyle(r.selectAll("text"),t,s)}function p(r,t,s){var n=t[0].trace;n.selectedpoints?(L.selectedPointStyle(s.selectAll("path.point"),n),L.selectedTextStyle(s.selectAll("text"),n)):(A(s,n,r),v(s,n,r))}G.exports={style:C,stylePoints:A,styleText:v,styleOnSelect:p}},43028:function(G,U,e){var g=e(3400),L=e(38116).isTypedArraySpec;G.exports={hasLines:function(a){return a.visible&&a.mode&&a.mode.indexOf("lines")!==-1},hasMarkers:function(a){return a.visible&&(a.mode&&a.mode.indexOf("markers")!==-1||a.type==="splom")},hasText:function(a){return a.visible&&a.mode&&a.mode.indexOf("text")!==-1},isBubble:function(a){var C=a.marker;return g.isPlainObject(C)&&(g.isArrayOrTypedArray(C.size)||L(C.size))}}},124:function(G,U,e){var g=e(3400);G.exports=function(L,a,C,A,v){v=v||{},A("textposition"),g.coerceFont(A,"textfont",v.font||C.font),v.noSelect||(A("selected.textfont.color"),A("unselected.textfont.color"))}},43980:function(G,U,e){var g=e(3400),L=e(24040);G.exports=function(C,A,v,p){var r=p("x"),t=p("y"),s,n=L.getComponentMethod("calendars","handleTraceDefaults");if(n(C,A,["x","y"],v),r){var f=g.minRowLength(r);t?s=Math.min(f,g.minRowLength(t)):(s=f,p("y0"),p("dy"))}else{if(!t)return 0;s=g.minRowLength(t),p("x0"),p("dx")}return A._length=s,s}},91592:function(G,U,e){var g=e(52904),L=e(49084),a=e(29736).axisHoverFormat,C=e(21776).Ks,A=e(21776).Gw,v=e(45464),p=e(99168),r=e(87792),t=e(92880).extendFlat,s=e(67824).overrideAll,n=e(95376),f=g.line,u=g.marker,l=u.line,m=t({width:f.width,dash:{valType:"enumerated",values:n(p),dflt:"solid"}},L("line"));function h(c){return{show:{valType:"boolean",dflt:!1},opacity:{valType:"number",min:0,max:1,dflt:1},scale:{valType:"number",min:0,max:10,dflt:.6666666666666666}}}var M=G.exports=s({x:g.x,y:g.y,z:{valType:"data_array"},text:t({},g.text,{}),texttemplate:A({},{}),hovertext:t({},g.hovertext,{}),hovertemplate:C(),xhoverformat:a("x"),yhoverformat:a("y"),zhoverformat:a("z"),mode:t({},g.mode,{dflt:"lines+markers"}),surfaceaxis:{valType:"enumerated",values:[-1,0,1,2],dflt:-1},surfacecolor:{valType:"color"},projection:{x:h(),y:h(),z:h()},connectgaps:g.connectgaps,line:m,marker:t({symbol:{valType:"enumerated",values:n(r),dflt:"circle",arrayOk:!0},size:t({},u.size,{dflt:8}),sizeref:u.sizeref,sizemin:u.sizemin,sizemode:u.sizemode,opacity:t({},u.opacity,{arrayOk:!1}),colorbar:u.colorbar,line:t({width:t({},l.width,{arrayOk:!1})},L("marker.line"))},L("marker")),textposition:t({},g.textposition,{dflt:"top center"}),textfont:{color:g.textfont.color,size:g.textfont.size,family:t({},g.textfont.family,{arrayOk:!1})},opacity:v.opacity,hoverinfo:t({},v.hoverinfo)},"calc","nested");M.x.editType=M.y.editType=M.z.editType="calc+clearAxisTypes"},41484:function(G,U,e){var g=e(20148),L=e(90136);G.exports=function(C,A){var v=[{x:!1,y:!1,trace:A,t:{}}];return g(v,A),L(C,A),v}},45156:function(G,U,e){var g=e(24040);function L(A,v,p,r){if(!v||!v.visible)return null;for(var t=g.getComponentMethod("errorbars","makeComputeError")(v),s=new Array(A.length),n=0;n<A.length;n++){var f=t(+A[n],n);if(r.type==="log"){var u=r.c2l(A[n]),l=A[n]-f[0],m=A[n]+f[1];if(s[n]=[(r.c2l(l,!0)-u)*p,(r.c2l(m,!0)-u)*p],l>0){var h=r.c2l(l);r._lowerLogErrorBound||(r._lowerLogErrorBound=h),r._lowerErrorBound=Math.min(r._lowerLogErrorBound,h)}}else s[n]=[-f[0]*p,f[1]*p]}return s}function a(A){for(var v=0;v<A.length;v++)if(A[v])return A[v].length;return 0}function C(A,v,p){var r=[L(A.x,A.error_x,v[0],p.xaxis),L(A.y,A.error_y,v[1],p.yaxis),L(A.z,A.error_z,v[2],p.zaxis)],t=a(r);if(t===0)return null;for(var s=new Array(t),n=0;n<t;n++){for(var f=[[0,0,0],[0,0,0]],u=0;u<3;u++)if(r[u])for(var l=0;l<2;l++)f[l][u]=r[u][n][l];s[n]=f}return s}G.exports=C},41064:function(G,U,e){var g=e(67792).gl_line3d,L=e(67792).gl_scatter3d,a=e(67792).gl_error3d,C=e(67792).gl_mesh3d,A=e(67792).delaunay_triangulate,v=e(3400),p=e(43080),r=e(33040).formatColor,t=e(7152),s=e(99168),n=e(87792),f=e(54460),u=e(10624).appendArrayPointValue,l=e(45156);function m(x,_){this.scene=x,this.uid=_,this.linePlot=null,this.scatterPlot=null,this.errorBars=null,this.textMarkers=null,this.delaunayMesh=null,this.color=null,this.mode="",this.dataPoints=[],this.axesBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.textLabels=null,this.data=null}var h=m.prototype;h.handlePick=function(x){if(x.object&&(x.object===this.linePlot||x.object===this.delaunayMesh||x.object===this.textMarkers||x.object===this.scatterPlot)){var _=x.index=x.data.index;return x.object.highlight&&x.object.highlight(null),this.scatterPlot&&(x.object=this.scatterPlot,this.scatterPlot.highlight(x.data)),x.textLabel="",this.textLabels&&(v.isArrayOrTypedArray(this.textLabels)?(this.textLabels[_]||this.textLabels[_]===0)&&(x.textLabel=this.textLabels[_]):x.textLabel=this.textLabels),x.traceCoordinate=[this.data.x[_],this.data.y[_],this.data.z[_]],!0}};function M(x,_,I){var N=(I+1)%3,k=(I+2)%3,F=[],O=[],z;for(z=0;z<x.length;++z){var B=x[z];isNaN(B[N])||!isFinite(B[N])||isNaN(B[k])||!isFinite(B[k])||(F.push([B[N],B[k]]),O.push(z))}var W=A(F);for(z=0;z<W.length;++z)for(var q=W[z],ee=0;ee<q.length;++ee)q[ee]=O[q[ee]];return{positions:x,cells:W,meshColor:_}}function c(x){for(var _=[0,0,0],I=[[0,0,0],[0,0,0],[0,0,0]],N=[1,1,1],k=0;k<3;k++){var F=x[k];F&&F.copy_zstyle!==!1&&x[2].visible!==!1&&(F=x[2]),!(!F||!F.visible)&&(_[k]=F.width/2,I[k]=p(F.color),N[k]=F.thickness)}return{capSize:_,color:I,lineWidth:N}}function i(x){return x==null?0:x.indexOf("left")>-1?-1:x.indexOf("right")>-1?1:0}function d(x){return x==null?0:x.indexOf("top")>-1?-1:x.indexOf("bottom")>-1?1:0}function b(x){var _=0,I=0,N=[_,I];if(Array.isArray(x))for(var k=0;k<x.length;k++)N[k]=[_,I],x[k]&&(N[k][0]=i(x[k]),N[k][1]=d(x[k]));else N[0]=i(x),N[1]=d(x);return N}function w(x,_){return _(x*4)}function E(x){return n[x]}function y(x,_,I,N,k){var F=null;if(v.isArrayOrTypedArray(x)){F=[];for(var O=0;O<_;O++)x[O]===void 0?F[O]=N:F[O]=I(x[O],k)}else F=I(x,v.identity);return F}function S(x,_){var I=[],N=x.fullSceneLayout,k=x.dataScale,F=N.xaxis,O=N.yaxis,z=N.zaxis,B=_.marker,W=_.line,q=_.x||[],ee=_.y||[],Q=_.z||[],oe=q.length,Z=_.xcalendar,Y=_.ycalendar,te=_.zcalendar,X,$,ie,J,j,se;for(j=0;j<oe;j++)X=F.d2l(q[j],0,Z)*k[0],$=O.d2l(ee[j],0,Y)*k[1],ie=z.d2l(Q[j],0,te)*k[2],I[j]=[X,$,ie];if(Array.isArray(_.text))se=_.text;else if(v.isTypedArray(_.text))se=Array.from(_.text);else if(_.text!==void 0)for(se=new Array(oe),j=0;j<oe;j++)se[j]=_.text;function ne(lt,$e){var qe=N[lt];return f.tickText(qe,qe.d2l($e),!0).text}var le=_.texttemplate;if(le){var pe=x.fullLayout,Ae=pe._d3locale,be=Array.isArray(le),Re=be?Math.min(le.length,oe):oe,xe=be?function(lt){return le[lt]}:function(){return le};for(se=new Array(Re),j=0;j<Re;j++){var Me={x:q[j],y:ee[j],z:Q[j]},ye={xLabel:ne("xaxis",q[j]),yLabel:ne("yaxis",ee[j]),zLabel:ne("zaxis",Q[j])},Se={};u(Se,_,j);var Fe=_._meta||{};se[j]=v.texttemplateString(xe(j),ye,Ae,Se,Me,Fe)}}if(J={position:I,mode:_.mode,text:se},"line"in _&&(J.lineColor=r(W,1,oe),J.lineWidth=W.width,J.lineDashes=W.dash),"marker"in _){var Be=t(_);J.scatterColor=r(B,1,oe),J.scatterSize=y(B.size,oe,w,20,Be),J.scatterMarker=y(B.symbol,oe,E,"\u25CF"),J.scatterLineWidth=B.line.width,J.scatterLineColor=r(B.line,1,oe),J.scatterAngle=0}"textposition"in _&&(J.textOffset=b(_.textposition),J.textColor=r(_.textfont,1,oe),J.textSize=y(_.textfont.size,oe,v.identity,12),J.textFont=_.textfont.family,J.textAngle=0);var _e=["x","y","z"];for(J.project=[!1,!1,!1],J.projectScale=[1,1,1],J.projectOpacity=[1,1,1],j=0;j<3;++j){var Ue=_.projection[_e[j]];(J.project[j]=Ue.show)&&(J.projectOpacity[j]=Ue.opacity,J.projectScale[j]=Ue.scale)}J.errorBounds=l(_,k,N);var it=c([_.error_x,_.error_y,_.error_z]);return J.errorColor=it.color,J.errorLineWidth=it.lineWidth,J.errorCapSize=it.capSize,J.delaunayAxis=_.surfaceaxis,J.delaunayColor=p(_.surfacecolor),J}function T(x){if(v.isArrayOrTypedArray(x)){var _=x[0];return v.isArrayOrTypedArray(_)&&(x=_),"rgb("+x.slice(0,3).map(function(I){return Math.round(I*255)})+")"}return null}function o(x){return v.isArrayOrTypedArray(x)?x.length===4&&typeof x[0]=="number"?T(x):x.map(T):null}h.update=function(x){var _=this.scene.glplot.gl,I,N,k,F,O=s.solid;this.data=x;var z=S(this.scene,x);"mode"in z&&(this.mode=z.mode),"lineDashes"in z&&z.lineDashes in s&&(O=s[z.lineDashes]),this.color=o(z.scatterColor)||o(z.lineColor),this.dataPoints=z.position,I={gl:this.scene.glplot.gl,position:z.position,color:z.lineColor,lineWidth:z.lineWidth||1,dashes:O[0],dashScale:O[1],opacity:x.opacity,connectGaps:x.connectgaps},this.mode.indexOf("lines")!==-1?this.linePlot?this.linePlot.update(I):(this.linePlot=g(I),this.linePlot._trace=this,this.scene.glplot.add(this.linePlot)):this.linePlot&&(this.scene.glplot.remove(this.linePlot),this.linePlot.dispose(),this.linePlot=null);var B=x.opacity;if(x.marker&&x.marker.opacity!==void 0&&(B*=x.marker.opacity),N={gl:this.scene.glplot.gl,position:z.position,color:z.scatterColor,size:z.scatterSize,glyph:z.scatterMarker,opacity:B,orthographic:!0,lineWidth:z.scatterLineWidth,lineColor:z.scatterLineColor,project:z.project,projectScale:z.projectScale,projectOpacity:z.projectOpacity},this.mode.indexOf("markers")!==-1?this.scatterPlot?this.scatterPlot.update(N):(this.scatterPlot=L(N),this.scatterPlot._trace=this,this.scatterPlot.highlightScale=1,this.scene.glplot.add(this.scatterPlot)):this.scatterPlot&&(this.scene.glplot.remove(this.scatterPlot),this.scatterPlot.dispose(),this.scatterPlot=null),F={gl:this.scene.glplot.gl,position:z.position,glyph:z.text,color:z.textColor,size:z.textSize,angle:z.textAngle,alignment:z.textOffset,font:z.textFont,orthographic:!0,lineWidth:0,project:!1,opacity:x.opacity},this.textLabels=x.hovertext||x.text,this.mode.indexOf("text")!==-1?this.textMarkers?this.textMarkers.update(F):(this.textMarkers=L(F),this.textMarkers._trace=this,this.textMarkers.highlightScale=1,this.scene.glplot.add(this.textMarkers)):this.textMarkers&&(this.scene.glplot.remove(this.textMarkers),this.textMarkers.dispose(),this.textMarkers=null),k={gl:this.scene.glplot.gl,position:z.position,color:z.errorColor,error:z.errorBounds,lineWidth:z.errorLineWidth,capSize:z.errorCapSize,opacity:x.opacity},this.errorBars?z.errorBounds?this.errorBars.update(k):(this.scene.glplot.remove(this.errorBars),this.errorBars.dispose(),this.errorBars=null):z.errorBounds&&(this.errorBars=a(k),this.errorBars._trace=this,this.scene.glplot.add(this.errorBars)),z.delaunayAxis>=0){var W=M(z.position,z.delaunayColor,z.delaunayAxis);W.opacity=x.opacity,this.delaunayMesh?this.delaunayMesh.update(W):(W.gl=_,this.delaunayMesh=C(W),this.delaunayMesh._trace=this,this.scene.glplot.add(this.delaunayMesh))}else this.delaunayMesh&&(this.scene.glplot.remove(this.delaunayMesh),this.delaunayMesh.dispose(),this.delaunayMesh=null)},h.dispose=function(){this.linePlot&&(this.scene.glplot.remove(this.linePlot),this.linePlot.dispose()),this.scatterPlot&&(this.scene.glplot.remove(this.scatterPlot),this.scatterPlot.dispose()),this.errorBars&&(this.scene.glplot.remove(this.errorBars),this.errorBars.dispose()),this.textMarkers&&(this.scene.glplot.remove(this.textMarkers),this.textMarkers.dispose()),this.delaunayMesh&&(this.scene.glplot.remove(this.delaunayMesh),this.delaunayMesh.dispose())};function P(x,_){var I=new m(x,_.uid);return I.update(_),I}G.exports=P},83484:function(G,U,e){var g=e(24040),L=e(3400),a=e(43028),C=e(74428),A=e(66828),v=e(124),p=e(91592);G.exports=function(s,n,f,u){function l(w,E){return L.coerce(s,n,p,w,E)}var m=r(s,n,l,u);if(!m){n.visible=!1;return}l("text"),l("hovertext"),l("hovertemplate"),l("xhoverformat"),l("yhoverformat"),l("zhoverformat"),l("mode"),a.hasMarkers(n)&&C(s,n,f,u,l,{noSelect:!0,noAngle:!0}),a.hasLines(n)&&(l("connectgaps"),A(s,n,f,u,l)),a.hasText(n)&&(l("texttemplate"),v(s,n,u,l,{noSelect:!0}));var h=(n.line||{}).color,M=(n.marker||{}).color;l("surfaceaxis")>=0&&l("surfacecolor",h||M);for(var c=["x","y","z"],i=0;i<3;++i){var d="projection."+c[i];l(d+".show")&&(l(d+".opacity"),l(d+".scale"))}var b=g.getComponentMethod("errorbars","supplyDefaults");b(s,n,h||M||f,{axis:"z"}),b(s,n,h||M||f,{axis:"y",inherit:"z"}),b(s,n,h||M||f,{axis:"x",inherit:"z"})};function r(t,s,n,f){var u=0,l=n("x"),m=n("y"),h=n("z"),M=g.getComponentMethod("calendars","handleTraceDefaults");return M(t,s,["x","y","z"],f),l&&m&&h&&(u=Math.min(l.length,m.length,h.length),s._length=s._xlength=s._ylength=s._zlength=u),u}},3296:function(G,U,e){G.exports={plot:e(41064),attributes:e(91592),markerSymbols:e(87792),supplyDefaults:e(83484),colorbar:[{container:"marker",min:"cmin",max:"cmax"},{container:"line",min:"cmin",max:"cmax"}],calc:e(41484),moduleType:"trace",name:"scatter3d",basePlotModule:e(12536),categories:["gl3d","symbols","showLegend","scatter-like"],meta:{}}},90372:function(G,U,e){var g=e(98304),L=e(52904),a=e(45464),C=e(21776).Ks,A=e(21776).Gw,v=e(49084),p=e(92880).extendFlat,r=L.marker,t=L.line,s=r.line;G.exports={carpet:{valType:"string",editType:"calc"},a:{valType:"data_array",editType:"calc"},b:{valType:"data_array",editType:"calc"},mode:p({},L.mode,{dflt:"markers"}),text:p({},L.text,{}),texttemplate:A({editType:"plot"},{keys:["a","b","text"]}),hovertext:p({},L.hovertext,{}),line:{color:t.color,width:t.width,dash:t.dash,backoff:t.backoff,shape:p({},t.shape,{values:["linear","spline"]}),smoothing:t.smoothing,editType:"calc"},connectgaps:L.connectgaps,fill:p({},L.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:g(),marker:p({symbol:r.symbol,opacity:r.opacity,maxdisplayed:r.maxdisplayed,angle:r.angle,angleref:r.angleref,standoff:r.standoff,size:r.size,sizeref:r.sizeref,sizemin:r.sizemin,sizemode:r.sizemode,line:p({width:s.width,editType:"calc"},v("marker.line")),gradient:r.gradient,editType:"calc"},v("marker")),textfont:L.textfont,textposition:L.textposition,selected:L.selected,unselected:L.unselected,hoverinfo:p({},a.hoverinfo,{flags:["a","b","text","name"]}),hoveron:L.hoveron,hovertemplate:C()}},48228:function(G,U,e){var g=e(38248),L=e(90136),a=e(20148),C=e(4500),A=e(16356).calcMarkerSize,v=e(50948);G.exports=function(r,t){var s=t._carpetTrace=v(r,t);if(!(!s||!s.visible||s.visible==="legendonly")){var n;t.xaxis=s.xaxis,t.yaxis=s.yaxis;var f=t._length,u=new Array(f),l,m,h=!1;for(n=0;n<f;n++)if(l=t.a[n],m=t.b[n],g(l)&&g(m)){var M=s.ab2xy(+l,+m,!0),c=s.isVisible(+l,+m);c||(h=!0),u[n]={x:M[0],y:M[1],a:l,b:m,vis:c}}else u[n]={x:!1,y:!1};return t._needsCull=h,u[0].carpet=s,u[0].trace=t,A(t,f),L(r,t),a(u,t),C(u,t),u}}},6176:function(G,U,e){var g=e(3400),L=e(88200),a=e(43028),C=e(74428),A=e(66828),v=e(11731),p=e(124),r=e(70840),t=e(90372);G.exports=function(n,f,u,l){function m(w,E){return g.coerce(n,f,t,w,E)}m("carpet"),f.xaxis="x",f.yaxis="y";var h=m("a"),M=m("b"),c=Math.min(h.length,M.length);if(!c){f.visible=!1;return}f._length=c,m("text"),m("texttemplate"),m("hovertext");var i=c<L.PTS_LINESONLY?"lines+markers":"lines";m("mode",i),a.hasMarkers(f)&&C(n,f,u,l,m,{gradient:!0}),a.hasLines(f)&&(A(n,f,u,l,m,{backoff:!0}),v(n,f,m),m("connectgaps")),a.hasText(f)&&p(n,f,l,m);var d=[];(a.hasMarkers(f)||a.hasText(f))&&(m("marker.maxdisplayed"),d.push("points")),m("fill"),f.fill!=="none"&&(r(n,f,u,m),a.hasLines(f)||v(n,f,m)),(f.fill==="tonext"||f.fill==="toself")&&d.push("fills");var b=m("hoveron",d.join("+")||"points");b!=="fills"&&m("hovertemplate"),g.coerceSelectionMarkerOpacity(f,m)}},89307:function(G){G.exports=function(e,g,L,a,C){var A=a[C];return e.a=A.a,e.b=A.b,e.y=A.y,e}},52364:function(G){G.exports=function(e,g){var L={},a=g._carpet,C=a.ab2ij([e.a,e.b]),A=Math.floor(C[0]),v=C[0]-A,p=Math.floor(C[1]),r=C[1]-p,t=a.evalxy([],A,p,v,r);return L.yLabel=t[1].toFixed(3),L}},58960:function(G,U,e){var g=e(98723),L=e(3400).fillText;G.exports=function(C,A,v,p){var r=g(C,A,v,p);if(!r||r[0].index===!1)return;var t=r[0];if(t.index===void 0){var s=1-t.y0/C.ya._length,n=C.xa._length,f=n*s/2,u=n-f;return t.x0=Math.max(Math.min(t.x0,u),f),t.x1=Math.max(Math.min(t.x1,u),f),r}var l=t.cd[t.index];t.a=l.a,t.b=l.b,t.xLabelVal=void 0,t.yLabelVal=void 0;var m=t.trace,h=m._carpet,M=m._module.formatLabels(l,m);t.yLabel=M.yLabel,delete t.text;var c=[];function i(w,E){var y;w.labelprefix&&w.labelprefix.length>0?y=w.labelprefix.replace(/ = $/,""):y=w._hovertitle,c.push(y+": "+E.toFixed(3)+w.labelsuffix)}if(!m.hovertemplate){var d=l.hi||m.hoverinfo,b=d.split("+");b.indexOf("all")!==-1&&(b=["a","b","text"]),b.indexOf("a")!==-1&&i(h.aaxis,l.a),b.indexOf("b")!==-1&&i(h.baxis,l.b),c.push("y: "+t.yLabel),b.indexOf("text")!==-1&&L(l,m,c),t.extraText=c.join("<br>")}return r}},4184:function(G,U,e){G.exports={attributes:e(90372),supplyDefaults:e(6176),colorbar:e(5528),formatLabels:e(52364),calc:e(48228),plot:e(20036),style:e(49224).style,styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(58960),selectPoints:e(91560),eventData:e(89307),moduleType:"trace",name:"scattercarpet",basePlotModule:e(57952),categories:["svg","carpet","symbols","showLegend","carpetDependent","zoomScale"],meta:{}}},20036:function(G,U,e){var g=e(96504),L=e(54460),a=e(43616);G.exports=function(A,v,p,r){var t,s,n,f=p[0][0].carpet,u=L.getFromId(A,f.xaxis||"x"),l=L.getFromId(A,f.yaxis||"y"),m={xaxis:u,yaxis:l,plot:v.plot};for(t=0;t<p.length;t++)s=p[t][0].trace,s._xA=u,s._yA=l;for(g(A,m,p,r),t=0;t<p.length;t++)s=p[t][0].trace,n=r.selectAll("g.trace"+s.uid+" .js-line"),a.setClipUrl(n,p[t][0].carpet._clipPathId,A)}},6096:function(G,U,e){var g=e(21776).Ks,L=e(21776).Gw,a=e(98304),C=e(52904),A=e(45464),v=e(49084),p=e(98192).u,r=e(92880).extendFlat,t=e(67824).overrideAll,s=C.marker,n=C.line,f=s.line;G.exports=t({lon:{valType:"data_array"},lat:{valType:"data_array"},locations:{valType:"data_array"},locationmode:{valType:"enumerated",values:["ISO-3","USA-states","country names","geojson-id"],dflt:"ISO-3"},geojson:{valType:"any",editType:"calc"},featureidkey:{valType:"string",editType:"calc",dflt:"id"},mode:r({},C.mode,{dflt:"markers"}),text:r({},C.text,{}),texttemplate:L({editType:"plot"},{keys:["lat","lon","location","text"]}),hovertext:r({},C.hovertext,{}),textfont:C.textfont,textposition:C.textposition,line:{color:n.color,width:n.width,dash:p},connectgaps:C.connectgaps,marker:r({symbol:s.symbol,opacity:s.opacity,angle:s.angle,angleref:r({},s.angleref,{values:["previous","up","north"]}),standoff:s.standoff,size:s.size,sizeref:s.sizeref,sizemin:s.sizemin,sizemode:s.sizemode,colorbar:s.colorbar,line:r({width:f.width},v("marker.line")),gradient:s.gradient},v("marker")),fill:{valType:"enumerated",values:["none","toself"],dflt:"none"},fillcolor:a(),selected:C.selected,unselected:C.unselected,hoverinfo:r({},A.hoverinfo,{flags:["lon","lat","location","text","name"]}),hovertemplate:g()},"calc","nested")},25212:function(G,U,e){var g=e(38248),L=e(39032).BADNUM,a=e(90136),C=e(20148),A=e(4500),v=e(3400).isArrayOrTypedArray,p=e(3400)._;function r(t){return t&&typeof t=="string"}G.exports=function(s,n){var f=v(n.locations),u=f?n.locations.length:n._length,l=new Array(u),m;n.geojson?m=function(b){return r(b)||g(b)}:m=r;for(var h=0;h<u;h++){var M=l[h]={};if(f){var c=n.locations[h];M.loc=m(c)?c:null}else{var i=n.lon[h],d=n.lat[h];g(i)&&g(d)?M.lonlat=[+i,+d]:M.lonlat=[L,L]}}return C(l,n),a(s,n),A(l,n),u&&(l[0].t={labels:{lat:p(s,"lat:")+" ",lon:p(s,"lon:")+" "}}),l}},86188:function(G,U,e){var g=e(3400),L=e(43028),a=e(74428),C=e(66828),A=e(124),v=e(70840),p=e(6096);G.exports=function(t,s,n,f){function u(b,w){return g.coerce(t,s,p,b,w)}var l=u("locations"),m;if(l&&l.length){var h=u("geojson"),M;(typeof h=="string"&&h!==""||g.isPlainObject(h))&&(M="geojson-id");var c=u("locationmode",M);c==="geojson-id"&&u("featureidkey"),m=l.length}else{var i=u("lon")||[],d=u("lat")||[];m=Math.min(i.length,d.length)}if(!m){s.visible=!1;return}s._length=m,u("text"),u("hovertext"),u("hovertemplate"),u("mode"),L.hasMarkers(s)&&a(t,s,n,f,u,{gradient:!0}),L.hasLines(s)&&(C(t,s,n,f,u),u("connectgaps")),L.hasText(s)&&(u("texttemplate"),A(t,s,f,u)),u("fill"),s.fill!=="none"&&v(t,s,n,u),g.coerceSelectionMarkerOpacity(s,u)}},58544:function(G){G.exports=function(e,g,L,a,C){e.lon=g.lon,e.lat=g.lat,e.location=g.loc?g.loc:null;var A=a[C];return A.fIn&&A.fIn.properties&&(e.properties=A.fIn.properties),e}},56696:function(G,U,e){var g=e(54460);G.exports=function(a,C,A){var v={},p=A[C.geo]._subplot,r=p.mockAxis,t=a.lonlat;return v.lonLabel=g.tickText(r,r.c2l(t[0]),!0).text,v.latLabel=g.tickText(r,r.c2l(t[1]),!0).text,v}},64292:function(G,U,e){var g=e(93024),L=e(39032).BADNUM,a=e(44928),C=e(3400).fillText,A=e(6096);G.exports=function(r,t,s){var n=r.cd,f=n[0].trace,u=r.xa,l=r.ya,m=r.subplot,h=m.projection.isLonLatOverEdges,M=m.project;function c(S){var T=S.lonlat;if(T[0]===L||h(T))return 1/0;var o=M(T),P=M([t,s]),x=Math.abs(o[0]-P[0]),_=Math.abs(o[1]-P[1]),I=Math.max(3,S.mrc||0);return Math.max(Math.sqrt(x*x+_*_)-I,1-3/I)}if(g.getClosest(n,c,r),r.index!==!1){var i=n[r.index],d=i.lonlat,b=[u.c2p(d),l.c2p(d)],w=i.mrc||1;r.x0=b[0]-w,r.x1=b[0]+w,r.y0=b[1]-w,r.y1=b[1]+w,r.loc=i.loc,r.lon=d[0],r.lat=d[1];var E={};E[f.geo]={_subplot:m};var y=f._module.formatLabels(i,f,E);return r.lonLabel=y.lonLabel,r.latLabel=y.latLabel,r.color=a(f,i),r.extraText=v(f,i,r,n[0].t.labels),r.hovertemplate=f.hovertemplate,[r]}};function v(p,r,t,s){if(p.hovertemplate)return;var n=r.hi||p.hoverinfo,f=n==="all"?A.hoverinfo.flags:n.split("+"),u=f.indexOf("location")!==-1&&Array.isArray(p.locations),l=f.indexOf("lon")!==-1,m=f.indexOf("lat")!==-1,h=f.indexOf("text")!==-1,M=[];function c(i){return i+"\xB0"}return u?M.push(r.loc):l&&m?M.push("("+c(t.latLabel)+", "+c(t.lonLabel)+")"):l?M.push(s.lon+c(t.lonLabel)):m&&M.push(s.lat+c(t.latLabel)),h&&C(r,p,M),M.join("<br>")}},36952:function(G,U,e){G.exports={attributes:e(6096),supplyDefaults:e(86188),colorbar:e(5528),formatLabels:e(56696),calc:e(25212),calcGeoJSON:e(48691).calcGeoJSON,plot:e(48691).plot,style:e(25064),styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(64292),eventData:e(58544),selectPoints:e(8796),moduleType:"trace",name:"scattergeo",basePlotModule:e(10816),categories:["geo","symbols","showLegend","scatter-like"],meta:{}}},48691:function(G,U,e){var g=e(33428),L=e(3400),a=e(59972).getTopojsonFeatures,C=e(44808),A=e(27144),v=e(19280).findExtremes,p=e(39032).BADNUM,r=e(16356).calcMarkerSize,t=e(43028),s=e(25064);function n(u,l,m){var h=l.layers.frontplot.select(".scatterlayer"),M=L.makeTraceGroups(h,m,"trace scattergeo");function c(i,d){i.lonlat[0]===p&&g.select(d).remove()}M.selectAll("*").remove(),M.each(function(i){var d=g.select(this),b=i[0].trace;if(t.hasLines(b)||b.fill!=="none"){var w=C.calcTraceToLineCoords(i),E=b.fill!=="none"?C.makePolygon(w):C.makeLine(w);d.selectAll("path.js-line").data([{geojson:E,trace:b}]).enter().append("path").classed("js-line",!0).style("stroke-miterlimit",2)}t.hasMarkers(b)&&d.selectAll("path.point").data(L.identity).enter().append("path").classed("point",!0).each(function(y){c(y,this)}),t.hasText(b)&&d.selectAll("g").data(L.identity).enter().append("g").append("text").each(function(y){c(y,this)}),s(u,i)})}function f(u,l){var m=u[0].trace,h=l[m.geo],M=h._subplot,c=m._length,i,d;if(L.isArrayOrTypedArray(m.locations)){var b=m.locationmode,w=b==="geojson-id"?A.extractTraceFeature(u):a(m,M.topojson);for(i=0;i<c;i++){d=u[i];var E=b==="geojson-id"?d.fOut:A.locationToFeature(b,d.loc,w);d.lonlat=E?E.properties.ct:[p,p]}}var y={padded:!0},S,T;if(h.fitbounds==="geojson"&&m.locationmode==="geojson-id"){var o=A.computeBbox(A.getTraceGeojson(m));S=[o[0],o[2]],T=[o[1],o[3]]}else{for(S=new Array(c),T=new Array(c),i=0;i<c;i++)d=u[i],S[i]=d.lonlat[0],T[i]=d.lonlat[1];y.ppad=r(m,c)}m._extremes.lon=v(h.lonaxis._ax,S,y),m._extremes.lat=v(h.lataxis._ax,T,y)}G.exports={calcGeoJSON:f,plot:n}},8796:function(G,U,e){var g=e(43028),L=e(39032).BADNUM;G.exports=function(C,A){var v=C.cd,p=C.xaxis,r=C.yaxis,t=[],s=v[0].trace,n,f,u,l,m,h=!g.hasMarkers(s)&&!g.hasText(s);if(h)return[];if(A===!1)for(m=0;m<v.length;m++)v[m].selected=0;else for(m=0;m<v.length;m++)n=v[m],f=n.lonlat,f[0]!==L&&(u=p.c2p(f),l=r.c2p(f),A.contains([u,l],null,m,C)?(t.push({pointNumber:m,lon:f[0],lat:f[1]}),n.selected=1):n.selected=0);return t}},25064:function(G,U,e){var g=e(33428),L=e(43616),a=e(76308),C=e(49224),A=C.stylePoints,v=C.styleText;G.exports=function(t,s){s&&p(t,s)};function p(r,t){var s=t[0].trace,n=t[0].node3;n.style("opacity",t[0].trace.opacity),A(n,s,r),v(n,s,r),n.selectAll("path.js-line").style("fill","none").each(function(f){var u=g.select(this),l=f.trace,m=l.line||{};u.call(a.stroke,m.color).call(L.dashLine,m.dash||"",m.width||0),l.fill!=="none"&&u.call(a.fill,l.fillcolor)})}},2876:function(G,U,e){var g=e(45464),L=e(98304),a=e(52904),C=e(29736).axisHoverFormat,A=e(49084),v=e(95376),p=e(92880).extendFlat,r=e(67824).overrideAll,t=e(67072).DASHES,s=a.line,n=a.marker,f=n.line,u=G.exports=r({x:a.x,x0:a.x0,dx:a.dx,y:a.y,y0:a.y0,dy:a.dy,xperiod:a.xperiod,yperiod:a.yperiod,xperiod0:a.xperiod0,yperiod0:a.yperiod0,xperiodalignment:a.xperiodalignment,yperiodalignment:a.yperiodalignment,xhoverformat:C("x"),yhoverformat:C("y"),text:a.text,hovertext:a.hovertext,textposition:a.textposition,textfont:a.textfont,mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"]},line:{color:s.color,width:s.width,shape:{valType:"enumerated",values:["linear","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},dash:{valType:"enumerated",values:v(t),dflt:"solid"}},marker:p({},A("marker"),{symbol:n.symbol,angle:n.angle,size:n.size,sizeref:n.sizeref,sizemin:n.sizemin,sizemode:n.sizemode,opacity:n.opacity,colorbar:n.colorbar,line:p({},A("marker.line"),{width:f.width})}),connectgaps:a.connectgaps,fill:p({},a.fill,{dflt:"none"}),fillcolor:L(),selected:{marker:a.selected.marker,textfont:a.selected.textfont},unselected:{marker:a.unselected.marker,textfont:a.unselected.textfont},opacity:g.opacity},"calc","nested");u.x.editType=u.y.editType=u.x0.editType=u.y0.editType="calc+clearAxisTypes",u.hovertemplate=a.hovertemplate,u.texttemplate=a.texttemplate},64628:function(G,U,e){var g=e(41272);G.exports={moduleType:"trace",name:"scattergl",basePlotModule:e(57952),categories:["gl","regl","cartesian","symbols","errorBarsOK","showLegend","scatter-like"],attributes:e(2876),supplyDefaults:e(80220),crossTraceDefaults:e(35036),colorbar:e(5528),formatLabels:e(99396),calc:e(24856),hoverPoints:g.hoverPoints,selectPoints:e(73224),meta:{}}},24856:function(G,U,e){var g=e(3108),L=e(3400),a=e(79811),C=e(19280).findExtremes,A=e(1220),v=e(16356),p=v.calcMarkerSize,r=v.calcAxisExpansion,t=v.setFirstScatter,s=e(90136),n=e(84236),f=e(74588),u=e(39032).BADNUM,l=e(67072).TOO_MANY_POINTS;G.exports=function(c,i){var d=c._fullLayout,b=i._xA=a.getFromId(c,i.xaxis,"x"),w=i._yA=a.getFromId(c,i.yaxis,"y"),E=d._plots[i.xaxis+i.yaxis],y=i._length,S=y>=l,T=y*2,o={},P,x=b.makeCalcdata(i,"x"),_=w.makeCalcdata(i,"y"),I=A(i,b,"x",x),N=A(i,w,"y",_),k=I.vals,F=N.vals;i._x=k,i._y=F,i.xperiodalignment&&(i._origX=x,i._xStarts=I.starts,i._xEnds=I.ends),i.yperiodalignment&&(i._origY=_,i._yStarts=N.starts,i._yEnds=N.ends);var O=new Array(T),z=new Array(y);for(P=0;P<y;P++)O[P*2]=k[P]===u?NaN:k[P],O[P*2+1]=F[P]===u?NaN:F[P],z[P]=P;if(b.type==="log")for(P=0;P<T;P+=2)O[P]=b.c2l(O[P]);if(w.type==="log")for(P=1;P<T;P+=2)O[P]=w.c2l(O[P]);S&&b.type!=="log"&&w.type!=="log"?o.tree=g(O):o.ids=z,s(c,i);var B=h(c,E,i,O,k,F),W=f(c,E);t(d,i);var q;return S?B.marker&&(q=B.marker.sizeAvg||Math.max(B.marker.size,3)):q=p(i,y),r(c,i,b,w,k,F,q),B.errorX&&m(i,b,B.errorX),B.errorY&&m(i,w,B.errorY),B.fill&&!W.fill2d&&(W.fill2d=!0),B.marker&&!W.scatter2d&&(W.scatter2d=!0),B.line&&!W.line2d&&(W.line2d=!0),(B.errorX||B.errorY)&&!W.error2d&&(W.error2d=!0),B.text&&!W.glText&&(W.glText=!0),B.marker&&(B.marker.snap=y),W.lineOptions.push(B.line),W.errorXOptions.push(B.errorX),W.errorYOptions.push(B.errorY),W.fillOptions.push(B.fill),W.markerOptions.push(B.marker),W.markerSelectedOptions.push(B.markerSel),W.markerUnselectedOptions.push(B.markerUnsel),W.textOptions.push(B.text),W.textSelectedOptions.push(B.textSel),W.textUnselectedOptions.push(B.textUnsel),W.selectBatch.push([]),W.unselectBatch.push([]),o._scene=W,o.index=W.count,o.x=k,o.y=F,o.positions=O,W.count++,[{x:!1,y:!1,t:o,trace:i}]};function m(M,c,i){var d=M._extremes[c._id],b=C(c,i._bnds,{padded:!0});d.min=d.min.concat(b.min),d.max=d.max.concat(b.max)}function h(M,c,i,d,b,w){var E=n.style(M,i);if(E.marker&&(E.marker.positions=d),E.line&&d.length>1&&L.extendFlat(E.line,n.linePositions(M,i,d)),E.errorX||E.errorY){var y=n.errorBarPositions(M,i,d,b,w);E.errorX&&L.extendFlat(E.errorX,y.x),E.errorY&&L.extendFlat(E.errorY,y.y)}return E.text&&(L.extendFlat(E.text,{positions:d},n.textPosition(M,i,E.text,E.marker)),L.extendFlat(E.textSel,{positions:d},n.textPosition(M,i,E.text,E.markerSel)),L.extendFlat(E.textUnsel,{positions:d},n.textPosition(M,i,E.text,E.markerUnsel))),E}},67072:function(G){var U=20;G.exports={TOO_MANY_POINTS:1e5,SYMBOL_SDF_SIZE:200,SYMBOL_SIZE:U,SYMBOL_STROKE:U/20,DOT_RE:/-dot/,OPEN_RE:/-open/,DASHES:{solid:[1],dot:[1,1],dash:[4,1],longdash:[8,1],dashdot:[4,1,1,1],longdashdot:[8,1,1,1]}}},84236:function(G,U,e){var g=e(38248),L=e(20472),a=e(72160),C=e(24040),A=e(3400),v=A.isArrayOrTypedArray,p=e(43616),r=e(79811),t=e(33040).formatColor,s=e(43028),n=e(7152),f=e(80088),u=e(67072),l=e(13448).DESELECTDIM,m={start:1,left:1,end:-1,right:-1,middle:0,center:0,bottom:1,top:-1},h=e(10624).appendArrayPointValue;function M(N,k){var F,O={marker:void 0,markerSel:void 0,markerUnsel:void 0,line:void 0,fill:void 0,errorX:void 0,errorY:void 0,text:void 0,textSel:void 0,textUnsel:void 0},z=N._context.plotGlPixelRatio;if(k.visible!==!0)return O;if(s.hasText(k)&&(O.text=c(N,k),O.textSel=b(N,k,k.selected),O.textUnsel=b(N,k,k.unselected)),s.hasMarkers(k)&&(O.marker=i(N,k),O.markerSel=d(N,k,k.selected),O.markerUnsel=d(N,k,k.unselected),!k.unselected&&v(k.marker.opacity))){var B=k.marker.opacity;for(O.markerUnsel.opacity=new Array(B.length),F=0;F<B.length;F++)O.markerUnsel.opacity[F]=l*B[F]}if(s.hasLines(k)){O.line={overlay:!0,thickness:k.line.width*z,color:k.line.color,opacity:k.opacity};var W=(u.DASHES[k.line.dash]||[1]).slice();for(F=0;F<W.length;++F)W[F]*=k.line.width*z;O.line.dashes=W}return k.error_x&&k.error_x.visible&&(O.errorX=w(k,k.error_x,z)),k.error_y&&k.error_y.visible&&(O.errorY=w(k,k.error_y,z)),!!k.fill&&k.fill!=="none"&&(O.fill={closed:!0,fill:k.fillcolor,thickness:0}),O}function c(N,k){var F=N._fullLayout,O=k._length,z=k.textfont,B=k.textposition,W=v(B)?B:[B],q=z.color,ee=z.size,Q=z.family,oe={},Z,Y=N._context.plotGlPixelRatio,te=k.texttemplate;if(te){oe.text=[];var X=F._d3locale,$=Array.isArray(te),ie=$?Math.min(te.length,O):O,J=$?function(be){return te[be]}:function(){return te};for(Z=0;Z<ie;Z++){var j={i:Z},se=k._module.formatLabels(j,k,F),ne={};h(ne,k,Z);var le=k._meta||{};oe.text.push(A.texttemplateString(J(Z),se,X,ne,j,le))}}else v(k.text)&&k.text.length<O?oe.text=k.text.slice():oe.text=k.text;if(v(oe.text))for(Z=oe.text.length;Z<O;Z++)oe.text[Z]="";for(oe.opacity=k.opacity,oe.font={},oe.align=[],oe.baseline=[],Z=0;Z<W.length;Z++){var pe=W[Z].split(/\s+/);switch(pe[1]){case"left":oe.align.push("right");break;case"right":oe.align.push("left");break;default:oe.align.push(pe[1])}switch(pe[0]){case"top":oe.baseline.push("bottom");break;case"bottom":oe.baseline.push("top");break;default:oe.baseline.push(pe[0])}}if(v(q))for(oe.color=new Array(O),Z=0;Z<O;Z++)oe.color[Z]=q[Z];else oe.color=q;if(v(ee)||v(Q))for(oe.font=new Array(O),Z=0;Z<O;Z++){var Ae=oe.font[Z]={};Ae.size=(A.isTypedArray(ee)?ee[Z]:v(ee)?g(ee[Z])?ee[Z]:0:ee)*Y,Ae.family=v(Q)?Q[Z]:Q}else oe.font={size:ee*Y,family:Q};return oe}function i(N,k){var F=k._length,O=k.marker,z={},B,W=v(O.symbol),q=v(O.angle),ee=v(O.color),Q=v(O.line.color),oe=v(O.opacity),Z=v(O.size),Y=v(O.line.width),te;if(W||(te=f.isOpenSymbol(O.symbol)),W||ee||Q||oe||q){z.symbols=new Array(F),z.angles=new Array(F),z.colors=new Array(F),z.borderColors=new Array(F);var X=O.symbol,$=O.angle,ie=t(O,O.opacity,F),J=t(O.line,O.opacity,F);if(!v(J[0])){var j=J;for(J=Array(F),B=0;B<F;B++)J[B]=j}if(!v(ie[0])){var se=ie;for(ie=Array(F),B=0;B<F;B++)ie[B]=se}if(!v(X)){var ne=X;for(X=Array(F),B=0;B<F;B++)X[B]=ne}if(!v($)){var le=$;for($=Array(F),B=0;B<F;B++)$[B]=le}for(z.symbols=X,z.angles=$,z.colors=ie,z.borderColors=J,B=0;B<F;B++)W&&(te=f.isOpenSymbol(O.symbol[B])),te&&(J[B]=ie[B].slice(),ie[B]=ie[B].slice(),ie[B][3]=0);for(z.opacity=k.opacity,z.markers=new Array(F),B=0;B<F;B++)z.markers[B]=P({mx:z.symbols[B],ma:z.angles[B]},k)}else te?(z.color=a(O.color,"uint8"),z.color[3]=0,z.borderColor=a(O.color,"uint8")):(z.color=a(O.color,"uint8"),z.borderColor=a(O.line.color,"uint8")),z.opacity=k.opacity*O.opacity,z.marker=P({mx:O.symbol,ma:O.angle},k);var pe=1,Ae=n(k,pe),be;if(Z||Y){var Re=z.sizes=new Array(F),xe=z.borderSizes=new Array(F),Me=0,ye;if(Z){for(B=0;B<F;B++)Re[B]=Ae(O.size[B]),Me+=Re[B];ye=Me/F}else for(be=Ae(O.size),B=0;B<F;B++)Re[B]=be;if(Y)for(B=0;B<F;B++)xe[B]=O.line.width[B];else for(be=O.line.width,B=0;B<F;B++)xe[B]=be;z.sizeAvg=ye}else z.size=Ae(O&&O.size||10),z.borderSizes=Ae(O.line.width);return z}function d(N,k,F){var O=k.marker,z={};return F&&(F.marker&&F.marker.symbol?z=i(N,A.extendFlat({},O,F.marker)):F.marker&&(F.marker.size&&(z.size=F.marker.size),F.marker.color&&(z.colors=F.marker.color),F.marker.opacity!==void 0&&(z.opacity=F.marker.opacity))),z}function b(N,k,F){var O={};if(!F)return O;if(F.textfont){var z={opacity:1,text:k.text,texttemplate:k.texttemplate,textposition:k.textposition,textfont:A.extendFlat({},k.textfont)};F.textfont&&A.extendFlat(z.textfont,F.textfont),O=c(N,z)}return O}function w(N,k,F){var O={capSize:k.width*2*F,lineWidth:k.thickness*F,color:k.color};return k.copy_ystyle&&(O=N.error_y),O}var E=u.SYMBOL_SDF_SIZE,y=u.SYMBOL_SIZE,S=u.SYMBOL_STROKE,T={},o=p.symbolFuncs[0](y*.05);function P(N,k){var F=N.mx;if(F==="circle")return null;var O,z,B=p.symbolNumber(F),W=p.symbolFuncs[B%100],q=!!p.symbolNoDot[B%100],ee=!!p.symbolNoFill[B%100],Q=f.isDotSymbol(F);if(N.ma&&(F+="_"+N.ma),T[F])return T[F];var oe=p.getMarkerAngle(N,k);return Q&&!q?O=W(y*1.1,oe)+o:O=W(y,oe),z=L(O,{w:E,h:E,viewBox:[-y,-y,y,y],stroke:ee?S:-S}),T[F]=z,z||null}function x(N,k,F){var O=F.length,z=O/2,B,W;if(s.hasLines(k)&&z)if(k.line.shape==="hv"){for(B=[],W=0;W<z-1;W++)isNaN(F[W*2])||isNaN(F[W*2+1])?B.push(NaN,NaN,NaN,NaN):(B.push(F[W*2],F[W*2+1]),!isNaN(F[W*2+2])&&!isNaN(F[W*2+3])?B.push(F[W*2+2],F[W*2+1]):B.push(NaN,NaN));B.push(F[O-2],F[O-1])}else if(k.line.shape==="hvh"){for(B=[],W=0;W<z-1;W++)if(isNaN(F[W*2])||isNaN(F[W*2+1])||isNaN(F[W*2+2])||isNaN(F[W*2+3]))!isNaN(F[W*2])&&!isNaN(F[W*2+1])?B.push(F[W*2],F[W*2+1]):B.push(NaN,NaN),B.push(NaN,NaN);else{var q=(F[W*2]+F[W*2+2])/2;B.push(F[W*2],F[W*2+1],q,F[W*2+1],q,F[W*2+3])}B.push(F[O-2],F[O-1])}else if(k.line.shape==="vhv"){for(B=[],W=0;W<z-1;W++)if(isNaN(F[W*2])||isNaN(F[W*2+1])||isNaN(F[W*2+2])||isNaN(F[W*2+3]))!isNaN(F[W*2])&&!isNaN(F[W*2+1])?B.push(F[W*2],F[W*2+1]):B.push(NaN,NaN),B.push(NaN,NaN);else{var ee=(F[W*2+1]+F[W*2+3])/2;B.push(F[W*2],F[W*2+1],F[W*2],ee,F[W*2+2],ee)}B.push(F[O-2],F[O-1])}else if(k.line.shape==="vh"){for(B=[],W=0;W<z-1;W++)isNaN(F[W*2])||isNaN(F[W*2+1])?B.push(NaN,NaN,NaN,NaN):(B.push(F[W*2],F[W*2+1]),!isNaN(F[W*2+2])&&!isNaN(F[W*2+3])?B.push(F[W*2],F[W*2+3]):B.push(NaN,NaN));B.push(F[O-2],F[O-1])}else B=F;var Q=!1;for(W=0;W<B.length;W++)if(isNaN(B[W])){Q=!0;break}var oe=Q||B.length>u.TOO_MANY_POINTS||s.hasMarkers(k)?"rect":"round";if(Q&&k.connectgaps){var Z=B[0],Y=B[1];for(W=0;W<B.length;W+=2)isNaN(B[W])||isNaN(B[W+1])?(B[W]=Z,B[W+1]=Y):(Z=B[W],Y=B[W+1])}return{join:oe,positions:B}}function _(N,k,F,O,z){var B=C.getComponentMethod("errorbars","makeComputeError"),W=r.getFromId(N,k.xaxis,"x"),q=r.getFromId(N,k.yaxis,"y"),ee=F.length/2,Q={};function oe(Z,Y){var te=Y._id.charAt(0),X=k["error_"+te];if(X&&X.visible&&(Y.type==="linear"||Y.type==="log")){for(var $=B(X),ie={x:0,y:1}[te],J={x:[0,1,2,3],y:[2,3,0,1]}[te],j=new Float64Array(4*ee),se=1/0,ne=-1/0,le=0,pe=0;le<ee;le++,pe+=4){var Ae=Z[le];if(g(Ae)){var be=F[le*2+ie],Re=$(Ae,le),xe=Re[0],Me=Re[1];if(g(xe)&&g(Me)){var ye=Ae-xe,Se=Ae+Me;j[pe+J[0]]=be-Y.c2l(ye),j[pe+J[1]]=Y.c2l(Se)-be,j[pe+J[2]]=0,j[pe+J[3]]=0,se=Math.min(se,Ae-xe),ne=Math.max(ne,Ae+Me)}}}Q[te]={positions:F,errors:j,_bnds:[se,ne]}}}return oe(O,W),oe(z,q),Q}function I(N,k,F,O){var z=k._length,B={},W;if(s.hasMarkers(k)){var q=F.font,ee=F.align,Q=F.baseline;for(B.offset=new Array(z),W=0;W<z;W++){var oe=O.sizes?O.sizes[W]:O.size,Z=v(q)?q[W].size:q.size,Y=v(ee)?ee.length>1?ee[W]:ee[0]:ee,te=v(Q)?Q.length>1?Q[W]:Q[0]:Q,X=m[Y],$=m[te],ie=oe?oe/.8+1:0,J=-$*ie-$*.5;B.offset[W]=[X*ie/Z,J/Z]}}return B}G.exports={style:M,markerStyle:i,markerSelection:d,linePositions:x,errorBarPositions:_,textPosition:I}},80220:function(G,U,e){var g=e(3400),L=e(24040),a=e(80088),C=e(2876),A=e(88200),v=e(43028),p=e(43980),r=e(31147),t=e(74428),s=e(66828),n=e(70840),f=e(124);G.exports=function(l,m,h,M){function c(T,o){return g.coerce(l,m,C,T,o)}var i=l.marker?a.isOpenSymbol(l.marker.symbol):!1,d=v.isBubble(l),b=p(l,m,M,c);if(!b){m.visible=!1;return}r(l,m,M,c),c("xhoverformat"),c("yhoverformat");var w=b<A.PTS_LINESONLY?"lines+markers":"lines";c("text"),c("hovertext"),c("hovertemplate"),c("mode",w),v.hasMarkers(m)&&(t(l,m,h,M,c,{noAngleRef:!0,noStandOff:!0}),c("marker.line.width",i||d?1:0)),v.hasLines(m)&&(c("connectgaps"),s(l,m,h,M,c),c("line.shape")),v.hasText(m)&&(c("texttemplate"),f(l,m,M,c));var E=(m.line||{}).color,y=(m.marker||{}).color;c("fill"),m.fill!=="none"&&n(l,m,h,c);var S=L.getComponentMethod("errorbars","supplyDefaults");S(l,m,E||y||h,{axis:"y"}),S(l,m,E||y||h,{axis:"x",inherit:"y"}),g.coerceSelectionMarkerOpacity(m,c)}},26768:function(G,U,e){var g=e(3400),L=e(76308),a=e(13448).DESELECTDIM;function C(A){var v=A[0],p=v.trace,r=v.t,t=r._scene,s=r.index,n=t.selectBatch[s],f=t.unselectBatch[s],u=t.textOptions[s],l=t.textSelectedOptions[s]||{},m=t.textUnselectedOptions[s]||{},h=g.extendFlat({},u),M,c;if(n.length||f.length){var i=l.color,d=m.color,b=u.color,w=g.isArrayOrTypedArray(b);for(h.color=new Array(p._length),M=0;M<n.length;M++)c=n[M],h.color[c]=i||(w?b[c]:b);for(M=0;M<f.length;M++){c=f[M];var E=w?b[c]:b;h.color[c]=d||(i?E:L.addOpacity(E,a))}}t.glText[s].update(h)}G.exports={styleTextSelection:C}},99396:function(G,U,e){var g=e(76688);G.exports=function(a,C,A){var v=a.i;return"x"in a||(a.x=C._x[v]),"y"in a||(a.y=C._y[v]),g(a,C,A)}},80088:function(G,U,e){var g=e(67072);U.isOpenSymbol=function(L){return typeof L=="string"?g.OPEN_RE.test(L):L%200>100},U.isDotSymbol=function(L){return typeof L=="string"?g.DOT_RE.test(L):L>200}},41272:function(G,U,e){var g=e(24040),L=e(3400),a=e(44928);function C(v,p,r,t){var s=v.cd,n=s[0].t,f=s[0].trace,u=v.xa,l=v.ya,m=n.x,h=n.y,M=u.c2p(p),c=l.c2p(r),i=v.distance,d;if(n.tree){var b=u.p2c(M-i),w=u.p2c(M+i),E=l.p2c(c-i),y=l.p2c(c+i);t==="x"?d=n.tree.range(Math.min(b,w),Math.min(l._rl[0],l._rl[1]),Math.max(b,w),Math.max(l._rl[0],l._rl[1])):d=n.tree.range(Math.min(b,w),Math.min(E,y),Math.max(b,w),Math.max(E,y))}else d=n.ids;var S,T,o,P,x,_,I,N,k,F=i;if(t==="x"){var O=!!f.xperiodalignment,z=!!f.yperiodalignment;for(x=0;x<d.length;x++){if(S=d[x],o=m[S],_=Math.abs(u.c2p(o)-M),O){var B=u.c2p(f._xStarts[S]),W=u.c2p(f._xEnds[S]);_=M>=Math.min(B,W)&&M<=Math.max(B,W)?0:1/0}if(_<F){if(F=_,P=h[S],I=l.c2p(P)-c,z){var q=l.c2p(f._yStarts[S]),ee=l.c2p(f._yEnds[S]);I=c>=Math.min(q,ee)&&c<=Math.max(q,ee)?0:1/0}k=Math.sqrt(_*_+I*I),T=d[x]}}}else for(x=d.length-1;x>-1;x--)S=d[x],o=m[S],P=h[S],_=u.c2p(o)-M,I=l.c2p(P)-c,N=Math.sqrt(_*_+I*I),N<F&&(F=k=N,T=S);return v.index=T,v.distance=F,v.dxy=k,T===void 0?[v]:[A(v,m,h,f)]}function A(v,p,r,t){var s=v.xa,n=v.ya,f=v.distance,u=v.dxy,l=v.index,m={pointNumber:l,x:p[l],y:r[l]};m.tx=L.isArrayOrTypedArray(t.text)?t.text[l]:t.text,m.htx=Array.isArray(t.hovertext)?t.hovertext[l]:t.hovertext,m.data=Array.isArray(t.customdata)?t.customdata[l]:t.customdata,m.tp=Array.isArray(t.textposition)?t.textposition[l]:t.textposition;var h=t.textfont;h&&(m.ts=L.isArrayOrTypedArray(h.size)?h.size[l]:h.size,m.tc=Array.isArray(h.color)?h.color[l]:h.color,m.tf=Array.isArray(h.family)?h.family[l]:h.family);var M=t.marker;M&&(m.ms=L.isArrayOrTypedArray(M.size)?M.size[l]:M.size,m.mo=L.isArrayOrTypedArray(M.opacity)?M.opacity[l]:M.opacity,m.mx=L.isArrayOrTypedArray(M.symbol)?M.symbol[l]:M.symbol,m.ma=L.isArrayOrTypedArray(M.angle)?M.angle[l]:M.angle,m.mc=L.isArrayOrTypedArray(M.color)?M.color[l]:M.color);var c=M&&M.line;c&&(m.mlc=Array.isArray(c.color)?c.color[l]:c.color,m.mlw=L.isArrayOrTypedArray(c.width)?c.width[l]:c.width);var i=M&&M.gradient;i&&i.type!=="none"&&(m.mgt=Array.isArray(i.type)?i.type[l]:i.type,m.mgc=Array.isArray(i.color)?i.color[l]:i.color);var d=s.c2p(m.x,!0),b=n.c2p(m.y,!0),w=m.mrc||1,E=t.hoverlabel;E&&(m.hbg=Array.isArray(E.bgcolor)?E.bgcolor[l]:E.bgcolor,m.hbc=Array.isArray(E.bordercolor)?E.bordercolor[l]:E.bordercolor,m.hts=L.isArrayOrTypedArray(E.font.size)?E.font.size[l]:E.font.size,m.htc=Array.isArray(E.font.color)?E.font.color[l]:E.font.color,m.htf=Array.isArray(E.font.family)?E.font.family[l]:E.font.family,m.hnl=L.isArrayOrTypedArray(E.namelength)?E.namelength[l]:E.namelength);var y=t.hoverinfo;y&&(m.hi=Array.isArray(y)?y[l]:y);var S=t.hovertemplate;S&&(m.ht=Array.isArray(S)?S[l]:S);var T={};T[v.index]=m;var o=t._origX,P=t._origY,x=L.extendFlat({},v,{color:a(t,m),x0:d-w,x1:d+w,xLabelVal:o?o[l]:m.x,y0:b-w,y1:b+w,yLabelVal:P?P[l]:m.y,cd:T,distance:f,spikeDistance:u,hovertemplate:m.ht});return m.htx?x.text=m.htx:m.tx?x.text=m.tx:t.text&&(x.text=t.text),L.fillText(m,t,x),g.getComponentMethod("errorbars","hoverInfo")(m,t,x),x}G.exports={hoverPoints:C,calcHover:A}},38983:function(G,U,e){var g=e(64628);g.plot=e(89876),G.exports=g},89876:function(G,U,e){var g=e(38540),L=e(13472),a=e(24544),C=e(23352),A=e(3400),v=e(72760).selectMode,p=e(5048),r=e(43028),t=e(14328),s=e(26768).styleTextSelection,n={};function f(l,m,h,M){var c=l._size,i=l.width*M,d=l.height*M,b=c.l*M,w=c.b*M,E=c.r*M,y=c.t*M,S=c.w*M,T=c.h*M;return[b+m.domain[0]*S,w+h.domain[0]*T,i-E-(1-m.domain[1])*S,d-y-(1-h.domain[1])*T]}var u=G.exports=function(m,h,M){if(!!M.length){var c=m._fullLayout,i=h._scene,d=h.xaxis,b=h.yaxis,w,E;if(!!i){var y=p(m,["ANGLE_instanced_arrays","OES_element_index_uint"],n);if(!y){i.init();return}var S=i.count,T=c._glcanvas.data()[0].regl;if(t(m,h,M),i.dirty){if((i.line2d||i.error2d)&&!(i.scatter2d||i.fill2d||i.glText)&&T.clear({}),i.error2d===!0&&(i.error2d=a(T)),i.line2d===!0&&(i.line2d=L(T)),i.scatter2d===!0&&(i.scatter2d=g(T)),i.fill2d===!0&&(i.fill2d=L(T)),i.glText===!0)for(i.glText=new Array(S),w=0;w<S;w++)i.glText[w]=new C(T);if(i.glText){if(S>i.glText.length){var o=S-i.glText.length;for(w=0;w<o;w++)i.glText.push(new C(T))}else if(S<i.glText.length){var P=i.glText.length-S,x=i.glText.splice(S,P);x.forEach(function(J){J.destroy()})}for(w=0;w<S;w++)i.glText[w].update(i.textOptions[w])}if(i.line2d&&(i.line2d.update(i.lineOptions),i.lineOptions=i.lineOptions.map(function(J){if(J&&J.positions){for(var j=J.positions,se=0;se<j.length&&(isNaN(j[se])||isNaN(j[se+1]));)se+=2;for(var ne=j.length-2;ne>se&&(isNaN(j[ne])||isNaN(j[ne+1]));)ne-=2;J.positions=j.slice(se,ne+2)}return J}),i.line2d.update(i.lineOptions)),i.error2d){var _=(i.errorXOptions||[]).concat(i.errorYOptions||[]);i.error2d.update(_)}i.scatter2d&&i.scatter2d.update(i.markerOptions),i.fillOrder=A.repeat(null,S),i.fill2d&&(i.fillOptions=i.fillOptions.map(function(J,j){var se=M[j];if(!(!J||!se||!se[0]||!se[0].trace)){var ne=se[0],le=ne.trace,pe=ne.t,Ae=i.lineOptions[j],be,Re,xe=[];le._ownfill&&xe.push(j),le._nexttrace&&xe.push(j+1),xe.length&&(i.fillOrder[j]=xe);var Me=[],ye=Ae&&Ae.positions||pe.positions,Se,Fe;if(le.fill==="tozeroy"){for(Se=0;Se<ye.length&&isNaN(ye[Se+1]);)Se+=2;for(Fe=ye.length-2;Fe>Se&&isNaN(ye[Fe+1]);)Fe-=2;ye[Se+1]!==0&&(Me=[ye[Se],0]),Me=Me.concat(ye.slice(Se,Fe+2)),ye[Fe+1]!==0&&(Me=Me.concat([ye[Fe],0]))}else if(le.fill==="tozerox"){for(Se=0;Se<ye.length&&isNaN(ye[Se]);)Se+=2;for(Fe=ye.length-2;Fe>Se&&isNaN(ye[Fe]);)Fe-=2;ye[Se]!==0&&(Me=[0,ye[Se+1]]),Me=Me.concat(ye.slice(Se,Fe+2)),ye[Fe]!==0&&(Me=Me.concat([0,ye[Fe+1]]))}else if(le.fill==="toself"||le.fill==="tonext"){for(Me=[],be=0,J.splitNull=!0,Re=0;Re<ye.length;Re+=2)(isNaN(ye[Re])||isNaN(ye[Re+1]))&&(Me=Me.concat(ye.slice(be,Re)),Me.push(ye[be],ye[be+1]),Me.push(null,null),be=Re+2);Me=Me.concat(ye.slice(be)),be&&Me.push(ye[be],ye[be+1])}else{var Be=le._nexttrace;if(Be){var _e=i.lineOptions[j+1];if(_e){var Ue=_e.positions;if(le.fill==="tonexty"){for(Me=ye.slice(),j=Math.floor(Ue.length/2);j--;){var it=Ue[j*2],lt=Ue[j*2+1];isNaN(it)||isNaN(lt)||Me.push(it,lt)}J.fill=Be.fillcolor}}}}if(le._prevtrace&&le._prevtrace.fill==="tonext"){var $e=i.lineOptions[j-1].positions,qe=Me.length/2;be=qe;var ft=[be];for(Re=0;Re<$e.length;Re+=2)(isNaN($e[Re])||isNaN($e[Re+1]))&&(ft.push(Re/2+qe+1),be=Re+2);Me=Me.concat($e),J.hole=ft}return J.fillmode=le.fill,J.opacity=le.opacity,J.positions=Me,J}}),i.fill2d.update(i.fillOptions))}var I=c.dragmode,N=v(I),k=c.clickmode.indexOf("select")>-1;for(w=0;w<S;w++){var F=M[w][0],O=F.trace,z=F.t,B=z.index,W=O._length,q=z.x,ee=z.y;if(O.selectedpoints||N||k){if(N||(N=!0),O.selectedpoints){var Q=i.selectBatch[B]=A.selIndices2selPoints(O),oe={};for(E=0;E<Q.length;E++)oe[Q[E]]=1;var Z=[];for(E=0;E<W;E++)oe[E]||Z.push(E);i.unselectBatch[B]=Z}var Y=z.xpx=new Array(W),te=z.ypx=new Array(W);for(E=0;E<W;E++)Y[E]=d.c2p(q[E]),te[E]=b.c2p(ee[E])}else z.xpx=z.ypx=null}if(N){if(i.select2d||(i.select2d=g(c._glcanvas.data()[1].regl)),i.scatter2d){var X=new Array(S);for(w=0;w<S;w++)X[w]=i.selectBatch[w].length||i.unselectBatch[w].length?i.markerUnselectedOptions[w]:{};i.scatter2d.update(X)}i.select2d&&(i.select2d.update(i.markerOptions),i.select2d.update(i.markerSelectedOptions)),i.glText&&M.forEach(function(J){var j=((J||[])[0]||{}).trace||{};r.hasText(j)&&s(J)})}else i.scatter2d&&i.scatter2d.update(i.markerOptions);var $={viewport:f(c,d,b,m._context.plotGlPixelRatio),range:[(d._rl||d.range)[0],(b._rl||b.range)[0],(d._rl||d.range)[1],(b._rl||b.range)[1]]},ie=A.repeat($,i.count);i.fill2d&&i.fill2d.update(ie),i.line2d&&i.line2d.update(ie),i.error2d&&i.error2d.update(ie.concat(ie)),i.scatter2d&&i.scatter2d.update(ie),i.select2d&&i.select2d.update(ie),i.glText&&i.glText.forEach(function(J){J.update($)})}}};u.reglPrecompiled=n},74588:function(G,U,e){var g=e(3400);G.exports=function(a,C){var A=C._scene,v={count:0,dirty:!0,lineOptions:[],fillOptions:[],markerOptions:[],markerSelectedOptions:[],markerUnselectedOptions:[],errorXOptions:[],errorYOptions:[],textOptions:[],textSelectedOptions:[],textUnselectedOptions:[],selectBatch:[],unselectBatch:[]},p={fill2d:!1,scatter2d:!1,error2d:!1,line2d:!1,glText:!1,select2d:!1};return C._scene||(A=C._scene={},A.init=function(){g.extendFlat(A,p,v)},A.init(),A.update=function(t){var s=g.repeat(t,A.count);if(A.fill2d&&A.fill2d.update(s),A.scatter2d&&A.scatter2d.update(s),A.line2d&&A.line2d.update(s),A.error2d&&A.error2d.update(s.concat(s)),A.select2d&&A.select2d.update(s),A.glText)for(var n=0;n<A.count;n++)A.glText[n].update(t)},A.draw=function(){for(var t=A.count,s=A.fill2d,n=A.error2d,f=A.line2d,u=A.scatter2d,l=A.glText,m=A.select2d,h=A.selectBatch,M=A.unselectBatch,c=0;c<t;c++){if(s&&A.fillOrder[c]&&s.draw(A.fillOrder[c]),f&&A.lineOptions[c]&&f.draw(c),n&&(A.errorXOptions[c]&&n.draw(c),A.errorYOptions[c]&&n.draw(c+t)),u&&A.markerOptions[c])if(M[c].length){var i=g.repeat([],A.count);i[c]=M[c],u.draw(i)}else h[c].length||u.draw(c);l[c]&&A.textOptions[c]&&l[c].render()}m&&m.draw(h),A.dirty=!1},A.destroy=function(){A.fill2d&&A.fill2d.destroy&&A.fill2d.destroy(),A.scatter2d&&A.scatter2d.destroy&&A.scatter2d.destroy(),A.error2d&&A.error2d.destroy&&A.error2d.destroy(),A.line2d&&A.line2d.destroy&&A.line2d.destroy(),A.select2d&&A.select2d.destroy&&A.select2d.destroy(),A.glText&&A.glText.forEach(function(t){t.destroy&&t.destroy()}),A.lineOptions=null,A.fillOptions=null,A.markerOptions=null,A.markerSelectedOptions=null,A.markerUnselectedOptions=null,A.errorXOptions=null,A.errorYOptions=null,A.textOptions=null,A.textSelectedOptions=null,A.textUnselectedOptions=null,A.selectBatch=null,A.unselectBatch=null,C._scene=null}),A.dirty||g.extendFlat(A,v),A}},73224:function(G,U,e){var g=e(43028),L=e(26768).styleTextSelection;G.exports=function(C,A){var v=C.cd,p=C.xaxis,r=C.yaxis,t=[],s=v[0].trace,n=v[0].t,f=s._length,u=n.x,l=n.y,m=n._scene,h=n.index;if(!m)return t;var M=g.hasText(s),c=g.hasMarkers(s),i=!c&&!M;if(s.visible!==!0||i)return t;var d=[],b=[];if(A!==!1&&!A.degenerate)for(var w=0;w<f;w++)A.contains([n.xpx[w],n.ypx[w]],!1,w,C)?(d.push(w),t.push({pointNumber:w,x:p.c2d(u[w]),y:r.c2d(l[w])})):b.push(w);if(c){var E=m.scatter2d;if(!d.length&&!b.length){var y=new Array(m.count);y[h]=m.markerOptions[h],E.update.apply(E,y)}else if(!m.selectBatch[h].length&&!m.unselectBatch[h].length){var S=new Array(m.count);S[h]=m.markerUnselectedOptions[h],E.update.apply(E,S)}}return m.selectBatch[h]=d,m.unselectBatch[h]=b,M&&L(v),t}},31512:function(G,U,e){var g=e(21776).Ks,L=e(21776).Gw,a=e(98304),C=e(6096),A=e(52904),v=e(5232),p=e(45464),r=e(49084),t=e(92880).extendFlat,s=e(67824).overrideAll,n=e(5232),f=C.line,u=C.marker;G.exports=s({lon:C.lon,lat:C.lat,cluster:{enabled:{valType:"boolean"},maxzoom:t({},n.layers.maxzoom,{}),step:{valType:"number",arrayOk:!0,dflt:-1,min:-1},size:{valType:"number",arrayOk:!0,dflt:20,min:0},color:{valType:"color",arrayOk:!0},opacity:t({},u.opacity,{dflt:1})},mode:t({},A.mode,{dflt:"markers"}),text:t({},A.text,{}),texttemplate:L({editType:"plot"},{keys:["lat","lon","text"]}),hovertext:t({},A.hovertext,{}),line:{color:f.color,width:f.width},connectgaps:A.connectgaps,marker:t({symbol:{valType:"string",dflt:"circle",arrayOk:!0},angle:{valType:"number",dflt:"auto",arrayOk:!0},allowoverlap:{valType:"boolean",dflt:!1},opacity:u.opacity,size:u.size,sizeref:u.sizeref,sizemin:u.sizemin,sizemode:u.sizemode},r("marker")),fill:C.fill,fillcolor:a(),textfont:v.layers.symbol.textfont,textposition:v.layers.symbol.textposition,below:{valType:"string"},selected:{marker:A.selected.marker},unselected:{marker:A.unselected.marker},hoverinfo:t({},p.hoverinfo,{flags:["lon","lat","text","name"]}),hovertemplate:g()},"calc","nested")},59392:function(G,U,e){var g=e(38248),L=e(3400),a=e(39032).BADNUM,C=e(44808),A=e(8932),v=e(43616),p=e(7152),r=e(43028),t=e(89032),s=e(10624).appendArrayPointValue,n=e(72736).NEWLINES,f=e(72736).BR_TAG_ALL;G.exports=function(b,w){var E=w[0].trace,y=E.visible===!0&&E._length!==0,S=E.fill!=="none",T=r.hasLines(E),o=r.hasMarkers(E),P=r.hasText(E),x=o&&E.marker.symbol==="circle",_=o&&E.marker.symbol!=="circle",I=E.cluster&&E.cluster.enabled,N=u("fill"),k=u("line"),F=u("circle"),O=u("symbol"),z={fill:N,line:k,circle:F,symbol:O};if(!y)return z;var B;if((S||T)&&(B=C.calcTraceToLineCoords(w)),S&&(N.geojson=C.makePolygon(B),N.layout.visibility="visible",L.extendFlat(N.paint,{"fill-color":E.fillcolor})),T&&(k.geojson=C.makeLine(B),k.layout.visibility="visible",L.extendFlat(k.paint,{"line-width":E.line.width,"line-color":E.line.color,"line-opacity":E.opacity})),x){var W=l(w);F.geojson=W.geojson,F.layout.visibility="visible",I&&(F.filter=["!",["has","point_count"]],z.cluster={type:"circle",filter:["has","point_count"],layout:{visibility:"visible"},paint:{"circle-color":i(E.cluster.color,E.cluster.step),"circle-radius":i(E.cluster.size,E.cluster.step),"circle-opacity":i(E.cluster.opacity,E.cluster.step)}},z.clusterCount={type:"symbol",filter:["has","point_count"],paint:{},layout:{"text-field":"{point_count_abbreviated}","text-font":["Open Sans Regular","Arial Unicode MS Regular"],"text-size":12}}),L.extendFlat(F.paint,{"circle-color":W.mcc,"circle-radius":W.mrc,"circle-opacity":W.mo})}if(x&&I&&(F.filter=["!",["has","point_count"]]),(_||P)&&(O.geojson=m(w,b),L.extendFlat(O.layout,{visibility:"visible","icon-image":"{symbol}-15","text-field":"{text}"}),_&&(L.extendFlat(O.layout,{"icon-size":E.marker.size/10}),"angle"in E.marker&&E.marker.angle!=="auto"&&L.extendFlat(O.layout,{"icon-rotate":{type:"identity",property:"angle"},"icon-rotation-alignment":"map"}),O.layout["icon-allow-overlap"]=E.marker.allowoverlap,L.extendFlat(O.paint,{"icon-opacity":E.opacity*E.marker.opacity,"icon-color":E.marker.color})),P)){var q=(E.marker||{}).size,ee=t(E.textposition,q);L.extendFlat(O.layout,{"text-size":E.textfont.size,"text-anchor":ee.anchor,"text-offset":ee.offset,"text-font":E.textfont.family.split(", ")}),L.extendFlat(O.paint,{"text-color":E.textfont.color,"text-opacity":E.opacity})}return z};function u(d){return{type:d,geojson:C.makeBlank(),layout:{visibility:"none"},filter:null,paint:{}}}function l(d){var b=d[0].trace,w=b.marker,E=b.selectedpoints,y=L.isArrayOrTypedArray(w.color),S=L.isArrayOrTypedArray(w.size),T=L.isArrayOrTypedArray(w.opacity),o;function P(q){return b.opacity*q}function x(q){return q/2}var _;y&&(A.hasColorscale(b,"marker")?_=A.makeColorScaleFuncFromTrace(w):_=L.identity);var I;S&&(I=p(b));var N;T&&(N=function(q){var ee=g(q)?+L.constrain(q,0,1):0;return P(ee)});var k=[];for(o=0;o<d.length;o++){var F=d[o],O=F.lonlat;if(!c(O)){var z={};_&&(z.mcc=F.mcc=_(F.mc)),I&&(z.mrc=F.mrc=I(F.ms)),N&&(z.mo=N(F.mo)),E&&(z.selected=F.selected||0),k.push({type:"Feature",id:o+1,geometry:{type:"Point",coordinates:O},properties:z})}}var B;if(E)for(B=v.makeSelectedPointStyleFns(b),o=0;o<k.length;o++){var W=k[o].properties;B.selectedOpacityFn&&(W.mo=P(B.selectedOpacityFn(W))),B.selectedColorFn&&(W.mcc=B.selectedColorFn(W)),B.selectedSizeFn&&(W.mrc=B.selectedSizeFn(W))}return{geojson:{type:"FeatureCollection",features:k},mcc:y||B&&B.selectedColorFn?{type:"identity",property:"mcc"}:w.color,mrc:S||B&&B.selectedSizeFn?{type:"identity",property:"mrc"}:x(w.size),mo:T||B&&B.selectedOpacityFn?{type:"identity",property:"mo"}:P(w.opacity)}}function m(d,b){for(var w=b._fullLayout,E=d[0].trace,y=E.marker||{},S=y.symbol,T=y.angle,o=S!=="circle"?h(S):M,P=T!=="auto"?h(T,!0):M,x=r.hasText(E)?h(E.text):M,_=[],I=0;I<d.length;I++){var N=d[I];if(!c(N.lonlat)){var k=E.texttemplate,F;if(k){var O=Array.isArray(k)?k[I]||"":k,z=E._module.formatLabels(N,E,w),B={};s(B,E,N.i);var W=E._meta||{};F=L.texttemplateString(O,z,w._d3locale,B,N,W)}else F=x(I);F&&(F=F.replace(n,"").replace(f,`
`)),_.push({type:"Feature",geometry:{type:"Point",coordinates:N.lonlat},properties:{symbol:o(I),angle:P(I),text:F}})}}return{type:"FeatureCollection",features:_}}function h(d,b){return L.isArrayOrTypedArray(d)?b?function(w){return g(d[w])?+d[w]:0}:function(w){return d[w]}:d?function(){return d}:M}function M(){return""}function c(d){return d[0]===a}function i(d,b){var w;if(L.isArrayOrTypedArray(d)&&L.isArrayOrTypedArray(b)){w=["step",["get","point_count"],d[0]];for(var E=1;E<d.length;E++)w.push(b[E-1],d[E])}else w=d;return w}},15752:function(G,U,e){var g=e(3400),L=e(43028),a=e(74428),C=e(66828),A=e(124),v=e(70840),p=e(31512),r=["Metropolis Black Italic","Metropolis Black","Metropolis Bold Italic","Metropolis Bold","Metropolis Extra Bold Italic","Metropolis Extra Bold","Metropolis Extra Light Italic","Metropolis Extra Light","Metropolis Light Italic","Metropolis Light","Metropolis Medium Italic","Metropolis Medium","Metropolis Regular Italic","Metropolis Regular","Metropolis Semi Bold Italic","Metropolis Semi Bold","Metropolis Thin Italic","Metropolis Thin","Open Sans Bold Italic","Open Sans Bold","Open Sans Extra Bold Italic","Open Sans Extra Bold","Open Sans Italic","Open Sans Light Italic","Open Sans Light","Open Sans Regular","Open Sans Semibold Italic","Open Sans Semibold","Klokantech Noto Sans Bold","Klokantech Noto Sans CJK Bold","Klokantech Noto Sans CJK Regular","Klokantech Noto Sans Italic","Klokantech Noto Sans Regular"];G.exports=function(n,f,u,l){function m(S,T){return g.coerce(n,f,p,S,T)}function h(S,T){return g.coerce2(n,f,p,S,T)}var M=t(n,f,m);if(!M){f.visible=!1;return}if(m("text"),m("texttemplate"),m("hovertext"),m("hovertemplate"),m("mode"),m("below"),L.hasMarkers(f)){a(n,f,u,l,m,{noLine:!0,noAngle:!0}),m("marker.allowoverlap"),m("marker.angle");var c=f.marker;c.symbol!=="circle"&&(g.isArrayOrTypedArray(c.size)&&(c.size=c.size[0]),g.isArrayOrTypedArray(c.color)&&(c.color=c.color[0]))}L.hasLines(f)&&(C(n,f,u,l,m,{noDash:!0}),m("connectgaps"));var i=h("cluster.maxzoom"),d=h("cluster.step"),b=h("cluster.color",f.marker&&f.marker.color||u),w=h("cluster.size"),E=h("cluster.opacity"),y=i!==!1||d!==!1||b!==!1||w!==!1||E!==!1;m("cluster.enabled",y),L.hasText(f)&&A(n,f,l,m,{noSelect:!0,font:{family:r.indexOf(l.font.family)!==-1?l.font.family:"Open Sans Regular",size:l.font.size,color:l.font.color}}),m("fill"),f.fill!=="none"&&v(n,f,u,m),g.coerceSelectionMarkerOpacity(f,m)};function t(s,n,f){var u=f("lon")||[],l=f("lat")||[],m=Math.min(u.length,l.length);return n._length=m,m}},37920:function(G){G.exports=function(e,g){return e.lon=g.lon,e.lat=g.lat,e}},11960:function(G,U,e){var g=e(54460);G.exports=function(a,C,A){var v={},p=A[C.subplot]._subplot,r=p.mockAxis,t=a.lonlat;return v.lonLabel=g.tickText(r,r.c2l(t[0]),!0).text,v.latLabel=g.tickText(r,r.c2l(t[1]),!0).text,v}},63312:function(G,U,e){var g=e(93024),L=e(3400),a=e(44928),C=L.fillText,A=e(39032).BADNUM,v=e(47552).traceLayerPrefix;function p(t,s,n){var f=t.cd,u=f[0].trace,l=t.xa,m=t.ya,h=t.subplot,M=[],c=v+u.uid+"-circle",i=u.cluster&&u.cluster.enabled;if(i){var d=h.map.queryRenderedFeatures(null,{layers:[c]});M=d.map(function(k){return k.id})}var b=s>=0?Math.floor((s+180)/360):Math.ceil((s-180)/360),w=b*360,E=s-w;function y(k){var F=k.lonlat;if(F[0]===A||i&&M.indexOf(k.i+1)===-1)return 1/0;var O=L.modHalf(F[0],360),z=F[1],B=h.project([O,z]),W=B.x-l.c2p([E,z]),q=B.y-m.c2p([O,n]),ee=Math.max(3,k.mrc||0);return Math.max(Math.sqrt(W*W+q*q)-ee,1-3/ee)}if(g.getClosest(f,y,t),t.index!==!1){var S=f[t.index],T=S.lonlat,o=[L.modHalf(T[0],360)+w,T[1]],P=l.c2p(o),x=m.c2p(o),_=S.mrc||1;t.x0=P-_,t.x1=P+_,t.y0=x-_,t.y1=x+_;var I={};I[u.subplot]={_subplot:h};var N=u._module.formatLabels(S,u,I);return t.lonLabel=N.lonLabel,t.latLabel=N.latLabel,t.color=a(u,S),t.extraText=r(u,S,f[0].t.labels),t.hovertemplate=u.hovertemplate,[t]}}function r(t,s,n){if(t.hovertemplate)return;var f=s.hi||t.hoverinfo,u=f.split("+"),l=u.indexOf("all")!==-1,m=u.indexOf("lon")!==-1,h=u.indexOf("lat")!==-1,M=s.lonlat,c=[];function i(d){return d+"\xB0"}return l||m&&h?c.push("("+i(M[1])+", "+i(M[0])+")"):m?c.push(n.lon+i(M[0])):h&&c.push(n.lat+i(M[1])),(l||u.indexOf("text")!==-1)&&C(s,t,c),c.join("<br>")}G.exports={hoverPoints:p,getExtraText:r}},11572:function(G,U,e){G.exports={attributes:e(31512),supplyDefaults:e(15752),colorbar:e(5528),formatLabels:e(11960),calc:e(25212),plot:e(9660),hoverPoints:e(63312).hoverPoints,eventData:e(37920),selectPoints:e(404),styleOnSelect:function(g,L){if(L){var a=L[0].trace;a._glTrace.update(L)}},moduleType:"trace",name:"scattermapbox",basePlotModule:e(33688),categories:["mapbox","gl","symbols","showLegend","scatter-like"],meta:{}}},9660:function(G,U,e){var g=e(3400),L=e(59392),a=e(47552).traceLayerPrefix,C={cluster:["cluster","clusterCount","circle"],nonCluster:["fill","line","circle","symbol"]};function A(p,r,t,s){this.type="scattermapbox",this.subplot=p,this.uid=r,this.clusterEnabled=t,this.isHidden=s,this.sourceIds={fill:"source-"+r+"-fill",line:"source-"+r+"-line",circle:"source-"+r+"-circle",symbol:"source-"+r+"-symbol",cluster:"source-"+r+"-circle",clusterCount:"source-"+r+"-circle"},this.layerIds={fill:a+r+"-fill",line:a+r+"-line",circle:a+r+"-circle",symbol:a+r+"-symbol",cluster:a+r+"-cluster",clusterCount:a+r+"-cluster-count"},this.below=null}var v=A.prototype;v.addSource=function(p,r,t){var s={type:"geojson",data:r.geojson};t&&t.enabled&&g.extendFlat(s,{cluster:!0,clusterMaxZoom:t.maxzoom});var n=this.subplot.map.getSource(this.sourceIds[p]);n?n.setData(r.geojson):this.subplot.map.addSource(this.sourceIds[p],s)},v.setSourceData=function(p,r){this.subplot.map.getSource(this.sourceIds[p]).setData(r.geojson)},v.addLayer=function(p,r,t){var s={type:r.type,id:this.layerIds[p],source:this.sourceIds[p],layout:r.layout,paint:r.paint};r.filter&&(s.filter=r.filter);for(var n=this.layerIds[p],f,u=this.subplot.getMapLayers(),l=0;l<u.length;l++)if(u[l].id===n){f=!0;break}f?(this.subplot.setOptions(n,"setLayoutProperty",s.layout),s.layout.visibility==="visible"&&this.subplot.setOptions(n,"setPaintProperty",s.paint)):this.subplot.addLayer(s,t)},v.update=function(r){var t=r[0].trace,s=this.subplot,n=s.map,f=L(s.gd,r),u=s.belowLookup["trace-"+this.uid],l=!!(t.cluster&&t.cluster.enabled),m=!!this.clusterEnabled,h=this;function M(T){T||h.addSource("circle",f.circle,t.cluster);for(var o=C.cluster,P=0;P<o.length;P++){var x=o[P],_=f[x];h.addLayer(x,_,u)}}function c(T){for(var o=C.cluster,P=o.length-1;P>=0;P--){var x=o[P];n.removeLayer(h.layerIds[x])}T||n.removeSource(h.sourceIds.circle)}function i(T){for(var o=C.nonCluster,P=0;P<o.length;P++){var x=o[P],_=f[x];T||h.addSource(x,_),h.addLayer(x,_,u)}}function d(T){for(var o=C.nonCluster,P=o.length-1;P>=0;P--){var x=o[P];n.removeLayer(h.layerIds[x]),T||n.removeSource(h.sourceIds[x])}}function b(T){m?c(T):d(T)}function w(T){l?M(T):i(T)}function E(){for(var T=l?C.cluster:C.nonCluster,o=0;o<T.length;o++){var P=T[o],x=f[P];!x||(s.setOptions(h.layerIds[P],"setLayoutProperty",x.layout),x.layout.visibility==="visible"&&(P!=="cluster"&&h.setSourceData(P,x),s.setOptions(h.layerIds[P],"setPaintProperty",x.paint)))}}var y=this.isHidden,S=t.visible!==!0;S?y||b():y?S||w():m!==l?(b(),w()):(this.below!==u&&(b(!0),w(!0)),E()),this.clusterEnabled=l,this.isHidden=S,this.below=u,r[0].trace._glTrace=this},v.dispose=function(){for(var r=this.subplot.map,t=this.clusterEnabled?C.cluster:C.nonCluster,s=t.length-1;s>=0;s--){var n=t[s];r.removeLayer(this.layerIds[n]),r.removeSource(this.sourceIds[n])}},G.exports=function(r,t){var s=t[0].trace,n=s.cluster&&s.cluster.enabled,f=s.visible!==!0,u=new A(r,s.uid,n,f),l=L(r.gd,t),m=u.below=r.belowLookup["trace-"+s.uid],h,M,c;if(n)for(u.addSource("circle",l.circle,s.cluster),h=0;h<C.cluster.length;h++)M=C.cluster[h],c=l[M],u.addLayer(M,c,m);else for(h=0;h<C.nonCluster.length;h++)M=C.nonCluster[h],c=l[M],u.addSource(M,c,s.cluster),u.addLayer(M,c,m);return t[0].trace._glTrace=u,u}},404:function(G,U,e){var g=e(3400),L=e(43028),a=e(39032).BADNUM;G.exports=function(A,v){var p=A.cd,r=A.xaxis,t=A.yaxis,s=[],n=p[0].trace,f;if(!L.hasMarkers(n))return[];if(v===!1)for(f=0;f<p.length;f++)p[f].selected=0;else for(f=0;f<p.length;f++){var u=p[f],l=u.lonlat;if(l[0]!==a){var m=[g.modHalf(l[0],360),l[1]],h=[r.c2p(m),t.c2p(m)];v.contains(h,null,f,A)?(s.push({pointNumber:f,lon:l[0],lat:l[1]}),u.selected=1):u.selected=0}}return s}},8319:function(G,U,e){var g=e(21776).Ks,L=e(21776).Gw,a=e(92880).extendFlat,C=e(98304),A=e(52904),v=e(45464),p=A.line;G.exports={mode:A.mode,r:{valType:"data_array",editType:"calc+clearAxisTypes"},theta:{valType:"data_array",editType:"calc+clearAxisTypes"},r0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dr:{valType:"number",dflt:1,editType:"calc"},theta0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dtheta:{valType:"number",editType:"calc"},thetaunit:{valType:"enumerated",values:["radians","degrees","gradians"],dflt:"degrees",editType:"calc+clearAxisTypes"},text:A.text,texttemplate:L({editType:"plot"},{keys:["r","theta","text"]}),hovertext:A.hovertext,line:{color:p.color,width:p.width,dash:p.dash,backoff:p.backoff,shape:a({},p.shape,{values:["linear","spline"]}),smoothing:p.smoothing,editType:"calc"},connectgaps:A.connectgaps,marker:A.marker,cliponaxis:a({},A.cliponaxis,{dflt:!1}),textposition:A.textposition,textfont:A.textfont,fill:a({},A.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:C(),hoverinfo:a({},v.hoverinfo,{flags:["r","theta","text","name"]}),hoveron:A.hoveron,hovertemplate:g(),selected:A.selected,unselected:A.unselected}},58320:function(G,U,e){var g=e(38248),L=e(39032).BADNUM,a=e(54460),C=e(90136),A=e(20148),v=e(4500),p=e(16356).calcMarkerSize;G.exports=function(t,s){for(var n=t._fullLayout,f=s.subplot,u=n[f].radialaxis,l=n[f].angularaxis,m=u.makeCalcdata(s,"r"),h=l.makeCalcdata(s,"theta"),M=s._length,c=new Array(M),i=0;i<M;i++){var d=m[i],b=h[i],w=c[i]={};g(d)&&g(b)?(w.r=d,w.theta=b):w.r=L}var E=p(s,M);return s._extremes.x=a.findExtremes(u,m,{ppad:E}),C(t,s),A(c,s),v(c,s),c}},85968:function(G,U,e){var g=e(3400),L=e(43028),a=e(74428),C=e(66828),A=e(11731),v=e(124),p=e(70840),r=e(88200).PTS_LINESONLY,t=e(8319);function s(f,u,l,m){function h(i,d){return g.coerce(f,u,t,i,d)}var M=n(f,u,m,h);if(!M){u.visible=!1;return}h("thetaunit"),h("mode",M<r?"lines+markers":"lines"),h("text"),h("hovertext"),u.hoveron!=="fills"&&h("hovertemplate"),L.hasMarkers(u)&&a(f,u,l,m,h,{gradient:!0}),L.hasLines(u)&&(C(f,u,l,m,h,{backoff:!0}),A(f,u,h),h("connectgaps")),L.hasText(u)&&(h("texttemplate"),v(f,u,m,h));var c=[];(L.hasMarkers(u)||L.hasText(u))&&(h("cliponaxis"),h("marker.maxdisplayed"),c.push("points")),h("fill"),u.fill!=="none"&&(p(f,u,l,h),L.hasLines(u)||A(f,u,h)),(u.fill==="tonext"||u.fill==="toself")&&c.push("fills"),h("hoveron",c.join("+")||"points"),g.coerceSelectionMarkerOpacity(u,h)}function n(f,u,l,m){var h=m("r"),M=m("theta");g.isTypedArray(h)&&(u.r=h=Array.from(h)),g.isTypedArray(M)&&(u.theta=M=Array.from(M));var c;if(h)M?c=Math.min(h.length,M.length):(c=h.length,m("theta0"),m("dtheta"));else{if(!M)return 0;c=u.theta.length,m("r0"),m("dr")}return u._length=c,c}G.exports={handleRThetaDefaults:n,supplyDefaults:s}},22852:function(G,U,e){var g=e(3400),L=e(54460);G.exports=function(C,A,v){var p={},r=v[A.subplot]._subplot,t,s;r?(t=r.radialAxis,s=r.angularAxis):(r=v[A.subplot],t=r.radialaxis,s=r.angularaxis);var n=t.c2l(C.r);p.rLabel=L.tickText(t,n,!0).text;var f=s.thetaunit==="degrees"?g.rad2deg(C.theta):C.theta;return p.thetaLabel=L.tickText(s,f,!0).text,p}},8504:function(G,U,e){var g=e(98723);function L(C,A,v,p){var r=g(C,A,v,p);if(!(!r||r[0].index===!1)){var t=r[0];if(t.index===void 0)return r;var s=C.subplot,n=t.cd[t.index],f=t.trace;if(!!s.isPtInside(n))return t.xLabelVal=void 0,t.yLabelVal=void 0,a(n,f,s,t),t.hovertemplate=f.hovertemplate,r}}function a(C,A,v,p){var r=v.radialAxis,t=v.angularAxis;r._hovertitle="r",t._hovertitle="\u03B8";var s={};s[A.subplot]={_subplot:v};var n=A._module.formatLabels(C,A,s);p.rLabel=n.rLabel,p.thetaLabel=n.thetaLabel;var f=C.hi||A.hoverinfo,u=[];function l(h,M){u.push(h._hovertitle+": "+M)}if(!A.hovertemplate){var m=f.split("+");m.indexOf("all")!==-1&&(m=["r","theta","text"]),m.indexOf("r")!==-1&&l(r,p.rLabel),m.indexOf("theta")!==-1&&l(t,p.thetaLabel),m.indexOf("text")!==-1&&p.text&&(u.push(p.text),delete p.text),p.extraText=u.join("<br>")}}G.exports={hoverPoints:L,makeHoverPointText:a}},76924:function(G,U,e){G.exports={moduleType:"trace",name:"scatterpolar",basePlotModule:e(40872),categories:["polar","symbols","showLegend","scatter-like"],attributes:e(8319),supplyDefaults:e(85968).supplyDefaults,colorbar:e(5528),formatLabels:e(22852),calc:e(58320),plot:e(43456),style:e(49224).style,styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(8504).hoverPoints,selectPoints:e(91560),meta:{}}},43456:function(G,U,e){var g=e(96504),L=e(39032).BADNUM;G.exports=function(C,A,v){for(var p=A.layers.frontplot.select("g.scatterlayer"),r=A.xaxis,t=A.yaxis,s={xaxis:r,yaxis:t,plot:A.framework,layerClipId:A._hasClipOnAxisFalse?A.clipIds.forTraces:null},n=A.radialAxis,f=A.angularAxis,u=0;u<v.length;u++)for(var l=v[u],m=0;m<l.length;m++){m===0&&(l[0].trace._xA=r,l[0].trace._yA=t);var h=l[m],M=h.r;if(M===L)h.x=h.y=L;else{var c=n.c2g(M),i=f.c2g(h.theta);h.x=c*Math.cos(i),h.y=c*Math.sin(i)}}g(C,s,v,p)}},24396:function(G,U,e){var g=e(8319),L=e(2876),a=e(21776).Gw;G.exports={mode:g.mode,r:g.r,theta:g.theta,r0:g.r0,dr:g.dr,theta0:g.theta0,dtheta:g.dtheta,thetaunit:g.thetaunit,text:g.text,texttemplate:a({editType:"plot"},{keys:["r","theta","text"]}),hovertext:g.hovertext,hovertemplate:g.hovertemplate,line:{color:L.line.color,width:L.line.width,dash:L.line.dash,editType:"calc"},connectgaps:L.connectgaps,marker:L.marker,fill:L.fill,fillcolor:L.fillcolor,textposition:L.textposition,textfont:L.textfont,hoverinfo:g.hoverinfo,selected:g.selected,unselected:g.unselected}},27160:function(G,U,e){G.exports={moduleType:"trace",name:"scatterpolargl",basePlotModule:e(40872),categories:["gl","regl","polar","symbols","showLegend","scatter-like"],attributes:e(24396),supplyDefaults:e(98608),colorbar:e(5528),formatLabels:e(94120),calc:e(66720),hoverPoints:e(1600).hoverPoints,selectPoints:e(73224),meta:{}}},66720:function(G,U,e){var g=e(90136),L=e(16356).calcMarkerSize,a=e(84236),C=e(54460),A=e(67072).TOO_MANY_POINTS;G.exports=function(p,r){var t=p._fullLayout,s=r.subplot,n=t[s].radialaxis,f=t[s].angularaxis,u=r._r=n.makeCalcdata(r,"r"),l=r._theta=f.makeCalcdata(r,"theta"),m=r._length,h={};m<u.length&&(u=u.slice(0,m)),m<l.length&&(l=l.slice(0,m)),h.r=u,h.theta=l,g(p,r);var M=h.opts=a.style(p,r),c;return m<A?c=L(r,m):M.marker&&(c=2*(M.marker.sizeAvg||Math.max(M.marker.size,3))),r._extremes.x=C.findExtremes(n,u,{ppad:c}),[{x:!1,y:!1,t:h,trace:r}]}},98608:function(G,U,e){var g=e(3400),L=e(43028),a=e(85968).handleRThetaDefaults,C=e(74428),A=e(66828),v=e(124),p=e(70840),r=e(88200).PTS_LINESONLY,t=e(24396);G.exports=function(n,f,u,l){function m(M,c){return g.coerce(n,f,t,M,c)}var h=a(n,f,l,m);if(!h){f.visible=!1;return}m("thetaunit"),m("mode",h<r?"lines+markers":"lines"),m("text"),m("hovertext"),f.hoveron!=="fills"&&m("hovertemplate"),L.hasMarkers(f)&&C(n,f,u,l,m,{noAngleRef:!0,noStandOff:!0}),L.hasLines(f)&&(A(n,f,u,l,m),m("connectgaps")),L.hasText(f)&&(m("texttemplate"),v(n,f,l,m)),m("fill"),f.fill!=="none"&&p(n,f,u,m),g.coerceSelectionMarkerOpacity(f,m)}},94120:function(G,U,e){var g=e(22852);G.exports=function(a,C,A){var v=a.i;return"r"in a||(a.r=C._r[v]),"theta"in a||(a.theta=C._theta[v]),g(a,C,A)}},1600:function(G,U,e){var g=e(41272),L=e(8504).makeHoverPointText;function a(C,A,v,p){var r=C.cd,t=r[0].t,s=t.r,n=t.theta,f=g.hoverPoints(C,A,v,p);if(!(!f||f[0].index===!1)){var u=f[0];if(u.index===void 0)return f;var l=C.subplot,m=u.cd[u.index],h=u.trace;if(m.r=s[u.index],m.theta=n[u.index],!!l.isPtInside(m))return u.xLabelVal=void 0,u.yLabelVal=void 0,L(m,h,l,u),f}}G.exports={hoverPoints:a}},62944:function(G,U,e){var g=e(27160);g.plot=e(56512),G.exports=g},56512:function(G,U,e){var g=e(3108),L=e(38248),a=e(89876),C=e(74588),A=e(84236),v=e(3400),p=e(67072).TOO_MANY_POINTS,r={};G.exports=function(s,n,f){if(!!f.length){var u=n.radialAxis,l=n.angularAxis,m=C(s,n);return f.forEach(function(h){if(!(!h||!h[0]||!h[0].trace)){var M=h[0],c=M.trace,i=M.t,d=c._length,b=i.r,w=i.theta,E=i.opts,y,S=b.slice(),T=w.slice();for(y=0;y<b.length;y++)n.isPtInside({r:b[y],theta:w[y]})||(S[y]=NaN,T[y]=NaN);var o=new Array(d*2),P=Array(d),x=Array(d);for(y=0;y<d;y++){var _=S[y],I,N;if(L(_)){var k=u.c2g(_),F=l.c2g(T[y],c.thetaunit);I=k*Math.cos(F),N=k*Math.sin(F)}else I=N=NaN;P[y]=o[y*2]=I,x[y]=o[y*2+1]=N}i.tree=g(o),E.marker&&d>=p&&(E.marker.cluster=i.tree),E.marker&&(E.markerSel.positions=E.markerUnsel.positions=E.marker.positions=o),E.line&&o.length>1&&v.extendFlat(E.line,A.linePositions(s,c,o)),E.text&&(v.extendFlat(E.text,{positions:o},A.textPosition(s,c,E.text,E.marker)),v.extendFlat(E.textSel,{positions:o},A.textPosition(s,c,E.text,E.markerSel)),v.extendFlat(E.textUnsel,{positions:o},A.textPosition(s,c,E.text,E.markerUnsel))),E.fill&&!m.fill2d&&(m.fill2d=!0),E.marker&&!m.scatter2d&&(m.scatter2d=!0),E.line&&!m.line2d&&(m.line2d=!0),E.text&&!m.glText&&(m.glText=!0),m.lineOptions.push(E.line),m.fillOptions.push(E.fill),m.markerOptions.push(E.marker),m.markerSelectedOptions.push(E.markerSel),m.markerUnselectedOptions.push(E.markerUnsel),m.textOptions.push(E.text),m.textSelectedOptions.push(E.textSel),m.textUnselectedOptions.push(E.textUnsel),m.selectBatch.push([]),m.unselectBatch.push([]),i.x=P,i.y=x,i.rawx=P,i.rawy=x,i.r=b,i.theta=w,i.positions=o,i._scene=m,i.index=m.count,m.count++}}),a(s,n,f)}},G.exports.reglPrecompiled=r},69496:function(G,U,e){var g=e(21776).Ks,L=e(21776).Gw,a=e(92880).extendFlat,C=e(98304),A=e(52904),v=e(45464),p=A.line;G.exports={mode:A.mode,real:{valType:"data_array",editType:"calc+clearAxisTypes"},imag:{valType:"data_array",editType:"calc+clearAxisTypes"},text:A.text,texttemplate:L({editType:"plot"},{keys:["real","imag","text"]}),hovertext:A.hovertext,line:{color:p.color,width:p.width,dash:p.dash,backoff:p.backoff,shape:a({},p.shape,{values:["linear","spline"]}),smoothing:p.smoothing,editType:"calc"},connectgaps:A.connectgaps,marker:A.marker,cliponaxis:a({},A.cliponaxis,{dflt:!1}),textposition:A.textposition,textfont:A.textfont,fill:a({},A.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:C(),hoverinfo:a({},v.hoverinfo,{flags:["real","imag","text","name"]}),hoveron:A.hoveron,hovertemplate:g(),selected:A.selected,unselected:A.unselected}},47507:function(G,U,e){var g=e(38248),L=e(39032).BADNUM,a=e(90136),C=e(20148),A=e(4500),v=e(16356).calcMarkerSize;G.exports=function(r,t){for(var s=r._fullLayout,n=t.subplot,f=s[n].realaxis,u=s[n].imaginaryaxis,l=f.makeCalcdata(t,"real"),m=u.makeCalcdata(t,"imag"),h=t._length,M=new Array(h),c=0;c<h;c++){var i=l[c],d=m[c],b=M[c]={};g(i)&&g(d)?(b.real=i,b.imag=d):b.real=L}return v(t,h),a(r,t),C(M,t),A(M,t),M}},76716:function(G,U,e){var g=e(3400),L=e(43028),a=e(74428),C=e(66828),A=e(11731),v=e(124),p=e(70840),r=e(88200).PTS_LINESONLY,t=e(69496);G.exports=function(f,u,l,m){function h(i,d){return g.coerce(f,u,t,i,d)}var M=s(f,u,m,h);if(!M){u.visible=!1;return}h("mode",M<r?"lines+markers":"lines"),h("text"),h("hovertext"),u.hoveron!=="fills"&&h("hovertemplate"),L.hasMarkers(u)&&a(f,u,l,m,h,{gradient:!0}),L.hasLines(u)&&(C(f,u,l,m,h,{backoff:!0}),A(f,u,h),h("connectgaps")),L.hasText(u)&&(h("texttemplate"),v(f,u,m,h));var c=[];(L.hasMarkers(u)||L.hasText(u))&&(h("cliponaxis"),h("marker.maxdisplayed"),c.push("points")),h("fill"),u.fill!=="none"&&(p(f,u,l,h),L.hasLines(u)||A(f,u,h)),(u.fill==="tonext"||u.fill==="toself")&&c.push("fills"),h("hoveron",c.join("+")||"points"),g.coerceSelectionMarkerOpacity(u,h)};function s(n,f,u,l){var m=l("real"),h=l("imag"),M;return m&&h&&(M=Math.min(m.length,h.length)),g.isTypedArray(m)&&(f.real=m=Array.from(m)),g.isTypedArray(h)&&(f.imag=h=Array.from(h)),f._length=M,M}},49504:function(G,U,e){var g=e(54460);G.exports=function(a,C,A){var v={},p=A[C.subplot]._subplot;return v.realLabel=g.tickText(p.radialAxis,a.real,!0).text,v.imagLabel=g.tickText(p.angularAxis,a.imag,!0).text,v}},25292:function(G,U,e){var g=e(98723);function L(C,A,v,p){var r=g(C,A,v,p);if(!(!r||r[0].index===!1)){var t=r[0];if(t.index===void 0)return r;var s=C.subplot,n=t.cd[t.index],f=t.trace;if(!!s.isPtInside(n))return t.xLabelVal=void 0,t.yLabelVal=void 0,a(n,f,s,t),t.hovertemplate=f.hovertemplate,r}}function a(C,A,v,p){var r=v.radialAxis,t=v.angularAxis;r._hovertitle="real",t._hovertitle="imag";var s={};s[A.subplot]={_subplot:v};var n=A._module.formatLabels(C,A,s);p.realLabel=n.realLabel,p.imagLabel=n.imagLabel;var f=C.hi||A.hoverinfo,u=[];function l(h,M){u.push(h._hovertitle+": "+M)}if(!A.hovertemplate){var m=f.split("+");m.indexOf("all")!==-1&&(m=["real","imag","text"]),m.indexOf("real")!==-1&&l(r,p.realLabel),m.indexOf("imag")!==-1&&l(t,p.imagLabel),m.indexOf("text")!==-1&&p.text&&(u.push(p.text),delete p.text),p.extraText=u.join("<br>")}}G.exports={hoverPoints:L,makeHoverPointText:a}},95443:function(G,U,e){G.exports={moduleType:"trace",name:"scattersmith",basePlotModule:e(47788),categories:["smith","symbols","showLegend","scatter-like"],attributes:e(69496),supplyDefaults:e(76716),colorbar:e(5528),formatLabels:e(49504),calc:e(47507),plot:e(34927),style:e(49224).style,styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(25292).hoverPoints,selectPoints:e(91560),meta:{}}},34927:function(G,U,e){var g=e(96504),L=e(39032).BADNUM,a=e(36416),C=a.smith;G.exports=function(v,p,r){for(var t=p.layers.frontplot.select("g.scatterlayer"),s=p.xaxis,n=p.yaxis,f={xaxis:s,yaxis:n,plot:p.framework,layerClipId:p._hasClipOnAxisFalse?p.clipIds.forTraces:null},u=0;u<r.length;u++)for(var l=r[u],m=0;m<l.length;m++){m===0&&(l[0].trace._xA=s,l[0].trace._yA=n);var h=l[m],M=h.real;if(M===L)h.x=h.y=L;else{var c=C([M,h.imag]);h.x=c[0],h.y=c[1]}}g(v,f,r,t)}},5896:function(G,U,e){var g=e(21776).Ks,L=e(21776).Gw,a=e(98304),C=e(52904),A=e(45464),v=e(49084),p=e(98192).u,r=e(92880).extendFlat,t=C.marker,s=C.line,n=t.line;G.exports={a:{valType:"data_array",editType:"calc"},b:{valType:"data_array",editType:"calc"},c:{valType:"data_array",editType:"calc"},sum:{valType:"number",dflt:0,min:0,editType:"calc"},mode:r({},C.mode,{dflt:"markers"}),text:r({},C.text,{}),texttemplate:L({editType:"plot"},{keys:["a","b","c","text"]}),hovertext:r({},C.hovertext,{}),line:{color:s.color,width:s.width,dash:p,backoff:s.backoff,shape:r({},s.shape,{values:["linear","spline"]}),smoothing:s.smoothing,editType:"calc"},connectgaps:C.connectgaps,cliponaxis:C.cliponaxis,fill:r({},C.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:a(),marker:r({symbol:t.symbol,opacity:t.opacity,angle:t.angle,angleref:t.angleref,standoff:t.standoff,maxdisplayed:t.maxdisplayed,size:t.size,sizeref:t.sizeref,sizemin:t.sizemin,sizemode:t.sizemode,line:r({width:n.width,editType:"calc"},v("marker.line")),gradient:t.gradient,editType:"calc"},v("marker")),textfont:C.textfont,textposition:C.textposition,selected:C.selected,unselected:C.unselected,hoverinfo:r({},A.hoverinfo,{flags:["a","b","c","text","name"]}),hoveron:C.hoveron,hovertemplate:g()}},34335:function(G,U,e){var g=e(38248),L=e(90136),a=e(20148),C=e(4500),A=e(16356).calcMarkerSize,v=["a","b","c"],p={a:["b","c"],b:["a","c"],c:["a","b"]};G.exports=function(t,s){var n=t._fullLayout[s.subplot],f=n.sum,u=s.sum||f,l={a:s.a,b:s.b,c:s.c},m,h,M,c,i,d;for(m=0;m<v.length;m++)if(M=v[m],!l[M]){for(i=l[p[M][0]],d=l[p[M][1]],c=new Array(i.length),h=0;h<i.length;h++)c[h]=u-i[h]-d[h];l[M]=c}var b=s._length,w=new Array(b),E,y,S,T,o,P;for(m=0;m<b;m++)E=l.a[m],y=l.b[m],S=l.c[m],g(E)&&g(y)&&g(S)?(E=+E,y=+y,S=+S,T=f/(E+y+S),T!==1&&(E*=T,y*=T,S*=T),P=E,o=S-y,w[m]={x:o,y:P,a:E,b:y,c:S}):w[m]={x:!1,y:!1};return A(s,b),L(t,s),a(w,s),C(w,s),w}},84256:function(G,U,e){var g=e(3400),L=e(88200),a=e(43028),C=e(74428),A=e(66828),v=e(11731),p=e(124),r=e(70840),t=e(5896);G.exports=function(n,f,u,l){function m(w,E){return g.coerce(n,f,t,w,E)}var h=m("a"),M=m("b"),c=m("c"),i;if(h?(i=h.length,M?(i=Math.min(i,M.length),c&&(i=Math.min(i,c.length))):c?i=Math.min(i,c.length):i=0):M&&c&&(i=Math.min(M.length,c.length)),!i){f.visible=!1;return}f._length=i,m("sum"),m("text"),m("hovertext"),f.hoveron!=="fills"&&m("hovertemplate");var d=i<L.PTS_LINESONLY?"lines+markers":"lines";m("mode",d),a.hasMarkers(f)&&C(n,f,u,l,m,{gradient:!0}),a.hasLines(f)&&(A(n,f,u,l,m,{backoff:!0}),v(n,f,m),m("connectgaps")),a.hasText(f)&&(m("texttemplate"),p(n,f,l,m));var b=[];(a.hasMarkers(f)||a.hasText(f))&&(m("cliponaxis"),m("marker.maxdisplayed"),b.push("points")),m("fill"),f.fill!=="none"&&(r(n,f,u,m),a.hasLines(f)||v(n,f,m)),(f.fill==="tonext"||f.fill==="toself")&&b.push("fills"),m("hoveron",b.join("+")||"points"),g.coerceSelectionMarkerOpacity(f,m)}},97476:function(G){G.exports=function(e,g,L,a,C){if(g.xa&&(e.xaxis=g.xa),g.ya&&(e.yaxis=g.ya),a[C]){var A=a[C];e.a=A.a,e.b=A.b,e.c=A.c}else e.a=g.a,e.b=g.b,e.c=g.c;return e}},90404:function(G,U,e){var g=e(54460);G.exports=function(a,C,A){var v={},p=A[C.subplot]._subplot;return v.aLabel=g.tickText(p.aaxis,a.a,!0).text,v.bLabel=g.tickText(p.baxis,a.b,!0).text,v.cLabel=g.tickText(p.caxis,a.c,!0).text,v}},26596:function(G,U,e){var g=e(98723);G.exports=function(a,C,A,v){var p=g(a,C,A,v);if(!p||p[0].index===!1)return;var r=p[0];if(r.index===void 0){var t=1-r.y0/a.ya._length,s=a.xa._length,n=s*t/2,f=s-n;return r.x0=Math.max(Math.min(r.x0,f),n),r.x1=Math.max(Math.min(r.x1,f),n),p}var u=r.cd[r.index],l=r.trace,m=r.subplot;r.a=u.a,r.b=u.b,r.c=u.c,r.xLabelVal=void 0,r.yLabelVal=void 0;var h={};h[l.subplot]={_subplot:m};var M=l._module.formatLabels(u,l,h);r.aLabel=M.aLabel,r.bLabel=M.bLabel,r.cLabel=M.cLabel;var c=u.hi||l.hoverinfo,i=[];function d(w,E){i.push(w._hovertitle+": "+E)}if(!l.hovertemplate){var b=c.split("+");b.indexOf("all")!==-1&&(b=["a","b","c"]),b.indexOf("a")!==-1&&d(m.aaxis,r.aLabel),b.indexOf("b")!==-1&&d(m.baxis,r.bLabel),b.indexOf("c")!==-1&&d(m.caxis,r.cLabel)}return r.extraText=i.join("<br>"),r.hovertemplate=l.hovertemplate,p}},34864:function(G,U,e){G.exports={attributes:e(5896),supplyDefaults:e(84256),colorbar:e(5528),formatLabels:e(90404),calc:e(34335),plot:e(88776),style:e(49224).style,styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(26596),selectPoints:e(91560),eventData:e(97476),moduleType:"trace",name:"scatterternary",basePlotModule:e(19352),categories:["ternary","symbols","showLegend","scatter-like"],meta:{}}},88776:function(G,U,e){var g=e(96504);G.exports=function(a,C,A){var v=C.plotContainer;v.select(".scatterlayer").selectAll("*").remove();for(var p=C.xaxis,r=C.yaxis,t={xaxis:p,yaxis:r,plot:v,layerClipId:C._hasClipOnAxisFalse?C.clipIdRelative:null},s=C.layers.frontplot.select("g.scatterlayer"),n=0;n<A.length;n++){var f=A[n];f.length&&(f[0].trace._xA=p,f[0].trace._yA=r)}g(a,t,A,s)}},44524:function(G,U,e){var g=e(52904),L=e(49084),a=e(29736).axisHoverFormat,C=e(21776).Ks,A=e(2876),v=e(33816).idRegex,p=e(31780).templatedArray,r=e(92880).extendFlat,t=g.marker,s=t.line,n=r(L("marker.line",{editTypeOverride:"calc"}),{width:r({},s.width,{editType:"calc"}),editType:"calc"}),f=r(L("marker"),{symbol:t.symbol,angle:t.angle,size:r({},t.size,{editType:"markerSize"}),sizeref:t.sizeref,sizemin:t.sizemin,sizemode:t.sizemode,opacity:t.opacity,colorbar:t.colorbar,line:n,editType:"calc"});f.color.editType=f.cmin.editType=f.cmax.editType="style";function u(l){return{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"subplotid",regex:v[l],editType:"plot"}}}G.exports={dimensions:p("dimension",{visible:{valType:"boolean",dflt:!0,editType:"calc"},label:{valType:"string",editType:"calc"},values:{valType:"data_array",editType:"calc+clearAxisTypes"},axis:{type:{valType:"enumerated",values:["linear","log","date","category"],editType:"calc+clearAxisTypes"},matches:{valType:"boolean",dflt:!1,editType:"calc"},editType:"calc+clearAxisTypes"},editType:"calc+clearAxisTypes"}),text:r({},A.text,{}),hovertext:r({},A.hovertext,{}),hovertemplate:C(),xhoverformat:a("x"),yhoverformat:a("y"),marker:f,xaxes:u("x"),yaxes:u("y"),diagonal:{visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"},showupperhalf:{valType:"boolean",dflt:!0,editType:"calc"},showlowerhalf:{valType:"boolean",dflt:!0,editType:"calc"},selected:{marker:A.selected.marker,editType:"calc"},unselected:{marker:A.unselected.marker,editType:"calc"},opacity:A.opacity}},28888:function(G,U,e){var g=e(24040),L=e(12704);G.exports={moduleType:"trace",name:"splom",categories:["gl","regl","cartesian","symbols","showLegend","scatter-like"],attributes:e(44524),supplyDefaults:e(69544),colorbar:e(5528),calc:e(66821),plot:e(54840),hoverPoints:e(72248).hoverPoints,selectPoints:e(62500),editStyle:e(83156),meta:{}},g.register(L)},99332:function(G,U,e){var g=e(13472),L=e(24040),a=e(5048),C=e(84888)._M,A=e(57952),v=e(79811).getFromId,p=e(54460).shouldShowZeroLine,r="splom",t={};function s(h){var M=h._fullLayout,c=L.getModule(r),i=C(h.calcdata,c)[0],d=a(h,["ANGLE_instanced_arrays","OES_element_index_uint"],t);!d||(M._hasOnlyLargeSploms&&u(h),c.plot(h,{},i))}function n(h){var M=h.calcdata,c=h._fullLayout;c._hasOnlyLargeSploms&&u(h);for(var i=0;i<M.length;i++){var d=M[i][0],b=d.trace,w=c._splomScenes[b.uid];b.type==="splom"&&w&&w.matrix&&f(h,b,w)}}function f(h,M,c){for(var i=c.matrixOptions.data.length,d=M._visibleDims,b=c.viewOpts.ranges=new Array(i),w=0;w<d.length;w++){var E=d[w],y=b[w]=new Array(4),S=v(h,M._diag[E][0]);S&&(y[0]=S.r2l(S.range[0]),y[2]=S.r2l(S.range[1]));var T=v(h,M._diag[E][1]);T&&(y[1]=T.r2l(T.range[0]),y[3]=T.r2l(T.range[1]))}c.selectBatch.length||c.unselectBatch.length?c.matrix.update({ranges:b},{ranges:b}):c.matrix.update({ranges:b})}function u(h){var M=h._fullLayout,c=M._glcanvas.data()[0].regl,i=M._splomGrid;i||(i=M._splomGrid=g(c)),i.update(l(h))}function l(h){var M=h._context.plotGlPixelRatio,c=h._fullLayout,i=c._size,d=[0,0,c.width*M,c.height*M],b={},w;function E(W,q,ee,Q,oe,Z){ee*=M,Q*=M,oe*=M,Z*=M;var Y=q[W+"color"],te=q[W+"width"],X=String(Y+te);X in b?b[X].data.push(NaN,NaN,ee,Q,oe,Z):b[X]={data:[ee,Q,oe,Z],join:"rect",thickness:te*M,color:Y,viewport:d,range:d,overlay:!1}}for(w in c._splomSubplots){var y=c._plots[w],S=y.xaxis,T=y.yaxis,o=S._gridVals,P=T._gridVals,x=S._offset,_=S._length,I=T._length,N=i.b+T.domain[0]*i.h,k=-T._m,F=-k*T.r2l(T.range[0],T.calendar),O,z;if(S.showgrid)for(w=0;w<o.length;w++)O=x+S.l2p(o[w].x),E("grid",S,O,N,O,N+I);if(T.showgrid)for(w=0;w<P.length;w++)z=N+F+k*P[w].x,E("grid",T,x,z,x+_,z);p(h,S,T)&&(O=x+S.l2p(0),E("zeroline",S,O,N,O,N+I)),p(h,T,S)&&(z=N+F+0,E("zeroline",T,x,z,x+_,z))}var B=[];for(w in b)B.push(b[w]);return B}function m(h,M,c,i){var d={},b;if(i._splomScenes){for(b=0;b<h.length;b++){var w=h[b];w.type==="splom"&&(d[w.uid]=1)}for(b=0;b<c.length;b++){var E=c[b];if(!d[E.uid]){var y=i._splomScenes[E.uid];y&&y.destroy&&y.destroy(),i._splomScenes[E.uid]=null,delete i._splomScenes[E.uid]}}}Object.keys(i._splomScenes||{}).length===0&&delete i._splomScenes,i._splomGrid&&!M._hasOnlyLargeSploms&&i._hasOnlyLargeSploms&&(i._splomGrid.destroy(),i._splomGrid=null,delete i._splomGrid),A.clean(h,M,c,i)}G.exports={name:r,attr:A.attr,attrRegex:A.attrRegex,layoutAttributes:A.layoutAttributes,supplyLayoutDefaults:A.supplyLayoutDefaults,drawFramework:A.drawFramework,plot:s,drag:n,updateGrid:u,clean:m,updateFx:A.updateFx,toSVG:A.toSVG,reglPrecompiled:t}},66821:function(G,U,e){var g=e(3400),L=e(79811),a=e(16356).calcMarkerSize,C=e(16356).calcAxisExpansion,A=e(90136),v=e(84236).markerSelection,p=e(84236).markerStyle,r=e(72308),t=e(39032).BADNUM,s=e(67072).TOO_MANY_POINTS;G.exports=function(f,u){var l=u.dimensions,m=u._length,h={},M=h.cdata=[],c=h.data=[],i=u._visibleDims=[],d,b,w,E,y;function S(_,I){for(var N=_.makeCalcdata({v:I.values,vcalendar:u.calendar},"v"),k=0;k<N.length;k++)N[k]=N[k]===t?NaN:N[k];M.push(N),c.push(_.type==="log"?g.simpleMap(N,_.c2l):N)}for(d=0;d<l.length;d++)if(w=l[d],w.visible){if(E=L.getFromId(f,u._diag[d][0]),y=L.getFromId(f,u._diag[d][1]),E&&y&&E.type!==y.type){g.log("Skipping splom dimension "+d+" with conflicting axis types");continue}E?(S(E,w),y&&y.type==="category"&&(y._categories=E._categories.slice())):S(y,w),i.push(d)}A(f,u),g.extendFlat(h,p(f,u));var T=M.length,o=T*m>s,P;for(o?P=h.sizeAvg||Math.max(h.size,3):P=a(u,m),b=0;b<i.length;b++)d=i[b],w=l[d],E=L.getFromId(f,u._diag[d][0])||{},y=L.getFromId(f,u._diag[d][1])||{},C(f,u,E,y,M[b],M[b],P);var x=r(f,u);return x.matrix||(x.matrix=!0),x.matrixOptions=h,x.selectedOptions=v(f,u,u.selected),x.unselectedOptions=v(f,u,u.unselected),[{x:!1,y:!1,t:{},trace:u}]}},69544:function(G,U,e){var g=e(3400),L=e(51272),a=e(44524),C=e(43028),A=e(74428),v=e(26284),p=e(80088).isOpenSymbol;G.exports=function(n,f,u,l){function m(E,y){return g.coerce(n,f,a,E,y)}var h=L(n,f,{name:"dimensions",handleItemDefaults:r}),M=m("diagonal.visible"),c=m("showupperhalf"),i=m("showlowerhalf"),d=v(f,h,"values");if(!d||!M&&!c&&!i){f.visible=!1;return}m("text"),m("hovertext"),m("hovertemplate"),m("xhoverformat"),m("yhoverformat"),A(n,f,u,l,m,{noAngleRef:!0,noStandOff:!0});var b=p(f.marker.symbol),w=C.isBubble(f);m("marker.line.width",b||w?1:0),t(n,f,l,m),g.coerceSelectionMarkerOpacity(f,m)};function r(s,n){function f(l,m){return g.coerce(s,n,a.dimensions,l,m)}f("label");var u=f("values");u&&u.length?f("visible"):n.visible=!1,f("axis.type"),f("axis.matches")}function t(s,n,f,u){var l=n.dimensions,m=l.length,h=n.showupperhalf,M=n.showlowerhalf,c=n.diagonal.visible,i,d,b=new Array(m),w=new Array(m);for(i=0;i<m;i++){var E=i?i+1:"";b[i]="x"+E,w[i]="y"+E}var y=u("xaxes",b),S=u("yaxes",w),T=n._diag=new Array(m);n._xaxes={},n._yaxes={};var o=[],P=[];function x(W,q,ee,Q){if(!!W){var oe=W.charAt(0),Z=f._splomAxes[oe];if(n["_"+oe+"axes"][W]=1,Q.push(W),!(W in Z)){var Y=Z[W]={};ee&&(Y.label=ee.label||"",ee.visible&&ee.axis&&(ee.axis.type&&(Y.type=ee.axis.type),ee.axis.matches&&(Y.matches=q)))}}}var _=!c&&!M,I=!c&&!h;for(n._axesDim={},i=0;i<m;i++){var N=l[i],k=i===0,F=i===m-1,O=k&&_||F&&I?void 0:y[i],z=k&&I||F&&_?void 0:S[i];x(O,z,N,o),x(z,O,N,P),T[i]=[O,z],n._axesDim[O]=i,n._axesDim[z]=i}for(i=0;i<o.length;i++)for(d=0;d<P.length;d++){var B=o[i]+P[d];(i>d&&h||i<d&&M||i===d&&(c||!M||!h))&&(f._splomSubplots[B]=1)}(!M||!c&&h&&M)&&(f._splomGridDflt.xside="bottom",f._splomGridDflt.yside="left")}},83156:function(G,U,e){var g=e(3400),L=e(90136),a=e(84236).markerStyle;G.exports=function(A,v){var p=v.trace,r=A._fullLayout._splomScenes[p.uid];if(r){L(A,p),g.extendFlat(r.matrixOptions,a(A,p));var t=g.extendFlat({},r.matrixOptions,r.viewOpts);r.matrix.update(t,null)}}},50328:function(G,U){U.getDimIndex=function(g,L){for(var a=L._id,C=a.charAt(0),A={x:0,y:1}[C],v=g._visibleDims,p=0;p<v.length;p++){var r=v[p];if(g._diag[r][A]===a)return p}return!1}},72248:function(G,U,e){var g=e(50328),L=e(41272).calcHover;function a(C,A,v){var p=C.cd,r=p[0].trace,t=C.scene,s=t.matrixOptions.cdata,n=C.xa,f=C.ya,u=n.c2p(A),l=f.c2p(v),m=C.distance,h=g.getDimIndex(r,n),M=g.getDimIndex(r,f);if(h===!1||M===!1)return[C];for(var c=s[h],i=s[M],d,b,w=m,E=0;E<c.length;E++){var y=c[E],S=i[E],T=n.c2p(y)-u,o=f.c2p(S)-l,P=Math.sqrt(T*T+o*o);P<w&&(w=b=P,d=E)}return C.index=d,C.distance=w,C.dxy=b,d===void 0?[C]:[L(C,c,i,r)]}G.exports={hoverPoints:a}},97924:function(G,U,e){var g=e(28888);g.basePlotModule=e(99332),G.exports=g},54840:function(G,U,e){var g=e(55795),L=e(3400),a=e(79811),C=e(72760).selectMode;G.exports=function(p,r,t){if(!!t.length)for(var s=0;s<t.length;s++)A(p,t[s][0])};function A(v,p){var r=v._fullLayout,t=r._size,s=p.trace,n=p.t,f=r._splomScenes[s.uid],u=f.matrixOptions,l=u.cdata,m=r._glcanvas.data()[0].regl,h=r.dragmode,M,c,i,d,b;if(l.length!==0){u.lower=s.showupperhalf,u.upper=s.showlowerhalf,u.diagonal=s.diagonal.visible;var w=s._visibleDims,E=l.length,y=f.viewOpts={};for(y.ranges=new Array(E),y.domains=new Array(E),b=0;b<w.length;b++){i=w[b];var S=y.ranges[b]=new Array(4),T=y.domains[b]=new Array(4);M=a.getFromId(v,s._diag[i][0]),M&&(S[0]=M._rl[0],S[2]=M._rl[1],T[0]=M.domain[0],T[2]=M.domain[1]),c=a.getFromId(v,s._diag[i][1]),c&&(S[1]=c._rl[0],S[3]=c._rl[1],T[1]=c.domain[0],T[3]=c.domain[1])}var o=v._context.plotGlPixelRatio,P=t.l*o,x=t.b*o,_=t.w*o,I=t.h*o;y.viewport=[P,x,_+P,I+x],f.matrix===!0&&(f.matrix=g(m));var N=r.clickmode.indexOf("select")>-1,k=C(h)||!!s.selectedpoints||N,F=!0;if(k){var O=s._length;if(s.selectedpoints){f.selectBatch=s.selectedpoints;var z=s.selectedpoints,B={};for(i=0;i<z.length;i++)B[z[i]]=!0;var W=[];for(i=0;i<O;i++)B[i]||W.push(i);f.unselectBatch=W}var q=n.xpx=new Array(E),ee=n.ypx=new Array(E);for(b=0;b<w.length;b++){if(i=w[b],M=a.getFromId(v,s._diag[i][0]),M)for(q[b]=new Array(O),d=0;d<O;d++)q[b][d]=M.c2p(l[b][d]);if(c=a.getFromId(v,s._diag[i][1]),c)for(ee[b]=new Array(O),d=0;d<O;d++)ee[b][d]=c.c2p(l[b][d])}if(f.selectBatch.length||f.unselectBatch.length){var Q=L.extendFlat({},u,f.unselectedOptions,y),oe=L.extendFlat({},u,f.selectedOptions,y);f.matrix.update(Q,oe),F=!1}}else n.xpx=n.ypx=null;if(F){var Z=L.extendFlat({},u,y);f.matrix.update(Z,null)}}}},72308:function(G,U,e){var g=e(3400);G.exports=function(a,C){var A=a._fullLayout,v=C.uid,p=A._splomScenes;p||(p=A._splomScenes={});var r={dirty:!0,selectBatch:[],unselectBatch:[]},t={matrix:!1,selectBatch:[],unselectBatch:[]},s=p[C.uid];return s||(s=p[v]=g.extendFlat({},r,t),s.draw=function(){s.matrix&&s.matrix.draw&&(s.selectBatch.length||s.unselectBatch.length?s.matrix.draw(s.unselectBatch,s.selectBatch):s.matrix.draw()),s.dirty=!1},s.destroy=function(){s.matrix&&s.matrix.destroy&&s.matrix.destroy(),s.matrixOptions=null,s.selectBatch=null,s.unselectBatch=null,s=null}),s.dirty||g.extendFlat(s,r),s}},62500:function(G,U,e){var g=e(3400),L=g.pushUnique,a=e(43028),C=e(50328);G.exports=function(v,p){var r=v.cd,t=r[0].trace,s=r[0].t,n=v.scene,f=n.matrixOptions.cdata,u=v.xaxis,l=v.yaxis,m=[];if(!n)return m;var h=!a.hasMarkers(t)&&!a.hasText(t);if(t.visible!==!0||h)return m;var M=C.getDimIndex(t,u),c=C.getDimIndex(t,l);if(M===!1||c===!1)return m;var i=s.xpx[M],d=s.ypx[c],b=f[M],w=f[c],E=(v.scene.selectBatch||[]).slice(),y=[];if(p!==!1&&!p.degenerate)for(var S=0;S<b.length;S++)p.contains([i[S],d[S]],null,S,v)?(m.push({pointNumber:S,x:b[S],y:w[S]}),L(E,S)):E.indexOf(S)!==-1?L(E,S):y.push(S);var T=n.matrixOptions;return!E.length&&!y.length?n.matrix.update(T,null):!n.selectBatch.length&&!n.unselectBatch.length&&n.matrix.update(n.unselectedOptions,g.extendFlat({},T,n.selectedOptions,n.viewOpts)),n.selectBatch=E,n.unselectBatch=y,m}},90167:function(G,U,e){var g=e(49084),L=e(29736).axisHoverFormat,a=e(21776).Ks,C=e(52948),A=e(45464),v=e(92880).extendFlat,p={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},u:{valType:"data_array",editType:"calc"},v:{valType:"data_array",editType:"calc"},w:{valType:"data_array",editType:"calc"},starts:{x:{valType:"data_array",editType:"calc"},y:{valType:"data_array",editType:"calc"},z:{valType:"data_array",editType:"calc"},editType:"calc"},maxdisplayed:{valType:"integer",min:0,dflt:1e3,editType:"calc"},sizeref:{valType:"number",editType:"calc",min:0,dflt:1},text:{valType:"string",dflt:"",editType:"calc"},hovertext:{valType:"string",dflt:"",editType:"calc"},hovertemplate:a({editType:"calc"},{keys:["tubex","tubey","tubez","tubeu","tubev","tubew","norm","divergence"]}),uhoverformat:L("u",1),vhoverformat:L("v",1),whoverformat:L("w",1),xhoverformat:L("x"),yhoverformat:L("y"),zhoverformat:L("z"),showlegend:v({},A.showlegend,{dflt:!1})};v(p,g("",{colorAttr:"u/v/w norm",showScaleDflt:!0,editTypeOverride:"calc"}));var r=["opacity","lightposition","lighting"];r.forEach(function(t){p[t]=C[t]}),p.hoverinfo=v({},A.hoverinfo,{editType:"calc",flags:["x","y","z","u","v","w","norm","divergence","text","name"],dflt:"x+y+z+norm+text+name"}),p.transforms=void 0,G.exports=p},3832:function(G,U,e){var g=e(3400),L=e(47128);function a(p,r){r._len=Math.min(r.u.length,r.v.length,r.w.length,r.x.length,r.y.length,r.z.length),r._u=v(r.u,r._len),r._v=v(r.v,r._len),r._w=v(r.w,r._len),r._x=v(r.x,r._len),r._y=v(r.y,r._len),r._z=v(r.z,r._len);var t=C(r);r._gridFill=t.fill,r._Xs=t.Xs,r._Ys=t.Ys,r._Zs=t.Zs,r._len=t.len;var s=0,n,f,u;r.starts&&(n=v(r.starts.x||[]),f=v(r.starts.y||[]),u=v(r.starts.z||[]),s=Math.min(n.length,f.length,u.length)),r._startsX=n||[],r._startsY=f||[],r._startsZ=u||[];var l=0,m=1/0,h;for(h=0;h<r._len;h++){var M=r._u[h],c=r._v[h],i=r._w[h],d=Math.sqrt(M*M+c*c+i*i);l=Math.max(l,d),m=Math.min(m,d)}for(L(p,r,{vals:[m,l],containerStr:"",cLetter:"c"}),h=0;h<s;h++){var b=n[h];t.xMax=Math.max(t.xMax,b),t.xMin=Math.min(t.xMin,b);var w=f[h];t.yMax=Math.max(t.yMax,w),t.yMin=Math.min(t.yMin,w);var E=u[h];t.zMax=Math.max(t.zMax,E),t.zMin=Math.min(t.zMin,E)}r._slen=s,r._normMax=l,r._xbnds=[t.xMin,t.xMax],r._ybnds=[t.yMin,t.yMax],r._zbnds=[t.zMin,t.zMax]}function C(p){var r=p._x,t=p._y,s=p._z,n=p._len,f,u,l,m=-1/0,h=1/0,M=-1/0,c=1/0,i=-1/0,d=1/0,b="",w,E,y,S,T,o,P,x,_;for(n&&(S=r[0],o=t[0],x=s[0]),n>1&&(T=r[n-1],P=t[n-1],_=s[n-1]),f=0;f<n;f++)m=Math.max(m,r[f]),h=Math.min(h,r[f]),M=Math.max(M,t[f]),c=Math.min(c,t[f]),i=Math.max(i,s[f]),d=Math.min(d,s[f]),!w&&r[f]!==S&&(w=!0,b+="x"),!E&&t[f]!==o&&(E=!0,b+="y"),!y&&s[f]!==x&&(y=!0,b+="z");w||(b+="x"),E||(b+="y"),y||(b+="z");var I=A(p._x),N=A(p._y),k=A(p._z);b=b.replace("x",(S>T?"-":"+")+"x"),b=b.replace("y",(o>P?"-":"+")+"y"),b=b.replace("z",(x>_?"-":"+")+"z");var F=function(){n=0,I=[],N=[],k=[]};(!n||n<I.length*N.length*k.length)&&F();var O=function(le){return le==="x"?r:le==="y"?t:s},z=function(le){return le==="x"?I:le==="y"?N:k},B=function(le){return le[n-1]<le[0]?-1:1},W=O(b[1]),q=O(b[3]),ee=O(b[5]),Q=z(b[1]).length,oe=z(b[3]).length,Z=z(b[5]).length,Y=!1,te=function(le,pe,Ae){return Q*(oe*le+pe)+Ae},X=B(O(b[1])),$=B(O(b[3])),ie=B(O(b[5]));for(f=0;f<Z-1;f++){for(u=0;u<oe-1;u++){for(l=0;l<Q-1;l++){var J=te(f,u,l),j=te(f,u,l+1),se=te(f,u+1,l),ne=te(f+1,u,l);if((!(W[J]*X<W[j]*X)||!(q[J]*$<q[se]*$)||!(ee[J]*ie<ee[ne]*ie))&&(Y=!0),Y)break}if(Y)break}if(Y)break}return Y&&(g.warn("Encountered arbitrary coordinates! Unable to input data grid."),F()),{xMin:h,yMin:c,zMin:d,xMax:m,yMax:M,zMax:i,Xs:I,Ys:N,Zs:k,len:n,fill:b}}function A(p){return g.distinctVals(p).vals}function v(p,r){if(r===void 0&&(r=p.length),g.isTypedArray(p))return p.subarray(0,r);for(var t=[],s=0;s<r;s++)t[s]=+p[s];return t}G.exports={calc:a,filter:v,processGrid:C}},25668:function(G,U,e){var g=e(67792).gl_streamtube3d,L=g.createTubeMesh,a=e(3400),C=e(33040).parseColorScale,A=e(8932).extractOpts,v=e(52094),p={xaxis:0,yaxis:1,zaxis:2};function r(l,m){this.scene=l,this.uid=m,this.mesh=null,this.data=null}var t=r.prototype;t.handlePick=function(l){var m=this.scene.fullSceneLayout,h=this.scene.dataScale;function M(d,b){var w=m[b],E=h[p[b]];return w.l2c(d)/E}if(l.object===this.mesh){var c=l.data.position,i=l.data.velocity;return l.traceCoordinate=[M(c[0],"xaxis"),M(c[1],"yaxis"),M(c[2],"zaxis"),M(i[0],"xaxis"),M(i[1],"yaxis"),M(i[2],"zaxis"),l.data.intensity*this.data._normMax,l.data.divergence],l.textLabel=this.data.hovertext||this.data.text,!0}};function s(l){var m=l.length,h;return m>2?h=l.slice(1,m-1):m===2?h=[(l[0]+l[1])/2]:h=l,h}function n(l){var m=l.length;return m===1?[.5,.5]:[l[1]-l[0],l[m-1]-l[m-2]]}function f(l,m){var h=l.fullSceneLayout,M=l.dataScale,c=m._len,i={};function d(oe,Z){var Y=h[Z],te=M[p[Z]];return a.simpleMap(oe,function(X){return Y.d2l(X)*te})}if(i.vectors=v(d(m._u,"xaxis"),d(m._v,"yaxis"),d(m._w,"zaxis"),c),!c)return{positions:[],cells:[]};var b=d(m._Xs,"xaxis"),w=d(m._Ys,"yaxis"),E=d(m._Zs,"zaxis");i.meshgrid=[b,w,E],i.gridFill=m._gridFill;var y=m._slen;if(y)i.startingPositions=v(d(m._startsX,"xaxis"),d(m._startsY,"yaxis"),d(m._startsZ,"zaxis"));else{for(var S=w[0],T=s(b),o=s(E),P=new Array(T.length*o.length),x=0,_=0;_<T.length;_++)for(var I=0;I<o.length;I++)P[x++]=[T[_],S,o[I]];i.startingPositions=P}i.colormap=C(m),i.tubeSize=m.sizeref,i.maxLength=m.maxdisplayed;var N=d(m._xbnds,"xaxis"),k=d(m._ybnds,"yaxis"),F=d(m._zbnds,"zaxis"),O=n(b),z=n(w),B=n(E),W=[[N[0]-O[0],k[0]-z[0],F[0]-B[0]],[N[1]+O[1],k[1]+z[1],F[1]+B[1]]],q=g(i,W),ee=A(m);q.vertexIntensityBounds=[ee.min/m._normMax,ee.max/m._normMax];var Q=m.lightposition;return q.lightPosition=[Q.x,Q.y,Q.z],q.ambient=m.lighting.ambient,q.diffuse=m.lighting.diffuse,q.specular=m.lighting.specular,q.roughness=m.lighting.roughness,q.fresnel=m.lighting.fresnel,q.opacity=m.opacity,m._pad=q.tubeScale*m.sizeref*2,q}t.update=function(l){this.data=l;var m=f(this.scene,l);this.mesh.update(m)},t.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function u(l,m){var h=l.glplot.gl,M=f(l,m),c=L(h,M),i=new r(l,m.uid);return i.mesh=c,i.data=m,c._trace=i,l.glplot.add(c),i}G.exports=u},54304:function(G,U,e){var g=e(3400),L=e(27260),a=e(90167);G.exports=function(A,v,p,r){function t(h,M){return g.coerce(A,v,a,h,M)}var s=t("u"),n=t("v"),f=t("w"),u=t("x"),l=t("y"),m=t("z");if(!s||!s.length||!n||!n.length||!f||!f.length||!u||!u.length||!l||!l.length||!m||!m.length){v.visible=!1;return}t("starts.x"),t("starts.y"),t("starts.z"),t("maxdisplayed"),t("sizeref"),t("lighting.ambient"),t("lighting.diffuse"),t("lighting.specular"),t("lighting.roughness"),t("lighting.fresnel"),t("lightposition.x"),t("lightposition.y"),t("lightposition.z"),L(A,v,r,t,{prefix:"",cLetter:"c"}),t("text"),t("hovertext"),t("hovertemplate"),t("uhoverformat"),t("vhoverformat"),t("whoverformat"),t("xhoverformat"),t("yhoverformat"),t("zhoverformat"),v._length=null}},15436:function(G,U,e){G.exports={moduleType:"trace",name:"streamtube",basePlotModule:e(12536),categories:["gl3d","showLegend"],attributes:e(90167),supplyDefaults:e(54304),colorbar:{min:"cmin",max:"cmax"},calc:e(3832).calc,plot:e(25668),eventData:function(g,L){return g.tubex=g.x,g.tubey=g.y,g.tubez=g.z,g.tubeu=L.traceCoordinate[3],g.tubev=L.traceCoordinate[4],g.tubew=L.traceCoordinate[5],g.norm=L.traceCoordinate[6],g.divergence=L.traceCoordinate[7],delete g.x,delete g.y,delete g.z,g},meta:{}}},424:function(G,U,e){var g=e(45464),L=e(21776).Ks,a=e(21776).Gw,C=e(49084),A=e(86968).u,v=e(74996),p=e(27328),r=e(92880).extendFlat,t=e(98192).c;G.exports={labels:{valType:"data_array",editType:"calc"},parents:{valType:"data_array",editType:"calc"},values:{valType:"data_array",editType:"calc"},branchvalues:{valType:"enumerated",values:["remainder","total"],dflt:"remainder",editType:"calc"},count:{valType:"flaglist",flags:["branches","leaves"],dflt:"leaves",editType:"calc"},level:{valType:"any",editType:"plot",anim:!0},maxdepth:{valType:"integer",editType:"plot",dflt:-1},marker:r({colors:{valType:"data_array",editType:"calc"},line:{color:r({},v.marker.line.color,{dflt:null}),width:r({},v.marker.line.width,{dflt:1}),editType:"calc"},pattern:t,editType:"calc"},C("marker",{colorAttr:"colors",anim:!1})),leaf:{opacity:{valType:"number",editType:"style",min:0,max:1},editType:"plot"},text:v.text,textinfo:{valType:"flaglist",flags:["label","text","value","current path","percent root","percent entry","percent parent"],extras:["none"],editType:"plot"},texttemplate:a({editType:"plot"},{keys:p.eventDataKeys.concat(["label","value"])}),hovertext:v.hovertext,hoverinfo:r({},g.hoverinfo,{flags:["label","text","value","name","current path","percent root","percent entry","percent parent"],dflt:"label+text+value+name"}),hovertemplate:L({},{keys:p.eventDataKeys}),textfont:v.textfont,insidetextorientation:v.insidetextorientation,insidetextfont:v.insidetextfont,outsidetextfont:r({},v.outsidetextfont,{}),rotation:{valType:"angle",dflt:0,editType:"plot"},sort:v.sort,root:{color:{valType:"color",editType:"calc",dflt:"rgba(0,0,0,0)"},editType:"calc"},domain:A({name:"sunburst",trace:!0,editType:"calc"})}},54904:function(G,U,e){var g=e(7316);U.name="sunburst",U.plot=function(L,a,C,A){g.plotBasePlot(U.name,L,a,C,A)},U.clean=function(L,a,C,A){g.cleanBasePlot(U.name,L,a,C,A)}},3776:function(G,U,e){var g=e(74148),L=e(38248),a=e(3400),C=e(8932).makeColorScaleFuncFromTrace,A=e(45768).makePullColorFn,v=e(45768).generateExtendedColors,p=e(8932).calc,r=e(39032).ALMOST_EQUAL,t={},s={},n={};U.calc=function(u,l){var m=u._fullLayout,h=l.ids,M=a.isArrayOrTypedArray(h),c=l.labels,i=l.parents,d=l.values,b=a.isArrayOrTypedArray(d),w=[],E={},y={},S=function(X,$){E[X]?E[X].push($):E[X]=[$],y[$]=1},T=function(X){return X||typeof X=="number"},o=function(X){return!b||L(d[X])&&d[X]>=0},P,x,_;M?(P=Math.min(h.length,i.length),x=function(X){return T(h[X])&&o(X)},_=function(X){return String(h[X])}):(P=Math.min(c.length,i.length),x=function(X){return T(c[X])&&o(X)},_=function(X){return String(c[X])}),b&&(P=Math.min(P,d.length));for(var I=0;I<P;I++)if(x(I)){var N=_(I),k=T(i[I])?String(i[I]):"",F={i:I,id:N,pid:k,label:T(c[I])?String(c[I]):""};b&&(F.v=+d[I]),w.push(F),S(k,N)}if(E[""]){if(E[""].length>1){for(var B=a.randstr(),W=0;W<w.length;W++)w[W].pid===""&&(w[W].pid=B);w.unshift({hasMultipleRoots:!0,id:B,pid:"",label:""})}}else{var O=[],z;for(z in E)y[z]||O.push(z);if(O.length===1)z=O[0],w.unshift({hasImpliedRoot:!0,id:z,pid:"",label:z});else return a.warn(["Multiple implied roots, cannot build",l.type,"hierarchy of",l.name+".","These roots include:",O.join(", ")].join(" "))}var q;try{q=g.stratify().id(function(X){return X.id}).parentId(function(X){return X.pid})(w)}catch(X){return a.warn(["Failed to build",l.type,"hierarchy of",l.name+".","Error:",X.message].join(" "))}var ee=g.hierarchy(q),Q=!1;if(b)switch(l.branchvalues){case"remainder":ee.sum(function(X){return X.data.v});break;case"total":ee.each(function(X){var $=X.data.data,ie=$.v;if(X.children){var J=X.children.reduce(function(j,se){return j+se.data.data.v},0);if(($.hasImpliedRoot||$.hasMultipleRoots)&&(ie=J),ie<J*r)return Q=!0,a.warn(["Total value for node",X.data.data.id,"of",l.name,"is smaller than the sum of its children.",`
parent value =`,ie,`
children sum =`,J].join(" "))}X.value=ie});break}else f(ee,l,{branches:l.count.indexOf("branches")!==-1,leaves:l.count.indexOf("leaves")!==-1});if(!Q){l.sort&&ee.sort(function(X,$){return $.value-X.value});var oe,Z,Y=l.marker.colors||[],te=!!Y.length;return l._hasColorscale?(te||(Y=b?l.values:l._values),p(u,l,{vals:Y,containerStr:"marker",cLetter:"c"}),Z=C(l.marker)):oe=A(m["_"+l.type+"colormap"]),ee.each(function(X){var $=X.data.data;$.color=l._hasColorscale?Z(Y[$.i]):oe(Y[$.i],$.id)}),w[0].hierarchy=ee,w}},U._runCrossTraceCalc=function(u,l){var m=l._fullLayout,h=l.calcdata,M=m[u+"colorway"],c=m["_"+u+"colormap"];m["extend"+u+"colors"]&&(M=v(M,u==="icicle"?n:u==="treemap"?s:t));var i=0,d;function b(S){var T=S.data.data,o=T.id;T.color===!1&&(c[o]?T.color=c[o]:S.parent?S.parent.parent?T.color=S.parent.data.data.color:(c[o]=T.color=M[i%M.length],i++):T.color=d)}for(var w=0;w<h.length;w++){var E=h[w],y=E[0];y.trace.type===u&&y.hierarchy&&(d=y.trace.root.color,y.hierarchy.each(b))}},U.crossTraceCalc=function(u){return U._runCrossTraceCalc("sunburst",u)};function f(u,l,m){var h=0,M=u.children;if(M){for(var c=M.length,i=0;i<c;i++)h+=f(M[i],l,m);m.branches&&h++}else m.leaves&&h++;return u.value=u.data.data.value=h,l._values||(l._values=[]),l._values[u.data.data.i]=h,h}},27328:function(G){G.exports={CLICK_TRANSITION_TIME:750,CLICK_TRANSITION_EASING:"linear",eventDataKeys:["currentPath","root","entry","percentRoot","percentEntry","percentParent"]}},25244:function(G,U,e){var g=e(3400),L=e(424),a=e(86968).Q,C=e(31508).handleText,A=e(74174).handleMarkerDefaults,v=e(8932),p=v.hasColorscale,r=v.handleDefaults;G.exports=function(s,n,f,u){function l(b,w){return g.coerce(s,n,L,b,w)}var m=l("labels"),h=l("parents");if(!m||!m.length||!h||!h.length){n.visible=!1;return}var M=l("values");M&&M.length?l("branchvalues"):l("count"),l("level"),l("maxdepth"),A(s,n,u,l);var c=n._hasColorscale=p(s,"marker","colors")||(s.marker||{}).coloraxis;c&&r(s,n,u,l,{prefix:"marker.",cLetter:"c"}),l("leaf.opacity",c?1:.7);var i=l("text");l("texttemplate"),n.texttemplate||l("textinfo",g.isArrayOrTypedArray(i)?"text+label":"label"),l("hovertext"),l("hovertemplate");var d="auto";C(s,n,u,l,d,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),l("insidetextorientation"),l("sort"),l("rotation"),l("root.color"),a(n,u,l),n._length=null}},60404:function(G,U,e){var g=e(43616),L=e(76308);G.exports=function(C,A,v,p,r){var t=A.data.data,s=t.i,n=r||t.color;if(s>=0){A.i=t.i;var f=v.marker;f.pattern?(!f.colors||!f.pattern.shape)&&(f.color=n,A.color=n):(f.color=n,A.color=n),g.pointStyle(C,v,p,A)}else L.fill(C,n)}},45716:function(G,U,e){var g=e(33428),L=e(24040),a=e(10624).appendArrayPointValue,C=e(93024),A=e(3400),v=e(95924),p=e(78176),r=e(69656),t=r.formatPieValue;G.exports=function(f,u,l,m,h){var M=m[0],c=M.trace,i=M.hierarchy,d=c.type==="sunburst",b=c.type==="treemap"||c.type==="icicle";"_hasHoverLabel"in c||(c._hasHoverLabel=!1),"_hasHoverEvent"in c||(c._hasHoverEvent=!1);var w=function(S){var T=l._fullLayout;if(!(l._dragging||T.hovermode===!1)){var o=l._fullData[c.index],P=S.data.data,x=P.i,_=p.isHierarchyRoot(S),I=p.getParent(i,S),N=p.getValue(S),k=function(j){return A.castOption(o,x,j)},F=k("hovertemplate"),O=C.castHoverinfo(o,T,x),z=T.separators,B;if(F||O&&O!=="none"&&O!=="skip"){var W,q;d&&(W=M.cx+S.pxmid[0]*(1-S.rInscribed),q=M.cy+S.pxmid[1]*(1-S.rInscribed)),b&&(W=S._hoverX,q=S._hoverY);var ee={},Q=[],oe=[],Z=function(j){return Q.indexOf(j)!==-1};O&&(Q=O==="all"?o._module.attributes.hoverinfo.flags:O.split("+")),ee.label=P.label,Z("label")&&ee.label&&oe.push(ee.label),P.hasOwnProperty("v")&&(ee.value=P.v,ee.valueLabel=t(ee.value,z),Z("value")&&oe.push(ee.valueLabel)),ee.currentPath=S.currentPath=p.getPath(S.data),Z("current path")&&!_&&oe.push(ee.currentPath);var Y,te=[],X=function(){te.indexOf(Y)===-1&&(oe.push(Y),te.push(Y))};ee.percentParent=S.percentParent=N/p.getValue(I),ee.parent=S.parentString=p.getPtLabel(I),Z("percent parent")&&(Y=p.formatPercent(ee.percentParent,z)+" of "+ee.parent,X()),ee.percentEntry=S.percentEntry=N/p.getValue(u),ee.entry=S.entry=p.getPtLabel(u),Z("percent entry")&&!_&&!S.onPathbar&&(Y=p.formatPercent(ee.percentEntry,z)+" of "+ee.entry,X()),ee.percentRoot=S.percentRoot=N/p.getValue(i),ee.root=S.root=p.getPtLabel(i),Z("percent root")&&!_&&(Y=p.formatPercent(ee.percentRoot,z)+" of "+ee.root,X()),ee.text=k("hovertext")||k("text"),Z("text")&&(Y=ee.text,A.isValidTextValue(Y)&&oe.push(Y)),B=[s(S,o,h.eventDataKeys)];var $={trace:o,y:q,_x0:S._x0,_x1:S._x1,_y0:S._y0,_y1:S._y1,text:oe.join("<br>"),name:F||Z("name")?o.name:void 0,color:k("hoverlabel.bgcolor")||P.color,borderColor:k("hoverlabel.bordercolor"),fontFamily:k("hoverlabel.font.family"),fontSize:k("hoverlabel.font.size"),fontColor:k("hoverlabel.font.color"),nameLength:k("hoverlabel.namelength"),textAlign:k("hoverlabel.align"),hovertemplate:F,hovertemplateLabels:ee,eventData:B};d&&($.x0=W-S.rInscribed*S.rpx1,$.x1=W+S.rInscribed*S.rpx1,$.idealAlign=S.pxmid[0]<0?"left":"right"),b&&($.x=W,$.idealAlign=W<0?"left":"right");var ie=[];C.loneHover($,{container:T._hoverlayer.node(),outerContainer:T._paper.node(),gd:l,inOut_bbox:ie}),B[0].bbox=ie[0],c._hasHoverLabel=!0}if(b){var J=f.select("path.surface");h.styleOne(J,S,o,l,{hovered:!0})}c._hasHoverEvent=!0,l.emit("plotly_hover",{points:B||[s(S,o,h.eventDataKeys)],event:g.event})}},E=function(S){var T=l._fullLayout,o=l._fullData[c.index],P=g.select(this).datum();if(c._hasHoverEvent&&(S.originalEvent=g.event,l.emit("plotly_unhover",{points:[s(P,o,h.eventDataKeys)],event:g.event}),c._hasHoverEvent=!1),c._hasHoverLabel&&(C.loneUnhover(T._hoverlayer.node()),c._hasHoverLabel=!1),b){var x=f.select("path.surface");h.styleOne(x,P,o,l,{hovered:!1})}},y=function(S){var T=l._fullLayout,o=l._fullData[c.index],P=d&&(p.isHierarchyRoot(S)||p.isLeaf(S)),x=p.getPtId(S),_=p.isEntry(S)?p.findEntryWithChild(i,x):p.findEntryWithLevel(i,x),I=p.getPtId(_),N={points:[s(S,o,h.eventDataKeys)],event:g.event};P||(N.nextLevel=I);var k=v.triggerHandler(l,"plotly_"+c.type+"click",N);if(k!==!1&&T.hovermode&&(l._hoverdata=[s(S,o,h.eventDataKeys)],C.click(l,g.event)),!P&&k!==!1&&!l._dragging&&!l._transitioning){L.call("_storeDirectGUIEdit",o,T._tracePreGUI[o.uid],{level:o.level});var F={data:[{level:I}],traces:[c.index]},O={frame:{redraw:!1,duration:h.transitionTime},transition:{duration:h.transitionTime,easing:h.transitionEasing},mode:"immediate",fromcurrent:!0};C.loneUnhover(T._hoverlayer.node()),L.call("animate",l,F,O)}};f.on("mouseover",w),f.on("mouseout",E),f.on("click",y)};function s(n,f,u){for(var l=n.data.data,m={curveNumber:f.index,pointNumber:l.i,data:f._input,fullData:f},h=0;h<u.length;h++){var M=u[h];M in n&&(m[M]=n[M])}return"parentString"in n&&!p.isHierarchyRoot(n)&&(m.parent=n.parentString),a(m,f,l.i),m}},78176:function(G,U,e){var g=e(3400),L=e(76308),a=e(93972),C=e(69656);U.findEntryWithLevel=function(r,t){var s;return t&&r.eachAfter(function(n){if(U.getPtId(n)===t)return s=n.copy()}),s||r},U.findEntryWithChild=function(r,t){var s;return r.eachAfter(function(n){for(var f=n.children||[],u=0;u<f.length;u++){var l=f[u];if(U.getPtId(l)===t)return s=n.copy()}}),s||r},U.isEntry=function(r){return!r.parent},U.isLeaf=function(r){return!r.children},U.getPtId=function(r){return r.data.data.id},U.getPtLabel=function(r){return r.data.data.label},U.getValue=function(r){return r.value},U.isHierarchyRoot=function(r){return p(r)===""},U.setSliceCursor=function(r,t,s){var n=s.isTransitioning;if(!n){var f=r.datum();n=s.hideOnRoot&&U.isHierarchyRoot(f)||s.hideOnLeaves&&U.isLeaf(f)}a(r,n?null:"pointer")};function A(r,t,s){return{color:U.getOutsideTextFontKey("color",r,t,s),family:U.getOutsideTextFontKey("family",r,t,s),size:U.getOutsideTextFontKey("size",r,t,s)}}function v(r,t,s,n){var f=(n||{}).onPathbar,u=t.data.data,l=u.i,m=g.castOption(r,l,(f?"pathbar.textfont":"insidetextfont")+".color");return!m&&r._input.textfont&&(m=g.castOption(r._input,l,"textfont.color")),{color:m||L.contrast(u.color),family:U.getInsideTextFontKey("family",r,t,s,n),size:U.getInsideTextFontKey("size",r,t,s,n)}}U.getInsideTextFontKey=function(r,t,s,n,f){var u=(f||{}).onPathbar,l=u?"pathbar.textfont":"insidetextfont",m=s.data.data.i;return g.castOption(t,m,l+"."+r)||g.castOption(t,m,"textfont."+r)||n.size},U.getOutsideTextFontKey=function(r,t,s,n){var f=s.data.data.i;return g.castOption(t,f,"outsidetextfont."+r)||g.castOption(t,f,"textfont."+r)||n.size},U.isOutsideText=function(r,t){return!r._hasColorscale&&U.isHierarchyRoot(t)},U.determineTextFont=function(r,t,s,n){return U.isOutsideText(r,t)?A(r,t,s):v(r,t,s,n)},U.hasTransition=function(r){return!!(r&&r.duration>0)},U.getMaxDepth=function(r){return r.maxdepth>=0?r.maxdepth:1/0},U.isHeader=function(r,t){return!(U.isLeaf(r)||r.depth===t._maxDepth-1)};function p(r){return r.data.data.pid}U.getParent=function(r,t){return U.findEntryWithLevel(r,p(t))},U.listPath=function(r,t){var s=r.parent;if(!s)return[];var n=t?[s.data[t]]:[s];return U.listPath(s,t).concat(n)},U.getPath=function(r){return U.listPath(r,"label").join("/")+"/"},U.formatValue=C.formatPieValue,U.formatPercent=function(r,t){var s=g.formatPercent(r,0);return s==="0%"&&(s=C.formatPiePercent(r,t)),s}},5621:function(G,U,e){G.exports={moduleType:"trace",name:"sunburst",basePlotModule:e(54904),categories:[],animatable:!0,attributes:e(424),layoutAttributes:e(84920),supplyDefaults:e(25244),supplyLayoutDefaults:e(28732),calc:e(3776).calc,crossTraceCalc:e(3776).crossTraceCalc,plot:e(96488).plot,style:e(85676).style,colorbar:e(5528),meta:{}}},84920:function(G){G.exports={sunburstcolorway:{valType:"colorlist",editType:"calc"},extendsunburstcolors:{valType:"boolean",dflt:!0,editType:"calc"}}},28732:function(G,U,e){var g=e(3400),L=e(84920);G.exports=function(C,A){function v(p,r){return g.coerce(C,A,L,p,r)}v("sunburstcolorway",A.colorway),v("extendsunburstcolors")}},96488:function(G,U,e){var g=e(33428),L=e(74148),a=e(67756).qy,C=e(43616),A=e(3400),v=e(72736),p=e(82744),r=p.recordMinTextSize,t=p.clearMinTextSize,s=e(37820),n=e(69656).getRotationAngle,f=s.computeTransform,u=s.transformInsideText,l=e(85676).styleOne,m=e(60100).resizeText,h=e(45716),M=e(27328),c=e(78176);U.plot=function(y,S,T,o){var P=y._fullLayout,x=P._sunburstlayer,_,I,N=!T,k=!P.uniformtext.mode&&c.hasTransition(T);if(t("sunburst",P),_=x.selectAll("g.trace.sunburst").data(S,function(O){return O[0].trace.uid}),_.enter().append("g").classed("trace",!0).classed("sunburst",!0).attr("stroke-linejoin","round"),_.order(),k){o&&(I=o());var F=g.transition().duration(T.duration).ease(T.easing).each("end",function(){I&&I()}).each("interrupt",function(){I&&I()});F.each(function(){x.selectAll("g.trace").each(function(O){i(y,O,this,T)})})}else _.each(function(O){i(y,O,this,T)}),P.uniformtext.mode&&m(y,P._sunburstlayer.selectAll(".trace"),"sunburst");N&&_.exit().remove()};function i(y,S,T,o){var P=y._context.staticPlot,x=y._fullLayout,_=!x.uniformtext.mode&&c.hasTransition(o),I=g.select(T),N=I.selectAll("g.slice"),k=S[0],F=k.trace,O=k.hierarchy,z=c.findEntryWithLevel(O,F.level),B=c.getMaxDepth(F),W=x._size,q=F.domain,ee=W.w*(q.x[1]-q.x[0]),Q=W.h*(q.y[1]-q.y[0]),oe=.5*Math.min(ee,Q),Z=k.cx=W.l+W.w*(q.x[1]+q.x[0])/2,Y=k.cy=W.t+W.h*(1-q.y[0])-Q/2;if(!z)return N.remove();var te=null,X={};_&&N.each(function(Ue){X[c.getPtId(Ue)]={rpx0:Ue.rpx0,rpx1:Ue.rpx1,x0:Ue.x0,x1:Ue.x1,transform:Ue.transform},!te&&c.isEntry(Ue)&&(te=Ue)});var $=d(z).descendants(),ie=z.height+1,J=0,j=B;k.hasMultipleRoots&&c.isHierarchyRoot(z)&&($=$.slice(1),ie-=1,J=1,j+=1),$=$.filter(function(Ue){return Ue.y1<=j});var se=n(F.rotation);se&&$.forEach(function(Ue){Ue.x0+=se,Ue.x1+=se});var ne=Math.min(ie,B),le=function(Ue){return(Ue-J)/ne*oe},pe=function(Ue,it){return[Ue*Math.cos(it),-Ue*Math.sin(it)]},Ae=function(Ue){return A.pathAnnulus(Ue.rpx0,Ue.rpx1,Ue.x0,Ue.x1,Z,Y)},be=function(Ue){return Z+w(Ue)[0]*(Ue.transform.rCenter||0)+(Ue.transform.x||0)},Re=function(Ue){return Y+w(Ue)[1]*(Ue.transform.rCenter||0)+(Ue.transform.y||0)};N=N.data($,c.getPtId),N.enter().append("g").classed("slice",!0),_?N.exit().transition().each(function(){var Ue=g.select(this),it=Ue.select("path.surface");it.transition().attrTween("d",function($e){var qe=Se($e);return function(ft){return Ae(qe(ft))}});var lt=Ue.select("g.slicetext");lt.attr("opacity",0)}).remove():N.exit().remove(),N.order();var xe=null;if(_&&te){var Me=c.getPtId(te);N.each(function(Ue){xe===null&&c.getPtId(Ue)===Me&&(xe=Ue.x1)})}var ye=N;_&&(ye=ye.transition().each("end",function(){var Ue=g.select(this);c.setSliceCursor(Ue,y,{hideOnRoot:!0,hideOnLeaves:!0,isTransitioning:!1})})),ye.each(function(Ue){var it=g.select(this),lt=A.ensureSingle(it,"path","surface",function(yt){yt.style("pointer-events",P?"none":"all")});Ue.rpx0=le(Ue.y0),Ue.rpx1=le(Ue.y1),Ue.xmid=(Ue.x0+Ue.x1)/2,Ue.pxmid=pe(Ue.rpx1,Ue.xmid),Ue.midangle=-(Ue.xmid-Math.PI/2),Ue.startangle=-(Ue.x0-Math.PI/2),Ue.stopangle=-(Ue.x1-Math.PI/2),Ue.halfangle=.5*Math.min(A.angleDelta(Ue.x0,Ue.x1)||Math.PI,Math.PI),Ue.ring=1-Ue.rpx0/Ue.rpx1,Ue.rInscribed=b(Ue),_?lt.transition().attrTween("d",function(yt){var Et=Fe(yt);return function(tt){return Ae(Et(tt))}}):lt.attr("d",Ae),it.call(h,z,y,S,{eventDataKeys:M.eventDataKeys,transitionTime:M.CLICK_TRANSITION_TIME,transitionEasing:M.CLICK_TRANSITION_EASING}).call(c.setSliceCursor,y,{hideOnRoot:!0,hideOnLeaves:!0,isTransitioning:y._transitioning}),lt.call(l,Ue,F,y);var $e=A.ensureSingle(it,"g","slicetext"),qe=A.ensureSingle($e,"text","",function(yt){yt.attr("data-notex",1)}),ft=A.ensureUniformFontSize(y,c.determineTextFont(F,Ue,x.font));qe.text(U.formatSliceLabel(Ue,z,F,S,x)).classed("slicetext",!0).attr("text-anchor","middle").call(C.font,ft).call(v.convertToTspans,y);var ct=C.bBox(qe.node());Ue.transform=u(ct,Ue,k),Ue.transform.targetX=be(Ue),Ue.transform.targetY=Re(Ue);var pt=function(yt,Et){var tt=yt.transform;return f(tt,Et),tt.fontSize=ft.size,r(F.type,tt,x),A.getTextTransform(tt)};_?qe.transition().attrTween("transform",function(yt){var Et=Be(yt);return function(tt){return pt(Et(tt),ct)}}):qe.attr("transform",pt(Ue,ct))});function Se(Ue){var it=c.getPtId(Ue),lt=X[it],$e=X[c.getPtId(z)],qe;if($e){var ft=(Ue.x1>$e.x1?2*Math.PI:0)+se;qe=Ue.rpx1<$e.rpx1?{x0:Ue.x0,x1:Ue.x1,rpx0:0,rpx1:0}:{x0:ft,x1:ft,rpx0:Ue.rpx0,rpx1:Ue.rpx1}}else{var ct,pt=c.getPtId(Ue.parent);N.each(function(We){if(c.getPtId(We)===pt)return ct=We});var yt=ct.children,Et;yt.forEach(function(We,Ze){if(c.getPtId(We)===it)return Et=Ze});var tt=yt.length,Ie=a(ct.x0,ct.x1);qe={rpx0:oe,rpx1:oe,x0:Ie(Et/tt),x1:Ie((Et+1)/tt)}}return a(lt,qe)}function Fe(Ue){var it=X[c.getPtId(Ue)],lt,$e={x0:Ue.x0,x1:Ue.x1,rpx0:Ue.rpx0,rpx1:Ue.rpx1};if(it)lt=it;else if(te)if(Ue.parent)if(xe){var qe=(Ue.x1>xe?2*Math.PI:0)+se;lt={x0:qe,x1:qe}}else lt={rpx0:oe,rpx1:oe},A.extendFlat(lt,_e(Ue));else lt={rpx0:0,rpx1:0};else lt={x0:se,x1:se};return a(lt,$e)}function Be(Ue){var it=X[c.getPtId(Ue)],lt,$e=Ue.transform;if(it)lt=it;else if(lt={rpx1:Ue.rpx1,transform:{textPosAngle:$e.textPosAngle,scale:0,rotate:$e.rotate,rCenter:$e.rCenter,x:$e.x,y:$e.y}},te)if(Ue.parent)if(xe){var qe=Ue.x1>xe?2*Math.PI:0;lt.x0=lt.x1=qe}else A.extendFlat(lt,_e(Ue));else lt.x0=lt.x1=se;else lt.x0=lt.x1=se;var ft=a(lt.transform.textPosAngle,Ue.transform.textPosAngle),ct=a(lt.rpx1,Ue.rpx1),pt=a(lt.x0,Ue.x0),yt=a(lt.x1,Ue.x1),Et=a(lt.transform.scale,$e.scale),tt=a(lt.transform.rotate,$e.rotate),Ie=$e.rCenter===0?3:lt.transform.rCenter===0?1/3:1,We=a(lt.transform.rCenter,$e.rCenter),Ze=function(He){return We(Math.pow(He,Ie))};return function(He){var De=ct(He),me=pt(He),ge=yt(He),Ee=Ze(He),Te=pe(De,(me+ge)/2),ze=ft(He),Xe={pxmid:Te,rpx1:De,transform:{textPosAngle:ze,rCenter:Ee,x:$e.x,y:$e.y}};return r(F.type,$e,x),{transform:{targetX:be(Xe),targetY:Re(Xe),scale:Et(He),rotate:tt(He),rCenter:Ee}}}}function _e(Ue){var it=Ue.parent,lt=X[c.getPtId(it)],$e={};if(lt){var qe=it.children,ft=qe.indexOf(Ue),ct=qe.length,pt=a(lt.x0,lt.x1);$e.x0=pt(ft/ct),$e.x1=pt(ft/ct)}else $e.x0=$e.x1=0;return $e}}function d(y){return L.partition().size([2*Math.PI,y.height+1])(y)}U.formatSliceLabel=function(y,S,T,o,P){var x=T.texttemplate,_=T.textinfo;if(!x&&(!_||_==="none"))return"";var I=P.separators,N=o[0],k=y.data.data,F=N.hierarchy,O=c.isHierarchyRoot(y),z=c.getParent(F,y),B=c.getValue(y);if(!x){var W=_.split("+"),q=function(J){return W.indexOf(J)!==-1},ee=[],Q;if(q("label")&&k.label&&ee.push(k.label),k.hasOwnProperty("v")&&q("value")&&ee.push(c.formatValue(k.v,I)),!O){q("current path")&&ee.push(c.getPath(y.data));var oe=0;q("percent parent")&&oe++,q("percent entry")&&oe++,q("percent root")&&oe++;var Z=oe>1;if(oe){var Y,te=function(J){Q=c.formatPercent(Y,I),Z&&(Q+=" of "+J),ee.push(Q)};q("percent parent")&&!O&&(Y=B/c.getValue(z),te("parent")),q("percent entry")&&(Y=B/c.getValue(S),te("entry")),q("percent root")&&(Y=B/c.getValue(F),te("root"))}}return q("text")&&(Q=A.castOption(T,k.i,"text"),A.isValidTextValue(Q)&&ee.push(Q)),ee.join("<br>")}var X=A.castOption(T,k.i,"texttemplate");if(!X)return"";var $={};k.label&&($.label=k.label),k.hasOwnProperty("v")&&($.value=k.v,$.valueLabel=c.formatValue(k.v,I)),$.currentPath=c.getPath(y.data),O||($.percentParent=B/c.getValue(z),$.percentParentLabel=c.formatPercent($.percentParent,I),$.parent=c.getPtLabel(z)),$.percentEntry=B/c.getValue(S),$.percentEntryLabel=c.formatPercent($.percentEntry,I),$.entry=c.getPtLabel(S),$.percentRoot=B/c.getValue(F),$.percentRootLabel=c.formatPercent($.percentRoot,I),$.root=c.getPtLabel(F),k.hasOwnProperty("color")&&($.color=k.color);var ie=A.castOption(T,k.i,"text");return(A.isValidTextValue(ie)||ie==="")&&($.text=ie),$.customdata=A.castOption(T,k.i,"customdata"),A.texttemplateString(X,$,P._d3locale,$,T._meta||{})};function b(y){return y.rpx0===0&&A.isFullCircle([y.x0,y.x1])?1:Math.max(0,Math.min(1/(1+1/Math.sin(y.halfangle)),y.ring/2))}function w(y){return E(y.rpx1,y.transform.textPosAngle)}function E(y,S){return[y*Math.sin(S),-y*Math.cos(S)]}},85676:function(G,U,e){var g=e(33428),L=e(76308),a=e(3400),C=e(82744).resizeText,A=e(60404);function v(r){var t=r._fullLayout._sunburstlayer.selectAll(".trace");C(r,t,"sunburst"),t.each(function(s){var n=g.select(this),f=s[0],u=f.trace;n.style("opacity",u.opacity),n.selectAll("path.surface").each(function(l){g.select(this).call(p,l,u,r)})})}function p(r,t,s,n){var f=t.data.data,u=!t.children,l=f.i,m=a.castOption(s,l,"marker.line.color")||L.defaultLine,h=a.castOption(s,l,"marker.line.width")||0;r.call(A,t,s,n).style("stroke-width",h).call(L.stroke,m).style("opacity",u?s.leaf.opacity:null)}G.exports={style:v,styleOne:p}},16716:function(G,U,e){var g=e(76308),L=e(49084),a=e(29736).axisHoverFormat,C=e(21776).Ks,A=e(45464),v=e(92880).extendFlat,p=e(67824).overrideAll;function r(n){return{valType:"boolean",dflt:!1}}function t(n){return{show:{valType:"boolean",dflt:!1},start:{valType:"number",dflt:null,editType:"plot"},end:{valType:"number",dflt:null,editType:"plot"},size:{valType:"number",dflt:null,min:0,editType:"plot"},project:{x:r(),y:r(),z:r()},color:{valType:"color",dflt:g.defaultLine},usecolormap:{valType:"boolean",dflt:!1},width:{valType:"number",min:1,max:16,dflt:2},highlight:{valType:"boolean",dflt:!0},highlightcolor:{valType:"color",dflt:g.defaultLine},highlightwidth:{valType:"number",min:1,max:16,dflt:2}}}var s=G.exports=p(v({z:{valType:"data_array"},x:{valType:"data_array"},y:{valType:"data_array"},text:{valType:"string",dflt:"",arrayOk:!0},hovertext:{valType:"string",dflt:"",arrayOk:!0},hovertemplate:C(),xhoverformat:a("x"),yhoverformat:a("y"),zhoverformat:a("z"),connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},surfacecolor:{valType:"data_array"}},L("",{colorAttr:"z or surfacecolor",showScaleDflt:!0,autoColorDflt:!1,editTypeOverride:"calc"}),{contours:{x:t(),y:t(),z:t()},hidesurface:{valType:"boolean",dflt:!1},lightposition:{x:{valType:"number",min:-1e5,max:1e5,dflt:10},y:{valType:"number",min:-1e5,max:1e5,dflt:1e4},z:{valType:"number",min:-1e5,max:1e5,dflt:0}},lighting:{ambient:{valType:"number",min:0,max:1,dflt:.8},diffuse:{valType:"number",min:0,max:1,dflt:.8},specular:{valType:"number",min:0,max:2,dflt:.05},roughness:{valType:"number",min:0,max:1,dflt:.5},fresnel:{valType:"number",min:0,max:5,dflt:.2}},opacity:{valType:"number",min:0,max:1,dflt:1},opacityscale:{valType:"any",editType:"calc"},_deprecated:{zauto:v({},L.zauto,{}),zmin:v({},L.zmin,{}),zmax:v({},L.zmax,{})},hoverinfo:v({},A.hoverinfo),showlegend:v({},A.showlegend,{dflt:!1})}),"calc","nested");s.x.editType=s.y.editType=s.z.editType="calc+clearAxisTypes",s.transforms=void 0},56576:function(G,U,e){var g=e(47128);G.exports=function(a,C){C.surfacecolor?g(a,C,{vals:C.surfacecolor,containerStr:"",cLetter:"c"}):g(a,C,{vals:C.z,containerStr:"",cLetter:"c"})}},79164:function(G,U,e){var g=e(67792).gl_surface3d,L=e(67792).ndarray,a=e(67792).ndarray_linear_interpolate.d2,C=e(70448),A=e(11240),v=e(3400).isArrayOrTypedArray,p=e(33040).parseColorScale,r=e(43080),t=e(8932).extractOpts;function s(o,P,x){this.scene=o,this.uid=x,this.surface=P,this.data=null,this.showContour=[!1,!1,!1],this.contourStart=[null,null,null],this.contourEnd=[null,null,null],this.contourSize=[0,0,0],this.minValues=[1/0,1/0,1/0],this.maxValues=[-1/0,-1/0,-1/0],this.dataScaleX=1,this.dataScaleY=1,this.refineData=!0,this.objectOffset=[0,0,0]}var n=s.prototype;n.getXat=function(o,P,x,_){var I=v(this.data.x)?v(this.data.x[0])?this.data.x[P][o]:this.data.x[o]:o;return x===void 0?I:_.d2l(I,0,x)},n.getYat=function(o,P,x,_){var I=v(this.data.y)?v(this.data.y[0])?this.data.y[P][o]:this.data.y[P]:P;return x===void 0?I:_.d2l(I,0,x)},n.getZat=function(o,P,x,_){var I=this.data.z[P][o];return I===null&&this.data.connectgaps&&this.data._interpolatedZ&&(I=this.data._interpolatedZ[P][o]),x===void 0?I:_.d2l(I,0,x)},n.handlePick=function(o){if(o.object===this.surface){var P=(o.data.index[0]-1)/this.dataScaleX-1,x=(o.data.index[1]-1)/this.dataScaleY-1,_=Math.max(Math.min(Math.round(P),this.data.z[0].length-1),0),I=Math.max(Math.min(Math.round(x),this.data._ylength-1),0);o.index=[_,I],o.traceCoordinate=[this.getXat(_,I),this.getYat(_,I),this.getZat(_,I)],o.dataCoordinate=[this.getXat(_,I,this.data.xcalendar,this.scene.fullSceneLayout.xaxis),this.getYat(_,I,this.data.ycalendar,this.scene.fullSceneLayout.yaxis),this.getZat(_,I,this.data.zcalendar,this.scene.fullSceneLayout.zaxis)];for(var N=0;N<3;N++){var k=o.dataCoordinate[N];k!=null&&(o.dataCoordinate[N]*=this.scene.dataScale[N])}var F=this.data.hovertext||this.data.text;return v(F)&&F[I]&&F[I][_]!==void 0?o.textLabel=F[I][_]:F?o.textLabel=F:o.textLabel="",o.data.dataCoordinate=o.dataCoordinate.slice(),this.surface.highlight(o.data),this.scene.glplot.spikes.position=o.dataCoordinate,!0}};function f(o){var P=o[0].rgb,x=o[o.length-1].rgb;return P[0]===x[0]&&P[1]===x[1]&&P[2]===x[2]&&P[3]===x[3]}var u=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997,1009,1013,1019,1021,1031,1033,1039,1049,1051,1061,1063,1069,1087,1091,1093,1097,1103,1109,1117,1123,1129,1151,1153,1163,1171,1181,1187,1193,1201,1213,1217,1223,1229,1231,1237,1249,1259,1277,1279,1283,1289,1291,1297,1301,1303,1307,1319,1321,1327,1361,1367,1373,1381,1399,1409,1423,1427,1429,1433,1439,1447,1451,1453,1459,1471,1481,1483,1487,1489,1493,1499,1511,1523,1531,1543,1549,1553,1559,1567,1571,1579,1583,1597,1601,1607,1609,1613,1619,1621,1627,1637,1657,1663,1667,1669,1693,1697,1699,1709,1721,1723,1733,1741,1747,1753,1759,1777,1783,1787,1789,1801,1811,1823,1831,1847,1861,1867,1871,1873,1877,1879,1889,1901,1907,1913,1931,1933,1949,1951,1973,1979,1987,1993,1997,1999,2003,2011,2017,2027,2029,2039,2053,2063,2069,2081,2083,2087,2089,2099,2111,2113,2129,2131,2137,2141,2143,2153,2161,2179,2203,2207,2213,2221,2237,2239,2243,2251,2267,2269,2273,2281,2287,2293,2297,2309,2311,2333,2339,2341,2347,2351,2357,2371,2377,2381,2383,2389,2393,2399,2411,2417,2423,2437,2441,2447,2459,2467,2473,2477,2503,2521,2531,2539,2543,2549,2551,2557,2579,2591,2593,2609,2617,2621,2633,2647,2657,2659,2663,2671,2677,2683,2687,2689,2693,2699,2707,2711,2713,2719,2729,2731,2741,2749,2753,2767,2777,2789,2791,2797,2801,2803,2819,2833,2837,2843,2851,2857,2861,2879,2887,2897,2903,2909,2917,2927,2939,2953,2957,2963,2969,2971,2999];function l(o,P){if(o<P)return 0;for(var x=0;Math.floor(o%P)===0;)o/=P,x++;return x}function m(o){for(var P=[],x=0;x<u.length;x++){var _=u[x];P.push(l(o,_))}return P}function h(o){for(var P=m(o),x=o,_=0;_<u.length;_++)if(P[_]>0){x=u[_];break}return x}function M(o,P){if(!(o<1||P<1)){for(var x=m(o),_=m(P),I=1,N=0;N<u.length;N++)I*=Math.pow(u[N],Math.max(x[N],_[N]));return I}}function c(o){if(o.length!==0){for(var P=1,x=0;x<o.length;x++)P=M(P,o[x]);return P}}n.calcXnums=function(o){var P,x=[];for(P=1;P<o;P++){var _=this.getXat(P-1,0),I=this.getXat(P,0);I!==_&&_!==void 0&&_!==null&&I!==void 0&&I!==null?x[P-1]=Math.abs(I-_):x[P-1]=0}var N=0;for(P=1;P<o;P++)N+=x[P-1];for(P=1;P<o;P++)x[P-1]===0?x[P-1]=1:x[P-1]=Math.round(N/x[P-1]);return x},n.calcYnums=function(o){var P,x=[];for(P=1;P<o;P++){var _=this.getYat(0,P-1),I=this.getYat(0,P);I!==_&&_!==void 0&&_!==null&&I!==void 0&&I!==null?x[P-1]=Math.abs(I-_):x[P-1]=0}var N=0;for(P=1;P<o;P++)N+=x[P-1];for(P=1;P<o;P++)x[P-1]===0?x[P-1]=1:x[P-1]=Math.round(N/x[P-1]);return x};var i=[1,2,4,6,12,24,36,48,60,120,180,240,360,720,840,1260],d=i[9],b=i[13];n.estimateScale=function(o,P){for(var x=P===0?this.calcXnums(o):this.calcYnums(o),_=1+c(x);_<d;)_*=2;for(;_>b;)_--,_/=h(_),_++,_<d&&(_=b);var I=Math.round(_/o);return I>1?I:1};function w(o,P,x){var _=x[8]+x[2]*P[0]+x[5]*P[1];return o[0]=(x[6]+x[0]*P[0]+x[3]*P[1])/_,o[1]=(x[7]+x[1]*P[0]+x[4]*P[1])/_,o}function E(o,P,x){return y(o,P,w,x),o}function y(o,P,x,_){for(var I=[0,0],N=o.shape[0],k=o.shape[1],F=0;F<N;F++)for(var O=0;O<k;O++)x(I,[F,O],_),o.set(F,O,a(P,I[0],I[1]));return o}n.refineCoords=function(o){for(var P=this.dataScaleX,x=this.dataScaleY,_=o[0].shape[0],I=o[0].shape[1],N=Math.floor(o[0].shape[0]*P+1)|0,k=Math.floor(o[0].shape[1]*x+1)|0,F=1+_+1,O=1+I+1,z=L(new Float32Array(F*O),[F,O]),B=[1/P,0,0,0,1/x,0,0,0,1],W=0;W<o.length;++W){this.surface.padField(z,o[W]);var q=L(new Float32Array(N*k),[N,k]);E(q,z,B),o[W]=q}};function S(o,P){for(var x=!1,_=0;_<o.length;_++)if(P===o[_]){x=!0;break}x===!1&&o.push(P)}n.setContourLevels=function(){var o=[[],[],[]],P=[!1,!1,!1],x=!1,_,I,N;for(_=0;_<3;++_)if(this.showContour[_]&&(x=!0,this.contourSize[_]>0&&this.contourStart[_]!==null&&this.contourEnd[_]!==null&&this.contourEnd[_]>this.contourStart[_]))for(P[_]=!0,I=this.contourStart[_];I<this.contourEnd[_];I+=this.contourSize[_])N=I*this.scene.dataScale[_],S(o[_],N);if(x){var k=[[],[],[]];for(_=0;_<3;++_)this.showContour[_]&&(k[_]=P[_]?o[_]:this.scene.contourLevels[_]);this.surface.update({levels:k})}},n.update=function(o){var P=this.scene,x=P.fullSceneLayout,_=this.surface,I=p(o),N=P.dataScale,k=o.z[0].length,F=o._ylength,O=P.contourLevels;this.data=o;var z,B,W,q,ee=[];for(z=0;z<3;z++)for(ee[z]=[],B=0;B<k;B++)ee[z][B]=[];for(B=0;B<k;B++)for(W=0;W<F;W++)ee[0][B][W]=this.getXat(B,W,o.xcalendar,x.xaxis),ee[1][B][W]=this.getYat(B,W,o.ycalendar,x.yaxis),ee[2][B][W]=this.getZat(B,W,o.zcalendar,x.zaxis);if(o.connectgaps)for(o._emptypoints=A(ee[2]),C(ee[2],o._emptypoints),o._interpolatedZ=[],B=0;B<k;B++)for(o._interpolatedZ[B]=[],W=0;W<F;W++)o._interpolatedZ[B][W]=ee[2][B][W];for(z=0;z<3;z++)for(B=0;B<k;B++)for(W=0;W<F;W++)q=ee[z][B][W],q==null?ee[z][B][W]=NaN:q=ee[z][B][W]*=N[z];for(z=0;z<3;z++)for(B=0;B<k;B++)for(W=0;W<F;W++)q=ee[z][B][W],q!=null&&(this.minValues[z]>q&&(this.minValues[z]=q),this.maxValues[z]<q&&(this.maxValues[z]=q));for(z=0;z<3;z++)this.objectOffset[z]=.5*(this.minValues[z]+this.maxValues[z]);for(z=0;z<3;z++)for(B=0;B<k;B++)for(W=0;W<F;W++)q=ee[z][B][W],q!=null&&(ee[z][B][W]-=this.objectOffset[z]);var Q=[L(new Float32Array(k*F),[k,F]),L(new Float32Array(k*F),[k,F]),L(new Float32Array(k*F),[k,F])];for(z=0;z<3;z++)for(B=0;B<k;B++)for(W=0;W<F;W++)Q[z].set(B,W,ee[z][B][W]);ee=[];var oe={colormap:I,levels:[[],[],[]],showContour:[!0,!0,!0],showSurface:!o.hidesurface,contourProject:[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],contourWidth:[1,1,1],contourColor:[[1,1,1,1],[1,1,1,1],[1,1,1,1]],contourTint:[1,1,1],dynamicColor:[[1,1,1,1],[1,1,1,1],[1,1,1,1]],dynamicWidth:[1,1,1],dynamicTint:[1,1,1],opacityscale:o.opacityscale,opacity:o.opacity},Z=t(o);if(oe.intensityBounds=[Z.min,Z.max],o.surfacecolor){var Y=L(new Float32Array(k*F),[k,F]);for(B=0;B<k;B++)for(W=0;W<F;W++)Y.set(B,W,o.surfacecolor[W][B]);Q.push(Y)}else oe.intensityBounds[0]*=N[2],oe.intensityBounds[1]*=N[2];(b<Q[0].shape[0]||b<Q[0].shape[1])&&(this.refineData=!1),this.refineData===!0&&(this.dataScaleX=this.estimateScale(Q[0].shape[0],0),this.dataScaleY=this.estimateScale(Q[0].shape[1],1),(this.dataScaleX!==1||this.dataScaleY!==1)&&this.refineCoords(Q)),o.surfacecolor&&(oe.intensity=Q.pop());var te=[!0,!0,!0],X=["x","y","z"];for(z=0;z<3;++z){var $=o.contours[X[z]];te[z]=$.highlight,oe.showContour[z]=$.show||$.highlight,oe.showContour[z]&&(oe.contourProject[z]=[$.project.x,$.project.y,$.project.z],$.show?(this.showContour[z]=!0,oe.levels[z]=O[z],_.highlightColor[z]=oe.contourColor[z]=r($.color),$.usecolormap?_.highlightTint[z]=oe.contourTint[z]=0:_.highlightTint[z]=oe.contourTint[z]=1,oe.contourWidth[z]=$.width,this.contourStart[z]=$.start,this.contourEnd[z]=$.end,this.contourSize[z]=$.size):(this.showContour[z]=!1,this.contourStart[z]=null,this.contourEnd[z]=null,this.contourSize[z]=0),$.highlight&&(oe.dynamicColor[z]=r($.highlightcolor),oe.dynamicWidth[z]=$.highlightwidth))}f(I)&&(oe.vertexColor=!0),oe.objectOffset=this.objectOffset,oe.coords=Q,_.update(oe),_.visible=o.visible,_.enableDynamic=te,_.enableHighlight=te,_.snapToData=!0,"lighting"in o&&(_.ambientLight=o.lighting.ambient,_.diffuseLight=o.lighting.diffuse,_.specularLight=o.lighting.specular,_.roughness=o.lighting.roughness,_.fresnel=o.lighting.fresnel),"lightposition"in o&&(_.lightPosition=[o.lightposition.x,o.lightposition.y,o.lightposition.z])},n.dispose=function(){this.scene.glplot.remove(this.surface),this.surface.dispose()};function T(o,P){var x=o.glplot.gl,_=g({gl:x}),I=new s(o,_,P.uid);return _._trace=I,I.update(P),o.glplot.add(_),I}G.exports=T},60192:function(G,U,e){var g=e(24040),L=e(3400),a=e(27260),C=e(16716),A=.1;function v(n,f){for(var u=[],l=32,m=0;m<l;m++){var h=m/(l-1),M=f+(1-f)*(1-Math.pow(Math.sin(n*h*Math.PI),2));u.push([h,Math.max(0,Math.min(1,M))])}return u}function p(n){var f=0;if(!Array.isArray(n)||n.length<2||!n[0]||!n[n.length-1]||+n[0][0]!=0||+n[n.length-1][0]!=1)return!1;for(var u=0;u<n.length;u++){var l=n[u];if(l.length!==2||+l[0]<f)return!1;f=+l[0]}return!0}function r(n,f,u,l){var m,h;function M(o,P){return L.coerce(n,f,C,o,P)}var c=M("x"),i=M("y"),d=M("z");if(!d||!d.length||(c?c.length<1:!1)||(i?i.length<1:!1)){f.visible=!1;return}f._xlength=Array.isArray(c)&&L.isArrayOrTypedArray(c[0])?d.length:d[0].length,f._ylength=d.length;var b=g.getComponentMethod("calendars","handleTraceDefaults");b(n,f,["x","y","z"],l),M("text"),M("hovertext"),M("hovertemplate"),M("xhoverformat"),M("yhoverformat"),M("zhoverformat"),["lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lightposition.x","lightposition.y","lightposition.z","hidesurface","connectgaps","opacity"].forEach(function(o){M(o)});var w=M("surfacecolor"),E=["x","y","z"];for(m=0;m<3;++m){var y="contours."+E[m],S=M(y+".show"),T=M(y+".highlight");if(S||T)for(h=0;h<3;++h)M(y+".project."+E[h]);S&&(M(y+".color"),M(y+".width"),M(y+".usecolormap")),T&&(M(y+".highlightcolor"),M(y+".highlightwidth")),M(y+".start"),M(y+".end"),M(y+".size")}w||(s(n,"zmin","cmin"),s(n,"zmax","cmax"),s(n,"zauto","cauto")),a(n,f,l,M,{prefix:"",cLetter:"c"}),t(n,f,l,M),f._length=null}function t(n,f,u,l){var m=l("opacityscale");m==="max"?f.opacityscale=[[0,A],[1,1]]:m==="min"?f.opacityscale=[[0,1],[1,A]]:m==="extremes"?f.opacityscale=v(1,A):p(m)||(f.opacityscale=void 0)}function s(n,f,u){f in n&&!(u in n)&&(n[u]=n[f])}G.exports={supplyDefaults:r,opacityscaleDefaults:t}},91304:function(G,U,e){G.exports={attributes:e(16716),supplyDefaults:e(60192).supplyDefaults,colorbar:{min:"cmin",max:"cmax"},calc:e(56576),plot:e(79164),moduleType:"trace",name:"surface",basePlotModule:e(12536),categories:["gl3d","2dMap","showLegend"],meta:{}}},60520:function(G,U,e){var g=e(13916),L=e(92880).extendFlat,a=e(67824).overrideAll,C=e(25376),A=e(86968).u,v=e(29736).descriptionOnlyNumbers,p=G.exports=a({domain:A({name:"table",trace:!0}),columnwidth:{valType:"number",arrayOk:!0,dflt:null},columnorder:{valType:"data_array"},header:{values:{valType:"data_array",dflt:[]},format:{valType:"data_array",dflt:[],description:v("cell value")},prefix:{valType:"string",arrayOk:!0,dflt:null},suffix:{valType:"string",arrayOk:!0,dflt:null},height:{valType:"number",dflt:28},align:L({},g.align,{arrayOk:!0}),line:{width:{valType:"number",arrayOk:!0,dflt:1},color:{valType:"color",arrayOk:!0,dflt:"grey"}},fill:{color:{valType:"color",arrayOk:!0,dflt:"white"}},font:L({},C({arrayOk:!0}))},cells:{values:{valType:"data_array",dflt:[]},format:{valType:"data_array",dflt:[],description:v("cell value")},prefix:{valType:"string",arrayOk:!0,dflt:null},suffix:{valType:"string",arrayOk:!0,dflt:null},height:{valType:"number",dflt:20},align:L({},g.align,{arrayOk:!0}),line:{width:{valType:"number",arrayOk:!0,dflt:1},color:{valType:"color",arrayOk:!0,dflt:"grey"}},fill:{color:{valType:"color",arrayOk:!0,dflt:"white"}},font:L({},C({arrayOk:!0}))}},"calc","from-root");p.transforms=void 0},85852:function(G,U,e){var g=e(84888)._M,L=e(24752),a="table";U.name=a,U.plot=function(C){var A=g(C.calcdata,a)[0];A.length&&L(C,A)},U.clean=function(C,A,v,p){var r=p._has&&p._has(a),t=A._has&&A._has(a);r&&!t&&p._paperdiv.selectAll(".table").remove()}},39312:function(G,U,e){var g=e(71688).wrap;G.exports=function(){return g({})}},23536:function(G){G.exports={cellPad:8,columnExtentOffset:10,columnTitleOffset:28,emptyHeaderHeight:16,latexCheck:/^\$.*\$$/,goldenRatio:1.618,lineBreaker:"<br>",maxDimensionCount:60,overdrag:45,releaseTransitionDuration:120,releaseTransitionEase:"cubic-out",scrollbarCaptureWidth:18,scrollbarHideDelay:1e3,scrollbarHideDuration:1e3,scrollbarOffset:5,scrollbarWidth:8,transitionDuration:100,transitionEase:"cubic-out",uplift:5,wrapSpacer:" ",wrapSplitCharacter:" ",cn:{table:"table",tableControlView:"table-control-view",scrollBackground:"scroll-background",yColumn:"y-column",columnBlock:"column-block",scrollAreaClip:"scroll-area-clip",scrollAreaClipRect:"scroll-area-clip-rect",columnBoundary:"column-boundary",columnBoundaryClippath:"column-boundary-clippath",columnBoundaryRect:"column-boundary-rect",columnCells:"column-cells",columnCell:"column-cell",cellRect:"cell-rect",cellText:"cell-text",cellTextHolder:"cell-text-holder",scrollbarKit:"scrollbar-kit",scrollbar:"scrollbar",scrollbarSlider:"scrollbar-slider",scrollbarGlyph:"scrollbar-glyph",scrollbarCaptureZone:"scrollbar-capture-zone"}}},55992:function(G,U,e){var g=e(23536),L=e(92880).extendFlat,a=e(38248),C=e(38116).isTypedArray,A=e(38116).isArrayOrTypedArray;G.exports=function(m,h){var M=r(h.cells.values),c=function(q){return q.slice(h.header.values.length,q.length)},i=r(h.header.values);i.length&&!i[0].length&&(i[0]=[""],i=r(i));var d=i.concat(c(M).map(function(){return t((i[0]||[""]).length)})),b=h.domain,w=Math.floor(m._fullLayout._size.w*(b.x[1]-b.x[0])),E=Math.floor(m._fullLayout._size.h*(b.y[1]-b.y[0])),y=h.header.values.length?d[0].map(function(){return h.header.height}):[g.emptyHeaderHeight],S=M.length?M[0].map(function(){return h.cells.height}):[],T=y.reduce(p,0),o=E-T,P=o+g.uplift,x=f(S,P),_=f(y,T),I=n(_,[]),N=n(x,I),k={},F=h._fullInput.columnorder;A(F)&&(F=Array.from(F)),F=F.concat(c(M.map(function(q,ee){return ee})));var O=d.map(function(q,ee){var Q=A(h.columnwidth)?h.columnwidth[Math.min(ee,h.columnwidth.length-1)]:h.columnwidth;return a(Q)?Number(Q):1}),z=O.reduce(p,0);O=O.map(function(q){return q/z*w});var B=Math.max(v(h.header.line.width),v(h.cells.line.width)),W={key:h.uid+m._context.staticPlot,translateX:b.x[0]*m._fullLayout._size.w,translateY:m._fullLayout._size.h*(1-b.y[1]),size:m._fullLayout._size,width:w,maxLineWidth:B,height:E,columnOrder:F,groupHeight:E,rowBlocks:N,headerRowBlocks:I,scrollY:0,cells:L({},h.cells,{values:M}),headerCells:L({},h.header,{values:d}),gdColumns:d.map(function(q){return q[0]}),gdColumnsOriginalOrder:d.map(function(q){return q[0]}),prevPages:[0,0],scrollbarState:{scrollbarScrollInProgress:!1},columns:d.map(function(q,ee){var Q=k[q];k[q]=(Q||0)+1;var oe=q+"__"+k[q];return{key:oe,label:q,specIndex:ee,xIndex:F[ee],xScale:s,x:void 0,calcdata:void 0,columnWidth:O[ee]}})};return W.columns.forEach(function(q){q.calcdata=W,q.x=s(q)}),W};function v(l){if(A(l)){for(var m=0,h=0;h<l.length;h++)m=Math.max(m,v(l[h]));return m}return l}function p(l,m){return l+m}function r(l){var m=l.slice(),h=1/0,M=0,c;for(c=0;c<m.length;c++)C(m[c])?m[c]=Array.from(m[c]):A(m[c])||(m[c]=[m[c]]),h=Math.min(h,m[c].length),M=Math.max(M,m[c].length);if(h!==M)for(c=0;c<m.length;c++){var i=M-m[c].length;i&&(m[c]=m[c].concat(t(i)))}return m}function t(l){for(var m=new Array(l),h=0;h<l;h++)m[h]="";return m}function s(l){return l.calcdata.columns.reduce(function(m,h){return h.xIndex<l.xIndex?m+h.columnWidth:m},0)}function n(l,m){var h=Object.keys(l);return h.map(function(M){return L({},l[M],{auxiliaryBlocks:m})})}function f(l,m){for(var h={},M,c=0,i=0,d=u(),b=0,w=0,E=0;E<l.length;E++)M=l[E],d.rows.push({rowIndex:E,rowHeight:M}),i+=M,(i>=m||E===l.length-1)&&(h[c]=d,d.key=w++,d.firstRowIndex=b,d.lastRowIndex=E,d=u(),c+=i,b=E+1,i=0);return h}function u(){return{firstRowIndex:null,lastRowIndex:null,rows:[]}}},53056:function(G,U,e){var g=e(92880).extendFlat;U.splitToPanels=function(a){var C=[0,0],A=g({},a,{key:"header",type:"header",page:0,prevPages:C,currentRepaint:[null,null],dragHandle:!0,values:a.calcdata.headerCells.values[a.specIndex],rowBlocks:a.calcdata.headerRowBlocks,calcdata:g({},a.calcdata,{cells:a.calcdata.headerCells})}),v=g({},a,{key:"cells1",type:"cells",page:0,prevPages:C,currentRepaint:[null,null],dragHandle:!1,values:a.calcdata.cells.values[a.specIndex],rowBlocks:a.calcdata.rowBlocks}),p=g({},a,{key:"cells2",type:"cells",page:1,prevPages:C,currentRepaint:[null,null],dragHandle:!1,values:a.calcdata.cells.values[a.specIndex],rowBlocks:a.calcdata.rowBlocks});return[v,p,A]},U.splitToCells=function(a){var C=L(a);return(a.values||[]).slice(C[0],C[1]).map(function(A,v){var p=typeof A=="string"&&A.match(/[<$&> ]/)?"_keybuster_"+Math.random():"";return{keyWithinBlock:v+p,key:C[0]+v,column:a,calcdata:a.calcdata,page:a.page,rowBlocks:a.rowBlocks,value:A}})};function L(a){var C=a.rowBlocks[a.page],A=C?C.rows[0].rowIndex:0,v=C?A+C.rows.length:0;return[A,v]}},53212:function(G,U,e){var g=e(3400),L=e(60520),a=e(86968).Q;function C(A,v){for(var p=A.columnorder||[],r=A.header.values.length,t=p.slice(0,r),s=t.slice().sort(function(u,l){return u-l}),n=t.map(function(u){return s.indexOf(u)}),f=n.length;f<r;f++)n.push(f);v("columnorder",n)}G.exports=function(v,p,r,t){function s(n,f){return g.coerce(v,p,L,n,f)}a(p,t,s),s("columnwidth"),s("header.values"),s("header.format"),s("header.align"),s("header.prefix"),s("header.suffix"),s("header.height"),s("header.line.width"),s("header.line.color"),s("header.fill.color"),g.coerceFont(s,"header.font",g.extendFlat({},t.font)),C(p,s),s("cells.values"),s("cells.format"),s("cells.align"),s("cells.prefix"),s("cells.suffix"),s("cells.height"),s("cells.line.width"),s("cells.line.color"),s("cells.fill.color"),g.coerceFont(s,"cells.font",g.extendFlat({},t.font)),p._length=null}},41724:function(G,U,e){G.exports={attributes:e(60520),supplyDefaults:e(53212),calc:e(39312),plot:e(24752),moduleType:"trace",name:"table",basePlotModule:e(85852),categories:["noOpacity"],meta:{}}},24752:function(G,U,e){var g=e(23536),L=e(33428),a=e(3400),C=a.numberFormat,A=e(71688),v=e(43616),p=e(72736),r=e(3400).raiseToTop,t=e(3400).strTranslate,s=e(3400).cancelTransition,n=e(55992),f=e(53056),u=e(76308);G.exports=function(se,ne){var le=!se._context.staticPlot,pe=se._fullLayout._paper.selectAll("."+g.cn.table).data(ne.map(function($e){var qe=A.unwrap($e),ft=qe.trace;return n(se,ft)}),A.keyFun);pe.exit().remove(),pe.enter().append("g").classed(g.cn.table,!0).attr("overflow","visible").style("box-sizing","content-box").style("position","absolute").style("left",0).style("overflow","visible").style("shape-rendering","crispEdges").style("pointer-events","all"),pe.attr("width",function($e){return $e.width+$e.size.l+$e.size.r}).attr("height",function($e){return $e.height+$e.size.t+$e.size.b}).attr("transform",function($e){return t($e.translateX,$e.translateY)});var Ae=pe.selectAll("."+g.cn.tableControlView).data(A.repeat,A.keyFun),be=Ae.enter().append("g").classed(g.cn.tableControlView,!0).style("box-sizing","content-box");if(le){var Re="onwheel"in document?"wheel":"mousewheel";be.on("mousemove",function($e){Ae.filter(function(qe){return $e===qe}).call(c,se)}).on(Re,function($e){if(!$e.scrollbarState.wheeling){$e.scrollbarState.wheeling=!0;var qe=$e.scrollY+L.event.deltaY,ft=q(se,Ae,null,qe)($e);ft||(L.event.stopPropagation(),L.event.preventDefault()),$e.scrollbarState.wheeling=!1}}).call(c,se,!0)}Ae.attr("transform",function($e){return t($e.size.l,$e.size.t)});var xe=Ae.selectAll("."+g.cn.scrollBackground).data(A.repeat,A.keyFun);xe.enter().append("rect").classed(g.cn.scrollBackground,!0).attr("fill","none"),xe.attr("width",function($e){return $e.width}).attr("height",function($e){return $e.height}),Ae.each(function($e){v.setClipUrl(L.select(this),m(se,$e),se)});var Me=Ae.selectAll("."+g.cn.yColumn).data(function($e){return $e.columns},A.keyFun);Me.enter().append("g").classed(g.cn.yColumn,!0),Me.exit().remove(),Me.attr("transform",function($e){return t($e.x,0)}),le&&Me.call(L.behavior.drag().origin(function($e){var qe=L.select(this);return k(qe,$e,-g.uplift),r(this),$e.calcdata.columnDragInProgress=!0,c(Ae.filter(function(ft){return $e.calcdata.key===ft.key}),se),$e}).on("drag",function($e){var qe=L.select(this),ft=function(yt){return($e===yt?L.event.x:yt.x)+yt.columnWidth/2};$e.x=Math.max(-g.overdrag,Math.min($e.calcdata.width+g.overdrag-$e.columnWidth,L.event.x));var ct=M(Me).filter(function(yt){return yt.calcdata.key===$e.calcdata.key}),pt=ct.sort(function(yt,Et){return ft(yt)-ft(Et)});pt.forEach(function(yt,Et){yt.xIndex=Et,yt.x=$e===yt?yt.x:yt.xScale(yt)}),Me.filter(function(yt){return $e!==yt}).transition().ease(g.transitionEase).duration(g.transitionDuration).attr("transform",function(yt){return t(yt.x,0)}),qe.call(s).attr("transform",t($e.x,-g.uplift))}).on("dragend",function($e){var qe=L.select(this),ft=$e.calcdata;$e.x=$e.xScale($e),$e.calcdata.columnDragInProgress=!1,k(qe,$e,0),I(se,ft,ft.columns.map(function(ct){return ct.xIndex}))})),Me.each(function($e){v.setClipUrl(L.select(this),h(se,$e),se)});var ye=Me.selectAll("."+g.cn.columnBlock).data(f.splitToPanels,A.keyFun);ye.enter().append("g").classed(g.cn.columnBlock,!0).attr("id",function($e){return $e.key}),ye.style("cursor",function($e){return $e.dragHandle?"ew-resize":$e.calcdata.scrollbarState.barWiggleRoom?"ns-resize":"default"});var Se=ye.filter(O),Fe=ye.filter(F);le&&Fe.call(L.behavior.drag().origin(function($e){return L.event.stopPropagation(),$e}).on("drag",q(se,Ae,-1)).on("dragend",function(){})),i(se,Ae,Se,ye),i(se,Ae,Fe,ye);var Be=Ae.selectAll("."+g.cn.scrollAreaClip).data(A.repeat,A.keyFun);Be.enter().append("clipPath").classed(g.cn.scrollAreaClip,!0).attr("id",function($e){return m(se,$e)});var _e=Be.selectAll("."+g.cn.scrollAreaClipRect).data(A.repeat,A.keyFun);_e.enter().append("rect").classed(g.cn.scrollAreaClipRect,!0).attr("x",-g.overdrag).attr("y",-g.uplift).attr("fill","none"),_e.attr("width",function($e){return $e.width+2*g.overdrag}).attr("height",function($e){return $e.height+g.uplift});var Ue=Me.selectAll("."+g.cn.columnBoundary).data(A.repeat,A.keyFun);Ue.enter().append("g").classed(g.cn.columnBoundary,!0);var it=Me.selectAll("."+g.cn.columnBoundaryClippath).data(A.repeat,A.keyFun);it.enter().append("clipPath").classed(g.cn.columnBoundaryClippath,!0),it.attr("id",function($e){return h(se,$e)});var lt=it.selectAll("."+g.cn.columnBoundaryRect).data(A.repeat,A.keyFun);lt.enter().append("rect").classed(g.cn.columnBoundaryRect,!0).attr("fill","none"),lt.attr("width",function($e){return $e.columnWidth+2*l($e)}).attr("height",function($e){return $e.calcdata.height+2*l($e)+g.uplift}).attr("x",function($e){return-l($e)}).attr("y",function($e){return-l($e)}),W(null,Fe,Ae)};function l(j){return Math.ceil(j.calcdata.maxLineWidth/2)}function m(j,se){return"clip"+j._fullLayout._uid+"_scrollAreaBottomClip_"+se.key}function h(j,se){return"clip"+j._fullLayout._uid+"_columnBoundaryClippath_"+se.calcdata.key+"_"+se.specIndex}function M(j){return[].concat.apply([],j.map(function(se){return se})).map(function(se){return se.__data__})}function c(j,se,ne){function le(Me){var ye=Me.rowBlocks;return te(ye,ye.length-1)+(ye.length?X(ye[ye.length-1],1/0):1)}var pe=j.selectAll("."+g.cn.scrollbarKit).data(A.repeat,A.keyFun);pe.enter().append("g").classed(g.cn.scrollbarKit,!0).style("shape-rendering","geometricPrecision"),pe.each(function(Me){var ye=Me.scrollbarState;ye.totalHeight=le(Me),ye.scrollableAreaHeight=Me.groupHeight-z(Me),ye.currentlyVisibleHeight=Math.min(ye.totalHeight,ye.scrollableAreaHeight),ye.ratio=ye.currentlyVisibleHeight/ye.totalHeight,ye.barLength=Math.max(ye.ratio*ye.currentlyVisibleHeight,g.goldenRatio*g.scrollbarWidth),ye.barWiggleRoom=ye.currentlyVisibleHeight-ye.barLength,ye.wiggleRoom=Math.max(0,ye.totalHeight-ye.scrollableAreaHeight),ye.topY=ye.barWiggleRoom===0?0:Me.scrollY/ye.wiggleRoom*ye.barWiggleRoom,ye.bottomY=ye.topY+ye.barLength,ye.dragMultiplier=ye.wiggleRoom/ye.barWiggleRoom}).attr("transform",function(Me){var ye=Me.width+g.scrollbarWidth/2+g.scrollbarOffset;return t(ye,z(Me))});var Ae=pe.selectAll("."+g.cn.scrollbar).data(A.repeat,A.keyFun);Ae.enter().append("g").classed(g.cn.scrollbar,!0);var be=Ae.selectAll("."+g.cn.scrollbarSlider).data(A.repeat,A.keyFun);be.enter().append("g").classed(g.cn.scrollbarSlider,!0),be.attr("transform",function(Me){return t(0,Me.scrollbarState.topY||0)});var Re=be.selectAll("."+g.cn.scrollbarGlyph).data(A.repeat,A.keyFun);Re.enter().append("line").classed(g.cn.scrollbarGlyph,!0).attr("stroke","black").attr("stroke-width",g.scrollbarWidth).attr("stroke-linecap","round").attr("y1",g.scrollbarWidth/2),Re.attr("y2",function(Me){return Me.scrollbarState.barLength-g.scrollbarWidth/2}).attr("stroke-opacity",function(Me){return Me.columnDragInProgress||!Me.scrollbarState.barWiggleRoom||ne?0:.4}),Re.transition().delay(0).duration(0),Re.transition().delay(g.scrollbarHideDelay).duration(g.scrollbarHideDuration).attr("stroke-opacity",0);var xe=Ae.selectAll("."+g.cn.scrollbarCaptureZone).data(A.repeat,A.keyFun);xe.enter().append("line").classed(g.cn.scrollbarCaptureZone,!0).attr("stroke","white").attr("stroke-opacity",.01).attr("stroke-width",g.scrollbarCaptureWidth).attr("stroke-linecap","butt").attr("y1",0).on("mousedown",function(Me){var ye=L.event.y,Se=this.getBoundingClientRect(),Fe=Me.scrollbarState,Be=ye-Se.top,_e=L.scale.linear().domain([0,Fe.scrollableAreaHeight]).range([0,Fe.totalHeight]).clamp(!0);Fe.topY<=Be&&Be<=Fe.bottomY||q(se,j,null,_e(Be-Fe.barLength/2))(Me)}).call(L.behavior.drag().origin(function(Me){return L.event.stopPropagation(),Me.scrollbarState.scrollbarScrollInProgress=!0,Me}).on("drag",q(se,j)).on("dragend",function(){})),xe.attr("y2",function(Me){return Me.scrollbarState.scrollableAreaHeight}),se._context.staticPlot&&(Re.remove(),xe.remove())}function i(j,se,ne,le){var pe=d(ne),Ae=b(pe);S(Ae);var be=w(Ae);o(be);var Re=y(Ae),xe=E(Re);T(xe),P(xe,se,le,j),Y(Ae)}function d(j){var se=j.selectAll("."+g.cn.columnCells).data(A.repeat,A.keyFun);return se.enter().append("g").classed(g.cn.columnCells,!0),se.exit().remove(),se}function b(j){var se=j.selectAll("."+g.cn.columnCell).data(f.splitToCells,function(ne){return ne.keyWithinBlock});return se.enter().append("g").classed(g.cn.columnCell,!0),se.exit().remove(),se}function w(j){var se=j.selectAll("."+g.cn.cellRect).data(A.repeat,function(ne){return ne.keyWithinBlock});return se.enter().append("rect").classed(g.cn.cellRect,!0),se}function E(j){var se=j.selectAll("."+g.cn.cellText).data(A.repeat,function(ne){return ne.keyWithinBlock});return se.enter().append("text").classed(g.cn.cellText,!0).style("cursor",function(){return"auto"}).on("mousedown",function(){L.event.stopPropagation()}),se}function y(j){var se=j.selectAll("."+g.cn.cellTextHolder).data(A.repeat,function(ne){return ne.keyWithinBlock});return se.enter().append("g").classed(g.cn.cellTextHolder,!0).style("shape-rendering","geometricPrecision"),se}function S(j){j.each(function(se,ne){var le=se.calcdata.cells.font,pe=se.column.specIndex,Ae={size:N(le.size,pe,ne),color:N(le.color,pe,ne),family:N(le.family,pe,ne)};se.rowNumber=se.key,se.align=N(se.calcdata.cells.align,pe,ne),se.cellBorderWidth=N(se.calcdata.cells.line.width,pe,ne),se.font=Ae})}function T(j){j.each(function(se){v.font(L.select(this),se.font)})}function o(j){j.attr("width",function(se){return se.column.columnWidth}).attr("stroke-width",function(se){return se.cellBorderWidth}).each(function(se){var ne=L.select(this);u.stroke(ne,N(se.calcdata.cells.line.color,se.column.specIndex,se.rowNumber)),u.fill(ne,N(se.calcdata.cells.fill.color,se.column.specIndex,se.rowNumber))})}function P(j,se,ne,le){j.text(function(pe){var Ae=pe.column.specIndex,be=pe.rowNumber,Re=pe.value,xe=typeof Re=="string",Me=xe&&Re.match(/<br>/i),ye=!xe||Me;pe.mayHaveMarkup=xe&&Re.match(/[<&>]/);var Se=x(Re);pe.latex=Se;var Fe=Se?"":N(pe.calcdata.cells.prefix,Ae,be)||"",Be=Se?"":N(pe.calcdata.cells.suffix,Ae,be)||"",_e=Se?null:N(pe.calcdata.cells.format,Ae,be)||null,Ue=Fe+(_e?C(_e)(pe.value):pe.value)+Be,it;pe.wrappingNeeded=!pe.wrapped&&!ye&&!Se&&(it=_(Ue)),pe.cellHeightMayIncrease=Me||Se||pe.mayHaveMarkup||(it===void 0?_(Ue):it),pe.needsConvertToTspans=pe.mayHaveMarkup||pe.wrappingNeeded||pe.latex;var lt;if(pe.wrappingNeeded){var $e=g.wrapSplitCharacter===" "?Ue.replace(/<a href=/ig,"<a_href="):Ue,qe=$e.split(g.wrapSplitCharacter),ft=g.wrapSplitCharacter===" "?qe.map(function(ct){return ct.replace(/<a_href=/ig,"<a href=")}):qe;pe.fragments=ft.map(function(ct){return{text:ct,width:null}}),pe.fragments.push({fragment:g.wrapSpacer,width:null}),lt=ft.join(g.lineBreaker)+g.lineBreaker+g.wrapSpacer}else delete pe.fragments,lt=Ue;return lt}).attr("dy",function(pe){return pe.needsConvertToTspans?0:"0.75em"}).each(function(pe){var Ae=this,be=L.select(Ae),Re=pe.wrappingNeeded?Q:oe;pe.needsConvertToTspans?p.convertToTspans(be,le,Re(ne,Ae,se,le,pe)):L.select(Ae.parentNode).attr("transform",function(xe){return t(Z(xe),g.cellPad)}).attr("text-anchor",function(xe){return{left:"start",center:"middle",right:"end"}[xe.align]})})}function x(j){return typeof j=="string"&&j.match(g.latexCheck)}function _(j){return j.indexOf(g.wrapSplitCharacter)!==-1}function I(j,se,ne){var le=se.gdColumnsOriginalOrder;se.gdColumns.sort(function(pe,Ae){return ne[le.indexOf(pe)]-ne[le.indexOf(Ae)]}),se.columnorder=ne,j.emit("plotly_restyle")}function N(j,se,ne){if(a.isArrayOrTypedArray(j)){var le=j[Math.min(se,j.length-1)];return a.isArrayOrTypedArray(le)?le[Math.min(ne,le.length-1)]:le}else return j}function k(j,se,ne){j.transition().ease(g.releaseTransitionEase).duration(g.releaseTransitionDuration).attr("transform",t(se.x,ne))}function F(j){return j.type==="cells"}function O(j){return j.type==="header"}function z(j){var se=j.rowBlocks.length?j.rowBlocks[0].auxiliaryBlocks:[];return se.reduce(function(ne,le){return ne+X(le,1/0)},0)}function B(j,se,ne){for(var le=[],pe=0,Ae=0;Ae<j.length;Ae++){for(var be=j[Ae],Re=be.rows,xe=0,Me=0;Me<Re.length;Me++)xe+=Re[Me].rowHeight;be.allRowsHeight=xe;var ye=pe+xe,Se=se,Fe=Se+ne;Se<ye&&Fe>pe&&le.push(Ae),pe+=xe}return le}function W(j,se,ne){var le=M(se)[0];if(le!==void 0){var pe=le.rowBlocks,Ae=le.calcdata,be=te(pe,pe.length),Re=le.calcdata.groupHeight-z(le),xe=Ae.scrollY=Math.max(0,Math.min(be-Re,Ae.scrollY)),Me=B(pe,xe,Re);Me.length===1&&(Me[0]===pe.length-1?Me.unshift(Me[0]-1):Me.push(Me[0]+1)),Me[0]%2&&Me.reverse(),se.each(function(ye,Se){ye.page=Me[Se],ye.scrollY=xe}),se.attr("transform",function(ye){var Se=te(ye.rowBlocks,ye.page)-ye.scrollY;return t(0,Se)}),j&&(ee(j,ne,se,Me,le.prevPages,le,0),ee(j,ne,se,Me,le.prevPages,le,1),c(ne,j))}}function q(j,se,ne,le){return function(Ae){var be=Ae.calcdata?Ae.calcdata:Ae,Re=se.filter(function(Se){return be.key===Se.key}),xe=ne||be.scrollbarState.dragMultiplier,Me=be.scrollY;be.scrollY=le===void 0?be.scrollY+xe*L.event.dy:le;var ye=Re.selectAll("."+g.cn.yColumn).selectAll("."+g.cn.columnBlock).filter(F);return W(j,ye,Re),be.scrollY===Me}}function ee(j,se,ne,le,pe,Ae,be){var Re=le[be]!==pe[be];Re&&(clearTimeout(Ae.currentRepaint[be]),Ae.currentRepaint[be]=setTimeout(function(){var xe=ne.filter(function(Me,ye){return ye===be&&le[ye]!==pe[ye]});i(j,se,xe,ne),pe[be]=le[be]}))}function Q(j,se,ne,le){return function(){var Ae=L.select(se.parentNode);Ae.each(function(be){var Re=be.fragments;Ae.selectAll("tspan.line").each(function(Ue,it){Re[it].width=this.getComputedTextLength()});var xe=Re[Re.length-1].width,Me=Re.slice(0,-1),ye=[],Se,Fe,Be=0,_e=be.column.columnWidth-2*g.cellPad;for(be.value="";Me.length;)Se=Me.shift(),Fe=Se.width+xe,Be+Fe>_e&&(be.value+=ye.join(g.wrapSpacer)+g.lineBreaker,ye=[],Be=0),ye.push(Se.text),Be+=Fe;Be&&(be.value+=ye.join(g.wrapSpacer)),be.wrapped=!0}),Ae.selectAll("tspan.line").remove(),P(Ae.select("."+g.cn.cellText),ne,j,le),L.select(se.parentNode.parentNode).call(Y)}}function oe(j,se,ne,le,pe){return function(){if(!pe.settledY){var be=L.select(se.parentNode),Re=ie(pe),xe=pe.key-Re.firstRowIndex,Me=Re.rows[xe].rowHeight,ye=pe.cellHeightMayIncrease?se.parentNode.getBoundingClientRect().height+2*g.cellPad:Me,Se=Math.max(ye,Me),Fe=Se-Re.rows[xe].rowHeight;Fe&&(Re.rows[xe].rowHeight=Se,j.selectAll("."+g.cn.columnCell).call(Y),W(null,j.filter(F),0),c(ne,le,!0)),be.attr("transform",function(){var Be=this,_e=Be.parentNode,Ue=_e.getBoundingClientRect(),it=L.select(Be.parentNode).select("."+g.cn.cellRect).node().getBoundingClientRect(),lt=Be.transform.baseVal.consolidate(),$e=it.top-Ue.top+(lt?lt.matrix.f:g.cellPad);return t(Z(pe,L.select(Be.parentNode).select("."+g.cn.cellTextHolder).node().getBoundingClientRect().width),$e)}),pe.settledY=!0}}}function Z(j,se){switch(j.align){case"left":return g.cellPad;case"right":return j.column.columnWidth-(se||0)-g.cellPad;case"center":return(j.column.columnWidth-(se||0))/2;default:return g.cellPad}}function Y(j){j.attr("transform",function(se){var ne=se.rowBlocks[0].auxiliaryBlocks.reduce(function(be,Re){return be+X(Re,1/0)},0),le=ie(se),pe=X(le,se.key),Ae=pe+ne;return t(0,Ae)}).selectAll("."+g.cn.cellRect).attr("height",function(se){return J(ie(se),se.key).rowHeight})}function te(j,se){for(var ne=0,le=se-1;le>=0;le--)ne+=$(j[le]);return ne}function X(j,se){for(var ne=0,le=0;le<j.rows.length&&j.rows[le].rowIndex<se;le++)ne+=j.rows[le].rowHeight;return ne}function $(j){var se=j.allRowsHeight;if(se!==void 0)return se;for(var ne=0,le=0;le<j.rows.length;le++)ne+=j.rows[le].rowHeight;return j.allRowsHeight=ne,ne}function ie(j){return j.rowBlocks[j.page]}function J(j,se){return j.rows[se-j.firstRowIndex]}},40516:function(G,U,e){var g=e(21776).Ks,L=e(21776).Gw,a=e(49084),C=e(86968).u,A=e(74996),v=e(424),p=e(32984),r=e(92880).extendFlat,t=e(98192).c;G.exports={labels:v.labels,parents:v.parents,values:v.values,branchvalues:v.branchvalues,count:v.count,level:v.level,maxdepth:v.maxdepth,tiling:{packing:{valType:"enumerated",values:["squarify","binary","dice","slice","slice-dice","dice-slice"],dflt:"squarify",editType:"plot"},squarifyratio:{valType:"number",min:1,dflt:1,editType:"plot"},flip:{valType:"flaglist",flags:["x","y"],dflt:"",editType:"plot"},pad:{valType:"number",min:0,dflt:3,editType:"plot"},editType:"calc"},marker:r({pad:{t:{valType:"number",min:0,editType:"plot"},l:{valType:"number",min:0,editType:"plot"},r:{valType:"number",min:0,editType:"plot"},b:{valType:"number",min:0,editType:"plot"},editType:"calc"},colors:v.marker.colors,pattern:t,depthfade:{valType:"enumerated",values:[!0,!1,"reversed"],editType:"style"},line:v.marker.line,cornerradius:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},a("marker",{colorAttr:"colors",anim:!1})),pathbar:{visible:{valType:"boolean",dflt:!0,editType:"plot"},side:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},edgeshape:{valType:"enumerated",values:[">","<","|","/","\\"],dflt:">",editType:"plot"},thickness:{valType:"number",min:12,editType:"plot"},textfont:r({},A.textfont,{}),editType:"calc"},text:A.text,textinfo:v.textinfo,texttemplate:L({editType:"plot"},{keys:p.eventDataKeys.concat(["label","value"])}),hovertext:A.hovertext,hoverinfo:v.hoverinfo,hovertemplate:g({},{keys:p.eventDataKeys}),textfont:A.textfont,insidetextfont:A.insidetextfont,outsidetextfont:r({},A.outsidetextfont,{}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"top left",editType:"plot"},sort:A.sort,root:v.root,domain:C({name:"treemap",trace:!0,editType:"calc"})}},79516:function(G,U,e){var g=e(7316);U.name="treemap",U.plot=function(L,a,C,A){g.plotBasePlot(U.name,L,a,C,A)},U.clean=function(L,a,C,A){g.cleanBasePlot(U.name,L,a,C,A)}},97840:function(G,U,e){var g=e(3776);U.r=function(L,a){return g.calc(L,a)},U.q=function(L){return g._runCrossTraceCalc("treemap",L)}},32984:function(G){G.exports={CLICK_TRANSITION_TIME:750,CLICK_TRANSITION_EASING:"poly",eventDataKeys:["currentPath","root","entry","percentRoot","percentEntry","percentParent"],gapWithPathbar:1}},34092:function(G,U,e){var g=e(3400),L=e(40516),a=e(76308),C=e(86968).Q,A=e(31508).handleText,v=e(78048).TEXTPAD,p=e(74174).handleMarkerDefaults,r=e(8932),t=r.hasColorscale,s=r.handleDefaults;G.exports=function(f,u,l,m){function h(o,P){return g.coerce(f,u,L,o,P)}var M=h("labels"),c=h("parents");if(!M||!M.length||!c||!c.length){u.visible=!1;return}var i=h("values");i&&i.length?h("branchvalues"):h("count"),h("level"),h("maxdepth");var d=h("tiling.packing");d==="squarify"&&h("tiling.squarifyratio"),h("tiling.flip"),h("tiling.pad");var b=h("text");h("texttemplate"),u.texttemplate||h("textinfo",g.isArrayOrTypedArray(b)?"text+label":"label"),h("hovertext"),h("hovertemplate");var w=h("pathbar.visible"),E="auto";A(f,u,m,h,E,{hasPathbar:w,moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),h("textposition");var y=u.textposition.indexOf("bottom")!==-1;p(f,u,m,h);var S=u._hasColorscale=t(f,"marker","colors")||(f.marker||{}).coloraxis;S?s(f,u,m,h,{prefix:"marker.",cLetter:"c"}):h("marker.depthfade",!(u.marker.colors||[]).length);var T=u.textfont.size*2;h("marker.pad.t",y?T/4:T),h("marker.pad.l",T/4),h("marker.pad.r",T/4),h("marker.pad.b",y?T:T/4),h("marker.cornerradius"),u._hovered={marker:{line:{width:2,color:a.contrast(m.paper_bgcolor)}}},w&&(h("pathbar.thickness",u.pathbar.textfont.size+2*v),h("pathbar.side"),h("pathbar.edgeshape")),h("sort"),h("root.color"),C(u,m,h),u._length=null}},95808:function(G,U,e){var g=e(33428),L=e(78176),a=e(82744),C=a.clearMinTextSize,A=e(60100).resizeText,v=e(52960);G.exports=function(r,t,s,n,f){var u=f.type,l=f.drawDescendants,m=r._fullLayout,h=m["_"+u+"layer"],M,c,i=!s;if(C(u,m),M=h.selectAll("g.trace."+u).data(t,function(b){return b[0].trace.uid}),M.enter().append("g").classed("trace",!0).classed(u,!0),M.order(),!m.uniformtext.mode&&L.hasTransition(s)){n&&(c=n());var d=g.transition().duration(s.duration).ease(s.easing).each("end",function(){c&&c()}).each("interrupt",function(){c&&c()});d.each(function(){h.selectAll("g.trace").each(function(b){v(r,b,this,s,l)})})}else M.each(function(b){v(r,b,this,s,l)}),m.uniformtext.mode&&A(r,h.selectAll(".trace"),u);i&&M.exit().remove()}},27336:function(G,U,e){var g=e(33428),L=e(3400),a=e(43616),C=e(72736),A=e(13832),v=e(66192).styleOne,p=e(32984),r=e(78176),t=e(45716),s=!0;G.exports=function(f,u,l,m,h){var M=h.barDifY,c=h.width,i=h.height,d=h.viewX,b=h.viewY,w=h.pathSlice,E=h.toMoveInsideSlice,y=h.strTransform,S=h.hasTransition,T=h.handleSlicesExit,o=h.makeUpdateSliceInterpolator,P=h.makeUpdateTextInterpolator,x={},_=f._context.staticPlot,I=f._fullLayout,N=u[0],k=N.trace,F=N.hierarchy,O=c/k._entryDepth,z=r.listPath(l.data,"id"),B=A(F.copy(),[c,i],{packing:"dice",pad:{inner:0,top:0,left:0,right:0,bottom:0}}).descendants();B=B.filter(function(q){var ee=z.indexOf(q.data.id);return ee===-1?!1:(q.x0=O*ee,q.x1=O*(ee+1),q.y0=M,q.y1=M+i,q.onPathbar=!0,!0)}),B.reverse(),m=m.data(B,r.getPtId),m.enter().append("g").classed("pathbar",!0),T(m,s,x,[c,i],w),m.order();var W=m;S&&(W=W.transition().each("end",function(){var q=g.select(this);r.setSliceCursor(q,f,{hideOnRoot:!1,hideOnLeaves:!1,isTransitioning:!1})})),W.each(function(q){q._x0=d(q.x0),q._x1=d(q.x1),q._y0=b(q.y0),q._y1=b(q.y1),q._hoverX=d(q.x1-Math.min(c,i)/2),q._hoverY=b(q.y1-i/2);var ee=g.select(this),Q=L.ensureSingle(ee,"path","surface",function(te){te.style("pointer-events",_?"none":"all")});S?Q.transition().attrTween("d",function(te){var X=o(te,s,x,[c,i]);return function($){return w(X($))}}):Q.attr("d",w),ee.call(t,l,f,u,{styleOne:v,eventDataKeys:p.eventDataKeys,transitionTime:p.CLICK_TRANSITION_TIME,transitionEasing:p.CLICK_TRANSITION_EASING}).call(r.setSliceCursor,f,{hideOnRoot:!1,hideOnLeaves:!1,isTransitioning:f._transitioning}),Q.call(v,q,k,f,{hovered:!1}),q._text=(r.getPtLabel(q)||"").split("<br>").join(" ")||"";var oe=L.ensureSingle(ee,"g","slicetext"),Z=L.ensureSingle(oe,"text","",function(te){te.attr("data-notex",1)}),Y=L.ensureUniformFontSize(f,r.determineTextFont(k,q,I.font,{onPathbar:!0}));Z.text(q._text||" ").classed("slicetext",!0).attr("text-anchor","start").call(a.font,Y).call(C.convertToTspans,f),q.textBB=a.bBox(Z.node()),q.transform=E(q,{fontSize:Y.size,onPathbar:!0}),q.transform.fontSize=Y.size,S?Z.transition().attrTween("transform",function(te){var X=P(te,s,x,[c,i]);return function($){return y(X($))}}):Z.attr("transform",y(q))})}},76477:function(G,U,e){var g=e(33428),L=e(3400),a=e(43616),C=e(72736),A=e(13832),v=e(66192).styleOne,p=e(32984),r=e(78176),t=e(45716),s=e(96488).formatSliceLabel,n=!1;G.exports=function(u,l,m,h,M){var c=M.width,i=M.height,d=M.viewX,b=M.viewY,w=M.pathSlice,E=M.toMoveInsideSlice,y=M.strTransform,S=M.hasTransition,T=M.handleSlicesExit,o=M.makeUpdateSliceInterpolator,P=M.makeUpdateTextInterpolator,x=M.prevEntry,_={},I=u._context.staticPlot,N=u._fullLayout,k=l[0],F=k.trace,O=F.textposition.indexOf("left")!==-1,z=F.textposition.indexOf("right")!==-1,B=F.textposition.indexOf("bottom")!==-1,W=!B&&!F.marker.pad.t||B&&!F.marker.pad.b,q=A(m,[c,i],{packing:F.tiling.packing,squarifyratio:F.tiling.squarifyratio,flipX:F.tiling.flip.indexOf("x")>-1,flipY:F.tiling.flip.indexOf("y")>-1,pad:{inner:F.tiling.pad,top:F.marker.pad.t,left:F.marker.pad.l,right:F.marker.pad.r,bottom:F.marker.pad.b}}),ee=q.descendants(),Q=1/0,oe=-1/0;ee.forEach(function($){var ie=$.depth;ie>=F._maxDepth?($.x0=$.x1=($.x0+$.x1)/2,$.y0=$.y1=($.y0+$.y1)/2):(Q=Math.min(Q,ie),oe=Math.max(oe,ie))}),h=h.data(ee,r.getPtId),F._maxVisibleLayers=isFinite(oe)?oe-Q+1:0,h.enter().append("g").classed("slice",!0),T(h,n,_,[c,i],w),h.order();var Z=null;if(S&&x){var Y=r.getPtId(x);h.each(function($){Z===null&&r.getPtId($)===Y&&(Z={x0:$.x0,x1:$.x1,y0:$.y0,y1:$.y1})})}var te=function(){return Z||{x0:0,x1:c,y0:0,y1:i}},X=h;return S&&(X=X.transition().each("end",function(){var $=g.select(this);r.setSliceCursor($,u,{hideOnRoot:!0,hideOnLeaves:!1,isTransitioning:!1})})),X.each(function($){var ie=r.isHeader($,F);$._x0=d($.x0),$._x1=d($.x1),$._y0=b($.y0),$._y1=b($.y1),$._hoverX=d($.x1-F.marker.pad.r),$._hoverY=b(B?$.y1-F.marker.pad.b/2:$.y0+F.marker.pad.t/2);var J=g.select(this),j=L.ensureSingle(J,"path","surface",function(pe){pe.style("pointer-events",I?"none":"all")});S?j.transition().attrTween("d",function(pe){var Ae=o(pe,n,te(),[c,i]);return function(be){return w(Ae(be))}}):j.attr("d",w),J.call(t,m,u,l,{styleOne:v,eventDataKeys:p.eventDataKeys,transitionTime:p.CLICK_TRANSITION_TIME,transitionEasing:p.CLICK_TRANSITION_EASING}).call(r.setSliceCursor,u,{isTransitioning:u._transitioning}),j.call(v,$,F,u,{hovered:!1}),$.x0===$.x1||$.y0===$.y1?$._text="":ie?$._text=W?"":r.getPtLabel($)||"":$._text=s($,m,F,l,N)||"";var se=L.ensureSingle(J,"g","slicetext"),ne=L.ensureSingle(se,"text","",function(pe){pe.attr("data-notex",1)}),le=L.ensureUniformFontSize(u,r.determineTextFont(F,$,N.font));ne.text($._text||" ").classed("slicetext",!0).attr("text-anchor",z?"end":O||ie?"start":"middle").call(a.font,le).call(C.convertToTspans,u),$.textBB=a.bBox(ne.node()),$.transform=E($,{fontSize:le.size,isHeader:ie}),$.transform.fontSize=le.size,S?ne.transition().attrTween("transform",function(pe){var Ae=P(pe,n,te(),[c,i]);return function(be){return y(Ae(be))}}):ne.attr("transform",y($))}),Z}},83024:function(G){G.exports=function U(e,g,L){var a;L.swapXY&&(a=e.x0,e.x0=e.y0,e.y0=a,a=e.x1,e.x1=e.y1,e.y1=a),L.flipX&&(a=e.x0,e.x0=g[0]-e.x1,e.x1=g[0]-a),L.flipY&&(a=e.y0,e.y0=g[1]-e.y1,e.y1=g[1]-a);var C=e.children;if(C)for(var A=0;A<C.length;A++)U(C[A],g,L)}},31991:function(G,U,e){G.exports={moduleType:"trace",name:"treemap",basePlotModule:e(79516),categories:[],animatable:!0,attributes:e(40516),layoutAttributes:e(45392),supplyDefaults:e(34092),supplyLayoutDefaults:e(77480),calc:e(97840).r,crossTraceCalc:e(97840).q,plot:e(53264),style:e(66192).style,colorbar:e(5528),meta:{}}},45392:function(G){G.exports={treemapcolorway:{valType:"colorlist",editType:"calc"},extendtreemapcolors:{valType:"boolean",dflt:!0,editType:"calc"}}},77480:function(G,U,e){var g=e(3400),L=e(45392);G.exports=function(C,A){function v(p,r){return g.coerce(C,A,L,p,r)}v("treemapcolorway",A.colorway),v("extendtreemapcolors")}},13832:function(G,U,e){var g=e(74148),L=e(83024);G.exports=function(A,v,p){var r=p.flipX,t=p.flipY,s=p.packing==="dice-slice",n=p.pad[t?"bottom":"top"],f=p.pad[r?"right":"left"],u=p.pad[r?"left":"right"],l=p.pad[t?"top":"bottom"],m;s&&(m=f,f=n,n=m,m=u,u=l,l=m);var h=g.treemap().tile(a(p.packing,p.squarifyratio)).paddingInner(p.pad.inner).paddingLeft(f).paddingRight(u).paddingTop(n).paddingBottom(l).size(s?[v[1],v[0]]:v)(A);return(s||r||t)&&L(h,v,{swapXY:s,flipX:r,flipY:t}),h};function a(C,A){switch(C){case"squarify":return g.treemapSquarify.ratio(A);case"binary":return g.treemapBinary;case"dice":return g.treemapDice;case"slice":return g.treemapSlice;default:return g.treemapSliceDice}}},53264:function(G,U,e){var g=e(95808),L=e(76477);G.exports=function(C,A,v,p){return g(C,A,v,p,{type:"treemap",drawDescendants:L})}},52960:function(G,U,e){var g=e(33428),L=e(67756).qy,a=e(78176),C=e(3400),A=e(78048).TEXTPAD,v=e(98184),p=v.toMoveInsideBar,r=e(82744),t=r.recordMinTextSize,s=e(32984),n=e(27336);function f(u){return a.isHierarchyRoot(u)?"":a.getPtId(u)}G.exports=function(l,m,h,M,c){var i=l._fullLayout,d=m[0],b=d.trace,w=b.type,E=w==="icicle",y=d.hierarchy,S=a.findEntryWithLevel(y,b.level),T=g.select(h),o=T.selectAll("g.pathbar"),P=T.selectAll("g.slice");if(!S){o.remove(),P.remove();return}var x=a.isHierarchyRoot(S),_=!i.uniformtext.mode&&a.hasTransition(M),I=a.getMaxDepth(b),N=function(Ie){return Ie.data.depth-S.data.depth<I},k=i._size,F=b.domain,O=k.w*(F.x[1]-F.x[0]),z=k.h*(F.y[1]-F.y[0]),B=O,W=b.pathbar.thickness,q=b.marker.line.width+s.gapWithPathbar,ee=b.pathbar.visible?b.pathbar.side.indexOf("bottom")>-1?z+q:-(W+q):0,Q={x0:B,x1:B,y0:ee,y1:ee+W},oe=function(Ie,We,Ze){var He=b.tiling.pad,De=function(Te){return Te-He<=We.x0},me=function(Te){return Te+He>=We.x1},ge=function(Te){return Te-He<=We.y0},Ee=function(Te){return Te+He>=We.y1};return Ie.x0===We.x0&&Ie.x1===We.x1&&Ie.y0===We.y0&&Ie.y1===We.y1?{x0:Ie.x0,x1:Ie.x1,y0:Ie.y0,y1:Ie.y1}:{x0:De(Ie.x0-He)?0:me(Ie.x0-He)?Ze[0]:Ie.x0,x1:De(Ie.x1+He)?0:me(Ie.x1+He)?Ze[0]:Ie.x1,y0:ge(Ie.y0-He)?0:Ee(Ie.y0-He)?Ze[1]:Ie.y0,y1:ge(Ie.y1+He)?0:Ee(Ie.y1+He)?Ze[1]:Ie.y1}},Z=null,Y={},te={},X=null,$=function(Ie,We){return We?Y[f(Ie)]:te[f(Ie)]},ie=function(Ie,We,Ze,He){if(We)return Y[f(y)]||Q;var De=te[b.level]||Ze;return N(Ie)?oe(Ie,De,He):{}};d.hasMultipleRoots&&x&&I++,b._maxDepth=I,b._backgroundColor=i.paper_bgcolor,b._entryDepth=S.data.depth,b._atRootLevel=x;var J=-O/2+k.l+k.w*(F.x[1]+F.x[0])/2,j=-z/2+k.t+k.h*(1-(F.y[1]+F.y[0])/2),se=function(Ie){return J+Ie},ne=function(Ie){return j+Ie},le=ne(0),pe=se(0),Ae=function(Ie){return pe+Ie},be=function(Ie){return le+Ie};function Re(Ie,We){return Ie+","+We}var xe=Ae(0),Me=function(Ie){Ie.x=Math.max(xe,Ie.x)},ye=b.pathbar.edgeshape,Se=function(Ie){var We=Ae(Math.max(Math.min(Ie.x0,Ie.x0),0)),Ze=Ae(Math.min(Math.max(Ie.x1,Ie.x1),B)),He=be(Ie.y0),De=be(Ie.y1),me=W/2,ge={},Ee={};ge.x=We,Ee.x=Ze,ge.y=Ee.y=(He+De)/2;var Te={x:We,y:He},ze={x:Ze,y:He},Xe={x:Ze,y:De},et={x:We,y:De};return ye===">"?(Te.x-=me,ze.x-=me,Xe.x-=me,et.x-=me):ye==="/"?(Xe.x-=me,et.x-=me,ge.x-=me/2,Ee.x-=me/2):ye==="\\"?(Te.x-=me,ze.x-=me,ge.x-=me/2,Ee.x-=me/2):ye==="<"&&(ge.x-=me,Ee.x-=me),Me(Te),Me(et),Me(ge),Me(ze),Me(Xe),Me(Ee),"M"+Re(Te.x,Te.y)+"L"+Re(ze.x,ze.y)+"L"+Re(Ee.x,Ee.y)+"L"+Re(Xe.x,Xe.y)+"L"+Re(et.x,et.y)+"L"+Re(ge.x,ge.y)+"Z"},Fe=b[E?"tiling":"marker"].pad,Be=function(Ie){return b.textposition.indexOf(Ie)!==-1},_e=Be("top"),Ue=Be("left"),it=Be("right"),lt=Be("bottom"),$e=function(Ie){var We=se(Ie.x0),Ze=se(Ie.x1),He=ne(Ie.y0),De=ne(Ie.y1),me=Ze-We,ge=De-He;if(!me||!ge)return"";var Ee=b.marker.cornerradius||0,Te=Math.min(Ee,me/2,ge/2);Te&&Ie.data&&Ie.data.data&&Ie.data.data.label&&(_e&&(Te=Math.min(Te,Fe.t)),Ue&&(Te=Math.min(Te,Fe.l)),it&&(Te=Math.min(Te,Fe.r)),lt&&(Te=Math.min(Te,Fe.b)));var ze=function(Xe,et){return Te?"a"+Re(Te,Te)+" 0 0 1 "+Re(Xe,et):""};return"M"+Re(We,He+Te)+ze(Te,-Te)+"L"+Re(Ze-Te,He)+ze(Te,Te)+"L"+Re(Ze,De-Te)+ze(-Te,Te)+"L"+Re(We+Te,De)+ze(-Te,-Te)+"Z"},qe=function(Ie,We){var Ze=Ie.x0,He=Ie.x1,De=Ie.y0,me=Ie.y1,ge=Ie.textBB,Ee=_e||We.isHeader&&!lt,Te=Ee?"start":lt?"end":"middle",ze=Be("right"),Xe=Be("left")||We.onPathbar,et=Xe?-1:ze?1:0;if(We.isHeader){if(Ze+=(E?Fe:Fe.l)-A,He-=(E?Fe:Fe.r)-A,Ze>=He){var ut=(Ze+He)/2;Ze=ut,He=ut}var dt;lt?(dt=me-(E?Fe:Fe.b),De<dt&&dt<me&&(De=dt)):(dt=De+(E?Fe:Fe.t),De<dt&&dt<me&&(me=dt))}var Zt=p(Ze,He,De,me,ge,{isHorizontal:!1,constrained:!0,angle:0,anchor:Te,leftToRight:et});return Zt.fontSize=We.fontSize,Zt.targetX=se(Zt.targetX),Zt.targetY=ne(Zt.targetY),isNaN(Zt.targetX)||isNaN(Zt.targetY)?{}:(Ze!==He&&De!==me&&t(b.type,Zt,i),{scale:Zt.scale,rotate:Zt.rotate,textX:Zt.textX,textY:Zt.textY,anchorX:Zt.anchorX,anchorY:Zt.anchorY,targetX:Zt.targetX,targetY:Zt.targetY})},ft=function(Ie,We){for(var Ze,He=0,De=Ie;!Ze&&He<I;)He++,De=De.parent,De?Ze=$(De,We):He=I;return Ze||{}},ct=function(Ie,We,Ze,He){var De=$(Ie,We),me;if(We)me=Q;else{var ge=$(S,We);ge?me=oe(Ie,ge,He):me={}}return L(De,me)},pt=function(Ie,We,Ze,He,De){var me=$(Ie,We),ge;if(me)ge=me;else if(We)ge=Q;else if(Z)if(Ie.parent){var Ee=X||Ze;Ee&&!We?ge=oe(Ie,Ee,He):(ge={},C.extendFlat(ge,ft(Ie,We)))}else ge=C.extendFlat({},Ie),E&&(De.orientation==="h"?De.flipX?ge.x0=Ie.x1:ge.x1=0:De.flipY?ge.y0=Ie.y1:ge.y1=0);else ge={};return L(ge,{x0:Ie.x0,x1:Ie.x1,y0:Ie.y0,y1:Ie.y1})},yt=function(Ie,We,Ze,He){var De=$(Ie,We),me={},ge=ie(Ie,We,Ze,He);C.extendFlat(me,{transform:qe({x0:ge.x0,x1:ge.x1,y0:ge.y0,y1:ge.y1,textBB:Ie.textBB,_text:Ie._text},{isHeader:a.isHeader(Ie,b)})}),De?me=De:Ie.parent&&C.extendFlat(me,ft(Ie,We));var Ee=Ie.transform;return Ie.x0!==Ie.x1&&Ie.y0!==Ie.y1&&t(b.type,Ee,i),L(me,{transform:{scale:Ee.scale,rotate:Ee.rotate,textX:Ee.textX,textY:Ee.textY,anchorX:Ee.anchorX,anchorY:Ee.anchorY,targetX:Ee.targetX,targetY:Ee.targetY}})},Et=function(Ie,We,Ze,He,De){var me=He[0],ge=He[1];_?Ie.exit().transition().each(function(){var Ee=g.select(this),Te=Ee.select("path.surface");Te.transition().attrTween("d",function(Xe){var et=ct(Xe,We,Ze,[me,ge]);return function(ut){return De(et(ut))}});var ze=Ee.select("g.slicetext");ze.attr("opacity",0)}).remove():Ie.exit().remove()},tt=function(Ie){var We=Ie.transform;return Ie.x0!==Ie.x1&&Ie.y0!==Ie.y1&&t(b.type,We,i),C.getTextTransform({textX:We.textX,textY:We.textY,anchorX:We.anchorX,anchorY:We.anchorY,targetX:We.targetX,targetY:We.targetY,scale:We.scale,rotate:We.rotate})};_&&(o.each(function(Ie){Y[f(Ie)]={x0:Ie.x0,x1:Ie.x1,y0:Ie.y0,y1:Ie.y1},Ie.transform&&(Y[f(Ie)].transform={textX:Ie.transform.textX,textY:Ie.transform.textY,anchorX:Ie.transform.anchorX,anchorY:Ie.transform.anchorY,targetX:Ie.transform.targetX,targetY:Ie.transform.targetY,scale:Ie.transform.scale,rotate:Ie.transform.rotate})}),P.each(function(Ie){te[f(Ie)]={x0:Ie.x0,x1:Ie.x1,y0:Ie.y0,y1:Ie.y1},Ie.transform&&(te[f(Ie)].transform={textX:Ie.transform.textX,textY:Ie.transform.textY,anchorX:Ie.transform.anchorX,anchorY:Ie.transform.anchorY,targetX:Ie.transform.targetX,targetY:Ie.transform.targetY,scale:Ie.transform.scale,rotate:Ie.transform.rotate}),!Z&&a.isEntry(Ie)&&(Z=Ie)})),X=c(l,m,S,P,{width:O,height:z,viewX:se,viewY:ne,pathSlice:$e,toMoveInsideSlice:qe,prevEntry:Z,makeUpdateSliceInterpolator:pt,makeUpdateTextInterpolator:yt,handleSlicesExit:Et,hasTransition:_,strTransform:tt}),b.pathbar.visible?n(l,m,S,o,{barDifY:ee,width:B,height:W,viewX:Ae,viewY:be,pathSlice:Se,toMoveInsideSlice:qe,makeUpdateSliceInterpolator:pt,makeUpdateTextInterpolator:yt,handleSlicesExit:Et,hasTransition:_,strTransform:tt}):o.remove()}},66192:function(G,U,e){var g=e(33428),L=e(76308),a=e(3400),C=e(78176),A=e(82744).resizeText,v=e(60404);function p(t){var s=t._fullLayout._treemaplayer.selectAll(".trace");A(t,s,"treemap"),s.each(function(n){var f=g.select(this),u=n[0],l=u.trace;f.style("opacity",l.opacity),f.selectAll("path.surface").each(function(m){g.select(this).call(r,m,l,t,{hovered:!1})})})}function r(t,s,n,f,u){var l=(u||{}).hovered,m=s.data.data,h=m.i,M,c,i=m.color,d=C.isHierarchyRoot(s),b=1;if(l)M=n._hovered.marker.line.color,c=n._hovered.marker.line.width;else if(d&&i===n.root.color)b=100,M="rgba(0,0,0,0)",c=0;else if(M=a.castOption(n,h,"marker.line.color")||L.defaultLine,c=a.castOption(n,h,"marker.line.width")||0,!n._hasColorscale&&!s.onPathbar){var w=n.marker.depthfade;if(w){var E=L.combine(L.addOpacity(n._backgroundColor,.75),i),y;if(w===!0){var S=C.getMaxDepth(n);isFinite(S)?C.isLeaf(s)?y=0:y=n._maxVisibleLayers-(s.data.depth-n._entryDepth):y=s.data.height+1}else y=s.data.depth-n._entryDepth,n._atRootLevel||y++;if(y>0)for(var T=0;T<y;T++){var o=.5*T/y;i=L.combine(L.addOpacity(E,o),i)}}}t.call(v,s,n,f,i).style("stroke-width",c).call(L.stroke,M).style("opacity",b)}G.exports={style:p,styleOne:r}},13988:function(G,U,e){var g=e(63188),L=e(92880).extendFlat,a=e(29736).axisHoverFormat;G.exports={y:g.y,x:g.x,x0:g.x0,y0:g.y0,xhoverformat:a("x"),yhoverformat:a("y"),name:L({},g.name,{}),orientation:L({},g.orientation,{}),bandwidth:{valType:"number",min:0,editType:"calc"},scalegroup:{valType:"string",dflt:"",editType:"calc"},scalemode:{valType:"enumerated",values:["width","count"],dflt:"width",editType:"calc"},spanmode:{valType:"enumerated",values:["soft","hard","manual"],dflt:"soft",editType:"calc"},span:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,dflt:2,editType:"style"},editType:"plot"},fillcolor:g.fillcolor,points:L({},g.boxpoints,{}),jitter:L({},g.jitter,{}),pointpos:L({},g.pointpos,{}),width:L({},g.width,{}),marker:g.marker,text:g.text,hovertext:g.hovertext,hovertemplate:g.hovertemplate,quartilemethod:g.quartilemethod,box:{visible:{valType:"boolean",dflt:!1,editType:"plot"},width:{valType:"number",min:0,max:1,dflt:.25,editType:"plot"},fillcolor:{valType:"color",editType:"style"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,editType:"style"},editType:"style"},editType:"plot"},meanline:{visible:{valType:"boolean",dflt:!1,editType:"plot"},color:{valType:"color",editType:"style"},width:{valType:"number",min:0,editType:"style"},editType:"plot"},side:{valType:"enumerated",values:["both","positive","negative"],dflt:"both",editType:"calc"},offsetgroup:g.offsetgroup,alignmentgroup:g.alignmentgroup,selected:g.selected,unselected:g.unselected,hoveron:{valType:"flaglist",flags:["violins","points","kde"],dflt:"violins+points+kde",extras:["all"],editType:"style"}}},67064:function(G,U,e){var g=e(3400),L=e(54460),a=e(62555),C=e(63800),A=e(39032).BADNUM;G.exports=function(s,n){var f=a(s,n);if(f[0].t.empty)return f;for(var u=s._fullLayout,l=L.getFromId(s,n[n.orientation==="h"?"xaxis":"yaxis"]),m=1/0,h=-1/0,M=0,c=0,i=0;i<f.length;i++){var d=f[i],b=d.pts.map(C.extractVal),w=d.bandwidth=p(n,d,b),E=d.span=r(n,d,l,w);if(d.min===d.max&&w===0)E=d.span=[d.min,d.max],d.density=[{v:1,t:E[0]}],d.bandwidth=w,M=Math.max(M,1);else{var y=E[1]-E[0],S=Math.ceil(y/(w/3)),T=y/S;if(!isFinite(T)||!isFinite(S))return g.error("Something went wrong with computing the violin span"),f[0].t.empty=!0,f;var o=C.makeKDE(d,n,b);d.density=new Array(S);for(var P=0,x=E[0];x<E[1]+T/2;P++,x+=T){var _=o(x);d.density[P]={v:_,t:x},M=Math.max(M,_)}}c=Math.max(c,b.length),m=Math.min(m,E[0]),h=Math.max(h,E[1])}var I=L.findExtremes(l,[m,h],{padded:!0});if(n._extremes[l._id]=I,n.width)f[0].t.maxKDE=M;else{var N=u._violinScaleGroupStats,k=n.scalegroup,F=N[k];F?(F.maxKDE=Math.max(F.maxKDE,M),F.maxCount=Math.max(F.maxCount,c)):N[k]={maxKDE:M,maxCount:c}}return f[0].t.labels.kde=g._(s,"kde:"),f};function v(t,s,n){var f=Math.min(s,n/1.349);return 1.059*f*Math.pow(t,-.2)}function p(t,s,n){var f=s.max-s.min;if(!f)return t.bandwidth?t.bandwidth:0;if(t.bandwidth)return Math.max(t.bandwidth,f/1e4);var u=n.length,l=g.stdev(n,u-1,s.mean);return Math.max(v(u,l,s.q3-s.q1),f/100)}function r(t,s,n,f){var u=t.spanmode,l=t.span||[],m=[s.min,s.max],h=[s.min-2*f,s.max+2*f],M;function c(d){var b=l[d],w=n.type==="multicategory"?n.r2c(b):n.d2c(b,0,t[s.valLetter+"calendar"]);return w===A?h[d]:w}u==="soft"?M=h:u==="hard"?M=m:M=[c(0),c(1)];var i={type:"linear",range:M};return L.setConvert(i),i.cleanRange(),M}},14348:function(G,U,e){var g=e(96404).setPositionOffset,L=["v","h"];G.exports=function(C,A){for(var v=C.calcdata,p=A.xaxis,r=A.yaxis,t=0;t<L.length;t++){for(var s=L[t],n=s==="h"?r:p,f=[],u=0;u<v.length;u++){var l=v[u],m=l[0].t,h=l[0].trace;h.visible===!0&&h.type==="violin"&&!m.empty&&h.orientation===s&&h.xaxis===p._id&&h.yaxis===r._id&&f.push(u)}g("violin",C,f,n)}}},36240:function(G,U,e){var g=e(3400),L=e(76308),a=e(90624),C=e(13988);G.exports=function(v,p,r,t){function s(T,o){return g.coerce(v,p,C,T,o)}function n(T,o){return g.coerce2(v,p,C,T,o)}if(a.handleSampleDefaults(v,p,s,t),p.visible!==!1){s("bandwidth"),s("side");var f=s("width");f||(s("scalegroup",p.name),s("scalemode"));var u=s("span"),l;Array.isArray(u)&&(l="manual"),s("spanmode",l);var m=s("line.color",(v.marker||{}).color||r),h=s("line.width"),M=s("fillcolor",L.addOpacity(p.line.color,.5));a.handlePointsDefaults(v,p,s,{prefix:""});var c=n("box.width"),i=n("box.fillcolor",M),d=n("box.line.color",m),b=n("box.line.width",h),w=s("box.visible",Boolean(c||i||d||b));w||(p.box={visible:!1});var E=n("meanline.color",m),y=n("meanline.width",h),S=s("meanline.visible",Boolean(E||y));S||(p.meanline={visible:!1}),s("quartilemethod")}}},63800:function(G,U,e){var g=e(3400),L={gaussian:function(a){return 1/Math.sqrt(2*Math.PI)*Math.exp(-.5*a*a)}};U.makeKDE=function(a,C,A){var v=A.length,p=L.gaussian,r=a.bandwidth,t=1/(v*r);return function(s){for(var n=0,f=0;f<v;f++)n+=p((s-A[f])/r);return t*n}},U.getPositionOnKdePath=function(a,C,A){var v,p;C.orientation==="h"?(v="y",p="x"):(v="x",p="y");var r=g.findPointOnPath(a.path,A,p,{pathLength:a.pathLength}),t=a.posCenterPx,s=r[v],n=C.side==="both"?2*t-s:t;return[s,n]},U.getKdeValue=function(a,C,A){var v=a.pts.map(U.extractVal),p=U.makeKDE(a,C,v);return p(A)/a.posDensityScale},U.extractVal=function(a){return a.v}},78e3:function(G,U,e){var g=e(76308),L=e(3400),a=e(54460),C=e(27576),A=e(63800);G.exports=function(p,r,t,s,n){n||(n={});var f=n.hoverLayer,u=p.cd,l=u[0].trace,m=l.hoveron,h=m.indexOf("violins")!==-1,M=m.indexOf("kde")!==-1,c=[],i,d;if(h||M){var b=C.hoverOnBoxes(p,r,t,s);if(M&&b.length>0){var w=p.xa,E=p.ya,y,S,T,o,P;l.orientation==="h"?(P=r,y="y",T=E,S="x",o=w):(P=t,y="x",T=w,S="y",o=E);var x=u[p.index];if(P>=x.span[0]&&P<=x.span[1]){var _=L.extendFlat({},p),I=o.c2p(P,!0),N=A.getKdeValue(x,l,P),k=A.getPositionOnKdePath(x,l,I),F=T._offset,O=T._length;_[y+"0"]=k[0],_[y+"1"]=k[1],_[S+"0"]=_[S+"1"]=I,_[S+"Label"]=S+": "+a.hoverLabelText(o,P,l[S+"hoverformat"])+", "+u[0].t.labels.kde+" "+N.toFixed(3);for(var z=0,B=0;B<b.length;B++)if(b[B].attr==="med"){z=B;break}_.spikeDistance=b[z].spikeDistance;var W=y+"Spike";_[W]=b[z][W],b[z].spikeDistance=void 0,b[z][W]=void 0,_.hovertemplate=!1,c.push(_),d={},d[y+"1"]=L.constrain(F+k[0],F,F+O),d[y+"2"]=L.constrain(F+k[1],F,F+O),d[S+"1"]=d[S+"2"]=o._offset+I}}h&&(c=c.concat(b))}m.indexOf("points")!==-1&&(i=C.hoverOnPoints(p,r,t));var q=f.selectAll(".violinline-"+l.uid).data(d?[0]:[]);return q.enter().append("line").classed("violinline-"+l.uid,!0).attr("stroke-width",1.5),q.exit().remove(),q.attr(d).call(g.stroke,p.color),s==="closest"?i?[i]:c:(i&&c.push(i),c)}},22869:function(G,U,e){G.exports={attributes:e(13988),layoutAttributes:e(98228),supplyDefaults:e(36240),crossTraceDefaults:e(90624).crossTraceDefaults,supplyLayoutDefaults:e(8939),calc:e(67064),crossTraceCalc:e(14348),plot:e(5140),style:e(95908),styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(78e3),selectPoints:e(8264),moduleType:"trace",name:"violin",basePlotModule:e(57952),categories:["cartesian","svg","symbols","oriented","box-violin","showLegend","violinLayout","zoomScale"],meta:{}}},98228:function(G,U,e){var g=e(16560),L=e(3400).extendFlat;G.exports={violinmode:L({},g.boxmode,{}),violingap:L({},g.boxgap,{}),violingroupgap:L({},g.boxgroupgap,{})}},8939:function(G,U,e){var g=e(3400),L=e(98228),a=e(68832);G.exports=function(A,v,p){function r(t,s){return g.coerce(A,v,L,t,s)}a._supply(A,v,p,r,"violin")}},5140:function(G,U,e){var g=e(33428),L=e(3400),a=e(43616),C=e(18728),A=e(52340),v=e(63800);G.exports=function(r,t,s,n){var f=r._context.staticPlot,u=r._fullLayout,l=t.xaxis,m=t.yaxis;function h(M,c){var i=A(M,{xaxis:l,yaxis:m,trace:c,connectGaps:!0,baseTolerance:.75,shape:"spline",simplify:!0,linearized:!0});return a.smoothopen(i[0],1)}L.makeTraceGroups(n,s,"trace violins").each(function(M){var c=g.select(this),i=M[0],d=i.t,b=i.trace;if(b.visible!==!0||d.empty){c.remove();return}var w=d.bPos,E=d.bdPos,y=t[d.valLetter+"axis"],S=t[d.posLetter+"axis"],T=b.side==="both",o=T||b.side==="positive",P=T||b.side==="negative",x=c.selectAll("path.violin").data(L.identity);x.enter().append("path").style("vector-effect",f?"none":"non-scaling-stroke").attr("class","violin"),x.exit().remove(),x.each(function(B){var W=g.select(this),q=B.density,ee=q.length,Q=S.c2l(B.pos+w,!0),oe=S.l2p(Q),Z;if(b.width)Z=d.maxKDE/E;else{var Y=u._violinScaleGroupStats[b.scalegroup];Z=b.scalemode==="count"?Y.maxKDE/E*(Y.maxCount/B.pts.length):Y.maxKDE/E}var te,X,$,ie,J,j,se;if(o){for(j=new Array(ee),ie=0;ie<ee;ie++)se=j[ie]={},se[d.posLetter]=Q+q[ie].v/Z,se[d.valLetter]=y.c2l(q[ie].t,!0);te=h(j,b)}if(P){for(j=new Array(ee),J=0,ie=ee-1;J<ee;J++,ie--)se=j[J]={},se[d.posLetter]=Q-q[ie].v/Z,se[d.valLetter]=y.c2l(q[ie].t,!0);X=h(j,b)}if(T)$=te+"L"+X.substr(1)+"Z";else{var ne=[oe,y.c2p(q[0].t)],le=[oe,y.c2p(q[ee-1].t)];b.orientation==="h"&&(ne.reverse(),le.reverse()),o?$="M"+ne+"L"+te.substr(1)+"L"+le:$="M"+le+"L"+X.substr(1)+"L"+ne}W.attr("d",$),B.posCenterPx=oe,B.posDensityScale=Z*E,B.path=W.node(),B.pathLength=B.path.getTotalLength()/(T?2:1)});var _=b.box,I=_.width,N=(_.line||{}).width,k,F;T?(k=E*I,F=0):o?(k=[0,E*I/2],F=N*{x:1,y:-1}[d.posLetter]):(k=[E*I/2,0],F=N*{x:-1,y:1}[d.posLetter]),C.plotBoxAndWhiskers(c,{pos:S,val:y},b,{bPos:w,bdPos:k,bPosPxOffset:F}),C.plotBoxMean(c,{pos:S,val:y},b,{bPos:w,bdPos:k,bPosPxOffset:F});var O;!b.box.visible&&b.meanline.visible&&(O=L.identity);var z=c.selectAll("path.meanline").data(O||[]);z.enter().append("path").attr("class","meanline").style("fill","none").style("vector-effect",f?"none":"non-scaling-stroke"),z.exit().remove(),z.each(function(B){var W=y.c2p(B.mean,!0),q=v.getPositionOnKdePath(B,b,W);g.select(this).attr("d",b.orientation==="h"?"M"+W+","+q[0]+"V"+q[1]:"M"+q[0]+","+W+"H"+q[1])}),C.plotPoints(c,{x:l,y:m},b,d)})}},95908:function(G,U,e){var g=e(33428),L=e(76308),a=e(49224).stylePoints;G.exports=function(A){var v=g.select(A).selectAll("g.trace.violins");v.style("opacity",function(p){return p[0].trace.opacity}),v.each(function(p){var r=p[0].trace,t=g.select(this),s=r.box||{},n=s.line||{},f=r.meanline||{},u=f.width;t.selectAll("path.violin").style("stroke-width",r.line.width+"px").call(L.stroke,r.line.color).call(L.fill,r.fillcolor),t.selectAll("path.box").style("stroke-width",n.width+"px").call(L.stroke,n.color).call(L.fill,s.fillcolor);var l={"stroke-width":u+"px","stroke-dasharray":2*u+"px,"+u+"px"};t.selectAll("path.mean").style(l).call(L.stroke,f.color),t.selectAll("path.meanline").style(l).call(L.stroke,f.color),a(t,r,A)})}},58168:function(G,U,e){var g=e(49084),L=e(50048),a=e(16716),C=e(45464),A=e(92880).extendFlat,v=e(67824).overrideAll,p=G.exports=v(A({x:L.x,y:L.y,z:L.z,value:L.value,isomin:L.isomin,isomax:L.isomax,surface:L.surface,spaceframe:{show:{valType:"boolean",dflt:!1},fill:{valType:"number",min:0,max:1,dflt:1}},slices:L.slices,caps:L.caps,text:L.text,hovertext:L.hovertext,xhoverformat:L.xhoverformat,yhoverformat:L.yhoverformat,zhoverformat:L.zhoverformat,valuehoverformat:L.valuehoverformat,hovertemplate:L.hovertemplate},g("",{colorAttr:"`value`",showScaleDflt:!0,editTypeOverride:"calc"}),{colorbar:L.colorbar,opacity:L.opacity,opacityscale:a.opacityscale,lightposition:L.lightposition,lighting:L.lighting,flatshading:L.flatshading,contour:L.contour,hoverinfo:A({},C.hoverinfo),showlegend:A({},C.showlegend,{dflt:!1})}),"calc","nested");p.x.editType=p.y.editType=p.z.editType=p.value.editType="calc+clearAxisTypes",p.transforms=void 0},91976:function(G,U,e){var g=e(67792).gl_mesh3d,L=e(33040).parseColorScale,a=e(3400).isArrayOrTypedArray,C=e(43080),A=e(8932).extractOpts,v=e(52094),p=e(31460).findNearestOnAxis,r=e(31460).generateIsoMeshes;function t(f,u,l){this.scene=f,this.uid=l,this.mesh=u,this.name="",this.data=null,this.showContour=!1}var s=t.prototype;s.handlePick=function(f){if(f.object===this.mesh){var u=f.data.index,l=this.data._meshX[u],m=this.data._meshY[u],h=this.data._meshZ[u],M=this.data._Ys.length,c=this.data._Zs.length,i=p(l,this.data._Xs).id,d=p(m,this.data._Ys).id,b=p(h,this.data._Zs).id,w=f.index=b+c*d+c*M*i;f.traceCoordinate=[this.data._meshX[w],this.data._meshY[w],this.data._meshZ[w],this.data._value[w]];var E=this.data.hovertext||this.data.text;return a(E)&&E[w]!==void 0?f.textLabel=E[w]:E&&(f.textLabel=E),!0}},s.update=function(f){var u=this.scene,l=u.fullSceneLayout;this.data=r(f);function m(d,b,w,E){return b.map(function(y){return d.d2l(y,0,E)*w})}var h=v(m(l.xaxis,f._meshX,u.dataScale[0],f.xcalendar),m(l.yaxis,f._meshY,u.dataScale[1],f.ycalendar),m(l.zaxis,f._meshZ,u.dataScale[2],f.zcalendar)),M=v(f._meshI,f._meshJ,f._meshK),c={positions:h,cells:M,lightPosition:[f.lightposition.x,f.lightposition.y,f.lightposition.z],ambient:f.lighting.ambient,diffuse:f.lighting.diffuse,specular:f.lighting.specular,roughness:f.lighting.roughness,fresnel:f.lighting.fresnel,vertexNormalsEpsilon:f.lighting.vertexnormalsepsilon,faceNormalsEpsilon:f.lighting.facenormalsepsilon,opacity:f.opacity,opacityscale:f.opacityscale,contourEnable:f.contour.show,contourColor:C(f.contour.color).slice(0,3),contourWidth:f.contour.width,useFacetNormals:f.flatshading},i=A(f);c.vertexIntensity=f._meshIntensity,c.vertexIntensityBounds=[i.min,i.max],c.colormap=L(f),this.mesh.update(c)},s.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function n(f,u){var l=f.glplot.gl,m=g({gl:l}),h=new t(f,m,u.uid);return m._trace=h,h.update(u),f.glplot.add(m),h}G.exports=n},12448:function(G,U,e){var g=e(3400),L=e(58168),a=e(70548).supplyIsoDefaults,C=e(60192).opacityscaleDefaults;G.exports=function(v,p,r,t){function s(n,f){return g.coerce(v,p,L,n,f)}a(v,p,r,t,s),C(v,p,t,s)}},67776:function(G,U,e){G.exports={attributes:e(58168),supplyDefaults:e(12448),calc:e(62624),colorbar:{min:"cmin",max:"cmax"},plot:e(91976),moduleType:"trace",name:"volume",basePlotModule:e(12536),categories:["gl3d","showLegend"],meta:{}}},65776:function(G,U,e){var g=e(20832),L=e(52904).line,a=e(45464),C=e(29736).axisHoverFormat,A=e(21776).Ks,v=e(21776).Gw,p=e(10213),r=e(92880).extendFlat,t=e(76308);function s(n){return{marker:{color:r({},g.marker.color,{arrayOk:!1,editType:"style"}),line:{color:r({},g.marker.line.color,{arrayOk:!1,editType:"style"}),width:r({},g.marker.line.width,{arrayOk:!1,editType:"style"}),editType:"style"},editType:"style"},editType:"style"}}G.exports={measure:{valType:"data_array",dflt:[],editType:"calc"},base:{valType:"number",dflt:null,arrayOk:!1,editType:"calc"},x:g.x,x0:g.x0,dx:g.dx,y:g.y,y0:g.y0,dy:g.dy,xperiod:g.xperiod,yperiod:g.yperiod,xperiod0:g.xperiod0,yperiod0:g.yperiod0,xperiodalignment:g.xperiodalignment,yperiodalignment:g.yperiodalignment,xhoverformat:C("x"),yhoverformat:C("y"),hovertext:g.hovertext,hovertemplate:A({},{keys:p.eventDataKeys}),hoverinfo:r({},a.hoverinfo,{flags:["name","x","y","text","initial","delta","final"]}),textinfo:{valType:"flaglist",flags:["label","text","initial","delta","final"],extras:["none"],editType:"plot",arrayOk:!1},texttemplate:v({editType:"plot"},{keys:p.eventDataKeys.concat(["label"])}),text:g.text,textposition:g.textposition,insidetextanchor:g.insidetextanchor,textangle:g.textangle,textfont:g.textfont,insidetextfont:g.insidetextfont,outsidetextfont:g.outsidetextfont,constraintext:g.constraintext,cliponaxis:g.cliponaxis,orientation:g.orientation,offset:g.offset,width:g.width,increasing:s(),decreasing:s(),totals:s(),connector:{line:{color:r({},L.color,{dflt:t.defaultLine}),width:r({},L.width,{editType:"plot"}),dash:L.dash,editType:"plot"},mode:{valType:"enumerated",values:["spanning","between"],dflt:"between",editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},offsetgroup:g.offsetgroup,alignmentgroup:g.alignmentgroup}},73540:function(G,U,e){var g=e(54460),L=e(1220),a=e(3400).mergeArray,C=e(4500),A=e(39032).BADNUM;function v(r){return r==="a"||r==="absolute"}function p(r){return r==="t"||r==="total"}G.exports=function(t,s){var n=g.getFromId(t,s.xaxis||"x"),f=g.getFromId(t,s.yaxis||"y"),u,l,m,h,M,c;s.orientation==="h"?(u=n.makeCalcdata(s,"x"),m=f.makeCalcdata(s,"y"),h=L(s,f,"y",m),M=!!s.yperiodalignment,c="y"):(u=f.makeCalcdata(s,"y"),m=n.makeCalcdata(s,"x"),h=L(s,n,"x",m),M=!!s.xperiodalignment,c="x"),l=h.vals;for(var i=Math.min(l.length,u.length),d=new Array(i),b=0,w,E=!1,y=0;y<i;y++){var S=u[y]||0,T=!1;(u[y]!==A||p(s.measure[y])||v(s.measure[y]))&&y+1<i&&(u[y+1]!==A||p(s.measure[y+1])||v(s.measure[y+1]))&&(T=!0);var o=d[y]={i:y,p:l[y],s:S,rawS:S,cNext:T};v(s.measure[y])?(b=o.s,o.isSum=!0,o.dir="totals",o.s=b):p(s.measure[y])?(o.isSum=!0,o.dir="totals",o.s=b):(o.isSum=!1,o.dir=o.rawS<0?"decreasing":"increasing",w=o.s,o.s=b+w,b+=w),o.dir==="totals"&&(E=!0),M&&(d[y].orig_p=m[y],d[y][c+"End"]=h.ends[y],d[y][c+"Start"]=h.starts[y]),s.ids&&(o.id=String(s.ids[y])),o.v=(s.base||0)+b}return d.length&&(d[0].hasTotals=E),a(s.text,d,"tx"),a(s.hovertext,d,"htx"),C(d,s),d}},10213:function(G){G.exports={eventDataKeys:["initial","delta","final"]}},50152:function(G,U,e){var g=e(96376).setGroupPositions;G.exports=function(a,C){var A=a._fullLayout,v=a._fullData,p=a.calcdata,r=C.xaxis,t=C.yaxis,s=[],n=[],f=[],u,l;for(l=0;l<v.length;l++){var m=v[l];m.visible===!0&&m.xaxis===r._id&&m.yaxis===t._id&&m.type==="waterfall"&&(u=p[l],m.orientation==="h"?f.push(u):n.push(u),s.push(u))}var h={mode:A.waterfallmode,norm:A.waterfallnorm,gap:A.waterfallgap,groupgap:A.waterfallgroupgap};for(g(a,r,t,n,h),g(a,t,r,f,h),l=0;l<s.length;l++){u=s[l];for(var M=0;M<u.length;M++){var c=u[M];c.isSum===!1&&(c.s0+=M===0?0:u[M-1].s),M+1<u.length&&(u[M].nextP0=u[M+1].p0,u[M].nextS0=u[M+1].s0)}}}},24224:function(G,U,e){var g=e(3400),L=e(20011),a=e(31508).handleText,C=e(43980),A=e(31147),v=e(65776),p=e(76308),r=e(48164),t=r.INCREASING.COLOR,s=r.DECREASING.COLOR,n="#4499FF";function f(m,h,M){m(h+".marker.color",M),m(h+".marker.line.color",p.defaultLine),m(h+".marker.line.width")}function u(m,h,M,c){function i(y,S){return g.coerce(m,h,v,y,S)}var d=C(m,h,c,i);if(!d){h.visible=!1;return}A(m,h,c,i),i("xhoverformat"),i("yhoverformat"),i("measure"),i("orientation",h.x&&!h.y?"h":"v"),i("base"),i("offset"),i("width"),i("text"),i("hovertext"),i("hovertemplate");var b=i("textposition");a(m,h,c,i,b,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),h.textposition!=="none"&&(i("texttemplate"),h.texttemplate||i("textinfo")),f(i,"increasing",t),f(i,"decreasing",s),f(i,"totals",n);var w=i("connector.visible");if(w){i("connector.mode");var E=i("connector.line.width");E&&(i("connector.line.color"),i("connector.line.dash"))}}function l(m,h){var M,c;function i(b){return g.coerce(c._input,c,v,b)}if(h.waterfallmode==="group")for(var d=0;d<m.length;d++)c=m[d],M=c._input,L(M,c,h,i)}G.exports={supplyDefaults:u,crossTraceDefaults:l}},53256:function(G){G.exports=function(e,g){return e.x="xVal"in g?g.xVal:g.x,e.y="yVal"in g?g.yVal:g.y,"initial"in g&&(e.initial=g.initial),"delta"in g&&(e.delta=g.delta),"final"in g&&(e.final=g.final),g.xa&&(e.xaxis=g.xa),g.ya&&(e.yaxis=g.ya),e}},94196:function(G,U,e){var g=e(54460).hoverLabelText,L=e(76308).opacity,a=e(63400).hoverOnBars,C=e(48164),A={increasing:C.INCREASING.SYMBOL,decreasing:C.DECREASING.SYMBOL};G.exports=function(r,t,s,n,f){var u=a(r,t,s,n,f);if(!u)return;var l=u.cd,m=l[0].trace,h=m.orientation==="h",M=h?"x":"y",c=h?r.xa:r.ya;function i(x){return g(c,x,m[M+"hoverformat"])}var d=u.index,b=l[d],w=b.isSum?b.b+b.s:b.rawS;u.initial=b.b+b.s-w,u.delta=w,u.final=u.initial+u.delta;var E=i(Math.abs(u.delta));u.deltaLabel=w<0?"("+E+")":E,u.finalLabel=i(u.final),u.initialLabel=i(u.initial);var y=b.hi||m.hoverinfo,S=[];if(y&&y!=="none"&&y!=="skip"){var T=y==="all",o=y.split("+"),P=function(x){return T||o.indexOf(x)!==-1};b.isSum||(P("final")&&(h?!P("x"):!P("y"))&&S.push(u.finalLabel),P("delta")&&(w<0?S.push(u.deltaLabel+" "+A.decreasing):S.push(u.deltaLabel+" "+A.increasing)),P("initial")&&S.push("Initial: "+u.initialLabel))}return S.length&&(u.extraText=S.join("<br>")),u.color=v(m,b),[u]};function v(p,r){var t=p[r.dir].marker,s=t.color,n=t.line.color,f=t.line.width;if(L(s))return s;if(L(n)&&f)return n}},95952:function(G,U,e){G.exports={attributes:e(65776),layoutAttributes:e(91352),supplyDefaults:e(24224).supplyDefaults,crossTraceDefaults:e(24224).crossTraceDefaults,supplyLayoutDefaults:e(59464),calc:e(73540),crossTraceCalc:e(50152),plot:e(64488),style:e(12252).style,hoverPoints:e(94196),eventData:e(53256),selectPoints:e(45784),moduleType:"trace",name:"waterfall",basePlotModule:e(57952),categories:["bar-like","cartesian","svg","oriented","showLegend","zoomScale"],meta:{}}},91352:function(G){G.exports={waterfallmode:{valType:"enumerated",values:["group","overlay"],dflt:"group",editType:"calc"},waterfallgap:{valType:"number",min:0,max:1,editType:"calc"},waterfallgroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},59464:function(G,U,e){var g=e(3400),L=e(91352);G.exports=function(a,C,A){var v=!1;function p(s,n){return g.coerce(a,C,L,s,n)}for(var r=0;r<A.length;r++){var t=A[r];if(t.visible&&t.type==="waterfall"){v=!0;break}}v&&(p("waterfallmode"),p("waterfallgap",.2),p("waterfallgroupgap"))}},64488:function(G,U,e){var g=e(33428),L=e(3400),a=e(43616),C=e(39032).BADNUM,A=e(98184),v=e(82744).clearMinTextSize;G.exports=function(s,n,f,u){var l=s._fullLayout;v("waterfall",l),A.plot(s,n,f,u,{mode:l.waterfallmode,norm:l.waterfallmode,gap:l.waterfallgap,groupgap:l.waterfallgroupgap}),p(s,n,f,u)};function p(t,s,n,f){var u=s.xaxis,l=s.yaxis;L.makeTraceGroups(f,n,"trace bars").each(function(m){var h=g.select(this),M=m[0].trace,c=L.ensureSingle(h,"g","lines");if(!M.connector||!M.connector.visible){c.remove();return}var i=M.orientation==="h",d=M.connector.mode,b=c.selectAll("g.line").data(L.identity);b.enter().append("g").classed("line",!0),b.exit().remove();var w=b.size();b.each(function(E,y){if(!(y!==w-1&&!E.cNext)){var S=r(E,u,l,i),T=S[0],o=S[1],P="";T[0]!==C&&o[0]!==C&&T[1]!==C&&o[1]!==C&&(d==="spanning"&&!E.isSum&&y>0&&(i?P+="M"+T[0]+","+o[1]+"V"+o[0]:P+="M"+T[1]+","+o[0]+"H"+T[0]),d!=="between"&&(E.isSum||y<w-1)&&(i?P+="M"+T[1]+","+o[0]+"V"+o[1]:P+="M"+T[0]+","+o[1]+"H"+T[1]),T[2]!==C&&o[2]!==C&&(i?P+="M"+T[1]+","+o[1]+"V"+o[2]:P+="M"+T[1]+","+o[1]+"H"+T[2])),P===""&&(P="M0,0Z"),L.ensureSingle(g.select(this),"path").attr("d",P).call(a.setClipUrl,s.layerClipId,t)}})})}function r(t,s,n,f){var u=[],l=[],m=f?s:n,h=f?n:s;return u[0]=m.c2p(t.s0,!0),l[0]=h.c2p(t.p0,!0),u[1]=m.c2p(t.s1,!0),l[1]=h.c2p(t.p1,!0),u[2]=m.c2p(t.nextS0,!0),l[2]=h.c2p(t.nextP0,!0),f?[u,l]:[l,u]}},12252:function(G,U,e){var g=e(33428),L=e(43616),a=e(76308),C=e(13448).DESELECTDIM,A=e(60100),v=e(82744).resizeText,p=A.styleTextPoints;function r(t,s,n){var f=n||g.select(t).selectAll("g.waterfalllayer").selectAll("g.trace");v(t,f,"waterfall"),f.style("opacity",function(u){return u[0].trace.opacity}),f.each(function(u){var l=g.select(this),m=u[0].trace;l.selectAll(".point > path").each(function(h){if(!h.isBlank){var M=m[h.dir].marker;g.select(this).call(a.fill,M.color).call(a.stroke,M.line.color).call(L.dashLine,M.line.dash,M.line.width).style("opacity",m.selectedpoints&&!h.selected?C:1)}}),p(l,m,t),l.selectAll(".lines").each(function(){var h=m.connector.line;L.lineGroupStyle(g.select(this).selectAll("path"),h.width,h.color,h.dash)})})}G.exports={style:r}},84224:function(G,U,e){var g=e(54460),L=e(3400),a=e(73060),C=e(60468).W,A=e(39032).BADNUM;U.moduleType="transform",U.name="aggregate";var v=U.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},aggregations:{_isLinkedToArray:"aggregation",target:{valType:"string",editType:"calc"},func:{valType:"enumerated",values:["count","sum","avg","median","mode","rms","stddev","min","max","first","last","change","range"],dflt:"first",editType:"calc"},funcmode:{valType:"enumerated",values:["sample","population"],dflt:"sample",editType:"calc"},enabled:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"},editType:"calc"},p=v.aggregations;U.supplyDefaults=function(u,l){var m={},h;function M(x,_){return L.coerce(u,m,v,x,_)}var c=M("enabled");if(!c)return m;var i=a.findArrayAttributes(l),d={};for(h=0;h<i.length;h++)d[i[h]]=1;var b=M("groups");if(!Array.isArray(b)){if(!d[b])return m.enabled=!1,m;d[b]=0}var w=u.aggregations||[],E=m.aggregations=new Array(w.length),y;function S(x,_){return L.coerce(w[h],y,p,x,_)}for(h=0;h<w.length;h++){y={_index:h};var T=S("target"),o=S("func"),P=S("enabled");P&&T&&(d[T]||o==="count"&&d[T]===void 0)?(o==="stddev"&&S("funcmode"),d[T]=0,E[h]=y):E[h]={enabled:!1,_index:h}}for(h=0;h<i.length;h++)d[i[h]]&&E.push({target:i[h],func:p.func.dflt,enabled:!0,_index:-1});return m},U.calcTransform=function(u,l,m){if(!!m.enabled){var h=m.groups,M=L.getTargetArray(l,{target:h});if(!!M){var c,i,d,b,w={},E={},y=[],S=C(l.transforms,m),T=M.length;for(l._length&&(T=Math.min(T,l._length)),c=0;c<T;c++)i=M[c],d=w[i],d===void 0?(w[i]=y.length,b=[c],y.push(b),E[w[i]]=S(c)):(y[d].push(c),E[w[i]]=(E[w[i]]||[]).concat(S(c)));m._indexToPoints=E;var o=m.aggregations;for(c=0;c<o.length;c++)r(u,l,y,o[c]);typeof h=="string"&&r(u,l,y,{target:h,func:"first",enabled:!0}),l._length=y.length}}};function r(u,l,m,h){if(!!h.enabled){for(var M=h.target,c=L.nestedProperty(l,M),i=c.get(),d=g.getDataConversions(u,l,M,i),b=t(h,d),w=new Array(m.length),E=0;E<m.length;E++)w[E]=b(i,m[E]);c.set(w),h.func==="count"&&L.pushUnique(l._arrayAttrs,M)}}function t(u,l){var m=u.func,h=l.d2c,M=l.c2d;switch(m){case"count":return s;case"first":return n;case"last":return f;case"sum":return function(c,i){for(var d=0,b=0;b<i.length;b++){var w=h(c[i[b]]);w!==A&&(d+=w)}return M(d)};case"avg":return function(c,i){for(var d=0,b=0,w=0;w<i.length;w++){var E=h(c[i[w]]);E!==A&&(d+=E,b++)}return b?M(d/b):A};case"min":return function(c,i){for(var d=1/0,b=0;b<i.length;b++){var w=h(c[i[b]]);w!==A&&(d=Math.min(d,w))}return d===1/0?A:M(d)};case"max":return function(c,i){for(var d=-1/0,b=0;b<i.length;b++){var w=h(c[i[b]]);w!==A&&(d=Math.max(d,w))}return d===-1/0?A:M(d)};case"range":return function(c,i){for(var d=1/0,b=-1/0,w=0;w<i.length;w++){var E=h(c[i[w]]);E!==A&&(d=Math.min(d,E),b=Math.max(b,E))}return b===-1/0||d===1/0?A:M(b-d)};case"change":return function(c,i){var d=h(c[i[0]]),b=h(c[i[i.length-1]]);return d===A||b===A?A:M(b-d)};case"median":return function(c,i){for(var d=[],b=0;b<i.length;b++){var w=h(c[i[b]]);w!==A&&d.push(w)}if(!d.length)return A;d.sort(L.sorterAsc);var E=(d.length-1)/2;return M((d[Math.floor(E)]+d[Math.ceil(E)])/2)};case"mode":return function(c,i){for(var d={},b=0,w=A,E=0;E<i.length;E++){var y=h(c[i[E]]);if(y!==A){var S=d[y]=(d[y]||0)+1;S>b&&(b=S,w=y)}}return b?M(w):A};case"rms":return function(c,i){for(var d=0,b=0,w=0;w<i.length;w++){var E=h(c[i[w]]);E!==A&&(d+=E*E,b++)}return b?M(Math.sqrt(d/b)):A};case"stddev":return function(c,i){var d=0,b=0,w=1,E=A,y;for(y=0;y<i.length&&E===A;y++)E=h(c[i[y]]);if(E===A)return A;for(;y<i.length;y++){var S=h(c[i[y]]);if(S!==A){var T=S-E;d+=T,b+=T*T,w++}}var o=u.funcmode==="sample"?w-1:w;return o?Math.sqrt((b-d*d/w)/o):0}}}function s(u,l){return l.length}function n(u,l){return u[l[0]]}function f(u,l){return u[l[l.length-1]]}},76744:function(G,U,e){var g=e(3400),L=e(24040),a=e(54460),C=e(60468).W,A=e(69104),v=A.COMPARISON_OPS,p=A.INTERVAL_OPS,r=A.SET_OPS;U.moduleType="transform",U.name="filter",U.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},operation:{valType:"enumerated",values:[].concat(v).concat(p).concat(r),dflt:"=",editType:"calc"},value:{valType:"any",dflt:0,editType:"calc"},preservegaps:{valType:"boolean",dflt:!1,editType:"calc"},editType:"calc"},U.supplyDefaults=function(s){var n={};function f(h,M){return g.coerce(s,n,U.attributes,h,M)}var u=f("enabled");if(u){var l=f("target");if(g.isArrayOrTypedArray(l)&&l.length===0)return n.enabled=!1,n;f("preservegaps"),f("operation"),f("value");var m=L.getComponentMethod("calendars","handleDefaults");m(s,n,"valuecalendar",null),m(s,n,"targetcalendar",null)}return n},U.calcTransform=function(s,n,f){if(!f.enabled)return;var u=g.getTargetArray(n,f);if(!u)return;var l=f.target,m=u.length;n._length&&(m=Math.min(m,n._length));var h=f.targetcalendar,M=n._arrayAttrs,c=f.preservegaps;if(typeof l=="string"){var i=g.nestedProperty(n,l+"calendar").get();i&&(h=i)}var d=a.getDataToCoordFunc(s,n,l,u),b=t(f,d,h),w={},E={},y=0;function S(I,N){for(var k=0;k<M.length;k++){var F=g.nestedProperty(n,M[k]);I(F,N)}}var T,o;c?(T=function(I){w[I.astr]=g.extendDeep([],I.get()),I.set(new Array(m))},o=function(I,N){var k=w[I.astr][N];I.get()[N]=k}):(T=function(I){w[I.astr]=g.extendDeep([],I.get()),I.set([])},o=function(I,N){var k=w[I.astr][N];I.get().push(k)}),S(T);for(var P=C(n.transforms,f),x=0;x<m;x++){var _=b(u[x]);_?(S(o,x),E[y++]=P(x)):c&&y++}f._indexToPoints=E,n._length=y};function t(s,n,f){var u=s.operation,l=s.value,m=g.isArrayOrTypedArray(l);function h(d){return d.indexOf(u)!==-1}var M=function(d){return n(d,0,s.valuecalendar)},c=function(d){return n(d,0,f)},i;switch(h(v)?i=M(m?l[0]:l):h(p)?i=m?[M(l[0]),M(l[1])]:[M(l),M(l)]:h(r)&&(i=m?l.map(M):[M(l)]),u){case"=":return function(d){return c(d)===i};case"!=":return function(d){return c(d)!==i};case"<":return function(d){return c(d)<i};case"<=":return function(d){return c(d)<=i};case">":return function(d){return c(d)>i};case">=":return function(d){return c(d)>=i};case"[]":return function(d){var b=c(d);return b>=i[0]&&b<=i[1]};case"()":return function(d){var b=c(d);return b>i[0]&&b<i[1]};case"[)":return function(d){var b=c(d);return b>=i[0]&&b<i[1]};case"(]":return function(d){var b=c(d);return b>i[0]&&b<=i[1]};case"][":return function(d){var b=c(d);return b<=i[0]||b>=i[1]};case")(":return function(d){var b=c(d);return b<i[0]||b>i[1]};case"](":return function(d){var b=c(d);return b<=i[0]||b>i[1]};case")[":return function(d){var b=c(d);return b<i[0]||b>=i[1]};case"{}":return function(d){return i.indexOf(c(d))!==-1};case"}{":return function(d){return i.indexOf(c(d))===-1}}}},32028:function(G,U,e){var g=e(3400),L=e(73060),a=e(7316),C=e(60468).W;U.moduleType="transform",U.name="groupby",U.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"data_array",dflt:[],editType:"calc"},nameformat:{valType:"string",editType:"calc"},styles:{_isLinkedToArray:"style",target:{valType:"string",editType:"calc"},value:{valType:"any",dflt:{},editType:"calc",_compareAsJSON:!0},editType:"calc"},editType:"calc"},U.supplyDefaults=function(v,p,r){var t,s={};function n(M,c){return g.coerce(v,s,U.attributes,M,c)}var f=n("enabled");if(!f)return s;n("groups"),n("nameformat",r._dataLength>1?"%{group} (%{trace})":"%{group}");var u=v.styles,l=s.styles=[];if(u)for(t=0;t<u.length;t++){var m=l[t]={};g.coerce(u[t],l[t],U.attributes.styles,"target");var h=g.coerce(u[t],l[t],U.attributes.styles,"value");g.isPlainObject(h)?m.value=g.extendDeep({},h):h&&delete m.value}return s},U.transform=function(v,p){var r,t,s,n=[];for(t=0;t<v.length;t++)for(r=A(v[t],p),s=0;s<r.length;s++)n.push(r[s]);return n};function A(v,p){var r,t,s,n,f,u,l,m,h,M,c=p.transform,i=p.transformIndex,d=v.transforms[i].groups,b=C(v.transforms,c);if(!g.isArrayOrTypedArray(d)||d.length===0)return[v];var w=g.filterUnique(d),E=new Array(w.length),y=d.length,S=L.findArrayAttributes(v),T=c.styles||[],o={};for(r=0;r<T.length;r++)o[T[r].target]=T[r].value;c.styles&&(M=g.keyedContainer(c,"styles","target","value.name"));var P={},x={};for(r=0;r<w.length;r++){u=w[r],P[u]=r,x[u]=0,l=E[r]=g.extendDeepNoArrays({},v),l._group=u,l.transforms[i]._indexToPoints={};var _=null;for(M&&(_=M.get(u)),_||_===""?l.name=_:l.name=g.templateString(c.nameformat,{trace:v.name,group:u}),m=l.transforms,l.transforms=[],t=0;t<m.length;t++)l.transforms[t]=g.extendDeepNoArrays({},m[t]);for(t=0;t<S.length;t++)g.nestedProperty(l,S[t]).set([])}for(s=0;s<S.length;s++){for(n=S[s],t=0,h=[];t<w.length;t++)h[t]=g.nestedProperty(E[t],n).get();for(f=g.nestedProperty(v,n).get(),t=0;t<y;t++)h[P[d[t]]].push(f[t])}for(t=0;t<y;t++){l=E[P[d[t]]];var I=l.transforms[i]._indexToPoints;I[x[d[t]]]=b(t),x[d[t]]++}for(r=0;r<w.length;r++)u=w[r],l=E[r],a.clearExpandedTraceDefaultColors(l),l=g.extendDeepNoArrays(l,o[u]||{});return E}},60468:function(G,U){U.W=function(e,g){for(var L,a,C=0;C<e.length&&(L=e[C],L!==g);C++)!L._indexToPoints||L.enabled===!1||(a=L._indexToPoints);var A=a?function(v){return a[v]}:function(v){return[v]};return A}},76272:function(G,U,e){var g=e(3400),L=e(54460),a=e(60468).W,C=e(39032).BADNUM;U.moduleType="transform",U.name="sort",U.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},order:{valType:"enumerated",values:["ascending","descending"],dflt:"ascending",editType:"calc"},editType:"calc"},U.supplyDefaults=function(p){var r={};function t(n,f){return g.coerce(p,r,U.attributes,n,f)}var s=t("enabled");return s&&(t("target"),t("order")),r},U.calcTransform=function(p,r,t){if(!!t.enabled){var s=g.getTargetArray(r,t);if(!!s){var n=t.target,f=s.length;r._length&&(f=Math.min(f,r._length));var u=r._arrayAttrs,l=L.getDataToCoordFunc(p,r,n,s),m=A(t,s,l,f),h=a(r.transforms,t),M={},c,i;for(c=0;c<u.length;c++){var d=g.nestedProperty(r,u[c]),b=d.get(),w=new Array(f);for(i=0;i<f;i++)w[i]=b[m[i]];d.set(w)}for(i=0;i<f;i++)M[i]=h(m[i]);t._indexToPoints=M,r._length=f}}};function A(p,r,t,s){var n=new Array(s),f=new Array(s),u;for(u=0;u<s;u++)n[u]={v:r[u],i:u};for(n.sort(v(p,t)),u=0;u<s;u++)f[u]=n[u].i;return f}function v(p,r){switch(p.order){case"ascending":return function(t,s){var n=r(t.v),f=r(s.v);return n===C?1:f===C?-1:n-f};case"descending":return function(t,s){var n=r(t.v),f=r(s.v);return n===C?1:f===C?-1:f-n}}}},25788:function(G,U){U.version="2.30.0"},67792:function(G,U,e){var g=e(4168);(function(a,C){G.exports=C()})(self,function(){return function(){var L={7386:function(v,p,r){v.exports={alpha_shape:r(2350),convex_hull:r(5537),delaunay_triangulate:r(4419),gl_cone3d:r(1140),gl_error3d:r(3110),gl_heatmap2d:r(6386),gl_line3d:r(6086),gl_mesh3d:r(8116),gl_plot2d:r(2117),gl_plot3d:r(1059),gl_pointcloud2d:r(8271),gl_scatter3d:r(2182),gl_select_box:r(6623),gl_spikes2d:r(3050),gl_streamtube3d:r(7307),gl_surface3d:r(3754),ndarray:r(5050),ndarray_linear_interpolate:r(3581)}},2146:function(v,p,r){/*!
* The buffer module from node.js, for the browser.
*
* @author   Feross Aboukhadijeh <https://feross.org>
* @license  MIT
*/function t(me,ge){if(!(me instanceof ge))throw new TypeError("Cannot call a class as a function")}function s(me,ge){for(var Ee=0;Ee<ge.length;Ee++){var Te=ge[Ee];Te.enumerable=Te.enumerable||!1,Te.configurable=!0,"value"in Te&&(Te.writable=!0),Object.defineProperty(me,Te.key,Te)}}function n(me,ge,Ee){return ge&&s(me.prototype,ge),Ee&&s(me,Ee),Object.defineProperty(me,"prototype",{writable:!1}),me}function f(me,ge){if(typeof ge!="function"&&ge!==null)throw new TypeError("Super expression must either be null or a function");me.prototype=Object.create(ge&&ge.prototype,{constructor:{value:me,writable:!0,configurable:!0}}),Object.defineProperty(me,"prototype",{writable:!1}),ge&&u(me,ge)}function u(me,ge){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Te,ze){return Te.__proto__=ze,Te},u(me,ge)}function l(me){var ge=M();return function(){var Te=c(me),ze;if(ge){var Xe=c(this).constructor;ze=Reflect.construct(Te,arguments,Xe)}else ze=Te.apply(this,arguments);return m(this,ze)}}function m(me,ge){if(ge&&(i(ge)==="object"||typeof ge=="function"))return ge;if(ge!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return h(me)}function h(me){if(me===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return me}function M(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function c(me){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Ee){return Ee.__proto__||Object.getPrototypeOf(Ee)},c(me)}function i(me){return i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ge){return typeof ge}:function(ge){return ge&&typeof Symbol=="function"&&ge.constructor===Symbol&&ge!==Symbol.prototype?"symbol":typeof ge},i(me)}var d=r(3910),b=r(3187),w=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;p.lW=T,p.h2=50;var E=2147483647;T.TYPED_ARRAY_SUPPORT=y(),!T.TYPED_ARRAY_SUPPORT&&typeof console!="undefined"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function y(){try{var me=new Uint8Array(1),ge={foo:function(){return 42}};return Object.setPrototypeOf(ge,Uint8Array.prototype),Object.setPrototypeOf(me,ge),me.foo()===42}catch{return!1}}Object.defineProperty(T.prototype,"parent",{enumerable:!0,get:function(){if(!!T.isBuffer(this))return this.buffer}}),Object.defineProperty(T.prototype,"offset",{enumerable:!0,get:function(){if(!!T.isBuffer(this))return this.byteOffset}});function S(me){if(me>E)throw new RangeError('The value "'+me+'" is invalid for option "size"');var ge=new Uint8Array(me);return Object.setPrototypeOf(ge,T.prototype),ge}function T(me,ge,Ee){if(typeof me=="number"){if(typeof ge=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return _(me)}return o(me,ge,Ee)}T.poolSize=8192;function o(me,ge,Ee){if(typeof me=="string")return I(me,ge);if(ArrayBuffer.isView(me))return k(me);if(me==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+i(me));if(Ie(me,ArrayBuffer)||me&&Ie(me.buffer,ArrayBuffer)||typeof SharedArrayBuffer!="undefined"&&(Ie(me,SharedArrayBuffer)||me&&Ie(me.buffer,SharedArrayBuffer)))return F(me,ge,Ee);if(typeof me=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var Te=me.valueOf&&me.valueOf();if(Te!=null&&Te!==me)return T.from(Te,ge,Ee);var ze=O(me);if(ze)return ze;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof me[Symbol.toPrimitive]=="function")return T.from(me[Symbol.toPrimitive]("string"),ge,Ee);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+i(me))}T.from=function(me,ge,Ee){return o(me,ge,Ee)},Object.setPrototypeOf(T.prototype,Uint8Array.prototype),Object.setPrototypeOf(T,Uint8Array);function P(me){if(typeof me!="number")throw new TypeError('"size" argument must be of type number');if(me<0)throw new RangeError('The value "'+me+'" is invalid for option "size"')}function x(me,ge,Ee){return P(me),me<=0?S(me):ge!==void 0?typeof Ee=="string"?S(me).fill(ge,Ee):S(me).fill(ge):S(me)}T.alloc=function(me,ge,Ee){return x(me,ge,Ee)};function _(me){return P(me),S(me<0?0:z(me)|0)}T.allocUnsafe=function(me){return _(me)},T.allocUnsafeSlow=function(me){return _(me)};function I(me,ge){if((typeof ge!="string"||ge==="")&&(ge="utf8"),!T.isEncoding(ge))throw new TypeError("Unknown encoding: "+ge);var Ee=B(me,ge)|0,Te=S(Ee),ze=Te.write(me,ge);return ze!==Ee&&(Te=Te.slice(0,ze)),Te}function N(me){for(var ge=me.length<0?0:z(me.length)|0,Ee=S(ge),Te=0;Te<ge;Te+=1)Ee[Te]=me[Te]&255;return Ee}function k(me){if(Ie(me,Uint8Array)){var ge=new Uint8Array(me);return F(ge.buffer,ge.byteOffset,ge.byteLength)}return N(me)}function F(me,ge,Ee){if(ge<0||me.byteLength<ge)throw new RangeError('"offset" is outside of buffer bounds');if(me.byteLength<ge+(Ee||0))throw new RangeError('"length" is outside of buffer bounds');var Te;return ge===void 0&&Ee===void 0?Te=new Uint8Array(me):Ee===void 0?Te=new Uint8Array(me,ge):Te=new Uint8Array(me,ge,Ee),Object.setPrototypeOf(Te,T.prototype),Te}function O(me){if(T.isBuffer(me)){var ge=z(me.length)|0,Ee=S(ge);return Ee.length===0||me.copy(Ee,0,0,ge),Ee}if(me.length!==void 0)return typeof me.length!="number"||We(me.length)?S(0):N(me);if(me.type==="Buffer"&&Array.isArray(me.data))return N(me.data)}function z(me){if(me>=E)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+E.toString(16)+" bytes");return me|0}T.isBuffer=function(ge){return ge!=null&&ge._isBuffer===!0&&ge!==T.prototype},T.compare=function(ge,Ee){if(Ie(ge,Uint8Array)&&(ge=T.from(ge,ge.offset,ge.byteLength)),Ie(Ee,Uint8Array)&&(Ee=T.from(Ee,Ee.offset,Ee.byteLength)),!T.isBuffer(ge)||!T.isBuffer(Ee))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(ge===Ee)return 0;for(var Te=ge.length,ze=Ee.length,Xe=0,et=Math.min(Te,ze);Xe<et;++Xe)if(ge[Xe]!==Ee[Xe]){Te=ge[Xe],ze=Ee[Xe];break}return Te<ze?-1:ze<Te?1:0},T.isEncoding=function(ge){switch(String(ge).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},T.concat=function(ge,Ee){if(!Array.isArray(ge))throw new TypeError('"list" argument must be an Array of Buffers');if(ge.length===0)return T.alloc(0);var Te;if(Ee===void 0)for(Ee=0,Te=0;Te<ge.length;++Te)Ee+=ge[Te].length;var ze=T.allocUnsafe(Ee),Xe=0;for(Te=0;Te<ge.length;++Te){var et=ge[Te];if(Ie(et,Uint8Array))Xe+et.length>ze.length?(T.isBuffer(et)||(et=T.from(et)),et.copy(ze,Xe)):Uint8Array.prototype.set.call(ze,et,Xe);else if(T.isBuffer(et))et.copy(ze,Xe);else throw new TypeError('"list" argument must be an Array of Buffers');Xe+=et.length}return ze};function B(me,ge){if(T.isBuffer(me))return me.length;if(ArrayBuffer.isView(me)||Ie(me,ArrayBuffer))return me.byteLength;if(typeof me!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+i(me));var Ee=me.length,Te=arguments.length>2&&arguments[2]===!0;if(!Te&&Ee===0)return 0;for(var ze=!1;;)switch(ge){case"ascii":case"latin1":case"binary":return Ee;case"utf8":case"utf-8":return ct(me).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ee*2;case"hex":return Ee>>>1;case"base64":return Et(me).length;default:if(ze)return Te?-1:ct(me).length;ge=(""+ge).toLowerCase(),ze=!0}}T.byteLength=B;function W(me,ge,Ee){var Te=!1;if((ge===void 0||ge<0)&&(ge=0),ge>this.length||((Ee===void 0||Ee>this.length)&&(Ee=this.length),Ee<=0)||(Ee>>>=0,ge>>>=0,Ee<=ge))return"";for(me||(me="utf8");;)switch(me){case"hex":return le(this,ge,Ee);case"utf8":case"utf-8":return ie(this,ge,Ee);case"ascii":return se(this,ge,Ee);case"latin1":case"binary":return ne(this,ge,Ee);case"base64":return $(this,ge,Ee);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return pe(this,ge,Ee);default:if(Te)throw new TypeError("Unknown encoding: "+me);me=(me+"").toLowerCase(),Te=!0}}T.prototype._isBuffer=!0;function q(me,ge,Ee){var Te=me[ge];me[ge]=me[Ee],me[Ee]=Te}T.prototype.swap16=function(){var ge=this.length;if(ge%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var Ee=0;Ee<ge;Ee+=2)q(this,Ee,Ee+1);return this},T.prototype.swap32=function(){var ge=this.length;if(ge%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var Ee=0;Ee<ge;Ee+=4)q(this,Ee,Ee+3),q(this,Ee+1,Ee+2);return this},T.prototype.swap64=function(){var ge=this.length;if(ge%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var Ee=0;Ee<ge;Ee+=8)q(this,Ee,Ee+7),q(this,Ee+1,Ee+6),q(this,Ee+2,Ee+5),q(this,Ee+3,Ee+4);return this},T.prototype.toString=function(){var ge=this.length;return ge===0?"":arguments.length===0?ie(this,0,ge):W.apply(this,arguments)},T.prototype.toLocaleString=T.prototype.toString,T.prototype.equals=function(ge){if(!T.isBuffer(ge))throw new TypeError("Argument must be a Buffer");return this===ge?!0:T.compare(this,ge)===0},T.prototype.inspect=function(){var ge="",Ee=p.h2;return ge=this.toString("hex",0,Ee).replace(/(.{2})/g,"$1 ").trim(),this.length>Ee&&(ge+=" ... "),"<Buffer "+ge+">"},w&&(T.prototype[w]=T.prototype.inspect),T.prototype.compare=function(ge,Ee,Te,ze,Xe){if(Ie(ge,Uint8Array)&&(ge=T.from(ge,ge.offset,ge.byteLength)),!T.isBuffer(ge))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+i(ge));if(Ee===void 0&&(Ee=0),Te===void 0&&(Te=ge?ge.length:0),ze===void 0&&(ze=0),Xe===void 0&&(Xe=this.length),Ee<0||Te>ge.length||ze<0||Xe>this.length)throw new RangeError("out of range index");if(ze>=Xe&&Ee>=Te)return 0;if(ze>=Xe)return-1;if(Ee>=Te)return 1;if(Ee>>>=0,Te>>>=0,ze>>>=0,Xe>>>=0,this===ge)return 0;for(var et=Xe-ze,ut=Te-Ee,dt=Math.min(et,ut),Zt=this.slice(ze,Xe),jt=ge.slice(Ee,Te),Tt=0;Tt<dt;++Tt)if(Zt[Tt]!==jt[Tt]){et=Zt[Tt],ut=jt[Tt];break}return et<ut?-1:ut<et?1:0};function ee(me,ge,Ee,Te,ze){if(me.length===0)return-1;if(typeof Ee=="string"?(Te=Ee,Ee=0):Ee>2147483647?Ee=2147483647:Ee<-2147483648&&(Ee=-2147483648),Ee=+Ee,We(Ee)&&(Ee=ze?0:me.length-1),Ee<0&&(Ee=me.length+Ee),Ee>=me.length){if(ze)return-1;Ee=me.length-1}else if(Ee<0)if(ze)Ee=0;else return-1;if(typeof ge=="string"&&(ge=T.from(ge,Te)),T.isBuffer(ge))return ge.length===0?-1:Q(me,ge,Ee,Te,ze);if(typeof ge=="number")return ge=ge&255,typeof Uint8Array.prototype.indexOf=="function"?ze?Uint8Array.prototype.indexOf.call(me,ge,Ee):Uint8Array.prototype.lastIndexOf.call(me,ge,Ee):Q(me,[ge],Ee,Te,ze);throw new TypeError("val must be string, number or Buffer")}function Q(me,ge,Ee,Te,ze){var Xe=1,et=me.length,ut=ge.length;if(Te!==void 0&&(Te=String(Te).toLowerCase(),Te==="ucs2"||Te==="ucs-2"||Te==="utf16le"||Te==="utf-16le")){if(me.length<2||ge.length<2)return-1;Xe=2,et/=2,ut/=2,Ee/=2}function dt(Qt,wr){return Xe===1?Qt[wr]:Qt.readUInt16BE(wr*Xe)}var Zt;if(ze){var jt=-1;for(Zt=Ee;Zt<et;Zt++)if(dt(me,Zt)===dt(ge,jt===-1?0:Zt-jt)){if(jt===-1&&(jt=Zt),Zt-jt+1===ut)return jt*Xe}else jt!==-1&&(Zt-=Zt-jt),jt=-1}else for(Ee+ut>et&&(Ee=et-ut),Zt=Ee;Zt>=0;Zt--){for(var Tt=!0,kt=0;kt<ut;kt++)if(dt(me,Zt+kt)!==dt(ge,kt)){Tt=!1;break}if(Tt)return Zt}return-1}T.prototype.includes=function(ge,Ee,Te){return this.indexOf(ge,Ee,Te)!==-1},T.prototype.indexOf=function(ge,Ee,Te){return ee(this,ge,Ee,Te,!0)},T.prototype.lastIndexOf=function(ge,Ee,Te){return ee(this,ge,Ee,Te,!1)};function oe(me,ge,Ee,Te){Ee=Number(Ee)||0;var ze=me.length-Ee;Te?(Te=Number(Te),Te>ze&&(Te=ze)):Te=ze;var Xe=ge.length;Te>Xe/2&&(Te=Xe/2);var et;for(et=0;et<Te;++et){var ut=parseInt(ge.substr(et*2,2),16);if(We(ut))return et;me[Ee+et]=ut}return et}function Z(me,ge,Ee,Te){return tt(ct(ge,me.length-Ee),me,Ee,Te)}function Y(me,ge,Ee,Te){return tt(pt(ge),me,Ee,Te)}function te(me,ge,Ee,Te){return tt(Et(ge),me,Ee,Te)}function X(me,ge,Ee,Te){return tt(yt(ge,me.length-Ee),me,Ee,Te)}T.prototype.write=function(ge,Ee,Te,ze){if(Ee===void 0)ze="utf8",Te=this.length,Ee=0;else if(Te===void 0&&typeof Ee=="string")ze=Ee,Te=this.length,Ee=0;else if(isFinite(Ee))Ee=Ee>>>0,isFinite(Te)?(Te=Te>>>0,ze===void 0&&(ze="utf8")):(ze=Te,Te=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var Xe=this.length-Ee;if((Te===void 0||Te>Xe)&&(Te=Xe),ge.length>0&&(Te<0||Ee<0)||Ee>this.length)throw new RangeError("Attempt to write outside buffer bounds");ze||(ze="utf8");for(var et=!1;;)switch(ze){case"hex":return oe(this,ge,Ee,Te);case"utf8":case"utf-8":return Z(this,ge,Ee,Te);case"ascii":case"latin1":case"binary":return Y(this,ge,Ee,Te);case"base64":return te(this,ge,Ee,Te);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return X(this,ge,Ee,Te);default:if(et)throw new TypeError("Unknown encoding: "+ze);ze=(""+ze).toLowerCase(),et=!0}},T.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function $(me,ge,Ee){return ge===0&&Ee===me.length?d.fromByteArray(me):d.fromByteArray(me.slice(ge,Ee))}function ie(me,ge,Ee){Ee=Math.min(me.length,Ee);for(var Te=[],ze=ge;ze<Ee;){var Xe=me[ze],et=null,ut=Xe>239?4:Xe>223?3:Xe>191?2:1;if(ze+ut<=Ee){var dt=void 0,Zt=void 0,jt=void 0,Tt=void 0;switch(ut){case 1:Xe<128&&(et=Xe);break;case 2:dt=me[ze+1],(dt&192)===128&&(Tt=(Xe&31)<<6|dt&63,Tt>127&&(et=Tt));break;case 3:dt=me[ze+1],Zt=me[ze+2],(dt&192)===128&&(Zt&192)===128&&(Tt=(Xe&15)<<12|(dt&63)<<6|Zt&63,Tt>2047&&(Tt<55296||Tt>57343)&&(et=Tt));break;case 4:dt=me[ze+1],Zt=me[ze+2],jt=me[ze+3],(dt&192)===128&&(Zt&192)===128&&(jt&192)===128&&(Tt=(Xe&15)<<18|(dt&63)<<12|(Zt&63)<<6|jt&63,Tt>65535&&Tt<1114112&&(et=Tt))}}et===null?(et=65533,ut=1):et>65535&&(et-=65536,Te.push(et>>>10&1023|55296),et=56320|et&1023),Te.push(et),ze+=ut}return j(Te)}var J=4096;function j(me){var ge=me.length;if(ge<=J)return String.fromCharCode.apply(String,me);for(var Ee="",Te=0;Te<ge;)Ee+=String.fromCharCode.apply(String,me.slice(Te,Te+=J));return Ee}function se(me,ge,Ee){var Te="";Ee=Math.min(me.length,Ee);for(var ze=ge;ze<Ee;++ze)Te+=String.fromCharCode(me[ze]&127);return Te}function ne(me,ge,Ee){var Te="";Ee=Math.min(me.length,Ee);for(var ze=ge;ze<Ee;++ze)Te+=String.fromCharCode(me[ze]);return Te}function le(me,ge,Ee){var Te=me.length;(!ge||ge<0)&&(ge=0),(!Ee||Ee<0||Ee>Te)&&(Ee=Te);for(var ze="",Xe=ge;Xe<Ee;++Xe)ze+=Ze[me[Xe]];return ze}function pe(me,ge,Ee){for(var Te=me.slice(ge,Ee),ze="",Xe=0;Xe<Te.length-1;Xe+=2)ze+=String.fromCharCode(Te[Xe]+Te[Xe+1]*256);return ze}T.prototype.slice=function(ge,Ee){var Te=this.length;ge=~~ge,Ee=Ee===void 0?Te:~~Ee,ge<0?(ge+=Te,ge<0&&(ge=0)):ge>Te&&(ge=Te),Ee<0?(Ee+=Te,Ee<0&&(Ee=0)):Ee>Te&&(Ee=Te),Ee<ge&&(Ee=ge);var ze=this.subarray(ge,Ee);return Object.setPrototypeOf(ze,T.prototype),ze};function Ae(me,ge,Ee){if(me%1!==0||me<0)throw new RangeError("offset is not uint");if(me+ge>Ee)throw new RangeError("Trying to access beyond buffer length")}T.prototype.readUintLE=T.prototype.readUIntLE=function(ge,Ee,Te){ge=ge>>>0,Ee=Ee>>>0,Te||Ae(ge,Ee,this.length);for(var ze=this[ge],Xe=1,et=0;++et<Ee&&(Xe*=256);)ze+=this[ge+et]*Xe;return ze},T.prototype.readUintBE=T.prototype.readUIntBE=function(ge,Ee,Te){ge=ge>>>0,Ee=Ee>>>0,Te||Ae(ge,Ee,this.length);for(var ze=this[ge+--Ee],Xe=1;Ee>0&&(Xe*=256);)ze+=this[ge+--Ee]*Xe;return ze},T.prototype.readUint8=T.prototype.readUInt8=function(ge,Ee){return ge=ge>>>0,Ee||Ae(ge,1,this.length),this[ge]},T.prototype.readUint16LE=T.prototype.readUInt16LE=function(ge,Ee){return ge=ge>>>0,Ee||Ae(ge,2,this.length),this[ge]|this[ge+1]<<8},T.prototype.readUint16BE=T.prototype.readUInt16BE=function(ge,Ee){return ge=ge>>>0,Ee||Ae(ge,2,this.length),this[ge]<<8|this[ge+1]},T.prototype.readUint32LE=T.prototype.readUInt32LE=function(ge,Ee){return ge=ge>>>0,Ee||Ae(ge,4,this.length),(this[ge]|this[ge+1]<<8|this[ge+2]<<16)+this[ge+3]*16777216},T.prototype.readUint32BE=T.prototype.readUInt32BE=function(ge,Ee){return ge=ge>>>0,Ee||Ae(ge,4,this.length),this[ge]*16777216+(this[ge+1]<<16|this[ge+2]<<8|this[ge+3])},T.prototype.readBigUInt64LE=He(function(ge){ge=ge>>>0,lt(ge,"offset");var Ee=this[ge],Te=this[ge+7];(Ee===void 0||Te===void 0)&&$e(ge,this.length-8);var ze=Ee+this[++ge]*Math.pow(2,8)+this[++ge]*Math.pow(2,16)+this[++ge]*Math.pow(2,24),Xe=this[++ge]+this[++ge]*Math.pow(2,8)+this[++ge]*Math.pow(2,16)+Te*Math.pow(2,24);return BigInt(ze)+(BigInt(Xe)<<BigInt(32))}),T.prototype.readBigUInt64BE=He(function(ge){ge=ge>>>0,lt(ge,"offset");var Ee=this[ge],Te=this[ge+7];(Ee===void 0||Te===void 0)&&$e(ge,this.length-8);var ze=Ee*Math.pow(2,24)+this[++ge]*Math.pow(2,16)+this[++ge]*Math.pow(2,8)+this[++ge],Xe=this[++ge]*Math.pow(2,24)+this[++ge]*Math.pow(2,16)+this[++ge]*Math.pow(2,8)+Te;return(BigInt(ze)<<BigInt(32))+BigInt(Xe)}),T.prototype.readIntLE=function(ge,Ee,Te){ge=ge>>>0,Ee=Ee>>>0,Te||Ae(ge,Ee,this.length);for(var ze=this[ge],Xe=1,et=0;++et<Ee&&(Xe*=256);)ze+=this[ge+et]*Xe;return Xe*=128,ze>=Xe&&(ze-=Math.pow(2,8*Ee)),ze},T.prototype.readIntBE=function(ge,Ee,Te){ge=ge>>>0,Ee=Ee>>>0,Te||Ae(ge,Ee,this.length);for(var ze=Ee,Xe=1,et=this[ge+--ze];ze>0&&(Xe*=256);)et+=this[ge+--ze]*Xe;return Xe*=128,et>=Xe&&(et-=Math.pow(2,8*Ee)),et},T.prototype.readInt8=function(ge,Ee){return ge=ge>>>0,Ee||Ae(ge,1,this.length),this[ge]&128?(255-this[ge]+1)*-1:this[ge]},T.prototype.readInt16LE=function(ge,Ee){ge=ge>>>0,Ee||Ae(ge,2,this.length);var Te=this[ge]|this[ge+1]<<8;return Te&32768?Te|4294901760:Te},T.prototype.readInt16BE=function(ge,Ee){ge=ge>>>0,Ee||Ae(ge,2,this.length);var Te=this[ge+1]|this[ge]<<8;return Te&32768?Te|4294901760:Te},T.prototype.readInt32LE=function(ge,Ee){return ge=ge>>>0,Ee||Ae(ge,4,this.length),this[ge]|this[ge+1]<<8|this[ge+2]<<16|this[ge+3]<<24},T.prototype.readInt32BE=function(ge,Ee){return ge=ge>>>0,Ee||Ae(ge,4,this.length),this[ge]<<24|this[ge+1]<<16|this[ge+2]<<8|this[ge+3]},T.prototype.readBigInt64LE=He(function(ge){ge=ge>>>0,lt(ge,"offset");var Ee=this[ge],Te=this[ge+7];(Ee===void 0||Te===void 0)&&$e(ge,this.length-8);var ze=this[ge+4]+this[ge+5]*Math.pow(2,8)+this[ge+6]*Math.pow(2,16)+(Te<<24);return(BigInt(ze)<<BigInt(32))+BigInt(Ee+this[++ge]*Math.pow(2,8)+this[++ge]*Math.pow(2,16)+this[++ge]*Math.pow(2,24))}),T.prototype.readBigInt64BE=He(function(ge){ge=ge>>>0,lt(ge,"offset");var Ee=this[ge],Te=this[ge+7];(Ee===void 0||Te===void 0)&&$e(ge,this.length-8);var ze=(Ee<<24)+this[++ge]*Math.pow(2,16)+this[++ge]*Math.pow(2,8)+this[++ge];return(BigInt(ze)<<BigInt(32))+BigInt(this[++ge]*Math.pow(2,24)+this[++ge]*Math.pow(2,16)+this[++ge]*Math.pow(2,8)+Te)}),T.prototype.readFloatLE=function(ge,Ee){return ge=ge>>>0,Ee||Ae(ge,4,this.length),b.read(this,ge,!0,23,4)},T.prototype.readFloatBE=function(ge,Ee){return ge=ge>>>0,Ee||Ae(ge,4,this.length),b.read(this,ge,!1,23,4)},T.prototype.readDoubleLE=function(ge,Ee){return ge=ge>>>0,Ee||Ae(ge,8,this.length),b.read(this,ge,!0,52,8)},T.prototype.readDoubleBE=function(ge,Ee){return ge=ge>>>0,Ee||Ae(ge,8,this.length),b.read(this,ge,!1,52,8)};function be(me,ge,Ee,Te,ze,Xe){if(!T.isBuffer(me))throw new TypeError('"buffer" argument must be a Buffer instance');if(ge>ze||ge<Xe)throw new RangeError('"value" argument is out of bounds');if(Ee+Te>me.length)throw new RangeError("Index out of range")}T.prototype.writeUintLE=T.prototype.writeUIntLE=function(ge,Ee,Te,ze){if(ge=+ge,Ee=Ee>>>0,Te=Te>>>0,!ze){var Xe=Math.pow(2,8*Te)-1;be(this,ge,Ee,Te,Xe,0)}var et=1,ut=0;for(this[Ee]=ge&255;++ut<Te&&(et*=256);)this[Ee+ut]=ge/et&255;return Ee+Te},T.prototype.writeUintBE=T.prototype.writeUIntBE=function(ge,Ee,Te,ze){if(ge=+ge,Ee=Ee>>>0,Te=Te>>>0,!ze){var Xe=Math.pow(2,8*Te)-1;be(this,ge,Ee,Te,Xe,0)}var et=Te-1,ut=1;for(this[Ee+et]=ge&255;--et>=0&&(ut*=256);)this[Ee+et]=ge/ut&255;return Ee+Te},T.prototype.writeUint8=T.prototype.writeUInt8=function(ge,Ee,Te){return ge=+ge,Ee=Ee>>>0,Te||be(this,ge,Ee,1,255,0),this[Ee]=ge&255,Ee+1},T.prototype.writeUint16LE=T.prototype.writeUInt16LE=function(ge,Ee,Te){return ge=+ge,Ee=Ee>>>0,Te||be(this,ge,Ee,2,65535,0),this[Ee]=ge&255,this[Ee+1]=ge>>>8,Ee+2},T.prototype.writeUint16BE=T.prototype.writeUInt16BE=function(ge,Ee,Te){return ge=+ge,Ee=Ee>>>0,Te||be(this,ge,Ee,2,65535,0),this[Ee]=ge>>>8,this[Ee+1]=ge&255,Ee+2},T.prototype.writeUint32LE=T.prototype.writeUInt32LE=function(ge,Ee,Te){return ge=+ge,Ee=Ee>>>0,Te||be(this,ge,Ee,4,4294967295,0),this[Ee+3]=ge>>>24,this[Ee+2]=ge>>>16,this[Ee+1]=ge>>>8,this[Ee]=ge&255,Ee+4},T.prototype.writeUint32BE=T.prototype.writeUInt32BE=function(ge,Ee,Te){return ge=+ge,Ee=Ee>>>0,Te||be(this,ge,Ee,4,4294967295,0),this[Ee]=ge>>>24,this[Ee+1]=ge>>>16,this[Ee+2]=ge>>>8,this[Ee+3]=ge&255,Ee+4};function Re(me,ge,Ee,Te,ze){it(ge,Te,ze,me,Ee,7);var Xe=Number(ge&BigInt(4294967295));me[Ee++]=Xe,Xe=Xe>>8,me[Ee++]=Xe,Xe=Xe>>8,me[Ee++]=Xe,Xe=Xe>>8,me[Ee++]=Xe;var et=Number(ge>>BigInt(32)&BigInt(4294967295));return me[Ee++]=et,et=et>>8,me[Ee++]=et,et=et>>8,me[Ee++]=et,et=et>>8,me[Ee++]=et,Ee}function xe(me,ge,Ee,Te,ze){it(ge,Te,ze,me,Ee,7);var Xe=Number(ge&BigInt(4294967295));me[Ee+7]=Xe,Xe=Xe>>8,me[Ee+6]=Xe,Xe=Xe>>8,me[Ee+5]=Xe,Xe=Xe>>8,me[Ee+4]=Xe;var et=Number(ge>>BigInt(32)&BigInt(4294967295));return me[Ee+3]=et,et=et>>8,me[Ee+2]=et,et=et>>8,me[Ee+1]=et,et=et>>8,me[Ee]=et,Ee+8}T.prototype.writeBigUInt64LE=He(function(ge){var Ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Re(this,ge,Ee,BigInt(0),BigInt("0xffffffffffffffff"))}),T.prototype.writeBigUInt64BE=He(function(ge){var Ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return xe(this,ge,Ee,BigInt(0),BigInt("0xffffffffffffffff"))}),T.prototype.writeIntLE=function(ge,Ee,Te,ze){if(ge=+ge,Ee=Ee>>>0,!ze){var Xe=Math.pow(2,8*Te-1);be(this,ge,Ee,Te,Xe-1,-Xe)}var et=0,ut=1,dt=0;for(this[Ee]=ge&255;++et<Te&&(ut*=256);)ge<0&&dt===0&&this[Ee+et-1]!==0&&(dt=1),this[Ee+et]=(ge/ut>>0)-dt&255;return Ee+Te},T.prototype.writeIntBE=function(ge,Ee,Te,ze){if(ge=+ge,Ee=Ee>>>0,!ze){var Xe=Math.pow(2,8*Te-1);be(this,ge,Ee,Te,Xe-1,-Xe)}var et=Te-1,ut=1,dt=0;for(this[Ee+et]=ge&255;--et>=0&&(ut*=256);)ge<0&&dt===0&&this[Ee+et+1]!==0&&(dt=1),this[Ee+et]=(ge/ut>>0)-dt&255;return Ee+Te},T.prototype.writeInt8=function(ge,Ee,Te){return ge=+ge,Ee=Ee>>>0,Te||be(this,ge,Ee,1,127,-128),ge<0&&(ge=255+ge+1),this[Ee]=ge&255,Ee+1},T.prototype.writeInt16LE=function(ge,Ee,Te){return ge=+ge,Ee=Ee>>>0,Te||be(this,ge,Ee,2,32767,-32768),this[Ee]=ge&255,this[Ee+1]=ge>>>8,Ee+2},T.prototype.writeInt16BE=function(ge,Ee,Te){return ge=+ge,Ee=Ee>>>0,Te||be(this,ge,Ee,2,32767,-32768),this[Ee]=ge>>>8,this[Ee+1]=ge&255,Ee+2},T.prototype.writeInt32LE=function(ge,Ee,Te){return ge=+ge,Ee=Ee>>>0,Te||be(this,ge,Ee,4,2147483647,-2147483648),this[Ee]=ge&255,this[Ee+1]=ge>>>8,this[Ee+2]=ge>>>16,this[Ee+3]=ge>>>24,Ee+4},T.prototype.writeInt32BE=function(ge,Ee,Te){return ge=+ge,Ee=Ee>>>0,Te||be(this,ge,Ee,4,2147483647,-2147483648),ge<0&&(ge=4294967295+ge+1),this[Ee]=ge>>>24,this[Ee+1]=ge>>>16,this[Ee+2]=ge>>>8,this[Ee+3]=ge&255,Ee+4},T.prototype.writeBigInt64LE=He(function(ge){var Ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Re(this,ge,Ee,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),T.prototype.writeBigInt64BE=He(function(ge){var Ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return xe(this,ge,Ee,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Me(me,ge,Ee,Te,ze,Xe){if(Ee+Te>me.length)throw new RangeError("Index out of range");if(Ee<0)throw new RangeError("Index out of range")}function ye(me,ge,Ee,Te,ze){return ge=+ge,Ee=Ee>>>0,ze||Me(me,ge,Ee,4),b.write(me,ge,Ee,Te,23,4),Ee+4}T.prototype.writeFloatLE=function(ge,Ee,Te){return ye(this,ge,Ee,!0,Te)},T.prototype.writeFloatBE=function(ge,Ee,Te){return ye(this,ge,Ee,!1,Te)};function Se(me,ge,Ee,Te,ze){return ge=+ge,Ee=Ee>>>0,ze||Me(me,ge,Ee,8),b.write(me,ge,Ee,Te,52,8),Ee+8}T.prototype.writeDoubleLE=function(ge,Ee,Te){return Se(this,ge,Ee,!0,Te)},T.prototype.writeDoubleBE=function(ge,Ee,Te){return Se(this,ge,Ee,!1,Te)},T.prototype.copy=function(ge,Ee,Te,ze){if(!T.isBuffer(ge))throw new TypeError("argument should be a Buffer");if(Te||(Te=0),!ze&&ze!==0&&(ze=this.length),Ee>=ge.length&&(Ee=ge.length),Ee||(Ee=0),ze>0&&ze<Te&&(ze=Te),ze===Te||ge.length===0||this.length===0)return 0;if(Ee<0)throw new RangeError("targetStart out of bounds");if(Te<0||Te>=this.length)throw new RangeError("Index out of range");if(ze<0)throw new RangeError("sourceEnd out of bounds");ze>this.length&&(ze=this.length),ge.length-Ee<ze-Te&&(ze=ge.length-Ee+Te);var Xe=ze-Te;return this===ge&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(Ee,Te,ze):Uint8Array.prototype.set.call(ge,this.subarray(Te,ze),Ee),Xe},T.prototype.fill=function(ge,Ee,Te,ze){if(typeof ge=="string"){if(typeof Ee=="string"?(ze=Ee,Ee=0,Te=this.length):typeof Te=="string"&&(ze=Te,Te=this.length),ze!==void 0&&typeof ze!="string")throw new TypeError("encoding must be a string");if(typeof ze=="string"&&!T.isEncoding(ze))throw new TypeError("Unknown encoding: "+ze);if(ge.length===1){var Xe=ge.charCodeAt(0);(ze==="utf8"&&Xe<128||ze==="latin1")&&(ge=Xe)}}else typeof ge=="number"?ge=ge&255:typeof ge=="boolean"&&(ge=Number(ge));if(Ee<0||this.length<Ee||this.length<Te)throw new RangeError("Out of range index");if(Te<=Ee)return this;Ee=Ee>>>0,Te=Te===void 0?this.length:Te>>>0,ge||(ge=0);var et;if(typeof ge=="number")for(et=Ee;et<Te;++et)this[et]=ge;else{var ut=T.isBuffer(ge)?ge:T.from(ge,ze),dt=ut.length;if(dt===0)throw new TypeError('The value "'+ge+'" is invalid for argument "value"');for(et=0;et<Te-Ee;++et)this[et+Ee]=ut[et%dt]}return this};var Fe={};function Be(me,ge,Ee){Fe[me]=function(Te){f(Xe,Te);var ze=l(Xe);function Xe(){var et;return t(this,Xe),et=ze.call(this),Object.defineProperty(h(et),"message",{value:ge.apply(h(et),arguments),writable:!0,configurable:!0}),et.name="".concat(et.name," [").concat(me,"]"),et.stack,delete et.name,et}return n(Xe,[{key:"code",get:function(){return me},set:function(ut){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:ut,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(me,"]: ").concat(this.message)}}]),Xe}(Ee)}Be("ERR_BUFFER_OUT_OF_BOUNDS",function(me){return me?"".concat(me," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"},RangeError),Be("ERR_INVALID_ARG_TYPE",function(me,ge){return'The "'.concat(me,'" argument must be of type number. Received type ').concat(i(ge))},TypeError),Be("ERR_OUT_OF_RANGE",function(me,ge,Ee){var Te='The value of "'.concat(me,'" is out of range.'),ze=Ee;return Number.isInteger(Ee)&&Math.abs(Ee)>Math.pow(2,32)?ze=_e(String(Ee)):typeof Ee=="bigint"&&(ze=String(Ee),(Ee>Math.pow(BigInt(2),BigInt(32))||Ee<-Math.pow(BigInt(2),BigInt(32)))&&(ze=_e(ze)),ze+="n"),Te+=" It must be ".concat(ge,". Received ").concat(ze),Te},RangeError);function _e(me){for(var ge="",Ee=me.length,Te=me[0]==="-"?1:0;Ee>=Te+4;Ee-=3)ge="_".concat(me.slice(Ee-3,Ee)).concat(ge);return"".concat(me.slice(0,Ee)).concat(ge)}function Ue(me,ge,Ee){lt(ge,"offset"),(me[ge]===void 0||me[ge+Ee]===void 0)&&$e(ge,me.length-(Ee+1))}function it(me,ge,Ee,Te,ze,Xe){if(me>Ee||me<ge){var et=typeof ge=="bigint"?"n":"",ut;throw Xe>3?ge===0||ge===BigInt(0)?ut=">= 0".concat(et," and < 2").concat(et," ** ").concat((Xe+1)*8).concat(et):ut=">= -(2".concat(et," ** ").concat((Xe+1)*8-1).concat(et,") and < 2 ** ")+"".concat((Xe+1)*8-1).concat(et):ut=">= ".concat(ge).concat(et," and <= ").concat(Ee).concat(et),new Fe.ERR_OUT_OF_RANGE("value",ut,me)}Ue(Te,ze,Xe)}function lt(me,ge){if(typeof me!="number")throw new Fe.ERR_INVALID_ARG_TYPE(ge,"number",me)}function $e(me,ge,Ee){throw Math.floor(me)!==me?(lt(me,Ee),new Fe.ERR_OUT_OF_RANGE(Ee||"offset","an integer",me)):ge<0?new Fe.ERR_BUFFER_OUT_OF_BOUNDS:new Fe.ERR_OUT_OF_RANGE(Ee||"offset",">= ".concat(Ee?1:0," and <= ").concat(ge),me)}var qe=/[^+/0-9A-Za-z-_]/g;function ft(me){if(me=me.split("=")[0],me=me.trim().replace(qe,""),me.length<2)return"";for(;me.length%4!==0;)me=me+"=";return me}function ct(me,ge){ge=ge||1/0;for(var Ee,Te=me.length,ze=null,Xe=[],et=0;et<Te;++et){if(Ee=me.charCodeAt(et),Ee>55295&&Ee<57344){if(!ze){if(Ee>56319){(ge-=3)>-1&&Xe.push(239,191,189);continue}else if(et+1===Te){(ge-=3)>-1&&Xe.push(239,191,189);continue}ze=Ee;continue}if(Ee<56320){(ge-=3)>-1&&Xe.push(239,191,189),ze=Ee;continue}Ee=(ze-55296<<10|Ee-56320)+65536}else ze&&(ge-=3)>-1&&Xe.push(239,191,189);if(ze=null,Ee<128){if((ge-=1)<0)break;Xe.push(Ee)}else if(Ee<2048){if((ge-=2)<0)break;Xe.push(Ee>>6|192,Ee&63|128)}else if(Ee<65536){if((ge-=3)<0)break;Xe.push(Ee>>12|224,Ee>>6&63|128,Ee&63|128)}else if(Ee<1114112){if((ge-=4)<0)break;Xe.push(Ee>>18|240,Ee>>12&63|128,Ee>>6&63|128,Ee&63|128)}else throw new Error("Invalid code point")}return Xe}function pt(me){for(var ge=[],Ee=0;Ee<me.length;++Ee)ge.push(me.charCodeAt(Ee)&255);return ge}function yt(me,ge){for(var Ee,Te,ze,Xe=[],et=0;et<me.length&&!((ge-=2)<0);++et)Ee=me.charCodeAt(et),Te=Ee>>8,ze=Ee%256,Xe.push(ze),Xe.push(Te);return Xe}function Et(me){return d.toByteArray(ft(me))}function tt(me,ge,Ee,Te){var ze;for(ze=0;ze<Te&&!(ze+Ee>=ge.length||ze>=me.length);++ze)ge[ze+Ee]=me[ze];return ze}function Ie(me,ge){return me instanceof ge||me!=null&&me.constructor!=null&&me.constructor.name!=null&&me.constructor.name===ge.name}function We(me){return me!==me}var Ze=function(){for(var me="0123456789abcdef",ge=new Array(256),Ee=0;Ee<16;++Ee)for(var Te=Ee*16,ze=0;ze<16;++ze)ge[Te+ze]=me[Ee]+me[ze];return ge}();function He(me){return typeof BigInt=="undefined"?De:me}function De(){throw new Error("BigInt not supported")}},2321:function(v){v.exports=s,v.exports.isMobile=s,v.exports.default=s;var p=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,r=/CrOS/,t=/android|ipad|playbook|silk/i;function s(n){n||(n={});var f=n.ua;if(!f&&typeof navigator!="undefined"&&(f=navigator.userAgent),f&&f.headers&&typeof f.headers["user-agent"]=="string"&&(f=f.headers["user-agent"]),typeof f!="string")return!1;var u=p.test(f)&&!r.test(f)||!!n.tablet&&t.test(f);return!u&&n.tablet&&n.featureDetect&&navigator&&navigator.maxTouchPoints>1&&f.indexOf("Macintosh")!==-1&&f.indexOf("Safari")!==-1&&(u=!0),u}},3910:function(v,p){p.byteLength=m,p.toByteArray=M,p.fromByteArray=d;for(var r=[],t=[],s=typeof Uint8Array!="undefined"?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",f=0,u=n.length;f<u;++f)r[f]=n[f],t[n.charCodeAt(f)]=f;t["-".charCodeAt(0)]=62,t["_".charCodeAt(0)]=63;function l(b){var w=b.length;if(w%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var E=b.indexOf("=");E===-1&&(E=w);var y=E===w?0:4-E%4;return[E,y]}function m(b){var w=l(b),E=w[0],y=w[1];return(E+y)*3/4-y}function h(b,w,E){return(w+E)*3/4-E}function M(b){var w,E=l(b),y=E[0],S=E[1],T=new s(h(b,y,S)),o=0,P=S>0?y-4:y,x;for(x=0;x<P;x+=4)w=t[b.charCodeAt(x)]<<18|t[b.charCodeAt(x+1)]<<12|t[b.charCodeAt(x+2)]<<6|t[b.charCodeAt(x+3)],T[o++]=w>>16&255,T[o++]=w>>8&255,T[o++]=w&255;return S===2&&(w=t[b.charCodeAt(x)]<<2|t[b.charCodeAt(x+1)]>>4,T[o++]=w&255),S===1&&(w=t[b.charCodeAt(x)]<<10|t[b.charCodeAt(x+1)]<<4|t[b.charCodeAt(x+2)]>>2,T[o++]=w>>8&255,T[o++]=w&255),T}function c(b){return r[b>>18&63]+r[b>>12&63]+r[b>>6&63]+r[b&63]}function i(b,w,E){for(var y,S=[],T=w;T<E;T+=3)y=(b[T]<<16&16711680)+(b[T+1]<<8&65280)+(b[T+2]&255),S.push(c(y));return S.join("")}function d(b){for(var w,E=b.length,y=E%3,S=[],T=16383,o=0,P=E-y;o<P;o+=T)S.push(i(b,o,o+T>P?P:o+T));return y===1?(w=b[E-1],S.push(r[w>>2]+r[w<<4&63]+"==")):y===2&&(w=(b[E-2]<<8)+b[E-1],S.push(r[w>>10]+r[w>>4&63]+r[w<<2&63]+"=")),S.join("")}},3187:function(v,p){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */p.read=function(r,t,s,n,f){var u,l,m=f*8-n-1,h=(1<<m)-1,M=h>>1,c=-7,i=s?f-1:0,d=s?-1:1,b=r[t+i];for(i+=d,u=b&(1<<-c)-1,b>>=-c,c+=m;c>0;u=u*256+r[t+i],i+=d,c-=8);for(l=u&(1<<-c)-1,u>>=-c,c+=n;c>0;l=l*256+r[t+i],i+=d,c-=8);if(u===0)u=1-M;else{if(u===h)return l?NaN:(b?-1:1)*(1/0);l=l+Math.pow(2,n),u=u-M}return(b?-1:1)*l*Math.pow(2,u-n)},p.write=function(r,t,s,n,f,u){var l,m,h,M=u*8-f-1,c=(1<<M)-1,i=c>>1,d=f===23?Math.pow(2,-24)-Math.pow(2,-77):0,b=n?0:u-1,w=n?1:-1,E=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(m=isNaN(t)?1:0,l=c):(l=Math.floor(Math.log(t)/Math.LN2),t*(h=Math.pow(2,-l))<1&&(l--,h*=2),l+i>=1?t+=d/h:t+=d*Math.pow(2,1-i),t*h>=2&&(l++,h/=2),l+i>=c?(m=0,l=c):l+i>=1?(m=(t*h-1)*Math.pow(2,f),l=l+i):(m=t*Math.pow(2,i-1)*Math.pow(2,f),l=0));f>=8;r[s+b]=m&255,b+=w,m/=256,f-=8);for(l=l<<f|m,M+=f;M>0;r[s+b]=l&255,b+=w,l/=256,M-=8);r[s+b-w]|=E*128}},1152:function(v,p,r){v.exports=l;var t=r(3440),s=r(7774),n=r(9298);function f(m,h){this._controllerNames=Object.keys(m),this._controllerList=this._controllerNames.map(function(M){return m[M]}),this._mode=h,this._active=m[h],this._active||(this._mode="turntable",this._active=m.turntable),this.modes=this._controllerNames,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}var u=f.prototype;u.flush=function(m){for(var h=this._controllerList,M=0;M<h.length;++M)h[M].flush(m)},u.idle=function(m){for(var h=this._controllerList,M=0;M<h.length;++M)h[M].idle(m)},u.lookAt=function(m,h,M,c){for(var i=this._controllerList,d=0;d<i.length;++d)i[d].lookAt(m,h,M,c)},u.rotate=function(m,h,M,c){for(var i=this._controllerList,d=0;d<i.length;++d)i[d].rotate(m,h,M,c)},u.pan=function(m,h,M,c){for(var i=this._controllerList,d=0;d<i.length;++d)i[d].pan(m,h,M,c)},u.translate=function(m,h,M,c){for(var i=this._controllerList,d=0;d<i.length;++d)i[d].translate(m,h,M,c)},u.setMatrix=function(m,h){for(var M=this._controllerList,c=0;c<M.length;++c)M[c].setMatrix(m,h)},u.setDistanceLimits=function(m,h){for(var M=this._controllerList,c=0;c<M.length;++c)M[c].setDistanceLimits(m,h)},u.setDistance=function(m,h){for(var M=this._controllerList,c=0;c<M.length;++c)M[c].setDistance(m,h)},u.recalcMatrix=function(m){this._active.recalcMatrix(m)},u.getDistance=function(m){return this._active.getDistance(m)},u.getDistanceLimits=function(m){return this._active.getDistanceLimits(m)},u.lastT=function(){return this._active.lastT()},u.setMode=function(m){if(m!==this._mode){var h=this._controllerNames.indexOf(m);if(!(h<0)){var M=this._active,c=this._controllerList[h],i=Math.max(M.lastT(),c.lastT());M.recalcMatrix(i),c.setMatrix(i,M.computedMatrix),this._active=c,this._mode=m,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}}},u.getMode=function(){return this._mode};function l(m){m=m||{};var h=m.eye||[0,0,1],M=m.center||[0,0,0],c=m.up||[0,1,0],i=m.distanceLimits||[0,1/0],d=m.mode||"turntable",b=t(),w=s(),E=n();return b.setDistanceLimits(i[0],i[1]),b.lookAt(0,h,M,c),w.setDistanceLimits(i[0],i[1]),w.lookAt(0,h,M,c),E.setDistanceLimits(i[0],i[1]),E.lookAt(0,h,M,c),new f({turntable:b,orbit:w,matrix:E},d)}},8126:function(v,p,r){var t=typeof WeakMap=="undefined"?r(5346):WeakMap,s=r(5827),n=r(2944),f=new t;function u(l){var m=f.get(l),h=m&&(m._triangleBuffer.handle||m._triangleBuffer.buffer);if(!h||!l.isBuffer(h)){var M=s(l,new Float32Array([-1,-1,-1,4,4,-1]));m=n(l,[{buffer:M,type:l.FLOAT,size:2}]),m._triangleBuffer=M,f.set(l,m)}m.bind(),l.drawArrays(l.TRIANGLES,0,3),m.unbind()}v.exports=u},8008:function(v,p,r){var t=r(4930);v.exports=s;function s(n,f,u){f=typeof f=="number"?f:1,u=u||": ";var l=n.split(/\r?\n/),m=String(l.length+f-1).length;return l.map(function(h,M){var c=M+f,i=String(c).length,d=t(c,m-i);return d+u+h}).join(`
`)}},2153:function(v,p,r){v.exports=n;var t=r(417);function s(f,u){for(var l=new Array(u+1),m=0;m<f.length;++m)l[m]=f[m];for(var m=0;m<=f.length;++m){for(var h=f.length;h<=u;++h){for(var M=new Array(u),c=0;c<u;++c)M[c]=Math.pow(h+1-m,c);l[h]=M}var i=t.apply(void 0,l);if(i)return!0}return!1}function n(f){var u=f.length;if(u===0)return[];if(u===1)return[0];for(var l=f[0].length,m=[f[0]],h=[0],M=1;M<u;++M){if(m.push(f[M]),!s(m,l)){m.pop();continue}if(h.push(M),h.length===l+1)return h}return h}},4653:function(v,p,r){v.exports=n;var t=r(4419),s=r(1778);function n(f,u){return t(u).filter(function(l){for(var m=new Array(l.length),h=0;h<l.length;++h)m[h]=u[l[h]];return s(m)*f<1})}},2350:function(v,p,r){v.exports=n;var t=r(4653),s=r(8691);function n(f,u){return s(t(f,u))}},7896:function(v){v.exports=function(r){return atob(r)}},957:function(v,p,r){v.exports=n;var t=r(6606);function s(f){for(var u=0,l=0;l<f.length;++l)u+=f[l];return u}function n(f,u){for(var l=u.length,m=new Array(l+1),h=0;h<l;++h){for(var M=new Array(l+1),c=0;c<=l;++c)M[c]=f[c][h];m[h]=M}m[l]=new Array(l+1);for(var h=0;h<=l;++h)m[l][h]=1;for(var i=new Array(l+1),h=0;h<l;++h)i[h]=u[h];i[l]=1;var d=t(m,i),b=s(d[l+1]);b===0&&(b=1);for(var w=new Array(l+1),h=0;h<=l;++h)w[h]=s(d[h])/b;return w}},1539:function(v,p,r){var t=r(8524);v.exports=s;function s(n,f){return t(n[0].mul(f[1]).add(f[0].mul(n[1])),n[1].mul(f[1]))}},8846:function(v){v.exports=p;function p(r,t){return r[0].mul(t[1]).cmp(t[0].mul(r[1]))}},9189:function(v,p,r){var t=r(8524);v.exports=s;function s(n,f){return t(n[0].mul(f[1]),n[1].mul(f[0]))}},5125:function(v,p,r){var t=r(234),s=r(3218),n=r(5514),f=r(2813),u=r(8524),l=r(9189);v.exports=m;function m(h,M){if(t(h))return M?l(h,m(M)):[h[0].clone(),h[1].clone()];var c=0,i,d;if(s(h))i=h.clone();else if(typeof h=="string")i=f(h);else{if(h===0)return[n(0),n(1)];if(h===Math.floor(h))i=n(h);else{for(;h!==Math.floor(h);)h=h*Math.pow(2,256),c-=256;i=n(h)}}if(t(M))i.mul(M[1]),d=M[0].clone();else if(s(M))d=M.clone();else if(typeof M=="string")d=f(M);else if(!M)d=n(1);else if(M===Math.floor(M))d=n(M);else{for(;M!==Math.floor(M);)M=M*Math.pow(2,256),c+=256;d=n(M)}return c>0?i=i.ushln(c):c<0&&(d=d.ushln(-c)),u(i,d)}},234:function(v,p,r){var t=r(3218);v.exports=s;function s(n){return Array.isArray(n)&&n.length===2&&t(n[0])&&t(n[1])}},4275:function(v,p,r){var t=r(1928);v.exports=s;function s(n){return n.cmp(new t(0))}},9958:function(v,p,r){var t=r(4275);v.exports=s;function s(n){var f=n.length,u=n.words,l=0;if(f===1)l=u[0];else if(f===2)l=u[0]+u[1]*67108864;else for(var m=0;m<f;m++){var h=u[m];l+=h*Math.pow(67108864,m)}return t(n)*l}},1112:function(v,p,r){var t=r(8362),s=r(2288).countTrailingZeros;v.exports=n;function n(f){var u=s(t.lo(f));if(u<32)return u;var l=s(t.hi(f));return l>20?52:l+32}},3218:function(v,p,r){r(1928),v.exports=t;function t(s){return s&&typeof s=="object"&&Boolean(s.words)}},5514:function(v,p,r){var t=r(1928),s=r(8362);v.exports=n;function n(f){var u=s.exponent(f);return u<52?new t(f):new t(f*Math.pow(2,52-u)).ushln(u-52)}},8524:function(v,p,r){var t=r(5514),s=r(4275);v.exports=n;function n(f,u){var l=s(f),m=s(u);if(l===0)return[t(0),t(1)];if(m===0)return[t(0),t(0)];m<0&&(f=f.neg(),u=u.neg());var h=f.gcd(u);return h.cmpn(1)?[f.div(h),u.div(h)]:[f,u]}},2813:function(v,p,r){var t=r(1928);v.exports=s;function s(n){return new t(n)}},3962:function(v,p,r){var t=r(8524);v.exports=s;function s(n,f){return t(n[0].mul(f[0]),n[1].mul(f[1]))}},4951:function(v,p,r){var t=r(4275);v.exports=s;function s(n){return t(n[0])*t(n[1])}},4354:function(v,p,r){var t=r(8524);v.exports=s;function s(n,f){return t(n[0].mul(f[1]).sub(n[1].mul(f[0])),n[1].mul(f[1]))}},7999:function(v,p,r){var t=r(9958),s=r(1112);v.exports=n;function n(f){var u=f[0],l=f[1];if(u.cmpn(0)===0)return 0;var m=u.abs().divmod(l.abs()),h=m.div,M=t(h),c=m.mod,i=u.negative!==l.negative?-1:1;if(c.cmpn(0)===0)return i*M;if(M){var d=s(M)+4,b=t(c.ushln(d).divRound(l));return i*(M+b*Math.pow(2,-d))}else{var w=l.bitLength()-c.bitLength()+53,b=t(c.ushln(w).divRound(l));return w<1023?i*b*Math.pow(2,-w):(b*=Math.pow(2,-1023),i*b*Math.pow(2,1023-w))}}},5070:function(v){function p(u,l,m,h,M){for(var c=M+1;h<=M;){var i=h+M>>>1,d=u[i],b=m!==void 0?m(d,l):d-l;b>=0?(c=i,M=i-1):h=i+1}return c}function r(u,l,m,h,M){for(var c=M+1;h<=M;){var i=h+M>>>1,d=u[i],b=m!==void 0?m(d,l):d-l;b>0?(c=i,M=i-1):h=i+1}return c}function t(u,l,m,h,M){for(var c=h-1;h<=M;){var i=h+M>>>1,d=u[i],b=m!==void 0?m(d,l):d-l;b<0?(c=i,h=i+1):M=i-1}return c}function s(u,l,m,h,M){for(var c=h-1;h<=M;){var i=h+M>>>1,d=u[i],b=m!==void 0?m(d,l):d-l;b<=0?(c=i,h=i+1):M=i-1}return c}function n(u,l,m,h,M){for(;h<=M;){var c=h+M>>>1,i=u[c],d=m!==void 0?m(i,l):i-l;if(d===0)return c;d<=0?h=c+1:M=c-1}return-1}function f(u,l,m,h,M,c){return typeof m=="function"?c(u,l,m,h===void 0?0:h|0,M===void 0?u.length-1:M|0):c(u,l,void 0,m===void 0?0:m|0,h===void 0?u.length-1:h|0)}v.exports={ge:function(u,l,m,h,M){return f(u,l,m,h,M,p)},gt:function(u,l,m,h,M){return f(u,l,m,h,M,r)},lt:function(u,l,m,h,M){return f(u,l,m,h,M,t)},le:function(u,l,m,h,M){return f(u,l,m,h,M,s)},eq:function(u,l,m,h,M){return f(u,l,m,h,M,n)}}},2288:function(v,p){var r=32;p.INT_BITS=r,p.INT_MAX=2147483647,p.INT_MIN=-1<<r-1,p.sign=function(n){return(n>0)-(n<0)},p.abs=function(n){var f=n>>r-1;return(n^f)-f},p.min=function(n,f){return f^(n^f)&-(n<f)},p.max=function(n,f){return n^(n^f)&-(n<f)},p.isPow2=function(n){return!(n&n-1)&&!!n},p.log2=function(n){var f,u;return f=(n>65535)<<4,n>>>=f,u=(n>255)<<3,n>>>=u,f|=u,u=(n>15)<<2,n>>>=u,f|=u,u=(n>3)<<1,n>>>=u,f|=u,f|n>>1},p.log10=function(n){return n>=1e9?9:n>=1e8?8:n>=1e7?7:n>=1e6?6:n>=1e5?5:n>=1e4?4:n>=1e3?3:n>=100?2:n>=10?1:0},p.popCount=function(n){return n=n-(n>>>1&1431655765),n=(n&858993459)+(n>>>2&858993459),(n+(n>>>4)&252645135)*16843009>>>24};function t(n){var f=32;return n&=-n,n&&f--,n&65535&&(f-=16),n&16711935&&(f-=8),n&252645135&&(f-=4),n&858993459&&(f-=2),n&1431655765&&(f-=1),f}p.countTrailingZeros=t,p.nextPow2=function(n){return n+=n===0,--n,n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n+1},p.prevPow2=function(n){return n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n-(n>>>1)},p.parity=function(n){return n^=n>>>16,n^=n>>>8,n^=n>>>4,n&=15,27030>>>n&1};var s=new Array(256);(function(n){for(var f=0;f<256;++f){var u=f,l=f,m=7;for(u>>>=1;u;u>>>=1)l<<=1,l|=u&1,--m;n[f]=l<<m&255}})(s),p.reverse=function(n){return s[n&255]<<24|s[n>>>8&255]<<16|s[n>>>16&255]<<8|s[n>>>24&255]},p.interleave2=function(n,f){return n&=65535,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,f&=65535,f=(f|f<<8)&16711935,f=(f|f<<4)&252645135,f=(f|f<<2)&858993459,f=(f|f<<1)&1431655765,n|f<<1},p.deinterleave2=function(n,f){return n=n>>>f&1431655765,n=(n|n>>>1)&858993459,n=(n|n>>>2)&252645135,n=(n|n>>>4)&16711935,n=(n|n>>>16)&65535,n<<16>>16},p.interleave3=function(n,f,u){return n&=1023,n=(n|n<<16)&4278190335,n=(n|n<<8)&251719695,n=(n|n<<4)&3272356035,n=(n|n<<2)&1227133513,f&=1023,f=(f|f<<16)&4278190335,f=(f|f<<8)&251719695,f=(f|f<<4)&3272356035,f=(f|f<<2)&1227133513,n|=f<<1,u&=1023,u=(u|u<<16)&4278190335,u=(u|u<<8)&251719695,u=(u|u<<4)&3272356035,u=(u|u<<2)&1227133513,n|u<<2},p.deinterleave3=function(n,f){return n=n>>>f&1227133513,n=(n|n>>>2)&3272356035,n=(n|n>>>4)&251719695,n=(n|n>>>8)&4278190335,n=(n|n>>>16)&1023,n<<22>>22},p.nextCombination=function(n){var f=n|n-1;return f+1|(~f&-~f)-1>>>t(n)+1}},1928:function(v,p,r){v=r.nmd(v),function(t,s){function n(O,z){if(!O)throw new Error(z||"Assertion failed")}function f(O,z){O.super_=z;var B=function(){};B.prototype=z.prototype,O.prototype=new B,O.prototype.constructor=O}function u(O,z,B){if(u.isBN(O))return O;this.negative=0,this.words=null,this.length=0,this.red=null,O!==null&&((z==="le"||z==="be")&&(B=z,z=10),this._init(O||0,z||10,B||"be"))}typeof t=="object"?t.exports=u:s.BN=u,u.BN=u,u.wordSize=26;var l;try{typeof window!="undefined"&&typeof window.Buffer!="undefined"?l=window.Buffer:l=r(6601).Buffer}catch{}u.isBN=function(z){return z instanceof u?!0:z!==null&&typeof z=="object"&&z.constructor.wordSize===u.wordSize&&Array.isArray(z.words)},u.max=function(z,B){return z.cmp(B)>0?z:B},u.min=function(z,B){return z.cmp(B)<0?z:B},u.prototype._init=function(z,B,W){if(typeof z=="number")return this._initNumber(z,B,W);if(typeof z=="object")return this._initArray(z,B,W);B==="hex"&&(B=16),n(B===(B|0)&&B>=2&&B<=36),z=z.toString().replace(/\s+/g,"");var q=0;z[0]==="-"&&(q++,this.negative=1),q<z.length&&(B===16?this._parseHex(z,q,W):(this._parseBase(z,B,q),W==="le"&&this._initArray(this.toArray(),B,W)))},u.prototype._initNumber=function(z,B,W){z<0&&(this.negative=1,z=-z),z<67108864?(this.words=[z&67108863],this.length=1):z<4503599627370496?(this.words=[z&67108863,z/67108864&67108863],this.length=2):(n(z<9007199254740992),this.words=[z&67108863,z/67108864&67108863,1],this.length=3),W==="le"&&this._initArray(this.toArray(),B,W)},u.prototype._initArray=function(z,B,W){if(n(typeof z.length=="number"),z.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(z.length/3),this.words=new Array(this.length);for(var q=0;q<this.length;q++)this.words[q]=0;var ee,Q,oe=0;if(W==="be")for(q=z.length-1,ee=0;q>=0;q-=3)Q=z[q]|z[q-1]<<8|z[q-2]<<16,this.words[ee]|=Q<<oe&67108863,this.words[ee+1]=Q>>>26-oe&67108863,oe+=24,oe>=26&&(oe-=26,ee++);else if(W==="le")for(q=0,ee=0;q<z.length;q+=3)Q=z[q]|z[q+1]<<8|z[q+2]<<16,this.words[ee]|=Q<<oe&67108863,this.words[ee+1]=Q>>>26-oe&67108863,oe+=24,oe>=26&&(oe-=26,ee++);return this.strip()};function m(O,z){var B=O.charCodeAt(z);return B>=65&&B<=70?B-55:B>=97&&B<=102?B-87:B-48&15}function h(O,z,B){var W=m(O,B);return B-1>=z&&(W|=m(O,B-1)<<4),W}u.prototype._parseHex=function(z,B,W){this.length=Math.ceil((z.length-B)/6),this.words=new Array(this.length);for(var q=0;q<this.length;q++)this.words[q]=0;var ee=0,Q=0,oe;if(W==="be")for(q=z.length-1;q>=B;q-=2)oe=h(z,B,q)<<ee,this.words[Q]|=oe&67108863,ee>=18?(ee-=18,Q+=1,this.words[Q]|=oe>>>26):ee+=8;else{var Z=z.length-B;for(q=Z%2===0?B+1:B;q<z.length;q+=2)oe=h(z,B,q)<<ee,this.words[Q]|=oe&67108863,ee>=18?(ee-=18,Q+=1,this.words[Q]|=oe>>>26):ee+=8}this.strip()};function M(O,z,B,W){for(var q=0,ee=Math.min(O.length,B),Q=z;Q<ee;Q++){var oe=O.charCodeAt(Q)-48;q*=W,oe>=49?q+=oe-49+10:oe>=17?q+=oe-17+10:q+=oe}return q}u.prototype._parseBase=function(z,B,W){this.words=[0],this.length=1;for(var q=0,ee=1;ee<=67108863;ee*=B)q++;q--,ee=ee/B|0;for(var Q=z.length-W,oe=Q%q,Z=Math.min(Q,Q-oe)+W,Y=0,te=W;te<Z;te+=q)Y=M(z,te,te+q,B),this.imuln(ee),this.words[0]+Y<67108864?this.words[0]+=Y:this._iaddn(Y);if(oe!==0){var X=1;for(Y=M(z,te,z.length,B),te=0;te<oe;te++)X*=B;this.imuln(X),this.words[0]+Y<67108864?this.words[0]+=Y:this._iaddn(Y)}this.strip()},u.prototype.copy=function(z){z.words=new Array(this.length);for(var B=0;B<this.length;B++)z.words[B]=this.words[B];z.length=this.length,z.negative=this.negative,z.red=this.red},u.prototype.clone=function(){var z=new u(null);return this.copy(z),z},u.prototype._expand=function(z){for(;this.length<z;)this.words[this.length++]=0;return this},u.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},u.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},u.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var c=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],i=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],d=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];u.prototype.toString=function(z,B){z=z||10,B=B|0||1;var W;if(z===16||z==="hex"){W="";for(var q=0,ee=0,Q=0;Q<this.length;Q++){var oe=this.words[Q],Z=((oe<<q|ee)&16777215).toString(16);ee=oe>>>24-q&16777215,ee!==0||Q!==this.length-1?W=c[6-Z.length]+Z+W:W=Z+W,q+=2,q>=26&&(q-=26,Q--)}for(ee!==0&&(W=ee.toString(16)+W);W.length%B!==0;)W="0"+W;return this.negative!==0&&(W="-"+W),W}if(z===(z|0)&&z>=2&&z<=36){var Y=i[z],te=d[z];W="";var X=this.clone();for(X.negative=0;!X.isZero();){var $=X.modn(te).toString(z);X=X.idivn(te),X.isZero()?W=$+W:W=c[Y-$.length]+$+W}for(this.isZero()&&(W="0"+W);W.length%B!==0;)W="0"+W;return this.negative!==0&&(W="-"+W),W}n(!1,"Base should be between 2 and 36")},u.prototype.toNumber=function(){var z=this.words[0];return this.length===2?z+=this.words[1]*67108864:this.length===3&&this.words[2]===1?z+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-z:z},u.prototype.toJSON=function(){return this.toString(16)},u.prototype.toBuffer=function(z,B){return n(typeof l!="undefined"),this.toArrayLike(l,z,B)},u.prototype.toArray=function(z,B){return this.toArrayLike(Array,z,B)},u.prototype.toArrayLike=function(z,B,W){var q=this.byteLength(),ee=W||Math.max(1,q);n(q<=ee,"byte array longer than desired length"),n(ee>0,"Requested array length <= 0"),this.strip();var Q=B==="le",oe=new z(ee),Z,Y,te=this.clone();if(Q){for(Y=0;!te.isZero();Y++)Z=te.andln(255),te.iushrn(8),oe[Y]=Z;for(;Y<ee;Y++)oe[Y]=0}else{for(Y=0;Y<ee-q;Y++)oe[Y]=0;for(Y=0;!te.isZero();Y++)Z=te.andln(255),te.iushrn(8),oe[ee-Y-1]=Z}return oe},Math.clz32?u.prototype._countBits=function(z){return 32-Math.clz32(z)}:u.prototype._countBits=function(z){var B=z,W=0;return B>=4096&&(W+=13,B>>>=13),B>=64&&(W+=7,B>>>=7),B>=8&&(W+=4,B>>>=4),B>=2&&(W+=2,B>>>=2),W+B},u.prototype._zeroBits=function(z){if(z===0)return 26;var B=z,W=0;return(B&8191)===0&&(W+=13,B>>>=13),(B&127)===0&&(W+=7,B>>>=7),(B&15)===0&&(W+=4,B>>>=4),(B&3)===0&&(W+=2,B>>>=2),(B&1)===0&&W++,W},u.prototype.bitLength=function(){var z=this.words[this.length-1],B=this._countBits(z);return(this.length-1)*26+B};function b(O){for(var z=new Array(O.bitLength()),B=0;B<z.length;B++){var W=B/26|0,q=B%26;z[B]=(O.words[W]&1<<q)>>>q}return z}u.prototype.zeroBits=function(){if(this.isZero())return 0;for(var z=0,B=0;B<this.length;B++){var W=this._zeroBits(this.words[B]);if(z+=W,W!==26)break}return z},u.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},u.prototype.toTwos=function(z){return this.negative!==0?this.abs().inotn(z).iaddn(1):this.clone()},u.prototype.fromTwos=function(z){return this.testn(z-1)?this.notn(z).iaddn(1).ineg():this.clone()},u.prototype.isNeg=function(){return this.negative!==0},u.prototype.neg=function(){return this.clone().ineg()},u.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},u.prototype.iuor=function(z){for(;this.length<z.length;)this.words[this.length++]=0;for(var B=0;B<z.length;B++)this.words[B]=this.words[B]|z.words[B];return this.strip()},u.prototype.ior=function(z){return n((this.negative|z.negative)===0),this.iuor(z)},u.prototype.or=function(z){return this.length>z.length?this.clone().ior(z):z.clone().ior(this)},u.prototype.uor=function(z){return this.length>z.length?this.clone().iuor(z):z.clone().iuor(this)},u.prototype.iuand=function(z){var B;this.length>z.length?B=z:B=this;for(var W=0;W<B.length;W++)this.words[W]=this.words[W]&z.words[W];return this.length=B.length,this.strip()},u.prototype.iand=function(z){return n((this.negative|z.negative)===0),this.iuand(z)},u.prototype.and=function(z){return this.length>z.length?this.clone().iand(z):z.clone().iand(this)},u.prototype.uand=function(z){return this.length>z.length?this.clone().iuand(z):z.clone().iuand(this)},u.prototype.iuxor=function(z){var B,W;this.length>z.length?(B=this,W=z):(B=z,W=this);for(var q=0;q<W.length;q++)this.words[q]=B.words[q]^W.words[q];if(this!==B)for(;q<B.length;q++)this.words[q]=B.words[q];return this.length=B.length,this.strip()},u.prototype.ixor=function(z){return n((this.negative|z.negative)===0),this.iuxor(z)},u.prototype.xor=function(z){return this.length>z.length?this.clone().ixor(z):z.clone().ixor(this)},u.prototype.uxor=function(z){return this.length>z.length?this.clone().iuxor(z):z.clone().iuxor(this)},u.prototype.inotn=function(z){n(typeof z=="number"&&z>=0);var B=Math.ceil(z/26)|0,W=z%26;this._expand(B),W>0&&B--;for(var q=0;q<B;q++)this.words[q]=~this.words[q]&67108863;return W>0&&(this.words[q]=~this.words[q]&67108863>>26-W),this.strip()},u.prototype.notn=function(z){return this.clone().inotn(z)},u.prototype.setn=function(z,B){n(typeof z=="number"&&z>=0);var W=z/26|0,q=z%26;return this._expand(W+1),B?this.words[W]=this.words[W]|1<<q:this.words[W]=this.words[W]&~(1<<q),this.strip()},u.prototype.iadd=function(z){var B;if(this.negative!==0&&z.negative===0)return this.negative=0,B=this.isub(z),this.negative^=1,this._normSign();if(this.negative===0&&z.negative!==0)return z.negative=0,B=this.isub(z),z.negative=1,B._normSign();var W,q;this.length>z.length?(W=this,q=z):(W=z,q=this);for(var ee=0,Q=0;Q<q.length;Q++)B=(W.words[Q]|0)+(q.words[Q]|0)+ee,this.words[Q]=B&67108863,ee=B>>>26;for(;ee!==0&&Q<W.length;Q++)B=(W.words[Q]|0)+ee,this.words[Q]=B&67108863,ee=B>>>26;if(this.length=W.length,ee!==0)this.words[this.length]=ee,this.length++;else if(W!==this)for(;Q<W.length;Q++)this.words[Q]=W.words[Q];return this},u.prototype.add=function(z){var B;return z.negative!==0&&this.negative===0?(z.negative=0,B=this.sub(z),z.negative^=1,B):z.negative===0&&this.negative!==0?(this.negative=0,B=z.sub(this),this.negative=1,B):this.length>z.length?this.clone().iadd(z):z.clone().iadd(this)},u.prototype.isub=function(z){if(z.negative!==0){z.negative=0;var B=this.iadd(z);return z.negative=1,B._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(z),this.negative=1,this._normSign();var W=this.cmp(z);if(W===0)return this.negative=0,this.length=1,this.words[0]=0,this;var q,ee;W>0?(q=this,ee=z):(q=z,ee=this);for(var Q=0,oe=0;oe<ee.length;oe++)B=(q.words[oe]|0)-(ee.words[oe]|0)+Q,Q=B>>26,this.words[oe]=B&67108863;for(;Q!==0&&oe<q.length;oe++)B=(q.words[oe]|0)+Q,Q=B>>26,this.words[oe]=B&67108863;if(Q===0&&oe<q.length&&q!==this)for(;oe<q.length;oe++)this.words[oe]=q.words[oe];return this.length=Math.max(this.length,oe),q!==this&&(this.negative=1),this.strip()},u.prototype.sub=function(z){return this.clone().isub(z)};function w(O,z,B){B.negative=z.negative^O.negative;var W=O.length+z.length|0;B.length=W,W=W-1|0;var q=O.words[0]|0,ee=z.words[0]|0,Q=q*ee,oe=Q&67108863,Z=Q/67108864|0;B.words[0]=oe;for(var Y=1;Y<W;Y++){for(var te=Z>>>26,X=Z&67108863,$=Math.min(Y,z.length-1),ie=Math.max(0,Y-O.length+1);ie<=$;ie++){var J=Y-ie|0;q=O.words[J]|0,ee=z.words[ie]|0,Q=q*ee+X,te+=Q/67108864|0,X=Q&67108863}B.words[Y]=X|0,Z=te|0}return Z!==0?B.words[Y]=Z|0:B.length--,B.strip()}var E=function(z,B,W){var q=z.words,ee=B.words,Q=W.words,oe=0,Z,Y,te,X=q[0]|0,$=X&8191,ie=X>>>13,J=q[1]|0,j=J&8191,se=J>>>13,ne=q[2]|0,le=ne&8191,pe=ne>>>13,Ae=q[3]|0,be=Ae&8191,Re=Ae>>>13,xe=q[4]|0,Me=xe&8191,ye=xe>>>13,Se=q[5]|0,Fe=Se&8191,Be=Se>>>13,_e=q[6]|0,Ue=_e&8191,it=_e>>>13,lt=q[7]|0,$e=lt&8191,qe=lt>>>13,ft=q[8]|0,ct=ft&8191,pt=ft>>>13,yt=q[9]|0,Et=yt&8191,tt=yt>>>13,Ie=ee[0]|0,We=Ie&8191,Ze=Ie>>>13,He=ee[1]|0,De=He&8191,me=He>>>13,ge=ee[2]|0,Ee=ge&8191,Te=ge>>>13,ze=ee[3]|0,Xe=ze&8191,et=ze>>>13,ut=ee[4]|0,dt=ut&8191,Zt=ut>>>13,jt=ee[5]|0,Tt=jt&8191,kt=jt>>>13,Qt=ee[6]|0,wr=Qt&8191,xt=Qt>>>13,At=ee[7]|0,Wt=At&8191,er=At>>>13,$t=ee[8]|0,ht=$t&8191,at=$t>>>13,bt=ee[9]|0,Ct=bt&8191,Dt=bt>>>13;W.negative=z.negative^B.negative,W.length=19,Z=Math.imul($,We),Y=Math.imul($,Ze),Y=Y+Math.imul(ie,We)|0,te=Math.imul(ie,Ze);var It=(oe+Z|0)+((Y&8191)<<13)|0;oe=(te+(Y>>>13)|0)+(It>>>26)|0,It&=67108863,Z=Math.imul(j,We),Y=Math.imul(j,Ze),Y=Y+Math.imul(se,We)|0,te=Math.imul(se,Ze),Z=Z+Math.imul($,De)|0,Y=Y+Math.imul($,me)|0,Y=Y+Math.imul(ie,De)|0,te=te+Math.imul(ie,me)|0;var Vt=(oe+Z|0)+((Y&8191)<<13)|0;oe=(te+(Y>>>13)|0)+(Vt>>>26)|0,Vt&=67108863,Z=Math.imul(le,We),Y=Math.imul(le,Ze),Y=Y+Math.imul(pe,We)|0,te=Math.imul(pe,Ze),Z=Z+Math.imul(j,De)|0,Y=Y+Math.imul(j,me)|0,Y=Y+Math.imul(se,De)|0,te=te+Math.imul(se,me)|0,Z=Z+Math.imul($,Ee)|0,Y=Y+Math.imul($,Te)|0,Y=Y+Math.imul(ie,Ee)|0,te=te+Math.imul(ie,Te)|0;var Nt=(oe+Z|0)+((Y&8191)<<13)|0;oe=(te+(Y>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,Z=Math.imul(be,We),Y=Math.imul(be,Ze),Y=Y+Math.imul(Re,We)|0,te=Math.imul(Re,Ze),Z=Z+Math.imul(le,De)|0,Y=Y+Math.imul(le,me)|0,Y=Y+Math.imul(pe,De)|0,te=te+Math.imul(pe,me)|0,Z=Z+Math.imul(j,Ee)|0,Y=Y+Math.imul(j,Te)|0,Y=Y+Math.imul(se,Ee)|0,te=te+Math.imul(se,Te)|0,Z=Z+Math.imul($,Xe)|0,Y=Y+Math.imul($,et)|0,Y=Y+Math.imul(ie,Xe)|0,te=te+Math.imul(ie,et)|0;var Jt=(oe+Z|0)+((Y&8191)<<13)|0;oe=(te+(Y>>>13)|0)+(Jt>>>26)|0,Jt&=67108863,Z=Math.imul(Me,We),Y=Math.imul(Me,Ze),Y=Y+Math.imul(ye,We)|0,te=Math.imul(ye,Ze),Z=Z+Math.imul(be,De)|0,Y=Y+Math.imul(be,me)|0,Y=Y+Math.imul(Re,De)|0,te=te+Math.imul(Re,me)|0,Z=Z+Math.imul(le,Ee)|0,Y=Y+Math.imul(le,Te)|0,Y=Y+Math.imul(pe,Ee)|0,te=te+Math.imul(pe,Te)|0,Z=Z+Math.imul(j,Xe)|0,Y=Y+Math.imul(j,et)|0,Y=Y+Math.imul(se,Xe)|0,te=te+Math.imul(se,et)|0,Z=Z+Math.imul($,dt)|0,Y=Y+Math.imul($,Zt)|0,Y=Y+Math.imul(ie,dt)|0,te=te+Math.imul(ie,Zt)|0;var fr=(oe+Z|0)+((Y&8191)<<13)|0;oe=(te+(Y>>>13)|0)+(fr>>>26)|0,fr&=67108863,Z=Math.imul(Fe,We),Y=Math.imul(Fe,Ze),Y=Y+Math.imul(Be,We)|0,te=Math.imul(Be,Ze),Z=Z+Math.imul(Me,De)|0,Y=Y+Math.imul(Me,me)|0,Y=Y+Math.imul(ye,De)|0,te=te+Math.imul(ye,me)|0,Z=Z+Math.imul(be,Ee)|0,Y=Y+Math.imul(be,Te)|0,Y=Y+Math.imul(Re,Ee)|0,te=te+Math.imul(Re,Te)|0,Z=Z+Math.imul(le,Xe)|0,Y=Y+Math.imul(le,et)|0,Y=Y+Math.imul(pe,Xe)|0,te=te+Math.imul(pe,et)|0,Z=Z+Math.imul(j,dt)|0,Y=Y+Math.imul(j,Zt)|0,Y=Y+Math.imul(se,dt)|0,te=te+Math.imul(se,Zt)|0,Z=Z+Math.imul($,Tt)|0,Y=Y+Math.imul($,kt)|0,Y=Y+Math.imul(ie,Tt)|0,te=te+Math.imul(ie,kt)|0;var cr=(oe+Z|0)+((Y&8191)<<13)|0;oe=(te+(Y>>>13)|0)+(cr>>>26)|0,cr&=67108863,Z=Math.imul(Ue,We),Y=Math.imul(Ue,Ze),Y=Y+Math.imul(it,We)|0,te=Math.imul(it,Ze),Z=Z+Math.imul(Fe,De)|0,Y=Y+Math.imul(Fe,me)|0,Y=Y+Math.imul(Be,De)|0,te=te+Math.imul(Be,me)|0,Z=Z+Math.imul(Me,Ee)|0,Y=Y+Math.imul(Me,Te)|0,Y=Y+Math.imul(ye,Ee)|0,te=te+Math.imul(ye,Te)|0,Z=Z+Math.imul(be,Xe)|0,Y=Y+Math.imul(be,et)|0,Y=Y+Math.imul(Re,Xe)|0,te=te+Math.imul(Re,et)|0,Z=Z+Math.imul(le,dt)|0,Y=Y+Math.imul(le,Zt)|0,Y=Y+Math.imul(pe,dt)|0,te=te+Math.imul(pe,Zt)|0,Z=Z+Math.imul(j,Tt)|0,Y=Y+Math.imul(j,kt)|0,Y=Y+Math.imul(se,Tt)|0,te=te+Math.imul(se,kt)|0,Z=Z+Math.imul($,wr)|0,Y=Y+Math.imul($,xt)|0,Y=Y+Math.imul(ie,wr)|0,te=te+Math.imul(ie,xt)|0;var dr=(oe+Z|0)+((Y&8191)<<13)|0;oe=(te+(Y>>>13)|0)+(dr>>>26)|0,dr&=67108863,Z=Math.imul($e,We),Y=Math.imul($e,Ze),Y=Y+Math.imul(qe,We)|0,te=Math.imul(qe,Ze),Z=Z+Math.imul(Ue,De)|0,Y=Y+Math.imul(Ue,me)|0,Y=Y+Math.imul(it,De)|0,te=te+Math.imul(it,me)|0,Z=Z+Math.imul(Fe,Ee)|0,Y=Y+Math.imul(Fe,Te)|0,Y=Y+Math.imul(Be,Ee)|0,te=te+Math.imul(Be,Te)|0,Z=Z+Math.imul(Me,Xe)|0,Y=Y+Math.imul(Me,et)|0,Y=Y+Math.imul(ye,Xe)|0,te=te+Math.imul(ye,et)|0,Z=Z+Math.imul(be,dt)|0,Y=Y+Math.imul(be,Zt)|0,Y=Y+Math.imul(Re,dt)|0,te=te+Math.imul(Re,Zt)|0,Z=Z+Math.imul(le,Tt)|0,Y=Y+Math.imul(le,kt)|0,Y=Y+Math.imul(pe,Tt)|0,te=te+Math.imul(pe,kt)|0,Z=Z+Math.imul(j,wr)|0,Y=Y+Math.imul(j,xt)|0,Y=Y+Math.imul(se,wr)|0,te=te+Math.imul(se,xt)|0,Z=Z+Math.imul($,Wt)|0,Y=Y+Math.imul($,er)|0,Y=Y+Math.imul(ie,Wt)|0,te=te+Math.imul(ie,er)|0;var Ge=(oe+Z|0)+((Y&8191)<<13)|0;oe=(te+(Y>>>13)|0)+(Ge>>>26)|0,Ge&=67108863,Z=Math.imul(ct,We),Y=Math.imul(ct,Ze),Y=Y+Math.imul(pt,We)|0,te=Math.imul(pt,Ze),Z=Z+Math.imul($e,De)|0,Y=Y+Math.imul($e,me)|0,Y=Y+Math.imul(qe,De)|0,te=te+Math.imul(qe,me)|0,Z=Z+Math.imul(Ue,Ee)|0,Y=Y+Math.imul(Ue,Te)|0,Y=Y+Math.imul(it,Ee)|0,te=te+Math.imul(it,Te)|0,Z=Z+Math.imul(Fe,Xe)|0,Y=Y+Math.imul(Fe,et)|0,Y=Y+Math.imul(Be,Xe)|0,te=te+Math.imul(Be,et)|0,Z=Z+Math.imul(Me,dt)|0,Y=Y+Math.imul(Me,Zt)|0,Y=Y+Math.imul(ye,dt)|0,te=te+Math.imul(ye,Zt)|0,Z=Z+Math.imul(be,Tt)|0,Y=Y+Math.imul(be,kt)|0,Y=Y+Math.imul(Re,Tt)|0,te=te+Math.imul(Re,kt)|0,Z=Z+Math.imul(le,wr)|0,Y=Y+Math.imul(le,xt)|0,Y=Y+Math.imul(pe,wr)|0,te=te+Math.imul(pe,xt)|0,Z=Z+Math.imul(j,Wt)|0,Y=Y+Math.imul(j,er)|0,Y=Y+Math.imul(se,Wt)|0,te=te+Math.imul(se,er)|0,Z=Z+Math.imul($,ht)|0,Y=Y+Math.imul($,at)|0,Y=Y+Math.imul(ie,ht)|0,te=te+Math.imul(ie,at)|0;var Ve=(oe+Z|0)+((Y&8191)<<13)|0;oe=(te+(Y>>>13)|0)+(Ve>>>26)|0,Ve&=67108863,Z=Math.imul(Et,We),Y=Math.imul(Et,Ze),Y=Y+Math.imul(tt,We)|0,te=Math.imul(tt,Ze),Z=Z+Math.imul(ct,De)|0,Y=Y+Math.imul(ct,me)|0,Y=Y+Math.imul(pt,De)|0,te=te+Math.imul(pt,me)|0,Z=Z+Math.imul($e,Ee)|0,Y=Y+Math.imul($e,Te)|0,Y=Y+Math.imul(qe,Ee)|0,te=te+Math.imul(qe,Te)|0,Z=Z+Math.imul(Ue,Xe)|0,Y=Y+Math.imul(Ue,et)|0,Y=Y+Math.imul(it,Xe)|0,te=te+Math.imul(it,et)|0,Z=Z+Math.imul(Fe,dt)|0,Y=Y+Math.imul(Fe,Zt)|0,Y=Y+Math.imul(Be,dt)|0,te=te+Math.imul(Be,Zt)|0,Z=Z+Math.imul(Me,Tt)|0,Y=Y+Math.imul(Me,kt)|0,Y=Y+Math.imul(ye,Tt)|0,te=te+Math.imul(ye,kt)|0,Z=Z+Math.imul(be,wr)|0,Y=Y+Math.imul(be,xt)|0,Y=Y+Math.imul(Re,wr)|0,te=te+Math.imul(Re,xt)|0,Z=Z+Math.imul(le,Wt)|0,Y=Y+Math.imul(le,er)|0,Y=Y+Math.imul(pe,Wt)|0,te=te+Math.imul(pe,er)|0,Z=Z+Math.imul(j,ht)|0,Y=Y+Math.imul(j,at)|0,Y=Y+Math.imul(se,ht)|0,te=te+Math.imul(se,at)|0,Z=Z+Math.imul($,Ct)|0,Y=Y+Math.imul($,Dt)|0,Y=Y+Math.imul(ie,Ct)|0,te=te+Math.imul(ie,Dt)|0;var Ot=(oe+Z|0)+((Y&8191)<<13)|0;oe=(te+(Y>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,Z=Math.imul(Et,De),Y=Math.imul(Et,me),Y=Y+Math.imul(tt,De)|0,te=Math.imul(tt,me),Z=Z+Math.imul(ct,Ee)|0,Y=Y+Math.imul(ct,Te)|0,Y=Y+Math.imul(pt,Ee)|0,te=te+Math.imul(pt,Te)|0,Z=Z+Math.imul($e,Xe)|0,Y=Y+Math.imul($e,et)|0,Y=Y+Math.imul(qe,Xe)|0,te=te+Math.imul(qe,et)|0,Z=Z+Math.imul(Ue,dt)|0,Y=Y+Math.imul(Ue,Zt)|0,Y=Y+Math.imul(it,dt)|0,te=te+Math.imul(it,Zt)|0,Z=Z+Math.imul(Fe,Tt)|0,Y=Y+Math.imul(Fe,kt)|0,Y=Y+Math.imul(Be,Tt)|0,te=te+Math.imul(Be,kt)|0,Z=Z+Math.imul(Me,wr)|0,Y=Y+Math.imul(Me,xt)|0,Y=Y+Math.imul(ye,wr)|0,te=te+Math.imul(ye,xt)|0,Z=Z+Math.imul(be,Wt)|0,Y=Y+Math.imul(be,er)|0,Y=Y+Math.imul(Re,Wt)|0,te=te+Math.imul(Re,er)|0,Z=Z+Math.imul(le,ht)|0,Y=Y+Math.imul(le,at)|0,Y=Y+Math.imul(pe,ht)|0,te=te+Math.imul(pe,at)|0,Z=Z+Math.imul(j,Ct)|0,Y=Y+Math.imul(j,Dt)|0,Y=Y+Math.imul(se,Ct)|0,te=te+Math.imul(se,Dt)|0;var Ft=(oe+Z|0)+((Y&8191)<<13)|0;oe=(te+(Y>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,Z=Math.imul(Et,Ee),Y=Math.imul(Et,Te),Y=Y+Math.imul(tt,Ee)|0,te=Math.imul(tt,Te),Z=Z+Math.imul(ct,Xe)|0,Y=Y+Math.imul(ct,et)|0,Y=Y+Math.imul(pt,Xe)|0,te=te+Math.imul(pt,et)|0,Z=Z+Math.imul($e,dt)|0,Y=Y+Math.imul($e,Zt)|0,Y=Y+Math.imul(qe,dt)|0,te=te+Math.imul(qe,Zt)|0,Z=Z+Math.imul(Ue,Tt)|0,Y=Y+Math.imul(Ue,kt)|0,Y=Y+Math.imul(it,Tt)|0,te=te+Math.imul(it,kt)|0,Z=Z+Math.imul(Fe,wr)|0,Y=Y+Math.imul(Fe,xt)|0,Y=Y+Math.imul(Be,wr)|0,te=te+Math.imul(Be,xt)|0,Z=Z+Math.imul(Me,Wt)|0,Y=Y+Math.imul(Me,er)|0,Y=Y+Math.imul(ye,Wt)|0,te=te+Math.imul(ye,er)|0,Z=Z+Math.imul(be,ht)|0,Y=Y+Math.imul(be,at)|0,Y=Y+Math.imul(Re,ht)|0,te=te+Math.imul(Re,at)|0,Z=Z+Math.imul(le,Ct)|0,Y=Y+Math.imul(le,Dt)|0,Y=Y+Math.imul(pe,Ct)|0,te=te+Math.imul(pe,Dt)|0;var Kt=(oe+Z|0)+((Y&8191)<<13)|0;oe=(te+(Y>>>13)|0)+(Kt>>>26)|0,Kt&=67108863,Z=Math.imul(Et,Xe),Y=Math.imul(Et,et),Y=Y+Math.imul(tt,Xe)|0,te=Math.imul(tt,et),Z=Z+Math.imul(ct,dt)|0,Y=Y+Math.imul(ct,Zt)|0,Y=Y+Math.imul(pt,dt)|0,te=te+Math.imul(pt,Zt)|0,Z=Z+Math.imul($e,Tt)|0,Y=Y+Math.imul($e,kt)|0,Y=Y+Math.imul(qe,Tt)|0,te=te+Math.imul(qe,kt)|0,Z=Z+Math.imul(Ue,wr)|0,Y=Y+Math.imul(Ue,xt)|0,Y=Y+Math.imul(it,wr)|0,te=te+Math.imul(it,xt)|0,Z=Z+Math.imul(Fe,Wt)|0,Y=Y+Math.imul(Fe,er)|0,Y=Y+Math.imul(Be,Wt)|0,te=te+Math.imul(Be,er)|0,Z=Z+Math.imul(Me,ht)|0,Y=Y+Math.imul(Me,at)|0,Y=Y+Math.imul(ye,ht)|0,te=te+Math.imul(ye,at)|0,Z=Z+Math.imul(be,Ct)|0,Y=Y+Math.imul(be,Dt)|0,Y=Y+Math.imul(Re,Ct)|0,te=te+Math.imul(Re,Dt)|0;var rr=(oe+Z|0)+((Y&8191)<<13)|0;oe=(te+(Y>>>13)|0)+(rr>>>26)|0,rr&=67108863,Z=Math.imul(Et,dt),Y=Math.imul(Et,Zt),Y=Y+Math.imul(tt,dt)|0,te=Math.imul(tt,Zt),Z=Z+Math.imul(ct,Tt)|0,Y=Y+Math.imul(ct,kt)|0,Y=Y+Math.imul(pt,Tt)|0,te=te+Math.imul(pt,kt)|0,Z=Z+Math.imul($e,wr)|0,Y=Y+Math.imul($e,xt)|0,Y=Y+Math.imul(qe,wr)|0,te=te+Math.imul(qe,xt)|0,Z=Z+Math.imul(Ue,Wt)|0,Y=Y+Math.imul(Ue,er)|0,Y=Y+Math.imul(it,Wt)|0,te=te+Math.imul(it,er)|0,Z=Z+Math.imul(Fe,ht)|0,Y=Y+Math.imul(Fe,at)|0,Y=Y+Math.imul(Be,ht)|0,te=te+Math.imul(Be,at)|0,Z=Z+Math.imul(Me,Ct)|0,Y=Y+Math.imul(Me,Dt)|0,Y=Y+Math.imul(ye,Ct)|0,te=te+Math.imul(ye,Dt)|0;var ur=(oe+Z|0)+((Y&8191)<<13)|0;oe=(te+(Y>>>13)|0)+(ur>>>26)|0,ur&=67108863,Z=Math.imul(Et,Tt),Y=Math.imul(Et,kt),Y=Y+Math.imul(tt,Tt)|0,te=Math.imul(tt,kt),Z=Z+Math.imul(ct,wr)|0,Y=Y+Math.imul(ct,xt)|0,Y=Y+Math.imul(pt,wr)|0,te=te+Math.imul(pt,xt)|0,Z=Z+Math.imul($e,Wt)|0,Y=Y+Math.imul($e,er)|0,Y=Y+Math.imul(qe,Wt)|0,te=te+Math.imul(qe,er)|0,Z=Z+Math.imul(Ue,ht)|0,Y=Y+Math.imul(Ue,at)|0,Y=Y+Math.imul(it,ht)|0,te=te+Math.imul(it,at)|0,Z=Z+Math.imul(Fe,Ct)|0,Y=Y+Math.imul(Fe,Dt)|0,Y=Y+Math.imul(Be,Ct)|0,te=te+Math.imul(Be,Dt)|0;var ar=(oe+Z|0)+((Y&8191)<<13)|0;oe=(te+(Y>>>13)|0)+(ar>>>26)|0,ar&=67108863,Z=Math.imul(Et,wr),Y=Math.imul(Et,xt),Y=Y+Math.imul(tt,wr)|0,te=Math.imul(tt,xt),Z=Z+Math.imul(ct,Wt)|0,Y=Y+Math.imul(ct,er)|0,Y=Y+Math.imul(pt,Wt)|0,te=te+Math.imul(pt,er)|0,Z=Z+Math.imul($e,ht)|0,Y=Y+Math.imul($e,at)|0,Y=Y+Math.imul(qe,ht)|0,te=te+Math.imul(qe,at)|0,Z=Z+Math.imul(Ue,Ct)|0,Y=Y+Math.imul(Ue,Dt)|0,Y=Y+Math.imul(it,Ct)|0,te=te+Math.imul(it,Dt)|0;var Bt=(oe+Z|0)+((Y&8191)<<13)|0;oe=(te+(Y>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,Z=Math.imul(Et,Wt),Y=Math.imul(Et,er),Y=Y+Math.imul(tt,Wt)|0,te=Math.imul(tt,er),Z=Z+Math.imul(ct,ht)|0,Y=Y+Math.imul(ct,at)|0,Y=Y+Math.imul(pt,ht)|0,te=te+Math.imul(pt,at)|0,Z=Z+Math.imul($e,Ct)|0,Y=Y+Math.imul($e,Dt)|0,Y=Y+Math.imul(qe,Ct)|0,te=te+Math.imul(qe,Dt)|0;var hr=(oe+Z|0)+((Y&8191)<<13)|0;oe=(te+(Y>>>13)|0)+(hr>>>26)|0,hr&=67108863,Z=Math.imul(Et,ht),Y=Math.imul(Et,at),Y=Y+Math.imul(tt,ht)|0,te=Math.imul(tt,at),Z=Z+Math.imul(ct,Ct)|0,Y=Y+Math.imul(ct,Dt)|0,Y=Y+Math.imul(pt,Ct)|0,te=te+Math.imul(pt,Dt)|0;var gr=(oe+Z|0)+((Y&8191)<<13)|0;oe=(te+(Y>>>13)|0)+(gr>>>26)|0,gr&=67108863,Z=Math.imul(Et,Ct),Y=Math.imul(Et,Dt),Y=Y+Math.imul(tt,Ct)|0,te=Math.imul(tt,Dt);var mr=(oe+Z|0)+((Y&8191)<<13)|0;return oe=(te+(Y>>>13)|0)+(mr>>>26)|0,mr&=67108863,Q[0]=It,Q[1]=Vt,Q[2]=Nt,Q[3]=Jt,Q[4]=fr,Q[5]=cr,Q[6]=dr,Q[7]=Ge,Q[8]=Ve,Q[9]=Ot,Q[10]=Ft,Q[11]=Kt,Q[12]=rr,Q[13]=ur,Q[14]=ar,Q[15]=Bt,Q[16]=hr,Q[17]=gr,Q[18]=mr,oe!==0&&(Q[19]=oe,W.length++),W};Math.imul||(E=w);function y(O,z,B){B.negative=z.negative^O.negative,B.length=O.length+z.length;for(var W=0,q=0,ee=0;ee<B.length-1;ee++){var Q=q;q=0;for(var oe=W&67108863,Z=Math.min(ee,z.length-1),Y=Math.max(0,ee-O.length+1);Y<=Z;Y++){var te=ee-Y,X=O.words[te]|0,$=z.words[Y]|0,ie=X*$,J=ie&67108863;Q=Q+(ie/67108864|0)|0,J=J+oe|0,oe=J&67108863,Q=Q+(J>>>26)|0,q+=Q>>>26,Q&=67108863}B.words[ee]=oe,W=Q,Q=q}return W!==0?B.words[ee]=W:B.length--,B.strip()}function S(O,z,B){var W=new T;return W.mulp(O,z,B)}u.prototype.mulTo=function(z,B){var W,q=this.length+z.length;return this.length===10&&z.length===10?W=E(this,z,B):q<63?W=w(this,z,B):q<1024?W=y(this,z,B):W=S(this,z,B),W};function T(O,z){this.x=O,this.y=z}T.prototype.makeRBT=function(z){for(var B=new Array(z),W=u.prototype._countBits(z)-1,q=0;q<z;q++)B[q]=this.revBin(q,W,z);return B},T.prototype.revBin=function(z,B,W){if(z===0||z===W-1)return z;for(var q=0,ee=0;ee<B;ee++)q|=(z&1)<<B-ee-1,z>>=1;return q},T.prototype.permute=function(z,B,W,q,ee,Q){for(var oe=0;oe<Q;oe++)q[oe]=B[z[oe]],ee[oe]=W[z[oe]]},T.prototype.transform=function(z,B,W,q,ee,Q){this.permute(Q,z,B,W,q,ee);for(var oe=1;oe<ee;oe<<=1)for(var Z=oe<<1,Y=Math.cos(2*Math.PI/Z),te=Math.sin(2*Math.PI/Z),X=0;X<ee;X+=Z)for(var $=Y,ie=te,J=0;J<oe;J++){var j=W[X+J],se=q[X+J],ne=W[X+J+oe],le=q[X+J+oe],pe=$*ne-ie*le;le=$*le+ie*ne,ne=pe,W[X+J]=j+ne,q[X+J]=se+le,W[X+J+oe]=j-ne,q[X+J+oe]=se-le,J!==Z&&(pe=Y*$-te*ie,ie=Y*ie+te*$,$=pe)}},T.prototype.guessLen13b=function(z,B){var W=Math.max(B,z)|1,q=W&1,ee=0;for(W=W/2|0;W;W=W>>>1)ee++;return 1<<ee+1+q},T.prototype.conjugate=function(z,B,W){if(!(W<=1))for(var q=0;q<W/2;q++){var ee=z[q];z[q]=z[W-q-1],z[W-q-1]=ee,ee=B[q],B[q]=-B[W-q-1],B[W-q-1]=-ee}},T.prototype.normalize13b=function(z,B){for(var W=0,q=0;q<B/2;q++){var ee=Math.round(z[2*q+1]/B)*8192+Math.round(z[2*q]/B)+W;z[q]=ee&67108863,ee<67108864?W=0:W=ee/67108864|0}return z},T.prototype.convert13b=function(z,B,W,q){for(var ee=0,Q=0;Q<B;Q++)ee=ee+(z[Q]|0),W[2*Q]=ee&8191,ee=ee>>>13,W[2*Q+1]=ee&8191,ee=ee>>>13;for(Q=2*B;Q<q;++Q)W[Q]=0;n(ee===0),n((ee&-8192)===0)},T.prototype.stub=function(z){for(var B=new Array(z),W=0;W<z;W++)B[W]=0;return B},T.prototype.mulp=function(z,B,W){var q=2*this.guessLen13b(z.length,B.length),ee=this.makeRBT(q),Q=this.stub(q),oe=new Array(q),Z=new Array(q),Y=new Array(q),te=new Array(q),X=new Array(q),$=new Array(q),ie=W.words;ie.length=q,this.convert13b(z.words,z.length,oe,q),this.convert13b(B.words,B.length,te,q),this.transform(oe,Q,Z,Y,q,ee),this.transform(te,Q,X,$,q,ee);for(var J=0;J<q;J++){var j=Z[J]*X[J]-Y[J]*$[J];Y[J]=Z[J]*$[J]+Y[J]*X[J],Z[J]=j}return this.conjugate(Z,Y,q),this.transform(Z,Y,ie,Q,q,ee),this.conjugate(ie,Q,q),this.normalize13b(ie,q),W.negative=z.negative^B.negative,W.length=z.length+B.length,W.strip()},u.prototype.mul=function(z){var B=new u(null);return B.words=new Array(this.length+z.length),this.mulTo(z,B)},u.prototype.mulf=function(z){var B=new u(null);return B.words=new Array(this.length+z.length),S(this,z,B)},u.prototype.imul=function(z){return this.clone().mulTo(z,this)},u.prototype.imuln=function(z){n(typeof z=="number"),n(z<67108864);for(var B=0,W=0;W<this.length;W++){var q=(this.words[W]|0)*z,ee=(q&67108863)+(B&67108863);B>>=26,B+=q/67108864|0,B+=ee>>>26,this.words[W]=ee&67108863}return B!==0&&(this.words[W]=B,this.length++),this},u.prototype.muln=function(z){return this.clone().imuln(z)},u.prototype.sqr=function(){return this.mul(this)},u.prototype.isqr=function(){return this.imul(this.clone())},u.prototype.pow=function(z){var B=b(z);if(B.length===0)return new u(1);for(var W=this,q=0;q<B.length&&B[q]===0;q++,W=W.sqr());if(++q<B.length)for(var ee=W.sqr();q<B.length;q++,ee=ee.sqr())B[q]!==0&&(W=W.mul(ee));return W},u.prototype.iushln=function(z){n(typeof z=="number"&&z>=0);var B=z%26,W=(z-B)/26,q=67108863>>>26-B<<26-B,ee;if(B!==0){var Q=0;for(ee=0;ee<this.length;ee++){var oe=this.words[ee]&q,Z=(this.words[ee]|0)-oe<<B;this.words[ee]=Z|Q,Q=oe>>>26-B}Q&&(this.words[ee]=Q,this.length++)}if(W!==0){for(ee=this.length-1;ee>=0;ee--)this.words[ee+W]=this.words[ee];for(ee=0;ee<W;ee++)this.words[ee]=0;this.length+=W}return this.strip()},u.prototype.ishln=function(z){return n(this.negative===0),this.iushln(z)},u.prototype.iushrn=function(z,B,W){n(typeof z=="number"&&z>=0);var q;B?q=(B-B%26)/26:q=0;var ee=z%26,Q=Math.min((z-ee)/26,this.length),oe=67108863^67108863>>>ee<<ee,Z=W;if(q-=Q,q=Math.max(0,q),Z){for(var Y=0;Y<Q;Y++)Z.words[Y]=this.words[Y];Z.length=Q}if(Q!==0)if(this.length>Q)for(this.length-=Q,Y=0;Y<this.length;Y++)this.words[Y]=this.words[Y+Q];else this.words[0]=0,this.length=1;var te=0;for(Y=this.length-1;Y>=0&&(te!==0||Y>=q);Y--){var X=this.words[Y]|0;this.words[Y]=te<<26-ee|X>>>ee,te=X&oe}return Z&&te!==0&&(Z.words[Z.length++]=te),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},u.prototype.ishrn=function(z,B,W){return n(this.negative===0),this.iushrn(z,B,W)},u.prototype.shln=function(z){return this.clone().ishln(z)},u.prototype.ushln=function(z){return this.clone().iushln(z)},u.prototype.shrn=function(z){return this.clone().ishrn(z)},u.prototype.ushrn=function(z){return this.clone().iushrn(z)},u.prototype.testn=function(z){n(typeof z=="number"&&z>=0);var B=z%26,W=(z-B)/26,q=1<<B;if(this.length<=W)return!1;var ee=this.words[W];return!!(ee&q)},u.prototype.imaskn=function(z){n(typeof z=="number"&&z>=0);var B=z%26,W=(z-B)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=W)return this;if(B!==0&&W++,this.length=Math.min(W,this.length),B!==0){var q=67108863^67108863>>>B<<B;this.words[this.length-1]&=q}return this.strip()},u.prototype.maskn=function(z){return this.clone().imaskn(z)},u.prototype.iaddn=function(z){return n(typeof z=="number"),n(z<67108864),z<0?this.isubn(-z):this.negative!==0?this.length===1&&(this.words[0]|0)<z?(this.words[0]=z-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(z),this.negative=1,this):this._iaddn(z)},u.prototype._iaddn=function(z){this.words[0]+=z;for(var B=0;B<this.length&&this.words[B]>=67108864;B++)this.words[B]-=67108864,B===this.length-1?this.words[B+1]=1:this.words[B+1]++;return this.length=Math.max(this.length,B+1),this},u.prototype.isubn=function(z){if(n(typeof z=="number"),n(z<67108864),z<0)return this.iaddn(-z);if(this.negative!==0)return this.negative=0,this.iaddn(z),this.negative=1,this;if(this.words[0]-=z,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var B=0;B<this.length&&this.words[B]<0;B++)this.words[B]+=67108864,this.words[B+1]-=1;return this.strip()},u.prototype.addn=function(z){return this.clone().iaddn(z)},u.prototype.subn=function(z){return this.clone().isubn(z)},u.prototype.iabs=function(){return this.negative=0,this},u.prototype.abs=function(){return this.clone().iabs()},u.prototype._ishlnsubmul=function(z,B,W){var q=z.length+W,ee;this._expand(q);var Q,oe=0;for(ee=0;ee<z.length;ee++){Q=(this.words[ee+W]|0)+oe;var Z=(z.words[ee]|0)*B;Q-=Z&67108863,oe=(Q>>26)-(Z/67108864|0),this.words[ee+W]=Q&67108863}for(;ee<this.length-W;ee++)Q=(this.words[ee+W]|0)+oe,oe=Q>>26,this.words[ee+W]=Q&67108863;if(oe===0)return this.strip();for(n(oe===-1),oe=0,ee=0;ee<this.length;ee++)Q=-(this.words[ee]|0)+oe,oe=Q>>26,this.words[ee]=Q&67108863;return this.negative=1,this.strip()},u.prototype._wordDiv=function(z,B){var W=this.length-z.length,q=this.clone(),ee=z,Q=ee.words[ee.length-1]|0,oe=this._countBits(Q);W=26-oe,W!==0&&(ee=ee.ushln(W),q.iushln(W),Q=ee.words[ee.length-1]|0);var Z=q.length-ee.length,Y;if(B!=="mod"){Y=new u(null),Y.length=Z+1,Y.words=new Array(Y.length);for(var te=0;te<Y.length;te++)Y.words[te]=0}var X=q.clone()._ishlnsubmul(ee,1,Z);X.negative===0&&(q=X,Y&&(Y.words[Z]=1));for(var $=Z-1;$>=0;$--){var ie=(q.words[ee.length+$]|0)*67108864+(q.words[ee.length+$-1]|0);for(ie=Math.min(ie/Q|0,67108863),q._ishlnsubmul(ee,ie,$);q.negative!==0;)ie--,q.negative=0,q._ishlnsubmul(ee,1,$),q.isZero()||(q.negative^=1);Y&&(Y.words[$]=ie)}return Y&&Y.strip(),q.strip(),B!=="div"&&W!==0&&q.iushrn(W),{div:Y||null,mod:q}},u.prototype.divmod=function(z,B,W){if(n(!z.isZero()),this.isZero())return{div:new u(0),mod:new u(0)};var q,ee,Q;return this.negative!==0&&z.negative===0?(Q=this.neg().divmod(z,B),B!=="mod"&&(q=Q.div.neg()),B!=="div"&&(ee=Q.mod.neg(),W&&ee.negative!==0&&ee.iadd(z)),{div:q,mod:ee}):this.negative===0&&z.negative!==0?(Q=this.divmod(z.neg(),B),B!=="mod"&&(q=Q.div.neg()),{div:q,mod:Q.mod}):(this.negative&z.negative)!==0?(Q=this.neg().divmod(z.neg(),B),B!=="div"&&(ee=Q.mod.neg(),W&&ee.negative!==0&&ee.isub(z)),{div:Q.div,mod:ee}):z.length>this.length||this.cmp(z)<0?{div:new u(0),mod:this}:z.length===1?B==="div"?{div:this.divn(z.words[0]),mod:null}:B==="mod"?{div:null,mod:new u(this.modn(z.words[0]))}:{div:this.divn(z.words[0]),mod:new u(this.modn(z.words[0]))}:this._wordDiv(z,B)},u.prototype.div=function(z){return this.divmod(z,"div",!1).div},u.prototype.mod=function(z){return this.divmod(z,"mod",!1).mod},u.prototype.umod=function(z){return this.divmod(z,"mod",!0).mod},u.prototype.divRound=function(z){var B=this.divmod(z);if(B.mod.isZero())return B.div;var W=B.div.negative!==0?B.mod.isub(z):B.mod,q=z.ushrn(1),ee=z.andln(1),Q=W.cmp(q);return Q<0||ee===1&&Q===0?B.div:B.div.negative!==0?B.div.isubn(1):B.div.iaddn(1)},u.prototype.modn=function(z){n(z<=67108863);for(var B=(1<<26)%z,W=0,q=this.length-1;q>=0;q--)W=(B*W+(this.words[q]|0))%z;return W},u.prototype.idivn=function(z){n(z<=67108863);for(var B=0,W=this.length-1;W>=0;W--){var q=(this.words[W]|0)+B*67108864;this.words[W]=q/z|0,B=q%z}return this.strip()},u.prototype.divn=function(z){return this.clone().idivn(z)},u.prototype.egcd=function(z){n(z.negative===0),n(!z.isZero());var B=this,W=z.clone();B.negative!==0?B=B.umod(z):B=B.clone();for(var q=new u(1),ee=new u(0),Q=new u(0),oe=new u(1),Z=0;B.isEven()&&W.isEven();)B.iushrn(1),W.iushrn(1),++Z;for(var Y=W.clone(),te=B.clone();!B.isZero();){for(var X=0,$=1;(B.words[0]&$)===0&&X<26;++X,$<<=1);if(X>0)for(B.iushrn(X);X-- >0;)(q.isOdd()||ee.isOdd())&&(q.iadd(Y),ee.isub(te)),q.iushrn(1),ee.iushrn(1);for(var ie=0,J=1;(W.words[0]&J)===0&&ie<26;++ie,J<<=1);if(ie>0)for(W.iushrn(ie);ie-- >0;)(Q.isOdd()||oe.isOdd())&&(Q.iadd(Y),oe.isub(te)),Q.iushrn(1),oe.iushrn(1);B.cmp(W)>=0?(B.isub(W),q.isub(Q),ee.isub(oe)):(W.isub(B),Q.isub(q),oe.isub(ee))}return{a:Q,b:oe,gcd:W.iushln(Z)}},u.prototype._invmp=function(z){n(z.negative===0),n(!z.isZero());var B=this,W=z.clone();B.negative!==0?B=B.umod(z):B=B.clone();for(var q=new u(1),ee=new u(0),Q=W.clone();B.cmpn(1)>0&&W.cmpn(1)>0;){for(var oe=0,Z=1;(B.words[0]&Z)===0&&oe<26;++oe,Z<<=1);if(oe>0)for(B.iushrn(oe);oe-- >0;)q.isOdd()&&q.iadd(Q),q.iushrn(1);for(var Y=0,te=1;(W.words[0]&te)===0&&Y<26;++Y,te<<=1);if(Y>0)for(W.iushrn(Y);Y-- >0;)ee.isOdd()&&ee.iadd(Q),ee.iushrn(1);B.cmp(W)>=0?(B.isub(W),q.isub(ee)):(W.isub(B),ee.isub(q))}var X;return B.cmpn(1)===0?X=q:X=ee,X.cmpn(0)<0&&X.iadd(z),X},u.prototype.gcd=function(z){if(this.isZero())return z.abs();if(z.isZero())return this.abs();var B=this.clone(),W=z.clone();B.negative=0,W.negative=0;for(var q=0;B.isEven()&&W.isEven();q++)B.iushrn(1),W.iushrn(1);do{for(;B.isEven();)B.iushrn(1);for(;W.isEven();)W.iushrn(1);var ee=B.cmp(W);if(ee<0){var Q=B;B=W,W=Q}else if(ee===0||W.cmpn(1)===0)break;B.isub(W)}while(!0);return W.iushln(q)},u.prototype.invm=function(z){return this.egcd(z).a.umod(z)},u.prototype.isEven=function(){return(this.words[0]&1)===0},u.prototype.isOdd=function(){return(this.words[0]&1)===1},u.prototype.andln=function(z){return this.words[0]&z},u.prototype.bincn=function(z){n(typeof z=="number");var B=z%26,W=(z-B)/26,q=1<<B;if(this.length<=W)return this._expand(W+1),this.words[W]|=q,this;for(var ee=q,Q=W;ee!==0&&Q<this.length;Q++){var oe=this.words[Q]|0;oe+=ee,ee=oe>>>26,oe&=67108863,this.words[Q]=oe}return ee!==0&&(this.words[Q]=ee,this.length++),this},u.prototype.isZero=function(){return this.length===1&&this.words[0]===0},u.prototype.cmpn=function(z){var B=z<0;if(this.negative!==0&&!B)return-1;if(this.negative===0&&B)return 1;this.strip();var W;if(this.length>1)W=1;else{B&&(z=-z),n(z<=67108863,"Number is too big");var q=this.words[0]|0;W=q===z?0:q<z?-1:1}return this.negative!==0?-W|0:W},u.prototype.cmp=function(z){if(this.negative!==0&&z.negative===0)return-1;if(this.negative===0&&z.negative!==0)return 1;var B=this.ucmp(z);return this.negative!==0?-B|0:B},u.prototype.ucmp=function(z){if(this.length>z.length)return 1;if(this.length<z.length)return-1;for(var B=0,W=this.length-1;W>=0;W--){var q=this.words[W]|0,ee=z.words[W]|0;if(q!==ee){q<ee?B=-1:q>ee&&(B=1);break}}return B},u.prototype.gtn=function(z){return this.cmpn(z)===1},u.prototype.gt=function(z){return this.cmp(z)===1},u.prototype.gten=function(z){return this.cmpn(z)>=0},u.prototype.gte=function(z){return this.cmp(z)>=0},u.prototype.ltn=function(z){return this.cmpn(z)===-1},u.prototype.lt=function(z){return this.cmp(z)===-1},u.prototype.lten=function(z){return this.cmpn(z)<=0},u.prototype.lte=function(z){return this.cmp(z)<=0},u.prototype.eqn=function(z){return this.cmpn(z)===0},u.prototype.eq=function(z){return this.cmp(z)===0},u.red=function(z){return new k(z)},u.prototype.toRed=function(z){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),z.convertTo(this)._forceRed(z)},u.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},u.prototype._forceRed=function(z){return this.red=z,this},u.prototype.forceRed=function(z){return n(!this.red,"Already a number in reduction context"),this._forceRed(z)},u.prototype.redAdd=function(z){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,z)},u.prototype.redIAdd=function(z){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,z)},u.prototype.redSub=function(z){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,z)},u.prototype.redISub=function(z){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,z)},u.prototype.redShl=function(z){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,z)},u.prototype.redMul=function(z){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,z),this.red.mul(this,z)},u.prototype.redIMul=function(z){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,z),this.red.imul(this,z)},u.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},u.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},u.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},u.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},u.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},u.prototype.redPow=function(z){return n(this.red&&!z.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,z)};var o={k256:null,p224:null,p192:null,p25519:null};function P(O,z){this.name=O,this.p=new u(z,16),this.n=this.p.bitLength(),this.k=new u(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}P.prototype._tmp=function(){var z=new u(null);return z.words=new Array(Math.ceil(this.n/13)),z},P.prototype.ireduce=function(z){var B=z,W;do this.split(B,this.tmp),B=this.imulK(B),B=B.iadd(this.tmp),W=B.bitLength();while(W>this.n);var q=W<this.n?-1:B.ucmp(this.p);return q===0?(B.words[0]=0,B.length=1):q>0?B.isub(this.p):B.strip!==void 0?B.strip():B._strip(),B},P.prototype.split=function(z,B){z.iushrn(this.n,0,B)},P.prototype.imulK=function(z){return z.imul(this.k)};function x(){P.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}f(x,P),x.prototype.split=function(z,B){for(var W=4194303,q=Math.min(z.length,9),ee=0;ee<q;ee++)B.words[ee]=z.words[ee];if(B.length=q,z.length<=9){z.words[0]=0,z.length=1;return}var Q=z.words[9];for(B.words[B.length++]=Q&W,ee=10;ee<z.length;ee++){var oe=z.words[ee]|0;z.words[ee-10]=(oe&W)<<4|Q>>>22,Q=oe}Q>>>=22,z.words[ee-10]=Q,Q===0&&z.length>10?z.length-=10:z.length-=9},x.prototype.imulK=function(z){z.words[z.length]=0,z.words[z.length+1]=0,z.length+=2;for(var B=0,W=0;W<z.length;W++){var q=z.words[W]|0;B+=q*977,z.words[W]=B&67108863,B=q*64+(B/67108864|0)}return z.words[z.length-1]===0&&(z.length--,z.words[z.length-1]===0&&z.length--),z};function _(){P.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}f(_,P);function I(){P.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}f(I,P);function N(){P.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}f(N,P),N.prototype.imulK=function(z){for(var B=0,W=0;W<z.length;W++){var q=(z.words[W]|0)*19+B,ee=q&67108863;q>>>=26,z.words[W]=ee,B=q}return B!==0&&(z.words[z.length++]=B),z},u._prime=function(z){if(o[z])return o[z];var B;if(z==="k256")B=new x;else if(z==="p224")B=new _;else if(z==="p192")B=new I;else if(z==="p25519")B=new N;else throw new Error("Unknown prime "+z);return o[z]=B,B};function k(O){if(typeof O=="string"){var z=u._prime(O);this.m=z.p,this.prime=z}else n(O.gtn(1),"modulus must be greater than 1"),this.m=O,this.prime=null}k.prototype._verify1=function(z){n(z.negative===0,"red works only with positives"),n(z.red,"red works only with red numbers")},k.prototype._verify2=function(z,B){n((z.negative|B.negative)===0,"red works only with positives"),n(z.red&&z.red===B.red,"red works only with red numbers")},k.prototype.imod=function(z){return this.prime?this.prime.ireduce(z)._forceRed(this):z.umod(this.m)._forceRed(this)},k.prototype.neg=function(z){return z.isZero()?z.clone():this.m.sub(z)._forceRed(this)},k.prototype.add=function(z,B){this._verify2(z,B);var W=z.add(B);return W.cmp(this.m)>=0&&W.isub(this.m),W._forceRed(this)},k.prototype.iadd=function(z,B){this._verify2(z,B);var W=z.iadd(B);return W.cmp(this.m)>=0&&W.isub(this.m),W},k.prototype.sub=function(z,B){this._verify2(z,B);var W=z.sub(B);return W.cmpn(0)<0&&W.iadd(this.m),W._forceRed(this)},k.prototype.isub=function(z,B){this._verify2(z,B);var W=z.isub(B);return W.cmpn(0)<0&&W.iadd(this.m),W},k.prototype.shl=function(z,B){return this._verify1(z),this.imod(z.ushln(B))},k.prototype.imul=function(z,B){return this._verify2(z,B),this.imod(z.imul(B))},k.prototype.mul=function(z,B){return this._verify2(z,B),this.imod(z.mul(B))},k.prototype.isqr=function(z){return this.imul(z,z.clone())},k.prototype.sqr=function(z){return this.mul(z,z)},k.prototype.sqrt=function(z){if(z.isZero())return z.clone();var B=this.m.andln(3);if(n(B%2===1),B===3){var W=this.m.add(new u(1)).iushrn(2);return this.pow(z,W)}for(var q=this.m.subn(1),ee=0;!q.isZero()&&q.andln(1)===0;)ee++,q.iushrn(1);n(!q.isZero());var Q=new u(1).toRed(this),oe=Q.redNeg(),Z=this.m.subn(1).iushrn(1),Y=this.m.bitLength();for(Y=new u(2*Y*Y).toRed(this);this.pow(Y,Z).cmp(oe)!==0;)Y.redIAdd(oe);for(var te=this.pow(Y,q),X=this.pow(z,q.addn(1).iushrn(1)),$=this.pow(z,q),ie=ee;$.cmp(Q)!==0;){for(var J=$,j=0;J.cmp(Q)!==0;j++)J=J.redSqr();n(j<ie);var se=this.pow(te,new u(1).iushln(ie-j-1));X=X.redMul(se),te=se.redSqr(),$=$.redMul(te),ie=j}return X},k.prototype.invm=function(z){var B=z._invmp(this.m);return B.negative!==0?(B.negative=0,this.imod(B).redNeg()):this.imod(B)},k.prototype.pow=function(z,B){if(B.isZero())return new u(1).toRed(this);if(B.cmpn(1)===0)return z.clone();var W=4,q=new Array(1<<W);q[0]=new u(1).toRed(this),q[1]=z;for(var ee=2;ee<q.length;ee++)q[ee]=this.mul(q[ee-1],z);var Q=q[0],oe=0,Z=0,Y=B.bitLength()%26;for(Y===0&&(Y=26),ee=B.length-1;ee>=0;ee--){for(var te=B.words[ee],X=Y-1;X>=0;X--){var $=te>>X&1;if(Q!==q[0]&&(Q=this.sqr(Q)),$===0&&oe===0){Z=0;continue}oe<<=1,oe|=$,Z++,!(Z!==W&&(ee!==0||X!==0))&&(Q=this.mul(Q,q[oe]),Z=0,oe=0)}Y=26}return Q},k.prototype.convertTo=function(z){var B=z.umod(this.m);return B===z?B.clone():B},k.prototype.convertFrom=function(z){var B=z.clone();return B.red=null,B},u.mont=function(z){return new F(z)};function F(O){k.call(this,O),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new u(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}f(F,k),F.prototype.convertTo=function(z){return this.imod(z.ushln(this.shift))},F.prototype.convertFrom=function(z){var B=this.imod(z.mul(this.rinv));return B.red=null,B},F.prototype.imul=function(z,B){if(z.isZero()||B.isZero())return z.words[0]=0,z.length=1,z;var W=z.imul(B),q=W.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),ee=W.isub(q).iushrn(this.shift),Q=ee;return ee.cmp(this.m)>=0?Q=ee.isub(this.m):ee.cmpn(0)<0&&(Q=ee.iadd(this.m)),Q._forceRed(this)},F.prototype.mul=function(z,B){if(z.isZero()||B.isZero())return new u(0)._forceRed(this);var W=z.mul(B),q=W.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),ee=W.isub(q).iushrn(this.shift),Q=ee;return ee.cmp(this.m)>=0?Q=ee.isub(this.m):ee.cmpn(0)<0&&(Q=ee.iadd(this.m)),Q._forceRed(this)},F.prototype.invm=function(z){var B=this.imod(z._invmp(this.m).mul(this.r2));return B._forceRed(this)}}(v,this)},2692:function(v){v.exports=p;function p(r){var t,s,n,f=r.length,u=0;for(t=0;t<f;++t)u+=r[t].length;var l=new Array(u),m=0;for(t=0;t<f;++t){var h=r[t],M=h.length;for(s=0;s<M;++s){var c=l[m++]=new Array(M-1),i=0;for(n=0;n<M;++n)n!==s&&(c[i++]=h[n]);if(s&1){var d=c[1];c[1]=c[0],c[0]=d}}}return l}},2569:function(v,p,r){v.exports=i;var t=r(5306),s=r(1390),n=r(2337);function f(d,b){for(var w=0;w<d;++w)if(!(b[w]<=b[w+d]))return!0;return!1}function u(d,b,w,E){for(var y=0,S=0,T=0,o=d.length;T<o;++T){var P=d[T];if(!f(b,P)){for(var x=0;x<2*b;++x)w[y++]=P[x];E[S++]=T}}return S}function l(d,b,w,E){var y=d.length,S=b.length;if(!(y<=0||S<=0)){var T=d[0].length>>>1;if(!(T<=0)){var o,P=t.mallocDouble(2*T*y),x=t.mallocInt32(y);if(y=u(d,T,P,x),y>0){if(T===1&&E)s.init(y),o=s.sweepComplete(T,w,0,y,P,x,0,y,P,x);else{var _=t.mallocDouble(2*T*S),I=t.mallocInt32(S);S=u(b,T,_,I),S>0&&(s.init(y+S),T===1?o=s.sweepBipartite(T,w,0,y,P,x,0,S,_,I):o=n(T,w,E,y,P,x,S,_,I),t.free(_),t.free(I))}t.free(P),t.free(x)}return o}}}var m;function h(d,b){m.push([d,b])}function M(d){return m=[],l(d,d,h,!0),m}function c(d,b){return m=[],l(d,b,h,!1),m}function i(d,b,w){switch(arguments.length){case 1:return M(d);case 2:return typeof b=="function"?l(d,d,b,!0):c(d,b);case 3:return l(d,b,w,!1);default:throw new Error("box-intersect: Invalid arguments")}}},7333:function(v,p){function r(){function n(l,m,h,M,c,i,d,b,w,E,y){for(var S=2*l,T=M,o=S*M;T<c;++T,o+=S){var P=i[m+o],x=i[m+o+l],_=d[T];e:for(var I=b,N=S*b;I<w;++I,N+=S){var k=E[m+N],F=E[m+N+l],O=y[I];if(!(F<P||x<k)){for(var z=m+1;z<l;++z){var B=i[z+o],W=i[z+l+o],q=E[z+N],ee=E[z+l+N];if(W<q||ee<B)continue e}var Q=h(_,O);if(Q!==void 0)return Q}}}}function f(l,m,h,M,c,i,d,b,w,E,y){for(var S=2*l,T=b,o=S*b;T<w;++T,o+=S){var P=E[m+o],x=E[m+o+l],_=y[T];e:for(var I=M,N=S*M;I<c;++I,N+=S){var k=i[m+N],F=i[m+N+l],O=d[I];if(!(x<k||F<P)){for(var z=m+1;z<l;++z){var B=i[z+N],W=i[z+l+N],q=E[z+o],ee=E[z+l+o];if(W<q||ee<B)continue e}var Q=h(O,_);if(Q!==void 0)return Q}}}}function u(l,m,h,M,c,i,d,b,w,E,y){return c-M>w-b?n(l,m,h,M,c,i,d,b,w,E,y):f(l,m,h,M,c,i,d,b,w,E,y)}return u}function t(){function n(h,M,c,i,d,b,w,E,y,S,T){for(var o=2*h,P=i,x=o*i;P<d;++P,x+=o){var _=b[M+x],I=b[M+x+h],N=w[P];e:for(var k=E,F=o*E;k<y;++k,F+=o){var O=S[M+F],z=T[k];if(!(O<=_||I<O)){for(var B=M+1;B<h;++B){var W=b[B+x],q=b[B+h+x],ee=S[B+F],Q=S[B+h+F];if(q<ee||Q<W)continue e}var oe=c(z,N);if(oe!==void 0)return oe}}}}function f(h,M,c,i,d,b,w,E,y,S,T){for(var o=2*h,P=i,x=o*i;P<d;++P,x+=o){var _=b[M+x],I=b[M+x+h],N=w[P];e:for(var k=E,F=o*E;k<y;++k,F+=o){var O=S[M+F],z=T[k];if(!(O<_||I<O)){for(var B=M+1;B<h;++B){var W=b[B+x],q=b[B+h+x],ee=S[B+F],Q=S[B+h+F];if(q<ee||Q<W)continue e}var oe=c(N,z);if(oe!==void 0)return oe}}}}function u(h,M,c,i,d,b,w,E,y,S,T){for(var o=2*h,P=E,x=o*E;P<y;++P,x+=o){var _=S[M+x],I=T[P];e:for(var N=i,k=o*i;N<d;++N,k+=o){var F=b[M+k],O=b[M+k+h],z=w[N];if(!(_<=F||O<_)){for(var B=M+1;B<h;++B){var W=b[B+k],q=b[B+h+k],ee=S[B+x],Q=S[B+h+x];if(q<ee||Q<W)continue e}var oe=c(I,z);if(oe!==void 0)return oe}}}}function l(h,M,c,i,d,b,w,E,y,S,T){for(var o=2*h,P=E,x=o*E;P<y;++P,x+=o){var _=S[M+x],I=T[P];e:for(var N=i,k=o*i;N<d;++N,k+=o){var F=b[M+k],O=b[M+k+h],z=w[N];if(!(_<F||O<_)){for(var B=M+1;B<h;++B){var W=b[B+k],q=b[B+h+k],ee=S[B+x],Q=S[B+h+x];if(q<ee||Q<W)continue e}var oe=c(z,I);if(oe!==void 0)return oe}}}}function m(h,M,c,i,d,b,w,E,y,S,T,o){return b-d>S-y?i?n(h,M,c,d,b,w,E,y,S,T,o):f(h,M,c,d,b,w,E,y,S,T,o):i?u(h,M,c,d,b,w,E,y,S,T,o):l(h,M,c,d,b,w,E,y,S,T,o)}return m}function s(n){return n?r():t()}p.partial=s(!1),p.full=s(!0)},2337:function(v,p,r){v.exports=O;var t=r(5306),s=r(2288),n=r(7333),f=n.partial,u=n.full,l=r(1390),m=r(2464),h=r(122),M=128,c=1<<22,i=1<<22,d=h("!(lo>=p0)&&!(p1>=hi)"),b=h("lo===p0"),w=h("lo<p0"),E=h("hi<=p0"),y=h("lo<=p0&&p0<=hi"),S=h("lo<p0&&p0<=hi"),T=6,o=2,P=1024,x=t.mallocInt32(P),_=t.mallocDouble(P);function I(z,B){var W=8*s.log2(B+1)*(z+1)|0,q=s.nextPow2(T*W);x.length<q&&(t.free(x),x=t.mallocInt32(q));var ee=s.nextPow2(o*W);_.length<ee&&(t.free(_),_=t.mallocDouble(ee))}function N(z,B,W,q,ee,Q,oe,Z,Y){var te=T*z;x[te]=B,x[te+1]=W,x[te+2]=q,x[te+3]=ee,x[te+4]=Q,x[te+5]=oe;var X=o*z;_[X]=Z,_[X+1]=Y}function k(z,B,W,q,ee,Q,oe,Z,Y,te,X){var $=2*z,ie=Y*$,J=te[ie+B];e:for(var j=ee,se=ee*$;j<Q;++j,se+=$){var ne=oe[se+B],le=oe[se+B+z];if(!(J<ne||le<J)&&!(q&&J===ne)){for(var pe=Z[j],Ae=B+1;Ae<z;++Ae){var ne=oe[se+Ae],le=oe[se+Ae+z],be=te[ie+Ae],Re=te[ie+Ae+z];if(le<be||Re<ne)continue e}var xe;if(q?xe=W(X,pe):xe=W(pe,X),xe!==void 0)return xe}}}function F(z,B,W,q,ee,Q,oe,Z,Y,te){var X=2*z,$=Z*X,ie=Y[$+B];e:for(var J=q,j=q*X;J<ee;++J,j+=X){var se=oe[J];if(se!==te){var ne=Q[j+B],le=Q[j+B+z];if(!(ie<ne||le<ie)){for(var pe=B+1;pe<z;++pe){var ne=Q[j+pe],le=Q[j+pe+z],Ae=Y[$+pe],be=Y[$+pe+z];if(le<Ae||be<ne)continue e}var Re=W(se,te);if(Re!==void 0)return Re}}}}function O(z,B,W,q,ee,Q,oe,Z,Y){I(z,q+oe);var te=0,X=2*z,$;for(N(te++,0,0,q,0,oe,W?16:0,-1/0,1/0),W||N(te++,0,0,oe,0,q,1,-1/0,1/0);te>0;){te-=1;var ie=te*T,J=x[ie],j=x[ie+1],se=x[ie+2],ne=x[ie+3],le=x[ie+4],pe=x[ie+5],Ae=te*o,be=_[Ae],Re=_[Ae+1],xe=pe&1,Me=!!(pe&16),ye=ee,Se=Q,Fe=Z,Be=Y;if(xe&&(ye=Z,Se=Y,Fe=ee,Be=Q),!(pe&2&&(se=w(z,J,j,se,ye,Se,Re),j>=se))&&!(pe&4&&(j=E(z,J,j,se,ye,Se,be),j>=se))){var _e=se-j,Ue=le-ne;if(Me){if(z*_e*(_e+Ue)<i){if($=l.scanComplete(z,J,B,j,se,ye,Se,ne,le,Fe,Be),$!==void 0)return $;continue}}else if(z*Math.min(_e,Ue)<M){if($=f(z,J,B,xe,j,se,ye,Se,ne,le,Fe,Be),$!==void 0)return $;continue}else if(z*_e*Ue<c){if($=l.scanBipartite(z,J,B,xe,j,se,ye,Se,ne,le,Fe,Be),$!==void 0)return $;continue}var it=d(z,J,j,se,ye,Se,be,Re);if(j<it)if(z*(it-j)<M){if($=u(z,J+1,B,j,it,ye,Se,ne,le,Fe,Be),$!==void 0)return $}else if(J===z-2){if(xe?$=l.sweepBipartite(z,B,ne,le,Fe,Be,j,it,ye,Se):$=l.sweepBipartite(z,B,j,it,ye,Se,ne,le,Fe,Be),$!==void 0)return $}else N(te++,J+1,j,it,ne,le,xe,-1/0,1/0),N(te++,J+1,ne,le,j,it,xe^1,-1/0,1/0);if(it<se){var lt=m(z,J,ne,le,Fe,Be),$e=Fe[X*lt+J],qe=b(z,J,lt,le,Fe,Be,$e);if(qe<le&&N(te++,J,it,se,qe,le,(xe|4)+(Me?16:0),$e,Re),ne<lt&&N(te++,J,it,se,ne,lt,(xe|2)+(Me?16:0),be,$e),lt+1===qe){if(Me?$=F(z,J,B,it,se,ye,Se,lt,Fe,Be[lt]):$=k(z,J,B,xe,it,se,ye,Se,lt,Fe,Be[lt]),$!==void 0)return $}else if(lt<qe){var ft;if(Me){if(ft=y(z,J,it,se,ye,Se,$e),it<ft){var ct=b(z,J,it,ft,ye,Se,$e);if(J===z-2){if(it<ct&&($=l.sweepComplete(z,B,it,ct,ye,Se,lt,qe,Fe,Be),$!==void 0)||ct<ft&&($=l.sweepBipartite(z,B,ct,ft,ye,Se,lt,qe,Fe,Be),$!==void 0))return $}else it<ct&&N(te++,J+1,it,ct,lt,qe,16,-1/0,1/0),ct<ft&&(N(te++,J+1,ct,ft,lt,qe,0,-1/0,1/0),N(te++,J+1,lt,qe,ct,ft,1,-1/0,1/0))}}else xe?ft=S(z,J,it,se,ye,Se,$e):ft=y(z,J,it,se,ye,Se,$e),it<ft&&(J===z-2?xe?$=l.sweepBipartite(z,B,lt,qe,Fe,Be,it,ft,ye,Se):$=l.sweepBipartite(z,B,it,ft,ye,Se,lt,qe,Fe,Be):(N(te++,J+1,it,ft,lt,qe,xe,-1/0,1/0),N(te++,J+1,lt,qe,it,ft,xe^1,-1/0,1/0)))}}}}}},2464:function(v,p,r){v.exports=u;var t=r(122),s=t("lo<p0"),n=8;function f(l,m,h,M,c,i){for(var d=2*l,b=d*(h+1)+m,w=h+1;w<M;++w,b+=d)for(var E=c[b],y=w,S=d*(w-1);y>h&&c[S+m]>E;--y,S-=d){for(var T=S,o=S+d,P=0;P<d;++P,++T,++o){var x=c[T];c[T]=c[o],c[o]=x}var _=i[y];i[y]=i[y-1],i[y-1]=_}}function u(l,m,h,M,c,i){if(M<=h+1)return h;for(var d=h,b=M,w=M+h>>>1,E=2*l,y=w,S=c[E*w+m];d<b;){if(b-d<n){f(l,m,d,b,c,i),S=c[E*w+m];break}var T=b-d,o=Math.random()*T+d|0,P=c[E*o+m],x=Math.random()*T+d|0,_=c[E*x+m],I=Math.random()*T+d|0,N=c[E*I+m];P<=_?N>=_?(y=x,S=_):P>=N?(y=o,S=P):(y=I,S=N):_>=N?(y=x,S=_):N>=P?(y=o,S=P):(y=I,S=N);for(var O=E*(b-1),z=E*y,k=0;k<E;++k,++O,++z){var F=c[O];c[O]=c[z],c[z]=F}var B=i[b-1];i[b-1]=i[y],i[y]=B,y=s(l,m,d,b-1,c,i,S);for(var O=E*(b-1),z=E*y,k=0;k<E;++k,++O,++z){var F=c[O];c[O]=c[z],c[z]=F}var B=i[b-1];if(i[b-1]=i[y],i[y]=B,w<y){for(b=y-1;d<b&&c[E*(b-1)+m]===S;)b-=1;b+=1}else if(y<w)for(d=y+1;d<b&&c[E*d+m]===S;)d+=1;else break}return s(l,m,h,w,c,i,c[E*w+m])}},122:function(v){v.exports=r;var p={"lo===p0":t,"lo<p0":s,"lo<=p0":n,"hi<=p0":f,"lo<p0&&p0<=hi":l,"lo<=p0&&p0<=hi":u,"!(lo>=p0)&&!(p1>=hi)":m};function r(h){return p[h]}function t(h,M,c,i,d,b,w){for(var E=2*h,y=E*c,S=y,T=c,o=M,P=h+M,x=c;i>x;++x,y+=E){var _=d[y+o];if(_===w)if(T===x)T+=1,S+=E;else{for(var I=0;E>I;++I){var N=d[y+I];d[y+I]=d[S],d[S++]=N}var k=b[x];b[x]=b[T],b[T++]=k}}return T}function s(h,M,c,i,d,b,w){for(var E=2*h,y=E*c,S=y,T=c,o=M,P=h+M,x=c;i>x;++x,y+=E){var _=d[y+o];if(_<w)if(T===x)T+=1,S+=E;else{for(var I=0;E>I;++I){var N=d[y+I];d[y+I]=d[S],d[S++]=N}var k=b[x];b[x]=b[T],b[T++]=k}}return T}function n(h,M,c,i,d,b,w){for(var E=2*h,y=E*c,S=y,T=c,o=M,P=h+M,x=c;i>x;++x,y+=E){var _=d[y+P];if(_<=w)if(T===x)T+=1,S+=E;else{for(var I=0;E>I;++I){var N=d[y+I];d[y+I]=d[S],d[S++]=N}var k=b[x];b[x]=b[T],b[T++]=k}}return T}function f(h,M,c,i,d,b,w){for(var E=2*h,y=E*c,S=y,T=c,o=M,P=h+M,x=c;i>x;++x,y+=E){var _=d[y+P];if(_<=w)if(T===x)T+=1,S+=E;else{for(var I=0;E>I;++I){var N=d[y+I];d[y+I]=d[S],d[S++]=N}var k=b[x];b[x]=b[T],b[T++]=k}}return T}function u(h,M,c,i,d,b,w){for(var E=2*h,y=E*c,S=y,T=c,o=M,P=h+M,x=c;i>x;++x,y+=E){var _=d[y+o],I=d[y+P];if(_<=w&&w<=I)if(T===x)T+=1,S+=E;else{for(var N=0;E>N;++N){var k=d[y+N];d[y+N]=d[S],d[S++]=k}var F=b[x];b[x]=b[T],b[T++]=F}}return T}function l(h,M,c,i,d,b,w){for(var E=2*h,y=E*c,S=y,T=c,o=M,P=h+M,x=c;i>x;++x,y+=E){var _=d[y+o],I=d[y+P];if(_<w&&w<=I)if(T===x)T+=1,S+=E;else{for(var N=0;E>N;++N){var k=d[y+N];d[y+N]=d[S],d[S++]=k}var F=b[x];b[x]=b[T],b[T++]=F}}return T}function m(h,M,c,i,d,b,w,E){for(var y=2*h,S=y*c,T=S,o=c,P=M,x=h+M,_=c;i>_;++_,S+=y){var I=d[S+P],N=d[S+x];if(!(I>=w)&&!(E>=N))if(o===_)o+=1,T+=y;else{for(var k=0;y>k;++k){var F=d[S+k];d[S+k]=d[T],d[T++]=F}var O=b[_];b[_]=b[o],b[o++]=O}}return o}},309:function(v){v.exports=r;var p=32;function r(M,c){c<=4*p?t(0,c-1,M):h(0,c-1,M)}function t(M,c,i){for(var d=2*(M+1),b=M+1;b<=c;++b){for(var w=i[d++],E=i[d++],y=b,S=d-2;y-- >M;){var T=i[S-2],o=i[S-1];if(T<w)break;if(T===w&&o<E)break;i[S]=T,i[S+1]=o,S-=2}i[S]=w,i[S+1]=E}}function s(M,c,i){M*=2,c*=2;var d=i[M],b=i[M+1];i[M]=i[c],i[M+1]=i[c+1],i[c]=d,i[c+1]=b}function n(M,c,i){M*=2,c*=2,i[M]=i[c],i[M+1]=i[c+1]}function f(M,c,i,d){M*=2,c*=2,i*=2;var b=d[M],w=d[M+1];d[M]=d[c],d[M+1]=d[c+1],d[c]=d[i],d[c+1]=d[i+1],d[i]=b,d[i+1]=w}function u(M,c,i,d,b){M*=2,c*=2,b[M]=b[c],b[c]=i,b[M+1]=b[c+1],b[c+1]=d}function l(M,c,i){M*=2,c*=2;var d=i[M],b=i[c];return d<b?!1:d===b?i[M+1]>i[c+1]:!0}function m(M,c,i,d){M*=2;var b=d[M];return b<c?!0:b===c?d[M+1]<i:!1}function h(M,c,i){var d=(c-M+1)/6|0,b=M+d,w=c-d,E=M+c>>1,y=E-d,S=E+d,T=b,o=y,P=E,x=S,_=w,I=M+1,N=c-1,k=0;l(T,o,i)&&(k=T,T=o,o=k),l(x,_,i)&&(k=x,x=_,_=k),l(T,P,i)&&(k=T,T=P,P=k),l(o,P,i)&&(k=o,o=P,P=k),l(T,x,i)&&(k=T,T=x,x=k),l(P,x,i)&&(k=P,P=x,x=k),l(o,_,i)&&(k=o,o=_,_=k),l(o,P,i)&&(k=o,o=P,P=k),l(x,_,i)&&(k=x,x=_,_=k);for(var F=i[2*o],O=i[2*o+1],z=i[2*x],B=i[2*x+1],W=2*T,q=2*P,ee=2*_,Q=2*b,oe=2*E,Z=2*w,Y=0;Y<2;++Y){var te=i[W+Y],X=i[q+Y],$=i[ee+Y];i[Q+Y]=te,i[oe+Y]=X,i[Z+Y]=$}n(y,M,i),n(S,c,i);for(var ie=I;ie<=N;++ie)if(m(ie,F,O,i))ie!==I&&s(ie,I,i),++I;else if(!m(ie,z,B,i))for(;;)if(m(N,z,B,i)){m(N,F,O,i)?(f(ie,I,N,i),++I,--N):(s(ie,N,i),--N);break}else{if(--N<ie)break;continue}u(M,I-1,F,O,i),u(c,N+1,z,B,i),I-2-M<=p?t(M,I-2,i):h(M,I-2,i),c-(N+2)<=p?t(N+2,c,i):h(N+2,c,i),N-I<=p?t(I,N,i):h(I,N,i)}},1390:function(v,p,r){v.exports={init:b,sweepBipartite:y,sweepComplete:S,scanBipartite:T,scanComplete:o};var t=r(5306),s=r(2288),n=r(309),f=1<<28,u=1024,l=t.mallocInt32(u),m=t.mallocInt32(u),h=t.mallocInt32(u),M=t.mallocInt32(u),c=t.mallocInt32(u),i=t.mallocInt32(u),d=t.mallocDouble(u*8);function b(P){var x=s.nextPow2(P);l.length<x&&(t.free(l),l=t.mallocInt32(x)),m.length<x&&(t.free(m),m=t.mallocInt32(x)),h.length<x&&(t.free(h),h=t.mallocInt32(x)),M.length<x&&(t.free(M),M=t.mallocInt32(x)),c.length<x&&(t.free(c),c=t.mallocInt32(x)),i.length<x&&(t.free(i),i=t.mallocInt32(x));var _=8*x;d.length<_&&(t.free(d),d=t.mallocDouble(_))}function w(P,x,_,I){var N=x[I],k=P[_-1];P[N]=k,x[k]=N}function E(P,x,_,I){P[_]=I,x[I]=_}function y(P,x,_,I,N,k,F,O,z,B){for(var W=0,q=2*P,ee=P-1,Q=q-1,oe=_;oe<I;++oe){var Z=k[oe],Y=q*oe;d[W++]=N[Y+ee],d[W++]=-(Z+1),d[W++]=N[Y+Q],d[W++]=Z}for(var oe=F;oe<O;++oe){var Z=B[oe]+f,te=q*oe;d[W++]=z[te+ee],d[W++]=-Z,d[W++]=z[te+Q],d[W++]=Z}var X=W>>>1;n(d,X);for(var $=0,ie=0,oe=0;oe<X;++oe){var J=d[2*oe+1]|0;if(J>=f)J=J-f|0,w(h,M,ie--,J);else if(J>=0)w(l,m,$--,J);else if(J<=-f){J=-J-f|0;for(var j=0;j<$;++j){var se=x(l[j],J);if(se!==void 0)return se}E(h,M,ie++,J)}else{J=-J-1|0;for(var j=0;j<ie;++j){var se=x(J,h[j]);if(se!==void 0)return se}E(l,m,$++,J)}}}function S(P,x,_,I,N,k,F,O,z,B){for(var W=0,q=2*P,ee=P-1,Q=q-1,oe=_;oe<I;++oe){var Z=k[oe]+1<<1,Y=q*oe;d[W++]=N[Y+ee],d[W++]=-Z,d[W++]=N[Y+Q],d[W++]=Z}for(var oe=F;oe<O;++oe){var Z=B[oe]+1<<1,te=q*oe;d[W++]=z[te+ee],d[W++]=-Z|1,d[W++]=z[te+Q],d[W++]=Z|1}var X=W>>>1;n(d,X);for(var $=0,ie=0,J=0,oe=0;oe<X;++oe){var j=d[2*oe+1]|0,se=j&1;if(oe<X-1&&j>>1===d[2*oe+3]>>1&&(se=2,oe+=1),j<0){for(var ne=-(j>>1)-1,le=0;le<J;++le){var pe=x(c[le],ne);if(pe!==void 0)return pe}if(se!==0)for(var le=0;le<$;++le){var pe=x(l[le],ne);if(pe!==void 0)return pe}if(se!==1)for(var le=0;le<ie;++le){var pe=x(h[le],ne);if(pe!==void 0)return pe}se===0?E(l,m,$++,ne):se===1?E(h,M,ie++,ne):se===2&&E(c,i,J++,ne)}else{var ne=(j>>1)-1;se===0?w(l,m,$--,ne):se===1?w(h,M,ie--,ne):se===2&&w(c,i,J--,ne)}}}function T(P,x,_,I,N,k,F,O,z,B,W,q){var ee=0,Q=2*P,oe=x,Z=x+P,Y=1,te=1;I?te=f:Y=f;for(var X=N;X<k;++X){var $=X+Y,ie=Q*X;d[ee++]=F[ie+oe],d[ee++]=-$,d[ee++]=F[ie+Z],d[ee++]=$}for(var X=z;X<B;++X){var $=X+te,J=Q*X;d[ee++]=W[J+oe],d[ee++]=-$}var j=ee>>>1;n(d,j);for(var se=0,X=0;X<j;++X){var ne=d[2*X+1]|0;if(ne<0){var $=-ne,le=!1;if($>=f?(le=!I,$-=f):(le=!!I,$-=1),le)E(l,m,se++,$);else{var pe=q[$],Ae=Q*$,be=W[Ae+x+1],Re=W[Ae+x+1+P];e:for(var xe=0;xe<se;++xe){var Me=l[xe],ye=Q*Me;if(!(Re<F[ye+x+1]||F[ye+x+1+P]<be)){for(var Se=x+2;Se<P;++Se)if(W[Ae+Se+P]<F[ye+Se]||F[ye+Se+P]<W[Ae+Se])continue e;var Fe=O[Me],Be;if(I?Be=_(pe,Fe):Be=_(Fe,pe),Be!==void 0)return Be}}}}else w(l,m,se--,ne-Y)}}function o(P,x,_,I,N,k,F,O,z,B,W){for(var q=0,ee=2*P,Q=x,oe=x+P,Z=I;Z<N;++Z){var Y=Z+f,te=ee*Z;d[q++]=k[te+Q],d[q++]=-Y,d[q++]=k[te+oe],d[q++]=Y}for(var Z=O;Z<z;++Z){var Y=Z+1,X=ee*Z;d[q++]=B[X+Q],d[q++]=-Y}var $=q>>>1;n(d,$);for(var ie=0,Z=0;Z<$;++Z){var J=d[2*Z+1]|0;if(J<0){var Y=-J;if(Y>=f)l[ie++]=Y-f;else{Y-=1;var j=W[Y],se=ee*Y,ne=B[se+x+1],le=B[se+x+1+P];e:for(var pe=0;pe<ie;++pe){var Ae=l[pe],be=F[Ae];if(be===j)break;var Re=ee*Ae;if(!(le<k[Re+x+1]||k[Re+x+1+P]<ne)){for(var xe=x+2;xe<P;++xe)if(B[se+xe+P]<k[Re+xe]||k[Re+xe+P]<B[se+xe])continue e;var Me=_(be,j);if(Me!==void 0)return Me}}}}else{for(var Y=J-f,pe=ie-1;pe>=0;--pe)if(l[pe]===Y){for(var xe=pe+1;xe<ie;++xe)l[xe-1]=l[xe];break}--ie}}}},7761:function(v,p,r){var t=r(9971),s=r(743),n=r(2161),f=r(7098);v.exports=M;function u(c){return[Math.min(c[0],c[1]),Math.max(c[0],c[1])]}function l(c,i){return c[0]-i[0]||c[1]-i[1]}function m(c){return c.map(u).sort(l)}function h(c,i,d){return i in c?c[i]:d}function M(c,i,d){Array.isArray(i)?(d=d||{},i=i||[]):(d=i||{},i=[]);var b=!!h(d,"delaunay",!0),w=!!h(d,"interior",!0),E=!!h(d,"exterior",!0),y=!!h(d,"infinity",!1);if(!w&&!E||c.length===0)return[];var S=t(c,i);if(b||w!==E||y){for(var T=s(c.length,m(i)),o=0;o<S.length;++o){var P=S[o];T.addTriangle(P[0],P[1],P[2])}return b&&n(c,T),E?w?y?f(T,0,y):T.cells():f(T,1,y):f(T,-1)}else return S}},2161:function(v,p,r){var t=r(2227)[4];r(5070),v.exports=n;function s(f,u,l,m,h,M){var c=u.opposite(m,h);if(!(c<0)){if(h<m){var i=m;m=h,h=i,i=M,M=c,c=i}u.isConstraint(m,h)||t(f[m],f[h],f[M],f[c])<0&&l.push(m,h)}}function n(f,u){for(var l=[],m=f.length,h=u.stars,M=0;M<m;++M)for(var c=h[M],i=1;i<c.length;i+=2){var d=c[i];if(!(d<M)&&!u.isConstraint(M,d)){for(var b=c[i-1],w=-1,E=1;E<c.length;E+=2)if(c[E-1]===d){w=c[E];break}w<0||t(f[M],f[d],f[b],f[w])<0&&l.push(M,d)}}for(;l.length>0;){for(var d=l.pop(),M=l.pop(),b=-1,w=-1,c=h[M],y=1;y<c.length;y+=2){var S=c[y-1],T=c[y];S===d?w=T:T===d&&(b=S)}b<0||w<0||t(f[M],f[d],f[b],f[w])>=0||(u.flip(M,d),s(f,u,l,b,M,w),s(f,u,l,M,w,b),s(f,u,l,w,d,b),s(f,u,l,d,b,w))}}},7098:function(v,p,r){var t=r(5070);v.exports=m;function s(h,M,c,i,d,b,w){this.cells=h,this.neighbor=M,this.flags=i,this.constraint=c,this.active=d,this.next=b,this.boundary=w}var n=s.prototype;function f(h,M){return h[0]-M[0]||h[1]-M[1]||h[2]-M[2]}n.locate=function(){var h=[0,0,0];return function(M,c,i){var d=M,b=c,w=i;return c<i?c<M&&(d=c,b=i,w=M):i<M&&(d=i,b=M,w=c),d<0?-1:(h[0]=d,h[1]=b,h[2]=w,t.eq(this.cells,h,f))}}();function u(h,M){for(var c=h.cells(),i=c.length,d=0;d<i;++d){var b=c[d],w=b[0],E=b[1],y=b[2];E<y?E<w&&(b[0]=E,b[1]=y,b[2]=w):y<w&&(b[0]=y,b[1]=w,b[2]=E)}c.sort(f);for(var S=new Array(i),d=0;d<S.length;++d)S[d]=0;var T=[],o=[],P=new Array(3*i),x=new Array(3*i),_=null;M&&(_=[]);for(var I=new s(c,P,x,S,T,o,_),d=0;d<i;++d)for(var b=c[d],N=0;N<3;++N){var w=b[N],E=b[(N+1)%3],k=P[3*d+N]=I.locate(E,w,h.opposite(E,w)),F=x[3*d+N]=h.isConstraint(w,E);k<0&&(F?o.push(d):(T.push(d),S[d]=1),M&&_.push([E,w,-1]))}return I}function l(h,M,c){for(var i=0,d=0;d<h.length;++d)M[d]===c&&(h[i++]=h[d]);return h.length=i,h}function m(h,M,c){var i=u(h,c);if(M===0)return c?i.cells.concat(i.boundary):i.cells;for(var d=1,b=i.active,w=i.next,E=i.flags,y=i.cells,S=i.constraint,T=i.neighbor;b.length>0||w.length>0;){for(;b.length>0;){var o=b.pop();if(E[o]!==-d){E[o]=d,y[o];for(var P=0;P<3;++P){var x=T[3*o+P];x>=0&&E[x]===0&&(S[3*o+P]?w.push(x):(b.push(x),E[x]=d))}}}var _=w;w=b,b=_,w.length=0,d=-d}var I=l(y,E,M);return c?I.concat(i.boundary):I}},9971:function(v,p,r){var t=r(5070),s=r(417)[3],n=0,f=1,u=2;v.exports=w;function l(E,y,S,T,o){this.a=E,this.b=y,this.idx=S,this.lowerIds=T,this.upperIds=o}function m(E,y,S,T){this.a=E,this.b=y,this.type=S,this.idx=T}function h(E,y){var S=E.a[0]-y.a[0]||E.a[1]-y.a[1]||E.type-y.type;return S||E.type!==n&&(S=s(E.a,E.b,y.b),S)?S:E.idx-y.idx}function M(E,y){return s(E.a,E.b,y)}function c(E,y,S,T,o){for(var P=t.lt(y,T,M),x=t.gt(y,T,M),_=P;_<x;++_){for(var I=y[_],N=I.lowerIds,F=N.length;F>1&&s(S[N[F-2]],S[N[F-1]],T)>0;)E.push([N[F-1],N[F-2],o]),F-=1;N.length=F,N.push(o);for(var k=I.upperIds,F=k.length;F>1&&s(S[k[F-2]],S[k[F-1]],T)<0;)E.push([k[F-2],k[F-1],o]),F-=1;k.length=F,k.push(o)}}function i(E,y){var S;return E.a[0]<y.a[0]?S=s(E.a,E.b,y.a):S=s(y.b,y.a,E.a),S||(y.b[0]<E.b[0]?S=s(E.a,E.b,y.b):S=s(y.b,y.a,E.b),S||E.idx-y.idx)}function d(E,y,S){var T=t.le(E,S,i),o=E[T],P=o.upperIds,x=P[P.length-1];o.upperIds=[x],E.splice(T+1,0,new l(S.a,S.b,S.idx,[x],P))}function b(E,y,S){var T=S.a;S.a=S.b,S.b=T;var o=t.eq(E,S,i),P=E[o],x=E[o-1];x.upperIds=P.upperIds,E.splice(o,1)}function w(E,y){for(var S=E.length,T=y.length,o=[],P=0;P<S;++P)o.push(new m(E[P],null,n,P));for(var P=0;P<T;++P){var x=y[P],_=E[x[0]],I=E[x[1]];_[0]<I[0]?o.push(new m(_,I,u,P),new m(I,_,f,P)):_[0]>I[0]&&o.push(new m(I,_,u,P),new m(_,I,f,P))}o.sort(h);for(var N=o[0].a[0]-(1+Math.abs(o[0].a[0]))*Math.pow(2,-52),k=[new l([N,1],[N,0],-1,[],[])],F=[],P=0,O=o.length;P<O;++P){var z=o[P],B=z.type;B===n?c(F,k,E,z.a,z.idx):B===u?d(k,E,z):b(k,E,z)}return F}},743:function(v,p,r){var t=r(5070);v.exports=u;function s(l,m){this.stars=l,this.edges=m}var n=s.prototype;function f(l,m,h){for(var M=1,c=l.length;M<c;M+=2)if(l[M-1]===m&&l[M]===h){l[M-1]=l[c-2],l[M]=l[c-1],l.length=c-2;return}}n.isConstraint=function(){var l=[0,0];function m(h,M){return h[0]-M[0]||h[1]-M[1]}return function(h,M){return l[0]=Math.min(h,M),l[1]=Math.max(h,M),t.eq(this.edges,l,m)>=0}}(),n.removeTriangle=function(l,m,h){var M=this.stars;f(M[l],m,h),f(M[m],h,l),f(M[h],l,m)},n.addTriangle=function(l,m,h){var M=this.stars;M[l].push(m,h),M[m].push(h,l),M[h].push(l,m)},n.opposite=function(l,m){for(var h=this.stars[m],M=1,c=h.length;M<c;M+=2)if(h[M]===l)return h[M-1];return-1},n.flip=function(l,m){var h=this.opposite(l,m),M=this.opposite(m,l);this.removeTriangle(l,m,h),this.removeTriangle(m,l,M),this.addTriangle(l,M,h),this.addTriangle(m,h,M)},n.edges=function(){for(var l=this.stars,m=[],h=0,M=l.length;h<M;++h)for(var c=l[h],i=0,d=c.length;i<d;i+=2)m.push([c[i],c[i+1]]);return m},n.cells=function(){for(var l=this.stars,m=[],h=0,M=l.length;h<M;++h)for(var c=l[h],i=0,d=c.length;i<d;i+=2){var b=c[i],w=c[i+1];h<Math.min(b,w)&&m.push([h,b,w])}return m};function u(l,m){for(var h=new Array(l),M=0;M<l;++M)h[M]=[];return new s(h,m)}},9887:function(v){v.exports=p;function p(r){for(var t=1,s=1;s<r.length;++s)for(var n=0;n<s;++n)if(r[s]<r[n])t=-t;else if(r[n]===r[s])return 0;return t}},9243:function(v,p,r){var t=r(3094),s=r(6606);function n(l,m){for(var h=0,M=l.length,c=0;c<M;++c)h+=l[c]*m[c];return h}function f(l){var m=l.length;if(m===0)return[];l[0].length;var h=t([l.length+1,l.length+1],1),M=t([l.length+1],1);h[m][m]=0;for(var c=0;c<m;++c){for(var i=0;i<=c;++i)h[i][c]=h[c][i]=2*n(l[c],l[i]);M[c]=n(l[c],l[c])}for(var d=s(h,M),b=0,w=d[m+1],c=0;c<w.length;++c)b+=w[c];for(var E=new Array(m),c=0;c<m;++c){for(var w=d[c],y=0,i=0;i<w.length;++i)y+=w[i];E[c]=y/b}return E}function u(l){if(l.length===0)return[];for(var m=l[0].length,h=t([m]),M=f(l),c=0;c<l.length;++c)for(var i=0;i<m;++i)h[i]+=l[c][i]*M[c];return h}u.barycenetric=f,v.exports=u},1778:function(v,p,r){v.exports=s;var t=r(9243);function s(n){for(var f=t(n),u=0,l=0;l<n.length;++l)for(var m=n[l],h=0;h<f.length;++h)u+=Math.pow(m[h]-f[h],2);return Math.sqrt(u/n.length)}},197:function(v,p,r){v.exports=_;var t=r(1731),s=r(2569),n=r(4434),f=r(5125),u=r(8846),l=r(7999),m=r(2826),h=r(8551),M=r(5528);function c(I){var N=l(I);return[h(N,-1/0),h(N,1/0)]}function i(I,N){for(var k=new Array(N.length),F=0;F<N.length;++F){var O=N[F],z=I[O[0]],B=I[O[1]];k[F]=[h(Math.min(z[0],B[0]),-1/0),h(Math.min(z[1],B[1]),-1/0),h(Math.max(z[0],B[0]),1/0),h(Math.max(z[1],B[1]),1/0)]}return k}function d(I){for(var N=new Array(I.length),k=0;k<I.length;++k){var F=I[k];N[k]=[h(F[0],-1/0),h(F[1],-1/0),h(F[0],1/0),h(F[1],1/0)]}return N}function b(I,N,k){var F=[];return s(k,function(O,z){var B=N[O],W=N[z];if(!(B[0]===W[0]||B[0]===W[1]||B[1]===W[0]||B[1]===W[1])){var q=I[B[0]],ee=I[B[1]],Q=I[W[0]],oe=I[W[1]];n(q,ee,Q,oe)&&F.push([O,z])}}),F}function w(I,N,k,F){var O=[];return s(k,F,function(z,B){var W=N[z];if(!(W[0]===B||W[1]===B)){var q=I[B],ee=I[W[0]],Q=I[W[1]];n(ee,Q,q,q)&&O.push([z,B])}}),O}function E(I,N,k,F,O){var z,B,W=I.map(function(Ae){return[f(Ae[0]),f(Ae[1])]});for(z=0;z<k.length;++z){var q=k[z];B=q[0];var ee=q[1],Q=N[B],oe=N[ee],Z=M(m(I[Q[0]]),m(I[Q[1]]),m(I[oe[0]]),m(I[oe[1]]));if(!!Z){var Y=I.length;I.push([l(Z[0]),l(Z[1])]),W.push(Z),F.push([B,Y],[ee,Y])}}for(F.sort(function(Ae,be){if(Ae[0]!==be[0])return Ae[0]-be[0];var Re=W[Ae[1]],xe=W[be[1]];return u(Re[0],xe[0])||u(Re[1],xe[1])}),z=F.length-1;z>=0;--z){var te=F[z];B=te[0];var X=N[B],$=X[0],ie=X[1],J=I[$],j=I[ie];if((J[0]-j[0]||J[1]-j[1])<0){var se=$;$=ie,ie=se}X[0]=$;var ne=X[1]=te[1],le;for(O&&(le=X[2]);z>0&&F[z-1][0]===B;){var te=F[--z],pe=te[1];O?N.push([ne,pe,le]):N.push([ne,pe]),ne=pe}O?N.push([ne,ie,le]):N.push([ne,ie])}return W}function y(I,N,k){for(var F=N.length,O=new t(F),z=[],B=0;B<N.length;++B){var W=N[B],q=c(W[0]),ee=c(W[1]);z.push([h(q[0],-1/0),h(ee[0],-1/0),h(q[1],1/0),h(ee[1],1/0)])}s(z,function(te,X){O.link(te,X)});for(var Q=!0,oe=new Array(F),B=0;B<F;++B){var Z=O.find(B);Z!==B&&(Q=!1,I[Z]=[Math.min(I[B][0],I[Z][0]),Math.min(I[B][1],I[Z][1])])}if(Q)return null;for(var Y=0,B=0;B<F;++B){var Z=O.find(B);Z===B?(oe[B]=Y,I[Y++]=I[B]):oe[B]=-1}I.length=Y;for(var B=0;B<F;++B)oe[B]<0&&(oe[B]=oe[O.find(B)]);return oe}function S(I,N){return I[0]-N[0]||I[1]-N[1]}function T(I,N){var k=I[0]-N[0]||I[1]-N[1];return k||(I[2]<N[2]?-1:I[2]>N[2]?1:0)}function o(I,N,k){if(I.length!==0){if(N)for(var F=0;F<I.length;++F){var O=I[F],z=N[O[0]],B=N[O[1]];O[0]=Math.min(z,B),O[1]=Math.max(z,B)}else for(var F=0;F<I.length;++F){var O=I[F],z=O[0],B=O[1];O[0]=Math.min(z,B),O[1]=Math.max(z,B)}k?I.sort(T):I.sort(S);for(var W=1,F=1;F<I.length;++F){var q=I[F-1],ee=I[F];ee[0]===q[0]&&ee[1]===q[1]&&(!k||ee[2]===q[2])||(I[W++]=ee)}I.length=W}}function P(I,N,k){var F=y(I,[],d(I));return o(N,F,k),!!F}function x(I,N,k){var F=i(I,N),O=b(I,N,F),z=d(I),B=w(I,N,F,z),W=E(I,N,O,B,k),q=y(I,W);return o(N,q,k),q?!0:O.length>0||B.length>0}function _(I,N,k){var F;if(k){F=N;for(var O=new Array(N.length),z=0;z<N.length;++z){var B=N[z];O[z]=[B[0],B[1],k[z]]}N=O}for(var W=P(I,N,!!k);x(I,N,!!k);)W=!0;if(!!k&&W){F.length=0,k.length=0;for(var z=0;z<N.length;++z){var B=N[z];F.push([B[0],B[1]]),k.push(B[2])}}return W}},5528:function(v,p,r){v.exports=M;var t=r(3962),s=r(9189),n=r(4354),f=r(4951),u=r(6695),l=r(7584),m=r(4469);function h(c,i){return n(t(c[0],i[1]),t(c[1],i[0]))}function M(c,i,d,b){var w=u(i,c),E=u(b,d),y=h(w,E);if(f(y)===0)return null;var S=u(c,d),T=h(E,S),o=s(T,y),P=m(w,o),x=l(c,P);return x}},5692:function(v){v.exports={jet:[{index:0,rgb:[0,0,131]},{index:.125,rgb:[0,60,170]},{index:.375,rgb:[5,255,255]},{index:.625,rgb:[255,255,0]},{index:.875,rgb:[250,0,0]},{index:1,rgb:[128,0,0]}],hsv:[{index:0,rgb:[255,0,0]},{index:.169,rgb:[253,255,2]},{index:.173,rgb:[247,255,2]},{index:.337,rgb:[0,252,4]},{index:.341,rgb:[0,252,10]},{index:.506,rgb:[1,249,255]},{index:.671,rgb:[2,0,253]},{index:.675,rgb:[8,0,253]},{index:.839,rgb:[255,0,251]},{index:.843,rgb:[255,0,245]},{index:1,rgb:[255,0,6]}],hot:[{index:0,rgb:[0,0,0]},{index:.3,rgb:[230,0,0]},{index:.6,rgb:[255,210,0]},{index:1,rgb:[255,255,255]}],spring:[{index:0,rgb:[255,0,255]},{index:1,rgb:[255,255,0]}],summer:[{index:0,rgb:[0,128,102]},{index:1,rgb:[255,255,102]}],autumn:[{index:0,rgb:[255,0,0]},{index:1,rgb:[255,255,0]}],winter:[{index:0,rgb:[0,0,255]},{index:1,rgb:[0,255,128]}],bone:[{index:0,rgb:[0,0,0]},{index:.376,rgb:[84,84,116]},{index:.753,rgb:[169,200,200]},{index:1,rgb:[255,255,255]}],copper:[{index:0,rgb:[0,0,0]},{index:.804,rgb:[255,160,102]},{index:1,rgb:[255,199,127]}],greys:[{index:0,rgb:[0,0,0]},{index:1,rgb:[255,255,255]}],yignbu:[{index:0,rgb:[8,29,88]},{index:.125,rgb:[37,52,148]},{index:.25,rgb:[34,94,168]},{index:.375,rgb:[29,145,192]},{index:.5,rgb:[65,182,196]},{index:.625,rgb:[127,205,187]},{index:.75,rgb:[199,233,180]},{index:.875,rgb:[237,248,217]},{index:1,rgb:[255,255,217]}],greens:[{index:0,rgb:[0,68,27]},{index:.125,rgb:[0,109,44]},{index:.25,rgb:[35,139,69]},{index:.375,rgb:[65,171,93]},{index:.5,rgb:[116,196,118]},{index:.625,rgb:[161,217,155]},{index:.75,rgb:[199,233,192]},{index:.875,rgb:[229,245,224]},{index:1,rgb:[247,252,245]}],yiorrd:[{index:0,rgb:[128,0,38]},{index:.125,rgb:[189,0,38]},{index:.25,rgb:[227,26,28]},{index:.375,rgb:[252,78,42]},{index:.5,rgb:[253,141,60]},{index:.625,rgb:[254,178,76]},{index:.75,rgb:[254,217,118]},{index:.875,rgb:[255,237,160]},{index:1,rgb:[255,255,204]}],bluered:[{index:0,rgb:[0,0,255]},{index:1,rgb:[255,0,0]}],rdbu:[{index:0,rgb:[5,10,172]},{index:.35,rgb:[106,137,247]},{index:.5,rgb:[190,190,190]},{index:.6,rgb:[220,170,132]},{index:.7,rgb:[230,145,90]},{index:1,rgb:[178,10,28]}],picnic:[{index:0,rgb:[0,0,255]},{index:.1,rgb:[51,153,255]},{index:.2,rgb:[102,204,255]},{index:.3,rgb:[153,204,255]},{index:.4,rgb:[204,204,255]},{index:.5,rgb:[255,255,255]},{index:.6,rgb:[255,204,255]},{index:.7,rgb:[255,153,255]},{index:.8,rgb:[255,102,204]},{index:.9,rgb:[255,102,102]},{index:1,rgb:[255,0,0]}],rainbow:[{index:0,rgb:[150,0,90]},{index:.125,rgb:[0,0,200]},{index:.25,rgb:[0,25,255]},{index:.375,rgb:[0,152,255]},{index:.5,rgb:[44,255,150]},{index:.625,rgb:[151,255,0]},{index:.75,rgb:[255,234,0]},{index:.875,rgb:[255,111,0]},{index:1,rgb:[255,0,0]}],portland:[{index:0,rgb:[12,51,131]},{index:.25,rgb:[10,136,186]},{index:.5,rgb:[242,211,56]},{index:.75,rgb:[242,143,56]},{index:1,rgb:[217,30,30]}],blackbody:[{index:0,rgb:[0,0,0]},{index:.2,rgb:[230,0,0]},{index:.4,rgb:[230,210,0]},{index:.7,rgb:[255,255,255]},{index:1,rgb:[160,200,255]}],earth:[{index:0,rgb:[0,0,130]},{index:.1,rgb:[0,180,180]},{index:.2,rgb:[40,210,40]},{index:.4,rgb:[230,230,50]},{index:.6,rgb:[120,70,20]},{index:1,rgb:[255,255,255]}],electric:[{index:0,rgb:[0,0,0]},{index:.15,rgb:[30,0,100]},{index:.4,rgb:[120,0,100]},{index:.6,rgb:[160,90,0]},{index:.8,rgb:[230,200,0]},{index:1,rgb:[255,250,220]}],alpha:[{index:0,rgb:[255,255,255,0]},{index:1,rgb:[255,255,255,1]}],viridis:[{index:0,rgb:[68,1,84]},{index:.13,rgb:[71,44,122]},{index:.25,rgb:[59,81,139]},{index:.38,rgb:[44,113,142]},{index:.5,rgb:[33,144,141]},{index:.63,rgb:[39,173,129]},{index:.75,rgb:[92,200,99]},{index:.88,rgb:[170,220,50]},{index:1,rgb:[253,231,37]}],inferno:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[31,12,72]},{index:.25,rgb:[85,15,109]},{index:.38,rgb:[136,34,106]},{index:.5,rgb:[186,54,85]},{index:.63,rgb:[227,89,51]},{index:.75,rgb:[249,140,10]},{index:.88,rgb:[249,201,50]},{index:1,rgb:[252,255,164]}],magma:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[28,16,68]},{index:.25,rgb:[79,18,123]},{index:.38,rgb:[129,37,129]},{index:.5,rgb:[181,54,122]},{index:.63,rgb:[229,80,100]},{index:.75,rgb:[251,135,97]},{index:.88,rgb:[254,194,135]},{index:1,rgb:[252,253,191]}],plasma:[{index:0,rgb:[13,8,135]},{index:.13,rgb:[75,3,161]},{index:.25,rgb:[125,3,168]},{index:.38,rgb:[168,34,150]},{index:.5,rgb:[203,70,121]},{index:.63,rgb:[229,107,93]},{index:.75,rgb:[248,148,65]},{index:.88,rgb:[253,195,40]},{index:1,rgb:[240,249,33]}],warm:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[172,0,187]},{index:.25,rgb:[219,0,170]},{index:.38,rgb:[255,0,130]},{index:.5,rgb:[255,63,74]},{index:.63,rgb:[255,123,0]},{index:.75,rgb:[234,176,0]},{index:.88,rgb:[190,228,0]},{index:1,rgb:[147,255,0]}],cool:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[116,0,218]},{index:.25,rgb:[98,74,237]},{index:.38,rgb:[68,146,231]},{index:.5,rgb:[0,204,197]},{index:.63,rgb:[0,247,146]},{index:.75,rgb:[0,255,88]},{index:.88,rgb:[40,255,8]},{index:1,rgb:[147,255,0]}],"rainbow-soft":[{index:0,rgb:[125,0,179]},{index:.1,rgb:[199,0,180]},{index:.2,rgb:[255,0,121]},{index:.3,rgb:[255,108,0]},{index:.4,rgb:[222,194,0]},{index:.5,rgb:[150,255,0]},{index:.6,rgb:[0,255,55]},{index:.7,rgb:[0,246,150]},{index:.8,rgb:[50,167,222]},{index:.9,rgb:[103,51,235]},{index:1,rgb:[124,0,186]}],bathymetry:[{index:0,rgb:[40,26,44]},{index:.13,rgb:[59,49,90]},{index:.25,rgb:[64,76,139]},{index:.38,rgb:[63,110,151]},{index:.5,rgb:[72,142,158]},{index:.63,rgb:[85,174,163]},{index:.75,rgb:[120,206,163]},{index:.88,rgb:[187,230,172]},{index:1,rgb:[253,254,204]}],cdom:[{index:0,rgb:[47,15,62]},{index:.13,rgb:[87,23,86]},{index:.25,rgb:[130,28,99]},{index:.38,rgb:[171,41,96]},{index:.5,rgb:[206,67,86]},{index:.63,rgb:[230,106,84]},{index:.75,rgb:[242,149,103]},{index:.88,rgb:[249,193,135]},{index:1,rgb:[254,237,176]}],chlorophyll:[{index:0,rgb:[18,36,20]},{index:.13,rgb:[25,63,41]},{index:.25,rgb:[24,91,59]},{index:.38,rgb:[13,119,72]},{index:.5,rgb:[18,148,80]},{index:.63,rgb:[80,173,89]},{index:.75,rgb:[132,196,122]},{index:.88,rgb:[175,221,162]},{index:1,rgb:[215,249,208]}],density:[{index:0,rgb:[54,14,36]},{index:.13,rgb:[89,23,80]},{index:.25,rgb:[110,45,132]},{index:.38,rgb:[120,77,178]},{index:.5,rgb:[120,113,213]},{index:.63,rgb:[115,151,228]},{index:.75,rgb:[134,185,227]},{index:.88,rgb:[177,214,227]},{index:1,rgb:[230,241,241]}],"freesurface-blue":[{index:0,rgb:[30,4,110]},{index:.13,rgb:[47,14,176]},{index:.25,rgb:[41,45,236]},{index:.38,rgb:[25,99,212]},{index:.5,rgb:[68,131,200]},{index:.63,rgb:[114,156,197]},{index:.75,rgb:[157,181,203]},{index:.88,rgb:[200,208,216]},{index:1,rgb:[241,237,236]}],"freesurface-red":[{index:0,rgb:[60,9,18]},{index:.13,rgb:[100,17,27]},{index:.25,rgb:[142,20,29]},{index:.38,rgb:[177,43,27]},{index:.5,rgb:[192,87,63]},{index:.63,rgb:[205,125,105]},{index:.75,rgb:[216,162,148]},{index:.88,rgb:[227,199,193]},{index:1,rgb:[241,237,236]}],oxygen:[{index:0,rgb:[64,5,5]},{index:.13,rgb:[106,6,15]},{index:.25,rgb:[144,26,7]},{index:.38,rgb:[168,64,3]},{index:.5,rgb:[188,100,4]},{index:.63,rgb:[206,136,11]},{index:.75,rgb:[220,174,25]},{index:.88,rgb:[231,215,44]},{index:1,rgb:[248,254,105]}],par:[{index:0,rgb:[51,20,24]},{index:.13,rgb:[90,32,35]},{index:.25,rgb:[129,44,34]},{index:.38,rgb:[159,68,25]},{index:.5,rgb:[182,99,19]},{index:.63,rgb:[199,134,22]},{index:.75,rgb:[212,171,35]},{index:.88,rgb:[221,210,54]},{index:1,rgb:[225,253,75]}],phase:[{index:0,rgb:[145,105,18]},{index:.13,rgb:[184,71,38]},{index:.25,rgb:[186,58,115]},{index:.38,rgb:[160,71,185]},{index:.5,rgb:[110,97,218]},{index:.63,rgb:[50,123,164]},{index:.75,rgb:[31,131,110]},{index:.88,rgb:[77,129,34]},{index:1,rgb:[145,105,18]}],salinity:[{index:0,rgb:[42,24,108]},{index:.13,rgb:[33,50,162]},{index:.25,rgb:[15,90,145]},{index:.38,rgb:[40,118,137]},{index:.5,rgb:[59,146,135]},{index:.63,rgb:[79,175,126]},{index:.75,rgb:[120,203,104]},{index:.88,rgb:[193,221,100]},{index:1,rgb:[253,239,154]}],temperature:[{index:0,rgb:[4,35,51]},{index:.13,rgb:[23,51,122]},{index:.25,rgb:[85,59,157]},{index:.38,rgb:[129,79,143]},{index:.5,rgb:[175,95,130]},{index:.63,rgb:[222,112,101]},{index:.75,rgb:[249,146,66]},{index:.88,rgb:[249,196,65]},{index:1,rgb:[232,250,91]}],turbidity:[{index:0,rgb:[34,31,27]},{index:.13,rgb:[65,50,41]},{index:.25,rgb:[98,69,52]},{index:.38,rgb:[131,89,57]},{index:.5,rgb:[161,112,59]},{index:.63,rgb:[185,140,66]},{index:.75,rgb:[202,174,88]},{index:.88,rgb:[216,209,126]},{index:1,rgb:[233,246,171]}],"velocity-blue":[{index:0,rgb:[17,32,64]},{index:.13,rgb:[35,52,116]},{index:.25,rgb:[29,81,156]},{index:.38,rgb:[31,113,162]},{index:.5,rgb:[50,144,169]},{index:.63,rgb:[87,173,176]},{index:.75,rgb:[149,196,189]},{index:.88,rgb:[203,221,211]},{index:1,rgb:[254,251,230]}],"velocity-green":[{index:0,rgb:[23,35,19]},{index:.13,rgb:[24,64,38]},{index:.25,rgb:[11,95,45]},{index:.38,rgb:[39,123,35]},{index:.5,rgb:[95,146,12]},{index:.63,rgb:[152,165,18]},{index:.75,rgb:[201,186,69]},{index:.88,rgb:[233,216,137]},{index:1,rgb:[255,253,205]}],cubehelix:[{index:0,rgb:[0,0,0]},{index:.07,rgb:[22,5,59]},{index:.13,rgb:[60,4,105]},{index:.2,rgb:[109,1,135]},{index:.27,rgb:[161,0,147]},{index:.33,rgb:[210,2,142]},{index:.4,rgb:[251,11,123]},{index:.47,rgb:[255,29,97]},{index:.53,rgb:[255,54,69]},{index:.6,rgb:[255,85,46]},{index:.67,rgb:[255,120,34]},{index:.73,rgb:[255,157,37]},{index:.8,rgb:[241,191,57]},{index:.87,rgb:[224,220,93]},{index:.93,rgb:[218,241,142]},{index:1,rgb:[227,253,198]}]}},9156:function(v,p,r){var t=r(5692),s=r(3578);v.exports=n;function n(m){var h,M,c,i,d,b,w,E,o,y,S;if(m||(m={}),E=(m.nshades||72)-1,w=m.format||"hex",b=m.colormap,b||(b="jet"),typeof b=="string"){if(b=b.toLowerCase(),!t[b])throw Error(b+" not a supported colorscale");d=t[b]}else if(Array.isArray(b))d=b.slice();else throw Error("unsupported colormap option",b);if(d.length>E+1)throw new Error(b+" map requires nshades to be at least size "+d.length);Array.isArray(m.alpha)?m.alpha.length!==2?y=[1,1]:y=m.alpha.slice():typeof m.alpha=="number"?y=[m.alpha,m.alpha]:y=[1,1],h=d.map(function(_){return Math.round(_.index*E)}),y[0]=Math.min(Math.max(y[0],0),1),y[1]=Math.min(Math.max(y[1],0),1);var T=d.map(function(_,I){var N=d[I].index,k=d[I].rgb.slice();return k.length===4&&k[3]>=0&&k[3]<=1||(k[3]=y[0]+(y[1]-y[0])*N),k}),o=[];for(S=0;S<h.length-1;++S){i=h[S+1]-h[S],M=T[S],c=T[S+1];for(var P=0;P<i;P++){var x=P/i;o.push([Math.round(s(M[0],c[0],x)),Math.round(s(M[1],c[1],x)),Math.round(s(M[2],c[2],x)),s(M[3],c[3],x)])}}return o.push(d[d.length-1].rgb.concat(y[1])),w==="hex"?o=o.map(u):w==="rgbaString"?o=o.map(l):w==="float"&&(o=o.map(f)),o}function f(m){return[m[0]/255,m[1]/255,m[2]/255,m[3]]}function u(m){for(var h,M="#",c=0;c<3;++c)h=m[c],h=h.toString(16),M+=("00"+h).substr(h.length);return M}function l(m){return"rgba("+m.join(",")+")"}},9398:function(v,p,r){v.exports=m;var t=r(417),s=r(7538),n=r(87),f=r(2019),u=r(9662);function l(h,M,c){var i=n(h[0],-M[0]),d=n(h[1],-M[1]),b=n(c[0],-M[0]),w=n(c[1],-M[1]),E=u(f(i,b),f(d,w));return E[E.length-1]>=0}function m(h,M,c,i){var d=t(M,c,i);if(d===0){var b=s(t(h,M,c)),w=s(t(h,M,i));if(b===w){if(b===0){var E=l(h,M,c),y=l(h,M,i);return E===y?0:E?1:-1}return 0}else{if(w===0)return b>0||l(h,M,i)?-1:1;if(b===0)return w>0||l(h,M,c)?1:-1}return s(w-b)}var S=t(h,M,c);if(S>0)return d>0&&t(h,M,i)>0?1:-1;if(S<0)return d>0||t(h,M,i)>0?1:-1;var T=t(h,M,i);return T>0||l(h,M,c)?1:-1}},7538:function(v){v.exports=function(r){return r<0?-1:r>0?1:0}},9209:function(v){v.exports=t;var p=Math.min;function r(s,n){return s-n}function t(s,n){var f=s.length,u=s.length-n.length;if(u)return u;switch(f){case 0:return 0;case 1:return s[0]-n[0];case 2:return s[0]+s[1]-n[0]-n[1]||p(s[0],s[1])-p(n[0],n[1]);case 3:var l=s[0]+s[1],m=n[0]+n[1];if(u=l+s[2]-(m+n[2]),u)return u;var h=p(s[0],s[1]),M=p(n[0],n[1]);return p(h,s[2])-p(M,n[2])||p(h+s[2],l)-p(M+n[2],m);case 4:var c=s[0],i=s[1],d=s[2],b=s[3],w=n[0],E=n[1],y=n[2],S=n[3];return c+i+d+b-(w+E+y+S)||p(c,i,d,b)-p(w,E,y,S,w)||p(c+i,c+d,c+b,i+d,i+b,d+b)-p(w+E,w+y,w+S,E+y,E+S,y+S)||p(c+i+d,c+i+b,c+d+b,i+d+b)-p(w+E+y,w+E+S,w+y+S,E+y+S);default:for(var T=s.slice().sort(r),o=n.slice().sort(r),P=0;P<f;++P)if(u=T[P]-o[P],u)return u;return 0}}},1284:function(v,p,r){var t=r(9209),s=r(9887);v.exports=n;function n(f,u){return t(f,u)||s(f)-s(u)}},5537:function(v,p,r){var t=r(8950),s=r(8722),n=r(3332);v.exports=f;function f(u){var l=u.length;if(l===0)return[];if(l===1)return[[0]];var m=u[0].length;return m===0?[]:m===1?t(u):m===2?s(u):n(u,m)}},8950:function(v){v.exports=p;function p(r){for(var t=0,s=0,n=1;n<r.length;++n)r[n][0]<r[t][0]&&(t=n),r[n][0]>r[s][0]&&(s=n);return t<s?[[t],[s]]:t>s?[[s],[t]]:[[t]]}},8722:function(v,p,r){v.exports=s;var t=r(3266);function s(n){var f=t(n),u=f.length;if(u<=2)return[];for(var l=new Array(u),m=f[u-1],h=0;h<u;++h){var M=f[h];l[h]=[m,M],m=M}return l}},3332:function(v,p,r){v.exports=u;var t=r(2183),s=r(2153);function n(l,m){for(var h=l.length,M=new Array(h),c=0;c<m.length;++c)M[c]=l[m[c]];for(var i=m.length,c=0;c<h;++c)m.indexOf(c)<0&&(M[i++]=l[c]);return M}function f(l,m){for(var h=l.length,M=m.length,c=0;c<h;++c)for(var i=l[c],d=0;d<i.length;++d){var b=i[d];if(b<M)i[d]=m[b];else{b=b-M;for(var w=0;w<M;++w)b>=m[w]&&(b+=1);i[d]=b}}return l}function u(l,m){try{return t(l,!0)}catch{var h=s(l);if(h.length<=m)return[];var M=n(l,h),c=t(M,!0);return f(c,h)}}},9680:function(v){function p(t,s,n,f,u,l){var m=6*u*u-6*u,h=3*u*u-4*u+1,M=-6*u*u+6*u,c=3*u*u-2*u;if(t.length){l||(l=new Array(t.length));for(var i=t.length-1;i>=0;--i)l[i]=m*t[i]+h*s[i]+M*n[i]+c*f[i];return l}return m*t+h*s+M*n[i]+c*f}function r(t,s,n,f,u,l){var m=u-1,h=u*u,M=m*m,c=(1+2*u)*M,i=u*M,d=h*(3-2*u),b=h*m;if(t.length){l||(l=new Array(t.length));for(var w=t.length-1;w>=0;--w)l[w]=c*t[w]+i*s[w]+d*n[w]+b*f[w];return l}return c*t+i*s+d*n+b*f}v.exports=r,v.exports.derivative=p},4419:function(v,p,r){var t=r(2183),s=r(1215);v.exports=l;function n(m,h){this.point=m,this.index=h}function f(m,h){for(var M=m.point,c=h.point,i=M.length,d=0;d<i;++d){var b=c[d]-M[d];if(b)return b}return 0}function u(m,h,M){if(m===1)return M?[[-1,0]]:[];var c=h.map(function(E,y){return[E[0],y]});c.sort(function(E,y){return E[0]-y[0]});for(var i=new Array(m-1),d=1;d<m;++d){var b=c[d-1],w=c[d];i[d-1]=[b[1],w[1]]}return M&&i.push([-1,i[0][1]],[i[m-1][1],-1]),i}function l(m,h){var M=m.length;if(M===0)return[];var c=m[0].length;if(c<1)return[];if(c===1)return u(M,m,h);for(var i=new Array(M),d=1,b=0;b<M;++b){for(var w=m[b],E=new Array(c+1),y=0,S=0;S<c;++S){var T=w[S];E[S]=T,y+=T*T}E[c]=y,i[b]=new n(E,b),d=Math.max(y,d)}s(i,f),M=i.length;for(var o=new Array(M+c+1),P=new Array(M+c+1),x=(c+1)*(c+1)*d,_=new Array(c+1),b=0;b<=c;++b)_[b]=0;_[c]=x,o[0]=_.slice(),P[0]=-1;for(var b=0;b<=c;++b){var E=_.slice();E[b]=1,o[b+1]=E,P[b+1]=-1}for(var b=0;b<M;++b){var I=i[b];o[b+c+1]=I.point,P[b+c+1]=I.index}var N=t(o,!1);if(h?N=N.filter(function(k){for(var F=0,O=0;O<=c;++O){var z=P[k[O]];if(z<0&&++F>=2)return!1;k[O]=z}return!0}):N=N.filter(function(k){for(var F=0;F<=c;++F){var O=P[k[F]];if(O<0)return!1;k[F]=O}return!0}),c&1)for(var b=0;b<N.length;++b){var I=N[b],E=I[0];I[0]=I[1],I[1]=E}return N}},8362:function(v){var p=!1;if(typeof Float64Array!="undefined"){var r=new Float64Array(1),t=new Uint32Array(r.buffer);if(r[0]=1,p=!0,t[1]===1072693248){let n=function(l,m){return t[0]=l,t[1]=m,r[0]},f=function(l){return r[0]=l,t[0]},u=function(l){return r[0]=l,t[1]};v.exports=function(m){return r[0]=m,[t[0],t[1]]},v.exports.pack=n,v.exports.lo=f,v.exports.hi=u}else if(t[0]===1072693248){let n=function(l,m){return t[1]=l,t[0]=m,r[0]},f=function(l){return r[0]=l,t[1]},u=function(l){return r[0]=l,t[0]};v.exports=function(m){return r[0]=m,[t[1],t[0]]},v.exports.pack=n,v.exports.lo=f,v.exports.hi=u}else p=!1}if(!p){let n=function(l,m){return s.writeUInt32LE(l,0,!0),s.writeUInt32LE(m,4,!0),s.readDoubleLE(0,!0)},f=function(l){return s.writeDoubleLE(l,0,!0),s.readUInt32LE(0,!0)},u=function(l){return s.writeDoubleLE(l,0,!0),s.readUInt32LE(4,!0)};var s=new Buffer(8);v.exports=function(m){return s.writeDoubleLE(m,0,!0),[s.readUInt32LE(0,!0),s.readUInt32LE(4,!0)]},v.exports.pack=n,v.exports.lo=f,v.exports.hi=u}v.exports.sign=function(n){return v.exports.hi(n)>>>31},v.exports.exponent=function(n){var f=v.exports.hi(n);return(f<<1>>>21)-1023},v.exports.fraction=function(n){var f=v.exports.lo(n),u=v.exports.hi(n),l=u&(1<<20)-1;return u&2146435072&&(l+=1048576),[f,l]},v.exports.denormalized=function(n){var f=v.exports.hi(n);return!(f&2146435072)}},3094:function(v){function p(s,n,f){var u=s[f]|0;if(u<=0)return[];var l=new Array(u),m;if(f===s.length-1)for(m=0;m<u;++m)l[m]=n;else for(m=0;m<u;++m)l[m]=p(s,n,f+1);return l}function r(s,n){var f,u;for(f=new Array(s),u=0;u<s;++u)f[u]=n;return f}function t(s,n){switch(typeof n=="undefined"&&(n=0),typeof s){case"number":if(s>0)return r(s|0,n);break;case"object":if(typeof s.length=="number")return p(s,n,0);break}return[]}v.exports=t},8348:function(v,p,r){v.exports=s;var t=r(1215);function s(n,f){var u=n.length;if(typeof f!="number"){f=0;for(var l=0;l<u;++l){var m=n[l];f=Math.max(f,m[0],m[1])}f=(f|0)+1}f=f|0;for(var h=new Array(f),l=0;l<f;++l)h[l]=[];for(var l=0;l<u;++l){var m=n[l];h[m[0]].push(m[1]),h[m[1]].push(m[0])}for(var M=0;M<f;++M)t(h[M],function(c,i){return c-i});return h}},5795:function(v){v.exports=p;function p(r,t,s){var n=t||0,f=s||1;return[[r[12]+r[0],r[13]+r[1],r[14]+r[2],r[15]+r[3]],[r[12]-r[0],r[13]-r[1],r[14]-r[2],r[15]-r[3]],[r[12]+r[4],r[13]+r[5],r[14]+r[6],r[15]+r[7]],[r[12]-r[4],r[13]-r[5],r[14]-r[6],r[15]-r[7]],[n*r[12]+r[8],n*r[13]+r[9],n*r[14]+r[10],n*r[15]+r[11]],[f*r[12]-r[8],f*r[13]-r[9],f*r[14]-r[10],f*r[15]-r[11]]]}},8444:function(v,p,r){v.exports=m;var t=r(9680),s=r(5070);function n(h,M,c){return Math.min(M,Math.max(h,c))}function f(h,M,c){this.dimension=h.length,this.bounds=[new Array(this.dimension),new Array(this.dimension)];for(var i=0;i<this.dimension;++i)this.bounds[0][i]=-1/0,this.bounds[1][i]=1/0;this._state=h.slice().reverse(),this._velocity=M.slice().reverse(),this._time=[c],this._scratch=[h.slice(),h.slice(),h.slice(),h.slice(),h.slice()]}var u=f.prototype;u.flush=function(h){var M=s.gt(this._time,h)-1;M<=0||(this._time.splice(0,M),this._state.splice(0,M*this.dimension),this._velocity.splice(0,M*this.dimension))},u.curve=function(h){var M=this._time,c=M.length,i=s.le(M,h),d=this._scratch[0],b=this._state,w=this._velocity,E=this.dimension,y=this.bounds;if(i<0)for(var S=E-1,T=0;T<E;++T,--S)d[T]=b[S];else if(i>=c-1)for(var S=b.length-1,o=h-M[c-1],T=0;T<E;++T,--S)d[T]=b[S]+o*w[S];else{for(var S=E*(i+1)-1,P=M[i],x=M[i+1],_=x-P||1,I=this._scratch[1],N=this._scratch[2],k=this._scratch[3],F=this._scratch[4],O=!0,T=0;T<E;++T,--S)I[T]=b[S],k[T]=w[S]*_,N[T]=b[S+E],F[T]=w[S+E]*_,O=O&&I[T]===N[T]&&k[T]===F[T]&&k[T]===0;if(O)for(var T=0;T<E;++T)d[T]=I[T];else t(I,k,N,F,(h-P)/_,d)}for(var z=y[0],B=y[1],T=0;T<E;++T)d[T]=n(z[T],B[T],d[T]);return d},u.dcurve=function(h){var M=this._time,c=M.length,i=s.le(M,h),d=this._scratch[0],b=this._state,w=this._velocity,E=this.dimension;if(i>=c-1){var y=b.length-1;h-M[c-1];for(var S=0;S<E;++S,--y)d[S]=w[y]}else{for(var y=E*(i+1)-1,T=M[i],o=M[i+1],P=o-T||1,x=this._scratch[1],_=this._scratch[2],I=this._scratch[3],N=this._scratch[4],k=!0,S=0;S<E;++S,--y)x[S]=b[y],I[S]=w[y]*P,_[S]=b[y+E],N[S]=w[y+E]*P,k=k&&x[S]===_[S]&&I[S]===N[S]&&I[S]===0;if(k)for(var S=0;S<E;++S)d[S]=0;else{t.derivative(x,I,_,N,(h-T)/P,d);for(var S=0;S<E;++S)d[S]/=P}}return d},u.lastT=function(){var h=this._time;return h[h.length-1]},u.stable=function(){for(var h=this._velocity,M=h.length,c=this.dimension-1;c>=0;--c)if(h[--M])return!1;return!0},u.jump=function(h){var M=this.lastT(),c=this.dimension;if(!(h<M||arguments.length!==c+1)){var i=this._state,d=this._velocity,b=i.length-this.dimension,w=this.bounds,E=w[0],y=w[1];this._time.push(M,h);for(var S=0;S<2;++S)for(var T=0;T<c;++T)i.push(i[b++]),d.push(0);this._time.push(h);for(var T=c;T>0;--T)i.push(n(E[T-1],y[T-1],arguments[T])),d.push(0)}},u.push=function(h){var M=this.lastT(),c=this.dimension;if(!(h<M||arguments.length!==c+1)){var i=this._state,d=this._velocity,b=i.length-this.dimension,w=h-M,E=this.bounds,y=E[0],S=E[1],T=w>1e-6?1/w:0;this._time.push(h);for(var o=c;o>0;--o){var P=n(y[o-1],S[o-1],arguments[o]);i.push(P),d.push((P-i[b++])*T)}}},u.set=function(h){var M=this.dimension;if(!(h<this.lastT()||arguments.length!==M+1)){var c=this._state,i=this._velocity,d=this.bounds,b=d[0],w=d[1];this._time.push(h);for(var E=M;E>0;--E)c.push(n(b[E-1],w[E-1],arguments[E])),i.push(0)}},u.move=function(h){var M=this.lastT(),c=this.dimension;if(!(h<=M||arguments.length!==c+1)){var i=this._state,d=this._velocity,b=i.length-this.dimension,w=this.bounds,E=w[0],y=w[1],S=h-M,T=S>1e-6?1/S:0;this._time.push(h);for(var o=c;o>0;--o){var P=arguments[o];i.push(n(E[o-1],y[o-1],i[b++]+P)),d.push(P*T)}}},u.idle=function(h){var M=this.lastT();if(!(h<M)){var c=this.dimension,i=this._state,d=this._velocity,b=i.length-c,w=this.bounds,E=w[0],y=w[1],S=h-M;this._time.push(h);for(var T=c-1;T>=0;--T)i.push(n(E[T],y[T],i[b]+S*d[b])),d.push(0),b+=1}};function l(h){for(var M=new Array(h),c=0;c<h;++c)M[c]=0;return M}function m(h,M,c){switch(arguments.length){case 0:return new f([0],[0],0);case 1:if(typeof h=="number"){var i=l(h);return new f(i,i,0)}else return new f(h,l(h.length),0);case 2:if(typeof M=="number"){var i=l(h.length);return new f(h,i,+M)}else c=0;case 3:if(h.length!==M.length)throw new Error("state and velocity lengths must match");return new f(h,M,c)}}},7080:function(v){v.exports=E;var p=0,r=1;function t(y,S,T,o,P,x){this._color=y,this.key=S,this.value=T,this.left=o,this.right=P,this._count=x}function s(y){return new t(y._color,y.key,y.value,y.left,y.right,y._count)}function n(y,S){return new t(y,S.key,S.value,S.left,S.right,S._count)}function f(y){y._count=1+(y.left?y.left._count:0)+(y.right?y.right._count:0)}function u(y,S){this._compare=y,this.root=S}var l=u.prototype;Object.defineProperty(l,"keys",{get:function(){var y=[];return this.forEach(function(S,T){y.push(S)}),y}}),Object.defineProperty(l,"values",{get:function(){var y=[];return this.forEach(function(S,T){y.push(T)}),y}}),Object.defineProperty(l,"length",{get:function(){return this.root?this.root._count:0}}),l.insert=function(y,S){for(var T=this._compare,o=this.root,P=[],x=[];o;){var _=T(y,o.key);P.push(o),x.push(_),_<=0?o=o.left:o=o.right}P.push(new t(p,y,S,null,null,1));for(var I=P.length-2;I>=0;--I){var o=P[I];x[I]<=0?P[I]=new t(o._color,o.key,o.value,P[I+1],o.right,o._count+1):P[I]=new t(o._color,o.key,o.value,o.left,P[I+1],o._count+1)}for(var I=P.length-1;I>1;--I){var N=P[I-1],o=P[I];if(N._color===r||o._color===r)break;var k=P[I-2];if(k.left===N)if(N.left===o){var F=k.right;if(F&&F._color===p)N._color=r,k.right=n(r,F),k._color=p,I-=1;else{if(k._color=p,k.left=N.right,N._color=r,N.right=k,P[I-2]=N,P[I-1]=o,f(k),f(N),I>=3){var O=P[I-3];O.left===k?O.left=N:O.right=N}break}}else{var F=k.right;if(F&&F._color===p)N._color=r,k.right=n(r,F),k._color=p,I-=1;else{if(N.right=o.left,k._color=p,k.left=o.right,o._color=r,o.left=N,o.right=k,P[I-2]=o,P[I-1]=N,f(k),f(N),f(o),I>=3){var O=P[I-3];O.left===k?O.left=o:O.right=o}break}}else if(N.right===o){var F=k.left;if(F&&F._color===p)N._color=r,k.left=n(r,F),k._color=p,I-=1;else{if(k._color=p,k.right=N.left,N._color=r,N.left=k,P[I-2]=N,P[I-1]=o,f(k),f(N),I>=3){var O=P[I-3];O.right===k?O.right=N:O.left=N}break}}else{var F=k.left;if(F&&F._color===p)N._color=r,k.left=n(r,F),k._color=p,I-=1;else{if(N.left=o.right,k._color=p,k.right=o.left,o._color=r,o.right=N,o.left=k,P[I-2]=o,P[I-1]=N,f(k),f(N),f(o),I>=3){var O=P[I-3];O.right===k?O.right=o:O.left=o}break}}}return P[0]._color=r,new u(T,P[0])};function m(y,S){if(S.left){var T=m(y,S.left);if(T)return T}var T=y(S.key,S.value);if(T)return T;if(S.right)return m(y,S.right)}function h(y,S,T,o){var P=S(y,o.key);if(P<=0){if(o.left){var x=h(y,S,T,o.left);if(x)return x}var x=T(o.key,o.value);if(x)return x}if(o.right)return h(y,S,T,o.right)}function M(y,S,T,o,P){var x=T(y,P.key),_=T(S,P.key),I;if(x<=0&&(P.left&&(I=M(y,S,T,o,P.left),I)||_>0&&(I=o(P.key,P.value),I)))return I;if(_>0&&P.right)return M(y,S,T,o,P.right)}l.forEach=function(S,T,o){if(!!this.root)switch(arguments.length){case 1:return m(S,this.root);case 2:return h(T,this._compare,S,this.root);case 3:return this._compare(T,o)>=0?void 0:M(T,o,this._compare,S,this.root)}},Object.defineProperty(l,"begin",{get:function(){for(var y=[],S=this.root;S;)y.push(S),S=S.left;return new c(this,y)}}),Object.defineProperty(l,"end",{get:function(){for(var y=[],S=this.root;S;)y.push(S),S=S.right;return new c(this,y)}}),l.at=function(y){if(y<0)return new c(this,[]);for(var S=this.root,T=[];;){if(T.push(S),S.left){if(y<S.left._count){S=S.left;continue}y-=S.left._count}if(!y)return new c(this,T);if(y-=1,S.right){if(y>=S.right._count)break;S=S.right}else break}return new c(this,[])},l.ge=function(y){for(var S=this._compare,T=this.root,o=[],P=0;T;){var x=S(y,T.key);o.push(T),x<=0&&(P=o.length),x<=0?T=T.left:T=T.right}return o.length=P,new c(this,o)},l.gt=function(y){for(var S=this._compare,T=this.root,o=[],P=0;T;){var x=S(y,T.key);o.push(T),x<0&&(P=o.length),x<0?T=T.left:T=T.right}return o.length=P,new c(this,o)},l.lt=function(y){for(var S=this._compare,T=this.root,o=[],P=0;T;){var x=S(y,T.key);o.push(T),x>0&&(P=o.length),x<=0?T=T.left:T=T.right}return o.length=P,new c(this,o)},l.le=function(y){for(var S=this._compare,T=this.root,o=[],P=0;T;){var x=S(y,T.key);o.push(T),x>=0&&(P=o.length),x<0?T=T.left:T=T.right}return o.length=P,new c(this,o)},l.find=function(y){for(var S=this._compare,T=this.root,o=[];T;){var P=S(y,T.key);if(o.push(T),P===0)return new c(this,o);P<=0?T=T.left:T=T.right}return new c(this,[])},l.remove=function(y){var S=this.find(y);return S?S.remove():this},l.get=function(y){for(var S=this._compare,T=this.root;T;){var o=S(y,T.key);if(o===0)return T.value;o<=0?T=T.left:T=T.right}};function c(y,S){this.tree=y,this._stack=S}var i=c.prototype;Object.defineProperty(i,"valid",{get:function(){return this._stack.length>0}}),Object.defineProperty(i,"node",{get:function(){return this._stack.length>0?this._stack[this._stack.length-1]:null},enumerable:!0}),i.clone=function(){return new c(this.tree,this._stack.slice())};function d(y,S){y.key=S.key,y.value=S.value,y.left=S.left,y.right=S.right,y._color=S._color,y._count=S._count}function b(y){for(var S,T,o,P,x=y.length-1;x>=0;--x){if(S=y[x],x===0){S._color=r;return}if(T=y[x-1],T.left===S){if(o=T.right,o.right&&o.right._color===p){if(o=T.right=s(o),P=o.right=s(o.right),T.right=o.left,o.left=T,o.right=P,o._color=T._color,S._color=r,T._color=r,P._color=r,f(T),f(o),x>1){var _=y[x-2];_.left===T?_.left=o:_.right=o}y[x-1]=o;return}else if(o.left&&o.left._color===p){if(o=T.right=s(o),P=o.left=s(o.left),T.right=P.left,o.left=P.right,P.left=T,P.right=o,P._color=T._color,T._color=r,o._color=r,S._color=r,f(T),f(o),f(P),x>1){var _=y[x-2];_.left===T?_.left=P:_.right=P}y[x-1]=P;return}if(o._color===r)if(T._color===p){T._color=r,T.right=n(p,o);return}else{T.right=n(p,o);continue}else{if(o=s(o),T.right=o.left,o.left=T,o._color=T._color,T._color=p,f(T),f(o),x>1){var _=y[x-2];_.left===T?_.left=o:_.right=o}y[x-1]=o,y[x]=T,x+1<y.length?y[x+1]=S:y.push(S),x=x+2}}else{if(o=T.left,o.left&&o.left._color===p){if(o=T.left=s(o),P=o.left=s(o.left),T.left=o.right,o.right=T,o.left=P,o._color=T._color,S._color=r,T._color=r,P._color=r,f(T),f(o),x>1){var _=y[x-2];_.right===T?_.right=o:_.left=o}y[x-1]=o;return}else if(o.right&&o.right._color===p){if(o=T.left=s(o),P=o.right=s(o.right),T.left=P.right,o.right=P.left,P.right=T,P.left=o,P._color=T._color,T._color=r,o._color=r,S._color=r,f(T),f(o),f(P),x>1){var _=y[x-2];_.right===T?_.right=P:_.left=P}y[x-1]=P;return}if(o._color===r)if(T._color===p){T._color=r,T.left=n(p,o);return}else{T.left=n(p,o);continue}else{if(o=s(o),T.left=o.right,o.right=T,o._color=T._color,T._color=p,f(T),f(o),x>1){var _=y[x-2];_.right===T?_.right=o:_.left=o}y[x-1]=o,y[x]=T,x+1<y.length?y[x+1]=S:y.push(S),x=x+2}}}}i.remove=function(){var y=this._stack;if(y.length===0)return this.tree;var S=new Array(y.length),T=y[y.length-1];S[S.length-1]=new t(T._color,T.key,T.value,T.left,T.right,T._count);for(var o=y.length-2;o>=0;--o){var T=y[o];T.left===y[o+1]?S[o]=new t(T._color,T.key,T.value,S[o+1],T.right,T._count):S[o]=new t(T._color,T.key,T.value,T.left,S[o+1],T._count)}if(T=S[S.length-1],T.left&&T.right){var P=S.length;for(T=T.left;T.right;)S.push(T),T=T.right;var x=S[P-1];S.push(new t(T._color,x.key,x.value,T.left,T.right,T._count)),S[P-1].key=T.key,S[P-1].value=T.value;for(var o=S.length-2;o>=P;--o)T=S[o],S[o]=new t(T._color,T.key,T.value,T.left,S[o+1],T._count);S[P-1].left=S[P]}if(T=S[S.length-1],T._color===p){var _=S[S.length-2];_.left===T?_.left=null:_.right===T&&(_.right=null),S.pop();for(var o=0;o<S.length;++o)S[o]._count--;return new u(this.tree._compare,S[0])}else if(T.left||T.right){T.left?d(T,T.left):T.right&&d(T,T.right),T._color=r;for(var o=0;o<S.length-1;++o)S[o]._count--;return new u(this.tree._compare,S[0])}else{if(S.length===1)return new u(this.tree._compare,null);for(var o=0;o<S.length;++o)S[o]._count--;var I=S[S.length-2];b(S),I.left===T?I.left=null:I.right=null}return new u(this.tree._compare,S[0])},Object.defineProperty(i,"key",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].key},enumerable:!0}),Object.defineProperty(i,"value",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].value},enumerable:!0}),Object.defineProperty(i,"index",{get:function(){var y=0,S=this._stack;if(S.length===0){var T=this.tree.root;return T?T._count:0}else S[S.length-1].left&&(y=S[S.length-1].left._count);for(var o=S.length-2;o>=0;--o)S[o+1]===S[o].right&&(++y,S[o].left&&(y+=S[o].left._count));return y},enumerable:!0}),i.next=function(){var y=this._stack;if(y.length!==0){var S=y[y.length-1];if(S.right)for(S=S.right;S;)y.push(S),S=S.left;else for(y.pop();y.length>0&&y[y.length-1].right===S;)S=y[y.length-1],y.pop()}},Object.defineProperty(i,"hasNext",{get:function(){var y=this._stack;if(y.length===0)return!1;if(y[y.length-1].right)return!0;for(var S=y.length-1;S>0;--S)if(y[S-1].left===y[S])return!0;return!1}}),i.update=function(y){var S=this._stack;if(S.length===0)throw new Error("Can't update empty node!");var T=new Array(S.length),o=S[S.length-1];T[T.length-1]=new t(o._color,o.key,y,o.left,o.right,o._count);for(var P=S.length-2;P>=0;--P)o=S[P],o.left===S[P+1]?T[P]=new t(o._color,o.key,o.value,T[P+1],o.right,o._count):T[P]=new t(o._color,o.key,o.value,o.left,T[P+1],o._count);return new u(this.tree._compare,T[0])},i.prev=function(){var y=this._stack;if(y.length!==0){var S=y[y.length-1];if(S.left)for(S=S.left;S;)y.push(S),S=S.right;else for(y.pop();y.length>0&&y[y.length-1].left===S;)S=y[y.length-1],y.pop()}},Object.defineProperty(i,"hasPrev",{get:function(){var y=this._stack;if(y.length===0)return!1;if(y[y.length-1].left)return!0;for(var S=y.length-1;S>0;--S)if(y[S-1].right===y[S])return!0;return!1}});function w(y,S){return y<S?-1:y>S?1:0}function E(y){return new u(y||w,null)}},7453:function(v,p,r){v.exports=o;var t=r(9557),s=r(1681),n=r(1011),f=r(2864),u=r(8468),l=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);function m(P,x){return P[0]=x[0],P[1]=x[1],P[2]=x[2],P}function h(P){this.gl=P,this.pixelRatio=1,this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.autoTicks=!0,this.tickSpacing=[1,1,1],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickSize=[12,12,12],this.tickAngle=[0,0,0],this.tickAlign=["auto","auto","auto"],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[10,10,10],this.lastCubeProps={cubeEdges:[0,0,0],axis:[0,0,0]},this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont="sans-serif",this.labelSize=[20,20,20],this.labelAngle=[0,0,0],this.labelAlign=["auto","auto","auto"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[10,10,10],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[0,0,0],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!1,!1,!1],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._firstInit=!0,this._text=null,this._lines=null,this._background=n(P)}var M=h.prototype;M.update=function(P){P=P||{};function x(Q,oe,Z){if(Z in P){var Y=P[Z],te=this[Z],X;(Q?Array.isArray(Y)&&Array.isArray(Y[0]):Array.isArray(Y))?this[Z]=X=[oe(Y[0]),oe(Y[1]),oe(Y[2])]:this[Z]=X=[oe(Y),oe(Y),oe(Y)];for(var $=0;$<3;++$)if(X[$]!==te[$])return!0}return!1}var _=x.bind(this,!1,Number),I=x.bind(this,!1,Boolean),N=x.bind(this,!1,String),k=x.bind(this,!0,function(Q){if(Array.isArray(Q)){if(Q.length===3)return[+Q[0],+Q[1],+Q[2],1];if(Q.length===4)return[+Q[0],+Q[1],+Q[2],+Q[3]]}return[0,0,0,1]}),F,O=!1,z=!1;if("bounds"in P)for(var B=P.bounds,W=0;W<2;++W)for(var q=0;q<3;++q)B[W][q]!==this.bounds[W][q]&&(z=!0),this.bounds[W][q]=B[W][q];if("ticks"in P){F=P.ticks,O=!0,this.autoTicks=!1;for(var W=0;W<3;++W)this.tickSpacing[W]=0}else _("tickSpacing")&&(this.autoTicks=!0,z=!0);if(this._firstInit&&("ticks"in P||"tickSpacing"in P||(this.autoTicks=!0),z=!0,O=!0,this._firstInit=!1),z&&this.autoTicks&&(F=u.create(this.bounds,this.tickSpacing),O=!0),O){for(var W=0;W<3;++W)F[W].sort(function(oe,Z){return oe.x-Z.x});u.equal(F,this.ticks)?O=!1:this.ticks=F}I("tickEnable"),N("tickFont")&&(O=!0),_("tickSize"),_("tickAngle"),_("tickPad"),k("tickColor");var ee=N("labels");N("labelFont")&&(ee=!0),I("labelEnable"),_("labelSize"),_("labelPad"),k("labelColor"),I("lineEnable"),I("lineMirror"),_("lineWidth"),k("lineColor"),I("lineTickEnable"),I("lineTickMirror"),_("lineTickLength"),_("lineTickWidth"),k("lineTickColor"),I("gridEnable"),_("gridWidth"),k("gridColor"),I("zeroEnable"),k("zeroLineColor"),_("zeroLineWidth"),I("backgroundEnable"),k("backgroundColor"),this._text?this._text&&(ee||O)&&this._text.update(this.bounds,this.labels,this.labelFont,this.ticks,this.tickFont):this._text=t(this.gl,this.bounds,this.labels,this.labelFont,this.ticks,this.tickFont),this._lines&&O&&(this._lines.dispose(),this._lines=null),this._lines||(this._lines=s(this.gl,this.bounds,this.ticks))};function c(){this.primalOffset=[0,0,0],this.primalMinor=[0,0,0],this.mirrorOffset=[0,0,0],this.mirrorMinor=[0,0,0]}var i=[new c,new c,new c];function d(P,x,_,I,N){for(var k=P.primalOffset,F=P.primalMinor,O=P.mirrorOffset,z=P.mirrorMinor,B=I[x],W=0;W<3;++W)if(x!==W){var q=k,ee=O,Q=F,oe=z;B&1<<W&&(q=O,ee=k,Q=z,oe=F),q[W]=_[0][W],ee[W]=_[1][W],N[W]>0?(Q[W]=-1,oe[W]=0):(Q[W]=0,oe[W]=1)}}var b=[0,0,0],w={model:l,view:l,projection:l,_ortho:!1};M.isOpaque=function(){return!0},M.isTransparent=function(){return!1},M.drawTransparent=function(P){};var E=0,y=[0,0,0],S=[0,0,0],T=[0,0,0];M.draw=function(P){P=P||w;for(var te=this.gl,x=P.model||l,_=P.view||l,I=P.projection||l,N=this.bounds,k=P._ortho||!1,F=f(x,_,I,N,k),O=F.cubeEdges,z=F.axis,B=_[12],W=_[13],q=_[14],ee=_[15],Q=k?2:1,oe=Q*this.pixelRatio*(I[3]*B+I[7]*W+I[11]*q+I[15]*ee)/te.drawingBufferHeight,Z=0;Z<3;++Z)this.lastCubeProps.cubeEdges[Z]=O[Z],this.lastCubeProps.axis[Z]=z[Z];for(var Y=i,Z=0;Z<3;++Z)d(i[Z],Z,this.bounds,O,z);for(var te=this.gl,X=b,Z=0;Z<3;++Z)this.backgroundEnable[Z]?X[Z]=z[Z]:X[Z]=0;this._background.draw(x,_,I,N,X,this.backgroundColor),this._lines.bind(x,_,I,this);for(var Z=0;Z<3;++Z){var $=[0,0,0];z[Z]>0?$[Z]=N[1][Z]:$[Z]=N[0][Z];for(var ie=0;ie<2;++ie){var J=(Z+1+ie)%3,j=(Z+1+(ie^1))%3;this.gridEnable[J]&&this._lines.drawGrid(J,j,this.bounds,$,this.gridColor[J],this.gridWidth[J]*this.pixelRatio)}for(var ie=0;ie<2;++ie){var J=(Z+1+ie)%3,j=(Z+1+(ie^1))%3;this.zeroEnable[j]&&Math.min(N[0][j],N[1][j])<=0&&Math.max(N[0][j],N[1][j])>=0&&this._lines.drawZero(J,j,this.bounds,$,this.zeroLineColor[j],this.zeroLineWidth[j]*this.pixelRatio)}}for(var Z=0;Z<3;++Z){this.lineEnable[Z]&&this._lines.drawAxisLine(Z,this.bounds,Y[Z].primalOffset,this.lineColor[Z],this.lineWidth[Z]*this.pixelRatio),this.lineMirror[Z]&&this._lines.drawAxisLine(Z,this.bounds,Y[Z].mirrorOffset,this.lineColor[Z],this.lineWidth[Z]*this.pixelRatio);for(var se=m(y,Y[Z].primalMinor),ne=m(S,Y[Z].mirrorMinor),le=this.lineTickLength,ie=0;ie<3;++ie){var pe=oe/x[5*ie];se[ie]*=le[ie]*pe,ne[ie]*=le[ie]*pe}this.lineTickEnable[Z]&&this._lines.drawAxisTicks(Z,Y[Z].primalOffset,se,this.lineTickColor[Z],this.lineTickWidth[Z]*this.pixelRatio),this.lineTickMirror[Z]&&this._lines.drawAxisTicks(Z,Y[Z].mirrorOffset,ne,this.lineTickColor[Z],this.lineTickWidth[Z]*this.pixelRatio)}this._lines.unbind(),this._text.bind(x,_,I,this.pixelRatio);var Ae,be=.5,Re,xe;function Me(Ue){xe=[0,0,0],xe[Ue]=1}function ye(Ue,it,lt){var $e=(Ue+1)%3,qe=(Ue+2)%3,ft=it[$e],ct=it[qe],pt=lt[$e],yt=lt[qe];if(ft>0&&yt>0){Me($e);return}else if(ft>0&&yt<0){Me($e);return}else if(ft<0&&yt>0){Me($e);return}else if(ft<0&&yt<0){Me($e);return}else if(ct>0&&pt>0){Me(qe);return}else if(ct>0&&pt<0){Me(qe);return}else if(ct<0&&pt>0){Me(qe);return}else if(ct<0&&pt<0){Me(qe);return}}for(var Z=0;Z<3;++Z){for(var Se=Y[Z].primalMinor,Fe=Y[Z].mirrorMinor,Be=m(T,Y[Z].primalOffset),ie=0;ie<3;++ie)this.lineTickEnable[Z]&&(Be[ie]+=oe*Se[ie]*Math.max(this.lineTickLength[ie],0)/x[5*ie]);var _e=[0,0,0];if(_e[Z]=1,this.tickEnable[Z]){this.tickAngle[Z]===-3600?(this.tickAngle[Z]=0,this.tickAlign[Z]="auto"):this.tickAlign[Z]=-1,Re=1,Ae=[this.tickAlign[Z],be,Re],Ae[0]==="auto"?Ae[0]=E:Ae[0]=parseInt(""+Ae[0]),xe=[0,0,0],ye(Z,Se,Fe);for(var ie=0;ie<3;++ie)Be[ie]+=oe*Se[ie]*this.tickPad[ie]/x[5*ie];this._text.drawTicks(Z,this.tickSize[Z],this.tickAngle[Z],Be,this.tickColor[Z],_e,xe,Ae)}if(this.labelEnable[Z]){Re=0,xe=[0,0,0],this.labels[Z].length>4&&(Me(Z),Re=1),Ae=[this.labelAlign[Z],be,Re],Ae[0]==="auto"?Ae[0]=E:Ae[0]=parseInt(""+Ae[0]);for(var ie=0;ie<3;++ie)Be[ie]+=oe*Se[ie]*this.labelPad[ie]/x[5*ie];Be[Z]+=.5*(N[0][Z]+N[1][Z]),this._text.drawLabel(Z,this.labelSize[Z],this.labelAngle[Z],Be,this.labelColor[Z],[0,0,0],xe,Ae)}}this._text.unbind()},M.dispose=function(){this._text.dispose(),this._lines.dispose(),this._background.dispose(),this._lines=null,this._text=null,this._background=null,this.gl=null};function o(P,x){var _=new h(P);return _.update(x),_}},1011:function(v,p,r){v.exports=l;var t=r(5827),s=r(2944),n=r(1943).bg;function f(m,h,M,c){this.gl=m,this.buffer=h,this.vao=M,this.shader=c}var u=f.prototype;u.draw=function(m,h,M,c,i,d){for(var b=!1,w=0;w<3;++w)b=b||i[w];if(!!b){var E=this.gl;E.enable(E.POLYGON_OFFSET_FILL),E.polygonOffset(1,2),this.shader.bind(),this.shader.uniforms={model:m,view:h,projection:M,bounds:c,enable:i,colors:d},this.vao.bind(),this.vao.draw(this.gl.TRIANGLES,36),this.vao.unbind(),E.disable(E.POLYGON_OFFSET_FILL)}},u.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()};function l(m){for(var h=[],M=[],c=0,i=0;i<3;++i)for(var d=(i+1)%3,b=(i+2)%3,w=[0,0,0],E=[0,0,0],y=-1;y<=1;y+=2){M.push(c,c+2,c+1,c+1,c+2,c+3),w[i]=y,E[i]=y;for(var S=-1;S<=1;S+=2){w[d]=S;for(var T=-1;T<=1;T+=2)w[b]=T,h.push(w[0],w[1],w[2],E[0],E[1],E[2]),c+=1}var o=d;d=b,b=o}var P=t(m,new Float32Array(h)),x=t(m,new Uint16Array(M),m.ELEMENT_ARRAY_BUFFER),_=s(m,[{buffer:P,type:m.FLOAT,size:3,offset:0,stride:24},{buffer:P,type:m.FLOAT,size:3,offset:12,stride:24}],x),I=n(m);return I.attributes.position.location=0,I.attributes.normal.location=1,new f(m,P,_,I)}},2864:function(v,p,r){v.exports=y;var t=r(2288),s=r(104),n=r(4670),f=r(417),u=new Array(16),l=new Array(8),m=new Array(8),h=new Array(3),M=[0,0,0];(function(){for(var S=0;S<8;++S)l[S]=[1,1,1,1],m[S]=[1,1,1]})();function c(S,T,o){for(var P=0;P<4;++P){S[P]=o[12+P];for(var x=0;x<3;++x)S[P]+=T[x]*o[4*x+P]}}var i=[[0,0,1,0,0],[0,0,-1,1,0],[0,-1,0,1,0],[0,1,0,1,0],[-1,0,0,1,0],[1,0,0,1,0]];function d(S){for(var T=0;T<i.length;++T)if(S=n.positive(S,i[T]),S.length<3)return 0;for(var o=S[0],P=o[0]/o[3],x=o[1]/o[3],_=0,T=1;T+1<S.length;++T){var I=S[T],N=S[T+1],k=I[0]/I[3],F=I[1]/I[3],O=N[0]/N[3],z=N[1]/N[3],B=k-P,W=F-x,q=O-P,ee=z-x;_+=Math.abs(B*ee-W*q)}return _}var b=[1,1,1],w=[0,0,0],E={cubeEdges:b,axis:w};function y(S,T,o,P,x){s(u,T,S),s(u,o,u);for(var _=0,I=0;I<2;++I){h[2]=P[I][2];for(var N=0;N<2;++N){h[1]=P[N][1];for(var k=0;k<2;++k)h[0]=P[k][0],c(l[_],h,u),_+=1}}for(var F=-1,I=0;I<8;++I){for(var O=l[I][3],z=0;z<3;++z)m[I][z]=l[I][z]/O;x&&(m[I][2]*=-1),O<0&&(F<0||m[I][2]<m[F][2])&&(F=I)}if(F<0){F=0;for(var B=0;B<3;++B){for(var W=(B+2)%3,q=(B+1)%3,ee=-1,Q=-1,oe=0;oe<2;++oe){var Z=oe<<B,Y=Z+(oe<<W)+(1-oe<<q),te=Z+(1-oe<<W)+(oe<<q);f(m[Z],m[Y],m[te],M)<0||(oe?ee=1:Q=1)}if(ee<0||Q<0){Q>ee&&(F|=1<<B);continue}for(var oe=0;oe<2;++oe){var Z=oe<<B,Y=Z+(oe<<W)+(1-oe<<q),te=Z+(1-oe<<W)+(oe<<q),X=d([l[Z],l[Y],l[te],l[Z+(1<<W)+(1<<q)]]);oe?ee=X:Q=X}if(Q>ee){F|=1<<B;continue}}}for(var $=7^F,ie=-1,I=0;I<8;++I)I===F||I===$||(ie<0||m[ie][1]>m[I][1])&&(ie=I);for(var J=-1,I=0;I<3;++I){var j=ie^1<<I;if(!(j===F||j===$)){J<0&&(J=j);var q=m[j];q[0]<m[J][0]&&(J=j)}}for(var se=-1,I=0;I<3;++I){var j=ie^1<<I;if(!(j===F||j===$||j===J)){se<0&&(se=j);var q=m[j];q[0]>m[se][0]&&(se=j)}}var ne=b;ne[0]=ne[1]=ne[2]=0,ne[t.log2(J^ie)]=ie&J,ne[t.log2(ie^se)]=ie&se;var le=se^7;le===F||le===$?(le=J^7,ne[t.log2(se^le)]=le&se):ne[t.log2(J^le)]=le&J;for(var pe=w,Ae=F,B=0;B<3;++B)Ae&1<<B?pe[B]=-1:pe[B]=1;return E}},1681:function(v,p,r){v.exports=b;var t=r(5827),s=r(2944),n=r(1943).j,f=[0,0,0],u=[0,0,0],l=[0,0,0],m=[0,0,0],h=[1,1];function M(w){return w[0]=w[1]=w[2]=0,w}function c(w,E){return w[0]=E[0],w[1]=E[1],w[2]=E[2],w}function i(w,E,y,S,T,o,P,x){this.gl=w,this.vertBuffer=E,this.vao=y,this.shader=S,this.tickCount=T,this.tickOffset=o,this.gridCount=P,this.gridOffset=x}var d=i.prototype;d.bind=function(w,E,y){this.shader.bind(),this.shader.uniforms.model=w,this.shader.uniforms.view=E,this.shader.uniforms.projection=y,h[0]=this.gl.drawingBufferWidth,h[1]=this.gl.drawingBufferHeight,this.shader.uniforms.screenShape=h,this.vao.bind()},d.unbind=function(){this.vao.unbind()},d.drawAxisLine=function(w,E,y,S,T){var o=M(u);this.shader.uniforms.majorAxis=u,o[w]=E[1][w]-E[0][w],this.shader.uniforms.minorAxis=o;var P=c(m,y);P[w]+=E[0][w],this.shader.uniforms.offset=P,this.shader.uniforms.lineWidth=T,this.shader.uniforms.color=S;var x=M(l);x[(w+2)%3]=1,this.shader.uniforms.screenAxis=x,this.vao.draw(this.gl.TRIANGLES,6);var x=M(l);x[(w+1)%3]=1,this.shader.uniforms.screenAxis=x,this.vao.draw(this.gl.TRIANGLES,6)},d.drawAxisTicks=function(w,E,y,S,T){if(!!this.tickCount[w]){var o=M(f);o[w]=1,this.shader.uniforms.majorAxis=o,this.shader.uniforms.offset=E,this.shader.uniforms.minorAxis=y,this.shader.uniforms.color=S,this.shader.uniforms.lineWidth=T;var P=M(l);P[w]=1,this.shader.uniforms.screenAxis=P,this.vao.draw(this.gl.TRIANGLES,this.tickCount[w],this.tickOffset[w])}},d.drawGrid=function(w,E,y,S,T,o){if(!!this.gridCount[w]){var P=M(u);P[E]=y[1][E]-y[0][E],this.shader.uniforms.minorAxis=P;var x=c(m,S);x[E]+=y[0][E],this.shader.uniforms.offset=x;var _=M(f);_[w]=1,this.shader.uniforms.majorAxis=_;var I=M(l);I[w]=1,this.shader.uniforms.screenAxis=I,this.shader.uniforms.lineWidth=o,this.shader.uniforms.color=T,this.vao.draw(this.gl.TRIANGLES,this.gridCount[w],this.gridOffset[w])}},d.drawZero=function(w,E,y,S,T,o){var P=M(u);this.shader.uniforms.majorAxis=P,P[w]=y[1][w]-y[0][w],this.shader.uniforms.minorAxis=P;var x=c(m,S);x[w]+=y[0][w],this.shader.uniforms.offset=x;var _=M(l);_[E]=1,this.shader.uniforms.screenAxis=_,this.shader.uniforms.lineWidth=o,this.shader.uniforms.color=T,this.vao.draw(this.gl.TRIANGLES,6)},d.dispose=function(){this.vao.dispose(),this.vertBuffer.dispose(),this.shader.dispose()};function b(w,E,y){var S=[],T=[0,0,0],o=[0,0,0],P=[0,0,0],x=[0,0,0];S.push(0,0,1,0,1,1,0,0,-1,0,0,-1,0,1,1,0,1,-1);for(var _=0;_<3;++_){for(var k=S.length/3|0,I=0;I<y[_].length;++I){var N=+y[_][I].x;S.push(N,0,1,N,1,1,N,0,-1,N,0,-1,N,1,1,N,1,-1)}var O=S.length/3|0;T[_]=k,o[_]=O-k;for(var k=S.length/3|0,F=0;F<y[_].length;++F){var N=+y[_][F].x;S.push(N,0,1,N,1,1,N,0,-1,N,0,-1,N,1,1,N,1,-1)}var O=S.length/3|0;P[_]=k,x[_]=O-k}var z=t(w,new Float32Array(S)),B=s(w,[{buffer:z,type:w.FLOAT,size:3,stride:0,offset:0}]),W=n(w);return W.attributes.position.location=0,new i(w,z,B,W,o,T,x,P)}},1943:function(v,p,r){var t=r(6832),s=r(5158),n=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;
uniform vec3 offset, majorAxis, minorAxis, screenAxis;
uniform float lineWidth;
uniform vec2 screenShape;

vec3 project(vec3 p) {
  vec4 pp = projection * view * model * vec4(p, 1.0);
  return pp.xyz / max(pp.w, 0.0001);
}

void main() {
  vec3 major = position.x * majorAxis;
  vec3 minor = position.y * minorAxis;

  vec3 vPosition = major + minor + offset;
  vec3 pPosition = project(vPosition);
  vec3 offset = project(vPosition + screenAxis * position.z);

  vec2 screen = normalize((offset - pPosition).xy * screenShape) / screenShape;

  gl_Position = vec4(pPosition + vec3(0.5 * screen * lineWidth, 0), 1.0);
}
`]),f=t([`precision highp float;
#define GLSLIFY 1

uniform vec4 color;
void main() {
  gl_FragColor = color;
}`]);p.j=function(M){return s(M,n,f,null,[{name:"position",type:"vec3"}])};var u=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;
uniform vec3 offset, axis, alignDir, alignOpt;
uniform float scale, angle, pixelScale;
uniform vec2 resolution;

vec3 project(vec3 p) {
  vec4 pp = projection * view * model * vec4(p, 1.0);
  return pp.xyz / max(pp.w, 0.0001);
}

float computeViewAngle(vec3 a, vec3 b) {
  vec3 A = project(a);
  vec3 B = project(b);

  return atan(
    (B.y - A.y) * resolution.y,
    (B.x - A.x) * resolution.x
  );
}

const float PI = 3.141592;
const float TWO_PI = 2.0 * PI;
const float HALF_PI = 0.5 * PI;
const float ONE_AND_HALF_PI = 1.5 * PI;

int option = int(floor(alignOpt.x + 0.001));
float hv_ratio =       alignOpt.y;
bool enableAlign =    (alignOpt.z != 0.0);

float mod_angle(float a) {
  return mod(a, PI);
}

float positive_angle(float a) {
  return mod_angle((a < 0.0) ?
    a + TWO_PI :
    a
  );
}

float look_upwards(float a) {
  float b = positive_angle(a);
  return ((b > HALF_PI) && (b <= ONE_AND_HALF_PI)) ?
    b - PI :
    b;
}

float look_horizontal_or_vertical(float a, float ratio) {
  // ratio controls the ratio between being horizontal to (vertical + horizontal)
  // if ratio is set to 0.5 then it is 50%, 50%.
  // when using a higher ratio e.g. 0.75 the result would
  // likely be more horizontal than vertical.

  float b = positive_angle(a);

  return
    (b < (      ratio) * HALF_PI) ? 0.0 :
    (b < (2.0 - ratio) * HALF_PI) ? -HALF_PI :
    (b < (2.0 + ratio) * HALF_PI) ? 0.0 :
    (b < (4.0 - ratio) * HALF_PI) ? HALF_PI :
                                    0.0;
}

float roundTo(float a, float b) {
  return float(b * floor((a + 0.5 * b) / b));
}

float look_round_n_directions(float a, int n) {
  float b = positive_angle(a);
  float div = TWO_PI / float(n);
  float c = roundTo(b, div);
  return look_upwards(c);
}

float applyAlignOption(float rawAngle, float delta) {
  return
    (option >  2) ? look_round_n_directions(rawAngle + delta, option) :       // option 3-n: round to n directions
    (option == 2) ? look_horizontal_or_vertical(rawAngle + delta, hv_ratio) : // horizontal or vertical
    (option == 1) ? rawAngle + delta :       // use free angle, and flip to align with one direction of the axis
    (option == 0) ? look_upwards(rawAngle) : // use free angle, and stay upwards
    (option ==-1) ? 0.0 :                    // useful for backward compatibility, all texts remains horizontal
                    rawAngle;                // otherwise return back raw input angle
}

bool isAxisTitle = (axis.x == 0.0) &&
                   (axis.y == 0.0) &&
                   (axis.z == 0.0);

void main() {
  //Compute world offset
  float axisDistance = position.z;
  vec3 dataPosition = axisDistance * axis + offset;

  float beta = angle; // i.e. user defined attributes for each tick

  float axisAngle;
  float clipAngle;
  float flip;

  if (enableAlign) {
    axisAngle = (isAxisTitle) ? HALF_PI :
                      computeViewAngle(dataPosition, dataPosition + axis);
    clipAngle = computeViewAngle(dataPosition, dataPosition + alignDir);

    axisAngle += (sin(axisAngle) < 0.0) ? PI : 0.0;
    clipAngle += (sin(clipAngle) < 0.0) ? PI : 0.0;

    flip = (dot(vec2(cos(axisAngle), sin(axisAngle)),
                vec2(sin(clipAngle),-cos(clipAngle))) > 0.0) ? 1.0 : 0.0;

    beta += applyAlignOption(clipAngle, flip * PI);
  }

  //Compute plane offset
  vec2 planeCoord = position.xy * pixelScale;

  mat2 planeXform = scale * mat2(
     cos(beta), sin(beta),
    -sin(beta), cos(beta)
  );

  vec2 viewOffset = 2.0 * planeXform * planeCoord / resolution;

  //Compute clip position
  vec3 clipPosition = project(dataPosition);

  //Apply text offset in clip coordinates
  clipPosition += vec3(viewOffset, 0.0);

  //Done
  gl_Position = vec4(clipPosition, 1.0);
}`]),l=t([`precision highp float;
#define GLSLIFY 1

uniform vec4 color;
void main() {
  gl_FragColor = color;
}`]);p.f=function(M){return s(M,u,l,null,[{name:"position",type:"vec3"}])};var m=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec3 normal;

uniform mat4 model, view, projection;
uniform vec3 enable;
uniform vec3 bounds[2];

varying vec3 colorChannel;

void main() {

  vec3 signAxis = sign(bounds[1] - bounds[0]);

  vec3 realNormal = signAxis * normal;

  if(dot(realNormal, enable) > 0.0) {
    vec3 minRange = min(bounds[0], bounds[1]);
    vec3 maxRange = max(bounds[0], bounds[1]);
    vec3 nPosition = mix(minRange, maxRange, 0.5 * (position + 1.0));
    gl_Position = projection * view * model * vec4(nPosition, 1.0);
  } else {
    gl_Position = vec4(0,0,0,0);
  }

  colorChannel = abs(realNormal);
}`]),h=t([`precision highp float;
#define GLSLIFY 1

uniform vec4 colors[3];

varying vec3 colorChannel;

void main() {
  gl_FragColor = colorChannel.x * colors[0] +
                 colorChannel.y * colors[1] +
                 colorChannel.z * colors[2];
}`]);p.bg=function(M){return s(M,m,h,null,[{name:"position",type:"vec3"},{name:"normal",type:"vec3"}])}},9557:function(v,p,r){v.exports=d;var t=r(5827),s=r(2944),n=r(875),f=r(1943).f,u=window||g.global||{},l=u.__TEXT_CACHE||{};u.__TEXT_CACHE={};var m=3;function h(b,w,E,y){this.gl=b,this.shader=w,this.buffer=E,this.vao=y,this.tickOffset=this.tickCount=this.labelOffset=this.labelCount=null}var M=h.prototype,c=[0,0];M.bind=function(b,w,E,y){this.vao.bind(),this.shader.bind();var S=this.shader.uniforms;S.model=b,S.view=w,S.projection=E,S.pixelScale=y,c[0]=this.gl.drawingBufferWidth,c[1]=this.gl.drawingBufferHeight,this.shader.uniforms.resolution=c},M.unbind=function(){this.vao.unbind()},M.update=function(b,w,E,y,S){var T=[];function o(z,B,W,q,ee,Q){var oe=l[W];oe||(oe=l[W]={});var Z=oe[B];Z||(Z=oe[B]=i(B,{triangles:!0,font:W,textAlign:"center",textBaseline:"middle",lineSpacing:ee,styletags:Q}));for(var Y=(q||12)/12,te=Z.positions,X=Z.cells,$=0,ie=X.length;$<ie;++$)for(var J=X[$],j=2;j>=0;--j){var se=te[J[j]];T.push(Y*se[0],-Y*se[1],z)}}for(var P=[0,0,0],x=[0,0,0],_=[0,0,0],I=[0,0,0],N=1.25,k={breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0},F=0;F<3;++F){_[F]=T.length/m|0,o(.5*(b[0][F]+b[1][F]),w[F],E[F],12,N,k),I[F]=(T.length/m|0)-_[F],P[F]=T.length/m|0;for(var O=0;O<y[F].length;++O)!y[F][O].text||o(y[F][O].x,y[F][O].text,y[F][O].font||S,y[F][O].fontSize||12,N,k);x[F]=(T.length/m|0)-P[F]}this.buffer.update(T),this.tickOffset=P,this.tickCount=x,this.labelOffset=_,this.labelCount=I},M.drawTicks=function(b,w,E,y,S,T,o,P){!this.tickCount[b]||(this.shader.uniforms.axis=T,this.shader.uniforms.color=S,this.shader.uniforms.angle=E,this.shader.uniforms.scale=w,this.shader.uniforms.offset=y,this.shader.uniforms.alignDir=o,this.shader.uniforms.alignOpt=P,this.vao.draw(this.gl.TRIANGLES,this.tickCount[b],this.tickOffset[b]))},M.drawLabel=function(b,w,E,y,S,T,o,P){!this.labelCount[b]||(this.shader.uniforms.axis=T,this.shader.uniforms.color=S,this.shader.uniforms.angle=E,this.shader.uniforms.scale=w,this.shader.uniforms.offset=y,this.shader.uniforms.alignDir=o,this.shader.uniforms.alignOpt=P,this.vao.draw(this.gl.TRIANGLES,this.labelCount[b],this.labelOffset[b]))},M.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()};function i(b,w){try{return n(b,w)}catch(E){return console.warn('error vectorizing text:"'+b+'" error:',E),{cells:[],positions:[]}}}function d(b,w,E,y,S,T){var o=t(b),P=s(b,[{buffer:o,size:3}]),x=f(b);x.attributes.position.location=0;var _=new h(b,x,o,P);return _.update(w,E,y,S,T),_}},8468:function(v,p){p.create=t,p.equal=s;function r(n,f){var u=n+"",l=u.indexOf("."),m=0;l>=0&&(m=u.length-l-1);var h=Math.pow(10,m),M=Math.round(n*f*h),c=M+"";if(c.indexOf("e")>=0)return c;var i=M/h,d=M%h;M<0?(i=-Math.ceil(i)|0,d=-d|0):(i=Math.floor(i)|0,d=d|0);var b=""+i;if(M<0&&(b="-"+b),m){for(var w=""+d;w.length<m;)w="0"+w;return b+"."+w}else return b}function t(n,f){for(var u=[],l=0;l<3;++l){var m=[];.5*(n[0][l]+n[1][l]);for(var h=0;h*f[l]<=n[1][l];++h)m.push({x:h*f[l],text:r(f[l],h)});for(var h=-1;h*f[l]>=n[0][l];--h)m.push({x:h*f[l],text:r(f[l],h)});u.push(m)}return u}function s(n,f){for(var u=0;u<3;++u){if(n[u].length!==f[u].length)return!1;for(var l=0;l<n[u].length;++l){var m=n[u][l],h=f[u][l];if(m.x!==h.x||m.text!==h.text||m.font!==h.font||m.fontColor!==h.fontColor||m.fontSize!==h.fontSize||m.dx!==h.dx||m.dy!==h.dy)return!1}}return!0}},2771:function(v,p,r){v.exports=E;var t=r(5795),s=r(4670),n=r(2864),f=r(104),u=r(2142),l=r(6342),m=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),h=new Float32Array(16);function M(y,S,T){this.lo=y,this.hi=S,this.pixelsPerDataUnit=T}var c=[0,0,0,1],i=[0,0,0,1];function d(y,S,T,o,P){for(var x=0;x<3;++x){for(var _=c,I=i,N=0;N<3;++N)I[N]=_[N]=T[N];I[3]=_[3]=1,I[x]+=1,l(I,I,S),I[3]<0&&(y[x]=1/0),_[x]-=1,l(_,_,S),_[3]<0&&(y[x]=1/0);var k=(_[0]/_[3]-I[0]/I[3])*o,F=(_[1]/_[3]-I[1]/I[3])*P;y[x]=.25*Math.sqrt(k*k+F*F)}return y}var b=[new M(1/0,-1/0,1/0),new M(1/0,-1/0,1/0),new M(1/0,-1/0,1/0)],w=[0,0,0];function E(y,S,T,o,F){var x=S.model||m,_=S.view||m,I=S.projection||m,N=S._ortho||!1,k=y.bounds,F=F||n(x,_,I,k,N),O=F.axis;f(h,_,x),f(h,I,h);for(var z=b,B=0;B<3;++B)z[B].lo=1/0,z[B].hi=-1/0,z[B].pixelsPerDataUnit=1/0;var W=t(u(h,h));u(h,h);for(var q=0;q<3;++q){var ee=(q+1)%3,Q=(q+2)%3,oe=w;e:for(var B=0;B<2;++B){var Z=[];if(O[q]<0!=!!B){oe[q]=k[B][q];for(var Y=0;Y<2;++Y){oe[ee]=k[Y^B][ee];for(var te=0;te<2;++te)oe[Q]=k[te^Y^B][Q],Z.push(oe.slice())}for(var X=N?5:4,Y=X;Y===X;++Y){if(Z.length===0)continue e;Z=s.positive(Z,W[Y])}for(var Y=0;Y<Z.length;++Y)for(var Q=Z[Y],$=d(w,h,Q,T,o),te=0;te<3;++te)z[te].lo=Math.min(z[te].lo,Q[te]),z[te].hi=Math.max(z[te].hi,Q[te]),te!==q&&(z[te].pixelsPerDataUnit=Math.min(z[te].pixelsPerDataUnit,Math.abs($[te])))}}}return z}},5827:function(v,p,r){var t=r(5306),s=r(7498),n=r(5050),f=["uint8","uint8_clamped","uint16","uint32","int8","int16","int32","float32"];function u(i,d,b,w,E){this.gl=i,this.type=d,this.handle=b,this.length=w,this.usage=E}var l=u.prototype;l.bind=function(){this.gl.bindBuffer(this.type,this.handle)},l.unbind=function(){this.gl.bindBuffer(this.type,null)},l.dispose=function(){this.gl.deleteBuffer(this.handle)};function m(i,d,b,w,E,y){var S=E.length*E.BYTES_PER_ELEMENT;if(y<0)return i.bufferData(d,E,w),S;if(S+y>b)throw new Error("gl-buffer: If resizing buffer, must not specify offset");return i.bufferSubData(d,y,E),b}function h(i,d){for(var b=t.malloc(i.length,d),w=i.length,E=0;E<w;++E)b[E]=i[E];return b}function M(i,d){for(var b=1,w=d.length-1;w>=0;--w){if(d[w]!==b)return!1;b*=i[w]}return!0}l.update=function(i,d){if(typeof d!="number"&&(d=-1),this.bind(),typeof i=="object"&&typeof i.shape!="undefined"){var b=i.dtype;if(f.indexOf(b)<0&&(b="float32"),this.type===this.gl.ELEMENT_ARRAY_BUFFER){var w=gl.getExtension("OES_element_index_uint");w&&b!=="uint16"?b="uint32":b="uint16"}if(b===i.dtype&&M(i.shape,i.stride))i.offset===0&&i.data.length===i.shape[0]?this.length=m(this.gl,this.type,this.length,this.usage,i.data,d):this.length=m(this.gl,this.type,this.length,this.usage,i.data.subarray(i.offset,i.shape[0]),d);else{var E=t.malloc(i.size,b),y=n(E,i.shape);s.assign(y,i),d<0?this.length=m(this.gl,this.type,this.length,this.usage,E,d):this.length=m(this.gl,this.type,this.length,this.usage,E.subarray(0,i.size),d),t.free(E)}}else if(Array.isArray(i)){var S;this.type===this.gl.ELEMENT_ARRAY_BUFFER?S=h(i,"uint16"):S=h(i,"float32"),d<0?this.length=m(this.gl,this.type,this.length,this.usage,S,d):this.length=m(this.gl,this.type,this.length,this.usage,S.subarray(0,i.length),d),t.free(S)}else if(typeof i=="object"&&typeof i.length=="number")this.length=m(this.gl,this.type,this.length,this.usage,i,d);else if(typeof i=="number"||i===void 0){if(d>=0)throw new Error("gl-buffer: Cannot specify offset when resizing buffer");i=i|0,i<=0&&(i=1),this.gl.bufferData(this.type,i|0,this.usage),this.length=i}else throw new Error("gl-buffer: Invalid data type")};function c(i,d,b,w){if(b=b||i.ARRAY_BUFFER,w=w||i.DYNAMIC_DRAW,b!==i.ARRAY_BUFFER&&b!==i.ELEMENT_ARRAY_BUFFER)throw new Error("gl-buffer: Invalid type for webgl buffer, must be either gl.ARRAY_BUFFER or gl.ELEMENT_ARRAY_BUFFER");if(w!==i.DYNAMIC_DRAW&&w!==i.STATIC_DRAW&&w!==i.STREAM_DRAW)throw new Error("gl-buffer: Invalid usage for buffer, must be either gl.DYNAMIC_DRAW, gl.STATIC_DRAW or gl.STREAM_DRAW");var E=i.createBuffer(),y=new u(i,b,E,0,w);return y.update(d),y}v.exports=c},1140:function(v,p,r){var t=r(2858);v.exports=function(n,f){var u=n.positions,l=n.vectors,m={positions:[],vertexIntensity:[],vertexIntensityBounds:n.vertexIntensityBounds,vectors:[],cells:[],coneOffset:n.coneOffset,colormap:n.colormap};if(n.positions.length===0)return f&&(f[0]=[0,0,0],f[1]=[0,0,0]),m;for(var h=0,M=1/0,c=-1/0,i=1/0,d=-1/0,b=1/0,w=-1/0,E=null,y=null,S=[],T=1/0,o=!1,P=0;P<u.length;P++){var x=u[P];M=Math.min(x[0],M),c=Math.max(x[0],c),i=Math.min(x[1],i),d=Math.max(x[1],d),b=Math.min(x[2],b),w=Math.max(x[2],w);var _=l[P];if(t.length(_)>h&&(h=t.length(_)),P){var I=2*t.distance(E,x)/(t.length(y)+t.length(_));I?(T=Math.min(T,I),o=!1):o=!0}o||(E=x,y=_),S.push(_)}var N=[M,i,b],k=[c,d,w];f&&(f[0]=N,f[1]=k),h===0&&(h=1);var F=1/h;isFinite(T)||(T=1),m.vectorScale=T;var O=n.coneSize||.5;n.absoluteConeSize&&(O=n.absoluteConeSize*F),m.coneScale=O;for(var P=0,z=0;P<u.length;P++)for(var x=u[P],B=x[0],W=x[1],q=x[2],ee=S[P],Q=t.length(ee)*F,oe=0,Z=8;oe<Z;oe++){m.positions.push([B,W,q,z++]),m.positions.push([B,W,q,z++]),m.positions.push([B,W,q,z++]),m.positions.push([B,W,q,z++]),m.positions.push([B,W,q,z++]),m.positions.push([B,W,q,z++]),m.vectors.push(ee),m.vectors.push(ee),m.vectors.push(ee),m.vectors.push(ee),m.vectors.push(ee),m.vectors.push(ee),m.vertexIntensity.push(Q,Q,Q),m.vertexIntensity.push(Q,Q,Q);var Y=m.positions.length;m.cells.push([Y-6,Y-5,Y-4],[Y-3,Y-2,Y-1])}return m};var s=r(7234);v.exports.createMesh=r(5028),v.exports.createConeMesh=function(n,f){return v.exports.createMesh(n,f,{shaders:s,traceType:"cone"})}},5028:function(v,p,r){var t=r(5158),s=r(5827),n=r(2944),f=r(8931),u=r(104),l=r(7437),m=r(5050),h=r(9156),M=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function c(S,T,o,P,x,_,I,N,k,F,O){this.gl=S,this.pixelRatio=1,this.cells=[],this.positions=[],this.intensity=[],this.texture=T,this.dirty=!0,this.triShader=o,this.pickShader=P,this.trianglePositions=x,this.triangleVectors=_,this.triangleColors=N,this.triangleUVs=k,this.triangleIds=I,this.triangleVAO=F,this.triangleCount=0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this.traceType=O,this.tubeScale=1,this.coneScale=2,this.vectorScale=1,this.coneOffset=.25,this._model=M,this._view=M,this._projection=M,this._resolution=[1,1]}var i=c.prototype;i.isOpaque=function(){return this.opacity>=1},i.isTransparent=function(){return this.opacity<1},i.pickSlots=1,i.setPickBase=function(S){this.pickId=S};function d(S){for(var T=h({colormap:S,nshades:256,format:"rgba"}),o=new Uint8Array(256*4),P=0;P<256;++P){for(var x=T[P],_=0;_<3;++_)o[4*P+_]=x[_];o[4*P+3]=x[3]*255}return m(o,[256,256,4],[4,0,1])}function b(S){for(var T=S.length,o=new Array(T),P=0;P<T;++P)o[P]=S[P][2];return o}i.update=function(S){S=S||{};var T=this.gl;this.dirty=!0,"lightPosition"in S&&(this.lightPosition=S.lightPosition),"opacity"in S&&(this.opacity=S.opacity),"ambient"in S&&(this.ambientLight=S.ambient),"diffuse"in S&&(this.diffuseLight=S.diffuse),"specular"in S&&(this.specularLight=S.specular),"roughness"in S&&(this.roughness=S.roughness),"fresnel"in S&&(this.fresnel=S.fresnel),S.tubeScale!==void 0&&(this.tubeScale=S.tubeScale),S.vectorScale!==void 0&&(this.vectorScale=S.vectorScale),S.coneScale!==void 0&&(this.coneScale=S.coneScale),S.coneOffset!==void 0&&(this.coneOffset=S.coneOffset),S.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=T.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=T.LINEAR,this.texture.setPixels(d(S.colormap)),this.texture.generateMipmap());var o=S.cells,P=S.positions,x=S.vectors;if(!P||!o||!x)return;var _=[],I=[],N=[],k=[],F=[];this.cells=o,this.positions=P,this.vectors=x;var O=S.meshColor||[1,1,1,1],z=S.vertexIntensity,B=1/0,W=-1/0;if(z)if(S.vertexIntensityBounds)B=+S.vertexIntensityBounds[0],W=+S.vertexIntensityBounds[1];else for(var q=0;q<z.length;++q){var ee=z[q];B=Math.min(B,ee),W=Math.max(W,ee)}else for(var q=0;q<P.length;++q){var ee=P[q][2];B=Math.min(B,ee),W=Math.max(W,ee)}z?this.intensity=z:this.intensity=b(P),this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(var q=0;q<P.length;++q)for(var Q=P[q],oe=0;oe<3;++oe)isNaN(Q[oe])||!isFinite(Q[oe])||(this.bounds[0][oe]=Math.min(this.bounds[0][oe],Q[oe]),this.bounds[1][oe]=Math.max(this.bounds[1][oe],Q[oe]));var Z=0;e:for(var q=0;q<o.length;++q){var Y=o[q];switch(Y.length){case 3:for(var oe=0;oe<3;++oe)for(var te=Y[oe],Q=P[te],X=0;X<3;++X)if(isNaN(Q[X])||!isFinite(Q[X]))continue e;for(var oe=0;oe<3;++oe){var te=Y[2-oe],Q=P[te];_.push(Q[0],Q[1],Q[2],Q[3]);var $=x[te];I.push($[0],$[1],$[2],$[3]||0);var ie=O;ie.length===3?N.push(ie[0],ie[1],ie[2],1):N.push(ie[0],ie[1],ie[2],ie[3]);var J;z?J=[(z[te]-B)/(W-B),0]:J=[(Q[2]-B)/(W-B),0],k.push(J[0],J[1]),F.push(q)}Z+=1;break}}this.triangleCount=Z,this.trianglePositions.update(_),this.triangleVectors.update(I),this.triangleColors.update(N),this.triangleUVs.update(k),this.triangleIds.update(new Uint32Array(F))},i.drawTransparent=i.draw=function(S){S=S||{};for(var T=this.gl,o=S.model||M,P=S.view||M,x=S.projection||M,_=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],I=0;I<3;++I)_[0][I]=Math.max(_[0][I],this.clipBounds[0][I]),_[1][I]=Math.min(_[1][I],this.clipBounds[1][I]);var N={model:o,view:P,projection:x,inverseModel:M.slice(),clipBounds:_,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],opacity:this.opacity,tubeScale:this.tubeScale,vectorScale:this.vectorScale,coneScale:this.coneScale,coneOffset:this.coneOffset,texture:0};N.inverseModel=l(N.inverseModel,N.model),T.disable(T.CULL_FACE),this.texture.bind(0);var k=new Array(16);u(k,N.view,N.model),u(k,N.projection,k),l(k,k);for(var I=0;I<3;++I)N.eyePosition[I]=k[12+I]/k[15];for(var F=k[15],I=0;I<3;++I)F+=this.lightPosition[I]*k[4*I+3];for(var I=0;I<3;++I){for(var O=k[12+I],z=0;z<3;++z)O+=k[4*z+I]*this.lightPosition[z];N.lightPosition[I]=O/F}if(this.triangleCount>0){var B=this.triShader;B.bind(),B.uniforms=N,this.triangleVAO.bind(),T.drawArrays(T.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind()}},i.drawPick=function(S){S=S||{};for(var T=this.gl,o=S.model||M,P=S.view||M,x=S.projection||M,_=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],I=0;I<3;++I)_[0][I]=Math.max(_[0][I],this.clipBounds[0][I]),_[1][I]=Math.min(_[1][I],this.clipBounds[1][I]);this._model=[].slice.call(o),this._view=[].slice.call(P),this._projection=[].slice.call(x),this._resolution=[T.drawingBufferWidth,T.drawingBufferHeight];var N={model:o,view:P,projection:x,clipBounds:_,tubeScale:this.tubeScale,vectorScale:this.vectorScale,coneScale:this.coneScale,coneOffset:this.coneOffset,pickId:this.pickId/255},k=this.pickShader;k.bind(),k.uniforms=N,this.triangleCount>0&&(this.triangleVAO.bind(),T.drawArrays(T.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind())},i.pick=function(S){if(!S||S.id!==this.pickId)return null;var T=S.value[0]+256*S.value[1]+65536*S.value[2],o=this.cells[T],P=this.positions[o[1]].slice(0,3),x={position:P,dataCoordinate:P,index:Math.floor(o[1]/48)};return this.traceType==="cone"?x.index=Math.floor(o[1]/48):this.traceType==="streamtube"&&(x.intensity=this.intensity[o[1]],x.velocity=this.vectors[o[1]].slice(0,3),x.divergence=this.vectors[o[1]][3],x.index=T),x},i.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.pickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleVectors.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleIds.dispose()};function w(S,T){var o=t(S,T.meshShader.vertex,T.meshShader.fragment,null,T.meshShader.attributes);return o.attributes.position.location=0,o.attributes.color.location=2,o.attributes.uv.location=3,o.attributes.vector.location=4,o}function E(S,T){var o=t(S,T.pickShader.vertex,T.pickShader.fragment,null,T.pickShader.attributes);return o.attributes.position.location=0,o.attributes.id.location=1,o.attributes.vector.location=4,o}function y(S,T,o){var P=o.shaders;arguments.length===1&&(T=S,S=T.gl);var x=w(S,P),_=E(S,P),I=f(S,m(new Uint8Array([255,255,255,255]),[1,1,4]));I.generateMipmap(),I.minFilter=S.LINEAR_MIPMAP_LINEAR,I.magFilter=S.LINEAR;var N=s(S),k=s(S),F=s(S),O=s(S),z=s(S),B=n(S,[{buffer:N,type:S.FLOAT,size:4},{buffer:z,type:S.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:F,type:S.FLOAT,size:4},{buffer:O,type:S.FLOAT,size:2},{buffer:k,type:S.FLOAT,size:4}]),W=new c(S,I,x,_,N,k,z,F,O,B,o.traceType||"cone");return W.update(T),W}v.exports=y},7234:function(v,p,r){var t=r(6832),s=t([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the cone vertex and normal at the given index.
//
// The returned vertex is for a cone with its top at origin and height of 1.0,
// pointing in the direction of the vector attribute.
//
// Each cone is made up of a top vertex, a center base vertex and base perimeter vertices.
// These vertices are used to make up the triangles of the cone by the following:
//   segment + 0 top vertex
//   segment + 1 perimeter vertex a+1
//   segment + 2 perimeter vertex a
//   segment + 3 center base vertex
//   segment + 4 perimeter vertex a
//   segment + 5 perimeter vertex a+1
// Where segment is the number of the radial segment * 6 and a is the angle at that radial segment.
// To go from index to segment, floor(index / 6)
// To go from segment to angle, 2*pi * (segment/segmentCount)
// To go from index to segment index, index - (segment*6)
//
vec3 getConePosition(vec3 d, float rawIndex, float coneOffset, out vec3 normal) {

  const float segmentCount = 8.0;

  float index = rawIndex - floor(rawIndex /
    (segmentCount * 6.0)) *
    (segmentCount * 6.0);

  float segment = floor(0.001 + index/6.0);
  float segmentIndex = index - (segment*6.0);

  normal = -normalize(d);

  if (segmentIndex > 2.99 && segmentIndex < 3.01) {
    return mix(vec3(0.0), -d, coneOffset);
  }

  float nextAngle = (
    (segmentIndex > 0.99 &&  segmentIndex < 1.01) ||
    (segmentIndex > 4.99 &&  segmentIndex < 5.01)
  ) ? 1.0 : 0.0;
  float angle = 2.0 * 3.14159 * ((segment + nextAngle) / segmentCount);

  vec3 v1 = mix(d, vec3(0.0), coneOffset);
  vec3 v2 = v1 - d;

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d)*0.25;
  vec3 y = v * sin(angle) * length(d)*0.25;
  vec3 v3 = v2 + x + y;
  if (segmentIndex < 3.0) {
    vec3 tx = u * sin(angle);
    vec3 ty = v * -cos(angle);
    vec3 tangent = tx + ty;
    normal = normalize(cross(v3 - v1, tangent));
  }

  if (segmentIndex == 0.0) {
    return mix(d, vec3(0.0), coneOffset);
  }
  return v3;
}

attribute vec3 vector;
attribute vec4 color, position;
attribute vec2 uv;

uniform float vectorScale, coneScale, coneOffset;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 eyePosition, lightPosition;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  // Scale the vector magnitude to stay constant with
  // model & view changes.
  vec3 normal;
  vec3 XYZ = getConePosition(mat3(model) * ((vectorScale * coneScale) * vector), position.w, coneOffset, normal);
  vec4 conePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * conePosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  // vec4 m_position  = model * vec4(conePosition, 1.0);
  vec4 t_position  = view * conePosition;
  gl_Position      = projection * t_position;

  f_color          = color;
  f_data           = conePosition.xyz;
  f_position       = position.xyz;
  f_uv             = uv;
}
`]),n=t([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform sampler2D texture;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;
  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = f_color * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * opacity;
}
`]),f=t([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the cone vertex and normal at the given index.
//
// The returned vertex is for a cone with its top at origin and height of 1.0,
// pointing in the direction of the vector attribute.
//
// Each cone is made up of a top vertex, a center base vertex and base perimeter vertices.
// These vertices are used to make up the triangles of the cone by the following:
//   segment + 0 top vertex
//   segment + 1 perimeter vertex a+1
//   segment + 2 perimeter vertex a
//   segment + 3 center base vertex
//   segment + 4 perimeter vertex a
//   segment + 5 perimeter vertex a+1
// Where segment is the number of the radial segment * 6 and a is the angle at that radial segment.
// To go from index to segment, floor(index / 6)
// To go from segment to angle, 2*pi * (segment/segmentCount)
// To go from index to segment index, index - (segment*6)
//
vec3 getConePosition(vec3 d, float rawIndex, float coneOffset, out vec3 normal) {

  const float segmentCount = 8.0;

  float index = rawIndex - floor(rawIndex /
    (segmentCount * 6.0)) *
    (segmentCount * 6.0);

  float segment = floor(0.001 + index/6.0);
  float segmentIndex = index - (segment*6.0);

  normal = -normalize(d);

  if (segmentIndex > 2.99 && segmentIndex < 3.01) {
    return mix(vec3(0.0), -d, coneOffset);
  }

  float nextAngle = (
    (segmentIndex > 0.99 &&  segmentIndex < 1.01) ||
    (segmentIndex > 4.99 &&  segmentIndex < 5.01)
  ) ? 1.0 : 0.0;
  float angle = 2.0 * 3.14159 * ((segment + nextAngle) / segmentCount);

  vec3 v1 = mix(d, vec3(0.0), coneOffset);
  vec3 v2 = v1 - d;

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d)*0.25;
  vec3 y = v * sin(angle) * length(d)*0.25;
  vec3 v3 = v2 + x + y;
  if (segmentIndex < 3.0) {
    vec3 tx = u * sin(angle);
    vec3 ty = v * -cos(angle);
    vec3 tangent = tx + ty;
    normal = normalize(cross(v3 - v1, tangent));
  }

  if (segmentIndex == 0.0) {
    return mix(d, vec3(0.0), coneOffset);
  }
  return v3;
}

attribute vec4 vector;
attribute vec4 position;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform float vectorScale, coneScale, coneOffset;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  vec3 normal;
  vec3 XYZ = getConePosition(mat3(model) * ((vectorScale * coneScale) * vector.xyz), position.w, coneOffset, normal);
  vec4 conePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);
  gl_Position = projection * view * conePosition;
  f_id        = id;
  f_position  = position.xyz;
}
`]),u=t([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]);p.meshShader={vertex:s,fragment:n,attributes:[{name:"position",type:"vec4"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"vector",type:"vec3"}]},p.pickShader={vertex:f,fragment:u,attributes:[{name:"position",type:"vec4"},{name:"id",type:"vec4"},{name:"vector",type:"vec3"}]}},1950:function(v){v.exports={0:"NONE",1:"ONE",2:"LINE_LOOP",3:"LINE_STRIP",4:"TRIANGLES",5:"TRIANGLE_STRIP",6:"TRIANGLE_FAN",256:"DEPTH_BUFFER_BIT",512:"NEVER",513:"LESS",514:"EQUAL",515:"LEQUAL",516:"GREATER",517:"NOTEQUAL",518:"GEQUAL",519:"ALWAYS",768:"SRC_COLOR",769:"ONE_MINUS_SRC_COLOR",770:"SRC_ALPHA",771:"ONE_MINUS_SRC_ALPHA",772:"DST_ALPHA",773:"ONE_MINUS_DST_ALPHA",774:"DST_COLOR",775:"ONE_MINUS_DST_COLOR",776:"SRC_ALPHA_SATURATE",1024:"STENCIL_BUFFER_BIT",1028:"FRONT",1029:"BACK",1032:"FRONT_AND_BACK",1280:"INVALID_ENUM",1281:"INVALID_VALUE",1282:"INVALID_OPERATION",1285:"OUT_OF_MEMORY",1286:"INVALID_FRAMEBUFFER_OPERATION",2304:"CW",2305:"CCW",2849:"LINE_WIDTH",2884:"CULL_FACE",2885:"CULL_FACE_MODE",2886:"FRONT_FACE",2928:"DEPTH_RANGE",2929:"DEPTH_TEST",2930:"DEPTH_WRITEMASK",2931:"DEPTH_CLEAR_VALUE",2932:"DEPTH_FUNC",2960:"STENCIL_TEST",2961:"STENCIL_CLEAR_VALUE",2962:"STENCIL_FUNC",2963:"STENCIL_VALUE_MASK",2964:"STENCIL_FAIL",2965:"STENCIL_PASS_DEPTH_FAIL",2966:"STENCIL_PASS_DEPTH_PASS",2967:"STENCIL_REF",2968:"STENCIL_WRITEMASK",2978:"VIEWPORT",3024:"DITHER",3042:"BLEND",3088:"SCISSOR_BOX",3089:"SCISSOR_TEST",3106:"COLOR_CLEAR_VALUE",3107:"COLOR_WRITEMASK",3317:"UNPACK_ALIGNMENT",3333:"PACK_ALIGNMENT",3379:"MAX_TEXTURE_SIZE",3386:"MAX_VIEWPORT_DIMS",3408:"SUBPIXEL_BITS",3410:"RED_BITS",3411:"GREEN_BITS",3412:"BLUE_BITS",3413:"ALPHA_BITS",3414:"DEPTH_BITS",3415:"STENCIL_BITS",3553:"TEXTURE_2D",4352:"DONT_CARE",4353:"FASTEST",4354:"NICEST",5120:"BYTE",5121:"UNSIGNED_BYTE",5122:"SHORT",5123:"UNSIGNED_SHORT",5124:"INT",5125:"UNSIGNED_INT",5126:"FLOAT",5386:"INVERT",5890:"TEXTURE",6401:"STENCIL_INDEX",6402:"DEPTH_COMPONENT",6406:"ALPHA",6407:"RGB",6408:"RGBA",6409:"LUMINANCE",6410:"LUMINANCE_ALPHA",7680:"KEEP",7681:"REPLACE",7682:"INCR",7683:"DECR",7936:"VENDOR",7937:"RENDERER",7938:"VERSION",9728:"NEAREST",9729:"LINEAR",9984:"NEAREST_MIPMAP_NEAREST",9985:"LINEAR_MIPMAP_NEAREST",9986:"NEAREST_MIPMAP_LINEAR",9987:"LINEAR_MIPMAP_LINEAR",10240:"TEXTURE_MAG_FILTER",10241:"TEXTURE_MIN_FILTER",10242:"TEXTURE_WRAP_S",10243:"TEXTURE_WRAP_T",10497:"REPEAT",10752:"POLYGON_OFFSET_UNITS",16384:"COLOR_BUFFER_BIT",32769:"CONSTANT_COLOR",32770:"ONE_MINUS_CONSTANT_COLOR",32771:"CONSTANT_ALPHA",32772:"ONE_MINUS_CONSTANT_ALPHA",32773:"BLEND_COLOR",32774:"FUNC_ADD",32777:"BLEND_EQUATION_RGB",32778:"FUNC_SUBTRACT",32779:"FUNC_REVERSE_SUBTRACT",32819:"UNSIGNED_SHORT_4_4_4_4",32820:"UNSIGNED_SHORT_5_5_5_1",32823:"POLYGON_OFFSET_FILL",32824:"POLYGON_OFFSET_FACTOR",32854:"RGBA4",32855:"RGB5_A1",32873:"TEXTURE_BINDING_2D",32926:"SAMPLE_ALPHA_TO_COVERAGE",32928:"SAMPLE_COVERAGE",32936:"SAMPLE_BUFFERS",32937:"SAMPLES",32938:"SAMPLE_COVERAGE_VALUE",32939:"SAMPLE_COVERAGE_INVERT",32968:"BLEND_DST_RGB",32969:"BLEND_SRC_RGB",32970:"BLEND_DST_ALPHA",32971:"BLEND_SRC_ALPHA",33071:"CLAMP_TO_EDGE",33170:"GENERATE_MIPMAP_HINT",33189:"DEPTH_COMPONENT16",33306:"DEPTH_STENCIL_ATTACHMENT",33635:"UNSIGNED_SHORT_5_6_5",33648:"MIRRORED_REPEAT",33901:"ALIASED_POINT_SIZE_RANGE",33902:"ALIASED_LINE_WIDTH_RANGE",33984:"TEXTURE0",33985:"TEXTURE1",33986:"TEXTURE2",33987:"TEXTURE3",33988:"TEXTURE4",33989:"TEXTURE5",33990:"TEXTURE6",33991:"TEXTURE7",33992:"TEXTURE8",33993:"TEXTURE9",33994:"TEXTURE10",33995:"TEXTURE11",33996:"TEXTURE12",33997:"TEXTURE13",33998:"TEXTURE14",33999:"TEXTURE15",34e3:"TEXTURE16",34001:"TEXTURE17",34002:"TEXTURE18",34003:"TEXTURE19",34004:"TEXTURE20",34005:"TEXTURE21",34006:"TEXTURE22",34007:"TEXTURE23",34008:"TEXTURE24",34009:"TEXTURE25",34010:"TEXTURE26",34011:"TEXTURE27",34012:"TEXTURE28",34013:"TEXTURE29",34014:"TEXTURE30",34015:"TEXTURE31",34016:"ACTIVE_TEXTURE",34024:"MAX_RENDERBUFFER_SIZE",34041:"DEPTH_STENCIL",34055:"INCR_WRAP",34056:"DECR_WRAP",34067:"TEXTURE_CUBE_MAP",34068:"TEXTURE_BINDING_CUBE_MAP",34069:"TEXTURE_CUBE_MAP_POSITIVE_X",34070:"TEXTURE_CUBE_MAP_NEGATIVE_X",34071:"TEXTURE_CUBE_MAP_POSITIVE_Y",34072:"TEXTURE_CUBE_MAP_NEGATIVE_Y",34073:"TEXTURE_CUBE_MAP_POSITIVE_Z",34074:"TEXTURE_CUBE_MAP_NEGATIVE_Z",34076:"MAX_CUBE_MAP_TEXTURE_SIZE",34338:"VERTEX_ATTRIB_ARRAY_ENABLED",34339:"VERTEX_ATTRIB_ARRAY_SIZE",34340:"VERTEX_ATTRIB_ARRAY_STRIDE",34341:"VERTEX_ATTRIB_ARRAY_TYPE",34342:"CURRENT_VERTEX_ATTRIB",34373:"VERTEX_ATTRIB_ARRAY_POINTER",34466:"NUM_COMPRESSED_TEXTURE_FORMATS",34467:"COMPRESSED_TEXTURE_FORMATS",34660:"BUFFER_SIZE",34661:"BUFFER_USAGE",34816:"STENCIL_BACK_FUNC",34817:"STENCIL_BACK_FAIL",34818:"STENCIL_BACK_PASS_DEPTH_FAIL",34819:"STENCIL_BACK_PASS_DEPTH_PASS",34877:"BLEND_EQUATION_ALPHA",34921:"MAX_VERTEX_ATTRIBS",34922:"VERTEX_ATTRIB_ARRAY_NORMALIZED",34930:"MAX_TEXTURE_IMAGE_UNITS",34962:"ARRAY_BUFFER",34963:"ELEMENT_ARRAY_BUFFER",34964:"ARRAY_BUFFER_BINDING",34965:"ELEMENT_ARRAY_BUFFER_BINDING",34975:"VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",35040:"STREAM_DRAW",35044:"STATIC_DRAW",35048:"DYNAMIC_DRAW",35632:"FRAGMENT_SHADER",35633:"VERTEX_SHADER",35660:"MAX_VERTEX_TEXTURE_IMAGE_UNITS",35661:"MAX_COMBINED_TEXTURE_IMAGE_UNITS",35663:"SHADER_TYPE",35664:"FLOAT_VEC2",35665:"FLOAT_VEC3",35666:"FLOAT_VEC4",35667:"INT_VEC2",35668:"INT_VEC3",35669:"INT_VEC4",35670:"BOOL",35671:"BOOL_VEC2",35672:"BOOL_VEC3",35673:"BOOL_VEC4",35674:"FLOAT_MAT2",35675:"FLOAT_MAT3",35676:"FLOAT_MAT4",35678:"SAMPLER_2D",35680:"SAMPLER_CUBE",35712:"DELETE_STATUS",35713:"COMPILE_STATUS",35714:"LINK_STATUS",35715:"VALIDATE_STATUS",35716:"INFO_LOG_LENGTH",35717:"ATTACHED_SHADERS",35718:"ACTIVE_UNIFORMS",35719:"ACTIVE_UNIFORM_MAX_LENGTH",35720:"SHADER_SOURCE_LENGTH",35721:"ACTIVE_ATTRIBUTES",35722:"ACTIVE_ATTRIBUTE_MAX_LENGTH",35724:"SHADING_LANGUAGE_VERSION",35725:"CURRENT_PROGRAM",36003:"STENCIL_BACK_REF",36004:"STENCIL_BACK_VALUE_MASK",36005:"STENCIL_BACK_WRITEMASK",36006:"FRAMEBUFFER_BINDING",36007:"RENDERBUFFER_BINDING",36048:"FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",36049:"FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",36050:"FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",36051:"FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",36053:"FRAMEBUFFER_COMPLETE",36054:"FRAMEBUFFER_INCOMPLETE_ATTACHMENT",36055:"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",36057:"FRAMEBUFFER_INCOMPLETE_DIMENSIONS",36061:"FRAMEBUFFER_UNSUPPORTED",36064:"COLOR_ATTACHMENT0",36096:"DEPTH_ATTACHMENT",36128:"STENCIL_ATTACHMENT",36160:"FRAMEBUFFER",36161:"RENDERBUFFER",36162:"RENDERBUFFER_WIDTH",36163:"RENDERBUFFER_HEIGHT",36164:"RENDERBUFFER_INTERNAL_FORMAT",36168:"STENCIL_INDEX8",36176:"RENDERBUFFER_RED_SIZE",36177:"RENDERBUFFER_GREEN_SIZE",36178:"RENDERBUFFER_BLUE_SIZE",36179:"RENDERBUFFER_ALPHA_SIZE",36180:"RENDERBUFFER_DEPTH_SIZE",36181:"RENDERBUFFER_STENCIL_SIZE",36194:"RGB565",36336:"LOW_FLOAT",36337:"MEDIUM_FLOAT",36338:"HIGH_FLOAT",36339:"LOW_INT",36340:"MEDIUM_INT",36341:"HIGH_INT",36346:"SHADER_COMPILER",36347:"MAX_VERTEX_UNIFORM_VECTORS",36348:"MAX_VARYING_VECTORS",36349:"MAX_FRAGMENT_UNIFORM_VECTORS",37440:"UNPACK_FLIP_Y_WEBGL",37441:"UNPACK_PREMULTIPLY_ALPHA_WEBGL",37442:"CONTEXT_LOST_WEBGL",37443:"UNPACK_COLORSPACE_CONVERSION_WEBGL",37444:"BROWSER_DEFAULT_WEBGL"}},6603:function(v,p,r){var t=r(1950);v.exports=function(n){return t[n]}},3110:function(v,p,r){v.exports=c;var t=r(5827),s=r(2944),n=r(7667),f=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function u(i,d,b,w){this.gl=i,this.shader=w,this.buffer=d,this.vao=b,this.pixelRatio=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lineWidth=[1,1,1],this.capSize=[10,10,10],this.lineCount=[0,0,0],this.lineOffset=[0,0,0],this.opacity=1,this.hasAlpha=!1}var l=u.prototype;l.isOpaque=function(){return!this.hasAlpha},l.isTransparent=function(){return this.hasAlpha},l.drawTransparent=l.draw=function(i){var d=this.gl,b=this.shader.uniforms;this.shader.bind();var w=b.view=i.view||f,E=b.projection=i.projection||f;b.model=i.model||f,b.clipBounds=this.clipBounds,b.opacity=this.opacity;var y=w[12],S=w[13],T=w[14],o=w[15],P=i._ortho||!1,x=P?2:1,_=x*this.pixelRatio*(E[3]*y+E[7]*S+E[11]*T+E[15]*o)/d.drawingBufferHeight;this.vao.bind();for(var I=0;I<3;++I)d.lineWidth(this.lineWidth[I]*this.pixelRatio),b.capSize=this.capSize[I]*_,this.lineCount[I]&&d.drawArrays(d.LINES,this.lineOffset[I],this.lineCount[I]);this.vao.unbind()};function m(i,d){for(var b=0;b<3;++b)i[0][b]=Math.min(i[0][b],d[b]),i[1][b]=Math.max(i[1][b],d[b])}var h=function(){for(var i=new Array(3),d=0;d<3;++d){for(var b=[],w=1;w<=2;++w)for(var E=-1;E<=1;E+=2){var y=(w+d)%3,S=[0,0,0];S[y]=E,b.push(S)}i[d]=b}return i}();function M(i,d,b,w){for(var E=h[w],y=0;y<E.length;++y){var S=E[y];i.push(d[0],d[1],d[2],b[0],b[1],b[2],b[3],S[0],S[1],S[2])}return E.length}l.update=function(i){i=i||{},"lineWidth"in i&&(this.lineWidth=i.lineWidth,Array.isArray(this.lineWidth)||(this.lineWidth=[this.lineWidth,this.lineWidth,this.lineWidth])),"capSize"in i&&(this.capSize=i.capSize,Array.isArray(this.capSize)||(this.capSize=[this.capSize,this.capSize,this.capSize])),this.hasAlpha=!1,"opacity"in i&&(this.opacity=+i.opacity,this.opacity<1&&(this.hasAlpha=!0));var d=i.color||[[0,0,0],[0,0,0],[0,0,0]],b=i.position,w=i.error;if(Array.isArray(d[0])||(d=[d,d,d]),b&&w){var E=[],y=b.length,S=0;this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.lineCount=[0,0,0];for(var T=0;T<3;++T){this.lineOffset[T]=S;e:for(var o=0;o<y;++o){for(var P=b[o],x=0;x<3;++x)if(isNaN(P[x])||!isFinite(P[x]))continue e;var _=w[o],I=d[T];if(Array.isArray(I[0])&&(I=d[o]),I.length===3?I=[I[0],I[1],I[2],1]:I.length===4&&(I=[I[0],I[1],I[2],I[3]],!this.hasAlpha&&I[3]<1&&(this.hasAlpha=!0)),!(isNaN(_[0][T])||isNaN(_[1][T]))){if(_[0][T]<0){var N=P.slice();N[T]+=_[0][T],E.push(P[0],P[1],P[2],I[0],I[1],I[2],I[3],0,0,0,N[0],N[1],N[2],I[0],I[1],I[2],I[3],0,0,0),m(this.bounds,N),S+=2+M(E,N,I,T)}if(_[1][T]>0){var N=P.slice();N[T]+=_[1][T],E.push(P[0],P[1],P[2],I[0],I[1],I[2],I[3],0,0,0,N[0],N[1],N[2],I[0],I[1],I[2],I[3],0,0,0),m(this.bounds,N),S+=2+M(E,N,I,T)}}}this.lineCount[T]=S-this.lineOffset[T]}this.buffer.update(E)}},l.dispose=function(){this.shader.dispose(),this.buffer.dispose(),this.vao.dispose()};function c(i){var d=i.gl,b=t(d),w=s(d,[{buffer:b,type:d.FLOAT,size:3,offset:0,stride:40},{buffer:b,type:d.FLOAT,size:4,offset:12,stride:40},{buffer:b,type:d.FLOAT,size:3,offset:28,stride:40}]),E=n(d);E.attributes.position.location=0,E.attributes.color.location=1,E.attributes.offset.location=2;var y=new u(d,b,w,E);return y.update(i),y}},7667:function(v,p,r){var t=r(6832),s=r(5158),n=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, offset;
attribute vec4 color;
uniform mat4 model, view, projection;
uniform float capSize;
varying vec4 fragColor;
varying vec3 fragPosition;

void main() {
  vec4 worldPosition  = model * vec4(position, 1.0);
  worldPosition       = (worldPosition / worldPosition.w) + vec4(capSize * offset, 0.0);
  gl_Position         = projection * view * worldPosition;
  fragColor           = color;
  fragPosition        = position;
}`]),f=t([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float opacity;
varying vec3 fragPosition;
varying vec4 fragColor;

void main() {
  if (
    outOfRange(clipBounds[0], clipBounds[1], fragPosition) ||
    fragColor.a * opacity == 0.
  ) discard;

  gl_FragColor = opacity * fragColor;
}`]);v.exports=function(u){return s(u,n,f,null,[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"offset",type:"vec3"}])}},4234:function(v,p,r){var t=r(8931);v.exports=S;var s=null,n,f,u,l;function m(T){var o=T.getParameter(T.FRAMEBUFFER_BINDING),P=T.getParameter(T.RENDERBUFFER_BINDING),x=T.getParameter(T.TEXTURE_BINDING_2D);return[o,P,x]}function h(T,o){T.bindFramebuffer(T.FRAMEBUFFER,o[0]),T.bindRenderbuffer(T.RENDERBUFFER,o[1]),T.bindTexture(T.TEXTURE_2D,o[2])}function M(T,o){var P=T.getParameter(o.MAX_COLOR_ATTACHMENTS_WEBGL);s=new Array(P+1);for(var x=0;x<=P;++x){for(var _=new Array(P),I=0;I<x;++I)_[I]=T.COLOR_ATTACHMENT0+I;for(var I=x;I<P;++I)_[I]=T.NONE;s[x]=_}}function c(T){switch(T){case n:throw new Error("gl-fbo: Framebuffer unsupported");case f:throw new Error("gl-fbo: Framebuffer incomplete attachment");case u:throw new Error("gl-fbo: Framebuffer incomplete dimensions");case l:throw new Error("gl-fbo: Framebuffer incomplete missing attachment");default:throw new Error("gl-fbo: Framebuffer failed for unspecified reason")}}function i(T,o,P,x,_,I){if(!x)return null;var N=t(T,o,P,_,x);return N.magFilter=T.NEAREST,N.minFilter=T.NEAREST,N.mipSamples=1,N.bind(),T.framebufferTexture2D(T.FRAMEBUFFER,I,T.TEXTURE_2D,N.handle,0),N}function d(T,o,P,x,_){var I=T.createRenderbuffer();return T.bindRenderbuffer(T.RENDERBUFFER,I),T.renderbufferStorage(T.RENDERBUFFER,x,o,P),T.framebufferRenderbuffer(T.FRAMEBUFFER,_,T.RENDERBUFFER,I),I}function b(T){var o=m(T.gl),P=T.gl,x=T.handle=P.createFramebuffer(),_=T._shape[0],I=T._shape[1],N=T.color.length,k=T._ext,F=T._useStencil,O=T._useDepth,z=T._colorType;P.bindFramebuffer(P.FRAMEBUFFER,x);for(var B=0;B<N;++B)T.color[B]=i(P,_,I,z,P.RGBA,P.COLOR_ATTACHMENT0+B);N===0?(T._color_rb=d(P,_,I,P.RGBA4,P.COLOR_ATTACHMENT0),k&&k.drawBuffersWEBGL(s[0])):N>1&&k.drawBuffersWEBGL(s[N]);var W=P.getExtension("WEBGL_depth_texture");W?F?T.depth=i(P,_,I,W.UNSIGNED_INT_24_8_WEBGL,P.DEPTH_STENCIL,P.DEPTH_STENCIL_ATTACHMENT):O&&(T.depth=i(P,_,I,P.UNSIGNED_SHORT,P.DEPTH_COMPONENT,P.DEPTH_ATTACHMENT)):O&&F?T._depth_rb=d(P,_,I,P.DEPTH_STENCIL,P.DEPTH_STENCIL_ATTACHMENT):O?T._depth_rb=d(P,_,I,P.DEPTH_COMPONENT16,P.DEPTH_ATTACHMENT):F&&(T._depth_rb=d(P,_,I,P.STENCIL_INDEX,P.STENCIL_ATTACHMENT));var q=P.checkFramebufferStatus(P.FRAMEBUFFER);if(q!==P.FRAMEBUFFER_COMPLETE){T._destroyed=!0,P.bindFramebuffer(P.FRAMEBUFFER,null),P.deleteFramebuffer(T.handle),T.handle=null,T.depth&&(T.depth.dispose(),T.depth=null),T._depth_rb&&(P.deleteRenderbuffer(T._depth_rb),T._depth_rb=null);for(var B=0;B<T.color.length;++B)T.color[B].dispose(),T.color[B]=null;T._color_rb&&(P.deleteRenderbuffer(T._color_rb),T._color_rb=null),h(P,o),c(q)}h(P,o)}function w(T,o,P,x,_,I,N,k){this.gl=T,this._shape=[o|0,P|0],this._destroyed=!1,this._ext=k,this.color=new Array(_);for(var F=0;F<_;++F)this.color[F]=null;this._color_rb=null,this.depth=null,this._depth_rb=null,this._colorType=x,this._useDepth=I,this._useStencil=N;var O=this,z=[o|0,P|0];Object.defineProperties(z,{0:{get:function(){return O._shape[0]},set:function(B){return O.width=B}},1:{get:function(){return O._shape[1]},set:function(B){return O.height=B}}}),this._shapeVector=z,b(this)}var E=w.prototype;function y(T,o,P){if(T._destroyed)throw new Error("gl-fbo: Can't resize destroyed FBO");if(!(T._shape[0]===o&&T._shape[1]===P)){var x=T.gl,_=x.getParameter(x.MAX_RENDERBUFFER_SIZE);if(o<0||o>_||P<0||P>_)throw new Error("gl-fbo: Can't resize FBO, invalid dimensions");T._shape[0]=o,T._shape[1]=P;for(var I=m(x),N=0;N<T.color.length;++N)T.color[N].shape=T._shape;T._color_rb&&(x.bindRenderbuffer(x.RENDERBUFFER,T._color_rb),x.renderbufferStorage(x.RENDERBUFFER,x.RGBA4,T._shape[0],T._shape[1])),T.depth&&(T.depth.shape=T._shape),T._depth_rb&&(x.bindRenderbuffer(x.RENDERBUFFER,T._depth_rb),T._useDepth&&T._useStencil?x.renderbufferStorage(x.RENDERBUFFER,x.DEPTH_STENCIL,T._shape[0],T._shape[1]):T._useDepth?x.renderbufferStorage(x.RENDERBUFFER,x.DEPTH_COMPONENT16,T._shape[0],T._shape[1]):T._useStencil&&x.renderbufferStorage(x.RENDERBUFFER,x.STENCIL_INDEX,T._shape[0],T._shape[1])),x.bindFramebuffer(x.FRAMEBUFFER,T.handle);var k=x.checkFramebufferStatus(x.FRAMEBUFFER);k!==x.FRAMEBUFFER_COMPLETE&&(T.dispose(),h(x,I),c(k)),h(x,I)}}Object.defineProperties(E,{shape:{get:function(){return this._destroyed?[0,0]:this._shapeVector},set:function(T){if(Array.isArray(T)||(T=[T|0,T|0]),T.length!==2)throw new Error("gl-fbo: Shape vector must be length 2");var o=T[0]|0,P=T[1]|0;return y(this,o,P),[o,P]},enumerable:!1},width:{get:function(){return this._destroyed?0:this._shape[0]},set:function(T){return T=T|0,y(this,T,this._shape[1]),T},enumerable:!1},height:{get:function(){return this._destroyed?0:this._shape[1]},set:function(T){return T=T|0,y(this,this._shape[0],T),T},enumerable:!1}}),E.bind=function(){if(!this._destroyed){var T=this.gl;T.bindFramebuffer(T.FRAMEBUFFER,this.handle),T.viewport(0,0,this._shape[0],this._shape[1])}},E.dispose=function(){if(!this._destroyed){this._destroyed=!0;var T=this.gl;T.deleteFramebuffer(this.handle),this.handle=null,this.depth&&(this.depth.dispose(),this.depth=null),this._depth_rb&&(T.deleteRenderbuffer(this._depth_rb),this._depth_rb=null);for(var o=0;o<this.color.length;++o)this.color[o].dispose(),this.color[o]=null;this._color_rb&&(T.deleteRenderbuffer(this._color_rb),this._color_rb=null)}};function S(T,o,P,x){n||(n=T.FRAMEBUFFER_UNSUPPORTED,f=T.FRAMEBUFFER_INCOMPLETE_ATTACHMENT,u=T.FRAMEBUFFER_INCOMPLETE_DIMENSIONS,l=T.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT);var _=T.getExtension("WEBGL_draw_buffers");if(!s&&_&&M(T,_),Array.isArray(o)&&(x=P,P=o[1]|0,o=o[0]|0),typeof o!="number")throw new Error("gl-fbo: Missing shape parameter");var I=T.getParameter(T.MAX_RENDERBUFFER_SIZE);if(o<0||o>I||P<0||P>I)throw new Error("gl-fbo: Parameters are too large for FBO");x=x||{};var N=1;if("color"in x){if(N=Math.max(x.color|0,0),N<0)throw new Error("gl-fbo: Must specify a nonnegative number of colors");if(N>1)if(_){if(N>T.getParameter(_.MAX_COLOR_ATTACHMENTS_WEBGL))throw new Error("gl-fbo: Context does not support "+N+" draw buffers")}else throw new Error("gl-fbo: Multiple draw buffer extension not supported")}var k=T.UNSIGNED_BYTE,F=T.getExtension("OES_texture_float");if(x.float&&N>0){if(!F)throw new Error("gl-fbo: Context does not support floating point textures");k=T.FLOAT}else x.preferFloat&&N>0&&F&&(k=T.FLOAT);var O=!0;"depth"in x&&(O=!!x.depth);var z=!1;return"stencil"in x&&(z=!!x.stencil),new w(T,o,P,k,N,O,z,_)}},3530:function(v,p,r){var t=r(8974).sprintf,s=r(6603),n=r(9365),f=r(8008);v.exports=u;function u(l,m,h){var M=n(m)||"of unknown name (see npm glsl-shader-name)",c="unknown type";h!==void 0&&(c=h===s.FRAGMENT_SHADER?"fragment":"vertex");for(var i=t(`Error compiling %s shader %s:
`,c,M),d=t("%s%s",i,l),b=l.split(`
`),w={},E=0;E<b.length;E++){var y=b[E];if(!(y===""||y==="\0")){var S=parseInt(y.split(":")[2]);if(isNaN(S))throw new Error(t("Could not parse error: %s",y));w[S]=y}}for(var T=f(m).split(`
`),E=0;E<T.length;E++)if(!(!w[E+3]&&!w[E+2]&&!w[E+1])){var o=T[E];if(i+=o+`
`,w[E+1]){var P=w[E+1];P=P.substr(P.split(":",3).join(":").length+1).trim(),i+=t(`^^^ %s

`,P)}}return{long:i.trim(),short:d.trim()}}},6386:function(v,p,r){v.exports=c;var t=r(5070),s=r(9560),n=r(5306),f=r(5158),u=r(5827),l=r(1292);function m(i,d,b,w,E,y,S){this.plot=i,this.shader=d,this.pickShader=b,this.positionBuffer=w,this.weightBuffer=E,this.colorBuffer=y,this.idBuffer=S,this.xData=[],this.yData=[],this.shape=[0,0],this.bounds=[1/0,1/0,-1/0,-1/0],this.pickOffset=0}var h=m.prototype,M=[0,0,1,0,0,1,1,0,1,1,0,1];h.draw=function(){var i=[1,0,0,0,1,0,0,0,1];return function(){var d=this.plot,b=this.shader,w=this.bounds,E=this.numVertices;if(!(E<=0)){var y=d.gl,S=d.dataBox,T=w[2]-w[0],o=w[3]-w[1],P=S[2]-S[0],x=S[3]-S[1];i[0]=2*T/P,i[4]=2*o/x,i[6]=2*(w[0]-S[0])/P-1,i[7]=2*(w[1]-S[1])/x-1,b.bind();var _=b.uniforms;_.viewTransform=i,_.shape=this.shape;var I=b.attributes;this.positionBuffer.bind(),I.position.pointer(),this.weightBuffer.bind(),I.weight.pointer(y.UNSIGNED_BYTE,!1),this.colorBuffer.bind(),I.color.pointer(y.UNSIGNED_BYTE,!0),y.drawArrays(y.TRIANGLES,0,E)}}}(),h.drawPick=function(){var i=[1,0,0,0,1,0,0,0,1],d=[0,0,0,0];return function(b){var w=this.plot,E=this.pickShader,y=this.bounds,S=this.numVertices;if(!(S<=0)){var T=w.gl,o=w.dataBox,P=y[2]-y[0],x=y[3]-y[1],_=o[2]-o[0],I=o[3]-o[1];i[0]=2*P/_,i[4]=2*x/I,i[6]=2*(y[0]-o[0])/_-1,i[7]=2*(y[1]-o[1])/I-1;for(var N=0;N<4;++N)d[N]=b>>N*8&255;this.pickOffset=b,E.bind();var k=E.uniforms;k.viewTransform=i,k.pickOffset=d,k.shape=this.shape;var F=E.attributes;return this.positionBuffer.bind(),F.position.pointer(),this.weightBuffer.bind(),F.weight.pointer(T.UNSIGNED_BYTE,!1),this.idBuffer.bind(),F.pickId.pointer(T.UNSIGNED_BYTE,!1),T.drawArrays(T.TRIANGLES,0,S),b+this.shape[0]*this.shape[1]}}}(),h.pick=function(i,d,b){var w=this.pickOffset,E=this.shape[0]*this.shape[1];if(b<w||b>=w+E)return null;var y=b-w,S=this.xData,T=this.yData;return{object:this,pointId:y,dataCoord:[S[y%this.shape[0]],T[y/this.shape[0]|0]]}},h.update=function(i){i=i||{};var d=i.shape||[0,0],b=i.x||s(d[0]),w=i.y||s(d[1]),E=i.z||new Float32Array(d[0]*d[1]),y=i.zsmooth!==!1;this.xData=b,this.yData=w;var S=i.colorLevels||[0],T=i.colorValues||[0,0,0,1],o=S.length,P=this.bounds,x,_,I,N;y?(x=P[0]=b[0],_=P[1]=w[0],I=P[2]=b[b.length-1],N=P[3]=w[w.length-1]):(x=P[0]=b[0]+(b[1]-b[0])/2,_=P[1]=w[0]+(w[1]-w[0])/2,I=P[2]=b[b.length-1]+(b[b.length-1]-b[b.length-2])/2,N=P[3]=w[w.length-1]+(w[w.length-1]-w[w.length-2])/2);var k=1/(I-x),F=1/(N-_),O=d[0],z=d[1];this.shape=[O,z];var B=(y?(O-1)*(z-1):O*z)*(M.length>>>1);this.numVertices=B;for(var W=n.mallocUint8(B*4),q=n.mallocFloat32(B*2),ee=n.mallocUint8(B*2),Q=n.mallocUint32(B),oe=0,Z=y?O-1:O,Y=y?z-1:z,te=0;te<Y;++te){var X,$;y?(X=F*(w[te]-_),$=F*(w[te+1]-_)):(X=te<z-1?F*(w[te]-(w[te+1]-w[te])/2-_):F*(w[te]-(w[te]-w[te-1])/2-_),$=te<z-1?F*(w[te]+(w[te+1]-w[te])/2-_):F*(w[te]+(w[te]-w[te-1])/2-_));for(var ie=0;ie<Z;++ie){var J,j;y?(J=k*(b[ie]-x),j=k*(b[ie+1]-x)):(J=ie<O-1?k*(b[ie]-(b[ie+1]-b[ie])/2-x):k*(b[ie]-(b[ie]-b[ie-1])/2-x),j=ie<O-1?k*(b[ie]+(b[ie+1]-b[ie])/2-x):k*(b[ie]+(b[ie]-b[ie-1])/2-x));for(var se=0;se<M.length;se+=2){var ne=M[se],le=M[se+1],pe=y?(te+le)*O+(ie+ne):te*O+ie,Ae=E[pe],be=t.le(S,Ae),Re,xe,Me,ye;if(be<0)Re=T[0],xe=T[1],Me=T[2],ye=T[3];else if(be===o-1)Re=T[4*o-4],xe=T[4*o-3],Me=T[4*o-2],ye=T[4*o-1];else{var Se=(Ae-S[be])/(S[be+1]-S[be]),Fe=1-Se,Be=4*be,_e=4*(be+1);Re=Fe*T[Be]+Se*T[_e],xe=Fe*T[Be+1]+Se*T[_e+1],Me=Fe*T[Be+2]+Se*T[_e+2],ye=Fe*T[Be+3]+Se*T[_e+3]}W[4*oe]=255*Re,W[4*oe+1]=255*xe,W[4*oe+2]=255*Me,W[4*oe+3]=255*ye,q[2*oe]=J*.5+j*.5,q[2*oe+1]=X*.5+$*.5,ee[2*oe]=ne,ee[2*oe+1]=le,Q[oe]=te*O+ie,oe+=1}}}this.positionBuffer.update(q),this.weightBuffer.update(ee),this.colorBuffer.update(W),this.idBuffer.update(Q),n.free(q),n.free(W),n.free(ee),n.free(Q)},h.dispose=function(){this.shader.dispose(),this.pickShader.dispose(),this.positionBuffer.dispose(),this.weightBuffer.dispose(),this.colorBuffer.dispose(),this.idBuffer.dispose(),this.plot.removeObject(this)};function c(i,d){var b=i.gl,w=f(b,l.vertex,l.fragment),E=f(b,l.pickVertex,l.pickFragment),y=u(b),S=u(b),T=u(b),o=u(b),P=new m(i,w,E,y,S,T,o);return P.update(d),i.addObject(P),P}},1292:function(v,p,r){var t=r(6832);v.exports={fragment:t([`precision lowp float;
#define GLSLIFY 1
varying vec4 fragColor;
void main() {
  gl_FragColor = vec4(fragColor.rgb * fragColor.a, fragColor.a);
}
`]),vertex:t([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;
attribute vec4 color;
attribute vec2 weight;

uniform vec2 shape;
uniform mat3 viewTransform;

varying vec4 fragColor;

void main() {
  vec3 vPosition = viewTransform * vec3( position + (weight-.5)/(shape-1.) , 1.0);
  fragColor = color;
  gl_Position = vec4(vPosition.xy, 0, vPosition.z);
}
`]),pickFragment:t([`precision mediump float;
#define GLSLIFY 1

varying vec4 fragId;
varying vec2 vWeight;

uniform vec2 shape;
uniform vec4 pickOffset;

void main() {
  vec2 d = step(.5, vWeight);
  vec4 id = fragId + pickOffset;
  id.x += d.x + d.y*shape.x;

  id.y += floor(id.x / 256.0);
  id.x -= floor(id.x / 256.0) * 256.0;

  id.z += floor(id.y / 256.0);
  id.y -= floor(id.y / 256.0) * 256.0;

  id.w += floor(id.z / 256.0);
  id.z -= floor(id.z / 256.0) * 256.0;

  gl_FragColor = id/255.;
}
`]),pickVertex:t([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;
attribute vec4 pickId;
attribute vec2 weight;

uniform vec2 shape;
uniform mat3 viewTransform;

varying vec4 fragId;
varying vec2 vWeight;

void main() {
  vWeight = weight;

  fragId = pickId;

  vec3 vPosition = viewTransform * vec3( position + (weight-.5)/(shape-1.) , 1.0);
  gl_Position = vec4(vPosition.xy, 0, vPosition.z);
}
`])}},248:function(v,p,r){var t=r(6832),s=r(5158),n=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, nextPosition;
attribute float arcLength, lineWidth;
attribute vec4 color;

uniform vec2 screenShape;
uniform float pixelRatio;
uniform mat4 model, view, projection;

varying vec4 fragColor;
varying vec3 worldPosition;
varying float pixelArcLength;

vec4 project(vec3 p) {
  return projection * view * model * vec4(p, 1.0);
}

void main() {
  vec4 startPoint = project(position);
  vec4 endPoint   = project(nextPosition);

  vec2 A = startPoint.xy / startPoint.w;
  vec2 B =   endPoint.xy /   endPoint.w;

  float clipAngle = atan(
    (B.y - A.y) * screenShape.y,
    (B.x - A.x) * screenShape.x
  );

  vec2 offset = 0.5 * pixelRatio * lineWidth * vec2(
    sin(clipAngle),
    -cos(clipAngle)
  ) / screenShape;

  gl_Position = vec4(startPoint.xy + startPoint.w * offset, startPoint.zw);

  worldPosition = position;
  pixelArcLength = arcLength;
  fragColor = color;
}
`]),f=t([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3      clipBounds[2];
uniform sampler2D dashTexture;
uniform float     dashScale;
uniform float     opacity;

varying vec3    worldPosition;
varying float   pixelArcLength;
varying vec4    fragColor;

void main() {
  if (
    outOfRange(clipBounds[0], clipBounds[1], worldPosition) ||
    fragColor.a * opacity == 0.
  ) discard;

  float dashWeight = texture2D(dashTexture, vec2(dashScale * pixelArcLength, 0)).r;
  if(dashWeight < 0.5) {
    discard;
  }
  gl_FragColor = fragColor * opacity;
}
`]),u=t([`precision highp float;
#define GLSLIFY 1

#define FLOAT_MAX  1.70141184e38
#define FLOAT_MIN  1.17549435e-38

// https://github.com/mikolalysenko/glsl-read-float/blob/master/index.glsl
vec4 packFloat(float v) {
  float av = abs(v);

  //Handle special cases
  if(av < FLOAT_MIN) {
    return vec4(0.0, 0.0, 0.0, 0.0);
  } else if(v > FLOAT_MAX) {
    return vec4(127.0, 128.0, 0.0, 0.0) / 255.0;
  } else if(v < -FLOAT_MAX) {
    return vec4(255.0, 128.0, 0.0, 0.0) / 255.0;
  }

  vec4 c = vec4(0,0,0,0);

  //Compute exponent and mantissa
  float e = floor(log2(av));
  float m = av * pow(2.0, -e) - 1.0;

  //Unpack mantissa
  c[1] = floor(128.0 * m);
  m -= c[1] / 128.0;
  c[2] = floor(32768.0 * m);
  m -= c[2] / 32768.0;
  c[3] = floor(8388608.0 * m);

  //Unpack exponent
  float ebias = e + 127.0;
  c[0] = floor(ebias / 2.0);
  ebias -= c[0] * 2.0;
  c[1] += floor(ebias) * 128.0;

  //Unpack sign bit
  c[0] += 128.0 * step(0.0, -v);

  //Scale back to range
  return c / 255.0;
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform float pickId;
uniform vec3 clipBounds[2];

varying vec3 worldPosition;
varying float pixelArcLength;
varying vec4 fragColor;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], worldPosition)) discard;

  gl_FragColor = vec4(pickId/255.0, packFloat(pixelArcLength).xyz);
}`]),l=[{name:"position",type:"vec3"},{name:"nextPosition",type:"vec3"},{name:"arcLength",type:"float"},{name:"lineWidth",type:"float"},{name:"color",type:"vec4"}];p.createShader=function(m){return s(m,n,f,null,l)},p.createPickShader=function(m){return s(m,n,u,null,l)}},6086:function(v,p,r){v.exports=T;var t=r(5827),s=r(2944),n=r(8931),f=new Uint8Array(4),u=new Float32Array(f.buffer);function l(o,P,x,_){return f[0]=_,f[1]=x,f[2]=P,f[3]=o,u[0]}var m=r(5070),h=r(5050),M=r(248),c=M.createShader,i=M.createPickShader,d=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function b(o,P){for(var x=0,_=0;_<3;++_){var I=o[_]-P[_];x+=I*I}return Math.sqrt(x)}function w(o){for(var P=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],x=0;x<3;++x)P[0][x]=Math.max(o[0][x],P[0][x]),P[1][x]=Math.min(o[1][x],P[1][x]);return P}function E(o,P,x,_){this.arcLength=o,this.position=P,this.index=x,this.dataCoordinate=_}function y(o,P,x,_,I,N){this.gl=o,this.shader=P,this.pickShader=x,this.buffer=_,this.vao=I,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.points=[],this.arcLength=[],this.vertexCount=0,this.bounds=[[0,0,0],[0,0,0]],this.pickId=0,this.lineWidth=1,this.texture=N,this.dashScale=1,this.opacity=1,this.hasAlpha=!1,this.dirty=!0,this.pixelRatio=1}var S=y.prototype;S.isTransparent=function(){return this.hasAlpha},S.isOpaque=function(){return!this.hasAlpha},S.pickSlots=1,S.setPickBase=function(o){this.pickId=o},S.drawTransparent=S.draw=function(o){if(!!this.vertexCount){var P=this.gl,x=this.shader,_=this.vao;x.bind(),x.uniforms={model:o.model||d,view:o.view||d,projection:o.projection||d,clipBounds:w(this.clipBounds),dashTexture:this.texture.bind(),dashScale:this.dashScale/this.arcLength[this.arcLength.length-1],opacity:this.opacity,screenShape:[P.drawingBufferWidth,P.drawingBufferHeight],pixelRatio:this.pixelRatio},_.bind(),_.draw(P.TRIANGLE_STRIP,this.vertexCount),_.unbind()}},S.drawPick=function(o){if(!!this.vertexCount){var P=this.gl,x=this.pickShader,_=this.vao;x.bind(),x.uniforms={model:o.model||d,view:o.view||d,projection:o.projection||d,pickId:this.pickId,clipBounds:w(this.clipBounds),screenShape:[P.drawingBufferWidth,P.drawingBufferHeight],pixelRatio:this.pixelRatio},_.bind(),_.draw(P.TRIANGLE_STRIP,this.vertexCount),_.unbind()}},S.update=function(o){var P,x;this.dirty=!0;var _=!!o.connectGaps;"dashScale"in o&&(this.dashScale=o.dashScale),this.hasAlpha=!1,"opacity"in o&&(this.opacity=+o.opacity,this.opacity<1&&(this.hasAlpha=!0));var I=[],N=[],k=[],F=0,O=0,z=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],B=o.position||o.positions;if(B){var W=o.color||o.colors||[0,0,0,1],q=o.lineWidth||1,ee=!1;e:for(P=1;P<B.length;++P){var Q=B[P-1],oe=B[P];for(N.push(F),k.push(Q.slice()),x=0;x<3;++x){if(isNaN(Q[x])||isNaN(oe[x])||!isFinite(Q[x])||!isFinite(oe[x])){if(!_&&I.length>0){for(var Z=0;Z<24;++Z)I.push(I[I.length-12]);O+=2,ee=!0}continue e}z[0][x]=Math.min(z[0][x],Q[x],oe[x]),z[1][x]=Math.max(z[1][x],Q[x],oe[x])}var Y,te;Array.isArray(W[0])?(Y=W.length>P-1?W[P-1]:W.length>0?W[W.length-1]:[0,0,0,1],te=W.length>P?W[P]:W.length>0?W[W.length-1]:[0,0,0,1]):Y=te=W,Y.length===3&&(Y=[Y[0],Y[1],Y[2],1]),te.length===3&&(te=[te[0],te[1],te[2],1]),!this.hasAlpha&&Y[3]<1&&(this.hasAlpha=!0);var X;Array.isArray(q)?X=q.length>P-1?q[P-1]:q.length>0?q[q.length-1]:[0,0,0,1]:X=q;var $=F;if(F+=b(Q,oe),ee){for(x=0;x<2;++x)I.push(Q[0],Q[1],Q[2],oe[0],oe[1],oe[2],$,X,Y[0],Y[1],Y[2],Y[3]);O+=2,ee=!1}I.push(Q[0],Q[1],Q[2],oe[0],oe[1],oe[2],$,X,Y[0],Y[1],Y[2],Y[3],Q[0],Q[1],Q[2],oe[0],oe[1],oe[2],$,-X,Y[0],Y[1],Y[2],Y[3],oe[0],oe[1],oe[2],Q[0],Q[1],Q[2],F,-X,te[0],te[1],te[2],te[3],oe[0],oe[1],oe[2],Q[0],Q[1],Q[2],F,X,te[0],te[1],te[2],te[3]),O+=4}}if(this.buffer.update(I),N.push(F),k.push(B[B.length-1].slice()),this.bounds=z,this.vertexCount=O,this.points=k,this.arcLength=N,"dashes"in o){var ie=o.dashes,J=ie.slice();for(J.unshift(0),P=1;P<J.length;++P)J[P]=J[P-1]+J[P];var j=h(new Array(256*4),[256,1,4]);for(P=0;P<256;++P){for(x=0;x<4;++x)j.set(P,0,x,0);m.le(J,J[J.length-1]*P/255)&1?j.set(P,0,0,0):j.set(P,0,0,255)}this.texture.setPixels(j)}},S.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()},S.pick=function(o){if(!o||o.id!==this.pickId)return null;var P=l(o.value[0],o.value[1],o.value[2],0),x=m.le(this.arcLength,P);if(x<0)return null;if(x===this.arcLength.length-1)return new E(this.arcLength[this.arcLength.length-1],this.points[this.points.length-1].slice(),x);for(var _=this.points[x],I=this.points[Math.min(x+1,this.points.length-1)],N=(P-this.arcLength[x])/(this.arcLength[x+1]-this.arcLength[x]),k=1-N,F=[0,0,0],O=0;O<3;++O)F[O]=k*_[O]+N*I[O];var z=Math.min(N<.5?x:x+1,this.points.length-1);return new E(P,F,z,this.points[z])};function T(o){var P=o.gl||o.scene&&o.scene.gl,x=c(P);x.attributes.position.location=0,x.attributes.nextPosition.location=1,x.attributes.arcLength.location=2,x.attributes.lineWidth.location=3,x.attributes.color.location=4;var _=i(P);_.attributes.position.location=0,_.attributes.nextPosition.location=1,_.attributes.arcLength.location=2,_.attributes.lineWidth.location=3,_.attributes.color.location=4;for(var I=t(P),N=s(P,[{buffer:I,size:3,offset:0,stride:48},{buffer:I,size:3,offset:12,stride:48},{buffer:I,size:1,offset:24,stride:48},{buffer:I,size:1,offset:28,stride:48},{buffer:I,size:4,offset:32,stride:48}]),k=h(new Array(256*4),[256,1,4]),F=0;F<1024;++F)k.data[F]=255;var O=n(P,k);O.wrap=P.REPEAT;var z=new y(P,x,_,I,N,O);return z.update(o),z}},7332:function(v){v.exports=p;function p(r){var t=new Float32Array(16);return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],t}},9823:function(v){v.exports=p;function p(){var r=new Float32Array(16);return r[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=1,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=1,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}},7787:function(v){v.exports=p;function p(r){var t=r[0],s=r[1],n=r[2],f=r[3],u=r[4],l=r[5],m=r[6],h=r[7],M=r[8],c=r[9],i=r[10],d=r[11],b=r[12],w=r[13],E=r[14],y=r[15],S=t*l-s*u,T=t*m-n*u,o=t*h-f*u,P=s*m-n*l,x=s*h-f*l,_=n*h-f*m,I=M*w-c*b,N=M*E-i*b,k=M*y-d*b,F=c*E-i*w,O=c*y-d*w,z=i*y-d*E;return S*z-T*O+o*F+P*k-x*N+_*I}},5950:function(v){v.exports=p;function p(r,t){var s=t[0],n=t[1],f=t[2],u=t[3],l=s+s,m=n+n,h=f+f,M=s*l,c=n*l,i=n*m,d=f*l,b=f*m,w=f*h,E=u*l,y=u*m,S=u*h;return r[0]=1-i-w,r[1]=c+S,r[2]=d-y,r[3]=0,r[4]=c-S,r[5]=1-M-w,r[6]=b+E,r[7]=0,r[8]=d+y,r[9]=b-E,r[10]=1-M-i,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}},7280:function(v){v.exports=p;function p(r,t,s){var n=t[0],f=t[1],u=t[2],l=t[3],m=n+n,h=f+f,M=u+u,c=n*m,i=n*h,d=n*M,b=f*h,w=f*M,E=u*M,y=l*m,S=l*h,T=l*M;return r[0]=1-(b+E),r[1]=i+T,r[2]=d-S,r[3]=0,r[4]=i-T,r[5]=1-(c+E),r[6]=w+y,r[7]=0,r[8]=d+S,r[9]=w-y,r[10]=1-(c+b),r[11]=0,r[12]=s[0],r[13]=s[1],r[14]=s[2],r[15]=1,r}},9947:function(v){v.exports=p;function p(r){return r[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=1,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=1,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}},7437:function(v){v.exports=p;function p(r,t){var s=t[0],n=t[1],f=t[2],u=t[3],l=t[4],m=t[5],h=t[6],M=t[7],c=t[8],i=t[9],d=t[10],b=t[11],w=t[12],E=t[13],y=t[14],S=t[15],T=s*m-n*l,o=s*h-f*l,P=s*M-u*l,x=n*h-f*m,_=n*M-u*m,I=f*M-u*h,N=c*E-i*w,k=c*y-d*w,F=c*S-b*w,O=i*y-d*E,z=i*S-b*E,B=d*S-b*y,W=T*B-o*z+P*O+x*F-_*k+I*N;return W?(W=1/W,r[0]=(m*B-h*z+M*O)*W,r[1]=(f*z-n*B-u*O)*W,r[2]=(E*I-y*_+S*x)*W,r[3]=(d*_-i*I-b*x)*W,r[4]=(h*F-l*B-M*k)*W,r[5]=(s*B-f*F+u*k)*W,r[6]=(y*P-w*I-S*o)*W,r[7]=(c*I-d*P+b*o)*W,r[8]=(l*z-m*F+M*N)*W,r[9]=(n*F-s*z-u*N)*W,r[10]=(w*_-E*P+S*T)*W,r[11]=(i*P-c*_-b*T)*W,r[12]=(m*k-l*O-h*N)*W,r[13]=(s*O-n*k+f*N)*W,r[14]=(E*o-w*x-y*T)*W,r[15]=(c*x-i*o+d*T)*W,r):null}},3012:function(v,p,r){var t=r(9947);v.exports=s;function s(n,f,u,l){var m,h,M,c,i,d,b,w,E,y,S=f[0],T=f[1],o=f[2],P=l[0],x=l[1],_=l[2],I=u[0],N=u[1],k=u[2];return Math.abs(S-I)<1e-6&&Math.abs(T-N)<1e-6&&Math.abs(o-k)<1e-6?t(n):(b=S-I,w=T-N,E=o-k,y=1/Math.sqrt(b*b+w*w+E*E),b*=y,w*=y,E*=y,m=x*E-_*w,h=_*b-P*E,M=P*w-x*b,y=Math.sqrt(m*m+h*h+M*M),y?(y=1/y,m*=y,h*=y,M*=y):(m=0,h=0,M=0),c=w*M-E*h,i=E*m-b*M,d=b*h-w*m,y=Math.sqrt(c*c+i*i+d*d),y?(y=1/y,c*=y,i*=y,d*=y):(c=0,i=0,d=0),n[0]=m,n[1]=c,n[2]=b,n[3]=0,n[4]=h,n[5]=i,n[6]=w,n[7]=0,n[8]=M,n[9]=d,n[10]=E,n[11]=0,n[12]=-(m*S+h*T+M*o),n[13]=-(c*S+i*T+d*o),n[14]=-(b*S+w*T+E*o),n[15]=1,n)}},104:function(v){v.exports=p;function p(r,t,s){var n=t[0],f=t[1],u=t[2],l=t[3],m=t[4],h=t[5],M=t[6],c=t[7],i=t[8],d=t[9],b=t[10],w=t[11],E=t[12],y=t[13],S=t[14],T=t[15],o=s[0],P=s[1],x=s[2],_=s[3];return r[0]=o*n+P*m+x*i+_*E,r[1]=o*f+P*h+x*d+_*y,r[2]=o*u+P*M+x*b+_*S,r[3]=o*l+P*c+x*w+_*T,o=s[4],P=s[5],x=s[6],_=s[7],r[4]=o*n+P*m+x*i+_*E,r[5]=o*f+P*h+x*d+_*y,r[6]=o*u+P*M+x*b+_*S,r[7]=o*l+P*c+x*w+_*T,o=s[8],P=s[9],x=s[10],_=s[11],r[8]=o*n+P*m+x*i+_*E,r[9]=o*f+P*h+x*d+_*y,r[10]=o*u+P*M+x*b+_*S,r[11]=o*l+P*c+x*w+_*T,o=s[12],P=s[13],x=s[14],_=s[15],r[12]=o*n+P*m+x*i+_*E,r[13]=o*f+P*h+x*d+_*y,r[14]=o*u+P*M+x*b+_*S,r[15]=o*l+P*c+x*w+_*T,r}},5268:function(v){v.exports=p;function p(r,t,s,n,f,u,l){var m=1/(t-s),h=1/(n-f),M=1/(u-l);return r[0]=-2*m,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=-2*h,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=2*M,r[11]=0,r[12]=(t+s)*m,r[13]=(f+n)*h,r[14]=(l+u)*M,r[15]=1,r}},1120:function(v){v.exports=p;function p(r,t,s,n,f){var u=1/Math.tan(t/2),l=1/(n-f);return r[0]=u/s,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=u,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=(f+n)*l,r[11]=-1,r[12]=0,r[13]=0,r[14]=2*f*n*l,r[15]=0,r}},4422:function(v){v.exports=p;function p(r,t,s,n){var f=n[0],u=n[1],l=n[2],m=Math.sqrt(f*f+u*u+l*l),h,M,c,i,d,b,w,E,y,S,T,o,P,x,_,I,N,k,F,O,z,B,W,q;return Math.abs(m)<1e-6?null:(m=1/m,f*=m,u*=m,l*=m,h=Math.sin(s),M=Math.cos(s),c=1-M,i=t[0],d=t[1],b=t[2],w=t[3],E=t[4],y=t[5],S=t[6],T=t[7],o=t[8],P=t[9],x=t[10],_=t[11],I=f*f*c+M,N=u*f*c+l*h,k=l*f*c-u*h,F=f*u*c-l*h,O=u*u*c+M,z=l*u*c+f*h,B=f*l*c+u*h,W=u*l*c-f*h,q=l*l*c+M,r[0]=i*I+E*N+o*k,r[1]=d*I+y*N+P*k,r[2]=b*I+S*N+x*k,r[3]=w*I+T*N+_*k,r[4]=i*F+E*O+o*z,r[5]=d*F+y*O+P*z,r[6]=b*F+S*O+x*z,r[7]=w*F+T*O+_*z,r[8]=i*B+E*W+o*q,r[9]=d*B+y*W+P*q,r[10]=b*B+S*W+x*q,r[11]=w*B+T*W+_*q,t!==r&&(r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15]),r)}},6109:function(v){v.exports=p;function p(r,t,s){var n=Math.sin(s),f=Math.cos(s),u=t[4],l=t[5],m=t[6],h=t[7],M=t[8],c=t[9],i=t[10],d=t[11];return t!==r&&(r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15]),r[4]=u*f+M*n,r[5]=l*f+c*n,r[6]=m*f+i*n,r[7]=h*f+d*n,r[8]=M*f-u*n,r[9]=c*f-l*n,r[10]=i*f-m*n,r[11]=d*f-h*n,r}},7115:function(v){v.exports=p;function p(r,t,s){var n=Math.sin(s),f=Math.cos(s),u=t[0],l=t[1],m=t[2],h=t[3],M=t[8],c=t[9],i=t[10],d=t[11];return t!==r&&(r[4]=t[4],r[5]=t[5],r[6]=t[6],r[7]=t[7],r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15]),r[0]=u*f-M*n,r[1]=l*f-c*n,r[2]=m*f-i*n,r[3]=h*f-d*n,r[8]=u*n+M*f,r[9]=l*n+c*f,r[10]=m*n+i*f,r[11]=h*n+d*f,r}},5240:function(v){v.exports=p;function p(r,t,s){var n=Math.sin(s),f=Math.cos(s),u=t[0],l=t[1],m=t[2],h=t[3],M=t[4],c=t[5],i=t[6],d=t[7];return t!==r&&(r[8]=t[8],r[9]=t[9],r[10]=t[10],r[11]=t[11],r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15]),r[0]=u*f+M*n,r[1]=l*f+c*n,r[2]=m*f+i*n,r[3]=h*f+d*n,r[4]=M*f-u*n,r[5]=c*f-l*n,r[6]=i*f-m*n,r[7]=d*f-h*n,r}},3668:function(v){v.exports=p;function p(r,t,s){var n=s[0],f=s[1],u=s[2];return r[0]=t[0]*n,r[1]=t[1]*n,r[2]=t[2]*n,r[3]=t[3]*n,r[4]=t[4]*f,r[5]=t[5]*f,r[6]=t[6]*f,r[7]=t[7]*f,r[8]=t[8]*u,r[9]=t[9]*u,r[10]=t[10]*u,r[11]=t[11]*u,r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15],r}},998:function(v){v.exports=p;function p(r,t,s){var n=s[0],f=s[1],u=s[2],l,m,h,M,c,i,d,b,w,E,y,S;return t===r?(r[12]=t[0]*n+t[4]*f+t[8]*u+t[12],r[13]=t[1]*n+t[5]*f+t[9]*u+t[13],r[14]=t[2]*n+t[6]*f+t[10]*u+t[14],r[15]=t[3]*n+t[7]*f+t[11]*u+t[15]):(l=t[0],m=t[1],h=t[2],M=t[3],c=t[4],i=t[5],d=t[6],b=t[7],w=t[8],E=t[9],y=t[10],S=t[11],r[0]=l,r[1]=m,r[2]=h,r[3]=M,r[4]=c,r[5]=i,r[6]=d,r[7]=b,r[8]=w,r[9]=E,r[10]=y,r[11]=S,r[12]=l*n+c*f+w*u+t[12],r[13]=m*n+i*f+E*u+t[13],r[14]=h*n+d*f+y*u+t[14],r[15]=M*n+b*f+S*u+t[15]),r}},2142:function(v){v.exports=p;function p(r,t){if(r===t){var s=t[1],n=t[2],f=t[3],u=t[6],l=t[7],m=t[11];r[1]=t[4],r[2]=t[8],r[3]=t[12],r[4]=s,r[6]=t[9],r[7]=t[13],r[8]=n,r[9]=u,r[11]=t[14],r[12]=f,r[13]=l,r[14]=m}else r[0]=t[0],r[1]=t[4],r[2]=t[8],r[3]=t[12],r[4]=t[1],r[5]=t[5],r[6]=t[9],r[7]=t[13],r[8]=t[2],r[9]=t[6],r[10]=t[10],r[11]=t[14],r[12]=t[3],r[13]=t[7],r[14]=t[11],r[15]=t[15];return r}},4340:function(v,p,r){var t=r(957),s=r(7309);v.exports=m;function n(h,M){for(var c=[0,0,0,0],i=0;i<4;++i)for(var d=0;d<4;++d)c[d]+=h[4*i+d]*M[i];return c}function f(h,M,c,i,d){for(var b=n(i,n(c,n(M,[h[0],h[1],h[2],1]))),w=0;w<3;++w)b[w]/=b[3];return[.5*d[0]*(1+b[0]),.5*d[1]*(1-b[1])]}function u(h,M){if(h.length===2){for(var c=0,i=0,d=0;d<2;++d)c+=Math.pow(M[d]-h[0][d],2),i+=Math.pow(M[d]-h[1][d],2);return c=Math.sqrt(c),i=Math.sqrt(i),c+i<1e-6?[1,0]:[i/(c+i),c/(i+c)]}else if(h.length===3){var b=[0,0];return s(h[0],h[1],h[2],M,b),t(h,b)}return[]}function l(h,M){for(var c=[0,0,0],i=0;i<h.length;++i)for(var d=h[i],b=M[i],w=0;w<3;++w)c[w]+=b*d[w];return c}function m(h,M,c,i,d,b){if(h.length===1)return[0,h[0].slice()];for(var w=new Array(h.length),E=0;E<h.length;++E)w[E]=f(h[E],c,i,d,b);for(var y=0,S=1/0,E=0;E<w.length;++E){for(var T=0,o=0;o<2;++o)T+=Math.pow(w[E][o]-M[o],2);T<S&&(S=T,y=E)}for(var P=u(w,M),x=0,E=0;E<3;++E){if(P[E]<-.001||P[E]>1.0001)return null;x+=P[E]}return Math.abs(x-1)>.001?null:[y,l(h,P),P]}},2056:function(v,p,r){var t=r(6832),s=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, normal;
attribute vec4 color;
attribute vec2 uv;

uniform mat4 model
           , view
           , projection
           , inverseModel;
uniform vec3 eyePosition
           , lightPosition;

varying vec3 f_normal
           , f_lightDirection
           , f_eyeDirection
           , f_data;
varying vec4 f_color;
varying vec2 f_uv;

vec4 project(vec3 p) {
  return projection * view * model * vec4(p, 1.0);
}

void main() {
  gl_Position      = project(position);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * vec4(position , 1.0);
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal  = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  f_color          = color;
  f_data           = position;
  f_uv             = uv;
}
`]),n=t([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

//#pragma glslify: beckmann = require(glsl-specular-beckmann) // used in gl-surface3d

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness
            , fresnel
            , kambient
            , kdiffuse
            , kspecular;
uniform sampler2D texture;

varying vec3 f_normal
           , f_lightDirection
           , f_eyeDirection
           , f_data;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (f_color.a == 0.0 ||
    outOfRange(clipBounds[0], clipBounds[1], f_data)
  ) discard;

  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  //float specular = max(0.0, beckmann(L, V, N, roughness)); // used in gl-surface3d

  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = vec4(f_color.rgb, 1.0) * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * f_color.a;
}
`]),f=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec4 color;
attribute vec2 uv;

uniform mat4 model, view, projection;

varying vec4 f_color;
varying vec3 f_data;
varying vec2 f_uv;

void main() {
  gl_Position = projection * view * model * vec4(position, 1.0);
  f_color = color;
  f_data  = position;
  f_uv    = uv;
}`]),u=t([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform sampler2D texture;
uniform float opacity;

varying vec4 f_color;
varying vec3 f_data;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_data)) discard;

  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;
}`]),l=t([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 uv;
attribute float pointSize;

uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0.0, 0.0 ,0.0 ,0.0);
  } else {
    gl_Position = projection * view * model * vec4(position, 1.0);
  }
  gl_PointSize = pointSize;
  f_color = color;
  f_uv = uv;
}`]),m=t([`precision highp float;
#define GLSLIFY 1

uniform sampler2D texture;
uniform float opacity;

varying vec4 f_color;
varying vec2 f_uv;

void main() {
  vec2 pointR = gl_PointCoord.xy - vec2(0.5, 0.5);
  if(dot(pointR, pointR) > 0.25) {
    discard;
  }
  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;
}`]),h=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec4 id;

uniform mat4 model, view, projection;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  gl_Position = projection * view * model * vec4(position, 1.0);
  f_id        = id;
  f_position  = position;
}`]),M=t([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]),c=t([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3  position;
attribute float pointSize;
attribute vec4  id;

uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0.0, 0.0, 0.0, 0.0);
  } else {
    gl_Position  = projection * view * model * vec4(position, 1.0);
    gl_PointSize = pointSize;
  }
  f_id         = id;
  f_position   = position;
}`]),i=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;

void main() {
  gl_Position = projection * view * model * vec4(position, 1.0);
}`]),d=t([`precision highp float;
#define GLSLIFY 1

uniform vec3 contourColor;

void main() {
  gl_FragColor = vec4(contourColor, 1.0);
}
`]);p.meshShader={vertex:s,fragment:n,attributes:[{name:"position",type:"vec3"},{name:"normal",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},p.wireShader={vertex:f,fragment:u,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},p.pointShader={vertex:l,fragment:m,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"pointSize",type:"float"}]},p.pickShader={vertex:h,fragment:M,attributes:[{name:"position",type:"vec3"},{name:"id",type:"vec4"}]},p.pointPickShader={vertex:c,fragment:M,attributes:[{name:"position",type:"vec3"},{name:"pointSize",type:"float"},{name:"id",type:"vec4"}]},p.contourShader={vertex:i,fragment:d,attributes:[{name:"position",type:"vec3"}]}},8116:function(v,p,r){var t=1e-6,s=1e-6,n=r(5158),f=r(5827),u=r(2944),l=r(8931),m=r(115),h=r(104),M=r(7437),c=r(5050),i=r(9156),d=r(7212),b=r(5306),w=r(2056),E=r(4340),y=w.meshShader,S=w.wireShader,T=w.pointShader,o=w.pickShader,P=w.pointPickShader,x=w.contourShader,_=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function I(Z,Y,te,X,$,ie,J,j,se,ne,le,pe,Ae,be,Re,xe,Me,ye,Se,Fe,Be,_e,Ue,it,lt,$e,qe){this.gl=Z,this.pixelRatio=1,this.cells=[],this.positions=[],this.intensity=[],this.texture=Y,this.dirty=!0,this.triShader=te,this.lineShader=X,this.pointShader=$,this.pickShader=ie,this.pointPickShader=J,this.contourShader=j,this.trianglePositions=se,this.triangleColors=le,this.triangleNormals=Ae,this.triangleUVs=pe,this.triangleIds=ne,this.triangleVAO=be,this.triangleCount=0,this.lineWidth=1,this.edgePositions=Re,this.edgeColors=Me,this.edgeUVs=ye,this.edgeIds=xe,this.edgeVAO=Se,this.edgeCount=0,this.pointPositions=Fe,this.pointColors=_e,this.pointUVs=Ue,this.pointSizes=it,this.pointIds=Be,this.pointVAO=lt,this.pointCount=0,this.contourLineWidth=1,this.contourPositions=$e,this.contourVAO=qe,this.contourCount=0,this.contourColor=[0,0,0],this.contourEnable=!0,this.pickVertex=!0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this.hasAlpha=!1,this.opacityscale=!1,this._model=_,this._view=_,this._projection=_,this._resolution=[1,1]}var N=I.prototype;N.isOpaque=function(){return!this.hasAlpha},N.isTransparent=function(){return this.hasAlpha},N.pickSlots=1,N.setPickBase=function(Z){this.pickId=Z};function k(Z,Y){if(!Y||!Y.length)return 1;for(var te=0;te<Y.length;++te){if(Y.length<2)return 1;if(Y[te][0]===Z)return Y[te][1];if(Y[te][0]>Z&&te>0){var X=(Y[te][0]-Z)/(Y[te][0]-Y[te-1][0]);return Y[te][1]*(1-X)+X*Y[te-1][1]}}return 1}function F(Z,Y){for(var te=i({colormap:Z,nshades:256,format:"rgba"}),X=new Uint8Array(256*4),$=0;$<256;++$){for(var ie=te[$],J=0;J<3;++J)X[4*$+J]=ie[J];Y?X[4*$+3]=255*k($/255,Y):X[4*$+3]=255*ie[3]}return c(X,[256,256,4],[4,0,1])}function O(Z){for(var Y=Z.length,te=new Array(Y),X=0;X<Y;++X)te[X]=Z[X][2];return te}N.highlight=function(Z){if(!Z||!this.contourEnable){this.contourCount=0;return}for(var Y=d(this.cells,this.intensity,Z.intensity),te=Y.cells,X=Y.vertexIds,$=Y.vertexWeights,ie=te.length,J=b.mallocFloat32(2*3*ie),j=0,se=0;se<ie;++se)for(var ne=te[se],le=0;le<2;++le){var pe=ne[0];ne.length===2&&(pe=ne[le]);for(var Ae=X[pe][0],be=X[pe][1],Re=$[pe],xe=1-Re,Me=this.positions[Ae],ye=this.positions[be],Se=0;Se<3;++Se)J[j++]=Re*Me[Se]+xe*ye[Se]}this.contourCount=j/3|0,this.contourPositions.update(J.subarray(0,j)),b.free(J)},N.update=function(Z){Z=Z||{};var Y=this.gl;this.dirty=!0,"contourEnable"in Z&&(this.contourEnable=Z.contourEnable),"contourColor"in Z&&(this.contourColor=Z.contourColor),"lineWidth"in Z&&(this.lineWidth=Z.lineWidth),"lightPosition"in Z&&(this.lightPosition=Z.lightPosition),this.hasAlpha=!1,"opacity"in Z&&(this.opacity=Z.opacity,this.opacity<1&&(this.hasAlpha=!0)),"opacityscale"in Z&&(this.opacityscale=Z.opacityscale,this.hasAlpha=!0),"ambient"in Z&&(this.ambientLight=Z.ambient),"diffuse"in Z&&(this.diffuseLight=Z.diffuse),"specular"in Z&&(this.specularLight=Z.specular),"roughness"in Z&&(this.roughness=Z.roughness),"fresnel"in Z&&(this.fresnel=Z.fresnel),Z.texture?(this.texture.dispose(),this.texture=l(Y,Z.texture)):Z.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=Y.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=Y.LINEAR,this.texture.setPixels(F(Z.colormap,this.opacityscale)),this.texture.generateMipmap());var te=Z.cells,X=Z.positions;if(!X||!te)return;var $=[],ie=[],J=[],j=[],se=[],ne=[],le=[],pe=[],Ae=[],be=[],Re=[],xe=[],Me=[],ye=[];this.cells=te,this.positions=X;var Se=Z.vertexNormals,Fe=Z.cellNormals,Be=Z.vertexNormalsEpsilon===void 0?t:Z.vertexNormalsEpsilon,_e=Z.faceNormalsEpsilon===void 0?s:Z.faceNormalsEpsilon;Z.useFacetNormals&&!Fe&&(Fe=m.faceNormals(te,X,_e)),!Fe&&!Se&&(Se=m.vertexNormals(te,X,Be));var Ue=Z.vertexColors,it=Z.cellColors,lt=Z.meshColor||[1,1,1,1],$e=Z.vertexUVs,qe=Z.vertexIntensity,ft=Z.cellUVs,ct=Z.cellIntensity,pt=1/0,yt=-1/0;if(!$e&&!ft)if(qe)if(Z.vertexIntensityBounds)pt=+Z.vertexIntensityBounds[0],yt=+Z.vertexIntensityBounds[1];else for(var Et=0;Et<qe.length;++Et){var tt=qe[Et];pt=Math.min(pt,tt),yt=Math.max(yt,tt)}else if(ct)if(Z.cellIntensityBounds)pt=+Z.cellIntensityBounds[0],yt=+Z.cellIntensityBounds[1];else for(var Et=0;Et<ct.length;++Et){var tt=ct[Et];pt=Math.min(pt,tt),yt=Math.max(yt,tt)}else for(var Et=0;Et<X.length;++Et){var tt=X[Et][2];pt=Math.min(pt,tt),yt=Math.max(yt,tt)}qe?this.intensity=qe:ct?this.intensity=ct:this.intensity=O(X),this.pickVertex=!(ct||it);var Ie=Z.pointSizes,We=Z.pointSize||1;this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(var Et=0;Et<X.length;++Et)for(var Ze=X[Et],He=0;He<3;++He)isNaN(Ze[He])||!isFinite(Ze[He])||(this.bounds[0][He]=Math.min(this.bounds[0][He],Ze[He]),this.bounds[1][He]=Math.max(this.bounds[1][He],Ze[He]));var De=0,me=0,ge=0;e:for(var Et=0;Et<te.length;++Et){var Ee=te[Et];switch(Ee.length){case 1:for(var Te=Ee[0],Ze=X[Te],He=0;He<3;++He)if(isNaN(Ze[He])||!isFinite(Ze[He]))continue e;be.push(Ze[0],Ze[1],Ze[2]);var ze;Ue?ze=Ue[Te]:it?ze=it[Et]:ze=lt,this.opacityscale&&qe?ie.push(ze[0],ze[1],ze[2],this.opacity*k((qe[Te]-pt)/(yt-pt),this.opacityscale)):ze.length===3?Re.push(ze[0],ze[1],ze[2],this.opacity):(Re.push(ze[0],ze[1],ze[2],ze[3]*this.opacity),ze[3]<1&&(this.hasAlpha=!0));var Xe;$e?Xe=$e[Te]:qe?Xe=[(qe[Te]-pt)/(yt-pt),0]:ft?Xe=ft[Et]:ct?Xe=[(ct[Et]-pt)/(yt-pt),0]:Xe=[(Ze[2]-pt)/(yt-pt),0],xe.push(Xe[0],Xe[1]),Ie?Me.push(Ie[Te]):Me.push(We),ye.push(Et),ge+=1;break;case 2:for(var He=0;He<2;++He)for(var Te=Ee[He],Ze=X[Te],et=0;et<3;++et)if(isNaN(Ze[et])||!isFinite(Ze[et]))continue e;for(var He=0;He<2;++He){var Te=Ee[He],Ze=X[Te];ne.push(Ze[0],Ze[1],Ze[2]);var ze;Ue?ze=Ue[Te]:it?ze=it[Et]:ze=lt,this.opacityscale&&qe?ie.push(ze[0],ze[1],ze[2],this.opacity*k((qe[Te]-pt)/(yt-pt),this.opacityscale)):ze.length===3?le.push(ze[0],ze[1],ze[2],this.opacity):(le.push(ze[0],ze[1],ze[2],ze[3]*this.opacity),ze[3]<1&&(this.hasAlpha=!0));var Xe;$e?Xe=$e[Te]:qe?Xe=[(qe[Te]-pt)/(yt-pt),0]:ft?Xe=ft[Et]:ct?Xe=[(ct[Et]-pt)/(yt-pt),0]:Xe=[(Ze[2]-pt)/(yt-pt),0],pe.push(Xe[0],Xe[1]),Ae.push(Et)}me+=1;break;case 3:for(var He=0;He<3;++He)for(var Te=Ee[He],Ze=X[Te],et=0;et<3;++et)if(isNaN(Ze[et])||!isFinite(Ze[et]))continue e;for(var He=0;He<3;++He){var Te=Ee[2-He],Ze=X[Te];$.push(Ze[0],Ze[1],Ze[2]);var ze;Ue?ze=Ue[Te]:it?ze=it[Et]:ze=lt,ze?this.opacityscale&&qe?ie.push(ze[0],ze[1],ze[2],this.opacity*k((qe[Te]-pt)/(yt-pt),this.opacityscale)):ze.length===3?ie.push(ze[0],ze[1],ze[2],this.opacity):(ie.push(ze[0],ze[1],ze[2],ze[3]*this.opacity),ze[3]<1&&(this.hasAlpha=!0)):ie.push(.5,.5,.5,1);var Xe;$e?Xe=$e[Te]:qe?Xe=[(qe[Te]-pt)/(yt-pt),0]:ft?Xe=ft[Et]:ct?Xe=[(ct[Et]-pt)/(yt-pt),0]:Xe=[(Ze[2]-pt)/(yt-pt),0],j.push(Xe[0],Xe[1]);var ut;Se?ut=Se[Te]:ut=Fe[Et],J.push(ut[0],ut[1],ut[2]),se.push(Et)}De+=1;break}}this.pointCount=ge,this.edgeCount=me,this.triangleCount=De,this.pointPositions.update(be),this.pointColors.update(Re),this.pointUVs.update(xe),this.pointSizes.update(Me),this.pointIds.update(new Uint32Array(ye)),this.edgePositions.update(ne),this.edgeColors.update(le),this.edgeUVs.update(pe),this.edgeIds.update(new Uint32Array(Ae)),this.trianglePositions.update($),this.triangleColors.update(ie),this.triangleUVs.update(j),this.triangleNormals.update(J),this.triangleIds.update(new Uint32Array(se))},N.drawTransparent=N.draw=function(Z){Z=Z||{};for(var Y=this.gl,te=Z.model||_,X=Z.view||_,$=Z.projection||_,ie=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],J=0;J<3;++J)ie[0][J]=Math.max(ie[0][J],this.clipBounds[0][J]),ie[1][J]=Math.min(ie[1][J],this.clipBounds[1][J]);var j={model:te,view:X,projection:$,inverseModel:_.slice(),clipBounds:ie,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],contourColor:this.contourColor,texture:0};j.inverseModel=M(j.inverseModel,j.model),Y.disable(Y.CULL_FACE),this.texture.bind(0);var se=new Array(16);h(se,j.view,j.model),h(se,j.projection,se),M(se,se);for(var J=0;J<3;++J)j.eyePosition[J]=se[12+J]/se[15];for(var ne=se[15],J=0;J<3;++J)ne+=this.lightPosition[J]*se[4*J+3];for(var J=0;J<3;++J){for(var le=se[12+J],pe=0;pe<3;++pe)le+=se[4*pe+J]*this.lightPosition[pe];j.lightPosition[J]=le/ne}if(this.triangleCount>0){var Ae=this.triShader;Ae.bind(),Ae.uniforms=j,this.triangleVAO.bind(),Y.drawArrays(Y.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind()}if(this.edgeCount>0&&this.lineWidth>0){var Ae=this.lineShader;Ae.bind(),Ae.uniforms=j,this.edgeVAO.bind(),Y.lineWidth(this.lineWidth*this.pixelRatio),Y.drawArrays(Y.LINES,0,this.edgeCount*2),this.edgeVAO.unbind()}if(this.pointCount>0){var Ae=this.pointShader;Ae.bind(),Ae.uniforms=j,this.pointVAO.bind(),Y.drawArrays(Y.POINTS,0,this.pointCount),this.pointVAO.unbind()}if(this.contourEnable&&this.contourCount>0&&this.contourLineWidth>0){var Ae=this.contourShader;Ae.bind(),Ae.uniforms=j,this.contourVAO.bind(),Y.drawArrays(Y.LINES,0,this.contourCount),this.contourVAO.unbind()}},N.drawPick=function(Z){Z=Z||{};for(var Y=this.gl,te=Z.model||_,X=Z.view||_,$=Z.projection||_,ie=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],J=0;J<3;++J)ie[0][J]=Math.max(ie[0][J],this.clipBounds[0][J]),ie[1][J]=Math.min(ie[1][J],this.clipBounds[1][J]);this._model=[].slice.call(te),this._view=[].slice.call(X),this._projection=[].slice.call($),this._resolution=[Y.drawingBufferWidth,Y.drawingBufferHeight];var j={model:te,view:X,projection:$,clipBounds:ie,pickId:this.pickId/255},se=this.pickShader;if(se.bind(),se.uniforms=j,this.triangleCount>0&&(this.triangleVAO.bind(),Y.drawArrays(Y.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind()),this.edgeCount>0&&(this.edgeVAO.bind(),Y.lineWidth(this.lineWidth*this.pixelRatio),Y.drawArrays(Y.LINES,0,this.edgeCount*2),this.edgeVAO.unbind()),this.pointCount>0){var se=this.pointPickShader;se.bind(),se.uniforms=j,this.pointVAO.bind(),Y.drawArrays(Y.POINTS,0,this.pointCount),this.pointVAO.unbind()}},N.pick=function(Z){if(!Z||Z.id!==this.pickId)return null;for(var Y=Z.value[0]+256*Z.value[1]+65536*Z.value[2],te=this.cells[Y],X=this.positions,$=new Array(te.length),ie=0;ie<te.length;++ie)$[ie]=X[te[ie]];var J=Z.coord[0],j=Z.coord[1];if(!this.pickVertex){var se=this.positions[te[0]],ne=this.positions[te[1]],le=this.positions[te[2]],pe=[(se[0]+ne[0]+le[0])/3,(se[1]+ne[1]+le[1])/3,(se[2]+ne[2]+le[2])/3];return{_cellCenter:!0,position:[J,j],index:Y,cell:te,cellId:Y,intensity:this.intensity[Y],dataCoordinate:pe}}var Ae=E($,[J*this.pixelRatio,this._resolution[1]-j*this.pixelRatio],this._model,this._view,this._projection,this._resolution);if(!Ae)return null;for(var be=Ae[2],Re=0,ie=0;ie<te.length;++ie)Re+=be[ie]*this.intensity[te[ie]];return{position:Ae[1],index:te[Ae[0]],cell:te,cellId:Y,intensity:Re,dataCoordinate:this.positions[te[Ae[0]]]}},N.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.lineShader.dispose(),this.pointShader.dispose(),this.pickShader.dispose(),this.pointPickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleNormals.dispose(),this.triangleIds.dispose(),this.edgeVAO.dispose(),this.edgePositions.dispose(),this.edgeColors.dispose(),this.edgeUVs.dispose(),this.edgeIds.dispose(),this.pointVAO.dispose(),this.pointPositions.dispose(),this.pointColors.dispose(),this.pointUVs.dispose(),this.pointSizes.dispose(),this.pointIds.dispose(),this.contourVAO.dispose(),this.contourPositions.dispose(),this.contourShader.dispose()};function z(Z){var Y=n(Z,y.vertex,y.fragment);return Y.attributes.position.location=0,Y.attributes.color.location=2,Y.attributes.uv.location=3,Y.attributes.normal.location=4,Y}function B(Z){var Y=n(Z,S.vertex,S.fragment);return Y.attributes.position.location=0,Y.attributes.color.location=2,Y.attributes.uv.location=3,Y}function W(Z){var Y=n(Z,T.vertex,T.fragment);return Y.attributes.position.location=0,Y.attributes.color.location=2,Y.attributes.uv.location=3,Y.attributes.pointSize.location=4,Y}function q(Z){var Y=n(Z,o.vertex,o.fragment);return Y.attributes.position.location=0,Y.attributes.id.location=1,Y}function ee(Z){var Y=n(Z,P.vertex,P.fragment);return Y.attributes.position.location=0,Y.attributes.id.location=1,Y.attributes.pointSize.location=4,Y}function Q(Z){var Y=n(Z,x.vertex,x.fragment);return Y.attributes.position.location=0,Y}function oe(Z,Y){arguments.length===1&&(Y=Z,Z=Y.gl);var te=Z.getExtension("OES_standard_derivatives")||Z.getExtension("MOZ_OES_standard_derivatives")||Z.getExtension("WEBKIT_OES_standard_derivatives");if(!te)throw new Error("derivatives not supported");var X=z(Z),$=B(Z),ie=W(Z),J=q(Z),j=ee(Z),se=Q(Z),ne=l(Z,c(new Uint8Array([255,255,255,255]),[1,1,4]));ne.generateMipmap(),ne.minFilter=Z.LINEAR_MIPMAP_LINEAR,ne.magFilter=Z.LINEAR;var le=f(Z),pe=f(Z),Ae=f(Z),be=f(Z),Re=f(Z),xe=u(Z,[{buffer:le,type:Z.FLOAT,size:3},{buffer:Re,type:Z.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:pe,type:Z.FLOAT,size:4},{buffer:Ae,type:Z.FLOAT,size:2},{buffer:be,type:Z.FLOAT,size:3}]),Me=f(Z),ye=f(Z),Se=f(Z),Fe=f(Z),Be=u(Z,[{buffer:Me,type:Z.FLOAT,size:3},{buffer:Fe,type:Z.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:ye,type:Z.FLOAT,size:4},{buffer:Se,type:Z.FLOAT,size:2}]),_e=f(Z),Ue=f(Z),it=f(Z),lt=f(Z),$e=f(Z),qe=u(Z,[{buffer:_e,type:Z.FLOAT,size:3},{buffer:$e,type:Z.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:Ue,type:Z.FLOAT,size:4},{buffer:it,type:Z.FLOAT,size:2},{buffer:lt,type:Z.FLOAT,size:1}]),ft=f(Z),ct=u(Z,[{buffer:ft,type:Z.FLOAT,size:3}]),pt=new I(Z,ne,X,$,ie,J,j,se,le,Re,pe,Ae,be,xe,Me,Fe,ye,Se,Be,_e,$e,Ue,it,lt,qe,ft,ct);return pt.update(Y),pt}v.exports=oe},4554:function(v,p,r){v.exports=l;var t=r(5827),s=r(5158),n=r(2709);function f(m,h,M){this.plot=m,this.vbo=h,this.shader=M}var u=f.prototype;u.bind=function(){var m=this.shader;this.vbo.bind(),this.shader.bind(),m.attributes.coord.pointer(),m.uniforms.screenBox=this.plot.screenBox},u.drawBox=function(){var m=[0,0],h=[0,0];return function(M,c,i,d,b){var w=this.plot,E=this.shader,y=w.gl;m[0]=M,m[1]=c,h[0]=i,h[1]=d,E.uniforms.lo=m,E.uniforms.hi=h,E.uniforms.color=b,y.drawArrays(y.TRIANGLE_STRIP,0,4)}}(),u.dispose=function(){this.vbo.dispose(),this.shader.dispose()};function l(m){var h=m.gl,M=t(h,[0,0,0,1,1,0,1,1]),c=s(h,n.boxVert,n.lineFrag);return new f(m,M,c)}},3016:function(v,p,r){v.exports=h;var t=r(5827),s=r(5158),n=r(5070),f=r(2709);function u(M,c,i,d){this.plot=M,this.vbo=c,this.shader=i,this.tickShader=d,this.ticks=[[],[]]}function l(M,c){return M-c}var m=u.prototype;m.draw=function(){var M=[0,0],c=[0,0],i=[0,0];return function(){for(var d=this.plot,b=this.vbo,w=this.shader,E=this.ticks,y=d.gl,S=d._tickBounds,T=d.dataBox,o=d.viewBox,P=d.gridLineWidth,x=d.gridLineColor,_=d.gridLineEnable,I=d.pixelRatio,N=0;N<2;++N){var k=S[N],F=S[N+2],O=F-k,z=.5*(T[N+2]+T[N]),B=T[N+2]-T[N];c[N]=2*O/B,M[N]=2*(k-z)/B}w.bind(),b.bind(),w.attributes.dataCoord.pointer(),w.uniforms.dataShift=M,w.uniforms.dataScale=c;for(var W=0,N=0;N<2;++N){i[0]=i[1]=0,i[N]=1,w.uniforms.dataAxis=i,w.uniforms.lineWidth=P[N]/(o[N+2]-o[N])*I,w.uniforms.color=x[N];var q=E[N].length*6;_[N]&&q&&y.drawArrays(y.TRIANGLES,W,q),W+=q}}}(),m.drawTickMarks=function(){var M=[0,0],c=[0,0],i=[1,0],d=[0,1],b=[0,0],w=[0,0];return function(){for(var E=this.plot,y=this.vbo,S=this.tickShader,T=this.ticks,o=E.gl,P=E._tickBounds,x=E.dataBox,_=E.viewBox,I=E.pixelRatio,N=E.screenBox,k=N[2]-N[0],F=N[3]-N[1],O=_[2]-_[0],z=_[3]-_[1],B=0;B<2;++B){var W=P[B],q=P[B+2],ee=q-W,Q=.5*(x[B+2]+x[B]),oe=x[B+2]-x[B];c[B]=2*ee/oe,M[B]=2*(W-Q)/oe}c[0]*=O/k,M[0]*=O/k,c[1]*=z/F,M[1]*=z/F,S.bind(),y.bind(),S.attributes.dataCoord.pointer();var Z=S.uniforms;Z.dataShift=M,Z.dataScale=c;var Y=E.tickMarkLength,te=E.tickMarkWidth,X=E.tickMarkColor,$=0,ie=T[0].length*6,J=Math.min(n.ge(T[0],(x[0]-P[0])/(P[2]-P[0]),l),T[0].length),j=Math.min(n.gt(T[0],(x[2]-P[0])/(P[2]-P[0]),l),T[0].length),se=$+6*J,ne=6*Math.max(0,j-J),le=Math.min(n.ge(T[1],(x[1]-P[1])/(P[3]-P[1]),l),T[1].length),pe=Math.min(n.gt(T[1],(x[3]-P[1])/(P[3]-P[1]),l),T[1].length),Ae=ie+6*le,be=6*Math.max(0,pe-le);b[0]=2*(_[0]-Y[1])/k-1,b[1]=(_[3]+_[1])/F-1,w[0]=Y[1]*I/k,w[1]=te[1]*I/F,be&&(Z.color=X[1],Z.tickScale=w,Z.dataAxis=d,Z.screenOffset=b,o.drawArrays(o.TRIANGLES,Ae,be)),b[0]=(_[2]+_[0])/k-1,b[1]=2*(_[1]-Y[0])/F-1,w[0]=te[0]*I/k,w[1]=Y[0]*I/F,ne&&(Z.color=X[0],Z.tickScale=w,Z.dataAxis=i,Z.screenOffset=b,o.drawArrays(o.TRIANGLES,se,ne)),b[0]=2*(_[2]+Y[3])/k-1,b[1]=(_[3]+_[1])/F-1,w[0]=Y[3]*I/k,w[1]=te[3]*I/F,be&&(Z.color=X[3],Z.tickScale=w,Z.dataAxis=d,Z.screenOffset=b,o.drawArrays(o.TRIANGLES,Ae,be)),b[0]=(_[2]+_[0])/k-1,b[1]=2*(_[3]+Y[2])/F-1,w[0]=te[2]*I/k,w[1]=Y[2]*I/F,ne&&(Z.color=X[2],Z.tickScale=w,Z.dataAxis=i,Z.screenOffset=b,o.drawArrays(o.TRIANGLES,se,ne))}}(),m.update=function(){var M=[1,1,-1,-1,1,-1],c=[1,-1,1,1,-1,-1];return function(i){var d=i.ticks,b=i.bounds,w=new Float32Array(6*3*(d[0].length+d[1].length));this.plot.zeroLineEnable;for(var E=0,y=[[],[]],S=0;S<2;++S)for(var T=y[S],o=d[S],P=b[S],x=b[S+2],_=0;_<o.length;++_){var I=(o[_].x-P)/(x-P);T.push(I);for(var N=0;N<6;++N)w[E++]=I,w[E++]=M[N],w[E++]=c[N]}this.ticks=y,this.vbo.update(w)}}(),m.dispose=function(){this.vbo.dispose(),this.shader.dispose(),this.tickShader.dispose()};function h(M){var c=M.gl,i=t(c),d=s(c,f.gridVert,f.gridFrag),b=s(c,f.tickVert,f.gridFrag),w=new u(M,i,d,b);return w}},1154:function(v,p,r){v.exports=l;var t=r(5827),s=r(5158),n=r(2709);function f(m,h,M){this.plot=m,this.vbo=h,this.shader=M}var u=f.prototype;u.bind=function(){var m=this.shader;this.vbo.bind(),this.shader.bind(),m.attributes.coord.pointer(),m.uniforms.screenBox=this.plot.screenBox},u.drawLine=function(){var m=[0,0],h=[0,0];return function(M,c,i,d,b,w){var E=this.plot,y=this.shader,S=E.gl;m[0]=M,m[1]=c,h[0]=i,h[1]=d,y.uniforms.start=m,y.uniforms.end=h,y.uniforms.width=b*E.pixelRatio,y.uniforms.color=w,S.drawArrays(S.TRIANGLE_STRIP,0,4)}}(),u.dispose=function(){this.vbo.dispose(),this.shader.dispose()};function l(m){var h=m.gl,M=t(h,[-1,-1,-1,1,1,-1,1,1]),c=s(h,n.lineVert,n.lineFrag),i=new f(m,M,c);return i}},2709:function(v,p,r){var t=r(6832),s=t([`precision lowp float;
#define GLSLIFY 1
uniform vec4 color;
void main() {
  gl_FragColor = vec4(color.xyz * color.w, color.w);
}
`]);v.exports={lineVert:t([`precision mediump float;
#define GLSLIFY 1

attribute vec2 coord;

uniform vec4 screenBox;
uniform vec2 start, end;
uniform float width;

vec2 perp(vec2 v) {
  return vec2(v.y, -v.x);
}

vec2 screen(vec2 v) {
  return 2.0 * (v - screenBox.xy) / (screenBox.zw - screenBox.xy) - 1.0;
}

void main() {
  vec2 delta = normalize(perp(start - end));
  vec2 offset = mix(start, end, 0.5 * (coord.y+1.0));
  gl_Position = vec4(screen(offset + 0.5 * width * delta * coord.x), 0, 1);
}
`]),lineFrag:s,textVert:t([`#define GLSLIFY 1
attribute vec3 textCoordinate;

uniform vec2 dataScale, dataShift, dataAxis, screenOffset, textScale;
uniform float angle;

void main() {
  float dataOffset  = textCoordinate.z;
  vec2 glyphOffset  = textCoordinate.xy;
  mat2 glyphMatrix = mat2(cos(angle), sin(angle), -sin(angle), cos(angle));
  vec2 screenCoordinate = dataAxis * (dataScale * dataOffset + dataShift) +
    glyphMatrix * glyphOffset * textScale + screenOffset;
  gl_Position = vec4(screenCoordinate, 0, 1);
}
`]),textFrag:s,gridVert:t([`precision mediump float;
#define GLSLIFY 1

attribute vec3 dataCoord;

uniform vec2 dataAxis, dataShift, dataScale;
uniform float lineWidth;

void main() {
  vec2 pos = dataAxis * (dataScale * dataCoord.x + dataShift);
  pos += 10.0 * dataCoord.y * vec2(dataAxis.y, -dataAxis.x) + dataCoord.z * lineWidth;
  gl_Position = vec4(pos, 0, 1);
}
`]),gridFrag:s,boxVert:t([`precision mediump float;
#define GLSLIFY 1

attribute vec2 coord;

uniform vec4 screenBox;
uniform vec2 lo, hi;

vec2 screen(vec2 v) {
  return 2.0 * (v - screenBox.xy) / (screenBox.zw - screenBox.xy) - 1.0;
}

void main() {
  gl_Position = vec4(screen(mix(lo, hi, coord)), 0, 1);
}
`]),tickVert:t([`precision mediump float;
#define GLSLIFY 1

attribute vec3 dataCoord;

uniform vec2 dataAxis, dataShift, dataScale, screenOffset, tickScale;

void main() {
  vec2 pos = dataAxis * (dataScale * dataCoord.x + dataShift);
  gl_Position = vec4(pos + tickScale*dataCoord.yz + screenOffset, 0, 1);
}
`])}},5613:function(v,p,r){v.exports=h;var t=r(5827),s=r(5158),n=r(6946),f=r(5070),u=r(2709);function l(M,c,i){this.plot=M,this.vbo=c,this.shader=i,this.tickOffset=[[],[]],this.tickX=[[],[]],this.labelOffset=[0,0],this.labelCount=[0,0]}var m=l.prototype;m.drawTicks=function(){var M=[0,0],c=[0,0],i=[0,0];return function(d){var b=this.plot,w=this.shader,E=this.tickX[d],y=this.tickOffset[d],S=b.gl,T=b.viewBox,o=b.dataBox,P=b.screenBox,x=b.pixelRatio,_=b.tickEnable,I=b.tickPad,N=b.tickColor,k=b.tickAngle,F=b.labelEnable,O=b.labelPad,z=b.labelColor,B=b.labelAngle,W=this.labelOffset[d],q=this.labelCount[d],ee=f.lt(E,o[d]),Q=f.le(E,o[d+2]);M[0]=M[1]=0,M[d]=1,c[d]=(T[2+d]+T[d])/(P[2+d]-P[d])-1;var oe=2/P[2+(d^1)]-P[d^1];c[d^1]=oe*T[d^1]-1,_[d]&&(c[d^1]-=oe*x*I[d],ee<Q&&y[Q]>y[ee]&&(w.uniforms.dataAxis=M,w.uniforms.screenOffset=c,w.uniforms.color=N[d],w.uniforms.angle=k[d],S.drawArrays(S.TRIANGLES,y[ee],y[Q]-y[ee]))),F[d]&&q&&(c[d^1]-=oe*x*O[d],w.uniforms.dataAxis=i,w.uniforms.screenOffset=c,w.uniforms.color=z[d],w.uniforms.angle=B[d],S.drawArrays(S.TRIANGLES,W,q)),c[d^1]=oe*T[2+(d^1)]-1,_[d+2]&&(c[d^1]+=oe*x*I[d+2],ee<Q&&y[Q]>y[ee]&&(w.uniforms.dataAxis=M,w.uniforms.screenOffset=c,w.uniforms.color=N[d+2],w.uniforms.angle=k[d+2],S.drawArrays(S.TRIANGLES,y[ee],y[Q]-y[ee]))),F[d+2]&&q&&(c[d^1]+=oe*x*O[d+2],w.uniforms.dataAxis=i,w.uniforms.screenOffset=c,w.uniforms.color=z[d+2],w.uniforms.angle=B[d+2],S.drawArrays(S.TRIANGLES,W,q))}}(),m.drawTitle=function(){var M=[0,0],c=[0,0];return function(){var i=this.plot,d=this.shader,b=i.gl,w=i.screenBox,E=i.titleCenter,y=i.titleAngle,S=i.titleColor,T=i.pixelRatio;if(!!this.titleCount){for(var o=0;o<2;++o)c[o]=2*(E[o]*T-w[o])/(w[2+o]-w[o])-1;d.bind(),d.uniforms.dataAxis=M,d.uniforms.screenOffset=c,d.uniforms.angle=y,d.uniforms.color=S,b.drawArrays(b.TRIANGLES,this.titleOffset,this.titleCount)}}}(),m.bind=function(){var M=[0,0],c=[0,0],i=[0,0];return function(){var d=this.plot,b=this.shader,w=d._tickBounds,E=d.dataBox,y=d.screenBox,S=d.viewBox;b.bind();for(var T=0;T<2;++T){var o=w[T],P=w[T+2],x=P-o,_=.5*(E[T+2]+E[T]),I=E[T+2]-E[T],N=S[T],k=S[T+2],F=k-N,O=y[T],z=y[T+2],B=z-O;c[T]=2*x/I*F/B,M[T]=2*(o-_)/I*F/B}i[1]=2*d.pixelRatio/(y[3]-y[1]),i[0]=i[1]*(y[3]-y[1])/(y[2]-y[0]),b.uniforms.dataScale=c,b.uniforms.dataShift=M,b.uniforms.textScale=i,this.vbo.bind(),b.attributes.textCoordinate.pointer()}}(),m.update=function(M){var c=[],i=M.ticks,d=M.bounds,b,w,E,y,S;for(S=0;S<2;++S){var T=[Math.floor(c.length/3)],o=[-1/0],P=i[S];for(b=0;b<P.length;++b){var x=P[b],_=x.x,I=x.text,N=x.font||"sans-serif";y=x.fontSize||12;for(var k=1/(d[S+2]-d[S]),F=d[S],O=I.split(`
`),z=0;z<O.length;z++)for(E=n(N,O[z]).data,w=0;w<E.length;w+=2)c.push(E[w]*y,-E[w+1]*y-z*y*1.2,(_-F)*k);T.push(Math.floor(c.length/3)),o.push(_)}this.tickOffset[S]=T,this.tickX[S]=o}for(S=0;S<2;++S){for(this.labelOffset[S]=Math.floor(c.length/3),E=n(M.labelFont[S],M.labels[S],{textAlign:"center"}).data,y=M.labelSize[S],b=0;b<E.length;b+=2)c.push(E[b]*y,-E[b+1]*y,0);this.labelCount[S]=Math.floor(c.length/3)-this.labelOffset[S]}for(this.titleOffset=Math.floor(c.length/3),E=n(M.titleFont,M.title).data,y=M.titleSize,b=0;b<E.length;b+=2)c.push(E[b]*y,-E[b+1]*y,0);this.titleCount=Math.floor(c.length/3)-this.titleOffset,this.vbo.update(c)},m.dispose=function(){this.vbo.dispose(),this.shader.dispose()};function h(M){var c=M.gl,i=t(c),d=s(c,u.textVert,u.textFrag),b=new l(M,i,d);return b}},2117:function(v,p,r){v.exports=c;var t=r(2611),s=r(3016),n=r(5613),f=r(1154),u=r(4554);function l(i,d){this.gl=i,this.pickBuffer=d,this.screenBox=[0,0,i.drawingBufferWidth,i.drawingBufferHeight],this.viewBox=[0,0,0,0],this.dataBox=[-10,-10,10,10],this.gridLineEnable=[!0,!0],this.gridLineWidth=[1,1],this.gridLineColor=[[0,0,0,1],[0,0,0,1]],this.pixelRatio=1,this.tickMarkLength=[0,0,0,0],this.tickMarkWidth=[0,0,0,0],this.tickMarkColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[15,15,15,15],this.tickAngle=[0,0,0,0],this.tickEnable=[!0,!0,!0,!0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[15,15,15,15],this.labelAngle=[0,Math.PI/2,0,3*Math.PI/2],this.labelEnable=[!0,!0,!0,!0],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.titleCenter=[0,0],this.titleEnable=!0,this.titleAngle=0,this.titleColor=[0,0,0,1],this.borderColor=[0,0,0,0],this.backgroundColor=[0,0,0,0],this.zeroLineEnable=[!0,!0],this.zeroLineWidth=[4,4],this.zeroLineColor=[[0,0,0,1],[0,0,0,1]],this.borderLineEnable=[!0,!0,!0,!0],this.borderLineWidth=[2,2,2,2],this.borderLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.grid=null,this.text=null,this.line=null,this.box=null,this.objects=[],this.overlays=[],this._tickBounds=[1/0,1/0,-1/0,-1/0],this.static=!1,this.dirty=!1,this.pickDirty=!1,this.pickDelay=120,this.pickRadius=10,this._pickTimeout=null,this._drawPick=this.drawPick.bind(this),this._depthCounter=0}var m=l.prototype;m.setDirty=function(){this.dirty=this.pickDirty=!0},m.setOverlayDirty=function(){this.dirty=!0},m.nextDepthValue=function(){return this._depthCounter++/65536},m.draw=function(){return function(){var i=this.gl,d=this.screenBox,b=this.viewBox,w=this.dataBox,E=this.pixelRatio,y=this.grid,S=this.line,T=this.text,o=this.objects;if(this._depthCounter=0,this.pickDirty&&(this._pickTimeout&&clearTimeout(this._pickTimeout),this.pickDirty=!1,this._pickTimeout=setTimeout(this._drawPick,this.pickDelay)),!!this.dirty){if(this.dirty=!1,i.bindFramebuffer(i.FRAMEBUFFER,null),i.enable(i.SCISSOR_TEST),i.disable(i.DEPTH_TEST),i.depthFunc(i.LESS),i.depthMask(!1),i.enable(i.BLEND),i.blendEquation(i.FUNC_ADD,i.FUNC_ADD),i.blendFunc(i.ONE,i.ONE_MINUS_SRC_ALPHA),this.borderColor){i.scissor(d[0],d[1],d[2]-d[0],d[3]-d[1]);var P=this.borderColor;i.clearColor(P[0]*P[3],P[1]*P[3],P[2]*P[3],P[3]),i.clear(i.COLOR_BUFFER_BIT|i.DEPTH_BUFFER_BIT)}i.scissor(b[0],b[1],b[2]-b[0],b[3]-b[1]),i.viewport(b[0],b[1],b[2]-b[0],b[3]-b[1]);var x=this.backgroundColor;i.clearColor(x[0]*x[3],x[1]*x[3],x[2]*x[3],x[3]),i.clear(i.COLOR_BUFFER_BIT),y.draw();var _=this.zeroLineEnable,I=this.zeroLineColor,N=this.zeroLineWidth;if(_[0]||_[1]){S.bind();for(var k=0;k<2;++k)if(!(!_[k]||!(w[k]<=0&&w[k+2]>=0))){var F=d[k]-w[k]*(d[k+2]-d[k])/(w[k+2]-w[k]);k===0?S.drawLine(F,d[1],F,d[3],N[k],I[k]):S.drawLine(d[0],F,d[2],F,N[k],I[k])}}for(var k=0;k<o.length;++k)o[k].draw();i.viewport(d[0],d[1],d[2]-d[0],d[3]-d[1]),i.scissor(d[0],d[1],d[2]-d[0],d[3]-d[1]),this.grid.drawTickMarks(),S.bind();var O=this.borderLineEnable,z=this.borderLineWidth,B=this.borderLineColor;O[1]&&S.drawLine(b[0],b[1]-.5*z[1]*E,b[0],b[3]+.5*z[3]*E,z[1],B[1]),O[0]&&S.drawLine(b[0]-.5*z[0]*E,b[1],b[2]+.5*z[2]*E,b[1],z[0],B[0]),O[3]&&S.drawLine(b[2],b[1]-.5*z[1]*E,b[2],b[3]+.5*z[3]*E,z[3],B[3]),O[2]&&S.drawLine(b[0]-.5*z[0]*E,b[3],b[2]+.5*z[2]*E,b[3],z[2],B[2]),T.bind();for(var k=0;k<2;++k)T.drawTicks(k);this.titleEnable&&T.drawTitle();for(var W=this.overlays,k=0;k<W.length;++k)W[k].draw();i.disable(i.SCISSOR_TEST),i.disable(i.BLEND),i.depthMask(!0)}}}(),m.drawPick=function(){return function(){if(!this.static){var i=this.pickBuffer;this.gl,this._pickTimeout=null,i.begin();for(var d=1,b=this.objects,w=0;w<b.length;++w)d=b[w].drawPick(d);i.end()}}}(),m.pick=function(){return function(i,d){if(!this.static){var b=this.pixelRatio,w=this.pickPixelRatio,E=this.viewBox,y=Math.round((i-E[0]/b)*w)|0,S=Math.round((d-E[1]/b)*w)|0,T=this.pickBuffer.query(y,S,this.pickRadius);if(!T)return null;for(var o=T.id+(T.value[0]<<8)+(T.value[1]<<16)+(T.value[2]<<24),P=this.objects,x=0;x<P.length;++x){var _=P[x].pick(y,S,o);if(_)return _}return null}}}();function h(i){for(var d=i.slice(),b=0;b<d.length;++b)d[b]=d[b].slice();return d}function M(i,d){return i.x-d.x}m.setScreenBox=function(i){var d=this.screenBox,b=this.pixelRatio;d[0]=Math.round(i[0]*b)|0,d[1]=Math.round(i[1]*b)|0,d[2]=Math.round(i[2]*b)|0,d[3]=Math.round(i[3]*b)|0,this.setDirty()},m.setDataBox=function(i){var d=this.dataBox,b=d[0]!==i[0]||d[1]!==i[1]||d[2]!==i[2]||d[3]!==i[3];b&&(d[0]=i[0],d[1]=i[1],d[2]=i[2],d[3]=i[3],this.setDirty())},m.setViewBox=function(i){var d=this.pixelRatio,b=this.viewBox;b[0]=Math.round(i[0]*d)|0,b[1]=Math.round(i[1]*d)|0,b[2]=Math.round(i[2]*d)|0,b[3]=Math.round(i[3]*d)|0;var w=this.pickPixelRatio;this.pickBuffer.shape=[Math.round((i[2]-i[0])*w)|0,Math.round((i[3]-i[1])*w)|0],this.setDirty()},m.update=function(i){i=i||{};var d=this.gl;this.pixelRatio=i.pixelRatio||1;var b=this.pixelRatio;this.pickPixelRatio=Math.max(b,1),this.setScreenBox(i.screenBox||[0,0,d.drawingBufferWidth/b,d.drawingBufferHeight/b]),this.screenBox,this.setViewBox(i.viewBox||[.125*(this.screenBox[2]-this.screenBox[0])/b,.125*(this.screenBox[3]-this.screenBox[1])/b,.875*(this.screenBox[2]-this.screenBox[0])/b,.875*(this.screenBox[3]-this.screenBox[1])/b]);var w=this.viewBox,E=(w[2]-w[0])/(w[3]-w[1]);this.setDataBox(i.dataBox||[-10,-10/E,10,10/E]),this.borderColor=i.borderColor!==!1?(i.borderColor||[0,0,0,0]).slice():!1,this.backgroundColor=(i.backgroundColor||[0,0,0,0]).slice(),this.gridLineEnable=(i.gridLineEnable||[!0,!0]).slice(),this.gridLineWidth=(i.gridLineWidth||[1,1]).slice(),this.gridLineColor=h(i.gridLineColor||[[.5,.5,.5,1],[.5,.5,.5,1]]),this.zeroLineEnable=(i.zeroLineEnable||[!0,!0]).slice(),this.zeroLineWidth=(i.zeroLineWidth||[4,4]).slice(),this.zeroLineColor=h(i.zeroLineColor||[[0,0,0,1],[0,0,0,1]]),this.tickMarkLength=(i.tickMarkLength||[0,0,0,0]).slice(),this.tickMarkWidth=(i.tickMarkWidth||[0,0,0,0]).slice(),this.tickMarkColor=h(i.tickMarkColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.titleCenter=(i.titleCenter||[.5*(w[0]+w[2])/b,(w[3]+120)/b]).slice(),this.titleEnable=!("titleEnable"in i)||!!i.titleEnable,this.titleAngle=i.titleAngle||0,this.titleColor=(i.titleColor||[0,0,0,1]).slice(),this.labelPad=(i.labelPad||[15,15,15,15]).slice(),this.labelAngle=(i.labelAngle||[0,Math.PI/2,0,3*Math.PI/2]).slice(),this.labelEnable=(i.labelEnable||[!0,!0,!0,!0]).slice(),this.labelColor=h(i.labelColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.tickPad=(i.tickPad||[15,15,15,15]).slice(),this.tickAngle=(i.tickAngle||[0,0,0,0]).slice(),this.tickEnable=(i.tickEnable||[!0,!0,!0,!0]).slice(),this.tickColor=h(i.tickColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.borderLineEnable=(i.borderLineEnable||[!0,!0,!0,!0]).slice(),this.borderLineWidth=(i.borderLineWidth||[2,2,2,2]).slice(),this.borderLineColor=h(i.borderLineColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]);var y=i.ticks||[[],[]],S=this._tickBounds;S[0]=S[1]=1/0,S[2]=S[3]=-1/0;for(var T=0;T<2;++T){var o=y[T].slice(0);o.length!==0&&(o.sort(M),S[T]=Math.min(S[T],o[0].x),S[T+2]=Math.max(S[T+2],o[o.length-1].x))}this.grid.update({bounds:S,ticks:y}),this.text.update({bounds:S,ticks:y,labels:i.labels||["x","y"],labelSize:i.labelSize||[12,12],labelFont:i.labelFont||["sans-serif","sans-serif"],title:i.title||"",titleSize:i.titleSize||18,titleFont:i.titleFont||"sans-serif"}),this.static=!!i.static,this.setDirty()},m.dispose=function(){this.box.dispose(),this.grid.dispose(),this.text.dispose(),this.line.dispose();for(var i=this.objects.length-1;i>=0;--i)this.objects[i].dispose();this.objects.length=0;for(var i=this.overlays.length-1;i>=0;--i)this.overlays[i].dispose();this.overlays.length=0,this.gl=null},m.addObject=function(i){this.objects.indexOf(i)<0&&(this.objects.push(i),this.setDirty())},m.removeObject=function(i){for(var d=this.objects,b=0;b<d.length;++b)if(d[b]===i){d.splice(b,1),this.setDirty();break}},m.addOverlay=function(i){this.overlays.indexOf(i)<0&&(this.overlays.push(i),this.setOverlayDirty())},m.removeOverlay=function(i){for(var d=this.overlays,b=0;b<d.length;++b)if(d[b]===i){d.splice(b,1),this.setOverlayDirty();break}};function c(i){var d=i.gl,b=t(d,[d.drawingBufferWidth,d.drawingBufferHeight]),w=new l(d,b);return w.grid=s(w),w.text=n(w),w.line=f(w),w.box=u(w),w.update(i),w}},4296:function(v,p,r){v.exports=m;var t=r(8161),s=r(1152),n=r(6145),f=r(6475),u=r(2565),l=r(5233);function m(h,M){h=h||document.body,M=M||{};var c=[.01,1/0];"distanceLimits"in M&&(c[0]=M.distanceLimits[0],c[1]=M.distanceLimits[1]),"zoomMin"in M&&(c[0]=M.zoomMin),"zoomMax"in M&&(c[1]=M.zoomMax);var i=s({center:M.center||[0,0,0],up:M.up||[0,1,0],eye:M.eye||[0,0,10],mode:M.mode||"orbit",distanceLimits:c}),d=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],b=0,w=h.clientWidth,E=h.clientHeight,y={keyBindingMode:"rotate",enableWheel:!0,view:i,element:h,delay:M.delay||16,rotateSpeed:M.rotateSpeed||1,zoomSpeed:M.zoomSpeed||1,translateSpeed:M.translateSpeed||1,flipX:!!M.flipX,flipY:!!M.flipY,modes:i.modes,_ortho:M._ortho||M.projection&&M.projection.type==="orthographic"||!1,tick:function(){var S=t(),T=this.delay,o=S-2*T;i.idle(S-T),i.recalcMatrix(o),i.flush(S-(100+T*2));for(var P=!0,x=i.computedMatrix,_=0;_<16;++_)P=P&&d[_]===x[_],d[_]=x[_];var I=h.clientWidth===w&&h.clientHeight===E;return w=h.clientWidth,E=h.clientHeight,P?!I:(b=Math.exp(i.computedRadius[0]),!0)},lookAt:function(S,T,o){i.lookAt(i.lastT(),S,T,o)},rotate:function(S,T,o){i.rotate(i.lastT(),S,T,o)},pan:function(S,T,o){i.pan(i.lastT(),S,T,o)},translate:function(S,T,o){i.translate(i.lastT(),S,T,o)}};return Object.defineProperties(y,{matrix:{get:function(){return i.computedMatrix},set:function(S){return i.setMatrix(i.lastT(),S),i.computedMatrix},enumerable:!0},mode:{get:function(){return i.getMode()},set:function(S){var T=i.computedUp.slice(),o=i.computedEye.slice(),P=i.computedCenter.slice();if(i.setMode(S),S==="turntable"){var x=t();i._active.lookAt(x,o,P,T),i._active.lookAt(x+500,o,P,[0,0,1]),i._active.flush(x)}return i.getMode()},enumerable:!0},center:{get:function(){return i.computedCenter},set:function(S){return i.lookAt(i.lastT(),null,S),i.computedCenter},enumerable:!0},eye:{get:function(){return i.computedEye},set:function(S){return i.lookAt(i.lastT(),S),i.computedEye},enumerable:!0},up:{get:function(){return i.computedUp},set:function(S){return i.lookAt(i.lastT(),null,null,S),i.computedUp},enumerable:!0},distance:{get:function(){return b},set:function(S){return i.setDistance(i.lastT(),S),S},enumerable:!0},distanceLimits:{get:function(){return i.getDistanceLimits(c)},set:function(S){return i.setDistanceLimits(S),S},enumerable:!0}}),h.addEventListener("contextmenu",function(S){return S.preventDefault(),!1}),y._lastX=-1,y._lastY=-1,y._lastMods={shift:!1,control:!1,alt:!1,meta:!1},y.enableMouseListeners=function(){y.mouseListener=n(h,S),h.addEventListener("touchstart",function(T){var o=u(T.changedTouches[0],h);S(0,o[0],o[1],y._lastMods),S(1,o[0],o[1],y._lastMods)},l?{passive:!0}:!1),h.addEventListener("touchmove",function(T){var o=u(T.changedTouches[0],h);S(1,o[0],o[1],y._lastMods),T.preventDefault()},l?{passive:!1}:!1),h.addEventListener("touchend",function(T){S(0,y._lastX,y._lastY,y._lastMods)},l?{passive:!0}:!1);function S(T,o,P,x){var _=y.keyBindingMode;if(_!==!1){var I=_==="rotate",N=_==="pan",k=_==="zoom",F=!!x.control,O=!!x.alt,z=!!x.shift,B=!!(T&1),W=!!(T&2),q=!!(T&4),ee=1/h.clientHeight,Q=ee*(o-y._lastX),oe=ee*(P-y._lastY),Z=y.flipX?1:-1,Y=y.flipY?1:-1,te=Math.PI*y.rotateSpeed,X=t();if(y._lastX!==-1&&y._lastY!==-1&&((I&&B&&!F&&!O&&!z||B&&!F&&!O&&z)&&i.rotate(X,Z*te*Q,-Y*te*oe,0),(N&&B&&!F&&!O&&!z||W||B&&F&&!O&&!z)&&i.pan(X,-y.translateSpeed*Q*b,y.translateSpeed*oe*b,0),k&&B&&!F&&!O&&!z||q||B&&!F&&O&&!z)){var $=-y.zoomSpeed*oe/window.innerHeight*(X-i.lastT())*100;i.pan(X,0,0,b*(Math.exp($)-1))}return y._lastX=o,y._lastY=P,y._lastMods=x,!0}}y.wheelListener=f(h,function(T,o){if(y.keyBindingMode!==!1&&!!y.enableWheel){var P=y.flipX?1:-1,x=y.flipY?1:-1,_=t();if(Math.abs(T)>Math.abs(o))i.rotate(_,0,0,-T*P*Math.PI*y.rotateSpeed/window.innerWidth);else if(!y._ortho){var I=-y.zoomSpeed*x*o/window.innerHeight*(_-i.lastT())/20;i.pan(_,0,0,b*(Math.exp(I)-1))}}},!0)},y.enableMouseListeners(),y}},8245:function(v,p,r){var t=r(6832),s=r(5158),n=t([`precision mediump float;
#define GLSLIFY 1
attribute vec2 position;
varying vec2 uv;
void main() {
  uv = position;
  gl_Position = vec4(position, 0, 1);
}`]),f=t([`precision mediump float;
#define GLSLIFY 1

uniform sampler2D accumBuffer;
varying vec2 uv;

void main() {
  vec4 accum = texture2D(accumBuffer, 0.5 * (uv + 1.0));
  gl_FragColor = min(vec4(1,1,1,1), accum);
}`]);v.exports=function(u){return s(u,n,f,null,[{name:"position",type:"vec2"}])}},1059:function(v,p,r){var t=r(4296),s=r(7453),n=r(2771),f=r(6496),u=r(2611),l=r(4234),m=r(8126),h=r(6145),M=r(1120),c=r(5268),i=r(8245),d=r(2321)({tablet:!0,featureDetect:!0});v.exports={createScene:S,createCamera:t};function b(){this.mouse=[-1,-1],this.screen=null,this.distance=1/0,this.index=null,this.dataCoordinate=null,this.dataPosition=null,this.object=null,this.data=null}function w(o,P){var x=null;try{x=o.getContext("webgl",P),x||(x=o.getContext("experimental-webgl",P))}catch{return null}return x}function E(o){var P=Math.round(Math.log(Math.abs(o))/Math.log(10));if(P<0){var x=Math.round(Math.pow(10,-P));return Math.ceil(o*x)/x}else if(P>0){var x=Math.round(Math.pow(10,P));return Math.ceil(o/x)*x}return Math.ceil(o)}function y(o){return typeof o=="boolean"?o:!0}function S(o){o=o||{},o.camera=o.camera||{};var P=o.canvas;if(!P)if(P=document.createElement("canvas"),o.container){var x=o.container;x.appendChild(P)}else document.body.appendChild(P);var _=o.gl;if(_||(o.glOptions&&(d=!!o.glOptions.preserveDrawingBuffer),_=w(P,o.glOptions||{premultipliedAlpha:!0,antialias:!0,preserveDrawingBuffer:d})),!_)throw new Error("webgl not supported");var I=o.bounds||[[-10,-10,-10],[10,10,10]],N=new b,k=l(_,_.drawingBufferWidth,_.drawingBufferHeight,{preferFloat:!d}),F=i(_),O=o.cameraObject&&o.cameraObject._ortho===!0||o.camera.projection&&o.camera.projection.type==="orthographic"||!1,z={eye:o.camera.eye||[2,0,0],center:o.camera.center||[0,0,0],up:o.camera.up||[0,1,0],zoomMin:o.camera.zoomMax||.1,zoomMax:o.camera.zoomMin||100,mode:o.camera.mode||"turntable",_ortho:O},B=o.axes||{},W=s(_,B);W.enable=!B.disable;var q=o.spikes||{},ee=f(_,q),Q=[],oe=[],Z=[],Y=[],te=!0,J=!0,X=new Array(16),$=new Array(16),ie={view:null,projection:X,model:$,_ortho:!1},J=!0,j=[_.drawingBufferWidth,_.drawingBufferHeight],se=o.cameraObject||t(P,z),ne={gl:_,contextLost:!1,pixelRatio:o.pixelRatio||1,canvas:P,selection:N,camera:se,axes:W,axesPixels:null,spikes:ee,bounds:I,objects:Q,shape:j,aspect:o.aspectRatio||[1,1,1],pickRadius:o.pickRadius||10,zNear:o.zNear||.01,zFar:o.zFar||1e3,fovy:o.fovy||Math.PI/4,clearColor:o.clearColor||[0,0,0,0],autoResize:y(o.autoResize),autoBounds:y(o.autoBounds),autoScale:!!o.autoScale,autoCenter:y(o.autoCenter),clipToBounds:y(o.clipToBounds),snapToData:!!o.snapToData,onselect:o.onselect||null,onrender:o.onrender||null,onclick:o.onclick||null,cameraParams:ie,oncontextloss:null,mouseListener:null,_stopped:!1,getAspectratio:function(){return{x:this.aspect[0],y:this.aspect[1],z:this.aspect[2]}},setAspectratio:function(Fe){this.aspect[0]=Fe.x,this.aspect[1]=Fe.y,this.aspect[2]=Fe.z,J=!0},setBounds:function(Fe,Be){this.bounds[0][Fe]=Be.min,this.bounds[1][Fe]=Be.max},setClearColor:function(Fe){this.clearColor=Fe},clearRGBA:function(){this.gl.clearColor(this.clearColor[0],this.clearColor[1],this.clearColor[2],this.clearColor[3]),this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT)}},le=[_.drawingBufferWidth/ne.pixelRatio|0,_.drawingBufferHeight/ne.pixelRatio|0];function pe(){if(!ne._stopped&&!!ne.autoResize){var Fe=P.parentNode,Be=1,_e=1;Fe&&Fe!==document.body?(Be=Fe.clientWidth,_e=Fe.clientHeight):(Be=window.innerWidth,_e=window.innerHeight);var Ue=Math.ceil(Be*ne.pixelRatio)|0,it=Math.ceil(_e*ne.pixelRatio)|0;if(Ue!==P.width||it!==P.height){P.width=Ue,P.height=it;var lt=P.style;lt.position=lt.position||"absolute",lt.left="0px",lt.top="0px",lt.width=Be+"px",lt.height=_e+"px",te=!0}}}ne.autoResize&&pe(),window.addEventListener("resize",pe);function Ae(){for(var Fe=Q.length,Be=Y.length,_e=0;_e<Be;++_e)Z[_e]=0;e:for(var _e=0;_e<Fe;++_e){var Ue=Q[_e],it=Ue.pickSlots;if(!it){oe[_e]=-1;continue}for(var lt=0;lt<Be;++lt)if(Z[lt]+it<255){oe[_e]=lt,Ue.setPickBase(Z[lt]+1),Z[lt]+=it;continue e}var $e=u(_,j);oe[_e]=Be,Y.push($e),Z.push(it),Ue.setPickBase(1),Be+=1}for(;Be>0&&Z[Be-1]===0;)Z.pop(),Y.pop().dispose()}ne.update=function(Fe){ne._stopped||(te=!0,J=!0)},ne.add=function(Fe){ne._stopped||(Fe.axes=W,Q.push(Fe),oe.push(-1),te=!0,J=!0,Ae())},ne.remove=function(Fe){if(!ne._stopped){var Be=Q.indexOf(Fe);Be<0||(Q.splice(Be,1),oe.pop(),te=!0,J=!0,Ae())}},ne.dispose=function(){if(!ne._stopped&&(ne._stopped=!0,window.removeEventListener("resize",pe),P.removeEventListener("webglcontextlost",be),ne.mouseListener.enabled=!1,!ne.contextLost)){W.dispose(),ee.dispose();for(var Fe=0;Fe<Q.length;++Fe)Q[Fe].dispose();k.dispose();for(var Fe=0;Fe<Y.length;++Fe)Y[Fe].dispose();F.dispose(),_=null,W=null,ee=null,Q=[]}},ne._mouseRotating=!1,ne._prevButtons=0,ne.enableMouseListeners=function(){ne.mouseListener=h(P,function(Fe,Be,_e){if(!ne._stopped){var Ue=Y.length,it=Q.length,lt=N.object;N.distance=1/0,N.mouse[0]=Be,N.mouse[1]=_e,N.object=null,N.screen=null,N.dataCoordinate=N.dataPosition=null;var $e=!1;if(Fe&&ne._prevButtons)ne._mouseRotating=!0;else{ne._mouseRotating&&(J=!0),ne._mouseRotating=!1;for(var qe=0;qe<Ue;++qe){var ft=Y[qe].query(Be,le[1]-_e-1,ne.pickRadius);if(ft){if(ft.distance>N.distance)continue;for(var ct=0;ct<it;++ct){var pt=Q[ct];if(oe[ct]===qe){var yt=pt.pick(ft);yt&&(N.buttons=Fe,N.screen=ft.coord,N.distance=ft.distance,N.object=pt,N.index=yt.distance,N.dataPosition=yt.position,N.dataCoordinate=yt.dataCoordinate,N.data=yt,$e=!0)}}}}}lt&&lt!==N.object&&(lt.highlight&&lt.highlight(null),te=!0),N.object&&(N.object.highlight&&N.object.highlight(N.data),te=!0),$e=$e||N.object!==lt,$e&&ne.onselect&&ne.onselect(N),Fe&1&&!(ne._prevButtons&1)&&ne.onclick&&ne.onclick(N),ne._prevButtons=Fe}})};function be(){if(ne.contextLost)return!0;_.isContextLost()&&(ne.contextLost=!0,ne.mouseListener.enabled=!1,ne.selection.object=null,ne.oncontextloss&&ne.oncontextloss())}P.addEventListener("webglcontextlost",be);function Re(){if(!be()){_.colorMask(!0,!0,!0,!0),_.depthMask(!0),_.disable(_.BLEND),_.enable(_.DEPTH_TEST),_.depthFunc(_.LEQUAL);for(var Fe=Q.length,Be=Y.length,_e=0;_e<Be;++_e){var Ue=Y[_e];Ue.shape=le,Ue.begin();for(var it=0;it<Fe;++it)if(oe[it]===_e){var lt=Q[it];lt.drawPick&&(lt.pixelRatio=1,lt.drawPick(ie))}Ue.end()}}}var xe=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],Me=[xe[0].slice(),xe[1].slice()];function ye(){if(!be()){pe();var Fe=ne.camera.tick();ie.view=ne.camera.matrix,te=te||Fe,J=J||Fe,W.pixelRatio=ne.pixelRatio,ee.pixelRatio=ne.pixelRatio;var Be=Q.length,_e=xe[0],Ue=xe[1];_e[0]=_e[1]=_e[2]=1/0,Ue[0]=Ue[1]=Ue[2]=-1/0;for(var it=0;it<Be;++it){var lt=Q[it];lt.pixelRatio=ne.pixelRatio,lt.axes=ne.axes,te=te||!!lt.dirty,J=J||!!lt.dirty;var $e=lt.bounds;if($e)for(var qe=$e[0],ft=$e[1],ct=0;ct<3;++ct)_e[ct]=Math.min(_e[ct],qe[ct]),Ue[ct]=Math.max(Ue[ct],ft[ct])}var pt=ne.bounds;if(ne.autoBounds)for(var ct=0;ct<3;++ct){if(Ue[ct]<_e[ct])_e[ct]=-1,Ue[ct]=1;else{_e[ct]===Ue[ct]&&(_e[ct]-=1,Ue[ct]+=1);var yt=.05*(Ue[ct]-_e[ct]);_e[ct]=_e[ct]-yt,Ue[ct]=Ue[ct]+yt}pt[0][ct]=_e[ct],pt[1][ct]=Ue[ct]}for(var Et=!1,ct=0;ct<3;++ct)Et=Et||Me[0][ct]!==pt[0][ct]||Me[1][ct]!==pt[1][ct],Me[0][ct]=pt[0][ct],Me[1][ct]=pt[1][ct];if(J=J||Et,te=te||Et,!!te){if(Et){for(var tt=[0,0,0],it=0;it<3;++it)tt[it]=E((pt[1][it]-pt[0][it])/10);W.autoTicks?W.update({bounds:pt,tickSpacing:tt}):W.update({bounds:pt})}var Ie=_.drawingBufferWidth,We=_.drawingBufferHeight;j[0]=Ie,j[1]=We,le[0]=Math.max(Ie/ne.pixelRatio,1)|0,le[1]=Math.max(We/ne.pixelRatio,1)|0,T(ne,O);for(var it=0;it<Be;++it){var lt=Q[it];lt.axesBounds=pt,ne.clipToBounds&&(lt.clipBounds=pt)}N.object&&(ne.snapToData?ee.position=N.dataCoordinate:ee.position=N.dataPosition,ee.bounds=pt),J&&(J=!1,Re()),ne.axesPixels=n(ne.axes,ie,Ie,We),ne.onrender&&ne.onrender(),_.bindFramebuffer(_.FRAMEBUFFER,null),_.viewport(0,0,Ie,We),ne.clearRGBA(),_.depthMask(!0),_.colorMask(!0,!0,!0,!0),_.enable(_.DEPTH_TEST),_.depthFunc(_.LEQUAL),_.disable(_.BLEND),_.disable(_.CULL_FACE);var Ze=!1;W.enable&&(Ze=Ze||W.isTransparent(),W.draw(ie)),ee.axes=W,N.object&&ee.draw(ie),_.disable(_.CULL_FACE);for(var it=0;it<Be;++it){var lt=Q[it];lt.axes=W,lt.pixelRatio=ne.pixelRatio,lt.isOpaque&&lt.isOpaque()&&lt.draw(ie),lt.isTransparent&&lt.isTransparent()&&(Ze=!0)}if(Ze){k.shape=j,k.bind(),_.clear(_.DEPTH_BUFFER_BIT),_.colorMask(!1,!1,!1,!1),_.depthMask(!0),_.depthFunc(_.LESS),W.enable&&W.isTransparent()&&W.drawTransparent(ie);for(var it=0;it<Be;++it){var lt=Q[it];lt.isOpaque&&lt.isOpaque()&&lt.draw(ie)}_.enable(_.BLEND),_.blendEquation(_.FUNC_ADD),_.blendFunc(_.ONE,_.ONE_MINUS_SRC_ALPHA),_.colorMask(!0,!0,!0,!0),_.depthMask(!1),_.clearColor(0,0,0,0),_.clear(_.COLOR_BUFFER_BIT),W.isTransparent()&&W.drawTransparent(ie);for(var it=0;it<Be;++it){var lt=Q[it];lt.isTransparent&&lt.isTransparent()&&lt.drawTransparent(ie)}_.bindFramebuffer(_.FRAMEBUFFER,null),_.blendFunc(_.ONE,_.ONE_MINUS_SRC_ALPHA),_.disable(_.DEPTH_TEST),F.bind(),k.color[0].bind(0),F.uniforms.accumBuffer=0,m(_),_.disable(_.BLEND)}te=!1;for(var it=0;it<Be;++it)Q[it].dirty=!1}}}function Se(){ne._stopped||ne.contextLost||(ye(),requestAnimationFrame(Se))}return ne.enableMouseListeners(),Se(),ne.redraw=function(){ne._stopped||(te=!0,ye())},ne}function T(o,P){var x=o.bounds,_=o.cameraParams,I=_.projection,N=_.model,k=o.gl.drawingBufferWidth,F=o.gl.drawingBufferHeight,O=o.zNear,z=o.zFar,B=o.fovy,W=k/F;P?(c(I,-W,W,-1,1,O,z),_._ortho=!0):(M(I,B,W,O,z),_._ortho=!1);for(var q=0;q<16;++q)N[q]=0;N[15]=1;for(var ee=0,q=0;q<3;++q)ee=Math.max(ee,x[1][q]-x[0][q]);for(var q=0;q<3;++q)o.autoScale?N[5*q]=o.aspect[q]/(x[1][q]-x[0][q]):N[5*q]=1/ee,o.autoCenter&&(N[12+q]=-N[5*q]*.5*(x[0][q]+x[1][q]))}},8023:function(v,p,r){var t=r(6832);p.pointVertex=t([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;

uniform mat3 matrix;
uniform float pointSize;
uniform float pointCloud;

highp float rand(vec2 co) {
  highp float a = 12.9898;
  highp float b = 78.233;
  highp float c = 43758.5453;
  highp float d = dot(co.xy, vec2(a, b));
  highp float e = mod(d, 3.14);
  return fract(sin(e) * c);
}

void main() {
  vec3 hgPosition = matrix * vec3(position, 1);
  gl_Position  = vec4(hgPosition.xy, 0, hgPosition.z);
    // if we don't jitter the point size a bit, overall point cloud
    // saturation 'jumps' on zooming, which is disturbing and confusing
  gl_PointSize = pointSize * ((19.5 + rand(position)) / 20.0);
  if(pointCloud != 0.0) { // pointCloud is truthy
    // get the same square surface as circle would be
    gl_PointSize *= 0.886;
  }
}`]),p.pointFragment=t([`precision mediump float;
#define GLSLIFY 1

uniform vec4 color, borderColor;
uniform float centerFraction;
uniform float pointCloud;

void main() {
  float radius;
  vec4 baseColor;
  if(pointCloud != 0.0) { // pointCloud is truthy
    if(centerFraction == 1.0) {
      gl_FragColor = color;
    } else {
      gl_FragColor = mix(borderColor, color, centerFraction);
    }
  } else {
    radius = length(2.0 * gl_PointCoord.xy - 1.0);
    if(radius > 1.0) {
      discard;
    }
    baseColor = mix(borderColor, color, step(radius, centerFraction));
    gl_FragColor = vec4(baseColor.rgb * baseColor.a, baseColor.a);
  }
}
`]),p.pickVertex=t([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;
attribute vec4 pickId;

uniform mat3 matrix;
uniform float pointSize;
uniform vec4 pickOffset;

varying vec4 fragId;

void main() {
  vec3 hgPosition = matrix * vec3(position, 1);
  gl_Position  = vec4(hgPosition.xy, 0, hgPosition.z);
  gl_PointSize = pointSize;

  vec4 id = pickId + pickOffset;
  id.y += floor(id.x / 256.0);
  id.x -= floor(id.x / 256.0) * 256.0;

  id.z += floor(id.y / 256.0);
  id.y -= floor(id.y / 256.0) * 256.0;

  id.w += floor(id.z / 256.0);
  id.z -= floor(id.z / 256.0) * 256.0;

  fragId = id;
}
`]),p.pickFragment=t([`precision mediump float;
#define GLSLIFY 1

varying vec4 fragId;

void main() {
  float radius = length(2.0 * gl_PointCoord.xy - 1.0);
  if(radius > 1.0) {
    discard;
  }
  gl_FragColor = fragId / 255.0;
}
`])},8271:function(v,p,r){var t=r(5158),s=r(5827),n=r(5306),f=r(8023);v.exports=h;function u(M,c,i,d,b){this.plot=M,this.offsetBuffer=c,this.pickBuffer=i,this.shader=d,this.pickShader=b,this.sizeMin=.5,this.sizeMinCap=2,this.sizeMax=20,this.areaRatio=1,this.pointCount=0,this.color=[1,0,0,1],this.borderColor=[0,0,0,1],this.blend=!1,this.pickOffset=0,this.points=null}var l=u.prototype;l.dispose=function(){this.shader.dispose(),this.pickShader.dispose(),this.offsetBuffer.dispose(),this.pickBuffer.dispose(),this.plot.removeObject(this)},l.update=function(M){var c;M=M||{};function i(T,o){return T in M?M[T]:o}this.sizeMin=i("sizeMin",.5),this.sizeMax=i("sizeMax",20),this.color=i("color",[1,0,0,1]).slice(),this.areaRatio=i("areaRatio",1),this.borderColor=i("borderColor",[0,0,0,1]).slice(),this.blend=i("blend",!1);var d=M.positions.length>>>1,b=M.positions instanceof Float32Array,w=M.idToIndex instanceof Int32Array&&M.idToIndex.length>=d,E=M.positions,y=b?E:n.mallocFloat32(E.length),S=w?M.idToIndex:n.mallocInt32(d);if(b||y.set(E),!w)for(y.set(E),c=0;c<d;c++)S[c]=c;this.points=E,this.offsetBuffer.update(y),this.pickBuffer.update(S),b||n.free(y),w||n.free(S),this.pointCount=d,this.pickOffset=0};function m(M,c){var i=0,d=M.length>>>1,b;for(b=0;b<d;b++){var w=M[b*2],E=M[b*2+1];w>=c[0]&&w<=c[2]&&E>=c[1]&&E<=c[3]&&i++}return i}l.unifiedDraw=function(){var M=[1,0,0,0,1,0,0,0,1],c=[0,0,0,0];return function(i){var d=i!==void 0,b=d?this.pickShader:this.shader,w=this.plot.gl,E=this.plot.dataBox;if(this.pointCount===0)return i;var y=E[2]-E[0],S=E[3]-E[1],T=m(this.points,E),o=this.plot.pickPixelRatio*Math.max(Math.min(this.sizeMinCap,this.sizeMin),Math.min(this.sizeMax,this.sizeMax/Math.pow(T,.33333)));M[0]=2/y,M[4]=2/S,M[6]=-2*E[0]/y-1,M[7]=-2*E[1]/S-1,this.offsetBuffer.bind(),b.bind(),b.attributes.position.pointer(),b.uniforms.matrix=M,b.uniforms.color=this.color,b.uniforms.borderColor=this.borderColor,b.uniforms.pointCloud=o<5,b.uniforms.pointSize=o,b.uniforms.centerFraction=Math.min(1,Math.max(0,Math.sqrt(1-this.areaRatio))),d&&(c[0]=i&255,c[1]=i>>8&255,c[2]=i>>16&255,c[3]=i>>24&255,this.pickBuffer.bind(),b.attributes.pickId.pointer(w.UNSIGNED_BYTE),b.uniforms.pickOffset=c,this.pickOffset=i);var P=w.getParameter(w.BLEND),x=w.getParameter(w.DITHER);return P&&!this.blend&&w.disable(w.BLEND),x&&w.disable(w.DITHER),w.drawArrays(w.POINTS,0,this.pointCount),P&&!this.blend&&w.enable(w.BLEND),x&&w.enable(w.DITHER),i+this.pointCount}}(),l.draw=l.unifiedDraw,l.drawPick=l.unifiedDraw,l.pick=function(M,c,i){var d=this.pickOffset,b=this.pointCount;if(i<d||i>=d+b)return null;var w=i-d,E=this.points;return{object:this,pointId:w,dataCoord:[E[2*w],E[2*w+1]]}};function h(M,c){var i=M.gl,d=s(i),b=s(i),w=t(i,f.pointVertex,f.pointFragment),E=t(i,f.pickVertex,f.pickFragment),y=new u(M,d,b,w,E);return y.update(c),M.addObject(y),y}},6093:function(v){v.exports=p;function p(r,t,s,n){var f=t[0],u=t[1],l=t[2],m=t[3],h=s[0],M=s[1],c=s[2],i=s[3],d,b,w,E,y;return b=f*h+u*M+l*c+m*i,b<0&&(b=-b,h=-h,M=-M,c=-c,i=-i),1-b>1e-6?(d=Math.acos(b),w=Math.sin(d),E=Math.sin((1-n)*d)/w,y=Math.sin(n*d)/w):(E=1-n,y=n),r[0]=E*f+y*h,r[1]=E*u+y*M,r[2]=E*l+y*c,r[3]=E*m+y*i,r}},8240:function(v){v.exports=function(p){return!p&&p!==0?"":p.toString()}},4123:function(v,p,r){var t=r(875);v.exports=n;var s={};function n(f,u,l){var m=s[u];if(m||(m=s[u]={}),f in m)return m[f];var h={textAlign:"center",textBaseline:"middle",lineHeight:1,font:u,lineSpacing:1.25,styletags:{breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0}};h.triangles=!0;var M=t(f,h);h.triangles=!1;var c=t(f,h),i,d;if(l&&l!==1){for(i=0;i<M.positions.length;++i)for(d=0;d<M.positions[i].length;++d)M.positions[i][d]/=l;for(i=0;i<c.positions.length;++i)for(d=0;d<c.positions[i].length;++d)c.positions[i][d]/=l}var b=[[1/0,1/0],[-1/0,-1/0]],w=c.positions.length;for(i=0;i<w;++i){var E=c.positions[i];for(d=0;d<2;++d)b[0][d]=Math.min(b[0][d],E[d]),b[1][d]=Math.max(b[1][d],E[d])}return m[f]=[M,c,b]}},9282:function(v,p,r){var t=r(5158),s=r(6832),n=s([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform vec4 highlightId;
uniform float highlightScale;
uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float scale = 1.0;
    if(distance(highlightId, id) < 0.0001) {
      scale = highlightScale;
    }

    vec4 worldPosition = model * vec4(position, 1);
    vec4 viewPosition = view * worldPosition;
    viewPosition = viewPosition / viewPosition.w;
    vec4 clipPosition = projection * (viewPosition + scale * vec4(glyph.x, -glyph.y, 0, 0));

    gl_Position = clipPosition;
    interpColor = color;
    pickId = id;
    dataCoordinate = position;
  }
}`]),f=s([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform vec2 screenSize;
uniform vec3 clipBounds[2];
uniform float highlightScale, pixelRatio;
uniform vec4 highlightId;

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float scale = pixelRatio;
    if(distance(highlightId.bgr, id.bgr) < 0.001) {
      scale *= highlightScale;
    }

    vec4 worldPosition = model * vec4(position, 1.0);
    vec4 viewPosition = view * worldPosition;
    vec4 clipPosition = projection * viewPosition;
    clipPosition /= clipPosition.w;

    gl_Position = clipPosition + vec4(screenSize * scale * vec2(glyph.x, -glyph.y), 0.0, 0.0);
    interpColor = color;
    pickId = id;
    dataCoordinate = position;
  }
}`]),u=s([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform float highlightScale;
uniform vec4 highlightId;
uniform vec3 axes[2];
uniform mat4 model, view, projection;
uniform vec2 screenSize;
uniform vec3 clipBounds[2];
uniform float scale, pixelRatio;

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float lscale = pixelRatio * scale;
    if(distance(highlightId, id) < 0.0001) {
      lscale *= highlightScale;
    }

    vec4 clipCenter   = projection * view * model * vec4(position, 1);
    vec3 dataPosition = position + 0.5*lscale*(axes[0] * glyph.x + axes[1] * glyph.y) * clipCenter.w * screenSize.y;
    vec4 clipPosition = projection * view * model * vec4(dataPosition, 1);

    gl_Position = clipPosition;
    interpColor = color;
    pickId = id;
    dataCoordinate = dataPosition;
  }
}
`]),l=s([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 fragClipBounds[2];
uniform float opacity;

varying vec4 interpColor;
varying vec3 dataCoordinate;

void main() {
  if (
    outOfRange(fragClipBounds[0], fragClipBounds[1], dataCoordinate) ||
    interpColor.a * opacity == 0.
  ) discard;
  gl_FragColor = interpColor * opacity;
}
`]),m=s([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 fragClipBounds[2];
uniform float pickGroup;

varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(fragClipBounds[0], fragClipBounds[1], dataCoordinate)) discard;

  gl_FragColor = vec4(pickGroup, pickId.bgr);
}`]),h=[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"glyph",type:"vec2"},{name:"id",type:"vec4"}],M={vertex:n,fragment:l,attributes:h},c={vertex:f,fragment:l,attributes:h},i={vertex:u,fragment:l,attributes:h},d={vertex:n,fragment:m,attributes:h},b={vertex:f,fragment:m,attributes:h},w={vertex:u,fragment:m,attributes:h};function E(y,S){var T=t(y,S),o=T.attributes;return o.position.location=0,o.color.location=1,o.glyph.location=2,o.id.location=3,T}p.createPerspective=function(y){return E(y,M)},p.createOrtho=function(y){return E(y,c)},p.createProject=function(y){return E(y,i)},p.createPickPerspective=function(y){return E(y,d)},p.createPickOrtho=function(y){return E(y,b)},p.createPickProject=function(y){return E(y,w)}},2182:function(v,p,r){var t=r(3596),s=r(5827),n=r(2944),f=r(5306),u=r(104),l=r(9282),m=r(4123),h=r(8240),M=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];v.exports=oe;function c(Z,Y){var te=Z[0],X=Z[1],$=Z[2],ie=Z[3];return Z[0]=Y[0]*te+Y[4]*X+Y[8]*$+Y[12]*ie,Z[1]=Y[1]*te+Y[5]*X+Y[9]*$+Y[13]*ie,Z[2]=Y[2]*te+Y[6]*X+Y[10]*$+Y[14]*ie,Z[3]=Y[3]*te+Y[7]*X+Y[11]*$+Y[15]*ie,Z}function i(Z,Y,te,X){return c(X,X),c(X,X),c(X,X)}function d(Z,Y){this.index=Z,this.dataCoordinate=this.position=Y}function b(Z){return Z===!0||Z>1?1:Z}function w(Z,Y,te,X,$,ie,J,j,se,ne,le,pe){this.gl=Z,this.pixelRatio=1,this.shader=Y,this.orthoShader=te,this.projectShader=X,this.pointBuffer=$,this.colorBuffer=ie,this.glyphBuffer=J,this.idBuffer=j,this.vao=se,this.vertexCount=0,this.lineVertexCount=0,this.opacity=1,this.hasAlpha=!1,this.lineWidth=0,this.projectScale=[.6666666666666666,.6666666666666666,.6666666666666666],this.projectOpacity=[1,1,1],this.projectHasAlpha=!1,this.pickId=0,this.pickPerspectiveShader=ne,this.pickOrthoShader=le,this.pickProjectShader=pe,this.points=[],this._selectResult=new d(0,[0,0,0]),this.useOrtho=!0,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.axesProject=[!0,!0,!0],this.axesBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.highlightId=[1,1,1,1],this.highlightScale=2,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.dirty=!0}var E=w.prototype;E.pickSlots=1,E.setPickBase=function(Z){this.pickId=Z},E.isTransparent=function(){if(this.hasAlpha)return!0;for(var Z=0;Z<3;++Z)if(this.axesProject[Z]&&this.projectHasAlpha)return!0;return!1},E.isOpaque=function(){if(!this.hasAlpha)return!0;for(var Z=0;Z<3;++Z)if(this.axesProject[Z]&&!this.projectHasAlpha)return!0;return!1};var y=[0,0],S=[0,0,0],T=[0,0,0],o=[0,0,0,1],P=[0,0,0,1],x=M.slice(),_=[0,0,0],I=[[0,0,0],[0,0,0]];function N(Z){return Z[0]=Z[1]=Z[2]=0,Z}function k(Z,Y){return Z[0]=Y[0],Z[1]=Y[1],Z[2]=Y[2],Z[3]=1,Z}function F(Z,Y,te,X){return Z[0]=Y[0],Z[1]=Y[1],Z[2]=Y[2],Z[te]=X,Z}function O(Z){for(var Y=I,te=0;te<2;++te)for(var X=0;X<3;++X)Y[te][X]=Math.max(Math.min(Z[te][X],1e8),-1e8);return Y}function z(Z,Y,te,X){var $=Y.axesProject,ie=Y.gl,J=Z.uniforms,j=te.model||M,se=te.view||M,ne=te.projection||M,le=Y.axesBounds,pe=O(Y.clipBounds),Ae;Y.axes&&Y.axes.lastCubeProps?Ae=Y.axes.lastCubeProps.axis:Ae=[1,1,1],y[0]=2/ie.drawingBufferWidth,y[1]=2/ie.drawingBufferHeight,Z.bind(),J.view=se,J.projection=ne,J.screenSize=y,J.highlightId=Y.highlightId,J.highlightScale=Y.highlightScale,J.clipBounds=pe,J.pickGroup=Y.pickId/255,J.pixelRatio=X;for(var be=0;be<3;++be)if(!!$[be]){J.scale=Y.projectScale[be],J.opacity=Y.projectOpacity[be];for(var Re=x,xe=0;xe<16;++xe)Re[xe]=0;for(var xe=0;xe<4;++xe)Re[5*xe]=1;Re[5*be]=0,Ae[be]<0?Re[12+be]=le[0][be]:Re[12+be]=le[1][be],u(Re,j,Re),J.model=Re;var Me=(be+1)%3,ye=(be+2)%3,Se=N(S),Fe=N(T);Se[Me]=1,Fe[ye]=1;var Be=i(ne,se,j,k(o,Se)),_e=i(ne,se,j,k(P,Fe));if(Math.abs(Be[1])>Math.abs(_e[1])){var Ue=Be;Be=_e,_e=Ue,Ue=Se,Se=Fe,Fe=Ue;var it=Me;Me=ye,ye=it}Be[0]<0&&(Se[Me]=-1),_e[1]>0&&(Fe[ye]=-1);for(var lt=0,$e=0,xe=0;xe<4;++xe)lt+=Math.pow(j[4*Me+xe],2),$e+=Math.pow(j[4*ye+xe],2);Se[Me]/=Math.sqrt(lt),Fe[ye]/=Math.sqrt($e),J.axes[0]=Se,J.axes[1]=Fe,J.fragClipBounds[0]=F(_,pe[0],be,-1e8),J.fragClipBounds[1]=F(_,pe[1],be,1e8),Y.vao.bind(),Y.vao.draw(ie.TRIANGLES,Y.vertexCount),Y.lineWidth>0&&(ie.lineWidth(Y.lineWidth*X),Y.vao.draw(ie.LINES,Y.lineVertexCount,Y.vertexCount)),Y.vao.unbind()}}var B=[-1e8,-1e8,-1e8],W=[1e8,1e8,1e8],q=[B,W];function ee(Z,Y,te,X,$,ie,J){var j=te.gl;if((ie===te.projectHasAlpha||J)&&z(Y,te,X,$),ie===te.hasAlpha||J){Z.bind();var se=Z.uniforms;se.model=X.model||M,se.view=X.view||M,se.projection=X.projection||M,y[0]=2/j.drawingBufferWidth,y[1]=2/j.drawingBufferHeight,se.screenSize=y,se.highlightId=te.highlightId,se.highlightScale=te.highlightScale,se.fragClipBounds=q,se.clipBounds=te.axes.bounds,se.opacity=te.opacity,se.pickGroup=te.pickId/255,se.pixelRatio=$,te.vao.bind(),te.vao.draw(j.TRIANGLES,te.vertexCount),te.lineWidth>0&&(j.lineWidth(te.lineWidth*$),te.vao.draw(j.LINES,te.lineVertexCount,te.vertexCount)),te.vao.unbind()}}E.draw=function(Z){var Y=this.useOrtho?this.orthoShader:this.shader;ee(Y,this.projectShader,this,Z,this.pixelRatio,!1,!1)},E.drawTransparent=function(Z){var Y=this.useOrtho?this.orthoShader:this.shader;ee(Y,this.projectShader,this,Z,this.pixelRatio,!0,!1)},E.drawPick=function(Z){var Y=this.useOrtho?this.pickOrthoShader:this.pickPerspectiveShader;ee(Y,this.pickProjectShader,this,Z,1,!0,!0)},E.pick=function(Z){if(!Z||Z.id!==this.pickId)return null;var Y=Z.value[2]+(Z.value[1]<<8)+(Z.value[0]<<16);if(Y>=this.pointCount||Y<0)return null;var te=this.points[Y],X=this._selectResult;X.index=Y;for(var $=0;$<3;++$)X.position[$]=X.dataCoordinate[$]=te[$];return X},E.highlight=function(Z){if(!Z)this.highlightId=[1,1,1,1];else{var Y=Z.index,te=Y&255,X=Y>>8&255,$=Y>>16&255;this.highlightId=[te/255,X/255,$/255,0]}};function Q(Z,Y,te,X){var $;Array.isArray(Z)?Y<Z.length?$=Z[Y]:$=void 0:$=Z,$=h($);var ie=!0;t($)&&($="\u25BC",ie=!1);var J=m($,te,X);return{mesh:J[0],lines:J[1],bounds:J[2],visible:ie}}E.update=function(Z){if(Z=Z||{},"perspective"in Z&&(this.useOrtho=!Z.perspective),"orthographic"in Z&&(this.useOrtho=!!Z.orthographic),"lineWidth"in Z&&(this.lineWidth=Z.lineWidth),"project"in Z)if(Array.isArray(Z.project))this.axesProject=Z.project;else{var Y=!!Z.project;this.axesProject=[Y,Y,Y]}if("projectScale"in Z)if(Array.isArray(Z.projectScale))this.projectScale=Z.projectScale.slice();else{var te=+Z.projectScale;this.projectScale=[te,te,te]}if(this.projectHasAlpha=!1,"projectOpacity"in Z){if(Array.isArray(Z.projectOpacity))this.projectOpacity=Z.projectOpacity.slice();else{var te=+Z.projectOpacity;this.projectOpacity=[te,te,te]}for(var X=0;X<3;++X)this.projectOpacity[X]=b(this.projectOpacity[X]),this.projectOpacity[X]<1&&(this.projectHasAlpha=!0)}this.hasAlpha=!1,"opacity"in Z&&(this.opacity=b(Z.opacity),this.opacity<1&&(this.hasAlpha=!0)),this.dirty=!0;var $=Z.position,ie=Z.font||"normal",J=Z.alignment||[0,0],j,se;if(J.length===2)j=J[0],se=J[1];else{j=[],se=[];for(var X=0;X<J.length;++X)j[X]=J[X][0],se[X]=J[X][1]}var ne=[1/0,1/0,1/0],le=[-1/0,-1/0,-1/0],pe=Z.glyph,Ae=Z.color,be=Z.size,Re=Z.angle,xe=Z.lineColor,Me=-1,ye=0,Se=0,Fe=0;if($.length){Fe=$.length;e:for(var X=0;X<Fe;++X){for(var Be=$[X],_e=0;_e<3;++_e)if(isNaN(Be[_e])||!isFinite(Be[_e]))continue e;var Ue=Q(pe,X,ie,this.pixelRatio),it=Ue.mesh,lt=Ue.lines,$e=Ue.bounds;ye+=it.cells.length*3,Se+=lt.edges.length*2}}var qe=ye+Se,ft=f.mallocFloat(3*qe),ct=f.mallocFloat(4*qe),pt=f.mallocFloat(2*qe),yt=f.mallocUint32(qe);if(qe>0){var Et=0,tt=ye,Ie=[0,0,0,1],We=[0,0,0,1],Ze=Array.isArray(Ae)&&Array.isArray(Ae[0]),He=Array.isArray(xe)&&Array.isArray(xe[0]);e:for(var X=0;X<Fe;++X){Me+=1;for(var Be=$[X],_e=0;_e<3;++_e){if(isNaN(Be[_e])||!isFinite(Be[_e]))continue e;le[_e]=Math.max(le[_e],Be[_e]),ne[_e]=Math.min(ne[_e],Be[_e])}var Ue=Q(pe,X,ie,this.pixelRatio),it=Ue.mesh,lt=Ue.lines,$e=Ue.bounds,De=Ue.visible;if(!De)Ie=[1,1,1,0];else if(Array.isArray(Ae)){var me;if(Ze?X<Ae.length?me=Ae[X]:me=[0,0,0,0]:me=Ae,me.length===3){for(var _e=0;_e<3;++_e)Ie[_e]=me[_e];Ie[3]=1}else if(me.length===4){for(var _e=0;_e<4;++_e)Ie[_e]=me[_e];!this.hasAlpha&&me[3]<1&&(this.hasAlpha=!0)}}else Ie[0]=Ie[1]=Ie[2]=0,Ie[3]=1;if(!De)We=[1,1,1,0];else if(Array.isArray(xe)){var me;if(He?X<xe.length?me=xe[X]:me=[0,0,0,0]:me=xe,me.length===3){for(var _e=0;_e<3;++_e)We[_e]=me[_e];We[_e]=1}else if(me.length===4){for(var _e=0;_e<4;++_e)We[_e]=me[_e];!this.hasAlpha&&me[3]<1&&(this.hasAlpha=!0)}}else We[0]=We[1]=We[2]=0,We[3]=1;var ge=.5;De?Array.isArray(be)?X<be.length?ge=+be[X]:ge=12:be?ge=+be:this.useOrtho&&(ge=12):ge=0;var Ee=0;Array.isArray(Re)?X<Re.length?Ee=+Re[X]:Ee=0:Re&&(Ee=+Re);for(var Te=Math.cos(Ee),ze=Math.sin(Ee),Be=$[X],_e=0;_e<3;++_e)le[_e]=Math.max(le[_e],Be[_e]),ne[_e]=Math.min(ne[_e],Be[_e]);var Xe=j,et=se,Xe=0;Array.isArray(j)?X<j.length?Xe=j[X]:Xe=0:j&&(Xe=j);var et=0;Array.isArray(se)?X<se.length?et=se[X]:et=0:se&&(et=se),Xe*=Xe>0?1-$e[0][0]:Xe<0?1+$e[1][0]:1,et*=et>0?1-$e[0][1]:et<0?1+$e[1][1]:1;for(var ut=[Xe,et],kt=it.cells||[],Qt=it.positions||[],_e=0;_e<kt.length;++_e)for(var dt=kt[_e],Zt=0;Zt<3;++Zt){for(var jt=0;jt<3;++jt)ft[3*Et+jt]=Be[jt];for(var jt=0;jt<4;++jt)ct[4*Et+jt]=Ie[jt];yt[Et]=Me;var Tt=Qt[dt[Zt]];pt[2*Et]=ge*(Te*Tt[0]-ze*Tt[1]+ut[0]),pt[2*Et+1]=ge*(ze*Tt[0]+Te*Tt[1]+ut[1]),Et+=1}for(var kt=lt.edges,Qt=lt.positions,_e=0;_e<kt.length;++_e)for(var dt=kt[_e],Zt=0;Zt<2;++Zt){for(var jt=0;jt<3;++jt)ft[3*tt+jt]=Be[jt];for(var jt=0;jt<4;++jt)ct[4*tt+jt]=We[jt];yt[tt]=Me;var Tt=Qt[dt[Zt]];pt[2*tt]=ge*(Te*Tt[0]-ze*Tt[1]+ut[0]),pt[2*tt+1]=ge*(ze*Tt[0]+Te*Tt[1]+ut[1]),tt+=1}}}this.bounds=[ne,le],this.points=$,this.pointCount=$.length,this.vertexCount=ye,this.lineVertexCount=Se,this.pointBuffer.update(ft),this.colorBuffer.update(ct),this.glyphBuffer.update(pt),this.idBuffer.update(yt),f.free(ft),f.free(ct),f.free(pt),f.free(yt)},E.dispose=function(){this.shader.dispose(),this.orthoShader.dispose(),this.pickPerspectiveShader.dispose(),this.pickOrthoShader.dispose(),this.vao.dispose(),this.pointBuffer.dispose(),this.colorBuffer.dispose(),this.glyphBuffer.dispose(),this.idBuffer.dispose()};function oe(Z){var Y=Z.gl,te=l.createPerspective(Y),X=l.createOrtho(Y),$=l.createProject(Y),ie=l.createPickPerspective(Y),J=l.createPickOrtho(Y),j=l.createPickProject(Y),se=s(Y),ne=s(Y),le=s(Y),pe=s(Y),Ae=n(Y,[{buffer:se,size:3,type:Y.FLOAT},{buffer:ne,size:4,type:Y.FLOAT},{buffer:le,size:2,type:Y.FLOAT},{buffer:pe,size:4,type:Y.UNSIGNED_BYTE,normalized:!0}]),be=new w(Y,te,X,$,se,ne,le,pe,Ae,ie,J,j);return be.update(Z),be}},1884:function(v,p,r){var t=r(6832);p.boxVertex=t([`precision mediump float;
#define GLSLIFY 1

attribute vec2 vertex;

uniform vec2 cornerA, cornerB;

void main() {
  gl_Position = vec4(mix(cornerA, cornerB, vertex), 0, 1);
}
`]),p.boxFragment=t([`precision mediump float;
#define GLSLIFY 1

uniform vec4 color;

void main() {
  gl_FragColor = color;
}
`])},6623:function(v,p,r){var t=r(5158),s=r(5827),n=r(1884);v.exports=l;function f(m,h,M){this.plot=m,this.boxBuffer=h,this.boxShader=M,this.enabled=!0,this.selectBox=[1/0,1/0,-1/0,-1/0],this.borderColor=[0,0,0,1],this.innerFill=!1,this.innerColor=[0,0,0,.25],this.outerFill=!0,this.outerColor=[0,0,0,.5],this.borderWidth=10}var u=f.prototype;u.draw=function(){if(!!this.enabled){var m=this.plot,h=this.selectBox,M=this.borderWidth;this.innerFill;var c=this.innerColor;this.outerFill;var i=this.outerColor,d=this.borderColor,b=m.box,w=m.screenBox,E=m.dataBox,y=m.viewBox,S=m.pixelRatio,T=(h[0]-E[0])*(y[2]-y[0])/(E[2]-E[0])+y[0],o=(h[1]-E[1])*(y[3]-y[1])/(E[3]-E[1])+y[1],P=(h[2]-E[0])*(y[2]-y[0])/(E[2]-E[0])+y[0],x=(h[3]-E[1])*(y[3]-y[1])/(E[3]-E[1])+y[1];if(T=Math.max(T,y[0]),o=Math.max(o,y[1]),P=Math.min(P,y[2]),x=Math.min(x,y[3]),!(P<T||x<o)){b.bind();var _=w[2]-w[0],I=w[3]-w[1];if(this.outerFill&&(b.drawBox(0,0,_,o,i),b.drawBox(0,o,T,x,i),b.drawBox(0,x,_,I,i),b.drawBox(P,o,_,x,i)),this.innerFill&&b.drawBox(T,o,P,x,c),M>0){var N=M*S;b.drawBox(T-N,o-N,P+N,o+N,d),b.drawBox(T-N,x-N,P+N,x+N,d),b.drawBox(T-N,o-N,T+N,x+N,d),b.drawBox(P-N,o-N,P+N,x+N,d)}}}},u.update=function(m){m=m||{},this.innerFill=!!m.innerFill,this.outerFill=!!m.outerFill,this.innerColor=(m.innerColor||[0,0,0,.5]).slice(),this.outerColor=(m.outerColor||[0,0,0,.5]).slice(),this.borderColor=(m.borderColor||[0,0,0,1]).slice(),this.borderWidth=m.borderWidth||0,this.selectBox=(m.selectBox||this.selectBox).slice()},u.dispose=function(){this.boxBuffer.dispose(),this.boxShader.dispose(),this.plot.removeOverlay(this)};function l(m,h){var M=m.gl,c=s(M,[0,0,0,1,1,0,1,1]),i=t(M,n.boxVertex,n.boxFragment),d=new f(m,c,i);return d.update(h),m.addOverlay(d),d}},2611:function(v,p,r){v.exports=M;var t=r(4234),s=r(5306),n=r(5050),f=r(2288).nextPow2,u=function(c,i,d){for(var b=1e8,w=-1,E=-1,y=c.shape[0],S=c.shape[1],T=0;T<y;T++)for(var o=0;o<S;o++){var P=c.get(T,o,0),x=c.get(T,o,1),_=c.get(T,o,2),I=c.get(T,o,3);if(P<255||x<255||_<255||I<255){var N=i-T,k=d-o,F=N*N+k*k;F<b&&(b=F,w=T,E=o)}}return[w,E,b]};function l(c,i,d,b,w){this.coord=[c,i],this.id=d,this.value=b,this.distance=w}function m(c,i,d){this.gl=c,this.fbo=i,this.buffer=d,this._readTimeout=null;var b=this;this._readCallback=function(){!b.gl||(i.bind(),c.readPixels(0,0,i.shape[0],i.shape[1],c.RGBA,c.UNSIGNED_BYTE,b.buffer),b._readTimeout=null)}}var h=m.prototype;Object.defineProperty(h,"shape",{get:function(){return this.gl?this.fbo.shape.slice():[0,0]},set:function(c){if(!!this.gl){this.fbo.shape=c;var i=this.fbo.shape[0],d=this.fbo.shape[1];if(d*i*4>this.buffer.length){s.free(this.buffer);for(var b=this.buffer=s.mallocUint8(f(d*i*4)),w=0;w<d*i*4;++w)b[w]=255}return c}}}),h.begin=function(){var c=this.gl;this.shape,c&&(this.fbo.bind(),c.clearColor(1,1,1,1),c.clear(c.COLOR_BUFFER_BIT|c.DEPTH_BUFFER_BIT))},h.end=function(){var c=this.gl;!c||(c.bindFramebuffer(c.FRAMEBUFFER,null),this._readTimeout||clearTimeout(this._readTimeout),this._readTimeout=setTimeout(this._readCallback,1))},h.query=function(c,i,d){if(!this.gl)return null;var b=this.fbo.shape.slice();c=c|0,i=i|0,typeof d!="number"&&(d=1);var w=Math.min(Math.max(c-d,0),b[0])|0,E=Math.min(Math.max(c+d,0),b[0])|0,y=Math.min(Math.max(i-d,0),b[1])|0,S=Math.min(Math.max(i+d,0),b[1])|0;if(E<=w||S<=y)return null;var T=[E-w,S-y],o=n(this.buffer,[T[0],T[1],4],[4,b[0]*4,1],4*(w+b[0]*y)),P=u(o.hi(T[0],T[1],1),d,d),x=P[0],_=P[1];if(x<0||Math.pow(this.radius,2)<P[2])return null;var I=o.get(x,_,0),N=o.get(x,_,1),k=o.get(x,_,2),F=o.get(x,_,3);return new l(x+w|0,_+y|0,I,[N,k,F],Math.sqrt(P[2]))},h.dispose=function(){!this.gl||(this.fbo.dispose(),s.free(this.buffer),this.gl=null,this._readTimeout&&clearTimeout(this._readTimeout))};function M(c,i){var d=i[0],b=i[1],w={},E=t(c,d,b,w),y=s.mallocUint8(d*b*4);return new m(c,E,y)}},5158:function(v,p,r){var t=r(9016),s=r(4280),n=r(3984),f=r(1628),u=r(2631),l=r(9068);function m(i){this.gl=i,this.gl.lastAttribCount=0,this._vref=this._fref=this._relink=this.vertShader=this.fragShader=this.program=this.attributes=this.uniforms=this.types=null}var h=m.prototype;h.bind=function(){this.program||this._relink();var i,d=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES),b=this.gl.lastAttribCount;if(d>b)for(i=b;i<d;i++)this.gl.enableVertexAttribArray(i);else if(b>d)for(i=d;i<b;i++)this.gl.disableVertexAttribArray(i);this.gl.lastAttribCount=d,this.gl.useProgram(this.program)},h.dispose=function(){for(var i=this.gl.lastAttribCount,d=0;d<i;d++)this.gl.disableVertexAttribArray(d);this.gl.lastAttribCount=0,this._fref&&this._fref.dispose(),this._vref&&this._vref.dispose(),this.attributes=this.types=this.vertShader=this.fragShader=this.program=this._relink=this._fref=this._vref=null};function M(i,d){return i.name<d.name?-1:1}h.update=function(i,d,b,w){if(!d||arguments.length===1){var E=i;i=E.vertex,d=E.fragment,b=E.uniforms,w=E.attributes}var y=this,S=y.gl,T=y._vref;y._vref=f.shader(S,S.VERTEX_SHADER,i),T&&T.dispose(),y.vertShader=y._vref.shader;var o=this._fref;if(y._fref=f.shader(S,S.FRAGMENT_SHADER,d),o&&o.dispose(),y.fragShader=y._fref.shader,!b||!w){var P=S.createProgram();if(S.attachShader(P,y.fragShader),S.attachShader(P,y.vertShader),S.linkProgram(P),!S.getProgramParameter(P,S.LINK_STATUS)){var x=S.getProgramInfoLog(P);throw new l(x,"Error linking program:"+x)}b=b||u.uniforms(S,P),w=w||u.attributes(S,P),S.deleteProgram(P)}w=w.slice(),w.sort(M);var _=[],I=[],N=[],k;for(k=0;k<w.length;++k){var F=w[k];if(F.type.indexOf("mat")>=0){for(var O=F.type.charAt(F.type.length-1)|0,z=new Array(O),B=0;B<O;++B)z[B]=N.length,I.push(F.name+"["+B+"]"),typeof F.location=="number"?N.push(F.location+B):Array.isArray(F.location)&&F.location.length===O&&typeof F.location[B]=="number"?N.push(F.location[B]|0):N.push(-1);_.push({name:F.name,type:F.type,locations:z})}else _.push({name:F.name,type:F.type,locations:[N.length]}),I.push(F.name),typeof F.location=="number"?N.push(F.location|0):N.push(-1)}var W=0;for(k=0;k<N.length;++k)if(N[k]<0){for(;N.indexOf(W)>=0;)W+=1;N[k]=W}var q=new Array(b.length);function ee(){y.program=f.program(S,y._vref,y._fref,I,N);for(var Q=0;Q<b.length;++Q)q[Q]=S.getUniformLocation(y.program,b[Q].name)}ee(),y._relink=ee,y.types={uniforms:n(b),attributes:n(w)},y.attributes=s(S,y,_,N),Object.defineProperty(y,"uniforms",t(S,y,b,q))};function c(i,d,b,w,E){var y=new m(i);return y.update(d,b,w,E),y}v.exports=c},9068:function(v){function p(r,t,s){this.shortMessage=t||"",this.longMessage=s||"",this.rawError=r||"",this.message="gl-shader: "+(t||r||"")+(s?`
`+s:""),this.stack=new Error().stack}p.prototype=new Error,p.prototype.name="GLError",p.prototype.constructor=p,v.exports=p},4280:function(v,p,r){v.exports=m;var t=r(9068);function s(h,M,c,i,d,b){this._gl=h,this._wrapper=M,this._index=c,this._locations=i,this._dimension=d,this._constFunc=b}var n=s.prototype;n.pointer=function(M,c,i,d){var b=this,w=b._gl,E=b._locations[b._index];w.vertexAttribPointer(E,b._dimension,M||w.FLOAT,!!c,i||0,d||0),w.enableVertexAttribArray(E)},n.set=function(h,M,c,i){return this._constFunc(this._locations[this._index],h,M,c,i)},Object.defineProperty(n,"location",{get:function(){return this._locations[this._index]},set:function(h){return h!==this._locations[this._index]&&(this._locations[this._index]=h|0,this._wrapper.program=null),h|0}});var f=[function(h,M,c){return c.length===void 0?h.vertexAttrib1f(M,c):h.vertexAttrib1fv(M,c)},function(h,M,c,i){return c.length===void 0?h.vertexAttrib2f(M,c,i):h.vertexAttrib2fv(M,c)},function(h,M,c,i,d){return c.length===void 0?h.vertexAttrib3f(M,c,i,d):h.vertexAttrib3fv(M,c)},function(h,M,c,i,d,b){return c.length===void 0?h.vertexAttrib4f(M,c,i,d,b):h.vertexAttrib4fv(M,c)}];function u(h,M,c,i,d,b,w){var E=f[d],y=new s(h,M,c,i,d,E);Object.defineProperty(b,w,{set:function(S){return h.disableVertexAttribArray(i[c]),E(h,i[c],S),S},get:function(){return y},enumerable:!0})}function l(h,M,c,i,d,b,w){for(var E=new Array(d),y=new Array(d),S=0;S<d;++S)u(h,M,c[S],i,d,E,S),y[S]=E[S];Object.defineProperty(E,"location",{set:function(P){if(Array.isArray(P))for(var x=0;x<d;++x)y[x].location=P[x];else for(var x=0;x<d;++x)y[x].location=P+x;return P},get:function(){for(var P=new Array(d),x=0;x<d;++x)P[x]=i[c[x]];return P},enumerable:!0}),E.pointer=function(P,x,_,I){P=P||h.FLOAT,x=!!x,_=_||d*d,I=I||0;for(var N=0;N<d;++N){var k=i[c[N]];h.vertexAttribPointer(k,d,P,x,_,I+N*d),h.enableVertexAttribArray(k)}};var T=new Array(d),o=h["vertexAttrib"+d+"fv"];Object.defineProperty(b,w,{set:function(P){for(var x=0;x<d;++x){var _=i[c[x]];if(h.disableVertexAttribArray(_),Array.isArray(P[0]))o.call(h,_,P[x]);else{for(var I=0;I<d;++I)T[I]=P[d*x+I];o.call(h,_,T)}}return P},get:function(){return E},enumerable:!0})}function m(h,M,c,i){for(var d={},b=0,w=c.length;b<w;++b){var E=c[b],y=E.name,S=E.type,T=E.locations;switch(S){case"bool":case"int":case"float":u(h,M,T[0],i,1,d,y);break;default:if(S.indexOf("vec")>=0){var o=S.charCodeAt(S.length-1)-48;if(o<2||o>4)throw new t("","Invalid data type for attribute "+y+": "+S);u(h,M,T[0],i,o,d,y)}else if(S.indexOf("mat")>=0){var o=S.charCodeAt(S.length-1)-48;if(o<2||o>4)throw new t("","Invalid data type for attribute "+y+": "+S);l(h,M,T,i,o,d,y)}else throw new t("","Unknown data type for attribute "+y+": "+S);break}}return d}},9016:function(v,p,r){var t=r(3984),s=r(9068);v.exports=u;function n(l){return function(){return l}}function f(l,m){for(var h=new Array(l),M=0;M<l;++M)h[M]=m;return h}function u(l,m,h,M){function c(S){return function(T,o,P){return T.getUniform(o.program,P[S])}}function i(S){return function(o){for(var P=d("",S),x=0;x<P.length;++x){var _=P[x],I=_[0],N=_[1];if(M[N]){var k=o;if(typeof I=="string"&&(I.indexOf(".")===0||I.indexOf("[")===0)){var F=I;if(I.indexOf(".")===0&&(F=I.slice(1)),F.indexOf("]")===F.length-1){var O=F.indexOf("["),z=F.slice(0,O),B=F.slice(O+1,F.length-1);k=z?o[z][B]:o[B]}else k=o[F]}var W=h[N].type,q;switch(W){case"bool":case"int":case"sampler2D":case"samplerCube":l.uniform1i(M[N],k);break;case"float":l.uniform1f(M[N],k);break;default:var ee=W.indexOf("vec");if(0<=ee&&ee<=1&&W.length===4+ee){if(q=W.charCodeAt(W.length-1)-48,q<2||q>4)throw new s("","Invalid data type");switch(W.charAt(0)){case"b":case"i":l["uniform"+q+"iv"](M[N],k);break;case"v":l["uniform"+q+"fv"](M[N],k);break;default:throw new s("","Unrecognized data type for vector "+name+": "+W)}}else if(W.indexOf("mat")===0&&W.length===4){if(q=W.charCodeAt(W.length-1)-48,q<2||q>4)throw new s("","Invalid uniform dimension type for matrix "+name+": "+W);l["uniformMatrix"+q+"fv"](M[N],!1,k);break}else throw new s("","Unknown uniform data type for "+name+": "+W)}}}}}function d(S,T){if(typeof T!="object")return[[S,T]];var o=[];for(var P in T){var x=T[P],_=S;parseInt(P)+""===P?_+="["+P+"]":_+="."+P,typeof x=="object"?o.push.apply(o,d(_,x)):o.push([_,x])}return o}function b(S){switch(S){case"bool":return!1;case"int":case"sampler2D":case"samplerCube":return 0;case"float":return 0;default:var T=S.indexOf("vec");if(0<=T&&T<=1&&S.length===4+T){var o=S.charCodeAt(S.length-1)-48;if(o<2||o>4)throw new s("","Invalid data type");return S.charAt(0)==="b"?f(o,!1):f(o,0)}else if(S.indexOf("mat")===0&&S.length===4){var o=S.charCodeAt(S.length-1)-48;if(o<2||o>4)throw new s("","Invalid uniform dimension type for matrix "+name+": "+S);return f(o*o,0)}else throw new s("","Unknown uniform data type for "+name+": "+S)}}function w(S,T,o){if(typeof o=="object"){var P=E(o);Object.defineProperty(S,T,{get:n(P),set:i(o),enumerable:!0,configurable:!1})}else M[o]?Object.defineProperty(S,T,{get:c(o),set:i(o),enumerable:!0,configurable:!1}):S[T]=b(h[o].type)}function E(S){var T;if(Array.isArray(S)){T=new Array(S.length);for(var o=0;o<S.length;++o)w(T,o,S[o])}else{T={};for(var P in S)w(T,P,S[P])}return T}var y=t(h,!0);return{get:n(E(y)),set:i(y),enumerable:!0,configurable:!0}}},3984:function(v){v.exports=p;function p(r,t){for(var s={},n=0;n<r.length;++n)for(var f=r[n].name,u=f.split("."),l=s,m=0;m<u.length;++m){var h=u[m].split("[");if(h.length>1){h[0]in l||(l[h[0]]=[]),l=l[h[0]];for(var M=1;M<h.length;++M){var c=parseInt(h[M]);M<h.length-1||m<u.length-1?(c in l||(M<h.length-1?l[c]=[]:l[c]={}),l=l[c]):t?l[c]=n:l[c]=r[n].type}}else m<u.length-1?(h[0]in l||(l[h[0]]={}),l=l[h[0]]):t?l[h[0]]=n:l[h[0]]=r[n].type}return s}},2631:function(v,p){p.uniforms=n,p.attributes=f;var r={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube"},t=null;function s(u,l){if(!t){var m=Object.keys(r);t={};for(var h=0;h<m.length;++h){var M=m[h];t[u[M]]=r[M]}}return t[l]}function n(u,l){for(var m=u.getProgramParameter(l,u.ACTIVE_UNIFORMS),h=[],M=0;M<m;++M){var c=u.getActiveUniform(l,M);if(c){var i=s(u,c.type);if(c.size>1)for(var d=0;d<c.size;++d)h.push({name:c.name.replace("[0]","["+d+"]"),type:i});else h.push({name:c.name,type:i})}}return h}function f(u,l){for(var m=u.getProgramParameter(l,u.ACTIVE_ATTRIBUTES),h=[],M=0;M<m;++M){var c=u.getActiveAttrib(l,M);c&&h.push({name:c.name,type:s(u,c.type)})}return h}},1628:function(v,p,r){p.shader=d,p.program=b;var t=r(9068),s=r(3530),n=typeof WeakMap=="undefined"?r(4037):WeakMap,f=new n,u=0;function l(w,E,y,S,T,o,P){this.id=w,this.src=E,this.type=y,this.shader=S,this.count=o,this.programs=[],this.cache=P}l.prototype.dispose=function(){if(--this.count===0){for(var w=this.cache,E=w.gl,y=this.programs,S=0,T=y.length;S<T;++S){var o=w.programs[y[S]];o&&(delete w.programs[S],E.deleteProgram(o))}E.deleteShader(this.shader),delete w.shaders[this.type===E.FRAGMENT_SHADER|0][this.src]}};function m(w){this.gl=w,this.shaders=[{},{}],this.programs={}}var h=m.prototype;function M(w,E,y){var S=w.createShader(E);if(w.shaderSource(S,y),w.compileShader(S),!w.getShaderParameter(S,w.COMPILE_STATUS)){var T=w.getShaderInfoLog(S);try{var o=s(T,y,E)}catch(P){throw console.warn("Failed to format compiler error: "+P),new t(T,`Error compiling shader:
`+T)}throw new t(T,o.short,o.long)}return S}h.getShaderReference=function(w,E){var y=this.gl,S=this.shaders[w===y.FRAGMENT_SHADER|0],T=S[E];if(!T||!y.isShader(T.shader)){var o=M(y,w,E);T=S[E]=new l(u++,E,w,o,[],1,this)}else T.count+=1;return T};function c(w,E,y,S,T){var o=w.createProgram();w.attachShader(o,E),w.attachShader(o,y);for(var P=0;P<S.length;++P)w.bindAttribLocation(o,T[P],S[P]);if(w.linkProgram(o),!w.getProgramParameter(o,w.LINK_STATUS)){var x=w.getProgramInfoLog(o);throw new t(x,"Error linking program: "+x)}return o}h.getProgram=function(w,E,y,S){var T=[w.id,E.id,y.join(":"),S.join(":")].join("@"),o=this.programs[T];return(!o||!this.gl.isProgram(o))&&(this.programs[T]=o=c(this.gl,w.shader,E.shader,y,S),w.programs.push(T),E.programs.push(T)),o};function i(w){var E=f.get(w);return E||(E=new m(w),f.set(w,E)),E}function d(w,E,y){return i(w).getShaderReference(E,y)}function b(w,E,y,S,T){return i(w).getProgram(E,y,S,T)}},3050:function(v){v.exports=t;function p(s){this.plot=s,this.enable=[!0,!0,!1,!1],this.width=[1,1,1,1],this.color=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.center=[1/0,1/0]}var r=p.prototype;r.update=function(s){s=s||{},this.enable=(s.enable||[!0,!0,!1,!1]).slice(),this.width=(s.width||[1,1,1,1]).slice(),this.color=(s.color||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]).map(function(n){return n.slice()}),this.center=(s.center||[1/0,1/0]).slice(),this.plot.setOverlayDirty()},r.draw=function(){var s=this.enable,n=this.width,f=this.color,u=this.center,l=this.plot,m=l.line,h=l.dataBox,M=l.viewBox;if(m.bind(),h[0]<=u[0]&&u[0]<=h[2]&&h[1]<=u[1]&&u[1]<=h[3]){var c=M[0]+(u[0]-h[0])/(h[2]-h[0])*(M[2]-M[0]),i=M[1]+(u[1]-h[1])/(h[3]-h[1])*(M[3]-M[1]);s[0]&&m.drawLine(c,i,M[0],i,n[0],f[0]),s[1]&&m.drawLine(c,i,c,M[1],n[1],f[1]),s[2]&&m.drawLine(c,i,M[2],i,n[2],f[2]),s[3]&&m.drawLine(c,i,c,M[3],n[3],f[3])}},r.dispose=function(){this.plot.removeOverlay(this)};function t(s,n){var f=new p(s);return f.update(n),s.addOverlay(f),f}},3540:function(v,p,r){var t=r(6832),s=r(5158),n=t([`precision mediump float;
#define GLSLIFY 1

attribute vec3 position, color;
attribute float weight;

uniform mat4 model, view, projection;
uniform vec3 coordinates[3];
uniform vec4 colors[3];
uniform vec2 screenShape;
uniform float lineWidth;

varying vec4 fragColor;

void main() {
  vec3 vertexPosition = mix(coordinates[0],
    mix(coordinates[2], coordinates[1], 0.5 * (position + 1.0)), abs(position));

  vec4 clipPos = projection * view * model * vec4(vertexPosition, 1.0);
  vec2 clipOffset = (projection * view * model * vec4(color, 0.0)).xy;
  vec2 delta = weight * clipOffset * screenShape;
  vec2 lineOffset = normalize(vec2(delta.y, -delta.x)) / screenShape;

  gl_Position   = vec4(clipPos.xy + clipPos.w * 0.5 * lineWidth * lineOffset, clipPos.z, clipPos.w);
  fragColor     = color.x * colors[0] + color.y * colors[1] + color.z * colors[2];
}
`]),f=t([`precision mediump float;
#define GLSLIFY 1

varying vec4 fragColor;

void main() {
  gl_FragColor = fragColor;
}`]);v.exports=function(u){return s(u,n,f,null,[{name:"position",type:"vec3"},{name:"color",type:"vec3"},{name:"weight",type:"float"}])}},6496:function(v,p,r){var t=r(5827),s=r(2944),n=r(3540);v.exports=c;var f=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function u(i,d,b,w){this.gl=i,this.buffer=d,this.vao=b,this.shader=w,this.pixelRatio=1,this.bounds=[[-1e3,-1e3,-1e3],[1e3,1e3,1e3]],this.position=[0,0,0],this.lineWidth=[2,2,2],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.enabled=[!0,!0,!0],this.drawSides=[!0,!0,!0],this.axes=null}var l=u.prototype,m=[0,0,0],h=[0,0,0],M=[0,0];l.isTransparent=function(){return!1},l.drawTransparent=function(i){},l.draw=function(i){var d=this.gl,b=this.vao,w=this.shader;b.bind(),w.bind();var E=i.model||f,y=i.view||f,S=i.projection||f,T;this.axes&&(T=this.axes.lastCubeProps.axis);for(var o=m,P=h,x=0;x<3;++x)T&&T[x]<0?(o[x]=this.bounds[0][x],P[x]=this.bounds[1][x]):(o[x]=this.bounds[1][x],P[x]=this.bounds[0][x]);M[0]=d.drawingBufferWidth,M[1]=d.drawingBufferHeight,w.uniforms.model=E,w.uniforms.view=y,w.uniforms.projection=S,w.uniforms.coordinates=[this.position,o,P],w.uniforms.colors=this.colors,w.uniforms.screenShape=M;for(var x=0;x<3;++x)w.uniforms.lineWidth=this.lineWidth[x]*this.pixelRatio,this.enabled[x]&&(b.draw(d.TRIANGLES,6,6*x),this.drawSides[x]&&b.draw(d.TRIANGLES,12,18+12*x));b.unbind()},l.update=function(i){!i||("bounds"in i&&(this.bounds=i.bounds),"position"in i&&(this.position=i.position),"lineWidth"in i&&(this.lineWidth=i.lineWidth),"colors"in i&&(this.colors=i.colors),"enabled"in i&&(this.enabled=i.enabled),"drawSides"in i&&(this.drawSides=i.drawSides))},l.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()};function c(i,d){var b=[];function w(o,P,x,_,I,N){var k=[o,P,x,0,0,0,1];k[_+3]=1,k[_]=I,b.push.apply(b,k),k[6]=-1,b.push.apply(b,k),k[_]=N,b.push.apply(b,k),b.push.apply(b,k),k[6]=1,b.push.apply(b,k),k[_]=I,b.push.apply(b,k)}w(0,0,0,0,0,1),w(0,0,0,1,0,1),w(0,0,0,2,0,1),w(1,0,0,1,-1,1),w(1,0,0,2,-1,1),w(0,1,0,0,-1,1),w(0,1,0,2,-1,1),w(0,0,1,0,-1,1),w(0,0,1,1,-1,1);var E=t(i,b),y=s(i,[{type:i.FLOAT,buffer:E,size:3,offset:0,stride:28},{type:i.FLOAT,buffer:E,size:3,offset:12,stride:28},{type:i.FLOAT,buffer:E,size:1,offset:24,stride:28}]),S=n(i);S.attributes.position.location=0,S.attributes.color.location=1,S.attributes.weight.location=2;var T=new u(i,E,y,S);return T.update(d),T}},9578:function(v,p,r){var t=r(6832),s=t([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the tube vertex and normal at the given index.
//
// The returned vertex is for a tube ring with its center at origin, radius of length(d), pointing in the direction of d.
//
// Each tube segment is made up of a ring of vertices.
// These vertices are used to make up the triangles of the tube by connecting them together in the vertex array.
// The indexes of tube segments run from 0 to 8.
//
vec3 getTubePosition(vec3 d, float index, out vec3 normal) {
  float segmentCount = 8.0;

  float angle = 2.0 * 3.14159 * (index / segmentCount);

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d);
  vec3 y = v * sin(angle) * length(d);
  vec3 v3 = x + y;

  normal = normalize(v3);

  return v3;
}

attribute vec4 vector;
attribute vec4 color, position;
attribute vec2 uv;

uniform float vectorScale, tubeScale;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 eyePosition, lightPosition;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  // Scale the vector magnitude to stay constant with
  // model & view changes.
  vec3 normal;
  vec3 XYZ = getTubePosition(mat3(model) * (tubeScale * vector.w * normalize(vector.xyz)), position.w, normal);
  vec4 tubePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * tubePosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  // vec4 m_position  = model * vec4(tubePosition, 1.0);
  vec4 t_position  = view * tubePosition;
  gl_Position      = projection * t_position;

  f_color          = color;
  f_data           = tubePosition.xyz;
  f_position       = position.xyz;
  f_uv             = uv;
}
`]),n=t([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform sampler2D texture;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;
  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = f_color * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * opacity;
}
`]),f=t([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the tube vertex and normal at the given index.
//
// The returned vertex is for a tube ring with its center at origin, radius of length(d), pointing in the direction of d.
//
// Each tube segment is made up of a ring of vertices.
// These vertices are used to make up the triangles of the tube by connecting them together in the vertex array.
// The indexes of tube segments run from 0 to 8.
//
vec3 getTubePosition(vec3 d, float index, out vec3 normal) {
  float segmentCount = 8.0;

  float angle = 2.0 * 3.14159 * (index / segmentCount);

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d);
  vec3 y = v * sin(angle) * length(d);
  vec3 v3 = x + y;

  normal = normalize(v3);

  return v3;
}

attribute vec4 vector;
attribute vec4 position;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform float tubeScale;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  vec3 normal;
  vec3 XYZ = getTubePosition(mat3(model) * (tubeScale * vector.w * normalize(vector.xyz)), position.w, normal);
  vec4 tubePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  gl_Position = projection * view * tubePosition;
  f_id        = id;
  f_position  = position.xyz;
}
`]),u=t([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]);p.meshShader={vertex:s,fragment:n,attributes:[{name:"position",type:"vec4"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"vector",type:"vec4"}]},p.pickShader={vertex:f,fragment:u,attributes:[{name:"position",type:"vec4"},{name:"id",type:"vec4"},{name:"vector",type:"vec4"}]}},7307:function(v,p,r){var t=r(2858),s=r(4020),n=["xyz","xzy","yxz","yzx","zxy","zyx"],f=function(b,w,E,y){for(var S=b.points,T=b.velocities,o=b.divergences,P=[],x=[],_=[],I=[],N=[],k=[],F=0,O=0,z=s.create(),B=s.create(),W=8,q=0;q<S.length;q++){var ee=S[q],Q=T[q],oe=o[q];w===0&&(oe=E*.05),O=t.length(Q)/y,z=s.create(),t.copy(z,Q),z[3]=oe;for(var Z=0;Z<W;Z++)N[Z]=[ee[0],ee[1],ee[2],Z];if(I.length>0)for(var Z=0;Z<W;Z++){var Y=(Z+1)%W;P.push(I[Z],N[Z],N[Y],N[Y],I[Y],I[Z]),_.push(B,z,z,z,B,B),k.push(F,O,O,O,F,F);var te=P.length;x.push([te-6,te-5,te-4],[te-3,te-2,te-1])}var X=I;I=N,N=X;var $=B;B=z,z=$;var ie=F;F=O,O=ie}return{positions:P,cells:x,vectors:_,vertexIntensity:k}},u=function(b,w,E,y){for(var S=0,T=0;T<b.length;T++)for(var o=b[T].velocities,P=0;P<o.length;P++)S=Math.max(S,t.length(o[P]));for(var x=b.map(function(q){return f(q,E,y,S)}),_=[],I=[],N=[],k=[],T=0;T<x.length;T++){var F=x[T],O=_.length;_=_.concat(F.positions),N=N.concat(F.vectors),k=k.concat(F.vertexIntensity);for(var P=0;P<F.cells.length;P++){var z=F.cells[P],B=[];I.push(B);for(var W=0;W<z.length;W++)B.push(z[W]+O)}}return{positions:_,cells:I,vectors:N,vertexIntensity:k,colormap:w}},l=function(b,w){var E=b.length,y;for(y=0;y<E;y++){var S=b[y];if(S===w)return y;if(S>w)return y-1}return y},m=function(b,w,E){return b<w?w:b>E?E:b},h=function(b,w,E){var y=w.vectors,S=w.meshgrid,T=b[0],o=b[1],P=b[2],x=S[0].length,_=S[1].length,I=S[2].length,N=l(S[0],T),k=l(S[1],o),F=l(S[2],P),O=N+1,z=k+1,B=F+1;if(N=m(N,0,x-1),O=m(O,0,x-1),k=m(k,0,_-1),z=m(z,0,_-1),F=m(F,0,I-1),B=m(B,0,I-1),N<0||k<0||F<0||O>x-1||z>_-1||B>I-1)return t.create();var W=S[0][N],q=S[0][O],ee=S[1][k],Q=S[1][z],oe=S[2][F],Z=S[2][B],Y=(T-W)/(q-W),te=(o-ee)/(Q-ee),X=(P-oe)/(Z-oe);isFinite(Y)||(Y=.5),isFinite(te)||(te=.5),isFinite(X)||(X=.5);var $,ie,J,j,se,ne;switch(E.reversedX&&(N=x-1-N,O=x-1-O),E.reversedY&&(k=_-1-k,z=_-1-z),E.reversedZ&&(F=I-1-F,B=I-1-B),E.filled){case 5:se=F,ne=B,J=k*I,j=z*I,$=N*I*_,ie=O*I*_;break;case 4:se=F,ne=B,$=N*I,ie=O*I,J=k*I*x,j=z*I*x;break;case 3:J=k,j=z,se=F*_,ne=B*_,$=N*_*I,ie=O*_*I;break;case 2:J=k,j=z,$=N*_,ie=O*_,se=F*_*x,ne=B*_*x;break;case 1:$=N,ie=O,se=F*x,ne=B*x,J=k*x*I,j=z*x*I;break;default:$=N,ie=O,J=k*x,j=z*x,se=F*x*_,ne=B*x*_;break}var le=y[$+J+se],pe=y[$+J+ne],Ae=y[$+j+se],be=y[$+j+ne],Re=y[ie+J+se],xe=y[ie+J+ne],Me=y[ie+j+se],ye=y[ie+j+ne],Se=t.create(),Fe=t.create(),Be=t.create(),_e=t.create();t.lerp(Se,le,Re,Y),t.lerp(Fe,pe,xe,Y),t.lerp(Be,Ae,Me,Y),t.lerp(_e,be,ye,Y);var Ue=t.create(),it=t.create();t.lerp(Ue,Se,Be,te),t.lerp(it,Fe,_e,te);var lt=t.create();return t.lerp(lt,Ue,it,X),lt},M=function(b){var w=1/0;b.sort(function(T,o){return T-o});for(var E=b.length,y=1;y<E;y++){var S=Math.abs(b[y]-b[y-1]);S<w&&(w=S)}return w},c=function(b){for(var w=[],E=[],y=[],S={},T={},o={},P=b.length,x=0;x<P;x++){var _=b[x],I=_[0],N=_[1],k=_[2];S[I]||(w.push(I),S[I]=!0),T[N]||(E.push(N),T[N]=!0),o[k]||(y.push(k),o[k]=!0)}var F=M(w),O=M(E),z=M(y),B=Math.min(F,O,z);return isFinite(B)?B:1};v.exports=function(b,w){var E=b.startingPositions,y=b.maxLength||1e3,S=b.tubeSize||1,T=b.absoluteTubeSize,o=b.gridFill||"+x+y+z",P={};o.indexOf("-x")!==-1&&(P.reversedX=!0),o.indexOf("-y")!==-1&&(P.reversedY=!0),o.indexOf("-z")!==-1&&(P.reversedZ=!0),P.filled=n.indexOf(o.replace(/-/g,"").replace(/\+/g,""));var x=b.getVelocity||function(xe){return h(xe,b,P)},_=b.getDivergence||function(xe,Me){var ye=t.create(),Se=1e-4;t.add(ye,xe,[Se,0,0]);var Fe=x(ye);t.subtract(Fe,Fe,Me),t.scale(Fe,Fe,1/Se),t.add(ye,xe,[0,Se,0]);var Be=x(ye);t.subtract(Be,Be,Me),t.scale(Be,Be,1/Se),t.add(ye,xe,[0,0,Se]);var _e=x(ye);return t.subtract(_e,_e,Me),t.scale(_e,_e,1/Se),t.add(ye,Fe,Be),t.add(ye,ye,_e),ye},I=[],N=w[0][0],k=w[0][1],F=w[0][2],O=w[1][0],z=w[1][1],B=w[1][2],W=function(xe){var Me=xe[0],ye=xe[1],Se=xe[2];return!(Me<N||Me>O||ye<k||ye>z||Se<F||Se>B)},q=t.distance(w[0],w[1]),ee=10*q/y,Q=ee*ee,oe=1,Z=0,Y=E.length;Y>1&&(oe=c(E));for(var te=0;te<Y;te++){var X=t.create();t.copy(X,E[te]);var $=[X],ie=[],J=x(X),j=X;ie.push(J);var se=[],ne=_(X,J),le=t.length(ne);isFinite(le)&&le>Z&&(Z=le),se.push(le),I.push({points:$,velocities:ie,divergences:se});for(var pe=0;pe<y*100&&$.length<y&&W(X);){pe++;var Ae=t.clone(J),be=t.squaredLength(Ae);if(be===0)break;if(be>Q&&t.scale(Ae,Ae,ee/Math.sqrt(be)),t.add(Ae,Ae,X),J=x(Ae),t.squaredDistance(j,Ae)-Q>-1e-4*Q){$.push(Ae),j=Ae,ie.push(J);var ne=_(Ae,J),le=t.length(ne);isFinite(le)&&le>Z&&(Z=le),se.push(le)}X=Ae}}var Re=u(I,b.colormap,Z,oe);return T?Re.tubeScale=T:(Z===0&&(Z=1),Re.tubeScale=S*.5*oe/Z),Re};var i=r(9578),d=r(1140).createMesh;v.exports.createTubeMesh=function(b,w){return d(b,w,{shaders:i,traceType:"streamtube"})}},9054:function(v,p,r){var t=r(5158),s=r(6832),n=s([`precision highp float;
#define GLSLIFY 1

attribute vec4 uv;
attribute vec3 f;
attribute vec3 normal;

uniform vec3 objectOffset;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 lightPosition, eyePosition;
uniform sampler2D colormap;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  vec3 localCoordinate = vec3(uv.zw, f.x);
  worldCoordinate = objectOffset + localCoordinate;
  vec4 worldPosition = model * vec4(worldCoordinate, 1.0);
  vec4 clipPosition = projection * view * worldPosition;
  gl_Position = clipPosition;
  kill = f.y;
  value = f.z;
  planeCoordinate = uv.xy;

  vColor = texture2D(colormap, vec2(value, value));

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * worldPosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  lightDirection = lightPosition - cameraCoordinate.xyz;
  eyeDirection   = eyePosition - cameraCoordinate.xyz;
  surfaceNormal  = normalize((vec4(normal,0) * inverseModel).xyz);
}
`]),f=s([`precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float beckmannSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness) {
  return beckmannDistribution(dot(surfaceNormal, normalize(lightDirection + viewDirection)), roughness);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 lowerBound, upperBound;
uniform float contourTint;
uniform vec4 contourColor;
uniform sampler2D colormap;
uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform float vertexColor;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  if (
    kill > 0.0 ||
    vColor.a == 0.0 ||
    outOfRange(clipBounds[0], clipBounds[1], worldCoordinate)
  ) discard;

  vec3 N = normalize(surfaceNormal);
  vec3 V = normalize(eyeDirection);
  vec3 L = normalize(lightDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = max(beckmannSpecular(L, V, N, roughness), 0.);
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  //decide how to interpolate color \u2014 in vertex or in fragment
  vec4 surfaceColor =
    step(vertexColor, .5) * texture2D(colormap, vec2(value, value)) +
    step(.5, vertexColor) * vColor;

  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = mix(litColor, contourColor, contourTint) * opacity;
}
`]),u=s([`precision highp float;
#define GLSLIFY 1

attribute vec4 uv;
attribute float f;

uniform vec3 objectOffset;
uniform mat3 permutation;
uniform mat4 model, view, projection;
uniform float height, zOffset;
uniform sampler2D colormap;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  vec3 dataCoordinate = permutation * vec3(uv.xy, height);
  worldCoordinate = objectOffset + dataCoordinate;
  vec4 worldPosition = model * vec4(worldCoordinate, 1.0);

  vec4 clipPosition = projection * view * worldPosition;
  clipPosition.z += zOffset;

  gl_Position = clipPosition;
  value = f + objectOffset.z;
  kill = -1.0;
  planeCoordinate = uv.zw;

  vColor = texture2D(colormap, vec2(value, value));

  //Don't do lighting for contours
  surfaceNormal   = vec3(1,0,0);
  eyeDirection    = vec3(0,1,0);
  lightDirection  = vec3(0,0,1);
}
`]),l=s([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec2 shape;
uniform vec3 clipBounds[2];
uniform float pickId;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 surfaceNormal;

vec2 splitFloat(float v) {
  float vh = 255.0 * v;
  float upper = floor(vh);
  float lower = fract(vh);
  return vec2(upper / 255.0, floor(lower * 16.0) / 16.0);
}

void main() {
  if ((kill > 0.0) ||
      (outOfRange(clipBounds[0], clipBounds[1], worldCoordinate))) discard;

  vec2 ux = splitFloat(planeCoordinate.x / shape.x);
  vec2 uy = splitFloat(planeCoordinate.y / shape.y);
  gl_FragColor = vec4(pickId, ux.x, uy.x, ux.y + (uy.y/16.0));
}
`]);p.createShader=function(m){var h=t(m,n,f,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return h.attributes.uv.location=0,h.attributes.f.location=1,h.attributes.normal.location=2,h},p.createPickShader=function(m){var h=t(m,n,l,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return h.attributes.uv.location=0,h.attributes.f.location=1,h.attributes.normal.location=2,h},p.createContourShader=function(m){var h=t(m,u,f,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return h.attributes.uv.location=0,h.attributes.f.location=1,h},p.createPickContourShader=function(m){var h=t(m,u,l,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return h.attributes.uv.location=0,h.attributes.f.location=1,h}},3754:function(v,p,r){v.exports=ie;var t=r(2288),s=r(5827),n=r(2944),f=r(8931),u=r(5306),l=r(9156),m=r(7498),h=r(7382),M=r(5050),c=r(4162),i=r(104),d=r(7437),b=r(5070),w=r(9144),E=r(9054),y=E.createShader,S=E.createContourShader,T=E.createPickShader,o=E.createPickContourShader,P=4*(4+3+3),x=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],_=[[0,0],[0,1],[1,0],[1,1],[1,0],[0,1]],I=[[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]];(function(){for(var J=0;J<3;++J){var j=I[J],se=(J+1)%3,ne=(J+2)%3;j[se+0]=1,j[ne+3]=1,j[J+6]=1}})();function N(J,j,se,ne,le){this.position=J,this.index=j,this.uv=se,this.level=ne,this.dataCoordinate=le}var k=256;function F(J,j,se,ne,le,pe,Ae,be,Re,xe,Me,ye,Se,Fe,Be){this.gl=J,this.shape=j,this.bounds=se,this.objectOffset=Be,this.intensityBounds=[],this._shader=ne,this._pickShader=le,this._coordinateBuffer=pe,this._vao=Ae,this._colorMap=be,this._contourShader=Re,this._contourPickShader=xe,this._contourBuffer=Me,this._contourVAO=ye,this._contourOffsets=[[],[],[]],this._contourCounts=[[],[],[]],this._vertexCount=0,this._pickResult=new N([0,0,0],[0,0],[0,0],[0,0,0],[0,0,0]),this._dynamicBuffer=Se,this._dynamicVAO=Fe,this._dynamicOffsets=[0,0,0],this._dynamicCounts=[0,0,0],this.contourWidth=[1,1,1],this.contourLevels=[[1],[1],[1]],this.contourTint=[0,0,0],this.contourColor=[[.5,.5,.5,1],[.5,.5,.5,1],[.5,.5,.5,1]],this.showContour=!0,this.showSurface=!0,this.enableHighlight=[!0,!0,!0],this.highlightColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.highlightTint=[1,1,1],this.highlightLevel=[-1,-1,-1],this.enableDynamic=[!0,!0,!0],this.dynamicLevel=[NaN,NaN,NaN],this.dynamicColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.dynamicTint=[1,1,1],this.dynamicWidth=[1,1,1],this.axesBounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.surfaceProject=[!1,!1,!1],this.contourProject=[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],this.colorBounds=[!1,!1],this._field=[M(u.mallocFloat(1024),[0,0]),M(u.mallocFloat(1024),[0,0]),M(u.mallocFloat(1024),[0,0])],this.pickId=1,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.snapToData=!1,this.pixelRatio=1,this.opacity=1,this.lightPosition=[10,1e4,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.vertexColor=0,this.dirty=!0}var O=F.prototype;O.genColormap=function(J,j){var se=!1,ne=h([l({colormap:J,nshades:k,format:"rgba"}).map(function(le,pe){var Ae=j?z(pe/255,j):le[3];return Ae<1&&(se=!0),[le[0],le[1],le[2],255*Ae]})]);return m.divseq(ne,255),this.hasAlphaScale=se,ne},O.isTransparent=function(){return this.opacity<1||this.hasAlphaScale},O.isOpaque=function(){return!this.isTransparent()},O.pickSlots=1,O.setPickBase=function(J){this.pickId=J};function z(J,j){if(!j||!j.length)return 1;for(var se=0;se<j.length;++se){if(j.length<2)return 1;if(j[se][0]===J)return j[se][1];if(j[se][0]>J&&se>0){var ne=(j[se][0]-J)/(j[se][0]-j[se-1][0]);return j[se][1]*(1-ne)+ne*j[se-1][1]}}return 1}var B=[0,0,0],W={showSurface:!1,showContour:!1,projections:[x.slice(),x.slice(),x.slice()],clipBounds:[[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]]]};function q(J,j){var se,ne,le,pe=j.axes&&j.axes.lastCubeProps.axis||B,Ae=j.showSurface,be=j.showContour;for(se=0;se<3;++se)for(Ae=Ae||j.surfaceProject[se],ne=0;ne<3;++ne)be=be||j.contourProject[se][ne];for(se=0;se<3;++se){var Re=W.projections[se];for(ne=0;ne<16;++ne)Re[ne]=0;for(ne=0;ne<4;++ne)Re[5*ne]=1;Re[5*se]=0,Re[12+se]=j.axesBounds[+(pe[se]>0)][se],i(Re,J.model,Re);var xe=W.clipBounds[se];for(le=0;le<2;++le)for(ne=0;ne<3;++ne)xe[le][ne]=J.clipBounds[le][ne];xe[0][se]=-1e8,xe[1][se]=1e8}return W.showSurface=Ae,W.showContour=be,W}var ee={model:x,view:x,projection:x,inverseModel:x.slice(),lowerBound:[0,0,0],upperBound:[0,0,0],colorMap:0,clipBounds:[[0,0,0],[0,0,0]],height:0,contourTint:0,contourColor:[0,0,0,1],permutation:[1,0,0,0,1,0,0,0,1],zOffset:-1e-4,objectOffset:[0,0,0],kambient:1,kdiffuse:1,kspecular:1,lightPosition:[1e3,1e3,1e3],eyePosition:[0,0,0],roughness:1,fresnel:1,opacity:1,vertexColor:0},Q=x.slice(),oe=[1,0,0,0,1,0,0,0,1];function Z(J,j){J=J||{};var se=this.gl;se.disable(se.CULL_FACE),this._colorMap.bind(0);var ne=ee;ne.model=J.model||x,ne.view=J.view||x,ne.projection=J.projection||x,ne.lowerBound=[this.bounds[0][0],this.bounds[0][1],this.colorBounds[0]||this.bounds[0][2]],ne.upperBound=[this.bounds[1][0],this.bounds[1][1],this.colorBounds[1]||this.bounds[1][2]],ne.objectOffset=this.objectOffset,ne.contourColor=this.contourColor[0],ne.inverseModel=d(ne.inverseModel,ne.model);for(var le=0;le<2;++le)for(var pe=ne.clipBounds[le],Ae=0;Ae<3;++Ae)pe[Ae]=Math.min(Math.max(this.clipBounds[le][Ae],-1e8),1e8);ne.kambient=this.ambientLight,ne.kdiffuse=this.diffuseLight,ne.kspecular=this.specularLight,ne.roughness=this.roughness,ne.fresnel=this.fresnel,ne.opacity=this.opacity,ne.height=0,ne.permutation=oe,ne.vertexColor=this.vertexColor;var be=Q;for(i(be,ne.view,ne.model),i(be,ne.projection,be),d(be,be),le=0;le<3;++le)ne.eyePosition[le]=be[12+le]/be[15];var Re=be[15];for(le=0;le<3;++le)Re+=this.lightPosition[le]*be[4*le+3];for(le=0;le<3;++le){var xe=be[12+le];for(Ae=0;Ae<3;++Ae)xe+=be[4*Ae+le]*this.lightPosition[Ae];ne.lightPosition[le]=xe/Re}var Me=q(ne,this);if(Me.showSurface){for(this._shader.bind(),this._shader.uniforms=ne,this._vao.bind(),this.showSurface&&this._vertexCount&&this._vao.draw(se.TRIANGLES,this._vertexCount),le=0;le<3;++le)!this.surfaceProject[le]||!this.vertexCount||(this._shader.uniforms.model=Me.projections[le],this._shader.uniforms.clipBounds=Me.clipBounds[le],this._vao.draw(se.TRIANGLES,this._vertexCount));this._vao.unbind()}if(Me.showContour){var ye=this._contourShader;ne.kambient=1,ne.kdiffuse=0,ne.kspecular=0,ne.opacity=1,ye.bind(),ye.uniforms=ne;var Se=this._contourVAO;for(Se.bind(),le=0;le<3;++le)for(ye.uniforms.permutation=I[le],se.lineWidth(this.contourWidth[le]*this.pixelRatio),Ae=0;Ae<this.contourLevels[le].length;++Ae)Ae===this.highlightLevel[le]?(ye.uniforms.contourColor=this.highlightColor[le],ye.uniforms.contourTint=this.highlightTint[le]):(Ae===0||Ae-1===this.highlightLevel[le])&&(ye.uniforms.contourColor=this.contourColor[le],ye.uniforms.contourTint=this.contourTint[le]),this._contourCounts[le][Ae]&&(ye.uniforms.height=this.contourLevels[le][Ae],Se.draw(se.LINES,this._contourCounts[le][Ae],this._contourOffsets[le][Ae]));for(le=0;le<3;++le)for(ye.uniforms.model=Me.projections[le],ye.uniforms.clipBounds=Me.clipBounds[le],Ae=0;Ae<3;++Ae)if(!!this.contourProject[le][Ae]){ye.uniforms.permutation=I[Ae],se.lineWidth(this.contourWidth[Ae]*this.pixelRatio);for(var Fe=0;Fe<this.contourLevels[Ae].length;++Fe)Fe===this.highlightLevel[Ae]?(ye.uniforms.contourColor=this.highlightColor[Ae],ye.uniforms.contourTint=this.highlightTint[Ae]):(Fe===0||Fe-1===this.highlightLevel[Ae])&&(ye.uniforms.contourColor=this.contourColor[Ae],ye.uniforms.contourTint=this.contourTint[Ae]),this._contourCounts[Ae][Fe]&&(ye.uniforms.height=this.contourLevels[Ae][Fe],Se.draw(se.LINES,this._contourCounts[Ae][Fe],this._contourOffsets[Ae][Fe]))}for(Se.unbind(),Se=this._dynamicVAO,Se.bind(),le=0;le<3;++le)if(this._dynamicCounts[le]!==0)for(ye.uniforms.model=ne.model,ye.uniforms.clipBounds=ne.clipBounds,ye.uniforms.permutation=I[le],se.lineWidth(this.dynamicWidth[le]*this.pixelRatio),ye.uniforms.contourColor=this.dynamicColor[le],ye.uniforms.contourTint=this.dynamicTint[le],ye.uniforms.height=this.dynamicLevel[le],Se.draw(se.LINES,this._dynamicCounts[le],this._dynamicOffsets[le]),Ae=0;Ae<3;++Ae)!this.contourProject[Ae][le]||(ye.uniforms.model=Me.projections[Ae],ye.uniforms.clipBounds=Me.clipBounds[Ae],Se.draw(se.LINES,this._dynamicCounts[le],this._dynamicOffsets[le]));Se.unbind()}}O.draw=function(J){return Z.call(this,J,!1)},O.drawTransparent=function(J){return Z.call(this,J,!0)};var Y={model:x,view:x,projection:x,inverseModel:x,clipBounds:[[0,0,0],[0,0,0]],height:0,shape:[0,0],pickId:0,lowerBound:[0,0,0],upperBound:[0,0,0],zOffset:0,objectOffset:[0,0,0],permutation:[1,0,0,0,1,0,0,0,1],lightPosition:[0,0,0],eyePosition:[0,0,0]};O.drawPick=function(J){J=J||{};var j=this.gl;j.disable(j.CULL_FACE);var se=Y;se.model=J.model||x,se.view=J.view||x,se.projection=J.projection||x,se.shape=this._field[2].shape,se.pickId=this.pickId/255,se.lowerBound=this.bounds[0],se.upperBound=this.bounds[1],se.objectOffset=this.objectOffset,se.permutation=oe;for(var ne=0;ne<2;++ne)for(var le=se.clipBounds[ne],pe=0;pe<3;++pe)le[pe]=Math.min(Math.max(this.clipBounds[ne][pe],-1e8),1e8);var Ae=q(se,this);if(Ae.showSurface){for(this._pickShader.bind(),this._pickShader.uniforms=se,this._vao.bind(),this._vao.draw(j.TRIANGLES,this._vertexCount),ne=0;ne<3;++ne)!this.surfaceProject[ne]||(this._pickShader.uniforms.model=Ae.projections[ne],this._pickShader.uniforms.clipBounds=Ae.clipBounds[ne],this._vao.draw(j.TRIANGLES,this._vertexCount));this._vao.unbind()}if(Ae.showContour){var be=this._contourPickShader;be.bind(),be.uniforms=se;var Re=this._contourVAO;for(Re.bind(),pe=0;pe<3;++pe)for(j.lineWidth(this.contourWidth[pe]*this.pixelRatio),be.uniforms.permutation=I[pe],ne=0;ne<this.contourLevels[pe].length;++ne)this._contourCounts[pe][ne]&&(be.uniforms.height=this.contourLevels[pe][ne],Re.draw(j.LINES,this._contourCounts[pe][ne],this._contourOffsets[pe][ne]));for(ne=0;ne<3;++ne)for(be.uniforms.model=Ae.projections[ne],be.uniforms.clipBounds=Ae.clipBounds[ne],pe=0;pe<3;++pe)if(!!this.contourProject[ne][pe]){be.uniforms.permutation=I[pe],j.lineWidth(this.contourWidth[pe]*this.pixelRatio);for(var xe=0;xe<this.contourLevels[pe].length;++xe)this._contourCounts[pe][xe]&&(be.uniforms.height=this.contourLevels[pe][xe],Re.draw(j.LINES,this._contourCounts[pe][xe],this._contourOffsets[pe][xe]))}Re.unbind()}},O.pick=function(J){if(!J||J.id!==this.pickId)return null;var j=this._field[2].shape,se=this._pickResult,ne=j[0]*(J.value[0]+(J.value[2]>>4)/16)/255,le=Math.floor(ne),pe=ne-le,Ae=j[1]*(J.value[1]+(J.value[2]&15)/16)/255,be=Math.floor(Ae),Re=Ae-be;le+=1,be+=1;var xe=se.position;xe[0]=xe[1]=xe[2]=0;for(var Me=0;Me<2;++Me)for(var ye=Me?pe:1-pe,Se=0;Se<2;++Se)for(var Fe=Se?Re:1-Re,Be=le+Me,_e=be+Se,Ue=ye*Fe,it=0;it<3;++it)xe[it]+=this._field[it].get(Be,_e)*Ue;for(var lt=this._pickResult.level,$e=0;$e<3;++$e)if(lt[$e]=b.le(this.contourLevels[$e],xe[$e]),lt[$e]<0)this.contourLevels[$e].length>0&&(lt[$e]=0);else if(lt[$e]<this.contourLevels[$e].length-1){var qe=this.contourLevels[$e][lt[$e]],ft=this.contourLevels[$e][lt[$e]+1];Math.abs(qe-xe[$e])>Math.abs(ft-xe[$e])&&(lt[$e]+=1)}for(se.index[0]=pe<.5?le:le+1,se.index[1]=Re<.5?be:be+1,se.uv[0]=ne/j[0],se.uv[1]=Ae/j[1],it=0;it<3;++it)se.dataCoordinate[it]=this._field[it].get(se.index[0],se.index[1]);return se},O.padField=function(J,j){var se=j.shape.slice(),ne=J.shape.slice();m.assign(J.lo(1,1).hi(se[0],se[1]),j),m.assign(J.lo(1).hi(se[0],1),j.hi(se[0],1)),m.assign(J.lo(1,ne[1]-1).hi(se[0],1),j.lo(0,se[1]-1).hi(se[0],1)),m.assign(J.lo(0,1).hi(1,se[1]),j.hi(1)),m.assign(J.lo(ne[0]-1,1).hi(1,se[1]),j.lo(se[0]-1)),J.set(0,0,j.get(0,0)),J.set(0,ne[1]-1,j.get(0,se[1]-1)),J.set(ne[0]-1,0,j.get(se[0]-1,0)),J.set(ne[0]-1,ne[1]-1,j.get(se[0]-1,se[1]-1))};function te(J,j){return Array.isArray(J)?[j(J[0]),j(J[1]),j(J[2])]:[j(J),j(J),j(J)]}function X(J){return Array.isArray(J)?J.length===3?[J[0],J[1],J[2],1]:[J[0],J[1],J[2],J[3]]:[0,0,0,1]}function $(J){if(Array.isArray(J)){if(Array.isArray(J))return[X(J[0]),X(J[1]),X(J[2])];var j=X(J);return[j.slice(),j.slice(),j.slice()]}}O.update=function(J){J=J||{},this.objectOffset=J.objectOffset||this.objectOffset,this.dirty=!0,"contourWidth"in J&&(this.contourWidth=te(J.contourWidth,Number)),"showContour"in J&&(this.showContour=te(J.showContour,Boolean)),"showSurface"in J&&(this.showSurface=!!J.showSurface),"contourTint"in J&&(this.contourTint=te(J.contourTint,Boolean)),"contourColor"in J&&(this.contourColor=$(J.contourColor)),"contourProject"in J&&(this.contourProject=te(J.contourProject,function(Ft){return te(Ft,Boolean)})),"surfaceProject"in J&&(this.surfaceProject=J.surfaceProject),"dynamicColor"in J&&(this.dynamicColor=$(J.dynamicColor)),"dynamicTint"in J&&(this.dynamicTint=te(J.dynamicTint,Number)),"dynamicWidth"in J&&(this.dynamicWidth=te(J.dynamicWidth,Number)),"opacity"in J&&(this.opacity=J.opacity),"opacityscale"in J&&(this.opacityscale=J.opacityscale),"colorBounds"in J&&(this.colorBounds=J.colorBounds),"vertexColor"in J&&(this.vertexColor=J.vertexColor?1:0),"colormap"in J&&this._colorMap.setPixels(this.genColormap(J.colormap,this.opacityscale));var j=J.field||J.coords&&J.coords[2]||null,se=!1;if(j||(this._field[2].shape[0]||this._field[2].shape[2]?j=this._field[2].lo(1,1).hi(this._field[2].shape[0]-2,this._field[2].shape[1]-2):j=this._field[2].hi(0,0)),"field"in J||"coords"in J){var ne=(j.shape[0]+2)*(j.shape[1]+2);ne>this._field[2].data.length&&(u.freeFloat(this._field[2].data),this._field[2].data=u.mallocFloat(t.nextPow2(ne))),this._field[2]=M(this._field[2].data,[j.shape[0]+2,j.shape[1]+2]),this.padField(this._field[2],j),this.shape=j.shape.slice();for(var le=this.shape,pe=0;pe<2;++pe)this._field[2].size>this._field[pe].data.length&&(u.freeFloat(this._field[pe].data),this._field[pe].data=u.mallocFloat(this._field[2].size)),this._field[pe]=M(this._field[pe].data,[le[0]+2,le[1]+2]);if(J.coords){var Ae=J.coords;if(!Array.isArray(Ae)||Ae.length!==3)throw new Error("gl-surface: invalid coordinates for x/y");for(pe=0;pe<2;++pe){var be=Ae[pe];for(Se=0;Se<2;++Se)if(be.shape[Se]!==le[Se])throw new Error("gl-surface: coords have incorrect shape");this.padField(this._field[pe],be)}}else if(J.ticks){var Re=J.ticks;if(!Array.isArray(Re)||Re.length!==2)throw new Error("gl-surface: invalid ticks");for(pe=0;pe<2;++pe){var xe=Re[pe];if((Array.isArray(xe)||xe.length)&&(xe=M(xe)),xe.shape[0]!==le[pe])throw new Error("gl-surface: invalid tick length");var Me=M(xe.data,le);Me.stride[pe]=xe.stride[0],Me.stride[pe^1]=0,this.padField(this._field[pe],Me)}}else{for(pe=0;pe<2;++pe){var ye=[0,0];ye[pe]=1,this._field[pe]=M(this._field[pe].data,[le[0]+2,le[1]+2],ye,0)}this._field[0].set(0,0,0);for(var Se=0;Se<le[0];++Se)this._field[0].set(Se+1,0,Se);for(this._field[0].set(le[0]+1,0,le[0]-1),this._field[1].set(0,0,0),Se=0;Se<le[1];++Se)this._field[1].set(0,Se+1,Se);this._field[1].set(0,le[1]+1,le[1]-1)}var Fe=this._field,Be=M(u.mallocFloat(Fe[2].size*3*2),[3,le[0]+2,le[1]+2,2]);for(pe=0;pe<3;++pe)w(Be.pick(pe),Fe[pe],"mirror");var _e=M(u.mallocFloat(Fe[2].size*3),[le[0]+2,le[1]+2,3]);for(pe=0;pe<le[0]+2;++pe)for(Se=0;Se<le[1]+2;++Se){var Ue=Be.get(0,pe,Se,0),it=Be.get(0,pe,Se,1),lt=Be.get(1,pe,Se,0),$e=Be.get(1,pe,Se,1),qe=Be.get(2,pe,Se,0),ft=Be.get(2,pe,Se,1),ct=lt*ft-$e*qe,pt=qe*it-ft*Ue,yt=Ue*$e-it*lt,Et=Math.sqrt(ct*ct+pt*pt+yt*yt);Et<1e-8?(Et=Math.max(Math.abs(ct),Math.abs(pt),Math.abs(yt)),Et<1e-8?(yt=1,pt=ct=0,Et=1):Et=1/Et):Et=1/Math.sqrt(Et),_e.set(pe,Se,0,ct*Et),_e.set(pe,Se,1,pt*Et),_e.set(pe,Se,2,yt*Et)}u.free(Be.data);var tt=[1/0,1/0,1/0],Ie=[-1/0,-1/0,-1/0],We=1/0,Ze=-1/0,He=(le[0]-1)*(le[1]-1)*6,De=u.mallocFloat(t.nextPow2(10*He)),me=0,ge=0;for(pe=0;pe<le[0]-1;++pe){e:for(Se=0;Se<le[1]-1;++Se){for(var Ee=0;Ee<2;++Ee)for(var Te=0;Te<2;++Te)for(var ze=0;ze<3;++ze){var Xe=this._field[ze].get(1+pe+Ee,1+Se+Te);if(isNaN(Xe)||!isFinite(Xe))continue e}for(ze=0;ze<6;++ze){var et=pe+_[ze][0],ut=Se+_[ze][1],dt=this._field[0].get(et+1,ut+1),Zt=this._field[1].get(et+1,ut+1);Xe=this._field[2].get(et+1,ut+1),ct=_e.get(et+1,ut+1,0),pt=_e.get(et+1,ut+1,1),yt=_e.get(et+1,ut+1,2),J.intensity&&(jt=J.intensity.get(et,ut));var jt=J.intensity?J.intensity.get(et,ut):Xe+this.objectOffset[2];De[me++]=et,De[me++]=ut,De[me++]=dt,De[me++]=Zt,De[me++]=Xe,De[me++]=0,De[me++]=jt,De[me++]=ct,De[me++]=pt,De[me++]=yt,tt[0]=Math.min(tt[0],dt+this.objectOffset[0]),tt[1]=Math.min(tt[1],Zt+this.objectOffset[1]),tt[2]=Math.min(tt[2],Xe+this.objectOffset[2]),We=Math.min(We,jt),Ie[0]=Math.max(Ie[0],dt+this.objectOffset[0]),Ie[1]=Math.max(Ie[1],Zt+this.objectOffset[1]),Ie[2]=Math.max(Ie[2],Xe+this.objectOffset[2]),Ze=Math.max(Ze,jt),ge+=1}}}for(J.intensityBounds&&(We=+J.intensityBounds[0],Ze=+J.intensityBounds[1]),pe=6;pe<me;pe+=10)De[pe]=(De[pe]-We)/(Ze-We);this._vertexCount=ge,this._coordinateBuffer.update(De.subarray(0,me)),u.freeFloat(De),u.free(_e.data),this.bounds=[tt,Ie],this.intensity=J.intensity||this._field[2],(this.intensityBounds[0]!==We||this.intensityBounds[1]!==Ze)&&(se=!0),this.intensityBounds=[We,Ze]}if("levels"in J){var Tt=J.levels;for(Array.isArray(Tt[0])?Tt=Tt.slice():Tt=[[],[],Tt],pe=0;pe<3;++pe)Tt[pe]=Tt[pe].slice(),Tt[pe].sort(function(Ft,Kt){return Ft-Kt});for(pe=0;pe<3;++pe)for(Se=0;Se<Tt[pe].length;++Se)Tt[pe][Se]-=this.objectOffset[pe];e:for(pe=0;pe<3;++pe){if(Tt[pe].length!==this.contourLevels[pe].length){se=!0;break}for(Se=0;Se<Tt[pe].length;++Se)if(Tt[pe][Se]!==this.contourLevels[pe][Se]){se=!0;break e}}this.contourLevels=Tt}if(se){Fe=this._field,le=this.shape;for(var kt=[],Qt=0;Qt<3;++Qt){var wr=this.contourLevels[Qt],xt=[],At=[],Wt=[0,0,0];for(pe=0;pe<wr.length;++pe){var er=c(this._field[Qt],wr[pe]);xt.push(kt.length/5|0),ge=0;e:for(Se=0;Se<er.cells.length;++Se){var $t=er.cells[Se];for(ze=0;ze<2;++ze){var ht=er.positions[$t[ze]],at=ht[0],bt=Math.floor(at)|0,Ct=at-bt,Dt=ht[1],It=Math.floor(Dt)|0,Vt=Dt-It,Nt=!1;t:for(var Jt=0;Jt<3;++Jt){Wt[Jt]=0;var fr=(Qt+Jt+1)%3;for(Ee=0;Ee<2;++Ee){var cr=Ee?Ct:1-Ct;for(et=Math.min(Math.max(bt+Ee,0),le[0])|0,Te=0;Te<2;++Te){var dr=Te?Vt:1-Vt;if(ut=Math.min(Math.max(It+Te,0),le[1])|0,Jt<2?Xe=this._field[fr].get(et,ut):Xe=(this.intensity.get(et,ut)-this.intensityBounds[0])/(this.intensityBounds[1]-this.intensityBounds[0]),!isFinite(Xe)||isNaN(Xe)){Nt=!0;break t}var Ge=cr*dr;Wt[Jt]+=Ge*Xe}}}if(!Nt)kt.push(Wt[0],Wt[1],ht[0],ht[1],Wt[2]),ge+=1;else{if(ze>0){for(var Ve=0;Ve<5;++Ve)kt.pop();ge-=1}continue e}}}At.push(ge)}this._contourOffsets[Qt]=xt,this._contourCounts[Qt]=At}var Ot=u.mallocFloat(kt.length);for(pe=0;pe<kt.length;++pe)Ot[pe]=kt[pe];this._contourBuffer.update(Ot),u.freeFloat(Ot)}},O.dispose=function(){this._shader.dispose(),this._vao.dispose(),this._coordinateBuffer.dispose(),this._colorMap.dispose(),this._contourBuffer.dispose(),this._contourVAO.dispose(),this._contourShader.dispose(),this._contourPickShader.dispose(),this._dynamicBuffer.dispose(),this._dynamicVAO.dispose();for(var J=0;J<3;++J)u.freeFloat(this._field[J].data)},O.highlight=function(J){var j;if(!J){this._dynamicCounts=[0,0,0],this.dyanamicLevel=[NaN,NaN,NaN],this.highlightLevel=[-1,-1,-1];return}for(j=0;j<3;++j)this.enableHighlight[j]?this.highlightLevel[j]=J.level[j]:this.highlightLevel[j]=-1;var se;for(this.snapToData?se=J.dataCoordinate:se=J.position,j=0;j<3;++j)se[j]-=this.objectOffset[j];if(!((!this.enableDynamic[0]||se[0]===this.dynamicLevel[0])&&(!this.enableDynamic[1]||se[1]===this.dynamicLevel[1])&&(!this.enableDynamic[2]||se[2]===this.dynamicLevel[2]))){for(var ne=0,le=this.shape,pe=u.mallocFloat(12*le[0]*le[1]),Ae=0;Ae<3;++Ae){if(!this.enableDynamic[Ae]){this.dynamicLevel[Ae]=NaN,this._dynamicCounts[Ae]=0;continue}this.dynamicLevel[Ae]=se[Ae];var be=(Ae+1)%3,Re=(Ae+2)%3,xe=this._field[Ae],Me=this._field[be],ye=this._field[Re],Se=c(xe,se[Ae]),Fe=Se.cells,Be=Se.positions;for(this._dynamicOffsets[Ae]=ne,j=0;j<Fe.length;++j)for(var _e=Fe[j],Ue=0;Ue<2;++Ue){var it=Be[_e[Ue]],lt=+it[0],$e=lt|0,qe=Math.min($e+1,le[0])|0,ft=lt-$e,ct=1-ft,pt=+it[1],yt=pt|0,Et=Math.min(yt+1,le[1])|0,tt=pt-yt,Ie=1-tt,We=ct*Ie,Ze=ct*tt,He=ft*Ie,De=ft*tt,me=We*Me.get($e,yt)+Ze*Me.get($e,Et)+He*Me.get(qe,yt)+De*Me.get(qe,Et),ge=We*ye.get($e,yt)+Ze*ye.get($e,Et)+He*ye.get(qe,yt)+De*ye.get(qe,Et);if(isNaN(me)||isNaN(ge)){Ue&&(ne-=1);break}pe[2*ne+0]=me,pe[2*ne+1]=ge,ne+=1}this._dynamicCounts[Ae]=ne-this._dynamicOffsets[Ae]}this._dynamicBuffer.update(pe.subarray(0,2*ne)),u.freeFloat(pe)}};function ie(J){var j=J.gl,se=y(j),ne=T(j),le=S(j),pe=o(j),Ae=s(j),be=n(j,[{buffer:Ae,size:4,stride:P,offset:0},{buffer:Ae,size:3,stride:P,offset:16},{buffer:Ae,size:3,stride:P,offset:28}]),Re=s(j),xe=n(j,[{buffer:Re,size:4,stride:20,offset:0},{buffer:Re,size:1,stride:20,offset:16}]),Me=s(j),ye=n(j,[{buffer:Me,size:2,type:j.FLOAT}]),Se=f(j,1,k,j.RGBA,j.UNSIGNED_BYTE);Se.minFilter=j.LINEAR,Se.magFilter=j.LINEAR;var Fe=new F(j,[0,0],[[0,0,0],[0,0,0]],se,ne,Ae,be,Se,le,pe,Re,xe,Me,ye,[0,0,0]),Be={levels:[[],[],[]]};for(var _e in J)Be[_e]=J[_e];return Be.colormap=Be.colormap||"jet",Fe.update(Be),Fe}},8931:function(v,p,r){var t=r(5050),s=r(7498),n=r(5306);v.exports=o;var f=null,u=null,l=null;function m(P){f=[P.LINEAR,P.NEAREST_MIPMAP_LINEAR,P.LINEAR_MIPMAP_NEAREST,P.LINEAR_MIPMAP_NEAREST],u=[P.NEAREST,P.LINEAR,P.NEAREST_MIPMAP_NEAREST,P.NEAREST_MIPMAP_LINEAR,P.LINEAR_MIPMAP_NEAREST,P.LINEAR_MIPMAP_LINEAR],l=[P.REPEAT,P.CLAMP_TO_EDGE,P.MIRRORED_REPEAT]}function h(P){return typeof HTMLCanvasElement!="undefined"&&P instanceof HTMLCanvasElement||typeof HTMLImageElement!="undefined"&&P instanceof HTMLImageElement||typeof HTMLVideoElement!="undefined"&&P instanceof HTMLVideoElement||typeof ImageData!="undefined"&&P instanceof ImageData}var M=function(P,x){s.muls(P,x,255)};function c(P,x,_){var I=P.gl,N=I.getParameter(I.MAX_TEXTURE_SIZE);if(x<0||x>N||_<0||_>N)throw new Error("gl-texture2d: Invalid texture size");return P._shape=[x,_],P.bind(),I.texImage2D(I.TEXTURE_2D,0,P.format,x,_,0,P.format,P.type,null),P._mipLevels=[0],P}function i(P,x,_,I,N,k){this.gl=P,this.handle=x,this.format=N,this.type=k,this._shape=[_,I],this._mipLevels=[0],this._magFilter=P.NEAREST,this._minFilter=P.NEAREST,this._wrapS=P.CLAMP_TO_EDGE,this._wrapT=P.CLAMP_TO_EDGE,this._anisoSamples=1;var F=this,O=[this._wrapS,this._wrapT];Object.defineProperties(O,[{get:function(){return F._wrapS},set:function(B){return F.wrapS=B}},{get:function(){return F._wrapT},set:function(B){return F.wrapT=B}}]),this._wrapVector=O;var z=[this._shape[0],this._shape[1]];Object.defineProperties(z,[{get:function(){return F._shape[0]},set:function(B){return F.width=B}},{get:function(){return F._shape[1]},set:function(B){return F.height=B}}]),this._shapeVector=z}var d=i.prototype;Object.defineProperties(d,{minFilter:{get:function(){return this._minFilter},set:function(P){this.bind();var x=this.gl;if(this.type===x.FLOAT&&f.indexOf(P)>=0&&(x.getExtension("OES_texture_float_linear")||(P=x.NEAREST)),u.indexOf(P)<0)throw new Error("gl-texture2d: Unknown filter mode "+P);return x.texParameteri(x.TEXTURE_2D,x.TEXTURE_MIN_FILTER,P),this._minFilter=P}},magFilter:{get:function(){return this._magFilter},set:function(P){this.bind();var x=this.gl;if(this.type===x.FLOAT&&f.indexOf(P)>=0&&(x.getExtension("OES_texture_float_linear")||(P=x.NEAREST)),u.indexOf(P)<0)throw new Error("gl-texture2d: Unknown filter mode "+P);return x.texParameteri(x.TEXTURE_2D,x.TEXTURE_MAG_FILTER,P),this._magFilter=P}},mipSamples:{get:function(){return this._anisoSamples},set:function(P){var x=this._anisoSamples;if(this._anisoSamples=Math.max(P,1)|0,x!==this._anisoSamples){var _=this.gl.getExtension("EXT_texture_filter_anisotropic");_&&this.gl.texParameterf(this.gl.TEXTURE_2D,_.TEXTURE_MAX_ANISOTROPY_EXT,this._anisoSamples)}return this._anisoSamples}},wrapS:{get:function(){return this._wrapS},set:function(P){if(this.bind(),l.indexOf(P)<0)throw new Error("gl-texture2d: Unknown wrap mode "+P);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,P),this._wrapS=P}},wrapT:{get:function(){return this._wrapT},set:function(P){if(this.bind(),l.indexOf(P)<0)throw new Error("gl-texture2d: Unknown wrap mode "+P);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,P),this._wrapT=P}},wrap:{get:function(){return this._wrapVector},set:function(P){if(Array.isArray(P)||(P=[P,P]),P.length!==2)throw new Error("gl-texture2d: Must specify wrap mode for rows and columns");for(var x=0;x<2;++x)if(l.indexOf(P[x])<0)throw new Error("gl-texture2d: Unknown wrap mode "+P);this._wrapS=P[0],this._wrapT=P[1];var _=this.gl;return this.bind(),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_WRAP_S,this._wrapS),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_WRAP_T,this._wrapT),P}},shape:{get:function(){return this._shapeVector},set:function(P){if(!Array.isArray(P))P=[P|0,P|0];else if(P.length!==2)throw new Error("gl-texture2d: Invalid texture shape");return c(this,P[0]|0,P[1]|0),[P[0]|0,P[1]|0]}},width:{get:function(){return this._shape[0]},set:function(P){return P=P|0,c(this,P,this._shape[1]),P}},height:{get:function(){return this._shape[1]},set:function(P){return P=P|0,c(this,this._shape[0],P),P}}}),d.bind=function(P){var x=this.gl;return P!==void 0&&x.activeTexture(x.TEXTURE0+(P|0)),x.bindTexture(x.TEXTURE_2D,this.handle),P!==void 0?P|0:x.getParameter(x.ACTIVE_TEXTURE)-x.TEXTURE0},d.dispose=function(){this.gl.deleteTexture(this.handle)},d.generateMipmap=function(){this.bind(),this.gl.generateMipmap(this.gl.TEXTURE_2D);for(var P=Math.min(this._shape[0],this._shape[1]),x=0;P>0;++x,P>>>=1)this._mipLevels.indexOf(x)<0&&this._mipLevels.push(x)},d.setPixels=function(P,x,_,I){var N=this.gl;this.bind(),Array.isArray(x)?(I=_,_=x[1]|0,x=x[0]|0):(x=x||0,_=_||0),I=I||0;var k=h(P)?P:P.raw;if(k){var F=this._mipLevels.indexOf(I)<0;F?(N.texImage2D(N.TEXTURE_2D,0,this.format,this.format,this.type,k),this._mipLevels.push(I)):N.texSubImage2D(N.TEXTURE_2D,I,x,_,this.format,this.type,k)}else if(P.shape&&P.stride&&P.data){if(P.shape.length<2||x+P.shape[1]>this._shape[1]>>>I||_+P.shape[0]>this._shape[0]>>>I||x<0||_<0)throw new Error("gl-texture2d: Texture dimensions are out of bounds");w(N,x,_,I,this.format,this.type,this._mipLevels,P)}else throw new Error("gl-texture2d: Unsupported data type")};function b(P,x){return P.length===3?x[2]===1&&x[1]===P[0]*P[2]&&x[0]===P[2]:x[0]===1&&x[1]===P[0]}function w(P,x,_,I,N,k,F,O){var z=O.dtype,B=O.shape.slice();if(B.length<2||B.length>3)throw new Error("gl-texture2d: Invalid ndarray, must be 2d or 3d");var W=0,q=0,ee=b(B,O.stride.slice());if(z==="float32"?W=P.FLOAT:z==="float64"?(W=P.FLOAT,ee=!1,z="float32"):z==="uint8"?W=P.UNSIGNED_BYTE:(W=P.UNSIGNED_BYTE,ee=!1,z="uint8"),B.length===2)q=P.LUMINANCE,B=[B[0],B[1],1],O=t(O.data,B,[O.stride[0],O.stride[1],1],O.offset);else if(B.length===3){if(B[2]===1)q=P.ALPHA;else if(B[2]===2)q=P.LUMINANCE_ALPHA;else if(B[2]===3)q=P.RGB;else if(B[2]===4)q=P.RGBA;else throw new Error("gl-texture2d: Invalid shape for pixel coords");B[2]}else throw new Error("gl-texture2d: Invalid shape for texture");if((q===P.LUMINANCE||q===P.ALPHA)&&(N===P.LUMINANCE||N===P.ALPHA)&&(q=N),q!==N)throw new Error("gl-texture2d: Incompatible texture format for setPixels");var Q=O.size,oe=F.indexOf(I)<0;if(oe&&F.push(I),W===k&&ee)O.offset===0&&O.data.length===Q?oe?P.texImage2D(P.TEXTURE_2D,I,N,B[0],B[1],0,N,k,O.data):P.texSubImage2D(P.TEXTURE_2D,I,x,_,B[0],B[1],N,k,O.data):oe?P.texImage2D(P.TEXTURE_2D,I,N,B[0],B[1],0,N,k,O.data.subarray(O.offset,O.offset+Q)):P.texSubImage2D(P.TEXTURE_2D,I,x,_,B[0],B[1],N,k,O.data.subarray(O.offset,O.offset+Q));else{var Z;k===P.FLOAT?Z=n.mallocFloat32(Q):Z=n.mallocUint8(Q);var Y=t(Z,B,[B[2],B[2]*B[0],1]);W===P.FLOAT&&k===P.UNSIGNED_BYTE?M(Y,O):s.assign(Y,O),oe?P.texImage2D(P.TEXTURE_2D,I,N,B[0],B[1],0,N,k,Z.subarray(0,Q)):P.texSubImage2D(P.TEXTURE_2D,I,x,_,B[0],B[1],N,k,Z.subarray(0,Q)),k===P.FLOAT?n.freeFloat32(Z):n.freeUint8(Z)}}function E(P){var x=P.createTexture();return P.bindTexture(P.TEXTURE_2D,x),P.texParameteri(P.TEXTURE_2D,P.TEXTURE_MIN_FILTER,P.NEAREST),P.texParameteri(P.TEXTURE_2D,P.TEXTURE_MAG_FILTER,P.NEAREST),P.texParameteri(P.TEXTURE_2D,P.TEXTURE_WRAP_S,P.CLAMP_TO_EDGE),P.texParameteri(P.TEXTURE_2D,P.TEXTURE_WRAP_T,P.CLAMP_TO_EDGE),x}function y(P,x,_,I,N){var k=P.getParameter(P.MAX_TEXTURE_SIZE);if(x<0||x>k||_<0||_>k)throw new Error("gl-texture2d: Invalid texture shape");if(N===P.FLOAT&&!P.getExtension("OES_texture_float"))throw new Error("gl-texture2d: Floating point textures not supported on this platform");var F=E(P);return P.texImage2D(P.TEXTURE_2D,0,I,x,_,0,I,N,null),new i(P,F,x,_,I,N)}function S(P,x,_,I,N,k){var F=E(P);return P.texImage2D(P.TEXTURE_2D,0,N,N,k,x),new i(P,F,_,I,N,k)}function T(P,x){var _=x.dtype,I=x.shape.slice(),N=P.getParameter(P.MAX_TEXTURE_SIZE);if(I[0]<0||I[0]>N||I[1]<0||I[1]>N)throw new Error("gl-texture2d: Invalid texture size");var k=b(I,x.stride.slice()),F=0;_==="float32"?F=P.FLOAT:_==="float64"?(F=P.FLOAT,k=!1,_="float32"):_==="uint8"?F=P.UNSIGNED_BYTE:(F=P.UNSIGNED_BYTE,k=!1,_="uint8");var O=0;if(I.length===2)O=P.LUMINANCE,I=[I[0],I[1],1],x=t(x.data,I,[x.stride[0],x.stride[1],1],x.offset);else if(I.length===3)if(I[2]===1)O=P.ALPHA;else if(I[2]===2)O=P.LUMINANCE_ALPHA;else if(I[2]===3)O=P.RGB;else if(I[2]===4)O=P.RGBA;else throw new Error("gl-texture2d: Invalid shape for pixel coords");else throw new Error("gl-texture2d: Invalid shape for texture");F===P.FLOAT&&!P.getExtension("OES_texture_float")&&(F=P.UNSIGNED_BYTE,k=!1);var z,B,W=x.size;if(k)x.offset===0&&x.data.length===W?z=x.data:z=x.data.subarray(x.offset,x.offset+W);else{var q=[I[2],I[2]*I[0],1];B=n.malloc(W,_);var ee=t(B,I,q,0);(_==="float32"||_==="float64")&&F===P.UNSIGNED_BYTE?M(ee,x):s.assign(ee,x),z=B.subarray(0,W)}var Q=E(P);return P.texImage2D(P.TEXTURE_2D,0,O,I[0],I[1],0,O,F,z),k||n.free(B),new i(P,Q,I[0],I[1],O,F)}function o(P){if(arguments.length<=1)throw new Error("gl-texture2d: Missing arguments for texture2d constructor");if(f||m(P),typeof arguments[1]=="number")return y(P,arguments[1],arguments[2],arguments[3]||P.RGBA,arguments[4]||P.UNSIGNED_BYTE);if(Array.isArray(arguments[1]))return y(P,arguments[1][0]|0,arguments[1][1]|0,arguments[2]||P.RGBA,arguments[3]||P.UNSIGNED_BYTE);if(typeof arguments[1]=="object"){var x=arguments[1],_=h(x)?x:x.raw;if(_)return S(P,_,x.width|0,x.height|0,arguments[2]||P.RGBA,arguments[3]||P.UNSIGNED_BYTE);if(x.shape&&x.data&&x.stride)return T(P,x)}throw new Error("gl-texture2d: Invalid arguments for texture2d constructor")}},3056:function(v){function p(r,t,s){t?t.bind():r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,null);var n=r.getParameter(r.MAX_VERTEX_ATTRIBS)|0;if(s){if(s.length>n)throw new Error("gl-vao: Too many vertex attributes");for(var f=0;f<s.length;++f){var u=s[f];if(u.buffer){var l=u.buffer,m=u.size||4,h=u.type||r.FLOAT,M=!!u.normalized,c=u.stride||0,i=u.offset||0;l.bind(),r.enableVertexAttribArray(f),r.vertexAttribPointer(f,m,h,M,c,i)}else{if(typeof u=="number")r.vertexAttrib1f(f,u);else if(u.length===1)r.vertexAttrib1f(f,u[0]);else if(u.length===2)r.vertexAttrib2f(f,u[0],u[1]);else if(u.length===3)r.vertexAttrib3f(f,u[0],u[1],u[2]);else if(u.length===4)r.vertexAttrib4f(f,u[0],u[1],u[2],u[3]);else throw new Error("gl-vao: Invalid vertex attribute");r.disableVertexAttribArray(f)}}for(;f<n;++f)r.disableVertexAttribArray(f)}else{r.bindBuffer(r.ARRAY_BUFFER,null);for(var f=0;f<n;++f)r.disableVertexAttribArray(f)}}v.exports=p},7220:function(v,p,r){var t=r(3056);function s(f){this.gl=f,this._elements=null,this._attributes=null,this._elementsType=f.UNSIGNED_SHORT}s.prototype.bind=function(){t(this.gl,this._elements,this._attributes)},s.prototype.update=function(f,u,l){this._elements=u,this._attributes=f,this._elementsType=l||this.gl.UNSIGNED_SHORT},s.prototype.dispose=function(){},s.prototype.unbind=function(){},s.prototype.draw=function(f,u,l){l=l||0;var m=this.gl;this._elements?m.drawElements(f,u,this._elementsType,l):m.drawArrays(f,l,u)};function n(f){return new s(f)}v.exports=n},3778:function(v,p,r){var t=r(3056);function s(u,l,m,h,M,c){this.location=u,this.dimension=l,this.a=m,this.b=h,this.c=M,this.d=c}s.prototype.bind=function(u){switch(this.dimension){case 1:u.vertexAttrib1f(this.location,this.a);break;case 2:u.vertexAttrib2f(this.location,this.a,this.b);break;case 3:u.vertexAttrib3f(this.location,this.a,this.b,this.c);break;case 4:u.vertexAttrib4f(this.location,this.a,this.b,this.c,this.d);break}};function n(u,l,m){this.gl=u,this._ext=l,this.handle=m,this._attribs=[],this._useElements=!1,this._elementsType=u.UNSIGNED_SHORT}n.prototype.bind=function(){this._ext.bindVertexArrayOES(this.handle);for(var u=0;u<this._attribs.length;++u)this._attribs[u].bind(this.gl)},n.prototype.unbind=function(){this._ext.bindVertexArrayOES(null)},n.prototype.dispose=function(){this._ext.deleteVertexArrayOES(this.handle)},n.prototype.update=function(u,l,m){if(this.bind(),t(this.gl,l,u),this.unbind(),this._attribs.length=0,u)for(var h=0;h<u.length;++h){var M=u[h];typeof M=="number"?this._attribs.push(new s(h,1,M)):Array.isArray(M)&&this._attribs.push(new s(h,M.length,M[0],M[1],M[2],M[3]))}this._useElements=!!l,this._elementsType=m||this.gl.UNSIGNED_SHORT},n.prototype.draw=function(u,l,m){m=m||0;var h=this.gl;this._useElements?h.drawElements(u,l,this._elementsType,m):h.drawArrays(u,m,l)};function f(u,l){return new n(u,l,l.createVertexArrayOES())}v.exports=f},2944:function(v,p,r){var t=r(3778),s=r(7220);function n(u){this.bindVertexArrayOES=u.bindVertexArray.bind(u),this.createVertexArrayOES=u.createVertexArray.bind(u),this.deleteVertexArrayOES=u.deleteVertexArray.bind(u)}function f(u,l,m,h){var M=u.createVertexArray?new n(u):u.getExtension("OES_vertex_array_object"),c;return M?c=t(u,M):c=s(u),c.update(l,m,h),c}v.exports=f},2598:function(v){v.exports=p;function p(r,t,s){return r[0]=t[0]+s[0],r[1]=t[1]+s[1],r[2]=t[2]+s[2],r}},5879:function(v,p,r){v.exports=f;var t=r(5415),s=r(899),n=r(9305);function f(u,l){var m=t(u[0],u[1],u[2]),h=t(l[0],l[1],l[2]);s(m,m),s(h,h);var M=n(m,h);return M>1?0:Math.acos(M)}},8827:function(v){v.exports=p;function p(r,t){return r[0]=Math.ceil(t[0]),r[1]=Math.ceil(t[1]),r[2]=Math.ceil(t[2]),r}},7622:function(v){v.exports=p;function p(r){var t=new Float32Array(3);return t[0]=r[0],t[1]=r[1],t[2]=r[2],t}},8782:function(v){v.exports=p;function p(r,t){return r[0]=t[0],r[1]=t[1],r[2]=t[2],r}},8501:function(v){v.exports=p;function p(){var r=new Float32Array(3);return r[0]=0,r[1]=0,r[2]=0,r}},903:function(v){v.exports=p;function p(r,t,s){var n=t[0],f=t[1],u=t[2],l=s[0],m=s[1],h=s[2];return r[0]=f*h-u*m,r[1]=u*l-n*h,r[2]=n*m-f*l,r}},5981:function(v,p,r){v.exports=r(8288)},8288:function(v){v.exports=p;function p(r,t){var s=t[0]-r[0],n=t[1]-r[1],f=t[2]-r[2];return Math.sqrt(s*s+n*n+f*f)}},8629:function(v,p,r){v.exports=r(7979)},7979:function(v){v.exports=p;function p(r,t,s){return r[0]=t[0]/s[0],r[1]=t[1]/s[1],r[2]=t[2]/s[2],r}},9305:function(v){v.exports=p;function p(r,t){return r[0]*t[0]+r[1]*t[1]+r[2]*t[2]}},154:function(v){v.exports=1e-6},4932:function(v,p,r){v.exports=s;var t=r(154);function s(n,f){var u=n[0],l=n[1],m=n[2],h=f[0],M=f[1],c=f[2];return Math.abs(u-h)<=t*Math.max(1,Math.abs(u),Math.abs(h))&&Math.abs(l-M)<=t*Math.max(1,Math.abs(l),Math.abs(M))&&Math.abs(m-c)<=t*Math.max(1,Math.abs(m),Math.abs(c))}},5777:function(v){v.exports=p;function p(r,t){return r[0]===t[0]&&r[1]===t[1]&&r[2]===t[2]}},3306:function(v){v.exports=p;function p(r,t){return r[0]=Math.floor(t[0]),r[1]=Math.floor(t[1]),r[2]=Math.floor(t[2]),r}},7447:function(v,p,r){v.exports=s;var t=r(8501)();function s(n,f,u,l,m,h){var M,c;for(f||(f=3),u||(u=0),l?c=Math.min(l*f+u,n.length):c=n.length,M=u;M<c;M+=f)t[0]=n[M],t[1]=n[M+1],t[2]=n[M+2],m(t,t,h),n[M]=t[0],n[M+1]=t[1],n[M+2]=t[2];return n}},5415:function(v){v.exports=p;function p(r,t,s){var n=new Float32Array(3);return n[0]=r,n[1]=t,n[2]=s,n}},2858:function(v,p,r){v.exports={EPSILON:r(154),create:r(8501),clone:r(7622),angle:r(5879),fromValues:r(5415),copy:r(8782),set:r(831),equals:r(4932),exactEquals:r(5777),add:r(2598),subtract:r(911),sub:r(8921),multiply:r(105),mul:r(5733),divide:r(7979),div:r(8629),min:r(3605),max:r(1716),floor:r(3306),ceil:r(8827),round:r(1624),scale:r(5685),scaleAndAdd:r(6722),distance:r(8288),dist:r(5981),squaredDistance:r(6403),sqrDist:r(5294),length:r(4693),len:r(1468),squaredLength:r(4337),sqrLen:r(3303),negate:r(435),inverse:r(2073),normalize:r(899),dot:r(9305),cross:r(903),lerp:r(1868),random:r(6660),transformMat4:r(3255),transformMat3:r(9908),transformQuat:r(6568),rotateX:r(392),rotateY:r(3222),rotateZ:r(3388),forEach:r(7447)}},2073:function(v){v.exports=p;function p(r,t){return r[0]=1/t[0],r[1]=1/t[1],r[2]=1/t[2],r}},1468:function(v,p,r){v.exports=r(4693)},4693:function(v){v.exports=p;function p(r){var t=r[0],s=r[1],n=r[2];return Math.sqrt(t*t+s*s+n*n)}},1868:function(v){v.exports=p;function p(r,t,s,n){var f=t[0],u=t[1],l=t[2];return r[0]=f+n*(s[0]-f),r[1]=u+n*(s[1]-u),r[2]=l+n*(s[2]-l),r}},1716:function(v){v.exports=p;function p(r,t,s){return r[0]=Math.max(t[0],s[0]),r[1]=Math.max(t[1],s[1]),r[2]=Math.max(t[2],s[2]),r}},3605:function(v){v.exports=p;function p(r,t,s){return r[0]=Math.min(t[0],s[0]),r[1]=Math.min(t[1],s[1]),r[2]=Math.min(t[2],s[2]),r}},5733:function(v,p,r){v.exports=r(105)},105:function(v){v.exports=p;function p(r,t,s){return r[0]=t[0]*s[0],r[1]=t[1]*s[1],r[2]=t[2]*s[2],r}},435:function(v){v.exports=p;function p(r,t){return r[0]=-t[0],r[1]=-t[1],r[2]=-t[2],r}},899:function(v){v.exports=p;function p(r,t){var s=t[0],n=t[1],f=t[2],u=s*s+n*n+f*f;return u>0&&(u=1/Math.sqrt(u),r[0]=t[0]*u,r[1]=t[1]*u,r[2]=t[2]*u),r}},6660:function(v){v.exports=p;function p(r,t){t=t||1;var s=Math.random()*2*Math.PI,n=Math.random()*2-1,f=Math.sqrt(1-n*n)*t;return r[0]=Math.cos(s)*f,r[1]=Math.sin(s)*f,r[2]=n*t,r}},392:function(v){v.exports=p;function p(r,t,s,n){var f=s[1],u=s[2],l=t[1]-f,m=t[2]-u,h=Math.sin(n),M=Math.cos(n);return r[0]=t[0],r[1]=f+l*M-m*h,r[2]=u+l*h+m*M,r}},3222:function(v){v.exports=p;function p(r,t,s,n){var f=s[0],u=s[2],l=t[0]-f,m=t[2]-u,h=Math.sin(n),M=Math.cos(n);return r[0]=f+m*h+l*M,r[1]=t[1],r[2]=u+m*M-l*h,r}},3388:function(v){v.exports=p;function p(r,t,s,n){var f=s[0],u=s[1],l=t[0]-f,m=t[1]-u,h=Math.sin(n),M=Math.cos(n);return r[0]=f+l*M-m*h,r[1]=u+l*h+m*M,r[2]=t[2],r}},1624:function(v){v.exports=p;function p(r,t){return r[0]=Math.round(t[0]),r[1]=Math.round(t[1]),r[2]=Math.round(t[2]),r}},5685:function(v){v.exports=p;function p(r,t,s){return r[0]=t[0]*s,r[1]=t[1]*s,r[2]=t[2]*s,r}},6722:function(v){v.exports=p;function p(r,t,s,n){return r[0]=t[0]+s[0]*n,r[1]=t[1]+s[1]*n,r[2]=t[2]+s[2]*n,r}},831:function(v){v.exports=p;function p(r,t,s,n){return r[0]=t,r[1]=s,r[2]=n,r}},5294:function(v,p,r){v.exports=r(6403)},3303:function(v,p,r){v.exports=r(4337)},6403:function(v){v.exports=p;function p(r,t){var s=t[0]-r[0],n=t[1]-r[1],f=t[2]-r[2];return s*s+n*n+f*f}},4337:function(v){v.exports=p;function p(r){var t=r[0],s=r[1],n=r[2];return t*t+s*s+n*n}},8921:function(v,p,r){v.exports=r(911)},911:function(v){v.exports=p;function p(r,t,s){return r[0]=t[0]-s[0],r[1]=t[1]-s[1],r[2]=t[2]-s[2],r}},9908:function(v){v.exports=p;function p(r,t,s){var n=t[0],f=t[1],u=t[2];return r[0]=n*s[0]+f*s[3]+u*s[6],r[1]=n*s[1]+f*s[4]+u*s[7],r[2]=n*s[2]+f*s[5]+u*s[8],r}},3255:function(v){v.exports=p;function p(r,t,s){var n=t[0],f=t[1],u=t[2],l=s[3]*n+s[7]*f+s[11]*u+s[15];return l=l||1,r[0]=(s[0]*n+s[4]*f+s[8]*u+s[12])/l,r[1]=(s[1]*n+s[5]*f+s[9]*u+s[13])/l,r[2]=(s[2]*n+s[6]*f+s[10]*u+s[14])/l,r}},6568:function(v){v.exports=p;function p(r,t,s){var n=t[0],f=t[1],u=t[2],l=s[0],m=s[1],h=s[2],M=s[3],c=M*n+m*u-h*f,i=M*f+h*n-l*u,d=M*u+l*f-m*n,b=-l*n-m*f-h*u;return r[0]=c*M+b*-l+i*-h-d*-m,r[1]=i*M+b*-m+d*-l-c*-h,r[2]=d*M+b*-h+c*-m-i*-l,r}},3433:function(v){v.exports=p;function p(r,t,s){return r[0]=t[0]+s[0],r[1]=t[1]+s[1],r[2]=t[2]+s[2],r[3]=t[3]+s[3],r}},1413:function(v){v.exports=p;function p(r){var t=new Float32Array(4);return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t}},3470:function(v){v.exports=p;function p(r,t){return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r}},5313:function(v){v.exports=p;function p(){var r=new Float32Array(4);return r[0]=0,r[1]=0,r[2]=0,r[3]=0,r}},5446:function(v){v.exports=p;function p(r,t){var s=t[0]-r[0],n=t[1]-r[1],f=t[2]-r[2],u=t[3]-r[3];return Math.sqrt(s*s+n*n+f*f+u*u)}},205:function(v){v.exports=p;function p(r,t,s){return r[0]=t[0]/s[0],r[1]=t[1]/s[1],r[2]=t[2]/s[2],r[3]=t[3]/s[3],r}},4242:function(v){v.exports=p;function p(r,t){return r[0]*t[0]+r[1]*t[1]+r[2]*t[2]+r[3]*t[3]}},5680:function(v){v.exports=p;function p(r,t,s,n){var f=new Float32Array(4);return f[0]=r,f[1]=t,f[2]=s,f[3]=n,f}},4020:function(v,p,r){v.exports={create:r(5313),clone:r(1413),fromValues:r(5680),copy:r(3470),set:r(6453),add:r(3433),subtract:r(2705),multiply:r(746),divide:r(205),min:r(2170),max:r(3030),scale:r(5510),scaleAndAdd:r(4224),distance:r(5446),squaredDistance:r(1542),length:r(8177),squaredLength:r(9037),negate:r(6459),inverse:r(8057),normalize:r(381),dot:r(4242),lerp:r(8746),random:r(3770),transformMat4:r(6342),transformQuat:r(5022)}},8057:function(v){v.exports=p;function p(r,t){return r[0]=1/t[0],r[1]=1/t[1],r[2]=1/t[2],r[3]=1/t[3],r}},8177:function(v){v.exports=p;function p(r){var t=r[0],s=r[1],n=r[2],f=r[3];return Math.sqrt(t*t+s*s+n*n+f*f)}},8746:function(v){v.exports=p;function p(r,t,s,n){var f=t[0],u=t[1],l=t[2],m=t[3];return r[0]=f+n*(s[0]-f),r[1]=u+n*(s[1]-u),r[2]=l+n*(s[2]-l),r[3]=m+n*(s[3]-m),r}},3030:function(v){v.exports=p;function p(r,t,s){return r[0]=Math.max(t[0],s[0]),r[1]=Math.max(t[1],s[1]),r[2]=Math.max(t[2],s[2]),r[3]=Math.max(t[3],s[3]),r}},2170:function(v){v.exports=p;function p(r,t,s){return r[0]=Math.min(t[0],s[0]),r[1]=Math.min(t[1],s[1]),r[2]=Math.min(t[2],s[2]),r[3]=Math.min(t[3],s[3]),r}},746:function(v){v.exports=p;function p(r,t,s){return r[0]=t[0]*s[0],r[1]=t[1]*s[1],r[2]=t[2]*s[2],r[3]=t[3]*s[3],r}},6459:function(v){v.exports=p;function p(r,t){return r[0]=-t[0],r[1]=-t[1],r[2]=-t[2],r[3]=-t[3],r}},381:function(v){v.exports=p;function p(r,t){var s=t[0],n=t[1],f=t[2],u=t[3],l=s*s+n*n+f*f+u*u;return l>0&&(l=1/Math.sqrt(l),r[0]=s*l,r[1]=n*l,r[2]=f*l,r[3]=u*l),r}},3770:function(v,p,r){var t=r(381),s=r(5510);v.exports=n;function n(f,u){return u=u||1,f[0]=Math.random(),f[1]=Math.random(),f[2]=Math.random(),f[3]=Math.random(),t(f,f),s(f,f,u),f}},5510:function(v){v.exports=p;function p(r,t,s){return r[0]=t[0]*s,r[1]=t[1]*s,r[2]=t[2]*s,r[3]=t[3]*s,r}},4224:function(v){v.exports=p;function p(r,t,s,n){return r[0]=t[0]+s[0]*n,r[1]=t[1]+s[1]*n,r[2]=t[2]+s[2]*n,r[3]=t[3]+s[3]*n,r}},6453:function(v){v.exports=p;function p(r,t,s,n,f){return r[0]=t,r[1]=s,r[2]=n,r[3]=f,r}},1542:function(v){v.exports=p;function p(r,t){var s=t[0]-r[0],n=t[1]-r[1],f=t[2]-r[2],u=t[3]-r[3];return s*s+n*n+f*f+u*u}},9037:function(v){v.exports=p;function p(r){var t=r[0],s=r[1],n=r[2],f=r[3];return t*t+s*s+n*n+f*f}},2705:function(v){v.exports=p;function p(r,t,s){return r[0]=t[0]-s[0],r[1]=t[1]-s[1],r[2]=t[2]-s[2],r[3]=t[3]-s[3],r}},6342:function(v){v.exports=p;function p(r,t,s){var n=t[0],f=t[1],u=t[2],l=t[3];return r[0]=s[0]*n+s[4]*f+s[8]*u+s[12]*l,r[1]=s[1]*n+s[5]*f+s[9]*u+s[13]*l,r[2]=s[2]*n+s[6]*f+s[10]*u+s[14]*l,r[3]=s[3]*n+s[7]*f+s[11]*u+s[15]*l,r}},5022:function(v){v.exports=p;function p(r,t,s){var n=t[0],f=t[1],u=t[2],l=s[0],m=s[1],h=s[2],M=s[3],c=M*n+m*u-h*f,i=M*f+h*n-l*u,d=M*u+l*f-m*n,b=-l*n-m*f-h*u;return r[0]=c*M+b*-l+i*-h-d*-m,r[1]=i*M+b*-m+d*-l-c*-h,r[2]=d*M+b*-h+c*-m-i*-l,r[3]=t[3],r}},9365:function(v,p,r){var t=r(8096),s=r(7896);v.exports=n;function n(f){for(var u=Array.isArray(f)?f:t(f),l=0;l<u.length;l++){var m=u[l];if(m.type==="preprocessor"){var h=m.data.match(/\#define\s+SHADER_NAME(_B64)?\s+(.+)$/);if(!!h&&!!h[2]){var M=h[1],c=h[2];return(M?s(c):c).trim()}}}}},3193:function(v,p,r){v.exports=x;var t=r(399),s=r(9746),n=r(9525),f=r(9458),u=r(3585),l=999,m=9999,h=0,M=1,c=2,i=3,d=4,b=5,w=6,E=7,y=8,S=9,T=10,o=11,P=["block-comment","line-comment","preprocessor","operator","integer","float","ident","builtin","keyword","whitespace","eof","integer"];function x(_){var I=0,N=0,k=l,F,O,z=[],B=[],W=1,q=0,ee=0,Q=!1,oe=!1,Z="",Y;_=_||{};var te=n,X=t;_.version==="300 es"&&(te=u,X=f);for(var $={},ie={},I=0;I<te.length;I++)$[te[I]]=!0;for(var I=0;I<X.length;I++)ie[X[I]]=!0;return function(Be){return B=[],Be!==null?j(Be):se()};function J(Be){Be.length&&B.push({type:P[k],data:Be,position:ee,line:W,column:q})}function j(Be){I=0,Be.toString&&(Be=Be.toString()),Z+=Be.replace(/\r\n/g,`
`),Y=Z.length;for(var _e;F=Z[I],I<Y;){switch(_e=I,k){case h:I=be();break;case M:I=Ae();break;case c:I=pe();break;case i:I=Re();break;case d:I=ye();break;case o:I=Me();break;case b:I=Se();break;case m:I=Fe();break;case S:I=le();break;case l:I=ne();break}if(_e!==I)switch(Z[_e]){case`
`:q=0,++W;break;default:++q;break}}return N+=I,Z=Z.slice(I),B}function se(Be){return z.length&&J(z.join("")),k=T,J("(eof)"),B}function ne(){return z=z.length?[]:z,O==="/"&&F==="*"?(ee=N+I-1,k=h,O=F,I+1):O==="/"&&F==="/"?(ee=N+I-1,k=M,O=F,I+1):F==="#"?(k=c,ee=N+I,I):/\s/.test(F)?(k=S,ee=N+I,I):(Q=/\d/.test(F),oe=/[^\w_]/.test(F),ee=N+I,k=Q?d:oe?i:m,I)}function le(){return/[^\s]/g.test(F)?(J(z.join("")),k=l,I):(z.push(F),O=F,I+1)}function pe(){return(F==="\r"||F===`
`)&&O!=="\\"?(J(z.join("")),k=l,I):(z.push(F),O=F,I+1)}function Ae(){return pe()}function be(){return F==="/"&&O==="*"?(z.push(F),J(z.join("")),k=l,I+1):(z.push(F),O=F,I+1)}function Re(){if(O==="."&&/\d/.test(F))return k=b,I;if(O==="/"&&F==="*")return k=h,I;if(O==="/"&&F==="/")return k=M,I;if(F==="."&&z.length){for(;xe(z););return k=b,I}if(F===";"||F===")"||F==="("){if(z.length)for(;xe(z););return J(F),k=l,I+1}var Be=z.length===2&&F!=="=";if(/[\w_\d\s]/.test(F)||Be){for(;xe(z););return k=l,I}return z.push(F),O=F,I+1}function xe(Be){var _e=0,Ue,it;do{if(Ue=s.indexOf(Be.slice(0,Be.length+_e).join("")),it=s[Ue],Ue===-1){if(_e--+Be.length>0)continue;it=Be.slice(0,1).join("")}return J(it),ee+=it.length,z=z.slice(it.length),z.length}while(1)}function Me(){return/[^a-fA-F0-9]/.test(F)?(J(z.join("")),k=l,I):(z.push(F),O=F,I+1)}function ye(){return F==="."||/[eE]/.test(F)?(z.push(F),k=b,O=F,I+1):F==="x"&&z.length===1&&z[0]==="0"?(k=o,z.push(F),O=F,I+1):/[^\d]/.test(F)?(J(z.join("")),k=l,I):(z.push(F),O=F,I+1)}function Se(){return F==="f"&&(z.push(F),O=F,I+=1),/[eE]/.test(F)||(F==="-"||F==="+")&&/[eE]/.test(O)?(z.push(F),O=F,I+1):/[^\d]/.test(F)?(J(z.join("")),k=l,I):(z.push(F),O=F,I+1)}function Fe(){if(/[^\d\w_]/.test(F)){var Be=z.join("");return ie[Be]?k=y:$[Be]?k=E:k=w,J(z.join("")),k=l,I}return z.push(F),O=F,I+1}}},3585:function(v,p,r){var t=r(9525);t=t.slice().filter(function(s){return!/^(gl\_|texture)/.test(s)}),v.exports=t.concat(["gl_VertexID","gl_InstanceID","gl_Position","gl_PointSize","gl_FragCoord","gl_FrontFacing","gl_FragDepth","gl_PointCoord","gl_MaxVertexAttribs","gl_MaxVertexUniformVectors","gl_MaxVertexOutputVectors","gl_MaxFragmentInputVectors","gl_MaxVertexTextureImageUnits","gl_MaxCombinedTextureImageUnits","gl_MaxTextureImageUnits","gl_MaxFragmentUniformVectors","gl_MaxDrawBuffers","gl_MinProgramTexelOffset","gl_MaxProgramTexelOffset","gl_DepthRangeParameters","gl_DepthRange","trunc","round","roundEven","isnan","isinf","floatBitsToInt","floatBitsToUint","intBitsToFloat","uintBitsToFloat","packSnorm2x16","unpackSnorm2x16","packUnorm2x16","unpackUnorm2x16","packHalf2x16","unpackHalf2x16","outerProduct","transpose","determinant","inverse","texture","textureSize","textureProj","textureLod","textureOffset","texelFetch","texelFetchOffset","textureProjOffset","textureLodOffset","textureProjLod","textureProjLodOffset","textureGrad","textureGradOffset","textureProjGrad","textureProjGradOffset"])},9525:function(v){v.exports=["abs","acos","all","any","asin","atan","ceil","clamp","cos","cross","dFdx","dFdy","degrees","distance","dot","equal","exp","exp2","faceforward","floor","fract","gl_BackColor","gl_BackLightModelProduct","gl_BackLightProduct","gl_BackMaterial","gl_BackSecondaryColor","gl_ClipPlane","gl_ClipVertex","gl_Color","gl_DepthRange","gl_DepthRangeParameters","gl_EyePlaneQ","gl_EyePlaneR","gl_EyePlaneS","gl_EyePlaneT","gl_Fog","gl_FogCoord","gl_FogFragCoord","gl_FogParameters","gl_FragColor","gl_FragCoord","gl_FragData","gl_FragDepth","gl_FragDepthEXT","gl_FrontColor","gl_FrontFacing","gl_FrontLightModelProduct","gl_FrontLightProduct","gl_FrontMaterial","gl_FrontSecondaryColor","gl_LightModel","gl_LightModelParameters","gl_LightModelProducts","gl_LightProducts","gl_LightSource","gl_LightSourceParameters","gl_MaterialParameters","gl_MaxClipPlanes","gl_MaxCombinedTextureImageUnits","gl_MaxDrawBuffers","gl_MaxFragmentUniformComponents","gl_MaxLights","gl_MaxTextureCoords","gl_MaxTextureImageUnits","gl_MaxTextureUnits","gl_MaxVaryingFloats","gl_MaxVertexAttribs","gl_MaxVertexTextureImageUnits","gl_MaxVertexUniformComponents","gl_ModelViewMatrix","gl_ModelViewMatrixInverse","gl_ModelViewMatrixInverseTranspose","gl_ModelViewMatrixTranspose","gl_ModelViewProjectionMatrix","gl_ModelViewProjectionMatrixInverse","gl_ModelViewProjectionMatrixInverseTranspose","gl_ModelViewProjectionMatrixTranspose","gl_MultiTexCoord0","gl_MultiTexCoord1","gl_MultiTexCoord2","gl_MultiTexCoord3","gl_MultiTexCoord4","gl_MultiTexCoord5","gl_MultiTexCoord6","gl_MultiTexCoord7","gl_Normal","gl_NormalMatrix","gl_NormalScale","gl_ObjectPlaneQ","gl_ObjectPlaneR","gl_ObjectPlaneS","gl_ObjectPlaneT","gl_Point","gl_PointCoord","gl_PointParameters","gl_PointSize","gl_Position","gl_ProjectionMatrix","gl_ProjectionMatrixInverse","gl_ProjectionMatrixInverseTranspose","gl_ProjectionMatrixTranspose","gl_SecondaryColor","gl_TexCoord","gl_TextureEnvColor","gl_TextureMatrix","gl_TextureMatrixInverse","gl_TextureMatrixInverseTranspose","gl_TextureMatrixTranspose","gl_Vertex","greaterThan","greaterThanEqual","inversesqrt","length","lessThan","lessThanEqual","log","log2","matrixCompMult","max","min","mix","mod","normalize","not","notEqual","pow","radians","reflect","refract","sign","sin","smoothstep","sqrt","step","tan","texture2D","texture2DLod","texture2DProj","texture2DProjLod","textureCube","textureCubeLod","texture2DLodEXT","texture2DProjLodEXT","textureCubeLodEXT","texture2DGradEXT","texture2DProjGradEXT","textureCubeGradEXT"]},9458:function(v,p,r){var t=r(399);v.exports=t.slice().concat(["layout","centroid","smooth","case","mat2x2","mat2x3","mat2x4","mat3x2","mat3x3","mat3x4","mat4x2","mat4x3","mat4x4","uvec2","uvec3","uvec4","samplerCubeShadow","sampler2DArray","sampler2DArrayShadow","isampler2D","isampler3D","isamplerCube","isampler2DArray","usampler2D","usampler3D","usamplerCube","usampler2DArray","coherent","restrict","readonly","writeonly","resource","atomic_uint","noperspective","patch","sample","subroutine","common","partition","active","filter","image1D","image2D","image3D","imageCube","iimage1D","iimage2D","iimage3D","iimageCube","uimage1D","uimage2D","uimage3D","uimageCube","image1DArray","image2DArray","iimage1DArray","iimage2DArray","uimage1DArray","uimage2DArray","image1DShadow","image2DShadow","image1DArrayShadow","image2DArrayShadow","imageBuffer","iimageBuffer","uimageBuffer","sampler1DArray","sampler1DArrayShadow","isampler1D","isampler1DArray","usampler1D","usampler1DArray","isampler2DRect","usampler2DRect","samplerBuffer","isamplerBuffer","usamplerBuffer","sampler2DMS","isampler2DMS","usampler2DMS","sampler2DMSArray","isampler2DMSArray","usampler2DMSArray"])},399:function(v){v.exports=["precision","highp","mediump","lowp","attribute","const","uniform","varying","break","continue","do","for","while","if","else","in","out","inout","float","int","uint","void","bool","true","false","discard","return","mat2","mat3","mat4","vec2","vec3","vec4","ivec2","ivec3","ivec4","bvec2","bvec3","bvec4","sampler1D","sampler2D","sampler3D","samplerCube","sampler1DShadow","sampler2DShadow","struct","asm","class","union","enum","typedef","template","this","packed","goto","switch","default","inline","noinline","volatile","public","static","extern","external","interface","long","short","double","half","fixed","unsigned","input","output","hvec2","hvec3","hvec4","dvec2","dvec3","dvec4","fvec2","fvec3","fvec4","sampler2DRect","sampler3DRect","sampler2DRectShadow","sizeof","cast","namespace","using"]},9746:function(v){v.exports=["<<=",">>=","++","--","<<",">>","<=",">=","==","!=","&&","||","+=","-=","*=","/=","%=","&=","^^","^=","|=","(",")","[","]",".","!","~","*","/","%","+","-","<",">","&","^","|","?",":","=",",",";","{","}"]},8096:function(v,p,r){var t=r(3193);v.exports=s;function s(n,f){var u=t(f),l=[];return l=l.concat(u(n)),l=l.concat(u(null)),l}},6832:function(v){v.exports=function(p){typeof p=="string"&&(p=[p]);for(var r=[].slice.call(arguments,1),t=[],s=0;s<p.length-1;s++)t.push(p[s],r[s]||"");return t.push(p[s]),t.join("")}},5233:function(v,p,r){var t=r(4846);function s(){var n=!1;try{var f=Object.defineProperty({},"passive",{get:function(){n=!0}});window.addEventListener("test",null,f),window.removeEventListener("test",null,f)}catch{n=!1}return n}v.exports=t&&s()},2183:function(v,p,r){v.exports=i;var t=r(417),s=r(8211).H;function n(d,b,w){this.vertices=d,this.adjacent=b,this.boundary=w,this.lastVisited=-1}n.prototype.flip=function(){var d=this.vertices[0];this.vertices[0]=this.vertices[1],this.vertices[1]=d;var b=this.adjacent[0];this.adjacent[0]=this.adjacent[1],this.adjacent[1]=b};function f(d,b,w){this.vertices=d,this.cell=b,this.index=w}function u(d,b){return s(d.vertices,b.vertices)}function l(d){return function(){var b=this.tuple;return d.apply(this,b)}}function m(d){var b=t[d+1];return b||(b=t),l(b)}var h=[];function M(d,b,w){this.dimension=d,this.vertices=b,this.simplices=w,this.interior=w.filter(function(S){return!S.boundary}),this.tuple=new Array(d+1);for(var E=0;E<=d;++E)this.tuple[E]=this.vertices[E];var y=h[d];y||(y=h[d]=m(d)),this.orient=y}var c=M.prototype;c.handleBoundaryDegeneracy=function(d,b){var w=this.dimension,E=this.vertices.length-1,y=this.tuple,S=this.vertices,T=[d];for(d.lastVisited=-E;T.length>0;){d=T.pop();for(var o=d.adjacent,P=0;P<=w;++P){var x=o[P];if(!(!x.boundary||x.lastVisited<=-E)){for(var _=x.vertices,I=0;I<=w;++I){var N=_[I];N<0?y[I]=b:y[I]=S[N]}var k=this.orient();if(k>0)return x;x.lastVisited=-E,k===0&&T.push(x)}}}return null},c.walk=function(d,b){var w=this.vertices.length-1,E=this.dimension,y=this.vertices,S=this.tuple,T=b?this.interior.length*Math.random()|0:this.interior.length-1,o=this.interior[T];e:for(;!o.boundary;){for(var P=o.vertices,x=o.adjacent,_=0;_<=E;++_)S[_]=y[P[_]];o.lastVisited=w;for(var _=0;_<=E;++_){var I=x[_];if(!(I.lastVisited>=w)){var N=S[_];S[_]=d;var k=this.orient();if(S[_]=N,k<0){o=I;continue e}else I.boundary?I.lastVisited=-w:I.lastVisited=w}}return}return o},c.addPeaks=function(d,b){var w=this.vertices.length-1,E=this.dimension,y=this.vertices,S=this.tuple,T=this.interior,o=this.simplices,P=[b];b.lastVisited=w,b.vertices[b.vertices.indexOf(-1)]=w,b.boundary=!1,T.push(b);for(var x=[];P.length>0;){var b=P.pop(),_=b.vertices,I=b.adjacent,N=_.indexOf(w);if(!(N<0)){for(var k=0;k<=E;++k)if(k!==N){var F=I[k];if(!(!F.boundary||F.lastVisited>=w)){var O=F.vertices;if(F.lastVisited!==-w){for(var z=0,B=0;B<=E;++B)O[B]<0?(z=B,S[B]=d):S[B]=y[O[B]];var W=this.orient();if(W>0){O[z]=w,F.boundary=!1,T.push(F),P.push(F),F.lastVisited=w;continue}else F.lastVisited=-w}var q=F.adjacent,ee=_.slice(),Q=I.slice(),oe=new n(ee,Q,!0);o.push(oe);var Z=q.indexOf(b);if(!(Z<0)){q[Z]=oe,Q[N]=F,ee[k]=-1,Q[k]=b,I[k]=oe,oe.flip();for(var B=0;B<=E;++B){var Y=ee[B];if(!(Y<0||Y===w)){for(var te=new Array(E-1),X=0,$=0;$<=E;++$){var ie=ee[$];ie<0||$===B||(te[X++]=ie)}x.push(new f(te,oe,B))}}}}}}}x.sort(u);for(var k=0;k+1<x.length;k+=2){var J=x[k],j=x[k+1],se=J.index,ne=j.index;se<0||ne<0||(J.cell.adjacent[J.index]=j.cell,j.cell.adjacent[j.index]=J.cell)}},c.insert=function(d,b){var w=this.vertices;w.push(d);var E=this.walk(d,b);if(!!E){for(var y=this.dimension,S=this.tuple,T=0;T<=y;++T){var o=E.vertices[T];o<0?S[T]=d:S[T]=w[o]}var P=this.orient(S);P<0||P===0&&(E=this.handleBoundaryDegeneracy(E,d),!E)||this.addPeaks(d,E)}},c.boundary=function(){for(var d=this.dimension,b=[],w=this.simplices,E=w.length,y=0;y<E;++y){var S=w[y];if(S.boundary){for(var T=new Array(d),o=S.vertices,P=0,x=0,_=0;_<=d;++_)o[_]>=0?T[P++]=o[_]:x=_&1;if(x===(d&1)){var I=T[0];T[0]=T[1],T[1]=I}b.push(T)}}return b};function i(d,b){var w=d.length;if(w===0)throw new Error("Must have at least d+1 points");var E=d[0].length;if(w<=E)throw new Error("Must input at least d+1 points");var y=d.slice(0,E+1),S=t.apply(void 0,y);if(S===0)throw new Error("Input not in general position");for(var T=new Array(E+1),o=0;o<=E;++o)T[o]=o;S<0&&(T[0]=1,T[1]=0);for(var P=new n(T,new Array(E+1),!1),x=P.adjacent,_=new Array(E+2),o=0;o<=E;++o){for(var I=T.slice(),N=0;N<=E;++N)N===o&&(I[N]=-1);var k=I[0];I[0]=I[1],I[1]=k;var F=new n(I,new Array(E+1),!0);x[o]=F,_[o]=F}_[E+1]=P;for(var o=0;o<=E;++o)for(var I=x[o].vertices,O=x[o].adjacent,N=0;N<=E;++N){var z=I[N];if(z<0){O[N]=P;continue}for(var B=0;B<=E;++B)x[B].vertices.indexOf(z)<0&&(O[N]=x[B])}for(var W=new M(E,y,_),q=!!b,o=E+1;o<w;++o)W.insert(d[o],q);return W.boundary()}},9014:function(v,p,r){var t=r(5070),s=0,n=1,f=2;v.exports=P;function u(x,_,I,N,k){this.mid=x,this.left=_,this.right=I,this.leftPoints=N,this.rightPoints=k,this.count=(_?_.count:0)+(I?I.count:0)+N.length}var l=u.prototype;function m(x,_){x.mid=_.mid,x.left=_.left,x.right=_.right,x.leftPoints=_.leftPoints,x.rightPoints=_.rightPoints,x.count=_.count}function h(x,_){var I=S(_);x.mid=I.mid,x.left=I.left,x.right=I.right,x.leftPoints=I.leftPoints,x.rightPoints=I.rightPoints,x.count=I.count}function M(x,_){var I=x.intervals([]);I.push(_),h(x,I)}function c(x,_){var I=x.intervals([]),N=I.indexOf(_);return N<0?s:(I.splice(N,1),h(x,I),n)}l.intervals=function(x){return x.push.apply(x,this.leftPoints),this.left&&this.left.intervals(x),this.right&&this.right.intervals(x),x},l.insert=function(x){var _=this.count-this.leftPoints.length;if(this.count+=1,x[1]<this.mid)this.left?4*(this.left.count+1)>3*(_+1)?M(this,x):this.left.insert(x):this.left=S([x]);else if(x[0]>this.mid)this.right?4*(this.right.count+1)>3*(_+1)?M(this,x):this.right.insert(x):this.right=S([x]);else{var I=t.ge(this.leftPoints,x,E),N=t.ge(this.rightPoints,x,y);this.leftPoints.splice(I,0,x),this.rightPoints.splice(N,0,x)}},l.remove=function(x){var _=this.count-this.leftPoints;if(x[1]<this.mid){if(!this.left)return s;var I=this.right?this.right.count:0;if(4*I>3*(_-1))return c(this,x);var N=this.left.remove(x);return N===f?(this.left=null,this.count-=1,n):(N===n&&(this.count-=1),N)}else if(x[0]>this.mid){if(!this.right)return s;var k=this.left?this.left.count:0;if(4*k>3*(_-1))return c(this,x);var N=this.right.remove(x);return N===f?(this.right=null,this.count-=1,n):(N===n&&(this.count-=1),N)}else{if(this.count===1)return this.leftPoints[0]===x?f:s;if(this.leftPoints.length===1&&this.leftPoints[0]===x){if(this.left&&this.right){for(var F=this,O=this.left;O.right;)F=O,O=O.right;if(F===this)O.right=this.right;else{var z=this.left,N=this.right;F.count-=O.count,F.right=O.left,O.left=z,O.right=N}m(this,O),this.count=(this.left?this.left.count:0)+(this.right?this.right.count:0)+this.leftPoints.length}else this.left?m(this,this.left):m(this,this.right);return n}for(var z=t.ge(this.leftPoints,x,E);z<this.leftPoints.length&&this.leftPoints[z][0]===x[0];++z)if(this.leftPoints[z]===x){this.count-=1,this.leftPoints.splice(z,1);for(var N=t.ge(this.rightPoints,x,y);N<this.rightPoints.length&&this.rightPoints[N][1]===x[1];++N)if(this.rightPoints[N]===x)return this.rightPoints.splice(N,1),n}return s}};function i(x,_,I){for(var N=0;N<x.length&&x[N][0]<=_;++N){var k=I(x[N]);if(k)return k}}function d(x,_,I){for(var N=x.length-1;N>=0&&x[N][1]>=_;--N){var k=I(x[N]);if(k)return k}}function b(x,_){for(var I=0;I<x.length;++I){var N=_(x[I]);if(N)return N}}l.queryPoint=function(x,_){if(x<this.mid){if(this.left){var I=this.left.queryPoint(x,_);if(I)return I}return i(this.leftPoints,x,_)}else if(x>this.mid){if(this.right){var I=this.right.queryPoint(x,_);if(I)return I}return d(this.rightPoints,x,_)}else return b(this.leftPoints,_)},l.queryInterval=function(x,_,I){if(x<this.mid&&this.left){var N=this.left.queryInterval(x,_,I);if(N)return N}if(_>this.mid&&this.right){var N=this.right.queryInterval(x,_,I);if(N)return N}return _<this.mid?i(this.leftPoints,_,I):x>this.mid?d(this.rightPoints,x,I):b(this.leftPoints,I)};function w(x,_){return x-_}function E(x,_){var I=x[0]-_[0];return I||x[1]-_[1]}function y(x,_){var I=x[1]-_[1];return I||x[0]-_[0]}function S(x){if(x.length===0)return null;for(var _=[],I=0;I<x.length;++I)_.push(x[I][0],x[I][1]);_.sort(w);for(var N=_[_.length>>1],k=[],F=[],O=[],I=0;I<x.length;++I){var z=x[I];z[1]<N?k.push(z):N<z[0]?F.push(z):O.push(z)}var B=O,W=O.slice();return B.sort(E),W.sort(y),new u(N,S(k),S(F),B,W)}function T(x){this.root=x}var o=T.prototype;o.insert=function(x){this.root?this.root.insert(x):this.root=new u(x[0],null,null,[x],[x])},o.remove=function(x){if(this.root){var _=this.root.remove(x);return _===f&&(this.root=null),_!==s}return!1},o.queryPoint=function(x,_){if(this.root)return this.root.queryPoint(x,_)},o.queryInterval=function(x,_,I){if(x<=_&&this.root)return this.root.queryInterval(x,_,I)},Object.defineProperty(o,"count",{get:function(){return this.root?this.root.count:0}}),Object.defineProperty(o,"intervals",{get:function(){return this.root?this.root.intervals([]):[]}});function P(x){return!x||x.length===0?new T(null):new T(S(x))}},9560:function(v){function p(r){for(var t=new Array(r),s=0;s<r;++s)t[s]=s;return t}v.exports=p},4846:function(v){v.exports=!0},4780:function(v){/*!
* Determine if an object is a Buffer
*
* @author   Feross Aboukhadijeh <https://feross.org>
* @license  MIT
*/v.exports=function(t){return t!=null&&(p(t)||r(t)||!!t._isBuffer)};function p(t){return!!t.constructor&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}function r(t){return typeof t.readFloatLE=="function"&&typeof t.slice=="function"&&p(t.slice(0,0))}},3596:function(v){v.exports=function(p){for(var r=p.length,t,s=0;s<r;s++)if(t=p.charCodeAt(s),(t<9||t>13)&&t!==32&&t!==133&&t!==160&&t!==5760&&t!==6158&&(t<8192||t>8205)&&t!==8232&&t!==8233&&t!==8239&&t!==8287&&t!==8288&&t!==12288&&t!==65279)return!1;return!0}},3578:function(v){function p(r,t,s){return r*(1-s)+t*s}v.exports=p},7191:function(v,p,r){var t=r(4690),s=r(9823),n=r(7332),f=r(7787),u=r(7437),l=r(2142),m={length:r(4693),normalize:r(899),dot:r(9305),cross:r(903)},h=s(),M=s(),c=[0,0,0,0],i=[[0,0,0],[0,0,0],[0,0,0]],d=[0,0,0];v.exports=function(S,T,o,P,x,_){if(T||(T=[0,0,0]),o||(o=[0,0,0]),P||(P=[0,0,0]),x||(x=[0,0,0,1]),_||(_=[0,0,0,1]),!t(h,S)||(n(M,h),M[3]=0,M[7]=0,M[11]=0,M[15]=1,Math.abs(f(M)<1e-8)))return!1;var I=h[3],N=h[7],k=h[11],F=h[12],O=h[13],z=h[14],B=h[15];if(I!==0||N!==0||k!==0){c[0]=I,c[1]=N,c[2]=k,c[3]=B;var W=u(M,M);if(!W)return!1;l(M,M),b(x,c,M)}else x[0]=x[1]=x[2]=0,x[3]=1;if(T[0]=F,T[1]=O,T[2]=z,w(i,h),o[0]=m.length(i[0]),m.normalize(i[0],i[0]),P[0]=m.dot(i[0],i[1]),E(i[1],i[1],i[0],1,-P[0]),o[1]=m.length(i[1]),m.normalize(i[1],i[1]),P[0]/=o[1],P[1]=m.dot(i[0],i[2]),E(i[2],i[2],i[0],1,-P[1]),P[2]=m.dot(i[1],i[2]),E(i[2],i[2],i[1],1,-P[2]),o[2]=m.length(i[2]),m.normalize(i[2],i[2]),P[1]/=o[2],P[2]/=o[2],m.cross(d,i[1],i[2]),m.dot(i[0],d)<0)for(var q=0;q<3;q++)o[q]*=-1,i[q][0]*=-1,i[q][1]*=-1,i[q][2]*=-1;return _[0]=.5*Math.sqrt(Math.max(1+i[0][0]-i[1][1]-i[2][2],0)),_[1]=.5*Math.sqrt(Math.max(1-i[0][0]+i[1][1]-i[2][2],0)),_[2]=.5*Math.sqrt(Math.max(1-i[0][0]-i[1][1]+i[2][2],0)),_[3]=.5*Math.sqrt(Math.max(1+i[0][0]+i[1][1]+i[2][2],0)),i[2][1]>i[1][2]&&(_[0]=-_[0]),i[0][2]>i[2][0]&&(_[1]=-_[1]),i[1][0]>i[0][1]&&(_[2]=-_[2]),!0};function b(y,S,T){var o=S[0],P=S[1],x=S[2],_=S[3];return y[0]=T[0]*o+T[4]*P+T[8]*x+T[12]*_,y[1]=T[1]*o+T[5]*P+T[9]*x+T[13]*_,y[2]=T[2]*o+T[6]*P+T[10]*x+T[14]*_,y[3]=T[3]*o+T[7]*P+T[11]*x+T[15]*_,y}function w(y,S){y[0][0]=S[0],y[0][1]=S[1],y[0][2]=S[2],y[1][0]=S[4],y[1][1]=S[5],y[1][2]=S[6],y[2][0]=S[8],y[2][1]=S[9],y[2][2]=S[10]}function E(y,S,T,o,P){y[0]=S[0]*o+T[0]*P,y[1]=S[1]*o+T[1]*P,y[2]=S[2]*o+T[2]*P}},4690:function(v){v.exports=function(r,t){var s=t[15];if(s===0)return!1;for(var n=1/s,f=0;f<16;f++)r[f]=t[f]*n;return!0}},7649:function(v,p,r){var t=r(1868),s=r(1102),n=r(7191),f=r(7787),u=r(1116),l=c(),m=c(),h=c();v.exports=M;function M(b,w,E,y){if(f(w)===0||f(E)===0)return!1;var S=n(w,l.translate,l.scale,l.skew,l.perspective,l.quaternion),T=n(E,m.translate,m.scale,m.skew,m.perspective,m.quaternion);return!S||!T?!1:(t(h.translate,l.translate,m.translate,y),t(h.skew,l.skew,m.skew,y),t(h.scale,l.scale,m.scale,y),t(h.perspective,l.perspective,m.perspective,y),u(h.quaternion,l.quaternion,m.quaternion,y),s(b,h.translate,h.scale,h.skew,h.perspective,h.quaternion),!0)}function c(){return{translate:i(),scale:i(1),skew:i(),perspective:d(),quaternion:d()}}function i(b){return[b||0,b||0,b||0]}function d(){return[0,0,0,1]}},1102:function(v,p,r){var t={identity:r(9947),translate:r(998),multiply:r(104),create:r(9823),scale:r(3668),fromRotationTranslation:r(7280)};t.create();var s=t.create();v.exports=function(f,u,l,m,h,M){return t.identity(f),t.fromRotationTranslation(f,M,u),f[3]=h[0],f[7]=h[1],f[11]=h[2],f[15]=h[3],t.identity(s),m[2]!==0&&(s[9]=m[2],t.multiply(f,f,s)),m[1]!==0&&(s[9]=0,s[8]=m[1],t.multiply(f,f,s)),m[0]!==0&&(s[8]=0,s[4]=m[0],t.multiply(f,f,s)),t.scale(f,f,l),f}},9298:function(v,p,r){var t=r(5070),s=r(7649),n=r(7437),f=r(6109),u=r(7115),l=r(5240),m=r(3012),h=r(998);r(3668);var M=r(899),c=[0,0,0];v.exports=w;function i(E){this._components=E.slice(),this._time=[0],this.prevMatrix=E.slice(),this.nextMatrix=E.slice(),this.computedMatrix=E.slice(),this.computedInverse=E.slice(),this.computedEye=[0,0,0],this.computedUp=[0,0,0],this.computedCenter=[0,0,0],this.computedRadius=[0],this._limits=[-1/0,1/0]}var d=i.prototype;d.recalcMatrix=function(E){var y=this._time,S=t.le(y,E),T=this.computedMatrix;if(!(S<0)){var o=this._components;if(S===y.length-1)for(var P=16*S,x=0;x<16;++x)T[x]=o[P++];else{for(var _=y[S+1]-y[S],P=16*S,I=this.prevMatrix,N=!0,x=0;x<16;++x)I[x]=o[P++];for(var k=this.nextMatrix,x=0;x<16;++x)k[x]=o[P++],N=N&&I[x]===k[x];if(_<1e-6||N)for(var x=0;x<16;++x)T[x]=I[x];else s(T,I,k,(E-y[S])/_)}var F=this.computedUp;F[0]=T[1],F[1]=T[5],F[2]=T[9],M(F,F);var O=this.computedInverse;n(O,T);var z=this.computedEye,B=O[15];z[0]=O[12]/B,z[1]=O[13]/B,z[2]=O[14]/B;for(var W=this.computedCenter,q=Math.exp(this.computedRadius[0]),x=0;x<3;++x)W[x]=z[x]-T[2+4*x]*q}},d.idle=function(E){if(!(E<this.lastT())){for(var y=this._components,S=y.length-16,T=0;T<16;++T)y.push(y[S++]);this._time.push(E)}},d.flush=function(E){var y=t.gt(this._time,E)-2;y<0||(this._time.splice(0,y),this._components.splice(0,16*y))},d.lastT=function(){return this._time[this._time.length-1]},d.lookAt=function(E,y,S,T){this.recalcMatrix(E),y=y||this.computedEye,S=S||c,T=T||this.computedUp,this.setMatrix(E,m(this.computedMatrix,y,S,T));for(var o=0,P=0;P<3;++P)o+=Math.pow(S[P]-y[P],2);o=Math.log(Math.sqrt(o)),this.computedRadius[0]=o},d.rotate=function(E,y,S,T){this.recalcMatrix(E);var o=this.computedInverse;y&&u(o,o,y),S&&f(o,o,S),T&&l(o,o,T),this.setMatrix(E,n(this.computedMatrix,o))};var b=[0,0,0];d.pan=function(E,y,S,T){b[0]=-(y||0),b[1]=-(S||0),b[2]=-(T||0),this.recalcMatrix(E);var o=this.computedInverse;h(o,o,b),this.setMatrix(E,n(o,o))},d.translate=function(E,y,S,T){b[0]=y||0,b[1]=S||0,b[2]=T||0,this.recalcMatrix(E);var o=this.computedMatrix;h(o,o,b),this.setMatrix(E,o)},d.setMatrix=function(E,y){if(!(E<this.lastT())){this._time.push(E);for(var S=0;S<16;++S)this._components.push(y[S])}},d.setDistance=function(E,y){this.computedRadius[0]=y},d.setDistanceLimits=function(E,y){var S=this._limits;S[0]=E,S[1]=y},d.getDistanceLimits=function(E){var y=this._limits;return E?(E[0]=y[0],E[1]=y[1],E):y};function w(E){E=E||{};var y=E.matrix||[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return new i(y)}},3266:function(v,p,r){v.exports=s;var t=r(417)[3];function s(n){var f=n.length;if(f<3){for(var d=new Array(f),u=0;u<f;++u)d[u]=u;return f===2&&n[0][0]===n[1][0]&&n[0][1]===n[1][1]?[0]:d}for(var l=new Array(f),u=0;u<f;++u)l[u]=u;l.sort(function(y,S){var T=n[y][0]-n[S][0];return T||n[y][1]-n[S][1]});for(var m=[l[0],l[1]],h=[l[0],l[1]],u=2;u<f;++u){for(var M=l[u],c=n[M],i=m.length;i>1&&t(n[m[i-2]],n[m[i-1]],c)<=0;)i-=1,m.pop();for(m.push(M),i=h.length;i>1&&t(n[h[i-2]],n[h[i-1]],c)>=0;)i-=1,h.pop();h.push(M)}for(var d=new Array(h.length+m.length-2),b=0,u=0,w=m.length;u<w;++u)d[b++]=m[u];for(var E=h.length-2;E>0;--E)d[b++]=h[E];return d}},6145:function(v,p,r){v.exports=s;var t=r(4110);function s(n,f){f||(f=n,n=window);var u=0,l=0,m=0,h={shift:!1,alt:!1,control:!1,meta:!1},M=!1;function c(x){var _=!1;return"altKey"in x&&(_=_||x.altKey!==h.alt,h.alt=!!x.altKey),"shiftKey"in x&&(_=_||x.shiftKey!==h.shift,h.shift=!!x.shiftKey),"ctrlKey"in x&&(_=_||x.ctrlKey!==h.control,h.control=!!x.ctrlKey),"metaKey"in x&&(_=_||x.metaKey!==h.meta,h.meta=!!x.metaKey),_}function i(x,_){var I=t.x(_),N=t.y(_);"buttons"in _&&(x=_.buttons|0),(x!==u||I!==l||N!==m||c(_))&&(u=x|0,l=I||0,m=N||0,f&&f(u,l,m,h))}function d(x){i(0,x)}function b(){(u||l||m||h.shift||h.alt||h.meta||h.control)&&(l=m=0,u=0,h.shift=h.alt=h.control=h.meta=!1,f&&f(0,0,0,h))}function w(x){c(x)&&f&&f(u,l,m,h)}function E(x){t.buttons(x)===0?i(0,x):i(u,x)}function y(x){i(u|t.buttons(x),x)}function S(x){i(u&~t.buttons(x),x)}function T(){M||(M=!0,n.addEventListener("mousemove",E),n.addEventListener("mousedown",y),n.addEventListener("mouseup",S),n.addEventListener("mouseleave",d),n.addEventListener("mouseenter",d),n.addEventListener("mouseout",d),n.addEventListener("mouseover",d),n.addEventListener("blur",b),n.addEventListener("keyup",w),n.addEventListener("keydown",w),n.addEventListener("keypress",w),n!==window&&(window.addEventListener("blur",b),window.addEventListener("keyup",w),window.addEventListener("keydown",w),window.addEventListener("keypress",w)))}function o(){!M||(M=!1,n.removeEventListener("mousemove",E),n.removeEventListener("mousedown",y),n.removeEventListener("mouseup",S),n.removeEventListener("mouseleave",d),n.removeEventListener("mouseenter",d),n.removeEventListener("mouseout",d),n.removeEventListener("mouseover",d),n.removeEventListener("blur",b),n.removeEventListener("keyup",w),n.removeEventListener("keydown",w),n.removeEventListener("keypress",w),n!==window&&(window.removeEventListener("blur",b),window.removeEventListener("keyup",w),window.removeEventListener("keydown",w),window.removeEventListener("keypress",w)))}T();var P={element:n};return Object.defineProperties(P,{enabled:{get:function(){return M},set:function(x){x?T():o()},enumerable:!0},buttons:{get:function(){return u},enumerable:!0},x:{get:function(){return l},enumerable:!0},y:{get:function(){return m},enumerable:!0},mods:{get:function(){return h},enumerable:!0}}),P}},2565:function(v){var p={left:0,top:0};v.exports=r;function r(s,n,f){n=n||s.currentTarget||s.srcElement,Array.isArray(f)||(f=[0,0]);var u=s.clientX||0,l=s.clientY||0,m=t(n);return f[0]=u-m.left,f[1]=l-m.top,f}function t(s){return s===window||s===document||s===document.body?p:s.getBoundingClientRect()}},4110:function(v,p){function r(f){if(typeof f=="object"){if("buttons"in f)return f.buttons;if("which"in f){var u=f.which;if(u===2)return 4;if(u===3)return 2;if(u>0)return 1<<u-1}else if("button"in f){var u=f.button;if(u===1)return 4;if(u===2)return 2;if(u>=0)return 1<<u}}return 0}p.buttons=r;function t(f){return f.target||f.srcElement||window}p.element=t;function s(f){if(typeof f=="object"){if("offsetX"in f)return f.offsetX;var u=t(f),l=u.getBoundingClientRect();return f.clientX-l.left}return 0}p.x=s;function n(f){if(typeof f=="object"){if("offsetY"in f)return f.offsetY;var u=t(f),l=u.getBoundingClientRect();return f.clientY-l.top}return 0}p.y=n},6475:function(v,p,r){var t=r(14);v.exports=s;function s(n,f,u){typeof n=="function"&&(u=!!f,f=n,n=window);var l=t("ex",n),m=function(h){u&&h.preventDefault();var M=h.deltaX||0,c=h.deltaY||0,i=h.deltaZ||0,d=h.deltaMode,b=1;switch(d){case 1:b=l;break;case 2:b=window.innerHeight;break}if(M*=b,c*=b,i*=b,M||c||i)return f(M,c,i,h)};return n.addEventListener("wheel",m),m}},9284:function(v,p,r){var t=r(5306);v.exports=f;var s={"false,0,1":function(l,m,h,M,c){return function(d,b,w,E){var y=d.shape[0]|0,S=d.shape[1]|0,T=d.data,o=d.offset|0,P=d.stride[0]|0,x=d.stride[1]|0,_=o,I,N=-P|0,k=0,F=-x|0,O=0,z=-P-x|0,B=0,W=P|0,q=x-P*y|0,ee=0,Q=0,oe=0,Z=2*y|0,Y=M(Z),te=M(Z),X=0,$=0,ie=-1,J=-1,j=0,se=-y|0,ne=y|0,le=0,pe=-y-1|0,Ae=y-1|0,be=0,Re=0,xe=0;for(ee=0;ee<y;++ee)Y[X++]=h(T[_],b,w,E),_+=W;if(_+=q,S>0){if(Q=1,Y[X++]=h(T[_],b,w,E),_+=W,y>0)for(ee=1,I=T[_],$=Y[X]=h(I,b,w,E),j=Y[X+ie],le=Y[X+se],be=Y[X+pe],($!==j||$!==le||$!==be)&&(k=T[_+N],O=T[_+F],B=T[_+z],l(ee,Q,I,k,O,B,$,j,le,be,b,w,E),Re=te[X]=oe++),X+=1,_+=W,ee=2;ee<y;++ee)I=T[_],$=Y[X]=h(I,b,w,E),j=Y[X+ie],le=Y[X+se],be=Y[X+pe],($!==j||$!==le||$!==be)&&(k=T[_+N],O=T[_+F],B=T[_+z],l(ee,Q,I,k,O,B,$,j,le,be,b,w,E),Re=te[X]=oe++,be!==j&&m(te[X+ie],Re,B,k,be,j,b,w,E)),X+=1,_+=W;for(_+=q,X=0,xe=ie,ie=J,J=xe,xe=se,se=ne,ne=xe,xe=pe,pe=Ae,Ae=xe,Q=2;Q<S;++Q){if(Y[X++]=h(T[_],b,w,E),_+=W,y>0)for(ee=1,I=T[_],$=Y[X]=h(I,b,w,E),j=Y[X+ie],le=Y[X+se],be=Y[X+pe],($!==j||$!==le||$!==be)&&(k=T[_+N],O=T[_+F],B=T[_+z],l(ee,Q,I,k,O,B,$,j,le,be,b,w,E),Re=te[X]=oe++,be!==le&&m(te[X+se],Re,O,B,le,be,b,w,E)),X+=1,_+=W,ee=2;ee<y;++ee)I=T[_],$=Y[X]=h(I,b,w,E),j=Y[X+ie],le=Y[X+se],be=Y[X+pe],($!==j||$!==le||$!==be)&&(k=T[_+N],O=T[_+F],B=T[_+z],l(ee,Q,I,k,O,B,$,j,le,be,b,w,E),Re=te[X]=oe++,be!==le&&m(te[X+se],Re,O,B,le,be,b,w,E),be!==j&&m(te[X+ie],Re,B,k,be,j,b,w,E)),X+=1,_+=W;Q&1&&(X=0),xe=ie,ie=J,J=xe,xe=se,se=ne,ne=xe,xe=pe,pe=Ae,Ae=xe,_+=q}}c(te),c(Y)}},"false,1,0":function(l,m,h,M,c){return function(d,b,w,E){var y=d.shape[0]|0,S=d.shape[1]|0,T=d.data,o=d.offset|0,P=d.stride[0]|0,x=d.stride[1]|0,_=o,I,N=-P|0,k=0,F=-x|0,O=0,z=-P-x|0,B=0,W=x|0,q=P-x*S|0,ee=0,Q=0,oe=0,Z=2*S|0,Y=M(Z),te=M(Z),X=0,$=0,ie=-1,J=-1,j=0,se=-S|0,ne=S|0,le=0,pe=-S-1|0,Ae=S-1|0,be=0,Re=0,xe=0;for(Q=0;Q<S;++Q)Y[X++]=h(T[_],b,w,E),_+=W;if(_+=q,y>0){if(ee=1,Y[X++]=h(T[_],b,w,E),_+=W,S>0)for(Q=1,I=T[_],$=Y[X]=h(I,b,w,E),le=Y[X+se],j=Y[X+ie],be=Y[X+pe],($!==le||$!==j||$!==be)&&(k=T[_+N],O=T[_+F],B=T[_+z],l(ee,Q,I,k,O,B,$,le,j,be,b,w,E),Re=te[X]=oe++),X+=1,_+=W,Q=2;Q<S;++Q)I=T[_],$=Y[X]=h(I,b,w,E),le=Y[X+se],j=Y[X+ie],be=Y[X+pe],($!==le||$!==j||$!==be)&&(k=T[_+N],O=T[_+F],B=T[_+z],l(ee,Q,I,k,O,B,$,le,j,be,b,w,E),Re=te[X]=oe++,be!==j&&m(te[X+ie],Re,O,B,j,be,b,w,E)),X+=1,_+=W;for(_+=q,X=0,xe=se,se=ne,ne=xe,xe=ie,ie=J,J=xe,xe=pe,pe=Ae,Ae=xe,ee=2;ee<y;++ee){if(Y[X++]=h(T[_],b,w,E),_+=W,S>0)for(Q=1,I=T[_],$=Y[X]=h(I,b,w,E),le=Y[X+se],j=Y[X+ie],be=Y[X+pe],($!==le||$!==j||$!==be)&&(k=T[_+N],O=T[_+F],B=T[_+z],l(ee,Q,I,k,O,B,$,le,j,be,b,w,E),Re=te[X]=oe++,be!==le&&m(te[X+se],Re,B,k,be,le,b,w,E)),X+=1,_+=W,Q=2;Q<S;++Q)I=T[_],$=Y[X]=h(I,b,w,E),le=Y[X+se],j=Y[X+ie],be=Y[X+pe],($!==le||$!==j||$!==be)&&(k=T[_+N],O=T[_+F],B=T[_+z],l(ee,Q,I,k,O,B,$,le,j,be,b,w,E),Re=te[X]=oe++,be!==j&&m(te[X+ie],Re,O,B,j,be,b,w,E),be!==le&&m(te[X+se],Re,B,k,be,le,b,w,E)),X+=1,_+=W;ee&1&&(X=0),xe=se,se=ne,ne=xe,xe=ie,ie=J,J=xe,xe=pe,pe=Ae,Ae=xe,_+=q}}c(te),c(Y)}}};function n(u,l,m,h,M,c){var i=[c,M].join(","),d=s[i];return d(u,l,m,t.mallocUint32,t.freeUint32)}function f(u){function l(b){throw new Error("ndarray-extract-contour: "+b)}typeof u!="object"&&l("Must specify arguments");var m=u.order;Array.isArray(m)||l("Must specify order");var h=u.arrayArguments||1;h<1&&l("Must have at least one array argument");var M=u.scalarArguments||0;M<0&&l("Scalar arg count must be > 0"),typeof u.vertex!="function"&&l("Must specify vertex creation function"),typeof u.cell!="function"&&l("Must specify cell creation function"),typeof u.phase!="function"&&l("Must specify phase function");for(var c=u.getters||[],i=new Array(h),d=0;d<h;++d)c.indexOf(d)>=0?i[d]=!0:i[d]=!1;return n(u.vertex,u.cell,u.phase,M,m,i)}},9144:function(v,p,r){var t=r(3094),s={zero:function(w,E,y,S){var T=w[0],o=y[0];S|=0;var P=0,x=o;for(P=0;P<T;++P)E[S]=0,S+=x},fdTemplate1:function(w,E,y,S,T,o,P){var x=w[0],_=y[0],I=o[0],N=-1*_,k=_;S|=0,P|=0;var F=0,O=_,z=I;for(F=0;F<x;++F)T[P]=.5*(E[S+N]-E[S+k]),S+=O,P+=z},fdTemplate2:function(w,E,y,S,T,o,P,x,_,I){var N=w[0],k=w[1],F=y[0],O=y[1],z=o[0],B=o[1],W=_[0],q=_[1],ee=-1*F,Q=F,oe=-1*O,Z=O;S|=0,P|=0,I|=0;var Y=0,te=0,X=O,$=F-k*O,ie=B,J=z-k*B,j=q,se=W-k*q;for(te=0;te<N;++te){for(Y=0;Y<k;++Y)T[P]=.5*(E[S+ee]-E[S+Q]),x[I]=.5*(E[S+oe]-E[S+Z]),S+=X,P+=ie,I+=j;S+=$,P+=J,I+=se}}},n={cdiff:function(w){var E={};return function(S,T,o){var P=S.dtype,x=S.order,_=T.dtype,I=T.order,N=o.dtype,k=o.order,F=[P,x.join(),_,I.join(),N,k.join()].join(),O=E[F];return O||(E[F]=O=w([P,x,_,I,N,k])),O(S.shape.slice(0),S.data,S.stride,S.offset|0,T.data,T.stride,T.offset|0,o.data,o.stride,o.offset|0)}},zero:function(w){var E={};return function(S){var T=S.dtype,o=S.order,P=[T,o.join()].join(),x=E[P];return x||(E[P]=x=w([T,o])),x(S.shape.slice(0),S.data,S.stride,S.offset|0)}},fdTemplate1:function(w){var E={};return function(S,T){var o=S.dtype,P=S.order,x=T.dtype,_=T.order,I=[o,P.join(),x,_.join()].join(),N=E[I];return N||(E[I]=N=w([o,P,x,_])),N(S.shape.slice(0),S.data,S.stride,S.offset|0,T.data,T.stride,T.offset|0)}},fdTemplate2:function(w){var E={};return function(S,T,o){var P=S.dtype,x=S.order,_=T.dtype,I=T.order,N=o.dtype,k=o.order,F=[P,x.join(),_,I.join(),N,k.join()].join(),O=E[F];return O||(E[F]=O=w([P,x,_,I,N,k])),O(S.shape.slice(0),S.data,S.stride,S.offset|0,T.data,T.stride,T.offset|0,o.data,o.stride,o.offset|0)}}};function f(w){var E=n[w.funcName];return E(u.bind(void 0,w))}function u(w){return s[w.funcName]}function l(w){return f({funcName:w.funcName})}var m={},h={},M=l({funcName:"cdiff"}),c=l({funcName:"zero"});function i(w){return w in m?m[w]:m[w]=l({funcName:"fdTemplate"+w})}function d(w,E,y,S){return function(T,o){var P=o.shape.slice();return P[0]>2&&P[1]>2&&S(o.pick(-1,-1).lo(1,1).hi(P[0]-2,P[1]-2),T.pick(-1,-1,0).lo(1,1).hi(P[0]-2,P[1]-2),T.pick(-1,-1,1).lo(1,1).hi(P[0]-2,P[1]-2)),P[1]>2&&(y(o.pick(0,-1).lo(1).hi(P[1]-2),T.pick(0,-1,1).lo(1).hi(P[1]-2)),E(T.pick(0,-1,0).lo(1).hi(P[1]-2))),P[1]>2&&(y(o.pick(P[0]-1,-1).lo(1).hi(P[1]-2),T.pick(P[0]-1,-1,1).lo(1).hi(P[1]-2)),E(T.pick(P[0]-1,-1,0).lo(1).hi(P[1]-2))),P[0]>2&&(y(o.pick(-1,0).lo(1).hi(P[0]-2),T.pick(-1,0,0).lo(1).hi(P[0]-2)),E(T.pick(-1,0,1).lo(1).hi(P[0]-2))),P[0]>2&&(y(o.pick(-1,P[1]-1).lo(1).hi(P[0]-2),T.pick(-1,P[1]-1,0).lo(1).hi(P[0]-2)),E(T.pick(-1,P[1]-1,1).lo(1).hi(P[0]-2))),T.set(0,0,0,0),T.set(0,0,1,0),T.set(P[0]-1,0,0,0),T.set(P[0]-1,0,1,0),T.set(0,P[1]-1,0,0),T.set(0,P[1]-1,1,0),T.set(P[0]-1,P[1]-1,0,0),T.set(P[0]-1,P[1]-1,1,0),T}}function b(w){var E=w.join(),P=h[E];if(P)return P;for(var y=w.length,S=[M,c],T=1;T<=y;++T)S.push(i(T));var o=d,P=o.apply(void 0,S);return h[E]=P,P}v.exports=function(E,y,S){if(Array.isArray(S)||(typeof S=="string"?S=t(y.dimension,S):S=t(y.dimension,"clamp")),y.size===0)return E;if(y.dimension===0)return E.set(0),E;var T=b(S);return T(E,y)}},3581:function(v){function p(f,u){var l=Math.floor(u),m=u-l,h=0<=l&&l<f.shape[0],M=0<=l+1&&l+1<f.shape[0],c=h?+f.get(l):0,i=M?+f.get(l+1):0;return(1-m)*c+m*i}function r(f,u,l){var m=Math.floor(u),h=u-m,M=0<=m&&m<f.shape[0],c=0<=m+1&&m+1<f.shape[0],i=Math.floor(l),d=l-i,b=0<=i&&i<f.shape[1],w=0<=i+1&&i+1<f.shape[1],E=M&&b?f.get(m,i):0,y=M&&w?f.get(m,i+1):0,S=c&&b?f.get(m+1,i):0,T=c&&w?f.get(m+1,i+1):0;return(1-d)*((1-h)*E+h*S)+d*((1-h)*y+h*T)}function t(f,u,l,m){var h=Math.floor(u),M=u-h,c=0<=h&&h<f.shape[0],i=0<=h+1&&h+1<f.shape[0],d=Math.floor(l),b=l-d,w=0<=d&&d<f.shape[1],E=0<=d+1&&d+1<f.shape[1],y=Math.floor(m),S=m-y,T=0<=y&&y<f.shape[2],o=0<=y+1&&y+1<f.shape[2],P=c&&w&&T?f.get(h,d,y):0,x=c&&E&&T?f.get(h,d+1,y):0,_=i&&w&&T?f.get(h+1,d,y):0,I=i&&E&&T?f.get(h+1,d+1,y):0,N=c&&w&&o?f.get(h,d,y+1):0,k=c&&E&&o?f.get(h,d+1,y+1):0,F=i&&w&&o?f.get(h+1,d,y+1):0,O=i&&E&&o?f.get(h+1,d+1,y+1):0;return(1-S)*((1-b)*((1-M)*P+M*_)+b*((1-M)*x+M*I))+S*((1-b)*((1-M)*N+M*F)+b*((1-M)*k+M*O))}function s(f){var u=f.shape.length|0,l=new Array(u),m=new Array(u),h=new Array(u),M=new Array(u),c,i;for(c=0;c<u;++c)i=+arguments[c+1],l[c]=Math.floor(i),m[c]=i-l[c],h[c]=0<=l[c]&&l[c]<f.shape[c],M[c]=0<=l[c]+1&&l[c]+1<f.shape[c];var d=0,b,w,E;e:for(c=0;c<1<<u;++c){for(w=1,E=f.offset,b=0;b<u;++b)if(c&1<<b){if(!M[b])continue e;w*=m[b],E+=f.stride[b]*(l[b]+1)}else{if(!h[b])continue e;w*=1-m[b],E+=f.stride[b]*l[b]}d+=w*f.data[E]}return d}function n(f,u,l,m){switch(f.shape.length){case 0:return 0;case 1:return p(f,u);case 2:return r(f,u,l);case 3:return t(f,u,l,m);default:return s.apply(void 0,arguments)}}v.exports=n,v.exports.d1=p,v.exports.d2=r,v.exports.d3=t},7498:function(v,p){var r={"float64,2,1,0":function(){return function(h,M,c,i,d){var b=h[0],w=h[1],E=h[2],y=c[0],S=c[1],T=c[2];i|=0;var o=0,P=0,x=0,_=T,I=S-E*T,N=y-w*S;for(x=0;x<b;++x){for(P=0;P<w;++P){for(o=0;o<E;++o)M[i]/=d,i+=_;i+=I}i+=N}}},"uint8,2,0,1,float64,2,1,0":function(){return function(h,M,c,i,d,b,w,E){var y=h[0],S=h[1],T=h[2],o=c[0],P=c[1],x=c[2],_=b[0],I=b[1],N=b[2];i|=0,w|=0;for(var k=i,F=w,O=h[0]|0;O>0;){O<64?(y=O,O=0):(y=64,O-=64);for(var z=h[1]|0;z>0;){z<64?(S=z,z=0):(S=64,z-=64),i=k+O*o+z*P,w=F+O*_+z*I;var B=0,W=0,q=0,ee=x,Q=o-T*x,oe=P-y*o,Z=N,Y=_-T*N,te=I-y*_;for(q=0;q<S;++q){for(W=0;W<y;++W){for(B=0;B<T;++B)M[i]=d[w]*E,i+=ee,w+=Z;i+=Q,w+=Y}i+=oe,w+=te}}}}},"float32,1,0,float32,1,0":function(){return function(h,M,c,i,d,b,w){var E=h[0],y=h[1],S=c[0],T=c[1],o=b[0],P=b[1];i|=0,w|=0;var x=0,_=0,I=T,N=S-y*T,k=P,F=o-y*P;for(_=0;_<E;++_){for(x=0;x<y;++x)M[i]=d[w],i+=I,w+=k;i+=N,w+=F}}},"float32,1,0,float32,0,1":function(){return function(h,M,c,i,d,b,w){var E=h[0],y=h[1],S=c[0],T=c[1],o=b[0],P=b[1];i|=0,w|=0;for(var x=i,_=w,I=h[1]|0;I>0;){I<64?(y=I,I=0):(y=64,I-=64);for(var N=h[0]|0;N>0;){N<64?(E=N,N=0):(E=64,N-=64),i=x+I*T+N*S,w=_+I*P+N*o;var k=0,F=0,O=T,z=S-y*T,B=P,W=o-y*P;for(F=0;F<E;++F){for(k=0;k<y;++k)M[i]=d[w],i+=O,w+=B;i+=z,w+=W}}}}},"uint8,2,0,1,uint8,1,2,0":function(){return function(h,M,c,i,d,b,w){var E=h[0],y=h[1],S=h[2],T=c[0],o=c[1],P=c[2],x=b[0],_=b[1],I=b[2];i|=0,w|=0;for(var N=i,k=w,F=h[2]|0;F>0;){F<64?(S=F,F=0):(S=64,F-=64);for(var O=h[0]|0;O>0;){O<64?(E=O,O=0):(E=64,O-=64);for(var z=h[1]|0;z>0;){z<64?(y=z,z=0):(y=64,z-=64),i=N+F*P+O*T+z*o,w=k+F*I+O*x+z*_;var B=0,W=0,q=0,ee=P,Q=T-S*P,oe=o-E*T,Z=I,Y=x-S*I,te=_-E*x;for(q=0;q<y;++q){for(W=0;W<E;++W){for(B=0;B<S;++B)M[i]=d[w],i+=ee,w+=Z;i+=Q,w+=Y}i+=oe,w+=te}}}}}},"uint8,2,0,1,array,2,0,1":function(){return function(h,M,c,i,d,b,w){var E=h[0],y=h[1],S=h[2],T=c[0],o=c[1],P=c[2],x=b[0],_=b[1],I=b[2];i|=0,w|=0;var N=0,k=0,F=0,O=P,z=T-S*P,B=o-E*T,W=I,q=x-S*I,ee=_-E*x;for(F=0;F<y;++F){for(k=0;k<E;++k){for(N=0;N<S;++N)M[i]=d[w],i+=O,w+=W;i+=z,w+=q}i+=B,w+=ee}}}};function t(m,h){var M=h.join(","),c=r[M];return c()}var s=t,n={mul:function(m){var h={};return function(c,i,d){var b=c.dtype,w=c.order,E=i.dtype,y=i.order,S=d.dtype,T=d.order,o=[b,w.join(),E,y.join(),S,T.join()].join(),P=h[o];return P||(h[o]=P=m([b,w,E,y,S,T])),P(c.shape.slice(0),c.data,c.stride,c.offset|0,i.data,i.stride,i.offset|0,d.data,d.stride,d.offset|0)}},muls:function(m){var h={};return function(c,i,d){var b=c.dtype,w=c.order,E=i.dtype,y=i.order,S=[b,w.join(),E,y.join()].join(),T=h[S];return T||(h[S]=T=m([b,w,E,y])),T(c.shape.slice(0),c.data,c.stride,c.offset|0,i.data,i.stride,i.offset|0,d)}},mulseq:function(m){var h={};return function(c,i){var d=c.dtype,b=c.order,w=[d,b.join()].join(),E=h[w];return E||(h[w]=E=m([d,b])),E(c.shape.slice(0),c.data,c.stride,c.offset|0,i)}},div:function(m){var h={};return function(c,i,d){var b=c.dtype,w=c.order,E=i.dtype,y=i.order,S=d.dtype,T=d.order,o=[b,w.join(),E,y.join(),S,T.join()].join(),P=h[o];return P||(h[o]=P=m([b,w,E,y,S,T])),P(c.shape.slice(0),c.data,c.stride,c.offset|0,i.data,i.stride,i.offset|0,d.data,d.stride,d.offset|0)}},divs:function(m){var h={};return function(c,i,d){var b=c.dtype,w=c.order,E=i.dtype,y=i.order,S=[b,w.join(),E,y.join()].join(),T=h[S];return T||(h[S]=T=m([b,w,E,y])),T(c.shape.slice(0),c.data,c.stride,c.offset|0,i.data,i.stride,i.offset|0,d)}},divseq:function(m){var h={};return function(c,i){var d=c.dtype,b=c.order,w=[d,b.join()].join(),E=h[w];return E||(h[w]=E=m([d,b])),E(c.shape.slice(0),c.data,c.stride,c.offset|0,i)}},assign:function(m){var h={};return function(c,i){var d=c.dtype,b=c.order,w=i.dtype,E=i.order,y=[d,b.join(),w,E.join()].join(),S=h[y];return S||(h[y]=S=m([d,b,w,E])),S(c.shape.slice(0),c.data,c.stride,c.offset|0,i.data,i.stride,i.offset|0)}}};function f(m){var h=n[m.funcName];return h(s.bind(void 0,m))}function u(m){return f({funcName:m.funcName})}var l={mul:"*",div:"/"};(function(){for(var m in l)p[m]=u({funcName:m}),p[m+"s"]=u({funcName:m+"s"}),p[m+"seq"]=u({funcName:m+"seq"})})(),p.assign=u({funcName:"assign"})},7382:function(v,p,r){var t=r(5050),s=r(9262);v.exports=function(f,u){for(var l=[],m=f,h=1;Array.isArray(m);)l.push(m.length),h*=m.length,m=m[0];return l.length===0?t():(u||(u=t(new Float64Array(h),l)),s(u,f),u)}},9262:function(v){function p(){return function(u,l,m,h,M){var c=u[0],i=u[1],d=u[2],b=m[0],w=m[1],E=m[2],y=[0,0,0];h|=0;var S=0,T=0,o=0,P=E,x=w-d*E,_=b-i*w;for(o=0;o<c;++o){for(T=0;T<i;++T){for(S=0;S<d;++S){{var I=M,N;for(N=0;N<y.length-1;++N)I=I[y[N]];l[h]=I[y[y.length-1]]}h+=P,++y[2]}h+=x,y[2]-=d,++y[1]}h+=_,y[1]-=i,++y[0]}}}function r(){return p()}var t=r;function s(u){var l={};return function(h,M){var c=h.dtype,i=h.order,d=[c,i.join()].join(),b=l[d];return b||(l[d]=b=u([c,i])),b(h.shape.slice(0),h.data,h.stride,h.offset|0,M)}}function n(u){return s(t.bind(void 0,u))}function f(u){return n({funcName:u.funcName})}v.exports=f({funcName:"convert"})},8139:function(v,p,r){var t=r(5306);function s(M){switch(M){case"uint32":return[t.mallocUint32,t.freeUint32];default:return null}}var n={"uint32,1,0":function(M,c){return function(d,b,w,E,y,S,T,o,P,x,_){var I,N,k,F=d*y+E,O,z=M(o),B,W,q,ee;for(I=d+1;I<=b;++I){for(N=I,F+=y,k=F,B=0,W=F,O=0;O<o;++O)z[B++]=w[W],W+=P;e:for(;N-- >d;){B=0,W=k-y;t:for(O=0;O<o;++O){if(q=w[W],ee=z[B],q<ee)break e;if(q>ee)break t;W+=x,B+=_}for(B=k,W=k-y,O=0;O<o;++O)w[B]=w[W],B+=P,W+=P;k-=y}for(B=k,W=0,O=0;O<o;++O)w[B]=z[W++],B+=P}c(z)}}};function f(M,c){var i=s(c),d=[c,M].join(","),b=n[d];return i?b(i[0],i[1]):b()}var u={"uint32,1,0":function(M,c,i){return function d(b,w,E,y,S,T,o,P,x,_,I){var N=(w-b+1)/6|0,k=b+N,F=w-N,O=b+w>>1,z=O-N,B=O+N,W=k,q=z,ee=O,Q=B,oe=F,Z=b+1,Y=w-1,te=!0,X,$,ie,J,j,se,ne,le,pe,Ae=0,be=0,Re=0,xe,Me,ye,Se,Fe,Be,_e,Ue,it,lt,$e,qe,ft,ct,pt,yt,Et=P,tt=c(Et),Ie=c(Et);Me=S*W,ye=S*q,yt=y;e:for(xe=0;xe<P;++xe){if(ne=Me+yt,le=ye+yt,Re=E[ne]-E[le],Re>0){$=W,W=q,q=$;break e}if(Re<0)break e;yt+=_}Me=S*Q,ye=S*oe,yt=y;e:for(xe=0;xe<P;++xe){if(ne=Me+yt,le=ye+yt,Re=E[ne]-E[le],Re>0){$=Q,Q=oe,oe=$;break e}if(Re<0)break e;yt+=_}Me=S*W,ye=S*ee,yt=y;e:for(xe=0;xe<P;++xe){if(ne=Me+yt,le=ye+yt,Re=E[ne]-E[le],Re>0){$=W,W=ee,ee=$;break e}if(Re<0)break e;yt+=_}Me=S*q,ye=S*ee,yt=y;e:for(xe=0;xe<P;++xe){if(ne=Me+yt,le=ye+yt,Re=E[ne]-E[le],Re>0){$=q,q=ee,ee=$;break e}if(Re<0)break e;yt+=_}Me=S*W,ye=S*Q,yt=y;e:for(xe=0;xe<P;++xe){if(ne=Me+yt,le=ye+yt,Re=E[ne]-E[le],Re>0){$=W,W=Q,Q=$;break e}if(Re<0)break e;yt+=_}Me=S*ee,ye=S*Q,yt=y;e:for(xe=0;xe<P;++xe){if(ne=Me+yt,le=ye+yt,Re=E[ne]-E[le],Re>0){$=ee,ee=Q,Q=$;break e}if(Re<0)break e;yt+=_}Me=S*q,ye=S*oe,yt=y;e:for(xe=0;xe<P;++xe){if(ne=Me+yt,le=ye+yt,Re=E[ne]-E[le],Re>0){$=q,q=oe,oe=$;break e}if(Re<0)break e;yt+=_}Me=S*q,ye=S*ee,yt=y;e:for(xe=0;xe<P;++xe){if(ne=Me+yt,le=ye+yt,Re=E[ne]-E[le],Re>0){$=q,q=ee,ee=$;break e}if(Re<0)break e;yt+=_}Me=S*Q,ye=S*oe,yt=y;e:for(xe=0;xe<P;++xe){if(ne=Me+yt,le=ye+yt,Re=E[ne]-E[le],Re>0){$=Q,Q=oe,oe=$;break e}if(Re<0)break e;yt+=_}for(Me=S*W,ye=S*q,Se=S*ee,Fe=S*Q,Be=S*oe,_e=S*k,Ue=S*O,it=S*F,pt=0,yt=y,xe=0;xe<P;++xe)ne=Me+yt,le=ye+yt,pe=Se+yt,lt=Fe+yt,$e=Be+yt,qe=_e+yt,ft=Ue+yt,ct=it+yt,tt[pt]=E[le],Ie[pt]=E[lt],te=te&&tt[pt]===Ie[pt],ie=E[ne],J=E[pe],j=E[$e],E[qe]=ie,E[ft]=J,E[ct]=j,++pt,yt+=x;for(Me=S*z,ye=S*b,yt=y,xe=0;xe<P;++xe)ne=Me+yt,le=ye+yt,E[ne]=E[le],yt+=x;for(Me=S*B,ye=S*w,yt=y,xe=0;xe<P;++xe)ne=Me+yt,le=ye+yt,E[ne]=E[le],yt+=x;if(te)for(se=Z;se<=Y;++se){ne=y+se*S,pt=0;e:for(xe=0;xe<P;++xe){if(Re=E[ne]-tt[pt],Re!==0)break e;pt+=I,ne+=_}if(Re!==0)if(Re<0){if(se!==Z)for(Me=S*se,ye=S*Z,yt=y,xe=0;xe<P;++xe)ne=Me+yt,le=ye+yt,X=E[ne],E[ne]=E[le],E[le]=X,yt+=x;++Z}else for(;;){ne=y+Y*S,pt=0;e:for(xe=0;xe<P;++xe){if(Re=E[ne]-tt[pt],Re!==0)break e;pt+=I,ne+=_}if(Re>0)Y--;else if(Re<0){for(Me=S*se,ye=S*Z,Se=S*Y,yt=y,xe=0;xe<P;++xe)ne=Me+yt,le=ye+yt,pe=Se+yt,X=E[ne],E[ne]=E[le],E[le]=E[pe],E[pe]=X,yt+=x;++Z,--Y;break}else{for(Me=S*se,ye=S*Y,yt=y,xe=0;xe<P;++xe)ne=Me+yt,le=ye+yt,X=E[ne],E[ne]=E[le],E[le]=X,yt+=x;--Y;break}}}else for(se=Z;se<=Y;++se){ne=y+se*S,pt=0;e:for(xe=0;xe<P;++xe){if(Ae=E[ne]-tt[pt],Ae!==0)break e;pt+=I,ne+=_}if(Ae<0){if(se!==Z)for(Me=S*se,ye=S*Z,yt=y,xe=0;xe<P;++xe)ne=Me+yt,le=ye+yt,X=E[ne],E[ne]=E[le],E[le]=X,yt+=x;++Z}else{ne=y+se*S,pt=0;e:for(xe=0;xe<P;++xe){if(be=E[ne]-Ie[pt],be!==0)break e;pt+=I,ne+=_}if(be>0)for(;;){ne=y+Y*S,pt=0;e:for(xe=0;xe<P;++xe){if(Re=E[ne]-Ie[pt],Re!==0)break e;pt+=I,ne+=_}if(Re>0){if(--Y<se)break;continue}else{ne=y+Y*S,pt=0;e:for(xe=0;xe<P;++xe){if(Re=E[ne]-tt[pt],Re!==0)break e;pt+=I,ne+=_}if(Re<0){for(Me=S*se,ye=S*Z,Se=S*Y,yt=y,xe=0;xe<P;++xe)ne=Me+yt,le=ye+yt,pe=Se+yt,X=E[ne],E[ne]=E[le],E[le]=E[pe],E[pe]=X,yt+=x;++Z,--Y}else{for(Me=S*se,ye=S*Y,yt=y,xe=0;xe<P;++xe)ne=Me+yt,le=ye+yt,X=E[ne],E[ne]=E[le],E[le]=X,yt+=x;--Y}break}}}}for(Me=S*b,ye=S*(Z-1),pt=0,yt=y,xe=0;xe<P;++xe)ne=Me+yt,le=ye+yt,E[ne]=E[le],E[le]=tt[pt],++pt,yt+=x;for(Me=S*w,ye=S*(Y+1),pt=0,yt=y,xe=0;xe<P;++xe)ne=Me+yt,le=ye+yt,E[ne]=E[le],E[le]=Ie[pt],++pt,yt+=x;if(Z-2-b<=32?M(b,Z-2,E,y,S,T,o,P,x,_,I):d(b,Z-2,E,y,S,T,o,P,x,_,I),w-(Y+2)<=32?M(Y+2,w,E,y,S,T,o,P,x,_,I):d(Y+2,w,E,y,S,T,o,P,x,_,I),te){i(tt),i(Ie);return}if(Z<k&&Y>F){e:for(;;){for(ne=y+Z*S,pt=0,yt=y,xe=0;xe<P;++xe){if(E[ne]!==tt[pt])break e;++pt,ne+=x}++Z}e:for(;;){for(ne=y+Y*S,pt=0,yt=y,xe=0;xe<P;++xe){if(E[ne]!==Ie[pt])break e;++pt,ne+=x}--Y}for(se=Z;se<=Y;++se){ne=y+se*S,pt=0;e:for(xe=0;xe<P;++xe){if(Ae=E[ne]-tt[pt],Ae!==0)break e;pt+=I,ne+=_}if(Ae===0){if(se!==Z)for(Me=S*se,ye=S*Z,yt=y,xe=0;xe<P;++xe)ne=Me+yt,le=ye+yt,X=E[ne],E[ne]=E[le],E[le]=X,yt+=x;++Z}else{ne=y+se*S,pt=0;e:for(xe=0;xe<P;++xe){if(be=E[ne]-Ie[pt],be!==0)break e;pt+=I,ne+=_}if(be===0)for(;;){ne=y+Y*S,pt=0;e:for(xe=0;xe<P;++xe){if(Re=E[ne]-Ie[pt],Re!==0)break e;pt+=I,ne+=_}if(Re===0){if(--Y<se)break;continue}else{ne=y+Y*S,pt=0;e:for(xe=0;xe<P;++xe){if(Re=E[ne]-tt[pt],Re!==0)break e;pt+=I,ne+=_}if(Re<0){for(Me=S*se,ye=S*Z,Se=S*Y,yt=y,xe=0;xe<P;++xe)ne=Me+yt,le=ye+yt,pe=Se+yt,X=E[ne],E[ne]=E[le],E[le]=E[pe],E[pe]=X,yt+=x;++Z,--Y}else{for(Me=S*se,ye=S*Y,yt=y,xe=0;xe<P;++xe)ne=Me+yt,le=ye+yt,X=E[ne],E[ne]=E[le],E[le]=X,yt+=x;--Y}break}}}}}i(tt),i(Ie),Y-Z<=32?M(Z,Y,E,y,S,T,o,P,x,_,I):d(Z,Y,E,y,S,T,o,P,x,_,I)}}};function l(M,c,i){var d=s(c),b=[c,M].join(","),w=u[b];return M.length>1&&d?w(i,d[0],d[1]):w(i)}var m={"uint32,1,0":function(M,c){return function(i){var d=i.data,b=i.offset|0,w=i.shape,E=i.stride,y=E[0]|0,S=w[0]|0,T=E[1]|0,o=w[1]|0,P=T,x=T,_=1;S<=32?M(0,S-1,d,b,y,T,S,o,P,x,_):c(0,S-1,d,b,y,T,S,o,P,x,_)}}};function h(M,c){var i=[c,M].join(","),d=m[i],b=f(M,c),w=l(M,c,b);return d(b,w)}v.exports=h},8729:function(v,p,r){var t=r(8139),s={};function n(f){var u=f.order,l=f.dtype,m=[u,l],h=m.join(":"),M=s[h];return M||(s[h]=M=t(u,l)),M(f),f}v.exports=n},5050:function(v,p,r){var t=r(4780),s=typeof Float64Array!="undefined";function n(c,i){return c[0]-i[0]}function f(){var c=this.stride,i=new Array(c.length),d;for(d=0;d<i.length;++d)i[d]=[Math.abs(c[d]),d];i.sort(n);var b=new Array(i.length);for(d=0;d<b.length;++d)b[d]=i[d][1];return b}var u={T:function(c){function i(b){this.data=b}var d=i.prototype;return d.dtype=c,d.index=function(){return-1},d.size=0,d.dimension=-1,d.shape=d.stride=d.order=[],d.lo=d.hi=d.transpose=d.step=function(){return new i(this.data)},d.get=d.set=function(){},d.pick=function(){return null},function(w){return new i(w)}},0:function(c,i){function d(w,E){this.data=w,this.offset=E}var b=d.prototype;return b.dtype=c,b.index=function(){return this.offset},b.dimension=0,b.size=1,b.shape=b.stride=b.order=[],b.lo=b.hi=b.transpose=b.step=function(){return new d(this.data,this.offset)},b.pick=function(){return i(this.data)},b.valueOf=b.get=function(){return c==="generic"?this.data.get(this.offset):this.data[this.offset]},b.set=function(E){return c==="generic"?this.data.set(this.offset,E):this.data[this.offset]=E},function(E,y,S,T){return new d(E,T)}},1:function(c,i,d){function b(E,y,S,T){this.data=E,this.shape=[y],this.stride=[S],this.offset=T|0}var w=b.prototype;return w.dtype=c,w.dimension=1,Object.defineProperty(w,"size",{get:function(){return this.shape[0]}}),w.order=[0],w.set=function(y,S){return c==="generic"?this.data.set(this.offset+this.stride[0]*y,S):this.data[this.offset+this.stride[0]*y]=S},w.get=function(y){return c==="generic"?this.data.get(this.offset+this.stride[0]*y):this.data[this.offset+this.stride[0]*y]},w.index=function(y){return this.offset+this.stride[0]*y},w.hi=function(y){return new b(this.data,typeof y!="number"||y<0?this.shape[0]:y|0,this.stride[0],this.offset)},w.lo=function(y){var S=this.offset,T=0,o=this.shape[0],P=this.stride[0];return typeof y=="number"&&y>=0&&(T=y|0,S+=P*T,o-=T),new b(this.data,o,P,S)},w.step=function(y){var S=this.shape[0],T=this.stride[0],o=this.offset,P=0,x=Math.ceil;return typeof y=="number"&&(P=y|0,P<0?(o+=T*(S-1),S=x(-S/P)):S=x(S/P),T*=P),new b(this.data,S,T,o)},w.transpose=function(y){y=y===void 0?0:y|0;var S=this.shape,T=this.stride;return new b(this.data,S[y],T[y],this.offset)},w.pick=function(y){var S=[],T=[],o=this.offset;typeof y=="number"&&y>=0?o=o+this.stride[0]*y|0:(S.push(this.shape[0]),T.push(this.stride[0]));var P=i[S.length+1];return P(this.data,S,T,o)},function(y,S,T,o){return new b(y,S[0],T[0],o)}},2:function(c,i,d){function b(E,y,S,T,o,P){this.data=E,this.shape=[y,S],this.stride=[T,o],this.offset=P|0}var w=b.prototype;return w.dtype=c,w.dimension=2,Object.defineProperty(w,"size",{get:function(){return this.shape[0]*this.shape[1]}}),Object.defineProperty(w,"order",{get:function(){return Math.abs(this.stride[0])>Math.abs(this.stride[1])?[1,0]:[0,1]}}),w.set=function(y,S,T){return c==="generic"?this.data.set(this.offset+this.stride[0]*y+this.stride[1]*S,T):this.data[this.offset+this.stride[0]*y+this.stride[1]*S]=T},w.get=function(y,S){return c==="generic"?this.data.get(this.offset+this.stride[0]*y+this.stride[1]*S):this.data[this.offset+this.stride[0]*y+this.stride[1]*S]},w.index=function(y,S){return this.offset+this.stride[0]*y+this.stride[1]*S},w.hi=function(y,S){return new b(this.data,typeof y!="number"||y<0?this.shape[0]:y|0,typeof S!="number"||S<0?this.shape[1]:S|0,this.stride[0],this.stride[1],this.offset)},w.lo=function(y,S){var T=this.offset,o=0,P=this.shape[0],x=this.shape[1],_=this.stride[0],I=this.stride[1];return typeof y=="number"&&y>=0&&(o=y|0,T+=_*o,P-=o),typeof S=="number"&&S>=0&&(o=S|0,T+=I*o,x-=o),new b(this.data,P,x,_,I,T)},w.step=function(y,S){var T=this.shape[0],o=this.shape[1],P=this.stride[0],x=this.stride[1],_=this.offset,I=0,N=Math.ceil;return typeof y=="number"&&(I=y|0,I<0?(_+=P*(T-1),T=N(-T/I)):T=N(T/I),P*=I),typeof S=="number"&&(I=S|0,I<0?(_+=x*(o-1),o=N(-o/I)):o=N(o/I),x*=I),new b(this.data,T,o,P,x,_)},w.transpose=function(y,S){y=y===void 0?0:y|0,S=S===void 0?1:S|0;var T=this.shape,o=this.stride;return new b(this.data,T[y],T[S],o[y],o[S],this.offset)},w.pick=function(y,S){var T=[],o=[],P=this.offset;typeof y=="number"&&y>=0?P=P+this.stride[0]*y|0:(T.push(this.shape[0]),o.push(this.stride[0])),typeof S=="number"&&S>=0?P=P+this.stride[1]*S|0:(T.push(this.shape[1]),o.push(this.stride[1]));var x=i[T.length+1];return x(this.data,T,o,P)},function(y,S,T,o){return new b(y,S[0],S[1],T[0],T[1],o)}},3:function(c,i,d){function b(E,y,S,T,o,P,x,_){this.data=E,this.shape=[y,S,T],this.stride=[o,P,x],this.offset=_|0}var w=b.prototype;return w.dtype=c,w.dimension=3,Object.defineProperty(w,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]}}),Object.defineProperty(w,"order",{get:function(){var y=Math.abs(this.stride[0]),S=Math.abs(this.stride[1]),T=Math.abs(this.stride[2]);return y>S?S>T?[2,1,0]:y>T?[1,2,0]:[1,0,2]:y>T?[2,0,1]:T>S?[0,1,2]:[0,2,1]}}),w.set=function(y,S,T,o){return c==="generic"?this.data.set(this.offset+this.stride[0]*y+this.stride[1]*S+this.stride[2]*T,o):this.data[this.offset+this.stride[0]*y+this.stride[1]*S+this.stride[2]*T]=o},w.get=function(y,S,T){return c==="generic"?this.data.get(this.offset+this.stride[0]*y+this.stride[1]*S+this.stride[2]*T):this.data[this.offset+this.stride[0]*y+this.stride[1]*S+this.stride[2]*T]},w.index=function(y,S,T){return this.offset+this.stride[0]*y+this.stride[1]*S+this.stride[2]*T},w.hi=function(y,S,T){return new b(this.data,typeof y!="number"||y<0?this.shape[0]:y|0,typeof S!="number"||S<0?this.shape[1]:S|0,typeof T!="number"||T<0?this.shape[2]:T|0,this.stride[0],this.stride[1],this.stride[2],this.offset)},w.lo=function(y,S,T){var o=this.offset,P=0,x=this.shape[0],_=this.shape[1],I=this.shape[2],N=this.stride[0],k=this.stride[1],F=this.stride[2];return typeof y=="number"&&y>=0&&(P=y|0,o+=N*P,x-=P),typeof S=="number"&&S>=0&&(P=S|0,o+=k*P,_-=P),typeof T=="number"&&T>=0&&(P=T|0,o+=F*P,I-=P),new b(this.data,x,_,I,N,k,F,o)},w.step=function(y,S,T){var o=this.shape[0],P=this.shape[1],x=this.shape[2],_=this.stride[0],I=this.stride[1],N=this.stride[2],k=this.offset,F=0,O=Math.ceil;return typeof y=="number"&&(F=y|0,F<0?(k+=_*(o-1),o=O(-o/F)):o=O(o/F),_*=F),typeof S=="number"&&(F=S|0,F<0?(k+=I*(P-1),P=O(-P/F)):P=O(P/F),I*=F),typeof T=="number"&&(F=T|0,F<0?(k+=N*(x-1),x=O(-x/F)):x=O(x/F),N*=F),new b(this.data,o,P,x,_,I,N,k)},w.transpose=function(y,S,T){y=y===void 0?0:y|0,S=S===void 0?1:S|0,T=T===void 0?2:T|0;var o=this.shape,P=this.stride;return new b(this.data,o[y],o[S],o[T],P[y],P[S],P[T],this.offset)},w.pick=function(y,S,T){var o=[],P=[],x=this.offset;typeof y=="number"&&y>=0?x=x+this.stride[0]*y|0:(o.push(this.shape[0]),P.push(this.stride[0])),typeof S=="number"&&S>=0?x=x+this.stride[1]*S|0:(o.push(this.shape[1]),P.push(this.stride[1])),typeof T=="number"&&T>=0?x=x+this.stride[2]*T|0:(o.push(this.shape[2]),P.push(this.stride[2]));var _=i[o.length+1];return _(this.data,o,P,x)},function(y,S,T,o){return new b(y,S[0],S[1],S[2],T[0],T[1],T[2],o)}},4:function(c,i,d){function b(E,y,S,T,o,P,x,_,I,N){this.data=E,this.shape=[y,S,T,o],this.stride=[P,x,_,I],this.offset=N|0}var w=b.prototype;return w.dtype=c,w.dimension=4,Object.defineProperty(w,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]*this.shape[3]}}),Object.defineProperty(w,"order",{get:d}),w.set=function(y,S,T,o,P){return c==="generic"?this.data.set(this.offset+this.stride[0]*y+this.stride[1]*S+this.stride[2]*T+this.stride[3]*o,P):this.data[this.offset+this.stride[0]*y+this.stride[1]*S+this.stride[2]*T+this.stride[3]*o]=P},w.get=function(y,S,T,o){return c==="generic"?this.data.get(this.offset+this.stride[0]*y+this.stride[1]*S+this.stride[2]*T+this.stride[3]*o):this.data[this.offset+this.stride[0]*y+this.stride[1]*S+this.stride[2]*T+this.stride[3]*o]},w.index=function(y,S,T,o){return this.offset+this.stride[0]*y+this.stride[1]*S+this.stride[2]*T+this.stride[3]*o},w.hi=function(y,S,T,o){return new b(this.data,typeof y!="number"||y<0?this.shape[0]:y|0,typeof S!="number"||S<0?this.shape[1]:S|0,typeof T!="number"||T<0?this.shape[2]:T|0,typeof o!="number"||o<0?this.shape[3]:o|0,this.stride[0],this.stride[1],this.stride[2],this.stride[3],this.offset)},w.lo=function(y,S,T,o){var P=this.offset,x=0,_=this.shape[0],I=this.shape[1],N=this.shape[2],k=this.shape[3],F=this.stride[0],O=this.stride[1],z=this.stride[2],B=this.stride[3];return typeof y=="number"&&y>=0&&(x=y|0,P+=F*x,_-=x),typeof S=="number"&&S>=0&&(x=S|0,P+=O*x,I-=x),typeof T=="number"&&T>=0&&(x=T|0,P+=z*x,N-=x),typeof o=="number"&&o>=0&&(x=o|0,P+=B*x,k-=x),new b(this.data,_,I,N,k,F,O,z,B,P)},w.step=function(y,S,T,o){var P=this.shape[0],x=this.shape[1],_=this.shape[2],I=this.shape[3],N=this.stride[0],k=this.stride[1],F=this.stride[2],O=this.stride[3],z=this.offset,B=0,W=Math.ceil;return typeof y=="number"&&(B=y|0,B<0?(z+=N*(P-1),P=W(-P/B)):P=W(P/B),N*=B),typeof S=="number"&&(B=S|0,B<0?(z+=k*(x-1),x=W(-x/B)):x=W(x/B),k*=B),typeof T=="number"&&(B=T|0,B<0?(z+=F*(_-1),_=W(-_/B)):_=W(_/B),F*=B),typeof o=="number"&&(B=o|0,B<0?(z+=O*(I-1),I=W(-I/B)):I=W(I/B),O*=B),new b(this.data,P,x,_,I,N,k,F,O,z)},w.transpose=function(y,S,T,o){y=y===void 0?0:y|0,S=S===void 0?1:S|0,T=T===void 0?2:T|0,o=o===void 0?3:o|0;var P=this.shape,x=this.stride;return new b(this.data,P[y],P[S],P[T],P[o],x[y],x[S],x[T],x[o],this.offset)},w.pick=function(y,S,T,o){var P=[],x=[],_=this.offset;typeof y=="number"&&y>=0?_=_+this.stride[0]*y|0:(P.push(this.shape[0]),x.push(this.stride[0])),typeof S=="number"&&S>=0?_=_+this.stride[1]*S|0:(P.push(this.shape[1]),x.push(this.stride[1])),typeof T=="number"&&T>=0?_=_+this.stride[2]*T|0:(P.push(this.shape[2]),x.push(this.stride[2])),typeof o=="number"&&o>=0?_=_+this.stride[3]*o|0:(P.push(this.shape[3]),x.push(this.stride[3]));var I=i[P.length+1];return I(this.data,P,x,_)},function(y,S,T,o){return new b(y,S[0],S[1],S[2],S[3],T[0],T[1],T[2],T[3],o)}},5:function(i,d,b){function w(y,S,T,o,P,x,_,I,N,k,F,O){this.data=y,this.shape=[S,T,o,P,x],this.stride=[_,I,N,k,F],this.offset=O|0}var E=w.prototype;return E.dtype=i,E.dimension=5,Object.defineProperty(E,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]*this.shape[3]*this.shape[4]}}),Object.defineProperty(E,"order",{get:b}),E.set=function(S,T,o,P,x,_){return i==="generic"?this.data.set(this.offset+this.stride[0]*S+this.stride[1]*T+this.stride[2]*o+this.stride[3]*P+this.stride[4]*x,_):this.data[this.offset+this.stride[0]*S+this.stride[1]*T+this.stride[2]*o+this.stride[3]*P+this.stride[4]*x]=_},E.get=function(S,T,o,P,x){return i==="generic"?this.data.get(this.offset+this.stride[0]*S+this.stride[1]*T+this.stride[2]*o+this.stride[3]*P+this.stride[4]*x):this.data[this.offset+this.stride[0]*S+this.stride[1]*T+this.stride[2]*o+this.stride[3]*P+this.stride[4]*x]},E.index=function(S,T,o,P,x){return this.offset+this.stride[0]*S+this.stride[1]*T+this.stride[2]*o+this.stride[3]*P+this.stride[4]*x},E.hi=function(S,T,o,P,x){return new w(this.data,typeof S!="number"||S<0?this.shape[0]:S|0,typeof T!="number"||T<0?this.shape[1]:T|0,typeof o!="number"||o<0?this.shape[2]:o|0,typeof P!="number"||P<0?this.shape[3]:P|0,typeof x!="number"||x<0?this.shape[4]:x|0,this.stride[0],this.stride[1],this.stride[2],this.stride[3],this.stride[4],this.offset)},E.lo=function(S,T,o,P,x){var _=this.offset,I=0,N=this.shape[0],k=this.shape[1],F=this.shape[2],O=this.shape[3],z=this.shape[4],B=this.stride[0],W=this.stride[1],q=this.stride[2],ee=this.stride[3],Q=this.stride[4];return typeof S=="number"&&S>=0&&(I=S|0,_+=B*I,N-=I),typeof T=="number"&&T>=0&&(I=T|0,_+=W*I,k-=I),typeof o=="number"&&o>=0&&(I=o|0,_+=q*I,F-=I),typeof P=="number"&&P>=0&&(I=P|0,_+=ee*I,O-=I),typeof x=="number"&&x>=0&&(I=x|0,_+=Q*I,z-=I),new w(this.data,N,k,F,O,z,B,W,q,ee,Q,_)},E.step=function(S,T,o,P,x){var _=this.shape[0],I=this.shape[1],N=this.shape[2],k=this.shape[3],F=this.shape[4],O=this.stride[0],z=this.stride[1],B=this.stride[2],W=this.stride[3],q=this.stride[4],ee=this.offset,Q=0,oe=Math.ceil;return typeof S=="number"&&(Q=S|0,Q<0?(ee+=O*(_-1),_=oe(-_/Q)):_=oe(_/Q),O*=Q),typeof T=="number"&&(Q=T|0,Q<0?(ee+=z*(I-1),I=oe(-I/Q)):I=oe(I/Q),z*=Q),typeof o=="number"&&(Q=o|0,Q<0?(ee+=B*(N-1),N=oe(-N/Q)):N=oe(N/Q),B*=Q),typeof P=="number"&&(Q=P|0,Q<0?(ee+=W*(k-1),k=oe(-k/Q)):k=oe(k/Q),W*=Q),typeof x=="number"&&(Q=x|0,Q<0?(ee+=q*(F-1),F=oe(-F/Q)):F=oe(F/Q),q*=Q),new w(this.data,_,I,N,k,F,O,z,B,W,q,ee)},E.transpose=function(S,T,o,P,x){S=S===void 0?0:S|0,T=T===void 0?1:T|0,o=o===void 0?2:o|0,P=P===void 0?3:P|0,x=x===void 0?4:x|0;var _=this.shape,I=this.stride;return new w(this.data,_[S],_[T],_[o],_[P],_[x],I[S],I[T],I[o],I[P],I[x],this.offset)},E.pick=function(S,T,o,P,x){var _=[],I=[],N=this.offset;typeof S=="number"&&S>=0?N=N+this.stride[0]*S|0:(_.push(this.shape[0]),I.push(this.stride[0])),typeof T=="number"&&T>=0?N=N+this.stride[1]*T|0:(_.push(this.shape[1]),I.push(this.stride[1])),typeof o=="number"&&o>=0?N=N+this.stride[2]*o|0:(_.push(this.shape[2]),I.push(this.stride[2])),typeof P=="number"&&P>=0?N=N+this.stride[3]*P|0:(_.push(this.shape[3]),I.push(this.stride[3])),typeof x=="number"&&x>=0?N=N+this.stride[4]*x|0:(_.push(this.shape[4]),I.push(this.stride[4]));var k=d[_.length+1];return k(this.data,_,I,N)},function(S,T,o,P){return new w(S,T[0],T[1],T[2],T[3],T[4],o[0],o[1],o[2],o[3],o[4],P)}}};function l(c,i){var d=i===-1?"T":String(i),b=u[d];return i===-1?b(c):i===0?b(c,h[c][0]):b(c,h[c],f)}function m(c){if(t(c))return"buffer";if(s)switch(Object.prototype.toString.call(c)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8ClampedArray]":return"uint8_clamped";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object BigInt64Array]":return"bigint64";case"[object BigUint64Array]":return"biguint64"}return Array.isArray(c)?"array":"generic"}var h={generic:[],buffer:[],array:[],float32:[],float64:[],int8:[],int16:[],int32:[],uint8_clamped:[],uint8:[],uint16:[],uint32:[],bigint64:[],biguint64:[]};function M(c,i,d,b){if(c===void 0){var o=h.array[0];return o([])}else typeof c=="number"&&(c=[c]);i===void 0&&(i=[c.length]);var w=i.length;if(d===void 0){d=new Array(w);for(var E=w-1,y=1;E>=0;--E)d[E]=y,y*=i[E]}if(b===void 0){b=0;for(var E=0;E<w;++E)d[E]<0&&(b-=(i[E]-1)*d[E])}for(var S=m(c),T=h[S];T.length<=w+1;)T.push(l(S,T.length-1));var o=T[w+1];return o(c,i,d,b)}v.exports=M},8551:function(v,p,r){var t=r(8362),s=Math.pow(2,-1074),n=-1>>>0;v.exports=f;function f(u,l){if(isNaN(u)||isNaN(l))return NaN;if(u===l)return u;if(u===0)return l<0?-s:s;var m=t.hi(u),h=t.lo(u);return l>u==u>0?h===n?(m+=1,h=0):h+=1:h===0?(h=n,m-=1):h-=1,t.pack(h,m)}},115:function(v,p){var r=1e-6,t=1e-6;p.vertexNormals=function(s,n,f){for(var u=n.length,l=new Array(u),m=f===void 0?r:f,h=0;h<u;++h)l[h]=[0,0,0];for(var h=0;h<s.length;++h)for(var M=s[h],c=0,i=M[M.length-1],d=M[0],b=0;b<M.length;++b){c=i,i=d,d=M[(b+1)%M.length];for(var w=n[c],E=n[i],y=n[d],S=new Array(3),T=0,o=new Array(3),P=0,x=0;x<3;++x)S[x]=w[x]-E[x],T+=S[x]*S[x],o[x]=y[x]-E[x],P+=o[x]*o[x];if(T*P>m)for(var _=l[i],I=1/Math.sqrt(T*P),x=0;x<3;++x){var N=(x+1)%3,k=(x+2)%3;_[x]+=I*(o[N]*S[k]-o[k]*S[N])}}for(var h=0;h<u;++h){for(var _=l[h],F=0,x=0;x<3;++x)F+=_[x]*_[x];if(F>m)for(var I=1/Math.sqrt(F),x=0;x<3;++x)_[x]*=I;else for(var x=0;x<3;++x)_[x]=0}return l},p.faceNormals=function(s,n,f){for(var u=s.length,l=new Array(u),m=f===void 0?t:f,h=0;h<u;++h){for(var M=s[h],c=new Array(3),i=0;i<3;++i)c[i]=n[M[i]];for(var d=new Array(3),b=new Array(3),i=0;i<3;++i)d[i]=c[1][i]-c[0][i],b[i]=c[2][i]-c[0][i];for(var w=new Array(3),E=0,i=0;i<3;++i){var y=(i+1)%3,S=(i+2)%3;w[i]=d[y]*b[S]-d[S]*b[y],E+=w[i]*w[i]}E>m?E=1/Math.sqrt(E):E=0;for(var i=0;i<3;++i)w[i]*=E;l[h]=w}return l}},567:function(v){v.exports=p;function p(r,t,s,n,f,u,l,m,h,M){var c=t+u+M;if(i>0){var i=Math.sqrt(c+1);r[0]=.5*(l-h)/i,r[1]=.5*(m-n)/i,r[2]=.5*(s-u)/i,r[3]=.5*i}else{var d=Math.max(t,u,M),i=Math.sqrt(2*d-c+1);t>=d?(r[0]=.5*i,r[1]=.5*(f+s)/i,r[2]=.5*(m+n)/i,r[3]=.5*(l-h)/i):u>=d?(r[0]=.5*(s+f)/i,r[1]=.5*i,r[2]=.5*(h+l)/i,r[3]=.5*(m-n)/i):(r[0]=.5*(n+m)/i,r[1]=.5*(l+h)/i,r[2]=.5*i,r[3]=.5*(s-f)/i)}return r}},7774:function(v,p,r){v.exports=i;var t=r(8444),s=r(3012),n=r(5950),f=r(7437),u=r(567);function l(d,b,w){return Math.sqrt(Math.pow(d,2)+Math.pow(b,2)+Math.pow(w,2))}function m(d,b,w,E){return Math.sqrt(Math.pow(d,2)+Math.pow(b,2)+Math.pow(w,2)+Math.pow(E,2))}function h(d,b){var w=b[0],E=b[1],y=b[2],S=b[3],T=m(w,E,y,S);T>1e-6?(d[0]=w/T,d[1]=E/T,d[2]=y/T,d[3]=S/T):(d[0]=d[1]=d[2]=0,d[3]=1)}function M(d,b,w){this.radius=t([w]),this.center=t(b),this.rotation=t(d),this.computedRadius=this.radius.curve(0),this.computedCenter=this.center.curve(0),this.computedRotation=this.rotation.curve(0),this.computedUp=[.1,0,0],this.computedEye=[.1,0,0],this.computedMatrix=[.1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.recalcMatrix(0)}var c=M.prototype;c.lastT=function(){return Math.max(this.radius.lastT(),this.center.lastT(),this.rotation.lastT())},c.recalcMatrix=function(d){this.radius.curve(d),this.center.curve(d),this.rotation.curve(d);var b=this.computedRotation;h(b,b);var w=this.computedMatrix;n(w,b);var E=this.computedCenter,y=this.computedEye,S=this.computedUp,T=Math.exp(this.computedRadius[0]);y[0]=E[0]+T*w[2],y[1]=E[1]+T*w[6],y[2]=E[2]+T*w[10],S[0]=w[1],S[1]=w[5],S[2]=w[9];for(var o=0;o<3;++o){for(var P=0,x=0;x<3;++x)P+=w[o+4*x]*y[x];w[12+o]=-P}},c.getMatrix=function(d,b){this.recalcMatrix(d);var w=this.computedMatrix;if(b){for(var E=0;E<16;++E)b[E]=w[E];return b}return w},c.idle=function(d){this.center.idle(d),this.radius.idle(d),this.rotation.idle(d)},c.flush=function(d){this.center.flush(d),this.radius.flush(d),this.rotation.flush(d)},c.pan=function(d,b,w,E){b=b||0,w=w||0,E=E||0,this.recalcMatrix(d);var y=this.computedMatrix,S=y[1],T=y[5],o=y[9],P=l(S,T,o);S/=P,T/=P,o/=P;var x=y[0],_=y[4],I=y[8],N=x*S+_*T+I*o;x-=S*N,_-=T*N,I-=o*N;var k=l(x,_,I);x/=k,_/=k,I/=k,y[2],y[6],y[10];var F=x*b+S*w,O=_*b+T*w,z=I*b+o*w;this.center.move(d,F,O,z);var B=Math.exp(this.computedRadius[0]);B=Math.max(1e-4,B+E),this.radius.set(d,Math.log(B))},c.rotate=function(d,b,w,E){this.recalcMatrix(d),b=b||0,w=w||0;var y=this.computedMatrix,S=y[0],T=y[4],o=y[8],P=y[1],x=y[5],_=y[9],I=y[2],N=y[6],k=y[10],F=b*S+w*P,O=b*T+w*x,z=b*o+w*_,B=-(N*z-k*O),W=-(k*F-I*z),q=-(I*O-N*F),ee=Math.sqrt(Math.max(0,1-Math.pow(B,2)-Math.pow(W,2)-Math.pow(q,2))),Q=m(B,W,q,ee);Q>1e-6?(B/=Q,W/=Q,q/=Q,ee/=Q):(B=W=q=0,ee=1);var oe=this.computedRotation,Z=oe[0],Y=oe[1],te=oe[2],X=oe[3],$=Z*ee+X*B+Y*q-te*W,ie=Y*ee+X*W+te*B-Z*q,J=te*ee+X*q+Z*W-Y*B,j=X*ee-Z*B-Y*W-te*q;if(E){B=I,W=N,q=k;var se=Math.sin(E)/l(B,W,q);B*=se,W*=se,q*=se,ee=Math.cos(b),$=$*ee+j*B+ie*q-J*W,ie=ie*ee+j*W+J*B-$*q,J=J*ee+j*q+$*W-ie*B,j=j*ee-$*B-ie*W-J*q}var ne=m($,ie,J,j);ne>1e-6?($/=ne,ie/=ne,J/=ne,j/=ne):($=ie=J=0,j=1),this.rotation.set(d,$,ie,J,j)},c.lookAt=function(d,b,w,E){this.recalcMatrix(d),w=w||this.computedCenter,b=b||this.computedEye,E=E||this.computedUp;var y=this.computedMatrix;s(y,b,w,E);var S=this.computedRotation;u(S,y[0],y[1],y[2],y[4],y[5],y[6],y[8],y[9],y[10]),h(S,S),this.rotation.set(d,S[0],S[1],S[2],S[3]);for(var T=0,o=0;o<3;++o)T+=Math.pow(w[o]-b[o],2);this.radius.set(d,.5*Math.log(Math.max(T,1e-6))),this.center.set(d,w[0],w[1],w[2])},c.translate=function(d,b,w,E){this.center.move(d,b||0,w||0,E||0)},c.setMatrix=function(d,b){var w=this.computedRotation;u(w,b[0],b[1],b[2],b[4],b[5],b[6],b[8],b[9],b[10]),h(w,w),this.rotation.set(d,w[0],w[1],w[2],w[3]);var E=this.computedMatrix;f(E,b);var y=E[15];if(Math.abs(y)>1e-6){var S=E[12]/y,T=E[13]/y,o=E[14]/y;this.recalcMatrix(d);var P=Math.exp(this.computedRadius[0]);this.center.set(d,S-E[2]*P,T-E[6]*P,o-E[10]*P),this.radius.idle(d)}else this.center.idle(d),this.radius.idle(d)},c.setDistance=function(d,b){b>0&&this.radius.set(d,Math.log(b))},c.setDistanceLimits=function(d,b){d>0?d=Math.log(d):d=-1/0,b>0?b=Math.log(b):b=1/0,b=Math.max(b,d),this.radius.bounds[0][0]=d,this.radius.bounds[1][0]=b},c.getDistanceLimits=function(d){var b=this.radius.bounds;return d?(d[0]=Math.exp(b[0][0]),d[1]=Math.exp(b[1][0]),d):[Math.exp(b[0][0]),Math.exp(b[1][0])]},c.toJSON=function(){return this.recalcMatrix(this.lastT()),{center:this.computedCenter.slice(),rotation:this.computedRotation.slice(),distance:Math.log(this.computedRadius[0]),zoomMin:this.radius.bounds[0][0],zoomMax:this.radius.bounds[1][0]}},c.fromJSON=function(d){var b=this.lastT(),w=d.center;w&&this.center.set(b,w[0],w[1],w[2]);var E=d.rotation;E&&this.rotation.set(b,E[0],E[1],E[2],E[3]);var y=d.distance;y&&y>0&&this.radius.set(b,Math.log(y)),this.setDistanceLimits(d.zoomMin,d.zoomMax)};function i(d){d=d||{};var b=d.center||[0,0,0],w=d.rotation||[0,0,0,1],E=d.radius||1;b=[].slice.call(b,0,3),w=[].slice.call(w,0,4),h(w,w);var y=new M(w,b,Math.log(E));return y.setDistanceLimits(d.zoomMin,d.zoomMax),("eye"in d||"up"in d)&&y.lookAt(0,d.eye,d.center,d.up),y}},4930:function(v,p,r){/*!
* pad-left <https://github.com/jonschlinkert/pad-left>
*
* Copyright (c) 2014-2015, Jon Schlinkert.
* Licensed under the MIT license.
*/var t=r(6184);v.exports=function(n,f,u){return u=typeof u!="undefined"?u+"":" ",t(u,f)+n}},4405:function(v){v.exports=function(r,t){t||(t=[0,""]),r=String(r);var s=parseFloat(r,10);return t[0]=s,t[1]=r.match(/[\d.\-\+]*\s*(.*)/)[1]||"",t}},4166:function(v,p,r){v.exports=s;var t=r(9398);function s(n,f){for(var u=f.length|0,l=n.length,m=[new Array(u),new Array(u)],h=0;h<u;++h)m[0][h]=[],m[1][h]=[];for(var h=0;h<l;++h){var M=n[h];m[0][M[0]].push(M),m[1][M[1]].push(M)}for(var c=[],h=0;h<u;++h)m[0][h].length+m[1][h].length===0&&c.push([h]);function i(T,o){var P=m[o][T[o]];P.splice(P.indexOf(T),1)}function d(T,o,P){for(var x,_,I,N=0;N<2;++N)if(m[N][o].length>0){x=m[N][o][0],I=N;break}_=x[I^1];for(var k=0;k<2;++k)for(var F=m[k][o],O=0;O<F.length;++O){var z=F[O],B=z[k^1],W=t(f[T],f[o],f[_],f[B]);W>0&&(x=z,_=B,I=k)}return P||x&&i(x,I),_}function b(T,o){var P=m[o][T][0],x=[T];i(P,o);for(var _=P[o^1];;){for(;_!==T;)x.push(_),_=d(x[x.length-2],_,!1);if(m[0][T].length+m[1][T].length===0)break;var I=x[x.length-1],N=T,k=x[1],F=d(I,N,!0);if(t(f[I],f[N],f[k],f[F])<0)break;x.push(T),_=d(I,N)}return x}function w(T,o){return o[1]===o[o.length-1]}for(var h=0;h<u;++h)for(var E=0;E<2;++E){for(var y=[];m[E][h].length>0;){m[0][h].length;var S=b(h,E);w(y,S)?y.push.apply(y,S):(y.length>0&&c.push(y),y=S)}y.length>0&&c.push(y)}return c}},3959:function(v,p,r){v.exports=s;var t=r(8348);function s(n,f){for(var u=t(n,f.length),l=new Array(f.length),m=new Array(f.length),h=[],M=0;M<f.length;++M){var c=u[M].length;m[M]=c,l[M]=!0,c<=1&&h.push(M)}for(;h.length>0;){var i=h.pop();l[i]=!1;for(var d=u[i],M=0;M<d.length;++M){var b=d[M];--m[b]===0&&h.push(b)}}for(var w=new Array(f.length),E=[],M=0;M<f.length;++M)if(l[M]){var i=E.length;w[M]=i,E.push(f[M])}else w[M]=-1;for(var y=[],M=0;M<n.length;++M){var S=n[M];l[S[0]]&&l[S[1]]&&y.push([w[S[0]],w[S[1]]])}return[y,E]}},8040:function(v,p,r){v.exports=c;var t=r(8348),s=r(4166),n=r(211),f=r(9660),u=r(9662),l=r(1215),m=r(3959);function h(i,d){for(var b=new Array(i),w=0;w<i;++w)b[w]=d;return b}function M(i){for(var d=new Array(i),b=0;b<i;++b)d[b]=[];return d}function c(i,d){var j=m(i,d);i=j[0],d=j[1];var b=d.length;i.length;for(var w=t(i,d.length),E=0;E<b;++E)if(w[E].length%2===1)throw new Error("planar-graph-to-polyline: graph must be manifold");var y=s(i,d);function S(Re){for(var xe=Re.length,Me=[0],ye=0;ye<xe;++ye){var Se=d[Re[ye]],Fe=d[Re[(ye+1)%xe]],Be=f(-Se[0],Se[1]),_e=f(-Se[0],Fe[1]),Ue=f(Fe[0],Se[1]),it=f(Fe[0],Fe[1]);Me=u(Me,u(u(Be,_e),u(Ue,it)))}return Me[Me.length-1]>0}y=y.filter(S);for(var T=y.length,o=new Array(T),P=new Array(T),E=0;E<T;++E){o[E]=E;var x=new Array(T),_=y[E].map(function(xe){return d[xe]}),I=n([_]),N=0;e:for(var k=0;k<T;++k)if(x[k]=0,E!==k){for(var F=y[k],O=F.length,z=0;z<O;++z){var B=I(d[F[z]]);if(B!==0){B<0&&(x[k]=1,N+=1);continue e}}x[k]=1,N+=1}P[E]=[N,E,x]}P.sort(function(Re,xe){return xe[0]-Re[0]});for(var E=0;E<T;++E)for(var x=P[E],W=x[1],q=x[2],k=0;k<T;++k)q[k]&&(o[k]=W);for(var ee=M(T),E=0;E<T;++E)ee[E].push(o[E]),ee[o[E]].push(E);for(var Q={},oe=h(b,!1),E=0;E<T;++E)for(var F=y[E],O=F.length,k=0;k<O;++k){var Z=F[k],Y=F[(k+1)%O],te=Math.min(Z,Y)+":"+Math.max(Z,Y);if(te in Q){var X=Q[te];ee[X].push(E),ee[E].push(X),oe[Z]=oe[Y]=!0}else Q[te]=E}function $(Re){for(var xe=Re.length,Me=0;Me<xe;++Me)if(!oe[Re[Me]])return!1;return!0}for(var ie=[],J=h(T,-1),E=0;E<T;++E)o[E]===E&&!$(y[E])?(ie.push(E),J[E]=0):J[E]=-1;for(var j=[];ie.length>0;){var se=ie.pop(),ne=ee[se];l(ne,function(Re,xe){return Re-xe});var le=ne.length,pe=J[se],Ae;if(pe===0){var F=y[se];Ae=[F]}for(var E=0;E<le;++E){var be=ne[E];if(!(J[be]>=0)&&(J[be]=pe^1,ie.push(be),pe===0)){var F=y[be];$(F)||(F.reverse(),Ae.push(F))}}pe===0&&j.push(Ae)}return j}},211:function(v,p,r){v.exports=d;var t=r(417)[3],s=r(4385),n=r(9014),f=r(5070);function u(){return!0}function l(b){return function(w,E){var y=b[w];return y?!!y.queryPoint(E,u):!1}}function m(b){for(var w={},E=0;E<b.length;++E){var y=b[E],S=y[0][0],T=y[0][1],o=y[1][1],P=[Math.min(T,o),Math.max(T,o)];S in w?w[S].push(P):w[S]=[P]}for(var x={},_=Object.keys(w),E=0;E<_.length;++E){var I=w[_[E]];x[_[E]]=n(I)}return l(x)}function h(b,w){return function(E){var y=f.le(w,E[0]);if(y<0)return 1;var S=b[y];if(!S)if(y>0&&w[y]===E[0])S=b[y-1];else return 1;for(var T=1;S;){var o=S.key,P=t(E,o[0],o[1]);if(o[0][0]<o[1][0])if(P<0)S=S.left;else if(P>0)T=-1,S=S.right;else return 0;else if(P>0)S=S.left;else if(P<0)T=1,S=S.right;else return 0}return T}}function M(b){return 1}function c(b){return function(E){return b(E[0],E[1])?0:1}}function i(b,w){return function(y){return b(y[0],y[1])?0:w(y)}}function d(b){for(var w=b.length,E=[],y=[],S=0;S<w;++S)for(var T=b[S],o=T.length,P=o-1,x=0;x<o;P=x++){var _=T[P],I=T[x];_[0]===I[0]?y.push([_,I]):E.push([_,I])}if(E.length===0)return y.length===0?M:c(m(y));var N=s(E),k=h(N.slabs,N.coordinates);return y.length===0?k:i(m(y),k)}},7309:function(v){var p=new Float64Array(4),r=new Float64Array(4),t=new Float64Array(4);function s(n,f,u,l,m){p.length<l.length&&(p=new Float64Array(l.length),r=new Float64Array(l.length),t=new Float64Array(l.length));for(var h=0;h<l.length;++h)p[h]=n[h]-l[h],r[h]=f[h]-n[h],t[h]=u[h]-n[h];for(var M=0,c=0,i=0,d=0,b=0,w=0,h=0;h<l.length;++h){var E=r[h],y=t[h],S=p[h];M+=E*E,c+=E*y,i+=y*y,d+=S*E,b+=S*y,w+=S*S}var T=Math.abs(M*i-c*c),o=c*b-i*d,P=c*d-M*b,x;if(o+P<=T)if(o<0)P<0&&d<0?(P=0,-d>=M?(o=1,x=M+2*d+w):(o=-d/M,x=d*o+w)):(o=0,b>=0?(P=0,x=w):-b>=i?(P=1,x=i+2*b+w):(P=-b/i,x=b*P+w));else if(P<0)P=0,d>=0?(o=0,x=w):-d>=M?(o=1,x=M+2*d+w):(o=-d/M,x=d*o+w);else{var _=1/T;o*=_,P*=_,x=o*(M*o+c*P+2*d)+P*(c*o+i*P+2*b)+w}else{var I,N,k,F;o<0?(I=c+d,N=i+b,N>I?(k=N-I,F=M-2*c+i,k>=F?(o=1,P=0,x=M+2*d+w):(o=k/F,P=1-o,x=o*(M*o+c*P+2*d)+P*(c*o+i*P+2*b)+w)):(o=0,N<=0?(P=1,x=i+2*b+w):b>=0?(P=0,x=w):(P=-b/i,x=b*P+w))):P<0?(I=c+b,N=M+d,N>I?(k=N-I,F=M-2*c+i,k>=F?(P=1,o=0,x=i+2*b+w):(P=k/F,o=1-P,x=o*(M*o+c*P+2*d)+P*(c*o+i*P+2*b)+w)):(P=0,N<=0?(o=1,x=M+2*d+w):d>=0?(o=0,x=w):(o=-d/M,x=d*o+w))):(k=i+b-c-d,k<=0?(o=0,P=1,x=i+2*b+w):(F=M-2*c+i,k>=F?(o=1,P=0,x=M+2*d+w):(o=k/F,P=1-o,x=o*(M*o+c*P+2*d)+P*(c*o+i*P+2*b)+w)))}for(var O=1-o-P,h=0;h<l.length;++h)m[h]=O*n[h]+o*f[h]+P*u[h];return x<0?0:x}v.exports=s},1116:function(v,p,r){v.exports=r(6093)},7584:function(v,p,r){var t=r(1539);v.exports=s;function s(n,f){for(var u=n.length,l=new Array(u),m=0;m<u;++m)l[m]=t(n[m],f[m]);return l}},2826:function(v,p,r){v.exports=s;var t=r(5125);function s(n){for(var f=new Array(n.length),u=0;u<n.length;++u)f[u]=t(n[u]);return f}},4469:function(v,p,r){var t=r(5125),s=r(3962);v.exports=n;function n(f,u){for(var l=t(u),m=f.length,h=new Array(m),M=0;M<m;++M)h[M]=s(f[M],l);return h}},6695:function(v,p,r){var t=r(4354);v.exports=s;function s(n,f){for(var u=n.length,l=new Array(u),m=0;m<u;++m)l[m]=t(n[m],f[m]);return l}},7037:function(v,p,r){var t=r(9209),s=r(1284),n=r(9887);v.exports=f;function f(u){u.sort(s);for(var l=u.length,m=0,h=0;h<l;++h){var M=u[h],c=n(M);if(c!==0){if(m>0){var i=u[m-1];if(t(M,i)===0&&n(i)!==c){m-=1;continue}}u[m++]=M}}return u.length=m,u}},6184:function(v){/*!
* repeat-string <https://github.com/jonschlinkert/repeat-string>
*
* Copyright (c) 2014-2015, Jon Schlinkert.
* Licensed under the MIT License.
*/var p="",r;v.exports=t;function t(s,n){if(typeof s!="string")throw new TypeError("expected a string");if(n===1)return s;if(n===2)return s+s;var f=s.length*n;if(r!==s||typeof r=="undefined")r=s,p="";else if(p.length>=f)return p.substr(0,f);for(;f>p.length&&n>1;)n&1&&(p+=s),n>>=1,s+=s;return p+=s,p=p.substr(0,f),p}},8161:function(v,p,r){v.exports=r.g.performance&&r.g.performance.now?function(){return performance.now()}:Date.now||function(){return+new Date}},402:function(v){v.exports=p;function p(r){for(var t=r.length,s=r[r.length-1],n=t,f=t-2;f>=0;--f){var u=s,l=r[f];s=u+l;var m=s-u,h=l-m;h&&(r[--n]=s,s=h)}for(var M=0,f=n;f<t;++f){var u=r[f],l=s;s=u+l;var m=s-u,h=l-m;h&&(r[M++]=h)}return r[M++]=s,r.length=M,r}},8167:function(v,p,r){var t=r(9660),s=r(9662),n=r(8289),f=r(402),u=6;function l(w,E,y,S){return function(o){return S(w(y(o[0][0],o[1][1]),y(-o[0][1],o[1][0])))}}function m(w,E,y,S){return function(o){return S(w(E(w(y(o[1][1],o[2][2]),y(-o[1][2],o[2][1])),o[0][0]),w(E(w(y(o[1][0],o[2][2]),y(-o[1][2],o[2][0])),-o[0][1]),E(w(y(o[1][0],o[2][1]),y(-o[1][1],o[2][0])),o[0][2]))))}}function h(w,E,y,S){return function(o){return S(w(w(E(w(E(w(y(o[2][2],o[3][3]),y(-o[2][3],o[3][2])),o[1][1]),w(E(w(y(o[2][1],o[3][3]),y(-o[2][3],o[3][1])),-o[1][2]),E(w(y(o[2][1],o[3][2]),y(-o[2][2],o[3][1])),o[1][3]))),o[0][0]),E(w(E(w(y(o[2][2],o[3][3]),y(-o[2][3],o[3][2])),o[1][0]),w(E(w(y(o[2][0],o[3][3]),y(-o[2][3],o[3][0])),-o[1][2]),E(w(y(o[2][0],o[3][2]),y(-o[2][2],o[3][0])),o[1][3]))),-o[0][1])),w(E(w(E(w(y(o[2][1],o[3][3]),y(-o[2][3],o[3][1])),o[1][0]),w(E(w(y(o[2][0],o[3][3]),y(-o[2][3],o[3][0])),-o[1][1]),E(w(y(o[2][0],o[3][1]),y(-o[2][1],o[3][0])),o[1][3]))),o[0][2]),E(w(E(w(y(o[2][1],o[3][2]),y(-o[2][2],o[3][1])),o[1][0]),w(E(w(y(o[2][0],o[3][2]),y(-o[2][2],o[3][0])),-o[1][1]),E(w(y(o[2][0],o[3][1]),y(-o[2][1],o[3][0])),o[1][2]))),-o[0][3]))))}}function M(w,E,y,S){return function(o){return S(w(w(E(w(w(E(w(E(w(y(o[3][3],o[4][4]),y(-o[3][4],o[4][3])),o[2][2]),w(E(w(y(o[3][2],o[4][4]),y(-o[3][4],o[4][2])),-o[2][3]),E(w(y(o[3][2],o[4][3]),y(-o[3][3],o[4][2])),o[2][4]))),o[1][1]),E(w(E(w(y(o[3][3],o[4][4]),y(-o[3][4],o[4][3])),o[2][1]),w(E(w(y(o[3][1],o[4][4]),y(-o[3][4],o[4][1])),-o[2][3]),E(w(y(o[3][1],o[4][3]),y(-o[3][3],o[4][1])),o[2][4]))),-o[1][2])),w(E(w(E(w(y(o[3][2],o[4][4]),y(-o[3][4],o[4][2])),o[2][1]),w(E(w(y(o[3][1],o[4][4]),y(-o[3][4],o[4][1])),-o[2][2]),E(w(y(o[3][1],o[4][2]),y(-o[3][2],o[4][1])),o[2][4]))),o[1][3]),E(w(E(w(y(o[3][2],o[4][3]),y(-o[3][3],o[4][2])),o[2][1]),w(E(w(y(o[3][1],o[4][3]),y(-o[3][3],o[4][1])),-o[2][2]),E(w(y(o[3][1],o[4][2]),y(-o[3][2],o[4][1])),o[2][3]))),-o[1][4]))),o[0][0]),E(w(w(E(w(E(w(y(o[3][3],o[4][4]),y(-o[3][4],o[4][3])),o[2][2]),w(E(w(y(o[3][2],o[4][4]),y(-o[3][4],o[4][2])),-o[2][3]),E(w(y(o[3][2],o[4][3]),y(-o[3][3],o[4][2])),o[2][4]))),o[1][0]),E(w(E(w(y(o[3][3],o[4][4]),y(-o[3][4],o[4][3])),o[2][0]),w(E(w(y(o[3][0],o[4][4]),y(-o[3][4],o[4][0])),-o[2][3]),E(w(y(o[3][0],o[4][3]),y(-o[3][3],o[4][0])),o[2][4]))),-o[1][2])),w(E(w(E(w(y(o[3][2],o[4][4]),y(-o[3][4],o[4][2])),o[2][0]),w(E(w(y(o[3][0],o[4][4]),y(-o[3][4],o[4][0])),-o[2][2]),E(w(y(o[3][0],o[4][2]),y(-o[3][2],o[4][0])),o[2][4]))),o[1][3]),E(w(E(w(y(o[3][2],o[4][3]),y(-o[3][3],o[4][2])),o[2][0]),w(E(w(y(o[3][0],o[4][3]),y(-o[3][3],o[4][0])),-o[2][2]),E(w(y(o[3][0],o[4][2]),y(-o[3][2],o[4][0])),o[2][3]))),-o[1][4]))),-o[0][1])),w(E(w(w(E(w(E(w(y(o[3][3],o[4][4]),y(-o[3][4],o[4][3])),o[2][1]),w(E(w(y(o[3][1],o[4][4]),y(-o[3][4],o[4][1])),-o[2][3]),E(w(y(o[3][1],o[4][3]),y(-o[3][3],o[4][1])),o[2][4]))),o[1][0]),E(w(E(w(y(o[3][3],o[4][4]),y(-o[3][4],o[4][3])),o[2][0]),w(E(w(y(o[3][0],o[4][4]),y(-o[3][4],o[4][0])),-o[2][3]),E(w(y(o[3][0],o[4][3]),y(-o[3][3],o[4][0])),o[2][4]))),-o[1][1])),w(E(w(E(w(y(o[3][1],o[4][4]),y(-o[3][4],o[4][1])),o[2][0]),w(E(w(y(o[3][0],o[4][4]),y(-o[3][4],o[4][0])),-o[2][1]),E(w(y(o[3][0],o[4][1]),y(-o[3][1],o[4][0])),o[2][4]))),o[1][3]),E(w(E(w(y(o[3][1],o[4][3]),y(-o[3][3],o[4][1])),o[2][0]),w(E(w(y(o[3][0],o[4][3]),y(-o[3][3],o[4][0])),-o[2][1]),E(w(y(o[3][0],o[4][1]),y(-o[3][1],o[4][0])),o[2][3]))),-o[1][4]))),o[0][2]),w(E(w(w(E(w(E(w(y(o[3][2],o[4][4]),y(-o[3][4],o[4][2])),o[2][1]),w(E(w(y(o[3][1],o[4][4]),y(-o[3][4],o[4][1])),-o[2][2]),E(w(y(o[3][1],o[4][2]),y(-o[3][2],o[4][1])),o[2][4]))),o[1][0]),E(w(E(w(y(o[3][2],o[4][4]),y(-o[3][4],o[4][2])),o[2][0]),w(E(w(y(o[3][0],o[4][4]),y(-o[3][4],o[4][0])),-o[2][2]),E(w(y(o[3][0],o[4][2]),y(-o[3][2],o[4][0])),o[2][4]))),-o[1][1])),w(E(w(E(w(y(o[3][1],o[4][4]),y(-o[3][4],o[4][1])),o[2][0]),w(E(w(y(o[3][0],o[4][4]),y(-o[3][4],o[4][0])),-o[2][1]),E(w(y(o[3][0],o[4][1]),y(-o[3][1],o[4][0])),o[2][4]))),o[1][2]),E(w(E(w(y(o[3][1],o[4][2]),y(-o[3][2],o[4][1])),o[2][0]),w(E(w(y(o[3][0],o[4][2]),y(-o[3][2],o[4][0])),-o[2][1]),E(w(y(o[3][0],o[4][1]),y(-o[3][1],o[4][0])),o[2][2]))),-o[1][4]))),-o[0][3]),E(w(w(E(w(E(w(y(o[3][2],o[4][3]),y(-o[3][3],o[4][2])),o[2][1]),w(E(w(y(o[3][1],o[4][3]),y(-o[3][3],o[4][1])),-o[2][2]),E(w(y(o[3][1],o[4][2]),y(-o[3][2],o[4][1])),o[2][3]))),o[1][0]),E(w(E(w(y(o[3][2],o[4][3]),y(-o[3][3],o[4][2])),o[2][0]),w(E(w(y(o[3][0],o[4][3]),y(-o[3][3],o[4][0])),-o[2][2]),E(w(y(o[3][0],o[4][2]),y(-o[3][2],o[4][0])),o[2][3]))),-o[1][1])),w(E(w(E(w(y(o[3][1],o[4][3]),y(-o[3][3],o[4][1])),o[2][0]),w(E(w(y(o[3][0],o[4][3]),y(-o[3][3],o[4][0])),-o[2][1]),E(w(y(o[3][0],o[4][1]),y(-o[3][1],o[4][0])),o[2][3]))),o[1][2]),E(w(E(w(y(o[3][1],o[4][2]),y(-o[3][2],o[4][1])),o[2][0]),w(E(w(y(o[3][0],o[4][2]),y(-o[3][2],o[4][0])),-o[2][1]),E(w(y(o[3][0],o[4][1]),y(-o[3][1],o[4][0])),o[2][2]))),-o[1][3]))),o[0][4])))))}}function c(w){var E=w===2?l:w===3?m:w===4?h:w===5?M:void 0;return E(s,n,t,f)}var i=[function(){return[0]},function(E){return[E[0][0]]}];function d(w,E,y,S,T,o,P,x){return function(I){switch(I.length){case 0:return w(I);case 1:return E(I);case 2:return y(I);case 3:return S(I);case 4:return T(I);case 5:return o(I)}var N=P[I.length];return N||(N=P[I.length]=x(I.length)),N(I)}}function b(){for(;i.length<u;)i.push(c(i.length));v.exports=d.apply(void 0,i.concat([i,c]));for(var w=0;w<i.length;++w)v.exports[w]=i[w]}b()},9130:function(v,p,r){var t=r(9660),s=r(9662);v.exports=n;function n(f,u){for(var l=t(f[0],u[0]),m=1;m<f.length;++m)l=s(l,t(f[m],u[m]));return l}},2227:function(v,p,r){var t=r(9660),s=r(9662),n=r(4078),f=r(8289),u=6;function l(T){var o=T===3?c:T===4?i:T===5?d:b;return o(s,n,t,f)}function m(){return 0}function h(){return 0}function M(){return 0}function c(T,o,P,x){function _(I,N,k){var F=P(I[0],I[0]),O=x(F,N[0]),z=x(F,k[0]),B=P(N[0],N[0]),W=x(B,I[0]),q=x(B,k[0]),ee=P(k[0],k[0]),Q=x(ee,I[0]),oe=x(ee,N[0]),Z=T(o(oe,q),o(W,O)),Y=o(Q,z),te=o(Z,Y);return te[te.length-1]}return _}function i(T,o,P,x){function _(I,N,k,F){var O=T(P(I[0],I[0]),P(I[1],I[1])),z=x(O,N[0]),B=x(O,k[0]),W=x(O,F[0]),q=T(P(N[0],N[0]),P(N[1],N[1])),ee=x(q,I[0]),Q=x(q,k[0]),oe=x(q,F[0]),Z=T(P(k[0],k[0]),P(k[1],k[1])),Y=x(Z,I[0]),te=x(Z,N[0]),X=x(Z,F[0]),$=T(P(F[0],F[0]),P(F[1],F[1])),ie=x($,I[0]),J=x($,N[0]),j=x($,k[0]),se=T(T(x(o(j,X),N[1]),T(x(o(J,oe),-k[1]),x(o(te,Q),F[1]))),T(x(o(J,oe),I[1]),T(x(o(ie,W),-N[1]),x(o(ee,z),F[1])))),ne=T(T(x(o(j,X),I[1]),T(x(o(ie,W),-k[1]),x(o(Y,B),F[1]))),T(x(o(te,Q),I[1]),T(x(o(Y,B),-N[1]),x(o(ee,z),k[1])))),le=o(se,ne);return le[le.length-1]}return _}function d(T,o,P,x){function _(I,N,k,F,O){var z=T(P(I[0],I[0]),T(P(I[1],I[1]),P(I[2],I[2]))),B=x(z,N[0]),W=x(z,k[0]),q=x(z,F[0]),ee=x(z,O[0]),Q=T(P(N[0],N[0]),T(P(N[1],N[1]),P(N[2],N[2]))),oe=x(Q,I[0]),Z=x(Q,k[0]),Y=x(Q,F[0]),te=x(Q,O[0]),X=T(P(k[0],k[0]),T(P(k[1],k[1]),P(k[2],k[2]))),$=x(X,I[0]),ie=x(X,N[0]),J=x(X,F[0]),j=x(X,O[0]),se=T(P(F[0],F[0]),T(P(F[1],F[1]),P(F[2],F[2]))),ne=x(se,I[0]),le=x(se,N[0]),pe=x(se,k[0]),Ae=x(se,O[0]),be=T(P(O[0],O[0]),T(P(O[1],O[1]),P(O[2],O[2]))),Re=x(be,I[0]),xe=x(be,N[0]),Me=x(be,k[0]),ye=x(be,F[0]),Se=T(T(T(x(T(x(o(ye,Ae),k[1]),T(x(o(Me,j),-F[1]),x(o(pe,J),O[1]))),N[2]),T(x(T(x(o(ye,Ae),N[1]),T(x(o(xe,te),-F[1]),x(o(le,Y),O[1]))),-k[2]),x(T(x(o(Me,j),N[1]),T(x(o(xe,te),-k[1]),x(o(ie,Z),O[1]))),F[2]))),T(x(T(x(o(pe,J),N[1]),T(x(o(le,Y),-k[1]),x(o(ie,Z),F[1]))),-O[2]),T(x(T(x(o(ye,Ae),N[1]),T(x(o(xe,te),-F[1]),x(o(le,Y),O[1]))),I[2]),x(T(x(o(ye,Ae),I[1]),T(x(o(Re,ee),-F[1]),x(o(ne,q),O[1]))),-N[2])))),T(T(x(T(x(o(xe,te),I[1]),T(x(o(Re,ee),-N[1]),x(o(oe,B),O[1]))),F[2]),T(x(T(x(o(le,Y),I[1]),T(x(o(ne,q),-N[1]),x(o(oe,B),F[1]))),-O[2]),x(T(x(o(pe,J),N[1]),T(x(o(le,Y),-k[1]),x(o(ie,Z),F[1]))),I[2]))),T(x(T(x(o(pe,J),I[1]),T(x(o(ne,q),-k[1]),x(o($,W),F[1]))),-N[2]),T(x(T(x(o(le,Y),I[1]),T(x(o(ne,q),-N[1]),x(o(oe,B),F[1]))),k[2]),x(T(x(o(ie,Z),I[1]),T(x(o($,W),-N[1]),x(o(oe,B),k[1]))),-F[2]))))),Fe=T(T(T(x(T(x(o(ye,Ae),k[1]),T(x(o(Me,j),-F[1]),x(o(pe,J),O[1]))),I[2]),x(T(x(o(ye,Ae),I[1]),T(x(o(Re,ee),-F[1]),x(o(ne,q),O[1]))),-k[2])),T(x(T(x(o(Me,j),I[1]),T(x(o(Re,ee),-k[1]),x(o($,W),O[1]))),F[2]),x(T(x(o(pe,J),I[1]),T(x(o(ne,q),-k[1]),x(o($,W),F[1]))),-O[2]))),T(T(x(T(x(o(Me,j),N[1]),T(x(o(xe,te),-k[1]),x(o(ie,Z),O[1]))),I[2]),x(T(x(o(Me,j),I[1]),T(x(o(Re,ee),-k[1]),x(o($,W),O[1]))),-N[2])),T(x(T(x(o(xe,te),I[1]),T(x(o(Re,ee),-N[1]),x(o(oe,B),O[1]))),k[2]),x(T(x(o(ie,Z),I[1]),T(x(o($,W),-N[1]),x(o(oe,B),k[1]))),-O[2])))),Be=o(Se,Fe);return Be[Be.length-1]}return _}function b(T,o,P,x){function _(I,N,k,F,O,z){var B=T(T(P(I[0],I[0]),P(I[1],I[1])),T(P(I[2],I[2]),P(I[3],I[3]))),W=x(B,N[0]),q=x(B,k[0]),ee=x(B,F[0]),Q=x(B,O[0]),oe=x(B,z[0]),Z=T(T(P(N[0],N[0]),P(N[1],N[1])),T(P(N[2],N[2]),P(N[3],N[3]))),Y=x(Z,I[0]),te=x(Z,k[0]),X=x(Z,F[0]),$=x(Z,O[0]),ie=x(Z,z[0]),J=T(T(P(k[0],k[0]),P(k[1],k[1])),T(P(k[2],k[2]),P(k[3],k[3]))),j=x(J,I[0]),se=x(J,N[0]),ne=x(J,F[0]),le=x(J,O[0]),pe=x(J,z[0]),Ae=T(T(P(F[0],F[0]),P(F[1],F[1])),T(P(F[2],F[2]),P(F[3],F[3]))),be=x(Ae,I[0]),Re=x(Ae,N[0]),xe=x(Ae,k[0]),Me=x(Ae,O[0]),ye=x(Ae,z[0]),Se=T(T(P(O[0],O[0]),P(O[1],O[1])),T(P(O[2],O[2]),P(O[3],O[3]))),Fe=x(Se,I[0]),Be=x(Se,N[0]),_e=x(Se,k[0]),Ue=x(Se,F[0]),it=x(Se,z[0]),lt=T(T(P(z[0],z[0]),P(z[1],z[1])),T(P(z[2],z[2]),P(z[3],z[3]))),$e=x(lt,I[0]),qe=x(lt,N[0]),ft=x(lt,k[0]),ct=x(lt,F[0]),pt=x(lt,O[0]),yt=T(T(T(x(T(T(x(T(x(o(pt,it),F[1]),T(x(o(ct,ye),-O[1]),x(o(Ue,Me),z[1]))),k[2]),x(T(x(o(pt,it),k[1]),T(x(o(ft,pe),-O[1]),x(o(_e,le),z[1]))),-F[2])),T(x(T(x(o(ct,ye),k[1]),T(x(o(ft,pe),-F[1]),x(o(xe,ne),z[1]))),O[2]),x(T(x(o(Ue,Me),k[1]),T(x(o(_e,le),-F[1]),x(o(xe,ne),O[1]))),-z[2]))),N[3]),T(x(T(T(x(T(x(o(pt,it),F[1]),T(x(o(ct,ye),-O[1]),x(o(Ue,Me),z[1]))),N[2]),x(T(x(o(pt,it),N[1]),T(x(o(qe,ie),-O[1]),x(o(Be,$),z[1]))),-F[2])),T(x(T(x(o(ct,ye),N[1]),T(x(o(qe,ie),-F[1]),x(o(Re,X),z[1]))),O[2]),x(T(x(o(Ue,Me),N[1]),T(x(o(Be,$),-F[1]),x(o(Re,X),O[1]))),-z[2]))),-k[3]),x(T(T(x(T(x(o(pt,it),k[1]),T(x(o(ft,pe),-O[1]),x(o(_e,le),z[1]))),N[2]),x(T(x(o(pt,it),N[1]),T(x(o(qe,ie),-O[1]),x(o(Be,$),z[1]))),-k[2])),T(x(T(x(o(ft,pe),N[1]),T(x(o(qe,ie),-k[1]),x(o(se,te),z[1]))),O[2]),x(T(x(o(_e,le),N[1]),T(x(o(Be,$),-k[1]),x(o(se,te),O[1]))),-z[2]))),F[3]))),T(T(x(T(T(x(T(x(o(ct,ye),k[1]),T(x(o(ft,pe),-F[1]),x(o(xe,ne),z[1]))),N[2]),x(T(x(o(ct,ye),N[1]),T(x(o(qe,ie),-F[1]),x(o(Re,X),z[1]))),-k[2])),T(x(T(x(o(ft,pe),N[1]),T(x(o(qe,ie),-k[1]),x(o(se,te),z[1]))),F[2]),x(T(x(o(xe,ne),N[1]),T(x(o(Re,X),-k[1]),x(o(se,te),F[1]))),-z[2]))),-O[3]),x(T(T(x(T(x(o(Ue,Me),k[1]),T(x(o(_e,le),-F[1]),x(o(xe,ne),O[1]))),N[2]),x(T(x(o(Ue,Me),N[1]),T(x(o(Be,$),-F[1]),x(o(Re,X),O[1]))),-k[2])),T(x(T(x(o(_e,le),N[1]),T(x(o(Be,$),-k[1]),x(o(se,te),O[1]))),F[2]),x(T(x(o(xe,ne),N[1]),T(x(o(Re,X),-k[1]),x(o(se,te),F[1]))),-O[2]))),z[3])),T(x(T(T(x(T(x(o(pt,it),F[1]),T(x(o(ct,ye),-O[1]),x(o(Ue,Me),z[1]))),N[2]),x(T(x(o(pt,it),N[1]),T(x(o(qe,ie),-O[1]),x(o(Be,$),z[1]))),-F[2])),T(x(T(x(o(ct,ye),N[1]),T(x(o(qe,ie),-F[1]),x(o(Re,X),z[1]))),O[2]),x(T(x(o(Ue,Me),N[1]),T(x(o(Be,$),-F[1]),x(o(Re,X),O[1]))),-z[2]))),I[3]),x(T(T(x(T(x(o(pt,it),F[1]),T(x(o(ct,ye),-O[1]),x(o(Ue,Me),z[1]))),I[2]),x(T(x(o(pt,it),I[1]),T(x(o($e,oe),-O[1]),x(o(Fe,Q),z[1]))),-F[2])),T(x(T(x(o(ct,ye),I[1]),T(x(o($e,oe),-F[1]),x(o(be,ee),z[1]))),O[2]),x(T(x(o(Ue,Me),I[1]),T(x(o(Fe,Q),-F[1]),x(o(be,ee),O[1]))),-z[2]))),-N[3])))),T(T(T(x(T(T(x(T(x(o(pt,it),N[1]),T(x(o(qe,ie),-O[1]),x(o(Be,$),z[1]))),I[2]),x(T(x(o(pt,it),I[1]),T(x(o($e,oe),-O[1]),x(o(Fe,Q),z[1]))),-N[2])),T(x(T(x(o(qe,ie),I[1]),T(x(o($e,oe),-N[1]),x(o(Y,W),z[1]))),O[2]),x(T(x(o(Be,$),I[1]),T(x(o(Fe,Q),-N[1]),x(o(Y,W),O[1]))),-z[2]))),F[3]),x(T(T(x(T(x(o(ct,ye),N[1]),T(x(o(qe,ie),-F[1]),x(o(Re,X),z[1]))),I[2]),x(T(x(o(ct,ye),I[1]),T(x(o($e,oe),-F[1]),x(o(be,ee),z[1]))),-N[2])),T(x(T(x(o(qe,ie),I[1]),T(x(o($e,oe),-N[1]),x(o(Y,W),z[1]))),F[2]),x(T(x(o(Re,X),I[1]),T(x(o(be,ee),-N[1]),x(o(Y,W),F[1]))),-z[2]))),-O[3])),T(x(T(T(x(T(x(o(Ue,Me),N[1]),T(x(o(Be,$),-F[1]),x(o(Re,X),O[1]))),I[2]),x(T(x(o(Ue,Me),I[1]),T(x(o(Fe,Q),-F[1]),x(o(be,ee),O[1]))),-N[2])),T(x(T(x(o(Be,$),I[1]),T(x(o(Fe,Q),-N[1]),x(o(Y,W),O[1]))),F[2]),x(T(x(o(Re,X),I[1]),T(x(o(be,ee),-N[1]),x(o(Y,W),F[1]))),-O[2]))),z[3]),x(T(T(x(T(x(o(ct,ye),k[1]),T(x(o(ft,pe),-F[1]),x(o(xe,ne),z[1]))),N[2]),x(T(x(o(ct,ye),N[1]),T(x(o(qe,ie),-F[1]),x(o(Re,X),z[1]))),-k[2])),T(x(T(x(o(ft,pe),N[1]),T(x(o(qe,ie),-k[1]),x(o(se,te),z[1]))),F[2]),x(T(x(o(xe,ne),N[1]),T(x(o(Re,X),-k[1]),x(o(se,te),F[1]))),-z[2]))),I[3]))),T(T(x(T(T(x(T(x(o(ct,ye),k[1]),T(x(o(ft,pe),-F[1]),x(o(xe,ne),z[1]))),I[2]),x(T(x(o(ct,ye),I[1]),T(x(o($e,oe),-F[1]),x(o(be,ee),z[1]))),-k[2])),T(x(T(x(o(ft,pe),I[1]),T(x(o($e,oe),-k[1]),x(o(j,q),z[1]))),F[2]),x(T(x(o(xe,ne),I[1]),T(x(o(be,ee),-k[1]),x(o(j,q),F[1]))),-z[2]))),-N[3]),x(T(T(x(T(x(o(ct,ye),N[1]),T(x(o(qe,ie),-F[1]),x(o(Re,X),z[1]))),I[2]),x(T(x(o(ct,ye),I[1]),T(x(o($e,oe),-F[1]),x(o(be,ee),z[1]))),-N[2])),T(x(T(x(o(qe,ie),I[1]),T(x(o($e,oe),-N[1]),x(o(Y,W),z[1]))),F[2]),x(T(x(o(Re,X),I[1]),T(x(o(be,ee),-N[1]),x(o(Y,W),F[1]))),-z[2]))),k[3])),T(x(T(T(x(T(x(o(ft,pe),N[1]),T(x(o(qe,ie),-k[1]),x(o(se,te),z[1]))),I[2]),x(T(x(o(ft,pe),I[1]),T(x(o($e,oe),-k[1]),x(o(j,q),z[1]))),-N[2])),T(x(T(x(o(qe,ie),I[1]),T(x(o($e,oe),-N[1]),x(o(Y,W),z[1]))),k[2]),x(T(x(o(se,te),I[1]),T(x(o(j,q),-N[1]),x(o(Y,W),k[1]))),-z[2]))),-F[3]),x(T(T(x(T(x(o(xe,ne),N[1]),T(x(o(Re,X),-k[1]),x(o(se,te),F[1]))),I[2]),x(T(x(o(xe,ne),I[1]),T(x(o(be,ee),-k[1]),x(o(j,q),F[1]))),-N[2])),T(x(T(x(o(Re,X),I[1]),T(x(o(be,ee),-N[1]),x(o(Y,W),F[1]))),k[2]),x(T(x(o(se,te),I[1]),T(x(o(j,q),-N[1]),x(o(Y,W),k[1]))),-F[2]))),z[3]))))),Et=T(T(T(x(T(T(x(T(x(o(pt,it),F[1]),T(x(o(ct,ye),-O[1]),x(o(Ue,Me),z[1]))),k[2]),x(T(x(o(pt,it),k[1]),T(x(o(ft,pe),-O[1]),x(o(_e,le),z[1]))),-F[2])),T(x(T(x(o(ct,ye),k[1]),T(x(o(ft,pe),-F[1]),x(o(xe,ne),z[1]))),O[2]),x(T(x(o(Ue,Me),k[1]),T(x(o(_e,le),-F[1]),x(o(xe,ne),O[1]))),-z[2]))),I[3]),T(x(T(T(x(T(x(o(pt,it),F[1]),T(x(o(ct,ye),-O[1]),x(o(Ue,Me),z[1]))),I[2]),x(T(x(o(pt,it),I[1]),T(x(o($e,oe),-O[1]),x(o(Fe,Q),z[1]))),-F[2])),T(x(T(x(o(ct,ye),I[1]),T(x(o($e,oe),-F[1]),x(o(be,ee),z[1]))),O[2]),x(T(x(o(Ue,Me),I[1]),T(x(o(Fe,Q),-F[1]),x(o(be,ee),O[1]))),-z[2]))),-k[3]),x(T(T(x(T(x(o(pt,it),k[1]),T(x(o(ft,pe),-O[1]),x(o(_e,le),z[1]))),I[2]),x(T(x(o(pt,it),I[1]),T(x(o($e,oe),-O[1]),x(o(Fe,Q),z[1]))),-k[2])),T(x(T(x(o(ft,pe),I[1]),T(x(o($e,oe),-k[1]),x(o(j,q),z[1]))),O[2]),x(T(x(o(_e,le),I[1]),T(x(o(Fe,Q),-k[1]),x(o(j,q),O[1]))),-z[2]))),F[3]))),T(T(x(T(T(x(T(x(o(ct,ye),k[1]),T(x(o(ft,pe),-F[1]),x(o(xe,ne),z[1]))),I[2]),x(T(x(o(ct,ye),I[1]),T(x(o($e,oe),-F[1]),x(o(be,ee),z[1]))),-k[2])),T(x(T(x(o(ft,pe),I[1]),T(x(o($e,oe),-k[1]),x(o(j,q),z[1]))),F[2]),x(T(x(o(xe,ne),I[1]),T(x(o(be,ee),-k[1]),x(o(j,q),F[1]))),-z[2]))),-O[3]),x(T(T(x(T(x(o(Ue,Me),k[1]),T(x(o(_e,le),-F[1]),x(o(xe,ne),O[1]))),I[2]),x(T(x(o(Ue,Me),I[1]),T(x(o(Fe,Q),-F[1]),x(o(be,ee),O[1]))),-k[2])),T(x(T(x(o(_e,le),I[1]),T(x(o(Fe,Q),-k[1]),x(o(j,q),O[1]))),F[2]),x(T(x(o(xe,ne),I[1]),T(x(o(be,ee),-k[1]),x(o(j,q),F[1]))),-O[2]))),z[3])),T(x(T(T(x(T(x(o(pt,it),k[1]),T(x(o(ft,pe),-O[1]),x(o(_e,le),z[1]))),N[2]),x(T(x(o(pt,it),N[1]),T(x(o(qe,ie),-O[1]),x(o(Be,$),z[1]))),-k[2])),T(x(T(x(o(ft,pe),N[1]),T(x(o(qe,ie),-k[1]),x(o(se,te),z[1]))),O[2]),x(T(x(o(_e,le),N[1]),T(x(o(Be,$),-k[1]),x(o(se,te),O[1]))),-z[2]))),I[3]),x(T(T(x(T(x(o(pt,it),k[1]),T(x(o(ft,pe),-O[1]),x(o(_e,le),z[1]))),I[2]),x(T(x(o(pt,it),I[1]),T(x(o($e,oe),-O[1]),x(o(Fe,Q),z[1]))),-k[2])),T(x(T(x(o(ft,pe),I[1]),T(x(o($e,oe),-k[1]),x(o(j,q),z[1]))),O[2]),x(T(x(o(_e,le),I[1]),T(x(o(Fe,Q),-k[1]),x(o(j,q),O[1]))),-z[2]))),-N[3])))),T(T(T(x(T(T(x(T(x(o(pt,it),N[1]),T(x(o(qe,ie),-O[1]),x(o(Be,$),z[1]))),I[2]),x(T(x(o(pt,it),I[1]),T(x(o($e,oe),-O[1]),x(o(Fe,Q),z[1]))),-N[2])),T(x(T(x(o(qe,ie),I[1]),T(x(o($e,oe),-N[1]),x(o(Y,W),z[1]))),O[2]),x(T(x(o(Be,$),I[1]),T(x(o(Fe,Q),-N[1]),x(o(Y,W),O[1]))),-z[2]))),k[3]),x(T(T(x(T(x(o(ft,pe),N[1]),T(x(o(qe,ie),-k[1]),x(o(se,te),z[1]))),I[2]),x(T(x(o(ft,pe),I[1]),T(x(o($e,oe),-k[1]),x(o(j,q),z[1]))),-N[2])),T(x(T(x(o(qe,ie),I[1]),T(x(o($e,oe),-N[1]),x(o(Y,W),z[1]))),k[2]),x(T(x(o(se,te),I[1]),T(x(o(j,q),-N[1]),x(o(Y,W),k[1]))),-z[2]))),-O[3])),T(x(T(T(x(T(x(o(_e,le),N[1]),T(x(o(Be,$),-k[1]),x(o(se,te),O[1]))),I[2]),x(T(x(o(_e,le),I[1]),T(x(o(Fe,Q),-k[1]),x(o(j,q),O[1]))),-N[2])),T(x(T(x(o(Be,$),I[1]),T(x(o(Fe,Q),-N[1]),x(o(Y,W),O[1]))),k[2]),x(T(x(o(se,te),I[1]),T(x(o(j,q),-N[1]),x(o(Y,W),k[1]))),-O[2]))),z[3]),x(T(T(x(T(x(o(Ue,Me),k[1]),T(x(o(_e,le),-F[1]),x(o(xe,ne),O[1]))),N[2]),x(T(x(o(Ue,Me),N[1]),T(x(o(Be,$),-F[1]),x(o(Re,X),O[1]))),-k[2])),T(x(T(x(o(_e,le),N[1]),T(x(o(Be,$),-k[1]),x(o(se,te),O[1]))),F[2]),x(T(x(o(xe,ne),N[1]),T(x(o(Re,X),-k[1]),x(o(se,te),F[1]))),-O[2]))),I[3]))),T(T(x(T(T(x(T(x(o(Ue,Me),k[1]),T(x(o(_e,le),-F[1]),x(o(xe,ne),O[1]))),I[2]),x(T(x(o(Ue,Me),I[1]),T(x(o(Fe,Q),-F[1]),x(o(be,ee),O[1]))),-k[2])),T(x(T(x(o(_e,le),I[1]),T(x(o(Fe,Q),-k[1]),x(o(j,q),O[1]))),F[2]),x(T(x(o(xe,ne),I[1]),T(x(o(be,ee),-k[1]),x(o(j,q),F[1]))),-O[2]))),-N[3]),x(T(T(x(T(x(o(Ue,Me),N[1]),T(x(o(Be,$),-F[1]),x(o(Re,X),O[1]))),I[2]),x(T(x(o(Ue,Me),I[1]),T(x(o(Fe,Q),-F[1]),x(o(be,ee),O[1]))),-N[2])),T(x(T(x(o(Be,$),I[1]),T(x(o(Fe,Q),-N[1]),x(o(Y,W),O[1]))),F[2]),x(T(x(o(Re,X),I[1]),T(x(o(be,ee),-N[1]),x(o(Y,W),F[1]))),-O[2]))),k[3])),T(x(T(T(x(T(x(o(_e,le),N[1]),T(x(o(Be,$),-k[1]),x(o(se,te),O[1]))),I[2]),x(T(x(o(_e,le),I[1]),T(x(o(Fe,Q),-k[1]),x(o(j,q),O[1]))),-N[2])),T(x(T(x(o(Be,$),I[1]),T(x(o(Fe,Q),-N[1]),x(o(Y,W),O[1]))),k[2]),x(T(x(o(se,te),I[1]),T(x(o(j,q),-N[1]),x(o(Y,W),k[1]))),-O[2]))),-F[3]),x(T(T(x(T(x(o(xe,ne),N[1]),T(x(o(Re,X),-k[1]),x(o(se,te),F[1]))),I[2]),x(T(x(o(xe,ne),I[1]),T(x(o(be,ee),-k[1]),x(o(j,q),F[1]))),-N[2])),T(x(T(x(o(Re,X),I[1]),T(x(o(be,ee),-N[1]),x(o(Y,W),F[1]))),k[2]),x(T(x(o(se,te),I[1]),T(x(o(j,q),-N[1]),x(o(Y,W),k[1]))),-F[2]))),O[3]))))),tt=o(yt,Et);return tt[tt.length-1]}return _}var w=[m,h,M];function E(T){var o=w[T.length];return o||(o=w[T.length]=l(T.length)),o.apply(void 0,T)}function y(T,o,P,x,_,I,N,k){function F(O,z,B,W,q,ee){switch(arguments.length){case 0:case 1:return 0;case 2:return x(O,z);case 3:return _(O,z,B);case 4:return I(O,z,B,W);case 5:return N(O,z,B,W,q);case 6:return k(O,z,B,W,q,ee)}for(var Q=new Array(arguments.length),oe=0;oe<arguments.length;++oe)Q[oe]=arguments[oe];return T(Q)}return F}function S(){for(;w.length<=u;)w.push(l(w.length));v.exports=y.apply(void 0,[E].concat(w));for(var T=0;T<=u;++T)v.exports[T]=w[T]}S()},6606:function(v,p,r){var t=r(8167),s=6;function n(w){var E=w===2?l:w===3?m:w===4?h:w===5?M:c;return w<6?E(t[w]):E(t)}function f(){return[[0]]}function u(w,E){return[[E[0]],[w[0][0]]]}function l(w){return function(y,S){return[w([[+S[0],+y[0][1]],[+S[1],+y[1][1]]]),w([[+y[0][0],+S[0]],[+y[1][0],+S[1]]]),w(y)]}}function m(w){return function(y,S){return[w([[+S[0],+y[0][1],+y[0][2]],[+S[1],+y[1][1],+y[1][2]],[+S[2],+y[2][1],+y[2][2]]]),w([[+y[0][0],+S[0],+y[0][2]],[+y[1][0],+S[1],+y[1][2]],[+y[2][0],+S[2],+y[2][2]]]),w([[+y[0][0],+y[0][1],+S[0]],[+y[1][0],+y[1][1],+S[1]],[+y[2][0],+y[2][1],+S[2]]]),w(y)]}}function h(w){return function(y,S){return[w([[+S[0],+y[0][1],+y[0][2],+y[0][3]],[+S[1],+y[1][1],+y[1][2],+y[1][3]],[+S[2],+y[2][1],+y[2][2],+y[2][3]],[+S[3],+y[3][1],+y[3][2],+y[3][3]]]),w([[+y[0][0],+S[0],+y[0][2],+y[0][3]],[+y[1][0],+S[1],+y[1][2],+y[1][3]],[+y[2][0],+S[2],+y[2][2],+y[2][3]],[+y[3][0],+S[3],+y[3][2],+y[3][3]]]),w([[+y[0][0],+y[0][1],+S[0],+y[0][3]],[+y[1][0],+y[1][1],+S[1],+y[1][3]],[+y[2][0],+y[2][1],+S[2],+y[2][3]],[+y[3][0],+y[3][1],+S[3],+y[3][3]]]),w([[+y[0][0],+y[0][1],+y[0][2],+S[0]],[+y[1][0],+y[1][1],+y[1][2],+S[1]],[+y[2][0],+y[2][1],+y[2][2],+S[2]],[+y[3][0],+y[3][1],+y[3][2],+S[3]]]),w(y)]}}function M(w){return function(y,S){return[w([[+S[0],+y[0][1],+y[0][2],+y[0][3],+y[0][4]],[+S[1],+y[1][1],+y[1][2],+y[1][3],+y[1][4]],[+S[2],+y[2][1],+y[2][2],+y[2][3],+y[2][4]],[+S[3],+y[3][1],+y[3][2],+y[3][3],+y[3][4]],[+S[4],+y[4][1],+y[4][2],+y[4][3],+y[4][4]]]),w([[+y[0][0],+S[0],+y[0][2],+y[0][3],+y[0][4]],[+y[1][0],+S[1],+y[1][2],+y[1][3],+y[1][4]],[+y[2][0],+S[2],+y[2][2],+y[2][3],+y[2][4]],[+y[3][0],+S[3],+y[3][2],+y[3][3],+y[3][4]],[+y[4][0],+S[4],+y[4][2],+y[4][3],+y[4][4]]]),w([[+y[0][0],+y[0][1],+S[0],+y[0][3],+y[0][4]],[+y[1][0],+y[1][1],+S[1],+y[1][3],+y[1][4]],[+y[2][0],+y[2][1],+S[2],+y[2][3],+y[2][4]],[+y[3][0],+y[3][1],+S[3],+y[3][3],+y[3][4]],[+y[4][0],+y[4][1],+S[4],+y[4][3],+y[4][4]]]),w([[+y[0][0],+y[0][1],+y[0][2],+S[0],+y[0][4]],[+y[1][0],+y[1][1],+y[1][2],+S[1],+y[1][4]],[+y[2][0],+y[2][1],+y[2][2],+S[2],+y[2][4]],[+y[3][0],+y[3][1],+y[3][2],+S[3],+y[3][4]],[+y[4][0],+y[4][1],+y[4][2],+S[4],+y[4][4]]]),w([[+y[0][0],+y[0][1],+y[0][2],+y[0][3],+S[0]],[+y[1][0],+y[1][1],+y[1][2],+y[1][3],+S[1]],[+y[2][0],+y[2][1],+y[2][2],+y[2][3],+S[2]],[+y[3][0],+y[3][1],+y[3][2],+y[3][3],+S[3]],[+y[4][0],+y[4][1],+y[4][2],+y[4][3],+S[4]]]),w(y)]}}function c(w){return function(y,S){return[w([[+S[0],+y[0][1],+y[0][2],+y[0][3],+y[0][4],+y[0][5]],[+S[1],+y[1][1],+y[1][2],+y[1][3],+y[1][4],+y[1][5]],[+S[2],+y[2][1],+y[2][2],+y[2][3],+y[2][4],+y[2][5]],[+S[3],+y[3][1],+y[3][2],+y[3][3],+y[3][4],+y[3][5]],[+S[4],+y[4][1],+y[4][2],+y[4][3],+y[4][4],+y[4][5]],[+S[5],+y[5][1],+y[5][2],+y[5][3],+y[5][4],+y[5][5]]]),w([[+y[0][0],+S[0],+y[0][2],+y[0][3],+y[0][4],+y[0][5]],[+y[1][0],+S[1],+y[1][2],+y[1][3],+y[1][4],+y[1][5]],[+y[2][0],+S[2],+y[2][2],+y[2][3],+y[2][4],+y[2][5]],[+y[3][0],+S[3],+y[3][2],+y[3][3],+y[3][4],+y[3][5]],[+y[4][0],+S[4],+y[4][2],+y[4][3],+y[4][4],+y[4][5]],[+y[5][0],+S[5],+y[5][2],+y[5][3],+y[5][4],+y[5][5]]]),w([[+y[0][0],+y[0][1],+S[0],+y[0][3],+y[0][4],+y[0][5]],[+y[1][0],+y[1][1],+S[1],+y[1][3],+y[1][4],+y[1][5]],[+y[2][0],+y[2][1],+S[2],+y[2][3],+y[2][4],+y[2][5]],[+y[3][0],+y[3][1],+S[3],+y[3][3],+y[3][4],+y[3][5]],[+y[4][0],+y[4][1],+S[4],+y[4][3],+y[4][4],+y[4][5]],[+y[5][0],+y[5][1],+S[5],+y[5][3],+y[5][4],+y[5][5]]]),w([[+y[0][0],+y[0][1],+y[0][2],+S[0],+y[0][4],+y[0][5]],[+y[1][0],+y[1][1],+y[1][2],+S[1],+y[1][4],+y[1][5]],[+y[2][0],+y[2][1],+y[2][2],+S[2],+y[2][4],+y[2][5]],[+y[3][0],+y[3][1],+y[3][2],+S[3],+y[3][4],+y[3][5]],[+y[4][0],+y[4][1],+y[4][2],+S[4],+y[4][4],+y[4][5]],[+y[5][0],+y[5][1],+y[5][2],+S[5],+y[5][4],+y[5][5]]]),w([[+y[0][0],+y[0][1],+y[0][2],+y[0][3],+S[0],+y[0][5]],[+y[1][0],+y[1][1],+y[1][2],+y[1][3],+S[1],+y[1][5]],[+y[2][0],+y[2][1],+y[2][2],+y[2][3],+S[2],+y[2][5]],[+y[3][0],+y[3][1],+y[3][2],+y[3][3],+S[3],+y[3][5]],[+y[4][0],+y[4][1],+y[4][2],+y[4][3],+S[4],+y[4][5]],[+y[5][0],+y[5][1],+y[5][2],+y[5][3],+S[5],+y[5][5]]]),w([[+y[0][0],+y[0][1],+y[0][2],+y[0][3],+y[0][4],+S[0]],[+y[1][0],+y[1][1],+y[1][2],+y[1][3],+y[1][4],+S[1]],[+y[2][0],+y[2][1],+y[2][2],+y[2][3],+y[2][4],+S[2]],[+y[3][0],+y[3][1],+y[3][2],+y[3][3],+y[3][4],+S[3]],[+y[4][0],+y[4][1],+y[4][2],+y[4][3],+y[4][4],+S[4]],[+y[5][0],+y[5][1],+y[5][2],+y[5][3],+y[5][4],+S[5]]]),w(y)]}}var i=[f,u];function d(w,E,y,S,T,o,P,x){return function(I,N){switch(I.length){case 0:return w(I,N);case 1:return E(I,N);case 2:return y(I,N);case 3:return S(I,N);case 4:return T(I,N);case 5:return o(I,N)}var k=P[I.length];return k||(k=P[I.length]=x(I.length)),k(I,N)}}function b(){for(;i.length<s;)i.push(n(i.length));v.exports=d.apply(void 0,i.concat([i,n]));for(var w=0;w<s;++w)v.exports[w]=i[w]}b()},417:function(v,p,r){var t=r(9660),s=r(9662),n=r(8289),f=r(4078),u=5,l=11102230246251565e-32,m=(3+16*l)*l,h=(7+56*l)*l;function M(o,P,x,_){return function(N,k,F){var O=o(o(P(k[1],F[0]),P(-F[1],k[0])),o(P(N[1],k[0]),P(-k[1],N[0]))),z=o(P(N[1],F[0]),P(-F[1],N[0])),B=_(O,z);return B[B.length-1]}}function c(o,P,x,_){return function(N,k,F,O){var z=o(o(x(o(P(F[1],O[0]),P(-O[1],F[0])),k[2]),o(x(o(P(k[1],O[0]),P(-O[1],k[0])),-F[2]),x(o(P(k[1],F[0]),P(-F[1],k[0])),O[2]))),o(x(o(P(k[1],O[0]),P(-O[1],k[0])),N[2]),o(x(o(P(N[1],O[0]),P(-O[1],N[0])),-k[2]),x(o(P(N[1],k[0]),P(-k[1],N[0])),O[2])))),B=o(o(x(o(P(F[1],O[0]),P(-O[1],F[0])),N[2]),o(x(o(P(N[1],O[0]),P(-O[1],N[0])),-F[2]),x(o(P(N[1],F[0]),P(-F[1],N[0])),O[2]))),o(x(o(P(k[1],F[0]),P(-F[1],k[0])),N[2]),o(x(o(P(N[1],F[0]),P(-F[1],N[0])),-k[2]),x(o(P(N[1],k[0]),P(-k[1],N[0])),F[2])))),W=_(z,B);return W[W.length-1]}}function i(o,P,x,_){return function(N,k,F,O,z){var B=o(o(o(x(o(x(o(P(O[1],z[0]),P(-z[1],O[0])),F[2]),o(x(o(P(F[1],z[0]),P(-z[1],F[0])),-O[2]),x(o(P(F[1],O[0]),P(-O[1],F[0])),z[2]))),k[3]),o(x(o(x(o(P(O[1],z[0]),P(-z[1],O[0])),k[2]),o(x(o(P(k[1],z[0]),P(-z[1],k[0])),-O[2]),x(o(P(k[1],O[0]),P(-O[1],k[0])),z[2]))),-F[3]),x(o(x(o(P(F[1],z[0]),P(-z[1],F[0])),k[2]),o(x(o(P(k[1],z[0]),P(-z[1],k[0])),-F[2]),x(o(P(k[1],F[0]),P(-F[1],k[0])),z[2]))),O[3]))),o(x(o(x(o(P(F[1],O[0]),P(-O[1],F[0])),k[2]),o(x(o(P(k[1],O[0]),P(-O[1],k[0])),-F[2]),x(o(P(k[1],F[0]),P(-F[1],k[0])),O[2]))),-z[3]),o(x(o(x(o(P(O[1],z[0]),P(-z[1],O[0])),k[2]),o(x(o(P(k[1],z[0]),P(-z[1],k[0])),-O[2]),x(o(P(k[1],O[0]),P(-O[1],k[0])),z[2]))),N[3]),x(o(x(o(P(O[1],z[0]),P(-z[1],O[0])),N[2]),o(x(o(P(N[1],z[0]),P(-z[1],N[0])),-O[2]),x(o(P(N[1],O[0]),P(-O[1],N[0])),z[2]))),-k[3])))),o(o(x(o(x(o(P(k[1],z[0]),P(-z[1],k[0])),N[2]),o(x(o(P(N[1],z[0]),P(-z[1],N[0])),-k[2]),x(o(P(N[1],k[0]),P(-k[1],N[0])),z[2]))),O[3]),o(x(o(x(o(P(k[1],O[0]),P(-O[1],k[0])),N[2]),o(x(o(P(N[1],O[0]),P(-O[1],N[0])),-k[2]),x(o(P(N[1],k[0]),P(-k[1],N[0])),O[2]))),-z[3]),x(o(x(o(P(F[1],O[0]),P(-O[1],F[0])),k[2]),o(x(o(P(k[1],O[0]),P(-O[1],k[0])),-F[2]),x(o(P(k[1],F[0]),P(-F[1],k[0])),O[2]))),N[3]))),o(x(o(x(o(P(F[1],O[0]),P(-O[1],F[0])),N[2]),o(x(o(P(N[1],O[0]),P(-O[1],N[0])),-F[2]),x(o(P(N[1],F[0]),P(-F[1],N[0])),O[2]))),-k[3]),o(x(o(x(o(P(k[1],O[0]),P(-O[1],k[0])),N[2]),o(x(o(P(N[1],O[0]),P(-O[1],N[0])),-k[2]),x(o(P(N[1],k[0]),P(-k[1],N[0])),O[2]))),F[3]),x(o(x(o(P(k[1],F[0]),P(-F[1],k[0])),N[2]),o(x(o(P(N[1],F[0]),P(-F[1],N[0])),-k[2]),x(o(P(N[1],k[0]),P(-k[1],N[0])),F[2]))),-O[3]))))),W=o(o(o(x(o(x(o(P(O[1],z[0]),P(-z[1],O[0])),F[2]),o(x(o(P(F[1],z[0]),P(-z[1],F[0])),-O[2]),x(o(P(F[1],O[0]),P(-O[1],F[0])),z[2]))),N[3]),x(o(x(o(P(O[1],z[0]),P(-z[1],O[0])),N[2]),o(x(o(P(N[1],z[0]),P(-z[1],N[0])),-O[2]),x(o(P(N[1],O[0]),P(-O[1],N[0])),z[2]))),-F[3])),o(x(o(x(o(P(F[1],z[0]),P(-z[1],F[0])),N[2]),o(x(o(P(N[1],z[0]),P(-z[1],N[0])),-F[2]),x(o(P(N[1],F[0]),P(-F[1],N[0])),z[2]))),O[3]),x(o(x(o(P(F[1],O[0]),P(-O[1],F[0])),N[2]),o(x(o(P(N[1],O[0]),P(-O[1],N[0])),-F[2]),x(o(P(N[1],F[0]),P(-F[1],N[0])),O[2]))),-z[3]))),o(o(x(o(x(o(P(F[1],z[0]),P(-z[1],F[0])),k[2]),o(x(o(P(k[1],z[0]),P(-z[1],k[0])),-F[2]),x(o(P(k[1],F[0]),P(-F[1],k[0])),z[2]))),N[3]),x(o(x(o(P(F[1],z[0]),P(-z[1],F[0])),N[2]),o(x(o(P(N[1],z[0]),P(-z[1],N[0])),-F[2]),x(o(P(N[1],F[0]),P(-F[1],N[0])),z[2]))),-k[3])),o(x(o(x(o(P(k[1],z[0]),P(-z[1],k[0])),N[2]),o(x(o(P(N[1],z[0]),P(-z[1],N[0])),-k[2]),x(o(P(N[1],k[0]),P(-k[1],N[0])),z[2]))),F[3]),x(o(x(o(P(k[1],F[0]),P(-F[1],k[0])),N[2]),o(x(o(P(N[1],F[0]),P(-F[1],N[0])),-k[2]),x(o(P(N[1],k[0]),P(-k[1],N[0])),F[2]))),-z[3])))),q=_(B,W);return q[q.length-1]}}function d(o){var P=o===3?M:o===4?c:i;return P(s,t,n,f)}var b=d(3),w=d(4),E=[function(){return 0},function(){return 0},function(P,x){return x[0]-P[0]},function(P,x,_){var I=(P[1]-_[1])*(x[0]-_[0]),N=(P[0]-_[0])*(x[1]-_[1]),k=I-N,F;if(I>0){if(N<=0)return k;F=I+N}else if(I<0){if(N>=0)return k;F=-(I+N)}else return k;var O=m*F;return k>=O||k<=-O?k:b(P,x,_)},function(P,x,_,I){var N=P[0]-I[0],k=x[0]-I[0],F=_[0]-I[0],O=P[1]-I[1],z=x[1]-I[1],B=_[1]-I[1],W=P[2]-I[2],q=x[2]-I[2],ee=_[2]-I[2],Q=k*B,oe=F*z,Z=F*O,Y=N*B,te=N*z,X=k*O,$=W*(Q-oe)+q*(Z-Y)+ee*(te-X),ie=(Math.abs(Q)+Math.abs(oe))*Math.abs(W)+(Math.abs(Z)+Math.abs(Y))*Math.abs(q)+(Math.abs(te)+Math.abs(X))*Math.abs(ee),J=h*ie;return $>J||-$>J?$:w(P,x,_,I)}];function y(o){var P=E[o.length];return P||(P=E[o.length]=d(o.length)),P.apply(void 0,o)}function S(o,P,x,_,I,N,k){return function(O,z,B,W,q){switch(arguments.length){case 0:case 1:return 0;case 2:return _(O,z);case 3:return I(O,z,B);case 4:return N(O,z,B,W);case 5:return k(O,z,B,W,q)}for(var ee=new Array(arguments.length),Q=0;Q<arguments.length;++Q)ee[Q]=arguments[Q];return o(ee)}}function T(){for(;E.length<=u;)E.push(d(E.length));v.exports=S.apply(void 0,[y].concat(E));for(var o=0;o<=u;++o)v.exports[o]=E[o]}T()},2019:function(v,p,r){var t=r(9662),s=r(8289);v.exports=n;function n(f,u){if(f.length===1)return s(u,f[0]);if(u.length===1)return s(f,u[0]);if(f.length===0||u.length===0)return[0];var l=[0];if(f.length<u.length)for(var m=0;m<f.length;++m)l=t(l,s(u,f[m]));else for(var m=0;m<u.length;++m)l=t(l,s(f,u[m]));return l}},8289:function(v,p,r){var t=r(9660),s=r(87);v.exports=n;function n(f,u){var l=f.length;if(l===1){var m=t(f[0],u);return m[0]?m:[m[1]]}var h=new Array(2*l),M=[.1,.1],c=[.1,.1],i=0;t(f[0],u,M),M[0]&&(h[i++]=M[0]);for(var d=1;d<l;++d){t(f[d],u,c);var b=M[1];s(b,c[0],M),M[0]&&(h[i++]=M[0]);var w=c[1],E=M[1],y=w+E,S=y-w,T=E-S;M[1]=y,T&&(h[i++]=T)}return M[1]&&(h[i++]=M[1]),i===0&&(h[i++]=0),h.length=i,h}},4434:function(v,p,r){v.exports=n;var t=r(417)[3];function s(f,u,l,m){for(var h=0;h<2;++h){var M=f[h],c=u[h],i=Math.min(M,c),d=Math.max(M,c),b=l[h],w=m[h],E=Math.min(b,w),y=Math.max(b,w);if(y<i||d<E)return!1}return!0}function n(f,u,l,m){var h=t(f,l,m),M=t(u,l,m);if(h>0&&M>0||h<0&&M<0)return!1;var c=t(l,f,u),i=t(m,f,u);return c>0&&i>0||c<0&&i<0?!1:h===0&&M===0&&c===0&&i===0?s(f,u,l,m):!0}},4078:function(v){v.exports=r;function p(t,s){var n=t+s,f=n-t,u=n-f,l=s-f,m=t-u,h=m+l;return h?[h,n]:[n]}function r(t,s){var n=t.length|0,f=s.length|0;if(n===1&&f===1)return p(t[0],-s[0]);var u=n+f,l=new Array(u),m=0,h=0,M=0,c=Math.abs,i=t[h],d=c(i),b=-s[M],w=c(b),E,y;d<w?(y=i,h+=1,h<n&&(i=t[h],d=c(i))):(y=b,M+=1,M<f&&(b=-s[M],w=c(b))),h<n&&d<w||M>=f?(E=i,h+=1,h<n&&(i=t[h],d=c(i))):(E=b,M+=1,M<f&&(b=-s[M],w=c(b)));for(var S=E+y,T=S-E,o=y-T,P=o,x=S,_,I,N,k,F;h<n&&M<f;)d<w?(E=i,h+=1,h<n&&(i=t[h],d=c(i))):(E=b,M+=1,M<f&&(b=-s[M],w=c(b))),y=P,S=E+y,T=S-E,o=y-T,o&&(l[m++]=o),_=x+S,I=_-x,N=_-I,k=S-I,F=x-N,P=F+k,x=_;for(;h<n;)E=i,y=P,S=E+y,T=S-E,o=y-T,o&&(l[m++]=o),_=x+S,I=_-x,N=_-I,k=S-I,F=x-N,P=F+k,x=_,h+=1,h<n&&(i=t[h]);for(;M<f;)E=b,y=P,S=E+y,T=S-E,o=y-T,o&&(l[m++]=o),_=x+S,I=_-x,N=_-I,k=S-I,F=x-N,P=F+k,x=_,M+=1,M<f&&(b=-s[M]);return P&&(l[m++]=P),x&&(l[m++]=x),m||(l[m++]=0),l.length=m,l}},9662:function(v){v.exports=r;function p(t,s){var n=t+s,f=n-t,u=n-f,l=s-f,m=t-u,h=m+l;return h?[h,n]:[n]}function r(t,s){var n=t.length|0,f=s.length|0;if(n===1&&f===1)return p(t[0],s[0]);var u=n+f,l=new Array(u),m=0,h=0,M=0,c=Math.abs,i=t[h],d=c(i),b=s[M],w=c(b),E,y;d<w?(y=i,h+=1,h<n&&(i=t[h],d=c(i))):(y=b,M+=1,M<f&&(b=s[M],w=c(b))),h<n&&d<w||M>=f?(E=i,h+=1,h<n&&(i=t[h],d=c(i))):(E=b,M+=1,M<f&&(b=s[M],w=c(b)));for(var S=E+y,T=S-E,o=y-T,P=o,x=S,_,I,N,k,F;h<n&&M<f;)d<w?(E=i,h+=1,h<n&&(i=t[h],d=c(i))):(E=b,M+=1,M<f&&(b=s[M],w=c(b))),y=P,S=E+y,T=S-E,o=y-T,o&&(l[m++]=o),_=x+S,I=_-x,N=_-I,k=S-I,F=x-N,P=F+k,x=_;for(;h<n;)E=i,y=P,S=E+y,T=S-E,o=y-T,o&&(l[m++]=o),_=x+S,I=_-x,N=_-I,k=S-I,F=x-N,P=F+k,x=_,h+=1,h<n&&(i=t[h]);for(;M<f;)E=b,y=P,S=E+y,T=S-E,o=y-T,o&&(l[m++]=o),_=x+S,I=_-x,N=_-I,k=S-I,F=x-N,P=F+k,x=_,M+=1,M<f&&(b=s[M]);return P&&(l[m++]=P),x&&(l[m++]=x),m||(l[m++]=0),l.length=m,l}},8691:function(v,p,r){v.exports=n;var t=r(2692),s=r(7037);function n(f){return s(t(f))}},7212:function(v,p,r){v.exports=i;var t=r(5050),s=r(5306),n=r(8729),f=r(1168);function u(d){for(var b=d.length,w=0,E=0;E<b;++E)w=Math.max(w,d[E].length)|0;return w-1}function l(d,b){for(var w=d.length,E=s.mallocUint8(w),y=0;y<w;++y)E[y]=d[y]<b|0;return E}function m(d,b){for(var w=d.length,E=b*(b+1)/2*w|0,y=s.mallocUint32(E*2),S=0,T=0;T<w;++T)for(var o=d[T],b=o.length,P=0;P<b;++P)for(var x=0;x<P;++x){var _=o[x],I=o[P];y[S++]=Math.min(_,I)|0,y[S++]=Math.max(_,I)|0}var N=S/2|0;n(t(y,[N,2]));for(var k=2,T=2;T<S;T+=2)y[T-2]===y[T]&&y[T-1]===y[T+1]||(y[k++]=y[T],y[k++]=y[T+1]);return t(y,[k/2|0,2])}function h(d,b,w,E){for(var y=d.data,S=d.shape[0],T=s.mallocDouble(S),o=0,P=0;P<S;++P){var x=y[2*P],_=y[2*P+1];if(w[x]!==w[_]){var I=b[x],N=b[_];y[2*o]=x,y[2*o+1]=_,T[o++]=(N-E)/(N-I)}}return d.shape[0]=o,t(T,[o])}function M(d,b){var w=s.mallocInt32(b*2),E=d.shape[0],y=d.data;w[0]=0;for(var S=0,T=0;T<E;++T){var o=y[2*T];if(o!==S){for(w[2*S+1]=T;++S<o;)w[2*S]=T,w[2*S+1]=T;w[2*S]=T}}for(w[2*S+1]=E;++S<b;)w[2*S]=w[2*S+1]=E;return w}function c(d){for(var b=d.shape[0]|0,w=d.data,E=new Array(b),y=0;y<b;++y)E[y]=[w[2*y],w[2*y+1]];return E}function i(d,b,w,E){w=w||0,typeof E=="undefined"&&(E=u(d));var y=d.length;if(y===0||E<1)return{cells:[],vertexIds:[],vertexWeights:[]};var S=l(b,+w),T=m(d,E),o=h(T,b,S,+w),P=M(T,b.length|0),x=f(E)(d,T.data,P,S),_=c(T),I=[].slice.call(o.data,0,o.shape[0]);return s.free(S),s.free(T.data),s.free(o.data),s.free(P),{cells:x,vertexIds:_,vertexWeights:I}}},1168:function(v){v.exports=r;var p=[function(){function s(n,f,u,l){for(var m=n.length,h=[],M=0;M<m;++M){var c=n[M];c.length}return h}return s},function(){function s(f,u,l,m){for(var h=Math.min(l,m)|0,M=Math.max(l,m)|0,c=f[2*h],i=f[2*h+1];c<i;){var d=c+i>>1,b=u[2*d+1];if(b===M)return d;M<b?i=d:c=d+1}return c}function n(f,u,l,m){for(var h=f.length,M=[],c=0;c<h;++c){var i=f[c],d=i.length;if(d===2){var b=(m[i[0]]<<0)+(m[i[1]]<<1);if(b===0||b===3)continue;switch(b){case 0:break;case 1:M.push([s(l,u,i[0],i[1])]);break;case 2:M.push([s(l,u,i[1],i[0])]);break}}}return M}return n},function(){function s(f,u,l,m){for(var h=Math.min(l,m)|0,M=Math.max(l,m)|0,c=f[2*h],i=f[2*h+1];c<i;){var d=c+i>>1,b=u[2*d+1];if(b===M)return d;M<b?i=d:c=d+1}return c}function n(f,u,l,m){for(var h=f.length,M=[],c=0;c<h;++c){var i=f[c],d=i.length;if(d===3){var b=(m[i[0]]<<0)+(m[i[1]]<<1)+(m[i[2]]<<2);if(b===0||b===7)continue;switch(b){case 0:break;case 1:M.push([s(l,u,i[0],i[2]),s(l,u,i[0],i[1])]);break;case 2:M.push([s(l,u,i[1],i[0]),s(l,u,i[1],i[2])]);break;case 3:M.push([s(l,u,i[0],i[2]),s(l,u,i[1],i[2])]);break;case 4:M.push([s(l,u,i[2],i[1]),s(l,u,i[2],i[0])]);break;case 5:M.push([s(l,u,i[2],i[1]),s(l,u,i[0],i[1])]);break;case 6:M.push([s(l,u,i[1],i[0]),s(l,u,i[2],i[0])]);break}}else if(d===2){var b=(m[i[0]]<<0)+(m[i[1]]<<1);if(b===0||b===3)continue;switch(b){case 0:break;case 1:M.push([s(l,u,i[0],i[1])]);break;case 2:M.push([s(l,u,i[1],i[0])]);break}}}return M}return n},function(){function s(f,u,l,m){for(var h=Math.min(l,m)|0,M=Math.max(l,m)|0,c=f[2*h],i=f[2*h+1];c<i;){var d=c+i>>1,b=u[2*d+1];if(b===M)return d;M<b?i=d:c=d+1}return c}function n(f,u,l,m){for(var h=f.length,M=[],c=0;c<h;++c){var i=f[c],d=i.length;if(d===4){var b=(m[i[0]]<<0)+(m[i[1]]<<1)+(m[i[2]]<<2)+(m[i[3]]<<3);if(b===0||b===15)continue;switch(b){case 0:break;case 1:M.push([s(l,u,i[0],i[1]),s(l,u,i[0],i[2]),s(l,u,i[0],i[3])]);break;case 2:M.push([s(l,u,i[1],i[2]),s(l,u,i[1],i[0]),s(l,u,i[1],i[3])]);break;case 3:M.push([s(l,u,i[1],i[2]),s(l,u,i[0],i[2]),s(l,u,i[0],i[3])],[s(l,u,i[1],i[3]),s(l,u,i[1],i[2]),s(l,u,i[0],i[3])]);break;case 4:M.push([s(l,u,i[2],i[0]),s(l,u,i[2],i[1]),s(l,u,i[2],i[3])]);break;case 5:M.push([s(l,u,i[0],i[1]),s(l,u,i[2],i[1]),s(l,u,i[0],i[3])],[s(l,u,i[2],i[1]),s(l,u,i[2],i[3]),s(l,u,i[0],i[3])]);break;case 6:M.push([s(l,u,i[2],i[0]),s(l,u,i[1],i[0]),s(l,u,i[1],i[3])],[s(l,u,i[2],i[3]),s(l,u,i[2],i[0]),s(l,u,i[1],i[3])]);break;case 7:M.push([s(l,u,i[0],i[3]),s(l,u,i[1],i[3]),s(l,u,i[2],i[3])]);break;case 8:M.push([s(l,u,i[3],i[1]),s(l,u,i[3],i[0]),s(l,u,i[3],i[2])]);break;case 9:M.push([s(l,u,i[3],i[1]),s(l,u,i[0],i[1]),s(l,u,i[0],i[2])],[s(l,u,i[3],i[2]),s(l,u,i[3],i[1]),s(l,u,i[0],i[2])]);break;case 10:M.push([s(l,u,i[1],i[0]),s(l,u,i[3],i[0]),s(l,u,i[1],i[2])],[s(l,u,i[3],i[0]),s(l,u,i[3],i[2]),s(l,u,i[1],i[2])]);break;case 11:M.push([s(l,u,i[1],i[2]),s(l,u,i[0],i[2]),s(l,u,i[3],i[2])]);break;case 12:M.push([s(l,u,i[3],i[0]),s(l,u,i[2],i[0]),s(l,u,i[2],i[1])],[s(l,u,i[3],i[1]),s(l,u,i[3],i[0]),s(l,u,i[2],i[1])]);break;case 13:M.push([s(l,u,i[0],i[1]),s(l,u,i[2],i[1]),s(l,u,i[3],i[1])]);break;case 14:M.push([s(l,u,i[2],i[0]),s(l,u,i[1],i[0]),s(l,u,i[3],i[0])]);break}}else if(d===3){var b=(m[i[0]]<<0)+(m[i[1]]<<1)+(m[i[2]]<<2);if(b===0||b===7)continue;switch(b){case 0:break;case 1:M.push([s(l,u,i[0],i[2]),s(l,u,i[0],i[1])]);break;case 2:M.push([s(l,u,i[1],i[0]),s(l,u,i[1],i[2])]);break;case 3:M.push([s(l,u,i[0],i[2]),s(l,u,i[1],i[2])]);break;case 4:M.push([s(l,u,i[2],i[1]),s(l,u,i[2],i[0])]);break;case 5:M.push([s(l,u,i[2],i[1]),s(l,u,i[0],i[1])]);break;case 6:M.push([s(l,u,i[1],i[0]),s(l,u,i[2],i[0])]);break}}else if(d===2){var b=(m[i[0]]<<0)+(m[i[1]]<<1);if(b===0||b===3)continue;switch(b){case 0:break;case 1:M.push([s(l,u,i[0],i[1])]);break;case 2:M.push([s(l,u,i[1],i[0])]);break}}}return M}return n}];function r(t){return p[t]()}},8211:function(v,p,r){r(2288),r(1731);function t(s,n){var f=s.length,u=s.length-n.length,l=Math.min;if(u)return u;switch(f){case 0:return 0;case 1:return s[0]-n[0];case 2:var i=s[0]+s[1]-n[0]-n[1];return i||l(s[0],s[1])-l(n[0],n[1]);case 3:var m=s[0]+s[1],h=n[0]+n[1];if(i=m+s[2]-(h+n[2]),i)return i;var M=l(s[0],s[1]),c=l(n[0],n[1]),i=l(M,s[2])-l(c,n[2]);return i||l(M+s[2],m)-l(c+n[2],h);default:var d=s.slice(0);d.sort();var b=n.slice(0);b.sort();for(var w=0;w<f;++w)if(u=d[w]-b[w],u)return u;return 0}}p.H=t},9392:function(v,p){var r=32;p.INT_BITS=r,p.INT_MAX=2147483647,p.INT_MIN=-1<<r-1,p.sign=function(n){return(n>0)-(n<0)},p.abs=function(n){var f=n>>r-1;return(n^f)-f},p.min=function(n,f){return f^(n^f)&-(n<f)},p.max=function(n,f){return n^(n^f)&-(n<f)},p.isPow2=function(n){return!(n&n-1)&&!!n},p.log2=function(n){var f,u;return f=(n>65535)<<4,n>>>=f,u=(n>255)<<3,n>>>=u,f|=u,u=(n>15)<<2,n>>>=u,f|=u,u=(n>3)<<1,n>>>=u,f|=u,f|n>>1},p.log10=function(n){return n>=1e9?9:n>=1e8?8:n>=1e7?7:n>=1e6?6:n>=1e5?5:n>=1e4?4:n>=1e3?3:n>=100?2:n>=10?1:0},p.popCount=function(n){return n=n-(n>>>1&1431655765),n=(n&858993459)+(n>>>2&858993459),(n+(n>>>4)&252645135)*16843009>>>24};function t(n){var f=32;return n&=-n,n&&f--,n&65535&&(f-=16),n&16711935&&(f-=8),n&252645135&&(f-=4),n&858993459&&(f-=2),n&1431655765&&(f-=1),f}p.countTrailingZeros=t,p.nextPow2=function(n){return n+=n===0,--n,n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n+1},p.prevPow2=function(n){return n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n-(n>>>1)},p.parity=function(n){return n^=n>>>16,n^=n>>>8,n^=n>>>4,n&=15,27030>>>n&1};var s=new Array(256);(function(n){for(var f=0;f<256;++f){var u=f,l=f,m=7;for(u>>>=1;u;u>>>=1)l<<=1,l|=u&1,--m;n[f]=l<<m&255}})(s),p.reverse=function(n){return s[n&255]<<24|s[n>>>8&255]<<16|s[n>>>16&255]<<8|s[n>>>24&255]},p.interleave2=function(n,f){return n&=65535,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,f&=65535,f=(f|f<<8)&16711935,f=(f|f<<4)&252645135,f=(f|f<<2)&858993459,f=(f|f<<1)&1431655765,n|f<<1},p.deinterleave2=function(n,f){return n=n>>>f&1431655765,n=(n|n>>>1)&858993459,n=(n|n>>>2)&252645135,n=(n|n>>>4)&16711935,n=(n|n>>>16)&65535,n<<16>>16},p.interleave3=function(n,f,u){return n&=1023,n=(n|n<<16)&4278190335,n=(n|n<<8)&251719695,n=(n|n<<4)&3272356035,n=(n|n<<2)&1227133513,f&=1023,f=(f|f<<16)&4278190335,f=(f|f<<8)&251719695,f=(f|f<<4)&3272356035,f=(f|f<<2)&1227133513,n|=f<<1,u&=1023,u=(u|u<<16)&4278190335,u=(u|u<<8)&251719695,u=(u|u<<4)&3272356035,u=(u|u<<2)&1227133513,n|u<<2},p.deinterleave3=function(n,f){return n=n>>>f&1227133513,n=(n|n>>>2)&3272356035,n=(n|n>>>4)&251719695,n=(n|n>>>8)&4278190335,n=(n|n>>>16)&1023,n<<22>>22},p.nextCombination=function(n){var f=n|n-1;return f+1|(~f&-~f)-1>>>t(n)+1}},6656:function(v,p,r){var t=r(9392),s=r(9521);function n(o){for(var P=0,x=Math.max,_=0,I=o.length;_<I;++_)P=x(P,o[_].length);return P-1}p.dimension=n;function f(o){for(var P=-1,x=Math.max,_=0,I=o.length;_<I;++_)for(var N=o[_],k=0,F=N.length;k<F;++k)P=x(P,N[k]);return P+1}p.countVertices=f;function u(o){for(var P=new Array(o.length),x=0,_=o.length;x<_;++x)P[x]=o[x].slice(0);return P}p.cloneCells=u;function l(o,P){var x=o.length,_=o.length-P.length,I=Math.min;if(_)return _;switch(x){case 0:return 0;case 1:return o[0]-P[0];case 2:var z=o[0]+o[1]-P[0]-P[1];return z||I(o[0],o[1])-I(P[0],P[1]);case 3:var N=o[0]+o[1],k=P[0]+P[1];if(z=N+o[2]-(k+P[2]),z)return z;var F=I(o[0],o[1]),O=I(P[0],P[1]),z=I(F,o[2])-I(O,P[2]);return z||I(F+o[2],N)-I(O+P[2],k);default:var B=o.slice(0);B.sort();var W=P.slice(0);W.sort();for(var q=0;q<x;++q)if(_=B[q]-W[q],_)return _;return 0}}p.compareCells=l;function m(o,P){return l(o[0],P[0])}function h(o,P){if(P){for(var x=o.length,_=new Array(x),I=0;I<x;++I)_[I]=[o[I],P[I]];_.sort(m);for(var I=0;I<x;++I)o[I]=_[I][0],P[I]=_[I][1];return o}else return o.sort(l),o}p.normalize=h;function M(o){if(o.length===0)return[];for(var P=1,x=o.length,_=1;_<x;++_){var I=o[_];if(l(I,o[_-1])){if(_===P){P++;continue}o[P++]=I}}return o.length=P,o}p.unique=M;function c(o,P){for(var x=0,_=o.length-1,I=-1;x<=_;){var N=x+_>>1,k=l(o[N],P);k<=0?(k===0&&(I=N),x=N+1):k>0&&(_=N-1)}return I}p.findCell=c;function i(o,P){for(var x=new Array(o.length),_=0,I=x.length;_<I;++_)x[_]=[];for(var N=[],_=0,k=P.length;_<k;++_)for(var F=P[_],O=F.length,z=1,B=1<<O;z<B;++z){N.length=t.popCount(z);for(var W=0,q=0;q<O;++q)z&1<<q&&(N[W++]=F[q]);var ee=c(o,N);if(!(ee<0))for(;x[ee++].push(_),!(ee>=o.length||l(o[ee],N)!==0););}return x}p.incidence=i;function d(o,P){if(!P)return i(M(w(o,0)),o);for(var x=new Array(P),_=0;_<P;++_)x[_]=[];for(var _=0,I=o.length;_<I;++_)for(var N=o[_],k=0,F=N.length;k<F;++k)x[N[k]].push(_);return x}p.dual=d;function b(o){for(var P=[],x=0,_=o.length;x<_;++x)for(var I=o[x],N=I.length|0,k=1,F=1<<N;k<F;++k){for(var O=[],z=0;z<N;++z)k>>>z&1&&O.push(I[z]);P.push(O)}return h(P)}p.explode=b;function w(o,P){if(P<0)return[];for(var x=[],_=(1<<P+1)-1,I=0;I<o.length;++I)for(var N=o[I],k=_;k<1<<N.length;k=t.nextCombination(k)){for(var F=new Array(P+1),O=0,z=0;z<N.length;++z)k&1<<z&&(F[O++]=N[z]);x.push(F)}return h(x)}p.skeleton=w;function E(o){for(var P=[],x=0,_=o.length;x<_;++x)for(var I=o[x],N=0,k=I.length;N<k;++N){for(var F=new Array(I.length-1),O=0,z=0;O<k;++O)O!==N&&(F[z++]=I[O]);P.push(F)}return h(P)}p.boundary=E;function y(o,P){for(var x=new s(P),_=0;_<o.length;++_)for(var I=o[_],N=0;N<I.length;++N)for(var k=N+1;k<I.length;++k)x.link(I[N],I[k]);for(var F=[],O=x.ranks,_=0;_<O.length;++_)O[_]=-1;for(var _=0;_<o.length;++_){var z=x.find(o[_][0]);O[z]<0?(O[z]=F.length,F.push([o[_].slice(0)])):F[O[z]].push(o[_].slice(0))}return F}function S(o){for(var P=M(h(w(o,0))),x=new s(P.length),_=0;_<o.length;++_)for(var I=o[_],N=0;N<I.length;++N)for(var k=c(P,[I[N]]),F=N+1;F<I.length;++F)x.link(k,c(P,[I[F]]));for(var O=[],z=x.ranks,_=0;_<z.length;++_)z[_]=-1;for(var _=0;_<o.length;++_){var B=x.find(c(P,[o[_][0]]));z[B]<0?(z[B]=O.length,O.push([o[_].slice(0)])):O[z[B]].push(o[_].slice(0))}return O}function T(o,P){return P?y(o,P):S(o)}p.connectedComponents=T},9521:function(v){v.exports=p;function p(r){this.roots=new Array(r),this.ranks=new Array(r);for(var t=0;t<r;++t)this.roots[t]=t,this.ranks[t]=0}p.prototype.length=function(){return this.roots.length},p.prototype.makeSet=function(){var r=this.roots.length;return this.roots.push(r),this.ranks.push(0),r},p.prototype.find=function(r){for(var t=this.roots;t[r]!==r;){var s=t[r];t[r]=t[s],r=s}return r},p.prototype.link=function(r,t){var s=this.find(r),n=this.find(t);if(s!==n){var f=this.ranks,u=this.roots,l=f[s],m=f[n];l<m?u[s]=n:m<l?u[n]=s:(u[n]=s,++f[s])}}},8243:function(v,p,r){v.exports=f;var t=r(417),s=r(6656);function n(u,l,m){var h=Math.abs(t(u,l,m)),M=Math.sqrt(Math.pow(l[0]-m[0],2)+Math.pow(l[1]-m[1],2));return h/M}function f(u,l,m){for(var h=l.length,M=u.length,c=new Array(h),i=new Array(h),d=new Array(h),b=new Array(h),w=0;w<h;++w)c[w]=i[w]=-1,d[w]=1/0,b[w]=!1;for(var w=0;w<M;++w){var E=u[w];if(E.length!==2)throw new Error("Input must be a graph");var y=E[1],S=E[0];i[S]!==-1?i[S]=-2:i[S]=y,c[y]!==-1?c[y]=-2:c[y]=S}function T(Z){if(b[Z])return 1/0;var Y=c[Z],te=i[Z];return Y<0||te<0?1/0:n(l[Z],l[Y],l[te])}function o(Z,Y){var te=O[Z],X=O[Y];O[Z]=X,O[Y]=te,z[te]=Y,z[X]=Z}function P(Z){return d[O[Z]]}function x(Z){return Z&1?Z-1>>1:(Z>>1)-1}function _(Z){for(var Y=P(Z);;){var te=Y,X=2*Z+1,$=2*(Z+1),ie=Z;if(X<W){var J=P(X);J<te&&(ie=X,te=J)}if($<W){var j=P($);j<te&&(ie=$)}if(ie===Z)return Z;o(Z,ie),Z=ie}}function I(Z){for(var Y=P(Z);Z>0;){var te=x(Z);if(te>=0){var X=P(te);if(Y<X){o(Z,te),Z=te;continue}}return Z}}function N(){if(W>0){var Z=O[0];return o(0,W-1),W-=1,_(0),Z}return-1}function k(Z,Y){var te=O[Z];return d[te]===Y?Z:(d[te]=-1/0,I(Z),N(),d[te]=Y,W+=1,I(W-1))}function F(Z){if(!b[Z]){b[Z]=!0;var Y=c[Z],te=i[Z];c[te]>=0&&(c[te]=Y),i[Y]>=0&&(i[Y]=te),z[Y]>=0&&k(z[Y],T(Y)),z[te]>=0&&k(z[te],T(te))}}for(var O=[],z=new Array(h),w=0;w<h;++w){var B=d[w]=T(w);B<1/0?(z[w]=O.length,O.push(w)):z[w]=-1}for(var W=O.length,w=W>>1;w>=0;--w)_(w);for(;;){var q=N();if(q<0||d[q]>m)break;F(q)}for(var ee=[],w=0;w<h;++w)b[w]||(z[w]=ee.length,ee.push(l[w].slice()));ee.length;function Q(Z,Y){if(Z[Y]<0)return Y;var te=Y,X=Y;do{var $=Z[X];if(!b[X]||$<0||$===X||(X=$,$=Z[X],!b[X]||$<0||$===X))break;X=$,te=Z[te]}while(te!==X);for(var ie=Y;ie!==X;ie=Z[ie])Z[ie]=X;return X}var oe=[];return u.forEach(function(Z){var Y=Q(c,Z[0]),te=Q(i,Z[1]);if(Y>=0&&te>=0&&Y!==te){var X=z[Y],$=z[te];X!==$&&oe.push([X,$])}}),s.unique(s.normalize(oe)),{positions:ee,edges:oe}}},6638:function(v,p,r){v.exports=n;var t=r(417);function s(f,u){var l,m;if(u[0][0]<u[1][0])l=u[0],m=u[1];else if(u[0][0]>u[1][0])l=u[1],m=u[0];else{var h=Math.min(f[0][1],f[1][1]),M=Math.max(f[0][1],f[1][1]),c=Math.min(u[0][1],u[1][1]),i=Math.max(u[0][1],u[1][1]);return M<c?M-c:h>i?h-i:M-i}var d,b;f[0][1]<f[1][1]?(d=f[0],b=f[1]):(d=f[1],b=f[0]);var w=t(m,l,d);return w||(w=t(m,l,b),w)?w:b-m}function n(f,u){var l,m;if(u[0][0]<u[1][0])l=u[0],m=u[1];else if(u[0][0]>u[1][0])l=u[1],m=u[0];else return s(u,f);var h,M;if(f[0][0]<f[1][0])h=f[0],M=f[1];else if(f[0][0]>f[1][0])h=f[1],M=f[0];else return-s(f,u);var c=t(l,m,M),i=t(l,m,h);if(c<0){if(i<=0)return c}else if(c>0){if(i>=0)return c}else if(i)return i;if(c=t(M,h,m),i=t(M,h,l),c<0){if(i<=0)return c}else if(c>0){if(i>=0)return c}else if(i)return i;return m[0]-M[0]}},4385:function(v,p,r){v.exports=i;var t=r(5070),s=r(7080),n=r(417),f=r(6638);function u(d,b,w){this.slabs=d,this.coordinates=b,this.horizontal=w}var l=u.prototype;function m(d,b){return d.y-b}function h(d,b){for(var w=null;d;){var E=d.key,y,S;E[0][0]<E[1][0]?(y=E[0],S=E[1]):(y=E[1],S=E[0]);var T=n(y,S,b);if(T<0)d=d.left;else if(T>0)if(b[0]!==E[1][0])w=d,d=d.right;else{var o=h(d.right,b);if(o)return o;d=d.left}else{if(b[0]!==E[1][0])return d;var o=h(d.right,b);if(o)return o;d=d.left}}return w}l.castUp=function(d){var b=t.le(this.coordinates,d[0]);if(b<0)return-1;this.slabs[b];var w=h(this.slabs[b],d),E=-1;if(w&&(E=w.value),this.coordinates[b]===d[0]){var y=null;if(w&&(y=w.key),b>0){var S=h(this.slabs[b-1],d);S&&(y?f(S.key,y)>0&&(y=S.key,E=S.value):(E=S.value,y=S.key))}var T=this.horizontal[b];if(T.length>0){var o=t.ge(T,d[1],m);if(o<T.length){var P=T[o];if(d[1]===P.y){if(P.closed)return P.index;for(;o<T.length-1&&T[o+1].y===d[1];)if(o=o+1,P=T[o],P.closed)return P.index;if(P.y===d[1]&&!P.start){if(o=o+1,o>=T.length)return E;P=T[o]}}if(P.start)if(y){var x=n(y[0],y[1],[d[0],P.y]);y[0][0]>y[1][0]&&(x=-x),x>0&&(E=P.index)}else E=P.index;else P.y!==d[1]&&(E=P.index)}}}return E};function M(d,b,w,E){this.y=d,this.index=b,this.start=w,this.closed=E}function c(d,b,w,E){this.x=d,this.segment=b,this.create=w,this.index=E}function i(d){for(var b=d.length,w=2*b,E=new Array(w),y=0;y<b;++y){var S=d[y],T=S[0][0]<S[1][0];E[2*y]=new c(S[0][0],S,T,y),E[2*y+1]=new c(S[1][0],S,!T,y)}E.sort(function(F,O){var z=F.x-O.x;return z||(z=F.create-O.create,z)?z:Math.min(F.segment[0][1],F.segment[1][1])-Math.min(O.segment[0][1],O.segment[1][1])});for(var o=s(f),P=[],x=[],_=[],y=0;y<w;){for(var I=E[y].x,N=[];y<w;){var k=E[y];if(k.x!==I)break;y+=1,k.segment[0][0]===k.x&&k.segment[1][0]===k.x?k.create&&(k.segment[0][1]<k.segment[1][1]?(N.push(new M(k.segment[0][1],k.index,!0,!0)),N.push(new M(k.segment[1][1],k.index,!1,!1))):(N.push(new M(k.segment[1][1],k.index,!0,!1)),N.push(new M(k.segment[0][1],k.index,!1,!0)))):k.create?o=o.insert(k.segment,k.index):o=o.remove(k.segment)}P.push(o.root),x.push(I),_.push(N)}return new u(P,x,_)}},4670:function(v,p,r){var t=r(9130),s=r(9662);v.exports=u,v.exports.positive=l,v.exports.negative=m;function n(h,M){var c=s(t(h,M),[M[M.length-1]]);return c[c.length-1]}function f(h,M,c,i){var d=i-M,b=-M/d;b<0?b=0:b>1&&(b=1);for(var w=1-b,E=h.length,y=new Array(E),S=0;S<E;++S)y[S]=b*h[S]+w*c[S];return y}function u(h,M){for(var c=[],i=[],d=n(h[h.length-1],M),b=h[h.length-1],w=h[0],E=0;E<h.length;++E,b=w){w=h[E];var y=n(w,M);if(d<0&&y>0||d>0&&y<0){var S=f(b,y,w,d);c.push(S),i.push(S.slice())}y<0?i.push(w.slice()):y>0?c.push(w.slice()):(c.push(w.slice()),i.push(w.slice())),d=y}return{positive:c,negative:i}}function l(h,M){for(var c=[],i=n(h[h.length-1],M),d=h[h.length-1],b=h[0],w=0;w<h.length;++w,d=b){b=h[w];var E=n(b,M);(i<0&&E>0||i>0&&E<0)&&c.push(f(d,E,b,i)),E>=0&&c.push(b.slice()),i=E}return c}function m(h,M){for(var c=[],i=n(h[h.length-1],M),d=h[h.length-1],b=h[0],w=0;w<h.length;++w,d=b){b=h[w];var E=n(b,M);(i<0&&E>0||i>0&&E<0)&&c.push(f(d,E,b,i)),E<=0&&c.push(b.slice()),i=E}return c}},8974:function(v,p,r){var t;(function(){var s={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function n(h){return u(m(h),arguments)}function f(h,M){return n.apply(null,[h].concat(M||[]))}function u(h,M){var c=1,i=h.length,d,b="",w,E,y,S,T,o,P,x;for(w=0;w<i;w++)if(typeof h[w]=="string")b+=h[w];else if(typeof h[w]=="object"){if(y=h[w],y.keys)for(d=M[c],E=0;E<y.keys.length;E++){if(d==null)throw new Error(n('[sprintf] Cannot access property "%s" of undefined value "%s"',y.keys[E],y.keys[E-1]));d=d[y.keys[E]]}else y.param_no?d=M[y.param_no]:d=M[c++];if(s.not_type.test(y.type)&&s.not_primitive.test(y.type)&&d instanceof Function&&(d=d()),s.numeric_arg.test(y.type)&&typeof d!="number"&&isNaN(d))throw new TypeError(n("[sprintf] expecting number but found %T",d));switch(s.number.test(y.type)&&(P=d>=0),y.type){case"b":d=parseInt(d,10).toString(2);break;case"c":d=String.fromCharCode(parseInt(d,10));break;case"d":case"i":d=parseInt(d,10);break;case"j":d=JSON.stringify(d,null,y.width?parseInt(y.width):0);break;case"e":d=y.precision?parseFloat(d).toExponential(y.precision):parseFloat(d).toExponential();break;case"f":d=y.precision?parseFloat(d).toFixed(y.precision):parseFloat(d);break;case"g":d=y.precision?String(Number(d.toPrecision(y.precision))):parseFloat(d);break;case"o":d=(parseInt(d,10)>>>0).toString(8);break;case"s":d=String(d),d=y.precision?d.substring(0,y.precision):d;break;case"t":d=String(!!d),d=y.precision?d.substring(0,y.precision):d;break;case"T":d=Object.prototype.toString.call(d).slice(8,-1).toLowerCase(),d=y.precision?d.substring(0,y.precision):d;break;case"u":d=parseInt(d,10)>>>0;break;case"v":d=d.valueOf(),d=y.precision?d.substring(0,y.precision):d;break;case"x":d=(parseInt(d,10)>>>0).toString(16);break;case"X":d=(parseInt(d,10)>>>0).toString(16).toUpperCase();break}s.json.test(y.type)?b+=d:(s.number.test(y.type)&&(!P||y.sign)?(x=P?"+":"-",d=d.toString().replace(s.sign,"")):x="",T=y.pad_char?y.pad_char==="0"?"0":y.pad_char.charAt(1):" ",o=y.width-(x+d).length,S=y.width&&o>0?T.repeat(o):"",b+=y.align?x+d+S:T==="0"?x+S+d:S+x+d)}return b}var l=Object.create(null);function m(h){if(l[h])return l[h];for(var M=h,c,i=[],d=0;M;){if((c=s.text.exec(M))!==null)i.push(c[0]);else if((c=s.modulo.exec(M))!==null)i.push("%");else if((c=s.placeholder.exec(M))!==null){if(c[2]){d|=1;var b=[],w=c[2],E=[];if((E=s.key.exec(w))!==null)for(b.push(E[1]);(w=w.substring(E[0].length))!=="";)if((E=s.key_access.exec(w))!==null)b.push(E[1]);else if((E=s.index_access.exec(w))!==null)b.push(E[1]);else throw new SyntaxError("[sprintf] failed to parse named argument key");else throw new SyntaxError("[sprintf] failed to parse named argument key");c[2]=b}else d|=2;if(d===3)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");i.push({placeholder:c[0],param_no:c[1],keys:c[2],sign:c[3],pad_char:c[4],align:c[5],width:c[6],precision:c[7],type:c[8]})}else throw new SyntaxError("[sprintf] unexpected placeholder");M=M.substring(c[0].length)}return l[h]=i}p.sprintf=n,p.vsprintf=f,typeof window!="undefined"&&(window.sprintf=n,window.vsprintf=f,t=function(){return{sprintf:n,vsprintf:f}}.call(p,r,p,v),t!==void 0&&(v.exports=t))})()},4162:function(v,p,r){v.exports=m;var t=r(9284),s=r(9584),n={"2d":function(h,M,c){var i=h({order:M,scalarArguments:3,getters:c==="generic"?[0]:void 0,phase:function(b,w,E,y){return b>y|0},vertex:function(b,w,E,y,S,T,o,P,x,_,I,N,k){var F=(o<<0)+(P<<1)+(x<<2)+(_<<3)|0;if(!(F===0||F===15))switch(F){case 0:I.push([b-.5,w-.5]);break;case 1:I.push([b-.25-.25*(y+E-2*k)/(E-y),w-.25-.25*(S+E-2*k)/(E-S)]);break;case 2:I.push([b-.75-.25*(-y-E+2*k)/(y-E),w-.25-.25*(T+y-2*k)/(y-T)]);break;case 3:I.push([b-.5,w-.5-.5*(S+E+T+y-4*k)/(E-S+y-T)]);break;case 4:I.push([b-.25-.25*(T+S-2*k)/(S-T),w-.75-.25*(-S-E+2*k)/(S-E)]);break;case 5:I.push([b-.5-.5*(y+E+T+S-4*k)/(E-y+S-T),w-.5]);break;case 6:I.push([b-.5-.25*(-y-E+T+S)/(y-E+S-T),w-.5-.25*(-S-E+T+y)/(S-E+y-T)]);break;case 7:I.push([b-.75-.25*(T+S-2*k)/(S-T),w-.75-.25*(T+y-2*k)/(y-T)]);break;case 8:I.push([b-.75-.25*(-T-S+2*k)/(T-S),w-.75-.25*(-T-y+2*k)/(T-y)]);break;case 9:I.push([b-.5-.25*(y+E+-T-S)/(E-y+T-S),w-.5-.25*(S+E+-T-y)/(E-S+T-y)]);break;case 10:I.push([b-.5-.5*(-y-E+-T-S+4*k)/(y-E+T-S),w-.5]);break;case 11:I.push([b-.25-.25*(-T-S+2*k)/(T-S),w-.75-.25*(S+E-2*k)/(E-S)]);break;case 12:I.push([b-.5,w-.5-.5*(-S-E+-T-y+4*k)/(S-E+T-y)]);break;case 13:I.push([b-.75-.25*(y+E-2*k)/(E-y),w-.25-.25*(-T-y+2*k)/(T-y)]);break;case 14:I.push([b-.25-.25*(-y-E+2*k)/(y-E),w-.25-.25*(-S-E+2*k)/(S-E)]);break;case 15:I.push([b-.5,w-.5]);break}},cell:function(b,w,E,y,S,T,o,P,x){S?P.push([b,w]):P.push([w,b])}});return function(d,b){var w=[],E=[];return i(d,w,E,b),{positions:w,cells:E}}}};function f(h,M){var c=h.length+"d",i=n[c];if(i)return i(t,h,M)}function u(h,M){for(var c=s(h,M),i=c.length,d=new Array(i),b=new Array(i),w=0;w<i;++w)d[w]=[c[w]],b[w]=[w];return{positions:d,cells:b}}var l={};function m(h,d){if(h.dimension<=0)return{positions:[],cells:[]};if(h.dimension===1)return u(h,d);var c=h.order.join()+"-"+h.dtype,i=l[c],d=+d||0;return i||(i=l[c]=f(h.order,h.dtype)),i(h,d)}},6946:function(v,p,r){v.exports=u;var t=r(875),s=window||g.global||{},n=s.__TEXT_CACHE||{};s.__TEXT_CACHE={};function f(l){for(var m=l.cells,h=l.positions,M=new Float32Array(m.length*6),c=0,i=0,d=0;d<m.length;++d)for(var b=m[d],w=0;w<3;++w){var E=h[b[w]];M[c++]=E[0],M[c++]=E[1]+1.4,i=Math.max(E[0],i)}return{data:M,shape:i}}function u(l,m,M){var M=M||{},c=n[l];c||(c=n[l]={" ":{data:new Float32Array(0),shape:.2}});var i=c[m];if(!i)if(m.length<=1||!/\d/.test(m))i=c[m]=f(t(m,{triangles:!0,font:l,textAlign:M.textAlign||"left",textBaseline:"alphabetic",styletags:{breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0}}));else{for(var d=m.split(/(\d|\s)/),b=new Array(d.length),w=0,E=0,y=0;y<d.length;++y)b[y]=u(l,d[y]),w+=b[y].data.length,E+=b[y].shape,y>0&&(E+=.02);for(var S=new Float32Array(w),T=0,o=-.5*E,y=0;y<b.length;++y){for(var P=b[y].data,x=0;x<P.length;x+=2)S[T++]=P[x]+o,S[T++]=P[x+1];o+=b[y].shape+.02}i=c[m]={data:S,shape:E}}return i}},14:function(v,p,r){var t=r(4405);v.exports=u;var s=96;function n(l,m){var h=t(getComputedStyle(l).getPropertyValue(m));return h[0]*u(h[1],l)}function f(l,m){var h=document.createElement("div");h.style["font-size"]="128"+l,m.appendChild(h);var M=n(h,"font-size")/128;return m.removeChild(h),M}function u(l,m){switch(m=m||document.body,l=(l||"px").trim().toLowerCase(),(m===window||m===document)&&(m=document.body),l){case"%":return m.clientHeight/100;case"ch":case"ex":return f(l,m);case"em":return n(m,"font-size");case"rem":return n(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return s;case"cm":return s/2.54;case"mm":return s/25.4;case"pt":return s/72;case"pc":return s/6}return 1}},3440:function(v,p,r){v.exports=b;var t=r(8444),s=r(7437),n=r(4422),f=r(903),u=r(899),l=r(9305);function m(w,E,y){return Math.sqrt(Math.pow(w,2)+Math.pow(E,2)+Math.pow(y,2))}function h(w){return Math.min(1,Math.max(-1,w))}function M(w){var E=Math.abs(w[0]),y=Math.abs(w[1]),S=Math.abs(w[2]),T=[0,0,0];E>Math.max(y,S)?T[2]=1:y>Math.max(E,S)?T[0]=1:T[1]=1;for(var o=0,P=0,x=0;x<3;++x)o+=w[x]*w[x],P+=T[x]*w[x];for(var x=0;x<3;++x)T[x]-=P/o*w[x];return u(T,T),T}function c(w,E,y,S,T,o,P,x){this.center=t(y),this.up=t(S),this.right=t(T),this.radius=t([o]),this.angle=t([P,x]),this.angle.bounds=[[-1/0,-Math.PI/2],[1/0,Math.PI/2]],this.setDistanceLimits(w,E),this.computedCenter=this.center.curve(0),this.computedUp=this.up.curve(0),this.computedRight=this.right.curve(0),this.computedRadius=this.radius.curve(0),this.computedAngle=this.angle.curve(0),this.computedToward=[0,0,0],this.computedEye=[0,0,0],this.computedMatrix=new Array(16);for(var _=0;_<16;++_)this.computedMatrix[_]=.5;this.recalcMatrix(0)}var i=c.prototype;i.setDistanceLimits=function(w,E){w>0?w=Math.log(w):w=-1/0,E>0?E=Math.log(E):E=1/0,E=Math.max(E,w),this.radius.bounds[0][0]=w,this.radius.bounds[1][0]=E},i.getDistanceLimits=function(w){var E=this.radius.bounds[0];return w?(w[0]=Math.exp(E[0][0]),w[1]=Math.exp(E[1][0]),w):[Math.exp(E[0][0]),Math.exp(E[1][0])]},i.recalcMatrix=function(w){this.center.curve(w),this.up.curve(w),this.right.curve(w),this.radius.curve(w),this.angle.curve(w);for(var E=this.computedUp,y=this.computedRight,S=0,T=0,o=0;o<3;++o)T+=E[o]*y[o],S+=E[o]*E[o];for(var P=Math.sqrt(S),x=0,o=0;o<3;++o)y[o]-=E[o]*T/S,x+=y[o]*y[o],E[o]/=P;for(var _=Math.sqrt(x),o=0;o<3;++o)y[o]/=_;var I=this.computedToward;f(I,E,y),u(I,I);for(var N=Math.exp(this.computedRadius[0]),k=this.computedAngle[0],F=this.computedAngle[1],O=Math.cos(k),z=Math.sin(k),B=Math.cos(F),W=Math.sin(F),q=this.computedCenter,ee=O*B,Q=z*B,oe=W,Z=-O*W,Y=-z*W,te=B,X=this.computedEye,$=this.computedMatrix,o=0;o<3;++o){var ie=ee*y[o]+Q*I[o]+oe*E[o];$[4*o+1]=Z*y[o]+Y*I[o]+te*E[o],$[4*o+2]=ie,$[4*o+3]=0}var J=$[1],j=$[5],se=$[9],ne=$[2],le=$[6],pe=$[10],Ae=j*pe-se*le,be=se*ne-J*pe,Re=J*le-j*ne,xe=m(Ae,be,Re);Ae/=xe,be/=xe,Re/=xe,$[0]=Ae,$[4]=be,$[8]=Re;for(var o=0;o<3;++o)X[o]=q[o]+$[2+4*o]*N;for(var o=0;o<3;++o){for(var x=0,Me=0;Me<3;++Me)x+=$[o+4*Me]*X[Me];$[12+o]=-x}$[15]=1},i.getMatrix=function(w,E){this.recalcMatrix(w);var y=this.computedMatrix;if(E){for(var S=0;S<16;++S)E[S]=y[S];return E}return y};var d=[0,0,0];i.rotate=function(w,E,y,S){if(this.angle.move(w,E,y),S){this.recalcMatrix(w);var T=this.computedMatrix;d[0]=T[2],d[1]=T[6],d[2]=T[10];for(var o=this.computedUp,P=this.computedRight,x=this.computedToward,_=0;_<3;++_)T[4*_]=o[_],T[4*_+1]=P[_],T[4*_+2]=x[_];n(T,T,S,d);for(var _=0;_<3;++_)o[_]=T[4*_],P[_]=T[4*_+1];this.up.set(w,o[0],o[1],o[2]),this.right.set(w,P[0],P[1],P[2])}},i.pan=function(w,E,y,S){E=E||0,y=y||0,S=S||0,this.recalcMatrix(w);var T=this.computedMatrix;Math.exp(this.computedRadius[0]);var o=T[1],P=T[5],x=T[9],_=m(o,P,x);o/=_,P/=_,x/=_;var I=T[0],N=T[4],k=T[8],F=I*o+N*P+k*x;I-=o*F,N-=P*F,k-=x*F;var O=m(I,N,k);I/=O,N/=O,k/=O;var z=I*E+o*y,B=N*E+P*y,W=k*E+x*y;this.center.move(w,z,B,W);var q=Math.exp(this.computedRadius[0]);q=Math.max(1e-4,q+S),this.radius.set(w,Math.log(q))},i.translate=function(w,E,y,S){this.center.move(w,E||0,y||0,S||0)},i.setMatrix=function(w,E,y,S){var T=1;typeof y=="number"&&(T=y|0),(T<0||T>3)&&(T=1);var o=(T+2)%3;E||(this.recalcMatrix(w),E=this.computedMatrix);var P=E[T],x=E[T+4],_=E[T+8];if(S){var N=Math.abs(P),k=Math.abs(x),F=Math.abs(_),O=Math.max(N,k,F);N===O?(P=P<0?-1:1,x=_=0):F===O?(_=_<0?-1:1,P=x=0):(x=x<0?-1:1,P=_=0)}else{var I=m(P,x,_);P/=I,x/=I,_/=I}var z=E[o],B=E[o+4],W=E[o+8],q=z*P+B*x+W*_;z-=P*q,B-=x*q,W-=_*q;var ee=m(z,B,W);z/=ee,B/=ee,W/=ee;var Q=x*W-_*B,oe=_*z-P*W,Z=P*B-x*z,Y=m(Q,oe,Z);Q/=Y,oe/=Y,Z/=Y,this.center.jump(w,Be,_e,Ue),this.radius.idle(w),this.up.jump(w,P,x,_),this.right.jump(w,z,B,W);var te,X;if(T===2){var $=E[1],ie=E[5],J=E[9],j=$*z+ie*B+J*W,se=$*Q+ie*oe+J*Z;Ae<0?te=-Math.PI/2:te=Math.PI/2,X=Math.atan2(se,j)}else{var ne=E[2],le=E[6],pe=E[10],Ae=ne*P+le*x+pe*_,be=ne*z+le*B+pe*W,Re=ne*Q+le*oe+pe*Z;te=Math.asin(h(Ae)),X=Math.atan2(Re,be)}this.angle.jump(w,X,te),this.recalcMatrix(w);var xe=E[2],Me=E[6],ye=E[10],Se=this.computedMatrix;s(Se,E);var Fe=Se[15],Be=Se[12]/Fe,_e=Se[13]/Fe,Ue=Se[14]/Fe,it=Math.exp(this.computedRadius[0]);this.center.jump(w,Be-xe*it,_e-Me*it,Ue-ye*it)},i.lastT=function(){return Math.max(this.center.lastT(),this.up.lastT(),this.right.lastT(),this.radius.lastT(),this.angle.lastT())},i.idle=function(w){this.center.idle(w),this.up.idle(w),this.right.idle(w),this.radius.idle(w),this.angle.idle(w)},i.flush=function(w){this.center.flush(w),this.up.flush(w),this.right.flush(w),this.radius.flush(w),this.angle.flush(w)},i.setDistance=function(w,E){E>0&&this.radius.set(w,Math.log(E))},i.lookAt=function(w,E,y,S){this.recalcMatrix(w),E=E||this.computedEye,y=y||this.computedCenter,S=S||this.computedUp;var T=S[0],o=S[1],P=S[2],x=m(T,o,P);if(!(x<1e-6)){T/=x,o/=x,P/=x;var _=E[0]-y[0],I=E[1]-y[1],N=E[2]-y[2],k=m(_,I,N);if(!(k<1e-6)){_/=k,I/=k,N/=k;var F=this.computedRight,O=F[0],z=F[1],B=F[2],W=T*O+o*z+P*B;O-=W*T,z-=W*o,B-=W*P;var q=m(O,z,B);if(!(q<.01&&(O=o*N-P*I,z=P*_-T*N,B=T*I-o*_,q=m(O,z,B),q<1e-6))){O/=q,z/=q,B/=q,this.up.set(w,T,o,P),this.right.set(w,O,z,B),this.center.set(w,y[0],y[1],y[2]),this.radius.set(w,Math.log(k));var ee=o*B-P*z,Q=P*O-T*B,oe=T*z-o*O,Z=m(ee,Q,oe);ee/=Z,Q/=Z,oe/=Z;var Y=T*_+o*I+P*N,te=O*_+z*I+B*N,X=ee*_+Q*I+oe*N,$=Math.asin(h(Y)),ie=Math.atan2(X,te),J=this.angle._state,j=J[J.length-1],se=J[J.length-2];j=j%(2*Math.PI);var ne=Math.abs(j+2*Math.PI-ie),le=Math.abs(j-ie),pe=Math.abs(j-2*Math.PI-ie);ne<le&&(j+=2*Math.PI),pe<le&&(j-=2*Math.PI),this.angle.jump(this.angle.lastT(),j,se),this.angle.set(w,ie,$)}}}};function b(w){w=w||{};var E=w.center||[0,0,0],y=w.up||[0,1,0],S=w.right||M(y),T=w.radius||1,o=w.theta||0,P=w.phi||0;if(E=[].slice.call(E,0,3),y=[].slice.call(y,0,3),u(y,y),S=[].slice.call(S,0,3),u(S,S),"eye"in w){var x=w.eye,_=[x[0]-E[0],x[1]-E[1],x[2]-E[2]];f(S,_,y),m(S[0],S[1],S[2])<1e-6?S=M(y):u(S,S),T=m(_[0],_[1],_[2]);var I=l(y,_)/T,N=l(S,_)/T;P=Math.acos(I),o=Math.acos(N)}return T=Math.log(T),new c(w.zoomMin,w.zoomMax,E,y,S,T,o,P)}},9660:function(v){v.exports=r;var p=+(Math.pow(2,27)+1);function r(t,s,n){var f=t*s,u=p*t,l=u-t,m=u-l,h=t-m,M=p*s,c=M-s,i=M-c,d=s-i,b=f-m*i,w=b-h*i,E=w-m*d,y=h*d-E;return n?(n[0]=y,n[1]=f,n):[y,f]}},87:function(v){v.exports=p;function p(r,t,s){var n=r+t,f=n-r,u=n-f,l=t-f,m=r-u;return s?(s[0]=m+l,s[1]=n,s):[m+l,n]}},5306:function(v,p,r){var t=r(2288),s=r(3094),n=r(2146).lW;r.g.__TYPEDARRAY_POOL||(r.g.__TYPEDARRAY_POOL={UINT8:s([32,0]),UINT16:s([32,0]),UINT32:s([32,0]),BIGUINT64:s([32,0]),INT8:s([32,0]),INT16:s([32,0]),INT32:s([32,0]),BIGINT64:s([32,0]),FLOAT:s([32,0]),DOUBLE:s([32,0]),DATA:s([32,0]),UINT8C:s([32,0]),BUFFER:s([32,0])});var f=typeof Uint8ClampedArray!="undefined",u=typeof BigUint64Array!="undefined",l=typeof BigInt64Array!="undefined",m=r.g.__TYPEDARRAY_POOL;m.UINT8C||(m.UINT8C=s([32,0])),m.BIGUINT64||(m.BIGUINT64=s([32,0])),m.BIGINT64||(m.BIGINT64=s([32,0])),m.BUFFER||(m.BUFFER=s([32,0]));var h=m.DATA,M=m.BUFFER;p.free=function(O){if(n.isBuffer(O))M[t.log2(O.length)].push(O);else{if(Object.prototype.toString.call(O)!=="[object ArrayBuffer]"&&(O=O.buffer),!O)return;var z=O.length||O.byteLength,B=t.log2(z)|0;h[B].push(O)}};function c(F){if(!!F){var O=F.length||F.byteLength,z=t.log2(O);h[z].push(F)}}function i(F){c(F.buffer)}p.freeUint8=p.freeUint16=p.freeUint32=p.freeBigUint64=p.freeInt8=p.freeInt16=p.freeInt32=p.freeBigInt64=p.freeFloat32=p.freeFloat=p.freeFloat64=p.freeDouble=p.freeUint8Clamped=p.freeDataView=i,p.freeArrayBuffer=c,p.freeBuffer=function(O){M[t.log2(O.length)].push(O)},p.malloc=function(O,z){if(z===void 0||z==="arraybuffer")return d(O);switch(z){case"uint8":return b(O);case"uint16":return w(O);case"uint32":return E(O);case"int8":return y(O);case"int16":return S(O);case"int32":return T(O);case"float":case"float32":return o(O);case"double":case"float64":return P(O);case"uint8_clamped":return x(O);case"bigint64":return I(O);case"biguint64":return _(O);case"buffer":return k(O);case"data":case"dataview":return N(O);default:return null}return null};function d(O){var O=t.nextPow2(O),z=t.log2(O),B=h[z];return B.length>0?B.pop():new ArrayBuffer(O)}p.mallocArrayBuffer=d;function b(F){return new Uint8Array(d(F),0,F)}p.mallocUint8=b;function w(F){return new Uint16Array(d(2*F),0,F)}p.mallocUint16=w;function E(F){return new Uint32Array(d(4*F),0,F)}p.mallocUint32=E;function y(F){return new Int8Array(d(F),0,F)}p.mallocInt8=y;function S(F){return new Int16Array(d(2*F),0,F)}p.mallocInt16=S;function T(F){return new Int32Array(d(4*F),0,F)}p.mallocInt32=T;function o(F){return new Float32Array(d(4*F),0,F)}p.mallocFloat32=p.mallocFloat=o;function P(F){return new Float64Array(d(8*F),0,F)}p.mallocFloat64=p.mallocDouble=P;function x(F){return f?new Uint8ClampedArray(d(F),0,F):b(F)}p.mallocUint8Clamped=x;function _(F){return u?new BigUint64Array(d(8*F),0,F):null}p.mallocBigUint64=_;function I(F){return l?new BigInt64Array(d(8*F),0,F):null}p.mallocBigInt64=I;function N(F){return new DataView(d(F),0,F)}p.mallocDataView=N;function k(F){F=t.nextPow2(F);var O=t.log2(F),z=M[O];return z.length>0?z.pop():new n(F)}p.mallocBuffer=k,p.clearCache=function(){for(var O=0;O<32;++O)m.UINT8[O].length=0,m.UINT16[O].length=0,m.UINT32[O].length=0,m.INT8[O].length=0,m.INT16[O].length=0,m.INT32[O].length=0,m.FLOAT[O].length=0,m.DOUBLE[O].length=0,m.BIGUINT64[O].length=0,m.BIGINT64[O].length=0,m.UINT8C[O].length=0,h[O].length=0,M[O].length=0}},1731:function(v){v.exports=p;function p(t){this.roots=new Array(t),this.ranks=new Array(t);for(var s=0;s<t;++s)this.roots[s]=s,this.ranks[s]=0}var r=p.prototype;Object.defineProperty(r,"length",{get:function(){return this.roots.length}}),r.makeSet=function(){var t=this.roots.length;return this.roots.push(t),this.ranks.push(0),t},r.find=function(t){for(var s=t,n=this.roots;n[t]!==t;)t=n[t];for(;n[s]!==t;){var f=n[s];n[s]=t,s=f}return t},r.link=function(t,s){var n=this.find(t),f=this.find(s);if(n!==f){var u=this.ranks,l=this.roots,m=u[n],h=u[f];m<h?l[n]=f:h<m?l[f]=n:(l[f]=n,++u[n])}}},1215:function(v){function p(s,n){for(var f=1,u=s.length,l=s[0],m=s[0],h=1;h<u;++h)if(m=l,l=s[h],n(l,m)){if(h===f){f++;continue}s[f++]=l}return s.length=f,s}function r(s){for(var n=1,f=s.length,u=s[0],l=s[0],m=1;m<f;++m,l=u)if(l=u,u=s[m],u!==l){if(m===n){n++;continue}s[n++]=u}return s.length=n,s}function t(s,n,f){return s.length===0?s:n?(f||s.sort(n),p(s,n)):(f||s.sort(),r(s))}v.exports=t},875:function(v,p,r){v.exports=f;var t=r(712),s=null,n=null;typeof document!="undefined"&&(s=document.createElement("canvas"),s.width=8192,s.height=1024,n=s.getContext("2d"));function f(u,l){return(typeof l!="object"||l===null)&&(l={}),t(u,l.canvas||s,l.context||n,l)}},712:function(v,p,r){v.exports=I,v.exports.processPixels=_;var t=r(4162),s=r(5050),n=r(8243),f=r(197),u=r(7761),l=r(8040),m="b",h="b|",M="i",c="i|",i="sup",d="+",b="+1",w="sub",E="-",y="-1";function S(N,k,F,O){for(var z="<"+N+">",B="</"+N+">",W=z.length,q=B.length,ee=k[0]===d||k[0]===E,Q=0,oe=-q;Q>-1&&(Q=F.indexOf(z,Q),!(Q===-1||(oe=F.indexOf(B,Q+W),oe===-1)||oe<=Q));){for(var Z=Q;Z<oe+q;++Z)if(Z<Q+W||Z>=oe)O[Z]=null,F=F.substr(0,Z)+" "+F.substr(Z+1);else if(O[Z]!==null){var Y=O[Z].indexOf(k[0]);Y===-1?O[Z]+=k:ee&&(O[Z]=O[Z].substr(0,Y+1)+(1+parseInt(O[Z][Y+1]))+O[Z].substr(Y+2))}var te=Q+W,X=F.substr(te,oe-te),$=X.indexOf(z);$!==-1?Q=$:Q=oe+q}return O}function T(N,k,F){for(var O=k.textAlign||"start",z=k.textBaseline||"alphabetic",B=[1<<30,1<<30],W=[0,0],q=N.length,ee=0;ee<q;++ee)for(var Q=N[ee],oe=0;oe<2;++oe)B[oe]=Math.min(B[oe],Q[oe])|0,W[oe]=Math.max(W[oe],Q[oe])|0;var Z=0;switch(O){case"center":Z=-.5*(B[0]+W[0]);break;case"right":case"end":Z=-W[0];break;case"left":case"start":Z=-B[0];break;default:throw new Error("vectorize-text: Unrecognized textAlign: '"+O+"'")}var Y=0;switch(z){case"hanging":case"top":Y=-B[1];break;case"middle":Y=-.5*(B[1]+W[1]);break;case"alphabetic":case"ideographic":Y=-3*F;break;case"bottom":Y=-W[1];break;default:throw new Error("vectorize-text: Unrecoginized textBaseline: '"+z+"'")}var te=1/F;return"lineHeight"in k?te*=+k.lineHeight:"width"in k?te=k.width/(W[0]-B[0]):"height"in k&&(te=k.height/(W[1]-B[1])),N.map(function(X){return[te*(X[0]+Z),te*(X[1]+Y)]})}function o(N,k,F,O,z,B){F=F.replace(/\n/g,""),B.breaklines===!0?F=F.replace(/\<br\>/g,`
`):F=F.replace(/\<br\>/g," ");var W="",q=[];for(j=0;j<F.length;++j)q[j]=W;B.bolds===!0&&(q=S(m,h,F,q)),B.italics===!0&&(q=S(M,c,F,q)),B.superscripts===!0&&(q=S(i,b,F,q)),B.subscripts===!0&&(q=S(w,y,F,q));var ee=[],Q="";for(j=0;j<F.length;++j)q[j]!==null&&(Q+=F[j],ee.push(q[j]));var oe=Q.split(`
`),Z=oe.length,Y=Math.round(z*O),te=O,X=O*2,$=0,ie=Z*Y+X;N.height<ie&&(N.height=ie),k.fillStyle="#000",k.fillRect(0,0,N.width,N.height),k.fillStyle="#fff";var J,j,se,ne,le,pe=0,Ae="";function be(){if(Ae!==""){var Ue=k.measureText(Ae).width;k.fillText(Ae,te+se,X+ne),se+=Ue}}function Re(){return""+Math.round(le)+"px "}function xe(Ue,it){var lt=""+k.font;if(B.subscripts===!0){var $e=Ue.indexOf(E),qe=it.indexOf(E),ft=$e>-1?parseInt(Ue[1+$e]):0,ct=qe>-1?parseInt(it[1+qe]):0;ft!==ct&&(lt=lt.replace(Re(),"?px "),le*=Math.pow(.75,ct-ft),lt=lt.replace("?px ",Re())),ne+=.25*Y*(ct-ft)}if(B.superscripts===!0){var pt=Ue.indexOf(d),yt=it.indexOf(d),Et=pt>-1?parseInt(Ue[1+pt]):0,tt=yt>-1?parseInt(it[1+yt]):0;Et!==tt&&(lt=lt.replace(Re(),"?px "),le*=Math.pow(.75,tt-Et),lt=lt.replace("?px ",Re())),ne-=.25*Y*(tt-Et)}if(B.bolds===!0){var Ie=Ue.indexOf(h)>-1,We=it.indexOf(h)>-1;!Ie&&We&&(Ze?lt=lt.replace("italic ","italic bold "):lt="bold "+lt),Ie&&!We&&(lt=lt.replace("bold ",""))}if(B.italics===!0){var Ze=Ue.indexOf(c)>-1,He=it.indexOf(c)>-1;!Ze&&He&&(lt="italic "+lt),Ze&&!He&&(lt=lt.replace("italic ",""))}k.font=lt}for(J=0;J<Z;++J){var Me=oe[J]+`
`;for(se=0,ne=J*Y,le=O,Ae="",j=0;j<Me.length;++j){var ye=j+pe<ee.length?ee[j+pe]:ee[ee.length-1];W===ye?Ae+=Me[j]:(be(),Ae=Me[j],ye!==void 0&&(xe(W,ye),W=ye))}be(),pe+=Me.length;var Se=Math.round(se+2*te)|0;$<Se&&($=Se)}var Fe=$,Be=X+Y*Z,_e=s(k.getImageData(0,0,Fe,Be).data,[Be,Fe,4]);return _e.pick(-1,-1,0).transpose(1,0)}function P(N,k){var F=t(N,128);return k?n(F.cells,F.positions,.25):{edges:F.cells,positions:F.positions}}function x(N,k,F,O){var z=P(N,O),B=T(z.positions,k,F),W=z.edges,q=k.orientation==="ccw";if(f(B,W),k.polygons||k.polygon||k.polyline){for(var ee=l(W,B),Q=new Array(ee.length),oe=0;oe<ee.length;++oe){for(var Z=ee[oe],Y=new Array(Z.length),te=0;te<Z.length;++te){for(var X=Z[te],$=new Array(X.length),ie=0;ie<X.length;++ie)$[ie]=B[X[ie]].slice();q&&$.reverse(),Y[te]=$}Q[oe]=Y}return Q}else return k.triangles||k.triangulate||k.triangle?{cells:u(B,W,{delaunay:!1,exterior:!1,interior:!0}),positions:B}:{edges:W,positions:B}}function _(N,k,F){try{return x(N,k,F,!0)}catch{}try{return x(N,k,F,!1)}catch{}return k.polygons||k.polyline||k.polygon?[]:k.triangles||k.triangulate||k.triangle?{cells:[],positions:[]}:{edges:[],positions:[]}}function I(N,k,F,O){var z=64,B=1.25,W={breaklines:!1,bolds:!1,italics:!1,subscripts:!1,superscripts:!1};O&&(O.size&&O.size>0&&(z=O.size),O.lineSpacing&&O.lineSpacing>0&&(B=O.lineSpacing),O.styletags&&O.styletags.breaklines&&(W.breaklines=!!O.styletags.breaklines),O.styletags&&O.styletags.bolds&&(W.bolds=!!O.styletags.bolds),O.styletags&&O.styletags.italics&&(W.italics=!!O.styletags.italics),O.styletags&&O.styletags.subscripts&&(W.subscripts=!!O.styletags.subscripts),O.styletags&&O.styletags.superscripts&&(W.superscripts=!!O.styletags.superscripts)),F.font=[O.fontStyle,O.fontVariant,O.fontWeight,z+"px",O.font].filter(function(ee){return ee}).join(" "),F.textAlign="start",F.textBaseline="alphabetic",F.direction="ltr";var q=o(k,F,N,z,B,W);return _(q,O,z)}},5346:function(v){(function(){if(typeof ses!="undefined"&&ses.ok&&!ses.ok())return;function r(P){P.permitHostObjects___&&P.permitHostObjects___(r)}typeof ses!="undefined"&&(ses.weakMapPermitHostObjects=r);var t=!1;if(typeof WeakMap=="function"){var s=WeakMap;if(!(typeof navigator!="undefined"&&/Firefox/.test(navigator.userAgent))){var n=new s,f=Object.freeze({});if(n.set(f,1),n.get(f)!==1)t=!0;else{v.exports=WeakMap;return}}}var u=Object.getOwnPropertyNames,l=Object.defineProperty,m=Object.isExtensible,h="weakmap:",M=h+"ident:"+Math.random()+"___";if(typeof crypto!="undefined"&&typeof crypto.getRandomValues=="function"&&typeof ArrayBuffer=="function"&&typeof Uint8Array=="function"){var c=new ArrayBuffer(25),i=new Uint8Array(c);crypto.getRandomValues(i),M=h+"rand:"+Array.prototype.map.call(i,function(P){return(P%36).toString(36)}).join("")+"___"}function d(P){return!(P.substr(0,h.length)==h&&P.substr(P.length-3)==="___")}if(l(Object,"getOwnPropertyNames",{value:function(x){return u(x).filter(d)}}),"getPropertyNames"in Object){var b=Object.getPropertyNames;l(Object,"getPropertyNames",{value:function(x){return b(x).filter(d)}})}function w(P){if(P!==Object(P))throw new TypeError("Not an object: "+P);var x=P[M];if(x&&x.key===P)return x;if(!!m(P)){x={key:P};try{return l(P,M,{value:x,writable:!1,enumerable:!1,configurable:!1}),x}catch{return}}}(function(){var P=Object.freeze;l(Object,"freeze",{value:function(N){return w(N),P(N)}});var x=Object.seal;l(Object,"seal",{value:function(N){return w(N),x(N)}});var _=Object.preventExtensions;l(Object,"preventExtensions",{value:function(N){return w(N),_(N)}})})();function E(P){return P.prototype=null,Object.freeze(P)}var y=!1;function S(){!y&&typeof console!="undefined"&&(y=!0,console.warn("WeakMap should be invoked as new WeakMap(), not WeakMap(). This will be an error in the future."))}var T=0,o=function(){this instanceof o||S();var P=[],x=[],_=T++;function I(O,z){var B,W=w(O);return W?_ in W?W[_]:z:(B=P.indexOf(O),B>=0?x[B]:z)}function N(O){var z=w(O);return z?_ in z:P.indexOf(O)>=0}function k(O,z){var B,W=w(O);return W?W[_]=z:(B=P.indexOf(O),B>=0?x[B]=z:(B=P.length,x[B]=z,P[B]=O)),this}function F(O){var z=w(O),B,W;return z?_ in z&&delete z[_]:(B=P.indexOf(O),B<0?!1:(W=P.length-1,P[B]=void 0,x[B]=x[W],P[B]=P[W],P.length=W,x.length=W,!0))}return Object.create(o.prototype,{get___:{value:E(I)},has___:{value:E(N)},set___:{value:E(k)},delete___:{value:E(F)}})};o.prototype=Object.create(Object.prototype,{get:{value:function(x,_){return this.get___(x,_)},writable:!0,configurable:!0},has:{value:function(x){return this.has___(x)},writable:!0,configurable:!0},set:{value:function(x,_){return this.set___(x,_)},writable:!0,configurable:!0},delete:{value:function(x){return this.delete___(x)},writable:!0,configurable:!0}}),typeof s=="function"?function(){t&&typeof Proxy!="undefined"&&(Proxy=void 0);function P(){this instanceof o||S();var x=new s,_=void 0,I=!1;function N(z,B){return _?x.has(z)?x.get(z):_.get___(z,B):x.get(z,B)}function k(z){return x.has(z)||(_?_.has___(z):!1)}var F;t?F=function(z,B){return x.set(z,B),x.has(z)||(_||(_=new o),_.set(z,B)),this}:F=function(z,B){if(I)try{x.set(z,B)}catch{_||(_=new o),_.set___(z,B)}else x.set(z,B);return this};function O(z){var B=!!x.delete(z);return _&&_.delete___(z)||B}return Object.create(o.prototype,{get___:{value:E(N)},has___:{value:E(k)},set___:{value:E(F)},delete___:{value:E(O)},permitHostObjects___:{value:E(function(z){if(z===r)I=!0;else throw new Error("bogus call to permitHostObjects___")})}})}P.prototype=o.prototype,v.exports=P,Object.defineProperty(WeakMap.prototype,"constructor",{value:WeakMap,enumerable:!1,configurable:!0,writable:!0})}():(typeof Proxy!="undefined"&&(Proxy=void 0),v.exports=o)})()},9222:function(v,p,r){var t=r(7178);v.exports=s;function s(){var n={};return function(f){if((typeof f!="object"||f===null)&&typeof f!="function")throw new Error("Weakmap-shim: Key must be object");var u=f.valueOf(n);return u&&u.identity===n?u:t(f,n)}}},7178:function(v){v.exports=p;function p(r,t){var s={identity:t},n=r.valueOf;return Object.defineProperty(r,"valueOf",{value:function(f){return f!==t?n.apply(this,arguments):s},writable:!0}),s}},4037:function(v,p,r){var t=r(9222);v.exports=s;function s(){var n=t();return{get:function(f,u){var l=n(f);return l.hasOwnProperty("value")?l.value:u},set:function(f,u){return n(f).value=u,this},has:function(f){return"value"in n(f)},delete:function(f){return delete n(f).value}}}},6183:function(v){function p(){return function(u,l,m,h,M,c){var i=u[0],d=m[0],b=[0],w=d;h|=0;var E=0,y=d;for(E=0;E<i;++E){{var S=l[h]-c,T=l[h+w]-c;S>=0!=T>=0&&M.push(b[0]+.5+.5*(S+T)/(S-T))}h+=y,++b[0]}}}function r(){return p()}var t=r;function s(u){var l={};return function(h,M,c){var i=h.dtype,d=h.order,b=[i,d.join()].join(),w=l[b];return w||(l[b]=w=u([i,d])),w(h.shape.slice(0),h.data,h.stride,h.offset|0,M,c)}}function n(u){return s(t.bind(void 0,u))}function f(u){return n({funcName:u.funcName})}v.exports=f({funcName:"zeroCrossings"})},9584:function(v,p,r){v.exports=s;var t=r(6183);function s(n,f){var u=[];return f=+f||0,t(n.hi(n.shape[0]-1),u,f),u}},6601:function(){}},a={};function C(v){var p=a[v];if(p!==void 0)return p.exports;var r=a[v]={id:v,loaded:!1,exports:{}};return L[v].call(r.exports,r,r.exports,C),r.loaded=!0,r.exports}(function(){C.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}()})(),function(){C.nmd=function(v){return v.paths=[],v.children||(v.children=[]),v}}();var A=C(7386);return A}()})},33576:function(G,U,e){/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */function g(tt,Ie){if(!(tt instanceof Ie))throw new TypeError("Cannot call a class as a function")}function L(tt,Ie){for(var We=0;We<Ie.length;We++){var Ze=Ie[We];Ze.enumerable=Ze.enumerable||!1,Ze.configurable=!0,"value"in Ze&&(Ze.writable=!0),Object.defineProperty(tt,C(Ze.key),Ze)}}function a(tt,Ie,We){return Ie&&L(tt.prototype,Ie),We&&L(tt,We),Object.defineProperty(tt,"prototype",{writable:!1}),tt}function C(tt){var Ie=A(tt,"string");return f(Ie)==="symbol"?Ie:String(Ie)}function A(tt,Ie){if(f(tt)!=="object"||tt===null)return tt;var We=tt[Symbol.toPrimitive];if(We!==void 0){var Ze=We.call(tt,Ie||"default");if(f(Ze)!=="object")return Ze;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Ie==="string"?String:Number)(tt)}function v(tt,Ie,We){function Ze(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{return!1}}return Ie=r(Ie),p(tt,Ze()?Reflect.construct(Ie,We||[],r(tt).constructor):Ie.apply(tt,We))}function p(tt,Ie){if(Ie&&(f(Ie)==="object"||typeof Ie=="function"))return Ie;if(Ie!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return t(tt)}function r(tt){return r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(We){return We.__proto__||Object.getPrototypeOf(We)},r(tt)}function t(tt){if(tt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return tt}function s(tt,Ie){if(typeof Ie!="function"&&Ie!==null)throw new TypeError("Super expression must either be null or a function");tt.prototype=Object.create(Ie&&Ie.prototype,{constructor:{value:tt,writable:!0,configurable:!0}}),Object.defineProperty(tt,"prototype",{writable:!1}),Ie&&n(tt,Ie)}function n(tt,Ie){return n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Ze,He){return Ze.__proto__=He,Ze},n(tt,Ie)}function f(tt){return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Ie){return typeof Ie}:function(Ie){return Ie&&typeof Symbol=="function"&&Ie.constructor===Symbol&&Ie!==Symbol.prototype?"symbol":typeof Ie},f(tt)}var u=e(59968),l=e(35984),m=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;U.Buffer=i,U.SlowBuffer=_,U.INSPECT_MAX_BYTES=50;var h=2147483647;U.kMaxLength=h,i.TYPED_ARRAY_SUPPORT=M(),!i.TYPED_ARRAY_SUPPORT&&typeof console!="undefined"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function M(){try{var tt=new Uint8Array(1),Ie={foo:function(){return 42}};return Object.setPrototypeOf(Ie,Uint8Array.prototype),Object.setPrototypeOf(tt,Ie),tt.foo()===42}catch{return!1}}Object.defineProperty(i.prototype,"parent",{enumerable:!0,get:function(){if(!!i.isBuffer(this))return this.buffer}}),Object.defineProperty(i.prototype,"offset",{enumerable:!0,get:function(){if(!!i.isBuffer(this))return this.byteOffset}});function c(tt){if(tt>h)throw new RangeError('The value "'+tt+'" is invalid for option "size"');var Ie=new Uint8Array(tt);return Object.setPrototypeOf(Ie,i.prototype),Ie}function i(tt,Ie,We){if(typeof tt=="number"){if(typeof Ie=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return E(tt)}return d(tt,Ie,We)}i.poolSize=8192;function d(tt,Ie,We){if(typeof tt=="string")return y(tt,Ie);if(ArrayBuffer.isView(tt))return T(tt);if(tt==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+f(tt));if(ft(tt,ArrayBuffer)||tt&&ft(tt.buffer,ArrayBuffer)||typeof SharedArrayBuffer!="undefined"&&(ft(tt,SharedArrayBuffer)||tt&&ft(tt.buffer,SharedArrayBuffer)))return o(tt,Ie,We);if(typeof tt=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var Ze=tt.valueOf&&tt.valueOf();if(Ze!=null&&Ze!==tt)return i.from(Ze,Ie,We);var He=P(tt);if(He)return He;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof tt[Symbol.toPrimitive]=="function")return i.from(tt[Symbol.toPrimitive]("string"),Ie,We);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+f(tt))}i.from=function(tt,Ie,We){return d(tt,Ie,We)},Object.setPrototypeOf(i.prototype,Uint8Array.prototype),Object.setPrototypeOf(i,Uint8Array);function b(tt){if(typeof tt!="number")throw new TypeError('"size" argument must be of type number');if(tt<0)throw new RangeError('The value "'+tt+'" is invalid for option "size"')}function w(tt,Ie,We){return b(tt),tt<=0?c(tt):Ie!==void 0?typeof We=="string"?c(tt).fill(Ie,We):c(tt).fill(Ie):c(tt)}i.alloc=function(tt,Ie,We){return w(tt,Ie,We)};function E(tt){return b(tt),c(tt<0?0:x(tt)|0)}i.allocUnsafe=function(tt){return E(tt)},i.allocUnsafeSlow=function(tt){return E(tt)};function y(tt,Ie){if((typeof Ie!="string"||Ie==="")&&(Ie="utf8"),!i.isEncoding(Ie))throw new TypeError("Unknown encoding: "+Ie);var We=I(tt,Ie)|0,Ze=c(We),He=Ze.write(tt,Ie);return He!==We&&(Ze=Ze.slice(0,He)),Ze}function S(tt){for(var Ie=tt.length<0?0:x(tt.length)|0,We=c(Ie),Ze=0;Ze<Ie;Ze+=1)We[Ze]=tt[Ze]&255;return We}function T(tt){if(ft(tt,Uint8Array)){var Ie=new Uint8Array(tt);return o(Ie.buffer,Ie.byteOffset,Ie.byteLength)}return S(tt)}function o(tt,Ie,We){if(Ie<0||tt.byteLength<Ie)throw new RangeError('"offset" is outside of buffer bounds');if(tt.byteLength<Ie+(We||0))throw new RangeError('"length" is outside of buffer bounds');var Ze;return Ie===void 0&&We===void 0?Ze=new Uint8Array(tt):We===void 0?Ze=new Uint8Array(tt,Ie):Ze=new Uint8Array(tt,Ie,We),Object.setPrototypeOf(Ze,i.prototype),Ze}function P(tt){if(i.isBuffer(tt)){var Ie=x(tt.length)|0,We=c(Ie);return We.length===0||tt.copy(We,0,0,Ie),We}if(tt.length!==void 0)return typeof tt.length!="number"||ct(tt.length)?c(0):S(tt);if(tt.type==="Buffer"&&Array.isArray(tt.data))return S(tt.data)}function x(tt){if(tt>=h)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+h.toString(16)+" bytes");return tt|0}function _(tt){return+tt!=tt&&(tt=0),i.alloc(+tt)}i.isBuffer=function(Ie){return Ie!=null&&Ie._isBuffer===!0&&Ie!==i.prototype},i.compare=function(Ie,We){if(ft(Ie,Uint8Array)&&(Ie=i.from(Ie,Ie.offset,Ie.byteLength)),ft(We,Uint8Array)&&(We=i.from(We,We.offset,We.byteLength)),!i.isBuffer(Ie)||!i.isBuffer(We))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(Ie===We)return 0;for(var Ze=Ie.length,He=We.length,De=0,me=Math.min(Ze,He);De<me;++De)if(Ie[De]!==We[De]){Ze=Ie[De],He=We[De];break}return Ze<He?-1:He<Ze?1:0},i.isEncoding=function(Ie){switch(String(Ie).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},i.concat=function(Ie,We){if(!Array.isArray(Ie))throw new TypeError('"list" argument must be an Array of Buffers');if(Ie.length===0)return i.alloc(0);var Ze;if(We===void 0)for(We=0,Ze=0;Ze<Ie.length;++Ze)We+=Ie[Ze].length;var He=i.allocUnsafe(We),De=0;for(Ze=0;Ze<Ie.length;++Ze){var me=Ie[Ze];if(ft(me,Uint8Array))De+me.length>He.length?(i.isBuffer(me)||(me=i.from(me)),me.copy(He,De)):Uint8Array.prototype.set.call(He,me,De);else if(i.isBuffer(me))me.copy(He,De);else throw new TypeError('"list" argument must be an Array of Buffers');De+=me.length}return He};function I(tt,Ie){if(i.isBuffer(tt))return tt.length;if(ArrayBuffer.isView(tt)||ft(tt,ArrayBuffer))return tt.byteLength;if(typeof tt!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+f(tt));var We=tt.length,Ze=arguments.length>2&&arguments[2]===!0;if(!Ze&&We===0)return 0;for(var He=!1;;)switch(Ie){case"ascii":case"latin1":case"binary":return We;case"utf8":case"utf-8":return Ue(tt).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return We*2;case"hex":return We>>>1;case"base64":return $e(tt).length;default:if(He)return Ze?-1:Ue(tt).length;Ie=(""+Ie).toLowerCase(),He=!0}}i.byteLength=I;function N(tt,Ie,We){var Ze=!1;if((Ie===void 0||Ie<0)&&(Ie=0),Ie>this.length||((We===void 0||We>this.length)&&(We=this.length),We<=0)||(We>>>=0,Ie>>>=0,We<=Ie))return"";for(tt||(tt="utf8");;)switch(tt){case"hex":return $(this,Ie,We);case"utf8":case"utf-8":return oe(this,Ie,We);case"ascii":return te(this,Ie,We);case"latin1":case"binary":return X(this,Ie,We);case"base64":return Q(this,Ie,We);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ie(this,Ie,We);default:if(Ze)throw new TypeError("Unknown encoding: "+tt);tt=(tt+"").toLowerCase(),Ze=!0}}i.prototype._isBuffer=!0;function k(tt,Ie,We){var Ze=tt[Ie];tt[Ie]=tt[We],tt[We]=Ze}i.prototype.swap16=function(){var Ie=this.length;if(Ie%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var We=0;We<Ie;We+=2)k(this,We,We+1);return this},i.prototype.swap32=function(){var Ie=this.length;if(Ie%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var We=0;We<Ie;We+=4)k(this,We,We+3),k(this,We+1,We+2);return this},i.prototype.swap64=function(){var Ie=this.length;if(Ie%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var We=0;We<Ie;We+=8)k(this,We,We+7),k(this,We+1,We+6),k(this,We+2,We+5),k(this,We+3,We+4);return this},i.prototype.toString=function(){var Ie=this.length;return Ie===0?"":arguments.length===0?oe(this,0,Ie):N.apply(this,arguments)},i.prototype.toLocaleString=i.prototype.toString,i.prototype.equals=function(Ie){if(!i.isBuffer(Ie))throw new TypeError("Argument must be a Buffer");return this===Ie?!0:i.compare(this,Ie)===0},i.prototype.inspect=function(){var Ie="",We=U.INSPECT_MAX_BYTES;return Ie=this.toString("hex",0,We).replace(/(.{2})/g,"$1 ").trim(),this.length>We&&(Ie+=" ... "),"<Buffer "+Ie+">"},m&&(i.prototype[m]=i.prototype.inspect),i.prototype.compare=function(Ie,We,Ze,He,De){if(ft(Ie,Uint8Array)&&(Ie=i.from(Ie,Ie.offset,Ie.byteLength)),!i.isBuffer(Ie))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+f(Ie));if(We===void 0&&(We=0),Ze===void 0&&(Ze=Ie?Ie.length:0),He===void 0&&(He=0),De===void 0&&(De=this.length),We<0||Ze>Ie.length||He<0||De>this.length)throw new RangeError("out of range index");if(He>=De&&We>=Ze)return 0;if(He>=De)return-1;if(We>=Ze)return 1;if(We>>>=0,Ze>>>=0,He>>>=0,De>>>=0,this===Ie)return 0;for(var me=De-He,ge=Ze-We,Ee=Math.min(me,ge),Te=this.slice(He,De),ze=Ie.slice(We,Ze),Xe=0;Xe<Ee;++Xe)if(Te[Xe]!==ze[Xe]){me=Te[Xe],ge=ze[Xe];break}return me<ge?-1:ge<me?1:0};function F(tt,Ie,We,Ze,He){if(tt.length===0)return-1;if(typeof We=="string"?(Ze=We,We=0):We>2147483647?We=2147483647:We<-2147483648&&(We=-2147483648),We=+We,ct(We)&&(We=He?0:tt.length-1),We<0&&(We=tt.length+We),We>=tt.length){if(He)return-1;We=tt.length-1}else if(We<0)if(He)We=0;else return-1;if(typeof Ie=="string"&&(Ie=i.from(Ie,Ze)),i.isBuffer(Ie))return Ie.length===0?-1:O(tt,Ie,We,Ze,He);if(typeof Ie=="number")return Ie=Ie&255,typeof Uint8Array.prototype.indexOf=="function"?He?Uint8Array.prototype.indexOf.call(tt,Ie,We):Uint8Array.prototype.lastIndexOf.call(tt,Ie,We):O(tt,[Ie],We,Ze,He);throw new TypeError("val must be string, number or Buffer")}function O(tt,Ie,We,Ze,He){var De=1,me=tt.length,ge=Ie.length;if(Ze!==void 0&&(Ze=String(Ze).toLowerCase(),Ze==="ucs2"||Ze==="ucs-2"||Ze==="utf16le"||Ze==="utf-16le")){if(tt.length<2||Ie.length<2)return-1;De=2,me/=2,ge/=2,We/=2}function Ee(ut,dt){return De===1?ut[dt]:ut.readUInt16BE(dt*De)}var Te;if(He){var ze=-1;for(Te=We;Te<me;Te++)if(Ee(tt,Te)===Ee(Ie,ze===-1?0:Te-ze)){if(ze===-1&&(ze=Te),Te-ze+1===ge)return ze*De}else ze!==-1&&(Te-=Te-ze),ze=-1}else for(We+ge>me&&(We=me-ge),Te=We;Te>=0;Te--){for(var Xe=!0,et=0;et<ge;et++)if(Ee(tt,Te+et)!==Ee(Ie,et)){Xe=!1;break}if(Xe)return Te}return-1}i.prototype.includes=function(Ie,We,Ze){return this.indexOf(Ie,We,Ze)!==-1},i.prototype.indexOf=function(Ie,We,Ze){return F(this,Ie,We,Ze,!0)},i.prototype.lastIndexOf=function(Ie,We,Ze){return F(this,Ie,We,Ze,!1)};function z(tt,Ie,We,Ze){We=Number(We)||0;var He=tt.length-We;Ze?(Ze=Number(Ze),Ze>He&&(Ze=He)):Ze=He;var De=Ie.length;Ze>De/2&&(Ze=De/2);var me;for(me=0;me<Ze;++me){var ge=parseInt(Ie.substr(me*2,2),16);if(ct(ge))return me;tt[We+me]=ge}return me}function B(tt,Ie,We,Ze){return qe(Ue(Ie,tt.length-We),tt,We,Ze)}function W(tt,Ie,We,Ze){return qe(it(Ie),tt,We,Ze)}function q(tt,Ie,We,Ze){return qe($e(Ie),tt,We,Ze)}function ee(tt,Ie,We,Ze){return qe(lt(Ie,tt.length-We),tt,We,Ze)}i.prototype.write=function(Ie,We,Ze,He){if(We===void 0)He="utf8",Ze=this.length,We=0;else if(Ze===void 0&&typeof We=="string")He=We,Ze=this.length,We=0;else if(isFinite(We))We=We>>>0,isFinite(Ze)?(Ze=Ze>>>0,He===void 0&&(He="utf8")):(He=Ze,Ze=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var De=this.length-We;if((Ze===void 0||Ze>De)&&(Ze=De),Ie.length>0&&(Ze<0||We<0)||We>this.length)throw new RangeError("Attempt to write outside buffer bounds");He||(He="utf8");for(var me=!1;;)switch(He){case"hex":return z(this,Ie,We,Ze);case"utf8":case"utf-8":return B(this,Ie,We,Ze);case"ascii":case"latin1":case"binary":return W(this,Ie,We,Ze);case"base64":return q(this,Ie,We,Ze);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ee(this,Ie,We,Ze);default:if(me)throw new TypeError("Unknown encoding: "+He);He=(""+He).toLowerCase(),me=!0}},i.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Q(tt,Ie,We){return Ie===0&&We===tt.length?u.fromByteArray(tt):u.fromByteArray(tt.slice(Ie,We))}function oe(tt,Ie,We){We=Math.min(tt.length,We);for(var Ze=[],He=Ie;He<We;){var De=tt[He],me=null,ge=De>239?4:De>223?3:De>191?2:1;if(He+ge<=We){var Ee=void 0,Te=void 0,ze=void 0,Xe=void 0;switch(ge){case 1:De<128&&(me=De);break;case 2:Ee=tt[He+1],(Ee&192)===128&&(Xe=(De&31)<<6|Ee&63,Xe>127&&(me=Xe));break;case 3:Ee=tt[He+1],Te=tt[He+2],(Ee&192)===128&&(Te&192)===128&&(Xe=(De&15)<<12|(Ee&63)<<6|Te&63,Xe>2047&&(Xe<55296||Xe>57343)&&(me=Xe));break;case 4:Ee=tt[He+1],Te=tt[He+2],ze=tt[He+3],(Ee&192)===128&&(Te&192)===128&&(ze&192)===128&&(Xe=(De&15)<<18|(Ee&63)<<12|(Te&63)<<6|ze&63,Xe>65535&&Xe<1114112&&(me=Xe))}}me===null?(me=65533,ge=1):me>65535&&(me-=65536,Ze.push(me>>>10&1023|55296),me=56320|me&1023),Ze.push(me),He+=ge}return Y(Ze)}var Z=4096;function Y(tt){var Ie=tt.length;if(Ie<=Z)return String.fromCharCode.apply(String,tt);for(var We="",Ze=0;Ze<Ie;)We+=String.fromCharCode.apply(String,tt.slice(Ze,Ze+=Z));return We}function te(tt,Ie,We){var Ze="";We=Math.min(tt.length,We);for(var He=Ie;He<We;++He)Ze+=String.fromCharCode(tt[He]&127);return Ze}function X(tt,Ie,We){var Ze="";We=Math.min(tt.length,We);for(var He=Ie;He<We;++He)Ze+=String.fromCharCode(tt[He]);return Ze}function $(tt,Ie,We){var Ze=tt.length;(!Ie||Ie<0)&&(Ie=0),(!We||We<0||We>Ze)&&(We=Ze);for(var He="",De=Ie;De<We;++De)He+=pt[tt[De]];return He}function ie(tt,Ie,We){for(var Ze=tt.slice(Ie,We),He="",De=0;De<Ze.length-1;De+=2)He+=String.fromCharCode(Ze[De]+Ze[De+1]*256);return He}i.prototype.slice=function(Ie,We){var Ze=this.length;Ie=~~Ie,We=We===void 0?Ze:~~We,Ie<0?(Ie+=Ze,Ie<0&&(Ie=0)):Ie>Ze&&(Ie=Ze),We<0?(We+=Ze,We<0&&(We=0)):We>Ze&&(We=Ze),We<Ie&&(We=Ie);var He=this.subarray(Ie,We);return Object.setPrototypeOf(He,i.prototype),He};function J(tt,Ie,We){if(tt%1!==0||tt<0)throw new RangeError("offset is not uint");if(tt+Ie>We)throw new RangeError("Trying to access beyond buffer length")}i.prototype.readUintLE=i.prototype.readUIntLE=function(Ie,We,Ze){Ie=Ie>>>0,We=We>>>0,Ze||J(Ie,We,this.length);for(var He=this[Ie],De=1,me=0;++me<We&&(De*=256);)He+=this[Ie+me]*De;return He},i.prototype.readUintBE=i.prototype.readUIntBE=function(Ie,We,Ze){Ie=Ie>>>0,We=We>>>0,Ze||J(Ie,We,this.length);for(var He=this[Ie+--We],De=1;We>0&&(De*=256);)He+=this[Ie+--We]*De;return He},i.prototype.readUint8=i.prototype.readUInt8=function(Ie,We){return Ie=Ie>>>0,We||J(Ie,1,this.length),this[Ie]},i.prototype.readUint16LE=i.prototype.readUInt16LE=function(Ie,We){return Ie=Ie>>>0,We||J(Ie,2,this.length),this[Ie]|this[Ie+1]<<8},i.prototype.readUint16BE=i.prototype.readUInt16BE=function(Ie,We){return Ie=Ie>>>0,We||J(Ie,2,this.length),this[Ie]<<8|this[Ie+1]},i.prototype.readUint32LE=i.prototype.readUInt32LE=function(Ie,We){return Ie=Ie>>>0,We||J(Ie,4,this.length),(this[Ie]|this[Ie+1]<<8|this[Ie+2]<<16)+this[Ie+3]*16777216},i.prototype.readUint32BE=i.prototype.readUInt32BE=function(Ie,We){return Ie=Ie>>>0,We||J(Ie,4,this.length),this[Ie]*16777216+(this[Ie+1]<<16|this[Ie+2]<<8|this[Ie+3])},i.prototype.readBigUInt64LE=yt(function(Ie){Ie=Ie>>>0,Se(Ie,"offset");var We=this[Ie],Ze=this[Ie+7];(We===void 0||Ze===void 0)&&Fe(Ie,this.length-8);var He=We+this[++Ie]*Math.pow(2,8)+this[++Ie]*Math.pow(2,16)+this[++Ie]*Math.pow(2,24),De=this[++Ie]+this[++Ie]*Math.pow(2,8)+this[++Ie]*Math.pow(2,16)+Ze*Math.pow(2,24);return BigInt(He)+(BigInt(De)<<BigInt(32))}),i.prototype.readBigUInt64BE=yt(function(Ie){Ie=Ie>>>0,Se(Ie,"offset");var We=this[Ie],Ze=this[Ie+7];(We===void 0||Ze===void 0)&&Fe(Ie,this.length-8);var He=We*Math.pow(2,24)+this[++Ie]*Math.pow(2,16)+this[++Ie]*Math.pow(2,8)+this[++Ie],De=this[++Ie]*Math.pow(2,24)+this[++Ie]*Math.pow(2,16)+this[++Ie]*Math.pow(2,8)+Ze;return(BigInt(He)<<BigInt(32))+BigInt(De)}),i.prototype.readIntLE=function(Ie,We,Ze){Ie=Ie>>>0,We=We>>>0,Ze||J(Ie,We,this.length);for(var He=this[Ie],De=1,me=0;++me<We&&(De*=256);)He+=this[Ie+me]*De;return De*=128,He>=De&&(He-=Math.pow(2,8*We)),He},i.prototype.readIntBE=function(Ie,We,Ze){Ie=Ie>>>0,We=We>>>0,Ze||J(Ie,We,this.length);for(var He=We,De=1,me=this[Ie+--He];He>0&&(De*=256);)me+=this[Ie+--He]*De;return De*=128,me>=De&&(me-=Math.pow(2,8*We)),me},i.prototype.readInt8=function(Ie,We){return Ie=Ie>>>0,We||J(Ie,1,this.length),this[Ie]&128?(255-this[Ie]+1)*-1:this[Ie]},i.prototype.readInt16LE=function(Ie,We){Ie=Ie>>>0,We||J(Ie,2,this.length);var Ze=this[Ie]|this[Ie+1]<<8;return Ze&32768?Ze|4294901760:Ze},i.prototype.readInt16BE=function(Ie,We){Ie=Ie>>>0,We||J(Ie,2,this.length);var Ze=this[Ie+1]|this[Ie]<<8;return Ze&32768?Ze|4294901760:Ze},i.prototype.readInt32LE=function(Ie,We){return Ie=Ie>>>0,We||J(Ie,4,this.length),this[Ie]|this[Ie+1]<<8|this[Ie+2]<<16|this[Ie+3]<<24},i.prototype.readInt32BE=function(Ie,We){return Ie=Ie>>>0,We||J(Ie,4,this.length),this[Ie]<<24|this[Ie+1]<<16|this[Ie+2]<<8|this[Ie+3]},i.prototype.readBigInt64LE=yt(function(Ie){Ie=Ie>>>0,Se(Ie,"offset");var We=this[Ie],Ze=this[Ie+7];(We===void 0||Ze===void 0)&&Fe(Ie,this.length-8);var He=this[Ie+4]+this[Ie+5]*Math.pow(2,8)+this[Ie+6]*Math.pow(2,16)+(Ze<<24);return(BigInt(He)<<BigInt(32))+BigInt(We+this[++Ie]*Math.pow(2,8)+this[++Ie]*Math.pow(2,16)+this[++Ie]*Math.pow(2,24))}),i.prototype.readBigInt64BE=yt(function(Ie){Ie=Ie>>>0,Se(Ie,"offset");var We=this[Ie],Ze=this[Ie+7];(We===void 0||Ze===void 0)&&Fe(Ie,this.length-8);var He=(We<<24)+this[++Ie]*Math.pow(2,16)+this[++Ie]*Math.pow(2,8)+this[++Ie];return(BigInt(He)<<BigInt(32))+BigInt(this[++Ie]*Math.pow(2,24)+this[++Ie]*Math.pow(2,16)+this[++Ie]*Math.pow(2,8)+Ze)}),i.prototype.readFloatLE=function(Ie,We){return Ie=Ie>>>0,We||J(Ie,4,this.length),l.read(this,Ie,!0,23,4)},i.prototype.readFloatBE=function(Ie,We){return Ie=Ie>>>0,We||J(Ie,4,this.length),l.read(this,Ie,!1,23,4)},i.prototype.readDoubleLE=function(Ie,We){return Ie=Ie>>>0,We||J(Ie,8,this.length),l.read(this,Ie,!0,52,8)},i.prototype.readDoubleBE=function(Ie,We){return Ie=Ie>>>0,We||J(Ie,8,this.length),l.read(this,Ie,!1,52,8)};function j(tt,Ie,We,Ze,He,De){if(!i.isBuffer(tt))throw new TypeError('"buffer" argument must be a Buffer instance');if(Ie>He||Ie<De)throw new RangeError('"value" argument is out of bounds');if(We+Ze>tt.length)throw new RangeError("Index out of range")}i.prototype.writeUintLE=i.prototype.writeUIntLE=function(Ie,We,Ze,He){if(Ie=+Ie,We=We>>>0,Ze=Ze>>>0,!He){var De=Math.pow(2,8*Ze)-1;j(this,Ie,We,Ze,De,0)}var me=1,ge=0;for(this[We]=Ie&255;++ge<Ze&&(me*=256);)this[We+ge]=Ie/me&255;return We+Ze},i.prototype.writeUintBE=i.prototype.writeUIntBE=function(Ie,We,Ze,He){if(Ie=+Ie,We=We>>>0,Ze=Ze>>>0,!He){var De=Math.pow(2,8*Ze)-1;j(this,Ie,We,Ze,De,0)}var me=Ze-1,ge=1;for(this[We+me]=Ie&255;--me>=0&&(ge*=256);)this[We+me]=Ie/ge&255;return We+Ze},i.prototype.writeUint8=i.prototype.writeUInt8=function(Ie,We,Ze){return Ie=+Ie,We=We>>>0,Ze||j(this,Ie,We,1,255,0),this[We]=Ie&255,We+1},i.prototype.writeUint16LE=i.prototype.writeUInt16LE=function(Ie,We,Ze){return Ie=+Ie,We=We>>>0,Ze||j(this,Ie,We,2,65535,0),this[We]=Ie&255,this[We+1]=Ie>>>8,We+2},i.prototype.writeUint16BE=i.prototype.writeUInt16BE=function(Ie,We,Ze){return Ie=+Ie,We=We>>>0,Ze||j(this,Ie,We,2,65535,0),this[We]=Ie>>>8,this[We+1]=Ie&255,We+2},i.prototype.writeUint32LE=i.prototype.writeUInt32LE=function(Ie,We,Ze){return Ie=+Ie,We=We>>>0,Ze||j(this,Ie,We,4,4294967295,0),this[We+3]=Ie>>>24,this[We+2]=Ie>>>16,this[We+1]=Ie>>>8,this[We]=Ie&255,We+4},i.prototype.writeUint32BE=i.prototype.writeUInt32BE=function(Ie,We,Ze){return Ie=+Ie,We=We>>>0,Ze||j(this,Ie,We,4,4294967295,0),this[We]=Ie>>>24,this[We+1]=Ie>>>16,this[We+2]=Ie>>>8,this[We+3]=Ie&255,We+4};function se(tt,Ie,We,Ze,He){ye(Ie,Ze,He,tt,We,7);var De=Number(Ie&BigInt(4294967295));tt[We++]=De,De=De>>8,tt[We++]=De,De=De>>8,tt[We++]=De,De=De>>8,tt[We++]=De;var me=Number(Ie>>BigInt(32)&BigInt(4294967295));return tt[We++]=me,me=me>>8,tt[We++]=me,me=me>>8,tt[We++]=me,me=me>>8,tt[We++]=me,We}function ne(tt,Ie,We,Ze,He){ye(Ie,Ze,He,tt,We,7);var De=Number(Ie&BigInt(4294967295));tt[We+7]=De,De=De>>8,tt[We+6]=De,De=De>>8,tt[We+5]=De,De=De>>8,tt[We+4]=De;var me=Number(Ie>>BigInt(32)&BigInt(4294967295));return tt[We+3]=me,me=me>>8,tt[We+2]=me,me=me>>8,tt[We+1]=me,me=me>>8,tt[We]=me,We+8}i.prototype.writeBigUInt64LE=yt(function(Ie){var We=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return se(this,Ie,We,BigInt(0),BigInt("0xffffffffffffffff"))}),i.prototype.writeBigUInt64BE=yt(function(Ie){var We=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return ne(this,Ie,We,BigInt(0),BigInt("0xffffffffffffffff"))}),i.prototype.writeIntLE=function(Ie,We,Ze,He){if(Ie=+Ie,We=We>>>0,!He){var De=Math.pow(2,8*Ze-1);j(this,Ie,We,Ze,De-1,-De)}var me=0,ge=1,Ee=0;for(this[We]=Ie&255;++me<Ze&&(ge*=256);)Ie<0&&Ee===0&&this[We+me-1]!==0&&(Ee=1),this[We+me]=(Ie/ge>>0)-Ee&255;return We+Ze},i.prototype.writeIntBE=function(Ie,We,Ze,He){if(Ie=+Ie,We=We>>>0,!He){var De=Math.pow(2,8*Ze-1);j(this,Ie,We,Ze,De-1,-De)}var me=Ze-1,ge=1,Ee=0;for(this[We+me]=Ie&255;--me>=0&&(ge*=256);)Ie<0&&Ee===0&&this[We+me+1]!==0&&(Ee=1),this[We+me]=(Ie/ge>>0)-Ee&255;return We+Ze},i.prototype.writeInt8=function(Ie,We,Ze){return Ie=+Ie,We=We>>>0,Ze||j(this,Ie,We,1,127,-128),Ie<0&&(Ie=255+Ie+1),this[We]=Ie&255,We+1},i.prototype.writeInt16LE=function(Ie,We,Ze){return Ie=+Ie,We=We>>>0,Ze||j(this,Ie,We,2,32767,-32768),this[We]=Ie&255,this[We+1]=Ie>>>8,We+2},i.prototype.writeInt16BE=function(Ie,We,Ze){return Ie=+Ie,We=We>>>0,Ze||j(this,Ie,We,2,32767,-32768),this[We]=Ie>>>8,this[We+1]=Ie&255,We+2},i.prototype.writeInt32LE=function(Ie,We,Ze){return Ie=+Ie,We=We>>>0,Ze||j(this,Ie,We,4,2147483647,-2147483648),this[We]=Ie&255,this[We+1]=Ie>>>8,this[We+2]=Ie>>>16,this[We+3]=Ie>>>24,We+4},i.prototype.writeInt32BE=function(Ie,We,Ze){return Ie=+Ie,We=We>>>0,Ze||j(this,Ie,We,4,2147483647,-2147483648),Ie<0&&(Ie=4294967295+Ie+1),this[We]=Ie>>>24,this[We+1]=Ie>>>16,this[We+2]=Ie>>>8,this[We+3]=Ie&255,We+4},i.prototype.writeBigInt64LE=yt(function(Ie){var We=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return se(this,Ie,We,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),i.prototype.writeBigInt64BE=yt(function(Ie){var We=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return ne(this,Ie,We,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function le(tt,Ie,We,Ze,He,De){if(We+Ze>tt.length)throw new RangeError("Index out of range");if(We<0)throw new RangeError("Index out of range")}function pe(tt,Ie,We,Ze,He){return Ie=+Ie,We=We>>>0,He||le(tt,Ie,We,4),l.write(tt,Ie,We,Ze,23,4),We+4}i.prototype.writeFloatLE=function(Ie,We,Ze){return pe(this,Ie,We,!0,Ze)},i.prototype.writeFloatBE=function(Ie,We,Ze){return pe(this,Ie,We,!1,Ze)};function Ae(tt,Ie,We,Ze,He){return Ie=+Ie,We=We>>>0,He||le(tt,Ie,We,8),l.write(tt,Ie,We,Ze,52,8),We+8}i.prototype.writeDoubleLE=function(Ie,We,Ze){return Ae(this,Ie,We,!0,Ze)},i.prototype.writeDoubleBE=function(Ie,We,Ze){return Ae(this,Ie,We,!1,Ze)},i.prototype.copy=function(Ie,We,Ze,He){if(!i.isBuffer(Ie))throw new TypeError("argument should be a Buffer");if(Ze||(Ze=0),!He&&He!==0&&(He=this.length),We>=Ie.length&&(We=Ie.length),We||(We=0),He>0&&He<Ze&&(He=Ze),He===Ze||Ie.length===0||this.length===0)return 0;if(We<0)throw new RangeError("targetStart out of bounds");if(Ze<0||Ze>=this.length)throw new RangeError("Index out of range");if(He<0)throw new RangeError("sourceEnd out of bounds");He>this.length&&(He=this.length),Ie.length-We<He-Ze&&(He=Ie.length-We+Ze);var De=He-Ze;return this===Ie&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(We,Ze,He):Uint8Array.prototype.set.call(Ie,this.subarray(Ze,He),We),De},i.prototype.fill=function(Ie,We,Ze,He){if(typeof Ie=="string"){if(typeof We=="string"?(He=We,We=0,Ze=this.length):typeof Ze=="string"&&(He=Ze,Ze=this.length),He!==void 0&&typeof He!="string")throw new TypeError("encoding must be a string");if(typeof He=="string"&&!i.isEncoding(He))throw new TypeError("Unknown encoding: "+He);if(Ie.length===1){var De=Ie.charCodeAt(0);(He==="utf8"&&De<128||He==="latin1")&&(Ie=De)}}else typeof Ie=="number"?Ie=Ie&255:typeof Ie=="boolean"&&(Ie=Number(Ie));if(We<0||this.length<We||this.length<Ze)throw new RangeError("Out of range index");if(Ze<=We)return this;We=We>>>0,Ze=Ze===void 0?this.length:Ze>>>0,Ie||(Ie=0);var me;if(typeof Ie=="number")for(me=We;me<Ze;++me)this[me]=Ie;else{var ge=i.isBuffer(Ie)?Ie:i.from(Ie,He),Ee=ge.length;if(Ee===0)throw new TypeError('The value "'+Ie+'" is invalid for argument "value"');for(me=0;me<Ze-We;++me)this[me+We]=ge[me%Ee]}return this};var be={};function Re(tt,Ie,We){be[tt]=function(Ze){s(He,Ze);function He(){var De;return g(this,He),De=v(this,He),Object.defineProperty(t(De),"message",{value:Ie.apply(t(De),arguments),writable:!0,configurable:!0}),De.name="".concat(De.name," [").concat(tt,"]"),De.stack,delete De.name,De}return a(He,[{key:"code",get:function(){return tt},set:function(me){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:me,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(tt,"]: ").concat(this.message)}}]),He}(We)}Re("ERR_BUFFER_OUT_OF_BOUNDS",function(tt){return tt?"".concat(tt," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"},RangeError),Re("ERR_INVALID_ARG_TYPE",function(tt,Ie){return'The "'.concat(tt,'" argument must be of type number. Received type ').concat(f(Ie))},TypeError),Re("ERR_OUT_OF_RANGE",function(tt,Ie,We){var Ze='The value of "'.concat(tt,'" is out of range.'),He=We;return Number.isInteger(We)&&Math.abs(We)>Math.pow(2,32)?He=xe(String(We)):typeof We=="bigint"&&(He=String(We),(We>Math.pow(BigInt(2),BigInt(32))||We<-Math.pow(BigInt(2),BigInt(32)))&&(He=xe(He)),He+="n"),Ze+=" It must be ".concat(Ie,". Received ").concat(He),Ze},RangeError);function xe(tt){for(var Ie="",We=tt.length,Ze=tt[0]==="-"?1:0;We>=Ze+4;We-=3)Ie="_".concat(tt.slice(We-3,We)).concat(Ie);return"".concat(tt.slice(0,We)).concat(Ie)}function Me(tt,Ie,We){Se(Ie,"offset"),(tt[Ie]===void 0||tt[Ie+We]===void 0)&&Fe(Ie,tt.length-(We+1))}function ye(tt,Ie,We,Ze,He,De){if(tt>We||tt<Ie){var me=typeof Ie=="bigint"?"n":"",ge;throw De>3?Ie===0||Ie===BigInt(0)?ge=">= 0".concat(me," and < 2").concat(me," ** ").concat((De+1)*8).concat(me):ge=">= -(2".concat(me," ** ").concat((De+1)*8-1).concat(me,") and < 2 ** ")+"".concat((De+1)*8-1).concat(me):ge=">= ".concat(Ie).concat(me," and <= ").concat(We).concat(me),new be.ERR_OUT_OF_RANGE("value",ge,tt)}Me(Ze,He,De)}function Se(tt,Ie){if(typeof tt!="number")throw new be.ERR_INVALID_ARG_TYPE(Ie,"number",tt)}function Fe(tt,Ie,We){throw Math.floor(tt)!==tt?(Se(tt,We),new be.ERR_OUT_OF_RANGE(We||"offset","an integer",tt)):Ie<0?new be.ERR_BUFFER_OUT_OF_BOUNDS:new be.ERR_OUT_OF_RANGE(We||"offset",">= ".concat(We?1:0," and <= ").concat(Ie),tt)}var Be=/[^+/0-9A-Za-z-_]/g;function _e(tt){if(tt=tt.split("=")[0],tt=tt.trim().replace(Be,""),tt.length<2)return"";for(;tt.length%4!==0;)tt=tt+"=";return tt}function Ue(tt,Ie){Ie=Ie||1/0;for(var We,Ze=tt.length,He=null,De=[],me=0;me<Ze;++me){if(We=tt.charCodeAt(me),We>55295&&We<57344){if(!He){if(We>56319){(Ie-=3)>-1&&De.push(239,191,189);continue}else if(me+1===Ze){(Ie-=3)>-1&&De.push(239,191,189);continue}He=We;continue}if(We<56320){(Ie-=3)>-1&&De.push(239,191,189),He=We;continue}We=(He-55296<<10|We-56320)+65536}else He&&(Ie-=3)>-1&&De.push(239,191,189);if(He=null,We<128){if((Ie-=1)<0)break;De.push(We)}else if(We<2048){if((Ie-=2)<0)break;De.push(We>>6|192,We&63|128)}else if(We<65536){if((Ie-=3)<0)break;De.push(We>>12|224,We>>6&63|128,We&63|128)}else if(We<1114112){if((Ie-=4)<0)break;De.push(We>>18|240,We>>12&63|128,We>>6&63|128,We&63|128)}else throw new Error("Invalid code point")}return De}function it(tt){for(var Ie=[],We=0;We<tt.length;++We)Ie.push(tt.charCodeAt(We)&255);return Ie}function lt(tt,Ie){for(var We,Ze,He,De=[],me=0;me<tt.length&&!((Ie-=2)<0);++me)We=tt.charCodeAt(me),Ze=We>>8,He=We%256,De.push(He),De.push(Ze);return De}function $e(tt){return u.toByteArray(_e(tt))}function qe(tt,Ie,We,Ze){var He;for(He=0;He<Ze&&!(He+We>=Ie.length||He>=tt.length);++He)Ie[He+We]=tt[He];return He}function ft(tt,Ie){return tt instanceof Ie||tt!=null&&tt.constructor!=null&&tt.constructor.name!=null&&tt.constructor.name===Ie.name}function ct(tt){return tt!==tt}var pt=function(){for(var tt="0123456789abcdef",Ie=new Array(256),We=0;We<16;++We)for(var Ze=We*16,He=0;He<16;++He)Ie[Ze+He]=tt[We]+tt[He];return Ie}();function yt(tt){return typeof BigInt=="undefined"?Et:tt}function Et(){throw new Error("BigInt not supported")}},25928:function(G){G.exports=L,G.exports.isMobile=L,G.exports.default=L;var U=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,e=/CrOS/,g=/android|ipad|playbook|silk/i;function L(a){a||(a={});var C=a.ua;if(!C&&typeof navigator!="undefined"&&(C=navigator.userAgent),C&&C.headers&&typeof C.headers["user-agent"]=="string"&&(C=C.headers["user-agent"]),typeof C!="string")return!1;var A=U.test(C)&&!e.test(C)||!!a.tablet&&g.test(C);return!A&&a.tablet&&a.featureDetect&&navigator&&navigator.maxTouchPoints>1&&C.indexOf("Macintosh")!==-1&&C.indexOf("Safari")!==-1&&(A=!0),A}},48932:function(G,U,e){e.r(U),e.d(U,{sankeyCenter:function(){return s},sankeyCircular:function(){return P},sankeyJustify:function(){return t},sankeyLeft:function(){return p},sankeyRight:function(){return r}});var g=e(84706),L=e(34712),a=e(10132),C=e(6688),A=e.n(C);function v(be){return be.target.depth}function p(be){return be.depth}function r(be,Re){return Re-1-be.height}function t(be,Re){return be.sourceLinks.length?be.depth:Re-1}function s(be){return be.targetLinks.length?be.depth:be.sourceLinks.length?(0,g.SY)(be.sourceLinks,v)-1:0}function n(be){return function(){return be}}var f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(be){return typeof be}:function(be){return be&&typeof Symbol=="function"&&be.constructor===Symbol&&be!==Symbol.prototype?"symbol":typeof be};function u(be,Re){return m(be.source,Re.source)||be.index-Re.index}function l(be,Re){return m(be.target,Re.target)||be.index-Re.index}function m(be,Re){return be.partOfCycle===Re.partOfCycle?be.y0-Re.y0:be.circularLinkType==="top"||Re.circularLinkType==="bottom"?-1:1}function h(be){return be.value}function M(be){return(be.y0+be.y1)/2}function c(be){return M(be.source)}function i(be){return M(be.target)}function d(be){return be.index}function b(be){return be.nodes}function w(be){return be.links}function E(be,Re){var xe=be.get(Re);if(!xe)throw new Error("missing: "+Re);return xe}function y(be,Re){return Re(be)}var S=25,T=10,o=.3;function P(){var be=0,Re=0,xe=1,Me=1,ye=24,Se,Fe=d,Be=t,_e=b,Ue=w,it=32,lt=2,$e,qe=null;function ft(){var Ze={nodes:_e.apply(null,arguments),links:Ue.apply(null,arguments)};ct(Ze),x(Ze,Fe,qe),pt(Ze),tt(Ze),_(Ze,Fe),Ie(Ze,it,Fe),We(Ze);for(var He=4,De=0;De<He;De++)j(Ze,Me,Fe),se(Ze,Me,Fe),$(Ze,Re,Me,Fe),j(Ze,Me,Fe),se(Ze,Me,Fe);return Ae(Ze,Re,Me),z(Ze,lt,Me,Fe),Ze}ft.nodeId=function(Ze){return arguments.length?(Fe=typeof Ze=="function"?Ze:n(Ze),ft):Fe},ft.nodeAlign=function(Ze){return arguments.length?(Be=typeof Ze=="function"?Ze:n(Ze),ft):Be},ft.nodeWidth=function(Ze){return arguments.length?(ye=+Ze,ft):ye},ft.nodePadding=function(Ze){return arguments.length?(Se=+Ze,ft):Se},ft.nodes=function(Ze){return arguments.length?(_e=typeof Ze=="function"?Ze:n(Ze),ft):_e},ft.links=function(Ze){return arguments.length?(Ue=typeof Ze=="function"?Ze:n(Ze),ft):Ue},ft.size=function(Ze){return arguments.length?(be=Re=0,xe=+Ze[0],Me=+Ze[1],ft):[xe-be,Me-Re]},ft.extent=function(Ze){return arguments.length?(be=+Ze[0][0],xe=+Ze[1][0],Re=+Ze[0][1],Me=+Ze[1][1],ft):[[be,Re],[xe,Me]]},ft.iterations=function(Ze){return arguments.length?(it=+Ze,ft):it},ft.circularLinkGap=function(Ze){return arguments.length?(lt=+Ze,ft):lt},ft.nodePaddingRatio=function(Ze){return arguments.length?($e=+Ze,ft):$e},ft.sortNodes=function(Ze){return arguments.length?(qe=Ze,ft):qe},ft.update=function(Ze){return _(Ze,Fe),We(Ze),Ze.links.forEach(function(He){He.circular&&(He.circularLinkType=He.y0+He.y1<Me?"top":"bottom",He.source.circularLinkType=He.circularLinkType,He.target.circularLinkType=He.circularLinkType)}),j(Ze,Me,Fe,!1),se(Ze,Me,Fe),z(Ze,lt,Me,Fe),Ze};function ct(Ze){Ze.nodes.forEach(function(De,me){De.index=me,De.sourceLinks=[],De.targetLinks=[]});var He=(0,L.kH)(Ze.nodes,Fe);return Ze.links.forEach(function(De,me){De.index=me;var ge=De.source,Ee=De.target;(typeof ge=="undefined"?"undefined":f(ge))!=="object"&&(ge=De.source=E(He,ge)),(typeof Ee=="undefined"?"undefined":f(Ee))!=="object"&&(Ee=De.target=E(He,Ee)),ge.sourceLinks.push(De),Ee.targetLinks.push(De)}),Ze}function pt(Ze){Ze.nodes.forEach(function(He){He.partOfCycle=!1,He.value=Math.max((0,g.oh)(He.sourceLinks,h),(0,g.oh)(He.targetLinks,h)),He.sourceLinks.forEach(function(De){De.circular&&(He.partOfCycle=!0,He.circularLinkType=De.circularLinkType)}),He.targetLinks.forEach(function(De){De.circular&&(He.partOfCycle=!0,He.circularLinkType=De.circularLinkType)})})}function yt(Ze){var He=0,De=0,me=0,ge=0,Ee=(0,g.kv)(Ze.nodes,function(Te){return Te.column});return Ze.links.forEach(function(Te){Te.circular&&(Te.circularLinkType=="top"?He=He+Te.width:De=De+Te.width,Te.target.column==0&&(ge=ge+Te.width),Te.source.column==Ee&&(me=me+Te.width))}),He=He>0?He+S+T:He,De=De>0?De+S+T:De,me=me>0?me+S+T:me,ge=ge>0?ge+S+T:ge,{top:He,bottom:De,left:ge,right:me}}function Et(Ze,He){var De=(0,g.kv)(Ze.nodes,function(et){return et.column}),me=xe-be,ge=Me-Re,Ee=me+He.right+He.left,Te=ge+He.top+He.bottom,ze=me/Ee,Xe=ge/Te;return be=be*ze+He.left,xe=He.right==0?xe:xe*ze,Re=Re*Xe+He.top,Me=Me*Xe,Ze.nodes.forEach(function(et){et.x0=be+et.column*((xe-be-ye)/De),et.x1=et.x0+ye}),Xe}function tt(Ze){var He,De,me;for(He=Ze.nodes,De=[],me=0;He.length;++me,He=De,De=[])He.forEach(function(ge){ge.depth=me,ge.sourceLinks.forEach(function(Ee){De.indexOf(Ee.target)<0&&!Ee.circular&&De.push(Ee.target)})});for(He=Ze.nodes,De=[],me=0;He.length;++me,He=De,De=[])He.forEach(function(ge){ge.height=me,ge.targetLinks.forEach(function(Ee){De.indexOf(Ee.source)<0&&!Ee.circular&&De.push(Ee.source)})});Ze.nodes.forEach(function(ge){ge.column=Math.floor(Be.call(null,ge,me))})}function Ie(Ze,He,De){var me=(0,L.UJ)().key(function(et){return et.column}).sortKeys(g.XE).entries(Ze.nodes).map(function(et){return et.values});Te(De),Xe();for(var ge=1,Ee=He;Ee>0;--Ee)ze(ge*=.99,De),Xe();function Te(et){if($e){var ut=1/0;me.forEach(function(Tt){var kt=Me*$e/(Tt.length+1);ut=kt<ut?kt:ut}),Se=ut}var dt=(0,g.SY)(me,function(Tt){return(Me-Re-(Tt.length-1)*Se)/(0,g.oh)(Tt,h)});dt=dt*o,Ze.links.forEach(function(Tt){Tt.width=Tt.value*dt});var Zt=yt(Ze),jt=Et(Ze,Zt);dt=dt*jt,Ze.links.forEach(function(Tt){Tt.width=Tt.value*dt}),me.forEach(function(Tt){var kt=Tt.length;Tt.forEach(function(Qt,wr){Qt.depth==me.length-1&&kt==1||Qt.depth==0&&kt==1?(Qt.y0=Me/2-Qt.value*dt,Qt.y1=Qt.y0+Qt.value*dt):Qt.partOfCycle?k(Qt,et)==0?(Qt.y0=Me/2+wr,Qt.y1=Qt.y0+Qt.value*dt):Qt.circularLinkType=="top"?(Qt.y0=Re+wr,Qt.y1=Qt.y0+Qt.value*dt):(Qt.y0=Me-Qt.value*dt-wr,Qt.y1=Qt.y0+Qt.value*dt):Zt.top==0||Zt.bottom==0?(Qt.y0=(Me-Re)/kt*wr,Qt.y1=Qt.y0+Qt.value*dt):(Qt.y0=(Me-Re)/2-kt/2+wr,Qt.y1=Qt.y0+Qt.value*dt)})})}function ze(et,ut){var dt=me.length;me.forEach(function(Zt){var jt=Zt.length,Tt=Zt[0].depth;Zt.forEach(function(kt){var Qt;if((kt.sourceLinks.length||kt.targetLinks.length)&&!(kt.partOfCycle&&k(kt,ut)>0))if(Tt==0&&jt==1)Qt=kt.y1-kt.y0,kt.y0=Me/2-Qt/2,kt.y1=Me/2+Qt/2;else if(Tt==dt-1&&jt==1)Qt=kt.y1-kt.y0,kt.y0=Me/2-Qt/2,kt.y1=Me/2+Qt/2;else{var wr=0,xt=(0,g.mo)(kt.sourceLinks,i),At=(0,g.mo)(kt.targetLinks,c);xt&&At?wr=(xt+At)/2:wr=xt||At;var Wt=(wr-M(kt))*et;kt.y0+=Wt,kt.y1+=Wt}})})}function Xe(){me.forEach(function(et){var ut,dt,Zt=Re,jt=et.length,Tt;for(et.sort(m),Tt=0;Tt<jt;++Tt)ut=et[Tt],dt=Zt-ut.y0,dt>0&&(ut.y0+=dt,ut.y1+=dt),Zt=ut.y1+Se;if(dt=Zt-Se-Me,dt>0)for(Zt=ut.y0-=dt,ut.y1-=dt,Tt=jt-2;Tt>=0;--Tt)ut=et[Tt],dt=ut.y1+Se-Zt,dt>0&&(ut.y0-=dt,ut.y1-=dt),Zt=ut.y0})}}function We(Ze){Ze.nodes.forEach(function(He){He.sourceLinks.sort(l),He.targetLinks.sort(u)}),Ze.nodes.forEach(function(He){var De=He.y0,me=De,ge=He.y1,Ee=ge;He.sourceLinks.forEach(function(Te){Te.circular?(Te.y0=ge-Te.width/2,ge=ge-Te.width):(Te.y0=De+Te.width/2,De+=Te.width)}),He.targetLinks.forEach(function(Te){Te.circular?(Te.y1=Ee-Te.width/2,Ee=Ee-Te.width):(Te.y1=me+Te.width/2,me+=Te.width)})})}return ft}function x(be,Re,xe){var Me=0;if(xe===null){for(var ye=[],Se=0;Se<be.links.length;Se++){var Fe=be.links[Se],Be=Fe.source.index,_e=Fe.target.index;ye[Be]||(ye[Be]=[]),ye[_e]||(ye[_e]=[]),ye[Be].indexOf(_e)===-1&&ye[Be].push(_e)}var Ue=A()(ye);Ue.sort(function(qe,ft){return qe.length-ft.length});var it={};for(Se=0;Se<Ue.length;Se++){var lt=Ue[Se],$e=lt.slice(-2);it[$e[0]]||(it[$e[0]]={}),it[$e[0]][$e[1]]=!0}be.links.forEach(function(qe){var ft=qe.target.index,ct=qe.source.index;ft===ct||it[ct]&&it[ct][ft]?(qe.circular=!0,qe.circularLinkID=Me,Me=Me+1):qe.circular=!1})}else be.links.forEach(function(qe){qe.source[xe]<qe.target[xe]?qe.circular=!1:(qe.circular=!0,qe.circularLinkID=Me,Me=Me+1)})}function _(be,Re){var xe=0,Me=0;be.links.forEach(function(ye){ye.circular&&(ye.source.circularLinkType||ye.target.circularLinkType?ye.circularLinkType=ye.source.circularLinkType?ye.source.circularLinkType:ye.target.circularLinkType:ye.circularLinkType=xe<Me?"top":"bottom",ye.circularLinkType=="top"?xe=xe+1:Me=Me+1,be.nodes.forEach(function(Se){(y(Se,Re)==y(ye.source,Re)||y(Se,Re)==y(ye.target,Re))&&(Se.circularLinkType=ye.circularLinkType)}))}),be.links.forEach(function(ye){ye.circular&&(ye.source.circularLinkType==ye.target.circularLinkType&&(ye.circularLinkType=ye.source.circularLinkType),pe(ye,Re)&&(ye.circularLinkType=ye.source.circularLinkType))})}function I(be){var Re=Math.abs(be.y1-be.y0),xe=Math.abs(be.target.x0-be.source.x1);return Math.atan(xe/Re)}function N(be,Re){return be.source.column<Re.target.column?!1:!(be.target.column>Re.source.column)}function k(be,Re){var xe=0;be.sourceLinks.forEach(function(ye){xe=ye.circular&&!pe(ye,Re)?xe+1:xe});var Me=0;return be.targetLinks.forEach(function(ye){Me=ye.circular&&!pe(ye,Re)?Me+1:Me}),xe+Me}function F(be){var Re=be.source.sourceLinks,xe=0;Re.forEach(function(Se){xe=Se.circular?xe+1:xe});var Me=be.target.targetLinks,ye=0;return Me.forEach(function(Se){ye=Se.circular?ye+1:ye}),!(xe>1||ye>1)}function O(be,Re,xe){return be.sort(W),be.forEach(function(Me,ye){var Se=0;if(pe(Me,xe)&&F(Me))Me.circularPathData.verticalBuffer=Se+Me.width/2;else{var Fe=0;for(Fe;Fe<ye;Fe++)if(N(be[ye],be[Fe])){var Be=be[Fe].circularPathData.verticalBuffer+be[Fe].width/2+Re;Se=Be>Se?Be:Se}Me.circularPathData.verticalBuffer=Se+Me.width/2}}),be}function z(be,Re,xe,Me){var ye=5,Se=(0,g.SY)(be.links,function(_e){return _e.source.y0});be.links.forEach(function(_e){_e.circular&&(_e.circularPathData={})});var Fe=be.links.filter(function(_e){return _e.circularLinkType=="top"});O(Fe,Re,Me);var Be=be.links.filter(function(_e){return _e.circularLinkType=="bottom"});O(Be,Re,Me),be.links.forEach(function(_e){if(_e.circular){if(_e.circularPathData.arcRadius=_e.width+T,_e.circularPathData.leftNodeBuffer=ye,_e.circularPathData.rightNodeBuffer=ye,_e.circularPathData.sourceWidth=_e.source.x1-_e.source.x0,_e.circularPathData.sourceX=_e.source.x0+_e.circularPathData.sourceWidth,_e.circularPathData.targetX=_e.target.x0,_e.circularPathData.sourceY=_e.y0,_e.circularPathData.targetY=_e.y1,pe(_e,Me)&&F(_e))_e.circularPathData.leftSmallArcRadius=T+_e.width/2,_e.circularPathData.leftLargeArcRadius=T+_e.width/2,_e.circularPathData.rightSmallArcRadius=T+_e.width/2,_e.circularPathData.rightLargeArcRadius=T+_e.width/2,_e.circularLinkType=="bottom"?(_e.circularPathData.verticalFullExtent=_e.source.y1+S+_e.circularPathData.verticalBuffer,_e.circularPathData.verticalLeftInnerExtent=_e.circularPathData.verticalFullExtent-_e.circularPathData.leftLargeArcRadius,_e.circularPathData.verticalRightInnerExtent=_e.circularPathData.verticalFullExtent-_e.circularPathData.rightLargeArcRadius):(_e.circularPathData.verticalFullExtent=_e.source.y0-S-_e.circularPathData.verticalBuffer,_e.circularPathData.verticalLeftInnerExtent=_e.circularPathData.verticalFullExtent+_e.circularPathData.leftLargeArcRadius,_e.circularPathData.verticalRightInnerExtent=_e.circularPathData.verticalFullExtent+_e.circularPathData.rightLargeArcRadius);else{var Ue=_e.source.column,it=_e.circularLinkType,lt=be.links.filter(function(ft){return ft.source.column==Ue&&ft.circularLinkType==it});_e.circularLinkType=="bottom"?lt.sort(ee):lt.sort(q);var $e=0;lt.forEach(function(ft,ct){ft.circularLinkID==_e.circularLinkID&&(_e.circularPathData.leftSmallArcRadius=T+_e.width/2+$e,_e.circularPathData.leftLargeArcRadius=T+_e.width/2+ct*Re+$e),$e=$e+ft.width}),Ue=_e.target.column,lt=be.links.filter(function(ft){return ft.target.column==Ue&&ft.circularLinkType==it}),_e.circularLinkType=="bottom"?lt.sort(oe):lt.sort(Q),$e=0,lt.forEach(function(ft,ct){ft.circularLinkID==_e.circularLinkID&&(_e.circularPathData.rightSmallArcRadius=T+_e.width/2+$e,_e.circularPathData.rightLargeArcRadius=T+_e.width/2+ct*Re+$e),$e=$e+ft.width}),_e.circularLinkType=="bottom"?(_e.circularPathData.verticalFullExtent=Math.max(xe,_e.source.y1,_e.target.y1)+S+_e.circularPathData.verticalBuffer,_e.circularPathData.verticalLeftInnerExtent=_e.circularPathData.verticalFullExtent-_e.circularPathData.leftLargeArcRadius,_e.circularPathData.verticalRightInnerExtent=_e.circularPathData.verticalFullExtent-_e.circularPathData.rightLargeArcRadius):(_e.circularPathData.verticalFullExtent=Se-S-_e.circularPathData.verticalBuffer,_e.circularPathData.verticalLeftInnerExtent=_e.circularPathData.verticalFullExtent+_e.circularPathData.leftLargeArcRadius,_e.circularPathData.verticalRightInnerExtent=_e.circularPathData.verticalFullExtent+_e.circularPathData.rightLargeArcRadius)}_e.circularPathData.leftInnerExtent=_e.circularPathData.sourceX+_e.circularPathData.leftNodeBuffer,_e.circularPathData.rightInnerExtent=_e.circularPathData.targetX-_e.circularPathData.rightNodeBuffer,_e.circularPathData.leftFullExtent=_e.circularPathData.sourceX+_e.circularPathData.leftLargeArcRadius+_e.circularPathData.leftNodeBuffer,_e.circularPathData.rightFullExtent=_e.circularPathData.targetX-_e.circularPathData.rightLargeArcRadius-_e.circularPathData.rightNodeBuffer}if(_e.circular)_e.path=B(_e);else{var qe=(0,a.ak)().source(function(ft){var ct=ft.source.x0+(ft.source.x1-ft.source.x0),pt=ft.y0;return[ct,pt]}).target(function(ft){var ct=ft.target.x0,pt=ft.y1;return[ct,pt]});_e.path=qe(_e)}})}function B(be){var Re="";return be.circularLinkType=="top"?Re="M"+be.circularPathData.sourceX+" "+be.circularPathData.sourceY+" L"+be.circularPathData.leftInnerExtent+" "+be.circularPathData.sourceY+" A"+be.circularPathData.leftLargeArcRadius+" "+be.circularPathData.leftSmallArcRadius+" 0 0 0 "+be.circularPathData.leftFullExtent+" "+(be.circularPathData.sourceY-be.circularPathData.leftSmallArcRadius)+" L"+be.circularPathData.leftFullExtent+" "+be.circularPathData.verticalLeftInnerExtent+" A"+be.circularPathData.leftLargeArcRadius+" "+be.circularPathData.leftLargeArcRadius+" 0 0 0 "+be.circularPathData.leftInnerExtent+" "+be.circularPathData.verticalFullExtent+" L"+be.circularPathData.rightInnerExtent+" "+be.circularPathData.verticalFullExtent+" A"+be.circularPathData.rightLargeArcRadius+" "+be.circularPathData.rightLargeArcRadius+" 0 0 0 "+be.circularPathData.rightFullExtent+" "+be.circularPathData.verticalRightInnerExtent+" L"+be.circularPathData.rightFullExtent+" "+(be.circularPathData.targetY-be.circularPathData.rightSmallArcRadius)+" A"+be.circularPathData.rightLargeArcRadius+" "+be.circularPathData.rightSmallArcRadius+" 0 0 0 "+be.circularPathData.rightInnerExtent+" "+be.circularPathData.targetY+" L"+be.circularPathData.targetX+" "+be.circularPathData.targetY:Re="M"+be.circularPathData.sourceX+" "+be.circularPathData.sourceY+" L"+be.circularPathData.leftInnerExtent+" "+be.circularPathData.sourceY+" A"+be.circularPathData.leftLargeArcRadius+" "+be.circularPathData.leftSmallArcRadius+" 0 0 1 "+be.circularPathData.leftFullExtent+" "+(be.circularPathData.sourceY+be.circularPathData.leftSmallArcRadius)+" L"+be.circularPathData.leftFullExtent+" "+be.circularPathData.verticalLeftInnerExtent+" A"+be.circularPathData.leftLargeArcRadius+" "+be.circularPathData.leftLargeArcRadius+" 0 0 1 "+be.circularPathData.leftInnerExtent+" "+be.circularPathData.verticalFullExtent+" L"+be.circularPathData.rightInnerExtent+" "+be.circularPathData.verticalFullExtent+" A"+be.circularPathData.rightLargeArcRadius+" "+be.circularPathData.rightLargeArcRadius+" 0 0 1 "+be.circularPathData.rightFullExtent+" "+be.circularPathData.verticalRightInnerExtent+" L"+be.circularPathData.rightFullExtent+" "+(be.circularPathData.targetY+be.circularPathData.rightSmallArcRadius)+" A"+be.circularPathData.rightLargeArcRadius+" "+be.circularPathData.rightSmallArcRadius+" 0 0 1 "+be.circularPathData.rightInnerExtent+" "+be.circularPathData.targetY+" L"+be.circularPathData.targetX+" "+be.circularPathData.targetY,Re}function W(be,Re){return Z(be)==Z(Re)?be.circularLinkType=="bottom"?ee(be,Re):q(be,Re):Z(Re)-Z(be)}function q(be,Re){return be.y0-Re.y0}function ee(be,Re){return Re.y0-be.y0}function Q(be,Re){return be.y1-Re.y1}function oe(be,Re){return Re.y1-be.y1}function Z(be){return be.target.column-be.source.column}function Y(be){return be.target.x0-be.source.x1}function te(be,Re){var xe=I(be),Me=Y(Re)/Math.tan(xe),ye=le(be)=="up"?be.y1+Me:be.y1-Me;return ye}function X(be,Re){var xe=I(be),Me=Y(Re)/Math.tan(xe),ye=le(be)=="up"?be.y1-Me:be.y1+Me;return ye}function $(be,Re,xe,Me){be.links.forEach(function(ye){if(!ye.circular&&ye.target.column-ye.source.column>1){var Se=ye.source.column+1,Fe=ye.target.column-1,Be=1,_e=Fe-Se+1;for(Be=1;Se<=Fe;Se++,Be++)be.nodes.forEach(function(Ue){if(Ue.column==Se){var it=Be/(_e+1),lt=Math.pow(1-it,3),$e=3*it*Math.pow(1-it,2),qe=3*Math.pow(it,2)*(1-it),ft=Math.pow(it,3),ct=lt*ye.y0+$e*ye.y0+qe*ye.y1+ft*ye.y1,pt=ct-ye.width/2,yt=ct+ye.width/2,Et;pt>Ue.y0&&pt<Ue.y1?(Et=Ue.y1-pt+10,Et=Ue.circularLinkType=="bottom"?Et:-Et,Ue=J(Ue,Et,Re,xe),be.nodes.forEach(function(tt){y(tt,Me)==y(Ue,Me)||tt.column!=Ue.column||ie(Ue,tt)&&J(tt,Et,Re,xe)})):yt>Ue.y0&&yt<Ue.y1?(Et=yt-Ue.y0+10,Ue=J(Ue,Et,Re,xe),be.nodes.forEach(function(tt){y(tt,Me)==y(Ue,Me)||tt.column!=Ue.column||tt.y0<Ue.y1&&tt.y1>Ue.y1&&J(tt,Et,Re,xe)})):pt<Ue.y0&&yt>Ue.y1&&(Et=yt-Ue.y0+10,Ue=J(Ue,Et,Re,xe),be.nodes.forEach(function(tt){y(tt,Me)==y(Ue,Me)||tt.column!=Ue.column||tt.y0<Ue.y1&&tt.y1>Ue.y1&&J(tt,Et,Re,xe)}))}})}})}function ie(be,Re){return be.y0>Re.y0&&be.y0<Re.y1||be.y1>Re.y0&&be.y1<Re.y1?!0:be.y0<Re.y0&&be.y1>Re.y1}function J(be,Re,xe,Me){return be.y0+Re>=xe&&be.y1+Re<=Me&&(be.y0=be.y0+Re,be.y1=be.y1+Re,be.targetLinks.forEach(function(ye){ye.y1=ye.y1+Re}),be.sourceLinks.forEach(function(ye){ye.y0=ye.y0+Re})),be}function j(be,Re,xe,Me){be.nodes.forEach(function(ye){Me&&ye.y+(ye.y1-ye.y0)>Re&&(ye.y=ye.y-(ye.y+(ye.y1-ye.y0)-Re));var Se=be.links.filter(function(_e){return y(_e.source,xe)==y(ye,xe)}),Fe=Se.length;Fe>1&&Se.sort(function(_e,Ue){if(!_e.circular&&!Ue.circular){if(_e.target.column==Ue.target.column)return _e.y1-Ue.y1;if(ne(_e,Ue)){if(_e.target.column>Ue.target.column){var it=X(Ue,_e);return _e.y1-it}if(Ue.target.column>_e.target.column){var lt=X(_e,Ue);return lt-Ue.y1}}else return _e.y1-Ue.y1}if(_e.circular&&!Ue.circular)return _e.circularLinkType=="top"?-1:1;if(Ue.circular&&!_e.circular)return Ue.circularLinkType=="top"?1:-1;if(_e.circular&&Ue.circular)return _e.circularLinkType===Ue.circularLinkType&&_e.circularLinkType=="top"?_e.target.column===Ue.target.column?_e.target.y1-Ue.target.y1:Ue.target.column-_e.target.column:_e.circularLinkType===Ue.circularLinkType&&_e.circularLinkType=="bottom"?_e.target.column===Ue.target.column?Ue.target.y1-_e.target.y1:_e.target.column-Ue.target.column:_e.circularLinkType=="top"?-1:1});var Be=ye.y0;Se.forEach(function(_e){_e.y0=Be+_e.width/2,Be=Be+_e.width}),Se.forEach(function(_e,Ue){if(_e.circularLinkType=="bottom"){var it=Ue+1,lt=0;for(it;it<Fe;it++)lt=lt+Se[it].width;_e.y0=ye.y1-lt-_e.width/2}})})}function se(be,Re,xe){be.nodes.forEach(function(Me){var ye=be.links.filter(function(Be){return y(Be.target,xe)==y(Me,xe)}),Se=ye.length;Se>1&&ye.sort(function(Be,_e){if(!Be.circular&&!_e.circular){if(Be.source.column==_e.source.column)return Be.y0-_e.y0;if(ne(Be,_e)){if(_e.source.column<Be.source.column){var Ue=te(_e,Be);return Be.y0-Ue}if(Be.source.column<_e.source.column){var it=te(Be,_e);return it-_e.y0}}else return Be.y0-_e.y0}if(Be.circular&&!_e.circular)return Be.circularLinkType=="top"?-1:1;if(_e.circular&&!Be.circular)return _e.circularLinkType=="top"?1:-1;if(Be.circular&&_e.circular)return Be.circularLinkType===_e.circularLinkType&&Be.circularLinkType=="top"?Be.source.column===_e.source.column?Be.source.y1-_e.source.y1:Be.source.column-_e.source.column:Be.circularLinkType===_e.circularLinkType&&Be.circularLinkType=="bottom"?Be.source.column===_e.source.column?Be.source.y1-_e.source.y1:_e.source.column-Be.source.column:Be.circularLinkType=="top"?-1:1});var Fe=Me.y0;ye.forEach(function(Be){Be.y1=Fe+Be.width/2,Fe=Fe+Be.width}),ye.forEach(function(Be,_e){if(Be.circularLinkType=="bottom"){var Ue=_e+1,it=0;for(Ue;Ue<Se;Ue++)it=it+ye[Ue].width;Be.y1=Me.y1-it-Be.width/2}})})}function ne(be,Re){return le(be)==le(Re)}function le(be){return be.y0-be.y1>0?"up":"down"}function pe(be,Re){return y(be.source,Re)==y(be.target,Re)}function Ae(be,Re,xe){var Me=be.nodes,ye=be.links,Se=!1,Fe=!1;if(ye.forEach(function($e){$e.circularLinkType=="top"?Se=!0:$e.circularLinkType=="bottom"&&(Fe=!0)}),Se==!1||Fe==!1){var Be=(0,g.SY)(Me,function($e){return $e.y0}),_e=(0,g.kv)(Me,function($e){return $e.y1}),Ue=_e-Be,it=xe-Re,lt=it/Ue;Me.forEach(function($e){var qe=($e.y1-$e.y0)*lt;$e.y0=($e.y0-Be)*lt,$e.y1=$e.y0+qe}),ye.forEach(function($e){$e.y0=($e.y0-Be)*lt,$e.y1=($e.y1-Be)*lt,$e.width=$e.width*lt})}}},26800:function(G,U,e){e.r(U),e.d(U,{sankey:function(){return d},sankeyCenter:function(){return p},sankeyJustify:function(){return v},sankeyLeft:function(){return C},sankeyLinkHorizontal:function(){return y},sankeyRight:function(){return A}});var g=e(84706),L=e(34712);function a(S){return S.target.depth}function C(S){return S.depth}function A(S,T){return T-1-S.height}function v(S,T){return S.sourceLinks.length?S.depth:T-1}function p(S){return S.targetLinks.length?S.depth:S.sourceLinks.length?(0,g.SY)(S.sourceLinks,a)-1:0}function r(S){return function(){return S}}function t(S,T){return n(S.source,T.source)||S.index-T.index}function s(S,T){return n(S.target,T.target)||S.index-T.index}function n(S,T){return S.y0-T.y0}function f(S){return S.value}function u(S){return(S.y0+S.y1)/2}function l(S){return u(S.source)*S.value}function m(S){return u(S.target)*S.value}function h(S){return S.index}function M(S){return S.nodes}function c(S){return S.links}function i(S,T){var o=S.get(T);if(!o)throw new Error("missing: "+T);return o}function d(){var S=0,T=0,o=1,P=1,x=24,_=8,I=h,N=v,k=M,F=c,O=32,z=2/3;function B(){var Z={nodes:k.apply(null,arguments),links:F.apply(null,arguments)};return W(Z),q(Z),ee(Z),Q(Z),oe(Z),Z}B.update=function(Z){return oe(Z),Z},B.nodeId=function(Z){return arguments.length?(I=typeof Z=="function"?Z:r(Z),B):I},B.nodeAlign=function(Z){return arguments.length?(N=typeof Z=="function"?Z:r(Z),B):N},B.nodeWidth=function(Z){return arguments.length?(x=+Z,B):x},B.nodePadding=function(Z){return arguments.length?(_=+Z,B):_},B.nodes=function(Z){return arguments.length?(k=typeof Z=="function"?Z:r(Z),B):k},B.links=function(Z){return arguments.length?(F=typeof Z=="function"?Z:r(Z),B):F},B.size=function(Z){return arguments.length?(S=T=0,o=+Z[0],P=+Z[1],B):[o-S,P-T]},B.extent=function(Z){return arguments.length?(S=+Z[0][0],o=+Z[1][0],T=+Z[0][1],P=+Z[1][1],B):[[S,T],[o,P]]},B.iterations=function(Z){return arguments.length?(O=+Z,B):O};function W(Z){Z.nodes.forEach(function(te,X){te.index=X,te.sourceLinks=[],te.targetLinks=[]});var Y=(0,L.kH)(Z.nodes,I);Z.links.forEach(function(te,X){te.index=X;var $=te.source,ie=te.target;typeof $!="object"&&($=te.source=i(Y,$)),typeof ie!="object"&&(ie=te.target=i(Y,ie)),$.sourceLinks.push(te),ie.targetLinks.push(te)})}function q(Z){Z.nodes.forEach(function(Y){Y.value=Math.max((0,g.oh)(Y.sourceLinks,f),(0,g.oh)(Y.targetLinks,f))})}function ee(Z){var Y,te,X;for(Y=Z.nodes,te=[],X=0;Y.length;++X,Y=te,te=[])Y.forEach(function(ie){ie.depth=X,ie.sourceLinks.forEach(function(J){te.indexOf(J.target)<0&&te.push(J.target)})});for(Y=Z.nodes,te=[],X=0;Y.length;++X,Y=te,te=[])Y.forEach(function(ie){ie.height=X,ie.targetLinks.forEach(function(J){te.indexOf(J.source)<0&&te.push(J.source)})});var $=(o-S-x)/(X-1);Z.nodes.forEach(function(ie){ie.x1=(ie.x0=S+Math.max(0,Math.min(X-1,Math.floor(N.call(null,ie,X))))*$)+x})}function Q(Z){var Y=(0,L.UJ)().key(function(se){return se.x0}).sortKeys(g.XE).entries(Z.nodes).map(function(se){return se.values});$(),j();for(var te=1,X=O;X>0;--X)J(te*=.99),j(),ie(te),j();function $(){var se=(0,g.kv)(Y,function(pe){return pe.length}),ne=z*(P-T)/(se-1);_>ne&&(_=ne);var le=(0,g.SY)(Y,function(pe){return(P-T-(pe.length-1)*_)/(0,g.oh)(pe,f)});Y.forEach(function(pe){pe.forEach(function(Ae,be){Ae.y1=(Ae.y0=be)+Ae.value*le})}),Z.links.forEach(function(pe){pe.width=pe.value*le})}function ie(se){Y.forEach(function(ne){ne.forEach(function(le){if(le.targetLinks.length){var pe=((0,g.oh)(le.targetLinks,l)/(0,g.oh)(le.targetLinks,f)-u(le))*se;le.y0+=pe,le.y1+=pe}})})}function J(se){Y.slice().reverse().forEach(function(ne){ne.forEach(function(le){if(le.sourceLinks.length){var pe=((0,g.oh)(le.sourceLinks,m)/(0,g.oh)(le.sourceLinks,f)-u(le))*se;le.y0+=pe,le.y1+=pe}})})}function j(){Y.forEach(function(se){var ne,le,pe=T,Ae=se.length,be;for(se.sort(n),be=0;be<Ae;++be)ne=se[be],le=pe-ne.y0,le>0&&(ne.y0+=le,ne.y1+=le),pe=ne.y1+_;if(le=pe-_-P,le>0)for(pe=ne.y0-=le,ne.y1-=le,be=Ae-2;be>=0;--be)ne=se[be],le=ne.y1+_-pe,le>0&&(ne.y0-=le,ne.y1-=le),pe=ne.y0})}}function oe(Z){Z.nodes.forEach(function(Y){Y.sourceLinks.sort(s),Y.targetLinks.sort(t)}),Z.nodes.forEach(function(Y){var te=Y.y0,X=te;Y.sourceLinks.forEach(function($){$.y0=te+$.width/2,te+=$.width}),Y.targetLinks.forEach(function($){$.y1=X+$.width/2,X+=$.width})})}return B}var b=e(10132);function w(S){return[S.source.x1,S.y0]}function E(S){return[S.target.x0,S.y1]}function y(){return(0,b.ak)().source(w).target(E)}},33428:function(G,U,e){var g,L;(function(){var a={version:"3.8.0"},C=[].slice,A=function(ue){return C.call(ue)},v=self.document;function p(ue){return ue&&(ue.ownerDocument||ue.document||ue).documentElement}function r(ue){return ue&&(ue.ownerDocument&&ue.ownerDocument.defaultView||ue.document&&ue||ue.defaultView)}if(v)try{A(v.documentElement.childNodes)[0].nodeType}catch{A=function(Ce){for(var Oe=Ce.length,Qe=new Array(Oe);Oe--;)Qe[Oe]=Ce[Oe];return Qe}}if(Date.now||(Date.now=function(){return+new Date}),v)try{v.createElement("DIV").style.setProperty("opacity",0,"")}catch{var t=this.Element.prototype,s=t.setAttribute,n=t.setAttributeNS,f=this.CSSStyleDeclaration.prototype,u=f.setProperty;t.setAttribute=function(Ce,Oe){s.call(this,Ce,Oe+"")},t.setAttributeNS=function(Ce,Oe,Qe){n.call(this,Ce,Oe,Qe+"")},f.setProperty=function(Ce,Oe,Qe){u.call(this,Ce,Oe+"",Qe)}}a.ascending=l;function l(ue,Ce){return ue<Ce?-1:ue>Ce?1:ue>=Ce?0:NaN}a.descending=function(ue,Ce){return Ce<ue?-1:Ce>ue?1:Ce>=ue?0:NaN},a.min=function(ue,Ce){var Oe=-1,Qe=ue.length,rt,st;if(arguments.length===1){for(;++Oe<Qe;)if((st=ue[Oe])!=null&&st>=st){rt=st;break}for(;++Oe<Qe;)(st=ue[Oe])!=null&&rt>st&&(rt=st)}else{for(;++Oe<Qe;)if((st=Ce.call(ue,ue[Oe],Oe))!=null&&st>=st){rt=st;break}for(;++Oe<Qe;)(st=Ce.call(ue,ue[Oe],Oe))!=null&&rt>st&&(rt=st)}return rt},a.max=function(ue,Ce){var Oe=-1,Qe=ue.length,rt,st;if(arguments.length===1){for(;++Oe<Qe;)if((st=ue[Oe])!=null&&st>=st){rt=st;break}for(;++Oe<Qe;)(st=ue[Oe])!=null&&st>rt&&(rt=st)}else{for(;++Oe<Qe;)if((st=Ce.call(ue,ue[Oe],Oe))!=null&&st>=st){rt=st;break}for(;++Oe<Qe;)(st=Ce.call(ue,ue[Oe],Oe))!=null&&st>rt&&(rt=st)}return rt},a.extent=function(ue,Ce){var Oe=-1,Qe=ue.length,rt,st,Pt;if(arguments.length===1){for(;++Oe<Qe;)if((st=ue[Oe])!=null&&st>=st){rt=Pt=st;break}for(;++Oe<Qe;)(st=ue[Oe])!=null&&(rt>st&&(rt=st),Pt<st&&(Pt=st))}else{for(;++Oe<Qe;)if((st=Ce.call(ue,ue[Oe],Oe))!=null&&st>=st){rt=Pt=st;break}for(;++Oe<Qe;)(st=Ce.call(ue,ue[Oe],Oe))!=null&&(rt>st&&(rt=st),Pt<st&&(Pt=st))}return[rt,Pt]};function m(ue){return ue===null?NaN:+ue}function h(ue){return!isNaN(ue)}a.sum=function(ue,Ce){var Oe=0,Qe=ue.length,rt,st=-1;if(arguments.length===1)for(;++st<Qe;)h(rt=+ue[st])&&(Oe+=rt);else for(;++st<Qe;)h(rt=+Ce.call(ue,ue[st],st))&&(Oe+=rt);return Oe},a.mean=function(ue,Ce){var Oe=0,Qe=ue.length,rt,st=-1,Pt=Qe;if(arguments.length===1)for(;++st<Qe;)h(rt=m(ue[st]))?Oe+=rt:--Pt;else for(;++st<Qe;)h(rt=m(Ce.call(ue,ue[st],st)))?Oe+=rt:--Pt;if(Pt)return Oe/Pt},a.quantile=function(ue,Ce){var Oe=(ue.length-1)*Ce+1,Qe=Math.floor(Oe),rt=+ue[Qe-1],st=Oe-Qe;return st?rt+st*(ue[Qe]-rt):rt},a.median=function(ue,Ce){var Oe=[],Qe=ue.length,rt,st=-1;if(arguments.length===1)for(;++st<Qe;)h(rt=m(ue[st]))&&Oe.push(rt);else for(;++st<Qe;)h(rt=m(Ce.call(ue,ue[st],st)))&&Oe.push(rt);if(Oe.length)return a.quantile(Oe.sort(l),.5)},a.variance=function(ue,Ce){var Oe=ue.length,Qe=0,rt,st,Pt=0,Mt=-1,Gt=0;if(arguments.length===1)for(;++Mt<Oe;)h(rt=m(ue[Mt]))&&(st=rt-Qe,Qe+=st/++Gt,Pt+=st*(rt-Qe));else for(;++Mt<Oe;)h(rt=m(Ce.call(ue,ue[Mt],Mt)))&&(st=rt-Qe,Qe+=st/++Gt,Pt+=st*(rt-Qe));if(Gt>1)return Pt/(Gt-1)},a.deviation=function(){var ue=a.variance.apply(this,arguments);return ue&&Math.sqrt(ue)};function M(ue){return{left:function(Ce,Oe,Qe,rt){for(arguments.length<3&&(Qe=0),arguments.length<4&&(rt=Ce.length);Qe<rt;){var st=Qe+rt>>>1;ue(Ce[st],Oe)<0?Qe=st+1:rt=st}return Qe},right:function(Ce,Oe,Qe,rt){for(arguments.length<3&&(Qe=0),arguments.length<4&&(rt=Ce.length);Qe<rt;){var st=Qe+rt>>>1;ue(Ce[st],Oe)>0?rt=st:Qe=st+1}return Qe}}}var c=M(l);a.bisectLeft=c.left,a.bisect=a.bisectRight=c.right,a.bisector=function(ue){return M(ue.length===1?function(Ce,Oe){return l(ue(Ce),Oe)}:ue)},a.shuffle=function(ue,Ce,Oe){(Qe=arguments.length)<3&&(Oe=ue.length,Qe<2&&(Ce=0));for(var Qe=Oe-Ce,rt,st;Qe;)st=Math.random()*Qe--|0,rt=ue[Qe+Ce],ue[Qe+Ce]=ue[st+Ce],ue[st+Ce]=rt;return ue},a.permute=function(ue,Ce){for(var Oe=Ce.length,Qe=new Array(Oe);Oe--;)Qe[Oe]=ue[Ce[Oe]];return Qe},a.pairs=function(ue){for(var Ce=0,Oe=ue.length-1,Qe=ue[0],rt=new Array(Oe<0?0:Oe);Ce<Oe;)rt[Ce]=[Qe,Qe=ue[++Ce]];return rt},a.transpose=function(ue){if(!(st=ue.length))return[];for(var Ce=-1,Oe=a.min(ue,i),Qe=new Array(Oe);++Ce<Oe;)for(var rt=-1,st,Pt=Qe[Ce]=new Array(st);++rt<st;)Pt[rt]=ue[rt][Ce];return Qe};function i(ue){return ue.length}a.zip=function(){return a.transpose(arguments)},a.keys=function(ue){var Ce=[];for(var Oe in ue)Ce.push(Oe);return Ce},a.values=function(ue){var Ce=[];for(var Oe in ue)Ce.push(ue[Oe]);return Ce},a.entries=function(ue){var Ce=[];for(var Oe in ue)Ce.push({key:Oe,value:ue[Oe]});return Ce},a.merge=function(ue){for(var Ce=ue.length,Oe,Qe=-1,rt=0,st,Pt;++Qe<Ce;)rt+=ue[Qe].length;for(st=new Array(rt);--Ce>=0;)for(Pt=ue[Ce],Oe=Pt.length;--Oe>=0;)st[--rt]=Pt[Oe];return st};var d=Math.abs;a.range=function(ue,Ce,Oe){if(arguments.length<3&&(Oe=1,arguments.length<2&&(Ce=ue,ue=0)),(Ce-ue)/Oe===1/0)throw new Error("infinite range");var Qe=[],rt=b(d(Oe)),st=-1,Pt;if(ue*=rt,Ce*=rt,Oe*=rt,Oe<0)for(;(Pt=ue+Oe*++st)>Ce;)Qe.push(Pt/rt);else for(;(Pt=ue+Oe*++st)<Ce;)Qe.push(Pt/rt);return Qe};function b(ue){for(var Ce=1;ue*Ce%1;)Ce*=10;return Ce}function w(ue,Ce){for(var Oe in Ce)Object.defineProperty(ue.prototype,Oe,{value:Ce[Oe],enumerable:!1})}a.map=function(ue,Ce){var Oe=new E;if(ue instanceof E)ue.forEach(function(Mt,Gt){Oe.set(Mt,Gt)});else if(Array.isArray(ue)){var Qe=-1,rt=ue.length,st;if(arguments.length===1)for(;++Qe<rt;)Oe.set(Qe,ue[Qe]);else for(;++Qe<rt;)Oe.set(Ce.call(ue,st=ue[Qe],Qe),st)}else for(var Pt in ue)Oe.set(Pt,ue[Pt]);return Oe};function E(){this._=Object.create(null)}var y="__proto__",S="\0";w(E,{has:P,get:function(ue){return this._[T(ue)]},set:function(ue,Ce){return this._[T(ue)]=Ce},remove:x,keys:_,values:function(){var ue=[];for(var Ce in this._)ue.push(this._[Ce]);return ue},entries:function(){var ue=[];for(var Ce in this._)ue.push({key:o(Ce),value:this._[Ce]});return ue},size:I,empty:N,forEach:function(ue){for(var Ce in this._)ue.call(this,o(Ce),this._[Ce])}});function T(ue){return(ue+="")===y||ue[0]===S?S+ue:ue}function o(ue){return(ue+="")[0]===S?ue.slice(1):ue}function P(ue){return T(ue)in this._}function x(ue){return(ue=T(ue))in this._&&delete this._[ue]}function _(){var ue=[];for(var Ce in this._)ue.push(o(Ce));return ue}function I(){var ue=0;for(var Ce in this._)++ue;return ue}function N(){for(var ue in this._)return!1;return!0}a.nest=function(){var ue={},Ce=[],Oe=[],Qe,rt;function st(Mt,Gt,Yt){if(Yt>=Ce.length)return rt?rt.call(ue,Gt):Qe?Gt.sort(Qe):Gt;for(var nr=-1,Cr=Gt.length,Pr=Ce[Yt++],Jr,on,Dr,Nr=new E,jr;++nr<Cr;)(jr=Nr.get(Jr=Pr(on=Gt[nr])))?jr.push(on):Nr.set(Jr,[on]);return Mt?(on=Mt(),Dr=function(un,vn){on.set(un,st(Mt,vn,Yt))}):(on={},Dr=function(un,vn){on[un]=st(Mt,vn,Yt)}),Nr.forEach(Dr),on}function Pt(Mt,Gt){if(Gt>=Ce.length)return Mt;var Yt=[],nr=Oe[Gt++];return Mt.forEach(function(Cr,Pr){Yt.push({key:Cr,values:Pt(Pr,Gt)})}),nr?Yt.sort(function(Cr,Pr){return nr(Cr.key,Pr.key)}):Yt}return ue.map=function(Mt,Gt){return st(Gt,Mt,0)},ue.entries=function(Mt){return Pt(st(a.map,Mt,0),0)},ue.key=function(Mt){return Ce.push(Mt),ue},ue.sortKeys=function(Mt){return Oe[Ce.length-1]=Mt,ue},ue.sortValues=function(Mt){return Qe=Mt,ue},ue.rollup=function(Mt){return rt=Mt,ue},ue},a.set=function(ue){var Ce=new k;if(ue)for(var Oe=0,Qe=ue.length;Oe<Qe;++Oe)Ce.add(ue[Oe]);return Ce};function k(){this._=Object.create(null)}w(k,{has:P,add:function(ue){return this._[T(ue+="")]=!0,ue},remove:x,values:_,size:I,empty:N,forEach:function(ue){for(var Ce in this._)ue.call(this,o(Ce))}}),a.behavior={};function F(ue){return ue}a.rebind=function(ue,Ce){for(var Oe=1,Qe=arguments.length,rt;++Oe<Qe;)ue[rt=arguments[Oe]]=O(ue,Ce,Ce[rt]);return ue};function O(ue,Ce,Oe){return function(){var Qe=Oe.apply(Ce,arguments);return Qe===Ce?ue:Qe}}function z(ue,Ce){if(Ce in ue)return Ce;Ce=Ce.charAt(0).toUpperCase()+Ce.slice(1);for(var Oe=0,Qe=B.length;Oe<Qe;++Oe){var rt=B[Oe]+Ce;if(rt in ue)return rt}}var B=["webkit","ms","moz","Moz","o","O"];function W(){}a.dispatch=function(){for(var ue=new q,Ce=-1,Oe=arguments.length;++Ce<Oe;)ue[arguments[Ce]]=ee(ue);return ue};function q(){}q.prototype.on=function(ue,Ce){var Oe=ue.indexOf("."),Qe="";if(Oe>=0&&(Qe=ue.slice(Oe+1),ue=ue.slice(0,Oe)),ue)return arguments.length<2?this[ue].on(Qe):this[ue].on(Qe,Ce);if(arguments.length===2){if(Ce==null)for(ue in this)this.hasOwnProperty(ue)&&this[ue].on(Qe,null);return this}};function ee(ue){var Ce=[],Oe=new E;function Qe(){for(var rt=Ce,st=-1,Pt=rt.length,Mt;++st<Pt;)(Mt=rt[st].on)&&Mt.apply(this,arguments);return ue}return Qe.on=function(rt,st){var Pt=Oe.get(rt),Mt;return arguments.length<2?Pt&&Pt.on:(Pt&&(Pt.on=null,Ce=Ce.slice(0,Mt=Ce.indexOf(Pt)).concat(Ce.slice(Mt+1)),Oe.remove(rt)),st&&Ce.push(Oe.set(rt,{on:st})),ue)},Qe}a.event=null;function Q(){a.event.preventDefault()}function oe(){for(var ue=a.event,Ce;Ce=ue.sourceEvent;)ue=Ce;return ue}function Z(ue){for(var Ce=new q,Oe=0,Qe=arguments.length;++Oe<Qe;)Ce[arguments[Oe]]=ee(Ce);return Ce.of=function(rt,st){return function(Pt){try{var Mt=Pt.sourceEvent=a.event;Pt.target=ue,a.event=Pt,Ce[Pt.type].apply(rt,st)}finally{a.event=Mt}}},Ce}a.requote=function(ue){return ue.replace(Y,"\\$&")};var Y=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,te={}.__proto__?function(ue,Ce){ue.__proto__=Ce}:function(ue,Ce){for(var Oe in Ce)ue[Oe]=Ce[Oe]};function X(ue){return te(ue,j),ue}var $=function(ue,Ce){return Ce.querySelector(ue)},ie=function(ue,Ce){return Ce.querySelectorAll(ue)},J=function(ue,Ce){var Oe=ue.matches||ue[z(ue,"matchesSelector")];return J=function(Qe,rt){return Oe.call(Qe,rt)},J(ue,Ce)};typeof Sizzle=="function"&&($=function(ue,Ce){return Sizzle(ue,Ce)[0]||null},ie=Sizzle,J=Sizzle.matchesSelector),a.selection=function(){return a.select(v.documentElement)};var j=a.selection.prototype=[];j.select=function(ue){var Ce=[],Oe,Qe,rt,st;ue=se(ue);for(var Pt=-1,Mt=this.length;++Pt<Mt;){Ce.push(Oe=[]),Oe.parentNode=(rt=this[Pt]).parentNode;for(var Gt=-1,Yt=rt.length;++Gt<Yt;)(st=rt[Gt])?(Oe.push(Qe=ue.call(st,st.__data__,Gt,Pt)),Qe&&"__data__"in st&&(Qe.__data__=st.__data__)):Oe.push(null)}return X(Ce)};function se(ue){return typeof ue=="function"?ue:function(){return $(ue,this)}}j.selectAll=function(ue){var Ce=[],Oe,Qe;ue=ne(ue);for(var rt=-1,st=this.length;++rt<st;)for(var Pt=this[rt],Mt=-1,Gt=Pt.length;++Mt<Gt;)(Qe=Pt[Mt])&&(Ce.push(Oe=A(ue.call(Qe,Qe.__data__,Mt,rt))),Oe.parentNode=Qe);return X(Ce)};function ne(ue){return typeof ue=="function"?ue:function(){return ie(ue,this)}}var le="http://www.w3.org/1999/xhtml",pe={svg:"http://www.w3.org/2000/svg",xhtml:le,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};a.ns={prefix:pe,qualify:function(ue){var Ce=ue.indexOf(":"),Oe=ue;return Ce>=0&&(Oe=ue.slice(0,Ce))!=="xmlns"&&(ue=ue.slice(Ce+1)),pe.hasOwnProperty(Oe)?{space:pe[Oe],local:ue}:ue}},j.attr=function(ue,Ce){if(arguments.length<2){if(typeof ue=="string"){var Oe=this.node();return ue=a.ns.qualify(ue),ue.local?Oe.getAttributeNS(ue.space,ue.local):Oe.getAttribute(ue)}for(Ce in ue)this.each(Ae(Ce,ue[Ce]));return this}return this.each(Ae(ue,Ce))};function Ae(ue,Ce){ue=a.ns.qualify(ue);function Oe(){this.removeAttribute(ue)}function Qe(){this.removeAttributeNS(ue.space,ue.local)}function rt(){this.setAttribute(ue,Ce)}function st(){this.setAttributeNS(ue.space,ue.local,Ce)}function Pt(){var Gt=Ce.apply(this,arguments);Gt==null?this.removeAttribute(ue):this.setAttribute(ue,Gt)}function Mt(){var Gt=Ce.apply(this,arguments);Gt==null?this.removeAttributeNS(ue.space,ue.local):this.setAttributeNS(ue.space,ue.local,Gt)}return Ce==null?ue.local?Qe:Oe:typeof Ce=="function"?ue.local?Mt:Pt:ue.local?st:rt}function be(ue){return ue.trim().replace(/\s+/g," ")}j.classed=function(ue,Ce){if(arguments.length<2){if(typeof ue=="string"){var Oe=this.node(),Qe=(ue=xe(ue)).length,rt=-1;if(Ce=Oe.classList){for(;++rt<Qe;)if(!Ce.contains(ue[rt]))return!1}else for(Ce=Oe.getAttribute("class");++rt<Qe;)if(!Re(ue[rt]).test(Ce))return!1;return!0}for(Ce in ue)this.each(Me(Ce,ue[Ce]));return this}return this.each(Me(ue,Ce))};function Re(ue){return new RegExp("(?:^|\\s+)"+a.requote(ue)+"(?:\\s+|$)","g")}function xe(ue){return(ue+"").trim().split(/^|\s+/)}function Me(ue,Ce){ue=xe(ue).map(ye);var Oe=ue.length;function Qe(){for(var st=-1;++st<Oe;)ue[st](this,Ce)}function rt(){for(var st=-1,Pt=Ce.apply(this,arguments);++st<Oe;)ue[st](this,Pt)}return typeof Ce=="function"?rt:Qe}function ye(ue){var Ce=Re(ue);return function(Oe,Qe){if(rt=Oe.classList)return Qe?rt.add(ue):rt.remove(ue);var rt=Oe.getAttribute("class")||"";Qe?(Ce.lastIndex=0,Ce.test(rt)||Oe.setAttribute("class",be(rt+" "+ue))):Oe.setAttribute("class",be(rt.replace(Ce," ")))}}j.style=function(ue,Ce,Oe){var Qe=arguments.length;if(Qe<3){if(typeof ue!="string"){Qe<2&&(Ce="");for(Oe in ue)this.each(Se(Oe,ue[Oe],Ce));return this}if(Qe<2){var rt=this.node();return r(rt).getComputedStyle(rt,null).getPropertyValue(ue)}Oe=""}return this.each(Se(ue,Ce,Oe))};function Se(ue,Ce,Oe){function Qe(){this.style.removeProperty(ue)}function rt(){this.style.setProperty(ue,Ce,Oe)}function st(){var Pt=Ce.apply(this,arguments);Pt==null?this.style.removeProperty(ue):this.style.setProperty(ue,Pt,Oe)}return Ce==null?Qe:typeof Ce=="function"?st:rt}j.property=function(ue,Ce){if(arguments.length<2){if(typeof ue=="string")return this.node()[ue];for(Ce in ue)this.each(Fe(Ce,ue[Ce]));return this}return this.each(Fe(ue,Ce))};function Fe(ue,Ce){function Oe(){delete this[ue]}function Qe(){this[ue]=Ce}function rt(){var st=Ce.apply(this,arguments);st==null?delete this[ue]:this[ue]=st}return Ce==null?Oe:typeof Ce=="function"?rt:Qe}j.text=function(ue){return arguments.length?this.each(typeof ue=="function"?function(){var Ce=ue.apply(this,arguments);this.textContent=Ce==null?"":Ce}:ue==null?function(){this.textContent=""}:function(){this.textContent=ue}):this.node().textContent},j.html=function(ue){return arguments.length?this.each(typeof ue=="function"?function(){var Ce=ue.apply(this,arguments);this.innerHTML=Ce==null?"":Ce}:ue==null?function(){this.innerHTML=""}:function(){this.innerHTML=ue}):this.node().innerHTML},j.append=function(ue){return ue=Be(ue),this.select(function(){return this.appendChild(ue.apply(this,arguments))})};function Be(ue){function Ce(){var Qe=this.ownerDocument,rt=this.namespaceURI;return rt===le&&Qe.documentElement.namespaceURI===le?Qe.createElement(ue):Qe.createElementNS(rt,ue)}function Oe(){return this.ownerDocument.createElementNS(ue.space,ue.local)}return typeof ue=="function"?ue:(ue=a.ns.qualify(ue)).local?Oe:Ce}j.insert=function(ue,Ce){return ue=Be(ue),Ce=se(Ce),this.select(function(){return this.insertBefore(ue.apply(this,arguments),Ce.apply(this,arguments)||null)})},j.remove=function(){return this.each(_e)};function _e(){var ue=this.parentNode;ue&&ue.removeChild(this)}j.data=function(ue,Ce){var Oe=-1,Qe=this.length,rt,st;if(!arguments.length){for(ue=new Array(Qe=(rt=this[0]).length);++Oe<Qe;)(st=rt[Oe])&&(ue[Oe]=st.__data__);return ue}function Pt(nr,Cr){var Pr,Jr=nr.length,on=Cr.length,Dr=Math.min(Jr,on),Nr=new Array(on),jr=new Array(on),un=new Array(Jr),vn,qr;if(Ce){var Vn=new E,ea=new Array(Jr),fa;for(Pr=-1;++Pr<Jr;)(vn=nr[Pr])&&(Vn.has(fa=Ce.call(vn,vn.__data__,Pr))?un[Pr]=vn:Vn.set(fa,vn),ea[Pr]=fa);for(Pr=-1;++Pr<on;)(vn=Vn.get(fa=Ce.call(Cr,qr=Cr[Pr],Pr)))?vn!==!0&&(Nr[Pr]=vn,vn.__data__=qr):jr[Pr]=Ue(qr),Vn.set(fa,!0);for(Pr=-1;++Pr<Jr;)Pr in ea&&Vn.get(ea[Pr])!==!0&&(un[Pr]=nr[Pr])}else{for(Pr=-1;++Pr<Dr;)vn=nr[Pr],qr=Cr[Pr],vn?(vn.__data__=qr,Nr[Pr]=vn):jr[Pr]=Ue(qr);for(;Pr<on;++Pr)jr[Pr]=Ue(Cr[Pr]);for(;Pr<Jr;++Pr)un[Pr]=nr[Pr]}jr.update=Nr,jr.parentNode=Nr.parentNode=un.parentNode=nr.parentNode,Mt.push(jr),Gt.push(Nr),Yt.push(un)}var Mt=qe([]),Gt=X([]),Yt=X([]);if(typeof ue=="function")for(;++Oe<Qe;)Pt(rt=this[Oe],ue.call(rt,rt.parentNode.__data__,Oe));else for(;++Oe<Qe;)Pt(rt=this[Oe],ue);return Gt.enter=function(){return Mt},Gt.exit=function(){return Yt},Gt};function Ue(ue){return{__data__:ue}}j.datum=function(ue){return arguments.length?this.property("__data__",ue):this.property("__data__")},j.filter=function(ue){var Ce=[],Oe,Qe,rt;typeof ue!="function"&&(ue=it(ue));for(var st=0,Pt=this.length;st<Pt;st++){Ce.push(Oe=[]),Oe.parentNode=(Qe=this[st]).parentNode;for(var Mt=0,Gt=Qe.length;Mt<Gt;Mt++)(rt=Qe[Mt])&&ue.call(rt,rt.__data__,Mt,st)&&Oe.push(rt)}return X(Ce)};function it(ue){return function(){return J(this,ue)}}j.order=function(){for(var ue=-1,Ce=this.length;++ue<Ce;)for(var Oe=this[ue],Qe=Oe.length-1,rt=Oe[Qe],st;--Qe>=0;)(st=Oe[Qe])&&(rt&&rt!==st.nextSibling&&rt.parentNode.insertBefore(st,rt),rt=st);return this},j.sort=function(ue){ue=lt.apply(this,arguments);for(var Ce=-1,Oe=this.length;++Ce<Oe;)this[Ce].sort(ue);return this.order()};function lt(ue){return arguments.length||(ue=l),function(Ce,Oe){return Ce&&Oe?ue(Ce.__data__,Oe.__data__):!Ce-!Oe}}j.each=function(ue){return $e(this,function(Ce,Oe,Qe){ue.call(Ce,Ce.__data__,Oe,Qe)})};function $e(ue,Ce){for(var Oe=0,Qe=ue.length;Oe<Qe;Oe++)for(var rt=ue[Oe],st=0,Pt=rt.length,Mt;st<Pt;st++)(Mt=rt[st])&&Ce(Mt,st,Oe);return ue}j.call=function(ue){var Ce=A(arguments);return ue.apply(Ce[0]=this,Ce),this},j.empty=function(){return!this.node()},j.node=function(){for(var ue=0,Ce=this.length;ue<Ce;ue++)for(var Oe=this[ue],Qe=0,rt=Oe.length;Qe<rt;Qe++){var st=Oe[Qe];if(st)return st}return null},j.size=function(){var ue=0;return $e(this,function(){++ue}),ue};function qe(ue){return te(ue,ft),ue}var ft=[];a.selection.enter=qe,a.selection.enter.prototype=ft,ft.append=j.append,ft.empty=j.empty,ft.node=j.node,ft.call=j.call,ft.size=j.size,ft.select=function(ue){for(var Ce=[],Oe,Qe,rt,st,Pt,Mt=-1,Gt=this.length;++Mt<Gt;){rt=(st=this[Mt]).update,Ce.push(Oe=[]),Oe.parentNode=st.parentNode;for(var Yt=-1,nr=st.length;++Yt<nr;)(Pt=st[Yt])?(Oe.push(rt[Yt]=Qe=ue.call(st.parentNode,Pt.__data__,Yt,Mt)),Qe.__data__=Pt.__data__):Oe.push(null)}return X(Ce)},ft.insert=function(ue,Ce){return arguments.length<2&&(Ce=ct(this)),j.insert.call(this,ue,Ce)};function ct(ue){var Ce,Oe;return function(Qe,rt,st){var Pt=ue[st].update,Mt=Pt.length,Gt;for(st!=Oe&&(Oe=st,Ce=0),rt>=Ce&&(Ce=rt+1);!(Gt=Pt[Ce])&&++Ce<Mt;);return Gt}}a.select=function(ue){var Ce;return typeof ue=="string"?(Ce=[$(ue,v)],Ce.parentNode=v.documentElement):(Ce=[ue],Ce.parentNode=p(ue)),X([Ce])},a.selectAll=function(ue){var Ce;return typeof ue=="string"?(Ce=A(ie(ue,v)),Ce.parentNode=v.documentElement):(Ce=A(ue),Ce.parentNode=null),X([Ce])},j.on=function(ue,Ce,Oe){var Qe=arguments.length;if(Qe<3){if(typeof ue!="string"){Qe<2&&(Ce=!1);for(Oe in ue)this.each(pt(Oe,ue[Oe],Ce));return this}if(Qe<2)return(Qe=this.node()["__on"+ue])&&Qe._;Oe=!1}return this.each(pt(ue,Ce,Oe))};function pt(ue,Ce,Oe){var Qe="__on"+ue,rt=ue.indexOf("."),st=Et;rt>0&&(ue=ue.slice(0,rt));var Pt=yt.get(ue);Pt&&(ue=Pt,st=tt);function Mt(){var nr=this[Qe];nr&&(this.removeEventListener(ue,nr,nr.$),delete this[Qe])}function Gt(){var nr=st(Ce,A(arguments));Mt.call(this),this.addEventListener(ue,this[Qe]=nr,nr.$=Oe),nr._=Ce}function Yt(){var nr=new RegExp("^__on([^.]+)"+a.requote(ue)+"$"),Cr;for(var Pr in this)if(Cr=Pr.match(nr)){var Jr=this[Pr];this.removeEventListener(Cr[1],Jr,Jr.$),delete this[Pr]}}return rt?Ce?Gt:Mt:Ce?W:Yt}var yt=a.map({mouseenter:"mouseover",mouseleave:"mouseout"});v&&yt.forEach(function(ue){"on"+ue in v&&yt.remove(ue)});function Et(ue,Ce){return function(Oe){var Qe=a.event;a.event=Oe,Ce[0]=this.__data__;try{ue.apply(this,Ce)}finally{a.event=Qe}}}function tt(ue,Ce){var Oe=Et(ue,Ce);return function(Qe){var rt=this,st=Qe.relatedTarget;(!st||st!==rt&&!(st.compareDocumentPosition(rt)&8))&&Oe.call(rt,Qe)}}var Ie,We=0;function Ze(ue){var Ce=".dragsuppress-"+ ++We,Oe="click"+Ce,Qe=a.select(r(ue)).on("touchmove"+Ce,Q).on("dragstart"+Ce,Q).on("selectstart"+Ce,Q);if(Ie==null&&(Ie="onselectstart"in ue?!1:z(ue.style,"userSelect")),Ie){var rt=p(ue).style,st=rt[Ie];rt[Ie]="none"}return function(Pt){if(Qe.on(Ce,null),Ie&&(rt[Ie]=st),Pt){var Mt=function(){Qe.on(Oe,null)};Qe.on(Oe,function(){Q(),Mt()},!0),setTimeout(Mt,0)}}}a.mouse=function(ue){return De(ue,oe())};var He=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function De(ue,Ce){Ce.changedTouches&&(Ce=Ce.changedTouches[0]);var Oe=ue.ownerSVGElement||ue;if(Oe.createSVGPoint){var Qe=Oe.createSVGPoint();if(He<0){var rt=r(ue);if(rt.scrollX||rt.scrollY){Oe=a.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var st=Oe[0][0].getScreenCTM();He=!(st.f||st.e),Oe.remove()}}return He?(Qe.x=Ce.pageX,Qe.y=Ce.pageY):(Qe.x=Ce.clientX,Qe.y=Ce.clientY),Qe=Qe.matrixTransform(ue.getScreenCTM().inverse()),[Qe.x,Qe.y]}var Pt=ue.getBoundingClientRect();return[Ce.clientX-Pt.left-ue.clientLeft,Ce.clientY-Pt.top-ue.clientTop]}a.touch=function(ue,Ce,Oe){if(arguments.length<3&&(Oe=Ce,Ce=oe().changedTouches),Ce){for(var Qe=0,rt=Ce.length,st;Qe<rt;++Qe)if((st=Ce[Qe]).identifier===Oe)return De(ue,st)}},a.behavior.drag=function(){var ue=Z(rt,"drag","dragstart","dragend"),Ce=null,Oe=st(W,a.mouse,r,"mousemove","mouseup"),Qe=st(me,a.touch,F,"touchmove","touchend");function rt(){this.on("mousedown.drag",Oe).on("touchstart.drag",Qe)}function st(Pt,Mt,Gt,Yt,nr){return function(){var Cr=this,Pr=a.event.target.correspondingElement||a.event.target,Jr=Cr.parentNode,on=ue.of(Cr,arguments),Dr=0,Nr=Pt(),jr=".drag"+(Nr==null?"":"-"+Nr),un,vn=a.select(Gt(Pr)).on(Yt+jr,ea).on(nr+jr,fa),qr=Ze(Pr),Vn=Mt(Jr,Nr);Ce?(un=Ce.apply(Cr,arguments),un=[un.x-Vn[0],un.y-Vn[1]]):un=[0,0],on({type:"dragstart"});function ea(){var $n=Mt(Jr,Nr),ia,ca;!$n||(ia=$n[0]-Vn[0],ca=$n[1]-Vn[1],Dr|=ia|ca,Vn=$n,on({type:"drag",x:$n[0]+un[0],y:$n[1]+un[1],dx:ia,dy:ca}))}function fa(){!Mt(Jr,Nr)||(vn.on(Yt+jr,null).on(nr+jr,null),qr(Dr),on({type:"dragend"}))}}}return rt.origin=function(Pt){return arguments.length?(Ce=Pt,rt):Ce},a.rebind(rt,ue,"on")};function me(){return a.event.changedTouches[0].identifier}a.touches=function(ue,Ce){return arguments.length<2&&(Ce=oe().touches),Ce?A(Ce).map(function(Oe){var Qe=De(ue,Oe);return Qe.identifier=Oe.identifier,Qe}):[]};var ge=1e-6,Ee=ge*ge,Te=Math.PI,ze=2*Te,Xe=ze-ge,et=Te/2,ut=Te/180,dt=180/Te;function Zt(ue,Ce,Oe){return(Ce[0]-ue[0])*(Oe[1]-ue[1])-(Ce[1]-ue[1])*(Oe[0]-ue[0])}function jt(ue){return ue>1?et:ue<-1?-et:Math.asin(ue)}function Tt(ue){return((ue=Math.exp(ue))-1/ue)/2}function kt(ue){return((ue=Math.exp(ue))+1/ue)/2}function Qt(ue){return((ue=Math.exp(2*ue))-1)/(ue+1)}var wr=Math.SQRT2,xt=2,At=4;a.interpolateZoom=function(ue,Ce){var Oe=ue[0],Qe=ue[1],rt=ue[2],st=Ce[0],Pt=Ce[1],Mt=Ce[2],Gt=st-Oe,Yt=Pt-Qe,nr=Gt*Gt+Yt*Yt,Cr,Pr;if(nr<Ee)Pr=Math.log(Mt/rt)/wr,Cr=function(un){return[Oe+un*Gt,Qe+un*Yt,rt*Math.exp(wr*un*Pr)]};else{var Jr=Math.sqrt(nr),on=(Mt*Mt-rt*rt+At*nr)/(2*rt*xt*Jr),Dr=(Mt*Mt-rt*rt-At*nr)/(2*Mt*xt*Jr),Nr=Math.log(Math.sqrt(on*on+1)-on),jr=Math.log(Math.sqrt(Dr*Dr+1)-Dr);Pr=(jr-Nr)/wr,Cr=function(un){var vn=un*Pr,qr=kt(Nr),Vn=rt/(xt*Jr)*(qr*Qt(wr*vn+Nr)-Tt(Nr));return[Oe+Vn*Gt,Qe+Vn*Yt,rt*qr/kt(wr*vn+Nr)]}}return Cr.duration=Pr*1e3,Cr},a.behavior.zoom=function(){var ue={x:0,y:0,k:1},Ce,Oe,Qe,rt=[960,500],st=Wt,Pt=250,Mt=0,Gt="mousedown.zoom",Yt="mousemove.zoom",nr="mouseup.zoom",Cr,Pr="touchstart.zoom",Jr,on=Z(vn,"zoomstart","zoom","zoomend"),Dr,Nr,jr,un;$t||($t="onwheel"in v?(er=function(){return-a.event.deltaY*(a.event.deltaMode?120:1)},"wheel"):"onmousewheel"in v?(er=function(){return a.event.wheelDelta},"mousewheel"):(er=function(){return-a.event.detail},"MozMousePixelScroll"));function vn(Kn){Kn.on(Gt,_a).on($t+".zoom",Bi).on("dblclick.zoom",fi).on(Pr,ai)}vn.event=function(Kn){Kn.each(function(){var Ua=on.of(this,arguments),Aa=ue;_r?a.select(this).transition().each("start.zoom",function(){ue=this.__chart__||{x:0,y:0,k:1},ca(Ua)}).tween("zoom:zoom",function(){var ja=rt[0],bi=rt[1],ii=Oe?Oe[0]:ja/2,eo=Oe?Oe[1]:bi/2,to=a.interpolateZoom([(ii-ue.x)/ue.k,(eo-ue.y)/ue.k,ja/ue.k],[(ii-Aa.x)/Aa.k,(eo-Aa.y)/Aa.k,ja/Aa.k]);return function(io){var wi=to(io),go=ja/wi[2];this.__chart__=ue={x:ii-wi[0]*go,y:eo-wi[1]*go,k:go},Oa(Ua)}}).each("interrupt.zoom",function(){Sa(Ua)}).each("end.zoom",function(){Sa(Ua)}):(this.__chart__=ue,ca(Ua),Oa(Ua),Sa(Ua))})},vn.translate=function(Kn){return arguments.length?(ue={x:+Kn[0],y:+Kn[1],k:ue.k},ia(),vn):[ue.x,ue.y]},vn.scale=function(Kn){return arguments.length?(ue={x:ue.x,y:ue.y,k:null},ea(+Kn),ia(),vn):ue.k},vn.scaleExtent=function(Kn){return arguments.length?(st=Kn==null?Wt:[+Kn[0],+Kn[1]],vn):st},vn.center=function(Kn){return arguments.length?(Qe=Kn&&[+Kn[0],+Kn[1]],vn):Qe},vn.size=function(Kn){return arguments.length?(rt=Kn&&[+Kn[0],+Kn[1]],vn):rt},vn.duration=function(Kn){return arguments.length?(Pt=+Kn,vn):Pt},vn.x=function(Kn){return arguments.length?(Nr=Kn,Dr=Kn.copy(),ue={x:0,y:0,k:1},vn):Nr},vn.y=function(Kn){return arguments.length?(un=Kn,jr=Kn.copy(),ue={x:0,y:0,k:1},vn):un};function qr(Kn){return[(Kn[0]-ue.x)/ue.k,(Kn[1]-ue.y)/ue.k]}function Vn(Kn){return[Kn[0]*ue.k+ue.x,Kn[1]*ue.k+ue.y]}function ea(Kn){ue.k=Math.max(st[0],Math.min(st[1],Kn))}function fa(Kn,Ua){Ua=Vn(Ua),ue.x+=Kn[0]-Ua[0],ue.y+=Kn[1]-Ua[1]}function $n(Kn,Ua,Aa,ja){Kn.__chart__={x:ue.x,y:ue.y,k:ue.k},ea(Math.pow(2,ja)),fa(Oe=Ua,Aa),Kn=a.select(Kn),Pt>0&&(Kn=Kn.transition().duration(Pt)),Kn.call(vn.event)}function ia(){Nr&&Nr.domain(Dr.range().map(function(Kn){return(Kn-ue.x)/ue.k}).map(Dr.invert)),un&&un.domain(jr.range().map(function(Kn){return(Kn-ue.y)/ue.k}).map(jr.invert))}function ca(Kn){Mt++||Kn({type:"zoomstart"})}function Oa(Kn){ia(),Kn({type:"zoom",scale:ue.k,translate:[ue.x,ue.y]})}function Sa(Kn){--Mt||(Kn({type:"zoomend"}),Oe=null)}function _a(){var Kn=this,Ua=on.of(Kn,arguments),Aa=0,ja=a.select(r(Kn)).on(Yt,eo).on(nr,to),bi=qr(a.mouse(Kn)),ii=Ze(Kn);Ut.call(Kn),ca(Ua);function eo(){Aa=1,fa(a.mouse(Kn),bi),Oa(Ua)}function to(){ja.on(Yt,null).on(nr,null),ii(Aa),Sa(Ua)}}function ai(){var Kn=this,Ua=on.of(Kn,arguments),Aa={},ja=0,bi,ii=".zoom-"+a.event.changedTouches[0].identifier,eo="touchmove"+ii,to="touchend"+ii,io=[],wi=a.select(Kn),go=Ze(Kn);Ca(),ca(Ua),wi.on(Gt,null).on(Pr,Ca);function sa(){var oo=a.touches(Kn);return bi=ue.k,oo.forEach(function(ci){ci.identifier in Aa&&(Aa[ci.identifier]=qr(ci))}),oo}function Ca(){var oo=a.event.target;a.select(oo).on(eo,Do).on(to,zo),io.push(oo);for(var ci=a.event.changedTouches,Yi=0,Ni=ci.length;Yi<Ni;++Yi)Aa[ci[Yi].identifier]=null;var vs=sa(),Rs=Date.now();if(vs.length===1){if(Rs-Jr<500){var Li=vs[0];$n(Kn,Li,Aa[Li.identifier],Math.floor(Math.log(ue.k)/Math.LN2)+1),Q()}Jr=Rs}else if(vs.length>1){var Li=vs[0],Ol=vs[1],Ka=Li[0]-Ol[0],Pi=Li[1]-Ol[1];ja=Ka*Ka+Pi*Pi}}function Do(){var oo=a.touches(Kn),ci,Yi,Ni,vs;Ut.call(Kn);for(var Rs=0,Li=oo.length;Rs<Li;++Rs,vs=null)if(Ni=oo[Rs],vs=Aa[Ni.identifier]){if(Yi)break;ci=Ni,Yi=vs}if(vs){var Ol=(Ol=Ni[0]-ci[0])*Ol+(Ol=Ni[1]-ci[1])*Ol,Ka=ja&&Math.sqrt(Ol/ja);ci=[(ci[0]+Ni[0])/2,(ci[1]+Ni[1])/2],Yi=[(Yi[0]+vs[0])/2,(Yi[1]+vs[1])/2],ea(Ka*bi)}Jr=null,fa(ci,Yi),Oa(Ua)}function zo(){if(a.event.touches.length){for(var oo=a.event.changedTouches,ci=0,Yi=oo.length;ci<Yi;++ci)delete Aa[oo[ci].identifier];for(var Ni in Aa)return void sa()}a.selectAll(io).on(ii,null),wi.on(Gt,_a).on(Pr,ai),go(),Sa(Ua)}}function Bi(){var Kn=on.of(this,arguments);Cr?clearTimeout(Cr):(Ut.call(this),Ce=qr(Oe=Qe||a.mouse(this)),ca(Kn)),Cr=setTimeout(function(){Cr=null,Sa(Kn)},50),Q(),ea(Math.pow(2,er()*.002)*ue.k),fa(Oe,Ce),Oa(Kn)}function fi(){var Kn=a.mouse(this),Ua=Math.log(ue.k)/Math.LN2;$n(this,Kn,qr(Kn),a.event.shiftKey?Math.ceil(Ua)-1:Math.floor(Ua)+1)}return a.rebind(vn,on,"on")};var Wt=[0,1/0],er,$t;a.color=ht;function ht(){}ht.prototype.toString=function(){return this.rgb()+""},a.hsl=at;function at(ue,Ce,Oe){return this instanceof at?(this.h=+ue,this.s=+Ce,void(this.l=+Oe)):arguments.length<2?ue instanceof at?new at(ue.h,ue.s,ue.l):mr(""+ue,vr,at):new at(ue,Ce,Oe)}var bt=at.prototype=new ht;bt.brighter=function(ue){return ue=Math.pow(.7,arguments.length?ue:1),new at(this.h,this.s,this.l/ue)},bt.darker=function(ue){return ue=Math.pow(.7,arguments.length?ue:1),new at(this.h,this.s,ue*this.l)},bt.rgb=function(){return Ct(this.h,this.s,this.l)};function Ct(ue,Ce,Oe){var Qe,rt;ue=isNaN(ue)?0:(ue%=360)<0?ue+360:ue,Ce=isNaN(Ce)||Ce<0?0:Ce>1?1:Ce,Oe=Oe<0?0:Oe>1?1:Oe,rt=Oe<=.5?Oe*(1+Ce):Oe+Ce-Oe*Ce,Qe=2*Oe-rt;function st(Mt){return Mt>360?Mt-=360:Mt<0&&(Mt+=360),Mt<60?Qe+(rt-Qe)*Mt/60:Mt<180?rt:Mt<240?Qe+(rt-Qe)*(240-Mt)/60:Qe}function Pt(Mt){return Math.round(st(Mt)*255)}return new ur(Pt(ue+120),Pt(ue),Pt(ue-120))}a.hcl=Dt;function Dt(ue,Ce,Oe){return this instanceof Dt?(this.h=+ue,this.c=+Ce,void(this.l=+Oe)):arguments.length<2?ue instanceof Dt?new Dt(ue.h,ue.c,ue.l):ue instanceof Nt?Ot(ue.l,ue.a,ue.b):Ot((ue=Gr((ue=a.rgb(ue)).r,ue.g,ue.b)).l,ue.a,ue.b):new Dt(ue,Ce,Oe)}var It=Dt.prototype=new ht;It.brighter=function(ue){return new Dt(this.h,this.c,Math.min(100,this.l+Jt*(arguments.length?ue:1)))},It.darker=function(ue){return new Dt(this.h,this.c,Math.max(0,this.l-Jt*(arguments.length?ue:1)))},It.rgb=function(){return Vt(this.h,this.c,this.l).rgb()};function Vt(ue,Ce,Oe){return isNaN(ue)&&(ue=0),isNaN(Ce)&&(Ce=0),new Nt(Oe,Math.cos(ue*=ut)*Ce,Math.sin(ue)*Ce)}a.lab=Nt;function Nt(ue,Ce,Oe){return this instanceof Nt?(this.l=+ue,this.a=+Ce,void(this.b=+Oe)):arguments.length<2?ue instanceof Nt?new Nt(ue.l,ue.a,ue.b):ue instanceof Dt?Vt(ue.h,ue.c,ue.l):Gr((ue=ur(ue)).r,ue.g,ue.b):new Nt(ue,Ce,Oe)}var Jt=18,fr=.95047,cr=1,dr=1.08883,Ge=Nt.prototype=new ht;Ge.brighter=function(ue){return new Nt(Math.min(100,this.l+Jt*(arguments.length?ue:1)),this.a,this.b)},Ge.darker=function(ue){return new Nt(Math.max(0,this.l-Jt*(arguments.length?ue:1)),this.a,this.b)},Ge.rgb=function(){return Ve(this.l,this.a,this.b)};function Ve(ue,Ce,Oe){var Qe=(ue+16)/116,rt=Qe+Ce/500,st=Qe-Oe/200;return rt=Ft(rt)*fr,Qe=Ft(Qe)*cr,st=Ft(st)*dr,new ur(rr(3.2404542*rt-1.5371385*Qe-.4985314*st),rr(-.969266*rt+1.8760108*Qe+.041556*st),rr(.0556434*rt-.2040259*Qe+1.0572252*st))}function Ot(ue,Ce,Oe){return ue>0?new Dt(Math.atan2(Oe,Ce)*dt,Math.sqrt(Ce*Ce+Oe*Oe),ue):new Dt(NaN,NaN,ue)}function Ft(ue){return ue>.206893034?ue*ue*ue:(ue-.13793103448275862)/7.787037}function Kt(ue){return ue>.008856?Math.pow(ue,.3333333333333333):7.787037*ue+.13793103448275862}function rr(ue){return Math.round(255*(ue<=.00304?12.92*ue:1.055*Math.pow(ue,.4166666666666667)-.055))}a.rgb=ur;function ur(ue,Ce,Oe){return this instanceof ur?(this.r=~~ue,this.g=~~Ce,void(this.b=~~Oe)):arguments.length<2?ue instanceof ur?new ur(ue.r,ue.g,ue.b):mr(""+ue,ur,Ct):new ur(ue,Ce,Oe)}function ar(ue){return new ur(ue>>16,ue>>8&255,ue&255)}function Bt(ue){return ar(ue)+""}var hr=ur.prototype=new ht;hr.brighter=function(ue){ue=Math.pow(.7,arguments.length?ue:1);var Ce=this.r,Oe=this.g,Qe=this.b,rt=30;return!Ce&&!Oe&&!Qe?new ur(rt,rt,rt):(Ce&&Ce<rt&&(Ce=rt),Oe&&Oe<rt&&(Oe=rt),Qe&&Qe<rt&&(Qe=rt),new ur(Math.min(255,Ce/ue),Math.min(255,Oe/ue),Math.min(255,Qe/ue)))},hr.darker=function(ue){return ue=Math.pow(.7,arguments.length?ue:1),new ur(ue*this.r,ue*this.g,ue*this.b)},hr.hsl=function(){return vr(this.r,this.g,this.b)},hr.toString=function(){return"#"+gr(this.r)+gr(this.g)+gr(this.b)};function gr(ue){return ue<16?"0"+Math.max(0,ue).toString(16):Math.min(255,ue).toString(16)}function mr(ue,Ce,Oe){var Qe=0,rt=0,st=0,Pt,Mt,Gt;if(Pt=/([a-z]+)\((.*)\)/.exec(ue=ue.toLowerCase()),Pt)switch(Mt=Pt[2].split(","),Pt[1]){case"hsl":return Oe(parseFloat(Mt[0]),parseFloat(Mt[1])/100,parseFloat(Mt[2])/100);case"rgb":return Ce(Ir(Mt[0]),Ir(Mt[1]),Ir(Mt[2]))}return(Gt=cn.get(ue))?Ce(Gt.r,Gt.g,Gt.b):(ue!=null&&ue.charAt(0)==="#"&&!isNaN(Gt=parseInt(ue.slice(1),16))&&(ue.length===4?(Qe=(Gt&3840)>>4,Qe=Qe>>4|Qe,rt=Gt&240,rt=rt>>4|rt,st=Gt&15,st=st<<4|st):ue.length===7&&(Qe=(Gt&16711680)>>16,rt=(Gt&65280)>>8,st=Gt&255)),Ce(Qe,rt,st))}function vr(ue,Ce,Oe){var Qe=Math.min(ue/=255,Ce/=255,Oe/=255),rt=Math.max(ue,Ce,Oe),st=rt-Qe,Pt,Mt,Gt=(rt+Qe)/2;return st?(Mt=Gt<.5?st/(rt+Qe):st/(2-rt-Qe),ue==rt?Pt=(Ce-Oe)/st+(Ce<Oe?6:0):Ce==rt?Pt=(Oe-ue)/st+2:Pt=(ue-Ce)/st+4,Pt*=60):(Pt=NaN,Mt=Gt>0&&Gt<1?0:Pt),new at(Pt,Mt,Gt)}function Gr(ue,Ce,Oe){ue=Rr(ue),Ce=Rr(Ce),Oe=Rr(Oe);var Qe=Kt((.4124564*ue+.3575761*Ce+.1804375*Oe)/fr),rt=Kt((.2126729*ue+.7151522*Ce+.072175*Oe)/cr),st=Kt((.0193339*ue+.119192*Ce+.9503041*Oe)/dr);return Nt(116*rt-16,500*(Qe-rt),200*(rt-st))}function Rr(ue){return(ue/=255)<=.04045?ue/12.92:Math.pow((ue+.055)/1.055,2.4)}function Ir(ue){var Ce=parseFloat(ue);return ue.charAt(ue.length-1)==="%"?Math.round(Ce*2.55):Ce}var cn=a.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});cn.forEach(function(ue,Ce){cn.set(ue,ar(Ce))});function rn(ue){return typeof ue=="function"?ue:function(){return ue}}a.functor=rn,a.xhr=Ln(F);function Ln(ue){return function(Ce,Oe,Qe){return arguments.length===2&&typeof Oe=="function"&&(Qe=Oe,Oe=null),En(Ce,Oe,ue,Qe)}}function En(ue,Ce,Oe,Qe){var rt={},st=a.dispatch("beforesend","progress","load","error"),Pt={},Mt=new XMLHttpRequest,Gt=null;self.XDomainRequest&&!("withCredentials"in Mt)&&/^(http(s)?:)?\/\//.test(ue)&&(Mt=new XDomainRequest),"onload"in Mt?Mt.onload=Mt.onerror=Yt:Mt.onreadystatechange=function(){Mt.readyState>3&&Yt()};function Yt(){var nr=Mt.status,Cr;if(!nr&&Lr(Mt)||nr>=200&&nr<300||nr===304){try{Cr=Oe.call(rt,Mt)}catch(Pr){st.error.call(rt,Pr);return}st.load.call(rt,Cr)}else st.error.call(rt,Mt)}return Mt.onprogress=function(nr){var Cr=a.event;a.event=nr;try{st.progress.call(rt,Mt)}finally{a.event=Cr}},rt.header=function(nr,Cr){return nr=(nr+"").toLowerCase(),arguments.length<2?Pt[nr]:(Cr==null?delete Pt[nr]:Pt[nr]=Cr+"",rt)},rt.mimeType=function(nr){return arguments.length?(Ce=nr==null?null:nr+"",rt):Ce},rt.responseType=function(nr){return arguments.length?(Gt=nr,rt):Gt},rt.response=function(nr){return Oe=nr,rt},["get","post"].forEach(function(nr){rt[nr]=function(){return rt.send.apply(rt,[nr].concat(A(arguments)))}}),rt.send=function(nr,Cr,Pr){if(arguments.length===2&&typeof Cr=="function"&&(Pr=Cr,Cr=null),Mt.open(nr,ue,!0),Ce!=null&&!("accept"in Pt)&&(Pt.accept=Ce+",*/*"),Mt.setRequestHeader)for(var Jr in Pt)Mt.setRequestHeader(Jr,Pt[Jr]);return Ce!=null&&Mt.overrideMimeType&&Mt.overrideMimeType(Ce),Gt!=null&&(Mt.responseType=Gt),Pr!=null&&rt.on("error",Pr).on("load",function(on){Pr(null,on)}),st.beforesend.call(rt,Mt),Mt.send(Cr==null?null:Cr),rt},rt.abort=function(){return Mt.abort(),rt},a.rebind(rt,st,"on"),Qe==null?rt:rt.get(Tr(Qe))}function Tr(ue){return ue.length===1?function(Ce,Oe){ue(Ce==null?Oe:null)}:ue}function Lr(ue){var Ce=ue.responseType;return Ce&&Ce!=="text"?ue.response:ue.responseText}a.dsv=function(ue,Ce){var Oe=new RegExp('["'+ue+`
]`),Qe=ue.charCodeAt(0);function rt(Yt,nr,Cr){arguments.length<3&&(Cr=nr,nr=null);var Pr=En(Yt,Ce,nr==null?st:Pt(nr),Cr);return Pr.row=function(Jr){return arguments.length?Pr.response((nr=Jr)==null?st:Pt(Jr)):nr},Pr}function st(Yt){return rt.parse(Yt.responseText)}function Pt(Yt){return function(nr){return rt.parse(nr.responseText,Yt)}}rt.parse=function(Yt,nr){var Cr;return rt.parseRows(Yt,function(Pr,Jr){if(Cr)return Cr(Pr,Jr-1);var on=function(Dr){for(var Nr={},jr=Pr.length,un=0;un<jr;++un)Nr[Pr[un]]=Dr[un];return Nr};Cr=nr?function(Dr,Nr){return nr(on(Dr),Nr)}:on})},rt.parseRows=function(Yt,nr){var Cr={},Pr={},Jr=[],on=Yt.length,Dr=0,Nr=0,jr,un;function vn(){if(Dr>=on)return Pr;if(un)return un=!1,Cr;var Vn=Dr;if(Yt.charCodeAt(Vn)===34){for(var ea=Vn;ea++<on;)if(Yt.charCodeAt(ea)===34){if(Yt.charCodeAt(ea+1)!==34)break;++ea}Dr=ea+2;var fa=Yt.charCodeAt(ea+1);return fa===13?(un=!0,Yt.charCodeAt(ea+2)===10&&++Dr):fa===10&&(un=!0),Yt.slice(Vn+1,ea).replace(/""/g,'"')}for(;Dr<on;){var fa=Yt.charCodeAt(Dr++),$n=1;if(fa===10)un=!0;else if(fa===13)un=!0,Yt.charCodeAt(Dr)===10&&(++Dr,++$n);else if(fa!==Qe)continue;return Yt.slice(Vn,Dr-$n)}return Yt.slice(Vn)}for(;(jr=vn())!==Pr;){for(var qr=[];jr!==Cr&&jr!==Pr;)qr.push(jr),jr=vn();nr&&(qr=nr(qr,Nr++))==null||Jr.push(qr)}return Jr},rt.format=function(Yt){if(Array.isArray(Yt[0]))return rt.formatRows(Yt);var nr=new k,Cr=[];return Yt.forEach(function(Pr){for(var Jr in Pr)nr.has(Jr)||Cr.push(nr.add(Jr))}),[Cr.map(Gt).join(ue)].concat(Yt.map(function(Pr){return Cr.map(function(Jr){return Gt(Pr[Jr])}).join(ue)})).join(`
`)},rt.formatRows=function(Yt){return Yt.map(Mt).join(`
`)};function Mt(Yt){return Yt.map(Gt).join(ue)}function Gt(Yt){return Oe.test(Yt)?'"'+Yt.replace(/\"/g,'""')+'"':Yt}return rt},a.csv=a.dsv(",","text/csv"),a.tsv=a.dsv("	","text/tab-separated-values");var Wr,Ur,an,pn,gn=this[z(this,"requestAnimationFrame")]||function(ue){setTimeout(ue,17)};a.timer=function(){Cn.apply(this,arguments)};function Cn(ue,Ce,Oe){var Qe=arguments.length;Qe<2&&(Ce=0),Qe<3&&(Oe=Date.now());var rt=Oe+Ce,st={c:ue,t:rt,n:null};return Ur?Ur.n=st:Wr=st,Ur=st,an||(pn=clearTimeout(pn),an=1,gn(zn)),st}function zn(){var ue=aa(),Ce=ha()-ue;Ce>24?(isFinite(Ce)&&(clearTimeout(pn),pn=setTimeout(zn,Ce)),an=0):(an=1,gn(zn))}a.timer.flush=function(){aa(),ha()};function aa(){for(var ue=Date.now(),Ce=Wr;Ce;)ue>=Ce.t&&Ce.c(ue-Ce.t)&&(Ce.c=null),Ce=Ce.n;return ue}function ha(){for(var ue,Ce=Wr,Oe=1/0;Ce;)Ce.c?(Ce.t<Oe&&(Oe=Ce.t),Ce=(ue=Ce).n):Ce=ue?ue.n=Ce.n:Wr=Ce.n;return Ur=ue,Oe}a.round=function(ue,Ce){return Ce?Math.round(ue*(Ce=Math.pow(10,Ce)))/Ce:Math.round(ue)},a.geom={};function pa(ue){return ue[0]}function ua(ue){return ue[1]}a.geom.hull=function(ue){var Ce=pa,Oe=ua;if(arguments.length)return Qe(ue);function Qe(rt){if(rt.length<3)return[];var st=rn(Ce),Pt=rn(Oe),Mt,Gt=rt.length,Yt=[],nr=[];for(Mt=0;Mt<Gt;Mt++)Yt.push([+st.call(this,rt[Mt],Mt),+Pt.call(this,rt[Mt],Mt),Mt]);for(Yt.sort(br),Mt=0;Mt<Gt;Mt++)nr.push([Yt[Mt][0],-Yt[Mt][1]]);var Cr=na(Yt),Pr=na(nr),Jr=Pr[0]===Cr[0],on=Pr[Pr.length-1]===Cr[Cr.length-1],Dr=[];for(Mt=Cr.length-1;Mt>=0;--Mt)Dr.push(rt[Yt[Cr[Mt]][2]]);for(Mt=+Jr;Mt<Pr.length-on;++Mt)Dr.push(rt[Yt[Pr[Mt]][2]]);return Dr}return Qe.x=function(rt){return arguments.length?(Ce=rt,Qe):Ce},Qe.y=function(rt){return arguments.length?(Oe=rt,Qe):Oe},Qe};function na(ue){for(var Ce=ue.length,Oe=[0,1],Qe=2,rt=2;rt<Ce;rt++){for(;Qe>1&&Zt(ue[Oe[Qe-2]],ue[Oe[Qe-1]],ue[rt])<=0;)--Qe;Oe[Qe++]=rt}return Oe.slice(0,Qe)}function br(ue,Ce){return ue[0]-Ce[0]||ue[1]-Ce[1]}a.geom.polygon=function(ue){return te(ue,nn),ue};var nn=a.geom.polygon.prototype=[];nn.area=function(){for(var ue=-1,Ce=this.length,Oe,Qe=this[Ce-1],rt=0;++ue<Ce;)Oe=Qe,Qe=this[ue],rt+=Oe[1]*Qe[0]-Oe[0]*Qe[1];return rt*.5},nn.centroid=function(ue){var Ce=-1,Oe=this.length,Qe=0,rt=0,st,Pt=this[Oe-1],Mt;for(arguments.length||(ue=-1/(6*this.area()));++Ce<Oe;)st=Pt,Pt=this[Ce],Mt=st[0]*Pt[1]-Pt[0]*st[1],Qe+=(st[0]+Pt[0])*Mt,rt+=(st[1]+Pt[1])*Mt;return[Qe*ue,rt*ue]},nn.clip=function(ue){for(var Ce,Oe=Hn(ue),Qe=-1,rt=this.length-Hn(this),st,Pt,Mt=this[rt-1],Gt,Yt,nr;++Qe<rt;){for(Ce=ue.slice(),ue.length=0,Gt=this[Qe],Yt=Ce[(Pt=Ce.length-Oe)-1],st=-1;++st<Pt;)nr=Ce[st],$r(nr,Mt,Gt)?($r(Yt,Mt,Gt)||ue.push(dn(Yt,nr,Mt,Gt)),ue.push(nr)):$r(Yt,Mt,Gt)&&ue.push(dn(Yt,nr,Mt,Gt)),Yt=nr;Oe&&ue.push(ue[0]),Mt=Gt}return ue};function $r(ue,Ce,Oe){return(Oe[0]-Ce[0])*(ue[1]-Ce[1])<(Oe[1]-Ce[1])*(ue[0]-Ce[0])}function dn(ue,Ce,Oe,Qe){var rt=ue[0],st=Oe[0],Pt=Ce[0]-rt,Mt=Qe[0]-st,Gt=ue[1],Yt=Oe[1],nr=Ce[1]-Gt,Cr=Qe[1]-Yt,Pr=(Mt*(Gt-Yt)-Cr*(rt-st))/(Cr*Pt-Mt*nr);return[rt+Pr*Pt,Gt+Pr*nr]}function Hn(ue){var Ce=ue[0],Oe=ue[ue.length-1];return!(Ce[0]-Oe[0]||Ce[1]-Oe[1])}var Tn,An,Nn,Qn=[],ya,Ia,Sr=[];function zr(){_o(this),this.edge=this.site=this.circle=null}function Ar(ue){var Ce=Qn.pop()||new zr;return Ce.site=ue,Ce}function Or(ue){Pn(ue),Nn.remove(ue),Qn.push(ue),_o(ue)}function xn(ue){var Ce=ue.circle,Oe=Ce.x,Qe=Ce.cy,rt={x:Oe,y:Qe},st=ue.P,Pt=ue.N,Mt=[ue];Or(ue);for(var Gt=st;Gt.circle&&d(Oe-Gt.circle.x)<ge&&d(Qe-Gt.circle.cy)<ge;)st=Gt.P,Mt.unshift(Gt),Or(Gt),Gt=st;Mt.unshift(Gt),Pn(Gt);for(var Yt=Pt;Yt.circle&&d(Oe-Yt.circle.x)<ge&&d(Qe-Yt.circle.cy)<ge;)Pt=Yt.N,Mt.push(Yt),Or(Yt),Yt=Pt;Mt.push(Yt),Pn(Yt);var nr=Mt.length,Cr;for(Cr=1;Cr<nr;++Cr)Yt=Mt[Cr],Gt=Mt[Cr-1],La(Yt.edge,Gt.site,Yt.site,rt);Gt=Mt[0],Yt=Mt[nr-1],Yt.edge=oa(Gt.site,Yt.site,null,rt),wn(Gt),wn(Yt)}function _n(ue){for(var Ce=ue.x,Oe=ue.y,Qe,rt,st,Pt,Mt=Nn._;Mt;)if(st=hn(Mt,Oe)-Ce,st>ge)Mt=Mt.L;else if(Pt=Ce-sn(Mt,Oe),Pt>ge){if(!Mt.R){Qe=Mt;break}Mt=Mt.R}else{st>-ge?(Qe=Mt.P,rt=Mt):Pt>-ge?(Qe=Mt,rt=Mt.N):Qe=rt=Mt;break}var Gt=Ar(ue);if(Nn.insert(Qe,Gt),!(!Qe&&!rt)){if(Qe===rt){Pn(Qe),rt=Ar(Qe.site),Nn.insert(Gt,rt),Gt.edge=rt.edge=oa(Qe.site,Gt.site),wn(Qe),wn(rt);return}if(!rt){Gt.edge=oa(Qe.site,Gt.site);return}Pn(Qe),Pn(rt);var Yt=Qe.site,nr=Yt.x,Cr=Yt.y,Pr=ue.x-nr,Jr=ue.y-Cr,on=rt.site,Dr=on.x-nr,Nr=on.y-Cr,jr=2*(Pr*Nr-Jr*Dr),un=Pr*Pr+Jr*Jr,vn=Dr*Dr+Nr*Nr,qr={x:(Nr*un-Jr*vn)/jr+nr,y:(Pr*vn-Dr*un)/jr+Cr};La(rt.edge,Yt,on,qr),Gt.edge=oa(Yt,ue,null,qr),rt.edge=oa(ue,on,null,qr),wn(Qe),wn(rt)}}function hn(ue,Ce){var Oe=ue.site,Qe=Oe.x,rt=Oe.y,st=rt-Ce;if(!st)return Qe;var Pt=ue.P;if(!Pt)return-1/0;Oe=Pt.site;var Mt=Oe.x,Gt=Oe.y,Yt=Gt-Ce;if(!Yt)return Mt;var nr=Mt-Qe,Cr=1/st-1/Yt,Pr=nr/Yt;return Cr?(-Pr+Math.sqrt(Pr*Pr-2*Cr*(nr*nr/(-2*Yt)-Gt+Yt/2+rt-st/2)))/Cr+Qe:(Qe+Mt)/2}function sn(ue,Ce){var Oe=ue.N;if(Oe)return hn(Oe,Ce);var Qe=ue.site;return Qe.y===Ce?Qe.x:1/0}function Er(ue){this.site=ue,this.edges=[]}Er.prototype.prepare=function(){for(var ue=this.edges,Ce=ue.length,Oe;Ce--;)Oe=ue[Ce].edge,(!Oe.b||!Oe.a)&&ue.splice(Ce,1);return ue.sort(Vr),ue.length};function Zr(ue){for(var Ce=ue[0][0],Oe=ue[1][0],Qe=ue[0][1],rt=ue[1][1],st,Pt,Mt,Gt,Yt=An,nr=Yt.length,Cr,Pr,Jr,on,Dr,Nr;nr--;)if(Cr=Yt[nr],!(!Cr||!Cr.prepare()))for(Jr=Cr.edges,on=Jr.length,Pr=0;Pr<on;)Nr=Jr[Pr].end(),Mt=Nr.x,Gt=Nr.y,Dr=Jr[++Pr%on].start(),st=Dr.x,Pt=Dr.y,(d(Mt-st)>ge||d(Gt-Pt)>ge)&&(Jr.splice(Pr,0,new di(ga(Cr.site,Nr,d(Mt-Ce)<ge&&rt-Gt>ge?{x:Ce,y:d(st-Ce)<ge?Pt:rt}:d(Gt-rt)<ge&&Oe-Mt>ge?{x:d(Pt-rt)<ge?st:Oe,y:rt}:d(Mt-Oe)<ge&&Gt-Qe>ge?{x:Oe,y:d(st-Oe)<ge?Pt:Qe}:d(Gt-Qe)<ge&&Mt-Ce>ge?{x:d(Pt-Qe)<ge?st:Ce,y:Qe}:null),Cr.site,null)),++on)}function Vr(ue,Ce){return Ce.angle-ue.angle}function Qr(){_o(this),this.x=this.y=this.arc=this.site=this.cy=null}function wn(ue){var Ce=ue.P,Oe=ue.N;if(!(!Ce||!Oe)){var Qe=Ce.site,rt=ue.site,st=Oe.site;if(Qe!==st){var Pt=rt.x,Mt=rt.y,Gt=Qe.x-Pt,Yt=Qe.y-Mt,nr=st.x-Pt,Nr=st.y-Mt,Cr=2*(Gt*Nr-Yt*nr);if(!(Cr>=-Ee)){var Pr=Gt*Gt+Yt*Yt,Jr=nr*nr+Nr*Nr,on=(Nr*Pr-Yt*Jr)/Cr,Dr=(Gt*Jr-nr*Pr)/Cr,Nr=Dr+Mt,jr=Sr.pop()||new Qr;jr.arc=ue,jr.site=rt,jr.x=on+Pt,jr.y=Nr+Math.sqrt(on*on+Dr*Dr),jr.cy=Nr,ue.circle=jr;for(var un=null,vn=Ia._;vn;)if(jr.y<vn.y||jr.y===vn.y&&jr.x<=vn.x)if(vn.L)vn=vn.L;else{un=vn.P;break}else if(vn.R)vn=vn.R;else{un=vn;break}Ia.insert(un,jr),un||(ya=jr)}}}}function Pn(ue){var Ce=ue.circle;Ce&&(Ce.P||(ya=Ce.N),Ia.remove(Ce),Sr.push(Ce),_o(Ce),ue.circle=null)}function Rn(ue,Ce,Oe,Qe){return function(rt){var st=rt.a,Pt=rt.b,Mt=st.x,Gt=st.y,Yt=Pt.x,nr=Pt.y,Cr=0,Pr=1,Jr=Yt-Mt,on=nr-Gt,Dr;if(Dr=ue-Mt,!(!Jr&&Dr>0)){if(Dr/=Jr,Jr<0){if(Dr<Cr)return;Dr<Pr&&(Pr=Dr)}else if(Jr>0){if(Dr>Pr)return;Dr>Cr&&(Cr=Dr)}if(Dr=Oe-Mt,!(!Jr&&Dr<0)){if(Dr/=Jr,Jr<0){if(Dr>Pr)return;Dr>Cr&&(Cr=Dr)}else if(Jr>0){if(Dr<Cr)return;Dr<Pr&&(Pr=Dr)}if(Dr=Ce-Gt,!(!on&&Dr>0)){if(Dr/=on,on<0){if(Dr<Cr)return;Dr<Pr&&(Pr=Dr)}else if(on>0){if(Dr>Pr)return;Dr>Cr&&(Cr=Dr)}if(Dr=Qe-Gt,!(!on&&Dr<0)){if(Dr/=on,on<0){if(Dr>Pr)return;Dr>Cr&&(Cr=Dr)}else if(on>0){if(Dr<Cr)return;Dr<Pr&&(Pr=Dr)}return Cr>0&&(rt.a={x:Mt+Cr*Jr,y:Gt+Cr*on}),Pr<1&&(rt.b={x:Mt+Pr*Jr,y:Gt+Pr*on}),rt}}}}}}function Un(ue){for(var Ce=Tn,Oe=Rn(ue[0][0],ue[0][1],ue[1][0],ue[1][1]),Qe=Ce.length,rt;Qe--;)rt=Ce[Qe],(!On(rt,ue)||!Oe(rt)||d(rt.a.x-rt.b.x)<ge&&d(rt.a.y-rt.b.y)<ge)&&(rt.a=rt.b=null,Ce.splice(Qe,1))}function On(ue,Ce){var Oe=ue.b;if(Oe)return!0;var Qe=ue.a,rt=Ce[0][0],st=Ce[1][0],Pt=Ce[0][1],Mt=Ce[1][1],Gt=ue.l,Yt=ue.r,nr=Gt.x,Cr=Gt.y,Pr=Yt.x,Jr=Yt.y,on=(nr+Pr)/2,Dr=(Cr+Jr)/2,Nr,jr;if(Jr===Cr){if(on<rt||on>=st)return;if(nr>Pr){if(!Qe)Qe={x:on,y:Pt};else if(Qe.y>=Mt)return;Oe={x:on,y:Mt}}else{if(!Qe)Qe={x:on,y:Mt};else if(Qe.y<Pt)return;Oe={x:on,y:Pt}}}else if(Nr=(nr-Pr)/(Jr-Cr),jr=Dr-Nr*on,Nr<-1||Nr>1)if(nr>Pr){if(!Qe)Qe={x:(Pt-jr)/Nr,y:Pt};else if(Qe.y>=Mt)return;Oe={x:(Mt-jr)/Nr,y:Mt}}else{if(!Qe)Qe={x:(Mt-jr)/Nr,y:Mt};else if(Qe.y<Pt)return;Oe={x:(Pt-jr)/Nr,y:Pt}}else if(Cr<Jr){if(!Qe)Qe={x:rt,y:Nr*rt+jr};else if(Qe.x>=st)return;Oe={x:st,y:Nr*st+jr}}else{if(!Qe)Qe={x:st,y:Nr*st+jr};else if(Qe.x<rt)return;Oe={x:rt,y:Nr*rt+jr}}return ue.a=Qe,ue.b=Oe,!0}function ma(ue,Ce){this.l=ue,this.r=Ce,this.a=this.b=null}function oa(ue,Ce,Oe,Qe){var rt=new ma(ue,Ce);return Tn.push(rt),Oe&&La(rt,ue,Ce,Oe),Qe&&La(rt,Ce,ue,Qe),An[ue.i].edges.push(new di(rt,ue,Ce)),An[Ce.i].edges.push(new di(rt,Ce,ue)),rt}function ga(ue,Ce,Oe){var Qe=new ma(ue,null);return Qe.a=Ce,Qe.b=Oe,Tn.push(Qe),Qe}function La(ue,Ce,Oe,Qe){!ue.a&&!ue.b?(ue.a=Qe,ue.l=Ce,ue.r=Oe):ue.l===Oe?ue.b=Qe:ue.a=Qe}function di(ue,Ce,Oe){var Qe=ue.a,rt=ue.b;this.edge=ue,this.site=Ce,this.angle=Oe?Math.atan2(Oe.y-Ce.y,Oe.x-Ce.x):ue.l===Ce?Math.atan2(rt.x-Qe.x,Qe.y-rt.y):Math.atan2(Qe.x-rt.x,rt.y-Qe.y)}di.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}};function ni(){this._=null}function _o(ue){ue.U=ue.C=ue.L=ue.R=ue.P=ue.N=null}ni.prototype={insert:function(ue,Ce){var Oe,Qe,rt;if(ue){if(Ce.P=ue,Ce.N=ue.N,ue.N&&(ue.N.P=Ce),ue.N=Ce,ue.R){for(ue=ue.R;ue.L;)ue=ue.L;ue.L=Ce}else ue.R=Ce;Oe=ue}else this._?(ue=ml(this._),Ce.P=null,Ce.N=ue,ue.P=ue.L=Ce,Oe=ue):(Ce.P=Ce.N=null,this._=Ce,Oe=null);for(Ce.L=Ce.R=null,Ce.U=Oe,Ce.C=!0,ue=Ce;Oe&&Oe.C;)Qe=Oe.U,Oe===Qe.L?(rt=Qe.R,rt&&rt.C?(Oe.C=rt.C=!1,Qe.C=!0,ue=Qe):(ue===Oe.R&&(Co(this,Oe),ue=Oe,Oe=ue.U),Oe.C=!1,Qe.C=!0,ro(this,Qe))):(rt=Qe.L,rt&&rt.C?(Oe.C=rt.C=!1,Qe.C=!0,ue=Qe):(ue===Oe.L&&(ro(this,Oe),ue=Oe,Oe=ue.U),Oe.C=!1,Qe.C=!0,Co(this,Qe))),Oe=ue.U;this._.C=!1},remove:function(ue){ue.N&&(ue.N.P=ue.P),ue.P&&(ue.P.N=ue.N),ue.N=ue.P=null;var Ce=ue.U,Oe,Qe=ue.L,rt=ue.R,st,Pt;if(Qe?rt?st=ml(rt):st=Qe:st=rt,Ce?Ce.L===ue?Ce.L=st:Ce.R=st:this._=st,Qe&&rt?(Pt=st.C,st.C=ue.C,st.L=Qe,Qe.U=st,st!==rt?(Ce=st.U,st.U=ue.U,ue=st.R,Ce.L=ue,st.R=rt,rt.U=st):(st.U=Ce,Ce=st,ue=st.R)):(Pt=ue.C,ue=st),ue&&(ue.U=Ce),!Pt){if(ue&&ue.C){ue.C=!1;return}do{if(ue===this._)break;if(ue===Ce.L){if(Oe=Ce.R,Oe.C&&(Oe.C=!1,Ce.C=!0,Co(this,Ce),Oe=Ce.R),Oe.L&&Oe.L.C||Oe.R&&Oe.R.C){(!Oe.R||!Oe.R.C)&&(Oe.L.C=!1,Oe.C=!0,ro(this,Oe),Oe=Ce.R),Oe.C=Ce.C,Ce.C=Oe.R.C=!1,Co(this,Ce),ue=this._;break}}else if(Oe=Ce.L,Oe.C&&(Oe.C=!1,Ce.C=!0,ro(this,Ce),Oe=Ce.L),Oe.L&&Oe.L.C||Oe.R&&Oe.R.C){(!Oe.L||!Oe.L.C)&&(Oe.R.C=!1,Oe.C=!0,Co(this,Oe),Oe=Ce.L),Oe.C=Ce.C,Ce.C=Oe.L.C=!1,ro(this,Ce),ue=this._;break}Oe.C=!0,ue=Ce,Ce=Ce.U}while(!ue.C);ue&&(ue.C=!1)}}};function Co(ue,Ce){var Oe=Ce,Qe=Ce.R,rt=Oe.U;rt?rt.L===Oe?rt.L=Qe:rt.R=Qe:ue._=Qe,Qe.U=rt,Oe.U=Qe,Oe.R=Qe.L,Oe.R&&(Oe.R.U=Oe),Qe.L=Oe}function ro(ue,Ce){var Oe=Ce,Qe=Ce.L,rt=Oe.U;rt?rt.L===Oe?rt.L=Qe:rt.R=Qe:ue._=Qe,Qe.U=rt,Oe.U=Qe,Oe.L=Qe.R,Oe.L&&(Oe.L.U=Oe),Qe.R=Oe}function ml(ue){for(;ue.L;)ue=ue.L;return ue}function Ju(ue,Ce){var Oe=ue.sort(Ef).pop(),Qe,rt,st;for(Tn=[],An=new Array(ue.length),Nn=new ni,Ia=new ni;;)if(st=ya,Oe&&(!st||Oe.y<st.y||Oe.y===st.y&&Oe.x<st.x))(Oe.x!==Qe||Oe.y!==rt)&&(An[Oe.i]=new Er(Oe),_n(Oe),Qe=Oe.x,rt=Oe.y),Oe=ue.pop();else if(st)xn(st.arc);else break;Ce&&(Un(Ce),Zr(Ce));var Pt={cells:An,edges:Tn};return Nn=Ia=Tn=An=null,Pt}function Ef(ue,Ce){return Ce.y-ue.y||Ce.x-ue.x}a.geom.voronoi=function(ue){var Ce=pa,Oe=ua,Qe=Ce,rt=Oe,st=qa;if(ue)return Pt(ue);function Pt(Gt){var Yt=new Array(Gt.length),nr=st[0][0],Cr=st[0][1],Pr=st[1][0],Jr=st[1][1];return Ju(Mt(Gt),st).cells.forEach(function(on,Dr){var Nr=on.edges,jr=on.site,un=Yt[Dr]=Nr.length?Nr.map(function(vn){var qr=vn.start();return[qr.x,qr.y]}):jr.x>=nr&&jr.x<=Pr&&jr.y>=Cr&&jr.y<=Jr?[[nr,Jr],[Pr,Jr],[Pr,Cr],[nr,Cr]]:[];un.point=Gt[Dr]}),Yt}function Mt(Gt){return Gt.map(function(Yt,nr){return{x:Math.round(Qe(Yt,nr)/ge)*ge,y:Math.round(rt(Yt,nr)/ge)*ge,i:nr}})}return Pt.links=function(Gt){return Ju(Mt(Gt)).edges.filter(function(Yt){return Yt.l&&Yt.r}).map(function(Yt){return{source:Gt[Yt.l.i],target:Gt[Yt.r.i]}})},Pt.triangles=function(Gt){var Yt=[];return Ju(Mt(Gt)).cells.forEach(function(nr,Cr){for(var Pr=nr.site,Jr=nr.edges.sort(Vr),on=-1,Dr=Jr.length,Nr,jr=Jr[Dr-1].edge,un=jr.l===Pr?jr.r:jr.l;++on<Dr;)Nr=un,jr=Jr[on].edge,un=jr.l===Pr?jr.r:jr.l,Cr<Nr.i&&Cr<un.i&&Xl(Pr,Nr,un)<0&&Yt.push([Gt[Cr],Gt[Nr.i],Gt[un.i]])}),Yt},Pt.x=function(Gt){return arguments.length?(Qe=rn(Ce=Gt),Pt):Ce},Pt.y=function(Gt){return arguments.length?(rt=rn(Oe=Gt),Pt):Oe},Pt.clipExtent=function(Gt){return arguments.length?(st=Gt==null?qa:Gt,Pt):st===qa?null:st},Pt.size=function(Gt){return arguments.length?Pt.clipExtent(Gt&&[[0,0],Gt]):st===qa?null:st&&st[1]},Pt};var qa=[[-1e6,-1e6],[1e6,1e6]];function Xl(ue,Ce,Oe){return(ue.x-Oe.x)*(Ce.y-ue.y)-(ue.x-Ce.x)*(Oe.y-ue.y)}a.geom.delaunay=function(ue){return a.geom.voronoi().triangles(ue)},a.geom.quadtree=function(ue,Ce,Oe,Qe,rt){var st=pa,Pt=ua,Mt;if(Mt=arguments.length)return st=Qu,Pt=Qi,Mt===3&&(rt=Oe,Qe=Ce,Oe=Ce=0),Gt(ue);function Gt(Yt){var nr,Cr=rn(st),Pr=rn(Pt),Jr,on,Dr,Nr,jr,un,vn,qr;if(Ce!=null)jr=Ce,un=Oe,vn=Qe,qr=rt;else if(vn=qr=-(jr=un=1/0),Jr=[],on=[],Nr=Yt.length,Mt)for(Dr=0;Dr<Nr;++Dr)nr=Yt[Dr],nr.x<jr&&(jr=nr.x),nr.y<un&&(un=nr.y),nr.x>vn&&(vn=nr.x),nr.y>qr&&(qr=nr.y),Jr.push(nr.x),on.push(nr.y);else for(Dr=0;Dr<Nr;++Dr){var Vn=+Cr(nr=Yt[Dr],Dr),ea=+Pr(nr,Dr);Vn<jr&&(jr=Vn),ea<un&&(un=ea),Vn>vn&&(vn=Vn),ea>qr&&(qr=ea),Jr.push(Vn),on.push(ea)}var fa=vn-jr,$n=qr-un;fa>$n?qr=un+fa:vn=jr+$n;function ia(Sa,_a,ai,Bi,fi,Kn,Ua,Aa){if(!(isNaN(ai)||isNaN(Bi)))if(Sa.leaf){var ja=Sa.x,bi=Sa.y;if(ja!=null)if(d(ja-ai)+d(bi-Bi)<.01)ca(Sa,_a,ai,Bi,fi,Kn,Ua,Aa);else{var ii=Sa.point;Sa.x=Sa.y=Sa.point=null,ca(Sa,ii,ja,bi,fi,Kn,Ua,Aa),ca(Sa,_a,ai,Bi,fi,Kn,Ua,Aa)}else Sa.x=ai,Sa.y=Bi,Sa.point=_a}else ca(Sa,_a,ai,Bi,fi,Kn,Ua,Aa)}function ca(Sa,_a,ai,Bi,fi,Kn,Ua,Aa){var ja=(fi+Ua)*.5,bi=(Kn+Aa)*.5,ii=ai>=ja,eo=Bi>=bi,to=eo<<1|ii;Sa.leaf=!1,Sa=Sa.nodes[to]||(Sa.nodes[to]=bo()),ii?fi=ja:Ua=ja,eo?Kn=bi:Aa=bi,ia(Sa,_a,ai,Bi,fi,Kn,Ua,Aa)}var Oa=bo();if(Oa.add=function(Sa){ia(Oa,Sa,+Cr(Sa,++Dr),+Pr(Sa,Dr),jr,un,vn,qr)},Oa.visit=function(Sa){xl(Sa,Oa,jr,un,vn,qr)},Oa.find=function(Sa){return Su(Oa,Sa[0],Sa[1],jr,un,vn,qr)},Dr=-1,Ce==null){for(;++Dr<Nr;)ia(Oa,Yt[Dr],Jr[Dr],on[Dr],jr,un,vn,qr);--Dr}else Yt.forEach(Oa.add);return Jr=on=Yt=nr=null,Oa}return Gt.x=function(Yt){return arguments.length?(st=Yt,Gt):st},Gt.y=function(Yt){return arguments.length?(Pt=Yt,Gt):Pt},Gt.extent=function(Yt){return arguments.length?(Yt==null?Ce=Oe=Qe=rt=null:(Ce=+Yt[0][0],Oe=+Yt[0][1],Qe=+Yt[1][0],rt=+Yt[1][1]),Gt):Ce==null?null:[[Ce,Oe],[Qe,rt]]},Gt.size=function(Yt){return arguments.length?(Yt==null?Ce=Oe=Qe=rt=null:(Ce=Oe=0,Qe=+Yt[0],rt=+Yt[1]),Gt):Ce==null?null:[Qe-Ce,rt-Oe]},Gt};function Qu(ue){return ue.x}function Qi(ue){return ue.y}function bo(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function xl(ue,Ce,Oe,Qe,rt,st){if(!ue(Ce,Oe,Qe,rt,st)){var Pt=(Oe+rt)*.5,Mt=(Qe+st)*.5,Gt=Ce.nodes;Gt[0]&&xl(ue,Gt[0],Oe,Qe,Pt,Mt),Gt[1]&&xl(ue,Gt[1],Pt,Qe,rt,Mt),Gt[2]&&xl(ue,Gt[2],Oe,Mt,Pt,st),Gt[3]&&xl(ue,Gt[3],Pt,Mt,rt,st)}}function Su(ue,Ce,Oe,Qe,rt,st,Pt){var Mt=1/0,Gt;return function Yt(nr,Cr,Pr,Jr,on){if(!(Cr>st||Pr>Pt||Jr<Qe||on<rt)){if(Dr=nr.point){var Dr,Nr=Ce-nr.x,jr=Oe-nr.y,un=Nr*Nr+jr*jr;if(un<Mt){var vn=Math.sqrt(Mt=un);Qe=Ce-vn,rt=Oe-vn,st=Ce+vn,Pt=Oe+vn,Gt=Dr}}for(var qr=nr.nodes,Vn=(Cr+Jr)*.5,ea=(Pr+on)*.5,fa=Ce>=Vn,$n=Oe>=ea,ia=$n<<1|fa,ca=ia+4;ia<ca;++ia)if(nr=qr[ia&3])switch(ia&3){case 0:Yt(nr,Cr,Pr,Vn,ea);break;case 1:Yt(nr,Vn,Pr,Jr,ea);break;case 2:Yt(nr,Cr,ea,Vn,on);break;case 3:Yt(nr,Vn,ea,Jr,on);break}}}(ue,Qe,rt,st,Pt),Gt}a.interpolateRgb=_i;function _i(ue,Ce){ue=a.rgb(ue),Ce=a.rgb(Ce);var Oe=ue.r,Qe=ue.g,rt=ue.b,st=Ce.r-Oe,Pt=Ce.g-Qe,Mt=Ce.b-rt;return function(Gt){return"#"+gr(Math.round(Oe+st*Gt))+gr(Math.round(Qe+Pt*Gt))+gr(Math.round(rt+Mt*Gt))}}a.interpolateObject=bl;function bl(ue,Ce){var Oe={},Qe={},rt;for(rt in ue)rt in Ce?Oe[rt]=ao(ue[rt],Ce[rt]):Qe[rt]=ue[rt];for(rt in Ce)rt in ue||(Qe[rt]=Ce[rt]);return function(st){for(rt in Oe)Qe[rt]=Oe[rt](st);return Qe}}a.interpolateNumber=Oi;function Oi(ue,Ce){return ue=+ue,Ce=+Ce,function(Oe){return ue*(1-Oe)+Ce*Oe}}a.interpolateString=Gi;function Gi(ue,Ce){var Oe=wl.lastIndex=no.lastIndex=0,Qe,rt,st,Pt=-1,Mt=[],Gt=[];for(ue=ue+"",Ce=Ce+"";(Qe=wl.exec(ue))&&(rt=no.exec(Ce));)(st=rt.index)>Oe&&(st=Ce.slice(Oe,st),Mt[Pt]?Mt[Pt]+=st:Mt[++Pt]=st),(Qe=Qe[0])===(rt=rt[0])?Mt[Pt]?Mt[Pt]+=rt:Mt[++Pt]=rt:(Mt[++Pt]=null,Gt.push({i:Pt,x:Oi(Qe,rt)})),Oe=no.lastIndex;return Oe<Ce.length&&(st=Ce.slice(Oe),Mt[Pt]?Mt[Pt]+=st:Mt[++Pt]=st),Mt.length<2?Gt[0]?(Ce=Gt[0].x,function(Yt){return Ce(Yt)+""}):function(){return Ce}:(Ce=Gt.length,function(Yt){for(var nr=0,Cr;nr<Ce;++nr)Mt[(Cr=Gt[nr]).i]=Cr.x(Yt);return Mt.join("")})}var wl=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,no=new RegExp(wl.source,"g");a.interpolate=ao;function ao(ue,Ce){for(var Oe=a.interpolators.length,Qe;--Oe>=0&&!(Qe=a.interpolators[Oe](ue,Ce)););return Qe}a.interpolators=[function(ue,Ce){var Oe=typeof Ce;return(Oe==="string"?cn.has(Ce.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(Ce)?_i:Gi:Ce instanceof ht?_i:Array.isArray(Ce)?ko:Oe==="object"&&isNaN(Ce)?bl:Oi)(ue,Ce)}],a.interpolateArray=ko;function ko(ue,Ce){var Oe=[],Qe=[],rt=ue.length,st=Ce.length,Pt=Math.min(ue.length,Ce.length),Mt;for(Mt=0;Mt<Pt;++Mt)Oe.push(ao(ue[Mt],Ce[Mt]));for(;Mt<rt;++Mt)Qe[Mt]=ue[Mt];for(;Mt<st;++Mt)Qe[Mt]=Ce[Mt];return function(Gt){for(Mt=0;Mt<Pt;++Mt)Qe[Mt]=Oe[Mt](Gt);return Qe}}var Cf=function(){return F},Lo=a.map({linear:Cf,poly:Lf,quad:function(){return Bs},cubic:function(){return fs},sin:function(){return Lc},exp:function(){return Eu},circle:function(){return Pc},elastic:Rc,back:Dc,bounce:function(){return ef}}),Cc=a.map({in:F,out:$i,"in-out":$u,"out-in":function(ue){return $u($i(ue))}});a.ease=function(ue){var Ce=ue.indexOf("-"),Oe=Ce>=0?ue.slice(0,Ce):ue,Qe=Ce>=0?ue.slice(Ce+1):"in";return Oe=Lo.get(Oe)||Cf,Qe=Cc.get(Qe)||F,us(Qe(Oe.apply(null,C.call(arguments,1))))};function us(ue){return function(Ce){return Ce<=0?0:Ce>=1?1:ue(Ce)}}function $i(ue){return function(Ce){return 1-ue(1-Ce)}}function $u(ue){return function(Ce){return .5*(Ce<.5?ue(2*Ce):2-ue(2-2*Ce))}}function Bs(ue){return ue*ue}function fs(ue){return ue*ue*ue}function qu(ue){if(ue<=0)return 0;if(ue>=1)return 1;var Ce=ue*ue,Oe=Ce*ue;return 4*(ue<.5?Oe:3*(ue-Ce)+Oe-.75)}function Lf(ue){return function(Ce){return Math.pow(Ce,ue)}}function Lc(ue){return 1-Math.cos(ue*et)}function Eu(ue){return Math.pow(2,10*(ue-1))}function Pc(ue){return 1-Math.sqrt(1-ue*ue)}function Rc(ue,Ce){var Oe;return arguments.length<2&&(Ce=.45),arguments.length?Oe=Ce/ze*Math.asin(1/ue):(ue=1,Oe=Ce/4),function(Qe){return 1+ue*Math.pow(2,-10*Qe)*Math.sin((Qe-Oe)*ze/Ce)}}function Dc(ue){return ue||(ue=1.70158),function(Ce){return Ce*Ce*((ue+1)*Ce-ue)}}function ef(ue){return ue<.36363636363636365?7.5625*ue*ue:ue<.7272727272727273?7.5625*(ue-=.5454545454545454)*ue+.75:ue<.9090909090909091?7.5625*(ue-=.8181818181818182)*ue+.9375:7.5625*(ue-=.9545454545454546)*ue+.984375}a.interpolateHcl=Ic;function Ic(ue,Ce){ue=a.hcl(ue),Ce=a.hcl(Ce);var Oe=ue.h,Qe=ue.c,rt=ue.l,st=Ce.h-Oe,Pt=Ce.c-Qe,Mt=Ce.l-rt;return isNaN(Pt)&&(Pt=0,Qe=isNaN(Qe)?Ce.c:Qe),isNaN(st)?(st=0,Oe=isNaN(Oe)?Ce.h:Oe):st>180?st-=360:st<-180&&(st+=360),function(Gt){return Vt(Oe+st*Gt,Qe+Pt*Gt,rt+Mt*Gt)+""}}a.interpolateHsl=_c;function _c(ue,Ce){ue=a.hsl(ue),Ce=a.hsl(Ce);var Oe=ue.h,Qe=ue.s,rt=ue.l,st=Ce.h-Oe,Pt=Ce.s-Qe,Mt=Ce.l-rt;return isNaN(Pt)&&(Pt=0,Qe=isNaN(Qe)?Ce.s:Qe),isNaN(st)?(st=0,Oe=isNaN(Oe)?Ce.h:Oe):st>180?st-=360:st<-180&&(st+=360),function(Gt){return Ct(Oe+st*Gt,Qe+Pt*Gt,rt+Mt*Gt)+""}}a.interpolateLab=Pf;function Pf(ue,Ce){ue=a.lab(ue),Ce=a.lab(Ce);var Oe=ue.l,Qe=ue.a,rt=ue.b,st=Ce.l-Oe,Pt=Ce.a-Qe,Mt=Ce.b-rt;return function(Gt){return Ve(Oe+st*Gt,Qe+Pt*Gt,rt+Mt*Gt)+""}}a.interpolateRound=Rf;function Rf(ue,Ce){return Ce-=ue,function(Oe){return Math.round(ue+Ce*Oe)}}a.transform=function(ue){var Ce=v.createElementNS(a.ns.prefix.svg,"g");return(a.transform=function(Oe){if(Oe!=null){Ce.setAttribute("transform",Oe);var Qe=Ce.transform.baseVal.consolidate()}return new tl(Qe?Qe.matrix:Df)})(ue)};function tl(ue){var Ce=[ue.a,ue.b],Oe=[ue.c,ue.d],Qe=Zl(Ce),rt=Tl(Ce,Oe),st=Zl(jl(Oe,Ce,-rt))||0;Ce[0]*Oe[1]<Oe[0]*Ce[1]&&(Ce[0]*=-1,Ce[1]*=-1,Qe*=-1,rt*=-1),this.rotate=(Qe?Math.atan2(Ce[1],Ce[0]):Math.atan2(-Oe[0],Oe[1]))*dt,this.translate=[ue.e,ue.f],this.scale=[Qe,st],this.skew=st?Math.atan2(rt,st)*dt:0}tl.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};function Tl(ue,Ce){return ue[0]*Ce[0]+ue[1]*Ce[1]}function Zl(ue){var Ce=Math.sqrt(Tl(ue,ue));return Ce&&(ue[0]/=Ce,ue[1]/=Ce),Ce}function jl(ue,Ce,Oe){return ue[0]+=Oe*Ce[0],ue[1]+=Oe*Ce[1],ue}var Df={a:1,b:0,c:0,d:1,e:0,f:0};a.interpolateTransform=Lu;function As(ue){return ue.length?ue.pop()+",":""}function kc(ue,Ce,Oe,Qe){if(ue[0]!==Ce[0]||ue[1]!==Ce[1]){var rt=Oe.push("translate(",null,",",null,")");Qe.push({i:rt-4,x:Oi(ue[0],Ce[0])},{i:rt-2,x:Oi(ue[1],Ce[1])})}else(Ce[0]||Ce[1])&&Oe.push("translate("+Ce+")")}function Cu(ue,Ce,Oe,Qe){ue!==Ce?(ue-Ce>180?Ce+=360:Ce-ue>180&&(ue+=360),Qe.push({i:Oe.push(As(Oe)+"rotate(",null,")")-2,x:Oi(ue,Ce)})):Ce&&Oe.push(As(Oe)+"rotate("+Ce+")")}function If(ue,Ce,Oe,Qe){ue!==Ce?Qe.push({i:Oe.push(As(Oe)+"skewX(",null,")")-2,x:Oi(ue,Ce)}):Ce&&Oe.push(As(Oe)+"skewX("+Ce+")")}function _f(ue,Ce,Oe,Qe){if(ue[0]!==Ce[0]||ue[1]!==Ce[1]){var rt=Oe.push(As(Oe)+"scale(",null,",",null,")");Qe.push({i:rt-4,x:Oi(ue[0],Ce[0])},{i:rt-2,x:Oi(ue[1],Ce[1])})}else(Ce[0]!==1||Ce[1]!==1)&&Oe.push(As(Oe)+"scale("+Ce+")")}function Lu(ue,Ce){var Oe=[],Qe=[];return ue=a.transform(ue),Ce=a.transform(Ce),kc(ue.translate,Ce.translate,Oe,Qe),Cu(ue.rotate,Ce.rotate,Oe,Qe),If(ue.skew,Ce.skew,Oe,Qe),_f(ue.scale,Ce.scale,Oe,Qe),ue=Ce=null,function(rt){for(var st=-1,Pt=Qe.length,Mt;++st<Pt;)Oe[(Mt=Qe[st]).i]=Mt.x(rt);return Oe.join("")}}function Yo(ue,Ce){return Ce=(Ce-=ue=+ue)||1/Ce,function(Oe){return(Oe-ue)/Ce}}function Al(ue,Ce){return Ce=(Ce-=ue=+ue)||1/Ce,function(Oe){return Math.max(0,Math.min(1,(Oe-ue)/Ce))}}a.layout={},a.layout.bundle=function(){return function(ue){for(var Ce=[],Oe=-1,Qe=ue.length;++Oe<Qe;)Ce.push(rl(ue[Oe]));return Ce}};function rl(ue){for(var Ce=ue.source,Oe=ue.target,Qe=Ns(Ce,Oe),rt=[Ce];Ce!==Qe;)Ce=Ce.parent,rt.push(Ce);for(var st=rt.length;Oe!==Qe;)rt.splice(st,0,Oe),Oe=Oe.parent;return rt}function Kl(ue){for(var Ce=[],Oe=ue.parent;Oe!=null;)Ce.push(ue),ue=Oe,Oe=Oe.parent;return Ce.push(ue),Ce}function Ns(ue,Ce){if(ue===Ce)return ue;for(var Oe=Kl(ue),Qe=Kl(Ce),rt=Oe.pop(),st=Qe.pop(),Pt=null;rt===st;)Pt=rt,rt=Oe.pop(),st=Qe.pop();return Pt}a.layout.chord=function(){var ue={},Ce,Oe,Qe,rt,st=0,Pt,Mt,Gt;function Yt(){var Cr={},Pr=[],Jr=a.range(rt),on=[],Dr,Nr,jr,un,vn;for(Ce=[],Oe=[],Dr=0,un=-1;++un<rt;){for(Nr=0,vn=-1;++vn<rt;)Nr+=Qe[un][vn];Pr.push(Nr),on.push(a.range(rt)),Dr+=Nr}for(Pt&&Jr.sort(function(Oa,Sa){return Pt(Pr[Oa],Pr[Sa])}),Mt&&on.forEach(function(Oa,Sa){Oa.sort(function(_a,ai){return Mt(Qe[Sa][_a],Qe[Sa][ai])})}),Dr=(ze-st*rt)/Dr,Nr=0,un=-1;++un<rt;){for(jr=Nr,vn=-1;++vn<rt;){var qr=Jr[un],Vn=on[qr][vn],ea=Qe[qr][Vn],fa=Nr,$n=Nr+=ea*Dr;Cr[qr+"-"+Vn]={index:qr,subindex:Vn,startAngle:fa,endAngle:$n,value:ea}}Oe[qr]={index:qr,startAngle:jr,endAngle:Nr,value:Pr[qr]},Nr+=st}for(un=-1;++un<rt;)for(vn=un-1;++vn<rt;){var ia=Cr[un+"-"+vn],ca=Cr[vn+"-"+un];(ia.value||ca.value)&&Ce.push(ia.value<ca.value?{source:ca,target:ia}:{source:ia,target:ca})}Gt&&nr()}function nr(){Ce.sort(function(Cr,Pr){return Gt((Cr.source.value+Cr.target.value)/2,(Pr.source.value+Pr.target.value)/2)})}return ue.matrix=function(Cr){return arguments.length?(rt=(Qe=Cr)&&Qe.length,Ce=Oe=null,ue):Qe},ue.padding=function(Cr){return arguments.length?(st=Cr,Ce=Oe=null,ue):st},ue.sortGroups=function(Cr){return arguments.length?(Pt=Cr,Ce=Oe=null,ue):Pt},ue.sortSubgroups=function(Cr){return arguments.length?(Mt=Cr,Ce=null,ue):Mt},ue.sortChords=function(Cr){return arguments.length?(Gt=Cr,Ce&&nr(),ue):Gt},ue.chords=function(){return Ce||Yt(),Ce},ue.groups=function(){return Oe||Yt(),Oe},ue},a.layout.force=function(){var ue={},Ce=a.dispatch("start","tick","end"),Oe,Qe=[1,1],rt,st,Pt=.9,Mt=rf,Gt=Fc,Yt=-30,nr=Pu,Cr=.1,Pr=.64,Jr=[],on=[],Dr,Nr,jr;function un(qr){return function(Vn,ea,fa,$n){if(Vn.point!==qr){var ia=Vn.cx-qr.x,ca=Vn.cy-qr.y,Oa=$n-ea,Sa=ia*ia+ca*ca;if(Oa*Oa/Pr<Sa){if(Sa<nr){var _a=Vn.charge/Sa;qr.px-=ia*_a,qr.py-=ca*_a}return!0}if(Vn.point&&Sa&&Sa<nr){var _a=Vn.pointCharge/Sa;qr.px-=ia*_a,qr.py-=ca*_a}}return!Vn.charge}}ue.tick=function(){if((st*=.99)<.005)return Oe=null,Ce.end({type:"end",alpha:st=0}),!0;var qr=Jr.length,Vn=on.length,ea,fa,$n,ia,ca,Oa,Sa,_a,ai;for(fa=0;fa<Vn;++fa)$n=on[fa],ia=$n.source,ca=$n.target,_a=ca.x-ia.x,ai=ca.y-ia.y,(Oa=_a*_a+ai*ai)&&(Oa=st*Nr[fa]*((Oa=Math.sqrt(Oa))-Dr[fa])/Oa,_a*=Oa,ai*=Oa,ca.x-=_a*(Sa=ia.weight+ca.weight?ia.weight/(ia.weight+ca.weight):.5),ca.y-=ai*Sa,ia.x+=_a*(Sa=1-Sa),ia.y+=ai*Sa);if((Sa=st*Cr)&&(_a=Qe[0]/2,ai=Qe[1]/2,fa=-1,Sa))for(;++fa<qr;)$n=Jr[fa],$n.x+=(_a-$n.x)*Sa,$n.y+=(ai-$n.y)*Sa;if(Yt)for(Ri(ea=a.geom.quadtree(Jr),st,jr),fa=-1;++fa<qr;)($n=Jr[fa]).fixed||ea.visit(un($n));for(fa=-1;++fa<qr;)$n=Jr[fa],$n.fixed?($n.x=$n.px,$n.y=$n.py):($n.x-=($n.px-($n.px=$n.x))*Pt,$n.y-=($n.py-($n.py=$n.y))*Pt);Ce.tick({type:"tick",alpha:st})},ue.nodes=function(qr){return arguments.length?(Jr=qr,ue):Jr},ue.links=function(qr){return arguments.length?(on=qr,ue):on},ue.size=function(qr){return arguments.length?(Qe=qr,ue):Qe},ue.linkDistance=function(qr){return arguments.length?(Mt=typeof qr=="function"?qr:+qr,ue):Mt},ue.distance=ue.linkDistance,ue.linkStrength=function(qr){return arguments.length?(Gt=typeof qr=="function"?qr:+qr,ue):Gt},ue.friction=function(qr){return arguments.length?(Pt=+qr,ue):Pt},ue.charge=function(qr){return arguments.length?(Yt=typeof qr=="function"?qr:+qr,ue):Yt},ue.chargeDistance=function(qr){return arguments.length?(nr=qr*qr,ue):Math.sqrt(nr)},ue.gravity=function(qr){return arguments.length?(Cr=+qr,ue):Cr},ue.theta=function(qr){return arguments.length?(Pr=qr*qr,ue):Math.sqrt(Pr)},ue.alpha=function(qr){return arguments.length?(qr=+qr,st?qr>0?st=qr:(Oe.c=null,Oe.t=NaN,Oe=null,Ce.end({type:"end",alpha:st=0})):qr>0&&(Ce.start({type:"start",alpha:st=qr}),Oe=Cn(ue.tick)),ue):st},ue.start=function(){var qr,Vn=Jr.length,ea=on.length,fa=Qe[0],$n=Qe[1],ia,ca;for(qr=0;qr<Vn;++qr)(ca=Jr[qr]).index=qr,ca.weight=0;for(qr=0;qr<ea;++qr)ca=on[qr],typeof ca.source=="number"&&(ca.source=Jr[ca.source]),typeof ca.target=="number"&&(ca.target=Jr[ca.target]),++ca.source.weight,++ca.target.weight;for(qr=0;qr<Vn;++qr)ca=Jr[qr],isNaN(ca.x)&&(ca.x=Oa("x",fa)),isNaN(ca.y)&&(ca.y=Oa("y",$n)),isNaN(ca.px)&&(ca.px=ca.x),isNaN(ca.py)&&(ca.py=ca.y);if(Dr=[],typeof Mt=="function")for(qr=0;qr<ea;++qr)Dr[qr]=+Mt.call(this,on[qr],qr);else for(qr=0;qr<ea;++qr)Dr[qr]=Mt;if(Nr=[],typeof Gt=="function")for(qr=0;qr<ea;++qr)Nr[qr]=+Gt.call(this,on[qr],qr);else for(qr=0;qr<ea;++qr)Nr[qr]=Gt;if(jr=[],typeof Yt=="function")for(qr=0;qr<Vn;++qr)jr[qr]=+Yt.call(this,Jr[qr],qr);else for(qr=0;qr<Vn;++qr)jr[qr]=Yt;function Oa(Sa,_a){if(!ia){for(ia=new Array(Vn),fi=0;fi<Vn;++fi)ia[fi]=[];for(fi=0;fi<ea;++fi){var ai=on[fi];ia[ai.source.index].push(ai.target),ia[ai.target.index].push(ai.source)}}for(var Bi=ia[qr],fi=-1,Kn=Bi.length,Ua;++fi<Kn;)if(!isNaN(Ua=Bi[fi][Sa]))return Ua;return Math.random()*_a}return ue.resume()},ue.resume=function(){return ue.alpha(.1)},ue.stop=function(){return ue.alpha(0)},ue.drag=function(){if(rt||(rt=a.behavior.drag().origin(F).on("dragstart.force",cs).on("drag.force",vn).on("dragend.force",tf)),!arguments.length)return rt;this.on("mouseover.force",Ml).on("mouseout.force",Xo).call(rt)};function vn(qr){qr.px=a.event.x,qr.py=a.event.y,ue.resume()}return a.rebind(ue,Ce,"on")};function cs(ue){ue.fixed|=2}function tf(ue){ue.fixed&=-7}function Ml(ue){ue.fixed|=4,ue.px=ue.x,ue.py=ue.y}function Xo(ue){ue.fixed&=-5}function Ri(ue,Ce,Oe){var Qe=0,rt=0;if(ue.charge=0,!ue.leaf)for(var st=ue.nodes,Pt=st.length,Mt=-1,Gt;++Mt<Pt;)Gt=st[Mt],Gt!=null&&(Ri(Gt,Ce,Oe),ue.charge+=Gt.charge,Qe+=Gt.charge*Gt.cx,rt+=Gt.charge*Gt.cy);if(ue.point){ue.leaf||(ue.point.x+=Math.random()-.5,ue.point.y+=Math.random()-.5);var Yt=Ce*Oe[ue.point.index];ue.charge+=ue.pointCharge=Yt,Qe+=Yt*ue.point.x,rt+=Yt*ue.point.y}ue.cx=Qe/ue.charge,ue.cy=rt/ue.charge}var rf=20,Fc=1,Pu=1/0;a.layout.hierarchy=function(){var ue=Du,Ce=Ru,Oe=Cl;function Qe(rt){var st=[rt],Pt=[],Mt;for(rt.depth=0;(Mt=st.pop())!=null;)if(Pt.push(Mt),(Yt=Ce.call(Qe,Mt,Mt.depth))&&(Gt=Yt.length)){for(var Gt,Yt,nr;--Gt>=0;)st.push(nr=Yt[Gt]),nr.parent=Mt,nr.depth=Mt.depth+1;Oe&&(Mt.value=0),Mt.children=Yt}else Oe&&(Mt.value=+Oe.call(Qe,Mt,Mt.depth)||0),delete Mt.children;return Po(rt,function(Cr){var Pr,Jr;ue&&(Pr=Cr.children)&&Pr.sort(ue),Oe&&(Jr=Cr.parent)&&(Jr.value+=Cr.value)}),Pt}return Qe.sort=function(rt){return arguments.length?(ue=rt,Qe):ue},Qe.children=function(rt){return arguments.length?(Ce=rt,Qe):Ce},Qe.value=function(rt){return arguments.length?(Oe=rt,Qe):Oe},Qe.revalue=function(rt){return Oe&&(El(rt,function(st){st.children&&(st.value=0)}),Po(rt,function(st){var Pt;st.children||(st.value=+Oe.call(Qe,st,st.depth)||0),(Pt=st.parent)&&(Pt.value+=st.value)})),rt},Qe};function Sl(ue,Ce){return a.rebind(ue,Ce,"sort","children","value"),ue.nodes=ue,ue.links=zc,ue}function El(ue,Ce){for(var Oe=[ue];(ue=Oe.pop())!=null;)if(Ce(ue),(rt=ue.children)&&(Qe=rt.length))for(var Qe,rt;--Qe>=0;)Oe.push(rt[Qe])}function Po(ue,Ce){for(var Oe=[ue],Qe=[];(ue=Oe.pop())!=null;)if(Qe.push(ue),(Pt=ue.children)&&(st=Pt.length))for(var rt=-1,st,Pt;++rt<st;)Oe.push(Pt[rt]);for(;(ue=Qe.pop())!=null;)Ce(ue)}function Ru(ue){return ue.children}function Cl(ue){return ue.value}function Du(ue,Ce){return Ce.value-ue.value}function zc(ue){return a.merge(ue.map(function(Ce){return(Ce.children||[]).map(function(Oe){return{source:Ce,target:Oe}})}))}a.layout.partition=function(){var ue=a.layout.hierarchy(),Ce=[1,1];function Oe(st,Pt,Mt,Gt){var Yt=st.children;if(st.x=Pt,st.y=st.depth*Gt,st.dx=Mt,st.dy=Gt,Yt&&(Cr=Yt.length)){var nr=-1,Cr,Pr,Jr;for(Mt=st.value?Mt/st.value:0;++nr<Cr;)Oe(Pr=Yt[nr],Pt,Jr=Pr.value*Mt,Gt),Pt+=Jr}}function Qe(st){var Pt=st.children,Mt=0;if(Pt&&(Yt=Pt.length))for(var Gt=-1,Yt;++Gt<Yt;)Mt=Math.max(Mt,Qe(Pt[Gt]));return 1+Mt}function rt(st,Pt){var Mt=ue.call(this,st,Pt);return Oe(Mt[0],0,Ce[0],Ce[1]/Qe(Mt[0])),Mt}return rt.size=function(st){return arguments.length?(Ce=st,rt):Ce},Sl(rt,ue)},a.layout.pie=function(){var ue=Number,Ce=kf,Oe=0,Qe=ze,rt=0;function st(Pt){var Mt=Pt.length,Gt=Pt.map(function(un,vn){return+ue.call(st,un,vn)}),Yt=+(typeof Oe=="function"?Oe.apply(this,arguments):Oe),nr=(typeof Qe=="function"?Qe.apply(this,arguments):Qe)-Yt,Cr=Math.min(Math.abs(nr)/Mt,+(typeof rt=="function"?rt.apply(this,arguments):rt)),Pr=Cr*(nr<0?-1:1),Jr=a.sum(Gt),on=Jr?(nr-Mt*Pr)/Jr:0,Dr=a.range(Mt),Nr=[],jr;return Ce!=null&&Dr.sort(Ce===kf?function(un,vn){return Gt[vn]-Gt[un]}:function(un,vn){return Ce(Pt[un],Pt[vn])}),Dr.forEach(function(un){Nr[un]={data:Pt[un],value:jr=Gt[un],startAngle:Yt,endAngle:Yt+=jr*on+Pr,padAngle:Cr}}),Nr}return st.value=function(Pt){return arguments.length?(ue=Pt,st):ue},st.sort=function(Pt){return arguments.length?(Ce=Pt,st):Ce},st.startAngle=function(Pt){return arguments.length?(Oe=Pt,st):Oe},st.endAngle=function(Pt){return arguments.length?(Qe=Pt,st):Qe},st.padAngle=function(Pt){return arguments.length?(rt=Pt,st):rt},st};var kf={};a.layout.stack=function(){var ue=F,Ce=Jl,Oe=_u,Qe=of,rt=nf,st=af;function Pt(Mt,Gt){if(!(on=Mt.length))return Mt;var Yt=Mt.map(function(un,vn){return ue.call(Pt,un,vn)}),nr=Yt.map(function(un){return un.map(function(vn,qr){return[rt.call(Pt,vn,qr),st.call(Pt,vn,qr)]})}),Cr=Ce.call(Pt,nr,Gt);Yt=a.permute(Yt,Cr),nr=a.permute(nr,Cr);var Pr=Oe.call(Pt,nr,Gt),Jr=Yt[0].length,on,Dr,Nr,jr;for(Nr=0;Nr<Jr;++Nr)for(Qe.call(Pt,Yt[0][Nr],jr=Pr[Nr],nr[0][Nr][1]),Dr=1;Dr<on;++Dr)Qe.call(Pt,Yt[Dr][Nr],jr+=nr[Dr-1][Nr][1],nr[Dr][Nr][1]);return Mt}return Pt.values=function(Mt){return arguments.length?(ue=Mt,Pt):ue},Pt.order=function(Mt){return arguments.length?(Ce=typeof Mt=="function"?Mt:Ll.get(Mt)||Jl,Pt):Ce},Pt.offset=function(Mt){return arguments.length?(Oe=typeof Mt=="function"?Mt:Iu.get(Mt)||_u,Pt):Oe},Pt.x=function(Mt){return arguments.length?(rt=Mt,Pt):rt},Pt.y=function(Mt){return arguments.length?(st=Mt,Pt):st},Pt.out=function(Mt){return arguments.length?(Qe=Mt,Pt):Qe},Pt};function nf(ue){return ue.x}function af(ue){return ue.y}function of(ue,Ce,Oe){ue.y0=Ce,ue.y=Oe}var Ll=a.map({"inside-out":function(ue){var Ce=ue.length,Oe,Qe,rt=ue.map(pi),st=ue.map(Ff),Pt=a.range(Ce).sort(function(Cr,Pr){return rt[Cr]-rt[Pr]}),Mt=0,Gt=0,Yt=[],nr=[];for(Oe=0;Oe<Ce;++Oe)Qe=Pt[Oe],Mt<Gt?(Mt+=st[Qe],Yt.push(Qe)):(Gt+=st[Qe],nr.push(Qe));return nr.reverse().concat(Yt)},reverse:function(ue){return a.range(ue.length).reverse()},default:Jl}),Iu=a.map({silhouette:function(ue){var Ce=ue.length,Oe=ue[0].length,Qe=[],rt=0,st,Pt,Mt,Gt=[];for(Pt=0;Pt<Oe;++Pt){for(st=0,Mt=0;st<Ce;st++)Mt+=ue[st][Pt][1];Mt>rt&&(rt=Mt),Qe.push(Mt)}for(Pt=0;Pt<Oe;++Pt)Gt[Pt]=(rt-Qe[Pt])/2;return Gt},wiggle:function(ue){var Ce=ue.length,Oe=ue[0],Qe=Oe.length,rt,st,Pt,Mt,Gt,Yt,nr,Cr,Pr,Jr=[];for(Jr[0]=Cr=Pr=0,st=1;st<Qe;++st){for(rt=0,Mt=0;rt<Ce;++rt)Mt+=ue[rt][st][1];for(rt=0,Gt=0,nr=Oe[st][0]-Oe[st-1][0];rt<Ce;++rt){for(Pt=0,Yt=(ue[rt][st][1]-ue[rt][st-1][1])/(2*nr);Pt<rt;++Pt)Yt+=(ue[Pt][st][1]-ue[Pt][st-1][1])/nr;Gt+=Yt*ue[rt][st][1]}Jr[st]=Cr-=Mt?Gt/Mt*nr:0,Cr<Pr&&(Pr=Cr)}for(st=0;st<Qe;++st)Jr[st]-=Pr;return Jr},expand:function(ue){var Ce=ue.length,Oe=ue[0].length,Qe=1/Ce,rt,st,Pt,Mt=[];for(st=0;st<Oe;++st){for(rt=0,Pt=0;rt<Ce;rt++)Pt+=ue[rt][st][1];if(Pt)for(rt=0;rt<Ce;rt++)ue[rt][st][1]/=Pt;else for(rt=0;rt<Ce;rt++)ue[rt][st][1]=Qe}for(st=0;st<Oe;++st)Mt[st]=0;return Mt},zero:_u});function Jl(ue){return a.range(ue.length)}function _u(ue){for(var Ce=-1,Oe=ue[0].length,Qe=[];++Ce<Oe;)Qe[Ce]=0;return Qe}function pi(ue){for(var Ce=1,Oe=0,Qe=ue[0][1],rt,st=ue.length;Ce<st;++Ce)(rt=ue[Ce][1])>Qe&&(Oe=Ce,Qe=rt);return Oe}function Ff(ue){return ue.reduce(Zo,0)}function Zo(ue,Ce){return ue+Ce[1]}a.layout.histogram=function(){var ue=!0,Ce=Number,Oe=nl,Qe=zf;function rt(st,Pr){for(var Mt=[],Gt=st.map(Ce,this),Yt=Oe.call(this,Gt,Pr),nr=Qe.call(this,Yt,Gt,Pr),Cr,Pr=-1,Jr=Gt.length,on=nr.length-1,Dr=ue?1:1/Jr,Nr;++Pr<on;)Cr=Mt[Pr]=[],Cr.dx=nr[Pr+1]-(Cr.x=nr[Pr]),Cr.y=0;if(on>0)for(Pr=-1;++Pr<Jr;)Nr=Gt[Pr],Nr>=Yt[0]&&Nr<=Yt[1]&&(Cr=Mt[a.bisect(nr,Nr,1,on)-1],Cr.y+=Dr,Cr.push(st[Pr]));return Mt}return rt.value=function(st){return arguments.length?(Ce=st,rt):Ce},rt.range=function(st){return arguments.length?(Oe=rn(st),rt):Oe},rt.bins=function(st){return arguments.length?(Qe=typeof st=="number"?function(Pt){return sf(Pt,st)}:rn(st),rt):Qe},rt.frequency=function(st){return arguments.length?(ue=!!st,rt):ue},rt};function zf(ue,Ce){return sf(ue,Math.ceil(Math.log(Ce.length)/Math.LN2+1))}function sf(ue,Ce){for(var Oe=-1,Qe=+ue[0],rt=(ue[1]-Qe)/Ce,st=[];++Oe<=Ce;)st[Oe]=rt*Oe+Qe;return st}function nl(ue){return[a.min(ue),a.max(ue)]}a.layout.pack=function(){var ue=a.layout.hierarchy().sort(Us),Ce=0,Oe=[1,1],Qe;function rt(st,Pt){var Mt=ue.call(this,st,Pt),Gt=Mt[0],Yt=Oe[0],nr=Oe[1],Cr=Qe==null?Math.sqrt:typeof Qe=="function"?Qe:function(){return Qe};if(Gt.x=Gt.y=0,Po(Gt,function(Jr){Jr.r=+Cr(Jr.value)}),Po(Gt,jo),Ce){var Pr=Ce*(Qe?1:Math.max(2*Gt.r/Yt,2*Gt.r/nr))/2;Po(Gt,function(Jr){Jr.r+=Pr}),Po(Gt,jo),Po(Gt,function(Jr){Jr.r-=Pr})}return Vs(Gt,Yt/2,nr/2,Qe?1:1/Math.max(2*Gt.r/Yt,2*Gt.r/nr)),Mt}return rt.size=function(st){return arguments.length?(Oe=st,rt):Oe},rt.radius=function(st){return arguments.length?(Qe=st==null||typeof st=="function"?st:+st,rt):Qe},rt.padding=function(st){return arguments.length?(Ce=+st,rt):Ce},Sl(rt,ue)};function Us(ue,Ce){return ue.value-Ce.value}function ku(ue,Ce){var Oe=ue._pack_next;ue._pack_next=Ce,Ce._pack_prev=ue,Ce._pack_next=Oe,Oe._pack_prev=Ce}function ki(ue,Ce){ue._pack_next=Ce,Ce._pack_prev=ue}function Ql(ue,Ce){var Oe=Ce.x-ue.x,Qe=Ce.y-ue.y,rt=ue.r+Ce.r;return .999*rt*rt>Oe*Oe+Qe*Qe}function jo(ue){if(!(Ce=ue.children)||!(Pr=Ce.length))return;var Ce,Oe=1/0,Qe=-1/0,rt=1/0,st=-1/0,Pt,Mt,Gt,Yt,nr,Cr,Pr;function Jr(qr){Oe=Math.min(qr.x-qr.r,Oe),Qe=Math.max(qr.x+qr.r,Qe),rt=Math.min(qr.y-qr.r,rt),st=Math.max(qr.y+qr.r,st)}if(Ce.forEach(Ms),Pt=Ce[0],Pt.x=-Pt.r,Pt.y=0,Jr(Pt),Pr>1&&(Mt=Ce[1],Mt.x=Mt.r,Mt.y=0,Jr(Mt),Pr>2))for(Gt=Ce[2],Ko(Pt,Mt,Gt),Jr(Gt),ku(Pt,Gt),Pt._pack_prev=Gt,ku(Gt,Mt),Mt=Pt._pack_next,Yt=3;Yt<Pr;Yt++){Ko(Pt,Mt,Gt=Ce[Yt]);var on=0,Dr=1,Nr=1;for(nr=Mt._pack_next;nr!==Mt;nr=nr._pack_next,Dr++)if(Ql(nr,Gt)){on=1;break}if(on==1)for(Cr=Pt._pack_prev;Cr!==nr._pack_prev&&!Ql(Cr,Gt);Cr=Cr._pack_prev,Nr++);on?(Dr<Nr||Dr==Nr&&Mt.r<Pt.r?ki(Pt,Mt=nr):ki(Pt=Cr,Mt),Yt--):(ku(Pt,Gt),Mt=Gt,Jr(Gt))}var jr=(Oe+Qe)/2,un=(rt+st)/2,vn=0;for(Yt=0;Yt<Pr;Yt++)Gt=Ce[Yt],Gt.x-=jr,Gt.y-=un,vn=Math.max(vn,Gt.r+Math.sqrt(Gt.x*Gt.x+Gt.y*Gt.y));ue.r=vn,Ce.forEach(al)}function Ms(ue){ue._pack_next=ue._pack_prev=ue}function al(ue){delete ue._pack_next,delete ue._pack_prev}function Vs(ue,Ce,Oe,Qe){var rt=ue.children;if(ue.x=Ce+=Qe*ue.x,ue.y=Oe+=Qe*ue.y,ue.r*=Qe,rt)for(var st=-1,Pt=rt.length;++st<Pt;)Vs(rt[st],Ce,Oe,Qe)}function Ko(ue,Ce,Oe){var Qe=ue.r+Oe.r,rt=Ce.x-ue.x,st=Ce.y-ue.y;if(Qe&&(rt||st)){var Pt=Ce.r+Oe.r,Mt=rt*rt+st*st;Pt*=Pt,Qe*=Qe;var Gt=.5+(Qe-Pt)/(2*Mt),Yt=Math.sqrt(Math.max(0,2*Pt*(Qe+Mt)-(Qe-=Mt)*Qe-Pt*Pt))/(2*Mt);Oe.x=ue.x+Gt*rt+Yt*st,Oe.y=ue.y+Gt*st-Yt*rt}else Oe.x=ue.x+Qe,Oe.y=ue.y}a.layout.tree=function(){var ue=a.layout.hierarchy().sort(null).value(null),Ce=Ss,Oe=[1,1],Qe=null;function rt(nr,Cr){var Pr=ue.call(this,nr,Cr),Jr=Pr[0],on=st(Jr);if(Po(on,Pt),on.parent.m=-on.z,El(on,Mt),Qe)El(Jr,Yt);else{var Dr=Jr,Nr=Jr,jr=Jr;El(Jr,function(Vn){Vn.x<Dr.x&&(Dr=Vn),Vn.x>Nr.x&&(Nr=Vn),Vn.depth>jr.depth&&(jr=Vn)});var un=Ce(Dr,Nr)/2-Dr.x,vn=Oe[0]/(Nr.x+Ce(Nr,Dr)/2+un),qr=Oe[1]/(jr.depth||1);El(Jr,function(Vn){Vn.x=(Vn.x+un)*vn,Vn.y=Vn.depth*qr})}return Pr}function st(nr){for(var Cr={A:null,children:[nr]},Pr=[Cr],Jr;(Jr=Pr.pop())!=null;)for(var on=Jr.children,Dr,Nr=0,jr=on.length;Nr<jr;++Nr)Pr.push((on[Nr]=Dr={_:on[Nr],parent:Jr,children:(Dr=on[Nr].children)&&Dr.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:Nr}).a=Dr);return Cr.children[0]}function Pt(nr){var Cr=nr.children,Pr=nr.parent.children,Jr=nr.i?Pr[nr.i-1]:null;if(Cr.length){Oc(nr);var on=(Cr[0].z+Cr[Cr.length-1].z)/2;Jr?(nr.z=Jr.z+Ce(nr._,Jr._),nr.m=nr.z-on):nr.z=on}else Jr&&(nr.z=Jr.z+Ce(nr._,Jr._));nr.parent.A=Gt(nr,Jr,nr.parent.A||Pr[0])}function Mt(nr){nr._.x=nr.z+nr.parent.m,nr.m+=nr.parent.m}function Gt(nr,Cr,Pr){if(Cr){for(var Jr=nr,on=nr,Dr=Cr,Nr=Jr.parent.children[0],jr=Jr.m,un=on.m,vn=Dr.m,qr=Nr.m,Vn;Dr=No(Dr),Jr=Jo(Jr),Dr&&Jr;)Nr=Jo(Nr),on=No(on),on.a=nr,Vn=Dr.z+vn-Jr.z-jr+Ce(Dr._,Jr._),Vn>0&&($l(Bc(Dr,nr,Pr),nr,Vn),jr+=Vn,un+=Vn),vn+=Dr.m,jr+=Jr.m,qr+=Nr.m,un+=on.m;Dr&&!No(on)&&(on.t=Dr,on.m+=vn-un),Jr&&!Jo(Nr)&&(Nr.t=Jr,Nr.m+=jr-qr,Pr=nr)}return Pr}function Yt(nr){nr.x*=Oe[0],nr.y=nr.depth*Oe[1]}return rt.separation=function(nr){return arguments.length?(Ce=nr,rt):Ce},rt.size=function(nr){return arguments.length?(Qe=(Oe=nr)==null?Yt:null,rt):Qe?null:Oe},rt.nodeSize=function(nr){return arguments.length?(Qe=(Oe=nr)==null?null:Yt,rt):Qe?Oe:null},Sl(rt,ue)};function Ss(ue,Ce){return ue.parent==Ce.parent?1:2}function Jo(ue){var Ce=ue.children;return Ce.length?Ce[0]:ue.t}function No(ue){var Ce=ue.children,Oe;return(Oe=Ce.length)?Ce[Oe-1]:ue.t}function $l(ue,Ce,Oe){var Qe=Oe/(Ce.i-ue.i);Ce.c-=Qe,Ce.s+=Oe,ue.c+=Qe,Ce.z+=Oe,Ce.m+=Oe}function Oc(ue){for(var Ce=0,Oe=0,Qe=ue.children,rt=Qe.length,st;--rt>=0;)st=Qe[rt],st.z+=Ce,st.m+=Ce,Ce+=st.s+(Oe+=st.c)}function Bc(ue,Ce,Oe){return ue.a.parent===Ce.parent?ue.a:Oe}a.layout.cluster=function(){var ue=a.layout.hierarchy().sort(null).value(null),Ce=Ss,Oe=[1,1],Qe=!1;function rt(st,Pt){var Mt=ue.call(this,st,Pt),Gt=Mt[0],Yt,nr=0;Po(Gt,function(Dr){var Nr=Dr.children;Nr&&Nr.length?(Dr.x=Uc(Nr),Dr.y=Nc(Nr)):(Dr.x=Yt?nr+=Ce(Dr,Yt):0,Dr.y=0,Yt=Dr)});var Cr=lf(Gt),Pr=Of(Gt),Jr=Cr.x-Ce(Cr,Pr)/2,on=Pr.x+Ce(Pr,Cr)/2;return Po(Gt,Qe?function(Dr){Dr.x=(Dr.x-Gt.x)*Oe[0],Dr.y=(Gt.y-Dr.y)*Oe[1]}:function(Dr){Dr.x=(Dr.x-Jr)/(on-Jr)*Oe[0],Dr.y=(1-(Gt.y?Dr.y/Gt.y:1))*Oe[1]}),Mt}return rt.separation=function(st){return arguments.length?(Ce=st,rt):Ce},rt.size=function(st){return arguments.length?(Qe=(Oe=st)==null,rt):Qe?null:Oe},rt.nodeSize=function(st){return arguments.length?(Qe=(Oe=st)!=null,rt):Qe?Oe:null},Sl(rt,ue)};function Nc(ue){return 1+a.max(ue,function(Ce){return Ce.y})}function Uc(ue){return ue.reduce(function(Ce,Oe){return Ce+Oe.x},0)/ue.length}function lf(ue){var Ce=ue.children;return Ce&&Ce.length?lf(Ce[0]):ue}function Of(ue){var Ce=ue.children,Oe;return Ce&&(Oe=Ce.length)?Of(Ce[Oe-1]):ue}a.layout.treemap=function(){var ue=a.layout.hierarchy(),Ce=Math.round,Oe=[1,1],Qe=null,rt=Pl,st=!1,Pt,Mt="squarify",Gt=.5*(1+Math.sqrt(5));function Yt(Dr,Nr){for(var jr=-1,un=Dr.length,vn,qr;++jr<un;)qr=(vn=Dr[jr]).value*(Nr<0?0:Nr),vn.area=isNaN(qr)||qr<=0?0:qr}function nr(Dr){var Nr=Dr.children;if(Nr&&Nr.length){var jr=rt(Dr),un=[],vn=Nr.slice(),qr,Vn=1/0,ea,fa=Mt==="slice"?jr.dx:Mt==="dice"?jr.dy:Mt==="slice-dice"?Dr.depth&1?jr.dy:jr.dx:Math.min(jr.dx,jr.dy),$n;for(Yt(vn,jr.dx*jr.dy/Dr.value),un.area=0;($n=vn.length)>0;)un.push(qr=vn[$n-1]),un.area+=qr.area,Mt!=="squarify"||(ea=Pr(un,fa))<=Vn?(vn.pop(),Vn=ea):(un.area-=un.pop().area,Jr(un,fa,jr,!1),fa=Math.min(jr.dx,jr.dy),un.length=un.area=0,Vn=1/0);un.length&&(Jr(un,fa,jr,!0),un.length=un.area=0),Nr.forEach(nr)}}function Cr(Dr){var Nr=Dr.children;if(Nr&&Nr.length){var jr=rt(Dr),un=Nr.slice(),vn,qr=[];for(Yt(un,jr.dx*jr.dy/Dr.value),qr.area=0;vn=un.pop();)qr.push(vn),qr.area+=vn.area,vn.z!=null&&(Jr(qr,vn.z?jr.dx:jr.dy,jr,!un.length),qr.length=qr.area=0);Nr.forEach(Cr)}}function Pr(Dr,Nr){for(var jr=Dr.area,un,vn=0,qr=1/0,Vn=-1,ea=Dr.length;++Vn<ea;)!(un=Dr[Vn].area)||(un<qr&&(qr=un),un>vn&&(vn=un));return jr*=jr,Nr*=Nr,jr?Math.max(Nr*vn*Gt/jr,jr/(Nr*qr*Gt)):1/0}function Jr(Dr,Nr,jr,un){var vn=-1,qr=Dr.length,Vn=jr.x,ea=jr.y,fa=Nr?Ce(Dr.area/Nr):0,$n;if(Nr==jr.dx){for((un||fa>jr.dy)&&(fa=jr.dy);++vn<qr;)$n=Dr[vn],$n.x=Vn,$n.y=ea,$n.dy=fa,Vn+=$n.dx=Math.min(jr.x+jr.dx-Vn,fa?Ce($n.area/fa):0);$n.z=!0,$n.dx+=jr.x+jr.dx-Vn,jr.y+=fa,jr.dy-=fa}else{for((un||fa>jr.dx)&&(fa=jr.dx);++vn<qr;)$n=Dr[vn],$n.x=Vn,$n.y=ea,$n.dx=fa,ea+=$n.dy=Math.min(jr.y+jr.dy-ea,fa?Ce($n.area/fa):0);$n.z=!1,$n.dy+=jr.y+jr.dy-ea,jr.x+=fa,jr.dx-=fa}}function on(Dr){var Nr=Pt||ue(Dr),jr=Nr[0];return jr.x=jr.y=0,jr.value?(jr.dx=Oe[0],jr.dy=Oe[1]):jr.dx=jr.dy=0,Pt&&ue.revalue(jr),Yt([jr],jr.dx*jr.dy/jr.value),(Pt?Cr:nr)(jr),st&&(Pt=Nr),Nr}return on.size=function(Dr){return arguments.length?(Oe=Dr,on):Oe},on.padding=function(Dr){if(!arguments.length)return Qe;function Nr(vn){var qr=Dr.call(on,vn,vn.depth);return qr==null?Pl(vn):qi(vn,typeof qr=="number"?[qr,qr,qr,qr]:qr)}function jr(vn){return qi(vn,Dr)}var un;return rt=(Qe=Dr)==null?Pl:(un=typeof Dr)=="function"?Nr:(un==="number"&&(Dr=[Dr,Dr,Dr,Dr]),jr),on},on.round=function(Dr){return arguments.length?(Ce=Dr?Math.round:Number,on):Ce!=Number},on.sticky=function(Dr){return arguments.length?(st=Dr,Pt=null,on):st},on.ratio=function(Dr){return arguments.length?(Gt=Dr,on):Gt},on.mode=function(Dr){return arguments.length?(Mt=Dr+"",on):Mt},Sl(on,ue)};function Pl(ue){return{x:ue.x,y:ue.y,dx:ue.dx,dy:ue.dy}}function qi(ue,Ce){var Oe=ue.x+Ce[3],Qe=ue.y+Ce[0],rt=ue.dx-Ce[1]-Ce[3],st=ue.dy-Ce[0]-Ce[2];return rt<0&&(Oe+=rt/2,rt=0),st<0&&(Qe+=st/2,st=0),{x:Oe,y:Qe,dx:rt,dy:st}}a.random={normal:function(ue,Ce){var Oe=arguments.length;return Oe<2&&(Ce=1),Oe<1&&(ue=0),function(){var Qe,rt,st;do Qe=Math.random()*2-1,rt=Math.random()*2-1,st=Qe*Qe+rt*rt;while(!st||st>1);return ue+Ce*Qe*Math.sqrt(-2*Math.log(st)/st)}},logNormal:function(){var ue=a.random.normal.apply(a,arguments);return function(){return Math.exp(ue())}},bates:function(ue){var Ce=a.random.irwinHall(ue);return function(){return Ce()/ue}},irwinHall:function(ue){return function(){for(var Ce=0,Oe=0;Oe<ue;Oe++)Ce+=Math.random();return Ce}}},a.scale={};function Fo(ue){var Ce=ue[0],Oe=ue[ue.length-1];return Ce<Oe?[Ce,Oe]:[Oe,Ce]}function Rl(ue){return ue.rangeExtent?ue.rangeExtent():Fo(ue.range())}function Bf(ue,Ce,Oe,Qe){var rt=Oe(ue[0],ue[1]),st=Qe(Ce[0],Ce[1]);return function(Pt){return st(rt(Pt))}}function ql(ue,Ce){var Oe=0,Qe=ue.length-1,rt=ue[Oe],st=ue[Qe],Pt;return st<rt&&(Pt=Oe,Oe=Qe,Qe=Pt,Pt=rt,rt=st,st=Pt),ue[Oe]=Ce.floor(rt),ue[Qe]=Ce.ceil(st),ue}function Es(ue){return ue?{floor:function(Ce){return Math.floor(Ce/ue)*ue},ceil:function(Ce){return Math.ceil(Ce/ue)*ue}}:Vc}var Vc={floor:F,ceil:F};function Nf(ue,Ce,Oe,Qe){var rt=[],st=[],Pt=0,Mt=Math.min(ue.length,Ce.length)-1;for(ue[Mt]<ue[0]&&(ue=ue.slice().reverse(),Ce=Ce.slice().reverse());++Pt<=Mt;)rt.push(Oe(ue[Pt-1],ue[Pt])),st.push(Qe(Ce[Pt-1],Ce[Pt]));return function(Gt){var Yt=a.bisect(ue,Gt,1,Mt)-1;return st[Yt](rt[Yt](Gt))}}a.scale.linear=function(){return Uf([0,1],[0,1],ao,!1)};function Uf(ue,Ce,Oe,Qe){var rt,st;function Pt(){var Gt=Math.min(ue.length,Ce.length)>2?Nf:Bf,Yt=Qe?Al:Yo;return rt=Gt(ue,Ce,Yt,Oe),st=Gt(Ce,ue,Yt,ao),Mt}function Mt(Gt){return rt(Gt)}return Mt.invert=function(Gt){return st(Gt)},Mt.domain=function(Gt){return arguments.length?(ue=Gt.map(Number),Pt()):ue},Mt.range=function(Gt){return arguments.length?(Ce=Gt,Pt()):Ce},Mt.rangeRound=function(Gt){return Mt.range(Gt).interpolate(Rf)},Mt.clamp=function(Gt){return arguments.length?(Qe=Gt,Pt()):Qe},Mt.interpolate=function(Gt){return arguments.length?(Oe=Gt,Pt()):Oe},Mt.ticks=function(Gt){return Qo(ue,Gt)},Mt.tickFormat=function(Gt,Yt){return d3_scale_linearTickFormat(ue,Gt,Yt)},Mt.nice=function(Gt){return Vf(ue,Gt),Pt()},Mt.copy=function(){return Uf(ue,Ce,Oe,Qe)},Pt()}function uf(ue,Ce){return a.rebind(ue,Ce,"range","rangeRound","interpolate","clamp")}function Vf(ue,Ce){return ql(ue,Es(wo(ue,Ce)[2])),ql(ue,Es(wo(ue,Ce)[2])),ue}function wo(ue,Ce){Ce==null&&(Ce=10);var Oe=Fo(ue),Qe=Oe[1]-Oe[0],rt=Math.pow(10,Math.floor(Math.log(Qe/Ce)/Math.LN10)),st=Ce/Qe*rt;return st<=.15?rt*=10:st<=.35?rt*=5:st<=.75&&(rt*=2),Oe[0]=Math.ceil(Oe[0]/rt)*rt,Oe[1]=Math.floor(Oe[1]/rt)*rt+rt*.5,Oe[2]=rt,Oe}function Qo(ue,Ce){return a.range.apply(a,wo(ue,Ce))}a.scale.log=function(){return Hs(a.scale.linear().domain([0,1]),10,!0,[1,10])};function Hs(ue,Ce,Oe,Qe){function rt(Mt){return(Oe?Math.log(Mt<0?0:Mt):-Math.log(Mt>0?0:-Mt))/Math.log(Ce)}function st(Mt){return Oe?Math.pow(Ce,Mt):-Math.pow(Ce,-Mt)}function Pt(Mt){return ue(rt(Mt))}return Pt.invert=function(Mt){return st(ue.invert(Mt))},Pt.domain=function(Mt){return arguments.length?(Oe=Mt[0]>=0,ue.domain((Qe=Mt.map(Number)).map(rt)),Pt):Qe},Pt.base=function(Mt){return arguments.length?(Ce=+Mt,ue.domain(Qe.map(rt)),Pt):Ce},Pt.nice=function(){var Mt=ql(Qe.map(rt),Oe?Math:Dl);return ue.domain(Mt),Qe=Mt.map(st),Pt},Pt.ticks=function(){var Mt=Fo(Qe),Gt=[],Yt=Mt[0],nr=Mt[1],Cr=Math.floor(rt(Yt)),Pr=Math.ceil(rt(nr)),Jr=Ce%1?2:Ce;if(isFinite(Pr-Cr)){if(Oe){for(;Cr<Pr;Cr++)for(var on=1;on<Jr;on++)Gt.push(st(Cr)*on);Gt.push(st(Cr))}else for(Gt.push(st(Cr));Cr++<Pr;)for(var on=Jr-1;on>0;on--)Gt.push(st(Cr)*on);for(Cr=0;Gt[Cr]<Yt;Cr++);for(Pr=Gt.length;Gt[Pr-1]>nr;Pr--);Gt=Gt.slice(Cr,Pr)}return Gt},Pt.copy=function(){return Hs(ue.copy(),Ce,Oe,Qe)},uf(Pt,ue)}var Dl={floor:function(ue){return-Math.ceil(-ue)},ceil:function(ue){return-Math.floor(-ue)}};a.scale.pow=function(){return Fu(a.scale.linear(),1,[0,1])};function Fu(ue,Ce,Oe){var Qe=il(Ce),rt=il(1/Ce);function st(Pt){return ue(Qe(Pt))}return st.invert=function(Pt){return rt(ue.invert(Pt))},st.domain=function(Pt){return arguments.length?(ue.domain((Oe=Pt.map(Number)).map(Qe)),st):Oe},st.ticks=function(Pt){return Qo(Oe,Pt)},st.tickFormat=function(Pt,Mt){return d3_scale_linearTickFormat(Oe,Pt,Mt)},st.nice=function(Pt){return st.domain(Vf(Oe,Pt))},st.exponent=function(Pt){return arguments.length?(Qe=il(Ce=Pt),rt=il(1/Ce),ue.domain(Oe.map(Qe)),st):Ce},st.copy=function(){return Fu(ue.copy(),Ce,Oe)},uf(st,ue)}function il(ue){return function(Ce){return Ce<0?-Math.pow(-Ce,ue):Math.pow(Ce,ue)}}a.scale.sqrt=function(){return a.scale.pow().exponent(.5)},a.scale.ordinal=function(){return ol([],{t:"range",a:[[]]})};function ol(ue,Ce){var Oe,Qe,rt;function st(Mt){return Qe[((Oe.get(Mt)||(Ce.t==="range"?Oe.set(Mt,ue.push(Mt)):NaN))-1)%Qe.length]}function Pt(Mt,Gt){return a.range(ue.length).map(function(Yt){return Mt+Gt*Yt})}return st.domain=function(Mt){if(!arguments.length)return ue;ue=[],Oe=new E;for(var Gt=-1,Yt=Mt.length,nr;++Gt<Yt;)Oe.has(nr=Mt[Gt])||Oe.set(nr,ue.push(nr));return st[Ce.t].apply(st,Ce.a)},st.range=function(Mt){return arguments.length?(Qe=Mt,rt=0,Ce={t:"range",a:arguments},st):Qe},st.rangePoints=function(Mt,Gt){arguments.length<2&&(Gt=0);var Yt=Mt[0],nr=Mt[1],Cr=ue.length<2?(Yt=(Yt+nr)/2,0):(nr-Yt)/(ue.length-1+Gt);return Qe=Pt(Yt+Cr*Gt/2,Cr),rt=0,Ce={t:"rangePoints",a:arguments},st},st.rangeRoundPoints=function(Mt,Gt){arguments.length<2&&(Gt=0);var Yt=Mt[0],nr=Mt[1],Cr=ue.length<2?(Yt=nr=Math.round((Yt+nr)/2),0):(nr-Yt)/(ue.length-1+Gt)|0;return Qe=Pt(Yt+Math.round(Cr*Gt/2+(nr-Yt-(ue.length-1+Gt)*Cr)/2),Cr),rt=0,Ce={t:"rangeRoundPoints",a:arguments},st},st.rangeBands=function(Mt,Gt,Yt){arguments.length<2&&(Gt=0),arguments.length<3&&(Yt=Gt);var nr=Mt[1]<Mt[0],Cr=Mt[nr-0],Pr=Mt[1-nr],Jr=(Pr-Cr)/(ue.length-Gt+2*Yt);return Qe=Pt(Cr+Jr*Yt,Jr),nr&&Qe.reverse(),rt=Jr*(1-Gt),Ce={t:"rangeBands",a:arguments},st},st.rangeRoundBands=function(Mt,Gt,Yt){arguments.length<2&&(Gt=0),arguments.length<3&&(Yt=Gt);var nr=Mt[1]<Mt[0],Cr=Mt[nr-0],Pr=Mt[1-nr],Jr=Math.floor((Pr-Cr)/(ue.length-Gt+2*Yt));return Qe=Pt(Cr+Math.round((Pr-Cr-(ue.length-Gt)*Jr)/2),Jr),nr&&Qe.reverse(),rt=Math.round(Jr*(1-Gt)),Ce={t:"rangeRoundBands",a:arguments},st},st.rangeBand=function(){return rt},st.rangeExtent=function(){return Fo(Ce.a[0])},st.copy=function(){return ol(ue,Ce)},st.domain(ue)}a.scale.category10=function(){return a.scale.ordinal().range(Hf)},a.scale.category20=function(){return a.scale.ordinal().range(Cs)},a.scale.category20b=function(){return a.scale.ordinal().range(Il)},a.scale.category20c=function(){return a.scale.ordinal().range(Gs)};var Hf=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(Bt),Cs=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(Bt),Il=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(Bt),Gs=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(Bt);a.scale.quantile=function(){return Ls([],[])};function Ls(ue,Ce){var Oe;function Qe(){var st=0,Pt=Ce.length;for(Oe=[];++st<Pt;)Oe[st-1]=a.quantile(ue,st/Pt);return rt}function rt(st){if(!isNaN(st=+st))return Ce[a.bisect(Oe,st)]}return rt.domain=function(st){return arguments.length?(ue=st.map(m).filter(h).sort(l),Qe()):ue},rt.range=function(st){return arguments.length?(Ce=st,Qe()):Ce},rt.quantiles=function(){return Oe},rt.invertExtent=function(st){return st=Ce.indexOf(st),st<0?[NaN,NaN]:[st>0?Oe[st-1]:ue[0],st<Oe.length?Oe[st]:ue[ue.length-1]]},rt.copy=function(){return Ls(ue,Ce)},Qe()}a.scale.quantize=function(){return eu(0,1,[0,1])};function eu(ue,Ce,Oe){var Qe,rt;function st(Mt){return Oe[Math.max(0,Math.min(rt,Math.floor(Qe*(Mt-ue))))]}function Pt(){return Qe=Oe.length/(Ce-ue),rt=Oe.length-1,st}return st.domain=function(Mt){return arguments.length?(ue=+Mt[0],Ce=+Mt[Mt.length-1],Pt()):[ue,Ce]},st.range=function(Mt){return arguments.length?(Oe=Mt,Pt()):Oe},st.invertExtent=function(Mt){return Mt=Oe.indexOf(Mt),Mt=Mt<0?NaN:Mt/Qe+ue,[Mt,Mt+1/Qe]},st.copy=function(){return eu(ue,Ce,Oe)},Pt()}a.scale.threshold=function(){return _l([.5],[0,1])};function _l(ue,Ce){function Oe(Qe){if(Qe<=Qe)return Ce[a.bisect(ue,Qe)]}return Oe.domain=function(Qe){return arguments.length?(ue=Qe,Oe):ue},Oe.range=function(Qe){return arguments.length?(Ce=Qe,Oe):Ce},Oe.invertExtent=function(Qe){return Qe=Ce.indexOf(Qe),[ue[Qe-1],ue[Qe]]},Oe.copy=function(){return _l(ue,Ce)},Oe}a.scale.identity=function(){return hi([0,1])};function hi(ue){function Ce(Oe){return+Oe}return Ce.invert=Ce,Ce.domain=Ce.range=function(Oe){return arguments.length?(ue=Oe.map(Ce),Ce):ue},Ce.ticks=function(Oe){return Qo(ue,Oe)},Ce.tickFormat=function(Oe,Qe){return d3_scale_linearTickFormat(ue,Oe,Qe)},Ce.copy=function(){return hi(ue)},Ce}a.svg={};function kl(){return 0}a.svg.arc=function(){var ue=Gf,Ce=Fl,Oe=kl,Qe=zu,rt=tu,st=Ou,Pt=ff;function Mt(){var Yt=Math.max(0,+ue.apply(this,arguments)),nr=Math.max(0,+Ce.apply(this,arguments)),Cr=rt.apply(this,arguments)-et,Pr=st.apply(this,arguments)-et,Jr=Math.abs(Pr-Cr),on=Cr>Pr?0:1;if(nr<Yt&&(Dr=nr,nr=Yt,Yt=Dr),Jr>=Xe)return Gt(nr,on)+(Yt?Gt(Yt,1-on):"")+"Z";var Dr,Nr,jr,un,vn=0,qr=0,Vn,ea,fa,$n,ia,ca,Oa,Sa,_a=[];if((un=(+Pt.apply(this,arguments)||0)/2)&&(jr=Qe===zu?Math.sqrt(Yt*Yt+nr*nr):+Qe.apply(this,arguments),on||(qr*=-1),nr&&(qr=jt(jr/nr*Math.sin(un))),Yt&&(vn=jt(jr/Yt*Math.sin(un)))),nr){Vn=nr*Math.cos(Cr+qr),ea=nr*Math.sin(Cr+qr),fa=nr*Math.cos(Pr-qr),$n=nr*Math.sin(Pr-qr);var ai=Math.abs(Pr-Cr-2*qr)<=Te?0:1;if(qr&&ru(Vn,ea,fa,$n)===on^ai){var Bi=(Cr+Pr)/2;Vn=nr*Math.cos(Bi),ea=nr*Math.sin(Bi),fa=$n=null}}else Vn=ea=0;if(Yt){ia=Yt*Math.cos(Pr-vn),ca=Yt*Math.sin(Pr-vn),Oa=Yt*Math.cos(Cr+vn),Sa=Yt*Math.sin(Cr+vn);var fi=Math.abs(Cr-Pr+2*vn)<=Te?0:1;if(vn&&ru(ia,ca,Oa,Sa)===1-on^fi){var Kn=(Cr+Pr)/2;ia=Yt*Math.cos(Kn),ca=Yt*Math.sin(Kn),Oa=Sa=null}}else ia=ca=0;if(Jr>ge&&(Dr=Math.min(Math.abs(nr-Yt)/2,+Oe.apply(this,arguments)))>.001){Nr=Yt<nr^on?0:1;var Ua=Dr,Aa=Dr;if(Jr<Te){var ja=Oa==null?[ia,ca]:fa==null?[Vn,ea]:dn([Vn,ea],[Oa,Sa],[fa,$n],[ia,ca]),bi=Vn-ja[0],ii=ea-ja[1],eo=fa-ja[0],to=$n-ja[1],io=1/Math.sin(Math.acos((bi*eo+ii*to)/(Math.sqrt(bi*bi+ii*ii)*Math.sqrt(eo*eo+to*to)))/2),wi=Math.sqrt(ja[0]*ja[0]+ja[1]*ja[1]);Aa=Math.min(Dr,(Yt-wi)/(io-1)),Ua=Math.min(Dr,(nr-wi)/(io+1))}if(fa!=null){var go=nu(Oa==null?[ia,ca]:[Oa,Sa],[Vn,ea],nr,Ua,on),sa=nu([fa,$n],[ia,ca],nr,Ua,on);Dr===Ua?_a.push("M",go[0],"A",Ua,",",Ua," 0 0,",Nr," ",go[1],"A",nr,",",nr," 0 ",1-on^ru(go[1][0],go[1][1],sa[1][0],sa[1][1]),",",on," ",sa[1],"A",Ua,",",Ua," 0 0,",Nr," ",sa[0]):_a.push("M",go[0],"A",Ua,",",Ua," 0 1,",Nr," ",sa[0])}else _a.push("M",Vn,",",ea);if(Oa!=null){var Ca=nu([Vn,ea],[Oa,Sa],Yt,-Aa,on),Do=nu([ia,ca],fa==null?[Vn,ea]:[fa,$n],Yt,-Aa,on);Dr===Aa?_a.push("L",Do[0],"A",Aa,",",Aa," 0 0,",Nr," ",Do[1],"A",Yt,",",Yt," 0 ",on^ru(Do[1][0],Do[1][1],Ca[1][0],Ca[1][1]),",",1-on," ",Ca[1],"A",Aa,",",Aa," 0 0,",Nr," ",Ca[0]):_a.push("L",Do[0],"A",Aa,",",Aa," 0 0,",Nr," ",Ca[0])}else _a.push("L",ia,",",ca)}else _a.push("M",Vn,",",ea),fa!=null&&_a.push("A",nr,",",nr," 0 ",ai,",",on," ",fa,",",$n),_a.push("L",ia,",",ca),Oa!=null&&_a.push("A",Yt,",",Yt," 0 ",fi,",",1-on," ",Oa,",",Sa);return _a.push("Z"),_a.join("")}function Gt(Yt,nr){return"M0,"+Yt+"A"+Yt+","+Yt+" 0 1,"+nr+" 0,"+-Yt+"A"+Yt+","+Yt+" 0 1,"+nr+" 0,"+Yt}return Mt.innerRadius=function(Yt){return arguments.length?(ue=rn(Yt),Mt):ue},Mt.outerRadius=function(Yt){return arguments.length?(Ce=rn(Yt),Mt):Ce},Mt.cornerRadius=function(Yt){return arguments.length?(Oe=rn(Yt),Mt):Oe},Mt.padRadius=function(Yt){return arguments.length?(Qe=Yt==zu?zu:rn(Yt),Mt):Qe},Mt.startAngle=function(Yt){return arguments.length?(rt=rn(Yt),Mt):rt},Mt.endAngle=function(Yt){return arguments.length?(st=rn(Yt),Mt):st},Mt.padAngle=function(Yt){return arguments.length?(Pt=rn(Yt),Mt):Pt},Mt.centroid=function(){var Yt=(+ue.apply(this,arguments)+ +Ce.apply(this,arguments))/2,nr=(+rt.apply(this,arguments)+ +st.apply(this,arguments))/2-et;return[Math.cos(nr)*Yt,Math.sin(nr)*Yt]},Mt};var zu="auto";function Gf(ue){return ue.innerRadius}function Fl(ue){return ue.outerRadius}function tu(ue){return ue.startAngle}function Ou(ue){return ue.endAngle}function ff(ue){return ue&&ue.padAngle}function ru(ue,Ce,Oe,Qe){return(ue-Oe)*Ce-(Ce-Qe)*ue>0?0:1}function nu(ue,Ce,Oe,Qe,rt){var st=ue[0]-Ce[0],Pt=ue[1]-Ce[1],Mt=(rt?Qe:-Qe)/Math.sqrt(st*st+Pt*Pt),Gt=Mt*Pt,Yt=-Mt*st,nr=ue[0]+Gt,Cr=ue[1]+Yt,Pr=Ce[0]+Gt,Jr=Ce[1]+Yt,on=(nr+Pr)/2,Dr=(Cr+Jr)/2,Nr=Pr-nr,jr=Jr-Cr,un=Nr*Nr+jr*jr,vn=Oe-Qe,qr=nr*Jr-Pr*Cr,Vn=(jr<0?-1:1)*Math.sqrt(Math.max(0,vn*vn*un-qr*qr)),ea=(qr*jr-Nr*Vn)/un,fa=(-qr*Nr-jr*Vn)/un,$n=(qr*jr+Nr*Vn)/un,ia=(-qr*Nr+jr*Vn)/un,ca=ea-on,Oa=fa-Dr,Sa=$n-on,_a=ia-Dr;return ca*ca+Oa*Oa>Sa*Sa+_a*_a&&(ea=$n,fa=ia),[[ea-Gt,fa-Yt],[ea*Oe/vn,fa*Oe/vn]]}function Ws(){return!0}function au(ue){var Ce=pa,Oe=ua,Qe=Ws,rt=Wi,st=rt.key,Pt=.7;function Mt(Gt){var Yt=[],nr=[],Cr=-1,Pr=Gt.length,Jr,on=rn(Ce),Dr=rn(Oe);function Nr(){Yt.push("M",rt(ue(nr),Pt))}for(;++Cr<Pr;)Qe.call(this,Jr=Gt[Cr],Cr)?nr.push([+on.call(this,Jr,Cr),+Dr.call(this,Jr,Cr)]):nr.length&&(Nr(),nr=[]);return nr.length&&Nr(),Yt.length?Yt.join(""):null}return Mt.x=function(Gt){return arguments.length?(Ce=Gt,Mt):Ce},Mt.y=function(Gt){return arguments.length?(Oe=Gt,Mt):Oe},Mt.defined=function(Gt){return arguments.length?(Qe=Gt,Mt):Qe},Mt.interpolate=function(Gt){return arguments.length?(typeof Gt=="function"?st=rt=Gt:st=(rt=Ys.get(Gt)||Wi).key,Mt):st},Mt.tension=function(Gt){return arguments.length?(Pt=Gt,Mt):Pt},Mt}a.svg.line=function(){return au(F)};var Ys=a.map({linear:Wi,"linear-closed":hs,step:cf,"step-before":sl,"step-after":Bu,basis:zl,"basis-open":Yf,"basis-closed":Xs,bundle:Gc,cardinal:Wf,"cardinal-open":iu,"cardinal-closed":Hc,monotone:Uu});Ys.forEach(function(ue,Ce){Ce.key=ue,Ce.closed=/-closed$/.test(ue)});function Wi(ue){return ue.length>1?ue.join("L"):ue+"Z"}function hs(ue){return ue.join("L")+"Z"}function cf(ue){for(var Ce=0,Oe=ue.length,Qe=ue[0],rt=[Qe[0],",",Qe[1]];++Ce<Oe;)rt.push("H",(Qe[0]+(Qe=ue[Ce])[0])/2,"V",Qe[1]);return Oe>1&&rt.push("H",Qe[0]),rt.join("")}function sl(ue){for(var Ce=0,Oe=ue.length,Qe=ue[0],rt=[Qe[0],",",Qe[1]];++Ce<Oe;)rt.push("V",(Qe=ue[Ce])[1],"H",Qe[0]);return rt.join("")}function Bu(ue){for(var Ce=0,Oe=ue.length,Qe=ue[0],rt=[Qe[0],",",Qe[1]];++Ce<Oe;)rt.push("H",(Qe=ue[Ce])[0],"V",Qe[1]);return rt.join("")}function iu(ue,Ce){return ue.length<4?Wi(ue):ue[1]+po(ue.slice(1,-1),ou(ue,Ce))}function Hc(ue,Ce){return ue.length<3?hs(ue):ue[0]+po((ue.push(ue[0]),ue),ou([ue[ue.length-2]].concat(ue,[ue[1]]),Ce))}function Wf(ue,Ce){return ue.length<3?Wi(ue):ue[0]+po(ue,ou(ue,Ce))}function po(ue,Ce){if(Ce.length<1||ue.length!=Ce.length&&ue.length!=Ce.length+2)return Wi(ue);var Oe=ue.length!=Ce.length,Qe="",rt=ue[0],st=ue[1],Pt=Ce[0],Mt=Pt,Gt=1;if(Oe&&(Qe+="Q"+(st[0]-Pt[0]*2/3)+","+(st[1]-Pt[1]*2/3)+","+st[0]+","+st[1],rt=ue[1],Gt=2),Ce.length>1){Mt=Ce[1],st=ue[Gt],Gt++,Qe+="C"+(rt[0]+Pt[0])+","+(rt[1]+Pt[1])+","+(st[0]-Mt[0])+","+(st[1]-Mt[1])+","+st[0]+","+st[1];for(var Yt=2;Yt<Ce.length;Yt++,Gt++)st=ue[Gt],Mt=Ce[Yt],Qe+="S"+(st[0]-Mt[0])+","+(st[1]-Mt[1])+","+st[0]+","+st[1]}if(Oe){var nr=ue[Gt];Qe+="Q"+(st[0]+Mt[0]*2/3)+","+(st[1]+Mt[1]*2/3)+","+nr[0]+","+nr[1]}return Qe}function ou(ue,Ce){for(var Oe=[],Qe=(1-Ce)/2,rt,st=ue[0],Pt=ue[1],Mt=1,Gt=ue.length;++Mt<Gt;)rt=st,st=Pt,Pt=ue[Mt],Oe.push([Qe*(Pt[0]-rt[0]),Qe*(Pt[1]-rt[1])]);return Oe}function zl(ue){if(ue.length<3)return Wi(ue);var Ce=1,Oe=ue.length,Qe=ue[0],rt=Qe[0],st=Qe[1],Pt=[rt,rt,rt,(Qe=ue[1])[0]],Mt=[st,st,st,Qe[1]],Gt=[rt,",",st,"L",Ro(Ps,Pt),",",Ro(Ps,Mt)];for(ue.push(ue[Oe-1]);++Ce<=Oe;)Qe=ue[Ce],Pt.shift(),Pt.push(Qe[0]),Mt.shift(),Mt.push(Qe[1]),Zs(Gt,Pt,Mt);return ue.pop(),Gt.push("L",Qe),Gt.join("")}function Yf(ue){if(ue.length<4)return Wi(ue);for(var Ce=[],Oe=-1,Qe=ue.length,rt,st=[0],Pt=[0];++Oe<3;)rt=ue[Oe],st.push(rt[0]),Pt.push(rt[1]);for(Ce.push(Ro(Ps,st)+","+Ro(Ps,Pt)),--Oe;++Oe<Qe;)rt=ue[Oe],st.shift(),st.push(rt[0]),Pt.shift(),Pt.push(rt[1]),Zs(Ce,st,Pt);return Ce.join("")}function Xs(ue){for(var Ce,Oe=-1,Qe=ue.length,rt=Qe+4,st,Pt=[],Mt=[];++Oe<4;)st=ue[Oe%Qe],Pt.push(st[0]),Mt.push(st[1]);for(Ce=[Ro(Ps,Pt),",",Ro(Ps,Mt)],--Oe;++Oe<rt;)st=ue[Oe%Qe],Pt.shift(),Pt.push(st[0]),Mt.shift(),Mt.push(st[1]),Zs(Ce,Pt,Mt);return Ce.join("")}function Gc(ue,Ce){var Oe=ue.length-1;if(Oe)for(var Qe=ue[0][0],rt=ue[0][1],st=ue[Oe][0]-Qe,Pt=ue[Oe][1]-rt,Mt=-1,Gt,Yt;++Mt<=Oe;)Gt=ue[Mt],Yt=Mt/Oe,Gt[0]=Ce*Gt[0]+(1-Ce)*(Qe+Yt*st),Gt[1]=Ce*Gt[1]+(1-Ce)*(rt+Yt*Pt);return zl(ue)}function Ro(ue,Ce){return ue[0]*Ce[0]+ue[1]*Ce[1]+ue[2]*Ce[2]+ue[3]*Ce[3]}var su=[0,2/3,1/3,0],Nu=[0,1/3,2/3,0],Ps=[0,1/6,2/3,1/6];function Zs(ue,Ce,Oe){ue.push("C",Ro(su,Ce),",",Ro(su,Oe),",",Ro(Nu,Ce),",",Ro(Nu,Oe),",",Ro(Ps,Ce),",",Ro(Ps,Oe))}function hf(ue,Ce){return(Ce[1]-ue[1])/(Ce[0]-ue[0])}function lu(ue){for(var Ce=0,Oe=ue.length-1,Qe=[],rt=ue[0],st=ue[1],Pt=Qe[0]=hf(rt,st);++Ce<Oe;)Qe[Ce]=(Pt+(Pt=hf(rt=st,st=ue[Ce+1])))/2;return Qe[Ce]=Pt,Qe}function uu(ue){for(var Ce=[],Oe,Qe,rt,st,Pt=lu(ue),Mt=-1,Gt=ue.length-1;++Mt<Gt;)Oe=hf(ue[Mt],ue[Mt+1]),d(Oe)<ge?Pt[Mt]=Pt[Mt+1]=0:(Qe=Pt[Mt]/Oe,rt=Pt[Mt+1]/Oe,st=Qe*Qe+rt*rt,st>9&&(st=Oe*3/Math.sqrt(st),Pt[Mt]=st*Qe,Pt[Mt+1]=st*rt));for(Mt=-1;++Mt<=Gt;)st=(ue[Math.min(Gt,Mt+1)][0]-ue[Math.max(0,Mt-1)][0])/(6*(1+Pt[Mt]*Pt[Mt])),Ce.push([st||0,Pt[Mt]*st||0]);return Ce}function Uu(ue){return ue.length<3?Wi(ue):ue[0]+po(ue,uu(ue))}a.svg.line.radial=function(){var ue=au(Xf);return ue.radius=ue.x,delete ue.x,ue.angle=ue.y,delete ue.y,ue};function Xf(ue){for(var Ce,Oe=-1,Qe=ue.length,rt,st;++Oe<Qe;)Ce=ue[Oe],rt=Ce[0],st=Ce[1]-et,Ce[0]=rt*Math.cos(st),Ce[1]=rt*Math.sin(st);return ue}function fu(ue){var Ce=pa,Oe=pa,Qe=0,rt=ua,st=Ws,Pt=Wi,Mt=Pt.key,Gt=Pt,Yt="L",nr=.7;function Cr(Pr){var Jr=[],on=[],Dr=[],Nr=-1,jr=Pr.length,un,vn=rn(Ce),qr=rn(Qe),Vn=Ce===Oe?function(){return fa}:rn(Oe),ea=Qe===rt?function(){return $n}:rn(rt),fa,$n;function ia(){Jr.push("M",Pt(ue(Dr),nr),Yt,Gt(ue(on.reverse()),nr),"Z")}for(;++Nr<jr;)st.call(this,un=Pr[Nr],Nr)?(on.push([fa=+vn.call(this,un,Nr),$n=+qr.call(this,un,Nr)]),Dr.push([+Vn.call(this,un,Nr),+ea.call(this,un,Nr)])):on.length&&(ia(),on=[],Dr=[]);return on.length&&ia(),Jr.length?Jr.join(""):null}return Cr.x=function(Pr){return arguments.length?(Ce=Oe=Pr,Cr):Oe},Cr.x0=function(Pr){return arguments.length?(Ce=Pr,Cr):Ce},Cr.x1=function(Pr){return arguments.length?(Oe=Pr,Cr):Oe},Cr.y=function(Pr){return arguments.length?(Qe=rt=Pr,Cr):rt},Cr.y0=function(Pr){return arguments.length?(Qe=Pr,Cr):Qe},Cr.y1=function(Pr){return arguments.length?(rt=Pr,Cr):rt},Cr.defined=function(Pr){return arguments.length?(st=Pr,Cr):st},Cr.interpolate=function(Pr){return arguments.length?(typeof Pr=="function"?Mt=Pt=Pr:Mt=(Pt=Ys.get(Pr)||Wi).key,Gt=Pt.reverse||Pt,Yt=Pt.closed?"M":"L",Cr):Mt},Cr.tension=function(Pr){return arguments.length?(nr=Pr,Cr):nr},Cr}sl.reverse=Bu,Bu.reverse=sl,a.svg.area=function(){return fu(F)},a.svg.area.radial=function(){var ue=fu(Xf);return ue.radius=ue.x,delete ue.x,ue.innerRadius=ue.x0,delete ue.x0,ue.outerRadius=ue.x1,delete ue.x1,ue.angle=ue.y,delete ue.y,ue.startAngle=ue.y0,delete ue.y0,ue.endAngle=ue.y1,delete ue.y1,ue};function vf(ue){return ue.source}function ll(ue){return ue.target}a.svg.chord=function(){var ue=vf,Ce=ll,Oe=df,Qe=tu,rt=Ou;function st(nr,Cr){var Pr=Pt(this,ue,nr,Cr),Jr=Pt(this,Ce,nr,Cr);return"M"+Pr.p0+Gt(Pr.r,Pr.p1,Pr.a1-Pr.a0)+(Mt(Pr,Jr)?Yt(Pr.r,Pr.p1,Pr.r,Pr.p0):Yt(Pr.r,Pr.p1,Jr.r,Jr.p0)+Gt(Jr.r,Jr.p1,Jr.a1-Jr.a0)+Yt(Jr.r,Jr.p1,Pr.r,Pr.p0))+"Z"}function Pt(nr,Cr,Pr,Jr){var on=Cr.call(nr,Pr,Jr),Dr=Oe.call(nr,on,Jr),Nr=Qe.call(nr,on,Jr)-et,jr=rt.call(nr,on,Jr)-et;return{r:Dr,a0:Nr,a1:jr,p0:[Dr*Math.cos(Nr),Dr*Math.sin(Nr)],p1:[Dr*Math.cos(jr),Dr*Math.sin(jr)]}}function Mt(nr,Cr){return nr.a0==Cr.a0&&nr.a1==Cr.a1}function Gt(nr,Cr,Pr){return"A"+nr+","+nr+" 0 "+ +(Pr>Te)+",1 "+Cr}function Yt(nr,Cr,Pr,Jr){return"Q 0,0 "+Jr}return st.radius=function(nr){return arguments.length?(Oe=rn(nr),st):Oe},st.source=function(nr){return arguments.length?(ue=rn(nr),st):ue},st.target=function(nr){return arguments.length?(Ce=rn(nr),st):Ce},st.startAngle=function(nr){return arguments.length?(Qe=rn(nr),st):Qe},st.endAngle=function(nr){return arguments.length?(rt=rn(nr),st):rt},st};function df(ue){return ue.radius}a.svg.diagonal=function(){var ue=vf,Ce=ll,Oe=cu;function Qe(rt,st){var Pt=ue.call(this,rt,st),Mt=Ce.call(this,rt,st),Gt=(Pt.y+Mt.y)/2,Yt=[Pt,{x:Pt.x,y:Gt},{x:Mt.x,y:Gt},Mt];return Yt=Yt.map(Oe),"M"+Yt[0]+"C"+Yt[1]+" "+Yt[2]+" "+Yt[3]}return Qe.source=function(rt){return arguments.length?(ue=rn(rt),Qe):ue},Qe.target=function(rt){return arguments.length?(Ce=rn(rt),Qe):Ce},Qe.projection=function(rt){return arguments.length?(Oe=rt,Qe):Oe},Qe};function cu(ue){return[ue.x,ue.y]}a.svg.diagonal.radial=function(){var ue=a.svg.diagonal(),Ce=cu,Oe=ue.projection;return ue.projection=function(Qe){return arguments.length?Oe(Zf(Ce=Qe)):Ce},ue};function Zf(ue){return function(){var Ce=ue.apply(this,arguments),Oe=Ce[0],Qe=Ce[1]-et;return[Oe*Math.cos(Qe),Oe*Math.sin(Qe)]}}a.svg.symbol=function(){var ue=nt,Ce=Ke;function Oe(Qe,rt){return(wt.get(ue.call(this,Qe,rt))||gt)(Ce.call(this,Qe,rt))}return Oe.type=function(Qe){return arguments.length?(ue=rn(Qe),Oe):ue},Oe.size=function(Qe){return arguments.length?(Ce=rn(Qe),Oe):Ce},Oe};function Ke(){return 64}function nt(){return"circle"}function gt(ue){var Ce=Math.sqrt(ue/Te);return"M0,"+Ce+"A"+Ce+","+Ce+" 0 1,1 0,"+-Ce+"A"+Ce+","+Ce+" 0 1,1 0,"+Ce+"Z"}var wt=a.map({circle:gt,cross:function(ue){var Ce=Math.sqrt(ue/5)/2;return"M"+-3*Ce+","+-Ce+"H"+-Ce+"V"+-3*Ce+"H"+Ce+"V"+-Ce+"H"+3*Ce+"V"+Ce+"H"+Ce+"V"+3*Ce+"H"+-Ce+"V"+Ce+"H"+-3*Ce+"Z"},diamond:function(ue){var Ce=Math.sqrt(ue/(2*_t)),Oe=Ce*_t;return"M0,"+-Ce+"L"+Oe+",0 0,"+Ce+" "+-Oe+",0Z"},square:function(ue){var Ce=Math.sqrt(ue)/2;return"M"+-Ce+","+-Ce+"L"+Ce+","+-Ce+" "+Ce+","+Ce+" "+-Ce+","+Ce+"Z"},"triangle-down":function(ue){var Ce=Math.sqrt(ue/zt),Oe=Ce*zt/2;return"M0,"+Oe+"L"+Ce+","+-Oe+" "+-Ce+","+-Oe+"Z"},"triangle-up":function(ue){var Ce=Math.sqrt(ue/zt),Oe=Ce*zt/2;return"M0,"+-Oe+"L"+Ce+","+Oe+" "+-Ce+","+Oe+"Z"}});a.svg.symbolTypes=wt.keys();var zt=Math.sqrt(3),_t=Math.tan(30*ut);j.transition=function(ue){for(var Ce=_r||++Mr,Oe=Dn(ue),Qe=[],rt,st,Pt=Br||{time:Date.now(),ease:qu,delay:0,duration:250},Mt=-1,Gt=this.length;++Mt<Gt;){Qe.push(rt=[]);for(var Yt=this[Mt],nr=-1,Cr=Yt.length;++nr<Cr;)(st=Yt[nr])&&In(st,nr,Oe,Ce,Pt),rt.push(st)}return xr(Qe,Oe,Ce)},j.interrupt=function(ue){return this.each(ue==null?Ut:pr(Dn(ue)))};var Ut=pr(Dn());function pr(ue){return function(){var Ce,Oe,Qe;(Ce=this[ue])&&(Qe=Ce[Oe=Ce.active])&&(Qe.timer.c=null,Qe.timer.t=NaN,--Ce.count?delete Ce[Oe]:delete this[ue],Ce.active+=.5,Qe.event&&Qe.event.interrupt.call(this,this.__data__,Qe.index))}}function xr(ue,Ce,Oe){return te(ue,or),ue.namespace=Ce,ue.id=Oe,ue}var or=[],Mr=0,_r,Br;or.call=j.call,or.empty=j.empty,or.node=j.node,or.size=j.size,a.transition=function(ue,Ce){return ue&&ue.transition?_r?ue.transition(Ce):ue:a.selection().transition(ue)},a.transition.prototype=or,or.select=function(ue){var Ce=this.id,Oe=this.namespace,Qe=[],rt,st,Pt;ue=se(ue);for(var Mt=-1,Gt=this.length;++Mt<Gt;){Qe.push(rt=[]);for(var Yt=this[Mt],nr=-1,Cr=Yt.length;++nr<Cr;)(Pt=Yt[nr])&&(st=ue.call(Pt,Pt.__data__,nr,Mt))?("__data__"in Pt&&(st.__data__=Pt.__data__),In(st,nr,Oe,Ce,Pt[Oe][Ce]),rt.push(st)):rt.push(null)}return xr(Qe,Oe,Ce)},or.selectAll=function(ue){var Ce=this.id,Oe=this.namespace,Qe=[],rt,st,Pt,Mt,Gt;ue=ne(ue);for(var Yt=-1,nr=this.length;++Yt<nr;)for(var Cr=this[Yt],Pr=-1,Jr=Cr.length;++Pr<Jr;)if(Pt=Cr[Pr]){Gt=Pt[Oe][Ce],st=ue.call(Pt,Pt.__data__,Pr,Yt),Qe.push(rt=[]);for(var on=-1,Dr=st.length;++on<Dr;)(Mt=st[on])&&In(Mt,on,Oe,Ce,Gt),rt.push(Mt)}return xr(Qe,Oe,Ce)},or.filter=function(ue){var Ce=[],Oe,Qe,rt;typeof ue!="function"&&(ue=it(ue));for(var st=0,Pt=this.length;st<Pt;st++){Ce.push(Oe=[]);for(var Qe=this[st],Mt=0,Gt=Qe.length;Mt<Gt;Mt++)(rt=Qe[Mt])&&ue.call(rt,rt.__data__,Mt,st)&&Oe.push(rt)}return xr(Ce,this.namespace,this.id)},or.tween=function(ue,Ce){var Oe=this.id,Qe=this.namespace;return arguments.length<2?this.node()[Qe][Oe].tween.get(ue):$e(this,Ce==null?function(rt){rt[Qe][Oe].tween.remove(ue)}:function(rt){rt[Qe][Oe].tween.set(ue,Ce)})};function tn(ue,Ce,Oe,Qe){var rt=ue.id,st=ue.namespace;return $e(ue,typeof Oe=="function"?function(Pt,Mt,Gt){Pt[st][rt].tween.set(Ce,Qe(Oe.call(Pt,Pt.__data__,Mt,Gt)))}:(Oe=Qe(Oe),function(Pt){Pt[st][rt].tween.set(Ce,Oe)}))}or.attr=function(ue,Ce){if(arguments.length<2){for(Ce in ue)this.attr(Ce,ue[Ce]);return this}var Oe=ue=="transform"?Lu:ao,Qe=a.ns.qualify(ue);function rt(){this.removeAttribute(Qe)}function st(){this.removeAttributeNS(Qe.space,Qe.local)}function Pt(Gt){return Gt==null?rt:(Gt+="",function(){var Yt=this.getAttribute(Qe),nr;return Yt!==Gt&&(nr=Oe(Yt,Gt),function(Cr){this.setAttribute(Qe,nr(Cr))})})}function Mt(Gt){return Gt==null?st:(Gt+="",function(){var Yt=this.getAttributeNS(Qe.space,Qe.local),nr;return Yt!==Gt&&(nr=Oe(Yt,Gt),function(Cr){this.setAttributeNS(Qe.space,Qe.local,nr(Cr))})})}return tn(this,"attr."+ue,Ce,Qe.local?Mt:Pt)},or.attrTween=function(ue,Ce){var Oe=a.ns.qualify(ue);function Qe(st,Pt){var Mt=Ce.call(this,st,Pt,this.getAttribute(Oe));return Mt&&function(Gt){this.setAttribute(Oe,Mt(Gt))}}function rt(st,Pt){var Mt=Ce.call(this,st,Pt,this.getAttributeNS(Oe.space,Oe.local));return Mt&&function(Gt){this.setAttributeNS(Oe.space,Oe.local,Mt(Gt))}}return this.tween("attr."+ue,Oe.local?rt:Qe)},or.style=function(ue,Ce,Oe){var Qe=arguments.length;if(Qe<3){if(typeof ue!="string"){Qe<2&&(Ce="");for(Oe in ue)this.style(Oe,ue[Oe],Ce);return this}Oe=""}function rt(){this.style.removeProperty(ue)}function st(Pt){return Pt==null?rt:(Pt+="",function(){var Mt=r(this).getComputedStyle(this,null).getPropertyValue(ue),Gt;return Mt!==Pt&&(Gt=ao(Mt,Pt),function(Yt){this.style.setProperty(ue,Gt(Yt),Oe)})})}return tn(this,"style."+ue,Ce,st)},or.styleTween=function(ue,Ce,Oe){arguments.length<3&&(Oe="");function Qe(rt,st){var Pt=Ce.call(this,rt,st,r(this).getComputedStyle(this,null).getPropertyValue(ue));return Pt&&function(Mt){this.style.setProperty(ue,Pt(Mt),Oe)}}return this.tween("style."+ue,Qe)},or.text=function(ue){return tn(this,"text",ue,mn)};function mn(ue){return ue==null&&(ue=""),function(){this.textContent=ue}}or.remove=function(){var ue=this.namespace;return this.each("end.transition",function(){var Ce;this[ue].count<2&&(Ce=this.parentNode)&&Ce.removeChild(this)})},or.ease=function(ue){var Ce=this.id,Oe=this.namespace;return arguments.length<1?this.node()[Oe][Ce].ease:(typeof ue!="function"&&(ue=a.ease.apply(a,arguments)),$e(this,function(Qe){Qe[Oe][Ce].ease=ue}))},or.delay=function(ue){var Ce=this.id,Oe=this.namespace;return arguments.length<1?this.node()[Oe][Ce].delay:$e(this,typeof ue=="function"?function(Qe,rt,st){Qe[Oe][Ce].delay=+ue.call(Qe,Qe.__data__,rt,st)}:(ue=+ue,function(Qe){Qe[Oe][Ce].delay=ue}))},or.duration=function(ue){var Ce=this.id,Oe=this.namespace;return arguments.length<1?this.node()[Oe][Ce].duration:$e(this,typeof ue=="function"?function(Qe,rt,st){Qe[Oe][Ce].duration=Math.max(1,ue.call(Qe,Qe.__data__,rt,st))}:(ue=Math.max(1,ue),function(Qe){Qe[Oe][Ce].duration=ue}))},or.each=function(ue,Ce){var Oe=this.id,Qe=this.namespace;if(arguments.length<2){var rt=Br,st=_r;try{_r=Oe,$e(this,function(Pt,Mt,Gt){Br=Pt[Qe][Oe],ue.call(Pt,Pt.__data__,Mt,Gt)})}finally{Br=rt,_r=st}}else $e(this,function(Pt){var Mt=Pt[Qe][Oe];(Mt.event||(Mt.event=a.dispatch("start","end","interrupt"))).on(ue,Ce)});return this},or.transition=function(){for(var ue=this.id,Ce=++Mr,Oe=this.namespace,Qe=[],rt,st,Pt,Mt,Gt=0,Yt=this.length;Gt<Yt;Gt++){Qe.push(rt=[]);for(var st=this[Gt],nr=0,Cr=st.length;nr<Cr;nr++)(Pt=st[nr])&&(Mt=Pt[Oe][ue],In(Pt,nr,Oe,Ce,{time:Mt.time,ease:Mt.ease,delay:Mt.delay+Mt.duration,duration:Mt.duration})),rt.push(Pt)}return xr(Qe,Oe,Ce)};function Dn(ue){return ue==null?"__transition__":"__transition_"+ue+"__"}function In(ue,Ce,Oe,Qe,rt){var st=ue[Oe]||(ue[Oe]={active:0,count:0}),Pt=st[Qe],Mt,Gt,Yt,nr,Cr;function Pr(Dr){var Nr=Pt.delay;if(Gt.t=Nr+Mt,Nr<=Dr)return Jr(Dr-Nr);Gt.c=Jr}function Jr(Dr){var Nr=st.active,jr=st[Nr];jr&&(jr.timer.c=null,jr.timer.t=NaN,--st.count,delete st[Nr],jr.event&&jr.event.interrupt.call(ue,ue.__data__,jr.index));for(var un in st)if(+un<Qe){var vn=st[un];vn.timer.c=null,vn.timer.t=NaN,--st.count,delete st[un]}Gt.c=on,Cn(function(){return Gt.c&&on(Dr||1)&&(Gt.c=null,Gt.t=NaN),1},0,Mt),st.active=Qe,Pt.event&&Pt.event.start.call(ue,ue.__data__,Ce),Cr=[],Pt.tween.forEach(function(qr,Vn){(Vn=Vn.call(ue,ue.__data__,Ce))&&Cr.push(Vn)}),nr=Pt.ease,Yt=Pt.duration}function on(Dr){for(var Nr=Dr/Yt,jr=nr(Nr),un=Cr.length;un>0;)Cr[--un].call(ue,jr);if(Nr>=1)return Pt.event&&Pt.event.end.call(ue,ue.__data__,Ce),--st.count?delete st[Qe]:delete ue[Oe],1}Pt||(Mt=rt.time,Gt=Cn(Pr,0,Mt),Pt=st[Qe]={tween:new E,time:Mt,timer:Gt,delay:rt.delay,duration:rt.duration,ease:rt.ease,index:Ce},rt=null,++st.count)}a.svg.axis=function(){var ue=a.scale.linear(),Ce=Zn,Oe=6,Qe=6,rt=3,st=[10],Pt=null,Mt;function Gt(Yt){Yt.each(function(){var nr=a.select(this),Cr=this.__chart__||ue,Pr=this.__chart__=ue.copy(),Jr=Pt==null?Pr.ticks?Pr.ticks.apply(Pr,st):Pr.domain():Pt,on=Mt==null?Pr.tickFormat?Pr.tickFormat.apply(Pr,st):F:Mt,Dr=nr.selectAll(".tick").data(Jr,Pr),Nr=Dr.enter().insert("g",".domain").attr("class","tick").style("opacity",ge),jr=a.transition(Dr.exit()).style("opacity",ge).remove(),un=a.transition(Dr.order()).style("opacity",1),vn=Math.max(Oe,0)+rt,qr,Vn=Rl(Pr),ea=nr.selectAll(".domain").data([0]),fa=(ea.enter().append("path").attr("class","domain"),a.transition(ea));Nr.append("line"),Nr.append("text");var $n=Nr.select("line"),ia=un.select("line"),ca=Dr.select("text").text(on),Oa=Nr.select("text"),Sa=un.select("text"),_a=Ce==="top"||Ce==="left"?-1:1,ai,Bi,fi,Kn;if(Ce==="bottom"||Ce==="top"?(qr=Ra,ai="x",fi="y",Bi="x2",Kn="y2",ca.attr("dy",_a<0?"0em":".71em").style("text-anchor","middle"),fa.attr("d","M"+Vn[0]+","+_a*Qe+"V0H"+Vn[1]+"V"+_a*Qe)):(qr=Da,ai="y",fi="x",Bi="y2",Kn="x2",ca.attr("dy",".32em").style("text-anchor",_a<0?"end":"start"),fa.attr("d","M"+_a*Qe+","+Vn[0]+"H0V"+Vn[1]+"H"+_a*Qe)),$n.attr(Kn,_a*Oe),Oa.attr(fi,_a*vn),ia.attr(Bi,0).attr(Kn,_a*Oe),Sa.attr(ai,0).attr(fi,_a*vn),Pr.rangeBand){var Ua=Pr,Aa=Ua.rangeBand()/2;Cr=Pr=function(ja){return Ua(ja)+Aa}}else Cr.rangeBand?Cr=Pr:jr.call(qr,Pr,Cr);Nr.call(qr,Cr,Pr),un.call(qr,Pr,Pr)})}return Gt.scale=function(Yt){return arguments.length?(ue=Yt,Gt):ue},Gt.orient=function(Yt){return arguments.length?(Ce=Yt in Pa?Yt+"":Zn,Gt):Ce},Gt.ticks=function(){return arguments.length?(st=A(arguments),Gt):st},Gt.tickValues=function(Yt){return arguments.length?(Pt=Yt,Gt):Pt},Gt.tickFormat=function(Yt){return arguments.length?(Mt=Yt,Gt):Mt},Gt.tickSize=function(Yt){var nr=arguments.length;return nr?(Oe=+Yt,Qe=+arguments[nr-1],Gt):Oe},Gt.innerTickSize=function(Yt){return arguments.length?(Oe=+Yt,Gt):Oe},Gt.outerTickSize=function(Yt){return arguments.length?(Qe=+Yt,Gt):Qe},Gt.tickPadding=function(Yt){return arguments.length?(rt=+Yt,Gt):rt},Gt.tickSubdivide=function(){return arguments.length&&Gt},Gt};var Zn="bottom",Pa={top:1,right:1,bottom:1,left:1};function Ra(ue,Ce,Oe){ue.attr("transform",function(Qe){var rt=Ce(Qe);return"translate("+(isFinite(rt)?rt:Oe(Qe))+",0)"})}function Da(ue,Ce,Oe){ue.attr("transform",function(Qe){var rt=Ce(Qe);return"translate(0,"+(isFinite(rt)?rt:Oe(Qe))+")"})}a.svg.brush=function(){var ue=Z(nr,"brushstart","brush","brushend"),Ce=null,Oe=null,Qe=[0,0],rt=[0,0],st,Pt,Mt=!0,Gt=!0,Yt=Za[0];function nr(Dr){Dr.each(function(){var Nr=a.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",on).on("touchstart.brush",on),jr=Nr.selectAll(".background").data([0]);jr.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),Nr.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var un=Nr.selectAll(".resize").data(Yt,F);un.exit().remove(),un.enter().append("g").attr("class",function(ea){return"resize "+ea}).style("cursor",function(ea){return Fa[ea]}).append("rect").attr("x",function(ea){return/[ew]$/.test(ea)?-3:null}).attr("y",function(ea){return/^[ns]/.test(ea)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),un.style("display",nr.empty()?"none":null);var vn=a.transition(Nr),qr=a.transition(jr),Vn;Ce&&(Vn=Rl(Ce),qr.attr("x",Vn[0]).attr("width",Vn[1]-Vn[0]),Pr(vn)),Oe&&(Vn=Rl(Oe),qr.attr("y",Vn[0]).attr("height",Vn[1]-Vn[0]),Jr(vn)),Cr(vn)})}nr.event=function(Dr){Dr.each(function(){var Nr=ue.of(this,arguments),jr={x:Qe,y:rt,i:st,j:Pt},un=this.__chart__||jr;this.__chart__=jr,_r?a.select(this).transition().each("start.brush",function(){st=un.i,Pt=un.j,Qe=un.x,rt=un.y,Nr({type:"brushstart"})}).tween("brush:brush",function(){var vn=ko(Qe,jr.x),qr=ko(rt,jr.y);return st=Pt=null,function(Vn){Qe=jr.x=vn(Vn),rt=jr.y=qr(Vn),Nr({type:"brush",mode:"resize"})}}).each("end.brush",function(){st=jr.i,Pt=jr.j,Nr({type:"brush",mode:"resize"}),Nr({type:"brushend"})}):(Nr({type:"brushstart"}),Nr({type:"brush",mode:"resize"}),Nr({type:"brushend"}))})};function Cr(Dr){Dr.selectAll(".resize").attr("transform",function(Nr){return"translate("+Qe[+/e$/.test(Nr)]+","+rt[+/^s/.test(Nr)]+")"})}function Pr(Dr){Dr.select(".extent").attr("x",Qe[0]),Dr.selectAll(".extent,.n>rect,.s>rect").attr("width",Qe[1]-Qe[0])}function Jr(Dr){Dr.select(".extent").attr("y",rt[0]),Dr.selectAll(".extent,.e>rect,.w>rect").attr("height",rt[1]-rt[0])}function on(){var Dr=this,Nr=a.select(a.event.target),jr=ue.of(Dr,arguments),un=a.select(Dr),vn=Nr.datum(),qr=!/^(n|s)$/.test(vn)&&Ce,Vn=!/^(e|w)$/.test(vn)&&Oe,ea=Nr.classed("extent"),fa=Ze(Dr),$n,ia=a.mouse(Dr),ca,Oa=a.select(r(Dr)).on("keydown.brush",ai).on("keyup.brush",Bi);if(a.event.changedTouches?Oa.on("touchmove.brush",fi).on("touchend.brush",Ua):Oa.on("mousemove.brush",fi).on("mouseup.brush",Ua),un.interrupt().selectAll("*").interrupt(),ea)ia[0]=Qe[0]-ia[0],ia[1]=rt[0]-ia[1];else if(vn){var Sa=+/w$/.test(vn),_a=+/^n/.test(vn);ca=[Qe[1-Sa]-ia[0],rt[1-_a]-ia[1]],ia[0]=Qe[Sa],ia[1]=rt[_a]}else a.event.altKey&&($n=ia.slice());un.style("pointer-events","none").selectAll(".resize").style("display",null),a.select("body").style("cursor",Nr.style("cursor")),jr({type:"brushstart"}),fi();function ai(){a.event.keyCode==32&&(ea||($n=null,ia[0]-=Qe[1],ia[1]-=rt[1],ea=2),Q())}function Bi(){a.event.keyCode==32&&ea==2&&(ia[0]+=Qe[1],ia[1]+=rt[1],ea=0,Q())}function fi(){var Aa=a.mouse(Dr),ja=!1;ca&&(Aa[0]+=ca[0],Aa[1]+=ca[1]),ea||(a.event.altKey?($n||($n=[(Qe[0]+Qe[1])/2,(rt[0]+rt[1])/2]),ia[0]=Qe[+(Aa[0]<$n[0])],ia[1]=rt[+(Aa[1]<$n[1])]):$n=null),qr&&Kn(Aa,Ce,0)&&(Pr(un),ja=!0),Vn&&Kn(Aa,Oe,1)&&(Jr(un),ja=!0),ja&&(Cr(un),jr({type:"brush",mode:ea?"move":"resize"}))}function Kn(Aa,ja,bi){var ii=Rl(ja),eo=ii[0],to=ii[1],io=ia[bi],wi=bi?rt:Qe,go=wi[1]-wi[0],sa,Ca;if(ea&&(eo-=io,to-=go+io),sa=(bi?Gt:Mt)?Math.max(eo,Math.min(to,Aa[bi])):Aa[bi],ea?Ca=(sa+=io)+go:($n&&(io=Math.max(eo,Math.min(to,2*$n[bi]-sa))),io<sa?(Ca=sa,sa=io):Ca=io),wi[0]!=sa||wi[1]!=Ca)return bi?Pt=null:st=null,wi[0]=sa,wi[1]=Ca,!0}function Ua(){fi(),un.style("pointer-events","all").selectAll(".resize").style("display",nr.empty()?"none":null),a.select("body").style("cursor",null),Oa.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),fa(),jr({type:"brushend"})}}return nr.x=function(Dr){return arguments.length?(Ce=Dr,Yt=Za[!Ce<<1|!Oe],nr):Ce},nr.y=function(Dr){return arguments.length?(Oe=Dr,Yt=Za[!Ce<<1|!Oe],nr):Oe},nr.clamp=function(Dr){return arguments.length?(Ce&&Oe?(Mt=!!Dr[0],Gt=!!Dr[1]):Ce?Mt=!!Dr:Oe&&(Gt=!!Dr),nr):Ce&&Oe?[Mt,Gt]:Ce?Mt:Oe?Gt:null},nr.extent=function(Dr){var Nr,jr,un,vn,qr;return arguments.length?(Ce&&(Nr=Dr[0],jr=Dr[1],Oe&&(Nr=Nr[0],jr=jr[0]),st=[Nr,jr],Ce.invert&&(Nr=Ce(Nr),jr=Ce(jr)),jr<Nr&&(qr=Nr,Nr=jr,jr=qr),(Nr!=Qe[0]||jr!=Qe[1])&&(Qe=[Nr,jr])),Oe&&(un=Dr[0],vn=Dr[1],Ce&&(un=un[1],vn=vn[1]),Pt=[un,vn],Oe.invert&&(un=Oe(un),vn=Oe(vn)),vn<un&&(qr=un,un=vn,vn=qr),(un!=rt[0]||vn!=rt[1])&&(rt=[un,vn])),nr):(Ce&&(st?(Nr=st[0],jr=st[1]):(Nr=Qe[0],jr=Qe[1],Ce.invert&&(Nr=Ce.invert(Nr),jr=Ce.invert(jr)),jr<Nr&&(qr=Nr,Nr=jr,jr=qr))),Oe&&(Pt?(un=Pt[0],vn=Pt[1]):(un=rt[0],vn=rt[1],Oe.invert&&(un=Oe.invert(un),vn=Oe.invert(vn)),vn<un&&(qr=un,un=vn,vn=qr))),Ce&&Oe?[[Nr,un],[jr,vn]]:Ce?[Nr,jr]:Oe&&[un,vn])},nr.clear=function(){return nr.empty()||(Qe=[0,0],rt=[0,0],st=Pt=null),nr},nr.empty=function(){return!!Ce&&Qe[0]==Qe[1]||!!Oe&&rt[0]==rt[1]},a.rebind(nr,ue,"on")};var Fa={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Za=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];a.text=Ln(function(ue){return ue.responseText}),a.json=function(ue,Ce){return En(ue,"application/json",vi,Ce)};function vi(ue){return JSON.parse(ue.responseText)}a.html=function(ue,Ce){return En(ue,"text/html",Fi,Ce)};function Fi(ue){var Ce=v.createRange();return Ce.selectNode(v.body),Ce.createContextualFragment(ue.responseText)}a.xml=Ln(function(ue){return ue.responseXML}),g=a,L=typeof g=="function"?g.call(U,e,U,G):g,L!==void 0&&(G.exports=L)}).apply(self)},3480:function(G){(function(U,e){G.exports=e()})(this,function(){var U,e,g;function L(a,C){if(!U)U=C;else if(!e)e=C;else{var A="var sharedChunk = {}; ("+U+")(sharedChunk); ("+e+")(sharedChunk);",v={};U(v),g=C(v),typeof window!="undefined"&&(g.workerUrl=window.URL.createObjectURL(new Blob([A],{type:"text/javascript"})))}}return L(["exports"],function(a){function C(R,D){return D={exports:{}},R(D,D.exports),D.exports}var A="1.13.4",v=p;function p(R,D,V,ae){this.cx=3*R,this.bx=3*(V-R)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*D,this.by=3*(ae-D)-this.cy,this.ay=1-this.cy-this.by,this.p1x=R,this.p1y=ae,this.p2x=V,this.p2y=ae}p.prototype.sampleCurveX=function(R){return((this.ax*R+this.bx)*R+this.cx)*R},p.prototype.sampleCurveY=function(R){return((this.ay*R+this.by)*R+this.cy)*R},p.prototype.sampleCurveDerivativeX=function(R){return(3*this.ax*R+2*this.bx)*R+this.cx},p.prototype.solveCurveX=function(R,D){typeof D=="undefined"&&(D=1e-6);var V,ae,ce,we,Le;for(ce=R,Le=0;Le<8;Le++){if(we=this.sampleCurveX(ce)-R,Math.abs(we)<D)return ce;var Je=this.sampleCurveDerivativeX(ce);if(Math.abs(Je)<1e-6)break;ce=ce-we/Je}if(V=0,ae=1,ce=R,ce<V)return V;if(ce>ae)return ae;for(;V<ae;){if(we=this.sampleCurveX(ce),Math.abs(we-R)<D)return ce;R>we?V=ce:ae=ce,ce=(ae-V)*.5+V}return ce},p.prototype.solve=function(R,D){return this.sampleCurveY(this.solveCurveX(R,D))};var r=t;function t(R,D){this.x=R,this.y=D}t.prototype={clone:function(){return new t(this.x,this.y)},add:function(R){return this.clone()._add(R)},sub:function(R){return this.clone()._sub(R)},multByPoint:function(R){return this.clone()._multByPoint(R)},divByPoint:function(R){return this.clone()._divByPoint(R)},mult:function(R){return this.clone()._mult(R)},div:function(R){return this.clone()._div(R)},rotate:function(R){return this.clone()._rotate(R)},rotateAround:function(R,D){return this.clone()._rotateAround(R,D)},matMult:function(R){return this.clone()._matMult(R)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(R){return this.x===R.x&&this.y===R.y},dist:function(R){return Math.sqrt(this.distSqr(R))},distSqr:function(R){var D=R.x-this.x,V=R.y-this.y;return D*D+V*V},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(R){return Math.atan2(this.y-R.y,this.x-R.x)},angleWith:function(R){return this.angleWithSep(R.x,R.y)},angleWithSep:function(R,D){return Math.atan2(this.x*D-this.y*R,this.x*R+this.y*D)},_matMult:function(R){var D=R[0]*this.x+R[1]*this.y,V=R[2]*this.x+R[3]*this.y;return this.x=D,this.y=V,this},_add:function(R){return this.x+=R.x,this.y+=R.y,this},_sub:function(R){return this.x-=R.x,this.y-=R.y,this},_mult:function(R){return this.x*=R,this.y*=R,this},_div:function(R){return this.x/=R,this.y/=R,this},_multByPoint:function(R){return this.x*=R.x,this.y*=R.y,this},_divByPoint:function(R){return this.x/=R.x,this.y/=R.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var R=this.y;return this.y=this.x,this.x=-R,this},_rotate:function(R){var D=Math.cos(R),V=Math.sin(R),ae=D*this.x-V*this.y,ce=V*this.x+D*this.y;return this.x=ae,this.y=ce,this},_rotateAround:function(R,D){var V=Math.cos(R),ae=Math.sin(R),ce=D.x+V*(this.x-D.x)-ae*(this.y-D.y),we=D.y+ae*(this.x-D.x)+V*(this.y-D.y);return this.x=ce,this.y=we,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},t.convert=function(R){return R instanceof t?R:Array.isArray(R)?new t(R[0],R[1]):R};var s=typeof self!="undefined"?self:{};function n(R,D){if(Array.isArray(R)){if(!Array.isArray(D)||R.length!==D.length)return!1;for(var V=0;V<R.length;V++)if(!n(R[V],D[V]))return!1;return!0}if(typeof R=="object"&&R!==null&&D!==null){if(typeof D!="object")return!1;var ae=Object.keys(R);if(ae.length!==Object.keys(D).length)return!1;for(var ce in R)if(!n(R[ce],D[ce]))return!1;return!0}return R===D}var f=Math.pow(2,53)-1;function u(R){if(R<=0)return 0;if(R>=1)return 1;var D=R*R,V=D*R;return 4*(R<.5?V:3*(R-D)+V-.75)}function l(R,D,V,ae){var ce=new v(R,D,V,ae);return function(we){return ce.solve(we)}}var m=l(.25,.1,.25,1);function h(R,D,V){return Math.min(V,Math.max(D,R))}function M(R,D,V){var ae=V-D,ce=((R-D)%ae+ae)%ae+D;return ce===D?V:ce}function c(R,D,V){if(!R.length)return V(null,[]);var ae=R.length,ce=new Array(R.length),we=null;R.forEach(function(Le,Je){D(Le,function(vt,St){vt&&(we=vt),ce[Je]=St,--ae===0&&V(we,ce)})})}function i(R){var D=[];for(var V in R)D.push(R[V]);return D}function d(R,D){var V=[];for(var ae in R)ae in D||V.push(ae);return V}function b(R){for(var D=[],V=arguments.length-1;V-- >0;)D[V]=arguments[V+1];for(var ae=0,ce=D;ae<ce.length;ae+=1){var we=ce[ae];for(var Le in we)R[Le]=we[Le]}return R}function w(R,D){for(var V={},ae=0;ae<D.length;ae++){var ce=D[ae];ce in R&&(V[ce]=R[ce])}return V}var E=1;function y(){return E++}function S(){function R(D){return D?(D^Math.random()*16>>D/4).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,R)}return R()}function T(R){return R<=1?1:Math.pow(2,Math.ceil(Math.log(R)/Math.LN2))}function o(R){return R?/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(R):!1}function P(R,D){R.forEach(function(V){!D[V]||(D[V]=D[V].bind(D))})}function x(R,D){return R.indexOf(D,R.length-D.length)!==-1}function _(R,D,V){var ae={};for(var ce in R)ae[ce]=D.call(V||this,R[ce],ce,R);return ae}function I(R,D,V){var ae={};for(var ce in R)D.call(V||this,R[ce],ce,R)&&(ae[ce]=R[ce]);return ae}function N(R){return Array.isArray(R)?R.map(N):typeof R=="object"&&R?_(R,N):R}function k(R,D){for(var V=0;V<R.length;V++)if(D.indexOf(R[V])>=0)return!0;return!1}var F={};function O(R){F[R]||(typeof console!="undefined"&&console.warn(R),F[R]=!0)}function z(R,D,V){return(V.y-R.y)*(D.x-R.x)>(D.y-R.y)*(V.x-R.x)}function B(R){for(var D=0,V=0,ae=R.length,ce=ae-1,we=void 0,Le=void 0;V<ae;ce=V++)we=R[V],Le=R[ce],D+=(Le.x-we.x)*(we.y+Le.y);return D}function W(R){var D=R[0],V=R[1],ae=R[2];return V+=90,V*=Math.PI/180,ae*=Math.PI/180,{x:D*Math.cos(V)*Math.sin(ae),y:D*Math.sin(V)*Math.sin(ae),z:D*Math.cos(ae)}}function q(){return typeof WorkerGlobalScope!="undefined"&&typeof self!="undefined"&&self instanceof WorkerGlobalScope}function ee(R){var D=/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,V={};if(R.replace(D,function(ce,we,Le,Je){var vt=Le||Je;return V[we]=vt?vt.toLowerCase():!0,""}),V["max-age"]){var ae=parseInt(V["max-age"],10);isNaN(ae)?delete V["max-age"]:V["max-age"]=ae}return V}var Q=null;function oe(R){if(Q==null){var D=R.navigator?R.navigator.userAgent:null;Q=!!R.safari||!!(D&&(/\b(iPad|iPhone|iPod)\b/.test(D)||!!D.match("Safari")&&!D.match("Chrome")))}return Q}function Z(R){try{var D=s[R];return D.setItem("_mapbox_test_",1),D.removeItem("_mapbox_test_"),!0}catch{return!1}}function Y(R){return s.btoa(encodeURIComponent(R).replace(/%([0-9A-F]{2})/g,function(D,V){return String.fromCharCode(Number("0x"+V))}))}function te(R){return decodeURIComponent(s.atob(R).split("").map(function(D){return"%"+("00"+D.charCodeAt(0).toString(16)).slice(-2)}).join(""))}var X=s.performance&&s.performance.now?s.performance.now.bind(s.performance):Date.now.bind(Date),$=s.requestAnimationFrame||s.mozRequestAnimationFrame||s.webkitRequestAnimationFrame||s.msRequestAnimationFrame,ie=s.cancelAnimationFrame||s.mozCancelAnimationFrame||s.webkitCancelAnimationFrame||s.msCancelAnimationFrame,J,j,se={now:X,frame:function(D){var V=$(D);return{cancel:function(){return ie(V)}}},getImageData:function(D,V){V===void 0&&(V=0);var ae=s.document.createElement("canvas"),ce=ae.getContext("2d");if(!ce)throw new Error("failed to create canvas 2d context");return ae.width=D.width,ae.height=D.height,ce.drawImage(D,0,0,D.width,D.height),ce.getImageData(-V,-V,D.width+2*V,D.height+2*V)},resolveURL:function(D){return J||(J=s.document.createElement("a")),J.href=D,J.href},hardwareConcurrency:s.navigator&&s.navigator.hardwareConcurrency||4,get devicePixelRatio(){return s.devicePixelRatio},get prefersReducedMotion(){return s.matchMedia?(j==null&&(j=s.matchMedia("(prefers-reduced-motion: reduce)")),j.matches):!1}},ne={API_URL:"https://api.mapbox.com",get EVENTS_URL(){return this.API_URL?this.API_URL.indexOf("https://api.mapbox.cn")===0?"https://events.mapbox.cn/events/v2":this.API_URL.indexOf("https://api.mapbox.com")===0?"https://events.mapbox.com/events/v2":null:null},FEEDBACK_URL:"https://apps.mapbox.com/feedback",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},le={supported:!1,testSupport:xe},pe,Ae=!1,be,Re=!1;s.document&&(be=s.document.createElement("img"),be.onload=function(){pe&&Me(pe),pe=null,Re=!0},be.onerror=function(){Ae=!0,pe=null},be.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");function xe(R){Ae||!be||(Re?Me(R):pe=R)}function Me(R){var D=R.createTexture();R.bindTexture(R.TEXTURE_2D,D);try{if(R.texImage2D(R.TEXTURE_2D,0,R.RGBA,R.RGBA,R.UNSIGNED_BYTE,be),R.isContextLost())return;le.supported=!0}catch{}R.deleteTexture(D),Ae=!0}var ye="01";function Se(){for(var R="1",D="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",V="",ae=0;ae<10;ae++)V+=D[Math.floor(Math.random()*62)];var ce=12*60*60*1e3,we=[R,ye,V].join(""),Le=Date.now()+ce;return{token:we,tokenExpiresAt:Le}}var Fe=function(D,V){this._transformRequestFn=D,this._customAccessToken=V,this._createSkuToken()};Fe.prototype._createSkuToken=function(){var D=Se();this._skuToken=D.token,this._skuTokenExpiresAt=D.tokenExpiresAt},Fe.prototype._isSkuTokenExpired=function(){return Date.now()>this._skuTokenExpiresAt},Fe.prototype.transformRequest=function(D,V){return this._transformRequestFn?this._transformRequestFn(D,V)||{url:D}:{url:D}},Fe.prototype.normalizeStyleURL=function(D,V){if(!Be(D))return D;var ae=qe(D);return ae.path="/styles/v1"+ae.path,this._makeAPIURL(ae,this._customAccessToken||V)},Fe.prototype.normalizeGlyphsURL=function(D,V){if(!Be(D))return D;var ae=qe(D);return ae.path="/fonts/v1"+ae.path,this._makeAPIURL(ae,this._customAccessToken||V)},Fe.prototype.normalizeSourceURL=function(D,V){if(!Be(D))return D;var ae=qe(D);return ae.path="/v4/"+ae.authority+".json",ae.params.push("secure"),this._makeAPIURL(ae,this._customAccessToken||V)},Fe.prototype.normalizeSpriteURL=function(D,V,ae,ce){var we=qe(D);return Be(D)?(we.path="/styles/v1"+we.path+"/sprite"+V+ae,this._makeAPIURL(we,this._customAccessToken||ce)):(we.path+=""+V+ae,ft(we))},Fe.prototype.normalizeTileURL=function(D,V){if(this._isSkuTokenExpired()&&this._createSkuToken(),D&&!Be(D))return D;var ae=qe(D),ce=/(\.(png|jpg)\d*)(?=$)/,we=/^.+\/v4\//,Le=se.devicePixelRatio>=2||V===512?"@2x":"",Je=le.supported?".webp":"$1";ae.path=ae.path.replace(ce,""+Le+Je),ae.path=ae.path.replace(we,"/"),ae.path="/v4"+ae.path;var vt=this._customAccessToken||lt(ae.params)||ne.ACCESS_TOKEN;return ne.REQUIRE_ACCESS_TOKEN&&vt&&this._skuToken&&ae.params.push("sku="+this._skuToken),this._makeAPIURL(ae,vt)},Fe.prototype.canonicalizeTileURL=function(D,V){var ae="/v4/",ce=/\.[\w]+$/,we=qe(D);if(!we.path.match(/(^\/v4\/)/)||!we.path.match(ce))return D;var Le="mapbox://tiles/";Le+=we.path.replace(ae,"");var Je=we.params;return V&&(Je=Je.filter(function(vt){return!vt.match(/^access_token=/)})),Je.length&&(Le+="?"+Je.join("&")),Le},Fe.prototype.canonicalizeTileset=function(D,V){for(var ae=V?Be(V):!1,ce=[],we=0,Le=D.tiles||[];we<Le.length;we+=1){var Je=Le[we];Ue(Je)?ce.push(this.canonicalizeTileURL(Je,ae)):ce.push(Je)}return ce},Fe.prototype._makeAPIURL=function(D,V){var ae="See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes",ce=qe(ne.API_URL);if(D.protocol=ce.protocol,D.authority=ce.authority,D.protocol==="http"){var we=D.params.indexOf("secure");we>=0&&D.params.splice(we,1)}if(ce.path!=="/"&&(D.path=""+ce.path+D.path),!ne.REQUIRE_ACCESS_TOKEN)return ft(D);if(V=V||ne.ACCESS_TOKEN,!V)throw new Error("An API access token is required to use Mapbox GL. "+ae);if(V[0]==="s")throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). "+ae);return D.params=D.params.filter(function(Le){return Le.indexOf("access_token")===-1}),D.params.push("access_token="+V),ft(D)};function Be(R){return R.indexOf("mapbox:")===0}var _e=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;function Ue(R){return _e.test(R)}function it(R){return R.indexOf("sku=")>0&&Ue(R)}function lt(R){for(var D=0,V=R;D<V.length;D+=1){var ae=V[D],ce=ae.match(/^access_token=(.*)$/);if(ce)return ce[1]}return null}var $e=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function qe(R){var D=R.match($e);if(!D)throw new Error("Unable to parse URL object");return{protocol:D[1],authority:D[2],path:D[3]||"/",params:D[4]?D[4].split("&"):[]}}function ft(R){var D=R.params.length?"?"+R.params.join("&"):"";return R.protocol+"://"+R.authority+R.path+D}var ct="mapbox.eventData";function pt(R){if(!R)return null;var D=R.split(".");if(!D||D.length!==3)return null;try{var V=JSON.parse(te(D[1]));return V}catch{return null}}var yt=function(D){this.type=D,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null};yt.prototype.getStorageKey=function(D){var V=pt(ne.ACCESS_TOKEN),ae="";return V&&V.u?ae=Y(V.u):ae=ne.ACCESS_TOKEN||"",D?ct+"."+D+":"+ae:ct+":"+ae},yt.prototype.fetchEventData=function(){var D=Z("localStorage"),V=this.getStorageKey(),ae=this.getStorageKey("uuid");if(D)try{var ce=s.localStorage.getItem(V);ce&&(this.eventData=JSON.parse(ce));var we=s.localStorage.getItem(ae);we&&(this.anonId=we)}catch{O("Unable to read from LocalStorage")}},yt.prototype.saveEventData=function(){var D=Z("localStorage"),V=this.getStorageKey(),ae=this.getStorageKey("uuid");if(D)try{s.localStorage.setItem(ae,this.anonId),Object.keys(this.eventData).length>=1&&s.localStorage.setItem(V,JSON.stringify(this.eventData))}catch{O("Unable to write to LocalStorage")}},yt.prototype.processRequests=function(D){},yt.prototype.postEvent=function(D,V,ae,ce){var we=this;if(!!ne.EVENTS_URL){var Le=qe(ne.EVENTS_URL);Le.params.push("access_token="+(ce||ne.ACCESS_TOKEN||""));var Je={event:this.type,created:new Date(D).toISOString(),sdkIdentifier:"mapbox-gl-js",sdkVersion:A,skuId:ye,userId:this.anonId},vt=V?b(Je,V):Je,St={url:ft(Le),headers:{"Content-Type":"text/plain"},body:JSON.stringify([vt])};this.pendingRequest=Nt(St,function(Rt){we.pendingRequest=null,ae(Rt),we.saveEventData(),we.processRequests(ce)})}},yt.prototype.queueRequest=function(D,V){this.queue.push(D),this.processRequests(V)};var Et=function(R){function D(){R.call(this,"map.load"),this.success={},this.skuToken=""}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.postMapLoadEvent=function(ae,ce,we,Le){this.skuToken=we,(ne.EVENTS_URL&&Le||ne.ACCESS_TOKEN&&Array.isArray(ae)&&ae.some(function(Je){return Be(Je)||Ue(Je)}))&&this.queueRequest({id:ce,timestamp:Date.now()},Le)},D.prototype.processRequests=function(ae){var ce=this;if(!(this.pendingRequest||this.queue.length===0)){var we=this.queue.shift(),Le=we.id,Je=we.timestamp;Le&&this.success[Le]||(this.anonId||this.fetchEventData(),o(this.anonId)||(this.anonId=S()),this.postEvent(Je,{skuToken:this.skuToken},function(vt){vt||Le&&(ce.success[Le]=!0)},ae))}},D}(yt),tt=function(R){function D(V){R.call(this,"appUserTurnstile"),this._customAccessToken=V}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.postTurnstileEvent=function(ae,ce){ne.EVENTS_URL&&ne.ACCESS_TOKEN&&Array.isArray(ae)&&ae.some(function(we){return Be(we)||Ue(we)})&&this.queueRequest(Date.now(),ce)},D.prototype.processRequests=function(ae){var ce=this;if(!(this.pendingRequest||this.queue.length===0)){(!this.anonId||!this.eventData.lastSuccess||!this.eventData.tokenU)&&this.fetchEventData();var we=pt(ne.ACCESS_TOKEN),Le=we?we.u:ne.ACCESS_TOKEN,Je=Le!==this.eventData.tokenU;o(this.anonId)||(this.anonId=S(),Je=!0);var vt=this.queue.shift();if(this.eventData.lastSuccess){var St=new Date(this.eventData.lastSuccess),Rt=new Date(vt),Xt=(vt-this.eventData.lastSuccess)/(24*60*60*1e3);Je=Je||Xt>=1||Xt<-1||St.getDate()!==Rt.getDate()}else Je=!0;if(!Je)return this.processRequests();this.postEvent(vt,{"enabled.telemetry":!1},function(ir){ir||(ce.eventData.lastSuccess=vt,ce.eventData.tokenU=Le)},ae)}},D}(yt),Ie=new tt,We=Ie.postTurnstileEvent.bind(Ie),Ze=new Et,He=Ze.postMapLoadEvent.bind(Ze),De="mapbox-tiles",me=500,ge=50,Ee=1e3*60*7,Te;function ze(){s.caches&&!Te&&(Te=s.caches.open(De))}var Xe;function et(R,D){if(Xe===void 0)try{new Response(new ReadableStream),Xe=!0}catch{Xe=!1}Xe?D(R.body):R.blob().then(D)}function ut(R,D,V){if(ze(),!!Te){var ae={status:D.status,statusText:D.statusText,headers:new s.Headers};D.headers.forEach(function(Le,Je){return ae.headers.set(Je,Le)});var ce=ee(D.headers.get("Cache-Control")||"");if(!ce["no-store"]){ce["max-age"]&&ae.headers.set("Expires",new Date(V+ce["max-age"]*1e3).toUTCString());var we=new Date(ae.headers.get("Expires")).getTime()-V;we<Ee||et(D,function(Le){var Je=new s.Response(Le,ae);ze(),Te&&Te.then(function(vt){return vt.put(dt(R.url),Je)}).catch(function(vt){return O(vt.message)})})}}}function dt(R){var D=R.indexOf("?");return D<0?R:R.slice(0,D)}function Zt(R,D){if(ze(),!Te)return D(null);var V=dt(R.url);Te.then(function(ae){ae.match(V).then(function(ce){var we=jt(ce);ae.delete(V),we&&ae.put(V,ce.clone()),D(null,ce,we)}).catch(D)}).catch(D)}function jt(R){if(!R)return!1;var D=new Date(R.headers.get("Expires")||0),V=ee(R.headers.get("Cache-Control")||"");return D>Date.now()&&!V["no-cache"]}var Tt=1/0;function kt(R){Tt++,Tt>ge&&(R.getActor().send("enforceCacheSizeLimit",me),Tt=0)}function Qt(R){ze(),Te&&Te.then(function(D){D.keys().then(function(V){for(var ae=0;ae<V.length-R;ae++)D.delete(V[ae])})})}function wr(R){var D=s.caches.delete(De);R&&D.catch(R).then(function(){return R()})}function xt(R,D){me=R,ge=D}var At;function Wt(){return At==null&&(At=s.OffscreenCanvas&&new s.OffscreenCanvas(1,1).getContext("2d")&&typeof s.createImageBitmap=="function"),At}var er={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};typeof Object.freeze=="function"&&Object.freeze(er);var $t=function(R){function D(V,ae,ce){ae===401&&Ue(ce)&&(V+=": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes"),R.call(this,V),this.status=ae,this.url=ce,this.name=this.constructor.name,this.message=V}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.toString=function(){return this.name+": "+this.message+" ("+this.status+"): "+this.url},D}(Error),ht=q()?function(){return self.worker&&self.worker.referrer}:function(){return(s.location.protocol==="blob:"?s.parent:s).location.href},at=function(R){return/^file:/.test(R)||/^file:/.test(ht())&&!/^\w+:/.test(R)};function bt(R,D){var V=new s.AbortController,ae=new s.Request(R.url,{method:R.method||"GET",body:R.body,credentials:R.credentials,headers:R.headers,referrer:ht(),signal:V.signal}),ce=!1,we=!1,Le=it(ae.url);R.type==="json"&&ae.headers.set("Accept","application/json");var Je=function(St,Rt,Xt){if(!we){if(St&&St.message!=="SecurityError"&&O(St),Rt&&Xt)return vt(Rt);var ir=Date.now();s.fetch(ae).then(function(tr){if(tr.ok){var yr=Le?tr.clone():null;return vt(tr,yr,ir)}else return D(new $t(tr.statusText,tr.status,R.url))}).catch(function(tr){tr.code!==20&&D(new Error(tr.message))})}},vt=function(St,Rt,Xt){(R.type==="arrayBuffer"?St.arrayBuffer():R.type==="json"?St.json():St.text()).then(function(ir){we||(Rt&&Xt&&ut(ae,Rt,Xt),ce=!0,D(null,ir,St.headers.get("Cache-Control"),St.headers.get("Expires")))}).catch(function(ir){we||D(new Error(ir.message))})};return Le?Zt(ae,Je):Je(null,null),{cancel:function(){we=!0,ce||V.abort()}}}function Ct(R,D){var V=new s.XMLHttpRequest;V.open(R.method||"GET",R.url,!0),R.type==="arrayBuffer"&&(V.responseType="arraybuffer");for(var ae in R.headers)V.setRequestHeader(ae,R.headers[ae]);return R.type==="json"&&(V.responseType="text",V.setRequestHeader("Accept","application/json")),V.withCredentials=R.credentials==="include",V.onerror=function(){D(new Error(V.statusText))},V.onload=function(){if((V.status>=200&&V.status<300||V.status===0)&&V.response!==null){var ce=V.response;if(R.type==="json")try{ce=JSON.parse(V.response)}catch(we){return D(we)}D(null,ce,V.getResponseHeader("Cache-Control"),V.getResponseHeader("Expires"))}else D(new $t(V.statusText,V.status,R.url))},V.send(R.body),{cancel:function(){return V.abort()}}}var Dt=function(R,D){if(!at(R.url)){if(s.fetch&&s.Request&&s.AbortController&&s.Request.prototype.hasOwnProperty("signal"))return bt(R,D);if(q()&&self.worker&&self.worker.actor){var V=!0;return self.worker.actor.send("getResource",R,D,void 0,V)}}return Ct(R,D)},It=function(R,D){return Dt(b(R,{type:"json"}),D)},Vt=function(R,D){return Dt(b(R,{type:"arrayBuffer"}),D)},Nt=function(R,D){return Dt(b(R,{method:"POST"}),D)};function Jt(R){var D=s.document.createElement("a");return D.href=R,D.protocol===s.document.location.protocol&&D.host===s.document.location.host}var fr="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";function cr(R,D,V,ae){var ce=new s.Image,we=s.URL;ce.onload=function(){D(null,ce),we.revokeObjectURL(ce.src),ce.onload=null,s.requestAnimationFrame(function(){ce.src=fr})},ce.onerror=function(){return D(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))};var Le=new s.Blob([new Uint8Array(R)],{type:"image/png"});ce.cacheControl=V,ce.expires=ae,ce.src=R.byteLength?we.createObjectURL(Le):fr}function dr(R,D){var V=new s.Blob([new Uint8Array(R)],{type:"image/png"});s.createImageBitmap(V).then(function(ae){D(null,ae)}).catch(function(ae){D(new Error("Could not load image because of "+ae.message+". Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))})}var Ge,Ve,Ot=function(){Ge=[],Ve=0};Ot();var Ft=function(R,D){if(le.supported&&(R.headers||(R.headers={}),R.headers.accept="image/webp,*/*"),Ve>=ne.MAX_PARALLEL_IMAGE_REQUESTS){var V={requestParameters:R,callback:D,cancelled:!1,cancel:function(){this.cancelled=!0}};return Ge.push(V),V}Ve++;var ae=!1,ce=function(){if(!ae)for(ae=!0,Ve--;Ge.length&&Ve<ne.MAX_PARALLEL_IMAGE_REQUESTS;){var Le=Ge.shift(),Je=Le.requestParameters,vt=Le.callback,St=Le.cancelled;St||(Le.cancel=Ft(Je,vt).cancel)}},we=Vt(R,function(Le,Je,vt,St){ce(),Le?D(Le):Je&&(Wt()?dr(Je,D):cr(Je,D,vt,St))});return{cancel:function(){we.cancel(),ce()}}},Kt=function(R,D){var V=s.document.createElement("video");V.muted=!0,V.onloadstart=function(){D(null,V)};for(var ae=0;ae<R.length;ae++){var ce=s.document.createElement("source");Jt(R[ae])||(V.crossOrigin="Anonymous"),ce.src=R[ae],V.appendChild(ce)}return{cancel:function(){}}};function rr(R,D,V){var ae=V[R]&&V[R].indexOf(D)!==-1;ae||(V[R]=V[R]||[],V[R].push(D))}function ur(R,D,V){if(V&&V[R]){var ae=V[R].indexOf(D);ae!==-1&&V[R].splice(ae,1)}}var ar=function(D,V){V===void 0&&(V={}),b(this,V),this.type=D},Bt=function(R){function D(V,ae){ae===void 0&&(ae={}),R.call(this,"error",b({error:V},ae))}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D}(ar),hr=function(){};hr.prototype.on=function(D,V){return this._listeners=this._listeners||{},rr(D,V,this._listeners),this},hr.prototype.off=function(D,V){return ur(D,V,this._listeners),ur(D,V,this._oneTimeListeners),this},hr.prototype.once=function(D,V){return this._oneTimeListeners=this._oneTimeListeners||{},rr(D,V,this._oneTimeListeners),this},hr.prototype.fire=function(D,V){typeof D=="string"&&(D=new ar(D,V||{}));var ae=D.type;if(this.listens(ae)){D.target=this;for(var ce=this._listeners&&this._listeners[ae]?this._listeners[ae].slice():[],we=0,Le=ce;we<Le.length;we+=1){var Je=Le[we];Je.call(this,D)}for(var vt=this._oneTimeListeners&&this._oneTimeListeners[ae]?this._oneTimeListeners[ae].slice():[],St=0,Rt=vt;St<Rt.length;St+=1){var Xt=Rt[St];ur(ae,Xt,this._oneTimeListeners),Xt.call(this,D)}var ir=this._eventedParent;ir&&(b(D,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),ir.fire(D))}else D instanceof Bt&&console.error(D.error);return this},hr.prototype.listens=function(D){return this._listeners&&this._listeners[D]&&this._listeners[D].length>0||this._oneTimeListeners&&this._oneTimeListeners[D]&&this._oneTimeListeners[D].length>0||this._eventedParent&&this._eventedParent.listens(D)},hr.prototype.setEventedParent=function(D,V){return this._eventedParent=D,this._eventedParentData=V,this};var gr=8,mr={version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},vr={"*":{type:"source"}},Gr=["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],Rr={type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},Ir={type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},cn={type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},rn={type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},Ln={type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},En={type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},Tr={id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},Lr=["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],Wr={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},Ur={"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},an={"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},pn={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},gn={"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},Cn={"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},zn={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},aa={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},ha={type:"array",value:"*"},pa={type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},ua={type:"enum",values:{Point:{},LineString:{},Polygon:{}}},na={type:"array",minimum:0,maximum:24,value:["number","color"],length:2},br={type:"array",value:"*",minimum:1},nn={anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},$r=["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],dn={"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},Hn={"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},Tn={"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},An={"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},Nn={"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},Qn={"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},ya={"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},Ia={"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},Sr={duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},zr={"*":{type:"string"}},Ar={$version:gr,$root:mr,sources:vr,source:Gr,source_vector:Rr,source_raster:Ir,source_raster_dem:cn,source_geojson:rn,source_video:Ln,source_image:En,layer:Tr,layout:Lr,layout_background:Wr,layout_fill:Ur,layout_circle:an,layout_heatmap:pn,"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:gn,layout_symbol:Cn,layout_raster:zn,layout_hillshade:aa,filter:ha,filter_operator:pa,geometry_type:ua,function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:na,expression:br,light:nn,paint:$r,paint_fill:dn,"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:Hn,paint_circle:Tn,paint_heatmap:An,paint_symbol:Nn,paint_raster:Qn,paint_hillshade:ya,paint_background:Ia,transition:Sr,"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:zr},Or=function(D,V,ae,ce){this.message=(D?D+": ":"")+ae,ce&&(this.identifier=ce),V!=null&&V.__line__&&(this.line=V.__line__)};function xn(R){var D=R.key,V=R.value;return V?[new Or(D,V,"constants have been deprecated as of v8")]:[]}function _n(R){for(var D=[],V=arguments.length-1;V-- >0;)D[V]=arguments[V+1];for(var ae=0,ce=D;ae<ce.length;ae+=1){var we=ce[ae];for(var Le in we)R[Le]=we[Le]}return R}function hn(R){return R instanceof Number||R instanceof String||R instanceof Boolean?R.valueOf():R}function sn(R){if(Array.isArray(R))return R.map(sn);if(R instanceof Object&&!(R instanceof Number||R instanceof String||R instanceof Boolean)){var D={};for(var V in R)D[V]=sn(R[V]);return D}return hn(R)}var Er=function(R){function D(V,ae){R.call(this,ae),this.message=ae,this.key=V}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D}(Error),Zr=function(D,V){V===void 0&&(V=[]),this.parent=D,this.bindings={};for(var ae=0,ce=V;ae<ce.length;ae+=1){var we=ce[ae],Le=we[0],Je=we[1];this.bindings[Le]=Je}};Zr.prototype.concat=function(D){return new Zr(this,D)},Zr.prototype.get=function(D){if(this.bindings[D])return this.bindings[D];if(this.parent)return this.parent.get(D);throw new Error(D+" not found in scope.")},Zr.prototype.has=function(D){return this.bindings[D]?!0:this.parent?this.parent.has(D):!1};var Vr={kind:"null"},Qr={kind:"number"},wn={kind:"string"},Pn={kind:"boolean"},Rn={kind:"color"},Un={kind:"object"},On={kind:"value"},ma={kind:"error"},oa={kind:"collator"},ga={kind:"formatted"},La={kind:"resolvedImage"};function di(R,D){return{kind:"array",itemType:R,N:D}}function ni(R){if(R.kind==="array"){var D=ni(R.itemType);return typeof R.N=="number"?"array<"+D+", "+R.N+">":R.itemType.kind==="value"?"array":"array<"+D+">"}else return R.kind}var _o=[Vr,Qr,wn,Pn,Rn,ga,Un,di(On),La];function Co(R,D){if(D.kind==="error")return null;if(R.kind==="array"){if(D.kind==="array"&&(D.N===0&&D.itemType.kind==="value"||!Co(R.itemType,D.itemType))&&(typeof R.N!="number"||R.N===D.N))return null}else{if(R.kind===D.kind)return null;if(R.kind==="value")for(var V=0,ae=_o;V<ae.length;V+=1){var ce=ae[V];if(!Co(ce,D))return null}}return"Expected "+ni(R)+" but found "+ni(D)+" instead."}function ro(R,D){return D.some(function(V){return V.kind===R.kind})}function ml(R,D){return D.some(function(V){return V==="null"?R===null:V==="array"?Array.isArray(R):V==="object"?R&&!Array.isArray(R)&&typeof R=="object":V===typeof R})}var Ju=C(function(R,D){var V={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function ae(St){return St=Math.round(St),St<0?0:St>255?255:St}function ce(St){return St<0?0:St>1?1:St}function we(St){return St[St.length-1]==="%"?ae(parseFloat(St)/100*255):ae(parseInt(St))}function Le(St){return St[St.length-1]==="%"?ce(parseFloat(St)/100):ce(parseFloat(St))}function Je(St,Rt,Xt){return Xt<0?Xt+=1:Xt>1&&(Xt-=1),Xt*6<1?St+(Rt-St)*Xt*6:Xt*2<1?Rt:Xt*3<2?St+(Rt-St)*(2/3-Xt)*6:St}function vt(St){var Rt=St.replace(/ /g,"").toLowerCase();if(Rt in V)return V[Rt].slice();if(Rt[0]==="#"){if(Rt.length===4){var Xt=parseInt(Rt.substr(1),16);return Xt>=0&&Xt<=4095?[(Xt&3840)>>4|(Xt&3840)>>8,Xt&240|(Xt&240)>>4,Xt&15|(Xt&15)<<4,1]:null}else if(Rt.length===7){var Xt=parseInt(Rt.substr(1),16);return Xt>=0&&Xt<=16777215?[(Xt&16711680)>>16,(Xt&65280)>>8,Xt&255,1]:null}return null}var ir=Rt.indexOf("("),tr=Rt.indexOf(")");if(ir!==-1&&tr+1===Rt.length){var yr=Rt.substr(0,ir),Fr=Rt.substr(ir+1,tr-(ir+1)).split(","),ln=1;switch(yr){case"rgba":if(Fr.length!==4)return null;ln=Le(Fr.pop());case"rgb":return Fr.length!==3?null:[we(Fr[0]),we(Fr[1]),we(Fr[2]),ln];case"hsla":if(Fr.length!==4)return null;ln=Le(Fr.pop());case"hsl":if(Fr.length!==3)return null;var en=(parseFloat(Fr[0])%360+360)%360/360,Sn=Le(Fr[1]),yn=Le(Fr[2]),Mn=yn<=.5?yn*(Sn+1):yn+Sn-yn*Sn,Fn=yn*2-Mn;return[ae(Je(Fn,Mn,en+1/3)*255),ae(Je(Fn,Mn,en)*255),ae(Je(Fn,Mn,en-1/3)*255),ln];default:return null}}return null}try{D.parseCSSColor=vt}catch{}}),Ef=Ju.parseCSSColor,qa=function(D,V,ae,ce){ce===void 0&&(ce=1),this.r=D,this.g=V,this.b=ae,this.a=ce};qa.parse=function(D){if(!!D){if(D instanceof qa)return D;if(typeof D=="string"){var V=Ef(D);if(!!V)return new qa(V[0]/255*V[3],V[1]/255*V[3],V[2]/255*V[3],V[3])}}},qa.prototype.toString=function(){var D=this.toArray(),V=D[0],ae=D[1],ce=D[2],we=D[3];return"rgba("+Math.round(V)+","+Math.round(ae)+","+Math.round(ce)+","+we+")"},qa.prototype.toArray=function(){var D=this,V=D.r,ae=D.g,ce=D.b,we=D.a;return we===0?[0,0,0,0]:[V*255/we,ae*255/we,ce*255/we,we]},qa.black=new qa(0,0,0,1),qa.white=new qa(1,1,1,1),qa.transparent=new qa(0,0,0,0),qa.red=new qa(1,0,0,1);var Xl=function(D,V,ae){D?this.sensitivity=V?"variant":"case":this.sensitivity=V?"accent":"base",this.locale=ae,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})};Xl.prototype.compare=function(D,V){return this.collator.compare(D,V)},Xl.prototype.resolvedLocale=function(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale};var Qu=function(D,V,ae,ce,we){this.text=D,this.image=V,this.scale=ae,this.fontStack=ce,this.textColor=we},Qi=function(D){this.sections=D};Qi.fromString=function(D){return new Qi([new Qu(D,null,null,null,null)])},Qi.prototype.isEmpty=function(){return this.sections.length===0?!0:!this.sections.some(function(D){return D.text.length!==0||D.image&&D.image.name.length!==0})},Qi.factory=function(D){return D instanceof Qi?D:Qi.fromString(D)},Qi.prototype.toString=function(){return this.sections.length===0?"":this.sections.map(function(D){return D.text}).join("")},Qi.prototype.serialize=function(){for(var D=["format"],V=0,ae=this.sections;V<ae.length;V+=1){var ce=ae[V];if(ce.image){D.push(["image",ce.image.name]);continue}D.push(ce.text);var we={};ce.fontStack&&(we["text-font"]=["literal",ce.fontStack.split(",")]),ce.scale&&(we["font-scale"]=ce.scale),ce.textColor&&(we["text-color"]=["rgba"].concat(ce.textColor.toArray())),D.push(we)}return D};var bo=function(D){this.name=D.name,this.available=D.available};bo.prototype.toString=function(){return this.name},bo.fromString=function(D){return D?new bo({name:D,available:!1}):null},bo.prototype.serialize=function(){return["image",this.name]};function xl(R,D,V,ae){if(!(typeof R=="number"&&R>=0&&R<=255&&typeof D=="number"&&D>=0&&D<=255&&typeof V=="number"&&V>=0&&V<=255)){var ce=typeof ae=="number"?[R,D,V,ae]:[R,D,V];return"Invalid rgba value ["+ce.join(", ")+"]: 'r', 'g', and 'b' must be between 0 and 255."}return typeof ae=="undefined"||typeof ae=="number"&&ae>=0&&ae<=1?null:"Invalid rgba value ["+[R,D,V,ae].join(", ")+"]: 'a' must be between 0 and 1."}function Su(R){if(R===null)return!0;if(typeof R=="string")return!0;if(typeof R=="boolean")return!0;if(typeof R=="number")return!0;if(R instanceof qa)return!0;if(R instanceof Xl)return!0;if(R instanceof Qi)return!0;if(R instanceof bo)return!0;if(Array.isArray(R)){for(var D=0,V=R;D<V.length;D+=1){var ae=V[D];if(!Su(ae))return!1}return!0}else if(typeof R=="object"){for(var ce in R)if(!Su(R[ce]))return!1;return!0}else return!1}function _i(R){if(R===null)return Vr;if(typeof R=="string")return wn;if(typeof R=="boolean")return Pn;if(typeof R=="number")return Qr;if(R instanceof qa)return Rn;if(R instanceof Xl)return oa;if(R instanceof Qi)return ga;if(R instanceof bo)return La;if(Array.isArray(R)){for(var D=R.length,V,ae=0,ce=R;ae<ce.length;ae+=1){var we=ce[ae],Le=_i(we);if(!V)V=Le;else{if(V===Le)continue;V=On;break}}return di(V||On,D)}else return Un}function bl(R){var D=typeof R;return R===null?"":D==="string"||D==="number"||D==="boolean"?String(R):R instanceof qa||R instanceof Qi||R instanceof bo?R.toString():JSON.stringify(R)}var Oi=function(D,V){this.type=D,this.value=V};Oi.parse=function(D,V){if(D.length!==2)return V.error("'literal' expression requires exactly one argument, but found "+(D.length-1)+" instead.");if(!Su(D[1]))return V.error("invalid value");var ae=D[1],ce=_i(ae),we=V.expectedType;return ce.kind==="array"&&ce.N===0&&we&&we.kind==="array"&&(typeof we.N!="number"||we.N===0)&&(ce=we),new Oi(ce,ae)},Oi.prototype.evaluate=function(){return this.value},Oi.prototype.eachChild=function(){},Oi.prototype.outputDefined=function(){return!0},Oi.prototype.serialize=function(){return this.type.kind==="array"||this.type.kind==="object"?["literal",this.value]:this.value instanceof qa?["rgba"].concat(this.value.toArray()):this.value instanceof Qi?this.value.serialize():this.value};var Gi=function(D){this.name="ExpressionEvaluationError",this.message=D};Gi.prototype.toJSON=function(){return this.message};var wl={string:wn,number:Qr,boolean:Pn,object:Un},no=function(D,V){this.type=D,this.args=V};no.parse=function(D,V){if(D.length<2)return V.error("Expected at least one argument.");var ae=1,ce,we=D[0];if(we==="array"){var Le;if(D.length>2){var Je=D[1];if(typeof Je!="string"||!(Je in wl)||Je==="object")return V.error('The item type argument of "array" must be one of string, number, boolean',1);Le=wl[Je],ae++}else Le=On;var vt;if(D.length>3){if(D[2]!==null&&(typeof D[2]!="number"||D[2]<0||D[2]!==Math.floor(D[2])))return V.error('The length argument to "array" must be a positive integer literal',2);vt=D[2],ae++}ce=di(Le,vt)}else ce=wl[we];for(var St=[];ae<D.length;ae++){var Rt=V.parse(D[ae],ae,On);if(!Rt)return null;St.push(Rt)}return new no(ce,St)},no.prototype.evaluate=function(D){for(var V=0;V<this.args.length;V++){var ae=this.args[V].evaluate(D),ce=Co(this.type,_i(ae));if(ce){if(V===this.args.length-1)throw new Gi("Expected value to be of type "+ni(this.type)+", but found "+ni(_i(ae))+" instead.")}else return ae}return null},no.prototype.eachChild=function(D){this.args.forEach(D)},no.prototype.outputDefined=function(){return this.args.every(function(D){return D.outputDefined()})},no.prototype.serialize=function(){var D=this.type,V=[D.kind];if(D.kind==="array"){var ae=D.itemType;if(ae.kind==="string"||ae.kind==="number"||ae.kind==="boolean"){V.push(ae.kind);var ce=D.N;(typeof ce=="number"||this.args.length>1)&&V.push(ce)}}return V.concat(this.args.map(function(we){return we.serialize()}))};var ao=function(D){this.type=ga,this.sections=D};ao.parse=function(D,V){if(D.length<2)return V.error("Expected at least one argument.");var ae=D[1];if(!Array.isArray(ae)&&typeof ae=="object")return V.error("First argument must be an image or text section.");for(var ce=[],we=!1,Le=1;Le<=D.length-1;++Le){var Je=D[Le];if(we&&typeof Je=="object"&&!Array.isArray(Je)){we=!1;var vt=null;if(Je["font-scale"]&&(vt=V.parse(Je["font-scale"],1,Qr),!vt))return null;var St=null;if(Je["text-font"]&&(St=V.parse(Je["text-font"],1,di(wn)),!St))return null;var Rt=null;if(Je["text-color"]&&(Rt=V.parse(Je["text-color"],1,Rn),!Rt))return null;var Xt=ce[ce.length-1];Xt.scale=vt,Xt.font=St,Xt.textColor=Rt}else{var ir=V.parse(D[Le],1,On);if(!ir)return null;var tr=ir.type.kind;if(tr!=="string"&&tr!=="value"&&tr!=="null"&&tr!=="resolvedImage")return V.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");we=!0,ce.push({content:ir,scale:null,font:null,textColor:null})}}return new ao(ce)},ao.prototype.evaluate=function(D){var V=function(ae){var ce=ae.content.evaluate(D);return _i(ce)===La?new Qu("",ce,null,null,null):new Qu(bl(ce),null,ae.scale?ae.scale.evaluate(D):null,ae.font?ae.font.evaluate(D).join(","):null,ae.textColor?ae.textColor.evaluate(D):null)};return new Qi(this.sections.map(V))},ao.prototype.eachChild=function(D){for(var V=0,ae=this.sections;V<ae.length;V+=1){var ce=ae[V];D(ce.content),ce.scale&&D(ce.scale),ce.font&&D(ce.font),ce.textColor&&D(ce.textColor)}},ao.prototype.outputDefined=function(){return!1},ao.prototype.serialize=function(){for(var D=["format"],V=0,ae=this.sections;V<ae.length;V+=1){var ce=ae[V];D.push(ce.content.serialize());var we={};ce.scale&&(we["font-scale"]=ce.scale.serialize()),ce.font&&(we["text-font"]=ce.font.serialize()),ce.textColor&&(we["text-color"]=ce.textColor.serialize()),D.push(we)}return D};var ko=function(D){this.type=La,this.input=D};ko.parse=function(D,V){if(D.length!==2)return V.error("Expected two arguments.");var ae=V.parse(D[1],1,wn);return ae?new ko(ae):V.error("No image name provided.")},ko.prototype.evaluate=function(D){var V=this.input.evaluate(D),ae=bo.fromString(V);return ae&&D.availableImages&&(ae.available=D.availableImages.indexOf(V)>-1),ae},ko.prototype.eachChild=function(D){D(this.input)},ko.prototype.outputDefined=function(){return!1},ko.prototype.serialize=function(){return["image",this.input.serialize()]};var Cf={"to-boolean":Pn,"to-color":Rn,"to-number":Qr,"to-string":wn},Lo=function(D,V){this.type=D,this.args=V};Lo.parse=function(D,V){if(D.length<2)return V.error("Expected at least one argument.");var ae=D[0];if((ae==="to-boolean"||ae==="to-string")&&D.length!==2)return V.error("Expected one argument.");for(var ce=Cf[ae],we=[],Le=1;Le<D.length;Le++){var Je=V.parse(D[Le],Le,On);if(!Je)return null;we.push(Je)}return new Lo(ce,we)},Lo.prototype.evaluate=function(D){if(this.type.kind==="boolean")return Boolean(this.args[0].evaluate(D));if(this.type.kind==="color"){for(var V,ae,ce=0,we=this.args;ce<we.length;ce+=1){var Le=we[ce];if(V=Le.evaluate(D),ae=null,V instanceof qa)return V;if(typeof V=="string"){var Je=D.parseColor(V);if(Je)return Je}else if(Array.isArray(V)&&(V.length<3||V.length>4?ae="Invalid rbga value "+JSON.stringify(V)+": expected an array containing either three or four numeric values.":ae=xl(V[0],V[1],V[2],V[3]),!ae))return new qa(V[0]/255,V[1]/255,V[2]/255,V[3])}throw new Gi(ae||"Could not parse color from value '"+(typeof V=="string"?V:String(JSON.stringify(V)))+"'")}else if(this.type.kind==="number"){for(var vt=null,St=0,Rt=this.args;St<Rt.length;St+=1){var Xt=Rt[St];if(vt=Xt.evaluate(D),vt===null)return 0;var ir=Number(vt);if(!isNaN(ir))return ir}throw new Gi("Could not convert "+JSON.stringify(vt)+" to number.")}else return this.type.kind==="formatted"?Qi.fromString(bl(this.args[0].evaluate(D))):this.type.kind==="resolvedImage"?bo.fromString(bl(this.args[0].evaluate(D))):bl(this.args[0].evaluate(D))},Lo.prototype.eachChild=function(D){this.args.forEach(D)},Lo.prototype.outputDefined=function(){return this.args.every(function(D){return D.outputDefined()})},Lo.prototype.serialize=function(){if(this.type.kind==="formatted")return new ao([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if(this.type.kind==="resolvedImage")return new ko(this.args[0]).serialize();var D=["to-"+this.type.kind];return this.eachChild(function(V){D.push(V.serialize())}),D};var Cc=["Unknown","Point","LineString","Polygon"],us=function(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null};us.prototype.id=function(){return this.feature&&"id"in this.feature?this.feature.id:null},us.prototype.geometryType=function(){return this.feature?typeof this.feature.type=="number"?Cc[this.feature.type]:this.feature.type:null},us.prototype.geometry=function(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null},us.prototype.canonicalID=function(){return this.canonical},us.prototype.properties=function(){return this.feature&&this.feature.properties||{}},us.prototype.parseColor=function(D){var V=this._parseColorCache[D];return V||(V=this._parseColorCache[D]=qa.parse(D)),V};var $i=function(D,V,ae,ce){this.name=D,this.type=V,this._evaluate=ae,this.args=ce};$i.prototype.evaluate=function(D){return this._evaluate(D,this.args)},$i.prototype.eachChild=function(D){this.args.forEach(D)},$i.prototype.outputDefined=function(){return!1},$i.prototype.serialize=function(){return[this.name].concat(this.args.map(function(D){return D.serialize()}))},$i.parse=function(D,V){var ae,ce=D[0],we=$i.definitions[ce];if(!we)return V.error('Unknown expression "'+ce+'". If you wanted a literal array, use ["literal", [...]].',0);for(var Le=Array.isArray(we)?we[0]:we.type,Je=Array.isArray(we)?[[we[1],we[2]]]:we.overloads,vt=Je.filter(function(Ta){var Ea=Ta[0];return!Array.isArray(Ea)||Ea.length===D.length-1}),St=null,Rt=0,Xt=vt;Rt<Xt.length;Rt+=1){var ir=Xt[Rt],tr=ir[0],yr=ir[1];St=new cs(V.registry,V.path,null,V.scope);for(var Fr=[],ln=!1,en=1;en<D.length;en++){var Sn=D[en],yn=Array.isArray(tr)?tr[en-1]:tr.type,Mn=St.parse(Sn,1+Fr.length,yn);if(!Mn){ln=!0;break}Fr.push(Mn)}if(!ln){if(Array.isArray(tr)&&tr.length!==Fr.length){St.error("Expected "+tr.length+" arguments, but found "+Fr.length+" instead.");continue}for(var Fn=0;Fn<Fr.length;Fn++){var Wn=Array.isArray(tr)?tr[Fn]:tr.type,ra=Fr[Fn];St.concat(Fn+1).checkSubtype(Wn,ra.type)}if(St.errors.length===0)return new $i(ce,Le,yr,Fr)}}if(vt.length===1)(ae=V.errors).push.apply(ae,St.errors);else{for(var qn=vt.length?vt:Je,wa=qn.map(function(Ta){var Ea=Ta[0];return $u(Ea)}).join(" | "),da=[],ba=1;ba<D.length;ba++){var Ba=V.parse(D[ba],1+da.length);if(!Ba)return null;da.push(ni(Ba.type))}V.error("Expected arguments of type "+wa+", but found ("+da.join(", ")+") instead.")}return null},$i.register=function(D,V){$i.definitions=V;for(var ae in V)D[ae]=$i};function $u(R){return Array.isArray(R)?"("+R.map(ni).join(", ")+")":"("+ni(R.type)+"...)"}var Bs=function(D,V,ae){this.type=oa,this.locale=ae,this.caseSensitive=D,this.diacriticSensitive=V};Bs.parse=function(D,V){if(D.length!==2)return V.error("Expected one argument.");var ae=D[1];if(typeof ae!="object"||Array.isArray(ae))return V.error("Collator options argument must be an object.");var ce=V.parse(ae["case-sensitive"]===void 0?!1:ae["case-sensitive"],1,Pn);if(!ce)return null;var we=V.parse(ae["diacritic-sensitive"]===void 0?!1:ae["diacritic-sensitive"],1,Pn);if(!we)return null;var Le=null;return ae.locale&&(Le=V.parse(ae.locale,1,wn),!Le)?null:new Bs(ce,we,Le)},Bs.prototype.evaluate=function(D){return new Xl(this.caseSensitive.evaluate(D),this.diacriticSensitive.evaluate(D),this.locale?this.locale.evaluate(D):null)},Bs.prototype.eachChild=function(D){D(this.caseSensitive),D(this.diacriticSensitive),this.locale&&D(this.locale)},Bs.prototype.outputDefined=function(){return!1},Bs.prototype.serialize=function(){var D={};return D["case-sensitive"]=this.caseSensitive.serialize(),D["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(D.locale=this.locale.serialize()),["collator",D]};var fs=8192;function qu(R,D){R[0]=Math.min(R[0],D[0]),R[1]=Math.min(R[1],D[1]),R[2]=Math.max(R[2],D[0]),R[3]=Math.max(R[3],D[1])}function Lf(R){return(180+R)/360}function Lc(R){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+R*Math.PI/360)))/360}function Eu(R,D){return!(R[0]<=D[0]||R[2]>=D[2]||R[1]<=D[1]||R[3]>=D[3])}function Pc(R,D){var V=Lf(R[0]),ae=Lc(R[1]),ce=Math.pow(2,D.z);return[Math.round(V*ce*fs),Math.round(ae*ce*fs)]}function Rc(R,D,V){var ae=R[0]-D[0],ce=R[1]-D[1],we=R[0]-V[0],Le=R[1]-V[1];return ae*Le-we*ce===0&&ae*we<=0&&ce*Le<=0}function Dc(R,D,V){return D[1]>R[1]!=V[1]>R[1]&&R[0]<(V[0]-D[0])*(R[1]-D[1])/(V[1]-D[1])+D[0]}function ef(R,D){for(var V=!1,ae=0,ce=D.length;ae<ce;ae++)for(var we=D[ae],Le=0,Je=we.length;Le<Je-1;Le++){if(Rc(R,we[Le],we[Le+1]))return!1;Dc(R,we[Le],we[Le+1])&&(V=!V)}return V}function Ic(R,D){for(var V=0;V<D.length;V++)if(ef(R,D[V]))return!0;return!1}function _c(R,D){return R[0]*D[1]-R[1]*D[0]}function Pf(R,D,V,ae){var ce=R[0]-V[0],we=R[1]-V[1],Le=D[0]-V[0],Je=D[1]-V[1],vt=ae[0]-V[0],St=ae[1]-V[1],Rt=ce*St-vt*we,Xt=Le*St-vt*Je;return Rt>0&&Xt<0||Rt<0&&Xt>0}function Rf(R,D,V,ae){var ce=[D[0]-R[0],D[1]-R[1]],we=[ae[0]-V[0],ae[1]-V[1]];return _c(we,ce)===0?!1:!!(Pf(R,D,V,ae)&&Pf(V,ae,R,D))}function tl(R,D,V){for(var ae=0,ce=V;ae<ce.length;ae+=1)for(var we=ce[ae],Le=0;Le<we.length-1;++Le)if(Rf(R,D,we[Le],we[Le+1]))return!0;return!1}function Tl(R,D){for(var V=0;V<R.length;++V)if(!ef(R[V],D))return!1;for(var ae=0;ae<R.length-1;++ae)if(tl(R[ae],R[ae+1],D))return!1;return!0}function Zl(R,D){for(var V=0;V<D.length;V++)if(Tl(R,D[V]))return!0;return!1}function jl(R,D,V){for(var ae=[],ce=0;ce<R.length;ce++){for(var we=[],Le=0;Le<R[ce].length;Le++){var Je=Pc(R[ce][Le],V);qu(D,Je),we.push(Je)}ae.push(we)}return ae}function Df(R,D,V){for(var ae=[],ce=0;ce<R.length;ce++){var we=jl(R[ce],D,V);ae.push(we)}return ae}function As(R,D,V,ae){if(R[0]<V[0]||R[0]>V[2]){var ce=ae*.5,we=R[0]-V[0]>ce?-ae:V[0]-R[0]>ce?ae:0;we===0&&(we=R[0]-V[2]>ce?-ae:V[2]-R[0]>ce?ae:0),R[0]+=we}qu(D,R)}function kc(R){R[0]=R[1]=1/0,R[2]=R[3]=-1/0}function Cu(R,D,V,ae){for(var ce=Math.pow(2,ae.z)*fs,we=[ae.x*fs,ae.y*fs],Le=[],Je=0,vt=R;Je<vt.length;Je+=1)for(var St=vt[Je],Rt=0,Xt=St;Rt<Xt.length;Rt+=1){var ir=Xt[Rt],tr=[ir.x+we[0],ir.y+we[1]];As(tr,D,V,ce),Le.push(tr)}return Le}function If(R,D,V,ae){for(var ce=Math.pow(2,ae.z)*fs,we=[ae.x*fs,ae.y*fs],Le=[],Je=0,vt=R;Je<vt.length;Je+=1){for(var St=vt[Je],Rt=[],Xt=0,ir=St;Xt<ir.length;Xt+=1){var tr=ir[Xt],yr=[tr.x+we[0],tr.y+we[1]];qu(D,yr),Rt.push(yr)}Le.push(Rt)}if(D[2]-D[0]<=ce/2){kc(D);for(var Fr=0,ln=Le;Fr<ln.length;Fr+=1)for(var en=ln[Fr],Sn=0,yn=en;Sn<yn.length;Sn+=1){var Mn=yn[Sn];As(Mn,D,V,ce)}}return Le}function _f(R,D){var V=[1/0,1/0,-1/0,-1/0],ae=[1/0,1/0,-1/0,-1/0],ce=R.canonicalID();if(D.type==="Polygon"){var we=jl(D.coordinates,ae,ce),Le=Cu(R.geometry(),V,ae,ce);if(!Eu(V,ae))return!1;for(var Je=0,vt=Le;Je<vt.length;Je+=1){var St=vt[Je];if(!ef(St,we))return!1}}if(D.type==="MultiPolygon"){var Rt=Df(D.coordinates,ae,ce),Xt=Cu(R.geometry(),V,ae,ce);if(!Eu(V,ae))return!1;for(var ir=0,tr=Xt;ir<tr.length;ir+=1){var yr=tr[ir];if(!Ic(yr,Rt))return!1}}return!0}function Lu(R,D){var V=[1/0,1/0,-1/0,-1/0],ae=[1/0,1/0,-1/0,-1/0],ce=R.canonicalID();if(D.type==="Polygon"){var we=jl(D.coordinates,ae,ce),Le=If(R.geometry(),V,ae,ce);if(!Eu(V,ae))return!1;for(var Je=0,vt=Le;Je<vt.length;Je+=1){var St=vt[Je];if(!Tl(St,we))return!1}}if(D.type==="MultiPolygon"){var Rt=Df(D.coordinates,ae,ce),Xt=If(R.geometry(),V,ae,ce);if(!Eu(V,ae))return!1;for(var ir=0,tr=Xt;ir<tr.length;ir+=1){var yr=tr[ir];if(!Zl(yr,Rt))return!1}}return!0}var Yo=function(D,V){this.type=Pn,this.geojson=D,this.geometries=V};Yo.parse=function(D,V){if(D.length!==2)return V.error("'within' expression requires exactly one argument, but found "+(D.length-1)+" instead.");if(Su(D[1])){var ae=D[1];if(ae.type==="FeatureCollection")for(var ce=0;ce<ae.features.length;++ce){var we=ae.features[ce].geometry.type;if(we==="Polygon"||we==="MultiPolygon")return new Yo(ae,ae.features[ce].geometry)}else if(ae.type==="Feature"){var Le=ae.geometry.type;if(Le==="Polygon"||Le==="MultiPolygon")return new Yo(ae,ae.geometry)}else if(ae.type==="Polygon"||ae.type==="MultiPolygon")return new Yo(ae,ae)}return V.error("'within' expression requires valid geojson object that contains polygon geometry type.")},Yo.prototype.evaluate=function(D){if(D.geometry()!=null&&D.canonicalID()!=null){if(D.geometryType()==="Point")return _f(D,this.geometries);if(D.geometryType()==="LineString")return Lu(D,this.geometries)}return!1},Yo.prototype.eachChild=function(){},Yo.prototype.outputDefined=function(){return!0},Yo.prototype.serialize=function(){return["within",this.geojson]};function Al(R){if(R instanceof $i){if(R.name==="get"&&R.args.length===1)return!1;if(R.name==="feature-state")return!1;if(R.name==="has"&&R.args.length===1)return!1;if(R.name==="properties"||R.name==="geometry-type"||R.name==="id")return!1;if(/^filter-/.test(R.name))return!1}if(R instanceof Yo)return!1;var D=!0;return R.eachChild(function(V){D&&!Al(V)&&(D=!1)}),D}function rl(R){if(R instanceof $i&&R.name==="feature-state")return!1;var D=!0;return R.eachChild(function(V){D&&!rl(V)&&(D=!1)}),D}function Kl(R,D){if(R instanceof $i&&D.indexOf(R.name)>=0)return!1;var V=!0;return R.eachChild(function(ae){V&&!Kl(ae,D)&&(V=!1)}),V}var Ns=function(D,V){this.type=V.type,this.name=D,this.boundExpression=V};Ns.parse=function(D,V){if(D.length!==2||typeof D[1]!="string")return V.error("'var' expression requires exactly one string literal argument.");var ae=D[1];return V.scope.has(ae)?new Ns(ae,V.scope.get(ae)):V.error('Unknown variable "'+ae+'". Make sure "'+ae+'" has been bound in an enclosing "let" expression before using it.',1)},Ns.prototype.evaluate=function(D){return this.boundExpression.evaluate(D)},Ns.prototype.eachChild=function(){},Ns.prototype.outputDefined=function(){return!1},Ns.prototype.serialize=function(){return["var",this.name]};var cs=function(D,V,ae,ce,we){V===void 0&&(V=[]),ce===void 0&&(ce=new Zr),we===void 0&&(we=[]),this.registry=D,this.path=V,this.key=V.map(function(Le){return"["+Le+"]"}).join(""),this.scope=ce,this.errors=we,this.expectedType=ae};cs.prototype.parse=function(D,V,ae,ce,we){return we===void 0&&(we={}),V?this.concat(V,ae,ce)._parse(D,we):this._parse(D,we)},cs.prototype._parse=function(D,V){(D===null||typeof D=="string"||typeof D=="boolean"||typeof D=="number")&&(D=["literal",D]);function ae(Rt,Xt,ir){return ir==="assert"?new no(Xt,[Rt]):ir==="coerce"?new Lo(Xt,[Rt]):Rt}if(Array.isArray(D)){if(D.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var ce=D[0];if(typeof ce!="string")return this.error("Expression name must be a string, but found "+typeof ce+' instead. If you wanted a literal array, use ["literal", [...]].',0),null;var we=this.registry[ce];if(we){var Le=we.parse(D,this);if(!Le)return null;if(this.expectedType){var Je=this.expectedType,vt=Le.type;if((Je.kind==="string"||Je.kind==="number"||Je.kind==="boolean"||Je.kind==="object"||Je.kind==="array")&&vt.kind==="value")Le=ae(Le,Je,V.typeAnnotation||"assert");else if((Je.kind==="color"||Je.kind==="formatted"||Je.kind==="resolvedImage")&&(vt.kind==="value"||vt.kind==="string"))Le=ae(Le,Je,V.typeAnnotation||"coerce");else if(this.checkSubtype(Je,vt))return null}if(!(Le instanceof Oi)&&Le.type.kind!=="resolvedImage"&&tf(Le)){var St=new us;try{Le=new Oi(Le.type,Le.evaluate(St))}catch(Rt){return this.error(Rt.message),null}}return Le}return this.error('Unknown expression "'+ce+'". If you wanted a literal array, use ["literal", [...]].',0)}else return typeof D=="undefined"?this.error("'undefined' value invalid. Use null instead."):typeof D=="object"?this.error('Bare objects invalid. Use ["literal", {...}] instead.'):this.error("Expected an array, but found "+typeof D+" instead.")},cs.prototype.concat=function(D,V,ae){var ce=typeof D=="number"?this.path.concat(D):this.path,we=ae?this.scope.concat(ae):this.scope;return new cs(this.registry,ce,V||null,we,this.errors)},cs.prototype.error=function(D){for(var V=[],ae=arguments.length-1;ae-- >0;)V[ae]=arguments[ae+1];var ce=""+this.key+V.map(function(we){return"["+we+"]"}).join("");this.errors.push(new Er(ce,D))},cs.prototype.checkSubtype=function(D,V){var ae=Co(D,V);return ae&&this.error(ae),ae};function tf(R){if(R instanceof Ns)return tf(R.boundExpression);if(R instanceof $i&&R.name==="error")return!1;if(R instanceof Bs)return!1;if(R instanceof Yo)return!1;var D=R instanceof Lo||R instanceof no,V=!0;return R.eachChild(function(ae){D?V=V&&tf(ae):V=V&&ae instanceof Oi}),V?Al(R)&&Kl(R,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"]):!1}function Ml(R,D){for(var V=R.length-1,ae=0,ce=V,we=0,Le,Je;ae<=ce;)if(we=Math.floor((ae+ce)/2),Le=R[we],Je=R[we+1],Le<=D){if(we===V||D<Je)return we;ae=we+1}else if(Le>D)ce=we-1;else throw new Gi("Input is not a number.");return 0}var Xo=function(D,V,ae){this.type=D,this.input=V,this.labels=[],this.outputs=[];for(var ce=0,we=ae;ce<we.length;ce+=1){var Le=we[ce],Je=Le[0],vt=Le[1];this.labels.push(Je),this.outputs.push(vt)}};Xo.parse=function(D,V){if(D.length-1<4)return V.error("Expected at least 4 arguments, but found only "+(D.length-1)+".");if((D.length-1)%2!==0)return V.error("Expected an even number of arguments.");var ae=V.parse(D[1],1,Qr);if(!ae)return null;var ce=[],we=null;V.expectedType&&V.expectedType.kind!=="value"&&(we=V.expectedType);for(var Le=1;Le<D.length;Le+=2){var Je=Le===1?-1/0:D[Le],vt=D[Le+1],St=Le,Rt=Le+1;if(typeof Je!="number")return V.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',St);if(ce.length&&ce[ce.length-1][0]>=Je)return V.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',St);var Xt=V.parse(vt,Rt,we);if(!Xt)return null;we=we||Xt.type,ce.push([Je,Xt])}return new Xo(we,ae,ce)},Xo.prototype.evaluate=function(D){var V=this.labels,ae=this.outputs;if(V.length===1)return ae[0].evaluate(D);var ce=this.input.evaluate(D);if(ce<=V[0])return ae[0].evaluate(D);var we=V.length;if(ce>=V[we-1])return ae[we-1].evaluate(D);var Le=Ml(V,ce);return ae[Le].evaluate(D)},Xo.prototype.eachChild=function(D){D(this.input);for(var V=0,ae=this.outputs;V<ae.length;V+=1){var ce=ae[V];D(ce)}},Xo.prototype.outputDefined=function(){return this.outputs.every(function(D){return D.outputDefined()})},Xo.prototype.serialize=function(){for(var D=["step",this.input.serialize()],V=0;V<this.labels.length;V++)V>0&&D.push(this.labels[V]),D.push(this.outputs[V].serialize());return D};function Ri(R,D,V){return R*(1-V)+D*V}function rf(R,D,V){return new qa(Ri(R.r,D.r,V),Ri(R.g,D.g,V),Ri(R.b,D.b,V),Ri(R.a,D.a,V))}function Fc(R,D,V){return R.map(function(ae,ce){return Ri(ae,D[ce],V)})}var Pu=Object.freeze({__proto__:null,number:Ri,color:rf,array:Fc}),Sl=.95047,El=1,Po=1.08883,Ru=4/29,Cl=6/29,Du=3*Cl*Cl,zc=Cl*Cl*Cl,kf=Math.PI/180,nf=180/Math.PI;function af(R){return R>zc?Math.pow(R,.3333333333333333):R/Du+Ru}function of(R){return R>Cl?R*R*R:Du*(R-Ru)}function Ll(R){return 255*(R<=.0031308?12.92*R:1.055*Math.pow(R,.4166666666666667)-.055)}function Iu(R){return R/=255,R<=.04045?R/12.92:Math.pow((R+.055)/1.055,2.4)}function Jl(R){var D=Iu(R.r),V=Iu(R.g),ae=Iu(R.b),ce=af((.4124564*D+.3575761*V+.1804375*ae)/Sl),we=af((.2126729*D+.7151522*V+.072175*ae)/El),Le=af((.0193339*D+.119192*V+.9503041*ae)/Po);return{l:116*we-16,a:500*(ce-we),b:200*(we-Le),alpha:R.a}}function _u(R){var D=(R.l+16)/116,V=isNaN(R.a)?D:D+R.a/500,ae=isNaN(R.b)?D:D-R.b/200;return D=El*of(D),V=Sl*of(V),ae=Po*of(ae),new qa(Ll(3.2404542*V-1.5371385*D-.4985314*ae),Ll(-.969266*V+1.8760108*D+.041556*ae),Ll(.0556434*V-.2040259*D+1.0572252*ae),R.alpha)}function pi(R,D,V){return{l:Ri(R.l,D.l,V),a:Ri(R.a,D.a,V),b:Ri(R.b,D.b,V),alpha:Ri(R.alpha,D.alpha,V)}}function Ff(R){var D=Jl(R),V=D.l,ae=D.a,ce=D.b,we=Math.atan2(ce,ae)*nf;return{h:we<0?we+360:we,c:Math.sqrt(ae*ae+ce*ce),l:V,alpha:R.a}}function Zo(R){var D=R.h*kf,V=R.c,ae=R.l;return _u({l:ae,a:Math.cos(D)*V,b:Math.sin(D)*V,alpha:R.alpha})}function zf(R,D,V){var ae=D-R;return R+V*(ae>180||ae<-180?ae-360*Math.round(ae/360):ae)}function sf(R,D,V){return{h:zf(R.h,D.h,V),c:Ri(R.c,D.c,V),l:Ri(R.l,D.l,V),alpha:Ri(R.alpha,D.alpha,V)}}var nl={forward:Jl,reverse:_u,interpolate:pi},Us={forward:Ff,reverse:Zo,interpolate:sf},ku=Object.freeze({__proto__:null,lab:nl,hcl:Us}),ki=function(D,V,ae,ce,we){this.type=D,this.operator=V,this.interpolation=ae,this.input=ce,this.labels=[],this.outputs=[];for(var Le=0,Je=we;Le<Je.length;Le+=1){var vt=Je[Le],St=vt[0],Rt=vt[1];this.labels.push(St),this.outputs.push(Rt)}};ki.interpolationFactor=function(D,V,ae,ce){var we=0;if(D.name==="exponential")we=Ql(V,D.base,ae,ce);else if(D.name==="linear")we=Ql(V,1,ae,ce);else if(D.name==="cubic-bezier"){var Le=D.controlPoints,Je=new v(Le[0],Le[1],Le[2],Le[3]);we=Je.solve(Ql(V,1,ae,ce))}return we},ki.parse=function(D,V){var ae=D[0],ce=D[1],we=D[2],Le=D.slice(3);if(!Array.isArray(ce)||ce.length===0)return V.error("Expected an interpolation type expression.",1);if(ce[0]==="linear")ce={name:"linear"};else if(ce[0]==="exponential"){var Je=ce[1];if(typeof Je!="number")return V.error("Exponential interpolation requires a numeric base.",1,1);ce={name:"exponential",base:Je}}else if(ce[0]==="cubic-bezier"){var vt=ce.slice(1);if(vt.length!==4||vt.some(function(en){return typeof en!="number"||en<0||en>1}))return V.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);ce={name:"cubic-bezier",controlPoints:vt}}else return V.error("Unknown interpolation type "+String(ce[0]),1,0);if(D.length-1<4)return V.error("Expected at least 4 arguments, but found only "+(D.length-1)+".");if((D.length-1)%2!==0)return V.error("Expected an even number of arguments.");if(we=V.parse(we,2,Qr),!we)return null;var St=[],Rt=null;ae==="interpolate-hcl"||ae==="interpolate-lab"?Rt=Rn:V.expectedType&&V.expectedType.kind!=="value"&&(Rt=V.expectedType);for(var Xt=0;Xt<Le.length;Xt+=2){var ir=Le[Xt],tr=Le[Xt+1],yr=Xt+3,Fr=Xt+4;if(typeof ir!="number")return V.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',yr);if(St.length&&St[St.length-1][0]>=ir)return V.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',yr);var ln=V.parse(tr,Fr,Rt);if(!ln)return null;Rt=Rt||ln.type,St.push([ir,ln])}return Rt.kind!=="number"&&Rt.kind!=="color"&&!(Rt.kind==="array"&&Rt.itemType.kind==="number"&&typeof Rt.N=="number")?V.error("Type "+ni(Rt)+" is not interpolatable."):new ki(Rt,ae,ce,we,St)},ki.prototype.evaluate=function(D){var V=this.labels,ae=this.outputs;if(V.length===1)return ae[0].evaluate(D);var ce=this.input.evaluate(D);if(ce<=V[0])return ae[0].evaluate(D);var we=V.length;if(ce>=V[we-1])return ae[we-1].evaluate(D);var Le=Ml(V,ce),Je=V[Le],vt=V[Le+1],St=ki.interpolationFactor(this.interpolation,ce,Je,vt),Rt=ae[Le].evaluate(D),Xt=ae[Le+1].evaluate(D);return this.operator==="interpolate"?Pu[this.type.kind.toLowerCase()](Rt,Xt,St):this.operator==="interpolate-hcl"?Us.reverse(Us.interpolate(Us.forward(Rt),Us.forward(Xt),St)):nl.reverse(nl.interpolate(nl.forward(Rt),nl.forward(Xt),St))},ki.prototype.eachChild=function(D){D(this.input);for(var V=0,ae=this.outputs;V<ae.length;V+=1){var ce=ae[V];D(ce)}},ki.prototype.outputDefined=function(){return this.outputs.every(function(D){return D.outputDefined()})},ki.prototype.serialize=function(){var D;this.interpolation.name==="linear"?D=["linear"]:this.interpolation.name==="exponential"?this.interpolation.base===1?D=["linear"]:D=["exponential",this.interpolation.base]:D=["cubic-bezier"].concat(this.interpolation.controlPoints);for(var V=[this.operator,D,this.input.serialize()],ae=0;ae<this.labels.length;ae++)V.push(this.labels[ae],this.outputs[ae].serialize());return V};function Ql(R,D,V,ae){var ce=ae-V,we=R-V;return ce===0?0:D===1?we/ce:(Math.pow(D,we)-1)/(Math.pow(D,ce)-1)}var jo=function(D,V){this.type=D,this.args=V};jo.parse=function(D,V){if(D.length<2)return V.error("Expectected at least one argument.");var ae=null,ce=V.expectedType;ce&&ce.kind!=="value"&&(ae=ce);for(var we=[],Le=0,Je=D.slice(1);Le<Je.length;Le+=1){var vt=Je[Le],St=V.parse(vt,1+we.length,ae,void 0,{typeAnnotation:"omit"});if(!St)return null;ae=ae||St.type,we.push(St)}var Rt=ce&&we.some(function(Xt){return Co(ce,Xt.type)});return Rt?new jo(On,we):new jo(ae,we)},jo.prototype.evaluate=function(D){for(var V=null,ae=0,ce,we=0,Le=this.args;we<Le.length;we+=1){var Je=Le[we];if(ae++,V=Je.evaluate(D),V&&V instanceof bo&&!V.available&&(ce||(ce=V.name),V=null,ae===this.args.length&&(V=ce)),V!==null)break}return V},jo.prototype.eachChild=function(D){this.args.forEach(D)},jo.prototype.outputDefined=function(){return this.args.every(function(D){return D.outputDefined()})},jo.prototype.serialize=function(){var D=["coalesce"];return this.eachChild(function(V){D.push(V.serialize())}),D};var Ms=function(D,V){this.type=V.type,this.bindings=[].concat(D),this.result=V};Ms.prototype.evaluate=function(D){return this.result.evaluate(D)},Ms.prototype.eachChild=function(D){for(var V=0,ae=this.bindings;V<ae.length;V+=1){var ce=ae[V];D(ce[1])}D(this.result)},Ms.parse=function(D,V){if(D.length<4)return V.error("Expected at least 3 arguments, but found "+(D.length-1)+" instead.");for(var ae=[],ce=1;ce<D.length-1;ce+=2){var we=D[ce];if(typeof we!="string")return V.error("Expected string, but found "+typeof we+" instead.",ce);if(/[^a-zA-Z0-9_]/.test(we))return V.error("Variable names must contain only alphanumeric characters or '_'.",ce);var Le=V.parse(D[ce+1],ce+1);if(!Le)return null;ae.push([we,Le])}var Je=V.parse(D[D.length-1],D.length-1,V.expectedType,ae);return Je?new Ms(ae,Je):null},Ms.prototype.outputDefined=function(){return this.result.outputDefined()},Ms.prototype.serialize=function(){for(var D=["let"],V=0,ae=this.bindings;V<ae.length;V+=1){var ce=ae[V],we=ce[0],Le=ce[1];D.push(we,Le.serialize())}return D.push(this.result.serialize()),D};var al=function(D,V,ae){this.type=D,this.index=V,this.input=ae};al.parse=function(D,V){if(D.length!==3)return V.error("Expected 2 arguments, but found "+(D.length-1)+" instead.");var ae=V.parse(D[1],1,Qr),ce=V.parse(D[2],2,di(V.expectedType||On));if(!ae||!ce)return null;var we=ce.type;return new al(we.itemType,ae,ce)},al.prototype.evaluate=function(D){var V=this.index.evaluate(D),ae=this.input.evaluate(D);if(V<0)throw new Gi("Array index out of bounds: "+V+" < 0.");if(V>=ae.length)throw new Gi("Array index out of bounds: "+V+" > "+(ae.length-1)+".");if(V!==Math.floor(V))throw new Gi("Array index must be an integer, but found "+V+" instead.");return ae[V]},al.prototype.eachChild=function(D){D(this.index),D(this.input)},al.prototype.outputDefined=function(){return!1},al.prototype.serialize=function(){return["at",this.index.serialize(),this.input.serialize()]};var Vs=function(D,V){this.type=Pn,this.needle=D,this.haystack=V};Vs.parse=function(D,V){if(D.length!==3)return V.error("Expected 2 arguments, but found "+(D.length-1)+" instead.");var ae=V.parse(D[1],1,On),ce=V.parse(D[2],2,On);return!ae||!ce?null:ro(ae.type,[Pn,wn,Qr,Vr,On])?new Vs(ae,ce):V.error("Expected first argument to be of type boolean, string, number or null, but found "+ni(ae.type)+" instead")},Vs.prototype.evaluate=function(D){var V=this.needle.evaluate(D),ae=this.haystack.evaluate(D);if(!ae)return!1;if(!ml(V,["boolean","string","number","null"]))throw new Gi("Expected first argument to be of type boolean, string, number or null, but found "+ni(_i(V))+" instead.");if(!ml(ae,["string","array"]))throw new Gi("Expected second argument to be of type array or string, but found "+ni(_i(ae))+" instead.");return ae.indexOf(V)>=0},Vs.prototype.eachChild=function(D){D(this.needle),D(this.haystack)},Vs.prototype.outputDefined=function(){return!0},Vs.prototype.serialize=function(){return["in",this.needle.serialize(),this.haystack.serialize()]};var Ko=function(D,V,ae){this.type=Qr,this.needle=D,this.haystack=V,this.fromIndex=ae};Ko.parse=function(D,V){if(D.length<=2||D.length>=5)return V.error("Expected 3 or 4 arguments, but found "+(D.length-1)+" instead.");var ae=V.parse(D[1],1,On),ce=V.parse(D[2],2,On);if(!ae||!ce)return null;if(!ro(ae.type,[Pn,wn,Qr,Vr,On]))return V.error("Expected first argument to be of type boolean, string, number or null, but found "+ni(ae.type)+" instead");if(D.length===4){var we=V.parse(D[3],3,Qr);return we?new Ko(ae,ce,we):null}else return new Ko(ae,ce)},Ko.prototype.evaluate=function(D){var V=this.needle.evaluate(D),ae=this.haystack.evaluate(D);if(!ml(V,["boolean","string","number","null"]))throw new Gi("Expected first argument to be of type boolean, string, number or null, but found "+ni(_i(V))+" instead.");if(!ml(ae,["string","array"]))throw new Gi("Expected second argument to be of type array or string, but found "+ni(_i(ae))+" instead.");if(this.fromIndex){var ce=this.fromIndex.evaluate(D);return ae.indexOf(V,ce)}return ae.indexOf(V)},Ko.prototype.eachChild=function(D){D(this.needle),D(this.haystack),this.fromIndex&&D(this.fromIndex)},Ko.prototype.outputDefined=function(){return!1},Ko.prototype.serialize=function(){if(this.fromIndex!=null&&this.fromIndex!==void 0){var D=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),D]}return["index-of",this.needle.serialize(),this.haystack.serialize()]};var Ss=function(D,V,ae,ce,we,Le){this.inputType=D,this.type=V,this.input=ae,this.cases=ce,this.outputs=we,this.otherwise=Le};Ss.parse=function(D,V){if(D.length<5)return V.error("Expected at least 4 arguments, but found only "+(D.length-1)+".");if(D.length%2!==1)return V.error("Expected an even number of arguments.");var ae,ce;V.expectedType&&V.expectedType.kind!=="value"&&(ce=V.expectedType);for(var we={},Le=[],Je=2;Je<D.length-1;Je+=2){var vt=D[Je],St=D[Je+1];Array.isArray(vt)||(vt=[vt]);var Rt=V.concat(Je);if(vt.length===0)return Rt.error("Expected at least one branch label.");for(var Xt=0,ir=vt;Xt<ir.length;Xt+=1){var tr=ir[Xt];if(typeof tr!="number"&&typeof tr!="string")return Rt.error("Branch labels must be numbers or strings.");if(typeof tr=="number"&&Math.abs(tr)>Number.MAX_SAFE_INTEGER)return Rt.error("Branch labels must be integers no larger than "+Number.MAX_SAFE_INTEGER+".");if(typeof tr=="number"&&Math.floor(tr)!==tr)return Rt.error("Numeric branch labels must be integer values.");if(!ae)ae=_i(tr);else if(Rt.checkSubtype(ae,_i(tr)))return null;if(typeof we[String(tr)]!="undefined")return Rt.error("Branch labels must be unique.");we[String(tr)]=Le.length}var yr=V.parse(St,Je,ce);if(!yr)return null;ce=ce||yr.type,Le.push(yr)}var Fr=V.parse(D[1],1,On);if(!Fr)return null;var ln=V.parse(D[D.length-1],D.length-1,ce);return!ln||Fr.type.kind!=="value"&&V.concat(1).checkSubtype(ae,Fr.type)?null:new Ss(ae,ce,Fr,we,Le,ln)},Ss.prototype.evaluate=function(D){var V=this.input.evaluate(D),ae=_i(V)===this.inputType&&this.outputs[this.cases[V]]||this.otherwise;return ae.evaluate(D)},Ss.prototype.eachChild=function(D){D(this.input),this.outputs.forEach(D),D(this.otherwise)},Ss.prototype.outputDefined=function(){return this.outputs.every(function(D){return D.outputDefined()})&&this.otherwise.outputDefined()},Ss.prototype.serialize=function(){for(var D=this,V=["match",this.input.serialize()],ae=Object.keys(this.cases).sort(),ce=[],we={},Le=0,Je=ae;Le<Je.length;Le+=1){var vt=Je[Le],St=we[this.cases[vt]];St===void 0?(we[this.cases[vt]]=ce.length,ce.push([this.cases[vt],[vt]])):ce[St][1].push(vt)}for(var Rt=function(Fr){return D.inputType.kind==="number"?Number(Fr):Fr},Xt=0,ir=ce;Xt<ir.length;Xt+=1){var tr=ir[Xt],St=tr[0],yr=tr[1];yr.length===1?V.push(Rt(yr[0])):V.push(yr.map(Rt)),V.push(this.outputs[outputIndex$1].serialize())}return V.push(this.otherwise.serialize()),V};var Jo=function(D,V,ae){this.type=D,this.branches=V,this.otherwise=ae};Jo.parse=function(D,V){if(D.length<4)return V.error("Expected at least 3 arguments, but found only "+(D.length-1)+".");if(D.length%2!==0)return V.error("Expected an odd number of arguments.");var ae;V.expectedType&&V.expectedType.kind!=="value"&&(ae=V.expectedType);for(var ce=[],we=1;we<D.length-1;we+=2){var Le=V.parse(D[we],we,Pn);if(!Le)return null;var Je=V.parse(D[we+1],we+1,ae);if(!Je)return null;ce.push([Le,Je]),ae=ae||Je.type}var vt=V.parse(D[D.length-1],D.length-1,ae);return vt?new Jo(ae,ce,vt):null},Jo.prototype.evaluate=function(D){for(var V=0,ae=this.branches;V<ae.length;V+=1){var ce=ae[V],we=ce[0],Le=ce[1];if(we.evaluate(D))return Le.evaluate(D)}return this.otherwise.evaluate(D)},Jo.prototype.eachChild=function(D){for(var V=0,ae=this.branches;V<ae.length;V+=1){var ce=ae[V],we=ce[0],Le=ce[1];D(we),D(Le)}D(this.otherwise)},Jo.prototype.outputDefined=function(){return this.branches.every(function(D){D[0];var V=D[1];return V.outputDefined()})&&this.otherwise.outputDefined()},Jo.prototype.serialize=function(){var D=["case"];return this.eachChild(function(V){D.push(V.serialize())}),D};var No=function(D,V,ae,ce){this.type=D,this.input=V,this.beginIndex=ae,this.endIndex=ce};No.parse=function(D,V){if(D.length<=2||D.length>=5)return V.error("Expected 3 or 4 arguments, but found "+(D.length-1)+" instead.");var ae=V.parse(D[1],1,On),ce=V.parse(D[2],2,Qr);if(!ae||!ce)return null;if(!ro(ae.type,[di(On),wn,On]))return V.error("Expected first argument to be of type array or string, but found "+ni(ae.type)+" instead");if(D.length===4){var we=V.parse(D[3],3,Qr);return we?new No(ae.type,ae,ce,we):null}else return new No(ae.type,ae,ce)},No.prototype.evaluate=function(D){var V=this.input.evaluate(D),ae=this.beginIndex.evaluate(D);if(!ml(V,["string","array"]))throw new Gi("Expected first argument to be of type array or string, but found "+ni(_i(V))+" instead.");if(this.endIndex){var ce=this.endIndex.evaluate(D);return V.slice(ae,ce)}return V.slice(ae)},No.prototype.eachChild=function(D){D(this.input),D(this.beginIndex),this.endIndex&&D(this.endIndex)},No.prototype.outputDefined=function(){return!1},No.prototype.serialize=function(){if(this.endIndex!=null&&this.endIndex!==void 0){var D=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),D]}return["slice",this.input.serialize(),this.beginIndex.serialize()]};function $l(R,D){return R==="=="||R==="!="?D.kind==="boolean"||D.kind==="string"||D.kind==="number"||D.kind==="null"||D.kind==="value":D.kind==="string"||D.kind==="number"||D.kind==="value"}function Oc(R,D,V){return D===V}function Bc(R,D,V){return D!==V}function Nc(R,D,V){return D<V}function Uc(R,D,V){return D>V}function lf(R,D,V){return D<=V}function Of(R,D,V){return D>=V}function Pl(R,D,V,ae){return ae.compare(D,V)===0}function qi(R,D,V,ae){return!Pl(R,D,V,ae)}function Fo(R,D,V,ae){return ae.compare(D,V)<0}function Rl(R,D,V,ae){return ae.compare(D,V)>0}function Bf(R,D,V,ae){return ae.compare(D,V)<=0}function ql(R,D,V,ae){return ae.compare(D,V)>=0}function Es(R,D,V){var ae=R!=="=="&&R!=="!=";return function(){function ce(we,Le,Je){this.type=Pn,this.lhs=we,this.rhs=Le,this.collator=Je,this.hasUntypedArgument=we.type.kind==="value"||Le.type.kind==="value"}return ce.parse=function(Le,Je){if(Le.length!==3&&Le.length!==4)return Je.error("Expected two or three arguments.");var vt=Le[0],St=Je.parse(Le[1],1,On);if(!St)return null;if(!$l(vt,St.type))return Je.concat(1).error('"'+vt+`" comparisons are not supported for type '`+ni(St.type)+"'.");var Rt=Je.parse(Le[2],2,On);if(!Rt)return null;if(!$l(vt,Rt.type))return Je.concat(2).error('"'+vt+`" comparisons are not supported for type '`+ni(Rt.type)+"'.");if(St.type.kind!==Rt.type.kind&&St.type.kind!=="value"&&Rt.type.kind!=="value")return Je.error("Cannot compare types '"+ni(St.type)+"' and '"+ni(Rt.type)+"'.");ae&&(St.type.kind==="value"&&Rt.type.kind!=="value"?St=new no(Rt.type,[St]):St.type.kind!=="value"&&Rt.type.kind==="value"&&(Rt=new no(St.type,[Rt])));var Xt=null;if(Le.length===4){if(St.type.kind!=="string"&&Rt.type.kind!=="string"&&St.type.kind!=="value"&&Rt.type.kind!=="value")return Je.error("Cannot use collator to compare non-string types.");if(Xt=Je.parse(Le[3],3,oa),!Xt)return null}return new ce(St,Rt,Xt)},ce.prototype.evaluate=function(Le){var Je=this.lhs.evaluate(Le),vt=this.rhs.evaluate(Le);if(ae&&this.hasUntypedArgument){var St=_i(Je),Rt=_i(vt);if(St.kind!==Rt.kind||!(St.kind==="string"||St.kind==="number"))throw new Gi('Expected arguments for "'+R+'" to be (string, string) or (number, number), but found ('+St.kind+", "+Rt.kind+") instead.")}if(this.collator&&!ae&&this.hasUntypedArgument){var Xt=_i(Je),ir=_i(vt);if(Xt.kind!=="string"||ir.kind!=="string")return D(Le,Je,vt)}return this.collator?V(Le,Je,vt,this.collator.evaluate(Le)):D(Le,Je,vt)},ce.prototype.eachChild=function(Le){Le(this.lhs),Le(this.rhs),this.collator&&Le(this.collator)},ce.prototype.outputDefined=function(){return!0},ce.prototype.serialize=function(){var Le=[R];return this.eachChild(function(Je){Le.push(Je.serialize())}),Le},ce}()}var Vc=Es("==",Oc,Pl),Nf=Es("!=",Bc,qi),Uf=Es("<",Nc,Fo),uf=Es(">",Uc,Rl),Vf=Es("<=",lf,Bf),wo=Es(">=",Of,ql),Qo=function(D,V,ae,ce,we){this.type=wn,this.number=D,this.locale=V,this.currency=ae,this.minFractionDigits=ce,this.maxFractionDigits=we};Qo.parse=function(D,V){if(D.length!==3)return V.error("Expected two arguments.");var ae=V.parse(D[1],1,Qr);if(!ae)return null;var ce=D[2];if(typeof ce!="object"||Array.isArray(ce))return V.error("NumberFormat options argument must be an object.");var we=null;if(ce.locale&&(we=V.parse(ce.locale,1,wn),!we))return null;var Le=null;if(ce.currency&&(Le=V.parse(ce.currency,1,wn),!Le))return null;var Je=null;if(ce["min-fraction-digits"]&&(Je=V.parse(ce["min-fraction-digits"],1,Qr),!Je))return null;var vt=null;return ce["max-fraction-digits"]&&(vt=V.parse(ce["max-fraction-digits"],1,Qr),!vt)?null:new Qo(ae,we,Le,Je,vt)},Qo.prototype.evaluate=function(D){return new Intl.NumberFormat(this.locale?this.locale.evaluate(D):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(D):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(D):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(D):void 0}).format(this.number.evaluate(D))},Qo.prototype.eachChild=function(D){D(this.number),this.locale&&D(this.locale),this.currency&&D(this.currency),this.minFractionDigits&&D(this.minFractionDigits),this.maxFractionDigits&&D(this.maxFractionDigits)},Qo.prototype.outputDefined=function(){return!1},Qo.prototype.serialize=function(){var D={};return this.locale&&(D.locale=this.locale.serialize()),this.currency&&(D.currency=this.currency.serialize()),this.minFractionDigits&&(D["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(D["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),D]};var Hs=function(D){this.type=Qr,this.input=D};Hs.parse=function(D,V){if(D.length!==2)return V.error("Expected 1 argument, but found "+(D.length-1)+" instead.");var ae=V.parse(D[1],1);return ae?ae.type.kind!=="array"&&ae.type.kind!=="string"&&ae.type.kind!=="value"?V.error("Expected argument of type string or array, but found "+ni(ae.type)+" instead."):new Hs(ae):null},Hs.prototype.evaluate=function(D){var V=this.input.evaluate(D);if(typeof V=="string")return V.length;if(Array.isArray(V))return V.length;throw new Gi("Expected value to be of type string or array, but found "+ni(_i(V))+" instead.")},Hs.prototype.eachChild=function(D){D(this.input)},Hs.prototype.outputDefined=function(){return!1},Hs.prototype.serialize=function(){var D=["length"];return this.eachChild(function(V){D.push(V.serialize())}),D};var Dl={"==":Vc,"!=":Nf,">":uf,"<":Uf,">=":wo,"<=":Vf,array:no,at:al,boolean:no,case:Jo,coalesce:jo,collator:Bs,format:ao,image:ko,in:Vs,"index-of":Ko,interpolate:ki,"interpolate-hcl":ki,"interpolate-lab":ki,length:Hs,let:Ms,literal:Oi,match:Ss,number:no,"number-format":Qo,object:no,slice:No,step:Xo,string:no,"to-boolean":Lo,"to-color":Lo,"to-number":Lo,"to-string":Lo,var:Ns,within:Yo};function Fu(R,D){var V=D[0],ae=D[1],ce=D[2],we=D[3];V=V.evaluate(R),ae=ae.evaluate(R),ce=ce.evaluate(R);var Le=we?we.evaluate(R):1,Je=xl(V,ae,ce,Le);if(Je)throw new Gi(Je);return new qa(V/255*Le,ae/255*Le,ce/255*Le,Le)}function il(R,D){return R in D}function ol(R,D){var V=D[R];return typeof V=="undefined"?null:V}function Hf(R,D,V,ae){for(;V<=ae;){var ce=V+ae>>1;if(D[ce]===R)return!0;D[ce]>R?ae=ce-1:V=ce+1}return!1}function Cs(R){return{type:R}}$i.register(Dl,{error:[ma,[wn],function(R,D){var V=D[0];throw new Gi(V.evaluate(R))}],typeof:[wn,[On],function(R,D){var V=D[0];return ni(_i(V.evaluate(R)))}],"to-rgba":[di(Qr,4),[Rn],function(R,D){var V=D[0];return V.evaluate(R).toArray()}],rgb:[Rn,[Qr,Qr,Qr],Fu],rgba:[Rn,[Qr,Qr,Qr,Qr],Fu],has:{type:Pn,overloads:[[[wn],function(R,D){var V=D[0];return il(V.evaluate(R),R.properties())}],[[wn,Un],function(R,D){var V=D[0],ae=D[1];return il(V.evaluate(R),ae.evaluate(R))}]]},get:{type:On,overloads:[[[wn],function(R,D){var V=D[0];return ol(V.evaluate(R),R.properties())}],[[wn,Un],function(R,D){var V=D[0],ae=D[1];return ol(V.evaluate(R),ae.evaluate(R))}]]},"feature-state":[On,[wn],function(R,D){var V=D[0];return ol(V.evaluate(R),R.featureState||{})}],properties:[Un,[],function(R){return R.properties()}],"geometry-type":[wn,[],function(R){return R.geometryType()}],id:[On,[],function(R){return R.id()}],zoom:[Qr,[],function(R){return R.globals.zoom}],"heatmap-density":[Qr,[],function(R){return R.globals.heatmapDensity||0}],"line-progress":[Qr,[],function(R){return R.globals.lineProgress||0}],accumulated:[On,[],function(R){return R.globals.accumulated===void 0?null:R.globals.accumulated}],"+":[Qr,Cs(Qr),function(R,D){for(var V=0,ae=0,ce=D;ae<ce.length;ae+=1){var we=ce[ae];V+=we.evaluate(R)}return V}],"*":[Qr,Cs(Qr),function(R,D){for(var V=1,ae=0,ce=D;ae<ce.length;ae+=1){var we=ce[ae];V*=we.evaluate(R)}return V}],"-":{type:Qr,overloads:[[[Qr,Qr],function(R,D){var V=D[0],ae=D[1];return V.evaluate(R)-ae.evaluate(R)}],[[Qr],function(R,D){var V=D[0];return-V.evaluate(R)}]]},"/":[Qr,[Qr,Qr],function(R,D){var V=D[0],ae=D[1];return V.evaluate(R)/ae.evaluate(R)}],"%":[Qr,[Qr,Qr],function(R,D){var V=D[0],ae=D[1];return V.evaluate(R)%ae.evaluate(R)}],ln2:[Qr,[],function(){return Math.LN2}],pi:[Qr,[],function(){return Math.PI}],e:[Qr,[],function(){return Math.E}],"^":[Qr,[Qr,Qr],function(R,D){var V=D[0],ae=D[1];return Math.pow(V.evaluate(R),ae.evaluate(R))}],sqrt:[Qr,[Qr],function(R,D){var V=D[0];return Math.sqrt(V.evaluate(R))}],log10:[Qr,[Qr],function(R,D){var V=D[0];return Math.log(V.evaluate(R))/Math.LN10}],ln:[Qr,[Qr],function(R,D){var V=D[0];return Math.log(V.evaluate(R))}],log2:[Qr,[Qr],function(R,D){var V=D[0];return Math.log(V.evaluate(R))/Math.LN2}],sin:[Qr,[Qr],function(R,D){var V=D[0];return Math.sin(V.evaluate(R))}],cos:[Qr,[Qr],function(R,D){var V=D[0];return Math.cos(V.evaluate(R))}],tan:[Qr,[Qr],function(R,D){var V=D[0];return Math.tan(V.evaluate(R))}],asin:[Qr,[Qr],function(R,D){var V=D[0];return Math.asin(V.evaluate(R))}],acos:[Qr,[Qr],function(R,D){var V=D[0];return Math.acos(V.evaluate(R))}],atan:[Qr,[Qr],function(R,D){var V=D[0];return Math.atan(V.evaluate(R))}],min:[Qr,Cs(Qr),function(R,D){return Math.min.apply(Math,D.map(function(V){return V.evaluate(R)}))}],max:[Qr,Cs(Qr),function(R,D){return Math.max.apply(Math,D.map(function(V){return V.evaluate(R)}))}],abs:[Qr,[Qr],function(R,D){var V=D[0];return Math.abs(V.evaluate(R))}],round:[Qr,[Qr],function(R,D){var V=D[0],ae=V.evaluate(R);return ae<0?-Math.round(-ae):Math.round(ae)}],floor:[Qr,[Qr],function(R,D){var V=D[0];return Math.floor(V.evaluate(R))}],ceil:[Qr,[Qr],function(R,D){var V=D[0];return Math.ceil(V.evaluate(R))}],"filter-==":[Pn,[wn,On],function(R,D){var V=D[0],ae=D[1];return R.properties()[V.value]===ae.value}],"filter-id-==":[Pn,[On],function(R,D){var V=D[0];return R.id()===V.value}],"filter-type-==":[Pn,[wn],function(R,D){var V=D[0];return R.geometryType()===V.value}],"filter-<":[Pn,[wn,On],function(R,D){var V=D[0],ae=D[1],ce=R.properties()[V.value],we=ae.value;return typeof ce==typeof we&&ce<we}],"filter-id-<":[Pn,[On],function(R,D){var V=D[0],ae=R.id(),ce=V.value;return typeof ae==typeof ce&&ae<ce}],"filter->":[Pn,[wn,On],function(R,D){var V=D[0],ae=D[1],ce=R.properties()[V.value],we=ae.value;return typeof ce==typeof we&&ce>we}],"filter-id->":[Pn,[On],function(R,D){var V=D[0],ae=R.id(),ce=V.value;return typeof ae==typeof ce&&ae>ce}],"filter-<=":[Pn,[wn,On],function(R,D){var V=D[0],ae=D[1],ce=R.properties()[V.value],we=ae.value;return typeof ce==typeof we&&ce<=we}],"filter-id-<=":[Pn,[On],function(R,D){var V=D[0],ae=R.id(),ce=V.value;return typeof ae==typeof ce&&ae<=ce}],"filter->=":[Pn,[wn,On],function(R,D){var V=D[0],ae=D[1],ce=R.properties()[V.value],we=ae.value;return typeof ce==typeof we&&ce>=we}],"filter-id->=":[Pn,[On],function(R,D){var V=D[0],ae=R.id(),ce=V.value;return typeof ae==typeof ce&&ae>=ce}],"filter-has":[Pn,[On],function(R,D){var V=D[0];return V.value in R.properties()}],"filter-has-id":[Pn,[],function(R){return R.id()!==null&&R.id()!==void 0}],"filter-type-in":[Pn,[di(wn)],function(R,D){var V=D[0];return V.value.indexOf(R.geometryType())>=0}],"filter-id-in":[Pn,[di(On)],function(R,D){var V=D[0];return V.value.indexOf(R.id())>=0}],"filter-in-small":[Pn,[wn,di(On)],function(R,D){var V=D[0],ae=D[1];return ae.value.indexOf(R.properties()[V.value])>=0}],"filter-in-large":[Pn,[wn,di(On)],function(R,D){var V=D[0],ae=D[1];return Hf(R.properties()[V.value],ae.value,0,ae.value.length-1)}],all:{type:Pn,overloads:[[[Pn,Pn],function(R,D){var V=D[0],ae=D[1];return V.evaluate(R)&&ae.evaluate(R)}],[Cs(Pn),function(R,D){for(var V=0,ae=D;V<ae.length;V+=1){var ce=ae[V];if(!ce.evaluate(R))return!1}return!0}]]},any:{type:Pn,overloads:[[[Pn,Pn],function(R,D){var V=D[0],ae=D[1];return V.evaluate(R)||ae.evaluate(R)}],[Cs(Pn),function(R,D){for(var V=0,ae=D;V<ae.length;V+=1){var ce=ae[V];if(ce.evaluate(R))return!0}return!1}]]},"!":[Pn,[Pn],function(R,D){var V=D[0];return!V.evaluate(R)}],"is-supported-script":[Pn,[wn],function(R,D){var V=D[0],ae=R.globals&&R.globals.isSupportedScript;return ae?ae(V.evaluate(R)):!0}],upcase:[wn,[wn],function(R,D){var V=D[0];return V.evaluate(R).toUpperCase()}],downcase:[wn,[wn],function(R,D){var V=D[0];return V.evaluate(R).toLowerCase()}],concat:[wn,Cs(On),function(R,D){return D.map(function(V){return bl(V.evaluate(R))}).join("")}],"resolved-locale":[wn,[oa],function(R,D){var V=D[0];return V.evaluate(R).resolvedLocale()}]});function Il(R){return{result:"success",value:R}}function Gs(R){return{result:"error",value:R}}function Ls(R){return R["property-type"]==="data-driven"||R["property-type"]==="cross-faded-data-driven"}function eu(R){return!!R.expression&&R.expression.parameters.indexOf("zoom")>-1}function _l(R){return!!R.expression&&R.expression.interpolated}function hi(R){return R instanceof Number?"number":R instanceof String?"string":R instanceof Boolean?"boolean":Array.isArray(R)?"array":R===null?"null":typeof R}function kl(R){return typeof R=="object"&&R!==null&&!Array.isArray(R)}function zu(R){return R}function Gf(R,D){var V=D.type==="color",ae=R.stops&&typeof R.stops[0][0]=="object",ce=ae||R.property!==void 0,we=ae||!ce,Le=R.type||(_l(D)?"exponential":"interval");if(V&&(R=_n({},R),R.stops&&(R.stops=R.stops.map(function(qn){return[qn[0],qa.parse(qn[1])]})),R.default?R.default=qa.parse(R.default):R.default=qa.parse(D.default)),R.colorSpace&&R.colorSpace!=="rgb"&&!ku[R.colorSpace])throw new Error("Unknown color space: "+R.colorSpace);var Je,vt,St;if(Le==="exponential")Je=ff;else if(Le==="interval")Je=Ou;else if(Le==="categorical"){Je=tu,vt=Object.create(null);for(var Rt=0,Xt=R.stops;Rt<Xt.length;Rt+=1){var ir=Xt[Rt];vt[ir[0]]=ir[1]}St=typeof R.stops[0][0]}else if(Le==="identity")Je=ru;else throw new Error('Unknown function type "'+Le+'"');if(ae){for(var tr={},yr=[],Fr=0;Fr<R.stops.length;Fr++){var ln=R.stops[Fr],en=ln[0].zoom;tr[en]===void 0&&(tr[en]={zoom:en,type:R.type,property:R.property,default:R.default,stops:[]},yr.push(en)),tr[en].stops.push([ln[0].value,ln[1]])}for(var Sn=[],yn=0,Mn=yr;yn<Mn.length;yn+=1){var Fn=Mn[yn];Sn.push([tr[Fn].zoom,Gf(tr[Fn],D)])}var Wn={name:"linear"};return{kind:"composite",interpolationType:Wn,interpolationFactor:ki.interpolationFactor.bind(void 0,Wn),zoomStops:Sn.map(function(qn){return qn[0]}),evaluate:function(wa,da){var ba=wa.zoom;return ff({stops:Sn,base:R.base},D,ba).evaluate(ba,da)}}}else if(we){var ra=Le==="exponential"?{name:"exponential",base:R.base!==void 0?R.base:1}:null;return{kind:"camera",interpolationType:ra,interpolationFactor:ki.interpolationFactor.bind(void 0,ra),zoomStops:R.stops.map(function(qn){return qn[0]}),evaluate:function(qn){var wa=qn.zoom;return Je(R,D,wa,vt,St)}}}else return{kind:"source",evaluate:function(wa,da){var ba=da&&da.properties?da.properties[R.property]:void 0;return ba===void 0?Fl(R.default,D.default):Je(R,D,ba,vt,St)}}}function Fl(R,D,V){if(R!==void 0)return R;if(D!==void 0)return D;if(V!==void 0)return V}function tu(R,D,V,ae,ce){var we=typeof V===ce?ae[V]:void 0;return Fl(we,R.default,D.default)}function Ou(R,D,V){if(hi(V)!=="number")return Fl(R.default,D.default);var ae=R.stops.length;if(ae===1||V<=R.stops[0][0])return R.stops[0][1];if(V>=R.stops[ae-1][0])return R.stops[ae-1][1];var ce=Ml(R.stops.map(function(we){return we[0]}),V);return R.stops[ce][1]}function ff(R,D,V){var ae=R.base!==void 0?R.base:1;if(hi(V)!=="number")return Fl(R.default,D.default);var ce=R.stops.length;if(ce===1||V<=R.stops[0][0])return R.stops[0][1];if(V>=R.stops[ce-1][0])return R.stops[ce-1][1];var we=Ml(R.stops.map(function(Xt){return Xt[0]}),V),Le=nu(V,ae,R.stops[we][0],R.stops[we+1][0]),Je=R.stops[we][1],vt=R.stops[we+1][1],St=Pu[D.type]||zu;if(R.colorSpace&&R.colorSpace!=="rgb"){var Rt=ku[R.colorSpace];St=function(Xt,ir){return Rt.reverse(Rt.interpolate(Rt.forward(Xt),Rt.forward(ir),Le))}}return typeof Je.evaluate=="function"?{evaluate:function(){for(var ir=[],tr=arguments.length;tr--;)ir[tr]=arguments[tr];var yr=Je.evaluate.apply(void 0,ir),Fr=vt.evaluate.apply(void 0,ir);if(!(yr===void 0||Fr===void 0))return St(yr,Fr,Le)}}:St(Je,vt,Le)}function ru(R,D,V){return D.type==="color"?V=qa.parse(V):D.type==="formatted"?V=Qi.fromString(V.toString()):D.type==="resolvedImage"?V=bo.fromString(V.toString()):hi(V)!==D.type&&(D.type!=="enum"||!D.values[V])&&(V=void 0),Fl(V,R.default,D.default)}function nu(R,D,V,ae){var ce=ae-V,we=R-V;return ce===0?0:D===1?we/ce:(Math.pow(D,we)-1)/(Math.pow(D,ce)-1)}var Ws=function(D,V){this.expression=D,this._warningHistory={},this._evaluator=new us,this._defaultValue=V?Wf(V):null,this._enumValues=V&&V.type==="enum"?V.values:null};Ws.prototype.evaluateWithoutErrorHandling=function(D,V,ae,ce,we,Le){return this._evaluator.globals=D,this._evaluator.feature=V,this._evaluator.featureState=ae,this._evaluator.canonical=ce,this._evaluator.availableImages=we||null,this._evaluator.formattedSection=Le,this.expression.evaluate(this._evaluator)},Ws.prototype.evaluate=function(D,V,ae,ce,we,Le){this._evaluator.globals=D,this._evaluator.feature=V||null,this._evaluator.featureState=ae||null,this._evaluator.canonical=ce,this._evaluator.availableImages=we||null,this._evaluator.formattedSection=Le||null;try{var Je=this.expression.evaluate(this._evaluator);if(Je==null||typeof Je=="number"&&Je!==Je)return this._defaultValue;if(this._enumValues&&!(Je in this._enumValues))throw new Gi("Expected value to be one of "+Object.keys(this._enumValues).map(function(vt){return JSON.stringify(vt)}).join(", ")+", but found "+JSON.stringify(Je)+" instead.");return Je}catch(vt){return this._warningHistory[vt.message]||(this._warningHistory[vt.message]=!0,typeof console!="undefined"&&console.warn(vt.message)),this._defaultValue}};function au(R){return Array.isArray(R)&&R.length>0&&typeof R[0]=="string"&&R[0]in Dl}function Ys(R,D){var V=new cs(Dl,[],D?Hc(D):void 0),ae=V.parse(R,void 0,void 0,void 0,D&&D.type==="string"?{typeAnnotation:"coerce"}:void 0);return ae?Il(new Ws(ae,D)):Gs(V.errors)}var Wi=function(D,V){this.kind=D,this._styleExpression=V,this.isStateDependent=D!=="constant"&&!rl(V.expression)};Wi.prototype.evaluateWithoutErrorHandling=function(D,V,ae,ce,we,Le){return this._styleExpression.evaluateWithoutErrorHandling(D,V,ae,ce,we,Le)},Wi.prototype.evaluate=function(D,V,ae,ce,we,Le){return this._styleExpression.evaluate(D,V,ae,ce,we,Le)};var hs=function(D,V,ae,ce){this.kind=D,this.zoomStops=ae,this._styleExpression=V,this.isStateDependent=D!=="camera"&&!rl(V.expression),this.interpolationType=ce};hs.prototype.evaluateWithoutErrorHandling=function(D,V,ae,ce,we,Le){return this._styleExpression.evaluateWithoutErrorHandling(D,V,ae,ce,we,Le)},hs.prototype.evaluate=function(D,V,ae,ce,we,Le){return this._styleExpression.evaluate(D,V,ae,ce,we,Le)},hs.prototype.interpolationFactor=function(D,V,ae){return this.interpolationType?ki.interpolationFactor(this.interpolationType,D,V,ae):0};function cf(R,D){if(R=Ys(R,D),R.result==="error")return R;var V=R.value.expression,ae=Al(V);if(!ae&&!Ls(D))return Gs([new Er("","data expressions not supported")]);var ce=Kl(V,["zoom"]);if(!ce&&!eu(D))return Gs([new Er("","zoom expressions not supported")]);var we=iu(V);if(!we&&!ce)return Gs([new Er("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')]);if(we instanceof Er)return Gs([we]);if(we instanceof ki&&!_l(D))return Gs([new Er("",'"interpolate" expressions cannot be used with this property')]);if(!we)return Il(ae?new Wi("constant",R.value):new Wi("source",R.value));var Le=we instanceof ki?we.interpolation:void 0;return Il(ae?new hs("camera",R.value,we.labels,Le):new hs("composite",R.value,we.labels,Le))}var sl=function(D,V){this._parameters=D,this._specification=V,_n(this,Gf(this._parameters,this._specification))};sl.deserialize=function(D){return new sl(D._parameters,D._specification)},sl.serialize=function(D){return{_parameters:D._parameters,_specification:D._specification}};function Bu(R,D){if(kl(R))return new sl(R,D);if(au(R)){var V=cf(R,D);if(V.result==="error")throw new Error(V.value.map(function(ce){return ce.key+": "+ce.message}).join(", "));return V.value}else{var ae=R;return typeof R=="string"&&D.type==="color"&&(ae=qa.parse(R)),{kind:"constant",evaluate:function(){return ae}}}}function iu(R){var D=null;if(R instanceof Ms)D=iu(R.result);else if(R instanceof jo)for(var V=0,ae=R.args;V<ae.length;V+=1){var ce=ae[V];if(D=iu(ce),D)break}else(R instanceof Xo||R instanceof ki)&&R.input instanceof $i&&R.input.name==="zoom"&&(D=R);return D instanceof Er||R.eachChild(function(we){var Le=iu(we);Le instanceof Er?D=Le:!D&&Le?D=new Er("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):D&&Le&&D!==Le&&(D=new Er("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),D}function Hc(R){var D={color:Rn,string:wn,number:Qr,enum:wn,boolean:Pn,formatted:ga,resolvedImage:La};return R.type==="array"?di(D[R.value]||On,R.length):D[R.type]}function Wf(R){return R.type==="color"&&kl(R.default)?new qa(0,0,0,0):R.type==="color"?qa.parse(R.default)||null:R.default===void 0?null:R.default}function po(R){var D=R.key,V=R.value,ae=R.valueSpec||{},ce=R.objectElementValidators||{},we=R.style,Le=R.styleSpec,Je=[],vt=hi(V);if(vt!=="object")return[new Or(D,V,"object expected, "+vt+" found")];for(var St in V){var Rt=St.split(".")[0],Xt=ae[Rt]||ae["*"],ir=void 0;if(ce[Rt])ir=ce[Rt];else if(ae[Rt])ir=_r;else if(ce["*"])ir=ce["*"];else if(ae["*"])ir=_r;else{Je.push(new Or(D,V[St],'unknown property "'+St+'"'));continue}Je=Je.concat(ir({key:(D&&D+".")+St,value:V[St],valueSpec:Xt,style:we,styleSpec:Le,object:V,objectKey:St},V))}for(var tr in ae)ce[tr]||ae[tr].required&&ae[tr].default===void 0&&V[tr]===void 0&&Je.push(new Or(D,V,'missing required property "'+tr+'"'));return Je}function ou(R){var D=R.value,V=R.valueSpec,ae=R.style,ce=R.styleSpec,we=R.key,Le=R.arrayElementValidator||_r;if(hi(D)!=="array")return[new Or(we,D,"array expected, "+hi(D)+" found")];if(V.length&&D.length!==V.length)return[new Or(we,D,"array length "+V.length+" expected, length "+D.length+" found")];if(V["min-length"]&&D.length<V["min-length"])return[new Or(we,D,"array length at least "+V["min-length"]+" expected, length "+D.length+" found")];var Je={type:V.value,values:V.values};ce.$version<7&&(Je.function=V.function),hi(V.value)==="object"&&(Je=V.value);for(var vt=[],St=0;St<D.length;St++)vt=vt.concat(Le({array:D,arrayIndex:St,value:D[St],valueSpec:Je,style:ae,styleSpec:ce,key:we+"["+St+"]"}));return vt}function zl(R){var D=R.key,V=R.value,ae=R.valueSpec,ce=hi(V);return ce==="number"&&V!==V&&(ce="NaN"),ce!=="number"?[new Or(D,V,"number expected, "+ce+" found")]:"minimum"in ae&&V<ae.minimum?[new Or(D,V,V+" is less than the minimum value "+ae.minimum)]:"maximum"in ae&&V>ae.maximum?[new Or(D,V,V+" is greater than the maximum value "+ae.maximum)]:[]}function Yf(R){var D=R.valueSpec,V=hn(R.value.type),ae,ce={},we,Le,Je=V!=="categorical"&&R.value.property===void 0,vt=!Je,St=hi(R.value.stops)==="array"&&hi(R.value.stops[0])==="array"&&hi(R.value.stops[0][0])==="object",Rt=po({key:R.key,value:R.value,valueSpec:R.styleSpec.function,style:R.style,styleSpec:R.styleSpec,objectElementValidators:{stops:Xt,default:yr}});return V==="identity"&&Je&&Rt.push(new Or(R.key,R.value,'missing required property "property"')),V!=="identity"&&!R.value.stops&&Rt.push(new Or(R.key,R.value,'missing required property "stops"')),V==="exponential"&&R.valueSpec.expression&&!_l(R.valueSpec)&&Rt.push(new Or(R.key,R.value,"exponential functions not supported")),R.styleSpec.$version>=8&&(vt&&!Ls(R.valueSpec)?Rt.push(new Or(R.key,R.value,"property functions not supported")):Je&&!eu(R.valueSpec)&&Rt.push(new Or(R.key,R.value,"zoom functions not supported"))),(V==="categorical"||St)&&R.value.property===void 0&&Rt.push(new Or(R.key,R.value,'"property" property is required')),Rt;function Xt(Fr){if(V==="identity")return[new Or(Fr.key,Fr.value,'identity function may not have a "stops" property')];var ln=[],en=Fr.value;return ln=ln.concat(ou({key:Fr.key,value:en,valueSpec:Fr.valueSpec,style:Fr.style,styleSpec:Fr.styleSpec,arrayElementValidator:ir})),hi(en)==="array"&&en.length===0&&ln.push(new Or(Fr.key,en,"array must have at least one stop")),ln}function ir(Fr){var ln=[],en=Fr.value,Sn=Fr.key;if(hi(en)!=="array")return[new Or(Sn,en,"array expected, "+hi(en)+" found")];if(en.length!==2)return[new Or(Sn,en,"array length 2 expected, length "+en.length+" found")];if(St){if(hi(en[0])!=="object")return[new Or(Sn,en,"object expected, "+hi(en[0])+" found")];if(en[0].zoom===void 0)return[new Or(Sn,en,"object stop key must have zoom")];if(en[0].value===void 0)return[new Or(Sn,en,"object stop key must have value")];if(Le&&Le>hn(en[0].zoom))return[new Or(Sn,en[0].zoom,"stop zoom values must appear in ascending order")];hn(en[0].zoom)!==Le&&(Le=hn(en[0].zoom),we=void 0,ce={}),ln=ln.concat(po({key:Sn+"[0]",value:en[0],valueSpec:{zoom:{}},style:Fr.style,styleSpec:Fr.styleSpec,objectElementValidators:{zoom:zl,value:tr}}))}else ln=ln.concat(tr({key:Sn+"[0]",value:en[0],valueSpec:{},style:Fr.style,styleSpec:Fr.styleSpec},en));return au(sn(en[1]))?ln.concat([new Or(Sn+"[1]",en[1],"expressions are not allowed in function stops.")]):ln.concat(_r({key:Sn+"[1]",value:en[1],valueSpec:D,style:Fr.style,styleSpec:Fr.styleSpec}))}function tr(Fr,ln){var en=hi(Fr.value),Sn=hn(Fr.value),yn=Fr.value!==null?Fr.value:ln;if(!ae)ae=en;else if(en!==ae)return[new Or(Fr.key,yn,en+" stop domain type must match previous stop domain type "+ae)];if(en!=="number"&&en!=="string"&&en!=="boolean")return[new Or(Fr.key,yn,"stop domain value must be a number, string, or boolean")];if(en!=="number"&&V!=="categorical"){var Mn="number expected, "+en+" found";return Ls(D)&&V===void 0&&(Mn+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new Or(Fr.key,yn,Mn)]}return V==="categorical"&&en==="number"&&(!isFinite(Sn)||Math.floor(Sn)!==Sn)?[new Or(Fr.key,yn,"integer expected, found "+Sn)]:V!=="categorical"&&en==="number"&&we!==void 0&&Sn<we?[new Or(Fr.key,yn,"stop domain values must appear in ascending order")]:(we=Sn,V==="categorical"&&Sn in ce?[new Or(Fr.key,yn,"stop domain values must be unique")]:(ce[Sn]=!0,[]))}function yr(Fr){return _r({key:Fr.key,value:Fr.value,valueSpec:D,style:Fr.style,styleSpec:Fr.styleSpec})}}function Xs(R){var D=(R.expressionContext==="property"?cf:Ys)(sn(R.value),R.valueSpec);if(D.result==="error")return D.value.map(function(ae){return new Or(""+R.key+ae.key,R.value,ae.message)});var V=D.value.expression||D.value._styleExpression.expression;if(R.expressionContext==="property"&&R.propertyKey==="text-font"&&!V.outputDefined())return[new Or(R.key,R.value,'Invalid data expression for "'+R.propertyKey+'". Output values must be contained as literals within the expression.')];if(R.expressionContext==="property"&&R.propertyType==="layout"&&!rl(V))return[new Or(R.key,R.value,'"feature-state" data expressions are not supported with layout properties.')];if(R.expressionContext==="filter"&&!rl(V))return[new Or(R.key,R.value,'"feature-state" data expressions are not supported with filters.')];if(R.expressionContext&&R.expressionContext.indexOf("cluster")===0){if(!Kl(V,["zoom","feature-state"]))return[new Or(R.key,R.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(R.expressionContext==="cluster-initial"&&!Al(V))return[new Or(R.key,R.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function Gc(R){var D=R.value,V=R.key,ae=hi(D);return ae!=="boolean"?[new Or(V,D,"boolean expected, "+ae+" found")]:[]}function Ro(R){var D=R.key,V=R.value,ae=hi(V);return ae!=="string"?[new Or(D,V,"color expected, "+ae+" found")]:Ef(V)===null?[new Or(D,V,'color expected, "'+V+'" found')]:[]}function su(R){var D=R.key,V=R.value,ae=R.valueSpec,ce=[];return Array.isArray(ae.values)?ae.values.indexOf(hn(V))===-1&&ce.push(new Or(D,V,"expected one of ["+ae.values.join(", ")+"], "+JSON.stringify(V)+" found")):Object.keys(ae.values).indexOf(hn(V))===-1&&ce.push(new Or(D,V,"expected one of ["+Object.keys(ae.values).join(", ")+"], "+JSON.stringify(V)+" found")),ce}function Nu(R){if(R===!0||R===!1)return!0;if(!Array.isArray(R)||R.length===0)return!1;switch(R[0]){case"has":return R.length>=2&&R[1]!=="$id"&&R[1]!=="$type";case"in":return R.length>=3&&(typeof R[1]!="string"||Array.isArray(R[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return R.length!==3||Array.isArray(R[1])||Array.isArray(R[2]);case"any":case"all":for(var D=0,V=R.slice(1);D<V.length;D+=1){var ae=V[D];if(!Nu(ae)&&typeof ae!="boolean")return!1}return!0;default:return!0}}var Ps={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function Zs(R){if(R==null)return{filter:function(){return!0},needGeometry:!1};Nu(R)||(R=uu(R));var D=Ys(R,Ps);if(D.result==="error")throw new Error(D.value.map(function(ae){return ae.key+": "+ae.message}).join(", "));var V=lu(R);return{filter:function(ae,ce,we){return D.value.evaluate(ae,ce,{},we)},needGeometry:V}}function hf(R,D){return R<D?-1:R>D?1:0}function lu(R){if(!Array.isArray(R))return!1;if(R[0]==="within")return!0;for(var D=1;D<R.length;D++)if(lu(R[D]))return!0;return!1}function uu(R){if(!R)return!0;var D=R[0];if(R.length<=1)return D!=="any";var V=D==="=="?Uu(R[1],R[2],"=="):D==="!="?ll(Uu(R[1],R[2],"==")):D==="<"||D===">"||D==="<="||D===">="?Uu(R[1],R[2],D):D==="any"?Xf(R.slice(1)):D==="all"?["all"].concat(R.slice(1).map(uu)):D==="none"?["all"].concat(R.slice(1).map(uu).map(ll)):D==="in"?fu(R[1],R.slice(2)):D==="!in"?ll(fu(R[1],R.slice(2))):D==="has"?vf(R[1]):D==="!has"?ll(vf(R[1])):D==="within"?R:!0;return V}function Uu(R,D,V){switch(R){case"$type":return["filter-type-"+V,D];case"$id":return["filter-id-"+V,D];default:return["filter-"+V,R,D]}}function Xf(R){return["any"].concat(R.map(uu))}function fu(R,D){if(D.length===0)return!1;switch(R){case"$type":return["filter-type-in",["literal",D]];case"$id":return["filter-id-in",["literal",D]];default:return D.length>200&&!D.some(function(V){return typeof V!=typeof D[0]})?["filter-in-large",R,["literal",D.sort(hf)]]:["filter-in-small",R,["literal",D]]}}function vf(R){switch(R){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",R]}}function ll(R){return["!",R]}function df(R){return Nu(sn(R.value))?Xs(_n({},R,{expressionContext:"filter",valueSpec:{value:"boolean"}})):cu(R)}function cu(R){var D=R.value,V=R.key;if(hi(D)!=="array")return[new Or(V,D,"array expected, "+hi(D)+" found")];var ae=R.styleSpec,ce,we=[];if(D.length<1)return[new Or(V,D,"filter array must have at least 1 element")];switch(we=we.concat(su({key:V+"[0]",value:D[0],valueSpec:ae.filter_operator,style:R.style,styleSpec:R.styleSpec})),hn(D[0])){case"<":case"<=":case">":case">=":D.length>=2&&hn(D[1])==="$type"&&we.push(new Or(V,D,'"$type" cannot be use with operator "'+D[0]+'"'));case"==":case"!=":D.length!==3&&we.push(new Or(V,D,'filter array for operator "'+D[0]+'" must have 3 elements'));case"in":case"!in":D.length>=2&&(ce=hi(D[1]),ce!=="string"&&we.push(new Or(V+"[1]",D[1],"string expected, "+ce+" found")));for(var Le=2;Le<D.length;Le++)ce=hi(D[Le]),hn(D[1])==="$type"?we=we.concat(su({key:V+"["+Le+"]",value:D[Le],valueSpec:ae.geometry_type,style:R.style,styleSpec:R.styleSpec})):ce!=="string"&&ce!=="number"&&ce!=="boolean"&&we.push(new Or(V+"["+Le+"]",D[Le],"string, number, or boolean expected, "+ce+" found"));break;case"any":case"all":case"none":for(var Je=1;Je<D.length;Je++)we=we.concat(cu({key:V+"["+Je+"]",value:D[Je],style:R.style,styleSpec:R.styleSpec}));break;case"has":case"!has":ce=hi(D[1]),D.length!==2?we.push(new Or(V,D,'filter array for "'+D[0]+'" operator must have 2 elements')):ce!=="string"&&we.push(new Or(V+"[1]",D[1],"string expected, "+ce+" found"));break;case"within":ce=hi(D[1]),D.length!==2?we.push(new Or(V,D,'filter array for "'+D[0]+'" operator must have 2 elements')):ce!=="object"&&we.push(new Or(V+"[1]",D[1],"object expected, "+ce+" found"));break}return we}function Zf(R,D){var V=R.key,ae=R.style,ce=R.styleSpec,we=R.value,Le=R.objectKey,Je=ce[D+"_"+R.layerType];if(!Je)return[];var vt=Le.match(/^(.*)-transition$/);if(D==="paint"&&vt&&Je[vt[1]]&&Je[vt[1]].transition)return _r({key:V,value:we,valueSpec:ce.transition,style:ae,styleSpec:ce});var St=R.valueSpec||Je[Le];if(!St)return[new Or(V,we,'unknown property "'+Le+'"')];var Rt;if(hi(we)==="string"&&Ls(St)&&!St.tokens&&(Rt=/^{([^}]+)}$/.exec(we)))return[new Or(V,we,'"'+Le+'" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": '+JSON.stringify(Rt[1])+" }`.")];var Xt=[];return R.layerType==="symbol"&&(Le==="text-field"&&ae&&!ae.glyphs&&Xt.push(new Or(V,we,'use of "text-field" requires a style "glyphs" property')),Le==="text-font"&&kl(sn(we))&&hn(we.type)==="identity"&&Xt.push(new Or(V,we,'"text-font" does not support identity functions'))),Xt.concat(_r({key:R.key,value:we,valueSpec:St,style:ae,styleSpec:ce,expressionContext:"property",propertyType:D,propertyKey:Le}))}function Ke(R){return Zf(R,"paint")}function nt(R){return Zf(R,"layout")}function gt(R){var D=[],V=R.value,ae=R.key,ce=R.style,we=R.styleSpec;!V.type&&!V.ref&&D.push(new Or(ae,V,'either "type" or "ref" is required'));var Le=hn(V.type),Je=hn(V.ref);if(V.id)for(var vt=hn(V.id),St=0;St<R.arrayIndex;St++){var Rt=ce.layers[St];hn(Rt.id)===vt&&D.push(new Or(ae,V.id,'duplicate layer id "'+V.id+'", previously used at line '+Rt.id.__line__))}if("ref"in V){["type","source","source-layer","filter","layout"].forEach(function(yr){yr in V&&D.push(new Or(ae,V[yr],'"'+yr+'" is prohibited for ref layers'))});var Xt;ce.layers.forEach(function(yr){hn(yr.id)===Je&&(Xt=yr)}),Xt?Xt.ref?D.push(new Or(ae,V.ref,"ref cannot reference another ref layer")):Le=hn(Xt.type):D.push(new Or(ae,V.ref,'ref layer "'+Je+'" not found'))}else if(Le!=="background")if(!V.source)D.push(new Or(ae,V,'missing required property "source"'));else{var ir=ce.sources&&ce.sources[V.source],tr=ir&&hn(ir.type);ir?tr==="vector"&&Le==="raster"?D.push(new Or(ae,V.source,'layer "'+V.id+'" requires a raster source')):tr==="raster"&&Le!=="raster"?D.push(new Or(ae,V.source,'layer "'+V.id+'" requires a vector source')):tr==="vector"&&!V["source-layer"]?D.push(new Or(ae,V,'layer "'+V.id+'" must specify a "source-layer"')):tr==="raster-dem"&&Le!=="hillshade"?D.push(new Or(ae,V.source,"raster-dem source can only be used with layer type 'hillshade'.")):Le==="line"&&V.paint&&V.paint["line-gradient"]&&(tr!=="geojson"||!ir.lineMetrics)&&D.push(new Or(ae,V,'layer "'+V.id+'" specifies a line-gradient, which requires a GeoJSON source with `lineMetrics` enabled.')):D.push(new Or(ae,V.source,'source "'+V.source+'" not found'))}return D=D.concat(po({key:ae,value:V,valueSpec:we.layer,style:R.style,styleSpec:R.styleSpec,objectElementValidators:{"*":function(){return[]},type:function(){return _r({key:ae+".type",value:V.type,valueSpec:we.layer.type,style:R.style,styleSpec:R.styleSpec,object:V,objectKey:"type"})},filter:df,layout:function(Fr){return po({layer:V,key:Fr.key,value:Fr.value,style:Fr.style,styleSpec:Fr.styleSpec,objectElementValidators:{"*":function(en){return nt(_n({layerType:Le},en))}}})},paint:function(Fr){return po({layer:V,key:Fr.key,value:Fr.value,style:Fr.style,styleSpec:Fr.styleSpec,objectElementValidators:{"*":function(en){return Ke(_n({layerType:Le},en))}}})}}})),D}function wt(R){var D=R.value,V=R.key,ae=hi(D);return ae!=="string"?[new Or(V,D,"string expected, "+ae+" found")]:[]}var zt={promoteId:Ut};function _t(R){var D=R.value,V=R.key,ae=R.styleSpec,ce=R.style;if(!D.type)return[new Or(V,D,'"type" is required')];var we=hn(D.type),Le;switch(we){case"vector":case"raster":case"raster-dem":return Le=po({key:V,value:D,valueSpec:ae["source_"+we.replace("-","_")],style:R.style,styleSpec:ae,objectElementValidators:zt}),Le;case"geojson":if(Le=po({key:V,value:D,valueSpec:ae.source_geojson,style:ce,styleSpec:ae,objectElementValidators:zt}),D.cluster)for(var Je in D.clusterProperties){var vt=D.clusterProperties[Je],St=vt[0],Rt=vt[1],Xt=typeof St=="string"?[St,["accumulated"],["get",Je]]:St;Le.push.apply(Le,Xs({key:V+"."+Je+".map",value:Rt,expressionContext:"cluster-map"})),Le.push.apply(Le,Xs({key:V+"."+Je+".reduce",value:Xt,expressionContext:"cluster-reduce"}))}return Le;case"video":return po({key:V,value:D,valueSpec:ae.source_video,style:ce,styleSpec:ae});case"image":return po({key:V,value:D,valueSpec:ae.source_image,style:ce,styleSpec:ae});case"canvas":return[new Or(V,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return su({key:V+".type",value:D.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:ce,styleSpec:ae})}}function Ut(R){var D=R.key,V=R.value;if(hi(V)==="string")return wt({key:D,value:V});var ae=[];for(var ce in V)ae.push.apply(ae,wt({key:D+"."+ce,value:V[ce]}));return ae}function pr(R){var D=R.value,V=R.styleSpec,ae=V.light,ce=R.style,we=[],Le=hi(D);if(D===void 0)return we;if(Le!=="object")return we=we.concat([new Or("light",D,"object expected, "+Le+" found")]),we;for(var Je in D){var vt=Je.match(/^(.*)-transition$/);vt&&ae[vt[1]]&&ae[vt[1]].transition?we=we.concat(_r({key:Je,value:D[Je],valueSpec:V.transition,style:ce,styleSpec:V})):ae[Je]?we=we.concat(_r({key:Je,value:D[Je],valueSpec:ae[Je],style:ce,styleSpec:V})):we=we.concat([new Or(Je,D[Je],'unknown property "'+Je+'"')])}return we}function xr(R){return wt(R).length===0?[]:Xs(R)}function or(R){return wt(R).length===0?[]:Xs(R)}var Mr={"*":function(){return[]},array:ou,boolean:Gc,number:zl,color:Ro,constants:xn,enum:su,filter:df,function:Yf,layer:gt,object:po,source:_t,light:pr,string:wt,formatted:xr,resolvedImage:or};function _r(R){var D=R.value,V=R.valueSpec,ae=R.styleSpec;if(V.expression&&kl(hn(D)))return Yf(R);if(V.expression&&au(sn(D)))return Xs(R);if(V.type&&Mr[V.type])return Mr[V.type](R);var ce=po(_n({},R,{valueSpec:V.type?ae[V.type]:V}));return ce}function Br(R){var D=R.value,V=R.key,ae=wt(R);return ae.length||(D.indexOf("{fontstack}")===-1&&ae.push(new Or(V,D,'"glyphs" url must include a "{fontstack}" token')),D.indexOf("{range}")===-1&&ae.push(new Or(V,D,'"glyphs" url must include a "{range}" token'))),ae}function tn(R,D){D===void 0&&(D=Ar);var V=[];return V=V.concat(_r({key:"",value:R,valueSpec:D.$root,styleSpec:D,style:R,objectElementValidators:{glyphs:Br,"*":function(){return[]}}})),R.constants&&(V=V.concat(xn({key:"constants",value:R.constants,style:R,styleSpec:D}))),mn(V)}tn.source=Dn(_t),tn.light=Dn(pr),tn.layer=Dn(gt),tn.filter=Dn(df),tn.paintProperty=Dn(Ke),tn.layoutProperty=Dn(nt);function mn(R){return[].concat(R).sort(function(D,V){return D.line-V.line})}function Dn(R){return function(){for(var D=[],V=arguments.length;V--;)D[V]=arguments[V];return mn(R.apply(this,D))}}var In=tn,Zn=In.light,Pa=In.paintProperty,Ra=In.layoutProperty;function Da(R,D){var V=!1;if(D&&D.length)for(var ae=0,ce=D;ae<ce.length;ae+=1){var we=ce[ae];R.fire(new Bt(new Error(we.message))),V=!0}return V}var Fa=vi,Za=3;function vi(R,D,V){var ae=this.cells=[];if(R instanceof ArrayBuffer){this.arrayBuffer=R;var ce=new Int32Array(this.arrayBuffer);R=ce[0],D=ce[1],V=ce[2],this.d=D+2*V;for(var we=0;we<this.d*this.d;we++){var Le=ce[Za+we],Je=ce[Za+we+1];ae.push(Le===Je?null:ce.subarray(Le,Je))}var vt=ce[Za+ae.length],St=ce[Za+ae.length+1];this.keys=ce.subarray(vt,St),this.bboxes=ce.subarray(St),this.insert=this._insertReadonly}else{this.d=D+2*V;for(var Rt=0;Rt<this.d*this.d;Rt++)ae.push([]);this.keys=[],this.bboxes=[]}this.n=D,this.extent=R,this.padding=V,this.scale=D/R,this.uid=0;var Xt=V/D*R;this.min=-Xt,this.max=R+Xt}vi.prototype.insert=function(R,D,V,ae,ce){this._forEachCell(D,V,ae,ce,this._insertCell,this.uid++),this.keys.push(R),this.bboxes.push(D),this.bboxes.push(V),this.bboxes.push(ae),this.bboxes.push(ce)},vi.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},vi.prototype._insertCell=function(R,D,V,ae,ce,we){this.cells[ce].push(we)},vi.prototype.query=function(R,D,V,ae,ce){var we=this.min,Le=this.max;if(R<=we&&D<=we&&Le<=V&&Le<=ae&&!ce)return Array.prototype.slice.call(this.keys);var Je=[],vt={};return this._forEachCell(R,D,V,ae,this._queryCell,Je,vt,ce),Je},vi.prototype._queryCell=function(R,D,V,ae,ce,we,Le,Je){var vt=this.cells[ce];if(vt!==null)for(var St=this.keys,Rt=this.bboxes,Xt=0;Xt<vt.length;Xt++){var ir=vt[Xt];if(Le[ir]===void 0){var tr=ir*4;(Je?Je(Rt[tr+0],Rt[tr+1],Rt[tr+2],Rt[tr+3]):R<=Rt[tr+2]&&D<=Rt[tr+3]&&V>=Rt[tr+0]&&ae>=Rt[tr+1])?(Le[ir]=!0,we.push(St[ir])):Le[ir]=!1}}},vi.prototype._forEachCell=function(R,D,V,ae,ce,we,Le,Je){for(var vt=this._convertToCellCoord(R),St=this._convertToCellCoord(D),Rt=this._convertToCellCoord(V),Xt=this._convertToCellCoord(ae),ir=vt;ir<=Rt;ir++)for(var tr=St;tr<=Xt;tr++){var yr=this.d*tr+ir;if(!(Je&&!Je(this._convertFromCellCoord(ir),this._convertFromCellCoord(tr),this._convertFromCellCoord(ir+1),this._convertFromCellCoord(tr+1)))&&ce.call(this,R,D,V,ae,yr,we,Le,Je))return}},vi.prototype._convertFromCellCoord=function(R){return(R-this.padding)/this.scale},vi.prototype._convertToCellCoord=function(R){return Math.max(0,Math.min(this.d-1,Math.floor(R*this.scale)+this.padding))},vi.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var R=this.cells,D=Za+this.cells.length+1+1,V=0,ae=0;ae<this.cells.length;ae++)V+=this.cells[ae].length;var ce=new Int32Array(D+V+this.keys.length+this.bboxes.length);ce[0]=this.extent,ce[1]=this.n,ce[2]=this.padding;for(var we=D,Le=0;Le<R.length;Le++){var Je=R[Le];ce[Za+Le]=we,ce.set(Je,we),we+=Je.length}return ce[Za+R.length]=we,ce.set(this.keys,we),we+=this.keys.length,ce[Za+R.length+1]=we,ce.set(this.bboxes,we),we+=this.bboxes.length,ce.buffer};var Fi=s.ImageData,ue=s.ImageBitmap,Ce={};function Oe(R,D,V){V===void 0&&(V={}),Object.defineProperty(D,"_classRegistryKey",{value:R,writeable:!1}),Ce[R]={klass:D,omit:V.omit||[],shallow:V.shallow||[]}}Oe("Object",Object),Fa.serialize=function(D,V){var ae=D.toArrayBuffer();return V&&V.push(ae),{buffer:ae}},Fa.deserialize=function(D){return new Fa(D.buffer)},Oe("Grid",Fa),Oe("Color",qa),Oe("Error",Error),Oe("ResolvedImage",bo),Oe("StylePropertyFunction",sl),Oe("StyleExpression",Ws,{omit:["_evaluator"]}),Oe("ZoomDependentExpression",hs),Oe("ZoomConstantExpression",Wi),Oe("CompoundExpression",$i,{omit:["_evaluate"]});for(var Qe in Dl)Dl[Qe]._classRegistryKey||Oe("Expression_"+Qe,Dl[Qe]);function rt(R){return R&&typeof ArrayBuffer!="undefined"&&(R instanceof ArrayBuffer||R.constructor&&R.constructor.name==="ArrayBuffer")}function st(R){return ue&&R instanceof ue}function Pt(R,D){if(R==null||typeof R=="boolean"||typeof R=="number"||typeof R=="string"||R instanceof Boolean||R instanceof Number||R instanceof String||R instanceof Date||R instanceof RegExp)return R;if(rt(R)||st(R))return D&&D.push(R),R;if(ArrayBuffer.isView(R)){var V=R;return D&&D.push(V.buffer),V}if(R instanceof Fi)return D&&D.push(R.data.buffer),R;if(Array.isArray(R)){for(var ae=[],ce=0,we=R;ce<we.length;ce+=1){var Le=we[ce];ae.push(Pt(Le,D))}return ae}if(typeof R=="object"){var Je=R.constructor,vt=Je._classRegistryKey;if(!vt)throw new Error("can't serialize object of unregistered class");var St=Je.serialize?Je.serialize(R,D):{};if(!Je.serialize){for(var Rt in R)if(!!R.hasOwnProperty(Rt)&&!(Ce[vt].omit.indexOf(Rt)>=0)){var Xt=R[Rt];St[Rt]=Ce[vt].shallow.indexOf(Rt)>=0?Xt:Pt(Xt,D)}R instanceof Error&&(St.message=R.message)}if(St.$name)throw new Error("$name property is reserved for worker serialization logic.");return vt!=="Object"&&(St.$name=vt),St}throw new Error("can't serialize object of type "+typeof R)}function Mt(R){if(R==null||typeof R=="boolean"||typeof R=="number"||typeof R=="string"||R instanceof Boolean||R instanceof Number||R instanceof String||R instanceof Date||R instanceof RegExp||rt(R)||st(R)||ArrayBuffer.isView(R)||R instanceof Fi)return R;if(Array.isArray(R))return R.map(Mt);if(typeof R=="object"){var D=R.$name||"Object",V=Ce[D],ae=V.klass;if(!ae)throw new Error("can't deserialize unregistered class "+D);if(ae.deserialize)return ae.deserialize(R);for(var ce=Object.create(ae.prototype),we=0,Le=Object.keys(R);we<Le.length;we+=1){var Je=Le[we];if(Je!=="$name"){var vt=R[Je];ce[Je]=Ce[D].shallow.indexOf(Je)>=0?vt:Mt(vt)}}return ce}throw new Error("can't deserialize object of type "+typeof R)}var Gt=function(){this.first=!0};Gt.prototype.update=function(D,V){var ae=Math.floor(D);return this.first?(this.first=!1,this.lastIntegerZoom=ae,this.lastIntegerZoomTime=0,this.lastZoom=D,this.lastFloorZoom=ae,!0):(this.lastFloorZoom>ae?(this.lastIntegerZoom=ae+1,this.lastIntegerZoomTime=V):this.lastFloorZoom<ae&&(this.lastIntegerZoom=ae,this.lastIntegerZoomTime=V),D!==this.lastZoom?(this.lastZoom=D,this.lastFloorZoom=ae,!0):!1)};var Yt={"Latin-1 Supplement":function(R){return R>=128&&R<=255},Arabic:function(R){return R>=1536&&R<=1791},"Arabic Supplement":function(R){return R>=1872&&R<=1919},"Arabic Extended-A":function(R){return R>=2208&&R<=2303},"Hangul Jamo":function(R){return R>=4352&&R<=4607},"Unified Canadian Aboriginal Syllabics":function(R){return R>=5120&&R<=5759},Khmer:function(R){return R>=6016&&R<=6143},"Unified Canadian Aboriginal Syllabics Extended":function(R){return R>=6320&&R<=6399},"General Punctuation":function(R){return R>=8192&&R<=8303},"Letterlike Symbols":function(R){return R>=8448&&R<=8527},"Number Forms":function(R){return R>=8528&&R<=8591},"Miscellaneous Technical":function(R){return R>=8960&&R<=9215},"Control Pictures":function(R){return R>=9216&&R<=9279},"Optical Character Recognition":function(R){return R>=9280&&R<=9311},"Enclosed Alphanumerics":function(R){return R>=9312&&R<=9471},"Geometric Shapes":function(R){return R>=9632&&R<=9727},"Miscellaneous Symbols":function(R){return R>=9728&&R<=9983},"Miscellaneous Symbols and Arrows":function(R){return R>=11008&&R<=11263},"CJK Radicals Supplement":function(R){return R>=11904&&R<=12031},"Kangxi Radicals":function(R){return R>=12032&&R<=12255},"Ideographic Description Characters":function(R){return R>=12272&&R<=12287},"CJK Symbols and Punctuation":function(R){return R>=12288&&R<=12351},Hiragana:function(R){return R>=12352&&R<=12447},Katakana:function(R){return R>=12448&&R<=12543},Bopomofo:function(R){return R>=12544&&R<=12591},"Hangul Compatibility Jamo":function(R){return R>=12592&&R<=12687},Kanbun:function(R){return R>=12688&&R<=12703},"Bopomofo Extended":function(R){return R>=12704&&R<=12735},"CJK Strokes":function(R){return R>=12736&&R<=12783},"Katakana Phonetic Extensions":function(R){return R>=12784&&R<=12799},"Enclosed CJK Letters and Months":function(R){return R>=12800&&R<=13055},"CJK Compatibility":function(R){return R>=13056&&R<=13311},"CJK Unified Ideographs Extension A":function(R){return R>=13312&&R<=19903},"Yijing Hexagram Symbols":function(R){return R>=19904&&R<=19967},"CJK Unified Ideographs":function(R){return R>=19968&&R<=40959},"Yi Syllables":function(R){return R>=40960&&R<=42127},"Yi Radicals":function(R){return R>=42128&&R<=42191},"Hangul Jamo Extended-A":function(R){return R>=43360&&R<=43391},"Hangul Syllables":function(R){return R>=44032&&R<=55215},"Hangul Jamo Extended-B":function(R){return R>=55216&&R<=55295},"Private Use Area":function(R){return R>=57344&&R<=63743},"CJK Compatibility Ideographs":function(R){return R>=63744&&R<=64255},"Arabic Presentation Forms-A":function(R){return R>=64336&&R<=65023},"Vertical Forms":function(R){return R>=65040&&R<=65055},"CJK Compatibility Forms":function(R){return R>=65072&&R<=65103},"Small Form Variants":function(R){return R>=65104&&R<=65135},"Arabic Presentation Forms-B":function(R){return R>=65136&&R<=65279},"Halfwidth and Fullwidth Forms":function(R){return R>=65280&&R<=65519}};function nr(R){for(var D=0,V=R;D<V.length;D+=1){var ae=V[D];if(on(ae.charCodeAt(0)))return!0}return!1}function Cr(R){for(var D=0,V=R;D<V.length;D+=1){var ae=V[D];if(!Pr(ae.charCodeAt(0)))return!1}return!0}function Pr(R){return!(Yt.Arabic(R)||Yt["Arabic Supplement"](R)||Yt["Arabic Extended-A"](R)||Yt["Arabic Presentation Forms-A"](R)||Yt["Arabic Presentation Forms-B"](R))}function Jr(R){return R<11904?!1:!!(Yt["Bopomofo Extended"](R)||Yt.Bopomofo(R)||Yt["CJK Compatibility Forms"](R)||Yt["CJK Compatibility Ideographs"](R)||Yt["CJK Compatibility"](R)||Yt["CJK Radicals Supplement"](R)||Yt["CJK Strokes"](R)||Yt["CJK Symbols and Punctuation"](R)||Yt["CJK Unified Ideographs Extension A"](R)||Yt["CJK Unified Ideographs"](R)||Yt["Enclosed CJK Letters and Months"](R)||Yt["Halfwidth and Fullwidth Forms"](R)||Yt.Hiragana(R)||Yt["Ideographic Description Characters"](R)||Yt["Kangxi Radicals"](R)||Yt["Katakana Phonetic Extensions"](R)||Yt.Katakana(R)||Yt["Vertical Forms"](R)||Yt["Yi Radicals"](R)||Yt["Yi Syllables"](R))}function on(R){return R===746||R===747?!0:R<4352?!1:!!(Yt["Bopomofo Extended"](R)||Yt.Bopomofo(R)||Yt["CJK Compatibility Forms"](R)&&!(R>=65097&&R<=65103)||Yt["CJK Compatibility Ideographs"](R)||Yt["CJK Compatibility"](R)||Yt["CJK Radicals Supplement"](R)||Yt["CJK Strokes"](R)||Yt["CJK Symbols and Punctuation"](R)&&!(R>=12296&&R<=12305)&&!(R>=12308&&R<=12319)&&R!==12336||Yt["CJK Unified Ideographs Extension A"](R)||Yt["CJK Unified Ideographs"](R)||Yt["Enclosed CJK Letters and Months"](R)||Yt["Hangul Compatibility Jamo"](R)||Yt["Hangul Jamo Extended-A"](R)||Yt["Hangul Jamo Extended-B"](R)||Yt["Hangul Jamo"](R)||Yt["Hangul Syllables"](R)||Yt.Hiragana(R)||Yt["Ideographic Description Characters"](R)||Yt.Kanbun(R)||Yt["Kangxi Radicals"](R)||Yt["Katakana Phonetic Extensions"](R)||Yt.Katakana(R)&&R!==12540||Yt["Halfwidth and Fullwidth Forms"](R)&&R!==65288&&R!==65289&&R!==65293&&!(R>=65306&&R<=65310)&&R!==65339&&R!==65341&&R!==65343&&!(R>=65371&&R<=65503)&&R!==65507&&!(R>=65512&&R<=65519)||Yt["Small Form Variants"](R)&&!(R>=65112&&R<=65118)&&!(R>=65123&&R<=65126)||Yt["Unified Canadian Aboriginal Syllabics"](R)||Yt["Unified Canadian Aboriginal Syllabics Extended"](R)||Yt["Vertical Forms"](R)||Yt["Yijing Hexagram Symbols"](R)||Yt["Yi Syllables"](R)||Yt["Yi Radicals"](R))}function Dr(R){return!!(Yt["Latin-1 Supplement"](R)&&(R===167||R===169||R===174||R===177||R===188||R===189||R===190||R===215||R===247)||Yt["General Punctuation"](R)&&(R===8214||R===8224||R===8225||R===8240||R===8241||R===8251||R===8252||R===8258||R===8263||R===8264||R===8265||R===8273)||Yt["Letterlike Symbols"](R)||Yt["Number Forms"](R)||Yt["Miscellaneous Technical"](R)&&(R>=8960&&R<=8967||R>=8972&&R<=8991||R>=8996&&R<=9e3||R===9003||R>=9085&&R<=9114||R>=9150&&R<=9165||R===9167||R>=9169&&R<=9179||R>=9186&&R<=9215)||Yt["Control Pictures"](R)&&R!==9251||Yt["Optical Character Recognition"](R)||Yt["Enclosed Alphanumerics"](R)||Yt["Geometric Shapes"](R)||Yt["Miscellaneous Symbols"](R)&&!(R>=9754&&R<=9759)||Yt["Miscellaneous Symbols and Arrows"](R)&&(R>=11026&&R<=11055||R>=11088&&R<=11097||R>=11192&&R<=11243)||Yt["CJK Symbols and Punctuation"](R)||Yt.Katakana(R)||Yt["Private Use Area"](R)||Yt["CJK Compatibility Forms"](R)||Yt["Small Form Variants"](R)||Yt["Halfwidth and Fullwidth Forms"](R)||R===8734||R===8756||R===8757||R>=9984&&R<=10087||R>=10102&&R<=10131||R===65532||R===65533)}function Nr(R){return!(on(R)||Dr(R))}function jr(R){return Yt.Arabic(R)||Yt["Arabic Supplement"](R)||Yt["Arabic Extended-A"](R)||Yt["Arabic Presentation Forms-A"](R)||Yt["Arabic Presentation Forms-B"](R)}function un(R){return R>=1424&&R<=2303||Yt["Arabic Presentation Forms-A"](R)||Yt["Arabic Presentation Forms-B"](R)}function vn(R,D){return!(!D&&un(R)||R>=2304&&R<=3583||R>=3840&&R<=4255||Yt.Khmer(R))}function qr(R){for(var D=0,V=R;D<V.length;D+=1){var ae=V[D];if(un(ae.charCodeAt(0)))return!0}return!1}function Vn(R,D){for(var V=0,ae=R;V<ae.length;V+=1){var ce=ae[V];if(!vn(ce.charCodeAt(0),D))return!1}return!0}var ea={unavailable:"unavailable",deferred:"deferred",loading:"loading",loaded:"loaded",error:"error"},fa=null,$n=ea.unavailable,ia=null,ca=function(R){R&&typeof R=="string"&&R.indexOf("NetworkError")>-1&&($n=ea.error),fa&&fa(R)};function Oa(){Sa.fire(new ar("pluginStateChange",{pluginStatus:$n,pluginURL:ia}))}var Sa=new hr,_a=function(){return $n},ai=function(R){return R({pluginStatus:$n,pluginURL:ia}),Sa.on("pluginStateChange",R),R},Bi=function(R,D,V){if(V===void 0&&(V=!1),$n===ea.deferred||$n===ea.loading||$n===ea.loaded)throw new Error("setRTLTextPlugin cannot be called multiple times.");ia=se.resolveURL(R),$n=ea.deferred,fa=D,Oa(),V||fi()},fi=function(){if($n!==ea.deferred||!ia)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");$n=ea.loading,Oa(),ia&&Vt({url:ia},function(R){R?ca(R):($n=ea.loaded,Oa())})},Kn={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:function(){return $n===ea.loaded||Kn.applyArabicShaping!=null},isLoading:function(){return $n===ea.loading},setState:function(D){$n=D.pluginStatus,ia=D.pluginURL},isParsed:function(){return Kn.applyArabicShaping!=null&&Kn.processBidirectionalText!=null&&Kn.processStyledBidirectionalText!=null},getPluginURL:function(){return ia}},Ua=function(){!Kn.isLoading()&&!Kn.isLoaded()&&_a()==="deferred"&&fi()},Aa=function(D,V){this.zoom=D,V?(this.now=V.now,this.fadeDuration=V.fadeDuration,this.zoomHistory=V.zoomHistory,this.transition=V.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new Gt,this.transition={})};Aa.prototype.isSupportedScript=function(D){return Vn(D,Kn.isLoaded())},Aa.prototype.crossFadingFactor=function(){return this.fadeDuration===0?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)},Aa.prototype.getCrossfadeParameters=function(){var D=this.zoom,V=D-Math.floor(D),ae=this.crossFadingFactor();return D>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:V+(1-V)*ae}:{fromScale:.5,toScale:1,t:1-(1-ae)*V}};var ja=function(D,V){this.property=D,this.value=V,this.expression=Bu(V===void 0?D.specification.default:V,D.specification)};ja.prototype.isDataDriven=function(){return this.expression.kind==="source"||this.expression.kind==="composite"},ja.prototype.possiblyEvaluate=function(D,V,ae){return this.property.possiblyEvaluate(this,D,V,ae)};var bi=function(D){this.property=D,this.value=new ja(D,void 0)};bi.prototype.transitioned=function(D,V){return new eo(this.property,this.value,V,b({},D.transition,this.transition),D.now)},bi.prototype.untransitioned=function(){return new eo(this.property,this.value,null,{},0)};var ii=function(D){this._properties=D,this._values=Object.create(D.defaultTransitionablePropertyValues)};ii.prototype.getValue=function(D){return N(this._values[D].value.value)},ii.prototype.setValue=function(D,V){this._values.hasOwnProperty(D)||(this._values[D]=new bi(this._values[D].property)),this._values[D].value=new ja(this._values[D].property,V===null?void 0:N(V))},ii.prototype.getTransition=function(D){return N(this._values[D].transition)},ii.prototype.setTransition=function(D,V){this._values.hasOwnProperty(D)||(this._values[D]=new bi(this._values[D].property)),this._values[D].transition=N(V)||void 0},ii.prototype.serialize=function(){for(var D={},V=0,ae=Object.keys(this._values);V<ae.length;V+=1){var ce=ae[V],we=this.getValue(ce);we!==void 0&&(D[ce]=we);var Le=this.getTransition(ce);Le!==void 0&&(D[ce+"-transition"]=Le)}return D},ii.prototype.transitioned=function(D,V){for(var ae=new to(this._properties),ce=0,we=Object.keys(this._values);ce<we.length;ce+=1){var Le=we[ce];ae._values[Le]=this._values[Le].transitioned(D,V._values[Le])}return ae},ii.prototype.untransitioned=function(){for(var D=new to(this._properties),V=0,ae=Object.keys(this._values);V<ae.length;V+=1){var ce=ae[V];D._values[ce]=this._values[ce].untransitioned()}return D};var eo=function(D,V,ae,ce,we){this.property=D,this.value=V,this.begin=we+ce.delay||0,this.end=this.begin+ce.duration||0,D.specification.transition&&(ce.delay||ce.duration)&&(this.prior=ae)};eo.prototype.possiblyEvaluate=function(D,V,ae){var ce=D.now||0,we=this.value.possiblyEvaluate(D,V,ae),Le=this.prior;if(Le){if(ce>this.end)return this.prior=null,we;if(this.value.isDataDriven())return this.prior=null,we;if(ce<this.begin)return Le.possiblyEvaluate(D,V,ae);var Je=(ce-this.begin)/(this.end-this.begin);return this.property.interpolate(Le.possiblyEvaluate(D,V,ae),we,u(Je))}else return we};var to=function(D){this._properties=D,this._values=Object.create(D.defaultTransitioningPropertyValues)};to.prototype.possiblyEvaluate=function(D,V,ae){for(var ce=new go(this._properties),we=0,Le=Object.keys(this._values);we<Le.length;we+=1){var Je=Le[we];ce._values[Je]=this._values[Je].possiblyEvaluate(D,V,ae)}return ce},to.prototype.hasTransition=function(){for(var D=0,V=Object.keys(this._values);D<V.length;D+=1){var ae=V[D];if(this._values[ae].prior)return!0}return!1};var io=function(D){this._properties=D,this._values=Object.create(D.defaultPropertyValues)};io.prototype.getValue=function(D){return N(this._values[D].value)},io.prototype.setValue=function(D,V){this._values[D]=new ja(this._values[D].property,V===null?void 0:N(V))},io.prototype.serialize=function(){for(var D={},V=0,ae=Object.keys(this._values);V<ae.length;V+=1){var ce=ae[V],we=this.getValue(ce);we!==void 0&&(D[ce]=we)}return D},io.prototype.possiblyEvaluate=function(D,V,ae){for(var ce=new go(this._properties),we=0,Le=Object.keys(this._values);we<Le.length;we+=1){var Je=Le[we];ce._values[Je]=this._values[Je].possiblyEvaluate(D,V,ae)}return ce};var wi=function(D,V,ae){this.property=D,this.value=V,this.parameters=ae};wi.prototype.isConstant=function(){return this.value.kind==="constant"},wi.prototype.constantOr=function(D){return this.value.kind==="constant"?this.value.value:D},wi.prototype.evaluate=function(D,V,ae,ce){return this.property.evaluate(this.value,this.parameters,D,V,ae,ce)};var go=function(D){this._properties=D,this._values=Object.create(D.defaultPossiblyEvaluatedValues)};go.prototype.get=function(D){return this._values[D]};var sa=function(D){this.specification=D};sa.prototype.possiblyEvaluate=function(D,V){return D.expression.evaluate(V)},sa.prototype.interpolate=function(D,V,ae){var ce=Pu[this.specification.type];return ce?ce(D,V,ae):D};var Ca=function(D,V){this.specification=D,this.overrides=V};Ca.prototype.possiblyEvaluate=function(D,V,ae,ce){return D.expression.kind==="constant"||D.expression.kind==="camera"?new wi(this,{kind:"constant",value:D.expression.evaluate(V,null,{},ae,ce)},V):new wi(this,D.expression,V)},Ca.prototype.interpolate=function(D,V,ae){if(D.value.kind!=="constant"||V.value.kind!=="constant")return D;if(D.value.value===void 0||V.value.value===void 0)return new wi(this,{kind:"constant",value:void 0},D.parameters);var ce=Pu[this.specification.type];return ce?new wi(this,{kind:"constant",value:ce(D.value.value,V.value.value,ae)},D.parameters):D},Ca.prototype.evaluate=function(D,V,ae,ce,we,Le){return D.kind==="constant"?D.value:D.evaluate(V,ae,ce,we,Le)};var Do=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.possiblyEvaluate=function(ae,ce,we,Le){if(ae.value===void 0)return new wi(this,{kind:"constant",value:void 0},ce);if(ae.expression.kind==="constant"){var Je=ae.expression.evaluate(ce,null,{},we,Le),vt=ae.property.specification.type==="resolvedImage",St=vt&&typeof Je!="string"?Je.name:Je,Rt=this._calculate(St,St,St,ce);return new wi(this,{kind:"constant",value:Rt},ce)}else if(ae.expression.kind==="camera"){var Xt=this._calculate(ae.expression.evaluate({zoom:ce.zoom-1}),ae.expression.evaluate({zoom:ce.zoom}),ae.expression.evaluate({zoom:ce.zoom+1}),ce);return new wi(this,{kind:"constant",value:Xt},ce)}else return new wi(this,ae.expression,ce)},D.prototype.evaluate=function(ae,ce,we,Le,Je,vt){if(ae.kind==="source"){var St=ae.evaluate(ce,we,Le,Je,vt);return this._calculate(St,St,St,ce)}else return ae.kind==="composite"?this._calculate(ae.evaluate({zoom:Math.floor(ce.zoom)-1},we,Le),ae.evaluate({zoom:Math.floor(ce.zoom)},we,Le),ae.evaluate({zoom:Math.floor(ce.zoom)+1},we,Le),ce):ae.value},D.prototype._calculate=function(ae,ce,we,Le){var Je=Le.zoom;return Je>Le.zoomHistory.lastIntegerZoom?{from:ae,to:ce}:{from:we,to:ce}},D.prototype.interpolate=function(ae){return ae},D}(Ca),zo=function(D){this.specification=D};zo.prototype.possiblyEvaluate=function(D,V,ae,ce){if(D.value!==void 0)if(D.expression.kind==="constant"){var we=D.expression.evaluate(V,null,{},ae,ce);return this._calculate(we,we,we,V)}else return this._calculate(D.expression.evaluate(new Aa(Math.floor(V.zoom-1),V)),D.expression.evaluate(new Aa(Math.floor(V.zoom),V)),D.expression.evaluate(new Aa(Math.floor(V.zoom+1),V)),V)},zo.prototype._calculate=function(D,V,ae,ce){var we=ce.zoom;return we>ce.zoomHistory.lastIntegerZoom?{from:D,to:V}:{from:ae,to:V}},zo.prototype.interpolate=function(D){return D};var oo=function(D){this.specification=D};oo.prototype.possiblyEvaluate=function(D,V,ae,ce){return!!D.expression.evaluate(V,null,{},ae,ce)},oo.prototype.interpolate=function(){return!1};var ci=function(D){this.properties=D,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];for(var V in D){var ae=D[V];ae.specification.overridable&&this.overridableProperties.push(V);var ce=this.defaultPropertyValues[V]=new ja(ae,void 0),we=this.defaultTransitionablePropertyValues[V]=new bi(ae);this.defaultTransitioningPropertyValues[V]=we.untransitioned(),this.defaultPossiblyEvaluatedValues[V]=ce.possiblyEvaluate({})}};Oe("DataDrivenProperty",Ca),Oe("DataConstantProperty",sa),Oe("CrossFadedDataDrivenProperty",Do),Oe("CrossFadedProperty",zo),Oe("ColorRampProperty",oo);var Yi="-transition",Ni=function(R){function D(V,ae){if(R.call(this),this.id=V.id,this.type=V.type,this._featureFilter={filter:function(){return!0},needGeometry:!1},V.type!=="custom"&&(V=V,this.metadata=V.metadata,this.minzoom=V.minzoom,this.maxzoom=V.maxzoom,V.type!=="background"&&(this.source=V.source,this.sourceLayer=V["source-layer"],this.filter=V.filter),ae.layout&&(this._unevaluatedLayout=new io(ae.layout)),ae.paint)){this._transitionablePaint=new ii(ae.paint);for(var ce in V.paint)this.setPaintProperty(ce,V.paint[ce],{validate:!1});for(var we in V.layout)this.setLayoutProperty(we,V.layout[we],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new go(ae.paint)}}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.getCrossfadeParameters=function(){return this._crossfadeParameters},D.prototype.getLayoutProperty=function(ae){return ae==="visibility"?this.visibility:this._unevaluatedLayout.getValue(ae)},D.prototype.setLayoutProperty=function(ae,ce,we){if(we===void 0&&(we={}),ce!=null){var Le="layers."+this.id+".layout."+ae;if(this._validate(Ra,Le,ae,ce,we))return}if(ae==="visibility"){this.visibility=ce;return}this._unevaluatedLayout.setValue(ae,ce)},D.prototype.getPaintProperty=function(ae){return x(ae,Yi)?this._transitionablePaint.getTransition(ae.slice(0,-Yi.length)):this._transitionablePaint.getValue(ae)},D.prototype.setPaintProperty=function(ae,ce,we){if(we===void 0&&(we={}),ce!=null){var Le="layers."+this.id+".paint."+ae;if(this._validate(Pa,Le,ae,ce,we))return!1}if(x(ae,Yi))return this._transitionablePaint.setTransition(ae.slice(0,-Yi.length),ce||void 0),!1;var Je=this._transitionablePaint._values[ae],vt=Je.property.specification["property-type"]==="cross-faded-data-driven",St=Je.value.isDataDriven(),Rt=Je.value;this._transitionablePaint.setValue(ae,ce),this._handleSpecialPaintPropertyUpdate(ae);var Xt=this._transitionablePaint._values[ae].value,ir=Xt.isDataDriven();return ir||St||vt||this._handleOverridablePaintPropertyUpdate(ae,Rt,Xt)},D.prototype._handleSpecialPaintPropertyUpdate=function(ae){},D.prototype._handleOverridablePaintPropertyUpdate=function(ae,ce,we){return!1},D.prototype.isHidden=function(ae){return this.minzoom&&ae<this.minzoom||this.maxzoom&&ae>=this.maxzoom?!0:this.visibility==="none"},D.prototype.updateTransitions=function(ae){this._transitioningPaint=this._transitionablePaint.transitioned(ae,this._transitioningPaint)},D.prototype.hasTransition=function(){return this._transitioningPaint.hasTransition()},D.prototype.recalculate=function(ae,ce){ae.getCrossfadeParameters&&(this._crossfadeParameters=ae.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(ae,void 0,ce)),this.paint=this._transitioningPaint.possiblyEvaluate(ae,void 0,ce)},D.prototype.serialize=function(){var ae={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(ae.layout=ae.layout||{},ae.layout.visibility=this.visibility),I(ae,function(ce,we){return ce!==void 0&&!(we==="layout"&&!Object.keys(ce).length)&&!(we==="paint"&&!Object.keys(ce).length)})},D.prototype._validate=function(ae,ce,we,Le,Je){return Je===void 0&&(Je={}),Je&&Je.validate===!1?!1:Da(this,ae.call(In,{key:ce,layerType:this.type,objectKey:we,value:Le,styleSpec:Ar,style:{glyphs:!0,sprite:!0}}))},D.prototype.is3D=function(){return!1},D.prototype.isTileClipped=function(){return!1},D.prototype.hasOffscreenPass=function(){return!1},D.prototype.resize=function(){},D.prototype.isStateDependent=function(){for(var ae in this.paint._values){var ce=this.paint.get(ae);if(!(!(ce instanceof wi)||!Ls(ce.property.specification))&&(ce.value.kind==="source"||ce.value.kind==="composite")&&ce.value.isStateDependent)return!0}return!1},D}(hr),vs={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array},Rs=function(D,V){this._structArray=D,this._pos1=V*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8},Li=128,Ol=5,Ka=function(){this.isTransferred=!1,this.capacity=-1,this.resize(0)};Ka.serialize=function(D,V){return D._trim(),V&&(D.isTransferred=!0,V.push(D.arrayBuffer)),{length:D.length,arrayBuffer:D.arrayBuffer}},Ka.deserialize=function(D){var V=Object.create(this.prototype);return V.arrayBuffer=D.arrayBuffer,V.length=D.length,V.capacity=D.arrayBuffer.byteLength/V.bytesPerElement,V._refreshViews(),V},Ka.prototype._trim=function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())},Ka.prototype.clear=function(){this.length=0},Ka.prototype.resize=function(D){this.reserve(D),this.length=D},Ka.prototype.reserve=function(D){if(D>this.capacity){this.capacity=Math.max(D,Math.floor(this.capacity*Ol),Li),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var V=this.uint8;this._refreshViews(),V&&this.uint8.set(V)}},Ka.prototype._refreshViews=function(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")};function Pi(R,D){D===void 0&&(D=1);var V=0,ae=0,ce=R.map(function(Le){var Je=Wc(Le.type),vt=V=gd(V,Math.max(D,Je)),St=Le.components||1;return ae=Math.max(ae,Je),V+=Je*St,{name:Le.name,type:Le.type,components:St,offset:vt}}),we=gd(V,Math.max(ae,D));return{members:ce,size:we,alignment:D}}function Wc(R){return vs[R].BYTES_PER_ELEMENT}function gd(R,D){return Math.ceil(R/D)*D}var pf=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ae,ce){var we=this.length;return this.resize(we+1),this.emplace(we,ae,ce)},D.prototype.emplace=function(ae,ce,we){var Le=ae*2;return this.int16[Le+0]=ce,this.int16[Le+1]=we,ae},D}(Ka);pf.prototype.bytesPerElement=4,Oe("StructArrayLayout2i4",pf);var xv=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ae,ce,we,Le){var Je=this.length;return this.resize(Je+1),this.emplace(Je,ae,ce,we,Le)},D.prototype.emplace=function(ae,ce,we,Le,Je){var vt=ae*4;return this.int16[vt+0]=ce,this.int16[vt+1]=we,this.int16[vt+2]=Le,this.int16[vt+3]=Je,ae},D}(Ka);xv.prototype.bytesPerElement=8,Oe("StructArrayLayout4i8",xv);var Vu=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ae,ce,we,Le,Je,vt){var St=this.length;return this.resize(St+1),this.emplace(St,ae,ce,we,Le,Je,vt)},D.prototype.emplace=function(ae,ce,we,Le,Je,vt,St){var Rt=ae*6;return this.int16[Rt+0]=ce,this.int16[Rt+1]=we,this.int16[Rt+2]=Le,this.int16[Rt+3]=Je,this.int16[Rt+4]=vt,this.int16[Rt+5]=St,ae},D}(Ka);Vu.prototype.bytesPerElement=12,Oe("StructArrayLayout2i4i12",Vu);var jf=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ae,ce,we,Le,Je,vt){var St=this.length;return this.resize(St+1),this.emplace(St,ae,ce,we,Le,Je,vt)},D.prototype.emplace=function(ae,ce,we,Le,Je,vt,St){var Rt=ae*4,Xt=ae*8;return this.int16[Rt+0]=ce,this.int16[Rt+1]=we,this.uint8[Xt+4]=Le,this.uint8[Xt+5]=Je,this.uint8[Xt+6]=vt,this.uint8[Xt+7]=St,ae},D}(Ka);jf.prototype.bytesPerElement=8,Oe("StructArrayLayout2i4ub8",jf);var Kf=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ae,ce){var we=this.length;return this.resize(we+1),this.emplace(we,ae,ce)},D.prototype.emplace=function(ae,ce,we){var Le=ae*2;return this.float32[Le+0]=ce,this.float32[Le+1]=we,ae},D}(Ka);Kf.prototype.bytesPerElement=8,Oe("StructArrayLayout2f8",Kf);var $o=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ae,ce,we,Le,Je,vt,St,Rt,Xt,ir){var tr=this.length;return this.resize(tr+1),this.emplace(tr,ae,ce,we,Le,Je,vt,St,Rt,Xt,ir)},D.prototype.emplace=function(ae,ce,we,Le,Je,vt,St,Rt,Xt,ir,tr){var yr=ae*10;return this.uint16[yr+0]=ce,this.uint16[yr+1]=we,this.uint16[yr+2]=Le,this.uint16[yr+3]=Je,this.uint16[yr+4]=vt,this.uint16[yr+5]=St,this.uint16[yr+6]=Rt,this.uint16[yr+7]=Xt,this.uint16[yr+8]=ir,this.uint16[yr+9]=tr,ae},D}(Ka);$o.prototype.bytesPerElement=20,Oe("StructArrayLayout10ui20",$o);var Hu=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ae,ce,we,Le,Je,vt,St,Rt,Xt,ir,tr,yr){var Fr=this.length;return this.resize(Fr+1),this.emplace(Fr,ae,ce,we,Le,Je,vt,St,Rt,Xt,ir,tr,yr)},D.prototype.emplace=function(ae,ce,we,Le,Je,vt,St,Rt,Xt,ir,tr,yr,Fr){var ln=ae*12;return this.int16[ln+0]=ce,this.int16[ln+1]=we,this.int16[ln+2]=Le,this.int16[ln+3]=Je,this.uint16[ln+4]=vt,this.uint16[ln+5]=St,this.uint16[ln+6]=Rt,this.uint16[ln+7]=Xt,this.int16[ln+8]=ir,this.int16[ln+9]=tr,this.int16[ln+10]=yr,this.int16[ln+11]=Fr,ae},D}(Ka);Hu.prototype.bytesPerElement=24,Oe("StructArrayLayout4i4ui4i24",Hu);var bv=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ae,ce,we){var Le=this.length;return this.resize(Le+1),this.emplace(Le,ae,ce,we)},D.prototype.emplace=function(ae,ce,we,Le){var Je=ae*3;return this.float32[Je+0]=ce,this.float32[Je+1]=we,this.float32[Je+2]=Le,ae},D}(Ka);bv.prototype.bytesPerElement=12,Oe("StructArrayLayout3f12",bv);var wv=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ae){var ce=this.length;return this.resize(ce+1),this.emplace(ce,ae)},D.prototype.emplace=function(ae,ce){var we=ae*1;return this.uint32[we+0]=ce,ae},D}(Ka);wv.prototype.bytesPerElement=4,Oe("StructArrayLayout1ul4",wv);var Yc=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ae,ce,we,Le,Je,vt,St,Rt,Xt){var ir=this.length;return this.resize(ir+1),this.emplace(ir,ae,ce,we,Le,Je,vt,St,Rt,Xt)},D.prototype.emplace=function(ae,ce,we,Le,Je,vt,St,Rt,Xt,ir){var tr=ae*10,yr=ae*5;return this.int16[tr+0]=ce,this.int16[tr+1]=we,this.int16[tr+2]=Le,this.int16[tr+3]=Je,this.int16[tr+4]=vt,this.int16[tr+5]=St,this.uint32[yr+3]=Rt,this.uint16[tr+8]=Xt,this.uint16[tr+9]=ir,ae},D}(Ka);Yc.prototype.bytesPerElement=20,Oe("StructArrayLayout6i1ul2ui20",Yc);var Sh=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ae,ce,we,Le,Je,vt){var St=this.length;return this.resize(St+1),this.emplace(St,ae,ce,we,Le,Je,vt)},D.prototype.emplace=function(ae,ce,we,Le,Je,vt,St){var Rt=ae*6;return this.int16[Rt+0]=ce,this.int16[Rt+1]=we,this.int16[Rt+2]=Le,this.int16[Rt+3]=Je,this.int16[Rt+4]=vt,this.int16[Rt+5]=St,ae},D}(Ka);Sh.prototype.bytesPerElement=12,Oe("StructArrayLayout2i2i2i12",Sh);var hu=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ae,ce,we,Le,Je){var vt=this.length;return this.resize(vt+1),this.emplace(vt,ae,ce,we,Le,Je)},D.prototype.emplace=function(ae,ce,we,Le,Je,vt){var St=ae*4,Rt=ae*8;return this.float32[St+0]=ce,this.float32[St+1]=we,this.float32[St+2]=Le,this.int16[Rt+6]=Je,this.int16[Rt+7]=vt,ae},D}(Ka);hu.prototype.bytesPerElement=16,Oe("StructArrayLayout2f1f2i16",hu);var ds=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ae,ce,we,Le){var Je=this.length;return this.resize(Je+1),this.emplace(Je,ae,ce,we,Le)},D.prototype.emplace=function(ae,ce,we,Le,Je){var vt=ae*12,St=ae*3;return this.uint8[vt+0]=ce,this.uint8[vt+1]=we,this.float32[St+1]=Le,this.float32[St+2]=Je,ae},D}(Ka);ds.prototype.bytesPerElement=12,Oe("StructArrayLayout2ub2f12",ds);var vu=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ae,ce,we){var Le=this.length;return this.resize(Le+1),this.emplace(Le,ae,ce,we)},D.prototype.emplace=function(ae,ce,we,Le){var Je=ae*3;return this.uint16[Je+0]=ce,this.uint16[Je+1]=we,this.uint16[Je+2]=Le,ae},D}(Ka);vu.prototype.bytesPerElement=6,Oe("StructArrayLayout3ui6",vu);var Xc=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ae,ce,we,Le,Je,vt,St,Rt,Xt,ir,tr,yr,Fr,ln,en,Sn,yn){var Mn=this.length;return this.resize(Mn+1),this.emplace(Mn,ae,ce,we,Le,Je,vt,St,Rt,Xt,ir,tr,yr,Fr,ln,en,Sn,yn)},D.prototype.emplace=function(ae,ce,we,Le,Je,vt,St,Rt,Xt,ir,tr,yr,Fr,ln,en,Sn,yn,Mn){var Fn=ae*24,Wn=ae*12,ra=ae*48;return this.int16[Fn+0]=ce,this.int16[Fn+1]=we,this.uint16[Fn+2]=Le,this.uint16[Fn+3]=Je,this.uint32[Wn+2]=vt,this.uint32[Wn+3]=St,this.uint32[Wn+4]=Rt,this.uint16[Fn+10]=Xt,this.uint16[Fn+11]=ir,this.uint16[Fn+12]=tr,this.float32[Wn+7]=yr,this.float32[Wn+8]=Fr,this.uint8[ra+36]=ln,this.uint8[ra+37]=en,this.uint8[ra+38]=Sn,this.uint32[Wn+10]=yn,this.int16[Fn+22]=Mn,ae},D}(Ka);Xc.prototype.bytesPerElement=48,Oe("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",Xc);var Eh=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ae,ce,we,Le,Je,vt,St,Rt,Xt,ir,tr,yr,Fr,ln,en,Sn,yn,Mn,Fn,Wn,ra,qn,wa,da,ba,Ba,Ta,Ea){var Ga=this.length;return this.resize(Ga+1),this.emplace(Ga,ae,ce,we,Le,Je,vt,St,Rt,Xt,ir,tr,yr,Fr,ln,en,Sn,yn,Mn,Fn,Wn,ra,qn,wa,da,ba,Ba,Ta,Ea)},D.prototype.emplace=function(ae,ce,we,Le,Je,vt,St,Rt,Xt,ir,tr,yr,Fr,ln,en,Sn,yn,Mn,Fn,Wn,ra,qn,wa,da,ba,Ba,Ta,Ea,Ga){var za=ae*34,si=ae*17;return this.int16[za+0]=ce,this.int16[za+1]=we,this.int16[za+2]=Le,this.int16[za+3]=Je,this.int16[za+4]=vt,this.int16[za+5]=St,this.int16[za+6]=Rt,this.int16[za+7]=Xt,this.uint16[za+8]=ir,this.uint16[za+9]=tr,this.uint16[za+10]=yr,this.uint16[za+11]=Fr,this.uint16[za+12]=ln,this.uint16[za+13]=en,this.uint16[za+14]=Sn,this.uint16[za+15]=yn,this.uint16[za+16]=Mn,this.uint16[za+17]=Fn,this.uint16[za+18]=Wn,this.uint16[za+19]=ra,this.uint16[za+20]=qn,this.uint16[za+21]=wa,this.uint16[za+22]=da,this.uint32[si+12]=ba,this.float32[si+13]=Ba,this.float32[si+14]=Ta,this.float32[si+15]=Ea,this.float32[si+16]=Ga,ae},D}(Ka);Eh.prototype.bytesPerElement=68,Oe("StructArrayLayout8i15ui1ul4f68",Eh);var Jf=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ae){var ce=this.length;return this.resize(ce+1),this.emplace(ce,ae)},D.prototype.emplace=function(ae,ce){var we=ae*1;return this.float32[we+0]=ce,ae},D}(Ka);Jf.prototype.bytesPerElement=4,Oe("StructArrayLayout1f4",Jf);var Tv=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ae,ce,we){var Le=this.length;return this.resize(Le+1),this.emplace(Le,ae,ce,we)},D.prototype.emplace=function(ae,ce,we,Le){var Je=ae*3;return this.int16[Je+0]=ce,this.int16[Je+1]=we,this.int16[Je+2]=Le,ae},D}(Ka);Tv.prototype.bytesPerElement=6,Oe("StructArrayLayout3i6",Tv);var Gu=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ae,ce,we){var Le=this.length;return this.resize(Le+1),this.emplace(Le,ae,ce,we)},D.prototype.emplace=function(ae,ce,we,Le){var Je=ae*2,vt=ae*4;return this.uint32[Je+0]=ce,this.uint16[vt+2]=we,this.uint16[vt+3]=Le,ae},D}(Ka);Gu.prototype.bytesPerElement=8,Oe("StructArrayLayout1ul2ui8",Gu);var Zc=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ae,ce){var we=this.length;return this.resize(we+1),this.emplace(we,ae,ce)},D.prototype.emplace=function(ae,ce,we){var Le=ae*2;return this.uint16[Le+0]=ce,this.uint16[Le+1]=we,ae},D}(Ka);Zc.prototype.bytesPerElement=4,Oe("StructArrayLayout2ui4",Zc);var Qf=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ae){var ce=this.length;return this.resize(ce+1),this.emplace(ce,ae)},D.prototype.emplace=function(ae,ce){var we=ae*1;return this.uint16[we+0]=ce,ae},D}(Ka);Qf.prototype.bytesPerElement=2,Oe("StructArrayLayout1ui2",Qf);var gf=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ae,ce,we,Le){var Je=this.length;return this.resize(Je+1),this.emplace(Je,ae,ce,we,Le)},D.prototype.emplace=function(ae,ce,we,Le,Je){var vt=ae*4;return this.float32[vt+0]=ce,this.float32[vt+1]=we,this.float32[vt+2]=Le,this.float32[vt+3]=Je,ae},D}(Ka);gf.prototype.bytesPerElement=16,Oe("StructArrayLayout4f16",gf);var yd=function(R){function D(){R.apply(this,arguments)}R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D;var V={anchorPointX:{configurable:!0},anchorPointY:{configurable:!0},x1:{configurable:!0},y1:{configurable:!0},x2:{configurable:!0},y2:{configurable:!0},featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0},anchorPoint:{configurable:!0}};return V.anchorPointX.get=function(){return this._structArray.int16[this._pos2+0]},V.anchorPointY.get=function(){return this._structArray.int16[this._pos2+1]},V.x1.get=function(){return this._structArray.int16[this._pos2+2]},V.y1.get=function(){return this._structArray.int16[this._pos2+3]},V.x2.get=function(){return this._structArray.int16[this._pos2+4]},V.y2.get=function(){return this._structArray.int16[this._pos2+5]},V.featureIndex.get=function(){return this._structArray.uint32[this._pos4+3]},V.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+8]},V.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+9]},V.anchorPoint.get=function(){return new r(this.anchorPointX,this.anchorPointY)},Object.defineProperties(D.prototype,V),D}(Rs);yd.prototype.size=20;var Av=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.get=function(ae){return new yd(this,ae)},D}(Yc);Oe("CollisionBoxArray",Av);var yf=function(R){function D(){R.apply(this,arguments)}R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D;var V={anchorX:{configurable:!0},anchorY:{configurable:!0},glyphStartIndex:{configurable:!0},numGlyphs:{configurable:!0},vertexStartIndex:{configurable:!0},lineStartIndex:{configurable:!0},lineLength:{configurable:!0},segment:{configurable:!0},lowerSize:{configurable:!0},upperSize:{configurable:!0},lineOffsetX:{configurable:!0},lineOffsetY:{configurable:!0},writingMode:{configurable:!0},placedOrientation:{configurable:!0},hidden:{configurable:!0},crossTileID:{configurable:!0},associatedIconIndex:{configurable:!0}};return V.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},V.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},V.glyphStartIndex.get=function(){return this._structArray.uint16[this._pos2+2]},V.numGlyphs.get=function(){return this._structArray.uint16[this._pos2+3]},V.vertexStartIndex.get=function(){return this._structArray.uint32[this._pos4+2]},V.lineStartIndex.get=function(){return this._structArray.uint32[this._pos4+3]},V.lineLength.get=function(){return this._structArray.uint32[this._pos4+4]},V.segment.get=function(){return this._structArray.uint16[this._pos2+10]},V.lowerSize.get=function(){return this._structArray.uint16[this._pos2+11]},V.upperSize.get=function(){return this._structArray.uint16[this._pos2+12]},V.lineOffsetX.get=function(){return this._structArray.float32[this._pos4+7]},V.lineOffsetY.get=function(){return this._structArray.float32[this._pos4+8]},V.writingMode.get=function(){return this._structArray.uint8[this._pos1+36]},V.placedOrientation.get=function(){return this._structArray.uint8[this._pos1+37]},V.placedOrientation.set=function(ae){this._structArray.uint8[this._pos1+37]=ae},V.hidden.get=function(){return this._structArray.uint8[this._pos1+38]},V.hidden.set=function(ae){this._structArray.uint8[this._pos1+38]=ae},V.crossTileID.get=function(){return this._structArray.uint32[this._pos4+10]},V.crossTileID.set=function(ae){this._structArray.uint32[this._pos4+10]=ae},V.associatedIconIndex.get=function(){return this._structArray.int16[this._pos2+22]},Object.defineProperties(D.prototype,V),D}(Rs);yf.prototype.size=48;var Mv=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.get=function(ae){return new yf(this,ae)},D}(Xc);Oe("PlacedSymbolArray",Mv);var $f=function(R){function D(){R.apply(this,arguments)}R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D;var V={anchorX:{configurable:!0},anchorY:{configurable:!0},rightJustifiedTextSymbolIndex:{configurable:!0},centerJustifiedTextSymbolIndex:{configurable:!0},leftJustifiedTextSymbolIndex:{configurable:!0},verticalPlacedTextSymbolIndex:{configurable:!0},placedIconSymbolIndex:{configurable:!0},verticalPlacedIconSymbolIndex:{configurable:!0},key:{configurable:!0},textBoxStartIndex:{configurable:!0},textBoxEndIndex:{configurable:!0},verticalTextBoxStartIndex:{configurable:!0},verticalTextBoxEndIndex:{configurable:!0},iconBoxStartIndex:{configurable:!0},iconBoxEndIndex:{configurable:!0},verticalIconBoxStartIndex:{configurable:!0},verticalIconBoxEndIndex:{configurable:!0},featureIndex:{configurable:!0},numHorizontalGlyphVertices:{configurable:!0},numVerticalGlyphVertices:{configurable:!0},numIconVertices:{configurable:!0},numVerticalIconVertices:{configurable:!0},useRuntimeCollisionCircles:{configurable:!0},crossTileID:{configurable:!0},textBoxScale:{configurable:!0},textOffset0:{configurable:!0},textOffset1:{configurable:!0},collisionCircleDiameter:{configurable:!0}};return V.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},V.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},V.rightJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+2]},V.centerJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+3]},V.leftJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+4]},V.verticalPlacedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+5]},V.placedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+6]},V.verticalPlacedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+7]},V.key.get=function(){return this._structArray.uint16[this._pos2+8]},V.textBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+9]},V.textBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+10]},V.verticalTextBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+11]},V.verticalTextBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+12]},V.iconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+13]},V.iconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+14]},V.verticalIconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+15]},V.verticalIconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+16]},V.featureIndex.get=function(){return this._structArray.uint16[this._pos2+17]},V.numHorizontalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+18]},V.numVerticalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+19]},V.numIconVertices.get=function(){return this._structArray.uint16[this._pos2+20]},V.numVerticalIconVertices.get=function(){return this._structArray.uint16[this._pos2+21]},V.useRuntimeCollisionCircles.get=function(){return this._structArray.uint16[this._pos2+22]},V.crossTileID.get=function(){return this._structArray.uint32[this._pos4+12]},V.crossTileID.set=function(ae){this._structArray.uint32[this._pos4+12]=ae},V.textBoxScale.get=function(){return this._structArray.float32[this._pos4+13]},V.textOffset0.get=function(){return this._structArray.float32[this._pos4+14]},V.textOffset1.get=function(){return this._structArray.float32[this._pos4+15]},V.collisionCircleDiameter.get=function(){return this._structArray.float32[this._pos4+16]},Object.defineProperties(D.prototype,V),D}(Rs);$f.prototype.size=68;var md=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.get=function(ae){return new $f(this,ae)},D}(Eh);Oe("SymbolInstanceArray",md);var xd=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.getoffsetX=function(ae){return this.float32[ae*1+0]},D}(Jf);Oe("GlyphOffsetArray",xd);var ul=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.getx=function(ae){return this.int16[ae*3+0]},D.prototype.gety=function(ae){return this.int16[ae*3+1]},D.prototype.gettileUnitDistanceFromAnchor=function(ae){return this.int16[ae*3+2]},D}(Tv);Oe("SymbolLineVertexArray",ul);var bd=function(R){function D(){R.apply(this,arguments)}R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D;var V={featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0}};return V.featureIndex.get=function(){return this._structArray.uint32[this._pos4+0]},V.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+2]},V.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+3]},Object.defineProperties(D.prototype,V),D}(Rs);bd.prototype.size=8;var wd=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.get=function(ae){return new bd(this,ae)},D}(Gu);Oe("FeatureIndexArray",wd);var U0=Pi([{name:"a_pos",components:2,type:"Int16"}],4),Td=U0.members,so=function(D){D===void 0&&(D=[]),this.segments=D};so.prototype.prepareSegment=function(D,V,ae,ce){var we=this.segments[this.segments.length-1];return D>so.MAX_VERTEX_ARRAY_LENGTH&&O("Max vertices per segment is "+so.MAX_VERTEX_ARRAY_LENGTH+": bucket requested "+D),(!we||we.vertexLength+D>so.MAX_VERTEX_ARRAY_LENGTH||we.sortKey!==ce)&&(we={vertexOffset:V.length,primitiveOffset:ae.length,vertexLength:0,primitiveLength:0},ce!==void 0&&(we.sortKey=ce),this.segments.push(we)),we},so.prototype.get=function(){return this.segments},so.prototype.destroy=function(){for(var D=0,V=this.segments;D<V.length;D+=1){var ae=V[D];for(var ce in ae.vaos)ae.vaos[ce].destroy()}},so.simpleSegment=function(D,V,ae,ce){return new so([{vertexOffset:D,primitiveOffset:V,vertexLength:ae,primitiveLength:ce,vaos:{},sortKey:0}])},so.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Oe("SegmentVector",so);function fe(R,D){return R=h(Math.floor(R),0,255),D=h(Math.floor(D),0,255),256*R+D}var K=Pi([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]),he=C(function(R){function D(V,ae){var ce,we,Le,Je,vt,St,Rt,Xt;for(ce=V.length&3,we=V.length-ce,Le=ae,vt=3432918353,St=461845907,Xt=0;Xt<we;)Rt=V.charCodeAt(Xt)&255|(V.charCodeAt(++Xt)&255)<<8|(V.charCodeAt(++Xt)&255)<<16|(V.charCodeAt(++Xt)&255)<<24,++Xt,Rt=(Rt&65535)*vt+(((Rt>>>16)*vt&65535)<<16)&4294967295,Rt=Rt<<15|Rt>>>17,Rt=(Rt&65535)*St+(((Rt>>>16)*St&65535)<<16)&4294967295,Le^=Rt,Le=Le<<13|Le>>>19,Je=(Le&65535)*5+(((Le>>>16)*5&65535)<<16)&4294967295,Le=(Je&65535)+27492+(((Je>>>16)+58964&65535)<<16);switch(Rt=0,ce){case 3:Rt^=(V.charCodeAt(Xt+2)&255)<<16;case 2:Rt^=(V.charCodeAt(Xt+1)&255)<<8;case 1:Rt^=V.charCodeAt(Xt)&255,Rt=(Rt&65535)*vt+(((Rt>>>16)*vt&65535)<<16)&4294967295,Rt=Rt<<15|Rt>>>17,Rt=(Rt&65535)*St+(((Rt>>>16)*St&65535)<<16)&4294967295,Le^=Rt}return Le^=V.length,Le^=Le>>>16,Le=(Le&65535)*2246822507+(((Le>>>16)*2246822507&65535)<<16)&4294967295,Le^=Le>>>13,Le=(Le&65535)*3266489909+(((Le>>>16)*3266489909&65535)<<16)&4294967295,Le^=Le>>>16,Le>>>0}R.exports=D}),re=C(function(R){function D(V,ae){for(var ce=V.length,we=ae^ce,Le=0,Je;ce>=4;)Je=V.charCodeAt(Le)&255|(V.charCodeAt(++Le)&255)<<8|(V.charCodeAt(++Le)&255)<<16|(V.charCodeAt(++Le)&255)<<24,Je=(Je&65535)*1540483477+(((Je>>>16)*1540483477&65535)<<16),Je^=Je>>>24,Je=(Je&65535)*1540483477+(((Je>>>16)*1540483477&65535)<<16),we=(we&65535)*1540483477+(((we>>>16)*1540483477&65535)<<16)^Je,ce-=4,++Le;switch(ce){case 3:we^=(V.charCodeAt(Le+2)&255)<<16;case 2:we^=(V.charCodeAt(Le+1)&255)<<8;case 1:we^=V.charCodeAt(Le)&255,we=(we&65535)*1540483477+(((we>>>16)*1540483477&65535)<<16)}return we^=we>>>13,we=(we&65535)*1540483477+(((we>>>16)*1540483477&65535)<<16),we^=we>>>15,we>>>0}R.exports=D}),de=he,ke=he,je=re;de.murmur3=ke,de.murmur2=je;var ot=function(){this.ids=[],this.positions=[],this.indexed=!1};ot.prototype.add=function(D,V,ae,ce){this.ids.push(Ht(D)),this.positions.push(V,ae,ce)},ot.prototype.getPositions=function(D){for(var V=Ht(D),ae=0,ce=this.ids.length-1;ae<ce;){var we=ae+ce>>1;this.ids[we]>=V?ce=we:ae=we+1}for(var Le=[];this.ids[ae]===V;){var Je=this.positions[3*ae],vt=this.positions[3*ae+1],St=this.positions[3*ae+2];Le.push({index:Je,start:vt,end:St}),ae++}return Le},ot.serialize=function(D,V){var ae=new Float64Array(D.ids),ce=new Uint32Array(D.positions);return qt(ae,ce,0,ae.length-1),V&&V.push(ae.buffer,ce.buffer),{ids:ae,positions:ce}},ot.deserialize=function(D){var V=new ot;return V.ids=D.ids,V.positions=D.positions,V.indexed=!0,V};var Lt=Math.pow(2,53)-1;function Ht(R){var D=+R;return!isNaN(D)&&D<=Lt?D:de(String(R))}function qt(R,D,V,ae){for(;V<ae;){for(var ce=R[V+ae>>1],we=V-1,Le=ae+1;;){do we++;while(R[we]<ce);do Le--;while(R[Le]>ce);if(we>=Le)break;lr(R,we,Le),lr(D,3*we,3*Le),lr(D,3*we+1,3*Le+1),lr(D,3*we+2,3*Le+2)}Le-V<ae-Le?(qt(R,D,V,Le),V=Le+1):(qt(R,D,Le+1,ae),ae=Le)}}function lr(R,D,V){var ae=R[D];R[D]=R[V],R[V]=ae}Oe("FeaturePositionMap",ot);var sr=function(D,V){this.gl=D.gl,this.location=V},kr=function(R){function D(V,ae){R.call(this,V,ae),this.current=0}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.set=function(ae){this.current!==ae&&(this.current=ae,this.gl.uniform1i(this.location,ae))},D}(sr),Xr=function(R){function D(V,ae){R.call(this,V,ae),this.current=0}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.set=function(ae){this.current!==ae&&(this.current=ae,this.gl.uniform1f(this.location,ae))},D}(sr),Yr=function(R){function D(V,ae){R.call(this,V,ae),this.current=[0,0]}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.set=function(ae){(ae[0]!==this.current[0]||ae[1]!==this.current[1])&&(this.current=ae,this.gl.uniform2f(this.location,ae[0],ae[1]))},D}(sr),Hr=function(R){function D(V,ae){R.call(this,V,ae),this.current=[0,0,0]}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.set=function(ae){(ae[0]!==this.current[0]||ae[1]!==this.current[1]||ae[2]!==this.current[2])&&(this.current=ae,this.gl.uniform3f(this.location,ae[0],ae[1],ae[2]))},D}(sr),Kr=function(R){function D(V,ae){R.call(this,V,ae),this.current=[0,0,0,0]}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.set=function(ae){(ae[0]!==this.current[0]||ae[1]!==this.current[1]||ae[2]!==this.current[2]||ae[3]!==this.current[3])&&(this.current=ae,this.gl.uniform4f(this.location,ae[0],ae[1],ae[2],ae[3]))},D}(sr),fn=function(R){function D(V,ae){R.call(this,V,ae),this.current=qa.transparent}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.set=function(ae){(ae.r!==this.current.r||ae.g!==this.current.g||ae.b!==this.current.b||ae.a!==this.current.a)&&(this.current=ae,this.gl.uniform4f(this.location,ae.r,ae.g,ae.b,ae.a))},D}(sr),kn=new Float32Array(16),Bn=function(R){function D(V,ae){R.call(this,V,ae),this.current=kn}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.set=function(ae){if(ae[12]!==this.current[12]||ae[0]!==this.current[0]){this.current=ae,this.gl.uniformMatrix4fv(this.location,!1,ae);return}for(var ce=1;ce<16;ce++)if(ae[ce]!==this.current[ce]){this.current=ae,this.gl.uniformMatrix4fv(this.location,!1,ae);break}},D}(sr);function Yn(R){return[fe(255*R.r,255*R.g),fe(255*R.b,255*R.a)]}var Xn=function(D,V,ae){this.value=D,this.uniformNames=V.map(function(ce){return"u_"+ce}),this.type=ae};Xn.prototype.setUniform=function(D,V,ae){D.set(ae.constantOr(this.value))},Xn.prototype.getBinding=function(D,V,ae){return this.type==="color"?new fn(D,V):new Xr(D,V)};var Gn=function(D,V){this.uniformNames=V.map(function(ae){return"u_"+ae}),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1};Gn.prototype.setConstantPatternPositions=function(D,V){this.pixelRatioFrom=V.pixelRatio,this.pixelRatioTo=D.pixelRatio,this.patternFrom=V.tlbr,this.patternTo=D.tlbr},Gn.prototype.setUniform=function(D,V,ae,ce){var we=ce==="u_pattern_to"?this.patternTo:ce==="u_pattern_from"?this.patternFrom:ce==="u_pixel_ratio_to"?this.pixelRatioTo:ce==="u_pixel_ratio_from"?this.pixelRatioFrom:null;we&&D.set(we)},Gn.prototype.getBinding=function(D,V,ae){return ae.substr(0,9)==="u_pattern"?new Kr(D,V):new Xr(D,V)};var jn=function(D,V,ae,ce){this.expression=D,this.type=ae,this.maxValue=0,this.paintVertexAttributes=V.map(function(we){return{name:"a_"+we,type:"Float32",components:ae==="color"?2:1,offset:0}}),this.paintVertexArray=new ce};jn.prototype.populatePaintArray=function(D,V,ae,ce,we){var Le=this.paintVertexArray.length,Je=this.expression.evaluate(new Aa(0),V,{},ce,[],we);this.paintVertexArray.resize(D),this._setPaintValue(Le,D,Je)},jn.prototype.updatePaintArray=function(D,V,ae,ce){var we=this.expression.evaluate({zoom:0},ae,ce);this._setPaintValue(D,V,we)},jn.prototype._setPaintValue=function(D,V,ae){if(this.type==="color")for(var ce=Yn(ae),we=D;we<V;we++)this.paintVertexArray.emplace(we,ce[0],ce[1]);else{for(var Le=D;Le<V;Le++)this.paintVertexArray.emplace(Le,ae);this.maxValue=Math.max(this.maxValue,Math.abs(ae))}},jn.prototype.upload=function(D){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=D.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},jn.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()};var ta=function(D,V,ae,ce,we,Le){this.expression=D,this.uniformNames=V.map(function(Je){return"u_"+Je+"_t"}),this.type=ae,this.useIntegerZoom=ce,this.zoom=we,this.maxValue=0,this.paintVertexAttributes=V.map(function(Je){return{name:"a_"+Je,type:"Float32",components:ae==="color"?4:2,offset:0}}),this.paintVertexArray=new Le};ta.prototype.populatePaintArray=function(D,V,ae,ce,we){var Le=this.expression.evaluate(new Aa(this.zoom),V,{},ce,[],we),Je=this.expression.evaluate(new Aa(this.zoom+1),V,{},ce,[],we),vt=this.paintVertexArray.length;this.paintVertexArray.resize(D),this._setPaintValue(vt,D,Le,Je)},ta.prototype.updatePaintArray=function(D,V,ae,ce){var we=this.expression.evaluate({zoom:this.zoom},ae,ce),Le=this.expression.evaluate({zoom:this.zoom+1},ae,ce);this._setPaintValue(D,V,we,Le)},ta.prototype._setPaintValue=function(D,V,ae,ce){if(this.type==="color")for(var we=Yn(ae),Le=Yn(ce),Je=D;Je<V;Je++)this.paintVertexArray.emplace(Je,we[0],we[1],Le[0],Le[1]);else{for(var vt=D;vt<V;vt++)this.paintVertexArray.emplace(vt,ae,ce);this.maxValue=Math.max(this.maxValue,Math.abs(ae),Math.abs(ce))}},ta.prototype.upload=function(D){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=D.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},ta.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},ta.prototype.setUniform=function(D,V){var ae=this.useIntegerZoom?Math.floor(V.zoom):V.zoom,ce=h(this.expression.interpolationFactor(ae,this.zoom,this.zoom+1),0,1);D.set(ce)},ta.prototype.getBinding=function(D,V,ae){return new Xr(D,V)};var la=function(D,V,ae,ce,we,Le){this.expression=D,this.type=V,this.useIntegerZoom=ae,this.zoom=ce,this.layerId=Le,this.zoomInPaintVertexArray=new we,this.zoomOutPaintVertexArray=new we};la.prototype.populatePaintArray=function(D,V,ae){var ce=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(D),this.zoomOutPaintVertexArray.resize(D),this._setPaintValues(ce,D,V.patterns&&V.patterns[this.layerId],ae)},la.prototype.updatePaintArray=function(D,V,ae,ce,we){this._setPaintValues(D,V,ae.patterns&&ae.patterns[this.layerId],we)},la.prototype._setPaintValues=function(D,V,ae,ce){if(!(!ce||!ae)){var we=ae.min,Le=ae.mid,Je=ae.max,vt=ce[we],St=ce[Le],Rt=ce[Je];if(!(!vt||!St||!Rt))for(var Xt=D;Xt<V;Xt++)this.zoomInPaintVertexArray.emplace(Xt,St.tl[0],St.tl[1],St.br[0],St.br[1],vt.tl[0],vt.tl[1],vt.br[0],vt.br[1],St.pixelRatio,vt.pixelRatio),this.zoomOutPaintVertexArray.emplace(Xt,St.tl[0],St.tl[1],St.br[0],St.br[1],Rt.tl[0],Rt.tl[1],Rt.br[0],Rt.br[1],St.pixelRatio,Rt.pixelRatio)}},la.prototype.upload=function(D){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=D.createVertexBuffer(this.zoomInPaintVertexArray,K.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=D.createVertexBuffer(this.zoomOutPaintVertexArray,K.members,this.expression.isStateDependent))},la.prototype.destroy=function(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()};var xa=function(D,V,ae){this.binders={},this._buffers=[];var ce=[];for(var we in D.paint._values)if(!!ae(we)){var Le=D.paint.get(we);if(!(!(Le instanceof wi)||!Ls(Le.property.specification))){var Je=ka(we,D.type),vt=Le.value,St=Le.property.specification.type,Rt=Le.property.useIntegerZoom,Xt=Le.property.specification["property-type"],ir=Xt==="cross-faded"||Xt==="cross-faded-data-driven";if(vt.kind==="constant")this.binders[we]=ir?new Gn(vt.value,Je):new Xn(vt.value,Je,St),ce.push("/u_"+we);else if(vt.kind==="source"||ir){var tr=Wa(we,St,"source");this.binders[we]=ir?new la(vt,St,Rt,V,tr,D.id):new jn(vt,Je,St,tr),ce.push("/a_"+we)}else{var yr=Wa(we,St,"composite");this.binders[we]=new ta(vt,Je,St,Rt,V,yr),ce.push("/z_"+we)}}}this.cacheKey=ce.sort().join("")};xa.prototype.getMaxValue=function(D){var V=this.binders[D];return V instanceof jn||V instanceof ta?V.maxValue:0},xa.prototype.populatePaintArrays=function(D,V,ae,ce,we){for(var Le in this.binders){var Je=this.binders[Le];(Je instanceof jn||Je instanceof ta||Je instanceof la)&&Je.populatePaintArray(D,V,ae,ce,we)}},xa.prototype.setConstantPatternPositions=function(D,V){for(var ae in this.binders){var ce=this.binders[ae];ce instanceof Gn&&ce.setConstantPatternPositions(D,V)}},xa.prototype.updatePaintArrays=function(D,V,ae,ce,we){var Le=!1;for(var Je in D)for(var vt=V.getPositions(Je),St=0,Rt=vt;St<Rt.length;St+=1){var Xt=Rt[St],ir=ae.feature(Xt.index);for(var tr in this.binders){var yr=this.binders[tr];if((yr instanceof jn||yr instanceof ta||yr instanceof la)&&yr.expression.isStateDependent===!0){var Fr=ce.paint.get(tr);yr.expression=Fr.value,yr.updatePaintArray(Xt.start,Xt.end,ir,D[Je],we),Le=!0}}}return Le},xa.prototype.defines=function(){var D=[];for(var V in this.binders){var ae=this.binders[V];(ae instanceof Xn||ae instanceof Gn)&&D.push.apply(D,ae.uniformNames.map(function(ce){return"#define HAS_UNIFORM_"+ce}))}return D},xa.prototype.getBinderAttributes=function(){var D=[];for(var V in this.binders){var ae=this.binders[V];if(ae instanceof jn||ae instanceof ta)for(var ce=0;ce<ae.paintVertexAttributes.length;ce++)D.push(ae.paintVertexAttributes[ce].name);else if(ae instanceof la)for(var we=0;we<K.members.length;we++)D.push(K.members[we].name)}return D},xa.prototype.getBinderUniforms=function(){var D=[];for(var V in this.binders){var ae=this.binders[V];if(ae instanceof Xn||ae instanceof Gn||ae instanceof ta)for(var ce=0,we=ae.uniformNames;ce<we.length;ce+=1){var Le=we[ce];D.push(Le)}}return D},xa.prototype.getPaintVertexBuffers=function(){return this._buffers},xa.prototype.getUniforms=function(D,V){var ae=[];for(var ce in this.binders){var we=this.binders[ce];if(we instanceof Xn||we instanceof Gn||we instanceof ta)for(var Le=0,Je=we.uniformNames;Le<Je.length;Le+=1){var vt=Je[Le];if(V[vt]){var St=we.getBinding(D,V[vt],vt);ae.push({name:vt,property:ce,binding:St})}}}return ae},xa.prototype.setUniforms=function(D,V,ae,ce){for(var we=0,Le=V;we<Le.length;we+=1){var Je=Le[we],vt=Je.name,St=Je.property,Rt=Je.binding;this.binders[St].setUniform(Rt,ce,ae.get(St),vt)}},xa.prototype.updatePaintBuffers=function(D){this._buffers=[];for(var V in this.binders){var ae=this.binders[V];if(D&&ae instanceof la){var ce=D.fromScale===2?ae.zoomInPaintVertexBuffer:ae.zoomOutPaintVertexBuffer;ce&&this._buffers.push(ce)}else(ae instanceof jn||ae instanceof ta)&&ae.paintVertexBuffer&&this._buffers.push(ae.paintVertexBuffer)}},xa.prototype.upload=function(D){for(var V in this.binders){var ae=this.binders[V];(ae instanceof jn||ae instanceof ta||ae instanceof la)&&ae.upload(D)}this.updatePaintBuffers()},xa.prototype.destroy=function(){for(var D in this.binders){var V=this.binders[D];(V instanceof jn||V instanceof ta||V instanceof la)&&V.destroy()}};var va=function(D,V,ae){ae===void 0&&(ae=function(){return!0}),this.programConfigurations={};for(var ce=0,we=D;ce<we.length;ce+=1){var Le=we[ce];this.programConfigurations[Le.id]=new xa(Le,V,ae)}this.needsUpload=!1,this._featureMap=new ot,this._bufferOffset=0};va.prototype.populatePaintArrays=function(D,V,ae,ce,we,Le){for(var Je in this.programConfigurations)this.programConfigurations[Je].populatePaintArrays(D,V,ce,we,Le);V.id!==void 0&&this._featureMap.add(V.id,ae,this._bufferOffset,D),this._bufferOffset=D,this.needsUpload=!0},va.prototype.updatePaintArrays=function(D,V,ae,ce){for(var we=0,Le=ae;we<Le.length;we+=1){var Je=Le[we];this.needsUpload=this.programConfigurations[Je.id].updatePaintArrays(D,this._featureMap,V,Je,ce)||this.needsUpload}},va.prototype.get=function(D){return this.programConfigurations[D]},va.prototype.upload=function(D){if(!!this.needsUpload){for(var V in this.programConfigurations)this.programConfigurations[V].upload(D);this.needsUpload=!1}},va.prototype.destroy=function(){for(var D in this.programConfigurations)this.programConfigurations[D].destroy()};function ka(R,D){var V={"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]};return V[R]||[R.replace(D+"-","").replace(/-/g,"_")]}function Qa(R){var D={"line-pattern":{source:$o,composite:$o},"fill-pattern":{source:$o,composite:$o},"fill-extrusion-pattern":{source:$o,composite:$o}};return D[R]}function Wa(R,D,V){var ae={color:{source:Kf,composite:gf},number:{source:Jf,composite:Kf}},ce=Qa(R);return ce&&ce[V]||ae[D][V]}Oe("ConstantBinder",Xn),Oe("CrossFadedConstantBinder",Gn),Oe("SourceExpressionBinder",jn),Oe("CrossFadedCompositeBinder",la),Oe("CompositeExpressionBinder",ta),Oe("ProgramConfiguration",xa,{omit:["_buffers"]}),Oe("ProgramConfigurationSet",va);var Ma=8192,Ya=15,Va=Math.pow(2,Ya-1)-1,oi=-Va-1;function ei(R){for(var D=Ma/R.extent,V=R.loadGeometry(),ae=0;ae<V.length;ae++)for(var ce=V[ae],we=0;we<ce.length;we++){var Le=ce[we],Je=Math.round(Le.x*D),vt=Math.round(Le.y*D);Le.x=h(Je,oi,Va),Le.y=h(vt,oi,Va),(Je<Le.x||Je>Le.x+1||vt<Le.y||vt>Le.y+1)&&O("Geometry exceeds allowed extent, reduce your vector tile buffer size")}return V}function Mi(R,D){return{type:R.type,id:R.id,properties:R.properties,geometry:D?ei(R):[]}}function Ja(R,D,V,ae,ce){R.emplaceBack(D*2+(ae+1)/2,V*2+(ce+1)/2)}var yi=function(D){this.zoom=D.zoom,this.overscaling=D.overscaling,this.layers=D.layers,this.layerIds=this.layers.map(function(V){return V.id}),this.index=D.index,this.hasPattern=!1,this.layoutVertexArray=new pf,this.indexArray=new vu,this.segments=new so,this.programConfigurations=new va(D.layers,D.zoom),this.stateDependentLayerIds=this.layers.filter(function(V){return V.isStateDependent()}).map(function(V){return V.id})};yi.prototype.populate=function(D,V,ae){var ce=this.layers[0],we=[],Le=null;ce.type==="circle"&&(Le=ce.layout.get("circle-sort-key"));for(var Je=0,vt=D;Je<vt.length;Je+=1){var St=vt[Je],Rt=St.feature,Xt=St.id,ir=St.index,tr=St.sourceLayerIndex,yr=this.layers[0]._featureFilter.needGeometry,Fr=Mi(Rt,yr);if(!!this.layers[0]._featureFilter.filter(new Aa(this.zoom),Fr,ae)){var ln=Le?Le.evaluate(Fr,{},ae):void 0,en={id:Xt,properties:Rt.properties,type:Rt.type,sourceLayerIndex:tr,index:ir,geometry:yr?Fr.geometry:ei(Rt),patterns:{},sortKey:ln};we.push(en)}}Le&&we.sort(function(da,ba){return da.sortKey-ba.sortKey});for(var Sn=0,yn=we;Sn<yn.length;Sn+=1){var Mn=yn[Sn],Fn=Mn,Wn=Fn.geometry,ra=Fn.index,qn=Fn.sourceLayerIndex,wa=D[ra].feature;this.addFeature(Mn,Wn,ra,ae),V.featureIndex.insert(wa,Wn,ra,qn,this.index)}},yi.prototype.update=function(D,V,ae){!this.stateDependentLayers.length||this.programConfigurations.updatePaintArrays(D,V,this.stateDependentLayers,ae)},yi.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},yi.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},yi.prototype.upload=function(D){this.uploaded||(this.layoutVertexBuffer=D.createVertexBuffer(this.layoutVertexArray,Td),this.indexBuffer=D.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(D),this.uploaded=!0},yi.prototype.destroy=function(){!this.layoutVertexBuffer||(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},yi.prototype.addFeature=function(D,V,ae,ce){for(var we=0,Le=V;we<Le.length;we+=1)for(var Je=Le[we],vt=0,St=Je;vt<St.length;vt+=1){var Rt=St[vt],Xt=Rt.x,ir=Rt.y;if(!(Xt<0||Xt>=Ma||ir<0||ir>=Ma)){var tr=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,D.sortKey),yr=tr.vertexLength;Ja(this.layoutVertexArray,Xt,ir,-1,-1),Ja(this.layoutVertexArray,Xt,ir,1,-1),Ja(this.layoutVertexArray,Xt,ir,1,1),Ja(this.layoutVertexArray,Xt,ir,-1,1),this.indexArray.emplaceBack(yr,yr+1,yr+2),this.indexArray.emplaceBack(yr,yr+3,yr+2),tr.vertexLength+=4,tr.primitiveLength+=2}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,D,ae,{},ce)},Oe("CircleBucket",yi,{omit:["layers"]});function Ha(R,D){for(var V=0;V<R.length;V++)if(qo(D,R[V]))return!0;for(var ae=0;ae<D.length;ae++)if(qo(R,D[ae]))return!0;return!!Ks(R,D)}function $a(R,D,V){return!!(qo(R,D)||Bl(D,R,V))}function Ui(R,D){if(R.length===1)return Nl(D,R[0]);for(var V=0;V<D.length;V++)for(var ae=D[V],ce=0;ce<ae.length;ce++)if(qo(R,ae[ce]))return!0;for(var we=0;we<R.length;we++)if(Nl(D,R[we]))return!0;for(var Le=0;Le<D.length;Le++)if(Ks(R,D[Le]))return!0;return!1}function yo(R,D,V){for(var ae=0;ae<D.length;ae++){var ce=D[ae];if(R.length>=3){for(var we=0;we<ce.length;we++)if(qo(R,ce[we]))return!0}if(js(R,ce,V))return!0}return!1}function js(R,D,V){if(R.length>1){if(Ks(R,D))return!0;for(var ae=0;ae<D.length;ae++)if(Bl(D[ae],R,V))return!0}for(var ce=0;ce<R.length;ce++)if(Bl(R[ce],D,V))return!0;return!1}function Ks(R,D){if(R.length===0||D.length===0)return!1;for(var V=0;V<R.length-1;V++)for(var ae=R[V],ce=R[V+1],we=0;we<D.length-1;we++){var Le=D[we],Je=D[we+1];if(fl(ae,ce,Le,Je))return!0}return!1}function fl(R,D,V,ae){return z(R,V,ae)!==z(D,V,ae)&&z(R,D,V)!==z(R,D,ae)}function Bl(R,D,V){var ae=V*V;if(D.length===1)return R.distSqr(D[0])<ae;for(var ce=1;ce<D.length;ce++){var we=D[ce-1],Le=D[ce];if(mf(R,we,Le)<ae)return!0}return!1}function mf(R,D,V){var ae=D.distSqr(V);if(ae===0)return R.distSqr(D);var ce=((R.x-D.x)*(V.x-D.x)+(R.y-D.y)*(V.y-D.y))/ae;return ce<0?R.distSqr(D):ce>1?R.distSqr(V):R.distSqr(V.sub(D)._mult(ce)._add(D))}function Nl(R,D){for(var V=!1,ae,ce,we,Le=0;Le<R.length;Le++){ae=R[Le];for(var Je=0,vt=ae.length-1;Je<ae.length;vt=Je++)ce=ae[Je],we=ae[vt],ce.y>D.y!=we.y>D.y&&D.x<(we.x-ce.x)*(D.y-ce.y)/(we.y-ce.y)+ce.x&&(V=!V)}return V}function qo(R,D){for(var V=!1,ae=0,ce=R.length-1;ae<R.length;ce=ae++){var we=R[ae],Le=R[ce];we.y>D.y!=Le.y>D.y&&D.x<(Le.x-we.x)*(D.y-we.y)/(Le.y-we.y)+we.x&&(V=!V)}return V}function Ul(R,D,V,ae,ce){for(var we=0,Le=R;we<Le.length;we+=1){var Je=Le[we];if(D<=Je.x&&V<=Je.y&&ae>=Je.x&&ce>=Je.y)return!0}var vt=[new r(D,V),new r(D,ce),new r(ae,ce),new r(ae,V)];if(R.length>2)for(var St=0,Rt=vt;St<Rt.length;St+=1){var Xt=Rt[St];if(qo(R,Xt))return!0}for(var ir=0;ir<R.length-1;ir++){var tr=R[ir],yr=R[ir+1];if(ps(tr,yr,vt))return!0}return!1}function ps(R,D,V){var ae=V[0],ce=V[2];if(R.x<ae.x&&D.x<ae.x||R.x>ce.x&&D.x>ce.x||R.y<ae.y&&D.y<ae.y||R.y>ce.y&&D.y>ce.y)return!1;var we=z(R,D,V[0]);return we!==z(R,D,V[1])||we!==z(R,D,V[2])||we!==z(R,D,V[3])}function es(R,D,V){var ae=D.paint.get(R).value;return ae.kind==="constant"?ae.value:V.programConfigurations.get(D.id).getMaxValue(R)}function cl(R){return Math.sqrt(R[0]*R[0]+R[1]*R[1])}function du(R,D,V,ae,ce){if(!D[0]&&!D[1])return R;var we=r.convert(D)._mult(ce);V==="viewport"&&we._rotate(-ae);for(var Le=[],Je=0;Je<R.length;Je++){var vt=R[Je];Le.push(vt.sub(we))}return Le}var hl=new ci({"circle-sort-key":new Ca(Ar.layout_circle["circle-sort-key"])}),Ch=new ci({"circle-radius":new Ca(Ar.paint_circle["circle-radius"]),"circle-color":new Ca(Ar.paint_circle["circle-color"]),"circle-blur":new Ca(Ar.paint_circle["circle-blur"]),"circle-opacity":new Ca(Ar.paint_circle["circle-opacity"]),"circle-translate":new sa(Ar.paint_circle["circle-translate"]),"circle-translate-anchor":new sa(Ar.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new sa(Ar.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new sa(Ar.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new Ca(Ar.paint_circle["circle-stroke-width"]),"circle-stroke-color":new Ca(Ar.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new Ca(Ar.paint_circle["circle-stroke-opacity"])}),qf={paint:Ch,layout:hl},To=typeof Float32Array!="undefined"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var R=arguments,D=0,V=arguments.length;V--;)D+=R[V]*R[V];return Math.sqrt(D)});function Lh(){var R=new To(4);return To!=Float32Array&&(R[1]=0,R[2]=0),R[0]=1,R[3]=1,R}function jc(R,D,V){var ae=D[0],ce=D[1],we=D[2],Le=D[3],Je=Math.sin(V),vt=Math.cos(V);return R[0]=ae*vt+we*Je,R[1]=ce*vt+Le*Je,R[2]=ae*-Je+we*vt,R[3]=ce*-Je+Le*vt,R}function Uo(){var R=new To(9);return To!=Float32Array&&(R[1]=0,R[2]=0,R[3]=0,R[5]=0,R[6]=0,R[7]=0),R[0]=1,R[4]=1,R[8]=1,R}function ec(R,D){var V=Math.sin(D),ae=Math.cos(D);return R[0]=ae,R[1]=V,R[2]=0,R[3]=-V,R[4]=ae,R[5]=0,R[6]=0,R[7]=0,R[8]=1,R}function Ph(){var R=new To(16);return To!=Float32Array&&(R[1]=0,R[2]=0,R[3]=0,R[4]=0,R[6]=0,R[7]=0,R[8]=0,R[9]=0,R[11]=0,R[12]=0,R[13]=0,R[14]=0),R[0]=1,R[5]=1,R[10]=1,R[15]=1,R}function Rh(R){var D=new To(16);return D[0]=R[0],D[1]=R[1],D[2]=R[2],D[3]=R[3],D[4]=R[4],D[5]=R[5],D[6]=R[6],D[7]=R[7],D[8]=R[8],D[9]=R[9],D[10]=R[10],D[11]=R[11],D[12]=R[12],D[13]=R[13],D[14]=R[14],D[15]=R[15],D}function Dh(R){return R[0]=1,R[1]=0,R[2]=0,R[3]=0,R[4]=0,R[5]=1,R[6]=0,R[7]=0,R[8]=0,R[9]=0,R[10]=1,R[11]=0,R[12]=0,R[13]=0,R[14]=0,R[15]=1,R}function tc(R,D){var V=D[0],ae=D[1],ce=D[2],we=D[3],Le=D[4],Je=D[5],vt=D[6],St=D[7],Rt=D[8],Xt=D[9],ir=D[10],tr=D[11],yr=D[12],Fr=D[13],ln=D[14],en=D[15],Sn=V*Je-ae*Le,yn=V*vt-ce*Le,Mn=V*St-we*Le,Fn=ae*vt-ce*Je,Wn=ae*St-we*Je,ra=ce*St-we*vt,qn=Rt*Fr-Xt*yr,wa=Rt*ln-ir*yr,da=Rt*en-tr*yr,ba=Xt*ln-ir*Fr,Ba=Xt*en-tr*Fr,Ta=ir*en-tr*ln,Ea=Sn*Ta-yn*Ba+Mn*ba+Fn*da-Wn*wa+ra*qn;return Ea?(Ea=1/Ea,R[0]=(Je*Ta-vt*Ba+St*ba)*Ea,R[1]=(ce*Ba-ae*Ta-we*ba)*Ea,R[2]=(Fr*ra-ln*Wn+en*Fn)*Ea,R[3]=(ir*Wn-Xt*ra-tr*Fn)*Ea,R[4]=(vt*da-Le*Ta-St*wa)*Ea,R[5]=(V*Ta-ce*da+we*wa)*Ea,R[6]=(ln*Mn-yr*ra-en*yn)*Ea,R[7]=(Rt*ra-ir*Mn+tr*yn)*Ea,R[8]=(Le*Ba-Je*da+St*qn)*Ea,R[9]=(ae*da-V*Ba-we*qn)*Ea,R[10]=(yr*Wn-Fr*Mn+en*Sn)*Ea,R[11]=(Xt*Mn-Rt*Wn-tr*Sn)*Ea,R[12]=(Je*wa-Le*ba-vt*qn)*Ea,R[13]=(V*ba-ae*wa+ce*qn)*Ea,R[14]=(Fr*yn-yr*Fn-ln*Sn)*Ea,R[15]=(Rt*Fn-Xt*yn+ir*Sn)*Ea,R):null}function rc(R,D,V){var ae=D[0],ce=D[1],we=D[2],Le=D[3],Je=D[4],vt=D[5],St=D[6],Rt=D[7],Xt=D[8],ir=D[9],tr=D[10],yr=D[11],Fr=D[12],ln=D[13],en=D[14],Sn=D[15],yn=V[0],Mn=V[1],Fn=V[2],Wn=V[3];return R[0]=yn*ae+Mn*Je+Fn*Xt+Wn*Fr,R[1]=yn*ce+Mn*vt+Fn*ir+Wn*ln,R[2]=yn*we+Mn*St+Fn*tr+Wn*en,R[3]=yn*Le+Mn*Rt+Fn*yr+Wn*Sn,yn=V[4],Mn=V[5],Fn=V[6],Wn=V[7],R[4]=yn*ae+Mn*Je+Fn*Xt+Wn*Fr,R[5]=yn*ce+Mn*vt+Fn*ir+Wn*ln,R[6]=yn*we+Mn*St+Fn*tr+Wn*en,R[7]=yn*Le+Mn*Rt+Fn*yr+Wn*Sn,yn=V[8],Mn=V[9],Fn=V[10],Wn=V[11],R[8]=yn*ae+Mn*Je+Fn*Xt+Wn*Fr,R[9]=yn*ce+Mn*vt+Fn*ir+Wn*ln,R[10]=yn*we+Mn*St+Fn*tr+Wn*en,R[11]=yn*Le+Mn*Rt+Fn*yr+Wn*Sn,yn=V[12],Mn=V[13],Fn=V[14],Wn=V[15],R[12]=yn*ae+Mn*Je+Fn*Xt+Wn*Fr,R[13]=yn*ce+Mn*vt+Fn*ir+Wn*ln,R[14]=yn*we+Mn*St+Fn*tr+Wn*en,R[15]=yn*Le+Mn*Rt+Fn*yr+Wn*Sn,R}function Xi(R,D,V){var ae=V[0],ce=V[1],we=V[2],Le,Je,vt,St,Rt,Xt,ir,tr,yr,Fr,ln,en;return D===R?(R[12]=D[0]*ae+D[4]*ce+D[8]*we+D[12],R[13]=D[1]*ae+D[5]*ce+D[9]*we+D[13],R[14]=D[2]*ae+D[6]*ce+D[10]*we+D[14],R[15]=D[3]*ae+D[7]*ce+D[11]*we+D[15]):(Le=D[0],Je=D[1],vt=D[2],St=D[3],Rt=D[4],Xt=D[5],ir=D[6],tr=D[7],yr=D[8],Fr=D[9],ln=D[10],en=D[11],R[0]=Le,R[1]=Je,R[2]=vt,R[3]=St,R[4]=Rt,R[5]=Xt,R[6]=ir,R[7]=tr,R[8]=yr,R[9]=Fr,R[10]=ln,R[11]=en,R[12]=Le*ae+Rt*ce+yr*we+D[12],R[13]=Je*ae+Xt*ce+Fr*we+D[13],R[14]=vt*ae+ir*ce+ln*we+D[14],R[15]=St*ae+tr*ce+en*we+D[15]),R}function gs(R,D,V){var ae=V[0],ce=V[1],we=V[2];return R[0]=D[0]*ae,R[1]=D[1]*ae,R[2]=D[2]*ae,R[3]=D[3]*ae,R[4]=D[4]*ce,R[5]=D[5]*ce,R[6]=D[6]*ce,R[7]=D[7]*ce,R[8]=D[8]*we,R[9]=D[9]*we,R[10]=D[10]*we,R[11]=D[11]*we,R[12]=D[12],R[13]=D[13],R[14]=D[14],R[15]=D[15],R}function ys(R,D,V){var ae=Math.sin(V),ce=Math.cos(V),we=D[4],Le=D[5],Je=D[6],vt=D[7],St=D[8],Rt=D[9],Xt=D[10],ir=D[11];return D!==R&&(R[0]=D[0],R[1]=D[1],R[2]=D[2],R[3]=D[3],R[12]=D[12],R[13]=D[13],R[14]=D[14],R[15]=D[15]),R[4]=we*ce+St*ae,R[5]=Le*ce+Rt*ae,R[6]=Je*ce+Xt*ae,R[7]=vt*ce+ir*ae,R[8]=St*ce-we*ae,R[9]=Rt*ce-Le*ae,R[10]=Xt*ce-Je*ae,R[11]=ir*ce-vt*ae,R}function Ih(R,D,V){var ae=Math.sin(V),ce=Math.cos(V),we=D[0],Le=D[1],Je=D[2],vt=D[3],St=D[4],Rt=D[5],Xt=D[6],ir=D[7];return D!==R&&(R[8]=D[8],R[9]=D[9],R[10]=D[10],R[11]=D[11],R[12]=D[12],R[13]=D[13],R[14]=D[14],R[15]=D[15]),R[0]=we*ce+St*ae,R[1]=Le*ce+Rt*ae,R[2]=Je*ce+Xt*ae,R[3]=vt*ce+ir*ae,R[4]=St*ce-we*ae,R[5]=Rt*ce-Le*ae,R[6]=Xt*ce-Je*ae,R[7]=ir*ce-vt*ae,R}function Sv(R,D,V,ae,ce){var we=1/Math.tan(D/2),Le;return R[0]=we/V,R[1]=0,R[2]=0,R[3]=0,R[4]=0,R[5]=we,R[6]=0,R[7]=0,R[8]=0,R[9]=0,R[11]=-1,R[12]=0,R[13]=0,R[15]=0,ce!=null&&ce!==1/0?(Le=1/(ae-ce),R[10]=(ce+ae)*Le,R[14]=2*ce*ae*Le):(R[10]=-1,R[14]=-2*ae),R}function V0(R,D,V,ae,ce,we,Le){var Je=1/(D-V),vt=1/(ae-ce),St=1/(we-Le);return R[0]=-2*Je,R[1]=0,R[2]=0,R[3]=0,R[4]=0,R[5]=-2*vt,R[6]=0,R[7]=0,R[8]=0,R[9]=0,R[10]=2*St,R[11]=0,R[12]=(D+V)*Je,R[13]=(ce+ae)*vt,R[14]=(Le+we)*St,R[15]=1,R}var H0=rc;function Kc(){var R=new To(3);return To!=Float32Array&&(R[0]=0,R[1]=0,R[2]=0),R}function G0(R){var D=new To(3);return D[0]=R[0],D[1]=R[1],D[2]=R[2],D}function _h(R,D,V){return R[0]=D[0]+V[0],R[1]=D[1]+V[1],R[2]=D[2]+V[2],R}function W0(R,D,V){return R[0]=D[0]-V[0],R[1]=D[1]-V[1],R[2]=D[2]-V[2],R}function Y0(R,D,V){return R[0]=D[0]*V,R[1]=D[1]*V,R[2]=D[2]*V,R}function Ev(R,D){var V=D[0],ae=D[1],ce=D[2],we=V*V+ae*ae+ce*ce;return we>0&&(we=1/Math.sqrt(we)),R[0]=D[0]*we,R[1]=D[1]*we,R[2]=D[2]*we,R}function Z2(R,D){return R[0]*D[0]+R[1]*D[1]+R[2]*D[2]}function j2(R,D,V){var ae=D[0],ce=D[1],we=D[2],Le=V[0],Je=V[1],vt=V[2];return R[0]=ce*vt-we*Je,R[1]=we*Le-ae*vt,R[2]=ae*Je-ce*Le,R}function K2(R,D,V){var ae=D[0],ce=D[1],we=D[2];return R[0]=ae*V[0]+ce*V[3]+we*V[6],R[1]=ae*V[1]+ce*V[4]+we*V[7],R[2]=ae*V[2]+ce*V[5]+we*V[8],R}var J2=W0;(function(){var R=Kc();return function(D,V,ae,ce,we,Le){var Je,vt;for(V||(V=3),ae||(ae=0),ce?vt=Math.min(ce*V+ae,D.length):vt=D.length,Je=ae;Je<vt;Je+=V)R[0]=D[Je],R[1]=D[Je+1],R[2]=D[Je+2],we(R,R,Le),D[Je]=R[0],D[Je+1]=R[1],D[Je+2]=R[2];return D}})();function Q2(){var R=new To(4);return To!=Float32Array&&(R[0]=0,R[1]=0,R[2]=0,R[3]=0),R}function $2(R,D,V){return R[0]=D[0]*V,R[1]=D[1]*V,R[2]=D[2]*V,R[3]=D[3]*V,R}function q2(R,D){return R[0]*D[0]+R[1]*D[1]+R[2]*D[2]+R[3]*D[3]}function Ad(R,D,V){var ae=D[0],ce=D[1],we=D[2],Le=D[3];return R[0]=V[0]*ae+V[4]*ce+V[8]*we+V[12]*Le,R[1]=V[1]*ae+V[5]*ce+V[9]*we+V[13]*Le,R[2]=V[2]*ae+V[6]*ce+V[10]*we+V[14]*Le,R[3]=V[3]*ae+V[7]*ce+V[11]*we+V[15]*Le,R}(function(){var R=Q2();return function(D,V,ae,ce,we,Le){var Je,vt;for(V||(V=4),ae||(ae=0),ce?vt=Math.min(ce*V+ae,D.length):vt=D.length,Je=ae;Je<vt;Je+=V)R[0]=D[Je],R[1]=D[Je+1],R[2]=D[Je+2],R[3]=D[Je+3],we(R,R,Le),D[Je]=R[0],D[Je+1]=R[1],D[Je+2]=R[2],D[Je+3]=R[3];return D}})();function eb(){var R=new To(2);return To!=Float32Array&&(R[0]=0,R[1]=0),R}function tb(R){var D=R[0],V=R[1];return D*D+V*V}var rb=tb;(function(){var R=eb();return function(D,V,ae,ce,we,Le){var Je,vt;for(V||(V=2),ae||(ae=0),ce?vt=Math.min(ce*V+ae,D.length):vt=D.length,Je=ae;Je<vt;Je+=V)R[0]=D[Je],R[1]=D[Je+1],we(R,R,Le),D[Je]=R[0],D[Je+1]=R[1];return D}})();var nb=function(R){function D(V){R.call(this,V,qf)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.createBucket=function(ae){return new yi(ae)},D.prototype.queryRadius=function(ae){var ce=ae;return es("circle-radius",this,ce)+es("circle-stroke-width",this,ce)+cl(this.paint.get("circle-translate"))},D.prototype.queryIntersectsFeature=function(ae,ce,we,Le,Je,vt,St,Rt){for(var Xt=du(ae,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),vt.angle,St),ir=this.paint.get("circle-radius").evaluate(ce,we),tr=this.paint.get("circle-stroke-width").evaluate(ce,we),yr=ir+tr,Fr=this.paint.get("circle-pitch-alignment")==="map",ln=Fr?Xt:ab(Xt,Rt),en=Fr?yr*St:yr,Sn=0,yn=Le;Sn<yn.length;Sn+=1)for(var Mn=yn[Sn],Fn=0,Wn=Mn;Fn<Wn.length;Fn+=1){var ra=Wn[Fn],qn=Fr?ra:jg(ra,Rt),wa=en,da=Ad([],[ra.x,ra.y,0,1],Rt);if(this.paint.get("circle-pitch-scale")==="viewport"&&this.paint.get("circle-pitch-alignment")==="map"?wa*=da[3]/vt.cameraToCenterDistance:this.paint.get("circle-pitch-scale")==="map"&&this.paint.get("circle-pitch-alignment")==="viewport"&&(wa*=vt.cameraToCenterDistance/da[3]),$a(ln,qn,wa))return!0}return!1},D}(Ni);function jg(R,D){var V=Ad([],[R.x,R.y,0,1],D);return new r(V[0]/V[3],V[1]/V[3])}function ab(R,D){return R.map(function(V){return jg(V,D)})}var Kg=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D}(yi);Oe("HeatmapBucket",Kg,{omit:["layers"]});function X0(R,D,V,ae){var ce=D.width,we=D.height;if(!ae)ae=new Uint8Array(ce*we*V);else if(ae instanceof Uint8ClampedArray)ae=new Uint8Array(ae.buffer);else if(ae.length!==ce*we*V)throw new RangeError("mismatched image size");return R.width=ce,R.height=we,R.data=ae,R}function Jg(R,D,V){var ae=D.width,ce=D.height;if(!(ae===R.width&&ce===R.height)){var we=X0({},{width:ae,height:ce},V);Z0(R,we,{x:0,y:0},{x:0,y:0},{width:Math.min(R.width,ae),height:Math.min(R.height,ce)},V),R.width=ae,R.height=ce,R.data=we.data}}function Z0(R,D,V,ae,ce,we){if(ce.width===0||ce.height===0)return D;if(ce.width>R.width||ce.height>R.height||V.x>R.width-ce.width||V.y>R.height-ce.height)throw new RangeError("out of range source coordinates for image copy");if(ce.width>D.width||ce.height>D.height||ae.x>D.width-ce.width||ae.y>D.height-ce.height)throw new RangeError("out of range destination coordinates for image copy");for(var Le=R.data,Je=D.data,vt=0;vt<ce.height;vt++)for(var St=((V.y+vt)*R.width+V.x)*we,Rt=((ae.y+vt)*D.width+ae.x)*we,Xt=0;Xt<ce.width*we;Xt++)Je[Rt+Xt]=Le[St+Xt];return D}var Jc=function(D,V){X0(this,D,1,V)};Jc.prototype.resize=function(D){Jg(this,D,1)},Jc.prototype.clone=function(){return new Jc({width:this.width,height:this.height},new Uint8Array(this.data))},Jc.copy=function(D,V,ae,ce,we){Z0(D,V,ae,ce,we,1)};var ms=function(D,V){X0(this,D,4,V)};ms.prototype.resize=function(D){Jg(this,D,4)},ms.prototype.replace=function(D,V){V?this.data.set(D):D instanceof Uint8ClampedArray?this.data=new Uint8Array(D.buffer):this.data=D},ms.prototype.clone=function(){return new ms({width:this.width,height:this.height},new Uint8Array(this.data))},ms.copy=function(D,V,ae,ce,we){Z0(D,V,ae,ce,we,4)},Oe("AlphaImage",Jc),Oe("RGBAImage",ms);var ib=new ci({"heatmap-radius":new Ca(Ar.paint_heatmap["heatmap-radius"]),"heatmap-weight":new Ca(Ar.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new sa(Ar.paint_heatmap["heatmap-intensity"]),"heatmap-color":new oo(Ar.paint_heatmap["heatmap-color"]),"heatmap-opacity":new sa(Ar.paint_heatmap["heatmap-opacity"])}),ob={paint:ib};function Qg(R){var D={},V=R.resolution||256,ae=R.clips?R.clips.length:1,ce=R.image||new ms({width:V,height:ae}),we=function(Sn,yn,Mn){D[R.evaluationKey]=Mn;var Fn=R.expression.evaluate(D);ce.data[Sn+yn+0]=Math.floor(Fn.r*255/Fn.a),ce.data[Sn+yn+1]=Math.floor(Fn.g*255/Fn.a),ce.data[Sn+yn+2]=Math.floor(Fn.b*255/Fn.a),ce.data[Sn+yn+3]=Math.floor(Fn.a*255)};if(R.clips)for(var St=0,Rt=0;St<ae;++St,Rt+=V*4)for(var Xt=0,ir=0;Xt<V;Xt++,ir+=4){var tr=Xt/(V-1),yr=R.clips[St],Fr=yr.start,ln=yr.end,en=Fr*(1-tr)+ln*tr;we(Rt,ir,en)}else for(var Le=0,Je=0;Le<V;Le++,Je+=4){var vt=Le/(V-1);we(0,Je,vt)}return ce}var sb=function(R){function D(V){R.call(this,V,ob),this._updateColorRamp()}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.createBucket=function(ae){return new Kg(ae)},D.prototype._handleSpecialPaintPropertyUpdate=function(ae){ae==="heatmap-color"&&this._updateColorRamp()},D.prototype._updateColorRamp=function(){var ae=this._transitionablePaint._values["heatmap-color"].value.expression;this.colorRamp=Qg({expression:ae,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null},D.prototype.resize=function(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)},D.prototype.queryRadius=function(){return 0},D.prototype.queryIntersectsFeature=function(){return!1},D.prototype.hasOffscreenPass=function(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"},D}(Ni),lb=new ci({"hillshade-illumination-direction":new sa(Ar.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new sa(Ar.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new sa(Ar.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new sa(Ar.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new sa(Ar.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new sa(Ar.paint_hillshade["hillshade-accent-color"])}),ub={paint:lb},fb=function(R){function D(V){R.call(this,V,ub)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.hasOffscreenPass=function(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"},D}(Ni),cb=Pi([{name:"a_pos",components:2,type:"Int16"}],4),hb=cb.members,j0=Md,vb=Md;function Md(R,D,V){V=V||2;var ae=D&&D.length,ce=ae?D[0]*V:R.length,we=$g(R,0,ce,V,!0),Le=[];if(!we||we.next===we.prev)return Le;var Je,vt,St,Rt,Xt,ir,tr;if(ae&&(we=mb(R,D,we,V)),R.length>80*V){Je=St=R[0],vt=Rt=R[1];for(var yr=V;yr<ce;yr+=V)Xt=R[yr],ir=R[yr+1],Xt<Je&&(Je=Xt),ir<vt&&(vt=ir),Xt>St&&(St=Xt),ir>Rt&&(Rt=ir);tr=Math.max(St-Je,Rt-vt),tr=tr!==0?1/tr:0}return Cv(we,Le,V,Je,vt,tr),Le}function $g(R,D,V,ae,ce){var we,Le;if(ce===Q0(R,D,V,ae)>0)for(we=D;we<V;we+=ae)Le=ty(we,R[we],R[we+1],Le);else for(we=V-ae;we>=D;we-=ae)Le=ty(we,R[we],R[we+1],Le);return Le&&Sd(Le,Le.next)&&(Pv(Le),Le=Le.next),Le}function nc(R,D){if(!R)return R;D||(D=R);var V=R,ae;do if(ae=!1,!V.steiner&&(Sd(V,V.next)||lo(V.prev,V,V.next)===0)){if(Pv(V),V=D=V.prev,V===V.next)break;ae=!0}else V=V.next;while(ae||V!==D);return D}function Cv(R,D,V,ae,ce,we,Le){if(!!R){!Le&&we&&Ab(R,ae,ce,we);for(var Je=R,vt,St;R.prev!==R.next;){if(vt=R.prev,St=R.next,we?pb(R,ae,ce,we):db(R)){D.push(vt.i/V),D.push(R.i/V),D.push(St.i/V),Pv(R),R=St.next,Je=St.next;continue}if(R=St,R===Je){Le?Le===1?(R=gb(nc(R),D,V),Cv(R,D,V,ae,ce,we,2)):Le===2&&yb(R,D,V,ae,ce,we):Cv(nc(R),D,V,ae,ce,we,1);break}}}}function db(R){var D=R.prev,V=R,ae=R.next;if(lo(D,V,ae)>=0)return!1;for(var ce=R.next.next;ce!==R.prev;){if(kh(D.x,D.y,V.x,V.y,ae.x,ae.y,ce.x,ce.y)&&lo(ce.prev,ce,ce.next)>=0)return!1;ce=ce.next}return!0}function pb(R,D,V,ae){var ce=R.prev,we=R,Le=R.next;if(lo(ce,we,Le)>=0)return!1;for(var Je=ce.x<we.x?ce.x<Le.x?ce.x:Le.x:we.x<Le.x?we.x:Le.x,vt=ce.y<we.y?ce.y<Le.y?ce.y:Le.y:we.y<Le.y?we.y:Le.y,St=ce.x>we.x?ce.x>Le.x?ce.x:Le.x:we.x>Le.x?we.x:Le.x,Rt=ce.y>we.y?ce.y>Le.y?ce.y:Le.y:we.y>Le.y?we.y:Le.y,Xt=K0(Je,vt,D,V,ae),ir=K0(St,Rt,D,V,ae),tr=R.prevZ,yr=R.nextZ;tr&&tr.z>=Xt&&yr&&yr.z<=ir;){if(tr!==R.prev&&tr!==R.next&&kh(ce.x,ce.y,we.x,we.y,Le.x,Le.y,tr.x,tr.y)&&lo(tr.prev,tr,tr.next)>=0||(tr=tr.prevZ,yr!==R.prev&&yr!==R.next&&kh(ce.x,ce.y,we.x,we.y,Le.x,Le.y,yr.x,yr.y)&&lo(yr.prev,yr,yr.next)>=0))return!1;yr=yr.nextZ}for(;tr&&tr.z>=Xt;){if(tr!==R.prev&&tr!==R.next&&kh(ce.x,ce.y,we.x,we.y,Le.x,Le.y,tr.x,tr.y)&&lo(tr.prev,tr,tr.next)>=0)return!1;tr=tr.prevZ}for(;yr&&yr.z<=ir;){if(yr!==R.prev&&yr!==R.next&&kh(ce.x,ce.y,we.x,we.y,Le.x,Le.y,yr.x,yr.y)&&lo(yr.prev,yr,yr.next)>=0)return!1;yr=yr.nextZ}return!0}function gb(R,D,V){var ae=R;do{var ce=ae.prev,we=ae.next.next;!Sd(ce,we)&&qg(ce,ae,ae.next,we)&&Lv(ce,we)&&Lv(we,ce)&&(D.push(ce.i/V),D.push(ae.i/V),D.push(we.i/V),Pv(ae),Pv(ae.next),ae=R=we),ae=ae.next}while(ae!==R);return nc(ae)}function yb(R,D,V,ae,ce,we){var Le=R;do{for(var Je=Le.next.next;Je!==Le.prev;){if(Le.i!==Je.i&&Eb(Le,Je)){var vt=ey(Le,Je);Le=nc(Le,Le.next),vt=nc(vt,vt.next),Cv(Le,D,V,ae,ce,we),Cv(vt,D,V,ae,ce,we);return}Je=Je.next}Le=Le.next}while(Le!==R)}function mb(R,D,V,ae){var ce=[],we,Le,Je,vt,St;for(we=0,Le=D.length;we<Le;we++)Je=D[we]*ae,vt=we<Le-1?D[we+1]*ae:R.length,St=$g(R,Je,vt,ae,!1),St===St.next&&(St.steiner=!0),ce.push(Sb(St));for(ce.sort(xb),we=0;we<ce.length;we++)bb(ce[we],V),V=nc(V,V.next);return V}function xb(R,D){return R.x-D.x}function bb(R,D){if(D=wb(R,D),D){var V=ey(D,R);nc(D,D.next),nc(V,V.next)}}function wb(R,D){var V=D,ae=R.x,ce=R.y,we=-1/0,Le;do{if(ce<=V.y&&ce>=V.next.y&&V.next.y!==V.y){var Je=V.x+(ce-V.y)*(V.next.x-V.x)/(V.next.y-V.y);if(Je<=ae&&Je>we){if(we=Je,Je===ae){if(ce===V.y)return V;if(ce===V.next.y)return V.next}Le=V.x<V.next.x?V:V.next}}V=V.next}while(V!==D);if(!Le)return null;if(ae===we)return Le;var vt=Le,St=Le.x,Rt=Le.y,Xt=1/0,ir;V=Le;do ae>=V.x&&V.x>=St&&ae!==V.x&&kh(ce<Rt?ae:we,ce,St,Rt,ce<Rt?we:ae,ce,V.x,V.y)&&(ir=Math.abs(ce-V.y)/(ae-V.x),Lv(V,R)&&(ir<Xt||ir===Xt&&(V.x>Le.x||V.x===Le.x&&Tb(Le,V)))&&(Le=V,Xt=ir)),V=V.next;while(V!==vt);return Le}function Tb(R,D){return lo(R.prev,R,D.prev)<0&&lo(D.next,R,R.next)<0}function Ab(R,D,V,ae){var ce=R;do ce.z===null&&(ce.z=K0(ce.x,ce.y,D,V,ae)),ce.prevZ=ce.prev,ce.nextZ=ce.next,ce=ce.next;while(ce!==R);ce.prevZ.nextZ=null,ce.prevZ=null,Mb(ce)}function Mb(R){var D,V,ae,ce,we,Le,Je,vt,St=1;do{for(V=R,R=null,we=null,Le=0;V;){for(Le++,ae=V,Je=0,D=0;D<St&&(Je++,ae=ae.nextZ,!!ae);D++);for(vt=St;Je>0||vt>0&&ae;)Je!==0&&(vt===0||!ae||V.z<=ae.z)?(ce=V,V=V.nextZ,Je--):(ce=ae,ae=ae.nextZ,vt--),we?we.nextZ=ce:R=ce,ce.prevZ=we,we=ce;V=ae}we.nextZ=null,St*=2}while(Le>1);return R}function K0(R,D,V,ae,ce){return R=32767*(R-V)*ce,D=32767*(D-ae)*ce,R=(R|R<<8)&16711935,R=(R|R<<4)&252645135,R=(R|R<<2)&858993459,R=(R|R<<1)&1431655765,D=(D|D<<8)&16711935,D=(D|D<<4)&252645135,D=(D|D<<2)&858993459,D=(D|D<<1)&1431655765,R|D<<1}function Sb(R){var D=R,V=R;do(D.x<V.x||D.x===V.x&&D.y<V.y)&&(V=D),D=D.next;while(D!==R);return V}function kh(R,D,V,ae,ce,we,Le,Je){return(ce-Le)*(D-Je)-(R-Le)*(we-Je)>=0&&(R-Le)*(ae-Je)-(V-Le)*(D-Je)>=0&&(V-Le)*(we-Je)-(ce-Le)*(ae-Je)>=0}function Eb(R,D){return R.next.i!==D.i&&R.prev.i!==D.i&&!Cb(R,D)&&(Lv(R,D)&&Lv(D,R)&&Lb(R,D)&&(lo(R.prev,R,D.prev)||lo(R,D.prev,D))||Sd(R,D)&&lo(R.prev,R,R.next)>0&&lo(D.prev,D,D.next)>0)}function lo(R,D,V){return(D.y-R.y)*(V.x-D.x)-(D.x-R.x)*(V.y-D.y)}function Sd(R,D){return R.x===D.x&&R.y===D.y}function qg(R,D,V,ae){var ce=Cd(lo(R,D,V)),we=Cd(lo(R,D,ae)),Le=Cd(lo(V,ae,R)),Je=Cd(lo(V,ae,D));return!!(ce!==we&&Le!==Je||ce===0&&Ed(R,V,D)||we===0&&Ed(R,ae,D)||Le===0&&Ed(V,R,ae)||Je===0&&Ed(V,D,ae))}function Ed(R,D,V){return D.x<=Math.max(R.x,V.x)&&D.x>=Math.min(R.x,V.x)&&D.y<=Math.max(R.y,V.y)&&D.y>=Math.min(R.y,V.y)}function Cd(R){return R>0?1:R<0?-1:0}function Cb(R,D){var V=R;do{if(V.i!==R.i&&V.next.i!==R.i&&V.i!==D.i&&V.next.i!==D.i&&qg(V,V.next,R,D))return!0;V=V.next}while(V!==R);return!1}function Lv(R,D){return lo(R.prev,R,R.next)<0?lo(R,D,R.next)>=0&&lo(R,R.prev,D)>=0:lo(R,D,R.prev)<0||lo(R,R.next,D)<0}function Lb(R,D){var V=R,ae=!1,ce=(R.x+D.x)/2,we=(R.y+D.y)/2;do V.y>we!=V.next.y>we&&V.next.y!==V.y&&ce<(V.next.x-V.x)*(we-V.y)/(V.next.y-V.y)+V.x&&(ae=!ae),V=V.next;while(V!==R);return ae}function ey(R,D){var V=new J0(R.i,R.x,R.y),ae=new J0(D.i,D.x,D.y),ce=R.next,we=D.prev;return R.next=D,D.prev=R,V.next=ce,ce.prev=V,ae.next=V,V.prev=ae,we.next=ae,ae.prev=we,ae}function ty(R,D,V,ae){var ce=new J0(R,D,V);return ae?(ce.next=ae.next,ce.prev=ae,ae.next.prev=ce,ae.next=ce):(ce.prev=ce,ce.next=ce),ce}function Pv(R){R.next.prev=R.prev,R.prev.next=R.next,R.prevZ&&(R.prevZ.nextZ=R.nextZ),R.nextZ&&(R.nextZ.prevZ=R.prevZ)}function J0(R,D,V){this.i=R,this.x=D,this.y=V,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}Md.deviation=function(R,D,V,ae){var ce=D&&D.length,we=ce?D[0]*V:R.length,Le=Math.abs(Q0(R,0,we,V));if(ce)for(var Je=0,vt=D.length;Je<vt;Je++){var St=D[Je]*V,Rt=Je<vt-1?D[Je+1]*V:R.length;Le-=Math.abs(Q0(R,St,Rt,V))}var Xt=0;for(Je=0;Je<ae.length;Je+=3){var ir=ae[Je]*V,tr=ae[Je+1]*V,yr=ae[Je+2]*V;Xt+=Math.abs((R[ir]-R[yr])*(R[tr+1]-R[ir+1])-(R[ir]-R[tr])*(R[yr+1]-R[ir+1]))}return Le===0&&Xt===0?0:Math.abs((Xt-Le)/Le)};function Q0(R,D,V,ae){for(var ce=0,we=D,Le=V-ae;we<V;we+=ae)ce+=(R[Le]-R[we])*(R[we+1]+R[Le+1]),Le=we;return ce}Md.flatten=function(R){for(var D=R[0][0].length,V={vertices:[],holes:[],dimensions:D},ae=0,ce=0;ce<R.length;ce++){for(var we=0;we<R[ce].length;we++)for(var Le=0;Le<D;Le++)V.vertices.push(R[ce][we][Le]);ce>0&&(ae+=R[ce-1].length,V.holes.push(ae))}return V},j0.default=vb;function Pb(R,D,V,ae,ce){ry(R,D,V||0,ae||R.length-1,ce||Rb)}function ry(R,D,V,ae,ce){for(;ae>V;){if(ae-V>600){var we=ae-V+1,Le=D-V+1,Je=Math.log(we),vt=.5*Math.exp(2*Je/3),St=.5*Math.sqrt(Je*vt*(we-vt)/we)*(Le-we/2<0?-1:1),Rt=Math.max(V,Math.floor(D-Le*vt/we+St)),Xt=Math.min(ae,Math.floor(D+(we-Le)*vt/we+St));ry(R,D,Rt,Xt,ce)}var ir=R[D],tr=V,yr=ae;for(Rv(R,V,D),ce(R[ae],ir)>0&&Rv(R,V,ae);tr<yr;){for(Rv(R,tr,yr),tr++,yr--;ce(R[tr],ir)<0;)tr++;for(;ce(R[yr],ir)>0;)yr--}ce(R[V],ir)===0?Rv(R,V,yr):(yr++,Rv(R,yr,ae)),yr<=D&&(V=yr+1),D<=yr&&(ae=yr-1)}}function Rv(R,D,V){var ae=R[D];R[D]=R[V],R[V]=ae}function Rb(R,D){return R<D?-1:R>D?1:0}function $0(R,D){var V=R.length;if(V<=1)return[R];for(var ae=[],ce,we,Le=0;Le<V;Le++){var Je=B(R[Le]);Je!==0&&(R[Le].area=Math.abs(Je),we===void 0&&(we=Je<0),we===Je<0?(ce&&ae.push(ce),ce=[R[Le]]):ce.push(R[Le]))}if(ce&&ae.push(ce),D>1)for(var vt=0;vt<ae.length;vt++)ae[vt].length<=D||(Pb(ae[vt],D,1,ae[vt].length-1,Db),ae[vt]=ae[vt].slice(0,D));return ae}function Db(R,D){return D.area-R.area}function q0(R,D,V){for(var ae=V.patternDependencies,ce=!1,we=0,Le=D;we<Le.length;we+=1){var Je=Le[we],vt=Je.paint.get(R+"-pattern");vt.isConstant()||(ce=!0);var St=vt.constantOr(null);St&&(ce=!0,ae[St.to]=!0,ae[St.from]=!0)}return ce}function ep(R,D,V,ae,ce){for(var we=ce.patternDependencies,Le=0,Je=D;Le<Je.length;Le+=1){var vt=Je[Le],St=vt.paint.get(R+"-pattern"),Rt=St.value;if(Rt.kind!=="constant"){var Xt=Rt.evaluate({zoom:ae-1},V,{},ce.availableImages),ir=Rt.evaluate({zoom:ae},V,{},ce.availableImages),tr=Rt.evaluate({zoom:ae+1},V,{},ce.availableImages);Xt=Xt&&Xt.name?Xt.name:Xt,ir=ir&&ir.name?ir.name:ir,tr=tr&&tr.name?tr.name:tr,we[Xt]=!0,we[ir]=!0,we[tr]=!0,V.patterns[vt.id]={min:Xt,mid:ir,max:tr}}}return V}var Ib=500,pu=function(D){this.zoom=D.zoom,this.overscaling=D.overscaling,this.layers=D.layers,this.layerIds=this.layers.map(function(V){return V.id}),this.index=D.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new pf,this.indexArray=new vu,this.indexArray2=new Zc,this.programConfigurations=new va(D.layers,D.zoom),this.segments=new so,this.segments2=new so,this.stateDependentLayerIds=this.layers.filter(function(V){return V.isStateDependent()}).map(function(V){return V.id})};pu.prototype.populate=function(D,V,ae){this.hasPattern=q0("fill",this.layers,V);for(var ce=this.layers[0].layout.get("fill-sort-key"),we=[],Le=0,Je=D;Le<Je.length;Le+=1){var vt=Je[Le],St=vt.feature,Rt=vt.id,Xt=vt.index,ir=vt.sourceLayerIndex,tr=this.layers[0]._featureFilter.needGeometry,yr=Mi(St,tr);if(!!this.layers[0]._featureFilter.filter(new Aa(this.zoom),yr,ae)){var Fr=ce?ce.evaluate(yr,{},ae,V.availableImages):void 0,ln={id:Rt,properties:St.properties,type:St.type,sourceLayerIndex:ir,index:Xt,geometry:tr?yr.geometry:ei(St),patterns:{},sortKey:Fr};we.push(ln)}}ce&&we.sort(function(da,ba){return da.sortKey-ba.sortKey});for(var en=0,Sn=we;en<Sn.length;en+=1){var yn=Sn[en],Mn=yn,Fn=Mn.geometry,Wn=Mn.index,ra=Mn.sourceLayerIndex;if(this.hasPattern){var qn=ep("fill",this.layers,yn,this.zoom,V);this.patternFeatures.push(qn)}else this.addFeature(yn,Fn,Wn,ae,{});var wa=D[Wn].feature;V.featureIndex.insert(wa,Fn,Wn,ra,this.index)}},pu.prototype.update=function(D,V,ae){!this.stateDependentLayers.length||this.programConfigurations.updatePaintArrays(D,V,this.stateDependentLayers,ae)},pu.prototype.addFeatures=function(D,V,ae){for(var ce=0,we=this.patternFeatures;ce<we.length;ce+=1){var Le=we[ce];this.addFeature(Le,Le.geometry,Le.index,V,ae)}},pu.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},pu.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},pu.prototype.upload=function(D){this.uploaded||(this.layoutVertexBuffer=D.createVertexBuffer(this.layoutVertexArray,hb),this.indexBuffer=D.createIndexBuffer(this.indexArray),this.indexBuffer2=D.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(D),this.uploaded=!0},pu.prototype.destroy=function(){!this.layoutVertexBuffer||(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())},pu.prototype.addFeature=function(D,V,ae,ce,we){for(var Le=0,Je=$0(V,Ib);Le<Je.length;Le+=1){for(var vt=Je[Le],St=0,Rt=0,Xt=vt;Rt<Xt.length;Rt+=1){var ir=Xt[Rt];St+=ir.length}for(var tr=this.segments.prepareSegment(St,this.layoutVertexArray,this.indexArray),yr=tr.vertexLength,Fr=[],ln=[],en=0,Sn=vt;en<Sn.length;en+=1){var yn=Sn[en];if(yn.length!==0){yn!==vt[0]&&ln.push(Fr.length/2);var Mn=this.segments2.prepareSegment(yn.length,this.layoutVertexArray,this.indexArray2),Fn=Mn.vertexLength;this.layoutVertexArray.emplaceBack(yn[0].x,yn[0].y),this.indexArray2.emplaceBack(Fn+yn.length-1,Fn),Fr.push(yn[0].x),Fr.push(yn[0].y);for(var Wn=1;Wn<yn.length;Wn++)this.layoutVertexArray.emplaceBack(yn[Wn].x,yn[Wn].y),this.indexArray2.emplaceBack(Fn+Wn-1,Fn+Wn),Fr.push(yn[Wn].x),Fr.push(yn[Wn].y);Mn.vertexLength+=yn.length,Mn.primitiveLength+=yn.length}}for(var ra=j0(Fr,ln),qn=0;qn<ra.length;qn+=3)this.indexArray.emplaceBack(yr+ra[qn],yr+ra[qn+1],yr+ra[qn+2]);tr.vertexLength+=St,tr.primitiveLength+=ra.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,D,ae,we,ce)},Oe("FillBucket",pu,{omit:["layers","patternFeatures"]});var _b=new ci({"fill-sort-key":new Ca(Ar.layout_fill["fill-sort-key"])}),kb=new ci({"fill-antialias":new sa(Ar.paint_fill["fill-antialias"]),"fill-opacity":new Ca(Ar.paint_fill["fill-opacity"]),"fill-color":new Ca(Ar.paint_fill["fill-color"]),"fill-outline-color":new Ca(Ar.paint_fill["fill-outline-color"]),"fill-translate":new sa(Ar.paint_fill["fill-translate"]),"fill-translate-anchor":new sa(Ar.paint_fill["fill-translate-anchor"]),"fill-pattern":new Do(Ar.paint_fill["fill-pattern"])}),Fb={paint:kb,layout:_b},zb=function(R){function D(V){R.call(this,V,Fb)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.recalculate=function(ae,ce){R.prototype.recalculate.call(this,ae,ce);var we=this.paint._values["fill-outline-color"];we.value.kind==="constant"&&we.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])},D.prototype.createBucket=function(ae){return new pu(ae)},D.prototype.queryRadius=function(){return cl(this.paint.get("fill-translate"))},D.prototype.queryIntersectsFeature=function(ae,ce,we,Le,Je,vt,St){var Rt=du(ae,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),vt.angle,St);return Ui(Rt,Le)},D.prototype.isTileClipped=function(){return!0},D}(Ni),Ob=Pi([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4),Bb=Ob.members,ny=Fh;function Fh(R,D,V,ae,ce){this.properties={},this.extent=V,this.type=0,this._pbf=R,this._geometry=-1,this._keys=ae,this._values=ce,R.readFields(Nb,this,D)}function Nb(R,D,V){R==1?D.id=V.readVarint():R==2?Ub(V,D):R==3?D.type=V.readVarint():R==4&&(D._geometry=V.pos)}function Ub(R,D){for(var V=R.readVarint()+R.pos;R.pos<V;){var ae=D._keys[R.readVarint()],ce=D._values[R.readVarint()];D.properties[ae]=ce}}Fh.types=["Unknown","Point","LineString","Polygon"],Fh.prototype.loadGeometry=function(){var R=this._pbf;R.pos=this._geometry;for(var D=R.readVarint()+R.pos,V=1,ae=0,ce=0,we=0,Le=[],Je;R.pos<D;){if(ae<=0){var vt=R.readVarint();V=vt&7,ae=vt>>3}if(ae--,V===1||V===2)ce+=R.readSVarint(),we+=R.readSVarint(),V===1&&(Je&&Le.push(Je),Je=[]),Je.push(new r(ce,we));else if(V===7)Je&&Je.push(Je[0].clone());else throw new Error("unknown command "+V)}return Je&&Le.push(Je),Le},Fh.prototype.bbox=function(){var R=this._pbf;R.pos=this._geometry;for(var D=R.readVarint()+R.pos,V=1,ae=0,ce=0,we=0,Le=1/0,Je=-1/0,vt=1/0,St=-1/0;R.pos<D;){if(ae<=0){var Rt=R.readVarint();V=Rt&7,ae=Rt>>3}if(ae--,V===1||V===2)ce+=R.readSVarint(),we+=R.readSVarint(),ce<Le&&(Le=ce),ce>Je&&(Je=ce),we<vt&&(vt=we),we>St&&(St=we);else if(V!==7)throw new Error("unknown command "+V)}return[Le,vt,Je,St]},Fh.prototype.toGeoJSON=function(R,D,V){var ae=this.extent*Math.pow(2,V),ce=this.extent*R,we=this.extent*D,Le=this.loadGeometry(),Je=Fh.types[this.type],vt,St;function Rt(tr){for(var yr=0;yr<tr.length;yr++){var Fr=tr[yr],ln=180-(Fr.y+we)*360/ae;tr[yr]=[(Fr.x+ce)*360/ae-180,360/Math.PI*Math.atan(Math.exp(ln*Math.PI/180))-90]}}switch(this.type){case 1:var Xt=[];for(vt=0;vt<Le.length;vt++)Xt[vt]=Le[vt][0];Le=Xt,Rt(Le);break;case 2:for(vt=0;vt<Le.length;vt++)Rt(Le[vt]);break;case 3:for(Le=Vb(Le),vt=0;vt<Le.length;vt++)for(St=0;St<Le[vt].length;St++)Rt(Le[vt][St]);break}Le.length===1?Le=Le[0]:Je="Multi"+Je;var ir={type:"Feature",geometry:{type:Je,coordinates:Le},properties:this.properties};return"id"in this&&(ir.id=this.id),ir};function Vb(R){var D=R.length;if(D<=1)return[R];for(var V=[],ae,ce,we=0;we<D;we++){var Le=Hb(R[we]);Le!==0&&(ce===void 0&&(ce=Le<0),ce===Le<0?(ae&&V.push(ae),ae=[R[we]]):ae.push(R[we]))}return ae&&V.push(ae),V}function Hb(R){for(var D=0,V=0,ae=R.length,ce=ae-1,we,Le;V<ae;ce=V++)we=R[V],Le=R[ce],D+=(Le.x-we.x)*(we.y+Le.y);return D}var ay=iy;function iy(R,D){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=R,this._keys=[],this._values=[],this._features=[],R.readFields(Gb,this,D),this.length=this._features.length}function Gb(R,D,V){R===15?D.version=V.readVarint():R===1?D.name=V.readString():R===5?D.extent=V.readVarint():R===2?D._features.push(V.pos):R===3?D._keys.push(V.readString()):R===4&&D._values.push(Wb(V))}function Wb(R){for(var D=null,V=R.readVarint()+R.pos;R.pos<V;){var ae=R.readVarint()>>3;D=ae===1?R.readString():ae===2?R.readFloat():ae===3?R.readDouble():ae===4?R.readVarint64():ae===5?R.readVarint():ae===6?R.readSVarint():ae===7?R.readBoolean():null}return D}iy.prototype.feature=function(R){if(R<0||R>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[R];var D=this._pbf.readVarint()+this._pbf.pos;return new ny(this._pbf,D,this.extent,this._keys,this._values)};var Yb=Xb;function Xb(R,D){this.layers=R.readFields(Zb,{},D)}function Zb(R,D,V){if(R===3){var ae=new ay(V,V.readVarint()+V.pos);ae.length&&(D[ae.name]=ae)}}var jb=Yb,Kb=ny,Jb=ay,zh={VectorTile:jb,VectorTileFeature:Kb,VectorTileLayer:Jb},Qb=zh.VectorTileFeature.types,$b=500,tp=Math.pow(2,13);function Dv(R,D,V,ae,ce,we,Le,Je){R.emplaceBack(D,V,Math.floor(ae*tp)*2+Le,ce*tp*2,we*tp*2,Math.round(Je))}var gu=function(D){this.zoom=D.zoom,this.overscaling=D.overscaling,this.layers=D.layers,this.layerIds=this.layers.map(function(V){return V.id}),this.index=D.index,this.hasPattern=!1,this.layoutVertexArray=new Vu,this.indexArray=new vu,this.programConfigurations=new va(D.layers,D.zoom),this.segments=new so,this.stateDependentLayerIds=this.layers.filter(function(V){return V.isStateDependent()}).map(function(V){return V.id})};gu.prototype.populate=function(D,V,ae){this.features=[],this.hasPattern=q0("fill-extrusion",this.layers,V);for(var ce=0,we=D;ce<we.length;ce+=1){var Le=we[ce],Je=Le.feature,vt=Le.id,St=Le.index,Rt=Le.sourceLayerIndex,Xt=this.layers[0]._featureFilter.needGeometry,ir=Mi(Je,Xt);if(!!this.layers[0]._featureFilter.filter(new Aa(this.zoom),ir,ae)){var tr={id:vt,sourceLayerIndex:Rt,index:St,geometry:Xt?ir.geometry:ei(Je),properties:Je.properties,type:Je.type,patterns:{}};this.hasPattern?this.features.push(ep("fill-extrusion",this.layers,tr,this.zoom,V)):this.addFeature(tr,tr.geometry,St,ae,{}),V.featureIndex.insert(Je,tr.geometry,St,Rt,this.index,!0)}}},gu.prototype.addFeatures=function(D,V,ae){for(var ce=0,we=this.features;ce<we.length;ce+=1){var Le=we[ce],Je=Le.geometry;this.addFeature(Le,Je,Le.index,V,ae)}},gu.prototype.update=function(D,V,ae){!this.stateDependentLayers.length||this.programConfigurations.updatePaintArrays(D,V,this.stateDependentLayers,ae)},gu.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},gu.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},gu.prototype.upload=function(D){this.uploaded||(this.layoutVertexBuffer=D.createVertexBuffer(this.layoutVertexArray,Bb),this.indexBuffer=D.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(D),this.uploaded=!0},gu.prototype.destroy=function(){!this.layoutVertexBuffer||(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},gu.prototype.addFeature=function(D,V,ae,ce,we){for(var Le=0,Je=$0(V,$b);Le<Je.length;Le+=1){for(var vt=Je[Le],St=0,Rt=0,Xt=vt;Rt<Xt.length;Rt+=1){var ir=Xt[Rt];St+=ir.length}for(var tr=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray),yr=0,Fr=vt;yr<Fr.length;yr+=1){var ln=Fr[yr];if(ln.length!==0&&!e3(ln))for(var en=0,Sn=0;Sn<ln.length;Sn++){var yn=ln[Sn];if(Sn>=1){var Mn=ln[Sn-1];if(!qb(yn,Mn)){tr.vertexLength+4>so.MAX_VERTEX_ARRAY_LENGTH&&(tr=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));var Fn=yn.sub(Mn)._perp()._unit(),Wn=Mn.dist(yn);en+Wn>32768&&(en=0),Dv(this.layoutVertexArray,yn.x,yn.y,Fn.x,Fn.y,0,0,en),Dv(this.layoutVertexArray,yn.x,yn.y,Fn.x,Fn.y,0,1,en),en+=Wn,Dv(this.layoutVertexArray,Mn.x,Mn.y,Fn.x,Fn.y,0,0,en),Dv(this.layoutVertexArray,Mn.x,Mn.y,Fn.x,Fn.y,0,1,en);var ra=tr.vertexLength;this.indexArray.emplaceBack(ra,ra+2,ra+1),this.indexArray.emplaceBack(ra+1,ra+2,ra+3),tr.vertexLength+=4,tr.primitiveLength+=2}}}}if(tr.vertexLength+St>so.MAX_VERTEX_ARRAY_LENGTH&&(tr=this.segments.prepareSegment(St,this.layoutVertexArray,this.indexArray)),Qb[D.type]==="Polygon"){for(var qn=[],wa=[],da=tr.vertexLength,ba=0,Ba=vt;ba<Ba.length;ba+=1){var Ta=Ba[ba];if(Ta.length!==0){Ta!==vt[0]&&wa.push(qn.length/2);for(var Ea=0;Ea<Ta.length;Ea++){var Ga=Ta[Ea];Dv(this.layoutVertexArray,Ga.x,Ga.y,0,0,1,1,0),qn.push(Ga.x),qn.push(Ga.y)}}}for(var za=j0(qn,wa),si=0;si<za.length;si+=3)this.indexArray.emplaceBack(da+za[si],da+za[si+2],da+za[si+1]);tr.primitiveLength+=za.length/3,tr.vertexLength+=St}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,D,ae,we,ce)},Oe("FillExtrusionBucket",gu,{omit:["layers","features"]});function qb(R,D){return R.x===D.x&&(R.x<0||R.x>Ma)||R.y===D.y&&(R.y<0||R.y>Ma)}function e3(R){return R.every(function(D){return D.x<0})||R.every(function(D){return D.x>Ma})||R.every(function(D){return D.y<0})||R.every(function(D){return D.y>Ma})}var t3=new ci({"fill-extrusion-opacity":new sa(Ar["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new Ca(Ar["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new sa(Ar["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new sa(Ar["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new Do(Ar["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new Ca(Ar["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new Ca(Ar["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new sa(Ar["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])}),r3={paint:t3},n3=function(R){function D(V){R.call(this,V,r3)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.createBucket=function(ae){return new gu(ae)},D.prototype.queryRadius=function(){return cl(this.paint.get("fill-extrusion-translate"))},D.prototype.is3D=function(){return!0},D.prototype.queryIntersectsFeature=function(ae,ce,we,Le,Je,vt,St,Rt){var Xt=du(ae,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),vt.angle,St),ir=this.paint.get("fill-extrusion-height").evaluate(ce,we),tr=this.paint.get("fill-extrusion-base").evaluate(ce,we),yr=o3(Xt,Rt,vt,0),Fr=i3(Le,tr,ir,Rt),ln=Fr[0],en=Fr[1];return a3(ln,en,yr)},D}(Ni);function Iv(R,D){return R.x*D.x+R.y*D.y}function oy(R,D){if(R.length===1){for(var V=0,ae=D[V++],ce;!ce||ae.equals(ce);)if(ce=D[V++],!ce)return 1/0;for(;V<D.length;V++){var we=D[V],Le=R[0],Je=ce.sub(ae),vt=we.sub(ae),St=Le.sub(ae),Rt=Iv(Je,Je),Xt=Iv(Je,vt),ir=Iv(vt,vt),tr=Iv(St,Je),yr=Iv(St,vt),Fr=Rt*ir-Xt*Xt,ln=(ir*tr-Xt*yr)/Fr,en=(Rt*yr-Xt*tr)/Fr,Sn=1-ln-en,yn=ae.z*Sn+ce.z*ln+we.z*en;if(isFinite(yn))return yn}return 1/0}else{for(var Mn=1/0,Fn=0,Wn=D;Fn<Wn.length;Fn+=1){var ra=Wn[Fn];Mn=Math.min(Mn,ra.z)}return Mn}}function a3(R,D,V){var ae=1/0;Ui(V,D)&&(ae=oy(V,D[0]));for(var ce=0;ce<D.length;ce++)for(var we=D[ce],Le=R[ce],Je=0;Je<we.length-1;Je++){var vt=we[Je],St=we[Je+1],Rt=Le[Je],Xt=Le[Je+1],ir=[vt,St,Xt,Rt,vt];Ha(V,ir)&&(ae=Math.min(ae,oy(V,ir)))}return ae===1/0?!1:ae}function i3(R,D,V,ae){for(var ce=[],we=[],Le=ae[8]*D,Je=ae[9]*D,vt=ae[10]*D,St=ae[11]*D,Rt=ae[8]*V,Xt=ae[9]*V,ir=ae[10]*V,tr=ae[11]*V,yr=0,Fr=R;yr<Fr.length;yr+=1){for(var ln=Fr[yr],en=[],Sn=[],yn=0,Mn=ln;yn<Mn.length;yn+=1){var Fn=Mn[yn],Wn=Fn.x,ra=Fn.y,qn=ae[0]*Wn+ae[4]*ra+ae[12],wa=ae[1]*Wn+ae[5]*ra+ae[13],da=ae[2]*Wn+ae[6]*ra+ae[14],ba=ae[3]*Wn+ae[7]*ra+ae[15],Ba=qn+Le,Ta=wa+Je,Ea=da+vt,Ga=ba+St,za=qn+Rt,si=wa+Xt,xi=da+ir,li=ba+tr,ui=new r(Ba/Ga,Ta/Ga);ui.z=Ea/Ga,en.push(ui);var ti=new r(za/li,si/li);ti.z=xi/li,Sn.push(ti)}ce.push(en),we.push(Sn)}return[ce,we]}function o3(R,D,V,ae){for(var ce=[],we=0,Le=R;we<Le.length;we+=1){var Je=Le[we],vt=[Je.x,Je.y,ae,1];Ad(vt,vt,D),ce.push(new r(vt[0]/vt[3],vt[1]/vt[3]))}return ce}var s3=Pi([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4),l3=s3.members,u3=Pi([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]),f3=u3.members,c3=zh.VectorTileFeature.types,sy=63,h3=Math.cos(75/2*(Math.PI/180)),v3=15,d3=20,p3=15,ly=1/2,uy=Math.pow(2,p3-1)/ly,ts=function(D){var V=this;this.zoom=D.zoom,this.overscaling=D.overscaling,this.layers=D.layers,this.layerIds=this.layers.map(function(ae){return ae.id}),this.index=D.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(function(ae){V.gradients[ae.id]={}}),this.layoutVertexArray=new jf,this.layoutVertexArray2=new Kf,this.indexArray=new vu,this.programConfigurations=new va(D.layers,D.zoom),this.segments=new so,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(function(ae){return ae.isStateDependent()}).map(function(ae){return ae.id})};ts.prototype.populate=function(D,V,ae){this.hasPattern=q0("line",this.layers,V);for(var ce=this.layers[0].layout.get("line-sort-key"),we=[],Le=0,Je=D;Le<Je.length;Le+=1){var vt=Je[Le],St=vt.feature,Rt=vt.id,Xt=vt.index,ir=vt.sourceLayerIndex,tr=this.layers[0]._featureFilter.needGeometry,yr=Mi(St,tr);if(!!this.layers[0]._featureFilter.filter(new Aa(this.zoom),yr,ae)){var Fr=ce?ce.evaluate(yr,{},ae):void 0,ln={id:Rt,properties:St.properties,type:St.type,sourceLayerIndex:ir,index:Xt,geometry:tr?yr.geometry:ei(St),patterns:{},sortKey:Fr};we.push(ln)}}ce&&we.sort(function(da,ba){return da.sortKey-ba.sortKey});for(var en=0,Sn=we;en<Sn.length;en+=1){var yn=Sn[en],Mn=yn,Fn=Mn.geometry,Wn=Mn.index,ra=Mn.sourceLayerIndex;if(this.hasPattern){var qn=ep("line",this.layers,yn,this.zoom,V);this.patternFeatures.push(qn)}else this.addFeature(yn,Fn,Wn,ae,{});var wa=D[Wn].feature;V.featureIndex.insert(wa,Fn,Wn,ra,this.index)}},ts.prototype.update=function(D,V,ae){!this.stateDependentLayers.length||this.programConfigurations.updatePaintArrays(D,V,this.stateDependentLayers,ae)},ts.prototype.addFeatures=function(D,V,ae){for(var ce=0,we=this.patternFeatures;ce<we.length;ce+=1){var Le=we[ce];this.addFeature(Le,Le.geometry,Le.index,V,ae)}},ts.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},ts.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},ts.prototype.upload=function(D){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=D.createVertexBuffer(this.layoutVertexArray2,f3)),this.layoutVertexBuffer=D.createVertexBuffer(this.layoutVertexArray,l3),this.indexBuffer=D.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(D),this.uploaded=!0},ts.prototype.destroy=function(){!this.layoutVertexBuffer||(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},ts.prototype.lineFeatureClips=function(D){if(!!D.properties&&D.properties.hasOwnProperty("mapbox_clip_start")&&D.properties.hasOwnProperty("mapbox_clip_end")){var V=+D.properties.mapbox_clip_start,ae=+D.properties.mapbox_clip_end;return{start:V,end:ae}}},ts.prototype.addFeature=function(D,V,ae,ce,we){var Le=this.layers[0].layout,Je=Le.get("line-join").evaluate(D,{}),vt=Le.get("line-cap"),St=Le.get("line-miter-limit"),Rt=Le.get("line-round-limit");this.lineClips=this.lineFeatureClips(D);for(var Xt=0,ir=V;Xt<ir.length;Xt+=1){var tr=ir[Xt];this.addLine(tr,D,Je,vt,St,Rt)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,D,ae,we,ce)},ts.prototype.addLine=function(D,V,ae,ce,we,Le){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(var Je=0;Je<D.length-1;Je++)this.totalDistance+=D[Je].dist(D[Je+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}for(var vt=c3[V.type]==="Polygon",St=D.length;St>=2&&D[St-1].equals(D[St-2]);)St--;for(var Rt=0;Rt<St-1&&D[Rt].equals(D[Rt+1]);)Rt++;if(!(St<(vt?3:2))){ae==="bevel"&&(we=1.05);var Xt=this.overscaling<=16?v3*Ma/(512*this.overscaling):0,ir=this.segments.prepareSegment(St*10,this.layoutVertexArray,this.indexArray),tr,yr=void 0,Fr=void 0,ln=void 0,en=void 0;this.e1=this.e2=-1,vt&&(tr=D[St-2],en=D[Rt].sub(tr)._unit()._perp());for(var Sn=Rt;Sn<St;Sn++)if(Fr=Sn===St-1?vt?D[Rt+1]:void 0:D[Sn+1],!(Fr&&D[Sn].equals(Fr))){en&&(ln=en),tr&&(yr=tr),tr=D[Sn],en=Fr?Fr.sub(tr)._unit()._perp():ln,ln=ln||en;var yn=ln.add(en);(yn.x!==0||yn.y!==0)&&yn._unit();var Mn=ln.x*en.x+ln.y*en.y,Fn=yn.x*en.x+yn.y*en.y,Wn=Fn!==0?1/Fn:1/0,ra=2*Math.sqrt(2-2*Fn),qn=Fn<h3&&yr&&Fr,wa=ln.x*en.y-ln.y*en.x>0;if(qn&&Sn>Rt){var da=tr.dist(yr);if(da>2*Xt){var ba=tr.sub(tr.sub(yr)._mult(Xt/da)._round());this.updateDistance(yr,ba),this.addCurrentVertex(ba,ln,0,0,ir),yr=ba}}var Ba=yr&&Fr,Ta=Ba?ae:vt?"butt":ce;if(Ba&&Ta==="round"&&(Wn<Le?Ta="miter":Wn<=2&&(Ta="fakeround")),Ta==="miter"&&Wn>we&&(Ta="bevel"),Ta==="bevel"&&(Wn>2&&(Ta="flipbevel"),Wn<we&&(Ta="miter")),yr&&this.updateDistance(yr,tr),Ta==="miter")yn._mult(Wn),this.addCurrentVertex(tr,yn,0,0,ir);else if(Ta==="flipbevel"){if(Wn>100)yn=en.mult(-1);else{var Ea=Wn*ln.add(en).mag()/ln.sub(en).mag();yn._perp()._mult(Ea*(wa?-1:1))}this.addCurrentVertex(tr,yn,0,0,ir),this.addCurrentVertex(tr,yn.mult(-1),0,0,ir)}else if(Ta==="bevel"||Ta==="fakeround"){var Ga=-Math.sqrt(Wn*Wn-1),za=wa?Ga:0,si=wa?0:Ga;if(yr&&this.addCurrentVertex(tr,ln,za,si,ir),Ta==="fakeround")for(var xi=Math.round(ra*180/Math.PI/d3),li=1;li<xi;li++){var ui=li/xi;if(ui!==.5){var ti=ui-.5,Si=1.0904+Mn*(-3.2452+Mn*(3.55645-Mn*1.43519)),Ci=.848013+Mn*(-1.06021+Mn*.215638);ui=ui+ui*ti*(ui-1)*(Si*ti*ti+Ci)}var Vi=en.sub(ln)._mult(ui)._add(ln)._unit()._mult(wa?-1:1);this.addHalfVertex(tr,Vi.x,Vi.y,!1,wa,0,ir)}Fr&&this.addCurrentVertex(tr,en,-za,-si,ir)}else if(Ta==="butt")this.addCurrentVertex(tr,yn,0,0,ir);else if(Ta==="square"){var Zi=yr?1:-1;this.addCurrentVertex(tr,yn,Zi,Zi,ir)}else Ta==="round"&&(yr&&(this.addCurrentVertex(tr,ln,0,0,ir),this.addCurrentVertex(tr,ln,1,1,ir,!0)),Fr&&(this.addCurrentVertex(tr,en,-1,-1,ir,!0),this.addCurrentVertex(tr,en,0,0,ir)));if(qn&&Sn<St-1){var Mo=tr.dist(Fr);if(Mo>2*Xt){var co=tr.add(Fr.sub(tr)._mult(Xt/Mo)._round());this.updateDistance(tr,co),this.addCurrentVertex(co,en,0,0,ir),tr=co}}}}},ts.prototype.addCurrentVertex=function(D,V,ae,ce,we,Le){Le===void 0&&(Le=!1);var Je=V.x+V.y*ae,vt=V.y-V.x*ae,St=-V.x+V.y*ce,Rt=-V.y-V.x*ce;this.addHalfVertex(D,Je,vt,Le,!1,ae,we),this.addHalfVertex(D,St,Rt,Le,!0,-ce,we),this.distance>uy/2&&this.totalDistance===0&&(this.distance=0,this.addCurrentVertex(D,V,ae,ce,we,Le))},ts.prototype.addHalfVertex=function(D,V,ae,ce,we,Le,Je){var vt=D.x,St=D.y,Rt=this.lineClips?this.scaledDistance*(uy-1):this.scaledDistance,Xt=Rt*ly;if(this.layoutVertexArray.emplaceBack((vt<<1)+(ce?1:0),(St<<1)+(we?1:0),Math.round(sy*V)+128,Math.round(sy*ae)+128,(Le===0?0:Le<0?-1:1)+1|(Xt&63)<<2,Xt>>6),this.lineClips){var ir=this.scaledDistance-this.lineClips.start,tr=this.lineClips.end-this.lineClips.start,yr=ir/tr;this.layoutVertexArray2.emplaceBack(yr,this.lineClipsArray.length)}var Fr=Je.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,Fr),Je.primitiveLength++),we?this.e2=Fr:this.e1=Fr},ts.prototype.updateScaledDistance=function(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance},ts.prototype.updateDistance=function(D,V){this.distance+=D.dist(V),this.updateScaledDistance()},Oe("LineBucket",ts,{omit:["layers","patternFeatures"]});var g3=new ci({"line-cap":new sa(Ar.layout_line["line-cap"]),"line-join":new Ca(Ar.layout_line["line-join"]),"line-miter-limit":new sa(Ar.layout_line["line-miter-limit"]),"line-round-limit":new sa(Ar.layout_line["line-round-limit"]),"line-sort-key":new Ca(Ar.layout_line["line-sort-key"])}),y3=new ci({"line-opacity":new Ca(Ar.paint_line["line-opacity"]),"line-color":new Ca(Ar.paint_line["line-color"]),"line-translate":new sa(Ar.paint_line["line-translate"]),"line-translate-anchor":new sa(Ar.paint_line["line-translate-anchor"]),"line-width":new Ca(Ar.paint_line["line-width"]),"line-gap-width":new Ca(Ar.paint_line["line-gap-width"]),"line-offset":new Ca(Ar.paint_line["line-offset"]),"line-blur":new Ca(Ar.paint_line["line-blur"]),"line-dasharray":new zo(Ar.paint_line["line-dasharray"]),"line-pattern":new Do(Ar.paint_line["line-pattern"]),"line-gradient":new oo(Ar.paint_line["line-gradient"])}),fy={paint:y3,layout:g3},m3=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.possiblyEvaluate=function(ae,ce){return ce=new Aa(Math.floor(ce.zoom),{now:ce.now,fadeDuration:ce.fadeDuration,zoomHistory:ce.zoomHistory,transition:ce.transition}),R.prototype.possiblyEvaluate.call(this,ae,ce)},D.prototype.evaluate=function(ae,ce,we,Le){return ce=b({},ce,{zoom:Math.floor(ce.zoom)}),R.prototype.evaluate.call(this,ae,ce,we,Le)},D}(Ca),cy=new m3(fy.paint.properties["line-width"].specification);cy.useIntegerZoom=!0;var x3=function(R){function D(V){R.call(this,V,fy),this.gradientVersion=0}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._handleSpecialPaintPropertyUpdate=function(ae){if(ae==="line-gradient"){var ce=this._transitionablePaint._values["line-gradient"].value.expression;this.stepInterpolant=ce._styleExpression.expression instanceof Xo,this.gradientVersion=(this.gradientVersion+1)%f}},D.prototype.gradientExpression=function(){return this._transitionablePaint._values["line-gradient"].value.expression},D.prototype.recalculate=function(ae,ce){R.prototype.recalculate.call(this,ae,ce),this.paint._values["line-floorwidth"]=cy.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,ae)},D.prototype.createBucket=function(ae){return new ts(ae)},D.prototype.queryRadius=function(ae){var ce=ae,we=hy(es("line-width",this,ce),es("line-gap-width",this,ce)),Le=es("line-offset",this,ce);return we/2+Math.abs(Le)+cl(this.paint.get("line-translate"))},D.prototype.queryIntersectsFeature=function(ae,ce,we,Le,Je,vt,St){var Rt=du(ae,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),vt.angle,St),Xt=St/2*hy(this.paint.get("line-width").evaluate(ce,we),this.paint.get("line-gap-width").evaluate(ce,we)),ir=this.paint.get("line-offset").evaluate(ce,we);return ir&&(Le=b3(Le,ir*St)),yo(Rt,Le,Xt)},D.prototype.isTileClipped=function(){return!0},D}(Ni);function hy(R,D){return D>0?D+2*R:R}function b3(R,D){for(var V=[],ae=new r(0,0),ce=0;ce<R.length;ce++){for(var we=R[ce],Le=[],Je=0;Je<we.length;Je++){var vt=we[Je-1],St=we[Je],Rt=we[Je+1],Xt=Je===0?ae:St.sub(vt)._unit()._perp(),ir=Je===we.length-1?ae:Rt.sub(St)._unit()._perp(),tr=Xt._add(ir)._unit(),yr=tr.x*ir.x+tr.y*ir.y;tr._mult(1/yr),Le.push(tr._mult(D)._add(St))}V.push(Le)}return V}var w3=Pi([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),T3=Pi([{name:"a_projected_pos",components:3,type:"Float32"}],4);Pi([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);var A3=Pi([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}]);Pi([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);var vy=Pi([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),M3=Pi([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);Pi([{name:"triangle",components:3,type:"Uint16"}]),Pi([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),Pi([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),Pi([{type:"Float32",name:"offsetX"}]),Pi([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);function S3(R,D,V){var ae=D.layout.get("text-transform").evaluate(V,{});return ae==="uppercase"?R=R.toLocaleUpperCase():ae==="lowercase"&&(R=R.toLocaleLowerCase()),Kn.applyArabicShaping&&(R=Kn.applyArabicShaping(R)),R}function E3(R,D,V){return R.sections.forEach(function(ae){ae.text=S3(ae.text,D,V)}),R}function C3(R){var D={},V={},ae=[],ce=0;function we(en){ae.push(R[en]),ce++}function Le(en,Sn,yn){var Mn=V[en];return delete V[en],V[Sn]=Mn,ae[Mn].geometry[0].pop(),ae[Mn].geometry[0]=ae[Mn].geometry[0].concat(yn[0]),Mn}function Je(en,Sn,yn){var Mn=D[Sn];return delete D[Sn],D[en]=Mn,ae[Mn].geometry[0].shift(),ae[Mn].geometry[0]=yn[0].concat(ae[Mn].geometry[0]),Mn}function vt(en,Sn,yn){var Mn=yn?Sn[0][Sn[0].length-1]:Sn[0][0];return en+":"+Mn.x+":"+Mn.y}for(var St=0;St<R.length;St++){var Rt=R[St],Xt=Rt.geometry,ir=Rt.text?Rt.text.toString():null;if(!ir){we(St);continue}var tr=vt(ir,Xt),yr=vt(ir,Xt,!0);if(tr in V&&yr in D&&V[tr]!==D[yr]){var Fr=Je(tr,yr,Xt),ln=Le(tr,yr,ae[Fr].geometry);delete D[tr],delete V[yr],V[vt(ir,ae[ln].geometry,!0)]=ln,ae[Fr].geometry=null}else tr in V?Le(tr,yr,Xt):yr in D?Je(tr,yr,Xt):(we(St),D[tr]=ce-1,V[yr]=ce-1)}return ae.filter(function(en){return en.geometry})}var _v={"!":"\uFE15","#":"\uFF03",$:"\uFF04","%":"\uFF05","&":"\uFF06","(":"\uFE35",")":"\uFE36","*":"\uFF0A","+":"\uFF0B",",":"\uFE10","-":"\uFE32",".":"\u30FB","/":"\uFF0F",":":"\uFE13",";":"\uFE14","<":"\uFE3F","=":"\uFF1D",">":"\uFE40","?":"\uFE16","@":"\uFF20","[":"\uFE47","\\":"\uFF3C","]":"\uFE48","^":"\uFF3E",_:"\uFE33","`":"\uFF40","{":"\uFE37","|":"\u2015","}":"\uFE38","~":"\uFF5E","\xA2":"\uFFE0","\xA3":"\uFFE1","\xA5":"\uFFE5","\xA6":"\uFFE4","\xAC":"\uFFE2","\xAF":"\uFFE3","\u2013":"\uFE32","\u2014":"\uFE31","\u2018":"\uFE43","\u2019":"\uFE44","\u201C":"\uFE41","\u201D":"\uFE42","\u2026":"\uFE19","\u2027":"\u30FB","\u20A9":"\uFFE6","\u3001":"\uFE11","\u3002":"\uFE12","\u3008":"\uFE3F","\u3009":"\uFE40","\u300A":"\uFE3D","\u300B":"\uFE3E","\u300C":"\uFE41","\u300D":"\uFE42","\u300E":"\uFE43","\u300F":"\uFE44","\u3010":"\uFE3B","\u3011":"\uFE3C","\u3014":"\uFE39","\u3015":"\uFE3A","\u3016":"\uFE17","\u3017":"\uFE18","\uFF01":"\uFE15","\uFF08":"\uFE35","\uFF09":"\uFE36","\uFF0C":"\uFE10","\uFF0D":"\uFE32","\uFF0E":"\u30FB","\uFF1A":"\uFE13","\uFF1B":"\uFE14","\uFF1C":"\uFE3F","\uFF1E":"\uFE40","\uFF1F":"\uFE16","\uFF3B":"\uFE47","\uFF3D":"\uFE48","\uFF3F":"\uFE33","\uFF5B":"\uFE37","\uFF5C":"\u2015","\uFF5D":"\uFE38","\uFF5F":"\uFE35","\uFF60":"\uFE36","\uFF61":"\uFE12","\uFF62":"\uFE41","\uFF63":"\uFE42"};function L3(R){for(var D="",V=0;V<R.length;V++){var ae=R.charCodeAt(V+1)||null,ce=R.charCodeAt(V-1)||null,we=(!ae||!Nr(ae)||_v[R[V+1]])&&(!ce||!Nr(ce)||_v[R[V-1]]);we&&_v[R[V]]?D+=_v[R[V]]:D+=R[V]}return D}var Io=24,P3=function(R,D,V,ae,ce){var we,Le,Je=ce*8-ae-1,vt=(1<<Je)-1,St=vt>>1,Rt=-7,Xt=V?ce-1:0,ir=V?-1:1,tr=R[D+Xt];for(Xt+=ir,we=tr&(1<<-Rt)-1,tr>>=-Rt,Rt+=Je;Rt>0;we=we*256+R[D+Xt],Xt+=ir,Rt-=8);for(Le=we&(1<<-Rt)-1,we>>=-Rt,Rt+=ae;Rt>0;Le=Le*256+R[D+Xt],Xt+=ir,Rt-=8);if(we===0)we=1-St;else{if(we===vt)return Le?NaN:(tr?-1:1)*(1/0);Le=Le+Math.pow(2,ae),we=we-St}return(tr?-1:1)*Le*Math.pow(2,we-ae)},R3=function(R,D,V,ae,ce,we){var Le,Je,vt,St=we*8-ce-1,Rt=(1<<St)-1,Xt=Rt>>1,ir=ce===23?Math.pow(2,-24)-Math.pow(2,-77):0,tr=ae?0:we-1,yr=ae?1:-1,Fr=D<0||D===0&&1/D<0?1:0;for(D=Math.abs(D),isNaN(D)||D===1/0?(Je=isNaN(D)?1:0,Le=Rt):(Le=Math.floor(Math.log(D)/Math.LN2),D*(vt=Math.pow(2,-Le))<1&&(Le--,vt*=2),Le+Xt>=1?D+=ir/vt:D+=ir*Math.pow(2,1-Xt),D*vt>=2&&(Le++,vt/=2),Le+Xt>=Rt?(Je=0,Le=Rt):Le+Xt>=1?(Je=(D*vt-1)*Math.pow(2,ce),Le=Le+Xt):(Je=D*Math.pow(2,Xt-1)*Math.pow(2,ce),Le=0));ce>=8;R[V+tr]=Je&255,tr+=yr,Je/=256,ce-=8);for(Le=Le<<ce|Je,St+=ce;St>0;R[V+tr]=Le&255,tr+=yr,Le/=256,St-=8);R[V+tr-yr]|=Fr*128},Ld={read:P3,write:R3},Pd=Ei;function Ei(R){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(R)?R:new Uint8Array(R||0),this.pos=0,this.type=0,this.length=this.buf.length}Ei.Varint=0,Ei.Fixed64=1,Ei.Bytes=2,Ei.Fixed32=5;var rp=(1<<16)*(1<<16),dy=1/rp,D3=12,py=typeof TextDecoder=="undefined"?null:new TextDecoder("utf8");Ei.prototype={destroy:function(){this.buf=null},readFields:function(R,D,V){for(V=V||this.length;this.pos<V;){var ae=this.readVarint(),ce=ae>>3,we=this.pos;this.type=ae&7,R(ce,D,this),this.pos===we&&this.skip(ae)}return D},readMessage:function(R,D){return this.readFields(R,D,this.readVarint()+this.pos)},readFixed32:function(){var R=Rd(this.buf,this.pos);return this.pos+=4,R},readSFixed32:function(){var R=yy(this.buf,this.pos);return this.pos+=4,R},readFixed64:function(){var R=Rd(this.buf,this.pos)+Rd(this.buf,this.pos+4)*rp;return this.pos+=8,R},readSFixed64:function(){var R=Rd(this.buf,this.pos)+yy(this.buf,this.pos+4)*rp;return this.pos+=8,R},readFloat:function(){var R=Ld.read(this.buf,this.pos,!0,23,4);return this.pos+=4,R},readDouble:function(){var R=Ld.read(this.buf,this.pos,!0,52,8);return this.pos+=8,R},readVarint:function(R){var D=this.buf,V,ae;return ae=D[this.pos++],V=ae&127,ae<128||(ae=D[this.pos++],V|=(ae&127)<<7,ae<128)||(ae=D[this.pos++],V|=(ae&127)<<14,ae<128)||(ae=D[this.pos++],V|=(ae&127)<<21,ae<128)?V:(ae=D[this.pos],V|=(ae&15)<<28,I3(V,R,this))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var R=this.readVarint();return R%2===1?(R+1)/-2:R/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var R=this.readVarint()+this.pos,D=this.pos;return this.pos=R,R-D>=D3&&py?X3(this.buf,D,R):Y3(this.buf,D,R)},readBytes:function(){var R=this.readVarint()+this.pos,D=this.buf.subarray(this.pos,R);return this.pos=R,D},readPackedVarint:function(R,D){if(this.type!==Ei.Bytes)return R.push(this.readVarint(D));var V=xf(this);for(R=R||[];this.pos<V;)R.push(this.readVarint(D));return R},readPackedSVarint:function(R){if(this.type!==Ei.Bytes)return R.push(this.readSVarint());var D=xf(this);for(R=R||[];this.pos<D;)R.push(this.readSVarint());return R},readPackedBoolean:function(R){if(this.type!==Ei.Bytes)return R.push(this.readBoolean());var D=xf(this);for(R=R||[];this.pos<D;)R.push(this.readBoolean());return R},readPackedFloat:function(R){if(this.type!==Ei.Bytes)return R.push(this.readFloat());var D=xf(this);for(R=R||[];this.pos<D;)R.push(this.readFloat());return R},readPackedDouble:function(R){if(this.type!==Ei.Bytes)return R.push(this.readDouble());var D=xf(this);for(R=R||[];this.pos<D;)R.push(this.readDouble());return R},readPackedFixed32:function(R){if(this.type!==Ei.Bytes)return R.push(this.readFixed32());var D=xf(this);for(R=R||[];this.pos<D;)R.push(this.readFixed32());return R},readPackedSFixed32:function(R){if(this.type!==Ei.Bytes)return R.push(this.readSFixed32());var D=xf(this);for(R=R||[];this.pos<D;)R.push(this.readSFixed32());return R},readPackedFixed64:function(R){if(this.type!==Ei.Bytes)return R.push(this.readFixed64());var D=xf(this);for(R=R||[];this.pos<D;)R.push(this.readFixed64());return R},readPackedSFixed64:function(R){if(this.type!==Ei.Bytes)return R.push(this.readSFixed64());var D=xf(this);for(R=R||[];this.pos<D;)R.push(this.readSFixed64());return R},skip:function(R){var D=R&7;if(D===Ei.Varint)for(;this.buf[this.pos++]>127;);else if(D===Ei.Bytes)this.pos=this.readVarint()+this.pos;else if(D===Ei.Fixed32)this.pos+=4;else if(D===Ei.Fixed64)this.pos+=8;else throw new Error("Unimplemented type: "+D)},writeTag:function(R,D){this.writeVarint(R<<3|D)},realloc:function(R){for(var D=this.length||16;D<this.pos+R;)D*=2;if(D!==this.length){var V=new Uint8Array(D);V.set(this.buf),this.buf=V,this.length=D}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(R){this.realloc(4),Bh(this.buf,R,this.pos),this.pos+=4},writeSFixed32:function(R){this.realloc(4),Bh(this.buf,R,this.pos),this.pos+=4},writeFixed64:function(R){this.realloc(8),Bh(this.buf,R&-1,this.pos),Bh(this.buf,Math.floor(R*dy),this.pos+4),this.pos+=8},writeSFixed64:function(R){this.realloc(8),Bh(this.buf,R&-1,this.pos),Bh(this.buf,Math.floor(R*dy),this.pos+4),this.pos+=8},writeVarint:function(R){if(R=+R||0,R>268435455||R<0){_3(R,this);return}this.realloc(4),this.buf[this.pos++]=R&127|(R>127?128:0),!(R<=127)&&(this.buf[this.pos++]=(R>>>=7)&127|(R>127?128:0),!(R<=127)&&(this.buf[this.pos++]=(R>>>=7)&127|(R>127?128:0),!(R<=127)&&(this.buf[this.pos++]=R>>>7&127)))},writeSVarint:function(R){this.writeVarint(R<0?-R*2-1:R*2)},writeBoolean:function(R){this.writeVarint(Boolean(R))},writeString:function(R){R=String(R),this.realloc(R.length*4),this.pos++;var D=this.pos;this.pos=Z3(this.buf,R,this.pos);var V=this.pos-D;V>=128&&gy(D,V,this),this.pos=D-1,this.writeVarint(V),this.pos+=V},writeFloat:function(R){this.realloc(4),Ld.write(this.buf,R,this.pos,!0,23,4),this.pos+=4},writeDouble:function(R){this.realloc(8),Ld.write(this.buf,R,this.pos,!0,52,8),this.pos+=8},writeBytes:function(R){var D=R.length;this.writeVarint(D),this.realloc(D);for(var V=0;V<D;V++)this.buf[this.pos++]=R[V]},writeRawMessage:function(R,D){this.pos++;var V=this.pos;R(D,this);var ae=this.pos-V;ae>=128&&gy(V,ae,this),this.pos=V-1,this.writeVarint(ae),this.pos+=ae},writeMessage:function(R,D,V){this.writeTag(R,Ei.Bytes),this.writeRawMessage(D,V)},writePackedVarint:function(R,D){D.length&&this.writeMessage(R,z3,D)},writePackedSVarint:function(R,D){D.length&&this.writeMessage(R,O3,D)},writePackedBoolean:function(R,D){D.length&&this.writeMessage(R,U3,D)},writePackedFloat:function(R,D){D.length&&this.writeMessage(R,B3,D)},writePackedDouble:function(R,D){D.length&&this.writeMessage(R,N3,D)},writePackedFixed32:function(R,D){D.length&&this.writeMessage(R,V3,D)},writePackedSFixed32:function(R,D){D.length&&this.writeMessage(R,H3,D)},writePackedFixed64:function(R,D){D.length&&this.writeMessage(R,G3,D)},writePackedSFixed64:function(R,D){D.length&&this.writeMessage(R,W3,D)},writeBytesField:function(R,D){this.writeTag(R,Ei.Bytes),this.writeBytes(D)},writeFixed32Field:function(R,D){this.writeTag(R,Ei.Fixed32),this.writeFixed32(D)},writeSFixed32Field:function(R,D){this.writeTag(R,Ei.Fixed32),this.writeSFixed32(D)},writeFixed64Field:function(R,D){this.writeTag(R,Ei.Fixed64),this.writeFixed64(D)},writeSFixed64Field:function(R,D){this.writeTag(R,Ei.Fixed64),this.writeSFixed64(D)},writeVarintField:function(R,D){this.writeTag(R,Ei.Varint),this.writeVarint(D)},writeSVarintField:function(R,D){this.writeTag(R,Ei.Varint),this.writeSVarint(D)},writeStringField:function(R,D){this.writeTag(R,Ei.Bytes),this.writeString(D)},writeFloatField:function(R,D){this.writeTag(R,Ei.Fixed32),this.writeFloat(D)},writeDoubleField:function(R,D){this.writeTag(R,Ei.Fixed64),this.writeDouble(D)},writeBooleanField:function(R,D){this.writeVarintField(R,Boolean(D))}};function I3(R,D,V){var ae=V.buf,ce,we;if(we=ae[V.pos++],ce=(we&112)>>4,we<128||(we=ae[V.pos++],ce|=(we&127)<<3,we<128)||(we=ae[V.pos++],ce|=(we&127)<<10,we<128)||(we=ae[V.pos++],ce|=(we&127)<<17,we<128)||(we=ae[V.pos++],ce|=(we&127)<<24,we<128)||(we=ae[V.pos++],ce|=(we&1)<<31,we<128))return Oh(R,ce,D);throw new Error("Expected varint not more than 10 bytes")}function xf(R){return R.type===Ei.Bytes?R.readVarint()+R.pos:R.pos+1}function Oh(R,D,V){return V?D*4294967296+(R>>>0):(D>>>0)*4294967296+(R>>>0)}function _3(R,D){var V,ae;if(R>=0?(V=R%4294967296|0,ae=R/4294967296|0):(V=~(-R%4294967296),ae=~(-R/4294967296),V^4294967295?V=V+1|0:(V=0,ae=ae+1|0)),R>=18446744073709552e3||R<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");D.realloc(10),k3(V,ae,D),F3(ae,D)}function k3(R,D,V){V.buf[V.pos++]=R&127|128,R>>>=7,V.buf[V.pos++]=R&127|128,R>>>=7,V.buf[V.pos++]=R&127|128,R>>>=7,V.buf[V.pos++]=R&127|128,R>>>=7,V.buf[V.pos]=R&127}function F3(R,D){var V=(R&7)<<4;D.buf[D.pos++]|=V|((R>>>=3)?128:0),R&&(D.buf[D.pos++]=R&127|((R>>>=7)?128:0),R&&(D.buf[D.pos++]=R&127|((R>>>=7)?128:0),R&&(D.buf[D.pos++]=R&127|((R>>>=7)?128:0),R&&(D.buf[D.pos++]=R&127|((R>>>=7)?128:0),R&&(D.buf[D.pos++]=R&127)))))}function gy(R,D,V){var ae=D<=16383?1:D<=2097151?2:D<=268435455?3:Math.floor(Math.log(D)/(Math.LN2*7));V.realloc(ae);for(var ce=V.pos-1;ce>=R;ce--)V.buf[ce+ae]=V.buf[ce]}function z3(R,D){for(var V=0;V<R.length;V++)D.writeVarint(R[V])}function O3(R,D){for(var V=0;V<R.length;V++)D.writeSVarint(R[V])}function B3(R,D){for(var V=0;V<R.length;V++)D.writeFloat(R[V])}function N3(R,D){for(var V=0;V<R.length;V++)D.writeDouble(R[V])}function U3(R,D){for(var V=0;V<R.length;V++)D.writeBoolean(R[V])}function V3(R,D){for(var V=0;V<R.length;V++)D.writeFixed32(R[V])}function H3(R,D){for(var V=0;V<R.length;V++)D.writeSFixed32(R[V])}function G3(R,D){for(var V=0;V<R.length;V++)D.writeFixed64(R[V])}function W3(R,D){for(var V=0;V<R.length;V++)D.writeSFixed64(R[V])}function Rd(R,D){return(R[D]|R[D+1]<<8|R[D+2]<<16)+R[D+3]*16777216}function Bh(R,D,V){R[V]=D,R[V+1]=D>>>8,R[V+2]=D>>>16,R[V+3]=D>>>24}function yy(R,D){return(R[D]|R[D+1]<<8|R[D+2]<<16)+(R[D+3]<<24)}function Y3(R,D,V){for(var ae="",ce=D;ce<V;){var we=R[ce],Le=null,Je=we>239?4:we>223?3:we>191?2:1;if(ce+Je>V)break;var vt,St,Rt;Je===1?we<128&&(Le=we):Je===2?(vt=R[ce+1],(vt&192)===128&&(Le=(we&31)<<6|vt&63,Le<=127&&(Le=null))):Je===3?(vt=R[ce+1],St=R[ce+2],(vt&192)===128&&(St&192)===128&&(Le=(we&15)<<12|(vt&63)<<6|St&63,(Le<=2047||Le>=55296&&Le<=57343)&&(Le=null))):Je===4&&(vt=R[ce+1],St=R[ce+2],Rt=R[ce+3],(vt&192)===128&&(St&192)===128&&(Rt&192)===128&&(Le=(we&15)<<18|(vt&63)<<12|(St&63)<<6|Rt&63,(Le<=65535||Le>=1114112)&&(Le=null))),Le===null?(Le=65533,Je=1):Le>65535&&(Le-=65536,ae+=String.fromCharCode(Le>>>10&1023|55296),Le=56320|Le&1023),ae+=String.fromCharCode(Le),ce+=Je}return ae}function X3(R,D,V){return py.decode(R.subarray(D,V))}function Z3(R,D,V){for(var ae=0,ce,we;ae<D.length;ae++){if(ce=D.charCodeAt(ae),ce>55295&&ce<57344)if(we)if(ce<56320){R[V++]=239,R[V++]=191,R[V++]=189,we=ce;continue}else ce=we-55296<<10|ce-56320|65536,we=null;else{ce>56319||ae+1===D.length?(R[V++]=239,R[V++]=191,R[V++]=189):we=ce;continue}else we&&(R[V++]=239,R[V++]=191,R[V++]=189,we=null);ce<128?R[V++]=ce:(ce<2048?R[V++]=ce>>6|192:(ce<65536?R[V++]=ce>>12|224:(R[V++]=ce>>18|240,R[V++]=ce>>12&63|128),R[V++]=ce>>6&63|128),R[V++]=ce&63|128)}return V}var np=3;function j3(R,D,V){R===1&&V.readMessage(K3,D)}function K3(R,D,V){if(R===3){var ae=V.readMessage(J3,{}),ce=ae.id,we=ae.bitmap,Le=ae.width,Je=ae.height,vt=ae.left,St=ae.top,Rt=ae.advance;D.push({id:ce,bitmap:new Jc({width:Le+2*np,height:Je+2*np},we),metrics:{width:Le,height:Je,left:vt,top:St,advance:Rt}})}}function J3(R,D,V){R===1?D.id=V.readVarint():R===2?D.bitmap=V.readBytes():R===3?D.width=V.readVarint():R===4?D.height=V.readVarint():R===5?D.left=V.readSVarint():R===6?D.top=V.readSVarint():R===7&&(D.advance=V.readVarint())}function Q3(R){return new Pd(R).readFields(j3,[])}var my=np;function xy(R){for(var D=0,V=0,ae=0,ce=R;ae<ce.length;ae+=1){var we=ce[ae];D+=we.w*we.h,V=Math.max(V,we.w)}R.sort(function(ln,en){return en.h-ln.h});for(var Le=Math.max(Math.ceil(Math.sqrt(D/.95)),V),Je=[{x:0,y:0,w:Le,h:1/0}],vt=0,St=0,Rt=0,Xt=R;Rt<Xt.length;Rt+=1)for(var ir=Xt[Rt],tr=Je.length-1;tr>=0;tr--){var yr=Je[tr];if(!(ir.w>yr.w||ir.h>yr.h)){if(ir.x=yr.x,ir.y=yr.y,St=Math.max(St,ir.y+ir.h),vt=Math.max(vt,ir.x+ir.w),ir.w===yr.w&&ir.h===yr.h){var Fr=Je.pop();tr<Je.length&&(Je[tr]=Fr)}else ir.h===yr.h?(yr.x+=ir.w,yr.w-=ir.w):ir.w===yr.w?(yr.y+=ir.h,yr.h-=ir.h):(Je.push({x:yr.x+ir.w,y:yr.y,w:yr.w-ir.w,h:ir.h}),yr.y+=ir.h,yr.h-=ir.h);break}}return{w:vt,h:St,fill:D/(vt*St)||0}}var Ds=1,Dd=function(D,V){var ae=V.pixelRatio,ce=V.version,we=V.stretchX,Le=V.stretchY,Je=V.content;this.paddedRect=D,this.pixelRatio=ae,this.stretchX=we,this.stretchY=Le,this.content=Je,this.version=ce},kv={tl:{configurable:!0},br:{configurable:!0},tlbr:{configurable:!0},displaySize:{configurable:!0}};kv.tl.get=function(){return[this.paddedRect.x+Ds,this.paddedRect.y+Ds]},kv.br.get=function(){return[this.paddedRect.x+this.paddedRect.w-Ds,this.paddedRect.y+this.paddedRect.h-Ds]},kv.tlbr.get=function(){return this.tl.concat(this.br)},kv.displaySize.get=function(){return[(this.paddedRect.w-Ds*2)/this.pixelRatio,(this.paddedRect.h-Ds*2)/this.pixelRatio]},Object.defineProperties(Dd.prototype,kv);var Fv=function(D,V){var ae={},ce={};this.haveRenderCallbacks=[];var we=[];this.addImages(D,ae,we),this.addImages(V,ce,we);var Le=xy(we),Je=Le.w,vt=Le.h,St=new ms({width:Je||1,height:vt||1});for(var Rt in D){var Xt=D[Rt],ir=ae[Rt].paddedRect;ms.copy(Xt.data,St,{x:0,y:0},{x:ir.x+Ds,y:ir.y+Ds},Xt.data)}for(var tr in V){var yr=V[tr],Fr=ce[tr].paddedRect,ln=Fr.x+Ds,en=Fr.y+Ds,Sn=yr.data.width,yn=yr.data.height;ms.copy(yr.data,St,{x:0,y:0},{x:ln,y:en},yr.data),ms.copy(yr.data,St,{x:0,y:yn-1},{x:ln,y:en-1},{width:Sn,height:1}),ms.copy(yr.data,St,{x:0,y:0},{x:ln,y:en+yn},{width:Sn,height:1}),ms.copy(yr.data,St,{x:Sn-1,y:0},{x:ln-1,y:en},{width:1,height:yn}),ms.copy(yr.data,St,{x:0,y:0},{x:ln+Sn,y:en},{width:1,height:yn})}this.image=St,this.iconPositions=ae,this.patternPositions=ce};Fv.prototype.addImages=function(D,V,ae){for(var ce in D){var we=D[ce],Le={x:0,y:0,w:we.data.width+2*Ds,h:we.data.height+2*Ds};ae.push(Le),V[ce]=new Dd(Le,we),we.hasRenderCallback&&this.haveRenderCallbacks.push(ce)}},Fv.prototype.patchUpdatedImages=function(D,V){D.dispatchRenderCallbacks(this.haveRenderCallbacks);for(var ae in D.updatedImages)this.patchUpdatedImage(this.iconPositions[ae],D.getImage(ae),V),this.patchUpdatedImage(this.patternPositions[ae],D.getImage(ae),V)},Fv.prototype.patchUpdatedImage=function(D,V,ae){if(!(!D||!V)&&D.version!==V.version){D.version=V.version;var ce=D.tl,we=ce[0],Le=ce[1];ae.update(V.data,void 0,{x:we,y:Le})}},Oe("ImagePosition",Dd),Oe("ImageAtlas",Fv);var Js={horizontal:1,vertical:2,horizontalOnly:3},zv=-17;function $3(R){for(var D=0,V=R;D<V.length;D+=1){var ae=V[D];if(ae.positionedGlyphs.length!==0)return!1}return!0}var by=57344,wy=63743,Nh=function(){this.scale=1,this.fontStack="",this.imageName=null};Nh.forText=function(D,V){var ae=new Nh;return ae.scale=D||1,ae.fontStack=V,ae},Nh.forImage=function(D){var V=new Nh;return V.imageName=D,V};var Vo=function(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null};Vo.fromFeature=function(D,V){for(var ae=new Vo,ce=0;ce<D.sections.length;ce++){var we=D.sections[ce];we.image?ae.addImageSection(we):ae.addTextSection(we,V)}return ae},Vo.prototype.length=function(){return this.text.length},Vo.prototype.getSection=function(D){return this.sections[this.sectionIndex[D]]},Vo.prototype.getSectionIndex=function(D){return this.sectionIndex[D]},Vo.prototype.getCharCode=function(D){return this.text.charCodeAt(D)},Vo.prototype.verticalizePunctuation=function(){this.text=L3(this.text)},Vo.prototype.trim=function(){for(var D=0,V=0;V<this.text.length&&Wu[this.text.charCodeAt(V)];V++)D++;for(var ae=this.text.length,ce=this.text.length-1;ce>=0&&ce>=D&&Wu[this.text.charCodeAt(ce)];ce--)ae--;this.text=this.text.substring(D,ae),this.sectionIndex=this.sectionIndex.slice(D,ae)},Vo.prototype.substring=function(D,V){var ae=new Vo;return ae.text=this.text.substring(D,V),ae.sectionIndex=this.sectionIndex.slice(D,V),ae.sections=this.sections,ae},Vo.prototype.toString=function(){return this.text},Vo.prototype.getMaxScale=function(){var D=this;return this.sectionIndex.reduce(function(V,ae){return Math.max(V,D.sections[ae].scale)},0)},Vo.prototype.addTextSection=function(D,V){this.text+=D.text,this.sections.push(Nh.forText(D.scale,D.fontStack||V));for(var ae=this.sections.length-1,ce=0;ce<D.text.length;++ce)this.sectionIndex.push(ae)},Vo.prototype.addImageSection=function(D){var V=D.image?D.image.name:"";if(V.length===0){O("Can't add FormattedSection with an empty image.");return}var ae=this.getNextImageSectionCharCode();if(!ae){O("Reached maximum number of images "+(wy-by+2));return}this.text+=String.fromCharCode(ae),this.sections.push(Nh.forImage(V)),this.sectionIndex.push(this.sections.length-1)},Vo.prototype.getNextImageSectionCharCode=function(){return this.imageSectionID?this.imageSectionID>=wy?null:++this.imageSectionID:(this.imageSectionID=by,this.imageSectionID)};function q3(R,D){for(var V=[],ae=R.text,ce=0,we=0,Le=D;we<Le.length;we+=1){var Je=Le[we];V.push(R.substring(ce,Je)),ce=Je}return ce<ae.length&&V.push(R.substring(ce,ae.length)),V}function Id(R,D,V,ae,ce,we,Le,Je,vt,St,Rt,Xt,ir,tr,yr,Fr){var ln=Vo.fromFeature(R,ce);Xt===Js.vertical&&ln.verticalizePunctuation();var en,Sn=Kn.processBidirectionalText,yn=Kn.processStyledBidirectionalText;if(Sn&&ln.sections.length===1){en=[];for(var Mn=Sn(ln.toString(),ap(ln,St,we,D,ae,tr,yr)),Fn=0,Wn=Mn;Fn<Wn.length;Fn+=1){var ra=Wn[Fn],qn=new Vo;qn.text=ra,qn.sections=ln.sections;for(var wa=0;wa<ra.length;wa++)qn.sectionIndex.push(0);en.push(qn)}}else if(yn){en=[];for(var da=yn(ln.text,ln.sectionIndex,ap(ln,St,we,D,ae,tr,yr)),ba=0,Ba=da;ba<Ba.length;ba+=1){var Ta=Ba[ba],Ea=new Vo;Ea.text=Ta[0],Ea.sectionIndex=Ta[1],Ea.sections=ln.sections,en.push(Ea)}}else en=q3(ln,ap(ln,St,we,D,ae,tr,yr));var Ga=[],za={positionedLines:Ga,text:ln.toString(),top:Rt[1],bottom:Rt[1],left:Rt[0],right:Rt[0],writingMode:Xt,iconsInText:!1,verticalizable:!1};return rw(za,D,V,ae,en,Le,Je,vt,Xt,St,ir,Fr),$3(Ga)?!1:za}var Wu={};Wu[9]=!0,Wu[10]=!0,Wu[11]=!0,Wu[12]=!0,Wu[13]=!0,Wu[32]=!0;var Is={};Is[10]=!0,Is[32]=!0,Is[38]=!0,Is[40]=!0,Is[41]=!0,Is[43]=!0,Is[45]=!0,Is[47]=!0,Is[173]=!0,Is[183]=!0,Is[8203]=!0,Is[8208]=!0,Is[8211]=!0,Is[8231]=!0;function Ty(R,D,V,ae,ce,we){if(D.imageName){var vt=ae[D.imageName];return vt?vt.displaySize[0]*D.scale*Io/we+ce:0}else{var Le=V[D.fontStack],Je=Le&&Le[R];return Je?Je.metrics.advance*D.scale+ce:0}}function ew(R,D,V,ae,ce,we){for(var Le=0,Je=0;Je<R.length();Je++){var vt=R.getSection(Je);Le+=Ty(R.getCharCode(Je),vt,ae,ce,D,we)}var St=Math.max(1,Math.ceil(Le/V));return Le/St}function Ay(R,D,V,ae){var ce=Math.pow(R-D,2);return ae?R<D?ce/2:ce*2:ce+Math.abs(V)*V}function tw(R,D,V){var ae=0;return R===10&&(ae-=1e4),V&&(ae+=150),(R===40||R===65288)&&(ae+=50),(D===41||D===65289)&&(ae+=50),ae}function My(R,D,V,ae,ce,we){for(var Le=null,Je=Ay(D,V,ce,we),vt=0,St=ae;vt<St.length;vt+=1){var Rt=St[vt],Xt=D-Rt.x,ir=Ay(Xt,V,ce,we)+Rt.badness;ir<=Je&&(Le=Rt,Je=ir)}return{index:R,x:D,priorBreak:Le,badness:Je}}function Sy(R){return R?Sy(R.priorBreak).concat(R.index):[]}function ap(R,D,V,ae,ce,we,Le){if(we!=="point")return[];if(!R)return[];for(var Je=[],vt=ew(R,D,V,ae,ce,Le),St=R.text.indexOf("\u200B")>=0,Rt=0,Xt=0;Xt<R.length();Xt++){var ir=R.getSection(Xt),tr=R.getCharCode(Xt);if(Wu[tr]||(Rt+=Ty(tr,ir,ae,ce,D,Le)),Xt<R.length()-1){var yr=Jr(tr);(Is[tr]||yr||ir.imageName)&&Je.push(My(Xt+1,Rt,vt,Je,tw(tr,R.getCharCode(Xt+1),yr&&St),!1))}}return Sy(My(R.length(),Rt,vt,Je,0,!0))}function ip(R){var D=.5,V=.5;switch(R){case"right":case"top-right":case"bottom-right":D=1;break;case"left":case"top-left":case"bottom-left":D=0;break}switch(R){case"bottom":case"bottom-right":case"bottom-left":V=1;break;case"top":case"top-right":case"top-left":V=0;break}return{horizontalAlign:D,verticalAlign:V}}function rw(R,D,V,ae,ce,we,Le,Je,vt,St,Rt,Xt){for(var ir=0,tr=zv,yr=0,Fr=0,ln=Je==="right"?1:Je==="left"?0:.5,en=0,Sn=0,yn=ce;Sn<yn.length;Sn+=1){var Mn=yn[Sn];Mn.trim();var Fn=Mn.getMaxScale(),Wn=(Fn-1)*Io,ra={positionedGlyphs:[],lineOffset:0};R.positionedLines[en]=ra;var qn=ra.positionedGlyphs,wa=0;if(!Mn.length()){tr+=we,++en;continue}for(var da=0;da<Mn.length();da++){var ba=Mn.getSection(da),Ba=Mn.getSectionIndex(da),Ta=Mn.getCharCode(da),Ea=0,Ga=null,za=null,si=null,xi=Io,li=!(vt===Js.horizontal||!Rt&&!on(Ta)||Rt&&(Wu[Ta]||jr(Ta)));if(ba.imageName){var Vi=ae[ba.imageName];if(!Vi)continue;si=ba.imageName,R.iconsInText=R.iconsInText||!0,za=Vi.paddedRect;var Zi=Vi.displaySize;ba.scale=ba.scale*Io/Xt,Ga={width:Zi[0],height:Zi[1],left:Ds,top:-my,advance:li?Zi[1]:Zi[0]};var Mo=Io-Zi[1]*ba.scale;Ea=Wn+Mo,xi=Ga.advance;var co=li?Zi[0]*ba.scale-Io*Fn:Zi[1]*ba.scale-Io*Fn;co>0&&co>wa&&(wa=co)}else{var ui=V[ba.fontStack],ti=ui&&ui[Ta];if(ti&&ti.rect)za=ti.rect,Ga=ti.metrics;else{var Si=D[ba.fontStack],Ci=Si&&Si[Ta];if(!Ci)continue;Ga=Ci.metrics}Ea=(Fn-ba.scale)*Io}li?(R.verticalizable=!0,qn.push({glyph:Ta,imageName:si,x:ir,y:tr+Ea,vertical:li,scale:ba.scale,fontStack:ba.fontStack,sectionIndex:Ba,metrics:Ga,rect:za}),ir+=xi*ba.scale+St):(qn.push({glyph:Ta,imageName:si,x:ir,y:tr+Ea,vertical:li,scale:ba.scale,fontStack:ba.fontStack,sectionIndex:Ba,metrics:Ga,rect:za}),ir+=Ga.advance*ba.scale+St)}if(qn.length!==0){var Ho=ir-St;yr=Math.max(Ho,yr),nw(qn,0,qn.length-1,ln,wa)}ir=0;var Go=we*Fn+wa;ra.lineOffset=Math.max(wa,Wn),tr+=Go,Fr=Math.max(Go,Fr),++en}var So=tr-zv,rs=ip(Le),ns=rs.horizontalAlign,mo=rs.verticalAlign;aw(R.positionedLines,ln,ns,mo,yr,Fr,we,So,ce.length),R.top+=-mo*So,R.bottom=R.top+So,R.left+=-ns*yr,R.right=R.left+yr}function nw(R,D,V,ae,ce){if(!(!ae&&!ce))for(var we=R[V],Le=we.metrics.advance*we.scale,Je=(R[V].x+Le)*ae,vt=D;vt<=V;vt++)R[vt].x-=Je,R[vt].y+=ce}function aw(R,D,V,ae,ce,we,Le,Je,vt){var St=(D-V)*ce,Rt=0;we!==Le?Rt=-Je*ae-zv:Rt=(-ae*vt+.5)*Le;for(var Xt=0,ir=R;Xt<ir.length;Xt+=1)for(var tr=ir[Xt],yr=0,Fr=tr.positionedGlyphs;yr<Fr.length;yr+=1){var ln=Fr[yr];ln.x+=St,ln.y+=Rt}}function iw(R,D,V){var ae=ip(V),ce=ae.horizontalAlign,we=ae.verticalAlign,Le=D[0],Je=D[1],vt=Le-R.displaySize[0]*ce,St=vt+R.displaySize[0],Rt=Je-R.displaySize[1]*we,Xt=Rt+R.displaySize[1];return{image:R,top:Rt,bottom:Xt,left:vt,right:St}}function Ey(R,D,V,ae,ce,we){var Le=R.image,Je;if(Le.content){var vt=Le.content,St=Le.pixelRatio||1;Je=[vt[0]/St,vt[1]/St,Le.displaySize[0]-vt[2]/St,Le.displaySize[1]-vt[3]/St]}var Rt=D.left*we,Xt=D.right*we,ir,tr,yr,Fr;V==="width"||V==="both"?(Fr=ce[0]+Rt-ae[3],tr=ce[0]+Xt+ae[1]):(Fr=ce[0]+(Rt+Xt-Le.displaySize[0])/2,tr=Fr+Le.displaySize[0]);var ln=D.top*we,en=D.bottom*we;return V==="height"||V==="both"?(ir=ce[1]+ln-ae[0],yr=ce[1]+en+ae[2]):(ir=ce[1]+(ln+en-Le.displaySize[1])/2,yr=ir+Le.displaySize[1]),{image:Le,top:ir,right:tr,bottom:yr,left:Fr,collisionPadding:Je}}var Uh=function(R){function D(V,ae,ce,we){R.call(this,V,ae),this.angle=ce,we!==void 0&&(this.segment=we)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.clone=function(){return new D(this.x,this.y,this.angle,this.segment)},D}(r);Oe("Anchor",Uh);var yu=128;function op(R,D){var V=D.expression;if(V.kind==="constant"){var ae=V.evaluate(new Aa(R+1));return{kind:"constant",layoutSize:ae}}else{if(V.kind==="source")return{kind:"source"};for(var ce=V.zoomStops,we=V.interpolationType,Le=0;Le<ce.length&&ce[Le]<=R;)Le++;Le=Math.max(0,Le-1);for(var Je=Le;Je<ce.length&&ce[Je]<R+1;)Je++;Je=Math.min(ce.length-1,Je);var vt=ce[Le],St=ce[Je];if(V.kind==="composite")return{kind:"composite",minZoom:vt,maxZoom:St,interpolationType:we};var Rt=V.evaluate(new Aa(vt)),Xt=V.evaluate(new Aa(St));return{kind:"camera",minZoom:vt,maxZoom:St,minSize:Rt,maxSize:Xt,interpolationType:we}}}function Cy(R,D,V){var ae=D.uSize,ce=D.uSizeT,we=V.lowerSize,Le=V.upperSize;return R.kind==="source"?we/yu:R.kind==="composite"?Ri(we/yu,Le/yu,ce):ae}function Ly(R,D){var V=0,ae=0;if(R.kind==="constant")ae=R.layoutSize;else if(R.kind!=="source"){var ce=R.interpolationType,we=R.minZoom,Le=R.maxZoom,Je=ce?h(ki.interpolationFactor(ce,D,we,Le),0,1):0;R.kind==="camera"?ae=Ri(R.minSize,R.maxSize,Je):V=Je}return{uSizeT:V,uSize:ae}}var ow=Object.freeze({__proto__:null,getSizeData:op,evaluateSizeForFeature:Cy,evaluateSizeForZoom:Ly,SIZE_PACK_FACTOR:yu});function Py(R,D,V,ae,ce){if(D.segment===void 0)return!0;for(var we=D,Le=D.segment+1,Je=0;Je>-V/2;){if(Le--,Le<0)return!1;Je-=R[Le].dist(we),we=R[Le]}Je+=R[Le].dist(R[Le+1]),Le++;for(var vt=[],St=0;Je<V/2;){var Rt=R[Le-1],Xt=R[Le],ir=R[Le+1];if(!ir)return!1;var tr=Rt.angleTo(Xt)-Xt.angleTo(ir);for(tr=Math.abs((tr+3*Math.PI)%(Math.PI*2)-Math.PI),vt.push({distance:Je,angleDelta:tr}),St+=tr;Je-vt[0].distance>ae;)St-=vt.shift().angleDelta;if(St>ce)return!1;Le++,Je+=Xt.dist(ir)}return!0}function Ry(R){for(var D=0,V=0;V<R.length-1;V++)D+=R[V].dist(R[V+1]);return D}function Dy(R,D,V){return R?.6*D*V:0}function Iy(R,D){return Math.max(R?R.right-R.left:0,D?D.right-D.left:0)}function sw(R,D,V,ae,ce,we){for(var Le=Dy(V,ce,we),Je=Iy(V,ae)*we,vt=0,St=Ry(R)/2,Rt=0;Rt<R.length-1;Rt++){var Xt=R[Rt],ir=R[Rt+1],tr=Xt.dist(ir);if(vt+tr>St){var yr=(St-vt)/tr,Fr=Ri(Xt.x,ir.x,yr),ln=Ri(Xt.y,ir.y,yr),en=new Uh(Fr,ln,ir.angleTo(Xt),Rt);return en._round(),!Le||Py(R,en,Je,Le,D)?en:void 0}vt+=tr}}function lw(R,D,V,ae,ce,we,Le,Je,vt){var St=Dy(ae,we,Le),Rt=Iy(ae,ce),Xt=Rt*Le,ir=R[0].x===0||R[0].x===vt||R[0].y===0||R[0].y===vt;D-Xt<D/4&&(D=Xt+D/4);var tr=we*2,yr=ir?D/2*Je%D:(Rt/2+tr)*Le*Je%D;return _y(R,yr,D,St,V,Xt,ir,!1,vt)}function _y(R,D,V,ae,ce,we,Le,Je,vt){for(var St=we/2,Rt=Ry(R),Xt=0,ir=D-V,tr=[],yr=0;yr<R.length-1;yr++){for(var Fr=R[yr],ln=R[yr+1],en=Fr.dist(ln),Sn=ln.angleTo(Fr);ir+V<Xt+en;){ir+=V;var yn=(ir-Xt)/en,Mn=Ri(Fr.x,ln.x,yn),Fn=Ri(Fr.y,ln.y,yn);if(Mn>=0&&Mn<vt&&Fn>=0&&Fn<vt&&ir-St>=0&&ir+St<=Rt){var Wn=new Uh(Mn,Fn,Sn,yr);Wn._round(),(!ae||Py(R,Wn,we,ae,ce))&&tr.push(Wn)}}Xt+=en}return!Je&&!tr.length&&!Le&&(tr=_y(R,Xt/2,V,ae,ce,we,Le,!0,vt)),tr}function ky(R,D,V,ae,ce){for(var we=[],Le=0;Le<R.length;Le++)for(var Je=R[Le],vt=void 0,St=0;St<Je.length-1;St++){var Rt=Je[St],Xt=Je[St+1];Rt.x<D&&Xt.x<D||(Rt.x<D?Rt=new r(D,Rt.y+(Xt.y-Rt.y)*((D-Rt.x)/(Xt.x-Rt.x)))._round():Xt.x<D&&(Xt=new r(D,Rt.y+(Xt.y-Rt.y)*((D-Rt.x)/(Xt.x-Rt.x)))._round()),!(Rt.y<V&&Xt.y<V)&&(Rt.y<V?Rt=new r(Rt.x+(Xt.x-Rt.x)*((V-Rt.y)/(Xt.y-Rt.y)),V)._round():Xt.y<V&&(Xt=new r(Rt.x+(Xt.x-Rt.x)*((V-Rt.y)/(Xt.y-Rt.y)),V)._round()),!(Rt.x>=ae&&Xt.x>=ae)&&(Rt.x>=ae?Rt=new r(ae,Rt.y+(Xt.y-Rt.y)*((ae-Rt.x)/(Xt.x-Rt.x)))._round():Xt.x>=ae&&(Xt=new r(ae,Rt.y+(Xt.y-Rt.y)*((ae-Rt.x)/(Xt.x-Rt.x)))._round()),!(Rt.y>=ce&&Xt.y>=ce)&&(Rt.y>=ce?Rt=new r(Rt.x+(Xt.x-Rt.x)*((ce-Rt.y)/(Xt.y-Rt.y)),ce)._round():Xt.y>=ce&&(Xt=new r(Rt.x+(Xt.x-Rt.x)*((ce-Rt.y)/(Xt.y-Rt.y)),ce)._round()),(!vt||!Rt.equals(vt[vt.length-1]))&&(vt=[Rt],we.push(vt)),vt.push(Xt)))))}return we}var Vh=Ds;function Fy(R,D,V,ae){var ce=[],we=R.image,Le=we.pixelRatio,Je=we.paddedRect.w-2*Vh,vt=we.paddedRect.h-2*Vh,St=R.right-R.left,Rt=R.bottom-R.top,Xt=we.stretchX||[[0,Je]],ir=we.stretchY||[[0,vt]],tr=function(ui,ti){return ui+ti[1]-ti[0]},yr=Xt.reduce(tr,0),Fr=ir.reduce(tr,0),ln=Je-yr,en=vt-Fr,Sn=0,yn=yr,Mn=0,Fn=Fr,Wn=0,ra=ln,qn=0,wa=en;if(we.content&&ae){var da=we.content;Sn=_d(Xt,0,da[0]),Mn=_d(ir,0,da[1]),yn=_d(Xt,da[0],da[2]),Fn=_d(ir,da[1],da[3]),Wn=da[0]-Sn,qn=da[1]-Mn,ra=da[2]-da[0]-yn,wa=da[3]-da[1]-Fn}var ba=function(ui,ti,Si,Ci){var Vi=kd(ui.stretch-Sn,yn,St,R.left),Zi=Fd(ui.fixed-Wn,ra,ui.stretch,yr),Mo=kd(ti.stretch-Mn,Fn,Rt,R.top),co=Fd(ti.fixed-qn,wa,ti.stretch,Fr),Ho=kd(Si.stretch-Sn,yn,St,R.left),Go=Fd(Si.fixed-Wn,ra,Si.stretch,yr),So=kd(Ci.stretch-Mn,Fn,Rt,R.top),rs=Fd(Ci.fixed-qn,wa,Ci.stretch,Fr),ns=new r(Vi,Mo),mo=new r(Ho,Mo),as=new r(Ho,So),Qs=new r(Vi,So),Tf=new r(Zi/Le,co/Le),oc=new r(Go/Le,rs/Le),sc=D*Math.PI/180;if(sc){var lc=Math.sin(sc),Kh=Math.cos(sc),Vl=[Kh,-lc,lc,Kh];ns._matMult(Vl),mo._matMult(Vl),Qs._matMult(Vl),as._matMult(Vl)}var Vd=ui.stretch+ui.fixed,dp=Si.stretch+Si.fixed,Hd=ti.stretch+ti.fixed,pp=Ci.stretch+Ci.fixed,vl={x:we.paddedRect.x+Vh+Vd,y:we.paddedRect.y+Vh+Hd,w:dp-Vd,h:pp-Hd},Jh=ra/Le/St,Gd=wa/Le/Rt;return{tl:ns,tr:mo,bl:Qs,br:as,tex:vl,writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:Tf,pixelOffsetBR:oc,minFontScaleX:Jh,minFontScaleY:Gd,isSDF:V}};if(!ae||!we.stretchX&&!we.stretchY)ce.push(ba({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:Je+1},{fixed:0,stretch:vt+1}));else for(var Ba=zy(Xt,ln,yr),Ta=zy(ir,en,Fr),Ea=0;Ea<Ba.length-1;Ea++)for(var Ga=Ba[Ea],za=Ba[Ea+1],si=0;si<Ta.length-1;si++){var xi=Ta[si],li=Ta[si+1];ce.push(ba(Ga,xi,za,li))}return ce}function _d(R,D,V){for(var ae=0,ce=0,we=R;ce<we.length;ce+=1){var Le=we[ce];ae+=Math.max(D,Math.min(V,Le[1]))-Math.max(D,Math.min(V,Le[0]))}return ae}function zy(R,D,V){for(var ae=[{fixed:-Vh,stretch:0}],ce=0,we=R;ce<we.length;ce+=1){var Le=we[ce],Je=Le[0],vt=Le[1],St=ae[ae.length-1];ae.push({fixed:Je-St.stretch,stretch:St.stretch}),ae.push({fixed:Je-St.stretch,stretch:St.stretch+(vt-Je)})}return ae.push({fixed:D+Vh,stretch:V}),ae}function kd(R,D,V,ae){return R/D*V+ae}function Fd(R,D,V,ae){return R-D*V/ae}function uw(R,D,V,ae,ce,we,Le,Je){for(var vt=ae.layout.get("text-rotate").evaluate(we,{})*Math.PI/180,St=[],Rt=0,Xt=D.positionedLines;Rt<Xt.length;Rt+=1)for(var ir=Xt[Rt],tr=0,yr=ir.positionedGlyphs;tr<yr.length;tr+=1){var Fr=yr[tr];if(!!Fr.rect){var ln=Fr.rect||{},en=1,Sn=my+en,yn=!0,Mn=1,Fn=0,Wn=(ce||Je)&&Fr.vertical,ra=Fr.metrics.advance*Fr.scale/2;if(Je&&D.verticalizable){var qn=(Fr.scale-1)*Io,wa=(Io-Fr.metrics.width*Fr.scale)/2;Fn=ir.lineOffset/2-(Fr.imageName?-wa:qn)}if(Fr.imageName){var da=Le[Fr.imageName];yn=da.sdf,Mn=da.pixelRatio,Sn=Ds/Mn}var ba=ce?[Fr.x+ra,Fr.y]:[0,0],Ba=ce?[0,0]:[Fr.x+ra+V[0],Fr.y+V[1]-Fn],Ta=[0,0];Wn&&(Ta=Ba,Ba=[0,0]);var Ea=(Fr.metrics.left-Sn)*Fr.scale-ra+Ba[0],Ga=(-Fr.metrics.top-Sn)*Fr.scale+Ba[1],za=Ea+ln.w*Fr.scale/Mn,si=Ga+ln.h*Fr.scale/Mn,xi=new r(Ea,Ga),li=new r(za,Ga),ui=new r(Ea,si),ti=new r(za,si);if(Wn){var Si=new r(-ra,ra-zv),Ci=-Math.PI/2,Vi=Io/2-ra,Zi=Fr.imageName?Vi:0,Mo=new r(5-zv-Vi,-Zi),co=new(Function.prototype.bind.apply(r,[null].concat(Ta)));xi._rotateAround(Ci,Si)._add(Mo)._add(co),li._rotateAround(Ci,Si)._add(Mo)._add(co),ui._rotateAround(Ci,Si)._add(Mo)._add(co),ti._rotateAround(Ci,Si)._add(Mo)._add(co)}if(vt){var Ho=Math.sin(vt),Go=Math.cos(vt),So=[Go,-Ho,Ho,Go];xi._matMult(So),li._matMult(So),ui._matMult(So),ti._matMult(So)}var rs=new r(0,0),ns=new r(0,0),mo=0,as=0;St.push({tl:xi,tr:li,bl:ui,br:ti,tex:ln,writingMode:D.writingMode,glyphOffset:ba,sectionIndex:Fr.sectionIndex,isSDF:yn,pixelOffsetTL:rs,pixelOffsetBR:ns,minFontScaleX:mo,minFontScaleY:as})}}return St}var zd=function(D,V,ae,ce,we,Le,Je,vt,St,Rt){if(this.boxStartIndex=D.length,St){var Xt=Le.top,ir=Le.bottom,tr=Le.collisionPadding;tr&&(Xt-=tr[1],ir+=tr[3]);var yr=ir-Xt;yr>0&&(yr=Math.max(10,yr),this.circleDiameter=yr)}else{var Fr=Le.top*Je-vt,ln=Le.bottom*Je+vt,en=Le.left*Je-vt,Sn=Le.right*Je+vt,yn=Le.collisionPadding;if(yn&&(en-=yn[0]*Je,Fr-=yn[1]*Je,Sn+=yn[2]*Je,ln+=yn[3]*Je),Rt){var Mn=new r(en,Fr),Fn=new r(Sn,Fr),Wn=new r(en,ln),ra=new r(Sn,ln),qn=Rt*Math.PI/180;Mn._rotate(qn),Fn._rotate(qn),Wn._rotate(qn),ra._rotate(qn),en=Math.min(Mn.x,Fn.x,Wn.x,ra.x),Sn=Math.max(Mn.x,Fn.x,Wn.x,ra.x),Fr=Math.min(Mn.y,Fn.y,Wn.y,ra.y),ln=Math.max(Mn.y,Fn.y,Wn.y,ra.y)}D.emplaceBack(V.x,V.y,en,Fr,Sn,ln,ae,ce,we)}this.boxEndIndex=D.length},Hh=function(D,V){if(D===void 0&&(D=[]),V===void 0&&(V=fw),this.data=D,this.length=this.data.length,this.compare=V,this.length>0)for(var ae=(this.length>>1)-1;ae>=0;ae--)this._down(ae)};Hh.prototype.push=function(D){this.data.push(D),this.length++,this._up(this.length-1)},Hh.prototype.pop=function(){if(this.length!==0){var D=this.data[0],V=this.data.pop();return this.length--,this.length>0&&(this.data[0]=V,this._down(0)),D}},Hh.prototype.peek=function(){return this.data[0]},Hh.prototype._up=function(D){for(var V=this,ae=V.data,ce=V.compare,we=ae[D];D>0;){var Le=D-1>>1,Je=ae[Le];if(ce(we,Je)>=0)break;ae[D]=Je,D=Le}ae[D]=we},Hh.prototype._down=function(D){for(var V=this,ae=V.data,ce=V.compare,we=this.length>>1,Le=ae[D];D<we;){var Je=(D<<1)+1,vt=ae[Je],St=Je+1;if(St<this.length&&ce(ae[St],vt)<0&&(Je=St,vt=ae[St]),ce(vt,Le)>=0)break;ae[D]=vt,D=Je}ae[D]=Le};function fw(R,D){return R<D?-1:R>D?1:0}function cw(R,D,V){D===void 0&&(D=1),V===void 0&&(V=!1);for(var ae=1/0,ce=1/0,we=-1/0,Le=-1/0,Je=R[0],vt=0;vt<Je.length;vt++){var St=Je[vt];(!vt||St.x<ae)&&(ae=St.x),(!vt||St.y<ce)&&(ce=St.y),(!vt||St.x>we)&&(we=St.x),(!vt||St.y>Le)&&(Le=St.y)}var Rt=we-ae,Xt=Le-ce,ir=Math.min(Rt,Xt),tr=ir/2,yr=new Hh([],hw);if(ir===0)return new r(ae,ce);for(var Fr=ae;Fr<we;Fr+=ir)for(var ln=ce;ln<Le;ln+=ir)yr.push(new Gh(Fr+tr,ln+tr,tr,R));for(var en=dw(R),Sn=yr.length;yr.length;){var yn=yr.pop();(yn.d>en.d||!en.d)&&(en=yn,V&&console.log("found best %d after %d probes",Math.round(1e4*yn.d)/1e4,Sn)),!(yn.max-en.d<=D)&&(tr=yn.h/2,yr.push(new Gh(yn.p.x-tr,yn.p.y-tr,tr,R)),yr.push(new Gh(yn.p.x+tr,yn.p.y-tr,tr,R)),yr.push(new Gh(yn.p.x-tr,yn.p.y+tr,tr,R)),yr.push(new Gh(yn.p.x+tr,yn.p.y+tr,tr,R)),Sn+=4)}return V&&(console.log("num probes: "+Sn),console.log("best distance: "+en.d)),en.p}function hw(R,D){return D.max-R.max}function Gh(R,D,V,ae){this.p=new r(R,D),this.h=V,this.d=vw(this.p,ae),this.max=this.d+this.h*Math.SQRT2}function vw(R,D){for(var V=!1,ae=1/0,ce=0;ce<D.length;ce++)for(var we=D[ce],Le=0,Je=we.length,vt=Je-1;Le<Je;vt=Le++){var St=we[Le],Rt=we[vt];St.y>R.y!=Rt.y>R.y&&R.x<(Rt.x-St.x)*(R.y-St.y)/(Rt.y-St.y)+St.x&&(V=!V),ae=Math.min(ae,mf(R,St,Rt))}return(V?1:-1)*Math.sqrt(ae)}function dw(R){for(var D=0,V=0,ae=0,ce=R[0],we=0,Le=ce.length,Je=Le-1;we<Le;Je=we++){var vt=ce[we],St=ce[Je],Rt=vt.x*St.y-St.x*vt.y;V+=(vt.x+St.x)*Rt,ae+=(vt.y+St.y)*Rt,D+=Rt*3}return new Gh(V/D,ae/D,0,R)}var Wh=7,sp=Number.POSITIVE_INFINITY;function Oy(R,D){function V(ce,we){var Le=0,Je=0;we<0&&(we=0);var vt=we/Math.sqrt(2);switch(ce){case"top-right":case"top-left":Je=vt-Wh;break;case"bottom-right":case"bottom-left":Je=-vt+Wh;break;case"bottom":Je=-we+Wh;break;case"top":Je=we-Wh;break}switch(ce){case"top-right":case"bottom-right":Le=-vt;break;case"top-left":case"bottom-left":Le=vt;break;case"left":Le=we;break;case"right":Le=-we;break}return[Le,Je]}function ae(ce,we,Le){var Je=0,vt=0;switch(we=Math.abs(we),Le=Math.abs(Le),ce){case"top-right":case"top-left":case"top":vt=Le-Wh;break;case"bottom-right":case"bottom-left":case"bottom":vt=-Le+Wh;break}switch(ce){case"top-right":case"bottom-right":case"right":Je=-we;break;case"top-left":case"bottom-left":case"left":Je=we;break}return[Je,vt]}return D[1]!==sp?ae(R,D[0],D[1]):V(R,D[0])}function pw(R,D,V,ae,ce,we,Le){R.createArrays();var Je=512*R.overscaling;R.tilePixelRatio=Ma/Je,R.compareText={},R.iconsNeedLinear=!1;var vt=R.layers[0].layout,St=R.layers[0]._unevaluatedLayout._values,Rt={};if(R.textSizeData.kind==="composite"){var Xt=R.textSizeData,ir=Xt.minZoom,tr=Xt.maxZoom;Rt.compositeTextSizes=[St["text-size"].possiblyEvaluate(new Aa(ir),Le),St["text-size"].possiblyEvaluate(new Aa(tr),Le)]}if(R.iconSizeData.kind==="composite"){var yr=R.iconSizeData,Fr=yr.minZoom,ln=yr.maxZoom;Rt.compositeIconSizes=[St["icon-size"].possiblyEvaluate(new Aa(Fr),Le),St["icon-size"].possiblyEvaluate(new Aa(ln),Le)]}Rt.layoutTextSize=St["text-size"].possiblyEvaluate(new Aa(R.zoom+1),Le),Rt.layoutIconSize=St["icon-size"].possiblyEvaluate(new Aa(R.zoom+1),Le),Rt.textMaxSize=St["text-size"].possiblyEvaluate(new Aa(18));for(var en=vt.get("text-line-height")*Io,Sn=vt.get("text-rotation-alignment")==="map"&&vt.get("symbol-placement")!=="point",yn=vt.get("text-keep-upright"),Mn=vt.get("text-size"),Fn=function(){var qn=ra[Wn],wa=vt.get("text-font").evaluate(qn,{},Le).join(","),da=Mn.evaluate(qn,{},Le),ba=Rt.layoutTextSize.evaluate(qn,{},Le),Ba=Rt.layoutIconSize.evaluate(qn,{},Le),Ta={horizontal:{},vertical:void 0},Ea=qn.text,Ga=[0,0];if(Ea){var za=Ea.toString(),si=vt.get("text-letter-spacing").evaluate(qn,{},Le)*Io,xi=Cr(za)?si:0,li=vt.get("text-anchor").evaluate(qn,{},Le),ui=vt.get("text-variable-anchor");if(!ui){var ti=vt.get("text-radial-offset").evaluate(qn,{},Le);ti?Ga=Oy(li,[ti*Io,sp]):Ga=vt.get("text-offset").evaluate(qn,{},Le).map(function(Tf){return Tf*Io})}var Si=Sn?"center":vt.get("text-justify").evaluate(qn,{},Le),Ci=vt.get("symbol-placement"),Vi=Ci==="point"?vt.get("text-max-width").evaluate(qn,{},Le)*Io:0,Zi=function(){R.allowVerticalPlacement&&nr(za)&&(Ta.vertical=Id(Ea,D,V,ce,wa,Vi,en,li,"left",xi,Ga,Js.vertical,!0,Ci,ba,da))};if(!Sn&&ui){for(var Mo=Si==="auto"?ui.map(function(Tf){return lp(Tf)}):[Si],co=!1,Ho=0;Ho<Mo.length;Ho++){var Go=Mo[Ho];if(!Ta.horizontal[Go])if(co)Ta.horizontal[Go]=Ta.horizontal[0];else{var So=Id(Ea,D,V,ce,wa,Vi,en,"center",Go,xi,Ga,Js.horizontal,!1,Ci,ba,da);So&&(Ta.horizontal[Go]=So,co=So.positionedLines.length===1)}}Zi()}else{Si==="auto"&&(Si=lp(li));var rs=Id(Ea,D,V,ce,wa,Vi,en,li,Si,xi,Ga,Js.horizontal,!1,Ci,ba,da);rs&&(Ta.horizontal[Si]=rs),Zi(),nr(za)&&Sn&&yn&&(Ta.vertical=Id(Ea,D,V,ce,wa,Vi,en,li,Si,xi,Ga,Js.vertical,!1,Ci,ba,da))}}var ns=void 0,mo=!1;if(qn.icon&&qn.icon.name){var as=ae[qn.icon.name];as&&(ns=iw(ce[qn.icon.name],vt.get("icon-offset").evaluate(qn,{},Le),vt.get("icon-anchor").evaluate(qn,{},Le)),mo=as.sdf,R.sdfIcons===void 0?R.sdfIcons=as.sdf:R.sdfIcons!==as.sdf&&O("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(as.pixelRatio!==R.pixelRatio||vt.get("icon-rotate").constantOr(1)!==0)&&(R.iconsNeedLinear=!0))}var Qs=Ny(Ta.horizontal)||Ta.vertical;R.iconsInText=Qs?Qs.iconsInText:!1,(Qs||ns)&&gw(R,qn,Ta,ns,ae,Rt,ba,Ba,Ga,mo,Le)},Wn=0,ra=R.features;Wn<ra.length;Wn+=1)Fn();we&&R.generateCollisionDebugBuffers()}function lp(R){switch(R){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function gw(R,D,V,ae,ce,we,Le,Je,vt,St,Rt){var Xt=we.textMaxSize.evaluate(D,{});Xt===void 0&&(Xt=Le);var ir=R.layers[0].layout,tr=ir.get("icon-offset").evaluate(D,{},Rt),yr=Ny(V.horizontal),Fr=24,ln=Le/Fr,en=R.tilePixelRatio*ln,Sn=R.tilePixelRatio*Xt/Fr,yn=R.tilePixelRatio*Je,Mn=R.tilePixelRatio*ir.get("symbol-spacing"),Fn=ir.get("text-padding")*R.tilePixelRatio,Wn=ir.get("icon-padding")*R.tilePixelRatio,ra=ir.get("text-max-angle")/180*Math.PI,qn=ir.get("text-rotation-alignment")==="map"&&ir.get("symbol-placement")!=="point",wa=ir.get("icon-rotation-alignment")==="map"&&ir.get("symbol-placement")!=="point",da=ir.get("symbol-placement"),ba=Mn/2,Ba=ir.get("icon-text-fit"),Ta;ae&&Ba!=="none"&&(R.allowVerticalPlacement&&V.vertical&&(Ta=Ey(ae,V.vertical,Ba,ir.get("icon-text-fit-padding"),tr,ln)),yr&&(ae=Ey(ae,yr,Ba,ir.get("icon-text-fit-padding"),tr,ln)));var Ea=function(Kh,Vl){Vl.x<0||Vl.x>=Ma||Vl.y<0||Vl.y>=Ma||yw(R,Vl,Kh,V,ae,ce,Ta,R.layers[0],R.collisionBoxArray,D.index,D.sourceLayerIndex,R.index,en,Fn,qn,vt,yn,Wn,wa,tr,D,we,St,Rt,Le)};if(da==="line")for(var Ga=0,za=ky(D.geometry,0,0,Ma,Ma);Ga<za.length;Ga+=1)for(var si=za[Ga],xi=lw(si,Mn,ra,V.vertical||yr,ae,Fr,Sn,R.overscaling,Ma),li=0,ui=xi;li<ui.length;li+=1){var ti=ui[li],Si=yr;(!Si||!mw(R,Si.text,ba,ti))&&Ea(si,ti)}else if(da==="line-center")for(var Ci=0,Vi=D.geometry;Ci<Vi.length;Ci+=1){var Zi=Vi[Ci];if(Zi.length>1){var Mo=sw(Zi,ra,V.vertical||yr,ae,Fr,Sn);Mo&&Ea(Zi,Mo)}}else if(D.type==="Polygon")for(var co=0,Ho=$0(D.geometry,0);co<Ho.length;co+=1){var Go=Ho[co],So=cw(Go,16);Ea(Go[0],new Uh(So.x,So.y,0))}else if(D.type==="LineString")for(var rs=0,ns=D.geometry;rs<ns.length;rs+=1){var mo=ns[rs];Ea(mo,new Uh(mo[0].x,mo[0].y,0))}else if(D.type==="Point")for(var as=0,Qs=D.geometry;as<Qs.length;as+=1)for(var Tf=Qs[as],oc=0,sc=Tf;oc<sc.length;oc+=1){var lc=sc[oc];Ea([lc],new Uh(lc.x,lc.y,0))}}var Ov=255,ac=Ov*yu;function By(R,D,V,ae,ce,we,Le,Je,vt,St,Rt,Xt,ir,tr,yr){var Fr=uw(D,V,Je,ce,we,Le,ae,R.allowVerticalPlacement),ln=R.textSizeData,en=null;ln.kind==="source"?(en=[yu*ce.layout.get("text-size").evaluate(Le,{})],en[0]>ac&&O(R.layerIds[0]+': Value for "text-size" is >= '+Ov+'. Reduce your "text-size".')):ln.kind==="composite"&&(en=[yu*tr.compositeTextSizes[0].evaluate(Le,{},yr),yu*tr.compositeTextSizes[1].evaluate(Le,{},yr)],(en[0]>ac||en[1]>ac)&&O(R.layerIds[0]+': Value for "text-size" is >= '+Ov+'. Reduce your "text-size".')),R.addSymbols(R.text,Fr,en,Je,we,Le,St,D,vt.lineStartIndex,vt.lineLength,ir,yr);for(var Sn=0,yn=Rt;Sn<yn.length;Sn+=1){var Mn=yn[Sn];Xt[Mn]=R.text.placedSymbolArray.length-1}return Fr.length*4}function Ny(R){for(var D in R)return R[D];return null}function yw(R,D,V,ae,ce,we,Le,Je,vt,St,Rt,Xt,ir,tr,yr,Fr,ln,en,Sn,yn,Mn,Fn,Wn,ra,qn){var wa,da=R.addToLineVertexArray(D,V),ba,Ba,Ta,Ea,Ga=0,za=0,si=0,xi=0,li=-1,ui=-1,ti={},Si=de(""),Ci=0,Vi=0;if(Je._unevaluatedLayout.getValue("text-radial-offset")===void 0?(wa=Je.layout.get("text-offset").evaluate(Mn,{},ra).map(function(Uv){return Uv*Io}),Ci=wa[0],Vi=wa[1]):(Ci=Je.layout.get("text-radial-offset").evaluate(Mn,{},ra)*Io,Vi=sp),R.allowVerticalPlacement&&ae.vertical){var Zi=Je.layout.get("text-rotate").evaluate(Mn,{},ra),Mo=Zi+90,co=ae.vertical;Ta=new zd(vt,D,St,Rt,Xt,co,ir,tr,yr,Mo),Le&&(Ea=new zd(vt,D,St,Rt,Xt,Le,ln,en,yr,Mo))}if(ce){var Ho=Je.layout.get("icon-rotate").evaluate(Mn,{}),Go=Je.layout.get("icon-text-fit")!=="none",So=Fy(ce,Ho,Wn,Go),rs=Le?Fy(Le,Ho,Wn,Go):void 0;Ba=new zd(vt,D,St,Rt,Xt,ce,ln,en,!1,Ho),Ga=So.length*4;var ns=R.iconSizeData,mo=null;ns.kind==="source"?(mo=[yu*Je.layout.get("icon-size").evaluate(Mn,{})],mo[0]>ac&&O(R.layerIds[0]+': Value for "icon-size" is >= '+Ov+'. Reduce your "icon-size".')):ns.kind==="composite"&&(mo=[yu*Fn.compositeIconSizes[0].evaluate(Mn,{},ra),yu*Fn.compositeIconSizes[1].evaluate(Mn,{},ra)],(mo[0]>ac||mo[1]>ac)&&O(R.layerIds[0]+': Value for "icon-size" is >= '+Ov+'. Reduce your "icon-size".')),R.addSymbols(R.icon,So,mo,yn,Sn,Mn,!1,D,da.lineStartIndex,da.lineLength,-1,ra),li=R.icon.placedSymbolArray.length-1,rs&&(za=rs.length*4,R.addSymbols(R.icon,rs,mo,yn,Sn,Mn,Js.vertical,D,da.lineStartIndex,da.lineLength,-1,ra),ui=R.icon.placedSymbolArray.length-1)}for(var as in ae.horizontal){var Qs=ae.horizontal[as];if(!ba){Si=de(Qs.text);var Tf=Je.layout.get("text-rotate").evaluate(Mn,{},ra);ba=new zd(vt,D,St,Rt,Xt,Qs,ir,tr,yr,Tf)}var oc=Qs.positionedLines.length===1;if(si+=By(R,D,Qs,we,Je,yr,Mn,Fr,da,ae.vertical?Js.horizontal:Js.horizontalOnly,oc?Object.keys(ae.horizontal):[as],ti,li,Fn,ra),oc)break}ae.vertical&&(xi+=By(R,D,ae.vertical,we,Je,yr,Mn,Fr,da,Js.vertical,["vertical"],ti,ui,Fn,ra));var sc=ba?ba.boxStartIndex:R.collisionBoxArray.length,lc=ba?ba.boxEndIndex:R.collisionBoxArray.length,Kh=Ta?Ta.boxStartIndex:R.collisionBoxArray.length,Vl=Ta?Ta.boxEndIndex:R.collisionBoxArray.length,Vd=Ba?Ba.boxStartIndex:R.collisionBoxArray.length,dp=Ba?Ba.boxEndIndex:R.collisionBoxArray.length,Hd=Ea?Ea.boxStartIndex:R.collisionBoxArray.length,pp=Ea?Ea.boxEndIndex:R.collisionBoxArray.length,vl=-1,Jh=function(Uv,tm){return Uv&&Uv.circleDiameter?Math.max(Uv.circleDiameter,tm):tm};vl=Jh(ba,vl),vl=Jh(Ta,vl),vl=Jh(Ba,vl),vl=Jh(Ea,vl);var Gd=vl>-1?1:0;Gd&&(vl*=qn/Io),R.glyphOffsetArray.length>=mi.MAX_GLYPHS&&O("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),Mn.sortKey!==void 0&&R.addToSortKeyRanges(R.symbolInstances.length,Mn.sortKey),R.symbolInstances.emplaceBack(D.x,D.y,ti.right>=0?ti.right:-1,ti.center>=0?ti.center:-1,ti.left>=0?ti.left:-1,ti.vertical||-1,li,ui,Si,sc,lc,Kh,Vl,Vd,dp,Hd,pp,St,si,xi,Ga,za,Gd,0,ir,Ci,Vi,vl)}function mw(R,D,V,ae){var ce=R.compareText;if(!(D in ce))ce[D]=[];else for(var we=ce[D],Le=we.length-1;Le>=0;Le--)if(ae.dist(we[Le])<V)return!0;return ce[D].push(ae),!1}var xw=zh.VectorTileFeature.types,bw=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function Od(R,D,V,ae,ce,we,Le,Je,vt,St,Rt,Xt,ir){var tr=Je?Math.min(ac,Math.round(Je[0])):0,yr=Je?Math.min(ac,Math.round(Je[1])):0;R.emplaceBack(D,V,Math.round(ae*32),Math.round(ce*32),we,Le,(tr<<1)+(vt?1:0),yr,St*16,Rt*16,Xt*256,ir*256)}function up(R,D,V){R.emplaceBack(D.x,D.y,V),R.emplaceBack(D.x,D.y,V),R.emplaceBack(D.x,D.y,V),R.emplaceBack(D.x,D.y,V)}function ww(R){for(var D=0,V=R.sections;D<V.length;D+=1){var ae=V[D];if(qr(ae.text))return!0}return!1}var Yh=function(D){this.layoutVertexArray=new Hu,this.indexArray=new vu,this.programConfigurations=D,this.segments=new so,this.dynamicLayoutVertexArray=new bv,this.opacityVertexArray=new wv,this.placedSymbolArray=new Mv};Yh.prototype.isEmpty=function(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0},Yh.prototype.upload=function(D,V,ae,ce){this.isEmpty()||(ae&&(this.layoutVertexBuffer=D.createVertexBuffer(this.layoutVertexArray,w3.members),this.indexBuffer=D.createIndexBuffer(this.indexArray,V),this.dynamicLayoutVertexBuffer=D.createVertexBuffer(this.dynamicLayoutVertexArray,T3.members,!0),this.opacityVertexBuffer=D.createVertexBuffer(this.opacityVertexArray,bw,!0),this.opacityVertexBuffer.itemSize=1),(ae||ce)&&this.programConfigurations.upload(D))},Yh.prototype.destroy=function(){!this.layoutVertexBuffer||(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())},Oe("SymbolBuffers",Yh);var Bv=function(D,V,ae){this.layoutVertexArray=new D,this.layoutAttributes=V,this.indexArray=new ae,this.segments=new so,this.collisionVertexArray=new ds};Bv.prototype.upload=function(D){this.layoutVertexBuffer=D.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=D.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=D.createVertexBuffer(this.collisionVertexArray,A3.members,!0)},Bv.prototype.destroy=function(){!this.layoutVertexBuffer||(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())},Oe("CollisionBuffers",Bv);var mi=function(D){this.collisionBoxArray=D.collisionBoxArray,this.zoom=D.zoom,this.overscaling=D.overscaling,this.layers=D.layers,this.layerIds=this.layers.map(function(vt){return vt.id}),this.index=D.index,this.pixelRatio=D.pixelRatio,this.sourceLayerIndex=D.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=Dh([]),this.placementViewportMatrix=Dh([]);var V=this.layers[0],ae=V._unevaluatedLayout._values;this.textSizeData=op(this.zoom,ae["text-size"]),this.iconSizeData=op(this.zoom,ae["icon-size"]);var ce=this.layers[0].layout,we=ce.get("symbol-sort-key"),Le=ce.get("symbol-z-order");this.canOverlap=ce.get("text-allow-overlap")||ce.get("icon-allow-overlap")||ce.get("text-ignore-placement")||ce.get("icon-ignore-placement"),this.sortFeaturesByKey=Le!=="viewport-y"&&we.constantOr(1)!==void 0;var Je=Le==="viewport-y"||Le==="auto"&&!this.sortFeaturesByKey;this.sortFeaturesByY=Je&&this.canOverlap,ce.get("symbol-placement")==="point"&&(this.writingModes=ce.get("text-writing-mode").map(function(vt){return Js[vt]})),this.stateDependentLayerIds=this.layers.filter(function(vt){return vt.isStateDependent()}).map(function(vt){return vt.id}),this.sourceID=D.sourceID};mi.prototype.createArrays=function(){this.text=new Yh(new va(this.layers,this.zoom,function(D){return/^text/.test(D)})),this.icon=new Yh(new va(this.layers,this.zoom,function(D){return/^icon/.test(D)})),this.glyphOffsetArray=new xd,this.lineVertexArray=new ul,this.symbolInstances=new md},mi.prototype.calculateGlyphDependencies=function(D,V,ae,ce,we){for(var Le=0;Le<D.length;Le++)if(V[D.charCodeAt(Le)]=!0,(ae||ce)&&we){var Je=_v[D.charAt(Le)];Je&&(V[Je.charCodeAt(0)]=!0)}},mi.prototype.populate=function(D,V,ae){var ce=this.layers[0],we=ce.layout,Le=we.get("text-font"),Je=we.get("text-field"),vt=we.get("icon-image"),St=(Je.value.kind!=="constant"||Je.value.value instanceof Qi&&!Je.value.value.isEmpty()||Je.value.value.toString().length>0)&&(Le.value.kind!=="constant"||Le.value.value.length>0),Rt=vt.value.kind!=="constant"||!!vt.value.value||Object.keys(vt.parameters).length>0,Xt=we.get("symbol-sort-key");if(this.features=[],!(!St&&!Rt)){for(var ir=V.iconDependencies,tr=V.glyphDependencies,yr=V.availableImages,Fr=new Aa(this.zoom),ln=0,en=D;ln<en.length;ln+=1){var Sn=en[ln],yn=Sn.feature,Mn=Sn.id,Fn=Sn.index,Wn=Sn.sourceLayerIndex,ra=ce._featureFilter.needGeometry,qn=Mi(yn,ra);if(!!ce._featureFilter.filter(Fr,qn,ae)){ra||(qn.geometry=ei(yn));var wa=void 0;if(St){var da=ce.getValueAndResolveTokens("text-field",qn,ae,yr),ba=Qi.factory(da);ww(ba)&&(this.hasRTLText=!0),(!this.hasRTLText||_a()==="unavailable"||this.hasRTLText&&Kn.isParsed())&&(wa=E3(ba,ce,qn))}var Ba=void 0;if(Rt){var Ta=ce.getValueAndResolveTokens("icon-image",qn,ae,yr);Ta instanceof bo?Ba=Ta:Ba=bo.fromString(Ta)}if(!(!wa&&!Ba)){var Ea=this.sortFeaturesByKey?Xt.evaluate(qn,{},ae):void 0,Ga={id:Mn,text:wa,icon:Ba,index:Fn,sourceLayerIndex:Wn,geometry:qn.geometry,properties:yn.properties,type:xw[yn.type],sortKey:Ea};if(this.features.push(Ga),Ba&&(ir[Ba.name]=!0),wa){var za=Le.evaluate(qn,{},ae).join(","),si=we.get("text-rotation-alignment")==="map"&&we.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(Js.vertical)>=0;for(var xi=0,li=wa.sections;xi<li.length;xi+=1){var ui=li[xi];if(ui.image)ir[ui.image.name]=!0;else{var ti=nr(wa.toString()),Si=ui.fontStack||za,Ci=tr[Si]=tr[Si]||{};this.calculateGlyphDependencies(ui.text,Ci,si,this.allowVerticalPlacement,ti)}}}}}}we.get("symbol-placement")==="line"&&(this.features=C3(this.features)),this.sortFeaturesByKey&&this.features.sort(function(Vi,Zi){return Vi.sortKey-Zi.sortKey})}},mi.prototype.update=function(D,V,ae){!this.stateDependentLayers.length||(this.text.programConfigurations.updatePaintArrays(D,V,this.layers,ae),this.icon.programConfigurations.updatePaintArrays(D,V,this.layers,ae))},mi.prototype.isEmpty=function(){return this.symbolInstances.length===0&&!this.hasRTLText},mi.prototype.uploadPending=function(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload},mi.prototype.upload=function(D){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(D),this.iconCollisionBox.upload(D)),this.text.upload(D,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(D,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0},mi.prototype.destroyDebugData=function(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()},mi.prototype.destroy=function(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()},mi.prototype.addToLineVertexArray=function(D,V){var ae=this.lineVertexArray.length;if(D.segment!==void 0){for(var ce=D.dist(V[D.segment+1]),we=D.dist(V[D.segment]),Le={},Je=D.segment+1;Je<V.length;Je++)Le[Je]={x:V[Je].x,y:V[Je].y,tileUnitDistanceFromAnchor:ce},Je<V.length-1&&(ce+=V[Je+1].dist(V[Je]));for(var vt=D.segment||0;vt>=0;vt--)Le[vt]={x:V[vt].x,y:V[vt].y,tileUnitDistanceFromAnchor:we},vt>0&&(we+=V[vt-1].dist(V[vt]));for(var St=0;St<V.length;St++){var Rt=Le[St];this.lineVertexArray.emplaceBack(Rt.x,Rt.y,Rt.tileUnitDistanceFromAnchor)}}return{lineStartIndex:ae,lineLength:this.lineVertexArray.length-ae}},mi.prototype.addSymbols=function(D,V,ae,ce,we,Le,Je,vt,St,Rt,Xt,ir){for(var tr=D.indexArray,yr=D.layoutVertexArray,Fr=D.segments.prepareSegment(4*V.length,yr,tr,this.canOverlap?Le.sortKey:void 0),ln=this.glyphOffsetArray.length,en=Fr.vertexLength,Sn=this.allowVerticalPlacement&&Je===Js.vertical?Math.PI/2:0,yn=Le.text&&Le.text.sections,Mn=0;Mn<V.length;Mn++){var Fn=V[Mn],Wn=Fn.tl,ra=Fn.tr,qn=Fn.bl,wa=Fn.br,da=Fn.tex,ba=Fn.pixelOffsetTL,Ba=Fn.pixelOffsetBR,Ta=Fn.minFontScaleX,Ea=Fn.minFontScaleY,Ga=Fn.glyphOffset,za=Fn.isSDF,si=Fn.sectionIndex,xi=Fr.vertexLength,li=Ga[1];Od(yr,vt.x,vt.y,Wn.x,li+Wn.y,da.x,da.y,ae,za,ba.x,ba.y,Ta,Ea),Od(yr,vt.x,vt.y,ra.x,li+ra.y,da.x+da.w,da.y,ae,za,Ba.x,ba.y,Ta,Ea),Od(yr,vt.x,vt.y,qn.x,li+qn.y,da.x,da.y+da.h,ae,za,ba.x,Ba.y,Ta,Ea),Od(yr,vt.x,vt.y,wa.x,li+wa.y,da.x+da.w,da.y+da.h,ae,za,Ba.x,Ba.y,Ta,Ea),up(D.dynamicLayoutVertexArray,vt,Sn),tr.emplaceBack(xi,xi+1,xi+2),tr.emplaceBack(xi+1,xi+2,xi+3),Fr.vertexLength+=4,Fr.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(Ga[0]),(Mn===V.length-1||si!==V[Mn+1].sectionIndex)&&D.programConfigurations.populatePaintArrays(yr.length,Le,Le.index,{},ir,yn&&yn[si])}D.placedSymbolArray.emplaceBack(vt.x,vt.y,ln,this.glyphOffsetArray.length-ln,en,St,Rt,vt.segment,ae?ae[0]:0,ae?ae[1]:0,ce[0],ce[1],Je,0,!1,0,Xt)},mi.prototype._addCollisionDebugVertex=function(D,V,ae,ce,we,Le){return V.emplaceBack(0,0),D.emplaceBack(ae.x,ae.y,ce,we,Math.round(Le.x),Math.round(Le.y))},mi.prototype.addCollisionDebugVertices=function(D,V,ae,ce,we,Le,Je){var vt=we.segments.prepareSegment(4,we.layoutVertexArray,we.indexArray),St=vt.vertexLength,Rt=we.layoutVertexArray,Xt=we.collisionVertexArray,ir=Je.anchorX,tr=Je.anchorY;this._addCollisionDebugVertex(Rt,Xt,Le,ir,tr,new r(D,V)),this._addCollisionDebugVertex(Rt,Xt,Le,ir,tr,new r(ae,V)),this._addCollisionDebugVertex(Rt,Xt,Le,ir,tr,new r(ae,ce)),this._addCollisionDebugVertex(Rt,Xt,Le,ir,tr,new r(D,ce)),vt.vertexLength+=4;var yr=we.indexArray;yr.emplaceBack(St,St+1),yr.emplaceBack(St+1,St+2),yr.emplaceBack(St+2,St+3),yr.emplaceBack(St+3,St),vt.primitiveLength+=4},mi.prototype.addDebugCollisionBoxes=function(D,V,ae,ce){for(var we=D;we<V;we++){var Le=this.collisionBoxArray.get(we),Je=Le.x1,vt=Le.y1,St=Le.x2,Rt=Le.y2;this.addCollisionDebugVertices(Je,vt,St,Rt,ce?this.textCollisionBox:this.iconCollisionBox,Le.anchorPoint,ae)}},mi.prototype.generateCollisionDebugBuffers=function(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new Bv(Sh,vy.members,Zc),this.iconCollisionBox=new Bv(Sh,vy.members,Zc);for(var D=0;D<this.symbolInstances.length;D++){var V=this.symbolInstances.get(D);this.addDebugCollisionBoxes(V.textBoxStartIndex,V.textBoxEndIndex,V,!0),this.addDebugCollisionBoxes(V.verticalTextBoxStartIndex,V.verticalTextBoxEndIndex,V,!0),this.addDebugCollisionBoxes(V.iconBoxStartIndex,V.iconBoxEndIndex,V,!1),this.addDebugCollisionBoxes(V.verticalIconBoxStartIndex,V.verticalIconBoxEndIndex,V,!1)}},mi.prototype._deserializeCollisionBoxesForSymbol=function(D,V,ae,ce,we,Le,Je,vt,St){for(var Rt={},Xt=V;Xt<ae;Xt++){var ir=D.get(Xt);Rt.textBox={x1:ir.x1,y1:ir.y1,x2:ir.x2,y2:ir.y2,anchorPointX:ir.anchorPointX,anchorPointY:ir.anchorPointY},Rt.textFeatureIndex=ir.featureIndex;break}for(var tr=ce;tr<we;tr++){var yr=D.get(tr);Rt.verticalTextBox={x1:yr.x1,y1:yr.y1,x2:yr.x2,y2:yr.y2,anchorPointX:yr.anchorPointX,anchorPointY:yr.anchorPointY},Rt.verticalTextFeatureIndex=yr.featureIndex;break}for(var Fr=Le;Fr<Je;Fr++){var ln=D.get(Fr);Rt.iconBox={x1:ln.x1,y1:ln.y1,x2:ln.x2,y2:ln.y2,anchorPointX:ln.anchorPointX,anchorPointY:ln.anchorPointY},Rt.iconFeatureIndex=ln.featureIndex;break}for(var en=vt;en<St;en++){var Sn=D.get(en);Rt.verticalIconBox={x1:Sn.x1,y1:Sn.y1,x2:Sn.x2,y2:Sn.y2,anchorPointX:Sn.anchorPointX,anchorPointY:Sn.anchorPointY},Rt.verticalIconFeatureIndex=Sn.featureIndex;break}return Rt},mi.prototype.deserializeCollisionBoxes=function(D){this.collisionArrays=[];for(var V=0;V<this.symbolInstances.length;V++){var ae=this.symbolInstances.get(V);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(D,ae.textBoxStartIndex,ae.textBoxEndIndex,ae.verticalTextBoxStartIndex,ae.verticalTextBoxEndIndex,ae.iconBoxStartIndex,ae.iconBoxEndIndex,ae.verticalIconBoxStartIndex,ae.verticalIconBoxEndIndex))}},mi.prototype.hasTextData=function(){return this.text.segments.get().length>0},mi.prototype.hasIconData=function(){return this.icon.segments.get().length>0},mi.prototype.hasDebugData=function(){return this.textCollisionBox&&this.iconCollisionBox},mi.prototype.hasTextCollisionBoxData=function(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0},mi.prototype.hasIconCollisionBoxData=function(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0},mi.prototype.addIndicesForPlacedSymbol=function(D,V){for(var ae=D.placedSymbolArray.get(V),ce=ae.vertexStartIndex+ae.numGlyphs*4,we=ae.vertexStartIndex;we<ce;we+=4)D.indexArray.emplaceBack(we,we+1,we+2),D.indexArray.emplaceBack(we+1,we+2,we+3)},mi.prototype.getSortedSymbolIndexes=function(D){if(this.sortedAngle===D&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;for(var V=Math.sin(D),ae=Math.cos(D),ce=[],we=[],Le=[],Je=0;Je<this.symbolInstances.length;++Je){Le.push(Je);var vt=this.symbolInstances.get(Je);ce.push(Math.round(V*vt.anchorX+ae*vt.anchorY)|0),we.push(vt.featureIndex)}return Le.sort(function(St,Rt){return ce[St]-ce[Rt]||we[Rt]-we[St]}),Le},mi.prototype.addToSortKeyRanges=function(D,V){var ae=this.sortKeyRanges[this.sortKeyRanges.length-1];ae&&ae.sortKey===V?ae.symbolInstanceEnd=D+1:this.sortKeyRanges.push({sortKey:V,symbolInstanceStart:D,symbolInstanceEnd:D+1})},mi.prototype.sortFeatures=function(D){var V=this;if(!!this.sortFeaturesByY&&this.sortedAngle!==D&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(D),this.sortedAngle=D,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(var ae=0,ce=this.symbolInstanceIndexes;ae<ce.length;ae+=1){var we=ce[ae],Le=this.symbolInstances.get(we);this.featureSortOrder.push(Le.featureIndex),[Le.rightJustifiedTextSymbolIndex,Le.centerJustifiedTextSymbolIndex,Le.leftJustifiedTextSymbolIndex].forEach(function(Je,vt,St){Je>=0&&St.indexOf(Je)===vt&&V.addIndicesForPlacedSymbol(V.text,Je)}),Le.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,Le.verticalPlacedTextSymbolIndex),Le.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,Le.placedIconSymbolIndex),Le.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,Le.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}},Oe("SymbolBucket",mi,{omit:["layers","collisionBoxArray","features","compareText"]}),mi.MAX_GLYPHS=65535,mi.addDynamicAttributes=up;function Tw(R,D){return D.replace(/{([^{}]+)}/g,function(V,ae){return ae in R?String(R[ae]):""})}var Aw=new ci({"symbol-placement":new sa(Ar.layout_symbol["symbol-placement"]),"symbol-spacing":new sa(Ar.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new sa(Ar.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new Ca(Ar.layout_symbol["symbol-sort-key"]),"symbol-z-order":new sa(Ar.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new sa(Ar.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new sa(Ar.layout_symbol["icon-ignore-placement"]),"icon-optional":new sa(Ar.layout_symbol["icon-optional"]),"icon-rotation-alignment":new sa(Ar.layout_symbol["icon-rotation-alignment"]),"icon-size":new Ca(Ar.layout_symbol["icon-size"]),"icon-text-fit":new sa(Ar.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new sa(Ar.layout_symbol["icon-text-fit-padding"]),"icon-image":new Ca(Ar.layout_symbol["icon-image"]),"icon-rotate":new Ca(Ar.layout_symbol["icon-rotate"]),"icon-padding":new sa(Ar.layout_symbol["icon-padding"]),"icon-keep-upright":new sa(Ar.layout_symbol["icon-keep-upright"]),"icon-offset":new Ca(Ar.layout_symbol["icon-offset"]),"icon-anchor":new Ca(Ar.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new sa(Ar.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new sa(Ar.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new sa(Ar.layout_symbol["text-rotation-alignment"]),"text-field":new Ca(Ar.layout_symbol["text-field"]),"text-font":new Ca(Ar.layout_symbol["text-font"]),"text-size":new Ca(Ar.layout_symbol["text-size"]),"text-max-width":new Ca(Ar.layout_symbol["text-max-width"]),"text-line-height":new sa(Ar.layout_symbol["text-line-height"]),"text-letter-spacing":new Ca(Ar.layout_symbol["text-letter-spacing"]),"text-justify":new Ca(Ar.layout_symbol["text-justify"]),"text-radial-offset":new Ca(Ar.layout_symbol["text-radial-offset"]),"text-variable-anchor":new sa(Ar.layout_symbol["text-variable-anchor"]),"text-anchor":new Ca(Ar.layout_symbol["text-anchor"]),"text-max-angle":new sa(Ar.layout_symbol["text-max-angle"]),"text-writing-mode":new sa(Ar.layout_symbol["text-writing-mode"]),"text-rotate":new Ca(Ar.layout_symbol["text-rotate"]),"text-padding":new sa(Ar.layout_symbol["text-padding"]),"text-keep-upright":new sa(Ar.layout_symbol["text-keep-upright"]),"text-transform":new Ca(Ar.layout_symbol["text-transform"]),"text-offset":new Ca(Ar.layout_symbol["text-offset"]),"text-allow-overlap":new sa(Ar.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new sa(Ar.layout_symbol["text-ignore-placement"]),"text-optional":new sa(Ar.layout_symbol["text-optional"])}),Mw=new ci({"icon-opacity":new Ca(Ar.paint_symbol["icon-opacity"]),"icon-color":new Ca(Ar.paint_symbol["icon-color"]),"icon-halo-color":new Ca(Ar.paint_symbol["icon-halo-color"]),"icon-halo-width":new Ca(Ar.paint_symbol["icon-halo-width"]),"icon-halo-blur":new Ca(Ar.paint_symbol["icon-halo-blur"]),"icon-translate":new sa(Ar.paint_symbol["icon-translate"]),"icon-translate-anchor":new sa(Ar.paint_symbol["icon-translate-anchor"]),"text-opacity":new Ca(Ar.paint_symbol["text-opacity"]),"text-color":new Ca(Ar.paint_symbol["text-color"],{runtimeType:Rn,getOverride:function(R){return R.textColor},hasOverride:function(R){return!!R.textColor}}),"text-halo-color":new Ca(Ar.paint_symbol["text-halo-color"]),"text-halo-width":new Ca(Ar.paint_symbol["text-halo-width"]),"text-halo-blur":new Ca(Ar.paint_symbol["text-halo-blur"]),"text-translate":new sa(Ar.paint_symbol["text-translate"]),"text-translate-anchor":new sa(Ar.paint_symbol["text-translate-anchor"])}),fp={paint:Mw,layout:Aw},Xh=function(D){this.type=D.property.overrides?D.property.overrides.runtimeType:Vr,this.defaultValue=D};Xh.prototype.evaluate=function(D){if(D.formattedSection){var V=this.defaultValue.property.overrides;if(V&&V.hasOverride(D.formattedSection))return V.getOverride(D.formattedSection)}return D.feature&&D.featureState?this.defaultValue.evaluate(D.feature,D.featureState):this.defaultValue.property.specification.default},Xh.prototype.eachChild=function(D){if(!this.defaultValue.isConstant()){var V=this.defaultValue.value;D(V._styleExpression.expression)}},Xh.prototype.outputDefined=function(){return!1},Xh.prototype.serialize=function(){return null},Oe("FormatSectionOverride",Xh,{omit:["defaultValue"]});var Sw=function(R){function D(V){R.call(this,V,fp)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.recalculate=function(ae,ce){if(R.prototype.recalculate.call(this,ae,ce),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout.get("symbol-placement")!=="point"?this.layout._values["icon-rotation-alignment"]="map":this.layout._values["icon-rotation-alignment"]="viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout.get("symbol-placement")!=="point"?this.layout._values["text-rotation-alignment"]="map":this.layout._values["text-rotation-alignment"]="viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),this.layout.get("symbol-placement")==="point"){var we=this.layout.get("text-writing-mode");if(we){for(var Le=[],Je=0,vt=we;Je<vt.length;Je+=1){var St=vt[Je];Le.indexOf(St)<0&&Le.push(St)}this.layout._values["text-writing-mode"]=Le}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()},D.prototype.getValueAndResolveTokens=function(ae,ce,we,Le){var Je=this.layout.get(ae).evaluate(ce,{},we,Le),vt=this._unevaluatedLayout._values[ae];return!vt.isDataDriven()&&!au(vt.value)&&Je?Tw(ce.properties,Je):Je},D.prototype.createBucket=function(ae){return new mi(ae)},D.prototype.queryRadius=function(){return 0},D.prototype.queryIntersectsFeature=function(){return!1},D.prototype._setPaintOverrides=function(){for(var ae=0,ce=fp.paint.overridableProperties;ae<ce.length;ae+=1){var we=ce[ae];if(!!D.hasPaintOverride(this.layout,we)){var Le=this.paint.get(we),Je=new Xh(Le),vt=new Ws(Je,Le.property.specification),St=null;Le.value.kind==="constant"||Le.value.kind==="source"?St=new Wi("source",vt):St=new hs("composite",vt,Le.value.zoomStops,Le.value._interpolationType),this.paint._values[we]=new wi(Le.property,St,Le.parameters)}}},D.prototype._handleOverridablePaintPropertyUpdate=function(ae,ce,we){return!this.layout||ce.isDataDriven()||we.isDataDriven()?!1:D.hasPaintOverride(this.layout,ae)},D.hasPaintOverride=function(ae,ce){var we=ae.get("text-field"),Le=fp.paint.properties[ce],Je=!1,vt=function(Xt){for(var ir=0,tr=Xt;ir<tr.length;ir+=1){var yr=tr[ir];if(Le.overrides&&Le.overrides.hasOverride(yr)){Je=!0;return}}};if(we.value.kind==="constant"&&we.value.value instanceof Qi)vt(we.value.value.sections);else if(we.value.kind==="source"){var St=function(Xt){if(!Je)if(Xt instanceof Oi&&_i(Xt.value)===ga){var ir=Xt.value;vt(ir.sections)}else Xt instanceof ao?vt(Xt.sections):Xt.eachChild(St)},Rt=we.value;Rt._styleExpression&&St(Rt._styleExpression.expression)}return Je},D}(Ni),Ew=new ci({"background-color":new sa(Ar.paint_background["background-color"]),"background-pattern":new zo(Ar.paint_background["background-pattern"]),"background-opacity":new sa(Ar.paint_background["background-opacity"])}),Cw={paint:Ew},Lw=function(R){function D(V){R.call(this,V,Cw)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D}(Ni),Pw=new ci({"raster-opacity":new sa(Ar.paint_raster["raster-opacity"]),"raster-hue-rotate":new sa(Ar.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new sa(Ar.paint_raster["raster-brightness-min"]),"raster-brightness-max":new sa(Ar.paint_raster["raster-brightness-max"]),"raster-saturation":new sa(Ar.paint_raster["raster-saturation"]),"raster-contrast":new sa(Ar.paint_raster["raster-contrast"]),"raster-resampling":new sa(Ar.paint_raster["raster-resampling"]),"raster-fade-duration":new sa(Ar.paint_raster["raster-fade-duration"])}),Rw={paint:Pw},Dw=function(R){function D(V){R.call(this,V,Rw)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D}(Ni);function Iw(R){var D=[],V=R.id;return V===void 0&&D.push({message:"layers."+V+': missing required property "id"'}),R.render===void 0&&D.push({message:"layers."+V+': missing required method "render"'}),R.renderingMode&&R.renderingMode!=="2d"&&R.renderingMode!=="3d"&&D.push({message:"layers."+V+': property "renderingMode" must be either "2d" or "3d"'}),D}var _w=function(R){function D(V){R.call(this,V,{}),this.implementation=V}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.is3D=function(){return this.implementation.renderingMode==="3d"},D.prototype.hasOffscreenPass=function(){return this.implementation.prerender!==void 0},D.prototype.recalculate=function(){},D.prototype.updateTransitions=function(){},D.prototype.hasTransition=function(){},D.prototype.serialize=function(){},D.prototype.onAdd=function(ae){this.implementation.onAdd&&this.implementation.onAdd(ae,ae.painter.context.gl)},D.prototype.onRemove=function(ae){this.implementation.onRemove&&this.implementation.onRemove(ae,ae.painter.context.gl)},D}(Ni),kw={circle:nb,heatmap:sb,hillshade:fb,fill:zb,"fill-extrusion":n3,line:x3,symbol:Sw,background:Lw,raster:Dw};function Fw(R){return R.type==="custom"?new _w(R):new kw[R.type](R)}var Uy=s.HTMLImageElement,Vy=s.HTMLCanvasElement,Hy=s.HTMLVideoElement,Gy=s.ImageData,Bd=s.ImageBitmap,Qc=function(D,V,ae,ce){this.context=D,this.format=ae,this.texture=D.gl.createTexture(),this.update(V,ce)};Qc.prototype.update=function(D,V,ae){var ce=D.width,we=D.height,Le=(!this.size||this.size[0]!==ce||this.size[1]!==we)&&!ae,Je=this,vt=Je.context,St=vt.gl;if(this.useMipmap=Boolean(V&&V.useMipmap),St.bindTexture(St.TEXTURE_2D,this.texture),vt.pixelStoreUnpackFlipY.set(!1),vt.pixelStoreUnpack.set(1),vt.pixelStoreUnpackPremultiplyAlpha.set(this.format===St.RGBA&&(!V||V.premultiply!==!1)),Le)this.size=[ce,we],D instanceof Uy||D instanceof Vy||D instanceof Hy||D instanceof Gy||Bd&&D instanceof Bd?St.texImage2D(St.TEXTURE_2D,0,this.format,this.format,St.UNSIGNED_BYTE,D):St.texImage2D(St.TEXTURE_2D,0,this.format,ce,we,0,this.format,St.UNSIGNED_BYTE,D.data);else{var Rt=ae||{x:0,y:0},Xt=Rt.x,ir=Rt.y;D instanceof Uy||D instanceof Vy||D instanceof Hy||D instanceof Gy||Bd&&D instanceof Bd?St.texSubImage2D(St.TEXTURE_2D,0,Xt,ir,St.RGBA,St.UNSIGNED_BYTE,D):St.texSubImage2D(St.TEXTURE_2D,0,Xt,ir,ce,we,St.RGBA,St.UNSIGNED_BYTE,D.data)}this.useMipmap&&this.isSizePowerOfTwo()&&St.generateMipmap(St.TEXTURE_2D)},Qc.prototype.bind=function(D,V,ae){var ce=this,we=ce.context,Le=we.gl;Le.bindTexture(Le.TEXTURE_2D,this.texture),ae===Le.LINEAR_MIPMAP_NEAREST&&!this.isSizePowerOfTwo()&&(ae=Le.LINEAR),D!==this.filter&&(Le.texParameteri(Le.TEXTURE_2D,Le.TEXTURE_MAG_FILTER,D),Le.texParameteri(Le.TEXTURE_2D,Le.TEXTURE_MIN_FILTER,ae||D),this.filter=D),V!==this.wrap&&(Le.texParameteri(Le.TEXTURE_2D,Le.TEXTURE_WRAP_S,V),Le.texParameteri(Le.TEXTURE_2D,Le.TEXTURE_WRAP_T,V),this.wrap=V)},Qc.prototype.isSizePowerOfTwo=function(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1===0},Qc.prototype.destroy=function(){var D=this.context,V=D.gl;V.deleteTexture(this.texture),this.texture=null};var cp=function(D){var V=this;this._callback=D,this._triggered=!1,typeof MessageChannel!="undefined"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=function(){V._triggered=!1,V._callback()})};cp.prototype.trigger=function(){var D=this;this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(function(){D._triggered=!1,D._callback()},0))},cp.prototype.remove=function(){delete this._channel,this._callback=function(){}};var Zh=function(D,V,ae){this.target=D,this.parent=V,this.mapId=ae,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},P(["receive","process"],this),this.invoker=new cp(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=q()?D:s};Zh.prototype.send=function(D,V,ae,ce,we){var Le=this;we===void 0&&(we=!1);var Je=Math.round(Math.random()*1e18).toString(36).substring(0,10);ae&&(this.callbacks[Je]=ae);var vt=oe(this.globalScope)?void 0:[];return this.target.postMessage({id:Je,type:D,hasCallback:!!ae,targetMapId:ce,mustQueue:we,sourceMapId:this.mapId,data:Pt(V,vt)},vt),{cancel:function(){ae&&delete Le.callbacks[Je],Le.target.postMessage({id:Je,type:"<cancel>",targetMapId:ce,sourceMapId:Le.mapId})}}},Zh.prototype.receive=function(D){var V=D.data,ae=V.id;if(!!ae&&!(V.targetMapId&&this.mapId!==V.targetMapId))if(V.type==="<cancel>"){delete this.tasks[ae];var ce=this.cancelCallbacks[ae];delete this.cancelCallbacks[ae],ce&&ce()}else q()||V.mustQueue?(this.tasks[ae]=V,this.taskQueue.push(ae),this.invoker.trigger()):this.processTask(ae,V)},Zh.prototype.process=function(){if(!!this.taskQueue.length){var D=this.taskQueue.shift(),V=this.tasks[D];delete this.tasks[D],this.taskQueue.length&&this.invoker.trigger(),V&&this.processTask(D,V)}},Zh.prototype.processTask=function(D,V){var ae=this;if(V.type==="<response>"){var ce=this.callbacks[D];delete this.callbacks[D],ce&&(V.error?ce(Mt(V.error)):ce(null,Mt(V.data)))}else{var we=!1,Le=oe(this.globalScope)?void 0:[],Je=V.hasCallback?function(ir,tr){we=!0,delete ae.cancelCallbacks[D],ae.target.postMessage({id:D,type:"<response>",sourceMapId:ae.mapId,error:ir?Pt(ir):null,data:Pt(tr,Le)},Le)}:function(ir){we=!0},vt=null,St=Mt(V.data);if(this.parent[V.type])vt=this.parent[V.type](V.sourceMapId,St,Je);else if(this.parent.getWorkerSource){var Rt=V.type.split("."),Xt=this.parent.getWorkerSource(V.sourceMapId,Rt[0],St.source);vt=Xt[Rt[1]](St,Je)}else Je(new Error("Could not find function "+V.type));!we&&vt&&vt.cancel&&(this.cancelCallbacks[D]=vt.cancel)}},Zh.prototype.remove=function(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)};function zw(R,D,V){D=Math.pow(2,V)-D-1;var ae=Wy(R*256,D*256,V),ce=Wy((R+1)*256,(D+1)*256,V);return ae[0]+","+ae[1]+","+ce[0]+","+ce[1]}function Wy(R,D,V){var ae=2*Math.PI*6378137/256/Math.pow(2,V),ce=R*ae-2*Math.PI*6378137/2,we=D*ae-2*Math.PI*6378137/2;return[ce,we]}var uo=function(D,V){D&&(V?this.setSouthWest(D).setNorthEast(V):D.length===4?this.setSouthWest([D[0],D[1]]).setNorthEast([D[2],D[3]]):this.setSouthWest(D[0]).setNorthEast(D[1]))};uo.prototype.setNorthEast=function(D){return this._ne=D instanceof Di?new Di(D.lng,D.lat):Di.convert(D),this},uo.prototype.setSouthWest=function(D){return this._sw=D instanceof Di?new Di(D.lng,D.lat):Di.convert(D),this},uo.prototype.extend=function(D){var V=this._sw,ae=this._ne,ce,we;if(D instanceof Di)ce=D,we=D;else if(D instanceof uo){if(ce=D._sw,we=D._ne,!ce||!we)return this}else{if(Array.isArray(D))if(D.length===4||D.every(Array.isArray)){var Le=D;return this.extend(uo.convert(Le))}else{var Je=D;return this.extend(Di.convert(Je))}return this}return!V&&!ae?(this._sw=new Di(ce.lng,ce.lat),this._ne=new Di(we.lng,we.lat)):(V.lng=Math.min(ce.lng,V.lng),V.lat=Math.min(ce.lat,V.lat),ae.lng=Math.max(we.lng,ae.lng),ae.lat=Math.max(we.lat,ae.lat)),this},uo.prototype.getCenter=function(){return new Di((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},uo.prototype.getSouthWest=function(){return this._sw},uo.prototype.getNorthEast=function(){return this._ne},uo.prototype.getNorthWest=function(){return new Di(this.getWest(),this.getNorth())},uo.prototype.getSouthEast=function(){return new Di(this.getEast(),this.getSouth())},uo.prototype.getWest=function(){return this._sw.lng},uo.prototype.getSouth=function(){return this._sw.lat},uo.prototype.getEast=function(){return this._ne.lng},uo.prototype.getNorth=function(){return this._ne.lat},uo.prototype.toArray=function(){return[this._sw.toArray(),this._ne.toArray()]},uo.prototype.toString=function(){return"LngLatBounds("+this._sw.toString()+", "+this._ne.toString()+")"},uo.prototype.isEmpty=function(){return!(this._sw&&this._ne)},uo.prototype.contains=function(D){var V=Di.convert(D),ae=V.lng,ce=V.lat,we=this._sw.lat<=ce&&ce<=this._ne.lat,Le=this._sw.lng<=ae&&ae<=this._ne.lng;return this._sw.lng>this._ne.lng&&(Le=this._sw.lng>=ae&&ae>=this._ne.lng),we&&Le},uo.convert=function(D){return!D||D instanceof uo?D:new uo(D)};var Yy=63710088e-1,Di=function(D,V){if(isNaN(D)||isNaN(V))throw new Error("Invalid LngLat object: ("+D+", "+V+")");if(this.lng=+D,this.lat=+V,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")};Di.prototype.wrap=function(){return new Di(M(this.lng,-180,180),this.lat)},Di.prototype.toArray=function(){return[this.lng,this.lat]},Di.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},Di.prototype.distanceTo=function(D){var V=Math.PI/180,ae=this.lat*V,ce=D.lat*V,we=Math.sin(ae)*Math.sin(ce)+Math.cos(ae)*Math.cos(ce)*Math.cos((D.lng-this.lng)*V),Le=Yy*Math.acos(Math.min(we,1));return Le},Di.prototype.toBounds=function(D){D===void 0&&(D=0);var V=40075017,ae=360*D/V,ce=ae/Math.cos(Math.PI/180*this.lat);return new uo(new Di(this.lng-ce,this.lat-ae),new Di(this.lng+ce,this.lat+ae))},Di.convert=function(D){if(D instanceof Di)return D;if(Array.isArray(D)&&(D.length===2||D.length===3))return new Di(Number(D[0]),Number(D[1]));if(!Array.isArray(D)&&typeof D=="object"&&D!==null)return new Di(Number("lng"in D?D.lng:D.lon),Number(D.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")};var Xy=2*Math.PI*Yy;function Zy(R){return Xy*Math.cos(R*Math.PI/180)}function jy(R){return(180+R)/360}function Ky(R){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+R*Math.PI/360)))/360}function Jy(R,D){return R/Zy(D)}function Ow(R){return R*360-180}function hp(R){var D=180-R*360;return 360/Math.PI*Math.atan(Math.exp(D*Math.PI/180))-90}function Bw(R,D){return R*Zy(hp(D))}function Nw(R){return 1/Math.cos(R*Math.PI/180)}var $c=function(D,V,ae){ae===void 0&&(ae=0),this.x=+D,this.y=+V,this.z=+ae};$c.fromLngLat=function(D,V){V===void 0&&(V=0);var ae=Di.convert(D);return new $c(jy(ae.lng),Ky(ae.lat),Jy(V,ae.lat))},$c.prototype.toLngLat=function(){return new Di(Ow(this.x),hp(this.y))},$c.prototype.toAltitude=function(){return Bw(this.z,this.y)},$c.prototype.meterInMercatorCoordinateUnits=function(){return 1/Xy*Nw(hp(this.y))};var qc=function(D,V,ae){this.z=D,this.x=V,this.y=ae,this.key=Nv(0,D,D,V,ae)};qc.prototype.equals=function(D){return this.z===D.z&&this.x===D.x&&this.y===D.y},qc.prototype.url=function(D,V){var ae=zw(this.x,this.y,this.z),ce=Uw(this.z,this.x,this.y);return D[(this.x+this.y)%D.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",String(this.z)).replace("{x}",String(this.x)).replace("{y}",String(V==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",ce).replace("{bbox-epsg-3857}",ae)},qc.prototype.getTilePoint=function(D){var V=Math.pow(2,this.z);return new r((D.x*V-this.x)*Ma,(D.y*V-this.y)*Ma)},qc.prototype.toString=function(){return this.z+"/"+this.x+"/"+this.y};var Qy=function(D,V){this.wrap=D,this.canonical=V,this.key=Nv(D,V.z,V.z,V.x,V.y)},fo=function(D,V,ae,ce,we){this.overscaledZ=D,this.wrap=V,this.canonical=new qc(ae,+ce,+we),this.key=Nv(V,D,ae,ce,we)};fo.prototype.equals=function(D){return this.overscaledZ===D.overscaledZ&&this.wrap===D.wrap&&this.canonical.equals(D.canonical)},fo.prototype.scaledTo=function(D){var V=this.canonical.z-D;return D>this.canonical.z?new fo(D,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new fo(D,this.wrap,D,this.canonical.x>>V,this.canonical.y>>V)},fo.prototype.calculateScaledKey=function(D,V){var ae=this.canonical.z-D;return D>this.canonical.z?Nv(this.wrap*+V,D,this.canonical.z,this.canonical.x,this.canonical.y):Nv(this.wrap*+V,D,D,this.canonical.x>>ae,this.canonical.y>>ae)},fo.prototype.isChildOf=function(D){if(D.wrap!==this.wrap)return!1;var V=this.canonical.z-D.canonical.z;return D.overscaledZ===0||D.overscaledZ<this.overscaledZ&&D.canonical.x===this.canonical.x>>V&&D.canonical.y===this.canonical.y>>V},fo.prototype.children=function(D){if(this.overscaledZ>=D)return[new fo(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];var V=this.canonical.z+1,ae=this.canonical.x*2,ce=this.canonical.y*2;return[new fo(V,this.wrap,V,ae,ce),new fo(V,this.wrap,V,ae+1,ce),new fo(V,this.wrap,V,ae,ce+1),new fo(V,this.wrap,V,ae+1,ce+1)]},fo.prototype.isLessThan=function(D){return this.wrap<D.wrap?!0:this.wrap>D.wrap?!1:this.overscaledZ<D.overscaledZ?!0:this.overscaledZ>D.overscaledZ?!1:this.canonical.x<D.canonical.x?!0:this.canonical.x>D.canonical.x?!1:this.canonical.y<D.canonical.y},fo.prototype.wrapped=function(){return new fo(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)},fo.prototype.unwrapTo=function(D){return new fo(this.overscaledZ,D,this.canonical.z,this.canonical.x,this.canonical.y)},fo.prototype.overscaleFactor=function(){return Math.pow(2,this.overscaledZ-this.canonical.z)},fo.prototype.toUnwrapped=function(){return new Qy(this.wrap,this.canonical)},fo.prototype.toString=function(){return this.overscaledZ+"/"+this.canonical.x+"/"+this.canonical.y},fo.prototype.getTilePoint=function(D){return this.canonical.getTilePoint(new $c(D.x-this.wrap,D.y))};function Nv(R,D,V,ae,ce){R*=2,R<0&&(R=R*-1-1);var we=1<<V;return(we*we*R+we*ce+ae).toString(36)+V.toString(36)+D.toString(36)}function Uw(R,D,V){for(var ae="",ce,we=R;we>0;we--)ce=1<<we-1,ae+=(D&ce?1:0)+(V&ce?2:0);return ae}Oe("CanonicalTileID",qc),Oe("OverscaledTileID",fo,{omit:["posMatrix"]});var bf=function(D,V,ae){if(this.uid=D,V.height!==V.width)throw new RangeError("DEM tiles must be square");if(ae&&ae!=="mapbox"&&ae!=="terrarium")return O('"'+ae+'" is not a valid encoding type. Valid types include "mapbox" and "terrarium".');this.stride=V.height;var ce=this.dim=V.height-2;this.data=new Uint32Array(V.data.buffer),this.encoding=ae||"mapbox";for(var we=0;we<ce;we++)this.data[this._idx(-1,we)]=this.data[this._idx(0,we)],this.data[this._idx(ce,we)]=this.data[this._idx(ce-1,we)],this.data[this._idx(we,-1)]=this.data[this._idx(we,0)],this.data[this._idx(we,ce)]=this.data[this._idx(we,ce-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(ce,-1)]=this.data[this._idx(ce-1,0)],this.data[this._idx(-1,ce)]=this.data[this._idx(0,ce-1)],this.data[this._idx(ce,ce)]=this.data[this._idx(ce-1,ce-1)]};bf.prototype.get=function(D,V){var ae=new Uint8Array(this.data.buffer),ce=this._idx(D,V)*4,we=this.encoding==="terrarium"?this._unpackTerrarium:this._unpackMapbox;return we(ae[ce],ae[ce+1],ae[ce+2])},bf.prototype.getUnpackVector=function(){return this.encoding==="terrarium"?[256,1,.00390625,32768]:[6553.6,25.6,.1,1e4]},bf.prototype._idx=function(D,V){if(D<-1||D>=this.dim+1||V<-1||V>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(V+1)*this.stride+(D+1)},bf.prototype._unpackMapbox=function(D,V,ae){return(D*256*256+V*256+ae)/10-1e4},bf.prototype._unpackTerrarium=function(D,V,ae){return D*256+V+ae/256-32768},bf.prototype.getPixels=function(){return new ms({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))},bf.prototype.backfillBorder=function(D,V,ae){if(this.dim!==D.dim)throw new Error("dem dimension mismatch");var ce=V*this.dim,we=V*this.dim+this.dim,Le=ae*this.dim,Je=ae*this.dim+this.dim;switch(V){case-1:ce=we-1;break;case 1:we=ce+1;break}switch(ae){case-1:Le=Je-1;break;case 1:Je=Le+1;break}for(var vt=-V*this.dim,St=-ae*this.dim,Rt=Le;Rt<Je;Rt++)for(var Xt=ce;Xt<we;Xt++)this.data[this._idx(Xt,Rt)]=D.data[this._idx(Xt+vt,Rt+St)]},Oe("DEMData",bf);function Vw(R,D){var V={};if(!D)return V;for(var ae=function(){var Le=we[ce],Je=Le.layerIds.map(function(Xt){return D.getLayer(Xt)}).filter(Boolean);if(Je.length!==0){Le.layers=Je,Le.stateDependentLayerIds&&(Le.stateDependentLayers=Le.stateDependentLayerIds.map(function(Xt){return Je.filter(function(ir){return ir.id===Xt})[0]}));for(var vt=0,St=Je;vt<St.length;vt+=1){var Rt=St[vt];V[Rt.id]=Le}}},ce=0,we=R;ce<we.length;ce+=1)ae();return V}var Nd=function(D){this._stringToNumber={},this._numberToString=[];for(var V=0;V<D.length;V++){var ae=D[V];this._stringToNumber[ae]=V,this._numberToString[V]=ae}};Nd.prototype.encode=function(D){return this._stringToNumber[D]},Nd.prototype.decode=function(D){return this._numberToString[D]};var Ud=function(D,V,ae,ce,we){this.type="Feature",this._vectorTileFeature=D,D._z=V,D._x=ae,D._y=ce,this.properties=D.properties,this.id=we},vp={geometry:{configurable:!0}};vp.geometry.get=function(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry},vp.geometry.set=function(R){this._geometry=R},Ud.prototype.toJSON=function(){var D={geometry:this.geometry};for(var V in this)V==="_geometry"||V==="_vectorTileFeature"||(D[V]=this[V]);return D},Object.defineProperties(Ud.prototype,vp);var jh=function(){this.state={},this.stateChanges={},this.deletedStates={}};jh.prototype.updateState=function(D,V,ae){var ce=String(V);if(this.stateChanges[D]=this.stateChanges[D]||{},this.stateChanges[D][ce]=this.stateChanges[D][ce]||{},b(this.stateChanges[D][ce],ae),this.deletedStates[D]===null){this.deletedStates[D]={};for(var we in this.state[D])we!==ce&&(this.deletedStates[D][we]=null)}else{var Le=this.deletedStates[D]&&this.deletedStates[D][ce]===null;if(Le){this.deletedStates[D][ce]={};for(var Je in this.state[D][ce])ae[Je]||(this.deletedStates[D][ce][Je]=null)}else for(var vt in ae){var St=this.deletedStates[D]&&this.deletedStates[D][ce]&&this.deletedStates[D][ce][vt]===null;St&&delete this.deletedStates[D][ce][vt]}}},jh.prototype.removeFeatureState=function(D,V,ae){var ce=this.deletedStates[D]===null;if(!ce){var we=String(V);if(this.deletedStates[D]=this.deletedStates[D]||{},ae&&V!==void 0)this.deletedStates[D][we]!==null&&(this.deletedStates[D][we]=this.deletedStates[D][we]||{},this.deletedStates[D][we][ae]=null);else if(V!==void 0){var Le=this.stateChanges[D]&&this.stateChanges[D][we];if(Le){this.deletedStates[D][we]={};for(ae in this.stateChanges[D][we])this.deletedStates[D][we][ae]=null}else this.deletedStates[D][we]=null}else this.deletedStates[D]=null}},jh.prototype.getState=function(D,V){var ae=String(V),ce=this.state[D]||{},we=this.stateChanges[D]||{},Le=b({},ce[ae],we[ae]);if(this.deletedStates[D]===null)return{};if(this.deletedStates[D]){var Je=this.deletedStates[D][V];if(Je===null)return{};for(var vt in Je)delete Le[vt]}return Le},jh.prototype.initializeTileState=function(D,V){D.setFeatureState(this.state,V)},jh.prototype.coalesceChanges=function(D,V){var ae={};for(var ce in this.stateChanges){this.state[ce]=this.state[ce]||{};var we={};for(var Le in this.stateChanges[ce])this.state[ce][Le]||(this.state[ce][Le]={}),b(this.state[ce][Le],this.stateChanges[ce][Le]),we[Le]=this.state[ce][Le];ae[ce]=we}for(var Je in this.deletedStates){this.state[Je]=this.state[Je]||{};var vt={};if(this.deletedStates[Je]===null)for(var St in this.state[Je])vt[St]={},this.state[Je][St]={};else for(var Rt in this.deletedStates[Je]){var Xt=this.deletedStates[Je][Rt]===null;if(Xt)this.state[Je][Rt]={};else for(var ir=0,tr=Object.keys(this.deletedStates[Je][Rt]);ir<tr.length;ir+=1){var yr=tr[ir];delete this.state[Je][Rt][yr]}vt[Rt]=this.state[Je][Rt]}ae[Je]=ae[Je]||{},b(ae[Je],vt)}if(this.stateChanges={},this.deletedStates={},Object.keys(ae).length!==0)for(var Fr in D){var ln=D[Fr];ln.setFeatureState(ae,V)}};var wf=function(D,V){this.tileID=D,this.x=D.canonical.x,this.y=D.canonical.y,this.z=D.canonical.z,this.grid=new Fa(Ma,16,0),this.grid3D=new Fa(Ma,16,0),this.featureIndexArray=new wd,this.promoteId=V};wf.prototype.insert=function(D,V,ae,ce,we,Le){var Je=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(ae,ce,we);for(var vt=Le?this.grid3D:this.grid,St=0;St<V.length;St++){for(var Rt=V[St],Xt=[1/0,1/0,-1/0,-1/0],ir=0;ir<Rt.length;ir++){var tr=Rt[ir];Xt[0]=Math.min(Xt[0],tr.x),Xt[1]=Math.min(Xt[1],tr.y),Xt[2]=Math.max(Xt[2],tr.x),Xt[3]=Math.max(Xt[3],tr.y)}Xt[0]<Ma&&Xt[1]<Ma&&Xt[2]>=0&&Xt[3]>=0&&vt.insert(Je,Xt[0],Xt[1],Xt[2],Xt[3])}},wf.prototype.loadVTLayers=function(){return this.vtLayers||(this.vtLayers=new zh.VectorTile(new Pd(this.rawTileData)).layers,this.sourceLayerCoder=new Nd(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers},wf.prototype.query=function(D,V,ae,ce){var we=this;this.loadVTLayers();for(var Le=D.params||{},Je=Ma/D.tileSize/D.scale,vt=Zs(Le.filter),St=D.queryGeometry,Rt=D.queryPadding*Je,Xt=qy(St),ir=this.grid.query(Xt.minX-Rt,Xt.minY-Rt,Xt.maxX+Rt,Xt.maxY+Rt),tr=qy(D.cameraQueryGeometry),yr=this.grid3D.query(tr.minX-Rt,tr.minY-Rt,tr.maxX+Rt,tr.maxY+Rt,function(Wn,ra,qn,wa){return Ul(D.cameraQueryGeometry,Wn-Rt,ra-Rt,qn+Rt,wa+Rt)}),Fr=0,ln=yr;Fr<ln.length;Fr+=1){var en=ln[Fr];ir.push(en)}ir.sort(Hw);for(var Sn={},yn,Mn=function(Wn){var ra=ir[Wn];if(ra!==yn){yn=ra;var qn=we.featureIndexArray.get(ra),wa=null;we.loadMatchingFeature(Sn,qn.bucketIndex,qn.sourceLayerIndex,qn.featureIndex,vt,Le.layers,Le.availableImages,V,ae,ce,function(da,ba,Ba){return wa||(wa=ei(da)),ba.queryIntersectsFeature(St,da,Ba,wa,we.z,D.transform,Je,D.pixelPosMatrix)})}},Fn=0;Fn<ir.length;Fn++)Mn(Fn);return Sn},wf.prototype.loadMatchingFeature=function(D,V,ae,ce,we,Le,Je,vt,St,Rt,Xt){var ir=this.bucketLayerIDs[V];if(!(Le&&!k(Le,ir))){var tr=this.sourceLayerCoder.decode(ae),yr=this.vtLayers[tr],Fr=yr.feature(ce);if(we.needGeometry){var ln=Mi(Fr,!0);if(!we.filter(new Aa(this.tileID.overscaledZ),ln,this.tileID.canonical))return}else if(!we.filter(new Aa(this.tileID.overscaledZ),Fr))return;for(var en=this.getId(Fr,tr),Sn=0;Sn<ir.length;Sn++){var yn=ir[Sn];if(!(Le&&Le.indexOf(yn)<0)){var Mn=vt[yn];if(!!Mn){var Fn={};en!==void 0&&Rt&&(Fn=Rt.getState(Mn.sourceLayer||"_geojsonTileLayer",en));var Wn=b({},St[yn]);Wn.paint=$y(Wn.paint,Mn.paint,Fr,Fn,Je),Wn.layout=$y(Wn.layout,Mn.layout,Fr,Fn,Je);var ra=!Xt||Xt(Fr,Mn,Fn);if(!!ra){var qn=new Ud(Fr,this.z,this.x,this.y,en);qn.layer=Wn;var wa=D[yn];wa===void 0&&(wa=D[yn]=[]),wa.push({featureIndex:ce,feature:qn,intersectionZ:ra})}}}}}},wf.prototype.lookupSymbolFeatures=function(D,V,ae,ce,we,Le,Je,vt){var St={};this.loadVTLayers();for(var Rt=Zs(we),Xt=0,ir=D;Xt<ir.length;Xt+=1){var tr=ir[Xt];this.loadMatchingFeature(St,ae,ce,tr,Rt,Le,Je,vt,V)}return St},wf.prototype.hasLayer=function(D){for(var V=0,ae=this.bucketLayerIDs;V<ae.length;V+=1)for(var ce=ae[V],we=0,Le=ce;we<Le.length;we+=1){var Je=Le[we];if(D===Je)return!0}return!1},wf.prototype.getId=function(D,V){var ae=D.id;if(this.promoteId){var ce=typeof this.promoteId=="string"?this.promoteId:this.promoteId[V];ae=D.properties[ce],typeof ae=="boolean"&&(ae=Number(ae))}return ae},Oe("FeatureIndex",wf,{omit:["rawTileData","sourceLayerCoder"]});function $y(R,D,V,ae,ce){return _(R,function(we,Le){var Je=D instanceof go?D.get(Le):null;return Je&&Je.evaluate?Je.evaluate(V,ae,ce):Je})}function qy(R){for(var D=1/0,V=1/0,ae=-1/0,ce=-1/0,we=0,Le=R;we<Le.length;we+=1){var Je=Le[we];D=Math.min(D,Je.x),V=Math.min(V,Je.y),ae=Math.max(ae,Je.x),ce=Math.max(ce,Je.y)}return{minX:D,minY:V,maxX:ae,maxY:ce}}function Hw(R,D){return D-R}var Gw=3e4,Ao=function(D,V){this.tileID=D,this.uid=y(),this.uses=0,this.tileSize=V,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.expiredRequestCount=0,this.state="loading"};Ao.prototype.registerFadeDuration=function(D){var V=D+this.timeAdded;V<se.now()||this.fadeEndTime&&V<this.fadeEndTime||(this.fadeEndTime=V)},Ao.prototype.wasRequested=function(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"},Ao.prototype.loadVectorData=function(D,V,ae){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",!D){this.collisionBoxArray=new Av;return}D.featureIndex&&(this.latestFeatureIndex=D.featureIndex,D.rawTileData?(this.latestRawTileData=D.rawTileData,this.latestFeatureIndex.rawTileData=D.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=D.collisionBoxArray,this.buckets=Vw(D.buckets,V.style),this.hasSymbolBuckets=!1;for(var ce in this.buckets){var we=this.buckets[ce];if(we instanceof mi)if(this.hasSymbolBuckets=!0,ae)we.justReloaded=!0;else break}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(var Le in this.buckets){var Je=this.buckets[Le];if(Je instanceof mi&&Je.hasRTLText){this.hasRTLText=!0,Ua();break}}this.queryPadding=0;for(var vt in this.buckets){var St=this.buckets[vt];this.queryPadding=Math.max(this.queryPadding,V.style.getLayer(vt).queryRadius(St))}D.imageAtlas&&(this.imageAtlas=D.imageAtlas),D.glyphAtlasImage&&(this.glyphAtlasImage=D.glyphAtlasImage)},Ao.prototype.unloadVectorData=function(){for(var D in this.buckets)this.buckets[D].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"},Ao.prototype.getBucket=function(D){return this.buckets[D.id]},Ao.prototype.upload=function(D){for(var V in this.buckets){var ae=this.buckets[V];ae.uploadPending()&&ae.upload(D)}var ce=D.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new Qc(D,this.imageAtlas.image,ce.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new Qc(D,this.glyphAtlasImage,ce.ALPHA),this.glyphAtlasImage=null)},Ao.prototype.prepare=function(D){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(D,this.imageAtlasTexture)},Ao.prototype.queryRenderedFeatures=function(D,V,ae,ce,we,Le,Je,vt,St,Rt){return!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData?{}:this.latestFeatureIndex.query({queryGeometry:ce,cameraQueryGeometry:we,scale:Le,tileSize:this.tileSize,pixelPosMatrix:Rt,transform:vt,params:Je,queryPadding:this.queryPadding*St},D,V,ae)},Ao.prototype.querySourceFeatures=function(D,V){var ae=this.latestFeatureIndex;if(!(!ae||!ae.rawTileData)){var ce=ae.loadVTLayers(),we=V?V.sourceLayer:"",Le=ce._geojsonTileLayer||ce[we];if(!!Le)for(var Je=Zs(V&&V.filter),vt=this.tileID.canonical,St=vt.z,Rt=vt.x,Xt=vt.y,ir={z:St,x:Rt,y:Xt},tr=0;tr<Le.length;tr++){var yr=Le.feature(tr);if(Je.needGeometry){var Fr=Mi(yr,!0);if(!Je.filter(new Aa(this.tileID.overscaledZ),Fr,this.tileID.canonical))continue}else if(!Je.filter(new Aa(this.tileID.overscaledZ),yr))continue;var ln=ae.getId(yr,we),en=new Ud(yr,St,Rt,Xt,ln);en.tile=ir,D.push(en)}}},Ao.prototype.hasData=function(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"},Ao.prototype.patternsLoaded=function(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length},Ao.prototype.setExpiryData=function(D){var V=this.expirationTime;if(D.cacheControl){var ae=ee(D.cacheControl);ae["max-age"]&&(this.expirationTime=Date.now()+ae["max-age"]*1e3)}else D.expires&&(this.expirationTime=new Date(D.expires).getTime());if(this.expirationTime){var ce=Date.now(),we=!1;if(this.expirationTime>ce)we=!1;else if(!V)we=!0;else if(this.expirationTime<V)we=!0;else{var Le=this.expirationTime-V;Le?this.expirationTime=ce+Math.max(Le,Gw):we=!0}we?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}},Ao.prototype.getExpiryTimeout=function(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)},Ao.prototype.setFeatureState=function(D,V){if(!(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||Object.keys(D).length===0)){var ae=this.latestFeatureIndex.loadVTLayers();for(var ce in this.buckets)if(!!V.style.hasLayer(ce)){var we=this.buckets[ce],Le=we.layers[0].sourceLayer||"_geojsonTileLayer",Je=ae[Le],vt=D[Le];if(!(!Je||!vt||Object.keys(vt).length===0)){we.update(vt,Je,this.imageAtlas&&this.imageAtlas.patternPositions||{});var St=V&&V.style&&V.style.getLayer(ce);St&&(this.queryPadding=Math.max(this.queryPadding,St.queryRadius(we)))}}}},Ao.prototype.holdingForFade=function(){return this.symbolFadeHoldUntil!==void 0},Ao.prototype.symbolFadeFinished=function(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<se.now()},Ao.prototype.clearFadeHold=function(){this.symbolFadeHoldUntil=void 0},Ao.prototype.setHoldDuration=function(D){this.symbolFadeHoldUntil=se.now()+D},Ao.prototype.setDependencies=function(D,V){for(var ae={},ce=0,we=V;ce<we.length;ce+=1){var Le=we[ce];ae[Le]=!0}this.dependencies[D]=ae},Ao.prototype.hasDependency=function(D,V){for(var ae=0,ce=D;ae<ce.length;ae+=1){var we=ce[ae],Le=this.dependencies[we];if(Le)for(var Je=0,vt=V;Je<vt.length;Je+=1){var St=vt[Je];if(Le[St])return!0}}return!1};var Ww=["type","source","source-layer","minzoom","maxzoom","filter","layout"],ic=s.performance,em=function(D){this._marks={start:[D.url,"start"].join("#"),end:[D.url,"end"].join("#"),measure:D.url.toString()},ic.mark(this._marks.start)};em.prototype.finish=function(){ic.mark(this._marks.end);var D=ic.getEntriesByName(this._marks.measure);return D.length===0&&(ic.measure(this._marks.measure,this._marks.start,this._marks.end),D=ic.getEntriesByName(this._marks.measure),ic.clearMarks(this._marks.start),ic.clearMarks(this._marks.end),ic.clearMeasures(this._marks.measure)),D},a.Actor=Zh,a.AlphaImage=Jc,a.CanonicalTileID=qc,a.CollisionBoxArray=Av,a.Color=qa,a.DEMData=bf,a.DataConstantProperty=sa,a.DictionaryCoder=Nd,a.EXTENT=Ma,a.ErrorEvent=Bt,a.EvaluationParameters=Aa,a.Event=ar,a.Evented=hr,a.FeatureIndex=wf,a.FillBucket=pu,a.FillExtrusionBucket=gu,a.ImageAtlas=Fv,a.ImagePosition=Dd,a.LineBucket=ts,a.LngLat=Di,a.LngLatBounds=uo,a.MercatorCoordinate=$c,a.ONE_EM=Io,a.OverscaledTileID=fo,a.Point=r,a.Point$1=r,a.Properties=ci,a.Protobuf=Pd,a.RGBAImage=ms,a.RequestManager=Fe,a.RequestPerformance=em,a.ResourceType=er,a.SegmentVector=so,a.SourceFeatureState=jh,a.StructArrayLayout1ui2=Qf,a.StructArrayLayout2f1f2i16=hu,a.StructArrayLayout2i4=pf,a.StructArrayLayout3ui6=vu,a.StructArrayLayout4i8=xv,a.SymbolBucket=mi,a.Texture=Qc,a.Tile=Ao,a.Transitionable=ii,a.Uniform1f=Xr,a.Uniform1i=kr,a.Uniform2f=Yr,a.Uniform3f=Hr,a.Uniform4f=Kr,a.UniformColor=fn,a.UniformMatrix4f=Bn,a.UnwrappedTileID=Qy,a.ValidationError=Or,a.WritingMode=Js,a.ZoomHistory=Gt,a.add=_h,a.addDynamicAttributes=up,a.asyncAll=c,a.bezier=l,a.bindAll=P,a.browser=se,a.cacheEntryPossiblyAdded=kt,a.clamp=h,a.clearTileCache=wr,a.clipLine=ky,a.clone=Rh,a.clone$1=N,a.clone$2=G0,a.collisionCircleLayout=M3,a.config=ne,a.create=Ph,a.create$1=Uo,a.create$2=Lh,a.createCommonjsModule=C,a.createExpression=Ys,a.createLayout=Pi,a.createStyleLayer=Fw,a.cross=j2,a.deepEqual=n,a.dot=Z2,a.dot$1=q2,a.ease=m,a.emitValidationErrors=Da,a.endsWith=x,a.enforceCacheSizeLimit=Qt,a.evaluateSizeForFeature=Cy,a.evaluateSizeForZoom=Ly,a.evaluateVariableOffset=Oy,a.evented=Sa,a.extend=b,a.featureFilter=Zs,a.filterObject=I,a.fromRotation=ec,a.getAnchorAlignment=ip,a.getAnchorJustification=lp,a.getArrayBuffer=Vt,a.getImage=Ft,a.getJSON=It,a.getRTLTextPluginStatus=_a,a.getReferrer=ht,a.getVideo=Kt,a.identity=Dh,a.invert=tc,a.isChar=Yt,a.isMapboxURL=Be,a.keysDifference=d,a.makeRequest=Dt,a.mapObject=_,a.mercatorXfromLng=jy,a.mercatorYfromLat=Ky,a.mercatorZfromAltitude=Jy,a.mul=H0,a.multiply=rc,a.mvt=zh,a.nextPowerOfTwo=T,a.normalize=Ev,a.number=Ri,a.offscreenCanvasSupported=Wt,a.ortho=V0,a.parseGlyphPBF=Q3,a.pbf=Pd,a.performSymbolLayout=pw,a.perspective=Sv,a.pick=w,a.plugin=Kn,a.polygonIntersectsPolygon=Ha,a.postMapLoadEvent=He,a.postTurnstileEvent=We,a.potpack=xy,a.refProperties=Ww,a.register=Oe,a.registerForPluginStateChange=ai,a.renderColorRamp=Qg,a.rotate=jc,a.rotateX=ys,a.rotateZ=Ih,a.scale=gs,a.scale$1=$2,a.scale$2=Y0,a.setCacheLimits=xt,a.setRTLTextPlugin=Bi,a.sphericalToCartesian=W,a.sqrLen=rb,a.styleSpec=Ar,a.sub=J2,a.symbolSize=ow,a.transformMat3=K2,a.transformMat4=Ad,a.translate=Xi,a.triggerPluginCompletionEvent=ca,a.uniqueId=y,a.validateCustomStyleLayer=Iw,a.validateLight=Zn,a.validateStyle=In,a.values=i,a.vectorTile=zh,a.version=A,a.warnOnce=O,a.webpSupported=le,a.window=s,a.wrap=M}),L(["./shared"],function(a){function C(ht){var at=typeof ht;if(at==="number"||at==="boolean"||at==="string"||ht===void 0||ht===null)return JSON.stringify(ht);if(Array.isArray(ht)){for(var bt="[",Ct=0,Dt=ht;Ct<Dt.length;Ct+=1){var It=Dt[Ct];bt+=C(It)+","}return bt+"]"}for(var Vt=Object.keys(ht).sort(),Nt="{",Jt=0;Jt<Vt.length;Jt++)Nt+=JSON.stringify(Vt[Jt])+":"+C(ht[Vt[Jt]])+",";return Nt+"}"}function A(ht){for(var at="",bt=0,Ct=a.refProperties;bt<Ct.length;bt+=1){var Dt=Ct[bt];at+="/"+C(ht[Dt])}return at}function v(ht,at){for(var bt={},Ct=0;Ct<ht.length;Ct++){var Dt=at&&at[ht[Ct].id]||A(ht[Ct]);at&&(at[ht[Ct].id]=Dt);var It=bt[Dt];It||(It=bt[Dt]=[]),It.push(ht[Ct])}var Vt=[];for(var Nt in bt)Vt.push(bt[Nt]);return Vt}var p=function(at){this.keyCache={},at&&this.replace(at)};p.prototype.replace=function(at){this._layerConfigs={},this._layers={},this.update(at,[])},p.prototype.update=function(at,bt){for(var Ct=this,Dt=0,It=at;Dt<It.length;Dt+=1){var Vt=It[Dt];this._layerConfigs[Vt.id]=Vt;var Nt=this._layers[Vt.id]=a.createStyleLayer(Vt);Nt._featureFilter=a.featureFilter(Nt.filter),this.keyCache[Vt.id]&&delete this.keyCache[Vt.id]}for(var Jt=0,fr=bt;Jt<fr.length;Jt+=1){var cr=fr[Jt];delete this.keyCache[cr],delete this._layerConfigs[cr],delete this._layers[cr]}this.familiesBySource={};for(var dr=v(a.values(this._layerConfigs),this.keyCache),Ge=0,Ve=dr;Ge<Ve.length;Ge+=1){var Ot=Ve[Ge],Ft=Ot.map(function(hr){return Ct._layers[hr.id]}),Kt=Ft[0];if(Kt.visibility!=="none"){var rr=Kt.source||"",ur=this.familiesBySource[rr];ur||(ur=this.familiesBySource[rr]={});var ar=Kt.sourceLayer||"_geojsonTileLayer",Bt=ur[ar];Bt||(Bt=ur[ar]=[]),Bt.push(Ft)}}};var r=1,t=function(at){var bt={},Ct=[];for(var Dt in at){var It=at[Dt],Vt=bt[Dt]={};for(var Nt in It){var Jt=It[+Nt];if(!(!Jt||Jt.bitmap.width===0||Jt.bitmap.height===0)){var fr={x:0,y:0,w:Jt.bitmap.width+2*r,h:Jt.bitmap.height+2*r};Ct.push(fr),Vt[Nt]={rect:fr,metrics:Jt.metrics}}}}var cr=a.potpack(Ct),dr=cr.w,Ge=cr.h,Ve=new a.AlphaImage({width:dr||1,height:Ge||1});for(var Ot in at){var Ft=at[Ot];for(var Kt in Ft){var rr=Ft[+Kt];if(!(!rr||rr.bitmap.width===0||rr.bitmap.height===0)){var ur=bt[Ot][Kt].rect;a.AlphaImage.copy(rr.bitmap,Ve,{x:0,y:0},{x:ur.x+r,y:ur.y+r},rr.bitmap)}}}this.image=Ve,this.positions=bt};a.register("GlyphAtlas",t);var s=function(at){this.tileID=new a.OverscaledTileID(at.tileID.overscaledZ,at.tileID.wrap,at.tileID.canonical.z,at.tileID.canonical.x,at.tileID.canonical.y),this.uid=at.uid,this.zoom=at.zoom,this.pixelRatio=at.pixelRatio,this.tileSize=at.tileSize,this.source=at.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=at.showCollisionBoxes,this.collectResourceTiming=!!at.collectResourceTiming,this.returnDependencies=!!at.returnDependencies,this.promoteId=at.promoteId};s.prototype.parse=function(at,bt,Ct,Dt,It){var Vt=this;this.status="parsing",this.data=at,this.collisionBoxArray=new a.CollisionBoxArray;var Nt=new a.DictionaryCoder(Object.keys(at.layers).sort()),Jt=new a.FeatureIndex(this.tileID,this.promoteId);Jt.bucketLayerIDs=[];var fr={},cr={featureIndex:Jt,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:Ct},dr=bt.familiesBySource[this.source];for(var Ge in dr){var Ve=at.layers[Ge];if(!!Ve){Ve.version===1&&a.warnOnce('Vector tile source "'+this.source+'" layer "'+Ge+'" does not use vector tile spec v2 and therefore may have some rendering errors.');for(var Ot=Nt.encode(Ge),Ft=[],Kt=0;Kt<Ve.length;Kt++){var rr=Ve.feature(Kt),ur=Jt.getId(rr,Ge);Ft.push({feature:rr,id:ur,index:Kt,sourceLayerIndex:Ot})}for(var ar=0,Bt=dr[Ge];ar<Bt.length;ar+=1){var hr=Bt[ar],gr=hr[0];if(!(gr.minzoom&&this.zoom<Math.floor(gr.minzoom))&&!(gr.maxzoom&&this.zoom>=gr.maxzoom)&&gr.visibility!=="none"){n(hr,this.zoom,Ct);var mr=fr[gr.id]=gr.createBucket({index:Jt.bucketLayerIDs.length,layers:hr,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:Ot,sourceID:this.source});mr.populate(Ft,cr,this.tileID.canonical),Jt.bucketLayerIDs.push(hr.map(function(Tr){return Tr.id}))}}}}var vr,Gr,Rr,Ir,cn=a.mapObject(cr.glyphDependencies,function(Tr){return Object.keys(Tr).map(Number)});Object.keys(cn).length?Dt.send("getGlyphs",{uid:this.uid,stacks:cn},function(Tr,Lr){vr||(vr=Tr,Gr=Lr,En.call(Vt))}):Gr={};var rn=Object.keys(cr.iconDependencies);rn.length?Dt.send("getImages",{icons:rn,source:this.source,tileID:this.tileID,type:"icons"},function(Tr,Lr){vr||(vr=Tr,Rr=Lr,En.call(Vt))}):Rr={};var Ln=Object.keys(cr.patternDependencies);Ln.length?Dt.send("getImages",{icons:Ln,source:this.source,tileID:this.tileID,type:"patterns"},function(Tr,Lr){vr||(vr=Tr,Ir=Lr,En.call(Vt))}):Ir={},En.call(this);function En(){if(vr)return It(vr);if(Gr&&Rr&&Ir){var Tr=new t(Gr),Lr=new a.ImageAtlas(Rr,Ir);for(var Wr in fr){var Ur=fr[Wr];Ur instanceof a.SymbolBucket?(n(Ur.layers,this.zoom,Ct),a.performSymbolLayout(Ur,Gr,Tr.positions,Rr,Lr.iconPositions,this.showCollisionBoxes,this.tileID.canonical)):Ur.hasPattern&&(Ur instanceof a.LineBucket||Ur instanceof a.FillBucket||Ur instanceof a.FillExtrusionBucket)&&(n(Ur.layers,this.zoom,Ct),Ur.addFeatures(cr,this.tileID.canonical,Lr.patternPositions))}this.status="done",It(null,{buckets:a.values(fr).filter(function(an){return!an.isEmpty()}),featureIndex:Jt,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:Tr.image,imageAtlas:Lr,glyphMap:this.returnDependencies?Gr:null,iconMap:this.returnDependencies?Rr:null,glyphPositions:this.returnDependencies?Tr.positions:null})}}};function n(ht,at,bt){for(var Ct=new a.EvaluationParameters(at),Dt=0,It=ht;Dt<It.length;Dt+=1){var Vt=It[Dt];Vt.recalculate(Ct,bt)}}function f(ht,at){var bt=a.getArrayBuffer(ht.request,function(Ct,Dt,It,Vt){Ct?at(Ct):Dt&&at(null,{vectorTile:new a.vectorTile.VectorTile(new a.pbf(Dt)),rawData:Dt,cacheControl:It,expires:Vt})});return function(){bt.cancel(),at()}}var u=function(at,bt,Ct,Dt){this.actor=at,this.layerIndex=bt,this.availableImages=Ct,this.loadVectorData=Dt||f,this.loading={},this.loaded={}};u.prototype.loadTile=function(at,bt){var Ct=this,Dt=at.uid;this.loading||(this.loading={});var It=at&&at.request&&at.request.collectResourceTiming?new a.RequestPerformance(at.request):!1,Vt=this.loading[Dt]=new s(at);Vt.abort=this.loadVectorData(at,function(Nt,Jt){if(delete Ct.loading[Dt],Nt||!Jt)return Vt.status="done",Ct.loaded[Dt]=Vt,bt(Nt);var fr=Jt.rawData,cr={};Jt.expires&&(cr.expires=Jt.expires),Jt.cacheControl&&(cr.cacheControl=Jt.cacheControl);var dr={};if(It){var Ge=It.finish();Ge&&(dr.resourceTiming=JSON.parse(JSON.stringify(Ge)))}Vt.vectorTile=Jt.vectorTile,Vt.parse(Jt.vectorTile,Ct.layerIndex,Ct.availableImages,Ct.actor,function(Ve,Ot){if(Ve||!Ot)return bt(Ve);bt(null,a.extend({rawTileData:fr.slice(0)},Ot,cr,dr))}),Ct.loaded=Ct.loaded||{},Ct.loaded[Dt]=Vt})},u.prototype.reloadTile=function(at,bt){var Ct=this,Dt=this.loaded,It=at.uid,Vt=this;if(Dt&&Dt[It]){var Nt=Dt[It];Nt.showCollisionBoxes=at.showCollisionBoxes;var Jt=function(fr,cr){var dr=Nt.reloadCallback;dr&&(delete Nt.reloadCallback,Nt.parse(Nt.vectorTile,Vt.layerIndex,Ct.availableImages,Vt.actor,dr)),bt(fr,cr)};Nt.status==="parsing"?Nt.reloadCallback=Jt:Nt.status==="done"&&(Nt.vectorTile?Nt.parse(Nt.vectorTile,this.layerIndex,this.availableImages,this.actor,Jt):Jt())}},u.prototype.abortTile=function(at,bt){var Ct=this.loading,Dt=at.uid;Ct&&Ct[Dt]&&Ct[Dt].abort&&(Ct[Dt].abort(),delete Ct[Dt]),bt()},u.prototype.removeTile=function(at,bt){var Ct=this.loaded,Dt=at.uid;Ct&&Ct[Dt]&&delete Ct[Dt],bt()};var l=a.window.ImageBitmap,m=function(){this.loaded={}};m.prototype.loadTile=function(at,bt){var Ct=at.uid,Dt=at.encoding,It=at.rawImageData,Vt=l&&It instanceof l?this.getImageData(It):It,Nt=new a.DEMData(Ct,Vt,Dt);this.loaded=this.loaded||{},this.loaded[Ct]=Nt,bt(null,Nt)},m.prototype.getImageData=function(at){(!this.offscreenCanvas||!this.offscreenCanvasContext)&&(this.offscreenCanvas=new OffscreenCanvas(at.width,at.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d")),this.offscreenCanvas.width=at.width,this.offscreenCanvas.height=at.height,this.offscreenCanvasContext.drawImage(at,0,0,at.width,at.height);var bt=this.offscreenCanvasContext.getImageData(-1,-1,at.width+2,at.height+2);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),new a.RGBAImage({width:bt.width,height:bt.height},bt.data)},m.prototype.removeTile=function(at){var bt=this.loaded,Ct=at.uid;bt&&bt[Ct]&&delete bt[Ct]};var h=M;function M(ht,at){var bt=ht&&ht.type,Ct;if(bt==="FeatureCollection")for(Ct=0;Ct<ht.features.length;Ct++)M(ht.features[Ct],at);else if(bt==="GeometryCollection")for(Ct=0;Ct<ht.geometries.length;Ct++)M(ht.geometries[Ct],at);else if(bt==="Feature")M(ht.geometry,at);else if(bt==="Polygon")c(ht.coordinates,at);else if(bt==="MultiPolygon")for(Ct=0;Ct<ht.coordinates.length;Ct++)c(ht.coordinates[Ct],at);return ht}function c(ht,at){if(ht.length!==0){i(ht[0],at);for(var bt=1;bt<ht.length;bt++)i(ht[bt],!at)}}function i(ht,at){for(var bt=0,Ct=0,Dt=ht.length,It=Dt-1;Ct<Dt;It=Ct++)bt+=(ht[Ct][0]-ht[It][0])*(ht[It][1]+ht[Ct][1]);bt>=0!=!!at&&ht.reverse()}var d=a.vectorTile.VectorTileFeature.prototype.toGeoJSON,b=function(at){this._feature=at,this.extent=a.EXTENT,this.type=at.type,this.properties=at.tags,"id"in at&&!isNaN(at.id)&&(this.id=parseInt(at.id,10))};b.prototype.loadGeometry=function(){if(this._feature.type===1){for(var at=[],bt=0,Ct=this._feature.geometry;bt<Ct.length;bt+=1){var Dt=Ct[bt];at.push([new a.Point$1(Dt[0],Dt[1])])}return at}else{for(var It=[],Vt=0,Nt=this._feature.geometry;Vt<Nt.length;Vt+=1){for(var Jt=Nt[Vt],fr=[],cr=0,dr=Jt;cr<dr.length;cr+=1){var Ge=dr[cr];fr.push(new a.Point$1(Ge[0],Ge[1]))}It.push(fr)}return It}},b.prototype.toGeoJSON=function(at,bt,Ct){return d.call(this,at,bt,Ct)};var w=function(at){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=a.EXTENT,this.length=at.length,this._features=at};w.prototype.feature=function(at){return new b(this._features[at])};var E=a.vectorTile.VectorTileFeature,y=S;function S(ht,at){this.options=at||{},this.features=ht,this.length=ht.length}S.prototype.feature=function(ht){return new T(this.features[ht],this.options.extent)};function T(ht,at){this.id=typeof ht.id=="number"?ht.id:void 0,this.type=ht.type,this.rawGeometry=ht.type===1?[ht.geometry]:ht.geometry,this.properties=ht.tags,this.extent=at||4096}T.prototype.loadGeometry=function(){var ht=this.rawGeometry;this.geometry=[];for(var at=0;at<ht.length;at++){for(var bt=ht[at],Ct=[],Dt=0;Dt<bt.length;Dt++)Ct.push(new a.Point$1(bt[Dt][0],bt[Dt][1]));this.geometry.push(Ct)}return this.geometry},T.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var ht=this.geometry,at=1/0,bt=-1/0,Ct=1/0,Dt=-1/0,It=0;It<ht.length;It++)for(var Vt=ht[It],Nt=0;Nt<Vt.length;Nt++){var Jt=Vt[Nt];at=Math.min(at,Jt.x),bt=Math.max(bt,Jt.x),Ct=Math.min(Ct,Jt.y),Dt=Math.max(Dt,Jt.y)}return[at,Ct,bt,Dt]},T.prototype.toGeoJSON=E.prototype.toGeoJSON;var o=I,P=I,x=N,_=y;function I(ht){var at=new a.pbf;return k(ht,at),at.finish()}function N(ht,at){at=at||{};var bt={};for(var Ct in ht)bt[Ct]=new y(ht[Ct].features,at),bt[Ct].name=Ct,bt[Ct].version=at.version,bt[Ct].extent=at.extent;return I({layers:bt})}function k(ht,at){for(var bt in ht.layers)at.writeMessage(3,F,ht.layers[bt])}function F(ht,at){at.writeVarintField(15,ht.version||1),at.writeStringField(1,ht.name||""),at.writeVarintField(5,ht.extent||4096);var bt,Ct={keys:[],values:[],keycache:{},valuecache:{}};for(bt=0;bt<ht.length;bt++)Ct.feature=ht.feature(bt),at.writeMessage(2,O,Ct);var Dt=Ct.keys;for(bt=0;bt<Dt.length;bt++)at.writeStringField(3,Dt[bt]);var It=Ct.values;for(bt=0;bt<It.length;bt++)at.writeMessage(4,ee,It[bt])}function O(ht,at){var bt=ht.feature;bt.id!==void 0&&at.writeVarintField(1,bt.id),at.writeMessage(2,z,ht),at.writeVarintField(3,bt.type),at.writeMessage(4,q,bt)}function z(ht,at){var bt=ht.feature,Ct=ht.keys,Dt=ht.values,It=ht.keycache,Vt=ht.valuecache;for(var Nt in bt.properties){var Jt=It[Nt];typeof Jt=="undefined"&&(Ct.push(Nt),Jt=Ct.length-1,It[Nt]=Jt),at.writeVarint(Jt);var fr=bt.properties[Nt],cr=typeof fr;cr!=="string"&&cr!=="boolean"&&cr!=="number"&&(fr=JSON.stringify(fr));var dr=cr+":"+fr,Ge=Vt[dr];typeof Ge=="undefined"&&(Dt.push(fr),Ge=Dt.length-1,Vt[dr]=Ge),at.writeVarint(Ge)}}function B(ht,at){return(at<<3)+(ht&7)}function W(ht){return ht<<1^ht>>31}function q(ht,at){for(var bt=ht.loadGeometry(),Ct=ht.type,Dt=0,It=0,Vt=bt.length,Nt=0;Nt<Vt;Nt++){var Jt=bt[Nt],fr=1;Ct===1&&(fr=Jt.length),at.writeVarint(B(1,fr));for(var cr=Ct===3?Jt.length-1:Jt.length,dr=0;dr<cr;dr++){dr===1&&Ct!==1&&at.writeVarint(B(2,cr-1));var Ge=Jt[dr].x-Dt,Ve=Jt[dr].y-It;at.writeVarint(W(Ge)),at.writeVarint(W(Ve)),Dt+=Ge,It+=Ve}Ct===3&&at.writeVarint(B(7,1))}}function ee(ht,at){var bt=typeof ht;bt==="string"?at.writeStringField(1,ht):bt==="boolean"?at.writeBooleanField(7,ht):bt==="number"&&(ht%1!==0?at.writeDoubleField(3,ht):ht<0?at.writeSVarintField(6,ht):at.writeVarintField(5,ht))}o.fromVectorTileJs=P,o.fromGeojsonVt=x,o.GeoJSONWrapper=_;function Q(ht,at,bt,Ct,Dt,It){if(!(Dt-Ct<=bt)){var Vt=Ct+Dt>>1;oe(ht,at,Vt,Ct,Dt,It%2),Q(ht,at,bt,Ct,Vt-1,It+1),Q(ht,at,bt,Vt+1,Dt,It+1)}}function oe(ht,at,bt,Ct,Dt,It){for(;Dt>Ct;){if(Dt-Ct>600){var Vt=Dt-Ct+1,Nt=bt-Ct+1,Jt=Math.log(Vt),fr=.5*Math.exp(2*Jt/3),cr=.5*Math.sqrt(Jt*fr*(Vt-fr)/Vt)*(Nt-Vt/2<0?-1:1),dr=Math.max(Ct,Math.floor(bt-Nt*fr/Vt+cr)),Ge=Math.min(Dt,Math.floor(bt+(Vt-Nt)*fr/Vt+cr));oe(ht,at,bt,dr,Ge,It)}var Ve=at[2*bt+It],Ot=Ct,Ft=Dt;for(Z(ht,at,Ct,bt),at[2*Dt+It]>Ve&&Z(ht,at,Ct,Dt);Ot<Ft;){for(Z(ht,at,Ot,Ft),Ot++,Ft--;at[2*Ot+It]<Ve;)Ot++;for(;at[2*Ft+It]>Ve;)Ft--}at[2*Ct+It]===Ve?Z(ht,at,Ct,Ft):(Ft++,Z(ht,at,Ft,Dt)),Ft<=bt&&(Ct=Ft+1),bt<=Ft&&(Dt=Ft-1)}}function Z(ht,at,bt,Ct){Y(ht,bt,Ct),Y(at,2*bt,2*Ct),Y(at,2*bt+1,2*Ct+1)}function Y(ht,at,bt){var Ct=ht[at];ht[at]=ht[bt],ht[bt]=Ct}function te(ht,at,bt,Ct,Dt,It,Vt){for(var Nt=[0,ht.length-1,0],Jt=[],fr,cr;Nt.length;){var dr=Nt.pop(),Ge=Nt.pop(),Ve=Nt.pop();if(Ge-Ve<=Vt){for(var Ot=Ve;Ot<=Ge;Ot++)fr=at[2*Ot],cr=at[2*Ot+1],fr>=bt&&fr<=Dt&&cr>=Ct&&cr<=It&&Jt.push(ht[Ot]);continue}var Ft=Math.floor((Ve+Ge)/2);fr=at[2*Ft],cr=at[2*Ft+1],fr>=bt&&fr<=Dt&&cr>=Ct&&cr<=It&&Jt.push(ht[Ft]);var Kt=(dr+1)%2;(dr===0?bt<=fr:Ct<=cr)&&(Nt.push(Ve),Nt.push(Ft-1),Nt.push(Kt)),(dr===0?Dt>=fr:It>=cr)&&(Nt.push(Ft+1),Nt.push(Ge),Nt.push(Kt))}return Jt}function X(ht,at,bt,Ct,Dt,It){for(var Vt=[0,ht.length-1,0],Nt=[],Jt=Dt*Dt;Vt.length;){var fr=Vt.pop(),cr=Vt.pop(),dr=Vt.pop();if(cr-dr<=It){for(var Ge=dr;Ge<=cr;Ge++)$(at[2*Ge],at[2*Ge+1],bt,Ct)<=Jt&&Nt.push(ht[Ge]);continue}var Ve=Math.floor((dr+cr)/2),Ot=at[2*Ve],Ft=at[2*Ve+1];$(Ot,Ft,bt,Ct)<=Jt&&Nt.push(ht[Ve]);var Kt=(fr+1)%2;(fr===0?bt-Dt<=Ot:Ct-Dt<=Ft)&&(Vt.push(dr),Vt.push(Ve-1),Vt.push(Kt)),(fr===0?bt+Dt>=Ot:Ct+Dt>=Ft)&&(Vt.push(Ve+1),Vt.push(cr),Vt.push(Kt))}return Nt}function $(ht,at,bt,Ct){var Dt=ht-bt,It=at-Ct;return Dt*Dt+It*It}var ie=function(ht){return ht[0]},J=function(ht){return ht[1]},j=function(at,bt,Ct,Dt,It){bt===void 0&&(bt=ie),Ct===void 0&&(Ct=J),Dt===void 0&&(Dt=64),It===void 0&&(It=Float64Array),this.nodeSize=Dt,this.points=at;for(var Vt=at.length<65536?Uint16Array:Uint32Array,Nt=this.ids=new Vt(at.length),Jt=this.coords=new It(at.length*2),fr=0;fr<at.length;fr++)Nt[fr]=fr,Jt[2*fr]=bt(at[fr]),Jt[2*fr+1]=Ct(at[fr]);Q(Nt,Jt,Dt,0,Nt.length-1,0)};j.prototype.range=function(at,bt,Ct,Dt){return te(this.ids,this.coords,at,bt,Ct,Dt,this.nodeSize)},j.prototype.within=function(at,bt,Ct){return X(this.ids,this.coords,at,bt,Ct,this.nodeSize)};var se={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:function(ht){return ht}},ne=function(at){this.options=Se(Object.create(se),at),this.trees=new Array(this.options.maxZoom+1)};ne.prototype.load=function(at){var bt=this.options,Ct=bt.log,Dt=bt.minZoom,It=bt.maxZoom,Vt=bt.nodeSize;Ct&&console.time("total time");var Nt="prepare "+at.length+" points";Ct&&console.time(Nt),this.points=at;for(var Jt=[],fr=0;fr<at.length;fr++)!at[fr].geometry||Jt.push(pe(at[fr],fr));this.trees[It+1]=new j(Jt,Fe,Be,Vt,Float32Array),Ct&&console.timeEnd(Nt);for(var cr=It;cr>=Dt;cr--){var dr=+Date.now();Jt=this._cluster(Jt,cr),this.trees[cr]=new j(Jt,Fe,Be,Vt,Float32Array),Ct&&console.log("z%d: %d clusters in %dms",cr,Jt.length,+Date.now()-dr)}return Ct&&console.timeEnd("total time"),this},ne.prototype.getClusters=function(at,bt){var Ct=((at[0]+180)%360+360)%360-180,Dt=Math.max(-90,Math.min(90,at[1])),It=at[2]===180?180:((at[2]+180)%360+360)%360-180,Vt=Math.max(-90,Math.min(90,at[3]));if(at[2]-at[0]>=360)Ct=-180,It=180;else if(Ct>It){var Nt=this.getClusters([Ct,Dt,180,Vt],bt),Jt=this.getClusters([-180,Dt,It,Vt],bt);return Nt.concat(Jt)}for(var fr=this.trees[this._limitZoom(bt)],cr=fr.range(Re(Ct),xe(Vt),Re(It),xe(Dt)),dr=[],Ge=0,Ve=cr;Ge<Ve.length;Ge+=1){var Ot=Ve[Ge],Ft=fr.points[Ot];dr.push(Ft.numPoints?Ae(Ft):this.points[Ft.index])}return dr},ne.prototype.getChildren=function(at){var bt=this._getOriginId(at),Ct=this._getOriginZoom(at),Dt="No cluster with the specified id.",It=this.trees[Ct];if(!It)throw new Error(Dt);var Vt=It.points[bt];if(!Vt)throw new Error(Dt);for(var Nt=this.options.radius/(this.options.extent*Math.pow(2,Ct-1)),Jt=It.within(Vt.x,Vt.y,Nt),fr=[],cr=0,dr=Jt;cr<dr.length;cr+=1){var Ge=dr[cr],Ve=It.points[Ge];Ve.parentId===at&&fr.push(Ve.numPoints?Ae(Ve):this.points[Ve.index])}if(fr.length===0)throw new Error(Dt);return fr},ne.prototype.getLeaves=function(at,bt,Ct){bt=bt||10,Ct=Ct||0;var Dt=[];return this._appendLeaves(Dt,at,bt,Ct,0),Dt},ne.prototype.getTile=function(at,bt,Ct){var Dt=this.trees[this._limitZoom(at)],It=Math.pow(2,at),Vt=this.options,Nt=Vt.extent,Jt=Vt.radius,fr=Jt/Nt,cr=(Ct-fr)/It,dr=(Ct+1+fr)/It,Ge={features:[]};return this._addTileFeatures(Dt.range((bt-fr)/It,cr,(bt+1+fr)/It,dr),Dt.points,bt,Ct,It,Ge),bt===0&&this._addTileFeatures(Dt.range(1-fr/It,cr,1,dr),Dt.points,It,Ct,It,Ge),bt===It-1&&this._addTileFeatures(Dt.range(0,cr,fr/It,dr),Dt.points,-1,Ct,It,Ge),Ge.features.length?Ge:null},ne.prototype.getClusterExpansionZoom=function(at){for(var bt=this._getOriginZoom(at)-1;bt<=this.options.maxZoom;){var Ct=this.getChildren(at);if(bt++,Ct.length!==1)break;at=Ct[0].properties.cluster_id}return bt},ne.prototype._appendLeaves=function(at,bt,Ct,Dt,It){for(var Vt=this.getChildren(bt),Nt=0,Jt=Vt;Nt<Jt.length;Nt+=1){var fr=Jt[Nt],cr=fr.properties;if(cr&&cr.cluster?It+cr.point_count<=Dt?It+=cr.point_count:It=this._appendLeaves(at,cr.cluster_id,Ct,Dt,It):It<Dt?It++:at.push(fr),at.length===Ct)break}return It},ne.prototype._addTileFeatures=function(at,bt,Ct,Dt,It,Vt){for(var Nt=0,Jt=at;Nt<Jt.length;Nt+=1){var fr=Jt[Nt],cr=bt[fr],dr=cr.numPoints,Ge={type:1,geometry:[[Math.round(this.options.extent*(cr.x*It-Ct)),Math.round(this.options.extent*(cr.y*It-Dt))]],tags:dr?be(cr):this.points[cr.index].properties},Ve=void 0;dr?Ve=cr.id:this.options.generateId?Ve=cr.index:this.points[cr.index].id&&(Ve=this.points[cr.index].id),Ve!==void 0&&(Ge.id=Ve),Vt.features.push(Ge)}},ne.prototype._limitZoom=function(at){return Math.max(this.options.minZoom,Math.min(+at,this.options.maxZoom+1))},ne.prototype._cluster=function(at,bt){for(var Ct=[],Dt=this.options,It=Dt.radius,Vt=Dt.extent,Nt=Dt.reduce,Jt=Dt.minPoints,fr=It/(Vt*Math.pow(2,bt)),cr=0;cr<at.length;cr++){var dr=at[cr];if(!(dr.zoom<=bt)){dr.zoom=bt;for(var Ge=this.trees[bt+1],Ve=Ge.within(dr.x,dr.y,fr),Ot=dr.numPoints||1,Ft=Ot,Kt=0,rr=Ve;Kt<rr.length;Kt+=1){var ur=rr[Kt],ar=Ge.points[ur];ar.zoom>bt&&(Ft+=ar.numPoints||1)}if(Ft>=Jt){for(var Bt=dr.x*Ot,hr=dr.y*Ot,gr=Nt&&Ot>1?this._map(dr,!0):null,mr=(cr<<5)+(bt+1)+this.points.length,vr=0,Gr=Ve;vr<Gr.length;vr+=1){var Rr=Gr[vr],Ir=Ge.points[Rr];if(!(Ir.zoom<=bt)){Ir.zoom=bt;var cn=Ir.numPoints||1;Bt+=Ir.x*cn,hr+=Ir.y*cn,Ir.parentId=mr,Nt&&(gr||(gr=this._map(dr,!0)),Nt(gr,this._map(Ir)))}}dr.parentId=mr,Ct.push(le(Bt/Ft,hr/Ft,mr,Ft,gr))}else if(Ct.push(dr),Ft>1)for(var rn=0,Ln=Ve;rn<Ln.length;rn+=1){var En=Ln[rn],Tr=Ge.points[En];Tr.zoom<=bt||(Tr.zoom=bt,Ct.push(Tr))}}}return Ct},ne.prototype._getOriginId=function(at){return at-this.points.length>>5},ne.prototype._getOriginZoom=function(at){return(at-this.points.length)%32},ne.prototype._map=function(at,bt){if(at.numPoints)return bt?Se({},at.properties):at.properties;var Ct=this.points[at.index].properties,Dt=this.options.map(Ct);return bt&&Dt===Ct?Se({},Dt):Dt};function le(ht,at,bt,Ct,Dt){return{x:ht,y:at,zoom:1/0,id:bt,parentId:-1,numPoints:Ct,properties:Dt}}function pe(ht,at){var bt=ht.geometry.coordinates,Ct=bt[0],Dt=bt[1];return{x:Re(Ct),y:xe(Dt),zoom:1/0,index:at,parentId:-1}}function Ae(ht){return{type:"Feature",id:ht.id,properties:be(ht),geometry:{type:"Point",coordinates:[Me(ht.x),ye(ht.y)]}}}function be(ht){var at=ht.numPoints,bt=at>=1e4?Math.round(at/1e3)+"k":at>=1e3?Math.round(at/100)/10+"k":at;return Se(Se({},ht.properties),{cluster:!0,cluster_id:ht.id,point_count:at,point_count_abbreviated:bt})}function Re(ht){return ht/360+.5}function xe(ht){var at=Math.sin(ht*Math.PI/180),bt=.5-.25*Math.log((1+at)/(1-at))/Math.PI;return bt<0?0:bt>1?1:bt}function Me(ht){return(ht-.5)*360}function ye(ht){var at=(180-ht*360)*Math.PI/180;return 360*Math.atan(Math.exp(at))/Math.PI-90}function Se(ht,at){for(var bt in at)ht[bt]=at[bt];return ht}function Fe(ht){return ht.x}function Be(ht){return ht.y}function _e(ht,at,bt,Ct){for(var Dt=Ct,It=bt-at>>1,Vt=bt-at,Nt,Jt=ht[at],fr=ht[at+1],cr=ht[bt],dr=ht[bt+1],Ge=at+3;Ge<bt;Ge+=3){var Ve=Ue(ht[Ge],ht[Ge+1],Jt,fr,cr,dr);if(Ve>Dt)Nt=Ge,Dt=Ve;else if(Ve===Dt){var Ot=Math.abs(Ge-It);Ot<Vt&&(Nt=Ge,Vt=Ot)}}Dt>Ct&&(Nt-at>3&&_e(ht,at,Nt,Ct),ht[Nt+2]=Dt,bt-Nt>3&&_e(ht,Nt,bt,Ct))}function Ue(ht,at,bt,Ct,Dt,It){var Vt=Dt-bt,Nt=It-Ct;if(Vt!==0||Nt!==0){var Jt=((ht-bt)*Vt+(at-Ct)*Nt)/(Vt*Vt+Nt*Nt);Jt>1?(bt=Dt,Ct=It):Jt>0&&(bt+=Vt*Jt,Ct+=Nt*Jt)}return Vt=ht-bt,Nt=at-Ct,Vt*Vt+Nt*Nt}function it(ht,at,bt,Ct){var Dt={id:typeof ht=="undefined"?null:ht,type:at,geometry:bt,tags:Ct,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return lt(Dt),Dt}function lt(ht){var at=ht.geometry,bt=ht.type;if(bt==="Point"||bt==="MultiPoint"||bt==="LineString")$e(ht,at);else if(bt==="Polygon"||bt==="MultiLineString")for(var Ct=0;Ct<at.length;Ct++)$e(ht,at[Ct]);else if(bt==="MultiPolygon")for(Ct=0;Ct<at.length;Ct++)for(var Dt=0;Dt<at[Ct].length;Dt++)$e(ht,at[Ct][Dt])}function $e(ht,at){for(var bt=0;bt<at.length;bt+=3)ht.minX=Math.min(ht.minX,at[bt]),ht.minY=Math.min(ht.minY,at[bt+1]),ht.maxX=Math.max(ht.maxX,at[bt]),ht.maxY=Math.max(ht.maxY,at[bt+1])}function qe(ht,at){var bt=[];if(ht.type==="FeatureCollection")for(var Ct=0;Ct<ht.features.length;Ct++)ft(bt,ht.features[Ct],at,Ct);else ht.type==="Feature"?ft(bt,ht,at):ft(bt,{geometry:ht},at);return bt}function ft(ht,at,bt,Ct){if(!!at.geometry){var Dt=at.geometry.coordinates,It=at.geometry.type,Vt=Math.pow(bt.tolerance/((1<<bt.maxZoom)*bt.extent),2),Nt=[],Jt=at.id;if(bt.promoteId?Jt=at.properties[bt.promoteId]:bt.generateId&&(Jt=Ct||0),It==="Point")ct(Dt,Nt);else if(It==="MultiPoint")for(var fr=0;fr<Dt.length;fr++)ct(Dt[fr],Nt);else if(It==="LineString")pt(Dt,Nt,Vt,!1);else if(It==="MultiLineString")if(bt.lineMetrics){for(fr=0;fr<Dt.length;fr++)Nt=[],pt(Dt[fr],Nt,Vt,!1),ht.push(it(Jt,"LineString",Nt,at.properties));return}else yt(Dt,Nt,Vt,!1);else if(It==="Polygon")yt(Dt,Nt,Vt,!0);else if(It==="MultiPolygon")for(fr=0;fr<Dt.length;fr++){var cr=[];yt(Dt[fr],cr,Vt,!0),Nt.push(cr)}else if(It==="GeometryCollection"){for(fr=0;fr<at.geometry.geometries.length;fr++)ft(ht,{id:Jt,geometry:at.geometry.geometries[fr],properties:at.properties},bt,Ct);return}else throw new Error("Input data is not a valid GeoJSON object.");ht.push(it(Jt,It,Nt,at.properties))}}function ct(ht,at){at.push(Et(ht[0])),at.push(tt(ht[1])),at.push(0)}function pt(ht,at,bt,Ct){for(var Dt,It,Vt=0,Nt=0;Nt<ht.length;Nt++){var Jt=Et(ht[Nt][0]),fr=tt(ht[Nt][1]);at.push(Jt),at.push(fr),at.push(0),Nt>0&&(Ct?Vt+=(Dt*fr-Jt*It)/2:Vt+=Math.sqrt(Math.pow(Jt-Dt,2)+Math.pow(fr-It,2))),Dt=Jt,It=fr}var cr=at.length-3;at[2]=1,_e(at,0,cr,bt),at[cr+2]=1,at.size=Math.abs(Vt),at.start=0,at.end=at.size}function yt(ht,at,bt,Ct){for(var Dt=0;Dt<ht.length;Dt++){var It=[];pt(ht[Dt],It,bt,Ct),at.push(It)}}function Et(ht){return ht/360+.5}function tt(ht){var at=Math.sin(ht*Math.PI/180),bt=.5-.25*Math.log((1+at)/(1-at))/Math.PI;return bt<0?0:bt>1?1:bt}function Ie(ht,at,bt,Ct,Dt,It,Vt,Nt){if(bt/=at,Ct/=at,It>=bt&&Vt<Ct)return ht;if(Vt<bt||It>=Ct)return null;for(var Jt=[],fr=0;fr<ht.length;fr++){var cr=ht[fr],dr=cr.geometry,Ge=cr.type,Ve=Dt===0?cr.minX:cr.minY,Ot=Dt===0?cr.maxX:cr.maxY;if(Ve>=bt&&Ot<Ct){Jt.push(cr);continue}else if(Ot<bt||Ve>=Ct)continue;var Ft=[];if(Ge==="Point"||Ge==="MultiPoint")We(dr,Ft,bt,Ct,Dt);else if(Ge==="LineString")Ze(dr,Ft,bt,Ct,Dt,!1,Nt.lineMetrics);else if(Ge==="MultiLineString")De(dr,Ft,bt,Ct,Dt,!1);else if(Ge==="Polygon")De(dr,Ft,bt,Ct,Dt,!0);else if(Ge==="MultiPolygon")for(var Kt=0;Kt<dr.length;Kt++){var rr=[];De(dr[Kt],rr,bt,Ct,Dt,!0),rr.length&&Ft.push(rr)}if(Ft.length){if(Nt.lineMetrics&&Ge==="LineString"){for(Kt=0;Kt<Ft.length;Kt++)Jt.push(it(cr.id,Ge,Ft[Kt],cr.tags));continue}(Ge==="LineString"||Ge==="MultiLineString")&&(Ft.length===1?(Ge="LineString",Ft=Ft[0]):Ge="MultiLineString"),(Ge==="Point"||Ge==="MultiPoint")&&(Ge=Ft.length===3?"Point":"MultiPoint"),Jt.push(it(cr.id,Ge,Ft,cr.tags))}}return Jt.length?Jt:null}function We(ht,at,bt,Ct,Dt){for(var It=0;It<ht.length;It+=3){var Vt=ht[It+Dt];Vt>=bt&&Vt<=Ct&&(at.push(ht[It]),at.push(ht[It+1]),at.push(ht[It+2]))}}function Ze(ht,at,bt,Ct,Dt,It,Vt){for(var Nt=He(ht),Jt=Dt===0?ge:Ee,fr=ht.start,cr,dr,Ge=0;Ge<ht.length-3;Ge+=3){var Ve=ht[Ge],Ot=ht[Ge+1],Ft=ht[Ge+2],Kt=ht[Ge+3],rr=ht[Ge+4],ur=Dt===0?Ve:Ot,ar=Dt===0?Kt:rr,Bt=!1;Vt&&(cr=Math.sqrt(Math.pow(Ve-Kt,2)+Math.pow(Ot-rr,2))),ur<bt?ar>bt&&(dr=Jt(Nt,Ve,Ot,Kt,rr,bt),Vt&&(Nt.start=fr+cr*dr)):ur>Ct?ar<Ct&&(dr=Jt(Nt,Ve,Ot,Kt,rr,Ct),Vt&&(Nt.start=fr+cr*dr)):me(Nt,Ve,Ot,Ft),ar<bt&&ur>=bt&&(dr=Jt(Nt,Ve,Ot,Kt,rr,bt),Bt=!0),ar>Ct&&ur<=Ct&&(dr=Jt(Nt,Ve,Ot,Kt,rr,Ct),Bt=!0),!It&&Bt&&(Vt&&(Nt.end=fr+cr*dr),at.push(Nt),Nt=He(ht)),Vt&&(fr+=cr)}var hr=ht.length-3;Ve=ht[hr],Ot=ht[hr+1],Ft=ht[hr+2],ur=Dt===0?Ve:Ot,ur>=bt&&ur<=Ct&&me(Nt,Ve,Ot,Ft),hr=Nt.length-3,It&&hr>=3&&(Nt[hr]!==Nt[0]||Nt[hr+1]!==Nt[1])&&me(Nt,Nt[0],Nt[1],Nt[2]),Nt.length&&at.push(Nt)}function He(ht){var at=[];return at.size=ht.size,at.start=ht.start,at.end=ht.end,at}function De(ht,at,bt,Ct,Dt,It){for(var Vt=0;Vt<ht.length;Vt++)Ze(ht[Vt],at,bt,Ct,Dt,It,!1)}function me(ht,at,bt,Ct){ht.push(at),ht.push(bt),ht.push(Ct)}function ge(ht,at,bt,Ct,Dt,It){var Vt=(It-at)/(Ct-at);return ht.push(It),ht.push(bt+(Dt-bt)*Vt),ht.push(1),Vt}function Ee(ht,at,bt,Ct,Dt,It){var Vt=(It-bt)/(Dt-bt);return ht.push(at+(Ct-at)*Vt),ht.push(It),ht.push(1),Vt}function Te(ht,at){var bt=at.buffer/at.extent,Ct=ht,Dt=Ie(ht,1,-1-bt,bt,0,-1,2,at),It=Ie(ht,1,1-bt,2+bt,0,-1,2,at);return(Dt||It)&&(Ct=Ie(ht,1,-bt,1+bt,0,-1,2,at)||[],Dt&&(Ct=ze(Dt,1).concat(Ct)),It&&(Ct=Ct.concat(ze(It,-1)))),Ct}function ze(ht,at){for(var bt=[],Ct=0;Ct<ht.length;Ct++){var Dt=ht[Ct],It=Dt.type,Vt;if(It==="Point"||It==="MultiPoint"||It==="LineString")Vt=Xe(Dt.geometry,at);else if(It==="MultiLineString"||It==="Polygon"){Vt=[];for(var Nt=0;Nt<Dt.geometry.length;Nt++)Vt.push(Xe(Dt.geometry[Nt],at))}else if(It==="MultiPolygon")for(Vt=[],Nt=0;Nt<Dt.geometry.length;Nt++){for(var Jt=[],fr=0;fr<Dt.geometry[Nt].length;fr++)Jt.push(Xe(Dt.geometry[Nt][fr],at));Vt.push(Jt)}bt.push(it(Dt.id,It,Vt,Dt.tags))}return bt}function Xe(ht,at){var bt=[];bt.size=ht.size,ht.start!==void 0&&(bt.start=ht.start,bt.end=ht.end);for(var Ct=0;Ct<ht.length;Ct+=3)bt.push(ht[Ct]+at,ht[Ct+1],ht[Ct+2]);return bt}function et(ht,at){if(ht.transformed)return ht;var bt=1<<ht.z,Ct=ht.x,Dt=ht.y,It,Vt,Nt;for(It=0;It<ht.features.length;It++){var Jt=ht.features[It],fr=Jt.geometry,cr=Jt.type;if(Jt.geometry=[],cr===1)for(Vt=0;Vt<fr.length;Vt+=2)Jt.geometry.push(ut(fr[Vt],fr[Vt+1],at,bt,Ct,Dt));else for(Vt=0;Vt<fr.length;Vt++){var dr=[];for(Nt=0;Nt<fr[Vt].length;Nt+=2)dr.push(ut(fr[Vt][Nt],fr[Vt][Nt+1],at,bt,Ct,Dt));Jt.geometry.push(dr)}}return ht.transformed=!0,ht}function ut(ht,at,bt,Ct,Dt,It){return[Math.round(bt*(ht*Ct-Dt)),Math.round(bt*(at*Ct-It))]}function dt(ht,at,bt,Ct,Dt){for(var It=at===Dt.maxZoom?0:Dt.tolerance/((1<<at)*Dt.extent),Vt={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:bt,y:Ct,z:at,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},Nt=0;Nt<ht.length;Nt++){Vt.numFeatures++,Zt(Vt,ht[Nt],It,Dt);var Jt=ht[Nt].minX,fr=ht[Nt].minY,cr=ht[Nt].maxX,dr=ht[Nt].maxY;Jt<Vt.minX&&(Vt.minX=Jt),fr<Vt.minY&&(Vt.minY=fr),cr>Vt.maxX&&(Vt.maxX=cr),dr>Vt.maxY&&(Vt.maxY=dr)}return Vt}function Zt(ht,at,bt,Ct){var Dt=at.geometry,It=at.type,Vt=[];if(It==="Point"||It==="MultiPoint")for(var Nt=0;Nt<Dt.length;Nt+=3)Vt.push(Dt[Nt]),Vt.push(Dt[Nt+1]),ht.numPoints++,ht.numSimplified++;else if(It==="LineString")jt(Vt,Dt,ht,bt,!1,!1);else if(It==="MultiLineString"||It==="Polygon")for(Nt=0;Nt<Dt.length;Nt++)jt(Vt,Dt[Nt],ht,bt,It==="Polygon",Nt===0);else if(It==="MultiPolygon")for(var Jt=0;Jt<Dt.length;Jt++){var fr=Dt[Jt];for(Nt=0;Nt<fr.length;Nt++)jt(Vt,fr[Nt],ht,bt,!0,Nt===0)}if(Vt.length){var cr=at.tags||null;if(It==="LineString"&&Ct.lineMetrics){cr={};for(var dr in at.tags)cr[dr]=at.tags[dr];cr.mapbox_clip_start=Dt.start/Dt.size,cr.mapbox_clip_end=Dt.end/Dt.size}var Ge={geometry:Vt,type:It==="Polygon"||It==="MultiPolygon"?3:It==="LineString"||It==="MultiLineString"?2:1,tags:cr};at.id!==null&&(Ge.id=at.id),ht.features.push(Ge)}}function jt(ht,at,bt,Ct,Dt,It){var Vt=Ct*Ct;if(Ct>0&&at.size<(Dt?Vt:Ct)){bt.numPoints+=at.length/3;return}for(var Nt=[],Jt=0;Jt<at.length;Jt+=3)(Ct===0||at[Jt+2]>Vt)&&(bt.numSimplified++,Nt.push(at[Jt]),Nt.push(at[Jt+1])),bt.numPoints++;Dt&&Tt(Nt,It),ht.push(Nt)}function Tt(ht,at){for(var bt=0,Ct=0,Dt=ht.length,It=Dt-2;Ct<Dt;It=Ct,Ct+=2)bt+=(ht[Ct]-ht[It])*(ht[Ct+1]+ht[It+1]);if(bt>0===at)for(Ct=0,Dt=ht.length;Ct<Dt/2;Ct+=2){var Vt=ht[Ct],Nt=ht[Ct+1];ht[Ct]=ht[Dt-2-Ct],ht[Ct+1]=ht[Dt-1-Ct],ht[Dt-2-Ct]=Vt,ht[Dt-1-Ct]=Nt}}function kt(ht,at){return new Qt(ht,at)}function Qt(ht,at){at=this.options=xt(Object.create(this.options),at);var bt=at.debug;if(bt&&console.time("preprocess data"),at.maxZoom<0||at.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(at.promoteId&&at.generateId)throw new Error("promoteId and generateId cannot be used together.");var Ct=qe(ht,at);this.tiles={},this.tileCoords=[],bt&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",at.indexMaxZoom,at.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),Ct=Te(Ct,at),Ct.length&&this.splitTile(Ct,0,0,0),bt&&(Ct.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}Qt.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},Qt.prototype.splitTile=function(ht,at,bt,Ct,Dt,It,Vt){for(var Nt=[ht,at,bt,Ct],Jt=this.options,fr=Jt.debug;Nt.length;){Ct=Nt.pop(),bt=Nt.pop(),at=Nt.pop(),ht=Nt.pop();var cr=1<<at,dr=wr(at,bt,Ct),Ge=this.tiles[dr];if(!Ge&&(fr>1&&console.time("creation"),Ge=this.tiles[dr]=dt(ht,at,bt,Ct,Jt),this.tileCoords.push({z:at,x:bt,y:Ct}),fr)){fr>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",at,bt,Ct,Ge.numFeatures,Ge.numPoints,Ge.numSimplified),console.timeEnd("creation"));var Ve="z"+at;this.stats[Ve]=(this.stats[Ve]||0)+1,this.total++}if(Ge.source=ht,Dt){if(at===Jt.maxZoom||at===Dt)continue;var Ot=1<<Dt-at;if(bt!==Math.floor(It/Ot)||Ct!==Math.floor(Vt/Ot))continue}else if(at===Jt.indexMaxZoom||Ge.numPoints<=Jt.indexMaxPoints)continue;if(Ge.source=null,ht.length!==0){fr>1&&console.time("clipping");var Ft=.5*Jt.buffer/Jt.extent,Kt=.5-Ft,rr=.5+Ft,ur=1+Ft,ar,Bt,hr,gr,mr,vr;ar=Bt=hr=gr=null,mr=Ie(ht,cr,bt-Ft,bt+rr,0,Ge.minX,Ge.maxX,Jt),vr=Ie(ht,cr,bt+Kt,bt+ur,0,Ge.minX,Ge.maxX,Jt),ht=null,mr&&(ar=Ie(mr,cr,Ct-Ft,Ct+rr,1,Ge.minY,Ge.maxY,Jt),Bt=Ie(mr,cr,Ct+Kt,Ct+ur,1,Ge.minY,Ge.maxY,Jt),mr=null),vr&&(hr=Ie(vr,cr,Ct-Ft,Ct+rr,1,Ge.minY,Ge.maxY,Jt),gr=Ie(vr,cr,Ct+Kt,Ct+ur,1,Ge.minY,Ge.maxY,Jt),vr=null),fr>1&&console.timeEnd("clipping"),Nt.push(ar||[],at+1,bt*2,Ct*2),Nt.push(Bt||[],at+1,bt*2,Ct*2+1),Nt.push(hr||[],at+1,bt*2+1,Ct*2),Nt.push(gr||[],at+1,bt*2+1,Ct*2+1)}}},Qt.prototype.getTile=function(ht,at,bt){var Ct=this.options,Dt=Ct.extent,It=Ct.debug;if(ht<0||ht>24)return null;var Vt=1<<ht;at=(at%Vt+Vt)%Vt;var Nt=wr(ht,at,bt);if(this.tiles[Nt])return et(this.tiles[Nt],Dt);It>1&&console.log("drilling down to z%d-%d-%d",ht,at,bt);for(var Jt=ht,fr=at,cr=bt,dr;!dr&&Jt>0;)Jt--,fr=Math.floor(fr/2),cr=Math.floor(cr/2),dr=this.tiles[wr(Jt,fr,cr)];return!dr||!dr.source?null:(It>1&&console.log("found parent tile z%d-%d-%d",Jt,fr,cr),It>1&&console.time("drilling down"),this.splitTile(dr.source,Jt,fr,cr,ht,at,bt),It>1&&console.timeEnd("drilling down"),this.tiles[Nt]?et(this.tiles[Nt],Dt):null)};function wr(ht,at,bt){return((1<<ht)*bt+at)*32+ht}function xt(ht,at){for(var bt in at)ht[bt]=at[bt];return ht}function At(ht,at){var bt=ht.tileID.canonical;if(!this._geoJSONIndex)return at(null,null);var Ct=this._geoJSONIndex.getTile(bt.z,bt.x,bt.y);if(!Ct)return at(null,null);var Dt=new w(Ct.features),It=o(Dt);(It.byteOffset!==0||It.byteLength!==It.buffer.byteLength)&&(It=new Uint8Array(It)),at(null,{vectorTile:Dt,rawData:It.buffer})}var Wt=function(ht){function at(bt,Ct,Dt,It){ht.call(this,bt,Ct,Dt,At),It&&(this.loadGeoJSON=It)}return ht&&(at.__proto__=ht),at.prototype=Object.create(ht&&ht.prototype),at.prototype.constructor=at,at.prototype.loadData=function(Ct,Dt){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),this._pendingCallback=Dt,this._pendingLoadDataParams=Ct,this._state&&this._state!=="Idle"?this._state="NeedsLoadData":(this._state="Coalescing",this._loadData())},at.prototype._loadData=function(){var Ct=this;if(!(!this._pendingCallback||!this._pendingLoadDataParams)){var Dt=this._pendingCallback,It=this._pendingLoadDataParams;delete this._pendingCallback,delete this._pendingLoadDataParams;var Vt=It&&It.request&&It.request.collectResourceTiming?new a.RequestPerformance(It.request):!1;this.loadGeoJSON(It,function(Nt,Jt){if(Nt||!Jt)return Dt(Nt);if(typeof Jt!="object")return Dt(new Error("Input data given to '"+It.source+"' is not a valid GeoJSON object."));h(Jt,!0);try{if(It.filter){var fr=a.createExpression(It.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(fr.result==="error")throw new Error(fr.value.map(function(Ve){return Ve.key+": "+Ve.message}).join(", "));var cr=Jt.features.filter(function(Ve){return fr.value.evaluate({zoom:0},Ve)});Jt={type:"FeatureCollection",features:cr}}Ct._geoJSONIndex=It.cluster?new ne(er(It)).load(Jt.features):kt(Jt,It.geojsonVtOptions)}catch(Ve){return Dt(Ve)}Ct.loaded={};var dr={};if(Vt){var Ge=Vt.finish();Ge&&(dr.resourceTiming={},dr.resourceTiming[It.source]=JSON.parse(JSON.stringify(Ge)))}Dt(null,dr)})}},at.prototype.coalesce=function(){this._state==="Coalescing"?this._state="Idle":this._state==="NeedsLoadData"&&(this._state="Coalescing",this._loadData())},at.prototype.reloadTile=function(Ct,Dt){var It=this.loaded,Vt=Ct.uid;return It&&It[Vt]?ht.prototype.reloadTile.call(this,Ct,Dt):this.loadTile(Ct,Dt)},at.prototype.loadGeoJSON=function(Ct,Dt){if(Ct.request)a.getJSON(Ct.request,Dt);else if(typeof Ct.data=="string")try{return Dt(null,JSON.parse(Ct.data))}catch{return Dt(new Error("Input data given to '"+Ct.source+"' is not a valid GeoJSON object."))}else return Dt(new Error("Input data given to '"+Ct.source+"' is not a valid GeoJSON object."))},at.prototype.removeSource=function(Ct,Dt){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),Dt()},at.prototype.getClusterExpansionZoom=function(Ct,Dt){try{Dt(null,this._geoJSONIndex.getClusterExpansionZoom(Ct.clusterId))}catch(It){Dt(It)}},at.prototype.getClusterChildren=function(Ct,Dt){try{Dt(null,this._geoJSONIndex.getChildren(Ct.clusterId))}catch(It){Dt(It)}},at.prototype.getClusterLeaves=function(Ct,Dt){try{Dt(null,this._geoJSONIndex.getLeaves(Ct.clusterId,Ct.limit,Ct.offset))}catch(It){Dt(It)}},at}(u);function er(ht){var at=ht.superclusterOptions,bt=ht.clusterProperties;if(!bt||!at)return at;for(var Ct={},Dt={},It={accumulated:null,zoom:0},Vt={properties:null},Nt=Object.keys(bt),Jt=0,fr=Nt;Jt<fr.length;Jt+=1){var cr=fr[Jt],dr=bt[cr],Ge=dr[0],Ve=dr[1],Ot=a.createExpression(Ve),Ft=a.createExpression(typeof Ge=="string"?[Ge,["accumulated"],["get",cr]]:Ge);Ct[cr]=Ot.value,Dt[cr]=Ft.value}return at.map=function(Kt){Vt.properties=Kt;for(var rr={},ur=0,ar=Nt;ur<ar.length;ur+=1){var Bt=ar[ur];rr[Bt]=Ct[Bt].evaluate(It,Vt)}return rr},at.reduce=function(Kt,rr){Vt.properties=rr;for(var ur=0,ar=Nt;ur<ar.length;ur+=1){var Bt=ar[ur];It.accumulated=Kt[Bt],Kt[Bt]=Dt[Bt].evaluate(It,Vt)}},at}var $t=function(at){var bt=this;this.self=at,this.actor=new a.Actor(at,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:u,geojson:Wt},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=function(Ct,Dt){if(bt.workerSourceTypes[Ct])throw new Error('Worker source with name "'+Ct+'" already registered.');bt.workerSourceTypes[Ct]=Dt},this.self.registerRTLTextPlugin=function(Ct){if(a.plugin.isParsed())throw new Error("RTL text plugin already registered.");a.plugin.applyArabicShaping=Ct.applyArabicShaping,a.plugin.processBidirectionalText=Ct.processBidirectionalText,a.plugin.processStyledBidirectionalText=Ct.processStyledBidirectionalText}};return $t.prototype.setReferrer=function(at,bt){this.referrer=bt},$t.prototype.setImages=function(at,bt,Ct){this.availableImages[at]=bt;for(var Dt in this.workerSources[at]){var It=this.workerSources[at][Dt];for(var Vt in It)It[Vt].availableImages=bt}Ct()},$t.prototype.setLayers=function(at,bt,Ct){this.getLayerIndex(at).replace(bt),Ct()},$t.prototype.updateLayers=function(at,bt,Ct){this.getLayerIndex(at).update(bt.layers,bt.removedIds),Ct()},$t.prototype.loadTile=function(at,bt,Ct){this.getWorkerSource(at,bt.type,bt.source).loadTile(bt,Ct)},$t.prototype.loadDEMTile=function(at,bt,Ct){this.getDEMWorkerSource(at,bt.source).loadTile(bt,Ct)},$t.prototype.reloadTile=function(at,bt,Ct){this.getWorkerSource(at,bt.type,bt.source).reloadTile(bt,Ct)},$t.prototype.abortTile=function(at,bt,Ct){this.getWorkerSource(at,bt.type,bt.source).abortTile(bt,Ct)},$t.prototype.removeTile=function(at,bt,Ct){this.getWorkerSource(at,bt.type,bt.source).removeTile(bt,Ct)},$t.prototype.removeDEMTile=function(at,bt){this.getDEMWorkerSource(at,bt.source).removeTile(bt)},$t.prototype.removeSource=function(at,bt,Ct){if(!(!this.workerSources[at]||!this.workerSources[at][bt.type]||!this.workerSources[at][bt.type][bt.source])){var Dt=this.workerSources[at][bt.type][bt.source];delete this.workerSources[at][bt.type][bt.source],Dt.removeSource!==void 0?Dt.removeSource(bt,Ct):Ct()}},$t.prototype.loadWorkerSource=function(at,bt,Ct){try{this.self.importScripts(bt.url),Ct()}catch(Dt){Ct(Dt.toString())}},$t.prototype.syncRTLPluginState=function(at,bt,Ct){try{a.plugin.setState(bt);var Dt=a.plugin.getPluginURL();if(a.plugin.isLoaded()&&!a.plugin.isParsed()&&Dt!=null){this.self.importScripts(Dt);var It=a.plugin.isParsed(),Vt=It?void 0:new Error("RTL Text Plugin failed to import scripts from "+Dt);Ct(Vt,It)}}catch(Nt){Ct(Nt.toString())}},$t.prototype.getAvailableImages=function(at){var bt=this.availableImages[at];return bt||(bt=[]),bt},$t.prototype.getLayerIndex=function(at){var bt=this.layerIndexes[at];return bt||(bt=this.layerIndexes[at]=new p),bt},$t.prototype.getWorkerSource=function(at,bt,Ct){var Dt=this;if(this.workerSources[at]||(this.workerSources[at]={}),this.workerSources[at][bt]||(this.workerSources[at][bt]={}),!this.workerSources[at][bt][Ct]){var It={send:function(Vt,Nt,Jt){Dt.actor.send(Vt,Nt,Jt,at)}};this.workerSources[at][bt][Ct]=new this.workerSourceTypes[bt](It,this.getLayerIndex(at),this.getAvailableImages(at))}return this.workerSources[at][bt][Ct]},$t.prototype.getDEMWorkerSource=function(at,bt){return this.demWorkerSources[at]||(this.demWorkerSources[at]={}),this.demWorkerSources[at][bt]||(this.demWorkerSources[at][bt]=new m),this.demWorkerSources[at][bt]},$t.prototype.enforceCacheSizeLimit=function(at,bt){a.enforceCacheSizeLimit(bt)},typeof WorkerGlobalScope!="undefined"&&typeof self!="undefined"&&self instanceof WorkerGlobalScope&&(self.worker=new $t(self)),$t}),L(["./shared"],function(a){var C=a.createCommonjsModule(function(fe){fe.exports?fe.exports=K:window&&(window.mapboxgl=window.mapboxgl||{},window.mapboxgl.supported=K,window.mapboxgl.notSupportedReason=he);function K(Hr){return!he(Hr)}function he(Hr){if(!re())return"not a browser";if(!de())return"insufficent Array support";if(!ke())return"insufficient Function support";if(!je())return"insufficient Object support";if(!ot())return"insufficient JSON support";if(!Lt())return"insufficient worker support";if(!Ht())return"insufficient Uint8ClampedArray support";if(!qt())return"insufficient ArrayBuffer support";if(!lr())return"insufficient Canvas/getImageData support";if(!kr(Hr&&Hr.failIfMajorPerformanceCaveat))return"insufficient WebGL support"}function re(){return typeof window!="undefined"&&typeof document!="undefined"}function de(){return Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray}function ke(){return Function.prototype&&Function.prototype.bind}function je(){return Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions}function ot(){return"JSON"in window&&"parse"in JSON&&"stringify"in JSON}function Lt(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var Hr=new Blob([""],{type:"text/javascript"}),Kr=URL.createObjectURL(Hr),fn,kn;try{kn=new Worker(Kr),fn=!0}catch{fn=!1}return kn&&kn.terminate(),URL.revokeObjectURL(Kr),fn}function Ht(){return"Uint8ClampedArray"in window}function qt(){return ArrayBuffer.isView}function lr(){var Hr=document.createElement("canvas");Hr.width=Hr.height=1;var Kr=Hr.getContext("2d");if(!Kr)return!1;var fn=Kr.getImageData(0,0,1,1);return fn&&fn.width===Hr.width}var sr={};function kr(Hr){return sr[Hr]===void 0&&(sr[Hr]=Yr(Hr)),sr[Hr]}K.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0};function Xr(Hr){var Kr=document.createElement("canvas"),fn=Object.create(K.webGLContextAttributes);return fn.failIfMajorPerformanceCaveat=Hr,Kr.probablySupportsContext?Kr.probablySupportsContext("webgl",fn)||Kr.probablySupportsContext("experimental-webgl",fn):Kr.supportsContext?Kr.supportsContext("webgl",fn)||Kr.supportsContext("experimental-webgl",fn):Kr.getContext("webgl",fn)||Kr.getContext("experimental-webgl",fn)}function Yr(Hr){var Kr=Xr(Hr);if(!Kr)return!1;var fn=Kr.createShader(Kr.VERTEX_SHADER);return!fn||Kr.isContextLost()?!1:(Kr.shaderSource(fn,"void main() {}"),Kr.compileShader(fn),Kr.getShaderParameter(fn,Kr.COMPILE_STATUS)===!0)}}),A={};A.create=function(fe,K,he){var re=a.window.document.createElement(fe);return K!==void 0&&(re.className=K),he&&he.appendChild(re),re},A.createNS=function(fe,K){var he=a.window.document.createElementNS(fe,K);return he};var v=a.window.document&&a.window.document.documentElement.style;function p(fe){if(!v)return fe[0];for(var K=0;K<fe.length;K++)if(fe[K]in v)return fe[K];return fe[0]}var r=p(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]),t;A.disableDrag=function(){v&&r&&(t=v[r],v[r]="none")},A.enableDrag=function(){v&&r&&(v[r]=t)};var s=p(["transform","WebkitTransform"]);A.setTransform=function(fe,K){fe.style[s]=K};var n=!1;try{var f=Object.defineProperty({},"passive",{get:function(){n=!0}});a.window.addEventListener("test",f,f),a.window.removeEventListener("test",f,f)}catch{n=!1}A.addEventListener=function(fe,K,he,re){re===void 0&&(re={}),"passive"in re&&n?fe.addEventListener(K,he,re):fe.addEventListener(K,he,re.capture)},A.removeEventListener=function(fe,K,he,re){re===void 0&&(re={}),"passive"in re&&n?fe.removeEventListener(K,he,re):fe.removeEventListener(K,he,re.capture)};var u=function(fe){fe.preventDefault(),fe.stopPropagation(),a.window.removeEventListener("click",u,!0)};A.suppressClick=function(){a.window.addEventListener("click",u,!0),a.window.setTimeout(function(){a.window.removeEventListener("click",u,!0)},0)},A.mousePos=function(fe,K){var he=fe.getBoundingClientRect();return new a.Point(K.clientX-he.left-fe.clientLeft,K.clientY-he.top-fe.clientTop)},A.touchPos=function(fe,K){for(var he=fe.getBoundingClientRect(),re=[],de=0;de<K.length;de++)re.push(new a.Point(K[de].clientX-he.left-fe.clientLeft,K[de].clientY-he.top-fe.clientTop));return re},A.mouseButton=function(fe){return typeof a.window.InstallTrigger!="undefined"&&fe.button===2&&fe.ctrlKey&&a.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:fe.button},A.remove=function(fe){fe.parentNode&&fe.parentNode.removeChild(fe)};function l(fe,K,he){var re,de,ke,je=a.browser.devicePixelRatio>1?"@2x":"",ot=a.getJSON(K.transformRequest(K.normalizeSpriteURL(fe,je,".json"),a.ResourceType.SpriteJSON),function(qt,lr){ot=null,ke||(ke=qt,re=lr,Ht())}),Lt=a.getImage(K.transformRequest(K.normalizeSpriteURL(fe,je,".png"),a.ResourceType.SpriteImage),function(qt,lr){Lt=null,ke||(ke=qt,de=lr,Ht())});function Ht(){if(ke)he(ke);else if(re&&de){var qt=a.browser.getImageData(de),lr={};for(var sr in re){var kr=re[sr],Xr=kr.width,Yr=kr.height,Hr=kr.x,Kr=kr.y,fn=kr.sdf,kn=kr.pixelRatio,Bn=kr.stretchX,Yn=kr.stretchY,Xn=kr.content,Gn=new a.RGBAImage({width:Xr,height:Yr});a.RGBAImage.copy(qt,Gn,{x:Hr,y:Kr},{x:0,y:0},{width:Xr,height:Yr}),lr[sr]={data:Gn,pixelRatio:kn,sdf:fn,stretchX:Bn,stretchY:Yn,content:Xn}}he(null,lr)}}return{cancel:function(){ot&&(ot.cancel(),ot=null),Lt&&(Lt.cancel(),Lt=null)}}}function m(fe){var K=fe.userImage;if(K&&K.render){var he=K.render();if(he)return fe.data.replace(new Uint8Array(K.data.buffer)),!0}return!1}var h=1,M=function(fe){function K(){fe.call(this),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new a.RGBAImage({width:1,height:1}),this.dirty=!0}return fe&&(K.__proto__=fe),K.prototype=Object.create(fe&&fe.prototype),K.prototype.constructor=K,K.prototype.isLoaded=function(){return this.loaded},K.prototype.setLoaded=function(re){if(this.loaded!==re&&(this.loaded=re,re)){for(var de=0,ke=this.requestors;de<ke.length;de+=1){var je=ke[de],ot=je.ids,Lt=je.callback;this._notify(ot,Lt)}this.requestors=[]}},K.prototype.getImage=function(re){return this.images[re]},K.prototype.addImage=function(re,de){this._validate(re,de)&&(this.images[re]=de)},K.prototype._validate=function(re,de){var ke=!0;return this._validateStretch(de.stretchX,de.data&&de.data.width)||(this.fire(new a.ErrorEvent(new Error('Image "'+re+'" has invalid "stretchX" value'))),ke=!1),this._validateStretch(de.stretchY,de.data&&de.data.height)||(this.fire(new a.ErrorEvent(new Error('Image "'+re+'" has invalid "stretchY" value'))),ke=!1),this._validateContent(de.content,de)||(this.fire(new a.ErrorEvent(new Error('Image "'+re+'" has invalid "content" value'))),ke=!1),ke},K.prototype._validateStretch=function(re,de){if(!re)return!0;for(var ke=0,je=0,ot=re;je<ot.length;je+=1){var Lt=ot[je];if(Lt[0]<ke||Lt[1]<Lt[0]||de<Lt[1])return!1;ke=Lt[1]}return!0},K.prototype._validateContent=function(re,de){return re?!(re.length!==4||re[0]<0||de.data.width<re[0]||re[1]<0||de.data.height<re[1]||re[2]<0||de.data.width<re[2]||re[3]<0||de.data.height<re[3]||re[2]<re[0]||re[3]<re[1]):!0},K.prototype.updateImage=function(re,de){var ke=this.images[re];de.version=ke.version+1,this.images[re]=de,this.updatedImages[re]=!0},K.prototype.removeImage=function(re){var de=this.images[re];delete this.images[re],delete this.patterns[re],de.userImage&&de.userImage.onRemove&&de.userImage.onRemove()},K.prototype.listImages=function(){return Object.keys(this.images)},K.prototype.getImages=function(re,de){var ke=!0;if(!this.isLoaded())for(var je=0,ot=re;je<ot.length;je+=1){var Lt=ot[je];this.images[Lt]||(ke=!1)}this.isLoaded()||ke?this._notify(re,de):this.requestors.push({ids:re,callback:de})},K.prototype._notify=function(re,de){for(var ke={},je=0,ot=re;je<ot.length;je+=1){var Lt=ot[je];this.images[Lt]||this.fire(new a.Event("styleimagemissing",{id:Lt}));var Ht=this.images[Lt];Ht?ke[Lt]={data:Ht.data.clone(),pixelRatio:Ht.pixelRatio,sdf:Ht.sdf,version:Ht.version,stretchX:Ht.stretchX,stretchY:Ht.stretchY,content:Ht.content,hasRenderCallback:Boolean(Ht.userImage&&Ht.userImage.render)}:a.warnOnce('Image "'+Lt+'" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.')}de(null,ke)},K.prototype.getPixelSize=function(){var re=this.atlasImage,de=re.width,ke=re.height;return{width:de,height:ke}},K.prototype.getPattern=function(re){var de=this.patterns[re],ke=this.getImage(re);if(!ke)return null;if(de&&de.position.version===ke.version)return de.position;if(de)de.position.version=ke.version;else{var je=ke.data.width+h*2,ot=ke.data.height+h*2,Lt={w:je,h:ot,x:0,y:0},Ht=new a.ImagePosition(Lt,ke);this.patterns[re]={bin:Lt,position:Ht}}return this._updatePatternAtlas(),this.patterns[re].position},K.prototype.bind=function(re){var de=re.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new a.Texture(re,this.atlasImage,de.RGBA),this.atlasTexture.bind(de.LINEAR,de.CLAMP_TO_EDGE)},K.prototype._updatePatternAtlas=function(){var re=[];for(var de in this.patterns)re.push(this.patterns[de].bin);var ke=a.potpack(re),je=ke.w,ot=ke.h,Lt=this.atlasImage;Lt.resize({width:je||1,height:ot||1});for(var Ht in this.patterns){var qt=this.patterns[Ht],lr=qt.bin,sr=lr.x+h,kr=lr.y+h,Xr=this.images[Ht].data,Yr=Xr.width,Hr=Xr.height;a.RGBAImage.copy(Xr,Lt,{x:0,y:0},{x:sr,y:kr},{width:Yr,height:Hr}),a.RGBAImage.copy(Xr,Lt,{x:0,y:Hr-1},{x:sr,y:kr-1},{width:Yr,height:1}),a.RGBAImage.copy(Xr,Lt,{x:0,y:0},{x:sr,y:kr+Hr},{width:Yr,height:1}),a.RGBAImage.copy(Xr,Lt,{x:Yr-1,y:0},{x:sr-1,y:kr},{width:1,height:Hr}),a.RGBAImage.copy(Xr,Lt,{x:0,y:0},{x:sr+Yr,y:kr},{width:1,height:Hr})}this.dirty=!0},K.prototype.beginFrame=function(){this.callbackDispatchedThisFrame={}},K.prototype.dispatchRenderCallbacks=function(re){for(var de=0,ke=re;de<ke.length;de+=1){var je=ke[de];if(!this.callbackDispatchedThisFrame[je]){this.callbackDispatchedThisFrame[je]=!0;var ot=this.images[je],Lt=m(ot);Lt&&this.updateImage(je,ot)}}},K}(a.Evented);function c(fe,K,he,re,de){var ke=K*256,je=ke+255,ot=re.transformRequest(re.normalizeGlyphsURL(he).replace("{fontstack}",fe).replace("{range}",ke+"-"+je),a.ResourceType.Glyphs);a.getArrayBuffer(ot,function(Lt,Ht){if(Lt)de(Lt);else if(Ht){for(var qt={},lr=0,sr=a.parseGlyphPBF(Ht);lr<sr.length;lr+=1){var kr=sr[lr];qt[kr.id]=kr}de(null,qt)}})}var i=w,d=w,b=1e20;function w(fe,K,he,re,de,ke){this.fontSize=fe||24,this.buffer=K===void 0?3:K,this.cutoff=re||.25,this.fontFamily=de||"sans-serif",this.fontWeight=ke||"normal",this.radius=he||8;var je=this.size=this.fontSize+this.buffer*2;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=je,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textBaseline="middle",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(je*je),this.gridInner=new Float64Array(je*je),this.f=new Float64Array(je),this.d=new Float64Array(je),this.z=new Float64Array(je+1),this.v=new Int16Array(je),this.middle=Math.round(je/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}w.prototype.draw=function(fe){this.ctx.clearRect(0,0,this.size,this.size),this.ctx.fillText(fe,this.buffer,this.middle);for(var K=this.ctx.getImageData(0,0,this.size,this.size),he=new Uint8ClampedArray(this.size*this.size),re=0;re<this.size*this.size;re++){var de=K.data[re*4+3]/255;this.gridOuter[re]=de===1?0:de===0?b:Math.pow(Math.max(0,.5-de),2),this.gridInner[re]=de===1?b:de===0?0:Math.pow(Math.max(0,de-.5),2)}for(E(this.gridOuter,this.size,this.size,this.f,this.d,this.v,this.z),E(this.gridInner,this.size,this.size,this.f,this.d,this.v,this.z),re=0;re<this.size*this.size;re++){var ke=this.gridOuter[re]-this.gridInner[re];he[re]=Math.max(0,Math.min(255,Math.round(255-255*(ke/this.radius+this.cutoff))))}return he};function E(fe,K,he,re,de,ke,je){for(var ot=0;ot<K;ot++){for(var Lt=0;Lt<he;Lt++)re[Lt]=fe[Lt*K+ot];for(y(re,de,ke,je,he),Lt=0;Lt<he;Lt++)fe[Lt*K+ot]=de[Lt]}for(Lt=0;Lt<he;Lt++){for(ot=0;ot<K;ot++)re[ot]=fe[Lt*K+ot];for(y(re,de,ke,je,K),ot=0;ot<K;ot++)fe[Lt*K+ot]=Math.sqrt(de[ot])}}function y(fe,K,he,re,de){he[0]=0,re[0]=-b,re[1]=+b;for(var ke=1,je=0;ke<de;ke++){for(var ot=(fe[ke]+ke*ke-(fe[he[je]]+he[je]*he[je]))/(2*ke-2*he[je]);ot<=re[je];)je--,ot=(fe[ke]+ke*ke-(fe[he[je]]+he[je]*he[je]))/(2*ke-2*he[je]);je++,he[je]=ke,re[je]=ot,re[je+1]=+b}for(ke=0,je=0;ke<de;ke++){for(;re[je+1]<ke;)je++;K[ke]=(ke-he[je])*(ke-he[je])+fe[he[je]]}}i.default=d;var S=function(K,he){this.requestManager=K,this.localIdeographFontFamily=he,this.entries={}};S.prototype.setURL=function(K){this.url=K},S.prototype.getGlyphs=function(K,he){var re=this,de=[];for(var ke in K)for(var je=0,ot=K[ke];je<ot.length;je+=1){var Lt=ot[je];de.push({stack:ke,id:Lt})}a.asyncAll(de,function(Ht,qt){var lr=Ht.stack,sr=Ht.id,kr=re.entries[lr];kr||(kr=re.entries[lr]={glyphs:{},requests:{},ranges:{}});var Xr=kr.glyphs[sr];if(Xr!==void 0){qt(null,{stack:lr,id:sr,glyph:Xr});return}if(Xr=re._tinySDF(kr,lr,sr),Xr){kr.glyphs[sr]=Xr,qt(null,{stack:lr,id:sr,glyph:Xr});return}var Yr=Math.floor(sr/256);if(Yr*256>65535){qt(new Error("glyphs > 65535 not supported"));return}if(kr.ranges[Yr]){qt(null,{stack:lr,id:sr,glyph:Xr});return}var Hr=kr.requests[Yr];Hr||(Hr=kr.requests[Yr]=[],S.loadGlyphRange(lr,Yr,re.url,re.requestManager,function(Kr,fn){if(fn){for(var kn in fn)re._doesCharSupportLocalGlyph(+kn)||(kr.glyphs[+kn]=fn[+kn]);kr.ranges[Yr]=!0}for(var Bn=0,Yn=Hr;Bn<Yn.length;Bn+=1){var Xn=Yn[Bn];Xn(Kr,fn)}delete kr.requests[Yr]})),Hr.push(function(Kr,fn){Kr?qt(Kr):fn&&qt(null,{stack:lr,id:sr,glyph:fn[sr]||null})})},function(Ht,qt){if(Ht)he(Ht);else if(qt){for(var lr={},sr=0,kr=qt;sr<kr.length;sr+=1){var Xr=kr[sr],Yr=Xr.stack,Hr=Xr.id,Kr=Xr.glyph;(lr[Yr]||(lr[Yr]={}))[Hr]=Kr&&{id:Kr.id,bitmap:Kr.bitmap.clone(),metrics:Kr.metrics}}he(null,lr)}})},S.prototype._doesCharSupportLocalGlyph=function(K){return!!this.localIdeographFontFamily&&(a.isChar["CJK Unified Ideographs"](K)||a.isChar["Hangul Syllables"](K)||a.isChar.Hiragana(K)||a.isChar.Katakana(K))},S.prototype._tinySDF=function(K,he,re){var de=this.localIdeographFontFamily;if(!!de&&!!this._doesCharSupportLocalGlyph(re)){var ke=K.tinySDF;if(!ke){var je="400";/bold/i.test(he)?je="900":/medium/i.test(he)?je="500":/light/i.test(he)&&(je="200"),ke=K.tinySDF=new S.TinySDF(24,3,8,.25,de,je)}return{id:re,bitmap:new a.AlphaImage({width:30,height:30},ke.draw(String.fromCharCode(re))),metrics:{width:24,height:24,left:0,top:-8,advance:24}}}},S.loadGlyphRange=c,S.TinySDF=i;var T=function(){this.specification=a.styleSpec.light.position};T.prototype.possiblyEvaluate=function(K,he){return a.sphericalToCartesian(K.expression.evaluate(he))},T.prototype.interpolate=function(K,he,re){return{x:a.number(K.x,he.x,re),y:a.number(K.y,he.y,re),z:a.number(K.z,he.z,re)}};var o=new a.Properties({anchor:new a.DataConstantProperty(a.styleSpec.light.anchor),position:new T,color:new a.DataConstantProperty(a.styleSpec.light.color),intensity:new a.DataConstantProperty(a.styleSpec.light.intensity)}),P="-transition",x=function(fe){function K(he){fe.call(this),this._transitionable=new a.Transitionable(o),this.setLight(he),this._transitioning=this._transitionable.untransitioned()}return fe&&(K.__proto__=fe),K.prototype=Object.create(fe&&fe.prototype),K.prototype.constructor=K,K.prototype.getLight=function(){return this._transitionable.serialize()},K.prototype.setLight=function(re,de){if(de===void 0&&(de={}),!this._validate(a.validateLight,re,de))for(var ke in re){var je=re[ke];a.endsWith(ke,P)?this._transitionable.setTransition(ke.slice(0,-P.length),je):this._transitionable.setValue(ke,je)}},K.prototype.updateTransitions=function(re){this._transitioning=this._transitionable.transitioned(re,this._transitioning)},K.prototype.hasTransition=function(){return this._transitioning.hasTransition()},K.prototype.recalculate=function(re){this.properties=this._transitioning.possiblyEvaluate(re)},K.prototype._validate=function(re,de,ke){return ke&&ke.validate===!1?!1:a.emitValidationErrors(this,re.call(a.validateStyle,a.extend({value:de,style:{glyphs:!0,sprite:!0},styleSpec:a.styleSpec})))},K}(a.Evented),_=function(K,he){this.width=K,this.height=he,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}};_.prototype.getDash=function(K,he){var re=K.join(",")+String(he);return this.dashEntry[re]||(this.dashEntry[re]=this.addDash(K,he)),this.dashEntry[re]},_.prototype.getDashRanges=function(K,he,re){var de=K.length%2===1,ke=[],je=de?-K[K.length-1]*re:0,ot=K[0]*re,Lt=!0;ke.push({left:je,right:ot,isDash:Lt,zeroLength:K[0]===0});for(var Ht=K[0],qt=1;qt<K.length;qt++){Lt=!Lt;var lr=K[qt];je=Ht*re,Ht+=lr,ot=Ht*re,ke.push({left:je,right:ot,isDash:Lt,zeroLength:lr===0})}return ke},_.prototype.addRoundDash=function(K,he,re){for(var de=he/2,ke=-re;ke<=re;ke++)for(var je=this.nextRow+re+ke,ot=this.width*je,Lt=0,Ht=K[Lt],qt=0;qt<this.width;qt++){qt/Ht.right>1&&(Ht=K[++Lt]);var lr=Math.abs(qt-Ht.left),sr=Math.abs(qt-Ht.right),kr=Math.min(lr,sr),Xr=void 0,Yr=ke/re*(de+1);if(Ht.isDash){var Hr=de-Math.abs(Yr);Xr=Math.sqrt(kr*kr+Hr*Hr)}else Xr=de-Math.sqrt(kr*kr+Yr*Yr);this.data[ot+qt]=Math.max(0,Math.min(255,Xr+128))}},_.prototype.addRegularDash=function(K){for(var he=K.length-1;he>=0;--he){var re=K[he],de=K[he+1];re.zeroLength?K.splice(he,1):de&&de.isDash===re.isDash&&(de.left=re.left,K.splice(he,1))}var ke=K[0],je=K[K.length-1];ke.isDash===je.isDash&&(ke.left=je.left-this.width,je.right=ke.right+this.width);for(var ot=this.width*this.nextRow,Lt=0,Ht=K[Lt],qt=0;qt<this.width;qt++){qt/Ht.right>1&&(Ht=K[++Lt]);var lr=Math.abs(qt-Ht.left),sr=Math.abs(qt-Ht.right),kr=Math.min(lr,sr),Xr=Ht.isDash?kr:-kr;this.data[ot+qt]=Math.max(0,Math.min(255,Xr+128))}},_.prototype.addDash=function(K,he){var re=he?7:0,de=2*re+1;if(this.nextRow+de>this.height)return a.warnOnce("LineAtlas out of space"),null;for(var ke=0,je=0;je<K.length;je++)ke+=K[je];if(ke!==0){var ot=this.width/ke,Lt=this.getDashRanges(K,this.width,ot);he?this.addRoundDash(Lt,ot,re):this.addRegularDash(Lt)}var Ht={y:(this.nextRow+re+.5)/this.height,height:2*re/this.height,width:ke};return this.nextRow+=de,this.dirty=!0,Ht},_.prototype.bind=function(K){var he=K.gl;this.texture?(he.bindTexture(he.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,he.texSubImage2D(he.TEXTURE_2D,0,0,0,this.width,this.height,he.ALPHA,he.UNSIGNED_BYTE,this.data))):(this.texture=he.createTexture(),he.bindTexture(he.TEXTURE_2D,this.texture),he.texParameteri(he.TEXTURE_2D,he.TEXTURE_WRAP_S,he.REPEAT),he.texParameteri(he.TEXTURE_2D,he.TEXTURE_WRAP_T,he.REPEAT),he.texParameteri(he.TEXTURE_2D,he.TEXTURE_MIN_FILTER,he.LINEAR),he.texParameteri(he.TEXTURE_2D,he.TEXTURE_MAG_FILTER,he.LINEAR),he.texImage2D(he.TEXTURE_2D,0,he.ALPHA,this.width,this.height,0,he.ALPHA,he.UNSIGNED_BYTE,this.data))};var I=function fe(K,he){this.workerPool=K,this.actors=[],this.currentActor=0,this.id=a.uniqueId();for(var re=this.workerPool.acquire(this.id),de=0;de<re.length;de++){var ke=re[de],je=new fe.Actor(ke,he,this.id);je.name="Worker "+de,this.actors.push(je)}};I.prototype.broadcast=function(K,he,re){re=re||function(){},a.asyncAll(this.actors,function(de,ke){de.send(K,he,ke)},re)},I.prototype.getActor=function(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]},I.prototype.remove=function(){this.actors.forEach(function(K){K.remove()}),this.actors=[],this.workerPool.release(this.id)},I.Actor=a.Actor;function N(fe,K,he){var re=function(de,ke){if(de)return he(de);if(ke){var je=a.pick(a.extend(ke,fe),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);ke.vector_layers&&(je.vectorLayers=ke.vector_layers,je.vectorLayerIds=je.vectorLayers.map(function(ot){return ot.id})),je.tiles=K.canonicalizeTileset(je,fe.url),he(null,je)}};return fe.url?a.getJSON(K.transformRequest(K.normalizeSourceURL(fe.url),a.ResourceType.Source),re):a.browser.frame(function(){return re(null,fe)})}var k=function(K,he,re){this.bounds=a.LngLatBounds.convert(this.validateBounds(K)),this.minzoom=he||0,this.maxzoom=re||24};k.prototype.validateBounds=function(K){return!Array.isArray(K)||K.length!==4?[-180,-90,180,90]:[Math.max(-180,K[0]),Math.max(-90,K[1]),Math.min(180,K[2]),Math.min(90,K[3])]},k.prototype.contains=function(K){var he=Math.pow(2,K.z),re={minX:Math.floor(a.mercatorXfromLng(this.bounds.getWest())*he),minY:Math.floor(a.mercatorYfromLat(this.bounds.getNorth())*he),maxX:Math.ceil(a.mercatorXfromLng(this.bounds.getEast())*he),maxY:Math.ceil(a.mercatorYfromLat(this.bounds.getSouth())*he)},de=K.x>=re.minX&&K.x<re.maxX&&K.y>=re.minY&&K.y<re.maxY;return de};var F=function(fe){function K(he,re,de,ke){if(fe.call(this),this.id=he,this.dispatcher=de,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,a.extend(this,a.pick(re,["url","scheme","tileSize","promoteId"])),this._options=a.extend({type:"vector"},re),this._collectResourceTiming=re.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(ke)}return fe&&(K.__proto__=fe),K.prototype=Object.create(fe&&fe.prototype),K.prototype.constructor=K,K.prototype.load=function(){var re=this;this._loaded=!1,this.fire(new a.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=N(this._options,this.map._requestManager,function(de,ke){re._tileJSONRequest=null,re._loaded=!0,de?re.fire(new a.ErrorEvent(de)):ke&&(a.extend(re,ke),ke.bounds&&(re.tileBounds=new k(ke.bounds,re.minzoom,re.maxzoom)),a.postTurnstileEvent(ke.tiles,re.map._requestManager._customAccessToken),a.postMapLoadEvent(ke.tiles,re.map._getMapId(),re.map._requestManager._skuToken,re.map._requestManager._customAccessToken),re.fire(new a.Event("data",{dataType:"source",sourceDataType:"metadata"})),re.fire(new a.Event("data",{dataType:"source",sourceDataType:"content"})))})},K.prototype.loaded=function(){return this._loaded},K.prototype.hasTile=function(re){return!this.tileBounds||this.tileBounds.contains(re.canonical)},K.prototype.onAdd=function(re){this.map=re,this.load()},K.prototype.setSourceProperty=function(re){this._tileJSONRequest&&this._tileJSONRequest.cancel(),re();var de=this.map.style.sourceCaches[this.id];de.clearTiles(),this.load()},K.prototype.setTiles=function(re){var de=this;return this.setSourceProperty(function(){de._options.tiles=re}),this},K.prototype.setUrl=function(re){var de=this;return this.setSourceProperty(function(){de.url=re,de._options.url=re}),this},K.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},K.prototype.serialize=function(){return a.extend({},this._options)},K.prototype.loadTile=function(re,de){var ke=this.map._requestManager.normalizeTileURL(re.tileID.canonical.url(this.tiles,this.scheme)),je={request:this.map._requestManager.transformRequest(ke,a.ResourceType.Tile),uid:re.uid,tileID:re.tileID,zoom:re.tileID.overscaledZ,tileSize:this.tileSize*re.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:a.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};je.request.collectResourceTiming=this._collectResourceTiming,!re.actor||re.state==="expired"?(re.actor=this.dispatcher.getActor(),re.request=re.actor.send("loadTile",je,ot.bind(this))):re.state==="loading"?re.reloadCallback=de:re.request=re.actor.send("reloadTile",je,ot.bind(this));function ot(Lt,Ht){if(delete re.request,re.aborted)return de(null);if(Lt&&Lt.status!==404)return de(Lt);Ht&&Ht.resourceTiming&&(re.resourceTiming=Ht.resourceTiming),this.map._refreshExpiredTiles&&Ht&&re.setExpiryData(Ht),re.loadVectorData(Ht,this.map.painter),a.cacheEntryPossiblyAdded(this.dispatcher),de(null),re.reloadCallback&&(this.loadTile(re,re.reloadCallback),re.reloadCallback=null)}},K.prototype.abortTile=function(re){re.request&&(re.request.cancel(),delete re.request),re.actor&&re.actor.send("abortTile",{uid:re.uid,type:this.type,source:this.id},void 0)},K.prototype.unloadTile=function(re){re.unloadVectorData(),re.actor&&re.actor.send("removeTile",{uid:re.uid,type:this.type,source:this.id},void 0)},K.prototype.hasTransition=function(){return!1},K}(a.Evented),O=function(fe){function K(he,re,de,ke){fe.call(this),this.id=he,this.dispatcher=de,this.setEventedParent(ke),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=a.extend({type:"raster"},re),a.extend(this,a.pick(re,["url","scheme","tileSize"]))}return fe&&(K.__proto__=fe),K.prototype=Object.create(fe&&fe.prototype),K.prototype.constructor=K,K.prototype.load=function(){var re=this;this._loaded=!1,this.fire(new a.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=N(this._options,this.map._requestManager,function(de,ke){re._tileJSONRequest=null,re._loaded=!0,de?re.fire(new a.ErrorEvent(de)):ke&&(a.extend(re,ke),ke.bounds&&(re.tileBounds=new k(ke.bounds,re.minzoom,re.maxzoom)),a.postTurnstileEvent(ke.tiles),a.postMapLoadEvent(ke.tiles,re.map._getMapId(),re.map._requestManager._skuToken),re.fire(new a.Event("data",{dataType:"source",sourceDataType:"metadata"})),re.fire(new a.Event("data",{dataType:"source",sourceDataType:"content"})))})},K.prototype.loaded=function(){return this._loaded},K.prototype.onAdd=function(re){this.map=re,this.load()},K.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},K.prototype.serialize=function(){return a.extend({},this._options)},K.prototype.hasTile=function(re){return!this.tileBounds||this.tileBounds.contains(re.canonical)},K.prototype.loadTile=function(re,de){var ke=this,je=this.map._requestManager.normalizeTileURL(re.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);re.request=a.getImage(this.map._requestManager.transformRequest(je,a.ResourceType.Tile),function(ot,Lt){if(delete re.request,re.aborted)re.state="unloaded",de(null);else if(ot)re.state="errored",de(ot);else if(Lt){ke.map._refreshExpiredTiles&&re.setExpiryData(Lt),delete Lt.cacheControl,delete Lt.expires;var Ht=ke.map.painter.context,qt=Ht.gl;re.texture=ke.map.painter.getTileTexture(Lt.width),re.texture?re.texture.update(Lt,{useMipmap:!0}):(re.texture=new a.Texture(Ht,Lt,qt.RGBA,{useMipmap:!0}),re.texture.bind(qt.LINEAR,qt.CLAMP_TO_EDGE,qt.LINEAR_MIPMAP_NEAREST),Ht.extTextureFilterAnisotropic&&qt.texParameterf(qt.TEXTURE_2D,Ht.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,Ht.extTextureFilterAnisotropicMax)),re.state="loaded",a.cacheEntryPossiblyAdded(ke.dispatcher),de(null)}})},K.prototype.abortTile=function(re,de){re.request&&(re.request.cancel(),delete re.request),de()},K.prototype.unloadTile=function(re,de){re.texture&&this.map.painter.saveTileTexture(re.texture),de()},K.prototype.hasTransition=function(){return!1},K}(a.Evented),z=function(fe){function K(he,re,de,ke){fe.call(this,he,re,de,ke),this.type="raster-dem",this.maxzoom=22,this._options=a.extend({type:"raster-dem"},re),this.encoding=re.encoding||"mapbox"}return fe&&(K.__proto__=fe),K.prototype=Object.create(fe&&fe.prototype),K.prototype.constructor=K,K.prototype.serialize=function(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds,encoding:this.encoding}},K.prototype.loadTile=function(re,de){var ke=this.map._requestManager.normalizeTileURL(re.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);re.request=a.getImage(this.map._requestManager.transformRequest(ke,a.ResourceType.Tile),je.bind(this)),re.neighboringTiles=this._getNeighboringTiles(re.tileID);function je(Lt,Ht){if(delete re.request,re.aborted)re.state="unloaded",de(null);else if(Lt)re.state="errored",de(Lt);else if(Ht){this.map._refreshExpiredTiles&&re.setExpiryData(Ht),delete Ht.cacheControl,delete Ht.expires;var qt=a.window.ImageBitmap&&Ht instanceof a.window.ImageBitmap&&a.offscreenCanvasSupported(),lr=qt?Ht:a.browser.getImageData(Ht,1),sr={uid:re.uid,coord:re.tileID,source:this.id,rawImageData:lr,encoding:this.encoding};(!re.actor||re.state==="expired")&&(re.actor=this.dispatcher.getActor(),re.actor.send("loadDEMTile",sr,ot.bind(this)))}}function ot(Lt,Ht){Lt&&(re.state="errored",de(Lt)),Ht&&(re.dem=Ht,re.needsHillshadePrepare=!0,re.state="loaded",de(null))}},K.prototype._getNeighboringTiles=function(re){var de=re.canonical,ke=Math.pow(2,de.z),je=(de.x-1+ke)%ke,ot=de.x===0?re.wrap-1:re.wrap,Lt=(de.x+1+ke)%ke,Ht=de.x+1===ke?re.wrap+1:re.wrap,qt={};return qt[new a.OverscaledTileID(re.overscaledZ,ot,de.z,je,de.y).key]={backfilled:!1},qt[new a.OverscaledTileID(re.overscaledZ,Ht,de.z,Lt,de.y).key]={backfilled:!1},de.y>0&&(qt[new a.OverscaledTileID(re.overscaledZ,ot,de.z,je,de.y-1).key]={backfilled:!1},qt[new a.OverscaledTileID(re.overscaledZ,re.wrap,de.z,de.x,de.y-1).key]={backfilled:!1},qt[new a.OverscaledTileID(re.overscaledZ,Ht,de.z,Lt,de.y-1).key]={backfilled:!1}),de.y+1<ke&&(qt[new a.OverscaledTileID(re.overscaledZ,ot,de.z,je,de.y+1).key]={backfilled:!1},qt[new a.OverscaledTileID(re.overscaledZ,re.wrap,de.z,de.x,de.y+1).key]={backfilled:!1},qt[new a.OverscaledTileID(re.overscaledZ,Ht,de.z,Lt,de.y+1).key]={backfilled:!1}),qt},K.prototype.unloadTile=function(re){re.demTexture&&this.map.painter.saveTileTexture(re.demTexture),re.fbo&&(re.fbo.destroy(),delete re.fbo),re.dem&&delete re.dem,delete re.neighboringTiles,re.state="unloaded",re.actor&&re.actor.send("removeDEMTile",{uid:re.uid,source:this.id})},K}(O),B=function(fe){function K(he,re,de,ke){fe.call(this),this.id=he,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._loaded=!1,this.actor=de.getActor(),this.setEventedParent(ke),this._data=re.data,this._options=a.extend({},re),this._collectResourceTiming=re.collectResourceTiming,this._resourceTiming=[],re.maxzoom!==void 0&&(this.maxzoom=re.maxzoom),re.type&&(this.type=re.type),re.attribution&&(this.attribution=re.attribution),this.promoteId=re.promoteId;var je=a.EXTENT/this.tileSize;this.workerOptions=a.extend({source:this.id,cluster:re.cluster||!1,geojsonVtOptions:{buffer:(re.buffer!==void 0?re.buffer:128)*je,tolerance:(re.tolerance!==void 0?re.tolerance:.375)*je,extent:a.EXTENT,maxZoom:this.maxzoom,lineMetrics:re.lineMetrics||!1,generateId:re.generateId||!1},superclusterOptions:{maxZoom:re.clusterMaxZoom!==void 0?Math.min(re.clusterMaxZoom,this.maxzoom-1):this.maxzoom-1,minPoints:Math.max(2,re.clusterMinPoints||2),extent:a.EXTENT,radius:(re.clusterRadius||50)*je,log:!1,generateId:re.generateId||!1},clusterProperties:re.clusterProperties,filter:re.filter},re.workerOptions)}return fe&&(K.__proto__=fe),K.prototype=Object.create(fe&&fe.prototype),K.prototype.constructor=K,K.prototype.load=function(){var re=this;this.fire(new a.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(de){if(de){re.fire(new a.ErrorEvent(de));return}var ke={dataType:"source",sourceDataType:"metadata"};re._collectResourceTiming&&re._resourceTiming&&re._resourceTiming.length>0&&(ke.resourceTiming=re._resourceTiming,re._resourceTiming=[]),re.fire(new a.Event("data",ke))})},K.prototype.onAdd=function(re){this.map=re,this.load()},K.prototype.setData=function(re){var de=this;return this._data=re,this.fire(new a.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(ke){if(ke){de.fire(new a.ErrorEvent(ke));return}var je={dataType:"source",sourceDataType:"content"};de._collectResourceTiming&&de._resourceTiming&&de._resourceTiming.length>0&&(je.resourceTiming=de._resourceTiming,de._resourceTiming=[]),de.fire(new a.Event("data",je))}),this},K.prototype.getClusterExpansionZoom=function(re,de){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:re,source:this.id},de),this},K.prototype.getClusterChildren=function(re,de){return this.actor.send("geojson.getClusterChildren",{clusterId:re,source:this.id},de),this},K.prototype.getClusterLeaves=function(re,de,ke,je){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:re,limit:de,offset:ke},je),this},K.prototype._updateWorkerData=function(re){var de=this;this._loaded=!1;var ke=a.extend({},this.workerOptions),je=this._data;typeof je=="string"?(ke.request=this.map._requestManager.transformRequest(a.browser.resolveURL(je),a.ResourceType.Source),ke.request.collectResourceTiming=this._collectResourceTiming):ke.data=JSON.stringify(je),this.actor.send(this.type+".loadData",ke,function(ot,Lt){de._removed||Lt&&Lt.abandoned||(de._loaded=!0,Lt&&Lt.resourceTiming&&Lt.resourceTiming[de.id]&&(de._resourceTiming=Lt.resourceTiming[de.id].slice(0)),de.actor.send(de.type+".coalesce",{source:ke.source},null),re(ot))})},K.prototype.loaded=function(){return this._loaded},K.prototype.loadTile=function(re,de){var ke=this,je=re.actor?"reloadTile":"loadTile";re.actor=this.actor;var ot={type:this.type,uid:re.uid,tileID:re.tileID,zoom:re.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:a.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};re.request=this.actor.send(je,ot,function(Lt,Ht){return delete re.request,re.unloadVectorData(),re.aborted?de(null):Lt?de(Lt):(re.loadVectorData(Ht,ke.map.painter,je==="reloadTile"),de(null))})},K.prototype.abortTile=function(re){re.request&&(re.request.cancel(),delete re.request),re.aborted=!0},K.prototype.unloadTile=function(re){re.unloadVectorData(),this.actor.send("removeTile",{uid:re.uid,type:this.type,source:this.id})},K.prototype.onRemove=function(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})},K.prototype.serialize=function(){return a.extend({},this._options,{type:this.type,data:this._data})},K.prototype.hasTransition=function(){return!1},K}(a.Evented),W=a.createLayout([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]),q=function(fe){function K(he,re,de,ke){fe.call(this),this.id=he,this.dispatcher=de,this.coordinates=re.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(ke),this.options=re}return fe&&(K.__proto__=fe),K.prototype=Object.create(fe&&fe.prototype),K.prototype.constructor=K,K.prototype.load=function(re,de){var ke=this;this._loaded=!1,this.fire(new a.Event("dataloading",{dataType:"source"})),this.url=this.options.url,a.getImage(this.map._requestManager.transformRequest(this.url,a.ResourceType.Image),function(je,ot){ke._loaded=!0,je?ke.fire(new a.ErrorEvent(je)):ot&&(ke.image=ot,re&&(ke.coordinates=re),de&&de(),ke._finishLoading())})},K.prototype.loaded=function(){return this._loaded},K.prototype.updateImage=function(re){var de=this;return!this.image||!re.url?this:(this.options.url=re.url,this.load(re.coordinates,function(){de.texture=null}),this)},K.prototype._finishLoading=function(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new a.Event("data",{dataType:"source",sourceDataType:"metadata"})))},K.prototype.onAdd=function(re){this.map=re,this.load()},K.prototype.setCoordinates=function(re){var de=this;this.coordinates=re;var ke=re.map(a.MercatorCoordinate.fromLngLat);this.tileID=ee(ke),this.minzoom=this.maxzoom=this.tileID.z;var je=ke.map(function(ot){return de.tileID.getTilePoint(ot)._round()});return this._boundsArray=new a.StructArrayLayout4i8,this._boundsArray.emplaceBack(je[0].x,je[0].y,0,0),this._boundsArray.emplaceBack(je[1].x,je[1].y,a.EXTENT,0),this._boundsArray.emplaceBack(je[3].x,je[3].y,0,a.EXTENT),this._boundsArray.emplaceBack(je[2].x,je[2].y,a.EXTENT,a.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new a.Event("data",{dataType:"source",sourceDataType:"content"})),this},K.prototype.prepare=function(){if(!(Object.keys(this.tiles).length===0||!this.image)){var re=this.map.painter.context,de=re.gl;this.boundsBuffer||(this.boundsBuffer=re.createVertexBuffer(this._boundsArray,W.members)),this.boundsSegments||(this.boundsSegments=a.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new a.Texture(re,this.image,de.RGBA),this.texture.bind(de.LINEAR,de.CLAMP_TO_EDGE));for(var ke in this.tiles){var je=this.tiles[ke];je.state!=="loaded"&&(je.state="loaded",je.texture=this.texture)}}},K.prototype.loadTile=function(re,de){this.tileID&&this.tileID.equals(re.tileID.canonical)?(this.tiles[String(re.tileID.wrap)]=re,re.buckets={},de(null)):(re.state="errored",de(null))},K.prototype.serialize=function(){return{type:"image",url:this.options.url,coordinates:this.coordinates}},K.prototype.hasTransition=function(){return!1},K}(a.Evented);function ee(fe){for(var K=1/0,he=1/0,re=-1/0,de=-1/0,ke=0,je=fe;ke<je.length;ke+=1){var ot=je[ke];K=Math.min(K,ot.x),he=Math.min(he,ot.y),re=Math.max(re,ot.x),de=Math.max(de,ot.y)}var Lt=re-K,Ht=de-he,qt=Math.max(Lt,Ht),lr=Math.max(0,Math.floor(-Math.log(qt)/Math.LN2)),sr=Math.pow(2,lr);return new a.CanonicalTileID(lr,Math.floor((K+re)/2*sr),Math.floor((he+de)/2*sr))}var Q=function(fe){function K(he,re,de,ke){fe.call(this,he,re,de,ke),this.roundZoom=!0,this.type="video",this.options=re}return fe&&(K.__proto__=fe),K.prototype=Object.create(fe&&fe.prototype),K.prototype.constructor=K,K.prototype.load=function(){var re=this;this._loaded=!1;var de=this.options;this.urls=[];for(var ke=0,je=de.urls;ke<je.length;ke+=1){var ot=je[ke];this.urls.push(this.map._requestManager.transformRequest(ot,a.ResourceType.Source).url)}a.getVideo(this.urls,function(Lt,Ht){re._loaded=!0,Lt?re.fire(new a.ErrorEvent(Lt)):Ht&&(re.video=Ht,re.video.loop=!0,re.video.addEventListener("playing",function(){re.map.triggerRepaint()}),re.map&&re.video.play(),re._finishLoading())})},K.prototype.pause=function(){this.video&&this.video.pause()},K.prototype.play=function(){this.video&&this.video.play()},K.prototype.seek=function(re){if(this.video){var de=this.video.seekable;re<de.start(0)||re>de.end(0)?this.fire(new a.ErrorEvent(new a.ValidationError("sources."+this.id,null,"Playback for this video can be set only between the "+de.start(0)+" and "+de.end(0)+"-second mark."))):this.video.currentTime=re}},K.prototype.getVideo=function(){return this.video},K.prototype.onAdd=function(re){this.map||(this.map=re,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))},K.prototype.prepare=function(){if(!(Object.keys(this.tiles).length===0||this.video.readyState<2)){var re=this.map.painter.context,de=re.gl;this.boundsBuffer||(this.boundsBuffer=re.createVertexBuffer(this._boundsArray,W.members)),this.boundsSegments||(this.boundsSegments=a.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(de.LINEAR,de.CLAMP_TO_EDGE),de.texSubImage2D(de.TEXTURE_2D,0,0,0,de.RGBA,de.UNSIGNED_BYTE,this.video)):(this.texture=new a.Texture(re,this.video,de.RGBA),this.texture.bind(de.LINEAR,de.CLAMP_TO_EDGE));for(var ke in this.tiles){var je=this.tiles[ke];je.state!=="loaded"&&(je.state="loaded",je.texture=this.texture)}}},K.prototype.serialize=function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}},K.prototype.hasTransition=function(){return this.video&&!this.video.paused},K}(q),oe=function(fe){function K(he,re,de,ke){fe.call(this,he,re,de,ke),re.coordinates?(!Array.isArray(re.coordinates)||re.coordinates.length!==4||re.coordinates.some(function(je){return!Array.isArray(je)||je.length!==2||je.some(function(ot){return typeof ot!="number"})}))&&this.fire(new a.ErrorEvent(new a.ValidationError("sources."+he,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new a.ErrorEvent(new a.ValidationError("sources."+he,null,'missing required property "coordinates"'))),re.animate&&typeof re.animate!="boolean"&&this.fire(new a.ErrorEvent(new a.ValidationError("sources."+he,null,'optional "animate" property must be a boolean value'))),re.canvas?typeof re.canvas!="string"&&!(re.canvas instanceof a.window.HTMLCanvasElement)&&this.fire(new a.ErrorEvent(new a.ValidationError("sources."+he,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new a.ErrorEvent(new a.ValidationError("sources."+he,null,'missing required property "canvas"'))),this.options=re,this.animate=re.animate!==void 0?re.animate:!0}return fe&&(K.__proto__=fe),K.prototype=Object.create(fe&&fe.prototype),K.prototype.constructor=K,K.prototype.load=function(){if(this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof a.window.HTMLCanvasElement?this.options.canvas:a.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()){this.fire(new a.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero.")));return}this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading()},K.prototype.getCanvas=function(){return this.canvas},K.prototype.onAdd=function(re){this.map=re,this.load(),this.canvas&&this.animate&&this.play()},K.prototype.onRemove=function(){this.pause()},K.prototype.prepare=function(){var re=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,re=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,re=!0),!this._hasInvalidDimensions()&&Object.keys(this.tiles).length!==0){var de=this.map.painter.context,ke=de.gl;this.boundsBuffer||(this.boundsBuffer=de.createVertexBuffer(this._boundsArray,W.members)),this.boundsSegments||(this.boundsSegments=a.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(re||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new a.Texture(de,this.canvas,ke.RGBA,{premultiply:!0});for(var je in this.tiles){var ot=this.tiles[je];ot.state!=="loaded"&&(ot.state="loaded",ot.texture=this.texture)}}},K.prototype.serialize=function(){return{type:"canvas",coordinates:this.coordinates}},K.prototype.hasTransition=function(){return this._playing},K.prototype._hasInvalidDimensions=function(){for(var re=0,de=[this.canvas.width,this.canvas.height];re<de.length;re+=1){var ke=de[re];if(isNaN(ke)||ke<=0)return!0}return!1},K}(q),Z={vector:F,raster:O,"raster-dem":z,geojson:B,video:Q,image:q,canvas:oe},Y=function(fe,K,he,re){var de=new Z[K.type](fe,K,he,re);if(de.id!==fe)throw new Error("Expected Source id to be "+fe+" instead of "+de.id);return a.bindAll(["load","abort","unload","serialize","prepare"],de),de},te=function(fe){return Z[fe]},X=function(fe,K){Z[fe]=K};function $(fe,K){var he=a.identity([]);return a.translate(he,he,[1,1,0]),a.scale(he,he,[fe.width*.5,fe.height*.5,1]),a.multiply(he,he,fe.calculatePosMatrix(K.toUnwrapped()))}function ie(fe,K,he){if(fe)for(var re=0,de=fe;re<de.length;re+=1){var ke=de[re],je=K[ke];if(je&&je.source===he&&je.type==="fill-extrusion")return!0}else for(var ot in K){var Lt=K[ot];if(Lt.source===he&&Lt.type==="fill-extrusion")return!0}return!1}function J(fe,K,he,re,de,ke){var je=ie(de&&de.layers,K,fe.id),ot=ke.maxPitchScaleFactor(),Lt=fe.tilesIn(re,ot,je);Lt.sort(ne);for(var Ht=[],qt=0,lr=Lt;qt<lr.length;qt+=1){var sr=lr[qt];Ht.push({wrappedTileID:sr.tileID.wrapped().key,queryResults:sr.tile.queryRenderedFeatures(K,he,fe._state,sr.queryGeometry,sr.cameraQueryGeometry,sr.scale,de,ke,ot,$(fe.transform,sr.tileID))})}var kr=le(Ht);for(var Xr in kr)kr[Xr].forEach(function(Yr){var Hr=Yr.feature,Kr=fe.getFeatureState(Hr.layer["source-layer"],Hr.id);Hr.source=Hr.layer.source,Hr.layer["source-layer"]&&(Hr.sourceLayer=Hr.layer["source-layer"]),Hr.state=Kr});return kr}function j(fe,K,he,re,de,ke,je){for(var ot={},Lt=ke.queryRenderedSymbols(re),Ht=[],qt=0,lr=Object.keys(Lt).map(Number);qt<lr.length;qt+=1){var sr=lr[qt];Ht.push(je[sr])}Ht.sort(ne);for(var kr=function(){var fn=Yr[Xr],kn=fn.featureIndex.lookupSymbolFeatures(Lt[fn.bucketInstanceId],K,fn.bucketIndex,fn.sourceLayerIndex,de.filter,de.layers,de.availableImages,fe);for(var Bn in kn){var Yn=ot[Bn]=ot[Bn]||[],Xn=kn[Bn];Xn.sort(function(la,xa){var va=fn.featureSortOrder;if(va){var ka=va.indexOf(la.featureIndex),Qa=va.indexOf(xa.featureIndex);return Qa-ka}else return xa.featureIndex-la.featureIndex});for(var Gn=0,jn=Xn;Gn<jn.length;Gn+=1){var ta=jn[Gn];Yn.push(ta)}}},Xr=0,Yr=Ht;Xr<Yr.length;Xr+=1)kr();var Hr=function(fn){ot[fn].forEach(function(kn){var Bn=kn.feature,Yn=fe[fn],Xn=he[Yn.source],Gn=Xn.getFeatureState(Bn.layer["source-layer"],Bn.id);Bn.source=Bn.layer.source,Bn.layer["source-layer"]&&(Bn.sourceLayer=Bn.layer["source-layer"]),Bn.state=Gn})};for(var Kr in ot)Hr(Kr);return ot}function se(fe,K){for(var he=fe.getRenderableIds().map(function(Lt){return fe.getTileByID(Lt)}),re=[],de={},ke=0;ke<he.length;ke++){var je=he[ke],ot=je.tileID.canonical.key;de[ot]||(de[ot]=!0,je.querySourceFeatures(re,K))}return re}function ne(fe,K){var he=fe.tileID,re=K.tileID;return he.overscaledZ-re.overscaledZ||he.canonical.y-re.canonical.y||he.wrap-re.wrap||he.canonical.x-re.canonical.x}function le(fe){for(var K={},he={},re=0,de=fe;re<de.length;re+=1){var ke=de[re],je=ke.queryResults,ot=ke.wrappedTileID,Lt=he[ot]=he[ot]||{};for(var Ht in je)for(var qt=je[Ht],lr=Lt[Ht]=Lt[Ht]||{},sr=K[Ht]=K[Ht]||[],kr=0,Xr=qt;kr<Xr.length;kr+=1){var Yr=Xr[kr];lr[Yr.featureIndex]||(lr[Yr.featureIndex]=!0,sr.push(Yr))}}return K}var pe=function(K,he){this.max=K,this.onRemove=he,this.reset()};pe.prototype.reset=function(){for(var K in this.data)for(var he=0,re=this.data[K];he<re.length;he+=1){var de=re[he];de.timeout&&clearTimeout(de.timeout),this.onRemove(de.value)}return this.data={},this.order=[],this},pe.prototype.add=function(K,he,re){var de=this,ke=K.wrapped().key;this.data[ke]===void 0&&(this.data[ke]=[]);var je={value:he,timeout:void 0};if(re!==void 0&&(je.timeout=setTimeout(function(){de.remove(K,je)},re)),this.data[ke].push(je),this.order.push(ke),this.order.length>this.max){var ot=this._getAndRemoveByKey(this.order[0]);ot&&this.onRemove(ot)}return this},pe.prototype.has=function(K){return K.wrapped().key in this.data},pe.prototype.getAndRemove=function(K){return this.has(K)?this._getAndRemoveByKey(K.wrapped().key):null},pe.prototype._getAndRemoveByKey=function(K){var he=this.data[K].shift();return he.timeout&&clearTimeout(he.timeout),this.data[K].length===0&&delete this.data[K],this.order.splice(this.order.indexOf(K),1),he.value},pe.prototype.getByKey=function(K){var he=this.data[K];return he?he[0].value:null},pe.prototype.get=function(K){if(!this.has(K))return null;var he=this.data[K.wrapped().key][0];return he.value},pe.prototype.remove=function(K,he){if(!this.has(K))return this;var re=K.wrapped().key,de=he===void 0?0:this.data[re].indexOf(he),ke=this.data[re][de];return this.data[re].splice(de,1),ke.timeout&&clearTimeout(ke.timeout),this.data[re].length===0&&delete this.data[re],this.onRemove(ke.value),this.order.splice(this.order.indexOf(re),1),this},pe.prototype.setMaxSize=function(K){for(this.max=K;this.order.length>this.max;){var he=this._getAndRemoveByKey(this.order[0]);he&&this.onRemove(he)}return this},pe.prototype.filter=function(K){var he=[];for(var re in this.data)for(var de=0,ke=this.data[re];de<ke.length;de+=1){var je=ke[de];K(je.value)||he.push(je)}for(var ot=0,Lt=he;ot<Lt.length;ot+=1){var Ht=Lt[ot];this.remove(Ht.value.tileID,Ht)}};var Ae=function(K,he,re){this.context=K;var de=K.gl;this.buffer=de.createBuffer(),this.dynamicDraw=Boolean(re),this.context.unbindVAO(),K.bindElementBuffer.set(this.buffer),de.bufferData(de.ELEMENT_ARRAY_BUFFER,he.arrayBuffer,this.dynamicDraw?de.DYNAMIC_DRAW:de.STATIC_DRAW),this.dynamicDraw||delete he.arrayBuffer};Ae.prototype.bind=function(){this.context.bindElementBuffer.set(this.buffer)},Ae.prototype.updateData=function(K){var he=this.context.gl;this.context.unbindVAO(),this.bind(),he.bufferSubData(he.ELEMENT_ARRAY_BUFFER,0,K.arrayBuffer)},Ae.prototype.destroy=function(){var K=this.context.gl;this.buffer&&(K.deleteBuffer(this.buffer),delete this.buffer)};var be={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"},Re=function(K,he,re,de){this.length=he.length,this.attributes=re,this.itemSize=he.bytesPerElement,this.dynamicDraw=de,this.context=K;var ke=K.gl;this.buffer=ke.createBuffer(),K.bindVertexBuffer.set(this.buffer),ke.bufferData(ke.ARRAY_BUFFER,he.arrayBuffer,this.dynamicDraw?ke.DYNAMIC_DRAW:ke.STATIC_DRAW),this.dynamicDraw||delete he.arrayBuffer};Re.prototype.bind=function(){this.context.bindVertexBuffer.set(this.buffer)},Re.prototype.updateData=function(K){var he=this.context.gl;this.bind(),he.bufferSubData(he.ARRAY_BUFFER,0,K.arrayBuffer)},Re.prototype.enableAttributes=function(K,he){for(var re=0;re<this.attributes.length;re++){var de=this.attributes[re],ke=he.attributes[de.name];ke!==void 0&&K.enableVertexAttribArray(ke)}},Re.prototype.setVertexAttribPointers=function(K,he,re){for(var de=0;de<this.attributes.length;de++){var ke=this.attributes[de],je=he.attributes[ke.name];je!==void 0&&K.vertexAttribPointer(je,ke.components,K[be[ke.type]],!1,this.itemSize,ke.offset+this.itemSize*(re||0))}},Re.prototype.destroy=function(){var K=this.context.gl;this.buffer&&(K.deleteBuffer(this.buffer),delete this.buffer)};var xe=function(K){this.gl=K.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1};xe.prototype.get=function(){return this.current},xe.prototype.set=function(K){},xe.prototype.getDefault=function(){return this.default},xe.prototype.setDefault=function(){this.set(this.default)};var Me=function(fe){function K(){fe.apply(this,arguments)}return fe&&(K.__proto__=fe),K.prototype=Object.create(fe&&fe.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return a.Color.transparent},K.prototype.set=function(re){var de=this.current;re.r===de.r&&re.g===de.g&&re.b===de.b&&re.a===de.a&&!this.dirty||(this.gl.clearColor(re.r,re.g,re.b,re.a),this.current=re,this.dirty=!1)},K}(xe),ye=function(fe){function K(){fe.apply(this,arguments)}return fe&&(K.__proto__=fe),K.prototype=Object.create(fe&&fe.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return 1},K.prototype.set=function(re){re===this.current&&!this.dirty||(this.gl.clearDepth(re),this.current=re,this.dirty=!1)},K}(xe),Se=function(fe){function K(){fe.apply(this,arguments)}return fe&&(K.__proto__=fe),K.prototype=Object.create(fe&&fe.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return 0},K.prototype.set=function(re){re===this.current&&!this.dirty||(this.gl.clearStencil(re),this.current=re,this.dirty=!1)},K}(xe),Fe=function(fe){function K(){fe.apply(this,arguments)}return fe&&(K.__proto__=fe),K.prototype=Object.create(fe&&fe.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return[!0,!0,!0,!0]},K.prototype.set=function(re){var de=this.current;re[0]===de[0]&&re[1]===de[1]&&re[2]===de[2]&&re[3]===de[3]&&!this.dirty||(this.gl.colorMask(re[0],re[1],re[2],re[3]),this.current=re,this.dirty=!1)},K}(xe),Be=function(fe){function K(){fe.apply(this,arguments)}return fe&&(K.__proto__=fe),K.prototype=Object.create(fe&&fe.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return!0},K.prototype.set=function(re){re===this.current&&!this.dirty||(this.gl.depthMask(re),this.current=re,this.dirty=!1)},K}(xe),_e=function(fe){function K(){fe.apply(this,arguments)}return fe&&(K.__proto__=fe),K.prototype=Object.create(fe&&fe.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return 255},K.prototype.set=function(re){re===this.current&&!this.dirty||(this.gl.stencilMask(re),this.current=re,this.dirty=!1)},K}(xe),Ue=function(fe){function K(){fe.apply(this,arguments)}return fe&&(K.__proto__=fe),K.prototype=Object.create(fe&&fe.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return{func:this.gl.ALWAYS,ref:0,mask:255}},K.prototype.set=function(re){var de=this.current;re.func===de.func&&re.ref===de.ref&&re.mask===de.mask&&!this.dirty||(this.gl.stencilFunc(re.func,re.ref,re.mask),this.current=re,this.dirty=!1)},K}(xe),it=function(fe){function K(){fe.apply(this,arguments)}return fe&&(K.__proto__=fe),K.prototype=Object.create(fe&&fe.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){var re=this.gl;return[re.KEEP,re.KEEP,re.KEEP]},K.prototype.set=function(re){var de=this.current;re[0]===de[0]&&re[1]===de[1]&&re[2]===de[2]&&!this.dirty||(this.gl.stencilOp(re[0],re[1],re[2]),this.current=re,this.dirty=!1)},K}(xe),lt=function(fe){function K(){fe.apply(this,arguments)}return fe&&(K.__proto__=fe),K.prototype=Object.create(fe&&fe.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return!1},K.prototype.set=function(re){if(!(re===this.current&&!this.dirty)){var de=this.gl;re?de.enable(de.STENCIL_TEST):de.disable(de.STENCIL_TEST),this.current=re,this.dirty=!1}},K}(xe),$e=function(fe){function K(){fe.apply(this,arguments)}return fe&&(K.__proto__=fe),K.prototype=Object.create(fe&&fe.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return[0,1]},K.prototype.set=function(re){var de=this.current;re[0]===de[0]&&re[1]===de[1]&&!this.dirty||(this.gl.depthRange(re[0],re[1]),this.current=re,this.dirty=!1)},K}(xe),qe=function(fe){function K(){fe.apply(this,arguments)}return fe&&(K.__proto__=fe),K.prototype=Object.create(fe&&fe.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return!1},K.prototype.set=function(re){if(!(re===this.current&&!this.dirty)){var de=this.gl;re?de.enable(de.DEPTH_TEST):de.disable(de.DEPTH_TEST),this.current=re,this.dirty=!1}},K}(xe),ft=function(fe){function K(){fe.apply(this,arguments)}return fe&&(K.__proto__=fe),K.prototype=Object.create(fe&&fe.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return this.gl.LESS},K.prototype.set=function(re){re===this.current&&!this.dirty||(this.gl.depthFunc(re),this.current=re,this.dirty=!1)},K}(xe),ct=function(fe){function K(){fe.apply(this,arguments)}return fe&&(K.__proto__=fe),K.prototype=Object.create(fe&&fe.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return!1},K.prototype.set=function(re){if(!(re===this.current&&!this.dirty)){var de=this.gl;re?de.enable(de.BLEND):de.disable(de.BLEND),this.current=re,this.dirty=!1}},K}(xe),pt=function(fe){function K(){fe.apply(this,arguments)}return fe&&(K.__proto__=fe),K.prototype=Object.create(fe&&fe.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){var re=this.gl;return[re.ONE,re.ZERO]},K.prototype.set=function(re){var de=this.current;re[0]===de[0]&&re[1]===de[1]&&!this.dirty||(this.gl.blendFunc(re[0],re[1]),this.current=re,this.dirty=!1)},K}(xe),yt=function(fe){function K(){fe.apply(this,arguments)}return fe&&(K.__proto__=fe),K.prototype=Object.create(fe&&fe.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return a.Color.transparent},K.prototype.set=function(re){var de=this.current;re.r===de.r&&re.g===de.g&&re.b===de.b&&re.a===de.a&&!this.dirty||(this.gl.blendColor(re.r,re.g,re.b,re.a),this.current=re,this.dirty=!1)},K}(xe),Et=function(fe){function K(){fe.apply(this,arguments)}return fe&&(K.__proto__=fe),K.prototype=Object.create(fe&&fe.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return this.gl.FUNC_ADD},K.prototype.set=function(re){re===this.current&&!this.dirty||(this.gl.blendEquation(re),this.current=re,this.dirty=!1)},K}(xe),tt=function(fe){function K(){fe.apply(this,arguments)}return fe&&(K.__proto__=fe),K.prototype=Object.create(fe&&fe.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return!1},K.prototype.set=function(re){if(!(re===this.current&&!this.dirty)){var de=this.gl;re?de.enable(de.CULL_FACE):de.disable(de.CULL_FACE),this.current=re,this.dirty=!1}},K}(xe),Ie=function(fe){function K(){fe.apply(this,arguments)}return fe&&(K.__proto__=fe),K.prototype=Object.create(fe&&fe.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return this.gl.BACK},K.prototype.set=function(re){re===this.current&&!this.dirty||(this.gl.cullFace(re),this.current=re,this.dirty=!1)},K}(xe),We=function(fe){function K(){fe.apply(this,arguments)}return fe&&(K.__proto__=fe),K.prototype=Object.create(fe&&fe.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return this.gl.CCW},K.prototype.set=function(re){re===this.current&&!this.dirty||(this.gl.frontFace(re),this.current=re,this.dirty=!1)},K}(xe),Ze=function(fe){function K(){fe.apply(this,arguments)}return fe&&(K.__proto__=fe),K.prototype=Object.create(fe&&fe.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return null},K.prototype.set=function(re){re===this.current&&!this.dirty||(this.gl.useProgram(re),this.current=re,this.dirty=!1)},K}(xe),He=function(fe){function K(){fe.apply(this,arguments)}return fe&&(K.__proto__=fe),K.prototype=Object.create(fe&&fe.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return this.gl.TEXTURE0},K.prototype.set=function(re){re===this.current&&!this.dirty||(this.gl.activeTexture(re),this.current=re,this.dirty=!1)},K}(xe),De=function(fe){function K(){fe.apply(this,arguments)}return fe&&(K.__proto__=fe),K.prototype=Object.create(fe&&fe.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){var re=this.gl;return[0,0,re.drawingBufferWidth,re.drawingBufferHeight]},K.prototype.set=function(re){var de=this.current;re[0]===de[0]&&re[1]===de[1]&&re[2]===de[2]&&re[3]===de[3]&&!this.dirty||(this.gl.viewport(re[0],re[1],re[2],re[3]),this.current=re,this.dirty=!1)},K}(xe),me=function(fe){function K(){fe.apply(this,arguments)}return fe&&(K.__proto__=fe),K.prototype=Object.create(fe&&fe.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return null},K.prototype.set=function(re){if(!(re===this.current&&!this.dirty)){var de=this.gl;de.bindFramebuffer(de.FRAMEBUFFER,re),this.current=re,this.dirty=!1}},K}(xe),ge=function(fe){function K(){fe.apply(this,arguments)}return fe&&(K.__proto__=fe),K.prototype=Object.create(fe&&fe.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return null},K.prototype.set=function(re){if(!(re===this.current&&!this.dirty)){var de=this.gl;de.bindRenderbuffer(de.RENDERBUFFER,re),this.current=re,this.dirty=!1}},K}(xe),Ee=function(fe){function K(){fe.apply(this,arguments)}return fe&&(K.__proto__=fe),K.prototype=Object.create(fe&&fe.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return null},K.prototype.set=function(re){if(!(re===this.current&&!this.dirty)){var de=this.gl;de.bindTexture(de.TEXTURE_2D,re),this.current=re,this.dirty=!1}},K}(xe),Te=function(fe){function K(){fe.apply(this,arguments)}return fe&&(K.__proto__=fe),K.prototype=Object.create(fe&&fe.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return null},K.prototype.set=function(re){if(!(re===this.current&&!this.dirty)){var de=this.gl;de.bindBuffer(de.ARRAY_BUFFER,re),this.current=re,this.dirty=!1}},K}(xe),ze=function(fe){function K(){fe.apply(this,arguments)}return fe&&(K.__proto__=fe),K.prototype=Object.create(fe&&fe.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return null},K.prototype.set=function(re){var de=this.gl;de.bindBuffer(de.ELEMENT_ARRAY_BUFFER,re),this.current=re,this.dirty=!1},K}(xe),Xe=function(fe){function K(he){fe.call(this,he),this.vao=he.extVertexArrayObject}return fe&&(K.__proto__=fe),K.prototype=Object.create(fe&&fe.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return null},K.prototype.set=function(re){!this.vao||re===this.current&&!this.dirty||(this.vao.bindVertexArrayOES(re),this.current=re,this.dirty=!1)},K}(xe),et=function(fe){function K(){fe.apply(this,arguments)}return fe&&(K.__proto__=fe),K.prototype=Object.create(fe&&fe.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return 4},K.prototype.set=function(re){if(!(re===this.current&&!this.dirty)){var de=this.gl;de.pixelStorei(de.UNPACK_ALIGNMENT,re),this.current=re,this.dirty=!1}},K}(xe),ut=function(fe){function K(){fe.apply(this,arguments)}return fe&&(K.__proto__=fe),K.prototype=Object.create(fe&&fe.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return!1},K.prototype.set=function(re){if(!(re===this.current&&!this.dirty)){var de=this.gl;de.pixelStorei(de.UNPACK_PREMULTIPLY_ALPHA_WEBGL,re),this.current=re,this.dirty=!1}},K}(xe),dt=function(fe){function K(){fe.apply(this,arguments)}return fe&&(K.__proto__=fe),K.prototype=Object.create(fe&&fe.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return!1},K.prototype.set=function(re){if(!(re===this.current&&!this.dirty)){var de=this.gl;de.pixelStorei(de.UNPACK_FLIP_Y_WEBGL,re),this.current=re,this.dirty=!1}},K}(xe),Zt=function(fe){function K(he,re){fe.call(this,he),this.context=he,this.parent=re}return fe&&(K.__proto__=fe),K.prototype=Object.create(fe&&fe.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return null},K}(xe),jt=function(fe){function K(){fe.apply(this,arguments)}return fe&&(K.__proto__=fe),K.prototype=Object.create(fe&&fe.prototype),K.prototype.constructor=K,K.prototype.setDirty=function(){this.dirty=!0},K.prototype.set=function(re){if(!(re===this.current&&!this.dirty)){this.context.bindFramebuffer.set(this.parent);var de=this.gl;de.framebufferTexture2D(de.FRAMEBUFFER,de.COLOR_ATTACHMENT0,de.TEXTURE_2D,re,0),this.current=re,this.dirty=!1}},K}(Zt),Tt=function(fe){function K(){fe.apply(this,arguments)}return fe&&(K.__proto__=fe),K.prototype=Object.create(fe&&fe.prototype),K.prototype.constructor=K,K.prototype.set=function(re){if(!(re===this.current&&!this.dirty)){this.context.bindFramebuffer.set(this.parent);var de=this.gl;de.framebufferRenderbuffer(de.FRAMEBUFFER,de.DEPTH_ATTACHMENT,de.RENDERBUFFER,re),this.current=re,this.dirty=!1}},K}(Zt),kt=function(K,he,re,de){this.context=K,this.width=he,this.height=re;var ke=K.gl,je=this.framebuffer=ke.createFramebuffer();this.colorAttachment=new jt(K,je),de&&(this.depthAttachment=new Tt(K,je))};kt.prototype.destroy=function(){var K=this.context.gl,he=this.colorAttachment.get();if(he&&K.deleteTexture(he),this.depthAttachment){var re=this.depthAttachment.get();re&&K.deleteRenderbuffer(re)}K.deleteFramebuffer(this.framebuffer)};var Qt=519,wr=function(K,he,re){this.func=K,this.mask=he,this.range=re};wr.ReadOnly=!1,wr.ReadWrite=!0,wr.disabled=new wr(Qt,wr.ReadOnly,[0,1]);var xt=519,At=7680,Wt=function(K,he,re,de,ke,je){this.test=K,this.ref=he,this.mask=re,this.fail=de,this.depthFail=ke,this.pass=je};Wt.disabled=new Wt({func:xt,mask:0},0,0,At,At,At);var er=0,$t=1,ht=771,at=function(K,he,re){this.blendFunction=K,this.blendColor=he,this.mask=re};at.Replace=[$t,er],at.disabled=new at(at.Replace,a.Color.transparent,[!1,!1,!1,!1]),at.unblended=new at(at.Replace,a.Color.transparent,[!0,!0,!0,!0]),at.alphaBlended=new at([$t,ht],a.Color.transparent,[!0,!0,!0,!0]);var bt=1029,Ct=2305,Dt=function(K,he,re){this.enable=K,this.mode=he,this.frontFace=re};Dt.disabled=new Dt(!1,bt,Ct),Dt.backCCW=new Dt(!0,bt,Ct);var It=function(K){this.gl=K,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new Me(this),this.clearDepth=new ye(this),this.clearStencil=new Se(this),this.colorMask=new Fe(this),this.depthMask=new Be(this),this.stencilMask=new _e(this),this.stencilFunc=new Ue(this),this.stencilOp=new it(this),this.stencilTest=new lt(this),this.depthRange=new $e(this),this.depthTest=new qe(this),this.depthFunc=new ft(this),this.blend=new ct(this),this.blendFunc=new pt(this),this.blendColor=new yt(this),this.blendEquation=new Et(this),this.cullFace=new tt(this),this.cullFaceSide=new Ie(this),this.frontFace=new We(this),this.program=new Ze(this),this.activeTexture=new He(this),this.viewport=new De(this),this.bindFramebuffer=new me(this),this.bindRenderbuffer=new ge(this),this.bindTexture=new Ee(this),this.bindVertexBuffer=new Te(this),this.bindElementBuffer=new ze(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new Xe(this),this.pixelStoreUnpack=new et(this),this.pixelStoreUnpackPremultiplyAlpha=new ut(this),this.pixelStoreUnpackFlipY=new dt(this),this.extTextureFilterAnisotropic=K.getExtension("EXT_texture_filter_anisotropic")||K.getExtension("MOZ_EXT_texture_filter_anisotropic")||K.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=K.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=K.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(K.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=K.getExtension("EXT_color_buffer_half_float")),this.extTimerQuery=K.getExtension("EXT_disjoint_timer_query"),this.maxTextureSize=K.getParameter(K.MAX_TEXTURE_SIZE)};It.prototype.setDefault=function(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()},It.prototype.setDirty=function(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0},It.prototype.createIndexBuffer=function(K,he){return new Ae(this,K,he)},It.prototype.createVertexBuffer=function(K,he,re){return new Re(this,K,he,re)},It.prototype.createRenderbuffer=function(K,he,re){var de=this.gl,ke=de.createRenderbuffer();return this.bindRenderbuffer.set(ke),de.renderbufferStorage(de.RENDERBUFFER,K,he,re),this.bindRenderbuffer.set(null),ke},It.prototype.createFramebuffer=function(K,he,re){return new kt(this,K,he,re)},It.prototype.clear=function(K){var he=K.color,re=K.depth,de=this.gl,ke=0;he&&(ke|=de.COLOR_BUFFER_BIT,this.clearColor.set(he),this.colorMask.set([!0,!0,!0,!0])),typeof re!="undefined"&&(ke|=de.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(re),this.depthMask.set(!0)),de.clear(ke)},It.prototype.setCullFace=function(K){K.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(K.mode),this.frontFace.set(K.frontFace))},It.prototype.setDepthMode=function(K){K.func===this.gl.ALWAYS&&!K.mask?this.depthTest.set(!1):(this.depthTest.set(!0),this.depthFunc.set(K.func),this.depthMask.set(K.mask),this.depthRange.set(K.range))},It.prototype.setStencilMode=function(K){K.test.func===this.gl.ALWAYS&&!K.mask?this.stencilTest.set(!1):(this.stencilTest.set(!0),this.stencilMask.set(K.mask),this.stencilOp.set([K.fail,K.depthFail,K.pass]),this.stencilFunc.set({func:K.test.func,ref:K.ref,mask:K.test.mask}))},It.prototype.setColorMode=function(K){a.deepEqual(K.blendFunction,at.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(K.blendFunction),this.blendColor.set(K.blendColor)),this.colorMask.set(K.mask)},It.prototype.unbindVAO=function(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)};var Vt=function(fe){function K(he,re,de){var ke=this;fe.call(this),this.id=he,this.dispatcher=de,this.on("data",function(je){je.dataType==="source"&&je.sourceDataType==="metadata"&&(ke._sourceLoaded=!0),ke._sourceLoaded&&!ke._paused&&je.dataType==="source"&&je.sourceDataType==="content"&&(ke.reload(),ke.transform&&ke.update(ke.transform))}),this.on("error",function(){ke._sourceErrored=!0}),this._source=Y(he,re,de,this),this._tiles={},this._cache=new pe(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new a.SourceFeatureState}return fe&&(K.__proto__=fe),K.prototype=Object.create(fe&&fe.prototype),K.prototype.constructor=K,K.prototype.onAdd=function(re){this.map=re,this._maxTileCacheSize=re?re._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(re)},K.prototype.onRemove=function(re){this._source&&this._source.onRemove&&this._source.onRemove(re)},K.prototype.loaded=function(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;for(var re in this._tiles){var de=this._tiles[re];if(de.state!=="loaded"&&de.state!=="errored")return!1}return!0},K.prototype.getSource=function(){return this._source},K.prototype.pause=function(){this._paused=!0},K.prototype.resume=function(){if(!!this._paused){var re=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,re&&this.reload(),this.transform&&this.update(this.transform)}},K.prototype._loadTile=function(re,de){return this._source.loadTile(re,de)},K.prototype._unloadTile=function(re){if(this._source.unloadTile)return this._source.unloadTile(re,function(){})},K.prototype._abortTile=function(re){if(this._source.abortTile)return this._source.abortTile(re,function(){})},K.prototype.serialize=function(){return this._source.serialize()},K.prototype.prepare=function(re){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(var de in this._tiles){var ke=this._tiles[de];ke.upload(re),ke.prepare(this.map.style.imageManager)}},K.prototype.getIds=function(){return a.values(this._tiles).map(function(re){return re.tileID}).sort(Nt).map(function(re){return re.key})},K.prototype.getRenderableIds=function(re){var de=this,ke=[];for(var je in this._tiles)this._isIdRenderable(je,re)&&ke.push(this._tiles[je]);return re?ke.sort(function(ot,Lt){var Ht=ot.tileID,qt=Lt.tileID,lr=new a.Point(Ht.canonical.x,Ht.canonical.y)._rotate(de.transform.angle),sr=new a.Point(qt.canonical.x,qt.canonical.y)._rotate(de.transform.angle);return Ht.overscaledZ-qt.overscaledZ||sr.y-lr.y||sr.x-lr.x}).map(function(ot){return ot.tileID.key}):ke.map(function(ot){return ot.tileID}).sort(Nt).map(function(ot){return ot.key})},K.prototype.hasRenderableParent=function(re){var de=this.findLoadedParent(re,0);return de?this._isIdRenderable(de.tileID.key):!1},K.prototype._isIdRenderable=function(re,de){return this._tiles[re]&&this._tiles[re].hasData()&&!this._coveredTiles[re]&&(de||!this._tiles[re].holdingForFade())},K.prototype.reload=function(){if(this._paused){this._shouldReloadOnResume=!0;return}this._cache.reset();for(var re in this._tiles)this._tiles[re].state!=="errored"&&this._reloadTile(re,"reloading")},K.prototype._reloadTile=function(re,de){var ke=this._tiles[re];!ke||(ke.state!=="loading"&&(ke.state=de),this._loadTile(ke,this._tileLoaded.bind(this,ke,re,de)))},K.prototype._tileLoaded=function(re,de,ke,je){if(je){re.state="errored",je.status!==404?this._source.fire(new a.ErrorEvent(je,{tile:re})):this.update(this.transform);return}re.timeAdded=a.browser.now(),ke==="expired"&&(re.refreshedUponExpiration=!0),this._setTileReloadTimer(de,re),this.getSource().type==="raster-dem"&&re.dem&&this._backfillDEM(re),this._state.initializeTileState(re,this.map?this.map.painter:null),this._source.fire(new a.Event("data",{dataType:"source",tile:re,coord:re.tileID}))},K.prototype._backfillDEM=function(re){for(var de=this.getRenderableIds(),ke=0;ke<de.length;ke++){var je=de[ke];if(re.neighboringTiles&&re.neighboringTiles[je]){var ot=this.getTileByID(je);Lt(re,ot),Lt(ot,re)}}function Lt(Ht,qt){Ht.needsHillshadePrepare=!0;var lr=qt.tileID.canonical.x-Ht.tileID.canonical.x,sr=qt.tileID.canonical.y-Ht.tileID.canonical.y,kr=Math.pow(2,Ht.tileID.canonical.z),Xr=qt.tileID.key;lr===0&&sr===0||Math.abs(sr)>1||(Math.abs(lr)>1&&(Math.abs(lr+kr)===1?lr+=kr:Math.abs(lr-kr)===1&&(lr-=kr)),!(!qt.dem||!Ht.dem)&&(Ht.dem.backfillBorder(qt.dem,lr,sr),Ht.neighboringTiles&&Ht.neighboringTiles[Xr]&&(Ht.neighboringTiles[Xr].backfilled=!0)))}},K.prototype.getTile=function(re){return this.getTileByID(re.key)},K.prototype.getTileByID=function(re){return this._tiles[re]},K.prototype._retainLoadedChildren=function(re,de,ke,je){for(var ot in this._tiles){var Lt=this._tiles[ot];if(!(je[ot]||!Lt.hasData()||Lt.tileID.overscaledZ<=de||Lt.tileID.overscaledZ>ke)){for(var Ht=Lt.tileID;Lt&&Lt.tileID.overscaledZ>de+1;){var qt=Lt.tileID.scaledTo(Lt.tileID.overscaledZ-1);Lt=this._tiles[qt.key],Lt&&Lt.hasData()&&(Ht=qt)}for(var lr=Ht;lr.overscaledZ>de;)if(lr=lr.scaledTo(lr.overscaledZ-1),re[lr.key]){je[Ht.key]=Ht;break}}}},K.prototype.findLoadedParent=function(re,de){if(re.key in this._loadedParentTiles){var ke=this._loadedParentTiles[re.key];return ke&&ke.tileID.overscaledZ>=de?ke:null}for(var je=re.overscaledZ-1;je>=de;je--){var ot=re.scaledTo(je),Lt=this._getLoadedTile(ot);if(Lt)return Lt}},K.prototype._getLoadedTile=function(re){var de=this._tiles[re.key];if(de&&de.hasData())return de;var ke=this._cache.getByKey(re.wrapped().key);return ke},K.prototype.updateCacheSize=function(re){var de=Math.ceil(re.width/this._source.tileSize)+1,ke=Math.ceil(re.height/this._source.tileSize)+1,je=de*ke,ot=5,Lt=Math.floor(je*ot),Ht=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,Lt):Lt;this._cache.setMaxSize(Ht)},K.prototype.handleWrapJump=function(re){var de=this._prevLng===void 0?re:this._prevLng,ke=re-de,je=ke/360,ot=Math.round(je);if(this._prevLng=re,ot){var Lt={};for(var Ht in this._tiles){var qt=this._tiles[Ht];qt.tileID=qt.tileID.unwrapTo(qt.tileID.wrap+ot),Lt[qt.tileID.key]=qt}this._tiles=Lt;for(var lr in this._timers)clearTimeout(this._timers[lr]),delete this._timers[lr];for(var sr in this._tiles){var kr=this._tiles[sr];this._setTileReloadTimer(sr,kr)}}},K.prototype.update=function(re){var de=this;if(this.transform=re,!(!this._sourceLoaded||this._paused)){this.updateCacheSize(re),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={};var ke;this.used?this._source.tileID?ke=re.getVisibleUnwrappedCoordinates(this._source.tileID).map(function(la){return new a.OverscaledTileID(la.canonical.z,la.wrap,la.canonical.z,la.canonical.x,la.canonical.y)}):(ke=re.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}),this._source.hasTile&&(ke=ke.filter(function(la){return de._source.hasTile(la)}))):ke=[];var je=re.coveringZoomLevel(this._source),ot=Math.max(je-K.maxOverzooming,this._source.minzoom),Lt=Math.max(je+K.maxUnderzooming,this._source.minzoom),Ht=this._updateRetainedTiles(ke,je);if(Jt(this._source.type)){for(var qt={},lr={},sr=Object.keys(Ht),kr=0,Xr=sr;kr<Xr.length;kr+=1){var Yr=Xr[kr],Hr=Ht[Yr],Kr=this._tiles[Yr];if(!(!Kr||Kr.fadeEndTime&&Kr.fadeEndTime<=a.browser.now())){var fn=this.findLoadedParent(Hr,ot);fn&&(this._addTile(fn.tileID),qt[fn.tileID.key]=fn.tileID),lr[Yr]=Hr}}this._retainLoadedChildren(lr,je,Lt,Ht);for(var kn in qt)Ht[kn]||(this._coveredTiles[kn]=!0,Ht[kn]=qt[kn])}for(var Bn in Ht)this._tiles[Bn].clearFadeHold();for(var Yn=a.keysDifference(this._tiles,Ht),Xn=0,Gn=Yn;Xn<Gn.length;Xn+=1){var jn=Gn[Xn],ta=this._tiles[jn];ta.hasSymbolBuckets&&!ta.holdingForFade()?ta.setHoldDuration(this.map._fadeDuration):(!ta.hasSymbolBuckets||ta.symbolFadeFinished())&&this._removeTile(jn)}this._updateLoadedParentTileCache()}},K.prototype.releaseSymbolFadeTiles=function(){for(var re in this._tiles)this._tiles[re].holdingForFade()&&this._removeTile(re)},K.prototype._updateRetainedTiles=function(re,de){for(var ke={},je={},ot=Math.max(de-K.maxOverzooming,this._source.minzoom),Lt=Math.max(de+K.maxUnderzooming,this._source.minzoom),Ht={},qt=0,lr=re;qt<lr.length;qt+=1){var sr=lr[qt],kr=this._addTile(sr);ke[sr.key]=sr,!kr.hasData()&&de<this._source.maxzoom&&(Ht[sr.key]=sr)}this._retainLoadedChildren(Ht,de,Lt,ke);for(var Xr=0,Yr=re;Xr<Yr.length;Xr+=1){var Hr=Yr[Xr],Kr=this._tiles[Hr.key];if(!Kr.hasData()){if(de+1>this._source.maxzoom){var fn=Hr.children(this._source.maxzoom)[0],kn=this.getTile(fn);if(!!kn&&kn.hasData()){ke[fn.key]=fn;continue}}else{var Bn=Hr.children(this._source.maxzoom);if(ke[Bn[0].key]&&ke[Bn[1].key]&&ke[Bn[2].key]&&ke[Bn[3].key])continue}for(var Yn=Kr.wasRequested(),Xn=Hr.overscaledZ-1;Xn>=ot;--Xn){var Gn=Hr.scaledTo(Xn);if(je[Gn.key]||(je[Gn.key]=!0,Kr=this.getTile(Gn),!Kr&&Yn&&(Kr=this._addTile(Gn)),Kr&&(ke[Gn.key]=Gn,Yn=Kr.wasRequested(),Kr.hasData())))break}}}return ke},K.prototype._updateLoadedParentTileCache=function(){this._loadedParentTiles={};for(var re in this._tiles){for(var de=[],ke=void 0,je=this._tiles[re].tileID;je.overscaledZ>0;){if(je.key in this._loadedParentTiles){ke=this._loadedParentTiles[je.key];break}de.push(je.key);var ot=je.scaledTo(je.overscaledZ-1);if(ke=this._getLoadedTile(ot),ke)break;je=ot}for(var Lt=0,Ht=de;Lt<Ht.length;Lt+=1){var qt=Ht[Lt];this._loadedParentTiles[qt]=ke}}},K.prototype._addTile=function(re){var de=this._tiles[re.key];if(de)return de;de=this._cache.getAndRemove(re),de&&(this._setTileReloadTimer(re.key,de),de.tileID=re,this._state.initializeTileState(de,this.map?this.map.painter:null),this._cacheTimers[re.key]&&(clearTimeout(this._cacheTimers[re.key]),delete this._cacheTimers[re.key],this._setTileReloadTimer(re.key,de)));var ke=Boolean(de);return ke||(de=new a.Tile(re,this._source.tileSize*re.overscaleFactor()),this._loadTile(de,this._tileLoaded.bind(this,de,re.key,de.state))),de?(de.uses++,this._tiles[re.key]=de,ke||this._source.fire(new a.Event("dataloading",{tile:de,coord:de.tileID,dataType:"source"})),de):null},K.prototype._setTileReloadTimer=function(re,de){var ke=this;re in this._timers&&(clearTimeout(this._timers[re]),delete this._timers[re]);var je=de.getExpiryTimeout();je&&(this._timers[re]=setTimeout(function(){ke._reloadTile(re,"expired"),delete ke._timers[re]},je))},K.prototype._removeTile=function(re){var de=this._tiles[re];!de||(de.uses--,delete this._tiles[re],this._timers[re]&&(clearTimeout(this._timers[re]),delete this._timers[re]),!(de.uses>0)&&(de.hasData()&&de.state!=="reloading"?this._cache.add(de.tileID,de,de.getExpiryTimeout()):(de.aborted=!0,this._abortTile(de),this._unloadTile(de))))},K.prototype.clearTiles=function(){this._shouldReloadOnResume=!1,this._paused=!1;for(var re in this._tiles)this._removeTile(re);this._cache.reset()},K.prototype.tilesIn=function(re,de,ke){var je=this,ot=[],Lt=this.transform;if(!Lt)return ot;for(var Ht=ke?Lt.getCameraQueryGeometry(re):re,qt=re.map(function(Xn){return Lt.pointCoordinate(Xn)}),lr=Ht.map(function(Xn){return Lt.pointCoordinate(Xn)}),sr=this.getIds(),kr=1/0,Xr=1/0,Yr=-1/0,Hr=-1/0,Kr=0,fn=lr;Kr<fn.length;Kr+=1){var kn=fn[Kr];kr=Math.min(kr,kn.x),Xr=Math.min(Xr,kn.y),Yr=Math.max(Yr,kn.x),Hr=Math.max(Hr,kn.y)}for(var Bn=function(Xn){var Gn=je._tiles[sr[Xn]];if(!Gn.holdingForFade()){var jn=Gn.tileID,ta=Math.pow(2,Lt.zoom-Gn.tileID.overscaledZ),la=de*Gn.queryPadding*a.EXTENT/Gn.tileSize/ta,xa=[jn.getTilePoint(new a.MercatorCoordinate(kr,Xr)),jn.getTilePoint(new a.MercatorCoordinate(Yr,Hr))];if(xa[0].x-la<a.EXTENT&&xa[0].y-la<a.EXTENT&&xa[1].x+la>=0&&xa[1].y+la>=0){var va=qt.map(function(Qa){return jn.getTilePoint(Qa)}),ka=lr.map(function(Qa){return jn.getTilePoint(Qa)});ot.push({tile:Gn,tileID:jn,queryGeometry:va,cameraQueryGeometry:ka,scale:ta})}}},Yn=0;Yn<sr.length;Yn++)Bn(Yn);return ot},K.prototype.getVisibleCoordinates=function(re){for(var de=this,ke=this.getRenderableIds(re).map(function(Ht){return de._tiles[Ht].tileID}),je=0,ot=ke;je<ot.length;je+=1){var Lt=ot[je];Lt.posMatrix=this.transform.calculatePosMatrix(Lt.toUnwrapped())}return ke},K.prototype.hasTransition=function(){if(this._source.hasTransition())return!0;if(Jt(this._source.type))for(var re in this._tiles){var de=this._tiles[re];if(de.fadeEndTime!==void 0&&de.fadeEndTime>=a.browser.now())return!0}return!1},K.prototype.setFeatureState=function(re,de,ke){re=re||"_geojsonTileLayer",this._state.updateState(re,de,ke)},K.prototype.removeFeatureState=function(re,de,ke){re=re||"_geojsonTileLayer",this._state.removeFeatureState(re,de,ke)},K.prototype.getFeatureState=function(re,de){return re=re||"_geojsonTileLayer",this._state.getState(re,de)},K.prototype.setDependencies=function(re,de,ke){var je=this._tiles[re];je&&je.setDependencies(de,ke)},K.prototype.reloadTilesForDependencies=function(re,de){for(var ke in this._tiles){var je=this._tiles[ke];je.hasDependency(re,de)&&this._reloadTile(ke,"reloading")}this._cache.filter(function(ot){return!ot.hasDependency(re,de)})},K}(a.Evented);Vt.maxOverzooming=10,Vt.maxUnderzooming=3;function Nt(fe,K){var he=Math.abs(fe.wrap*2)-+(fe.wrap<0),re=Math.abs(K.wrap*2)-+(K.wrap<0);return fe.overscaledZ-K.overscaledZ||re-he||K.canonical.y-fe.canonical.y||K.canonical.x-fe.canonical.x}function Jt(fe){return fe==="raster"||fe==="image"||fe==="video"}function fr(){return new a.window.Worker(so.workerUrl)}var cr="mapboxgl_preloaded_worker_pool",dr=function(){this.active={}};dr.prototype.acquire=function(K){if(!this.workers)for(this.workers=[];this.workers.length<dr.workerCount;)this.workers.push(new fr);return this.active[K]=!0,this.workers.slice()},dr.prototype.release=function(K){delete this.active[K],this.numActive()===0&&(this.workers.forEach(function(he){he.terminate()}),this.workers=null)},dr.prototype.isPreloaded=function(){return!!this.active[cr]},dr.prototype.numActive=function(){return Object.keys(this.active).length};var Ge=Math.floor(a.browser.hardwareConcurrency/2);dr.workerCount=Math.max(Math.min(Ge,6),1);var Ve;function Ot(){return Ve||(Ve=new dr),Ve}function Ft(){var fe=Ot();fe.acquire(cr)}function Kt(){var fe=Ve;fe&&(fe.isPreloaded()&&fe.numActive()===1?(fe.release(cr),Ve=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))}function rr(fe,K){var he={};for(var re in fe)re!=="ref"&&(he[re]=fe[re]);return a.refProperties.forEach(function(de){de in K&&(he[de]=K[de])}),he}function ur(fe){fe=fe.slice();for(var K=Object.create(null),he=0;he<fe.length;he++)K[fe[he].id]=fe[he];for(var re=0;re<fe.length;re++)"ref"in fe[re]&&(fe[re]=rr(fe[re],K[fe[re].ref]));return fe}function ar(){var fe={},K=a.styleSpec.$version;for(var he in a.styleSpec.$root){var re=a.styleSpec.$root[he];if(re.required){var de=null;he==="version"?de=K:re.type==="array"?de=[]:de={},de!=null&&(fe[he]=de)}}return fe}var Bt={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function hr(fe,K,he){he.push({command:Bt.addSource,args:[fe,K[fe]]})}function gr(fe,K,he){K.push({command:Bt.removeSource,args:[fe]}),he[fe]=!0}function mr(fe,K,he,re){gr(fe,he,re),hr(fe,K,he)}function vr(fe,K,he){var re;for(re in fe[he])if(!!fe[he].hasOwnProperty(re)&&re!=="data"&&!a.deepEqual(fe[he][re],K[he][re]))return!1;for(re in K[he])if(!!K[he].hasOwnProperty(re)&&re!=="data"&&!a.deepEqual(fe[he][re],K[he][re]))return!1;return!0}function Gr(fe,K,he,re){fe=fe||{},K=K||{};var de;for(de in fe)!fe.hasOwnProperty(de)||K.hasOwnProperty(de)||gr(de,he,re);for(de in K)!K.hasOwnProperty(de)||(fe.hasOwnProperty(de)?a.deepEqual(fe[de],K[de])||(fe[de].type==="geojson"&&K[de].type==="geojson"&&vr(fe,K,de)?he.push({command:Bt.setGeoJSONSourceData,args:[de,K[de].data]}):mr(de,K,he,re)):hr(de,K,he))}function Rr(fe,K,he,re,de,ke){fe=fe||{},K=K||{};var je;for(je in fe)!fe.hasOwnProperty(je)||a.deepEqual(fe[je],K[je])||he.push({command:ke,args:[re,je,K[je],de]});for(je in K)!K.hasOwnProperty(je)||fe.hasOwnProperty(je)||a.deepEqual(fe[je],K[je])||he.push({command:ke,args:[re,je,K[je],de]})}function Ir(fe){return fe.id}function cn(fe,K){return fe[K.id]=K,fe}function rn(fe,K,he){fe=fe||[],K=K||[];var re=fe.map(Ir),de=K.map(Ir),ke=fe.reduce(cn,{}),je=K.reduce(cn,{}),ot=re.slice(),Lt=Object.create(null),Ht,qt,lr,sr,kr,Xr,Yr;for(Ht=0,qt=0;Ht<re.length;Ht++)lr=re[Ht],je.hasOwnProperty(lr)?qt++:(he.push({command:Bt.removeLayer,args:[lr]}),ot.splice(ot.indexOf(lr,qt),1));for(Ht=0,qt=0;Ht<de.length;Ht++)lr=de[de.length-1-Ht],ot[ot.length-1-Ht]!==lr&&(ke.hasOwnProperty(lr)?(he.push({command:Bt.removeLayer,args:[lr]}),ot.splice(ot.lastIndexOf(lr,ot.length-qt),1)):qt++,Xr=ot[ot.length-Ht],he.push({command:Bt.addLayer,args:[je[lr],Xr]}),ot.splice(ot.length-Ht,0,lr),Lt[lr]=!0);for(Ht=0;Ht<de.length;Ht++)if(lr=de[Ht],sr=ke[lr],kr=je[lr],!(Lt[lr]||a.deepEqual(sr,kr))){if(!a.deepEqual(sr.source,kr.source)||!a.deepEqual(sr["source-layer"],kr["source-layer"])||!a.deepEqual(sr.type,kr.type)){he.push({command:Bt.removeLayer,args:[lr]}),Xr=ot[ot.lastIndexOf(lr)+1],he.push({command:Bt.addLayer,args:[kr,Xr]});continue}Rr(sr.layout,kr.layout,he,lr,null,Bt.setLayoutProperty),Rr(sr.paint,kr.paint,he,lr,null,Bt.setPaintProperty),a.deepEqual(sr.filter,kr.filter)||he.push({command:Bt.setFilter,args:[lr,kr.filter]}),(!a.deepEqual(sr.minzoom,kr.minzoom)||!a.deepEqual(sr.maxzoom,kr.maxzoom))&&he.push({command:Bt.setLayerZoomRange,args:[lr,kr.minzoom,kr.maxzoom]});for(Yr in sr)!sr.hasOwnProperty(Yr)||Yr==="layout"||Yr==="paint"||Yr==="filter"||Yr==="metadata"||Yr==="minzoom"||Yr==="maxzoom"||(Yr.indexOf("paint.")===0?Rr(sr[Yr],kr[Yr],he,lr,Yr.slice(6),Bt.setPaintProperty):a.deepEqual(sr[Yr],kr[Yr])||he.push({command:Bt.setLayerProperty,args:[lr,Yr,kr[Yr]]}));for(Yr in kr)!kr.hasOwnProperty(Yr)||sr.hasOwnProperty(Yr)||Yr==="layout"||Yr==="paint"||Yr==="filter"||Yr==="metadata"||Yr==="minzoom"||Yr==="maxzoom"||(Yr.indexOf("paint.")===0?Rr(sr[Yr],kr[Yr],he,lr,Yr.slice(6),Bt.setPaintProperty):a.deepEqual(sr[Yr],kr[Yr])||he.push({command:Bt.setLayerProperty,args:[lr,Yr,kr[Yr]]}))}}function Ln(fe,K){if(!fe)return[{command:Bt.setStyle,args:[K]}];var he=[];try{if(!a.deepEqual(fe.version,K.version))return[{command:Bt.setStyle,args:[K]}];a.deepEqual(fe.center,K.center)||he.push({command:Bt.setCenter,args:[K.center]}),a.deepEqual(fe.zoom,K.zoom)||he.push({command:Bt.setZoom,args:[K.zoom]}),a.deepEqual(fe.bearing,K.bearing)||he.push({command:Bt.setBearing,args:[K.bearing]}),a.deepEqual(fe.pitch,K.pitch)||he.push({command:Bt.setPitch,args:[K.pitch]}),a.deepEqual(fe.sprite,K.sprite)||he.push({command:Bt.setSprite,args:[K.sprite]}),a.deepEqual(fe.glyphs,K.glyphs)||he.push({command:Bt.setGlyphs,args:[K.glyphs]}),a.deepEqual(fe.transition,K.transition)||he.push({command:Bt.setTransition,args:[K.transition]}),a.deepEqual(fe.light,K.light)||he.push({command:Bt.setLight,args:[K.light]});var re={},de=[];Gr(fe.sources,K.sources,de,re);var ke=[];fe.layers&&fe.layers.forEach(function(je){re[je.source]?he.push({command:Bt.removeLayer,args:[je.id]}):ke.push(je)}),he=he.concat(de),rn(ke,K.layers,he)}catch(je){console.warn("Unable to compute style diff:",je),he=[{command:Bt.setStyle,args:[K]}]}return he}var En=function(K,he){this.reset(K,he)};En.prototype.reset=function(K,he){this.points=K||[],this._distances=[0];for(var re=1;re<this.points.length;re++)this._distances[re]=this._distances[re-1]+this.points[re].dist(this.points[re-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(he||0,this.length*.5),this.paddedLength=this.length-this.padding*2},En.prototype.lerp=function(K){if(this.points.length===1)return this.points[0];K=a.clamp(K,0,1);for(var he=1,re=this._distances[he],de=K*this.paddedLength+this.padding;re<de&&he<this._distances.length;)re=this._distances[++he];var ke=he-1,je=this._distances[ke],ot=re-je,Lt=ot>0?(de-je)/ot:0;return this.points[ke].mult(1-Lt).add(this.points[he].mult(Lt))};var Tr=function(K,he,re){var de=this.boxCells=[],ke=this.circleCells=[];this.xCellCount=Math.ceil(K/re),this.yCellCount=Math.ceil(he/re);for(var je=0;je<this.xCellCount*this.yCellCount;je++)de.push([]),ke.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=K,this.height=he,this.xScale=this.xCellCount/K,this.yScale=this.yCellCount/he,this.boxUid=0,this.circleUid=0};Tr.prototype.keysLength=function(){return this.boxKeys.length+this.circleKeys.length},Tr.prototype.insert=function(K,he,re,de,ke){this._forEachCell(he,re,de,ke,this._insertBoxCell,this.boxUid++),this.boxKeys.push(K),this.bboxes.push(he),this.bboxes.push(re),this.bboxes.push(de),this.bboxes.push(ke)},Tr.prototype.insertCircle=function(K,he,re,de){this._forEachCell(he-de,re-de,he+de,re+de,this._insertCircleCell,this.circleUid++),this.circleKeys.push(K),this.circles.push(he),this.circles.push(re),this.circles.push(de)},Tr.prototype._insertBoxCell=function(K,he,re,de,ke,je){this.boxCells[ke].push(je)},Tr.prototype._insertCircleCell=function(K,he,re,de,ke,je){this.circleCells[ke].push(je)},Tr.prototype._query=function(K,he,re,de,ke,je){if(re<0||K>this.width||de<0||he>this.height)return ke?!1:[];var ot=[];if(K<=0&&he<=0&&this.width<=re&&this.height<=de){if(ke)return!0;for(var Lt=0;Lt<this.boxKeys.length;Lt++)ot.push({key:this.boxKeys[Lt],x1:this.bboxes[Lt*4],y1:this.bboxes[Lt*4+1],x2:this.bboxes[Lt*4+2],y2:this.bboxes[Lt*4+3]});for(var Ht=0;Ht<this.circleKeys.length;Ht++){var qt=this.circles[Ht*3],lr=this.circles[Ht*3+1],sr=this.circles[Ht*3+2];ot.push({key:this.circleKeys[Ht],x1:qt-sr,y1:lr-sr,x2:qt+sr,y2:lr+sr})}return je?ot.filter(je):ot}else{var kr={hitTest:ke,seenUids:{box:{},circle:{}}};return this._forEachCell(K,he,re,de,this._queryCell,ot,kr,je),ke?ot.length>0:ot}},Tr.prototype._queryCircle=function(K,he,re,de,ke){var je=K-re,ot=K+re,Lt=he-re,Ht=he+re;if(ot<0||je>this.width||Ht<0||Lt>this.height)return de?!1:[];var qt=[],lr={hitTest:de,circle:{x:K,y:he,radius:re},seenUids:{box:{},circle:{}}};return this._forEachCell(je,Lt,ot,Ht,this._queryCellCircle,qt,lr,ke),de?qt.length>0:qt},Tr.prototype.query=function(K,he,re,de,ke){return this._query(K,he,re,de,!1,ke)},Tr.prototype.hitTest=function(K,he,re,de,ke){return this._query(K,he,re,de,!0,ke)},Tr.prototype.hitTestCircle=function(K,he,re,de){return this._queryCircle(K,he,re,!0,de)},Tr.prototype._queryCell=function(K,he,re,de,ke,je,ot,Lt){var Ht=ot.seenUids,qt=this.boxCells[ke];if(qt!==null)for(var lr=this.bboxes,sr=0,kr=qt;sr<kr.length;sr+=1){var Xr=kr[sr];if(!Ht.box[Xr]){Ht.box[Xr]=!0;var Yr=Xr*4;if(K<=lr[Yr+2]&&he<=lr[Yr+3]&&re>=lr[Yr+0]&&de>=lr[Yr+1]&&(!Lt||Lt(this.boxKeys[Xr]))){if(ot.hitTest)return je.push(!0),!0;je.push({key:this.boxKeys[Xr],x1:lr[Yr],y1:lr[Yr+1],x2:lr[Yr+2],y2:lr[Yr+3]})}}}var Hr=this.circleCells[ke];if(Hr!==null)for(var Kr=this.circles,fn=0,kn=Hr;fn<kn.length;fn+=1){var Bn=kn[fn];if(!Ht.circle[Bn]){Ht.circle[Bn]=!0;var Yn=Bn*3;if(this._circleAndRectCollide(Kr[Yn],Kr[Yn+1],Kr[Yn+2],K,he,re,de)&&(!Lt||Lt(this.circleKeys[Bn]))){if(ot.hitTest)return je.push(!0),!0;var Xn=Kr[Yn],Gn=Kr[Yn+1],jn=Kr[Yn+2];je.push({key:this.circleKeys[Bn],x1:Xn-jn,y1:Gn-jn,x2:Xn+jn,y2:Gn+jn})}}}},Tr.prototype._queryCellCircle=function(K,he,re,de,ke,je,ot,Lt){var Ht=ot.circle,qt=ot.seenUids,lr=this.boxCells[ke];if(lr!==null)for(var sr=this.bboxes,kr=0,Xr=lr;kr<Xr.length;kr+=1){var Yr=Xr[kr];if(!qt.box[Yr]){qt.box[Yr]=!0;var Hr=Yr*4;if(this._circleAndRectCollide(Ht.x,Ht.y,Ht.radius,sr[Hr+0],sr[Hr+1],sr[Hr+2],sr[Hr+3])&&(!Lt||Lt(this.boxKeys[Yr])))return je.push(!0),!0}}var Kr=this.circleCells[ke];if(Kr!==null)for(var fn=this.circles,kn=0,Bn=Kr;kn<Bn.length;kn+=1){var Yn=Bn[kn];if(!qt.circle[Yn]){qt.circle[Yn]=!0;var Xn=Yn*3;if(this._circlesCollide(fn[Xn],fn[Xn+1],fn[Xn+2],Ht.x,Ht.y,Ht.radius)&&(!Lt||Lt(this.circleKeys[Yn])))return je.push(!0),!0}}},Tr.prototype._forEachCell=function(K,he,re,de,ke,je,ot,Lt){for(var Ht=this._convertToXCellCoord(K),qt=this._convertToYCellCoord(he),lr=this._convertToXCellCoord(re),sr=this._convertToYCellCoord(de),kr=Ht;kr<=lr;kr++)for(var Xr=qt;Xr<=sr;Xr++){var Yr=this.xCellCount*Xr+kr;if(ke.call(this,K,he,re,de,Yr,je,ot,Lt))return}},Tr.prototype._convertToXCellCoord=function(K){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(K*this.xScale)))},Tr.prototype._convertToYCellCoord=function(K){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(K*this.yScale)))},Tr.prototype._circlesCollide=function(K,he,re,de,ke,je){var ot=de-K,Lt=ke-he,Ht=re+je;return Ht*Ht>ot*ot+Lt*Lt},Tr.prototype._circleAndRectCollide=function(K,he,re,de,ke,je,ot){var Lt=(je-de)/2,Ht=Math.abs(K-(de+Lt));if(Ht>Lt+re)return!1;var qt=(ot-ke)/2,lr=Math.abs(he-(ke+qt));if(lr>qt+re)return!1;if(Ht<=Lt||lr<=qt)return!0;var sr=Ht-Lt,kr=lr-qt;return sr*sr+kr*kr<=re*re};function Lr(fe,K,he,re,de){var ke=a.create();return K?(a.scale(ke,ke,[1/de,1/de,1]),he||a.rotateZ(ke,ke,re.angle)):a.multiply(ke,re.labelPlaneMatrix,fe),ke}function Wr(fe,K,he,re,de){if(K){var ke=a.clone(fe);return a.scale(ke,ke,[de,de,1]),he||a.rotateZ(ke,ke,-re.angle),ke}else return re.glCoordMatrix}function Ur(fe,K){var he=[fe.x,fe.y,0,1];br(he,he,K);var re=he[3];return{point:new a.Point(he[0]/re,he[1]/re),signedDistanceFromCamera:re}}function an(fe,K){return .5+.5*(fe/K)}function pn(fe,K){var he=fe[0]/fe[3],re=fe[1]/fe[3],de=he>=-K[0]&&he<=K[0]&&re>=-K[1]&&re<=K[1];return de}function gn(fe,K,he,re,de,ke,je,ot){var Lt=re?fe.textSizeData:fe.iconSizeData,Ht=a.evaluateSizeForZoom(Lt,he.transform.zoom),qt=[256/he.width*2+1,256/he.height*2+1],lr=re?fe.text.dynamicLayoutVertexArray:fe.icon.dynamicLayoutVertexArray;lr.clear();for(var sr=fe.lineVertexArray,kr=re?fe.text.placedSymbolArray:fe.icon.placedSymbolArray,Xr=he.transform.width/he.transform.height,Yr=!1,Hr=0;Hr<kr.length;Hr++){var Kr=kr.get(Hr);if(Kr.hidden||Kr.writingMode===a.WritingMode.vertical&&!Yr){na(Kr.numGlyphs,lr);continue}Yr=!1;var fn=[Kr.anchorX,Kr.anchorY,0,1];if(a.transformMat4(fn,fn,K),!pn(fn,qt)){na(Kr.numGlyphs,lr);continue}var kn=fn[3],Bn=an(he.transform.cameraToCenterDistance,kn),Yn=a.evaluateSizeForFeature(Lt,Ht,Kr),Xn=je?Yn/Bn:Yn*Bn,Gn=new a.Point(Kr.anchorX,Kr.anchorY),jn=Ur(Gn,de).point,ta={},la=aa(Kr,Xn,!1,ot,K,de,ke,fe.glyphOffsetArray,sr,lr,jn,Gn,ta,Xr);Yr=la.useVertical,(la.notEnoughRoom||Yr||la.needsFlipping&&aa(Kr,Xn,!0,ot,K,de,ke,fe.glyphOffsetArray,sr,lr,jn,Gn,ta,Xr).notEnoughRoom)&&na(Kr.numGlyphs,lr)}re?fe.text.dynamicLayoutVertexBuffer.updateData(lr):fe.icon.dynamicLayoutVertexBuffer.updateData(lr)}function Cn(fe,K,he,re,de,ke,je,ot,Lt,Ht,qt){var lr=ot.glyphStartIndex+ot.numGlyphs,sr=ot.lineStartIndex,kr=ot.lineStartIndex+ot.lineLength,Xr=K.getoffsetX(ot.glyphStartIndex),Yr=K.getoffsetX(lr-1),Hr=pa(fe*Xr,he,re,de,ke,je,ot.segment,sr,kr,Lt,Ht,qt);if(!Hr)return null;var Kr=pa(fe*Yr,he,re,de,ke,je,ot.segment,sr,kr,Lt,Ht,qt);return Kr?{first:Hr,last:Kr}:null}function zn(fe,K,he,re){if(fe===a.WritingMode.horizontal){var de=Math.abs(he.y-K.y),ke=Math.abs(he.x-K.x)*re;if(de>ke)return{useVertical:!0}}return(fe===a.WritingMode.vertical?K.y<he.y:K.x>he.x)?{needsFlipping:!0}:null}function aa(fe,K,he,re,de,ke,je,ot,Lt,Ht,qt,lr,sr,kr){var Xr=K/24,Yr=fe.lineOffsetX*Xr,Hr=fe.lineOffsetY*Xr,Kr;if(fe.numGlyphs>1){var fn=fe.glyphStartIndex+fe.numGlyphs,kn=fe.lineStartIndex,Bn=fe.lineStartIndex+fe.lineLength,Yn=Cn(Xr,ot,Yr,Hr,he,qt,lr,fe,Lt,ke,sr);if(!Yn)return{notEnoughRoom:!0};var Xn=Ur(Yn.first.point,je).point,Gn=Ur(Yn.last.point,je).point;if(re&&!he){var jn=zn(fe.writingMode,Xn,Gn,kr);if(jn)return jn}Kr=[Yn.first];for(var ta=fe.glyphStartIndex+1;ta<fn-1;ta++)Kr.push(pa(Xr*ot.getoffsetX(ta),Yr,Hr,he,qt,lr,fe.segment,kn,Bn,Lt,ke,sr));Kr.push(Yn.last)}else{if(re&&!he){var la=Ur(lr,de).point,xa=fe.lineStartIndex+fe.segment+1,va=new a.Point(Lt.getx(xa),Lt.gety(xa)),ka=Ur(va,de),Qa=ka.signedDistanceFromCamera>0?ka.point:ha(lr,va,la,1,de),Wa=zn(fe.writingMode,la,Qa,kr);if(Wa)return Wa}var Ma=pa(Xr*ot.getoffsetX(fe.glyphStartIndex),Yr,Hr,he,qt,lr,fe.segment,fe.lineStartIndex,fe.lineStartIndex+fe.lineLength,Lt,ke,sr);if(!Ma)return{notEnoughRoom:!0};Kr=[Ma]}for(var Ya=0,Va=Kr;Ya<Va.length;Ya+=1){var oi=Va[Ya];a.addDynamicAttributes(Ht,oi.point,oi.angle)}return{}}function ha(fe,K,he,re,de){var ke=Ur(fe.add(fe.sub(K)._unit()),de).point,je=he.sub(ke);return he.add(je._mult(re/je.mag()))}function pa(fe,K,he,re,de,ke,je,ot,Lt,Ht,qt,lr){var sr=re?fe-K:fe+K,kr=sr>0?1:-1,Xr=0;re&&(kr*=-1,Xr=Math.PI),kr<0&&(Xr+=Math.PI);for(var Yr=kr>0?ot+je:ot+je+1,Hr=de,Kr=de,fn=0,kn=0,Bn=Math.abs(sr),Yn=[];fn+kn<=Bn;){if(Yr+=kr,Yr<ot||Yr>=Lt)return null;if(Kr=Hr,Yn.push(Hr),Hr=lr[Yr],Hr===void 0){var Xn=new a.Point(Ht.getx(Yr),Ht.gety(Yr)),Gn=Ur(Xn,qt);if(Gn.signedDistanceFromCamera>0)Hr=lr[Yr]=Gn.point;else{var jn=Yr-kr,ta=fn===0?ke:new a.Point(Ht.getx(jn),Ht.gety(jn));Hr=ha(ta,Xn,Kr,Bn-fn+1,qt)}}fn+=kn,kn=Kr.dist(Hr)}var la=(Bn-fn)/kn,xa=Hr.sub(Kr),va=xa.mult(la)._add(Kr);va._add(xa._unit()._perp()._mult(he*kr));var ka=Xr+Math.atan2(Hr.y-Kr.y,Hr.x-Kr.x);return Yn.push(va),{point:va,angle:ka,path:Yn}}var ua=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function na(fe,K){for(var he=0;he<fe;he++){var re=K.length;K.resize(re+4),K.float32.set(ua,re*3)}}function br(fe,K,he){var re=K[0],de=K[1];return fe[0]=he[0]*re+he[4]*de+he[12],fe[1]=he[1]*re+he[5]*de+he[13],fe[3]=he[3]*re+he[7]*de+he[15],fe}var nn=100,$r=function(K,he,re){he===void 0&&(he=new Tr(K.width+2*nn,K.height+2*nn,25)),re===void 0&&(re=new Tr(K.width+2*nn,K.height+2*nn,25)),this.transform=K,this.grid=he,this.ignoredGrid=re,this.pitchfactor=Math.cos(K._pitch)*K.cameraToCenterDistance,this.screenRightBoundary=K.width+nn,this.screenBottomBoundary=K.height+nn,this.gridRightBoundary=K.width+2*nn,this.gridBottomBoundary=K.height+2*nn};$r.prototype.placeCollisionBox=function(K,he,re,de,ke){var je=this.projectAndGetPerspectiveRatio(de,K.anchorPointX,K.anchorPointY),ot=re*je.perspectiveRatio,Lt=K.x1*ot+je.point.x,Ht=K.y1*ot+je.point.y,qt=K.x2*ot+je.point.x,lr=K.y2*ot+je.point.y;return!this.isInsideGrid(Lt,Ht,qt,lr)||!he&&this.grid.hitTest(Lt,Ht,qt,lr,ke)?{box:[],offscreen:!1}:{box:[Lt,Ht,qt,lr],offscreen:this.isOffscreen(Lt,Ht,qt,lr)}},$r.prototype.placeCollisionCircles=function(K,he,re,de,ke,je,ot,Lt,Ht,qt,lr,sr,kr){var Xr=[],Yr=new a.Point(he.anchorX,he.anchorY),Hr=Ur(Yr,je),Kr=an(this.transform.cameraToCenterDistance,Hr.signedDistanceFromCamera),fn=qt?ke/Kr:ke*Kr,kn=fn/a.ONE_EM,Bn=Ur(Yr,ot).point,Yn={},Xn=he.lineOffsetX*kn,Gn=he.lineOffsetY*kn,jn=Cn(kn,de,Xn,Gn,!1,Bn,Yr,he,re,ot,Yn),ta=!1,la=!1,xa=!0;if(jn){for(var va=sr*.5*Kr+kr,ka=new a.Point(-nn,-nn),Qa=new a.Point(this.screenRightBoundary,this.screenBottomBoundary),Wa=new En,Ma=jn.first,Ya=jn.last,Va=[],oi=Ma.path.length-1;oi>=1;oi--)Va.push(Ma.path[oi]);for(var ei=1;ei<Ya.path.length;ei++)Va.push(Ya.path[ei]);var Mi=va*2.5;if(Lt){var Ja=Va.map(function(hl){return Ur(hl,Lt)});Ja.some(function(hl){return hl.signedDistanceFromCamera<=0})?Va=[]:Va=Ja.map(function(hl){return hl.point})}var yi=[];if(Va.length>0){for(var Ha=Va[0].clone(),$a=Va[0].clone(),Ui=1;Ui<Va.length;Ui++)Ha.x=Math.min(Ha.x,Va[Ui].x),Ha.y=Math.min(Ha.y,Va[Ui].y),$a.x=Math.max($a.x,Va[Ui].x),$a.y=Math.max($a.y,Va[Ui].y);Ha.x>=ka.x&&$a.x<=Qa.x&&Ha.y>=ka.y&&$a.y<=Qa.y?yi=[Va]:$a.x<ka.x||Ha.x>Qa.x||$a.y<ka.y||Ha.y>Qa.y?yi=[]:yi=a.clipLine([Va],ka.x,ka.y,Qa.x,Qa.y)}for(var yo=0,js=yi;yo<js.length;yo+=1){var Ks=js[yo];Wa.reset(Ks,va*.25);var fl=0;Wa.length<=.5*va?fl=1:fl=Math.ceil(Wa.paddedLength/Mi)+1;for(var Bl=0;Bl<fl;Bl++){var mf=Bl/Math.max(fl-1,1),Nl=Wa.lerp(mf),qo=Nl.x+nn,Ul=Nl.y+nn;Xr.push(qo,Ul,va,0);var ps=qo-va,es=Ul-va,cl=qo+va,du=Ul+va;if(xa=xa&&this.isOffscreen(ps,es,cl,du),la=la||this.isInsideGrid(ps,es,cl,du),!K&&this.grid.hitTestCircle(qo,Ul,va,lr)&&(ta=!0,!Ht))return{circles:[],offscreen:!1,collisionDetected:ta}}}}return{circles:!Ht&&ta||!la?[]:Xr,offscreen:xa,collisionDetected:ta}},$r.prototype.queryRenderedSymbols=function(K){if(K.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};for(var he=[],re=1/0,de=1/0,ke=-1/0,je=-1/0,ot=0,Lt=K;ot<Lt.length;ot+=1){var Ht=Lt[ot],qt=new a.Point(Ht.x+nn,Ht.y+nn);re=Math.min(re,qt.x),de=Math.min(de,qt.y),ke=Math.max(ke,qt.x),je=Math.max(je,qt.y),he.push(qt)}for(var lr=this.grid.query(re,de,ke,je).concat(this.ignoredGrid.query(re,de,ke,je)),sr={},kr={},Xr=0,Yr=lr;Xr<Yr.length;Xr+=1){var Hr=Yr[Xr],Kr=Hr.key;if(sr[Kr.bucketInstanceId]===void 0&&(sr[Kr.bucketInstanceId]={}),!sr[Kr.bucketInstanceId][Kr.featureIndex]){var fn=[new a.Point(Hr.x1,Hr.y1),new a.Point(Hr.x2,Hr.y1),new a.Point(Hr.x2,Hr.y2),new a.Point(Hr.x1,Hr.y2)];!a.polygonIntersectsPolygon(he,fn)||(sr[Kr.bucketInstanceId][Kr.featureIndex]=!0,kr[Kr.bucketInstanceId]===void 0&&(kr[Kr.bucketInstanceId]=[]),kr[Kr.bucketInstanceId].push(Kr.featureIndex))}}return kr},$r.prototype.insertCollisionBox=function(K,he,re,de,ke){var je=he?this.ignoredGrid:this.grid,ot={bucketInstanceId:re,featureIndex:de,collisionGroupID:ke};je.insert(ot,K[0],K[1],K[2],K[3])},$r.prototype.insertCollisionCircles=function(K,he,re,de,ke){for(var je=he?this.ignoredGrid:this.grid,ot={bucketInstanceId:re,featureIndex:de,collisionGroupID:ke},Lt=0;Lt<K.length;Lt+=4)je.insertCircle(ot,K[Lt],K[Lt+1],K[Lt+2])},$r.prototype.projectAndGetPerspectiveRatio=function(K,he,re){var de=[he,re,0,1];br(de,de,K);var ke=new a.Point((de[0]/de[3]+1)/2*this.transform.width+nn,(-de[1]/de[3]+1)/2*this.transform.height+nn);return{point:ke,perspectiveRatio:.5+.5*(this.transform.cameraToCenterDistance/de[3])}},$r.prototype.isOffscreen=function(K,he,re,de){return re<nn||K>=this.screenRightBoundary||de<nn||he>this.screenBottomBoundary},$r.prototype.isInsideGrid=function(K,he,re,de){return re>=0&&K<this.gridRightBoundary&&de>=0&&he<this.gridBottomBoundary},$r.prototype.getViewportMatrix=function(){var K=a.identity([]);return a.translate(K,K,[-nn,-nn,0]),K};function dn(fe,K,he){return K*(a.EXTENT/(fe.tileSize*Math.pow(2,he-fe.tileID.overscaledZ)))}var Hn=function(K,he,re,de){K?this.opacity=Math.max(0,Math.min(1,K.opacity+(K.placed?he:-he))):this.opacity=de&&re?1:0,this.placed=re};Hn.prototype.isHidden=function(){return this.opacity===0&&!this.placed};var Tn=function(K,he,re,de,ke){this.text=new Hn(K?K.text:null,he,re,ke),this.icon=new Hn(K?K.icon:null,he,de,ke)};Tn.prototype.isHidden=function(){return this.text.isHidden()&&this.icon.isHidden()};var An=function(K,he,re){this.text=K,this.icon=he,this.skipFade=re},Nn=function(){this.invProjMatrix=a.create(),this.viewportMatrix=a.create(),this.circles=[]},Qn=function(K,he,re,de,ke){this.bucketInstanceId=K,this.featureIndex=he,this.sourceLayerIndex=re,this.bucketIndex=de,this.tileID=ke},ya=function(K){this.crossSourceCollisions=K,this.maxGroupID=0,this.collisionGroups={}};ya.prototype.get=function(K){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[K]){var he=++this.maxGroupID;this.collisionGroups[K]={ID:he,predicate:function(re){return re.collisionGroupID===he}}}return this.collisionGroups[K]};function Ia(fe,K,he,re,de){var ke=a.getAnchorAlignment(fe),je=ke.horizontalAlign,ot=ke.verticalAlign,Lt=-(je-.5)*K,Ht=-(ot-.5)*he,qt=a.evaluateVariableOffset(fe,re);return new a.Point(Lt+qt[0]*de,Ht+qt[1]*de)}function Sr(fe,K,he,re,de,ke){var je=fe.x1,ot=fe.x2,Lt=fe.y1,Ht=fe.y2,qt=fe.anchorPointX,lr=fe.anchorPointY,sr=new a.Point(K,he);return re&&sr._rotate(de?ke:-ke),{x1:je+sr.x,y1:Lt+sr.y,x2:ot+sr.x,y2:Ht+sr.y,anchorPointX:qt,anchorPointY:lr}}var zr=function(K,he,re,de){this.transform=K.clone(),this.collisionIndex=new $r(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=he,this.retainedQueryData={},this.collisionGroups=new ya(re),this.collisionCircleArrays={},this.prevPlacement=de,de&&(de.prevPlacement=void 0),this.placedOrientations={}};zr.prototype.getBucketParts=function(K,he,re,de){var ke=re.getBucket(he),je=re.latestFeatureIndex;if(!(!ke||!je||he.id!==ke.layerIds[0])){var ot=re.collisionBoxArray,Lt=ke.layers[0].layout,Ht=Math.pow(2,this.transform.zoom-re.tileID.overscaledZ),qt=re.tileSize/a.EXTENT,lr=this.transform.calculatePosMatrix(re.tileID.toUnwrapped()),sr=Lt.get("text-pitch-alignment")==="map",kr=Lt.get("text-rotation-alignment")==="map",Xr=dn(re,1,this.transform.zoom),Yr=Lr(lr,sr,kr,this.transform,Xr),Hr=null;if(sr){var Kr=Wr(lr,sr,kr,this.transform,Xr);Hr=a.multiply([],this.transform.labelPlaneMatrix,Kr)}this.retainedQueryData[ke.bucketInstanceId]=new Qn(ke.bucketInstanceId,je,ke.sourceLayerIndex,ke.index,re.tileID);var fn={bucket:ke,layout:Lt,posMatrix:lr,textLabelPlaneMatrix:Yr,labelToScreenMatrix:Hr,scale:Ht,textPixelRatio:qt,holdingForFade:re.holdingForFade(),collisionBoxArray:ot,partiallyEvaluatedTextSize:a.evaluateSizeForZoom(ke.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(ke.sourceID)};if(de)for(var kn=0,Bn=ke.sortKeyRanges;kn<Bn.length;kn+=1){var Yn=Bn[kn],Xn=Yn.sortKey,Gn=Yn.symbolInstanceStart,jn=Yn.symbolInstanceEnd;K.push({sortKey:Xn,symbolInstanceStart:Gn,symbolInstanceEnd:jn,parameters:fn})}else K.push({symbolInstanceStart:0,symbolInstanceEnd:ke.symbolInstances.length,parameters:fn})}},zr.prototype.attemptAnchorPlacement=function(K,he,re,de,ke,je,ot,Lt,Ht,qt,lr,sr,kr,Xr,Yr){var Hr=[sr.textOffset0,sr.textOffset1],Kr=Ia(K,re,de,Hr,ke),fn=this.collisionIndex.placeCollisionBox(Sr(he,Kr.x,Kr.y,je,ot,this.transform.angle),lr,Lt,Ht,qt.predicate);if(Yr){var kn=this.collisionIndex.placeCollisionBox(Sr(Yr,Kr.x,Kr.y,je,ot,this.transform.angle),lr,Lt,Ht,qt.predicate);if(kn.box.length===0)return}if(fn.box.length>0){var Bn;return this.prevPlacement&&this.prevPlacement.variableOffsets[sr.crossTileID]&&this.prevPlacement.placements[sr.crossTileID]&&this.prevPlacement.placements[sr.crossTileID].text&&(Bn=this.prevPlacement.variableOffsets[sr.crossTileID].anchor),this.variableOffsets[sr.crossTileID]={textOffset:Hr,width:re,height:de,anchor:K,textBoxScale:ke,prevAnchor:Bn},this.markUsedJustification(kr,K,sr,Xr),kr.allowVerticalPlacement&&(this.markUsedOrientation(kr,Xr,sr),this.placedOrientations[sr.crossTileID]=Xr),{shift:Kr,placedGlyphBoxes:fn}}},zr.prototype.placeLayerBucketPart=function(K,he,re){var de=this,ke=K.parameters,je=ke.bucket,ot=ke.layout,Lt=ke.posMatrix,Ht=ke.textLabelPlaneMatrix,qt=ke.labelToScreenMatrix,lr=ke.textPixelRatio,sr=ke.holdingForFade,kr=ke.collisionBoxArray,Xr=ke.partiallyEvaluatedTextSize,Yr=ke.collisionGroup,Hr=ot.get("text-optional"),Kr=ot.get("icon-optional"),fn=ot.get("text-allow-overlap"),kn=ot.get("icon-allow-overlap"),Bn=ot.get("text-rotation-alignment")==="map",Yn=ot.get("text-pitch-alignment")==="map",Xn=ot.get("icon-text-fit")!=="none",Gn=ot.get("symbol-z-order")==="viewport-y",jn=fn&&(kn||!je.hasIconData()||Kr),ta=kn&&(fn||!je.hasTextData()||Hr);!je.collisionArrays&&kr&&je.deserializeCollisionBoxes(kr);var la=function(Ma,Ya){if(!he[Ma.crossTileID]){if(sr){de.placements[Ma.crossTileID]=new An(!1,!1,!1);return}var Va=!1,oi=!1,ei=!0,Mi=null,Ja={box:null,offscreen:null},yi={box:null,offscreen:null},Ha=null,$a=null,Ui=null,yo=0,js=0,Ks=0;Ya.textFeatureIndex?yo=Ya.textFeatureIndex:Ma.useRuntimeCollisionCircles&&(yo=Ma.featureIndex),Ya.verticalTextFeatureIndex&&(js=Ya.verticalTextFeatureIndex);var fl=Ya.textBox;if(fl){var Bl=function(Xi){var gs=a.WritingMode.horizontal;if(je.allowVerticalPlacement&&!Xi&&de.prevPlacement){var ys=de.prevPlacement.placedOrientations[Ma.crossTileID];ys&&(de.placedOrientations[Ma.crossTileID]=ys,gs=ys,de.markUsedOrientation(je,gs,Ma))}return gs},mf=function(Xi,gs){if(je.allowVerticalPlacement&&Ma.numVerticalGlyphVertices>0&&Ya.verticalTextBox)for(var ys=0,Ih=je.writingModes;ys<Ih.length;ys+=1){var Sv=Ih[ys];if(Sv===a.WritingMode.vertical?(Ja=gs(),yi=Ja):Ja=Xi(),Ja&&Ja.box&&Ja.box.length)break}else Ja=Xi()};if(ot.get("text-variable-anchor")){var ps=ot.get("text-variable-anchor");if(de.prevPlacement&&de.prevPlacement.variableOffsets[Ma.crossTileID]){var es=de.prevPlacement.variableOffsets[Ma.crossTileID];ps.indexOf(es.anchor)>0&&(ps=ps.filter(function(Xi){return Xi!==es.anchor}),ps.unshift(es.anchor))}var cl=function(Xi,gs,ys){for(var Ih=Xi.x2-Xi.x1,Sv=Xi.y2-Xi.y1,V0=Ma.textBoxScale,H0=Xn&&!kn?gs:null,Kc={box:[],offscreen:!1},G0=fn?ps.length*2:ps.length,_h=0;_h<G0;++_h){var W0=ps[_h%ps.length],Y0=_h>=ps.length,Ev=de.attemptAnchorPlacement(W0,Xi,Ih,Sv,V0,Bn,Yn,lr,Lt,Yr,Y0,Ma,je,ys,H0);if(Ev&&(Kc=Ev.placedGlyphBoxes,Kc&&Kc.box&&Kc.box.length)){Va=!0,Mi=Ev.shift;break}}return Kc},du=function(){return cl(fl,Ya.iconBox,a.WritingMode.horizontal)},hl=function(){var Xi=Ya.verticalTextBox,gs=Ja&&Ja.box&&Ja.box.length;return je.allowVerticalPlacement&&!gs&&Ma.numVerticalGlyphVertices>0&&Xi?cl(Xi,Ya.verticalIconBox,a.WritingMode.vertical):{box:null,offscreen:null}};mf(du,hl),Ja&&(Va=Ja.box,ei=Ja.offscreen);var Ch=Bl(Ja&&Ja.box);if(!Va&&de.prevPlacement){var qf=de.prevPlacement.variableOffsets[Ma.crossTileID];qf&&(de.variableOffsets[Ma.crossTileID]=qf,de.markUsedJustification(je,qf.anchor,Ma,Ch))}}else{var Nl=function(Xi,gs){var ys=de.collisionIndex.placeCollisionBox(Xi,fn,lr,Lt,Yr.predicate);return ys&&ys.box&&ys.box.length&&(de.markUsedOrientation(je,gs,Ma),de.placedOrientations[Ma.crossTileID]=gs),ys},qo=function(){return Nl(fl,a.WritingMode.horizontal)},Ul=function(){var Xi=Ya.verticalTextBox;return je.allowVerticalPlacement&&Ma.numVerticalGlyphVertices>0&&Xi?Nl(Xi,a.WritingMode.vertical):{box:null,offscreen:null}};mf(qo,Ul),Bl(Ja&&Ja.box&&Ja.box.length)}}if(Ha=Ja,Va=Ha&&Ha.box&&Ha.box.length>0,ei=Ha&&Ha.offscreen,Ma.useRuntimeCollisionCircles){var To=je.text.placedSymbolArray.get(Ma.centerJustifiedTextSymbolIndex),Lh=a.evaluateSizeForFeature(je.textSizeData,Xr,To),jc=ot.get("text-padding"),Uo=Ma.collisionCircleDiameter;$a=de.collisionIndex.placeCollisionCircles(fn,To,je.lineVertexArray,je.glyphOffsetArray,Lh,Lt,Ht,qt,re,Yn,Yr.predicate,Uo,jc),Va=fn||$a.circles.length>0&&!$a.collisionDetected,ei=ei&&$a.offscreen}if(Ya.iconFeatureIndex&&(Ks=Ya.iconFeatureIndex),Ya.iconBox){var ec=function(Xi){var gs=Xn&&Mi?Sr(Xi,Mi.x,Mi.y,Bn,Yn,de.transform.angle):Xi;return de.collisionIndex.placeCollisionBox(gs,kn,lr,Lt,Yr.predicate)};yi&&yi.box&&yi.box.length&&Ya.verticalIconBox?(Ui=ec(Ya.verticalIconBox),oi=Ui.box.length>0):(Ui=ec(Ya.iconBox),oi=Ui.box.length>0),ei=ei&&Ui.offscreen}var Ph=Hr||Ma.numHorizontalGlyphVertices===0&&Ma.numVerticalGlyphVertices===0,Rh=Kr||Ma.numIconVertices===0;if(!Ph&&!Rh?oi=Va=oi&&Va:Rh?Ph||(oi=oi&&Va):Va=oi&&Va,Va&&Ha&&Ha.box&&(yi&&yi.box&&js?de.collisionIndex.insertCollisionBox(Ha.box,ot.get("text-ignore-placement"),je.bucketInstanceId,js,Yr.ID):de.collisionIndex.insertCollisionBox(Ha.box,ot.get("text-ignore-placement"),je.bucketInstanceId,yo,Yr.ID)),oi&&Ui&&de.collisionIndex.insertCollisionBox(Ui.box,ot.get("icon-ignore-placement"),je.bucketInstanceId,Ks,Yr.ID),$a&&(Va&&de.collisionIndex.insertCollisionCircles($a.circles,ot.get("text-ignore-placement"),je.bucketInstanceId,yo,Yr.ID),re)){var Dh=je.bucketInstanceId,tc=de.collisionCircleArrays[Dh];tc===void 0&&(tc=de.collisionCircleArrays[Dh]=new Nn);for(var rc=0;rc<$a.circles.length;rc+=4)tc.circles.push($a.circles[rc+0]),tc.circles.push($a.circles[rc+1]),tc.circles.push($a.circles[rc+2]),tc.circles.push($a.collisionDetected?1:0)}de.placements[Ma.crossTileID]=new An(Va||jn,oi||ta,ei||je.justReloaded),he[Ma.crossTileID]=!0}};if(Gn)for(var xa=je.getSortedSymbolIndexes(this.transform.angle),va=xa.length-1;va>=0;--va){var ka=xa[va];la(je.symbolInstances.get(ka),je.collisionArrays[ka])}else for(var Qa=K.symbolInstanceStart;Qa<K.symbolInstanceEnd;Qa++)la(je.symbolInstances.get(Qa),je.collisionArrays[Qa]);if(re&&je.bucketInstanceId in this.collisionCircleArrays){var Wa=this.collisionCircleArrays[je.bucketInstanceId];a.invert(Wa.invProjMatrix,Lt),Wa.viewportMatrix=this.collisionIndex.getViewportMatrix()}je.justReloaded=!1},zr.prototype.markUsedJustification=function(K,he,re,de){var ke={left:re.leftJustifiedTextSymbolIndex,center:re.centerJustifiedTextSymbolIndex,right:re.rightJustifiedTextSymbolIndex},je;de===a.WritingMode.vertical?je=re.verticalPlacedTextSymbolIndex:je=ke[a.getAnchorJustification(he)];for(var ot=[re.leftJustifiedTextSymbolIndex,re.centerJustifiedTextSymbolIndex,re.rightJustifiedTextSymbolIndex,re.verticalPlacedTextSymbolIndex],Lt=0,Ht=ot;Lt<Ht.length;Lt+=1){var qt=Ht[Lt];qt>=0&&(je>=0&&qt!==je?K.text.placedSymbolArray.get(qt).crossTileID=0:K.text.placedSymbolArray.get(qt).crossTileID=re.crossTileID)}},zr.prototype.markUsedOrientation=function(K,he,re){for(var de=he===a.WritingMode.horizontal||he===a.WritingMode.horizontalOnly?he:0,ke=he===a.WritingMode.vertical?he:0,je=[re.leftJustifiedTextSymbolIndex,re.centerJustifiedTextSymbolIndex,re.rightJustifiedTextSymbolIndex],ot=0,Lt=je;ot<Lt.length;ot+=1){var Ht=Lt[ot];K.text.placedSymbolArray.get(Ht).placedOrientation=de}re.verticalPlacedTextSymbolIndex&&(K.text.placedSymbolArray.get(re.verticalPlacedTextSymbolIndex).placedOrientation=ke)},zr.prototype.commit=function(K){this.commitTime=K,this.zoomAtLastRecencyCheck=this.transform.zoom;var he=this.prevPlacement,re=!1;this.prevZoomAdjustment=he?he.zoomAdjustment(this.transform.zoom):0;var de=he?he.symbolFadeChange(K):1,ke=he?he.opacities:{},je=he?he.variableOffsets:{},ot=he?he.placedOrientations:{};for(var Lt in this.placements){var Ht=this.placements[Lt],qt=ke[Lt];qt?(this.opacities[Lt]=new Tn(qt,de,Ht.text,Ht.icon),re=re||Ht.text!==qt.text.placed||Ht.icon!==qt.icon.placed):(this.opacities[Lt]=new Tn(null,de,Ht.text,Ht.icon,Ht.skipFade),re=re||Ht.text||Ht.icon)}for(var lr in ke){var sr=ke[lr];if(!this.opacities[lr]){var kr=new Tn(sr,de,!1,!1);kr.isHidden()||(this.opacities[lr]=kr,re=re||sr.text.placed||sr.icon.placed)}}for(var Xr in je)!this.variableOffsets[Xr]&&this.opacities[Xr]&&!this.opacities[Xr].isHidden()&&(this.variableOffsets[Xr]=je[Xr]);for(var Yr in ot)!this.placedOrientations[Yr]&&this.opacities[Yr]&&!this.opacities[Yr].isHidden()&&(this.placedOrientations[Yr]=ot[Yr]);re?this.lastPlacementChangeTime=K:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=he?he.lastPlacementChangeTime:K)},zr.prototype.updateLayerOpacities=function(K,he){for(var re={},de=0,ke=he;de<ke.length;de+=1){var je=ke[de],ot=je.getBucket(K);ot&&je.latestFeatureIndex&&K.id===ot.layerIds[0]&&this.updateBucketOpacities(ot,re,je.collisionBoxArray)}},zr.prototype.updateBucketOpacities=function(K,he,re){var de=this;K.hasTextData()&&K.text.opacityVertexArray.clear(),K.hasIconData()&&K.icon.opacityVertexArray.clear(),K.hasIconCollisionBoxData()&&K.iconCollisionBox.collisionVertexArray.clear(),K.hasTextCollisionBoxData()&&K.textCollisionBox.collisionVertexArray.clear();var ke=K.layers[0].layout,je=new Tn(null,0,!1,!1,!0),ot=ke.get("text-allow-overlap"),Lt=ke.get("icon-allow-overlap"),Ht=ke.get("text-variable-anchor"),qt=ke.get("text-rotation-alignment")==="map",lr=ke.get("text-pitch-alignment")==="map",sr=ke.get("icon-text-fit")!=="none",kr=new Tn(null,0,ot&&(Lt||!K.hasIconData()||ke.get("icon-optional")),Lt&&(ot||!K.hasTextData()||ke.get("text-optional")),!0);!K.collisionArrays&&re&&(K.hasIconCollisionBoxData()||K.hasTextCollisionBoxData())&&K.deserializeCollisionBoxes(re);for(var Xr=function(fn,kn,Bn){for(var Yn=0;Yn<kn/4;Yn++)fn.opacityVertexArray.emplaceBack(Bn)},Yr=function(fn){var kn=K.symbolInstances.get(fn),Bn=kn.numHorizontalGlyphVertices,Yn=kn.numVerticalGlyphVertices,Xn=kn.crossTileID,Gn=he[Xn],jn=de.opacities[Xn];Gn?jn=je:jn||(jn=kr,de.opacities[Xn]=jn),he[Xn]=!0;var ta=Bn>0||Yn>0,la=kn.numIconVertices>0,xa=de.placedOrientations[kn.crossTileID],va=xa===a.WritingMode.vertical,ka=xa===a.WritingMode.horizontal||xa===a.WritingMode.horizontalOnly;if(ta){var Qa=Vr(jn.text),Wa=va?Qr:Qa;Xr(K.text,Bn,Wa);var Ma=ka?Qr:Qa;Xr(K.text,Yn,Ma);var Ya=jn.text.isHidden();[kn.rightJustifiedTextSymbolIndex,kn.centerJustifiedTextSymbolIndex,kn.leftJustifiedTextSymbolIndex].forEach(function(Ks){Ks>=0&&(K.text.placedSymbolArray.get(Ks).hidden=Ya||va?1:0)}),kn.verticalPlacedTextSymbolIndex>=0&&(K.text.placedSymbolArray.get(kn.verticalPlacedTextSymbolIndex).hidden=Ya||ka?1:0);var Va=de.variableOffsets[kn.crossTileID];Va&&de.markUsedJustification(K,Va.anchor,kn,xa);var oi=de.placedOrientations[kn.crossTileID];oi&&(de.markUsedJustification(K,"left",kn,oi),de.markUsedOrientation(K,oi,kn))}if(la){var ei=Vr(jn.icon),Mi=!(sr&&kn.verticalPlacedIconSymbolIndex&&va);if(kn.placedIconSymbolIndex>=0){var Ja=Mi?ei:Qr;Xr(K.icon,kn.numIconVertices,Ja),K.icon.placedSymbolArray.get(kn.placedIconSymbolIndex).hidden=jn.icon.isHidden()}if(kn.verticalPlacedIconSymbolIndex>=0){var yi=Mi?Qr:ei;Xr(K.icon,kn.numVerticalIconVertices,yi),K.icon.placedSymbolArray.get(kn.verticalPlacedIconSymbolIndex).hidden=jn.icon.isHidden()}}if(K.hasIconCollisionBoxData()||K.hasTextCollisionBoxData()){var Ha=K.collisionArrays[fn];if(Ha){var $a=new a.Point(0,0);if(Ha.textBox||Ha.verticalTextBox){var Ui=!0;if(Ht){var yo=de.variableOffsets[Xn];yo?($a=Ia(yo.anchor,yo.width,yo.height,yo.textOffset,yo.textBoxScale),qt&&$a._rotate(lr?de.transform.angle:-de.transform.angle)):Ui=!1}Ha.textBox&&Ar(K.textCollisionBox.collisionVertexArray,jn.text.placed,!Ui||va,$a.x,$a.y),Ha.verticalTextBox&&Ar(K.textCollisionBox.collisionVertexArray,jn.text.placed,!Ui||ka,$a.x,$a.y)}var js=Boolean(!ka&&Ha.verticalIconBox);Ha.iconBox&&Ar(K.iconCollisionBox.collisionVertexArray,jn.icon.placed,js,sr?$a.x:0,sr?$a.y:0),Ha.verticalIconBox&&Ar(K.iconCollisionBox.collisionVertexArray,jn.icon.placed,!js,sr?$a.x:0,sr?$a.y:0)}}},Hr=0;Hr<K.symbolInstances.length;Hr++)Yr(Hr);if(K.sortFeatures(this.transform.angle),this.retainedQueryData[K.bucketInstanceId]&&(this.retainedQueryData[K.bucketInstanceId].featureSortOrder=K.featureSortOrder),K.hasTextData()&&K.text.opacityVertexBuffer&&K.text.opacityVertexBuffer.updateData(K.text.opacityVertexArray),K.hasIconData()&&K.icon.opacityVertexBuffer&&K.icon.opacityVertexBuffer.updateData(K.icon.opacityVertexArray),K.hasIconCollisionBoxData()&&K.iconCollisionBox.collisionVertexBuffer&&K.iconCollisionBox.collisionVertexBuffer.updateData(K.iconCollisionBox.collisionVertexArray),K.hasTextCollisionBoxData()&&K.textCollisionBox.collisionVertexBuffer&&K.textCollisionBox.collisionVertexBuffer.updateData(K.textCollisionBox.collisionVertexArray),K.bucketInstanceId in this.collisionCircleArrays){var Kr=this.collisionCircleArrays[K.bucketInstanceId];K.placementInvProjMatrix=Kr.invProjMatrix,K.placementViewportMatrix=Kr.viewportMatrix,K.collisionCircleArray=Kr.circles,delete this.collisionCircleArrays[K.bucketInstanceId]}},zr.prototype.symbolFadeChange=function(K){return this.fadeDuration===0?1:(K-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment},zr.prototype.zoomAdjustment=function(K){return Math.max(0,(this.transform.zoom-K)/1.5)},zr.prototype.hasTransitions=function(K){return this.stale||K-this.lastPlacementChangeTime<this.fadeDuration},zr.prototype.stillRecent=function(K,he){var re=this.zoomAtLastRecencyCheck===he?1-this.zoomAdjustment(he):1;return this.zoomAtLastRecencyCheck=he,this.commitTime+this.fadeDuration*re>K},zr.prototype.setStale=function(){this.stale=!0};function Ar(fe,K,he,re,de){fe.emplaceBack(K?1:0,he?1:0,re||0,de||0),fe.emplaceBack(K?1:0,he?1:0,re||0,de||0),fe.emplaceBack(K?1:0,he?1:0,re||0,de||0),fe.emplaceBack(K?1:0,he?1:0,re||0,de||0)}var Or=Math.pow(2,25),xn=Math.pow(2,24),_n=Math.pow(2,17),hn=Math.pow(2,16),sn=Math.pow(2,9),Er=Math.pow(2,8),Zr=Math.pow(2,1);function Vr(fe){if(fe.opacity===0&&!fe.placed)return 0;if(fe.opacity===1&&fe.placed)return 4294967295;var K=fe.placed?1:0,he=Math.floor(fe.opacity*127);return he*Or+K*xn+he*_n+K*hn+he*sn+K*Er+he*Zr+K}var Qr=0,wn=function(K){this._sortAcrossTiles=K.layout.get("symbol-z-order")!=="viewport-y"&&K.layout.get("symbol-sort-key").constantOr(1)!==void 0,this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]};wn.prototype.continuePlacement=function(K,he,re,de,ke){for(var je=this._bucketParts;this._currentTileIndex<K.length;){var ot=K[this._currentTileIndex];if(he.getBucketParts(je,de,ot,this._sortAcrossTiles),this._currentTileIndex++,ke())return!0}for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,je.sort(function(Ht,qt){return Ht.sortKey-qt.sortKey}));this._currentPartIndex<je.length;){var Lt=je[this._currentPartIndex];if(he.placeLayerBucketPart(Lt,this._seenCrossTileIDs,re),this._currentPartIndex++,ke())return!0}return!1};var Pn=function(K,he,re,de,ke,je,ot){this.placement=new zr(K,ke,je,ot),this._currentPlacementIndex=he.length-1,this._forceFullPlacement=re,this._showCollisionBoxes=de,this._done=!1};Pn.prototype.isDone=function(){return this._done},Pn.prototype.continuePlacement=function(K,he,re){for(var de=this,ke=a.browser.now(),je=function(){var lr=a.browser.now()-ke;return de._forceFullPlacement?!1:lr>2};this._currentPlacementIndex>=0;){var ot=K[this._currentPlacementIndex],Lt=he[ot],Ht=this.placement.collisionIndex.transform.zoom;if(Lt.type==="symbol"&&(!Lt.minzoom||Lt.minzoom<=Ht)&&(!Lt.maxzoom||Lt.maxzoom>Ht)){this._inProgressLayer||(this._inProgressLayer=new wn(Lt));var qt=this._inProgressLayer.continuePlacement(re[Lt.source],this.placement,this._showCollisionBoxes,Lt,je);if(qt)return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0},Pn.prototype.commit=function(K){return this.placement.commit(K),this.placement};var Rn=512/a.EXTENT/2,Un=function(K,he,re){this.tileID=K,this.indexedSymbolInstances={},this.bucketInstanceId=re;for(var de=0;de<he.length;de++){var ke=he.get(de),je=ke.key;this.indexedSymbolInstances[je]||(this.indexedSymbolInstances[je]=[]),this.indexedSymbolInstances[je].push({crossTileID:ke.crossTileID,coord:this.getScaledCoordinates(ke,K)})}};Un.prototype.getScaledCoordinates=function(K,he){var re=he.canonical.z-this.tileID.canonical.z,de=Rn/Math.pow(2,re);return{x:Math.floor((he.canonical.x*a.EXTENT+K.anchorX)*de),y:Math.floor((he.canonical.y*a.EXTENT+K.anchorY)*de)}},Un.prototype.findMatches=function(K,he,re){for(var de=this.tileID.canonical.z<he.canonical.z?1:Math.pow(2,this.tileID.canonical.z-he.canonical.z),ke=0;ke<K.length;ke++){var je=K.get(ke);if(!je.crossTileID){var ot=this.indexedSymbolInstances[je.key];if(!!ot)for(var Lt=this.getScaledCoordinates(je,he),Ht=0,qt=ot;Ht<qt.length;Ht+=1){var lr=qt[Ht];if(Math.abs(lr.coord.x-Lt.x)<=de&&Math.abs(lr.coord.y-Lt.y)<=de&&!re[lr.crossTileID]){re[lr.crossTileID]=!0,je.crossTileID=lr.crossTileID;break}}}}};var On=function(){this.maxCrossTileID=0};On.prototype.generate=function(){return++this.maxCrossTileID};var ma=function(){this.indexes={},this.usedCrossTileIDs={},this.lng=0};ma.prototype.handleWrapJump=function(K){var he=Math.round((K-this.lng)/360);if(he!==0)for(var re in this.indexes){var de=this.indexes[re],ke={};for(var je in de){var ot=de[je];ot.tileID=ot.tileID.unwrapTo(ot.tileID.wrap+he),ke[ot.tileID.key]=ot}this.indexes[re]=ke}this.lng=K},ma.prototype.addBucket=function(K,he,re){if(this.indexes[K.overscaledZ]&&this.indexes[K.overscaledZ][K.key]){if(this.indexes[K.overscaledZ][K.key].bucketInstanceId===he.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(K.overscaledZ,this.indexes[K.overscaledZ][K.key])}for(var de=0;de<he.symbolInstances.length;de++){var ke=he.symbolInstances.get(de);ke.crossTileID=0}this.usedCrossTileIDs[K.overscaledZ]||(this.usedCrossTileIDs[K.overscaledZ]={});var je=this.usedCrossTileIDs[K.overscaledZ];for(var ot in this.indexes){var Lt=this.indexes[ot];if(Number(ot)>K.overscaledZ)for(var Ht in Lt){var qt=Lt[Ht];qt.tileID.isChildOf(K)&&qt.findMatches(he.symbolInstances,K,je)}else{var lr=K.scaledTo(Number(ot)),sr=Lt[lr.key];sr&&sr.findMatches(he.symbolInstances,K,je)}}for(var kr=0;kr<he.symbolInstances.length;kr++){var Xr=he.symbolInstances.get(kr);Xr.crossTileID||(Xr.crossTileID=re.generate(),je[Xr.crossTileID]=!0)}return this.indexes[K.overscaledZ]===void 0&&(this.indexes[K.overscaledZ]={}),this.indexes[K.overscaledZ][K.key]=new Un(K,he.symbolInstances,he.bucketInstanceId),!0},ma.prototype.removeBucketCrossTileIDs=function(K,he){for(var re in he.indexedSymbolInstances)for(var de=0,ke=he.indexedSymbolInstances[re];de<ke.length;de+=1){var je=ke[de];delete this.usedCrossTileIDs[K][je.crossTileID]}},ma.prototype.removeStaleBuckets=function(K){var he=!1;for(var re in this.indexes){var de=this.indexes[re];for(var ke in de)K[de[ke].bucketInstanceId]||(this.removeBucketCrossTileIDs(re,de[ke]),delete de[ke],he=!0)}return he};var oa=function(){this.layerIndexes={},this.crossTileIDs=new On,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}};oa.prototype.addLayer=function(K,he,re){var de=this.layerIndexes[K.id];de===void 0&&(de=this.layerIndexes[K.id]=new ma);var ke=!1,je={};de.handleWrapJump(re);for(var ot=0,Lt=he;ot<Lt.length;ot+=1){var Ht=Lt[ot],qt=Ht.getBucket(K);!qt||K.id!==qt.layerIds[0]||(qt.bucketInstanceId||(qt.bucketInstanceId=++this.maxBucketInstanceId),de.addBucket(Ht.tileID,qt,this.crossTileIDs)&&(ke=!0),je[qt.bucketInstanceId]=!0)}return de.removeStaleBuckets(je)&&(ke=!0),ke},oa.prototype.pruneUnusedLayers=function(K){var he={};K.forEach(function(de){he[de]=!0});for(var re in this.layerIndexes)he[re]||delete this.layerIndexes[re]};var ga=function(fe,K){return a.emitValidationErrors(fe,K&&K.filter(function(he){return he.identifier!=="source.canvas"}))},La=a.pick(Bt,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),di=a.pick(Bt,["setCenter","setZoom","setBearing","setPitch"]),ni=ar(),_o=function(fe){function K(he,re){var de=this;re===void 0&&(re={}),fe.call(this),this.map=he,this.dispatcher=new I(Ot(),this),this.imageManager=new M,this.imageManager.setEventedParent(this),this.glyphManager=new S(he._requestManager,re.localIdeographFontFamily),this.lineAtlas=new _(256,512),this.crossTileSymbolIndex=new oa,this._layers={},this._serializedLayers={},this._order=[],this.sourceCaches={},this.zoomHistory=new a.ZoomHistory,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("setReferrer",a.getReferrer());var ke=this;this._rtlTextPluginCallback=K.registerForPluginStateChange(function(je){var ot={pluginStatus:je.pluginStatus,pluginURL:je.pluginURL};ke.dispatcher.broadcast("syncRTLPluginState",ot,function(Lt,Ht){if(a.triggerPluginCompletionEvent(Lt),Ht){var qt=Ht.every(function(sr){return sr});if(qt)for(var lr in ke.sourceCaches)ke.sourceCaches[lr].reload()}})}),this.on("data",function(je){if(!(je.dataType!=="source"||je.sourceDataType!=="metadata")){var ot=de.sourceCaches[je.sourceId];if(!!ot){var Lt=ot.getSource();if(!(!Lt||!Lt.vectorLayerIds))for(var Ht in de._layers){var qt=de._layers[Ht];qt.source===Lt.id&&de._validateLayer(qt)}}}})}return fe&&(K.__proto__=fe),K.prototype=Object.create(fe&&fe.prototype),K.prototype.constructor=K,K.prototype.loadURL=function(re,de){var ke=this;de===void 0&&(de={}),this.fire(new a.Event("dataloading",{dataType:"style"}));var je=typeof de.validate=="boolean"?de.validate:!a.isMapboxURL(re);re=this.map._requestManager.normalizeStyleURL(re,de.accessToken);var ot=this.map._requestManager.transformRequest(re,a.ResourceType.Style);this._request=a.getJSON(ot,function(Lt,Ht){ke._request=null,Lt?ke.fire(new a.ErrorEvent(Lt)):Ht&&ke._load(Ht,je)})},K.prototype.loadJSON=function(re,de){var ke=this;de===void 0&&(de={}),this.fire(new a.Event("dataloading",{dataType:"style"})),this._request=a.browser.frame(function(){ke._request=null,ke._load(re,de.validate!==!1)})},K.prototype.loadEmpty=function(){this.fire(new a.Event("dataloading",{dataType:"style"})),this._load(ni,!1)},K.prototype._load=function(re,de){if(!(de&&ga(this,a.validateStyle(re)))){this._loaded=!0,this.stylesheet=re;for(var ke in re.sources)this.addSource(ke,re.sources[ke],{validate:!1});re.sprite?this._loadSprite(re.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(re.glyphs);var je=ur(this.stylesheet.layers);this._order=je.map(function(qt){return qt.id}),this._layers={},this._serializedLayers={};for(var ot=0,Lt=je;ot<Lt.length;ot+=1){var Ht=Lt[ot];Ht=a.createStyleLayer(Ht),Ht.setEventedParent(this,{layer:{id:Ht.id}}),this._layers[Ht.id]=Ht,this._serializedLayers[Ht.id]=Ht.serialize()}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new x(this.stylesheet.light),this.fire(new a.Event("data",{dataType:"style"})),this.fire(new a.Event("style.load"))}},K.prototype._loadSprite=function(re){var de=this;this._spriteRequest=l(re,this.map._requestManager,function(ke,je){if(de._spriteRequest=null,ke)de.fire(new a.ErrorEvent(ke));else if(je)for(var ot in je)de.imageManager.addImage(ot,je[ot]);de.imageManager.setLoaded(!0),de._availableImages=de.imageManager.listImages(),de.dispatcher.broadcast("setImages",de._availableImages),de.fire(new a.Event("data",{dataType:"style"}))})},K.prototype._validateLayer=function(re){var de=this.sourceCaches[re.source];if(!!de){var ke=re.sourceLayer;if(!!ke){var je=de.getSource();(je.type==="geojson"||je.vectorLayerIds&&je.vectorLayerIds.indexOf(ke)===-1)&&this.fire(new a.ErrorEvent(new Error('Source layer "'+ke+'" does not exist on source "'+je.id+'" as specified by style layer "'+re.id+'"')))}}},K.prototype.loaded=function(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(var re in this.sourceCaches)if(!this.sourceCaches[re].loaded())return!1;return!!this.imageManager.isLoaded()},K.prototype._serializeLayers=function(re){for(var de=[],ke=0,je=re;ke<je.length;ke+=1){var ot=je[ke],Lt=this._layers[ot];Lt.type!=="custom"&&de.push(Lt.serialize())}return de},K.prototype.hasTransitions=function(){if(this.light&&this.light.hasTransition())return!0;for(var re in this.sourceCaches)if(this.sourceCaches[re].hasTransition())return!0;for(var de in this._layers)if(this._layers[de].hasTransition())return!0;return!1},K.prototype._checkLoaded=function(){if(!this._loaded)throw new Error("Style is not done loading")},K.prototype.update=function(re){if(!!this._loaded){var de=this._changed;if(this._changed){var ke=Object.keys(this._updatedLayers),je=Object.keys(this._removedLayers);(ke.length||je.length)&&this._updateWorkerLayers(ke,je);for(var ot in this._updatedSources){var Lt=this._updatedSources[ot];Lt==="reload"?this._reloadSource(ot):Lt==="clear"&&this._clearSource(ot)}this._updateTilesForChangedImages();for(var Ht in this._updatedPaintProps)this._layers[Ht].updateTransitions(re);this.light.updateTransitions(re),this._resetUpdates()}var qt={};for(var lr in this.sourceCaches){var sr=this.sourceCaches[lr];qt[lr]=sr.used,sr.used=!1}for(var kr=0,Xr=this._order;kr<Xr.length;kr+=1){var Yr=Xr[kr],Hr=this._layers[Yr];Hr.recalculate(re,this._availableImages),!Hr.isHidden(re.zoom)&&Hr.source&&(this.sourceCaches[Hr.source].used=!0)}for(var Kr in qt){var fn=this.sourceCaches[Kr];qt[Kr]!==fn.used&&fn.fire(new a.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:Kr}))}this.light.recalculate(re),this.z=re.zoom,de&&this.fire(new a.Event("data",{dataType:"style"}))}},K.prototype._updateTilesForChangedImages=function(){var re=Object.keys(this._changedImages);if(re.length){for(var de in this.sourceCaches)this.sourceCaches[de].reloadTilesForDependencies(["icons","patterns"],re);this._changedImages={}}},K.prototype._updateWorkerLayers=function(re,de){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(re),removedIds:de})},K.prototype._resetUpdates=function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}},K.prototype.setState=function(re){var de=this;if(this._checkLoaded(),ga(this,a.validateStyle(re)))return!1;re=a.clone$1(re),re.layers=ur(re.layers);var ke=Ln(this.serialize(),re).filter(function(ot){return!(ot.command in di)});if(ke.length===0)return!1;var je=ke.filter(function(ot){return!(ot.command in La)});if(je.length>0)throw new Error("Unimplemented: "+je.map(function(ot){return ot.command}).join(", ")+".");return ke.forEach(function(ot){ot.command!=="setTransition"&&de[ot.command].apply(de,ot.args)}),this.stylesheet=re,!0},K.prototype.addImage=function(re,de){if(this.getImage(re))return this.fire(new a.ErrorEvent(new Error("An image with this name already exists.")));this.imageManager.addImage(re,de),this._afterImageUpdated(re)},K.prototype.updateImage=function(re,de){this.imageManager.updateImage(re,de)},K.prototype.getImage=function(re){return this.imageManager.getImage(re)},K.prototype.removeImage=function(re){if(!this.getImage(re))return this.fire(new a.ErrorEvent(new Error("No image with this name exists.")));this.imageManager.removeImage(re),this._afterImageUpdated(re)},K.prototype._afterImageUpdated=function(re){this._availableImages=this.imageManager.listImages(),this._changedImages[re]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new a.Event("data",{dataType:"style"}))},K.prototype.listImages=function(){return this._checkLoaded(),this.imageManager.listImages()},K.prototype.addSource=function(re,de,ke){var je=this;if(ke===void 0&&(ke={}),this._checkLoaded(),this.sourceCaches[re]!==void 0)throw new Error("There is already a source with this ID");if(!de.type)throw new Error("The type property must be defined, but only the following properties were given: "+Object.keys(de).join(", ")+".");var ot=["vector","raster","geojson","video","image"],Lt=ot.indexOf(de.type)>=0;if(!(Lt&&this._validate(a.validateStyle.source,"sources."+re,de,null,ke))){this.map&&this.map._collectResourceTiming&&(de.collectResourceTiming=!0);var Ht=this.sourceCaches[re]=new Vt(re,de,this.dispatcher);Ht.style=this,Ht.setEventedParent(this,function(){return{isSourceLoaded:je.loaded(),source:Ht.serialize(),sourceId:re}}),Ht.onAdd(this.map),this._changed=!0}},K.prototype.removeSource=function(re){if(this._checkLoaded(),this.sourceCaches[re]===void 0)throw new Error("There is no source with this ID");for(var de in this._layers)if(this._layers[de].source===re)return this.fire(new a.ErrorEvent(new Error('Source "'+re+'" cannot be removed while layer "'+de+'" is using it.')));var ke=this.sourceCaches[re];delete this.sourceCaches[re],delete this._updatedSources[re],ke.fire(new a.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:re})),ke.setEventedParent(null),ke.clearTiles(),ke.onRemove&&ke.onRemove(this.map),this._changed=!0},K.prototype.setGeoJSONSourceData=function(re,de){this._checkLoaded();var ke=this.sourceCaches[re].getSource();ke.setData(de),this._changed=!0},K.prototype.getSource=function(re){return this.sourceCaches[re]&&this.sourceCaches[re].getSource()},K.prototype.addLayer=function(re,de,ke){ke===void 0&&(ke={}),this._checkLoaded();var je=re.id;if(this.getLayer(je)){this.fire(new a.ErrorEvent(new Error('Layer with id "'+je+'" already exists on this map')));return}var ot;if(re.type==="custom"){if(ga(this,a.validateCustomStyleLayer(re)))return;ot=a.createStyleLayer(re)}else{if(typeof re.source=="object"&&(this.addSource(je,re.source),re=a.clone$1(re),re=a.extend(re,{source:je})),this._validate(a.validateStyle.layer,"layers."+je,re,{arrayIndex:-1},ke))return;ot=a.createStyleLayer(re),this._validateLayer(ot),ot.setEventedParent(this,{layer:{id:je}}),this._serializedLayers[ot.id]=ot.serialize()}var Lt=de?this._order.indexOf(de):this._order.length;if(de&&Lt===-1){this.fire(new a.ErrorEvent(new Error('Layer with id "'+de+'" does not exist on this map.')));return}if(this._order.splice(Lt,0,je),this._layerOrderChanged=!0,this._layers[je]=ot,this._removedLayers[je]&&ot.source&&ot.type!=="custom"){var Ht=this._removedLayers[je];delete this._removedLayers[je],Ht.type!==ot.type?this._updatedSources[ot.source]="clear":(this._updatedSources[ot.source]="reload",this.sourceCaches[ot.source].pause())}this._updateLayer(ot),ot.onAdd&&ot.onAdd(this.map)},K.prototype.moveLayer=function(re,de){this._checkLoaded(),this._changed=!0;var ke=this._layers[re];if(!ke){this.fire(new a.ErrorEvent(new Error("The layer '"+re+"' does not exist in the map's style and cannot be moved.")));return}if(re!==de){var je=this._order.indexOf(re);this._order.splice(je,1);var ot=de?this._order.indexOf(de):this._order.length;if(de&&ot===-1){this.fire(new a.ErrorEvent(new Error('Layer with id "'+de+'" does not exist on this map.')));return}this._order.splice(ot,0,re),this._layerOrderChanged=!0}},K.prototype.removeLayer=function(re){this._checkLoaded();var de=this._layers[re];if(!de){this.fire(new a.ErrorEvent(new Error("The layer '"+re+"' does not exist in the map's style and cannot be removed.")));return}de.setEventedParent(null);var ke=this._order.indexOf(re);this._order.splice(ke,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[re]=de,delete this._layers[re],delete this._serializedLayers[re],delete this._updatedLayers[re],delete this._updatedPaintProps[re],de.onRemove&&de.onRemove(this.map)},K.prototype.getLayer=function(re){return this._layers[re]},K.prototype.hasLayer=function(re){return re in this._layers},K.prototype.setLayerZoomRange=function(re,de,ke){this._checkLoaded();var je=this.getLayer(re);if(!je){this.fire(new a.ErrorEvent(new Error("The layer '"+re+"' does not exist in the map's style and cannot have zoom extent.")));return}je.minzoom===de&&je.maxzoom===ke||(de!=null&&(je.minzoom=de),ke!=null&&(je.maxzoom=ke),this._updateLayer(je))},K.prototype.setFilter=function(re,de,ke){ke===void 0&&(ke={}),this._checkLoaded();var je=this.getLayer(re);if(!je){this.fire(new a.ErrorEvent(new Error("The layer '"+re+"' does not exist in the map's style and cannot be filtered.")));return}if(!a.deepEqual(je.filter,de)){if(de==null){je.filter=void 0,this._updateLayer(je);return}this._validate(a.validateStyle.filter,"layers."+je.id+".filter",de,null,ke)||(je.filter=a.clone$1(de),this._updateLayer(je))}},K.prototype.getFilter=function(re){return a.clone$1(this.getLayer(re).filter)},K.prototype.setLayoutProperty=function(re,de,ke,je){je===void 0&&(je={}),this._checkLoaded();var ot=this.getLayer(re);if(!ot){this.fire(new a.ErrorEvent(new Error("The layer '"+re+"' does not exist in the map's style and cannot be styled.")));return}a.deepEqual(ot.getLayoutProperty(de),ke)||(ot.setLayoutProperty(de,ke,je),this._updateLayer(ot))},K.prototype.getLayoutProperty=function(re,de){var ke=this.getLayer(re);if(!ke){this.fire(new a.ErrorEvent(new Error("The layer '"+re+"' does not exist in the map's style.")));return}return ke.getLayoutProperty(de)},K.prototype.setPaintProperty=function(re,de,ke,je){je===void 0&&(je={}),this._checkLoaded();var ot=this.getLayer(re);if(!ot){this.fire(new a.ErrorEvent(new Error("The layer '"+re+"' does not exist in the map's style and cannot be styled.")));return}if(!a.deepEqual(ot.getPaintProperty(de),ke)){var Lt=ot.setPaintProperty(de,ke,je);Lt&&this._updateLayer(ot),this._changed=!0,this._updatedPaintProps[re]=!0}},K.prototype.getPaintProperty=function(re,de){return this.getLayer(re).getPaintProperty(de)},K.prototype.setFeatureState=function(re,de){this._checkLoaded();var ke=re.source,je=re.sourceLayer,ot=this.sourceCaches[ke];if(ot===void 0){this.fire(new a.ErrorEvent(new Error("The source '"+ke+"' does not exist in the map's style.")));return}var Lt=ot.getSource().type;if(Lt==="geojson"&&je){this.fire(new a.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter.")));return}if(Lt==="vector"&&!je){this.fire(new a.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));return}re.id===void 0&&this.fire(new a.ErrorEvent(new Error("The feature id parameter must be provided."))),ot.setFeatureState(je,re.id,de)},K.prototype.removeFeatureState=function(re,de){this._checkLoaded();var ke=re.source,je=this.sourceCaches[ke];if(je===void 0){this.fire(new a.ErrorEvent(new Error("The source '"+ke+"' does not exist in the map's style.")));return}var ot=je.getSource().type,Lt=ot==="vector"?re.sourceLayer:void 0;if(ot==="vector"&&!Lt){this.fire(new a.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));return}if(de&&typeof re.id!="string"&&typeof re.id!="number"){this.fire(new a.ErrorEvent(new Error("A feature id is required to remove its specific state property.")));return}je.removeFeatureState(Lt,re.id,de)},K.prototype.getFeatureState=function(re){this._checkLoaded();var de=re.source,ke=re.sourceLayer,je=this.sourceCaches[de];if(je===void 0){this.fire(new a.ErrorEvent(new Error("The source '"+de+"' does not exist in the map's style.")));return}var ot=je.getSource().type;if(ot==="vector"&&!ke){this.fire(new a.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));return}return re.id===void 0&&this.fire(new a.ErrorEvent(new Error("The feature id parameter must be provided."))),je.getFeatureState(ke,re.id)},K.prototype.getTransition=function(){return a.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)},K.prototype.serialize=function(){return a.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:a.mapObject(this.sourceCaches,function(re){return re.serialize()}),layers:this._serializeLayers(this._order)},function(re){return re!==void 0})},K.prototype._updateLayer=function(re){this._updatedLayers[re.id]=!0,re.source&&!this._updatedSources[re.source]&&this.sourceCaches[re.source].getSource().type!=="raster"&&(this._updatedSources[re.source]="reload",this.sourceCaches[re.source].pause()),this._changed=!0},K.prototype._flattenAndSortRenderedFeatures=function(re){for(var de=this,ke=function(ka){return de._layers[ka].type==="fill-extrusion"},je={},ot=[],Lt=this._order.length-1;Lt>=0;Lt--){var Ht=this._order[Lt];if(ke(Ht)){je[Ht]=Lt;for(var qt=0,lr=re;qt<lr.length;qt+=1){var sr=lr[qt],kr=sr[Ht];if(kr)for(var Xr=0,Yr=kr;Xr<Yr.length;Xr+=1){var Hr=Yr[Xr];ot.push(Hr)}}}}ot.sort(function(ka,Qa){return Qa.intersectionZ-ka.intersectionZ});for(var Kr=[],fn=this._order.length-1;fn>=0;fn--){var kn=this._order[fn];if(ke(kn))for(var Bn=ot.length-1;Bn>=0;Bn--){var Yn=ot[Bn].feature;if(je[Yn.layer.id]<fn)break;Kr.push(Yn),ot.pop()}else for(var Xn=0,Gn=re;Xn<Gn.length;Xn+=1){var jn=Gn[Xn],ta=jn[kn];if(ta)for(var la=0,xa=ta;la<xa.length;la+=1){var va=xa[la];Kr.push(va.feature)}}}return Kr},K.prototype.queryRenderedFeatures=function(re,de,ke){de&&de.filter&&this._validate(a.validateStyle.filter,"queryRenderedFeatures.filter",de.filter,null,de);var je={};if(de&&de.layers){if(!Array.isArray(de.layers))return this.fire(new a.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(var ot=0,Lt=de.layers;ot<Lt.length;ot+=1){var Ht=Lt[ot],qt=this._layers[Ht];if(!qt)return this.fire(new a.ErrorEvent(new Error("The layer '"+Ht+"' does not exist in the map's style and cannot be queried for features."))),[];je[qt.source]=!0}}var lr=[];de.availableImages=this._availableImages;for(var sr in this.sourceCaches)de.layers&&!je[sr]||lr.push(J(this.sourceCaches[sr],this._layers,this._serializedLayers,re,de,ke));return this.placement&&lr.push(j(this._layers,this._serializedLayers,this.sourceCaches,re,de,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(lr)},K.prototype.querySourceFeatures=function(re,de){de&&de.filter&&this._validate(a.validateStyle.filter,"querySourceFeatures.filter",de.filter,null,de);var ke=this.sourceCaches[re];return ke?se(ke,de):[]},K.prototype.addSourceType=function(re,de,ke){if(K.getSourceType(re))return ke(new Error('A source type called "'+re+'" already exists.'));if(K.setSourceType(re,de),!de.workerSourceURL)return ke(null,null);this.dispatcher.broadcast("loadWorkerSource",{name:re,url:de.workerSourceURL},ke)},K.prototype.getLight=function(){return this.light.getLight()},K.prototype.setLight=function(re,de){de===void 0&&(de={}),this._checkLoaded();var ke=this.light.getLight(),je=!1;for(var ot in re)if(!a.deepEqual(re[ot],ke[ot])){je=!0;break}if(!!je){var Lt={now:a.browser.now(),transition:a.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(re,de),this.light.updateTransitions(Lt)}},K.prototype._validate=function(re,de,ke,je,ot){return ot===void 0&&(ot={}),ot&&ot.validate===!1?!1:ga(this,re.call(a.validateStyle,a.extend({key:de,style:this.serialize(),value:ke,styleSpec:a.styleSpec},je)))},K.prototype._remove=function(){this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),a.evented.off("pluginStateChange",this._rtlTextPluginCallback);for(var re in this._layers){var de=this._layers[re];de.setEventedParent(null)}for(var ke in this.sourceCaches)this.sourceCaches[ke].clearTiles(),this.sourceCaches[ke].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()},K.prototype._clearSource=function(re){this.sourceCaches[re].clearTiles()},K.prototype._reloadSource=function(re){this.sourceCaches[re].resume(),this.sourceCaches[re].reload()},K.prototype._updateSources=function(re){for(var de in this.sourceCaches)this.sourceCaches[de].update(re)},K.prototype._generateCollisionBoxes=function(){for(var re in this.sourceCaches)this._reloadSource(re)},K.prototype._updatePlacement=function(re,de,ke,je,ot){ot===void 0&&(ot=!1);for(var Lt=!1,Ht=!1,qt={},lr=0,sr=this._order;lr<sr.length;lr+=1){var kr=sr[lr],Xr=this._layers[kr];if(Xr.type==="symbol"){if(!qt[Xr.source]){var Yr=this.sourceCaches[Xr.source];qt[Xr.source]=Yr.getRenderableIds(!0).map(function(Xn){return Yr.getTileByID(Xn)}).sort(function(Xn,Gn){return Gn.tileID.overscaledZ-Xn.tileID.overscaledZ||(Xn.tileID.isLessThan(Gn.tileID)?-1:1)})}var Hr=this.crossTileSymbolIndex.addLayer(Xr,qt[Xr.source],re.center.lng);Lt=Lt||Hr}}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),ot=ot||this._layerOrderChanged||ke===0,(ot||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(a.browser.now(),re.zoom))&&(this.pauseablePlacement=new Pn(re,this._order,ot,de,ke,je,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,qt),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(a.browser.now()),Ht=!0),Lt&&this.pauseablePlacement.placement.setStale()),Ht||Lt)for(var Kr=0,fn=this._order;Kr<fn.length;Kr+=1){var kn=fn[Kr],Bn=this._layers[kn];Bn.type==="symbol"&&this.placement.updateLayerOpacities(Bn,qt[Bn.source])}var Yn=!this.pauseablePlacement.isDone()||this.placement.hasTransitions(a.browser.now());return Yn},K.prototype._releaseSymbolFadeTiles=function(){for(var re in this.sourceCaches)this.sourceCaches[re].releaseSymbolFadeTiles()},K.prototype.getImages=function(re,de,ke){this.imageManager.getImages(de.icons,ke),this._updateTilesForChangedImages();var je=this.sourceCaches[de.source];je&&je.setDependencies(de.tileID.key,de.type,de.icons)},K.prototype.getGlyphs=function(re,de,ke){this.glyphManager.getGlyphs(de.stacks,ke)},K.prototype.getResource=function(re,de,ke){return a.makeRequest(de,ke)},K}(a.Evented);_o.getSourceType=te,_o.setSourceType=X,_o.registerForPluginStateChange=a.registerForPluginStateChange;var Co=a.createLayout([{name:"a_pos",type:"Int16",components:2}]),ro=`#ifdef GL_ES
precision mediump float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif`,ml=`#ifdef GL_ES
precision highp float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}`,Ju=`uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Ef="attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}",qa=`uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Xl="uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}",Qu=`varying vec3 v_data;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Qi=`uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,0,1);} else {gl_Position=u_matrix*vec4(circle_center,0,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}`,bo="void main() {gl_FragColor=vec4(1.0);}",xl="attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}",Su=`uniform highp float u_intensity;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,_i=`uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}`,bl=`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(0.0);
#endif
}`,Oi="uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}",Gi="varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}",wl="attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,0.0,1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}",no="varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}",ao="attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}",ko="uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}",Cf="attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,0,1);}",Lo=`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_FragColor=color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Cc=`attribute vec2 a_pos;uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);}`,us=`varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,$i=`attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`,$u=`uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Bs=`uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`,fs=`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,qu=`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}`,Lf=`varying vec4 v_color;void main() {gl_FragColor=v_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Lc=`uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec4 v_color;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec3 normal=a_normal_ed.xyz;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}`,Eu=`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Pc=`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0
? a_pos
: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}`,Rc=`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Dc="uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}",ef=`uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;
#define PI 3.141592653589793
void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Ic="uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}",_c=`uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Pf=`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}`,Rf=`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,tl=`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}`,Tl=`uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Zl=`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}`,jl=`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Df=`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}`,As=`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,kc="uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}",Cu=`uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,If=`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),0.0,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));}`,_f=`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Lu=`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}`,Yo=`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Al=`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}`,rl=pi(ro,ml),Kl=pi(Ju,Ef),Ns=pi(qa,Xl),cs=pi(Qu,Qi),tf=pi(bo,xl),Ml=pi(Su,_i),Xo=pi(bl,Oi),Ri=pi(Gi,wl),rf=pi(no,ao),Fc=pi(ko,Cf),Pu=pi(Lo,Cc),Sl=pi(us,$i),El=pi($u,Bs),Po=pi(fs,qu),Ru=pi(Lf,Lc),Cl=pi(Eu,Pc),Du=pi(Rc,Dc),zc=pi(ef,Ic),kf=pi(_c,Pf),nf=pi(Rf,tl),af=pi(Tl,Zl),of=pi(jl,Df),Ll=pi(As,kc),Iu=pi(Cu,If),Jl=pi(_f,Lu),_u=pi(Yo,Al);function pi(fe,K){var he=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,re=K.match(/attribute ([\w]+) ([\w]+)/g),de=fe.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),ke=K.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),je=ke?ke.concat(de):de,ot={};return fe=fe.replace(he,function(Lt,Ht,qt,lr,sr){return ot[sr]=!0,Ht==="define"?`
#ifndef HAS_UNIFORM_u_`+sr+`
varying `+qt+" "+lr+" "+sr+`;
#else
uniform `+qt+" "+lr+" u_"+sr+`;
#endif
`:`
#ifdef HAS_UNIFORM_u_`+sr+`
    `+qt+" "+lr+" "+sr+" = u_"+sr+`;
#endif
`}),K=K.replace(he,function(Lt,Ht,qt,lr,sr){var kr=lr==="float"?"vec2":"vec4",Xr=sr.match(/color/)?"color":kr;return ot[sr]?Ht==="define"?`
#ifndef HAS_UNIFORM_u_`+sr+`
uniform lowp float u_`+sr+`_t;
attribute `+qt+" "+kr+" a_"+sr+`;
varying `+qt+" "+lr+" "+sr+`;
#else
uniform `+qt+" "+lr+" u_"+sr+`;
#endif
`:Xr==="vec4"?`
#ifndef HAS_UNIFORM_u_`+sr+`
    `+sr+" = a_"+sr+`;
#else
    `+qt+" "+lr+" "+sr+" = u_"+sr+`;
#endif
`:`
#ifndef HAS_UNIFORM_u_`+sr+`
    `+sr+" = unpack_mix_"+Xr+"(a_"+sr+", u_"+sr+`_t);
#else
    `+qt+" "+lr+" "+sr+" = u_"+sr+`;
#endif
`:Ht==="define"?`
#ifndef HAS_UNIFORM_u_`+sr+`
uniform lowp float u_`+sr+`_t;
attribute `+qt+" "+kr+" a_"+sr+`;
#else
uniform `+qt+" "+lr+" u_"+sr+`;
#endif
`:Xr==="vec4"?`
#ifndef HAS_UNIFORM_u_`+sr+`
    `+qt+" "+lr+" "+sr+" = a_"+sr+`;
#else
    `+qt+" "+lr+" "+sr+" = u_"+sr+`;
#endif
`:`
#ifndef HAS_UNIFORM_u_`+sr+`
    `+qt+" "+lr+" "+sr+" = unpack_mix_"+Xr+"(a_"+sr+", u_"+sr+`_t);
#else
    `+qt+" "+lr+" "+sr+" = u_"+sr+`;
#endif
`}),{fragmentSource:fe,vertexSource:K,staticAttributes:re,staticUniforms:je}}var Ff=Object.freeze({__proto__:null,prelude:rl,background:Kl,backgroundPattern:Ns,circle:cs,clippingMask:tf,heatmap:Ml,heatmapTexture:Xo,collisionBox:Ri,collisionCircle:rf,debug:Fc,fill:Pu,fillOutline:Sl,fillOutlinePattern:El,fillPattern:Po,fillExtrusion:Ru,fillExtrusionPattern:Cl,hillshadePrepare:Du,hillshade:zc,line:kf,lineGradient:nf,linePattern:af,lineSDF:of,raster:Ll,symbolIcon:Iu,symbolSDF:Jl,symbolTextAndIcon:_u}),Zo=function(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null};Zo.prototype.bind=function(K,he,re,de,ke,je,ot,Lt){this.context=K;for(var Ht=this.boundPaintVertexBuffers.length!==de.length,qt=0;!Ht&&qt<de.length;qt++)this.boundPaintVertexBuffers[qt]!==de[qt]&&(Ht=!0);var lr=!this.vao||this.boundProgram!==he||this.boundLayoutVertexBuffer!==re||Ht||this.boundIndexBuffer!==ke||this.boundVertexOffset!==je||this.boundDynamicVertexBuffer!==ot||this.boundDynamicVertexBuffer2!==Lt;!K.extVertexArrayObject||lr?this.freshBind(he,re,de,ke,je,ot,Lt):(K.bindVertexArrayOES.set(this.vao),ot&&ot.bind(),ke&&ke.dynamicDraw&&ke.bind(),Lt&&Lt.bind())},Zo.prototype.freshBind=function(K,he,re,de,ke,je,ot){var Lt,Ht=K.numAttributes,qt=this.context,lr=qt.gl;if(qt.extVertexArrayObject)this.vao&&this.destroy(),this.vao=qt.extVertexArrayObject.createVertexArrayOES(),qt.bindVertexArrayOES.set(this.vao),Lt=0,this.boundProgram=K,this.boundLayoutVertexBuffer=he,this.boundPaintVertexBuffers=re,this.boundIndexBuffer=de,this.boundVertexOffset=ke,this.boundDynamicVertexBuffer=je,this.boundDynamicVertexBuffer2=ot;else{Lt=qt.currentNumAttributes||0;for(var sr=Ht;sr<Lt;sr++)lr.disableVertexAttribArray(sr)}he.enableAttributes(lr,K);for(var kr=0,Xr=re;kr<Xr.length;kr+=1){var Yr=Xr[kr];Yr.enableAttributes(lr,K)}je&&je.enableAttributes(lr,K),ot&&ot.enableAttributes(lr,K),he.bind(),he.setVertexAttribPointers(lr,K,ke);for(var Hr=0,Kr=re;Hr<Kr.length;Hr+=1){var fn=Kr[Hr];fn.bind(),fn.setVertexAttribPointers(lr,K,ke)}je&&(je.bind(),je.setVertexAttribPointers(lr,K,ke)),de&&de.bind(),ot&&(ot.bind(),ot.setVertexAttribPointers(lr,K,ke)),qt.currentNumAttributes=Ht},Zo.prototype.destroy=function(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)};function zf(fe){for(var K=[],he=0;he<fe.length;he++)if(fe[he]!==null){var re=fe[he].split(" ");K.push(re.pop())}return K}var sf=function(K,he,re,de,ke,je){var ot=K.gl;this.program=ot.createProgram();for(var Lt=zf(re.staticAttributes),Ht=de?de.getBinderAttributes():[],qt=Lt.concat(Ht),lr=re.staticUniforms?zf(re.staticUniforms):[],sr=de?de.getBinderUniforms():[],kr=lr.concat(sr),Xr=[],Yr=0,Hr=kr;Yr<Hr.length;Yr+=1){var Kr=Hr[Yr];Xr.indexOf(Kr)<0&&Xr.push(Kr)}var fn=de?de.defines():[];je&&fn.push("#define OVERDRAW_INSPECTOR;");var kn=fn.concat(rl.fragmentSource,re.fragmentSource).join(`
`),Bn=fn.concat(rl.vertexSource,re.vertexSource).join(`
`),Yn=ot.createShader(ot.FRAGMENT_SHADER);if(ot.isContextLost()){this.failedToCreate=!0;return}ot.shaderSource(Yn,kn),ot.compileShader(Yn),ot.attachShader(this.program,Yn);var Xn=ot.createShader(ot.VERTEX_SHADER);if(ot.isContextLost()){this.failedToCreate=!0;return}ot.shaderSource(Xn,Bn),ot.compileShader(Xn),ot.attachShader(this.program,Xn),this.attributes={};var Gn={};this.numAttributes=qt.length;for(var jn=0;jn<this.numAttributes;jn++)qt[jn]&&(ot.bindAttribLocation(this.program,jn,qt[jn]),this.attributes[qt[jn]]=jn);ot.linkProgram(this.program),ot.deleteShader(Xn),ot.deleteShader(Yn);for(var ta=0;ta<Xr.length;ta++){var la=Xr[ta];if(la&&!Gn[la]){var xa=ot.getUniformLocation(this.program,la);xa&&(Gn[la]=xa)}}this.fixedUniforms=ke(K,Gn),this.binderUniforms=de?de.getUniforms(K,Gn):[]};sf.prototype.draw=function(K,he,re,de,ke,je,ot,Lt,Ht,qt,lr,sr,kr,Xr,Yr,Hr){var Kr,fn=K.gl;if(!this.failedToCreate){K.program.set(this.program),K.setDepthMode(re),K.setStencilMode(de),K.setColorMode(ke),K.setCullFace(je);for(var kn in this.fixedUniforms)this.fixedUniforms[kn].set(ot[kn]);Xr&&Xr.setUniforms(K,this.binderUniforms,sr,{zoom:kr});for(var Bn=(Kr={},Kr[fn.LINES]=2,Kr[fn.TRIANGLES]=3,Kr[fn.LINE_STRIP]=1,Kr)[he],Yn=0,Xn=lr.get();Yn<Xn.length;Yn+=1){var Gn=Xn[Yn],jn=Gn.vaos||(Gn.vaos={}),ta=jn[Lt]||(jn[Lt]=new Zo);ta.bind(K,this,Ht,Xr?Xr.getPaintVertexBuffers():[],qt,Gn.vertexOffset,Yr,Hr),fn.drawElements(he,Gn.primitiveLength*Bn,fn.UNSIGNED_SHORT,Gn.primitiveOffset*Bn*2)}}};function nl(fe,K,he){var re=1/dn(he,1,K.transform.tileZoom),de=Math.pow(2,he.tileID.overscaledZ),ke=he.tileSize*Math.pow(2,K.transform.tileZoom)/de,je=ke*(he.tileID.canonical.x+he.tileID.wrap*de),ot=ke*he.tileID.canonical.y;return{u_image:0,u_texsize:he.imageAtlasTexture.size,u_scale:[re,fe.fromScale,fe.toScale],u_fade:fe.t,u_pixel_coord_upper:[je>>16,ot>>16],u_pixel_coord_lower:[je&65535,ot&65535]}}function Us(fe,K,he,re){var de=he.imageManager.getPattern(fe.from.toString()),ke=he.imageManager.getPattern(fe.to.toString()),je=he.imageManager.getPixelSize(),ot=je.width,Lt=je.height,Ht=Math.pow(2,re.tileID.overscaledZ),qt=re.tileSize*Math.pow(2,he.transform.tileZoom)/Ht,lr=qt*(re.tileID.canonical.x+re.tileID.wrap*Ht),sr=qt*re.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:de.tl,u_pattern_br_a:de.br,u_pattern_tl_b:ke.tl,u_pattern_br_b:ke.br,u_texsize:[ot,Lt],u_mix:K.t,u_pattern_size_a:de.displaySize,u_pattern_size_b:ke.displaySize,u_scale_a:K.fromScale,u_scale_b:K.toScale,u_tile_units_to_pixels:1/dn(re,1,he.transform.tileZoom),u_pixel_coord_upper:[lr>>16,sr>>16],u_pixel_coord_lower:[lr&65535,sr&65535]}}var ku=function(fe,K){return{u_matrix:new a.UniformMatrix4f(fe,K.u_matrix),u_lightpos:new a.Uniform3f(fe,K.u_lightpos),u_lightintensity:new a.Uniform1f(fe,K.u_lightintensity),u_lightcolor:new a.Uniform3f(fe,K.u_lightcolor),u_vertical_gradient:new a.Uniform1f(fe,K.u_vertical_gradient),u_opacity:new a.Uniform1f(fe,K.u_opacity)}},ki=function(fe,K){return{u_matrix:new a.UniformMatrix4f(fe,K.u_matrix),u_lightpos:new a.Uniform3f(fe,K.u_lightpos),u_lightintensity:new a.Uniform1f(fe,K.u_lightintensity),u_lightcolor:new a.Uniform3f(fe,K.u_lightcolor),u_vertical_gradient:new a.Uniform1f(fe,K.u_vertical_gradient),u_height_factor:new a.Uniform1f(fe,K.u_height_factor),u_image:new a.Uniform1i(fe,K.u_image),u_texsize:new a.Uniform2f(fe,K.u_texsize),u_pixel_coord_upper:new a.Uniform2f(fe,K.u_pixel_coord_upper),u_pixel_coord_lower:new a.Uniform2f(fe,K.u_pixel_coord_lower),u_scale:new a.Uniform3f(fe,K.u_scale),u_fade:new a.Uniform1f(fe,K.u_fade),u_opacity:new a.Uniform1f(fe,K.u_opacity)}},Ql=function(fe,K,he,re){var de=K.style.light,ke=de.properties.get("position"),je=[ke.x,ke.y,ke.z],ot=a.create$1();de.properties.get("anchor")==="viewport"&&a.fromRotation(ot,-K.transform.angle),a.transformMat3(je,je,ot);var Lt=de.properties.get("color");return{u_matrix:fe,u_lightpos:je,u_lightintensity:de.properties.get("intensity"),u_lightcolor:[Lt.r,Lt.g,Lt.b],u_vertical_gradient:+he,u_opacity:re}},jo=function(fe,K,he,re,de,ke,je){return a.extend(Ql(fe,K,he,re),nl(ke,K,je),{u_height_factor:-Math.pow(2,de.overscaledZ)/je.tileSize/8})},Ms=function(fe,K){return{u_matrix:new a.UniformMatrix4f(fe,K.u_matrix)}},al=function(fe,K){return{u_matrix:new a.UniformMatrix4f(fe,K.u_matrix),u_image:new a.Uniform1i(fe,K.u_image),u_texsize:new a.Uniform2f(fe,K.u_texsize),u_pixel_coord_upper:new a.Uniform2f(fe,K.u_pixel_coord_upper),u_pixel_coord_lower:new a.Uniform2f(fe,K.u_pixel_coord_lower),u_scale:new a.Uniform3f(fe,K.u_scale),u_fade:new a.Uniform1f(fe,K.u_fade)}},Vs=function(fe,K){return{u_matrix:new a.UniformMatrix4f(fe,K.u_matrix),u_world:new a.Uniform2f(fe,K.u_world)}},Ko=function(fe,K){return{u_matrix:new a.UniformMatrix4f(fe,K.u_matrix),u_world:new a.Uniform2f(fe,K.u_world),u_image:new a.Uniform1i(fe,K.u_image),u_texsize:new a.Uniform2f(fe,K.u_texsize),u_pixel_coord_upper:new a.Uniform2f(fe,K.u_pixel_coord_upper),u_pixel_coord_lower:new a.Uniform2f(fe,K.u_pixel_coord_lower),u_scale:new a.Uniform3f(fe,K.u_scale),u_fade:new a.Uniform1f(fe,K.u_fade)}},Ss=function(fe){return{u_matrix:fe}},Jo=function(fe,K,he,re){return a.extend(Ss(fe),nl(he,K,re))},No=function(fe,K){return{u_matrix:fe,u_world:K}},$l=function(fe,K,he,re,de){return a.extend(Jo(fe,K,he,re),{u_world:de})},Oc=function(fe,K){return{u_camera_to_center_distance:new a.Uniform1f(fe,K.u_camera_to_center_distance),u_scale_with_map:new a.Uniform1i(fe,K.u_scale_with_map),u_pitch_with_map:new a.Uniform1i(fe,K.u_pitch_with_map),u_extrude_scale:new a.Uniform2f(fe,K.u_extrude_scale),u_device_pixel_ratio:new a.Uniform1f(fe,K.u_device_pixel_ratio),u_matrix:new a.UniformMatrix4f(fe,K.u_matrix)}},Bc=function(fe,K,he,re){var de=fe.transform,ke,je;if(re.paint.get("circle-pitch-alignment")==="map"){var ot=dn(he,1,de.zoom);ke=!0,je=[ot,ot]}else ke=!1,je=de.pixelsToGLUnits;return{u_camera_to_center_distance:de.cameraToCenterDistance,u_scale_with_map:+(re.paint.get("circle-pitch-scale")==="map"),u_matrix:fe.translatePosMatrix(K.posMatrix,he,re.paint.get("circle-translate"),re.paint.get("circle-translate-anchor")),u_pitch_with_map:+ke,u_device_pixel_ratio:a.browser.devicePixelRatio,u_extrude_scale:je}},Nc=function(fe,K){return{u_matrix:new a.UniformMatrix4f(fe,K.u_matrix),u_camera_to_center_distance:new a.Uniform1f(fe,K.u_camera_to_center_distance),u_pixels_to_tile_units:new a.Uniform1f(fe,K.u_pixels_to_tile_units),u_extrude_scale:new a.Uniform2f(fe,K.u_extrude_scale),u_overscale_factor:new a.Uniform1f(fe,K.u_overscale_factor)}},Uc=function(fe,K){return{u_matrix:new a.UniformMatrix4f(fe,K.u_matrix),u_inv_matrix:new a.UniformMatrix4f(fe,K.u_inv_matrix),u_camera_to_center_distance:new a.Uniform1f(fe,K.u_camera_to_center_distance),u_viewport_size:new a.Uniform2f(fe,K.u_viewport_size)}},lf=function(fe,K,he){var re=dn(he,1,K.zoom),de=Math.pow(2,K.zoom-he.tileID.overscaledZ),ke=he.tileID.overscaleFactor();return{u_matrix:fe,u_camera_to_center_distance:K.cameraToCenterDistance,u_pixels_to_tile_units:re,u_extrude_scale:[K.pixelsToGLUnits[0]/(re*de),K.pixelsToGLUnits[1]/(re*de)],u_overscale_factor:ke}},Of=function(fe,K,he){return{u_matrix:fe,u_inv_matrix:K,u_camera_to_center_distance:he.cameraToCenterDistance,u_viewport_size:[he.width,he.height]}},Pl=function(fe,K){return{u_color:new a.UniformColor(fe,K.u_color),u_matrix:new a.UniformMatrix4f(fe,K.u_matrix),u_overlay:new a.Uniform1i(fe,K.u_overlay),u_overlay_scale:new a.Uniform1f(fe,K.u_overlay_scale)}},qi=function(fe,K,he){return he===void 0&&(he=1),{u_matrix:fe,u_color:K,u_overlay:0,u_overlay_scale:he}},Fo=function(fe,K){return{u_matrix:new a.UniformMatrix4f(fe,K.u_matrix)}},Rl=function(fe){return{u_matrix:fe}},Bf=function(fe,K){return{u_extrude_scale:new a.Uniform1f(fe,K.u_extrude_scale),u_intensity:new a.Uniform1f(fe,K.u_intensity),u_matrix:new a.UniformMatrix4f(fe,K.u_matrix)}},ql=function(fe,K){return{u_matrix:new a.UniformMatrix4f(fe,K.u_matrix),u_world:new a.Uniform2f(fe,K.u_world),u_image:new a.Uniform1i(fe,K.u_image),u_color_ramp:new a.Uniform1i(fe,K.u_color_ramp),u_opacity:new a.Uniform1f(fe,K.u_opacity)}},Es=function(fe,K,he,re){return{u_matrix:fe,u_extrude_scale:dn(K,1,he),u_intensity:re}},Vc=function(fe,K,he,re){var de=a.create();a.ortho(de,0,fe.width,fe.height,0,0,1);var ke=fe.context.gl;return{u_matrix:de,u_world:[ke.drawingBufferWidth,ke.drawingBufferHeight],u_image:he,u_color_ramp:re,u_opacity:K.paint.get("heatmap-opacity")}},Nf=function(fe,K){return{u_matrix:new a.UniformMatrix4f(fe,K.u_matrix),u_image:new a.Uniform1i(fe,K.u_image),u_latrange:new a.Uniform2f(fe,K.u_latrange),u_light:new a.Uniform2f(fe,K.u_light),u_shadow:new a.UniformColor(fe,K.u_shadow),u_highlight:new a.UniformColor(fe,K.u_highlight),u_accent:new a.UniformColor(fe,K.u_accent)}},Uf=function(fe,K){return{u_matrix:new a.UniformMatrix4f(fe,K.u_matrix),u_image:new a.Uniform1i(fe,K.u_image),u_dimension:new a.Uniform2f(fe,K.u_dimension),u_zoom:new a.Uniform1f(fe,K.u_zoom),u_unpack:new a.Uniform4f(fe,K.u_unpack)}},uf=function(fe,K,he){var re=he.paint.get("hillshade-shadow-color"),de=he.paint.get("hillshade-highlight-color"),ke=he.paint.get("hillshade-accent-color"),je=he.paint.get("hillshade-illumination-direction")*(Math.PI/180);he.paint.get("hillshade-illumination-anchor")==="viewport"&&(je-=fe.transform.angle);var ot=!fe.options.moving;return{u_matrix:fe.transform.calculatePosMatrix(K.tileID.toUnwrapped(),ot),u_image:0,u_latrange:wo(fe,K.tileID),u_light:[he.paint.get("hillshade-exaggeration"),je],u_shadow:re,u_highlight:de,u_accent:ke}},Vf=function(fe,K){var he=K.stride,re=a.create();return a.ortho(re,0,a.EXTENT,-a.EXTENT,0,0,1),a.translate(re,re,[0,-a.EXTENT,0]),{u_matrix:re,u_image:1,u_dimension:[he,he],u_zoom:fe.overscaledZ,u_unpack:K.getUnpackVector()}};function wo(fe,K){var he=Math.pow(2,K.canonical.z),re=K.canonical.y;return[new a.MercatorCoordinate(0,re/he).toLngLat().lat,new a.MercatorCoordinate(0,(re+1)/he).toLngLat().lat]}var Qo=function(fe,K){return{u_matrix:new a.UniformMatrix4f(fe,K.u_matrix),u_ratio:new a.Uniform1f(fe,K.u_ratio),u_device_pixel_ratio:new a.Uniform1f(fe,K.u_device_pixel_ratio),u_units_to_pixels:new a.Uniform2f(fe,K.u_units_to_pixels)}},Hs=function(fe,K){return{u_matrix:new a.UniformMatrix4f(fe,K.u_matrix),u_ratio:new a.Uniform1f(fe,K.u_ratio),u_device_pixel_ratio:new a.Uniform1f(fe,K.u_device_pixel_ratio),u_units_to_pixels:new a.Uniform2f(fe,K.u_units_to_pixels),u_image:new a.Uniform1i(fe,K.u_image),u_image_height:new a.Uniform1f(fe,K.u_image_height)}},Dl=function(fe,K){return{u_matrix:new a.UniformMatrix4f(fe,K.u_matrix),u_texsize:new a.Uniform2f(fe,K.u_texsize),u_ratio:new a.Uniform1f(fe,K.u_ratio),u_device_pixel_ratio:new a.Uniform1f(fe,K.u_device_pixel_ratio),u_image:new a.Uniform1i(fe,K.u_image),u_units_to_pixels:new a.Uniform2f(fe,K.u_units_to_pixels),u_scale:new a.Uniform3f(fe,K.u_scale),u_fade:new a.Uniform1f(fe,K.u_fade)}},Fu=function(fe,K){return{u_matrix:new a.UniformMatrix4f(fe,K.u_matrix),u_ratio:new a.Uniform1f(fe,K.u_ratio),u_device_pixel_ratio:new a.Uniform1f(fe,K.u_device_pixel_ratio),u_units_to_pixels:new a.Uniform2f(fe,K.u_units_to_pixels),u_patternscale_a:new a.Uniform2f(fe,K.u_patternscale_a),u_patternscale_b:new a.Uniform2f(fe,K.u_patternscale_b),u_sdfgamma:new a.Uniform1f(fe,K.u_sdfgamma),u_image:new a.Uniform1i(fe,K.u_image),u_tex_y_a:new a.Uniform1f(fe,K.u_tex_y_a),u_tex_y_b:new a.Uniform1f(fe,K.u_tex_y_b),u_mix:new a.Uniform1f(fe,K.u_mix)}},il=function(fe,K,he){var re=fe.transform;return{u_matrix:Gs(fe,K,he),u_ratio:1/dn(K,1,re.zoom),u_device_pixel_ratio:a.browser.devicePixelRatio,u_units_to_pixels:[1/re.pixelsToGLUnits[0],1/re.pixelsToGLUnits[1]]}},ol=function(fe,K,he,re){return a.extend(il(fe,K,he),{u_image:0,u_image_height:re})},Hf=function(fe,K,he,re){var de=fe.transform,ke=Il(K,de);return{u_matrix:Gs(fe,K,he),u_texsize:K.imageAtlasTexture.size,u_ratio:1/dn(K,1,de.zoom),u_device_pixel_ratio:a.browser.devicePixelRatio,u_image:0,u_scale:[ke,re.fromScale,re.toScale],u_fade:re.t,u_units_to_pixels:[1/de.pixelsToGLUnits[0],1/de.pixelsToGLUnits[1]]}},Cs=function(fe,K,he,re,de){var ke=fe.transform,je=fe.lineAtlas,ot=Il(K,ke),Lt=he.layout.get("line-cap")==="round",Ht=je.getDash(re.from,Lt),qt=je.getDash(re.to,Lt),lr=Ht.width*de.fromScale,sr=qt.width*de.toScale;return a.extend(il(fe,K,he),{u_patternscale_a:[ot/lr,-Ht.height/2],u_patternscale_b:[ot/sr,-qt.height/2],u_sdfgamma:je.width/(Math.min(lr,sr)*256*a.browser.devicePixelRatio)/2,u_image:0,u_tex_y_a:Ht.y,u_tex_y_b:qt.y,u_mix:de.t})};function Il(fe,K){return 1/dn(fe,1,K.tileZoom)}function Gs(fe,K,he){return fe.translatePosMatrix(K.tileID.posMatrix,K,he.paint.get("line-translate"),he.paint.get("line-translate-anchor"))}var Ls=function(fe,K){return{u_matrix:new a.UniformMatrix4f(fe,K.u_matrix),u_tl_parent:new a.Uniform2f(fe,K.u_tl_parent),u_scale_parent:new a.Uniform1f(fe,K.u_scale_parent),u_buffer_scale:new a.Uniform1f(fe,K.u_buffer_scale),u_fade_t:new a.Uniform1f(fe,K.u_fade_t),u_opacity:new a.Uniform1f(fe,K.u_opacity),u_image0:new a.Uniform1i(fe,K.u_image0),u_image1:new a.Uniform1i(fe,K.u_image1),u_brightness_low:new a.Uniform1f(fe,K.u_brightness_low),u_brightness_high:new a.Uniform1f(fe,K.u_brightness_high),u_saturation_factor:new a.Uniform1f(fe,K.u_saturation_factor),u_contrast_factor:new a.Uniform1f(fe,K.u_contrast_factor),u_spin_weights:new a.Uniform3f(fe,K.u_spin_weights)}},eu=function(fe,K,he,re,de){return{u_matrix:fe,u_tl_parent:K,u_scale_parent:he,u_buffer_scale:1,u_fade_t:re.mix,u_opacity:re.opacity*de.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:de.paint.get("raster-brightness-min"),u_brightness_high:de.paint.get("raster-brightness-max"),u_saturation_factor:kl(de.paint.get("raster-saturation")),u_contrast_factor:hi(de.paint.get("raster-contrast")),u_spin_weights:_l(de.paint.get("raster-hue-rotate"))}};function _l(fe){fe*=Math.PI/180;var K=Math.sin(fe),he=Math.cos(fe);return[(2*he+1)/3,(-Math.sqrt(3)*K-he+1)/3,(Math.sqrt(3)*K-he+1)/3]}function hi(fe){return fe>0?1/(1-fe):1+fe}function kl(fe){return fe>0?1-1/(1.001-fe):-fe}var zu=function(fe,K){return{u_is_size_zoom_constant:new a.Uniform1i(fe,K.u_is_size_zoom_constant),u_is_size_feature_constant:new a.Uniform1i(fe,K.u_is_size_feature_constant),u_size_t:new a.Uniform1f(fe,K.u_size_t),u_size:new a.Uniform1f(fe,K.u_size),u_camera_to_center_distance:new a.Uniform1f(fe,K.u_camera_to_center_distance),u_pitch:new a.Uniform1f(fe,K.u_pitch),u_rotate_symbol:new a.Uniform1i(fe,K.u_rotate_symbol),u_aspect_ratio:new a.Uniform1f(fe,K.u_aspect_ratio),u_fade_change:new a.Uniform1f(fe,K.u_fade_change),u_matrix:new a.UniformMatrix4f(fe,K.u_matrix),u_label_plane_matrix:new a.UniformMatrix4f(fe,K.u_label_plane_matrix),u_coord_matrix:new a.UniformMatrix4f(fe,K.u_coord_matrix),u_is_text:new a.Uniform1i(fe,K.u_is_text),u_pitch_with_map:new a.Uniform1i(fe,K.u_pitch_with_map),u_texsize:new a.Uniform2f(fe,K.u_texsize),u_texture:new a.Uniform1i(fe,K.u_texture)}},Gf=function(fe,K){return{u_is_size_zoom_constant:new a.Uniform1i(fe,K.u_is_size_zoom_constant),u_is_size_feature_constant:new a.Uniform1i(fe,K.u_is_size_feature_constant),u_size_t:new a.Uniform1f(fe,K.u_size_t),u_size:new a.Uniform1f(fe,K.u_size),u_camera_to_center_distance:new a.Uniform1f(fe,K.u_camera_to_center_distance),u_pitch:new a.Uniform1f(fe,K.u_pitch),u_rotate_symbol:new a.Uniform1i(fe,K.u_rotate_symbol),u_aspect_ratio:new a.Uniform1f(fe,K.u_aspect_ratio),u_fade_change:new a.Uniform1f(fe,K.u_fade_change),u_matrix:new a.UniformMatrix4f(fe,K.u_matrix),u_label_plane_matrix:new a.UniformMatrix4f(fe,K.u_label_plane_matrix),u_coord_matrix:new a.UniformMatrix4f(fe,K.u_coord_matrix),u_is_text:new a.Uniform1i(fe,K.u_is_text),u_pitch_with_map:new a.Uniform1i(fe,K.u_pitch_with_map),u_texsize:new a.Uniform2f(fe,K.u_texsize),u_texture:new a.Uniform1i(fe,K.u_texture),u_gamma_scale:new a.Uniform1f(fe,K.u_gamma_scale),u_device_pixel_ratio:new a.Uniform1f(fe,K.u_device_pixel_ratio),u_is_halo:new a.Uniform1i(fe,K.u_is_halo)}},Fl=function(fe,K){return{u_is_size_zoom_constant:new a.Uniform1i(fe,K.u_is_size_zoom_constant),u_is_size_feature_constant:new a.Uniform1i(fe,K.u_is_size_feature_constant),u_size_t:new a.Uniform1f(fe,K.u_size_t),u_size:new a.Uniform1f(fe,K.u_size),u_camera_to_center_distance:new a.Uniform1f(fe,K.u_camera_to_center_distance),u_pitch:new a.Uniform1f(fe,K.u_pitch),u_rotate_symbol:new a.Uniform1i(fe,K.u_rotate_symbol),u_aspect_ratio:new a.Uniform1f(fe,K.u_aspect_ratio),u_fade_change:new a.Uniform1f(fe,K.u_fade_change),u_matrix:new a.UniformMatrix4f(fe,K.u_matrix),u_label_plane_matrix:new a.UniformMatrix4f(fe,K.u_label_plane_matrix),u_coord_matrix:new a.UniformMatrix4f(fe,K.u_coord_matrix),u_is_text:new a.Uniform1i(fe,K.u_is_text),u_pitch_with_map:new a.Uniform1i(fe,K.u_pitch_with_map),u_texsize:new a.Uniform2f(fe,K.u_texsize),u_texsize_icon:new a.Uniform2f(fe,K.u_texsize_icon),u_texture:new a.Uniform1i(fe,K.u_texture),u_texture_icon:new a.Uniform1i(fe,K.u_texture_icon),u_gamma_scale:new a.Uniform1f(fe,K.u_gamma_scale),u_device_pixel_ratio:new a.Uniform1f(fe,K.u_device_pixel_ratio),u_is_halo:new a.Uniform1i(fe,K.u_is_halo)}},tu=function(fe,K,he,re,de,ke,je,ot,Lt,Ht){var qt=de.transform;return{u_is_size_zoom_constant:+(fe==="constant"||fe==="source"),u_is_size_feature_constant:+(fe==="constant"||fe==="camera"),u_size_t:K?K.uSizeT:0,u_size:K?K.uSize:0,u_camera_to_center_distance:qt.cameraToCenterDistance,u_pitch:qt.pitch/360*2*Math.PI,u_rotate_symbol:+he,u_aspect_ratio:qt.width/qt.height,u_fade_change:de.options.fadeDuration?de.symbolFadeChange:1,u_matrix:ke,u_label_plane_matrix:je,u_coord_matrix:ot,u_is_text:+Lt,u_pitch_with_map:+re,u_texsize:Ht,u_texture:0}},Ou=function(fe,K,he,re,de,ke,je,ot,Lt,Ht,qt){var lr=de.transform;return a.extend(tu(fe,K,he,re,de,ke,je,ot,Lt,Ht),{u_gamma_scale:re?Math.cos(lr._pitch)*lr.cameraToCenterDistance:1,u_device_pixel_ratio:a.browser.devicePixelRatio,u_is_halo:+qt})},ff=function(fe,K,he,re,de,ke,je,ot,Lt,Ht){return a.extend(Ou(fe,K,he,re,de,ke,je,ot,!0,Lt,!0),{u_texsize_icon:Ht,u_texture_icon:1})},ru=function(fe,K){return{u_matrix:new a.UniformMatrix4f(fe,K.u_matrix),u_opacity:new a.Uniform1f(fe,K.u_opacity),u_color:new a.UniformColor(fe,K.u_color)}},nu=function(fe,K){return{u_matrix:new a.UniformMatrix4f(fe,K.u_matrix),u_opacity:new a.Uniform1f(fe,K.u_opacity),u_image:new a.Uniform1i(fe,K.u_image),u_pattern_tl_a:new a.Uniform2f(fe,K.u_pattern_tl_a),u_pattern_br_a:new a.Uniform2f(fe,K.u_pattern_br_a),u_pattern_tl_b:new a.Uniform2f(fe,K.u_pattern_tl_b),u_pattern_br_b:new a.Uniform2f(fe,K.u_pattern_br_b),u_texsize:new a.Uniform2f(fe,K.u_texsize),u_mix:new a.Uniform1f(fe,K.u_mix),u_pattern_size_a:new a.Uniform2f(fe,K.u_pattern_size_a),u_pattern_size_b:new a.Uniform2f(fe,K.u_pattern_size_b),u_scale_a:new a.Uniform1f(fe,K.u_scale_a),u_scale_b:new a.Uniform1f(fe,K.u_scale_b),u_pixel_coord_upper:new a.Uniform2f(fe,K.u_pixel_coord_upper),u_pixel_coord_lower:new a.Uniform2f(fe,K.u_pixel_coord_lower),u_tile_units_to_pixels:new a.Uniform1f(fe,K.u_tile_units_to_pixels)}},Ws=function(fe,K,he){return{u_matrix:fe,u_opacity:K,u_color:he}},au=function(fe,K,he,re,de,ke){return a.extend(Us(re,ke,he,de),{u_matrix:fe,u_opacity:K})},Ys={fillExtrusion:ku,fillExtrusionPattern:ki,fill:Ms,fillPattern:al,fillOutline:Vs,fillOutlinePattern:Ko,circle:Oc,collisionBox:Nc,collisionCircle:Uc,debug:Pl,clippingMask:Fo,heatmap:Bf,heatmapTexture:ql,hillshade:Nf,hillshadePrepare:Uf,line:Qo,lineGradient:Hs,linePattern:Dl,lineSDF:Fu,raster:Ls,symbolIcon:zu,symbolSDF:Gf,symbolTextAndIcon:Fl,background:ru,backgroundPattern:nu},Wi;function hs(fe,K,he,re,de,ke,je){for(var ot=fe.context,Lt=ot.gl,Ht=fe.useProgram("collisionBox"),qt=[],lr=0,sr=0,kr=0;kr<re.length;kr++){var Xr=re[kr],Yr=K.getTile(Xr),Hr=Yr.getBucket(he);if(!!Hr){var Kr=Xr.posMatrix;(de[0]!==0||de[1]!==0)&&(Kr=fe.translatePosMatrix(Xr.posMatrix,Yr,de,ke));var fn=je?Hr.textCollisionBox:Hr.iconCollisionBox,kn=Hr.collisionCircleArray;if(kn.length>0){var Bn=a.create(),Yn=Kr;a.mul(Bn,Hr.placementInvProjMatrix,fe.transform.glCoordMatrix),a.mul(Bn,Bn,Hr.placementViewportMatrix),qt.push({circleArray:kn,circleOffset:sr,transform:Yn,invTransform:Bn}),lr+=kn.length/4,sr=lr}!fn||Ht.draw(ot,Lt.LINES,wr.disabled,Wt.disabled,fe.colorModeForRenderPass(),Dt.disabled,lf(Kr,fe.transform,Yr),he.id,fn.layoutVertexBuffer,fn.indexBuffer,fn.segments,null,fe.transform.zoom,null,null,fn.collisionVertexBuffer)}}if(!(!je||!qt.length)){var Xn=fe.useProgram("collisionCircle"),Gn=new a.StructArrayLayout2f1f2i16;Gn.resize(lr*4),Gn._trim();for(var jn=0,ta=0,la=qt;ta<la.length;ta+=1)for(var xa=la[ta],va=0;va<xa.circleArray.length/4;va++){var ka=va*4,Qa=xa.circleArray[ka+0],Wa=xa.circleArray[ka+1],Ma=xa.circleArray[ka+2],Ya=xa.circleArray[ka+3];Gn.emplace(jn++,Qa,Wa,Ma,Ya,0),Gn.emplace(jn++,Qa,Wa,Ma,Ya,1),Gn.emplace(jn++,Qa,Wa,Ma,Ya,2),Gn.emplace(jn++,Qa,Wa,Ma,Ya,3)}(!Wi||Wi.length<lr*2)&&(Wi=cf(lr));for(var Va=ot.createIndexBuffer(Wi,!0),oi=ot.createVertexBuffer(Gn,a.collisionCircleLayout.members,!0),ei=0,Mi=qt;ei<Mi.length;ei+=1){var Ja=Mi[ei],yi=Of(Ja.transform,Ja.invTransform,fe.transform);Xn.draw(ot,Lt.TRIANGLES,wr.disabled,Wt.disabled,fe.colorModeForRenderPass(),Dt.disabled,yi,he.id,oi,Va,a.SegmentVector.simpleSegment(0,Ja.circleOffset*2,Ja.circleArray.length,Ja.circleArray.length/2),null,fe.transform.zoom,null,null,null)}oi.destroy(),Va.destroy()}}function cf(fe){var K=fe*2,he=new a.StructArrayLayout3ui6;he.resize(K),he._trim();for(var re=0;re<K;re++){var de=re*6;he.uint16[de+0]=re*4+0,he.uint16[de+1]=re*4+1,he.uint16[de+2]=re*4+2,he.uint16[de+3]=re*4+2,he.uint16[de+4]=re*4+3,he.uint16[de+5]=re*4+0}return he}var sl=a.identity(new Float32Array(16));function Bu(fe,K,he,re,de){if(fe.renderPass==="translucent"){var ke=Wt.disabled,je=fe.colorModeForRenderPass(),ot=he.layout.get("text-variable-anchor");ot&&Hc(re,fe,he,K,he.layout.get("text-rotation-alignment"),he.layout.get("text-pitch-alignment"),de),he.paint.get("icon-opacity").constantOr(1)!==0&&ou(fe,K,he,re,!1,he.paint.get("icon-translate"),he.paint.get("icon-translate-anchor"),he.layout.get("icon-rotation-alignment"),he.layout.get("icon-pitch-alignment"),he.layout.get("icon-keep-upright"),ke,je),he.paint.get("text-opacity").constantOr(1)!==0&&ou(fe,K,he,re,!0,he.paint.get("text-translate"),he.paint.get("text-translate-anchor"),he.layout.get("text-rotation-alignment"),he.layout.get("text-pitch-alignment"),he.layout.get("text-keep-upright"),ke,je),K.map.showCollisionBoxes&&(hs(fe,K,he,re,he.paint.get("text-translate"),he.paint.get("text-translate-anchor"),!0),hs(fe,K,he,re,he.paint.get("icon-translate"),he.paint.get("icon-translate-anchor"),!1))}}function iu(fe,K,he,re,de,ke){var je=a.getAnchorAlignment(fe),ot=je.horizontalAlign,Lt=je.verticalAlign,Ht=-(ot-.5)*K,qt=-(Lt-.5)*he,lr=a.evaluateVariableOffset(fe,re);return new a.Point((Ht/de+lr[0])*ke,(qt/de+lr[1])*ke)}function Hc(fe,K,he,re,de,ke,je){for(var ot=K.transform,Lt=de==="map",Ht=ke==="map",qt=0,lr=fe;qt<lr.length;qt+=1){var sr=lr[qt],kr=re.getTile(sr),Xr=kr.getBucket(he);if(!(!Xr||!Xr.text||!Xr.text.segments.get().length)){var Yr=Xr.textSizeData,Hr=a.evaluateSizeForZoom(Yr,ot.zoom),Kr=dn(kr,1,K.transform.zoom),fn=Lr(sr.posMatrix,Ht,Lt,K.transform,Kr),kn=he.layout.get("icon-text-fit")!=="none"&&Xr.hasIconData();if(Hr){var Bn=Math.pow(2,ot.zoom-kr.tileID.overscaledZ);Wf(Xr,Lt,Ht,je,a.symbolSize,ot,fn,sr.posMatrix,Bn,Hr,kn)}}}}function Wf(fe,K,he,re,de,ke,je,ot,Lt,Ht,qt){var lr=fe.text.placedSymbolArray,sr=fe.text.dynamicLayoutVertexArray,kr=fe.icon.dynamicLayoutVertexArray,Xr={};sr.clear();for(var Yr=0;Yr<lr.length;Yr++){var Hr=lr.get(Yr),Kr=fe.allowVerticalPlacement&&!Hr.placedOrientation,fn=!Hr.hidden&&Hr.crossTileID&&!Kr?re[Hr.crossTileID]:null;if(!fn)na(Hr.numGlyphs,sr);else{var kn=new a.Point(Hr.anchorX,Hr.anchorY),Bn=Ur(kn,he?ot:je),Yn=an(ke.cameraToCenterDistance,Bn.signedDistanceFromCamera),Xn=de.evaluateSizeForFeature(fe.textSizeData,Ht,Hr)*Yn/a.ONE_EM;he&&(Xn*=fe.tilePixelRatio/Lt);for(var Gn=fn.width,jn=fn.height,ta=fn.anchor,la=fn.textOffset,xa=fn.textBoxScale,va=iu(ta,Gn,jn,la,xa,Xn),ka=he?Ur(kn.add(va),je).point:Bn.point.add(K?va.rotate(-ke.angle):va),Qa=fe.allowVerticalPlacement&&Hr.placedOrientation===a.WritingMode.vertical?Math.PI/2:0,Wa=0;Wa<Hr.numGlyphs;Wa++)a.addDynamicAttributes(sr,ka,Qa);qt&&Hr.associatedIconIndex>=0&&(Xr[Hr.associatedIconIndex]={shiftedAnchor:ka,angle:Qa})}}if(qt){kr.clear();for(var Ma=fe.icon.placedSymbolArray,Ya=0;Ya<Ma.length;Ya++){var Va=Ma.get(Ya);if(Va.hidden)na(Va.numGlyphs,kr);else{var oi=Xr[Ya];if(!oi)na(Va.numGlyphs,kr);else for(var ei=0;ei<Va.numGlyphs;ei++)a.addDynamicAttributes(kr,oi.shiftedAnchor,oi.angle)}}fe.icon.dynamicLayoutVertexBuffer.updateData(kr)}fe.text.dynamicLayoutVertexBuffer.updateData(sr)}function po(fe,K,he){return he.iconsInText&&K?"symbolTextAndIcon":fe?"symbolSDF":"symbolIcon"}function ou(fe,K,he,re,de,ke,je,ot,Lt,Ht,qt,lr){for(var sr=fe.context,kr=sr.gl,Xr=fe.transform,Yr=ot==="map",Hr=Lt==="map",Kr=Yr&&he.layout.get("symbol-placement")!=="point",fn=Yr&&!Hr&&!Kr,kn=he.layout.get("symbol-sort-key").constantOr(1)!==void 0,Bn=!1,Yn=fe.depthModeForSublayer(0,wr.ReadOnly),Xn=he.layout.get("text-variable-anchor"),Gn=[],jn=0,ta=re;jn<ta.length;jn+=1){var la=ta[jn],xa=K.getTile(la),va=xa.getBucket(he);if(!!va){var ka=de?va.text:va.icon;if(!(!ka||!ka.segments.get().length)){var Qa=ka.programConfigurations.get(he.id),Wa=de||va.sdfIcons,Ma=de?va.textSizeData:va.iconSizeData,Ya=Hr||Xr.pitch!==0,Va=fe.useProgram(po(Wa,de,va),Qa),oi=a.evaluateSizeForZoom(Ma,Xr.zoom),ei=void 0,Mi=[0,0],Ja=void 0,yi=void 0,Ha=null,$a=void 0;if(de){if(Ja=xa.glyphAtlasTexture,yi=kr.LINEAR,ei=xa.glyphAtlasTexture.size,va.iconsInText){Mi=xa.imageAtlasTexture.size,Ha=xa.imageAtlasTexture;var Ui=Ma.kind==="composite"||Ma.kind==="camera";$a=Ya||fe.options.rotating||fe.options.zooming||Ui?kr.LINEAR:kr.NEAREST}}else{var yo=he.layout.get("icon-size").constantOr(0)!==1||va.iconsNeedLinear;Ja=xa.imageAtlasTexture,yi=Wa||fe.options.rotating||fe.options.zooming||yo||Ya?kr.LINEAR:kr.NEAREST,ei=xa.imageAtlasTexture.size}var js=dn(xa,1,fe.transform.zoom),Ks=Lr(la.posMatrix,Hr,Yr,fe.transform,js),fl=Wr(la.posMatrix,Hr,Yr,fe.transform,js),Bl=Xn&&va.hasTextData(),mf=he.layout.get("icon-text-fit")!=="none"&&Bl&&va.hasIconData();Kr&&gn(va,la.posMatrix,fe,de,Ks,fl,Hr,Ht);var Nl=fe.translatePosMatrix(la.posMatrix,xa,ke,je),qo=Kr||de&&Xn||mf?sl:Ks,Ul=fe.translatePosMatrix(fl,xa,ke,je,!0),ps=Wa&&he.paint.get(de?"text-halo-width":"icon-halo-width").constantOr(1)!==0,es=void 0;Wa?va.iconsInText?es=ff(Ma.kind,oi,fn,Hr,fe,Nl,qo,Ul,ei,Mi):es=Ou(Ma.kind,oi,fn,Hr,fe,Nl,qo,Ul,de,ei,!0):es=tu(Ma.kind,oi,fn,Hr,fe,Nl,qo,Ul,de,ei);var cl={program:Va,buffers:ka,uniformValues:es,atlasTexture:Ja,atlasTextureIcon:Ha,atlasInterpolation:yi,atlasInterpolationIcon:$a,isSDF:Wa,hasHalo:ps};if(kn&&va.canOverlap){Bn=!0;for(var du=ka.segments.get(),hl=0,Ch=du;hl<Ch.length;hl+=1){var qf=Ch[hl];Gn.push({segments:new a.SegmentVector([qf]),sortKey:qf.sortKey,state:cl})}}else Gn.push({segments:ka.segments,sortKey:0,state:cl})}}}Bn&&Gn.sort(function(Ph,Rh){return Ph.sortKey-Rh.sortKey});for(var To=0,Lh=Gn;To<Lh.length;To+=1){var jc=Lh[To],Uo=jc.state;if(sr.activeTexture.set(kr.TEXTURE0),Uo.atlasTexture.bind(Uo.atlasInterpolation,kr.CLAMP_TO_EDGE),Uo.atlasTextureIcon&&(sr.activeTexture.set(kr.TEXTURE1),Uo.atlasTextureIcon&&Uo.atlasTextureIcon.bind(Uo.atlasInterpolationIcon,kr.CLAMP_TO_EDGE)),Uo.isSDF){var ec=Uo.uniformValues;Uo.hasHalo&&(ec.u_is_halo=1,zl(Uo.buffers,jc.segments,he,fe,Uo.program,Yn,qt,lr,ec)),ec.u_is_halo=0}zl(Uo.buffers,jc.segments,he,fe,Uo.program,Yn,qt,lr,Uo.uniformValues)}}function zl(fe,K,he,re,de,ke,je,ot,Lt){var Ht=re.context,qt=Ht.gl;de.draw(Ht,qt.TRIANGLES,ke,je,ot,Dt.disabled,Lt,he.id,fe.layoutVertexBuffer,fe.indexBuffer,K,he.paint,re.transform.zoom,fe.programConfigurations.get(he.id),fe.dynamicLayoutVertexBuffer,fe.opacityVertexBuffer)}function Yf(fe,K,he,re){if(fe.renderPass==="translucent"){var de=he.paint.get("circle-opacity"),ke=he.paint.get("circle-stroke-width"),je=he.paint.get("circle-stroke-opacity"),ot=he.layout.get("circle-sort-key").constantOr(1)!==void 0;if(!(de.constantOr(1)===0&&(ke.constantOr(1)===0||je.constantOr(1)===0))){for(var Lt=fe.context,Ht=Lt.gl,qt=fe.depthModeForSublayer(0,wr.ReadOnly),lr=Wt.disabled,sr=fe.colorModeForRenderPass(),kr=[],Xr=0;Xr<re.length;Xr++){var Yr=re[Xr],Hr=K.getTile(Yr),Kr=Hr.getBucket(he);if(!!Kr){var fn=Kr.programConfigurations.get(he.id),kn=fe.useProgram("circle",fn),Bn=Kr.layoutVertexBuffer,Yn=Kr.indexBuffer,Xn=Bc(fe,Yr,Hr,he),Gn={programConfiguration:fn,program:kn,layoutVertexBuffer:Bn,indexBuffer:Yn,uniformValues:Xn};if(ot)for(var jn=Kr.segments.get(),ta=0,la=jn;ta<la.length;ta+=1){var xa=la[ta];kr.push({segments:new a.SegmentVector([xa]),sortKey:xa.sortKey,state:Gn})}else kr.push({segments:Kr.segments,sortKey:0,state:Gn})}}ot&&kr.sort(function(Ja,yi){return Ja.sortKey-yi.sortKey});for(var va=0,ka=kr;va<ka.length;va+=1){var Qa=ka[va],Wa=Qa.state,Ma=Wa.programConfiguration,Ya=Wa.program,Va=Wa.layoutVertexBuffer,oi=Wa.indexBuffer,ei=Wa.uniformValues,Mi=Qa.segments;Ya.draw(Lt,Ht.TRIANGLES,qt,lr,sr,Dt.disabled,ei,he.id,Va,oi,Mi,he.paint,fe.transform.zoom,Ma)}}}}function Xs(fe,K,he,re){if(he.paint.get("heatmap-opacity")!==0)if(fe.renderPass==="offscreen"){var de=fe.context,ke=de.gl,je=Wt.disabled,ot=new at([ke.ONE,ke.ONE],a.Color.transparent,[!0,!0,!0,!0]);Gc(de,fe,he),de.clear({color:a.Color.transparent});for(var Lt=0;Lt<re.length;Lt++){var Ht=re[Lt];if(!K.hasRenderableParent(Ht)){var qt=K.getTile(Ht),lr=qt.getBucket(he);if(!!lr){var sr=lr.programConfigurations.get(he.id),kr=fe.useProgram("heatmap",sr),Xr=fe.transform,Yr=Xr.zoom;kr.draw(de,ke.TRIANGLES,wr.disabled,je,ot,Dt.disabled,Es(Ht.posMatrix,qt,Yr,he.paint.get("heatmap-intensity")),he.id,lr.layoutVertexBuffer,lr.indexBuffer,lr.segments,he.paint,fe.transform.zoom,sr)}}}de.viewport.set([0,0,fe.width,fe.height])}else fe.renderPass==="translucent"&&(fe.context.setColorMode(fe.colorModeForRenderPass()),su(fe,he))}function Gc(fe,K,he){var re=fe.gl;fe.activeTexture.set(re.TEXTURE1),fe.viewport.set([0,0,K.width/4,K.height/4]);var de=he.heatmapFbo;if(de)re.bindTexture(re.TEXTURE_2D,de.colorAttachment.get()),fe.bindFramebuffer.set(de.framebuffer);else{var ke=re.createTexture();re.bindTexture(re.TEXTURE_2D,ke),re.texParameteri(re.TEXTURE_2D,re.TEXTURE_WRAP_S,re.CLAMP_TO_EDGE),re.texParameteri(re.TEXTURE_2D,re.TEXTURE_WRAP_T,re.CLAMP_TO_EDGE),re.texParameteri(re.TEXTURE_2D,re.TEXTURE_MIN_FILTER,re.LINEAR),re.texParameteri(re.TEXTURE_2D,re.TEXTURE_MAG_FILTER,re.LINEAR),de=he.heatmapFbo=fe.createFramebuffer(K.width/4,K.height/4,!1),Ro(fe,K,ke,de)}}function Ro(fe,K,he,re){var de=fe.gl,ke=fe.extRenderToTextureHalfFloat?fe.extTextureHalfFloat.HALF_FLOAT_OES:de.UNSIGNED_BYTE;de.texImage2D(de.TEXTURE_2D,0,de.RGBA,K.width/4,K.height/4,0,de.RGBA,ke,null),re.colorAttachment.set(he)}function su(fe,K){var he=fe.context,re=he.gl,de=K.heatmapFbo;if(!!de){he.activeTexture.set(re.TEXTURE0),re.bindTexture(re.TEXTURE_2D,de.colorAttachment.get()),he.activeTexture.set(re.TEXTURE1);var ke=K.colorRampTexture;ke||(ke=K.colorRampTexture=new a.Texture(he,K.colorRamp,re.RGBA)),ke.bind(re.LINEAR,re.CLAMP_TO_EDGE),fe.useProgram("heatmapTexture").draw(he,re.TRIANGLES,wr.disabled,Wt.disabled,fe.colorModeForRenderPass(),Dt.disabled,Vc(fe,K,0,1),K.id,fe.viewportBuffer,fe.quadTriangleIndexBuffer,fe.viewportSegments,K.paint,fe.transform.zoom)}}function Nu(fe,K,he,re){if(fe.renderPass==="translucent"){var de=he.paint.get("line-opacity"),ke=he.paint.get("line-width");if(!(de.constantOr(1)===0||ke.constantOr(1)===0))for(var je=fe.depthModeForSublayer(0,wr.ReadOnly),ot=fe.colorModeForRenderPass(),Lt=he.paint.get("line-dasharray"),Ht=he.paint.get("line-pattern"),qt=Ht.constantOr(1),lr=he.paint.get("line-gradient"),sr=he.getCrossfadeParameters(),kr=qt?"linePattern":Lt?"lineSDF":lr?"lineGradient":"line",Xr=fe.context,Yr=Xr.gl,Hr=!0,Kr=0,fn=re;Kr<fn.length;Kr+=1){var kn=fn[Kr],Bn=K.getTile(kn);if(!(qt&&!Bn.patternsLoaded())){var Yn=Bn.getBucket(he);if(!!Yn){var Xn=Yn.programConfigurations.get(he.id),Gn=fe.context.program.get(),jn=fe.useProgram(kr,Xn),ta=Hr||jn.program!==Gn,la=Ht.constantOr(null);if(la&&Bn.imageAtlas){var xa=Bn.imageAtlas,va=xa.patternPositions[la.to.toString()],ka=xa.patternPositions[la.from.toString()];va&&ka&&Xn.setConstantPatternPositions(va,ka)}var Qa=qt?Hf(fe,Bn,he,sr):Lt?Cs(fe,Bn,he,Lt,sr):lr?ol(fe,Bn,he,Yn.lineClipsArray.length):il(fe,Bn,he);if(qt)Xr.activeTexture.set(Yr.TEXTURE0),Bn.imageAtlasTexture.bind(Yr.LINEAR,Yr.CLAMP_TO_EDGE),Xn.updatePaintBuffers(sr);else if(Lt&&(ta||fe.lineAtlas.dirty))Xr.activeTexture.set(Yr.TEXTURE0),fe.lineAtlas.bind(Xr);else if(lr){var Wa=Yn.gradients[he.id],Ma=Wa.texture;if(he.gradientVersion!==Wa.version){var Ya=256;if(he.stepInterpolant){var Va=K.getSource().maxzoom,oi=kn.canonical.z===Va?Math.ceil(1<<fe.transform.maxZoom-kn.canonical.z):1,ei=Yn.maxLineLength/a.EXTENT,Mi=1024,Ja=ei*Mi*oi;Ya=a.clamp(a.nextPowerOfTwo(Ja),256,Xr.maxTextureSize)}Wa.gradient=a.renderColorRamp({expression:he.gradientExpression(),evaluationKey:"lineProgress",resolution:Ya,image:Wa.gradient||void 0,clips:Yn.lineClipsArray}),Wa.texture?Wa.texture.update(Wa.gradient):Wa.texture=new a.Texture(Xr,Wa.gradient,Yr.RGBA),Wa.version=he.gradientVersion,Ma=Wa.texture}Xr.activeTexture.set(Yr.TEXTURE0),Ma.bind(he.stepInterpolant?Yr.NEAREST:Yr.LINEAR,Yr.CLAMP_TO_EDGE)}jn.draw(Xr,Yr.TRIANGLES,je,fe.stencilModeForClipping(kn),ot,Dt.disabled,Qa,he.id,Yn.layoutVertexBuffer,Yn.indexBuffer,Yn.segments,he.paint,fe.transform.zoom,Xn,Yn.layoutVertexBuffer2),Hr=!1}}}}}function Ps(fe,K,he,re){var de=he.paint.get("fill-color"),ke=he.paint.get("fill-opacity");if(ke.constantOr(1)!==0){var je=fe.colorModeForRenderPass(),ot=he.paint.get("fill-pattern"),Lt=fe.opaquePassEnabledForLayer()&&!ot.constantOr(1)&&de.constantOr(a.Color.transparent).a===1&&ke.constantOr(0)===1?"opaque":"translucent";if(fe.renderPass===Lt){var Ht=fe.depthModeForSublayer(1,fe.renderPass==="opaque"?wr.ReadWrite:wr.ReadOnly);Zs(fe,K,he,re,Ht,je,!1)}if(fe.renderPass==="translucent"&&he.paint.get("fill-antialias")){var qt=fe.depthModeForSublayer(he.getPaintProperty("fill-outline-color")?2:0,wr.ReadOnly);Zs(fe,K,he,re,qt,je,!0)}}}function Zs(fe,K,he,re,de,ke,je){var ot=fe.context.gl,Lt=he.paint.get("fill-pattern"),Ht=Lt&&Lt.constantOr(1),qt=he.getCrossfadeParameters(),lr,sr,kr,Xr,Yr;je?(sr=Ht&&!he.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",lr=ot.LINES):(sr=Ht?"fillPattern":"fill",lr=ot.TRIANGLES);for(var Hr=0,Kr=re;Hr<Kr.length;Hr+=1){var fn=Kr[Hr],kn=K.getTile(fn);if(!(Ht&&!kn.patternsLoaded())){var Bn=kn.getBucket(he);if(!!Bn){var Yn=Bn.programConfigurations.get(he.id),Xn=fe.useProgram(sr,Yn);Ht&&(fe.context.activeTexture.set(ot.TEXTURE0),kn.imageAtlasTexture.bind(ot.LINEAR,ot.CLAMP_TO_EDGE),Yn.updatePaintBuffers(qt));var Gn=Lt.constantOr(null);if(Gn&&kn.imageAtlas){var jn=kn.imageAtlas,ta=jn.patternPositions[Gn.to.toString()],la=jn.patternPositions[Gn.from.toString()];ta&&la&&Yn.setConstantPatternPositions(ta,la)}var xa=fe.translatePosMatrix(fn.posMatrix,kn,he.paint.get("fill-translate"),he.paint.get("fill-translate-anchor"));if(!je)Xr=Bn.indexBuffer,Yr=Bn.segments,kr=Ht?Jo(xa,fe,qt,kn):Ss(xa);else{Xr=Bn.indexBuffer2,Yr=Bn.segments2;var va=[ot.drawingBufferWidth,ot.drawingBufferHeight];kr=sr==="fillOutlinePattern"&&Ht?$l(xa,fe,qt,kn,va):No(xa,va)}Xn.draw(fe.context,lr,de,fe.stencilModeForClipping(fn),ke,Dt.disabled,kr,he.id,Bn.layoutVertexBuffer,Xr,Yr,he.paint,fe.transform.zoom,Yn)}}}}function hf(fe,K,he,re){var de=he.paint.get("fill-extrusion-opacity");if(de!==0&&fe.renderPass==="translucent"){var ke=new wr(fe.context.gl.LEQUAL,wr.ReadWrite,fe.depthRangeFor3D);if(de===1&&!he.paint.get("fill-extrusion-pattern").constantOr(1)){var je=fe.colorModeForRenderPass();lu(fe,K,he,re,ke,Wt.disabled,je)}else lu(fe,K,he,re,ke,Wt.disabled,at.disabled),lu(fe,K,he,re,ke,fe.stencilModeFor3D(),fe.colorModeForRenderPass())}}function lu(fe,K,he,re,de,ke,je){for(var ot=fe.context,Lt=ot.gl,Ht=he.paint.get("fill-extrusion-pattern"),qt=Ht.constantOr(1),lr=he.getCrossfadeParameters(),sr=he.paint.get("fill-extrusion-opacity"),kr=0,Xr=re;kr<Xr.length;kr+=1){var Yr=Xr[kr],Hr=K.getTile(Yr),Kr=Hr.getBucket(he);if(!!Kr){var fn=Kr.programConfigurations.get(he.id),kn=fe.useProgram(qt?"fillExtrusionPattern":"fillExtrusion",fn);qt&&(fe.context.activeTexture.set(Lt.TEXTURE0),Hr.imageAtlasTexture.bind(Lt.LINEAR,Lt.CLAMP_TO_EDGE),fn.updatePaintBuffers(lr));var Bn=Ht.constantOr(null);if(Bn&&Hr.imageAtlas){var Yn=Hr.imageAtlas,Xn=Yn.patternPositions[Bn.to.toString()],Gn=Yn.patternPositions[Bn.from.toString()];Xn&&Gn&&fn.setConstantPatternPositions(Xn,Gn)}var jn=fe.translatePosMatrix(Yr.posMatrix,Hr,he.paint.get("fill-extrusion-translate"),he.paint.get("fill-extrusion-translate-anchor")),ta=he.paint.get("fill-extrusion-vertical-gradient"),la=qt?jo(jn,fe,ta,sr,Yr,lr,Hr):Ql(jn,fe,ta,sr);kn.draw(ot,ot.gl.TRIANGLES,de,ke,je,Dt.backCCW,la,he.id,Kr.layoutVertexBuffer,Kr.indexBuffer,Kr.segments,he.paint,fe.transform.zoom,fn)}}}function uu(fe,K,he,re){if(!(fe.renderPass!=="offscreen"&&fe.renderPass!=="translucent")){for(var de=fe.context,ke=fe.depthModeForSublayer(0,wr.ReadOnly),je=fe.colorModeForRenderPass(),ot=fe.renderPass==="translucent"?fe.stencilConfigForOverlap(re):[{},re],Lt=ot[0],Ht=ot[1],qt=0,lr=Ht;qt<lr.length;qt+=1){var sr=lr[qt],kr=K.getTile(sr);kr.needsHillshadePrepare&&fe.renderPass==="offscreen"?Xf(fe,kr,he,ke,Wt.disabled,je):fe.renderPass==="translucent"&&Uu(fe,kr,he,ke,Lt[sr.overscaledZ],je)}de.viewport.set([0,0,fe.width,fe.height])}}function Uu(fe,K,he,re,de,ke){var je=fe.context,ot=je.gl,Lt=K.fbo;if(!!Lt){var Ht=fe.useProgram("hillshade");je.activeTexture.set(ot.TEXTURE0),ot.bindTexture(ot.TEXTURE_2D,Lt.colorAttachment.get());var qt=uf(fe,K,he);Ht.draw(je,ot.TRIANGLES,re,de,ke,Dt.disabled,qt,he.id,fe.rasterBoundsBuffer,fe.quadTriangleIndexBuffer,fe.rasterBoundsSegments)}}function Xf(fe,K,he,re,de,ke){var je=fe.context,ot=je.gl,Lt=K.dem;if(Lt&&Lt.data){var Ht=Lt.dim,qt=Lt.stride,lr=Lt.getPixels();if(je.activeTexture.set(ot.TEXTURE1),je.pixelStoreUnpackPremultiplyAlpha.set(!1),K.demTexture=K.demTexture||fe.getTileTexture(qt),K.demTexture){var sr=K.demTexture;sr.update(lr,{premultiply:!1}),sr.bind(ot.NEAREST,ot.CLAMP_TO_EDGE)}else K.demTexture=new a.Texture(je,lr,ot.RGBA,{premultiply:!1}),K.demTexture.bind(ot.NEAREST,ot.CLAMP_TO_EDGE);je.activeTexture.set(ot.TEXTURE0);var kr=K.fbo;if(!kr){var Xr=new a.Texture(je,{width:Ht,height:Ht,data:null},ot.RGBA);Xr.bind(ot.LINEAR,ot.CLAMP_TO_EDGE),kr=K.fbo=je.createFramebuffer(Ht,Ht,!0),kr.colorAttachment.set(Xr.texture)}je.bindFramebuffer.set(kr.framebuffer),je.viewport.set([0,0,Ht,Ht]),fe.useProgram("hillshadePrepare").draw(je,ot.TRIANGLES,re,de,ke,Dt.disabled,Vf(K.tileID,Lt),he.id,fe.rasterBoundsBuffer,fe.quadTriangleIndexBuffer,fe.rasterBoundsSegments),K.needsHillshadePrepare=!1}}function fu(fe,K,he,re){if(fe.renderPass==="translucent"&&he.paint.get("raster-opacity")!==0&&!!re.length)for(var de=fe.context,ke=de.gl,je=K.getSource(),ot=fe.useProgram("raster"),Lt=fe.colorModeForRenderPass(),Ht=je instanceof q?[{},re]:fe.stencilConfigForOverlap(re),qt=Ht[0],lr=Ht[1],sr=lr[lr.length-1].overscaledZ,kr=!fe.options.moving,Xr=0,Yr=lr;Xr<Yr.length;Xr+=1){var Hr=Yr[Xr],Kr=fe.depthModeForSublayer(Hr.overscaledZ-sr,he.paint.get("raster-opacity")===1?wr.ReadWrite:wr.ReadOnly,ke.LESS),fn=K.getTile(Hr),kn=fe.transform.calculatePosMatrix(Hr.toUnwrapped(),kr);fn.registerFadeDuration(he.paint.get("raster-fade-duration"));var Bn=K.findLoadedParent(Hr,0),Yn=vf(fn,Bn,K,he,fe.transform),Xn=void 0,Gn=void 0,jn=he.paint.get("raster-resampling")==="nearest"?ke.NEAREST:ke.LINEAR;de.activeTexture.set(ke.TEXTURE0),fn.texture.bind(jn,ke.CLAMP_TO_EDGE,ke.LINEAR_MIPMAP_NEAREST),de.activeTexture.set(ke.TEXTURE1),Bn?(Bn.texture.bind(jn,ke.CLAMP_TO_EDGE,ke.LINEAR_MIPMAP_NEAREST),Xn=Math.pow(2,Bn.tileID.overscaledZ-fn.tileID.overscaledZ),Gn=[fn.tileID.canonical.x*Xn%1,fn.tileID.canonical.y*Xn%1]):fn.texture.bind(jn,ke.CLAMP_TO_EDGE,ke.LINEAR_MIPMAP_NEAREST);var ta=eu(kn,Gn||[0,0],Xn||1,Yn,he);je instanceof q?ot.draw(de,ke.TRIANGLES,Kr,Wt.disabled,Lt,Dt.disabled,ta,he.id,je.boundsBuffer,fe.quadTriangleIndexBuffer,je.boundsSegments):ot.draw(de,ke.TRIANGLES,Kr,qt[Hr.overscaledZ],Lt,Dt.disabled,ta,he.id,fe.rasterBoundsBuffer,fe.quadTriangleIndexBuffer,fe.rasterBoundsSegments)}}function vf(fe,K,he,re,de){var ke=re.paint.get("raster-fade-duration");if(ke>0){var je=a.browser.now(),ot=(je-fe.timeAdded)/ke,Lt=K?(je-K.timeAdded)/ke:-1,Ht=he.getSource(),qt=de.coveringZoomLevel({tileSize:Ht.tileSize,roundZoom:Ht.roundZoom}),lr=!K||Math.abs(K.tileID.overscaledZ-qt)>Math.abs(fe.tileID.overscaledZ-qt),sr=lr&&fe.refreshedUponExpiration?1:a.clamp(lr?ot:1-Lt,0,1);return fe.refreshedUponExpiration&&ot>=1&&(fe.refreshedUponExpiration=!1),K?{opacity:1,mix:1-sr}:{opacity:sr,mix:0}}else return{opacity:1,mix:0}}function ll(fe,K,he){var re=he.paint.get("background-color"),de=he.paint.get("background-opacity");if(de!==0){var ke=fe.context,je=ke.gl,ot=fe.transform,Lt=ot.tileSize,Ht=he.paint.get("background-pattern");if(!fe.isPatternMissing(Ht)){var qt=!Ht&&re.a===1&&de===1&&fe.opaquePassEnabledForLayer()?"opaque":"translucent";if(fe.renderPass===qt){var lr=Wt.disabled,sr=fe.depthModeForSublayer(0,qt==="opaque"?wr.ReadWrite:wr.ReadOnly),kr=fe.colorModeForRenderPass(),Xr=fe.useProgram(Ht?"backgroundPattern":"background"),Yr=ot.coveringTiles({tileSize:Lt});Ht&&(ke.activeTexture.set(je.TEXTURE0),fe.imageManager.bind(fe.context));for(var Hr=he.getCrossfadeParameters(),Kr=0,fn=Yr;Kr<fn.length;Kr+=1){var kn=fn[Kr],Bn=fe.transform.calculatePosMatrix(kn.toUnwrapped()),Yn=Ht?au(Bn,de,fe,Ht,{tileID:kn,tileSize:Lt},Hr):Ws(Bn,de,re);Xr.draw(ke,je.TRIANGLES,sr,lr,kr,Dt.disabled,Yn,he.id,fe.tileExtentBuffer,fe.quadTriangleIndexBuffer,fe.tileExtentSegments)}}}}}var df=new a.Color(1,0,0,1),cu=new a.Color(0,1,0,1),Zf=new a.Color(0,0,1,1),Ke=new a.Color(1,0,1,1),nt=new a.Color(0,1,1,1);function gt(fe){var K=fe.transform.padding,he=3;zt(fe,fe.transform.height-(K.top||0),he,df),zt(fe,K.bottom||0,he,cu),_t(fe,K.left||0,he,Zf),_t(fe,fe.transform.width-(K.right||0),he,Ke);var re=fe.transform.centerPoint;wt(fe,re.x,fe.transform.height-re.y,nt)}function wt(fe,K,he,re){var de=20,ke=2;Ut(fe,K-ke/2,he-de/2,ke,de,re),Ut(fe,K-de/2,he-ke/2,de,ke,re)}function zt(fe,K,he,re){Ut(fe,0,K+he/2,fe.transform.width,he,re)}function _t(fe,K,he,re){Ut(fe,K-he/2,0,he,fe.transform.height,re)}function Ut(fe,K,he,re,de,ke){var je=fe.context,ot=je.gl;ot.enable(ot.SCISSOR_TEST),ot.scissor(K*a.browser.devicePixelRatio,he*a.browser.devicePixelRatio,re*a.browser.devicePixelRatio,de*a.browser.devicePixelRatio),je.clear({color:ke}),ot.disable(ot.SCISSOR_TEST)}function pr(fe,K,he){for(var re=0;re<he.length;re++)xr(fe,K,he[re])}function xr(fe,K,he){var re=fe.context,de=re.gl,ke=he.posMatrix,je=fe.useProgram("debug"),ot=wr.disabled,Lt=Wt.disabled,Ht=fe.colorModeForRenderPass(),qt="$debug";re.activeTexture.set(de.TEXTURE0),fe.emptyTexture.bind(de.LINEAR,de.CLAMP_TO_EDGE),je.draw(re,de.LINE_STRIP,ot,Lt,Ht,Dt.disabled,qi(ke,a.Color.red),qt,fe.debugBuffer,fe.tileBorderIndexBuffer,fe.debugSegments);var lr=K.getTileByID(he.key).latestRawTileData,sr=lr&&lr.byteLength||0,kr=Math.floor(sr/1024),Xr=K.getTile(he).tileSize,Yr=512/Math.min(Xr,512)*(he.overscaledZ/fe.transform.zoom)*.5,Hr=he.canonical.toString();he.overscaledZ!==he.canonical.z&&(Hr+=" => "+he.overscaledZ);var Kr=Hr+" "+kr+"kb";or(fe,Kr),je.draw(re,de.TRIANGLES,ot,Lt,at.alphaBlended,Dt.disabled,qi(ke,a.Color.transparent,Yr),qt,fe.debugBuffer,fe.quadTriangleIndexBuffer,fe.debugSegments)}function or(fe,K){fe.initDebugOverlayCanvas();var he=fe.debugOverlayCanvas,re=fe.context.gl,de=fe.debugOverlayCanvas.getContext("2d");de.clearRect(0,0,he.width,he.height),de.shadowColor="white",de.shadowBlur=2,de.lineWidth=1.5,de.strokeStyle="white",de.textBaseline="top",de.font="bold "+36+"px Open Sans, sans-serif",de.fillText(K,5,5),de.strokeText(K,5,5),fe.debugOverlayTexture.update(he),fe.debugOverlayTexture.bind(re.LINEAR,re.CLAMP_TO_EDGE)}function Mr(fe,K,he){var re=fe.context,de=he.implementation;if(fe.renderPass==="offscreen"){var ke=de.prerender;ke&&(fe.setCustomLayerDefaults(),re.setColorMode(fe.colorModeForRenderPass()),ke.call(de,re.gl,fe.transform.customLayerMatrix()),re.setDirty(),fe.setBaseState())}else if(fe.renderPass==="translucent"){fe.setCustomLayerDefaults(),re.setColorMode(fe.colorModeForRenderPass()),re.setStencilMode(Wt.disabled);var je=de.renderingMode==="3d"?new wr(fe.context.gl.LEQUAL,wr.ReadWrite,fe.depthRangeFor3D):fe.depthModeForSublayer(0,wr.ReadOnly);re.setDepthMode(je),de.render(re.gl,fe.transform.customLayerMatrix()),re.setDirty(),fe.setBaseState(),re.bindFramebuffer.set(null)}}var _r={symbol:Bu,circle:Yf,heatmap:Xs,line:Nu,fill:Ps,"fill-extrusion":hf,hillshade:uu,raster:fu,background:ll,debug:pr,custom:Mr},Br=function(K,he){this.context=new It(K),this.transform=he,this._tileTextures={},this.setup(),this.numSublayers=Vt.maxUnderzooming+Vt.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new oa,this.gpuTimers={}};Br.prototype.resize=function(K,he){if(this.width=K*a.browser.devicePixelRatio,this.height=he*a.browser.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(var re=0,de=this.style._order;re<de.length;re+=1){var ke=de[re];this.style._layers[ke].resize()}},Br.prototype.setup=function(){var K=this.context,he=new a.StructArrayLayout2i4;he.emplaceBack(0,0),he.emplaceBack(a.EXTENT,0),he.emplaceBack(0,a.EXTENT),he.emplaceBack(a.EXTENT,a.EXTENT),this.tileExtentBuffer=K.createVertexBuffer(he,Co.members),this.tileExtentSegments=a.SegmentVector.simpleSegment(0,0,4,2);var re=new a.StructArrayLayout2i4;re.emplaceBack(0,0),re.emplaceBack(a.EXTENT,0),re.emplaceBack(0,a.EXTENT),re.emplaceBack(a.EXTENT,a.EXTENT),this.debugBuffer=K.createVertexBuffer(re,Co.members),this.debugSegments=a.SegmentVector.simpleSegment(0,0,4,5);var de=new a.StructArrayLayout4i8;de.emplaceBack(0,0,0,0),de.emplaceBack(a.EXTENT,0,a.EXTENT,0),de.emplaceBack(0,a.EXTENT,0,a.EXTENT),de.emplaceBack(a.EXTENT,a.EXTENT,a.EXTENT,a.EXTENT),this.rasterBoundsBuffer=K.createVertexBuffer(de,W.members),this.rasterBoundsSegments=a.SegmentVector.simpleSegment(0,0,4,2);var ke=new a.StructArrayLayout2i4;ke.emplaceBack(0,0),ke.emplaceBack(1,0),ke.emplaceBack(0,1),ke.emplaceBack(1,1),this.viewportBuffer=K.createVertexBuffer(ke,Co.members),this.viewportSegments=a.SegmentVector.simpleSegment(0,0,4,2);var je=new a.StructArrayLayout1ui2;je.emplaceBack(0),je.emplaceBack(1),je.emplaceBack(3),je.emplaceBack(2),je.emplaceBack(0),this.tileBorderIndexBuffer=K.createIndexBuffer(je);var ot=new a.StructArrayLayout3ui6;ot.emplaceBack(0,1,2),ot.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=K.createIndexBuffer(ot),this.emptyTexture=new a.Texture(K,{width:1,height:1,data:new Uint8Array([0,0,0,0])},K.gl.RGBA);var Lt=this.context.gl;this.stencilClearMode=new Wt({func:Lt.ALWAYS,mask:0},0,255,Lt.ZERO,Lt.ZERO,Lt.ZERO)},Br.prototype.clearStencil=function(){var K=this.context,he=K.gl;this.nextStencilID=1,this.currentStencilSource=void 0;var re=a.create();a.ortho(re,0,this.width,this.height,0,0,1),a.scale(re,re,[he.drawingBufferWidth,he.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(K,he.TRIANGLES,wr.disabled,this.stencilClearMode,at.disabled,Dt.disabled,Rl(re),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)},Br.prototype._renderTileClippingMasks=function(K,he){if(!(this.currentStencilSource===K.source||!K.isTileClipped()||!he||!he.length)){this.currentStencilSource=K.source;var re=this.context,de=re.gl;this.nextStencilID+he.length>256&&this.clearStencil(),re.setColorMode(at.disabled),re.setDepthMode(wr.disabled);var ke=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(var je=0,ot=he;je<ot.length;je+=1){var Lt=ot[je],Ht=this._tileClippingMaskIDs[Lt.key]=this.nextStencilID++;ke.draw(re,de.TRIANGLES,wr.disabled,new Wt({func:de.ALWAYS,mask:0},Ht,255,de.KEEP,de.KEEP,de.REPLACE),at.disabled,Dt.disabled,Rl(Lt.posMatrix),"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}},Br.prototype.stencilModeFor3D=function(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();var K=this.nextStencilID++,he=this.context.gl;return new Wt({func:he.NOTEQUAL,mask:255},K,255,he.KEEP,he.KEEP,he.REPLACE)},Br.prototype.stencilModeForClipping=function(K){var he=this.context.gl;return new Wt({func:he.EQUAL,mask:255},this._tileClippingMaskIDs[K.key],0,he.KEEP,he.KEEP,he.REPLACE)},Br.prototype.stencilConfigForOverlap=function(K){var he,re=this.context.gl,de=K.sort(function(Ht,qt){return qt.overscaledZ-Ht.overscaledZ}),ke=de[de.length-1].overscaledZ,je=de[0].overscaledZ-ke+1;if(je>1){this.currentStencilSource=void 0,this.nextStencilID+je>256&&this.clearStencil();for(var ot={},Lt=0;Lt<je;Lt++)ot[Lt+ke]=new Wt({func:re.GEQUAL,mask:255},Lt+this.nextStencilID,255,re.KEEP,re.KEEP,re.REPLACE);return this.nextStencilID+=je,[ot,de]}return[(he={},he[ke]=Wt.disabled,he),de]},Br.prototype.colorModeForRenderPass=function(){var K=this.context.gl;if(this._showOverdrawInspector){var he=8,re=1/he;return new at([K.CONSTANT_COLOR,K.ONE],new a.Color(re,re,re,0),[!0,!0,!0,!0])}else return this.renderPass==="opaque"?at.unblended:at.alphaBlended},Br.prototype.depthModeForSublayer=function(K,he,re){if(!this.opaquePassEnabledForLayer())return wr.disabled;var de=1-((1+this.currentLayer)*this.numSublayers+K)*this.depthEpsilon;return new wr(re||this.context.gl.LEQUAL,he,[de,de])},Br.prototype.opaquePassEnabledForLayer=function(){return this.currentLayer<this.opaquePassCutoff},Br.prototype.render=function(K,he){var re=this;this.style=K,this.options=he,this.lineAtlas=K.lineAtlas,this.imageManager=K.imageManager,this.glyphManager=K.glyphManager,this.symbolFadeChange=K.placement.symbolFadeChange(a.browser.now()),this.imageManager.beginFrame();var de=this.style._order,ke=this.style.sourceCaches;for(var je in ke){var ot=ke[je];ot.used&&ot.prepare(this.context)}var Lt={},Ht={},qt={};for(var lr in ke){var sr=ke[lr];Lt[lr]=sr.getVisibleCoordinates(),Ht[lr]=Lt[lr].slice().reverse(),qt[lr]=sr.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(var kr=0;kr<de.length;kr++){var Xr=de[kr];if(this.style._layers[Xr].is3D()){this.opaquePassCutoff=kr;break}}this.renderPass="offscreen";for(var Yr=0,Hr=de;Yr<Hr.length;Yr+=1){var Kr=Hr[Yr],fn=this.style._layers[Kr];if(!(!fn.hasOffscreenPass()||fn.isHidden(this.transform.zoom))){var kn=Ht[fn.source];fn.type!=="custom"&&!kn.length||this.renderLayer(this,ke[fn.source],fn,kn)}}for(this.context.bindFramebuffer.set(null),this.context.clear({color:he.showOverdrawInspector?a.Color.black:a.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=he.showOverdrawInspector,this.depthRangeFor3D=[0,1-(K._order.length+2)*this.numSublayers*this.depthEpsilon],this.renderPass="opaque",this.currentLayer=de.length-1;this.currentLayer>=0;this.currentLayer--){var Bn=this.style._layers[de[this.currentLayer]],Yn=ke[Bn.source],Xn=Lt[Bn.source];this._renderTileClippingMasks(Bn,Xn),this.renderLayer(this,Yn,Bn,Xn)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<de.length;this.currentLayer++){var Gn=this.style._layers[de[this.currentLayer]],jn=ke[Gn.source],ta=(Gn.type==="symbol"?qt:Ht)[Gn.source];this._renderTileClippingMasks(Gn,Lt[Gn.source]),this.renderLayer(this,jn,Gn,ta)}if(this.options.showTileBoundaries){var la,xa,va=a.values(this.style._layers);va.forEach(function(ka){ka.source&&!ka.isHidden(re.transform.zoom)&&(ka.source!==(xa&&xa.id)&&(xa=re.style.sourceCaches[ka.source]),(!la||la.getSource().maxzoom<xa.getSource().maxzoom)&&(la=xa))}),la&&_r.debug(this,la,la.getVisibleCoordinates())}this.options.showPadding&&gt(this),this.context.setDefault()},Br.prototype.renderLayer=function(K,he,re,de){re.isHidden(this.transform.zoom)||re.type!=="background"&&re.type!=="custom"&&!de.length||(this.id=re.id,this.gpuTimingStart(re),_r[re.type](K,he,re,de,this.style.placement.variableOffsets),this.gpuTimingEnd())},Br.prototype.gpuTimingStart=function(K){if(!!this.options.gpuTiming){var he=this.context.extTimerQuery,re=this.gpuTimers[K.id];re||(re=this.gpuTimers[K.id]={calls:0,cpuTime:0,query:he.createQueryEXT()}),re.calls++,he.beginQueryEXT(he.TIME_ELAPSED_EXT,re.query)}},Br.prototype.gpuTimingEnd=function(){if(!!this.options.gpuTiming){var K=this.context.extTimerQuery;K.endQueryEXT(K.TIME_ELAPSED_EXT)}},Br.prototype.collectGpuTimers=function(){var K=this.gpuTimers;return this.gpuTimers={},K},Br.prototype.queryGpuTimers=function(K){var he={};for(var re in K){var de=K[re],ke=this.context.extTimerQuery,je=ke.getQueryObjectEXT(de.query,ke.QUERY_RESULT_EXT)/(1e3*1e3);ke.deleteQueryEXT(de.query),he[re]=je}return he},Br.prototype.translatePosMatrix=function(K,he,re,de,ke){if(!re[0]&&!re[1])return K;var je=ke?de==="map"?this.transform.angle:0:de==="viewport"?-this.transform.angle:0;if(je){var ot=Math.sin(je),Lt=Math.cos(je);re=[re[0]*Lt-re[1]*ot,re[0]*ot+re[1]*Lt]}var Ht=[ke?re[0]:dn(he,re[0],this.transform.zoom),ke?re[1]:dn(he,re[1],this.transform.zoom),0],qt=new Float32Array(16);return a.translate(qt,K,Ht),qt},Br.prototype.saveTileTexture=function(K){var he=this._tileTextures[K.size[0]];he?he.push(K):this._tileTextures[K.size[0]]=[K]},Br.prototype.getTileTexture=function(K){var he=this._tileTextures[K];return he&&he.length>0?he.pop():null},Br.prototype.isPatternMissing=function(K){if(!K)return!1;if(!K.from||!K.to)return!0;var he=this.imageManager.getPattern(K.from.toString()),re=this.imageManager.getPattern(K.to.toString());return!he||!re},Br.prototype.useProgram=function(K,he){this.cache=this.cache||{};var re=""+K+(he?he.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"");return this.cache[re]||(this.cache[re]=new sf(this.context,K,Ff[K],he,Ys[K],this._showOverdrawInspector)),this.cache[re]},Br.prototype.setCustomLayerDefaults=function(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()},Br.prototype.setBaseState=function(){var K=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(K.FUNC_ADD)},Br.prototype.initDebugOverlayCanvas=function(){if(this.debugOverlayCanvas==null){this.debugOverlayCanvas=a.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512;var K=this.context.gl;this.debugOverlayTexture=new a.Texture(this.context,this.debugOverlayCanvas,K.RGBA)}},Br.prototype.destroy=function(){this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy()};var tn=function(K,he){this.points=K,this.planes=he};tn.fromInvProjectionMatrix=function(K,he,re){var de=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]],ke=Math.pow(2,re),je=de.map(function(Ht){return a.transformMat4([],Ht,K)}).map(function(Ht){return a.scale$1([],Ht,1/Ht[3]/he*ke)}),ot=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]],Lt=ot.map(function(Ht){var qt=a.sub([],je[Ht[0]],je[Ht[1]]),lr=a.sub([],je[Ht[2]],je[Ht[1]]),sr=a.normalize([],a.cross([],qt,lr)),kr=-a.dot(sr,je[Ht[1]]);return sr.concat(kr)});return new tn(je,Lt)};var mn=function(K,he){this.min=K,this.max=he,this.center=a.scale$2([],a.add([],this.min,this.max),.5)};mn.prototype.quadrant=function(K){for(var he=[K%2===0,K<2],re=a.clone$2(this.min),de=a.clone$2(this.max),ke=0;ke<he.length;ke++)re[ke]=he[ke]?this.min[ke]:this.center[ke],de[ke]=he[ke]?this.center[ke]:this.max[ke];return de[2]=this.max[2],new mn(re,de)},mn.prototype.distanceX=function(K){var he=Math.max(Math.min(this.max[0],K[0]),this.min[0]);return he-K[0]},mn.prototype.distanceY=function(K){var he=Math.max(Math.min(this.max[1],K[1]),this.min[1]);return he-K[1]},mn.prototype.intersects=function(K){for(var he=[[this.min[0],this.min[1],0,1],[this.max[0],this.min[1],0,1],[this.max[0],this.max[1],0,1],[this.min[0],this.max[1],0,1]],re=!0,de=0;de<K.planes.length;de++){for(var ke=K.planes[de],je=0,ot=0;ot<he.length;ot++)je+=a.dot$1(ke,he[ot])>=0;if(je===0)return 0;je!==he.length&&(re=!1)}if(re)return 2;for(var Lt=0;Lt<3;Lt++){for(var Ht=Number.MAX_VALUE,qt=-Number.MAX_VALUE,lr=0;lr<K.points.length;lr++){var sr=K.points[lr][Lt]-this.min[Lt];Ht=Math.min(Ht,sr),qt=Math.max(qt,sr)}if(qt<0||Ht>this.max[Lt]-this.min[Lt])return 0}return 1};var Dn=function(K,he,re,de){if(K===void 0&&(K=0),he===void 0&&(he=0),re===void 0&&(re=0),de===void 0&&(de=0),isNaN(K)||K<0||isNaN(he)||he<0||isNaN(re)||re<0||isNaN(de)||de<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=K,this.bottom=he,this.left=re,this.right=de};Dn.prototype.interpolate=function(K,he,re){return he.top!=null&&K.top!=null&&(this.top=a.number(K.top,he.top,re)),he.bottom!=null&&K.bottom!=null&&(this.bottom=a.number(K.bottom,he.bottom,re)),he.left!=null&&K.left!=null&&(this.left=a.number(K.left,he.left,re)),he.right!=null&&K.right!=null&&(this.right=a.number(K.right,he.right,re)),this},Dn.prototype.getCenter=function(K,he){var re=a.clamp((this.left+K-this.right)/2,0,K),de=a.clamp((this.top+he-this.bottom)/2,0,he);return new a.Point(re,de)},Dn.prototype.equals=function(K){return this.top===K.top&&this.bottom===K.bottom&&this.left===K.left&&this.right===K.right},Dn.prototype.clone=function(){return new Dn(this.top,this.bottom,this.left,this.right)},Dn.prototype.toJSON=function(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}};var In=function(K,he,re,de,ke){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=ke===void 0?!0:ke,this._minZoom=K||0,this._maxZoom=he||22,this._minPitch=re==null?0:re,this._maxPitch=de==null?60:de,this.setMaxBounds(),this.width=0,this.height=0,this._center=new a.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new Dn,this._posMatrixCache={},this._alignedPosMatrixCache={}},Zn={minZoom:{configurable:!0},maxZoom:{configurable:!0},minPitch:{configurable:!0},maxPitch:{configurable:!0},renderWorldCopies:{configurable:!0},worldSize:{configurable:!0},centerOffset:{configurable:!0},size:{configurable:!0},bearing:{configurable:!0},pitch:{configurable:!0},fov:{configurable:!0},zoom:{configurable:!0},center:{configurable:!0},padding:{configurable:!0},centerPoint:{configurable:!0},unmodified:{configurable:!0},point:{configurable:!0}};In.prototype.clone=function(){var K=new In(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return K.tileSize=this.tileSize,K.latRange=this.latRange,K.width=this.width,K.height=this.height,K._center=this._center,K.zoom=this.zoom,K.angle=this.angle,K._fov=this._fov,K._pitch=this._pitch,K._unmodified=this._unmodified,K._edgeInsets=this._edgeInsets.clone(),K._calcMatrices(),K},Zn.minZoom.get=function(){return this._minZoom},Zn.minZoom.set=function(fe){this._minZoom!==fe&&(this._minZoom=fe,this.zoom=Math.max(this.zoom,fe))},Zn.maxZoom.get=function(){return this._maxZoom},Zn.maxZoom.set=function(fe){this._maxZoom!==fe&&(this._maxZoom=fe,this.zoom=Math.min(this.zoom,fe))},Zn.minPitch.get=function(){return this._minPitch},Zn.minPitch.set=function(fe){this._minPitch!==fe&&(this._minPitch=fe,this.pitch=Math.max(this.pitch,fe))},Zn.maxPitch.get=function(){return this._maxPitch},Zn.maxPitch.set=function(fe){this._maxPitch!==fe&&(this._maxPitch=fe,this.pitch=Math.min(this.pitch,fe))},Zn.renderWorldCopies.get=function(){return this._renderWorldCopies},Zn.renderWorldCopies.set=function(fe){fe===void 0?fe=!0:fe===null&&(fe=!1),this._renderWorldCopies=fe},Zn.worldSize.get=function(){return this.tileSize*this.scale},Zn.centerOffset.get=function(){return this.centerPoint._sub(this.size._div(2))},Zn.size.get=function(){return new a.Point(this.width,this.height)},Zn.bearing.get=function(){return-this.angle/Math.PI*180},Zn.bearing.set=function(fe){var K=-a.wrap(fe,-180,180)*Math.PI/180;this.angle!==K&&(this._unmodified=!1,this.angle=K,this._calcMatrices(),this.rotationMatrix=a.create$2(),a.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))},Zn.pitch.get=function(){return this._pitch/Math.PI*180},Zn.pitch.set=function(fe){var K=a.clamp(fe,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==K&&(this._unmodified=!1,this._pitch=K,this._calcMatrices())},Zn.fov.get=function(){return this._fov/Math.PI*180},Zn.fov.set=function(fe){fe=Math.max(.01,Math.min(60,fe)),this._fov!==fe&&(this._unmodified=!1,this._fov=fe/180*Math.PI,this._calcMatrices())},Zn.zoom.get=function(){return this._zoom},Zn.zoom.set=function(fe){var K=Math.min(Math.max(fe,this.minZoom),this.maxZoom);this._zoom!==K&&(this._unmodified=!1,this._zoom=K,this.scale=this.zoomScale(K),this.tileZoom=Math.floor(K),this.zoomFraction=K-this.tileZoom,this._constrain(),this._calcMatrices())},Zn.center.get=function(){return this._center},Zn.center.set=function(fe){fe.lat===this._center.lat&&fe.lng===this._center.lng||(this._unmodified=!1,this._center=fe,this._constrain(),this._calcMatrices())},Zn.padding.get=function(){return this._edgeInsets.toJSON()},Zn.padding.set=function(fe){this._edgeInsets.equals(fe)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,fe,1),this._calcMatrices())},Zn.centerPoint.get=function(){return this._edgeInsets.getCenter(this.width,this.height)},In.prototype.isPaddingEqual=function(K){return this._edgeInsets.equals(K)},In.prototype.interpolatePadding=function(K,he,re){this._unmodified=!1,this._edgeInsets.interpolate(K,he,re),this._constrain(),this._calcMatrices()},In.prototype.coveringZoomLevel=function(K){var he=(K.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/K.tileSize));return Math.max(0,he)},In.prototype.getVisibleUnwrappedCoordinates=function(K){var he=[new a.UnwrappedTileID(0,K)];if(this._renderWorldCopies)for(var re=this.pointCoordinate(new a.Point(0,0)),de=this.pointCoordinate(new a.Point(this.width,0)),ke=this.pointCoordinate(new a.Point(this.width,this.height)),je=this.pointCoordinate(new a.Point(0,this.height)),ot=Math.floor(Math.min(re.x,de.x,ke.x,je.x)),Lt=Math.floor(Math.max(re.x,de.x,ke.x,je.x)),Ht=1,qt=ot-Ht;qt<=Lt+Ht;qt++)qt!==0&&he.push(new a.UnwrappedTileID(qt,K));return he},In.prototype.coveringTiles=function(K){var he=this.coveringZoomLevel(K),re=he;if(K.minzoom!==void 0&&he<K.minzoom)return[];K.maxzoom!==void 0&&he>K.maxzoom&&(he=K.maxzoom);var de=a.MercatorCoordinate.fromLngLat(this.center),ke=Math.pow(2,he),je=[ke*de.x,ke*de.y,0],ot=tn.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,he),Lt=K.minzoom||0;this.pitch<=60&&this._edgeInsets.top<.1&&(Lt=he);var Ht=3,qt=function(va){return{aabb:new mn([va*ke,0,0],[(va+1)*ke,ke,0]),zoom:0,x:0,y:0,wrap:va,fullyVisible:!1}},lr=[],sr=[],kr=he,Xr=K.reparseOverscaled?re:he;if(this._renderWorldCopies)for(var Yr=1;Yr<=3;Yr++)lr.push(qt(-Yr)),lr.push(qt(Yr));for(lr.push(qt(0));lr.length>0;){var Hr=lr.pop(),Kr=Hr.x,fn=Hr.y,kn=Hr.fullyVisible;if(!kn){var Bn=Hr.aabb.intersects(ot);if(Bn===0)continue;kn=Bn===2}var Yn=Hr.aabb.distanceX(je),Xn=Hr.aabb.distanceY(je),Gn=Math.max(Math.abs(Yn),Math.abs(Xn)),jn=Ht+(1<<kr-Hr.zoom)-2;if(Hr.zoom===kr||Gn>jn&&Hr.zoom>=Lt){sr.push({tileID:new a.OverscaledTileID(Hr.zoom===kr?Xr:Hr.zoom,Hr.wrap,Hr.zoom,Kr,fn),distanceSq:a.sqrLen([je[0]-.5-Kr,je[1]-.5-fn])});continue}for(var ta=0;ta<4;ta++){var la=(Kr<<1)+ta%2,xa=(fn<<1)+(ta>>1);lr.push({aabb:Hr.aabb.quadrant(ta),zoom:Hr.zoom+1,x:la,y:xa,wrap:Hr.wrap,fullyVisible:kn})}}return sr.sort(function(va,ka){return va.distanceSq-ka.distanceSq}).map(function(va){return va.tileID})},In.prototype.resize=function(K,he){this.width=K,this.height=he,this.pixelsToGLUnits=[2/K,-2/he],this._constrain(),this._calcMatrices()},Zn.unmodified.get=function(){return this._unmodified},In.prototype.zoomScale=function(K){return Math.pow(2,K)},In.prototype.scaleZoom=function(K){return Math.log(K)/Math.LN2},In.prototype.project=function(K){var he=a.clamp(K.lat,-this.maxValidLatitude,this.maxValidLatitude);return new a.Point(a.mercatorXfromLng(K.lng)*this.worldSize,a.mercatorYfromLat(he)*this.worldSize)},In.prototype.unproject=function(K){return new a.MercatorCoordinate(K.x/this.worldSize,K.y/this.worldSize).toLngLat()},Zn.point.get=function(){return this.project(this.center)},In.prototype.setLocationAtPoint=function(K,he){var re=this.pointCoordinate(he),de=this.pointCoordinate(this.centerPoint),ke=this.locationCoordinate(K),je=new a.MercatorCoordinate(ke.x-(re.x-de.x),ke.y-(re.y-de.y));this.center=this.coordinateLocation(je),this._renderWorldCopies&&(this.center=this.center.wrap())},In.prototype.locationPoint=function(K){return this.coordinatePoint(this.locationCoordinate(K))},In.prototype.pointLocation=function(K){return this.coordinateLocation(this.pointCoordinate(K))},In.prototype.locationCoordinate=function(K){return a.MercatorCoordinate.fromLngLat(K)},In.prototype.coordinateLocation=function(K){return K.toLngLat()},In.prototype.pointCoordinate=function(K){var he=0,re=[K.x,K.y,0,1],de=[K.x,K.y,1,1];a.transformMat4(re,re,this.pixelMatrixInverse),a.transformMat4(de,de,this.pixelMatrixInverse);var ke=re[3],je=de[3],ot=re[0]/ke,Lt=de[0]/je,Ht=re[1]/ke,qt=de[1]/je,lr=re[2]/ke,sr=de[2]/je,kr=lr===sr?0:(he-lr)/(sr-lr);return new a.MercatorCoordinate(a.number(ot,Lt,kr)/this.worldSize,a.number(Ht,qt,kr)/this.worldSize)},In.prototype.coordinatePoint=function(K){var he=[K.x*this.worldSize,K.y*this.worldSize,0,1];return a.transformMat4(he,he,this.pixelMatrix),new a.Point(he[0]/he[3],he[1]/he[3])},In.prototype.getBounds=function(){return new a.LngLatBounds().extend(this.pointLocation(new a.Point(0,0))).extend(this.pointLocation(new a.Point(this.width,0))).extend(this.pointLocation(new a.Point(this.width,this.height))).extend(this.pointLocation(new a.Point(0,this.height)))},In.prototype.getMaxBounds=function(){return!this.latRange||this.latRange.length!==2||!this.lngRange||this.lngRange.length!==2?null:new a.LngLatBounds([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]])},In.prototype.setMaxBounds=function(K){K?(this.lngRange=[K.getWest(),K.getEast()],this.latRange=[K.getSouth(),K.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])},In.prototype.calculatePosMatrix=function(K,he){he===void 0&&(he=!1);var re=K.key,de=he?this._alignedPosMatrixCache:this._posMatrixCache;if(de[re])return de[re];var ke=K.canonical,je=this.worldSize/this.zoomScale(ke.z),ot=ke.x+Math.pow(2,ke.z)*K.wrap,Lt=a.identity(new Float64Array(16));return a.translate(Lt,Lt,[ot*je,ke.y*je,0]),a.scale(Lt,Lt,[je/a.EXTENT,je/a.EXTENT,1]),a.multiply(Lt,he?this.alignedProjMatrix:this.projMatrix,Lt),de[re]=new Float32Array(Lt),de[re]},In.prototype.customLayerMatrix=function(){return this.mercatorMatrix.slice()},In.prototype._constrain=function(){if(!(!this.center||!this.width||!this.height||this._constraining)){this._constraining=!0;var K=-90,he=90,re=-180,de=180,ke,je,ot,Lt,Ht=this.size,qt=this._unmodified;if(this.latRange){var lr=this.latRange;K=a.mercatorYfromLat(lr[1])*this.worldSize,he=a.mercatorYfromLat(lr[0])*this.worldSize,ke=he-K<Ht.y?Ht.y/(he-K):0}if(this.lngRange){var sr=this.lngRange;re=a.mercatorXfromLng(sr[0])*this.worldSize,de=a.mercatorXfromLng(sr[1])*this.worldSize,je=de-re<Ht.x?Ht.x/(de-re):0}var kr=this.point,Xr=Math.max(je||0,ke||0);if(Xr){this.center=this.unproject(new a.Point(je?(de+re)/2:kr.x,ke?(he+K)/2:kr.y)),this.zoom+=this.scaleZoom(Xr),this._unmodified=qt,this._constraining=!1;return}if(this.latRange){var Yr=kr.y,Hr=Ht.y/2;Yr-Hr<K&&(Lt=K+Hr),Yr+Hr>he&&(Lt=he-Hr)}if(this.lngRange){var Kr=kr.x,fn=Ht.x/2;Kr-fn<re&&(ot=re+fn),Kr+fn>de&&(ot=de-fn)}(ot!==void 0||Lt!==void 0)&&(this.center=this.unproject(new a.Point(ot!==void 0?ot:kr.x,Lt!==void 0?Lt:kr.y))),this._unmodified=qt,this._constraining=!1}},In.prototype._calcMatrices=function(){if(!!this.height){var K=this._fov/2,he=this.centerOffset;this.cameraToCenterDistance=.5/Math.tan(K)*this.height;var re=Math.PI/2+this._pitch,de=this._fov*(.5+he.y/this.height),ke=Math.sin(de)*this.cameraToCenterDistance/Math.sin(a.clamp(Math.PI-re-de,.01,Math.PI-.01)),je=this.point,ot=je.x,Lt=je.y,Ht=Math.cos(Math.PI/2-this._pitch)*ke+this.cameraToCenterDistance,qt=Ht*1.01,lr=this.height/50,sr=new Float64Array(16);a.perspective(sr,this._fov,this.width/this.height,lr,qt),sr[8]=-he.x*2/this.width,sr[9]=he.y*2/this.height,a.scale(sr,sr,[1,-1,1]),a.translate(sr,sr,[0,0,-this.cameraToCenterDistance]),a.rotateX(sr,sr,this._pitch),a.rotateZ(sr,sr,this.angle),a.translate(sr,sr,[-ot,-Lt,0]),this.mercatorMatrix=a.scale([],sr,[this.worldSize,this.worldSize,this.worldSize]),a.scale(sr,sr,[1,1,a.mercatorZfromAltitude(1,this.center.lat)*this.worldSize,1]),this.projMatrix=sr,this.invProjMatrix=a.invert([],this.projMatrix);var kr=this.width%2/2,Xr=this.height%2/2,Yr=Math.cos(this.angle),Hr=Math.sin(this.angle),Kr=ot-Math.round(ot)+Yr*kr+Hr*Xr,fn=Lt-Math.round(Lt)+Yr*Xr+Hr*kr,kn=new Float64Array(sr);if(a.translate(kn,kn,[Kr>.5?Kr-1:Kr,fn>.5?fn-1:fn,0]),this.alignedProjMatrix=kn,sr=a.create(),a.scale(sr,sr,[this.width/2,-this.height/2,1]),a.translate(sr,sr,[1,-1,0]),this.labelPlaneMatrix=sr,sr=a.create(),a.scale(sr,sr,[1,-1,1]),a.translate(sr,sr,[-1,-1,0]),a.scale(sr,sr,[2/this.width,2/this.height,1]),this.glCoordMatrix=sr,this.pixelMatrix=a.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),sr=a.invert(new Float64Array(16),this.pixelMatrix),!sr)throw new Error("failed to invert matrix");this.pixelMatrixInverse=sr,this._posMatrixCache={},this._alignedPosMatrixCache={}}},In.prototype.maxPitchScaleFactor=function(){if(!this.pixelMatrixInverse)return 1;var K=this.pointCoordinate(new a.Point(0,0)),he=[K.x*this.worldSize,K.y*this.worldSize,0,1],re=a.transformMat4(he,he,this.pixelMatrix);return re[3]/this.cameraToCenterDistance},In.prototype.getCameraPoint=function(){var K=this._pitch,he=Math.tan(K)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new a.Point(0,he))},In.prototype.getCameraQueryGeometry=function(K){var he=this.getCameraPoint();if(K.length===1)return[K[0],he];for(var re=he.x,de=he.y,ke=he.x,je=he.y,ot=0,Lt=K;ot<Lt.length;ot+=1){var Ht=Lt[ot];re=Math.min(re,Ht.x),de=Math.min(de,Ht.y),ke=Math.max(ke,Ht.x),je=Math.max(je,Ht.y)}return[new a.Point(re,de),new a.Point(ke,de),new a.Point(ke,je),new a.Point(re,je),new a.Point(re,de)]},Object.defineProperties(In.prototype,Zn);function Pa(fe,K){var he=!1,re=null,de=function(){re=null,he&&(fe(),re=setTimeout(de,K),he=!1)};return function(){return he=!0,re||de(),re}}var Ra=function(K){this._hashName=K&&encodeURIComponent(K),a.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=Pa(this._updateHashUnthrottled.bind(this),30*1e3/100)};Ra.prototype.addTo=function(K){return this._map=K,a.window.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this},Ra.prototype.remove=function(){return a.window.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this},Ra.prototype.getHashString=function(K){var he=this._map.getCenter(),re=Math.round(this._map.getZoom()*100)/100,de=Math.ceil((re*Math.LN2+Math.log(512/360/.5))/Math.LN10),ke=Math.pow(10,de),je=Math.round(he.lng*ke)/ke,ot=Math.round(he.lat*ke)/ke,Lt=this._map.getBearing(),Ht=this._map.getPitch(),qt="";if(K?qt+="/"+je+"/"+ot+"/"+re:qt+=re+"/"+ot+"/"+je,(Lt||Ht)&&(qt+="/"+Math.round(Lt*10)/10),Ht&&(qt+="/"+Math.round(Ht)),this._hashName){var lr=this._hashName,sr=!1,kr=a.window.location.hash.slice(1).split("&").map(function(Xr){var Yr=Xr.split("=")[0];return Yr===lr?(sr=!0,Yr+"="+qt):Xr}).filter(function(Xr){return Xr});return sr||kr.push(lr+"="+qt),"#"+kr.join("&")}return"#"+qt},Ra.prototype._getCurrentHash=function(){var K=this,he=a.window.location.hash.replace("#","");if(this._hashName){var re;return he.split("&").map(function(de){return de.split("=")}).forEach(function(de){de[0]===K._hashName&&(re=de)}),(re&&re[1]||"").split("/")}return he.split("/")},Ra.prototype._onHashChange=function(){var K=this._getCurrentHash();if(K.length>=3&&!K.some(function(re){return isNaN(re)})){var he=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(K[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+K[2],+K[1]],zoom:+K[0],bearing:he,pitch:+(K[4]||0)}),!0}return!1},Ra.prototype._updateHashUnthrottled=function(){var K=a.window.location.href.replace(/(#.+)?$/,this.getHashString());try{a.window.history.replaceState(a.window.history.state,null,K)}catch{}};var Da={linearity:.3,easing:a.bezier(0,0,.3,1)},Fa=a.extend({deceleration:2500,maxSpeed:1400},Da),Za=a.extend({deceleration:20,maxSpeed:1400},Da),vi=a.extend({deceleration:1e3,maxSpeed:360},Da),Fi=a.extend({deceleration:1e3,maxSpeed:90},Da),ue=function(K){this._map=K,this.clear()};ue.prototype.clear=function(){this._inertiaBuffer=[]},ue.prototype.record=function(K){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:a.browser.now(),settings:K})},ue.prototype._drainInertiaBuffer=function(){for(var K=this._inertiaBuffer,he=a.browser.now(),re=160;K.length>0&&he-K[0].time>re;)K.shift()},ue.prototype._onMoveEnd=function(K){if(this._drainInertiaBuffer(),!(this._inertiaBuffer.length<2)){for(var he={zoom:0,bearing:0,pitch:0,pan:new a.Point(0,0),pinchAround:void 0,around:void 0},re=0,de=this._inertiaBuffer;re<de.length;re+=1){var ke=de[re],je=ke.settings;he.zoom+=je.zoomDelta||0,he.bearing+=je.bearingDelta||0,he.pitch+=je.pitchDelta||0,je.panDelta&&he.pan._add(je.panDelta),je.around&&(he.around=je.around),je.pinchAround&&(he.pinchAround=je.pinchAround)}var ot=this._inertiaBuffer[this._inertiaBuffer.length-1],Lt=ot.time-this._inertiaBuffer[0].time,Ht={};if(he.pan.mag()){var qt=Oe(he.pan.mag(),Lt,a.extend({},Fa,K||{}));Ht.offset=he.pan.mult(qt.amount/he.pan.mag()),Ht.center=this._map.transform.center,Ce(Ht,qt)}if(he.zoom){var lr=Oe(he.zoom,Lt,Za);Ht.zoom=this._map.transform.zoom+lr.amount,Ce(Ht,lr)}if(he.bearing){var sr=Oe(he.bearing,Lt,vi);Ht.bearing=this._map.transform.bearing+a.clamp(sr.amount,-179,179),Ce(Ht,sr)}if(he.pitch){var kr=Oe(he.pitch,Lt,Fi);Ht.pitch=this._map.transform.pitch+kr.amount,Ce(Ht,kr)}if(Ht.zoom||Ht.bearing){var Xr=he.pinchAround===void 0?he.around:he.pinchAround;Ht.around=Xr?this._map.unproject(Xr):this._map.getCenter()}return this.clear(),a.extend(Ht,{noMoveStart:!0})}};function Ce(fe,K){(!fe.duration||fe.duration<K.duration)&&(fe.duration=K.duration,fe.easing=K.easing)}function Oe(fe,K,he){var re=he.maxSpeed,de=he.linearity,ke=he.deceleration,je=a.clamp(fe*de/(K/1e3),-re,re),ot=Math.abs(je)/(ke*de);return{easing:he.easing,duration:ot*1e3,amount:je*(ot/2)}}var Qe=function(fe){function K(re,de,ke,je){je===void 0&&(je={});var ot=A.mousePos(de.getCanvasContainer(),ke),Lt=de.unproject(ot);fe.call(this,re,a.extend({point:ot,lngLat:Lt,originalEvent:ke},je)),this._defaultPrevented=!1,this.target=de}fe&&(K.__proto__=fe),K.prototype=Object.create(fe&&fe.prototype),K.prototype.constructor=K;var he={defaultPrevented:{configurable:!0}};return K.prototype.preventDefault=function(){this._defaultPrevented=!0},he.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(K.prototype,he),K}(a.Event),rt=function(fe){function K(re,de,ke){var je=re==="touchend"?ke.changedTouches:ke.touches,ot=A.touchPos(de.getCanvasContainer(),je),Lt=ot.map(function(lr){return de.unproject(lr)}),Ht=ot.reduce(function(lr,sr,kr,Xr){return lr.add(sr.div(Xr.length))},new a.Point(0,0)),qt=de.unproject(Ht);fe.call(this,re,{points:ot,point:Ht,lngLats:Lt,lngLat:qt,originalEvent:ke}),this._defaultPrevented=!1}fe&&(K.__proto__=fe),K.prototype=Object.create(fe&&fe.prototype),K.prototype.constructor=K;var he={defaultPrevented:{configurable:!0}};return K.prototype.preventDefault=function(){this._defaultPrevented=!0},he.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(K.prototype,he),K}(a.Event),st=function(fe){function K(re,de,ke){fe.call(this,re,{originalEvent:ke}),this._defaultPrevented=!1}fe&&(K.__proto__=fe),K.prototype=Object.create(fe&&fe.prototype),K.prototype.constructor=K;var he={defaultPrevented:{configurable:!0}};return K.prototype.preventDefault=function(){this._defaultPrevented=!0},he.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(K.prototype,he),K}(a.Event),Pt=function(K,he){this._map=K,this._clickTolerance=he.clickTolerance};Pt.prototype.reset=function(){delete this._mousedownPos},Pt.prototype.wheel=function(K){return this._firePreventable(new st(K.type,this._map,K))},Pt.prototype.mousedown=function(K,he){return this._mousedownPos=he,this._firePreventable(new Qe(K.type,this._map,K))},Pt.prototype.mouseup=function(K){this._map.fire(new Qe(K.type,this._map,K))},Pt.prototype.click=function(K,he){this._mousedownPos&&this._mousedownPos.dist(he)>=this._clickTolerance||this._map.fire(new Qe(K.type,this._map,K))},Pt.prototype.dblclick=function(K){return this._firePreventable(new Qe(K.type,this._map,K))},Pt.prototype.mouseover=function(K){this._map.fire(new Qe(K.type,this._map,K))},Pt.prototype.mouseout=function(K){this._map.fire(new Qe(K.type,this._map,K))},Pt.prototype.touchstart=function(K){return this._firePreventable(new rt(K.type,this._map,K))},Pt.prototype.touchmove=function(K){this._map.fire(new rt(K.type,this._map,K))},Pt.prototype.touchend=function(K){this._map.fire(new rt(K.type,this._map,K))},Pt.prototype.touchcancel=function(K){this._map.fire(new rt(K.type,this._map,K))},Pt.prototype._firePreventable=function(K){if(this._map.fire(K),K.defaultPrevented)return{}},Pt.prototype.isEnabled=function(){return!0},Pt.prototype.isActive=function(){return!1},Pt.prototype.enable=function(){},Pt.prototype.disable=function(){};var Mt=function(K){this._map=K};Mt.prototype.reset=function(){this._delayContextMenu=!1,delete this._contextMenuEvent},Mt.prototype.mousemove=function(K){this._map.fire(new Qe(K.type,this._map,K))},Mt.prototype.mousedown=function(){this._delayContextMenu=!0},Mt.prototype.mouseup=function(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new Qe("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)},Mt.prototype.contextmenu=function(K){this._delayContextMenu?this._contextMenuEvent=K:this._map.fire(new Qe(K.type,this._map,K)),this._map.listens("contextmenu")&&K.preventDefault()},Mt.prototype.isEnabled=function(){return!0},Mt.prototype.isActive=function(){return!1},Mt.prototype.enable=function(){},Mt.prototype.disable=function(){};var Gt=function(K,he){this._map=K,this._el=K.getCanvasContainer(),this._container=K.getContainer(),this._clickTolerance=he.clickTolerance||1};Gt.prototype.isEnabled=function(){return!!this._enabled},Gt.prototype.isActive=function(){return!!this._active},Gt.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},Gt.prototype.disable=function(){!this.isEnabled()||(this._enabled=!1)},Gt.prototype.mousedown=function(K,he){!this.isEnabled()||!(K.shiftKey&&K.button===0)||(A.disableDrag(),this._startPos=this._lastPos=he,this._active=!0)},Gt.prototype.mousemoveWindow=function(K,he){if(!!this._active){var re=he;if(!(this._lastPos.equals(re)||!this._box&&re.dist(this._startPos)<this._clickTolerance)){var de=this._startPos;this._lastPos=re,this._box||(this._box=A.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",K));var ke=Math.min(de.x,re.x),je=Math.max(de.x,re.x),ot=Math.min(de.y,re.y),Lt=Math.max(de.y,re.y);A.setTransform(this._box,"translate("+ke+"px,"+ot+"px)"),this._box.style.width=je-ke+"px",this._box.style.height=Lt-ot+"px"}}},Gt.prototype.mouseupWindow=function(K,he){var re=this;if(!!this._active&&K.button===0){var de=this._startPos,ke=he;if(this.reset(),A.suppressClick(),de.x===ke.x&&de.y===ke.y)this._fireEvent("boxzoomcancel",K);else return this._map.fire(new a.Event("boxzoomend",{originalEvent:K})),{cameraAnimation:function(je){return je.fitScreenCoordinates(de,ke,re._map.getBearing(),{linear:!0})}}}},Gt.prototype.keydown=function(K){!this._active||K.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",K))},Gt.prototype.reset=function(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(A.remove(this._box),this._box=null),A.enableDrag(),delete this._startPos,delete this._lastPos},Gt.prototype._fireEvent=function(K,he){return this._map.fire(new a.Event(K,{originalEvent:he}))};function Yt(fe,K){for(var he={},re=0;re<fe.length;re++)he[fe[re].identifier]=K[re];return he}function nr(fe){for(var K=new a.Point(0,0),he=0,re=fe;he<re.length;he+=1){var de=re[he];K._add(de)}return K.div(fe.length)}var Cr=500,Pr=500,Jr=30,on=function(K){this.reset(),this.numTouches=K.numTouches};on.prototype.reset=function(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1},on.prototype.touchstart=function(K,he,re){(this.centroid||re.length>this.numTouches)&&(this.aborted=!0),!this.aborted&&(this.startTime===void 0&&(this.startTime=K.timeStamp),re.length===this.numTouches&&(this.centroid=nr(he),this.touches=Yt(re,he)))},on.prototype.touchmove=function(K,he,re){if(!(this.aborted||!this.centroid)){var de=Yt(re,he);for(var ke in this.touches){var je=this.touches[ke],ot=de[ke];(!ot||ot.dist(je)>Jr)&&(this.aborted=!0)}}},on.prototype.touchend=function(K,he,re){if((!this.centroid||K.timeStamp-this.startTime>Pr)&&(this.aborted=!0),re.length===0){var de=!this.aborted&&this.centroid;if(this.reset(),de)return de}};var Dr=function(K){this.singleTap=new on(K),this.numTaps=K.numTaps,this.reset()};Dr.prototype.reset=function(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()},Dr.prototype.touchstart=function(K,he,re){this.singleTap.touchstart(K,he,re)},Dr.prototype.touchmove=function(K,he,re){this.singleTap.touchmove(K,he,re)},Dr.prototype.touchend=function(K,he,re){var de=this.singleTap.touchend(K,he,re);if(de){var ke=K.timeStamp-this.lastTime<Cr,je=!this.lastTap||this.lastTap.dist(de)<Jr;if((!ke||!je)&&this.reset(),this.count++,this.lastTime=K.timeStamp,this.lastTap=de,this.count===this.numTaps)return this.reset(),de}};var Nr=function(){this._zoomIn=new Dr({numTouches:1,numTaps:2}),this._zoomOut=new Dr({numTouches:2,numTaps:1}),this.reset()};Nr.prototype.reset=function(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()},Nr.prototype.touchstart=function(K,he,re){this._zoomIn.touchstart(K,he,re),this._zoomOut.touchstart(K,he,re)},Nr.prototype.touchmove=function(K,he,re){this._zoomIn.touchmove(K,he,re),this._zoomOut.touchmove(K,he,re)},Nr.prototype.touchend=function(K,he,re){var de=this,ke=this._zoomIn.touchend(K,he,re),je=this._zoomOut.touchend(K,he,re);if(ke)return this._active=!0,K.preventDefault(),setTimeout(function(){return de.reset()},0),{cameraAnimation:function(ot){return ot.easeTo({duration:300,zoom:ot.getZoom()+1,around:ot.unproject(ke)},{originalEvent:K})}};if(je)return this._active=!0,K.preventDefault(),setTimeout(function(){return de.reset()},0),{cameraAnimation:function(ot){return ot.easeTo({duration:300,zoom:ot.getZoom()-1,around:ot.unproject(je)},{originalEvent:K})}}},Nr.prototype.touchcancel=function(){this.reset()},Nr.prototype.enable=function(){this._enabled=!0},Nr.prototype.disable=function(){this._enabled=!1,this.reset()},Nr.prototype.isEnabled=function(){return this._enabled},Nr.prototype.isActive=function(){return this._active};var jr=0,un=2,vn={};vn[jr]=1,vn[un]=2;function qr(fe,K){var he=vn[K];return fe.buttons===void 0||(fe.buttons&he)!==he}var Vn=function(K){this.reset(),this._clickTolerance=K.clickTolerance||1};Vn.prototype.reset=function(){this._active=!1,this._moved=!1,delete this._lastPoint,delete this._eventButton},Vn.prototype._correctButton=function(K,he){return!1},Vn.prototype._move=function(K,he){return{}},Vn.prototype.mousedown=function(K,he){if(!this._lastPoint){var re=A.mouseButton(K);!this._correctButton(K,re)||(this._lastPoint=he,this._eventButton=re)}},Vn.prototype.mousemoveWindow=function(K,he){var re=this._lastPoint;if(!!re){if(K.preventDefault(),qr(K,this._eventButton)){this.reset();return}if(!(!this._moved&&he.dist(re)<this._clickTolerance))return this._moved=!0,this._lastPoint=he,this._move(re,he)}},Vn.prototype.mouseupWindow=function(K){if(!!this._lastPoint){var he=A.mouseButton(K);he===this._eventButton&&(this._moved&&A.suppressClick(),this.reset())}},Vn.prototype.enable=function(){this._enabled=!0},Vn.prototype.disable=function(){this._enabled=!1,this.reset()},Vn.prototype.isEnabled=function(){return this._enabled},Vn.prototype.isActive=function(){return this._active};var ea=function(fe){function K(){fe.apply(this,arguments)}return fe&&(K.__proto__=fe),K.prototype=Object.create(fe&&fe.prototype),K.prototype.constructor=K,K.prototype.mousedown=function(re,de){fe.prototype.mousedown.call(this,re,de),this._lastPoint&&(this._active=!0)},K.prototype._correctButton=function(re,de){return de===jr&&!re.ctrlKey},K.prototype._move=function(re,de){return{around:de,panDelta:de.sub(re)}},K}(Vn),fa=function(fe){function K(){fe.apply(this,arguments)}return fe&&(K.__proto__=fe),K.prototype=Object.create(fe&&fe.prototype),K.prototype.constructor=K,K.prototype._correctButton=function(re,de){return de===jr&&re.ctrlKey||de===un},K.prototype._move=function(re,de){var ke=.8,je=(de.x-re.x)*ke;if(je)return this._active=!0,{bearingDelta:je}},K.prototype.contextmenu=function(re){re.preventDefault()},K}(Vn),$n=function(fe){function K(){fe.apply(this,arguments)}return fe&&(K.__proto__=fe),K.prototype=Object.create(fe&&fe.prototype),K.prototype.constructor=K,K.prototype._correctButton=function(re,de){return de===jr&&re.ctrlKey||de===un},K.prototype._move=function(re,de){var ke=-.5,je=(de.y-re.y)*ke;if(je)return this._active=!0,{pitchDelta:je}},K.prototype.contextmenu=function(re){re.preventDefault()},K}(Vn),ia=function(K){this._minTouches=1,this._clickTolerance=K.clickTolerance||1,this.reset()};ia.prototype.reset=function(){this._active=!1,this._touches={},this._sum=new a.Point(0,0)},ia.prototype.touchstart=function(K,he,re){return this._calculateTransform(K,he,re)},ia.prototype.touchmove=function(K,he,re){if(!(!this._active||re.length<this._minTouches))return K.preventDefault(),this._calculateTransform(K,he,re)},ia.prototype.touchend=function(K,he,re){this._calculateTransform(K,he,re),this._active&&re.length<this._minTouches&&this.reset()},ia.prototype.touchcancel=function(){this.reset()},ia.prototype._calculateTransform=function(K,he,re){re.length>0&&(this._active=!0);var de=Yt(re,he),ke=new a.Point(0,0),je=new a.Point(0,0),ot=0;for(var Lt in de){var Ht=de[Lt],qt=this._touches[Lt];qt&&(ke._add(Ht),je._add(Ht.sub(qt)),ot++,de[Lt]=Ht)}if(this._touches=de,!(ot<this._minTouches||!je.mag())){var lr=je.div(ot);if(this._sum._add(lr),!(this._sum.mag()<this._clickTolerance)){var sr=ke.div(ot);return{around:sr,panDelta:lr}}}},ia.prototype.enable=function(){this._enabled=!0},ia.prototype.disable=function(){this._enabled=!1,this.reset()},ia.prototype.isEnabled=function(){return this._enabled},ia.prototype.isActive=function(){return this._active};var ca=function(){this.reset()};ca.prototype.reset=function(){this._active=!1,delete this._firstTwoTouches},ca.prototype._start=function(K){},ca.prototype._move=function(K,he,re){return{}},ca.prototype.touchstart=function(K,he,re){this._firstTwoTouches||re.length<2||(this._firstTwoTouches=[re[0].identifier,re[1].identifier],this._start([he[0],he[1]]))},ca.prototype.touchmove=function(K,he,re){if(!!this._firstTwoTouches){K.preventDefault();var de=this._firstTwoTouches,ke=de[0],je=de[1],ot=Oa(re,he,ke),Lt=Oa(re,he,je);if(!(!ot||!Lt)){var Ht=this._aroundCenter?null:ot.add(Lt).div(2);return this._move([ot,Lt],Ht,K)}}},ca.prototype.touchend=function(K,he,re){if(!!this._firstTwoTouches){var de=this._firstTwoTouches,ke=de[0],je=de[1],ot=Oa(re,he,ke),Lt=Oa(re,he,je);ot&&Lt||(this._active&&A.suppressClick(),this.reset())}},ca.prototype.touchcancel=function(){this.reset()},ca.prototype.enable=function(K){this._enabled=!0,this._aroundCenter=!!K&&K.around==="center"},ca.prototype.disable=function(){this._enabled=!1,this.reset()},ca.prototype.isEnabled=function(){return this._enabled},ca.prototype.isActive=function(){return this._active};function Oa(fe,K,he){for(var re=0;re<fe.length;re++)if(fe[re].identifier===he)return K[re]}var Sa=.1;function _a(fe,K){return Math.log(fe/K)/Math.LN2}var ai=function(fe){function K(){fe.apply(this,arguments)}return fe&&(K.__proto__=fe),K.prototype=Object.create(fe&&fe.prototype),K.prototype.constructor=K,K.prototype.reset=function(){fe.prototype.reset.call(this),delete this._distance,delete this._startDistance},K.prototype._start=function(re){this._startDistance=this._distance=re[0].dist(re[1])},K.prototype._move=function(re,de){var ke=this._distance;if(this._distance=re[0].dist(re[1]),!(!this._active&&Math.abs(_a(this._distance,this._startDistance))<Sa))return this._active=!0,{zoomDelta:_a(this._distance,ke),pinchAround:de}},K}(ca),Bi=25;function fi(fe,K){return fe.angleWith(K)*180/Math.PI}var Kn=function(fe){function K(){fe.apply(this,arguments)}return fe&&(K.__proto__=fe),K.prototype=Object.create(fe&&fe.prototype),K.prototype.constructor=K,K.prototype.reset=function(){fe.prototype.reset.call(this),delete this._minDiameter,delete this._startVector,delete this._vector},K.prototype._start=function(re){this._startVector=this._vector=re[0].sub(re[1]),this._minDiameter=re[0].dist(re[1])},K.prototype._move=function(re,de){var ke=this._vector;if(this._vector=re[0].sub(re[1]),!(!this._active&&this._isBelowThreshold(this._vector)))return this._active=!0,{bearingDelta:fi(this._vector,ke),pinchAround:de}},K.prototype._isBelowThreshold=function(re){this._minDiameter=Math.min(this._minDiameter,re.mag());var de=Math.PI*this._minDiameter,ke=Bi/de*360,je=fi(re,this._startVector);return Math.abs(je)<ke},K}(ca);function Ua(fe){return Math.abs(fe.y)>Math.abs(fe.x)}var Aa=100,ja=function(fe){function K(){fe.apply(this,arguments)}return fe&&(K.__proto__=fe),K.prototype=Object.create(fe&&fe.prototype),K.prototype.constructor=K,K.prototype.reset=function(){fe.prototype.reset.call(this),this._valid=void 0,delete this._firstMove,delete this._lastPoints},K.prototype._start=function(re){this._lastPoints=re,Ua(re[0].sub(re[1]))&&(this._valid=!1)},K.prototype._move=function(re,de,ke){var je=re[0].sub(this._lastPoints[0]),ot=re[1].sub(this._lastPoints[1]);if(this._valid=this.gestureBeginsVertically(je,ot,ke.timeStamp),!!this._valid){this._lastPoints=re,this._active=!0;var Lt=(je.y+ot.y)/2,Ht=-.5;return{pitchDelta:Lt*Ht}}},K.prototype.gestureBeginsVertically=function(re,de,ke){if(this._valid!==void 0)return this._valid;var je=2,ot=re.mag()>=je,Lt=de.mag()>=je;if(!(!ot&&!Lt)){if(!ot||!Lt)return this._firstMove===void 0&&(this._firstMove=ke),ke-this._firstMove<Aa?void 0:!1;var Ht=re.y>0==de.y>0;return Ua(re)&&Ua(de)&&Ht}},K}(ca),bi={panStep:100,bearingStep:15,pitchStep:10},ii=function(){var K=bi;this._panStep=K.panStep,this._bearingStep=K.bearingStep,this._pitchStep=K.pitchStep,this._rotationDisabled=!1};ii.prototype.reset=function(){this._active=!1},ii.prototype.keydown=function(K){var he=this;if(!(K.altKey||K.ctrlKey||K.metaKey)){var re=0,de=0,ke=0,je=0,ot=0;switch(K.keyCode){case 61:case 107:case 171:case 187:re=1;break;case 189:case 109:case 173:re=-1;break;case 37:K.shiftKey?de=-1:(K.preventDefault(),je=-1);break;case 39:K.shiftKey?de=1:(K.preventDefault(),je=1);break;case 38:K.shiftKey?ke=1:(K.preventDefault(),ot=-1);break;case 40:K.shiftKey?ke=-1:(K.preventDefault(),ot=1);break;default:return}return this._rotationDisabled&&(de=0,ke=0),{cameraAnimation:function(Lt){var Ht=Lt.getZoom();Lt.easeTo({duration:300,easeId:"keyboardHandler",easing:eo,zoom:re?Math.round(Ht)+re*(K.shiftKey?2:1):Ht,bearing:Lt.getBearing()+de*he._bearingStep,pitch:Lt.getPitch()+ke*he._pitchStep,offset:[-je*he._panStep,-ot*he._panStep],center:Lt.getCenter()},{originalEvent:K})}}}},ii.prototype.enable=function(){this._enabled=!0},ii.prototype.disable=function(){this._enabled=!1,this.reset()},ii.prototype.isEnabled=function(){return this._enabled},ii.prototype.isActive=function(){return this._active},ii.prototype.disableRotation=function(){this._rotationDisabled=!0},ii.prototype.enableRotation=function(){this._rotationDisabled=!1};function eo(fe){return fe*(2-fe)}var to=4.000244140625,io=1/100,wi=1/450,go=2,sa=function(K,he){this._map=K,this._el=K.getCanvasContainer(),this._handler=he,this._delta=0,this._defaultZoomRate=io,this._wheelZoomRate=wi,a.bindAll(["_onTimeout"],this)};sa.prototype.setZoomRate=function(K){this._defaultZoomRate=K},sa.prototype.setWheelZoomRate=function(K){this._wheelZoomRate=K},sa.prototype.isEnabled=function(){return!!this._enabled},sa.prototype.isActive=function(){return!!this._active||this._finishTimeout!==void 0},sa.prototype.isZooming=function(){return!!this._zooming},sa.prototype.enable=function(K){this.isEnabled()||(this._enabled=!0,this._aroundCenter=K&&K.around==="center")},sa.prototype.disable=function(){!this.isEnabled()||(this._enabled=!1)},sa.prototype.wheel=function(K){if(!!this.isEnabled()){var he=K.deltaMode===a.window.WheelEvent.DOM_DELTA_LINE?K.deltaY*40:K.deltaY,re=a.browser.now(),de=re-(this._lastWheelEventTime||0);this._lastWheelEventTime=re,he!==0&&he%to===0?this._type="wheel":he!==0&&Math.abs(he)<4?this._type="trackpad":de>400?(this._type=null,this._lastValue=he,this._timeout=setTimeout(this._onTimeout,40,K)):this._type||(this._type=Math.abs(de*he)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,he+=this._lastValue)),K.shiftKey&&he&&(he=he/4),this._type&&(this._lastWheelEvent=K,this._delta-=he,this._active||this._start(K)),K.preventDefault()}},sa.prototype._onTimeout=function(K){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(K)},sa.prototype._start=function(K){if(!!this._delta){this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);var he=A.mousePos(this._el,K);this._around=a.LngLat.convert(this._aroundCenter?this._map.getCenter():this._map.unproject(he)),this._aroundPoint=this._map.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}},sa.prototype.renderFrame=function(){var K=this;if(!!this._frameId&&(this._frameId=null,!!this.isActive())){var he=this._map.transform;if(this._delta!==0){var re=this._type==="wheel"&&Math.abs(this._delta)>to?this._wheelZoomRate:this._defaultZoomRate,de=go/(1+Math.exp(-Math.abs(this._delta*re)));this._delta<0&&de!==0&&(de=1/de);var ke=typeof this._targetZoom=="number"?he.zoomScale(this._targetZoom):he.scale;this._targetZoom=Math.min(he.maxZoom,Math.max(he.minZoom,he.scaleZoom(ke*de))),this._type==="wheel"&&(this._startZoom=he.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}var je=typeof this._targetZoom=="number"?this._targetZoom:he.zoom,ot=this._startZoom,Lt=this._easing,Ht=!1,qt;if(this._type==="wheel"&&ot&&Lt){var lr=Math.min((a.browser.now()-this._lastWheelEventTime)/200,1),sr=Lt(lr);qt=a.number(ot,je,sr),lr<1?this._frameId||(this._frameId=!0):Ht=!0}else qt=je,Ht=!0;return this._active=!0,Ht&&(this._active=!1,this._finishTimeout=setTimeout(function(){K._zooming=!1,K._handler._triggerRenderFrame(),delete K._targetZoom,delete K._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!Ht,zoomDelta:qt-he.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}},sa.prototype._smoothOutEasing=function(K){var he=a.ease;if(this._prevEase){var re=this._prevEase,de=(a.browser.now()-re.start)/re.duration,ke=re.easing(de+.01)-re.easing(de),je=.27/Math.sqrt(ke*ke+1e-4)*.01,ot=Math.sqrt(.27*.27-je*je);he=a.bezier(je,ot,.25,1)}return this._prevEase={start:a.browser.now(),duration:K,easing:he},he},sa.prototype.reset=function(){this._active=!1};var Ca=function(K,he){this._clickZoom=K,this._tapZoom=he};Ca.prototype.enable=function(){this._clickZoom.enable(),this._tapZoom.enable()},Ca.prototype.disable=function(){this._clickZoom.disable(),this._tapZoom.disable()},Ca.prototype.isEnabled=function(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()},Ca.prototype.isActive=function(){return this._clickZoom.isActive()||this._tapZoom.isActive()};var Do=function(){this.reset()};Do.prototype.reset=function(){this._active=!1},Do.prototype.dblclick=function(K,he){return K.preventDefault(),{cameraAnimation:function(re){re.easeTo({duration:300,zoom:re.getZoom()+(K.shiftKey?-1:1),around:re.unproject(he)},{originalEvent:K})}}},Do.prototype.enable=function(){this._enabled=!0},Do.prototype.disable=function(){this._enabled=!1,this.reset()},Do.prototype.isEnabled=function(){return this._enabled},Do.prototype.isActive=function(){return this._active};var zo=function(){this._tap=new Dr({numTouches:1,numTaps:1}),this.reset()};zo.prototype.reset=function(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,this._tap.reset()},zo.prototype.touchstart=function(K,he,re){this._swipePoint||(this._tapTime&&K.timeStamp-this._tapTime>Cr&&this.reset(),this._tapTime?re.length>0&&(this._swipePoint=he[0],this._swipeTouch=re[0].identifier):this._tap.touchstart(K,he,re))},zo.prototype.touchmove=function(K,he,re){if(!this._tapTime)this._tap.touchmove(K,he,re);else if(this._swipePoint){if(re[0].identifier!==this._swipeTouch)return;var de=he[0],ke=de.y-this._swipePoint.y;return this._swipePoint=de,K.preventDefault(),this._active=!0,{zoomDelta:ke/128}}},zo.prototype.touchend=function(K,he,re){if(this._tapTime)this._swipePoint&&re.length===0&&this.reset();else{var de=this._tap.touchend(K,he,re);de&&(this._tapTime=K.timeStamp)}},zo.prototype.touchcancel=function(){this.reset()},zo.prototype.enable=function(){this._enabled=!0},zo.prototype.disable=function(){this._enabled=!1,this.reset()},zo.prototype.isEnabled=function(){return this._enabled},zo.prototype.isActive=function(){return this._active};var oo=function(K,he,re){this._el=K,this._mousePan=he,this._touchPan=re};oo.prototype.enable=function(K){this._inertiaOptions=K||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")},oo.prototype.disable=function(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")},oo.prototype.isEnabled=function(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()},oo.prototype.isActive=function(){return this._mousePan.isActive()||this._touchPan.isActive()};var ci=function(K,he,re){this._pitchWithRotate=K.pitchWithRotate,this._mouseRotate=he,this._mousePitch=re};ci.prototype.enable=function(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()},ci.prototype.disable=function(){this._mouseRotate.disable(),this._mousePitch.disable()},ci.prototype.isEnabled=function(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())},ci.prototype.isActive=function(){return this._mouseRotate.isActive()||this._mousePitch.isActive()};var Yi=function(K,he,re,de){this._el=K,this._touchZoom=he,this._touchRotate=re,this._tapDragZoom=de,this._rotationDisabled=!1,this._enabled=!0};Yi.prototype.enable=function(K){this._touchZoom.enable(K),this._rotationDisabled||this._touchRotate.enable(K),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")},Yi.prototype.disable=function(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")},Yi.prototype.isEnabled=function(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()},Yi.prototype.isActive=function(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()},Yi.prototype.disableRotation=function(){this._rotationDisabled=!0,this._touchRotate.disable()},Yi.prototype.enableRotation=function(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()};var Ni=function(fe){return fe.zoom||fe.drag||fe.pitch||fe.rotate},vs=function(fe){function K(){fe.apply(this,arguments)}return fe&&(K.__proto__=fe),K.prototype=Object.create(fe&&fe.prototype),K.prototype.constructor=K,K}(a.Event);function Rs(fe){return fe.panDelta&&fe.panDelta.mag()||fe.zoomDelta||fe.bearingDelta||fe.pitchDelta}var Li=function(K,he){this._map=K,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new ue(K),this._bearingSnap=he.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(he),a.bindAll(["handleEvent","handleWindowEvent"],this);var re=this._el;this._listeners=[[re,"touchstart",{passive:!0}],[re,"touchmove",{passive:!1}],[re,"touchend",void 0],[re,"touchcancel",void 0],[re,"mousedown",void 0],[re,"mousemove",void 0],[re,"mouseup",void 0],[a.window.document,"mousemove",{capture:!0}],[a.window.document,"mouseup",void 0],[re,"mouseover",void 0],[re,"mouseout",void 0],[re,"dblclick",void 0],[re,"click",void 0],[re,"keydown",{capture:!1}],[re,"keyup",void 0],[re,"wheel",{passive:!1}],[re,"contextmenu",void 0],[a.window,"blur",void 0]];for(var de=0,ke=this._listeners;de<ke.length;de+=1){var je=ke[de],ot=je[0],Lt=je[1],Ht=je[2];A.addEventListener(ot,Lt,ot===a.window.document?this.handleWindowEvent:this.handleEvent,Ht)}};Li.prototype.destroy=function(){for(var K=0,he=this._listeners;K<he.length;K+=1){var re=he[K],de=re[0],ke=re[1],je=re[2];A.removeEventListener(de,ke,de===a.window.document?this.handleWindowEvent:this.handleEvent,je)}},Li.prototype._addDefaultHandlers=function(K){var he=this._map,re=he.getCanvasContainer();this._add("mapEvent",new Pt(he,K));var de=he.boxZoom=new Gt(he,K);this._add("boxZoom",de);var ke=new Nr,je=new Do;he.doubleClickZoom=new Ca(je,ke),this._add("tapZoom",ke),this._add("clickZoom",je);var ot=new zo;this._add("tapDragZoom",ot);var Lt=he.touchPitch=new ja;this._add("touchPitch",Lt);var Ht=new fa(K),qt=new $n(K);he.dragRotate=new ci(K,Ht,qt),this._add("mouseRotate",Ht,["mousePitch"]),this._add("mousePitch",qt,["mouseRotate"]);var lr=new ea(K),sr=new ia(K);he.dragPan=new oo(re,lr,sr),this._add("mousePan",lr),this._add("touchPan",sr,["touchZoom","touchRotate"]);var kr=new Kn,Xr=new ai;he.touchZoomRotate=new Yi(re,Xr,kr,ot),this._add("touchRotate",kr,["touchPan","touchZoom"]),this._add("touchZoom",Xr,["touchPan","touchRotate"]);var Yr=he.scrollZoom=new sa(he,this);this._add("scrollZoom",Yr,["mousePan"]);var Hr=he.keyboard=new ii;this._add("keyboard",Hr),this._add("blockableMapEvent",new Mt(he));for(var Kr=0,fn=["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"];Kr<fn.length;Kr+=1){var kn=fn[Kr];K.interactive&&K[kn]&&he[kn].enable(K[kn])}},Li.prototype._add=function(K,he,re){this._handlers.push({handlerName:K,handler:he,allowed:re}),this._handlersById[K]=he},Li.prototype.stop=function(K){if(!this._updatingCamera){for(var he=0,re=this._handlers;he<re.length;he+=1){var de=re[he],ke=de.handler;ke.reset()}this._inertia.clear(),this._fireEvents({},{},K),this._changes=[]}},Li.prototype.isActive=function(){for(var K=0,he=this._handlers;K<he.length;K+=1){var re=he[K],de=re.handler;if(de.isActive())return!0}return!1},Li.prototype.isZooming=function(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()},Li.prototype.isRotating=function(){return!!this._eventsInProgress.rotate},Li.prototype.isMoving=function(){return Boolean(Ni(this._eventsInProgress))||this.isZooming()},Li.prototype._blockedByActive=function(K,he,re){for(var de in K)if(de!==re&&(!he||he.indexOf(de)<0))return!0;return!1},Li.prototype.handleWindowEvent=function(K){this.handleEvent(K,K.type+"Window")},Li.prototype._getMapTouches=function(K){for(var he=[],re=0,de=K;re<de.length;re+=1){var ke=de[re],je=ke.target;this._el.contains(je)&&he.push(ke)}return he},Li.prototype.handleEvent=function(K,he){if(K.type==="blur"){this.stop(!0);return}this._updatingCamera=!0;for(var re=K.type==="renderFrame"?void 0:K,de={needsRenderFrame:!1},ke={},je={},ot=K.touches?this._getMapTouches(K.touches):void 0,Lt=ot?A.touchPos(this._el,ot):A.mousePos(this._el,K),Ht=0,qt=this._handlers;Ht<qt.length;Ht+=1){var lr=qt[Ht],sr=lr.handlerName,kr=lr.handler,Xr=lr.allowed;if(!!kr.isEnabled()){var Yr=void 0;this._blockedByActive(je,Xr,sr)?kr.reset():kr[he||K.type]&&(Yr=kr[he||K.type](K,Lt,ot),this.mergeHandlerResult(de,ke,Yr,sr,re),Yr&&Yr.needsRenderFrame&&this._triggerRenderFrame()),(Yr||kr.isActive())&&(je[sr]=kr)}}var Hr={};for(var Kr in this._previousActiveHandlers)je[Kr]||(Hr[Kr]=re);this._previousActiveHandlers=je,(Object.keys(Hr).length||Rs(de))&&(this._changes.push([de,ke,Hr]),this._triggerRenderFrame()),(Object.keys(je).length||Rs(de))&&this._map._stop(!0),this._updatingCamera=!1;var fn=de.cameraAnimation;fn&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],fn(this._map))},Li.prototype.mergeHandlerResult=function(K,he,re,de,ke){if(!!re){a.extend(K,re);var je={handlerName:de,originalEvent:re.originalEvent||ke};re.zoomDelta!==void 0&&(he.zoom=je),re.panDelta!==void 0&&(he.drag=je),re.pitchDelta!==void 0&&(he.pitch=je),re.bearingDelta!==void 0&&(he.rotate=je)}},Li.prototype._applyChanges=function(){for(var K={},he={},re={},de=0,ke=this._changes;de<ke.length;de+=1){var je=ke[de],ot=je[0],Lt=je[1],Ht=je[2];ot.panDelta&&(K.panDelta=(K.panDelta||new a.Point(0,0))._add(ot.panDelta)),ot.zoomDelta&&(K.zoomDelta=(K.zoomDelta||0)+ot.zoomDelta),ot.bearingDelta&&(K.bearingDelta=(K.bearingDelta||0)+ot.bearingDelta),ot.pitchDelta&&(K.pitchDelta=(K.pitchDelta||0)+ot.pitchDelta),ot.around!==void 0&&(K.around=ot.around),ot.pinchAround!==void 0&&(K.pinchAround=ot.pinchAround),ot.noInertia&&(K.noInertia=ot.noInertia),a.extend(he,Lt),a.extend(re,Ht)}this._updateMapTransform(K,he,re),this._changes=[]},Li.prototype._updateMapTransform=function(K,he,re){var de=this._map,ke=de.transform;if(!Rs(K))return this._fireEvents(he,re,!0);var je=K.panDelta,ot=K.zoomDelta,Lt=K.bearingDelta,Ht=K.pitchDelta,qt=K.around,lr=K.pinchAround;lr!==void 0&&(qt=lr),de._stop(!0),qt=qt||de.transform.centerPoint;var sr=ke.pointLocation(je?qt.sub(je):qt);Lt&&(ke.bearing+=Lt),Ht&&(ke.pitch+=Ht),ot&&(ke.zoom+=ot),ke.setLocationAtPoint(sr,qt),this._map._update(),K.noInertia||this._inertia.record(K),this._fireEvents(he,re,!0)},Li.prototype._fireEvents=function(K,he,re){var de=this,ke=Ni(this._eventsInProgress),je=Ni(K),ot={};for(var Lt in K){var Ht=K[Lt],qt=Ht.originalEvent;this._eventsInProgress[Lt]||(ot[Lt+"start"]=qt),this._eventsInProgress[Lt]=K[Lt]}!ke&&je&&this._fireEvent("movestart",je.originalEvent);for(var lr in ot)this._fireEvent(lr,ot[lr]);je&&this._fireEvent("move",je.originalEvent);for(var sr in K){var kr=K[sr],Xr=kr.originalEvent;this._fireEvent(sr,Xr)}var Yr={},Hr;for(var Kr in this._eventsInProgress){var fn=this._eventsInProgress[Kr],kn=fn.handlerName,Bn=fn.originalEvent;this._handlersById[kn].isActive()||(delete this._eventsInProgress[Kr],Hr=he[kn]||Bn,Yr[Kr+"end"]=Hr)}for(var Yn in Yr)this._fireEvent(Yn,Yr[Yn]);var Xn=Ni(this._eventsInProgress);if(re&&(ke||je)&&!Xn){this._updatingCamera=!0;var Gn=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),jn=function(ta){return ta!==0&&-de._bearingSnap<ta&&ta<de._bearingSnap};Gn?(jn(Gn.bearing||this._map.getBearing())&&(Gn.bearing=0),this._map.easeTo(Gn,{originalEvent:Hr})):(this._map.fire(new a.Event("moveend",{originalEvent:Hr})),jn(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}},Li.prototype._fireEvent=function(K,he){this._map.fire(new a.Event(K,he?{originalEvent:he}:{}))},Li.prototype._requestFrame=function(){var K=this;return this._map.triggerRepaint(),this._map._renderTaskQueue.add(function(he){delete K._frameId,K.handleEvent(new vs("renderFrame",{timeStamp:he})),K._applyChanges()})},Li.prototype._triggerRenderFrame=function(){this._frameId===void 0&&(this._frameId=this._requestFrame())};var Ol=function(fe){function K(he,re){fe.call(this),this._moving=!1,this._zooming=!1,this.transform=he,this._bearingSnap=re.bearingSnap,a.bindAll(["_renderFrameCallback"],this)}return fe&&(K.__proto__=fe),K.prototype=Object.create(fe&&fe.prototype),K.prototype.constructor=K,K.prototype.getCenter=function(){return new a.LngLat(this.transform.center.lng,this.transform.center.lat)},K.prototype.setCenter=function(re,de){return this.jumpTo({center:re},de)},K.prototype.panBy=function(re,de,ke){return re=a.Point.convert(re).mult(-1),this.panTo(this.transform.center,a.extend({offset:re},de),ke)},K.prototype.panTo=function(re,de,ke){return this.easeTo(a.extend({center:re},de),ke)},K.prototype.getZoom=function(){return this.transform.zoom},K.prototype.setZoom=function(re,de){return this.jumpTo({zoom:re},de),this},K.prototype.zoomTo=function(re,de,ke){return this.easeTo(a.extend({zoom:re},de),ke)},K.prototype.zoomIn=function(re,de){return this.zoomTo(this.getZoom()+1,re,de),this},K.prototype.zoomOut=function(re,de){return this.zoomTo(this.getZoom()-1,re,de),this},K.prototype.getBearing=function(){return this.transform.bearing},K.prototype.setBearing=function(re,de){return this.jumpTo({bearing:re},de),this},K.prototype.getPadding=function(){return this.transform.padding},K.prototype.setPadding=function(re,de){return this.jumpTo({padding:re},de),this},K.prototype.rotateTo=function(re,de,ke){return this.easeTo(a.extend({bearing:re},de),ke)},K.prototype.resetNorth=function(re,de){return this.rotateTo(0,a.extend({duration:1e3},re),de),this},K.prototype.resetNorthPitch=function(re,de){return this.easeTo(a.extend({bearing:0,pitch:0,duration:1e3},re),de),this},K.prototype.snapToNorth=function(re,de){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(re,de):this},K.prototype.getPitch=function(){return this.transform.pitch},K.prototype.setPitch=function(re,de){return this.jumpTo({pitch:re},de),this},K.prototype.cameraForBounds=function(re,de){re=a.LngLatBounds.convert(re);var ke=de&&de.bearing||0;return this._cameraForBoxAndBearing(re.getNorthWest(),re.getSouthEast(),ke,de)},K.prototype._cameraForBoxAndBearing=function(re,de,ke,je){var ot={top:0,bottom:0,right:0,left:0};if(je=a.extend({padding:ot,offset:[0,0],maxZoom:this.transform.maxZoom},je),typeof je.padding=="number"){var Lt=je.padding;je.padding={top:Lt,bottom:Lt,right:Lt,left:Lt}}je.padding=a.extend(ot,je.padding);var Ht=this.transform,qt=Ht.padding,lr=Ht.project(a.LngLat.convert(re)),sr=Ht.project(a.LngLat.convert(de)),kr=lr.rotate(-ke*Math.PI/180),Xr=sr.rotate(-ke*Math.PI/180),Yr=new a.Point(Math.max(kr.x,Xr.x),Math.max(kr.y,Xr.y)),Hr=new a.Point(Math.min(kr.x,Xr.x),Math.min(kr.y,Xr.y)),Kr=Yr.sub(Hr),fn=(Ht.width-(qt.left+qt.right+je.padding.left+je.padding.right))/Kr.x,kn=(Ht.height-(qt.top+qt.bottom+je.padding.top+je.padding.bottom))/Kr.y;if(kn<0||fn<0){a.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.");return}var Bn=Math.min(Ht.scaleZoom(Ht.scale*Math.min(fn,kn)),je.maxZoom),Yn=typeof je.offset.x=="number"?new a.Point(je.offset.x,je.offset.y):a.Point.convert(je.offset),Xn=(je.padding.left-je.padding.right)/2,Gn=(je.padding.top-je.padding.bottom)/2,jn=new a.Point(Xn,Gn),ta=jn.rotate(ke*Math.PI/180),la=Yn.add(ta),xa=la.mult(Ht.scale/Ht.zoomScale(Bn)),va=Ht.unproject(lr.add(sr).div(2).sub(xa));return{center:va,zoom:Bn,bearing:ke}},K.prototype.fitBounds=function(re,de,ke){return this._fitInternal(this.cameraForBounds(re,de),de,ke)},K.prototype.fitScreenCoordinates=function(re,de,ke,je,ot){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(a.Point.convert(re)),this.transform.pointLocation(a.Point.convert(de)),ke,je),je,ot)},K.prototype._fitInternal=function(re,de,ke){return re?(de=a.extend(re,de),delete de.padding,de.linear?this.easeTo(de,ke):this.flyTo(de,ke)):this},K.prototype.jumpTo=function(re,de){this.stop();var ke=this.transform,je=!1,ot=!1,Lt=!1;return"zoom"in re&&ke.zoom!==+re.zoom&&(je=!0,ke.zoom=+re.zoom),re.center!==void 0&&(ke.center=a.LngLat.convert(re.center)),"bearing"in re&&ke.bearing!==+re.bearing&&(ot=!0,ke.bearing=+re.bearing),"pitch"in re&&ke.pitch!==+re.pitch&&(Lt=!0,ke.pitch=+re.pitch),re.padding!=null&&!ke.isPaddingEqual(re.padding)&&(ke.padding=re.padding),this.fire(new a.Event("movestart",de)).fire(new a.Event("move",de)),je&&this.fire(new a.Event("zoomstart",de)).fire(new a.Event("zoom",de)).fire(new a.Event("zoomend",de)),ot&&this.fire(new a.Event("rotatestart",de)).fire(new a.Event("rotate",de)).fire(new a.Event("rotateend",de)),Lt&&this.fire(new a.Event("pitchstart",de)).fire(new a.Event("pitch",de)).fire(new a.Event("pitchend",de)),this.fire(new a.Event("moveend",de))},K.prototype.easeTo=function(re,de){var ke=this;this._stop(!1,re.easeId),re=a.extend({offset:[0,0],duration:500,easing:a.ease},re),(re.animate===!1||!re.essential&&a.browser.prefersReducedMotion)&&(re.duration=0);var je=this.transform,ot=this.getZoom(),Lt=this.getBearing(),Ht=this.getPitch(),qt=this.getPadding(),lr="zoom"in re?+re.zoom:ot,sr="bearing"in re?this._normalizeBearing(re.bearing,Lt):Lt,kr="pitch"in re?+re.pitch:Ht,Xr="padding"in re?re.padding:je.padding,Yr=a.Point.convert(re.offset),Hr=je.centerPoint.add(Yr),Kr=je.pointLocation(Hr),fn=a.LngLat.convert(re.center||Kr);this._normalizeCenter(fn);var kn=je.project(Kr),Bn=je.project(fn).sub(kn),Yn=je.zoomScale(lr-ot),Xn,Gn;re.around&&(Xn=a.LngLat.convert(re.around),Gn=je.locationPoint(Xn));var jn={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||lr!==ot,this._rotating=this._rotating||Lt!==sr,this._pitching=this._pitching||kr!==Ht,this._padding=!je.isPaddingEqual(Xr),this._easeId=re.easeId,this._prepareEase(de,re.noMoveStart,jn),this._ease(function(ta){if(ke._zooming&&(je.zoom=a.number(ot,lr,ta)),ke._rotating&&(je.bearing=a.number(Lt,sr,ta)),ke._pitching&&(je.pitch=a.number(Ht,kr,ta)),ke._padding&&(je.interpolatePadding(qt,Xr,ta),Hr=je.centerPoint.add(Yr)),Xn)je.setLocationAtPoint(Xn,Gn);else{var la=je.zoomScale(je.zoom-ot),xa=lr>ot?Math.min(2,Yn):Math.max(.5,Yn),va=Math.pow(xa,1-ta),ka=je.unproject(kn.add(Bn.mult(ta*va)).mult(la));je.setLocationAtPoint(je.renderWorldCopies?ka.wrap():ka,Hr)}ke._fireMoveEvents(de)},function(ta){ke._afterEase(de,ta)},re),this},K.prototype._prepareEase=function(re,de,ke){ke===void 0&&(ke={}),this._moving=!0,!de&&!ke.moving&&this.fire(new a.Event("movestart",re)),this._zooming&&!ke.zooming&&this.fire(new a.Event("zoomstart",re)),this._rotating&&!ke.rotating&&this.fire(new a.Event("rotatestart",re)),this._pitching&&!ke.pitching&&this.fire(new a.Event("pitchstart",re))},K.prototype._fireMoveEvents=function(re){this.fire(new a.Event("move",re)),this._zooming&&this.fire(new a.Event("zoom",re)),this._rotating&&this.fire(new a.Event("rotate",re)),this._pitching&&this.fire(new a.Event("pitch",re))},K.prototype._afterEase=function(re,de){if(!(this._easeId&&de&&this._easeId===de)){delete this._easeId;var ke=this._zooming,je=this._rotating,ot=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,ke&&this.fire(new a.Event("zoomend",re)),je&&this.fire(new a.Event("rotateend",re)),ot&&this.fire(new a.Event("pitchend",re)),this.fire(new a.Event("moveend",re))}},K.prototype.flyTo=function(re,de){var ke=this;if(!re.essential&&a.browser.prefersReducedMotion){var je=a.pick(re,["center","zoom","bearing","pitch","around"]);return this.jumpTo(je,de)}this.stop(),re=a.extend({offset:[0,0],speed:1.2,curve:1.42,easing:a.ease},re);var ot=this.transform,Lt=this.getZoom(),Ht=this.getBearing(),qt=this.getPitch(),lr=this.getPadding(),sr="zoom"in re?a.clamp(+re.zoom,ot.minZoom,ot.maxZoom):Lt,kr="bearing"in re?this._normalizeBearing(re.bearing,Ht):Ht,Xr="pitch"in re?+re.pitch:qt,Yr="padding"in re?re.padding:ot.padding,Hr=ot.zoomScale(sr-Lt),Kr=a.Point.convert(re.offset),fn=ot.centerPoint.add(Kr),kn=ot.pointLocation(fn),Bn=a.LngLat.convert(re.center||kn);this._normalizeCenter(Bn);var Yn=ot.project(kn),Xn=ot.project(Bn).sub(Yn),Gn=re.curve,jn=Math.max(ot.width,ot.height),ta=jn/Hr,la=Xn.mag();if("minZoom"in re){var xa=a.clamp(Math.min(re.minZoom,Lt,sr),ot.minZoom,ot.maxZoom),va=jn/ot.zoomScale(xa-Lt);Gn=Math.sqrt(va/la*2)}var ka=Gn*Gn;function Qa(Ha){var $a=(ta*ta-jn*jn+(Ha?-1:1)*ka*ka*la*la)/(2*(Ha?ta:jn)*ka*la);return Math.log(Math.sqrt($a*$a+1)-$a)}function Wa(Ha){return(Math.exp(Ha)-Math.exp(-Ha))/2}function Ma(Ha){return(Math.exp(Ha)+Math.exp(-Ha))/2}function Ya(Ha){return Wa(Ha)/Ma(Ha)}var Va=Qa(0),oi=function(Ha){return Ma(Va)/Ma(Va+Gn*Ha)},ei=function(Ha){return jn*((Ma(Va)*Ya(Va+Gn*Ha)-Wa(Va))/ka)/la},Mi=(Qa(1)-Va)/Gn;if(Math.abs(la)<1e-6||!isFinite(Mi)){if(Math.abs(jn-ta)<1e-6)return this.easeTo(re,de);var Ja=ta<jn?-1:1;Mi=Math.abs(Math.log(ta/jn))/Gn,ei=function(){return 0},oi=function(Ha){return Math.exp(Ja*Gn*Ha)}}if("duration"in re)re.duration=+re.duration;else{var yi="screenSpeed"in re?+re.screenSpeed/Gn:+re.speed;re.duration=1e3*Mi/yi}return re.maxDuration&&re.duration>re.maxDuration&&(re.duration=0),this._zooming=!0,this._rotating=Ht!==kr,this._pitching=Xr!==qt,this._padding=!ot.isPaddingEqual(Yr),this._prepareEase(de,!1),this._ease(function(Ha){var $a=Ha*Mi,Ui=1/oi($a);ot.zoom=Ha===1?sr:Lt+ot.scaleZoom(Ui),ke._rotating&&(ot.bearing=a.number(Ht,kr,Ha)),ke._pitching&&(ot.pitch=a.number(qt,Xr,Ha)),ke._padding&&(ot.interpolatePadding(lr,Yr,Ha),fn=ot.centerPoint.add(Kr));var yo=Ha===1?Bn:ot.unproject(Yn.add(Xn.mult(ei($a))).mult(Ui));ot.setLocationAtPoint(ot.renderWorldCopies?yo.wrap():yo,fn),ke._fireMoveEvents(de)},function(){return ke._afterEase(de)},re),this},K.prototype.isEasing=function(){return!!this._easeFrameId},K.prototype.stop=function(){return this._stop()},K.prototype._stop=function(re,de){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){var ke=this._onEaseEnd;delete this._onEaseEnd,ke.call(this,de)}if(!re){var je=this.handlers;je&&je.stop(!1)}return this},K.prototype._ease=function(re,de,ke){ke.animate===!1||ke.duration===0?(re(1),de()):(this._easeStart=a.browser.now(),this._easeOptions=ke,this._onEaseFrame=re,this._onEaseEnd=de,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))},K.prototype._renderFrameCallback=function(){var re=Math.min((a.browser.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(re)),re<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},K.prototype._normalizeBearing=function(re,de){re=a.wrap(re,-180,180);var ke=Math.abs(re-de);return Math.abs(re-360-de)<ke&&(re-=360),Math.abs(re+360-de)<ke&&(re+=360),re},K.prototype._normalizeCenter=function(re){var de=this.transform;if(!(!de.renderWorldCopies||de.lngRange)){var ke=re.lng-de.center.lng;re.lng+=ke>180?-360:ke<-180?360:0}},K}(a.Evented),Ka=function(K){K===void 0&&(K={}),this.options=K,a.bindAll(["_toggleAttribution","_updateEditLink","_updateData","_updateCompact"],this)};Ka.prototype.getDefaultPosition=function(){return"bottom-right"},Ka.prototype.onAdd=function(K){var he=this.options&&this.options.compact;return this._map=K,this._container=A.create("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=A.create("button","mapboxgl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=A.create("div","mapboxgl-ctrl-attrib-inner",this._container),this._innerContainer.setAttribute("role","list"),he&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),he===void 0&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container},Ka.prototype.onRemove=function(){A.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0},Ka.prototype._setElementTitle=function(K,he){var re=this._map._getUIString("AttributionControl."+he);K.title=re,K.setAttribute("aria-label",re)},Ka.prototype._toggleAttribution=function(){this._container.classList.contains("mapboxgl-compact-show")?(this._container.classList.remove("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","false")):(this._container.classList.add("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","true"))},Ka.prototype._updateEditLink=function(){var K=this._editLink;K||(K=this._editLink=this._container.querySelector(".mapbox-improve-map"));var he=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||a.config.ACCESS_TOKEN}];if(K){var re=he.reduce(function(de,ke,je){return ke.value&&(de+=ke.key+"="+ke.value+(je<he.length-1?"&":"")),de},"?");K.href=a.config.FEEDBACK_URL+"/"+re+(this._map._hash?this._map._hash.getHashString(!0):""),K.rel="noopener nofollow",this._setElementTitle(K,"MapFeedback")}},Ka.prototype._updateData=function(K){K&&(K.sourceDataType==="metadata"||K.sourceDataType==="visibility"||K.dataType==="style")&&(this._updateAttributions(),this._updateEditLink())},Ka.prototype._updateAttributions=function(){if(!!this._map.style){var K=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?K=K.concat(this.options.customAttribution.map(function(Lt){return typeof Lt!="string"?"":Lt})):typeof this.options.customAttribution=="string"&&K.push(this.options.customAttribution)),this._map.style.stylesheet){var he=this._map.style.stylesheet;this.styleOwner=he.owner,this.styleId=he.id}var re=this._map.style.sourceCaches;for(var de in re){var ke=re[de];if(ke.used){var je=ke.getSource();je.attribution&&K.indexOf(je.attribution)<0&&K.push(je.attribution)}}K.sort(function(Lt,Ht){return Lt.length-Ht.length}),K=K.filter(function(Lt,Ht){for(var qt=Ht+1;qt<K.length;qt++)if(K[qt].indexOf(Lt)>=0)return!1;return!0});var ot=K.join(" | ");ot!==this._attribHTML&&(this._attribHTML=ot,K.length?(this._innerContainer.innerHTML=ot,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}},Ka.prototype._updateCompact=function(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact","mapboxgl-compact-show")};var Pi=function(){a.bindAll(["_updateLogo"],this),a.bindAll(["_updateCompact"],this)};Pi.prototype.onAdd=function(K){this._map=K,this._container=A.create("div","mapboxgl-ctrl");var he=A.create("a","mapboxgl-ctrl-logo");return he.target="_blank",he.rel="noopener nofollow",he.href="https://www.mapbox.com/",he.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),he.setAttribute("rel","noopener nofollow"),this._container.appendChild(he),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container},Pi.prototype.onRemove=function(){A.remove(this._container),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)},Pi.prototype.getDefaultPosition=function(){return"bottom-left"},Pi.prototype._updateLogo=function(K){(!K||K.sourceDataType==="metadata")&&(this._container.style.display=this._logoRequired()?"block":"none")},Pi.prototype._logoRequired=function(){if(!!this._map.style){var K=this._map.style.sourceCaches;for(var he in K){var re=K[he].getSource();if(re.mapbox_logo)return!0}return!1}},Pi.prototype._updateCompact=function(){var K=this._container.children;if(K.length){var he=K[0];this._map.getCanvasContainer().offsetWidth<250?he.classList.add("mapboxgl-compact"):he.classList.remove("mapboxgl-compact")}};var Wc=function(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1};Wc.prototype.add=function(K){var he=++this._id,re=this._queue;return re.push({callback:K,id:he,cancelled:!1}),he},Wc.prototype.remove=function(K){for(var he=this._currentlyRunning,re=he?this._queue.concat(he):this._queue,de=0,ke=re;de<ke.length;de+=1){var je=ke[de];if(je.id===K){je.cancelled=!0;return}}},Wc.prototype.run=function(K){K===void 0&&(K=0);var he=this._currentlyRunning=this._queue;this._queue=[];for(var re=0,de=he;re<de.length;re+=1){var ke=de[re];if(!ke.cancelled&&(ke.callback(K),this._cleared))break}this._cleared=!1,this._currentlyRunning=!1},Wc.prototype.clear=function(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]};var gd={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm"},pf=a.window.HTMLImageElement,xv=a.window.HTMLElement,Vu=a.window.ImageBitmap,jf=-2,Kf=22,$o=0,Hu=60,bv={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:jf,maxZoom:Kf,minPitch:$o,maxPitch:Hu,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0},wv=function(fe){function K(re){var de=this;if(re=a.extend({},bv,re),re.minZoom!=null&&re.maxZoom!=null&&re.minZoom>re.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(re.minPitch!=null&&re.maxPitch!=null&&re.minPitch>re.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(re.minPitch!=null&&re.minPitch<$o)throw new Error("minPitch must be greater than or equal to "+$o);if(re.maxPitch!=null&&re.maxPitch>Hu)throw new Error("maxPitch must be less than or equal to "+Hu);var ke=new In(re.minZoom,re.maxZoom,re.minPitch,re.maxPitch,re.renderWorldCopies);if(fe.call(this,ke,re),this._interactive=re.interactive,this._maxTileCacheSize=re.maxTileCacheSize,this._failIfMajorPerformanceCaveat=re.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=re.preserveDrawingBuffer,this._antialias=re.antialias,this._trackResize=re.trackResize,this._bearingSnap=re.bearingSnap,this._refreshExpiredTiles=re.refreshExpiredTiles,this._fadeDuration=re.fadeDuration,this._crossSourceCollisions=re.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=re.collectResourceTiming,this._renderTaskQueue=new Wc,this._controls=[],this._mapId=a.uniqueId(),this._locale=a.extend({},gd,re.locale),this._clickTolerance=re.clickTolerance,this._requestManager=new a.RequestManager(re.transformRequest,re.accessToken),typeof re.container=="string"){if(this._container=a.window.document.getElementById(re.container),!this._container)throw new Error("Container '"+re.container+"' not found.")}else if(re.container instanceof xv)this._container=re.container;else throw new Error("Invalid type: 'container' must be a String or HTMLElement.");if(re.maxBounds&&this.setMaxBounds(re.maxBounds),a.bindAll(["_onWindowOnline","_onWindowResize","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),this.painter===void 0)throw new Error("Failed to initialize WebGL.");this.on("move",function(){return de._update(!1)}),this.on("moveend",function(){return de._update(!1)}),this.on("zoom",function(){return de._update(!0)}),typeof a.window!="undefined"&&(a.window.addEventListener("online",this._onWindowOnline,!1),a.window.addEventListener("resize",this._onWindowResize,!1),a.window.addEventListener("orientationchange",this._onWindowResize,!1)),this.handlers=new Li(this,re);var je=typeof re.hash=="string"&&re.hash||void 0;this._hash=re.hash&&new Ra(je).addTo(this),(!this._hash||!this._hash._onHashChange())&&(this.jumpTo({center:re.center,zoom:re.zoom,bearing:re.bearing,pitch:re.pitch}),re.bounds&&(this.resize(),this.fitBounds(re.bounds,a.extend({},re.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=re.localIdeographFontFamily,re.style&&this.setStyle(re.style,{localIdeographFontFamily:re.localIdeographFontFamily}),re.attributionControl&&this.addControl(new Ka({customAttribution:re.customAttribution})),this.addControl(new Pi,re.logoPosition),this.on("style.load",function(){de.transform.unmodified&&de.jumpTo(de.style.stylesheet)}),this.on("data",function(ot){de._update(ot.dataType==="style"),de.fire(new a.Event(ot.dataType+"data",ot))}),this.on("dataloading",function(ot){de.fire(new a.Event(ot.dataType+"dataloading",ot))})}fe&&(K.__proto__=fe),K.prototype=Object.create(fe&&fe.prototype),K.prototype.constructor=K;var he={showTileBoundaries:{configurable:!0},showPadding:{configurable:!0},showCollisionBoxes:{configurable:!0},showOverdrawInspector:{configurable:!0},repaint:{configurable:!0},vertices:{configurable:!0},version:{configurable:!0}};return K.prototype._getMapId=function(){return this._mapId},K.prototype.addControl=function(de,ke){if(ke===void 0&&(de.getDefaultPosition?ke=de.getDefaultPosition():ke="top-right"),!de||!de.onAdd)return this.fire(new a.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));var je=de.onAdd(this);this._controls.push(de);var ot=this._controlPositions[ke];return ke.indexOf("bottom")!==-1?ot.insertBefore(je,ot.firstChild):ot.appendChild(je),this},K.prototype.removeControl=function(de){if(!de||!de.onRemove)return this.fire(new a.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));var ke=this._controls.indexOf(de);return ke>-1&&this._controls.splice(ke,1),de.onRemove(this),this},K.prototype.hasControl=function(de){return this._controls.indexOf(de)>-1},K.prototype.resize=function(de){var ke=this._containerDimensions(),je=ke[0],ot=ke[1];this._resizeCanvas(je,ot),this.transform.resize(je,ot),this.painter.resize(je,ot);var Lt=!this._moving;return Lt&&(this.stop(),this.fire(new a.Event("movestart",de)).fire(new a.Event("move",de))),this.fire(new a.Event("resize",de)),Lt&&this.fire(new a.Event("moveend",de)),this},K.prototype.getBounds=function(){return this.transform.getBounds()},K.prototype.getMaxBounds=function(){return this.transform.getMaxBounds()},K.prototype.setMaxBounds=function(de){return this.transform.setMaxBounds(a.LngLatBounds.convert(de)),this._update()},K.prototype.setMinZoom=function(de){if(de=de==null?jf:de,de>=jf&&de<=this.transform.maxZoom)return this.transform.minZoom=de,this._update(),this.getZoom()<de&&this.setZoom(de),this;throw new Error("minZoom must be between "+jf+" and the current maxZoom, inclusive")},K.prototype.getMinZoom=function(){return this.transform.minZoom},K.prototype.setMaxZoom=function(de){if(de=de==null?Kf:de,de>=this.transform.minZoom)return this.transform.maxZoom=de,this._update(),this.getZoom()>de&&this.setZoom(de),this;throw new Error("maxZoom must be greater than the current minZoom")},K.prototype.getMaxZoom=function(){return this.transform.maxZoom},K.prototype.setMinPitch=function(de){if(de=de==null?$o:de,de<$o)throw new Error("minPitch must be greater than or equal to "+$o);if(de>=$o&&de<=this.transform.maxPitch)return this.transform.minPitch=de,this._update(),this.getPitch()<de&&this.setPitch(de),this;throw new Error("minPitch must be between "+$o+" and the current maxPitch, inclusive")},K.prototype.getMinPitch=function(){return this.transform.minPitch},K.prototype.setMaxPitch=function(de){if(de=de==null?Hu:de,de>Hu)throw new Error("maxPitch must be less than or equal to "+Hu);if(de>=this.transform.minPitch)return this.transform.maxPitch=de,this._update(),this.getPitch()>de&&this.setPitch(de),this;throw new Error("maxPitch must be greater than the current minPitch")},K.prototype.getMaxPitch=function(){return this.transform.maxPitch},K.prototype.getRenderWorldCopies=function(){return this.transform.renderWorldCopies},K.prototype.setRenderWorldCopies=function(de){return this.transform.renderWorldCopies=de,this._update()},K.prototype.project=function(de){return this.transform.locationPoint(a.LngLat.convert(de))},K.prototype.unproject=function(de){return this.transform.pointLocation(a.Point.convert(de))},K.prototype.isMoving=function(){return this._moving||this.handlers.isMoving()},K.prototype.isZooming=function(){return this._zooming||this.handlers.isZooming()},K.prototype.isRotating=function(){return this._rotating||this.handlers.isRotating()},K.prototype._createDelegatedListener=function(de,ke,je){var ot=this,Lt;if(de==="mouseenter"||de==="mouseover"){var Ht=!1,qt=function(Hr){var Kr=ot.getLayer(ke)?ot.queryRenderedFeatures(Hr.point,{layers:[ke]}):[];Kr.length?Ht||(Ht=!0,je.call(ot,new Qe(de,ot,Hr.originalEvent,{features:Kr}))):Ht=!1},lr=function(){Ht=!1};return{layer:ke,listener:je,delegates:{mousemove:qt,mouseout:lr}}}else if(de==="mouseleave"||de==="mouseout"){var sr=!1,kr=function(Hr){var Kr=ot.getLayer(ke)?ot.queryRenderedFeatures(Hr.point,{layers:[ke]}):[];Kr.length?sr=!0:sr&&(sr=!1,je.call(ot,new Qe(de,ot,Hr.originalEvent)))},Xr=function(Hr){sr&&(sr=!1,je.call(ot,new Qe(de,ot,Hr.originalEvent)))};return{layer:ke,listener:je,delegates:{mousemove:kr,mouseout:Xr}}}else{var Yr=function(Hr){var Kr=ot.getLayer(ke)?ot.queryRenderedFeatures(Hr.point,{layers:[ke]}):[];Kr.length&&(Hr.features=Kr,je.call(ot,Hr),delete Hr.features)};return{layer:ke,listener:je,delegates:(Lt={},Lt[de]=Yr,Lt)}}},K.prototype.on=function(de,ke,je){if(je===void 0)return fe.prototype.on.call(this,de,ke);var ot=this._createDelegatedListener(de,ke,je);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[de]=this._delegatedListeners[de]||[],this._delegatedListeners[de].push(ot);for(var Lt in ot.delegates)this.on(Lt,ot.delegates[Lt]);return this},K.prototype.once=function(de,ke,je){if(je===void 0)return fe.prototype.once.call(this,de,ke);var ot=this._createDelegatedListener(de,ke,je);for(var Lt in ot.delegates)this.once(Lt,ot.delegates[Lt]);return this},K.prototype.off=function(de,ke,je){var ot=this;if(je===void 0)return fe.prototype.off.call(this,de,ke);var Lt=function(Ht){for(var qt=Ht[de],lr=0;lr<qt.length;lr++){var sr=qt[lr];if(sr.layer===ke&&sr.listener===je){for(var kr in sr.delegates)ot.off(kr,sr.delegates[kr]);return qt.splice(lr,1),ot}}};return this._delegatedListeners&&this._delegatedListeners[de]&&Lt(this._delegatedListeners),this},K.prototype.queryRenderedFeatures=function(de,ke){if(!this.style)return[];ke===void 0&&de!==void 0&&!(de instanceof a.Point)&&!Array.isArray(de)&&(ke=de,de=void 0),ke=ke||{},de=de||[[0,0],[this.transform.width,this.transform.height]];var je;if(de instanceof a.Point||typeof de[0]=="number")je=[a.Point.convert(de)];else{var ot=a.Point.convert(de[0]),Lt=a.Point.convert(de[1]);je=[ot,new a.Point(Lt.x,ot.y),Lt,new a.Point(ot.x,Lt.y),ot]}return this.style.queryRenderedFeatures(je,ke,this.transform)},K.prototype.querySourceFeatures=function(de,ke){return this.style.querySourceFeatures(de,ke)},K.prototype.setStyle=function(de,ke){return ke=a.extend({},{localIdeographFontFamily:this._localIdeographFontFamily},ke),ke.diff!==!1&&ke.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&de?(this._diffStyle(de,ke),this):(this._localIdeographFontFamily=ke.localIdeographFontFamily,this._updateStyle(de,ke))},K.prototype._getUIString=function(de){var ke=this._locale[de];if(ke==null)throw new Error("Missing UI string '"+de+"'");return ke},K.prototype._updateStyle=function(de,ke){if(this.style&&(this.style.setEventedParent(null),this.style._remove()),de)this.style=new _o(this,ke||{});else return delete this.style,this;return this.style.setEventedParent(this,{style:this.style}),typeof de=="string"?this.style.loadURL(de):this.style.loadJSON(de),this},K.prototype._lazyInitEmptyStyle=function(){this.style||(this.style=new _o(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())},K.prototype._diffStyle=function(de,ke){var je=this;if(typeof de=="string"){var ot=this._requestManager.normalizeStyleURL(de),Lt=this._requestManager.transformRequest(ot,a.ResourceType.Style);a.getJSON(Lt,function(Ht,qt){Ht?je.fire(new a.ErrorEvent(Ht)):qt&&je._updateDiff(qt,ke)})}else typeof de=="object"&&this._updateDiff(de,ke)},K.prototype._updateDiff=function(de,ke){try{this.style.setState(de)&&this._update(!0)}catch(je){a.warnOnce("Unable to perform style diff: "+(je.message||je.error||je)+".  Rebuilding the style from scratch."),this._updateStyle(de,ke)}},K.prototype.getStyle=function(){if(this.style)return this.style.serialize()},K.prototype.isStyleLoaded=function(){return this.style?this.style.loaded():a.warnOnce("There is no style added to the map.")},K.prototype.addSource=function(de,ke){return this._lazyInitEmptyStyle(),this.style.addSource(de,ke),this._update(!0)},K.prototype.isSourceLoaded=function(de){var ke=this.style&&this.style.sourceCaches[de];if(ke===void 0){this.fire(new a.ErrorEvent(new Error("There is no source with ID '"+de+"'")));return}return ke.loaded()},K.prototype.areTilesLoaded=function(){var de=this.style&&this.style.sourceCaches;for(var ke in de){var je=de[ke],ot=je._tiles;for(var Lt in ot){var Ht=ot[Lt];if(!(Ht.state==="loaded"||Ht.state==="errored"))return!1}}return!0},K.prototype.addSourceType=function(de,ke,je){return this._lazyInitEmptyStyle(),this.style.addSourceType(de,ke,je)},K.prototype.removeSource=function(de){return this.style.removeSource(de),this._update(!0)},K.prototype.getSource=function(de){return this.style.getSource(de)},K.prototype.addImage=function(de,ke,je){je===void 0&&(je={});var ot=je.pixelRatio;ot===void 0&&(ot=1);var Lt=je.sdf;Lt===void 0&&(Lt=!1);var Ht=je.stretchX,qt=je.stretchY,lr=je.content;this._lazyInitEmptyStyle();var sr=0;if(ke instanceof pf||Vu&&ke instanceof Vu){var kr=a.browser.getImageData(ke),Xr=kr.width,Yr=kr.height,Hr=kr.data;this.style.addImage(de,{data:new a.RGBAImage({width:Xr,height:Yr},Hr),pixelRatio:ot,stretchX:Ht,stretchY:qt,content:lr,sdf:Lt,version:sr})}else{if(ke.width===void 0||ke.height===void 0)return this.fire(new a.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));var Kr=ke.width,fn=ke.height,kn=ke.data,Bn=ke;this.style.addImage(de,{data:new a.RGBAImage({width:Kr,height:fn},new Uint8Array(kn)),pixelRatio:ot,stretchX:Ht,stretchY:qt,content:lr,sdf:Lt,version:sr,userImage:Bn}),Bn.onAdd&&Bn.onAdd(this,de)}},K.prototype.updateImage=function(de,ke){var je=this.style.getImage(de);if(!je)return this.fire(new a.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));var ot=ke instanceof pf||Vu&&ke instanceof Vu?a.browser.getImageData(ke):ke,Lt=ot.width,Ht=ot.height,qt=ot.data;if(Lt===void 0||Ht===void 0)return this.fire(new a.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(Lt!==je.data.width||Ht!==je.data.height)return this.fire(new a.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image")));var lr=!(ke instanceof pf||Vu&&ke instanceof Vu);je.data.replace(qt,lr),this.style.updateImage(de,je)},K.prototype.hasImage=function(de){return de?!!this.style.getImage(de):(this.fire(new a.ErrorEvent(new Error("Missing required image id"))),!1)},K.prototype.removeImage=function(de){this.style.removeImage(de)},K.prototype.loadImage=function(de,ke){a.getImage(this._requestManager.transformRequest(de,a.ResourceType.Image),ke)},K.prototype.listImages=function(){return this.style.listImages()},K.prototype.addLayer=function(de,ke){return this._lazyInitEmptyStyle(),this.style.addLayer(de,ke),this._update(!0)},K.prototype.moveLayer=function(de,ke){return this.style.moveLayer(de,ke),this._update(!0)},K.prototype.removeLayer=function(de){return this.style.removeLayer(de),this._update(!0)},K.prototype.getLayer=function(de){return this.style.getLayer(de)},K.prototype.setLayerZoomRange=function(de,ke,je){return this.style.setLayerZoomRange(de,ke,je),this._update(!0)},K.prototype.setFilter=function(de,ke,je){return je===void 0&&(je={}),this.style.setFilter(de,ke,je),this._update(!0)},K.prototype.getFilter=function(de){return this.style.getFilter(de)},K.prototype.setPaintProperty=function(de,ke,je,ot){return ot===void 0&&(ot={}),this.style.setPaintProperty(de,ke,je,ot),this._update(!0)},K.prototype.getPaintProperty=function(de,ke){return this.style.getPaintProperty(de,ke)},K.prototype.setLayoutProperty=function(de,ke,je,ot){return ot===void 0&&(ot={}),this.style.setLayoutProperty(de,ke,je,ot),this._update(!0)},K.prototype.getLayoutProperty=function(de,ke){return this.style.getLayoutProperty(de,ke)},K.prototype.setLight=function(de,ke){return ke===void 0&&(ke={}),this._lazyInitEmptyStyle(),this.style.setLight(de,ke),this._update(!0)},K.prototype.getLight=function(){return this.style.getLight()},K.prototype.setFeatureState=function(de,ke){return this.style.setFeatureState(de,ke),this._update()},K.prototype.removeFeatureState=function(de,ke){return this.style.removeFeatureState(de,ke),this._update()},K.prototype.getFeatureState=function(de){return this.style.getFeatureState(de)},K.prototype.getContainer=function(){return this._container},K.prototype.getCanvasContainer=function(){return this._canvasContainer},K.prototype.getCanvas=function(){return this._canvas},K.prototype._containerDimensions=function(){var de=0,ke=0;return this._container&&(de=this._container.clientWidth||400,ke=this._container.clientHeight||300),[de,ke]},K.prototype._detectMissingCSS=function(){var de=a.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color");de!=="rgb(250, 128, 114)"&&a.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")},K.prototype._setupContainer=function(){var de=this._container;de.classList.add("mapboxgl-map");var ke=this._missingCSSCanary=A.create("div","mapboxgl-canary",de);ke.style.visibility="hidden",this._detectMissingCSS();var je=this._canvasContainer=A.create("div","mapboxgl-canvas-container",de);this._interactive&&je.classList.add("mapboxgl-interactive"),this._canvas=A.create("canvas","mapboxgl-canvas",je),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map"),this._canvas.setAttribute("role","region");var ot=this._containerDimensions();this._resizeCanvas(ot[0],ot[1]);var Lt=this._controlContainer=A.create("div","mapboxgl-control-container",de),Ht=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(function(qt){Ht[qt]=A.create("div","mapboxgl-ctrl-"+qt,Lt)}),this._container.addEventListener("scroll",this._onMapScroll,!1)},K.prototype._resizeCanvas=function(de,ke){var je=a.browser.devicePixelRatio||1;this._canvas.width=je*de,this._canvas.height=je*ke,this._canvas.style.width=de+"px",this._canvas.style.height=ke+"px"},K.prototype._setupPainter=function(){var de=a.extend({},C.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),ke=this._canvas.getContext("webgl",de)||this._canvas.getContext("experimental-webgl",de);if(!ke){this.fire(new a.ErrorEvent(new Error("Failed to initialize WebGL")));return}this.painter=new Br(ke,this.transform),a.webpSupported.testSupport(ke)},K.prototype._contextLost=function(de){de.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new a.Event("webglcontextlost",{originalEvent:de}))},K.prototype._contextRestored=function(de){this._setupPainter(),this.resize(),this._update(),this.fire(new a.Event("webglcontextrestored",{originalEvent:de}))},K.prototype._onMapScroll=function(de){if(de.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},K.prototype.loaded=function(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()},K.prototype._update=function(de){return this.style?(this._styleDirty=this._styleDirty||de,this._sourcesDirty=!0,this.triggerRepaint(),this):this},K.prototype._requestRenderFrame=function(de){return this._update(),this._renderTaskQueue.add(de)},K.prototype._cancelRenderFrame=function(de){this._renderTaskQueue.remove(de)},K.prototype._render=function(de){var ke=this,je,ot=0,Lt=this.painter.context.extTimerQuery;if(this.listens("gpu-timing-frame")&&(je=Lt.createQueryEXT(),Lt.beginQueryEXT(Lt.TIME_ELAPSED_EXT,je),ot=a.browser.now()),this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(de),!this._removed){var Ht=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;var qt=this.transform.zoom,lr=a.browser.now();this.style.zoomHistory.update(qt,lr);var sr=new a.EvaluationParameters(qt,{now:lr,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),kr=sr.crossFadingFactor();(kr!==1||kr!==this._crossFadingFactor)&&(Ht=!0,this._crossFadingFactor=kr),this.style.update(sr)}if(this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:this._fadeDuration,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer")}),this.fire(new a.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new a.Event("load"))),this.style&&(this.style.hasTransitions()||Ht)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),this.listens("gpu-timing-frame")){var Xr=a.browser.now()-ot;Lt.endQueryEXT(Lt.TIME_ELAPSED_EXT,je),setTimeout(function(){var Kr=Lt.getQueryObjectEXT(je,Lt.QUERY_RESULT_EXT)/1e6;Lt.deleteQueryEXT(je),ke.fire(new a.Event("gpu-timing-frame",{cpuTime:Xr,gpuTime:Kr}))},50)}if(this.listens("gpu-timing-layer")){var Yr=this.painter.collectGpuTimers();setTimeout(function(){var Kr=ke.painter.queryGpuTimers(Yr);ke.fire(new a.Event("gpu-timing-layer",{layerTimes:Kr}))},50)}var Hr=this._sourcesDirty||this._styleDirty||this._placementDirty;return Hr||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new a.Event("idle")),this._loaded&&!this._fullyLoaded&&!Hr&&(this._fullyLoaded=!0),this}},K.prototype.remove=function(){this._hash&&this._hash.remove();for(var de=0,ke=this._controls;de<ke.length;de+=1){var je=ke[de];je.onRemove(this)}this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),typeof a.window!="undefined"&&(a.window.removeEventListener("resize",this._onWindowResize,!1),a.window.removeEventListener("orientationchange",this._onWindowResize,!1),a.window.removeEventListener("online",this._onWindowOnline,!1));var ot=this.painter.context.gl.getExtension("WEBGL_lose_context");ot&&ot.loseContext&&ot.loseContext(),Yc(this._canvasContainer),Yc(this._controlContainer),Yc(this._missingCSSCanary),this._container.classList.remove("mapboxgl-map"),this._removed=!0,this.fire(new a.Event("remove"))},K.prototype.triggerRepaint=function(){var de=this;this.style&&!this._frame&&(this._frame=a.browser.frame(function(ke){de._frame=null,de._render(ke)}))},K.prototype._onWindowOnline=function(){this._update()},K.prototype._onWindowResize=function(de){this._trackResize&&this.resize({originalEvent:de})._update()},he.showTileBoundaries.get=function(){return!!this._showTileBoundaries},he.showTileBoundaries.set=function(re){this._showTileBoundaries!==re&&(this._showTileBoundaries=re,this._update())},he.showPadding.get=function(){return!!this._showPadding},he.showPadding.set=function(re){this._showPadding!==re&&(this._showPadding=re,this._update())},he.showCollisionBoxes.get=function(){return!!this._showCollisionBoxes},he.showCollisionBoxes.set=function(re){this._showCollisionBoxes!==re&&(this._showCollisionBoxes=re,re?this.style._generateCollisionBoxes():this._update())},he.showOverdrawInspector.get=function(){return!!this._showOverdrawInspector},he.showOverdrawInspector.set=function(re){this._showOverdrawInspector!==re&&(this._showOverdrawInspector=re,this._update())},he.repaint.get=function(){return!!this._repaint},he.repaint.set=function(re){this._repaint!==re&&(this._repaint=re,this.triggerRepaint())},he.vertices.get=function(){return!!this._vertices},he.vertices.set=function(re){this._vertices=re,this._update()},K.prototype._setCacheLimits=function(de,ke){a.setCacheLimits(de,ke)},he.version.get=function(){return a.version},Object.defineProperties(K.prototype,he),K}(Ol);function Yc(fe){fe.parentNode&&fe.parentNode.removeChild(fe)}var Sh={showCompass:!0,showZoom:!0,visualizePitch:!1},hu=function(K){var he=this;this.options=a.extend({},Sh,K),this._container=A.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",function(re){return re.preventDefault()}),this.options.showZoom&&(a.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",function(re){return he._map.zoomIn({},{originalEvent:re})}),A.create("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden",!0),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",function(re){return he._map.zoomOut({},{originalEvent:re})}),A.create("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden",!0)),this.options.showCompass&&(a.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",function(re){he.options.visualizePitch?he._map.resetNorthPitch({},{originalEvent:re}):he._map.resetNorth({},{originalEvent:re})}),this._compassIcon=A.create("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden",!0))};hu.prototype._updateZoomButtons=function(){var K=this._map.getZoom(),he=K===this._map.getMaxZoom(),re=K===this._map.getMinZoom();this._zoomInButton.disabled=he,this._zoomOutButton.disabled=re,this._zoomInButton.setAttribute("aria-disabled",he.toString()),this._zoomOutButton.setAttribute("aria-disabled",re.toString())},hu.prototype._rotateCompassArrow=function(){var K=this.options.visualizePitch?"scale("+1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)+") rotateX("+this._map.transform.pitch+"deg) rotateZ("+this._map.transform.angle*(180/Math.PI)+"deg)":"rotate("+this._map.transform.angle*(180/Math.PI)+"deg)";this._compassIcon.style.transform=K},hu.prototype.onAdd=function(K){return this._map=K,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new ds(this._map,this._compass,this.options.visualizePitch)),this._container},hu.prototype.onRemove=function(){A.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map},hu.prototype._createButton=function(K,he){var re=A.create("button",K,this._container);return re.type="button",re.addEventListener("click",he),re},hu.prototype._setButtonTitle=function(K,he){var re=this._map._getUIString("NavigationControl."+he);K.title=re,K.setAttribute("aria-label",re)};var ds=function(K,he,re){re===void 0&&(re=!1),this._clickTolerance=10,this.element=he,this.mouseRotate=new fa({clickTolerance:K.dragRotate._mouseRotate._clickTolerance}),this.map=K,re&&(this.mousePitch=new $n({clickTolerance:K.dragRotate._mousePitch._clickTolerance})),a.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),A.addEventListener(he,"mousedown",this.mousedown),A.addEventListener(he,"touchstart",this.touchstart,{passive:!1}),A.addEventListener(he,"touchmove",this.touchmove),A.addEventListener(he,"touchend",this.touchend),A.addEventListener(he,"touchcancel",this.reset)};ds.prototype.down=function(K,he){this.mouseRotate.mousedown(K,he),this.mousePitch&&this.mousePitch.mousedown(K,he),A.disableDrag()},ds.prototype.move=function(K,he){var re=this.map,de=this.mouseRotate.mousemoveWindow(K,he);if(de&&de.bearingDelta&&re.setBearing(re.getBearing()+de.bearingDelta),this.mousePitch){var ke=this.mousePitch.mousemoveWindow(K,he);ke&&ke.pitchDelta&&re.setPitch(re.getPitch()+ke.pitchDelta)}},ds.prototype.off=function(){var K=this.element;A.removeEventListener(K,"mousedown",this.mousedown),A.removeEventListener(K,"touchstart",this.touchstart,{passive:!1}),A.removeEventListener(K,"touchmove",this.touchmove),A.removeEventListener(K,"touchend",this.touchend),A.removeEventListener(K,"touchcancel",this.reset),this.offTemp()},ds.prototype.offTemp=function(){A.enableDrag(),A.removeEventListener(a.window,"mousemove",this.mousemove),A.removeEventListener(a.window,"mouseup",this.mouseup)},ds.prototype.mousedown=function(K){this.down(a.extend({},K,{ctrlKey:!0,preventDefault:function(){return K.preventDefault()}}),A.mousePos(this.element,K)),A.addEventListener(a.window,"mousemove",this.mousemove),A.addEventListener(a.window,"mouseup",this.mouseup)},ds.prototype.mousemove=function(K){this.move(K,A.mousePos(this.element,K))},ds.prototype.mouseup=function(K){this.mouseRotate.mouseupWindow(K),this.mousePitch&&this.mousePitch.mouseupWindow(K),this.offTemp()},ds.prototype.touchstart=function(K){K.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=A.touchPos(this.element,K.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:function(){return K.preventDefault()}},this._startPos))},ds.prototype.touchmove=function(K){K.targetTouches.length!==1?this.reset():(this._lastPos=A.touchPos(this.element,K.targetTouches)[0],this.move({preventDefault:function(){return K.preventDefault()}},this._lastPos))},ds.prototype.touchend=function(K){K.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()},ds.prototype.reset=function(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()};function vu(fe,K,he){if(fe=new a.LngLat(fe.lng,fe.lat),K){var re=new a.LngLat(fe.lng-360,fe.lat),de=new a.LngLat(fe.lng+360,fe.lat),ke=he.locationPoint(fe).distSqr(K);he.locationPoint(re).distSqr(K)<ke?fe=re:he.locationPoint(de).distSqr(K)<ke&&(fe=de)}for(;Math.abs(fe.lng-he.center.lng)>180;){var je=he.locationPoint(fe);if(je.x>=0&&je.y>=0&&je.x<=he.width&&je.y<=he.height)break;fe.lng>he.center.lng?fe.lng-=360:fe.lng+=360}return fe}var Xc={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function Eh(fe,K,he){var re=fe.classList;for(var de in Xc)re.remove("mapboxgl-"+he+"-anchor-"+de);re.add("mapboxgl-"+he+"-anchor-"+K)}var Jf=function(fe){function K(he,re){if(fe.call(this),(he instanceof a.window.HTMLElement||re)&&(he=a.extend({element:he},re)),a.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress"],this),this._anchor=he&&he.anchor||"center",this._color=he&&he.color||"#3FB1CE",this._scale=he&&he.scale||1,this._draggable=he&&he.draggable||!1,this._clickTolerance=he&&he.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=he&&he.rotation||0,this._rotationAlignment=he&&he.rotationAlignment||"auto",this._pitchAlignment=he&&he.pitchAlignment&&he.pitchAlignment!=="auto"?he.pitchAlignment:this._rotationAlignment,!he||!he.element){this._defaultMarker=!0,this._element=A.create("div"),this._element.setAttribute("aria-label","Map marker");var de=A.createNS("http://www.w3.org/2000/svg","svg"),ke=41,je=27;de.setAttributeNS(null,"display","block"),de.setAttributeNS(null,"height",ke+"px"),de.setAttributeNS(null,"width",je+"px"),de.setAttributeNS(null,"viewBox","0 0 "+je+" "+ke);var ot=A.createNS("http://www.w3.org/2000/svg","g");ot.setAttributeNS(null,"stroke","none"),ot.setAttributeNS(null,"stroke-width","1"),ot.setAttributeNS(null,"fill","none"),ot.setAttributeNS(null,"fill-rule","evenodd");var Lt=A.createNS("http://www.w3.org/2000/svg","g");Lt.setAttributeNS(null,"fill-rule","nonzero");var Ht=A.createNS("http://www.w3.org/2000/svg","g");Ht.setAttributeNS(null,"transform","translate(3.0, 29.0)"),Ht.setAttributeNS(null,"fill","#000000");for(var qt=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}],lr=0,sr=qt;lr<sr.length;lr+=1){var kr=sr[lr],Xr=A.createNS("http://www.w3.org/2000/svg","ellipse");Xr.setAttributeNS(null,"opacity","0.04"),Xr.setAttributeNS(null,"cx","10.5"),Xr.setAttributeNS(null,"cy","5.80029008"),Xr.setAttributeNS(null,"rx",kr.rx),Xr.setAttributeNS(null,"ry",kr.ry),Ht.appendChild(Xr)}var Yr=A.createNS("http://www.w3.org/2000/svg","g");Yr.setAttributeNS(null,"fill",this._color);var Hr=A.createNS("http://www.w3.org/2000/svg","path");Hr.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),Yr.appendChild(Hr);var Kr=A.createNS("http://www.w3.org/2000/svg","g");Kr.setAttributeNS(null,"opacity","0.25"),Kr.setAttributeNS(null,"fill","#000000");var fn=A.createNS("http://www.w3.org/2000/svg","path");fn.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),Kr.appendChild(fn);var kn=A.createNS("http://www.w3.org/2000/svg","g");kn.setAttributeNS(null,"transform","translate(6.0, 7.0)"),kn.setAttributeNS(null,"fill","#FFFFFF");var Bn=A.createNS("http://www.w3.org/2000/svg","g");Bn.setAttributeNS(null,"transform","translate(8.0, 8.0)");var Yn=A.createNS("http://www.w3.org/2000/svg","circle");Yn.setAttributeNS(null,"fill","#000000"),Yn.setAttributeNS(null,"opacity","0.25"),Yn.setAttributeNS(null,"cx","5.5"),Yn.setAttributeNS(null,"cy","5.5"),Yn.setAttributeNS(null,"r","5.4999962");var Xn=A.createNS("http://www.w3.org/2000/svg","circle");Xn.setAttributeNS(null,"fill","#FFFFFF"),Xn.setAttributeNS(null,"cx","5.5"),Xn.setAttributeNS(null,"cy","5.5"),Xn.setAttributeNS(null,"r","5.4999962"),Bn.appendChild(Yn),Bn.appendChild(Xn),Lt.appendChild(Ht),Lt.appendChild(Yr),Lt.appendChild(Kr),Lt.appendChild(kn),Lt.appendChild(Bn),de.appendChild(Lt),de.setAttributeNS(null,"height",ke*this._scale+"px"),de.setAttributeNS(null,"width",je*this._scale+"px"),this._element.appendChild(de),this._offset=a.Point.convert(he&&he.offset||[0,-14])}else this._element=he.element,this._offset=a.Point.convert(he&&he.offset||[0,0]);this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",function(Gn){Gn.preventDefault()}),this._element.addEventListener("mousedown",function(Gn){Gn.preventDefault()}),Eh(this._element,this._anchor,"marker"),this._popup=null}return fe&&(K.__proto__=fe),K.prototype=Object.create(fe&&fe.prototype),K.prototype.constructor=K,K.prototype.addTo=function(re){return this.remove(),this._map=re,re.getCanvasContainer().appendChild(this._element),re.on("move",this._update),re.on("moveend",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this},K.prototype.remove=function(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),A.remove(this._element),this._popup&&this._popup.remove(),this},K.prototype.getLngLat=function(){return this._lngLat},K.prototype.setLngLat=function(re){return this._lngLat=a.LngLat.convert(re),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this},K.prototype.getElement=function(){return this._element},K.prototype.setPopup=function(re){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),re){if(!("offset"in re.options)){var de=38.1,ke=13.5,je=Math.sqrt(Math.pow(ke,2)/2);re.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-de],"bottom-left":[je,(de-ke+je)*-1],"bottom-right":[-je,(de-ke+je)*-1],left:[ke,(de-ke)*-1],right:[-ke,(de-ke)*-1]}:this._offset}this._popup=re,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this},K.prototype._onKeyPress=function(re){var de=re.code,ke=re.charCode||re.keyCode;(de==="Space"||de==="Enter"||ke===32||ke===13)&&this.togglePopup()},K.prototype._onMapClick=function(re){var de=re.originalEvent.target,ke=this._element;this._popup&&(de===ke||ke.contains(de))&&this.togglePopup()},K.prototype.getPopup=function(){return this._popup},K.prototype.togglePopup=function(){var re=this._popup;if(re)re.isOpen()?re.remove():re.addTo(this._map);else return this;return this},K.prototype._update=function(re){if(!!this._map){this._map.transform.renderWorldCopies&&(this._lngLat=vu(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);var de="";this._rotationAlignment==="viewport"||this._rotationAlignment==="auto"?de="rotateZ("+this._rotation+"deg)":this._rotationAlignment==="map"&&(de="rotateZ("+(this._rotation-this._map.getBearing())+"deg)");var ke="";this._pitchAlignment==="viewport"||this._pitchAlignment==="auto"?ke="rotateX(0deg)":this._pitchAlignment==="map"&&(ke="rotateX("+this._map.getPitch()+"deg)"),(!re||re.type==="moveend")&&(this._pos=this._pos.round()),A.setTransform(this._element,Xc[this._anchor]+" translate("+this._pos.x+"px, "+this._pos.y+"px) "+ke+" "+de)}},K.prototype.getOffset=function(){return this._offset},K.prototype.setOffset=function(re){return this._offset=a.Point.convert(re),this._update(),this},K.prototype._onMove=function(re){if(!this._isDragging){var de=this._clickTolerance||this._map._clickTolerance;this._isDragging=re.point.dist(this._pointerdownPos)>=de}!this._isDragging||(this._pos=re.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new a.Event("dragstart"))),this.fire(new a.Event("drag")))},K.prototype._onUp=function(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),this._state==="active"&&this.fire(new a.Event("dragend")),this._state="inactive"},K.prototype._addDragHandler=function(re){this._element.contains(re.originalEvent.target)&&(re.preventDefault(),this._positionDelta=re.point.sub(this._pos).add(this._offset),this._pointerdownPos=re.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},K.prototype.setDraggable=function(re){return this._draggable=!!re,this._map&&(re?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this},K.prototype.isDraggable=function(){return this._draggable},K.prototype.setRotation=function(re){return this._rotation=re||0,this._update(),this},K.prototype.getRotation=function(){return this._rotation},K.prototype.setRotationAlignment=function(re){return this._rotationAlignment=re||"auto",this._update(),this},K.prototype.getRotationAlignment=function(){return this._rotationAlignment},K.prototype.setPitchAlignment=function(re){return this._pitchAlignment=re&&re!=="auto"?re:this._rotationAlignment,this._update(),this},K.prototype.getPitchAlignment=function(){return this._pitchAlignment},K}(a.Evented),Tv={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0},Gu;function Zc(fe){Gu!==void 0?fe(Gu):a.window.navigator.permissions!==void 0?a.window.navigator.permissions.query({name:"geolocation"}).then(function(K){Gu=K.state!=="denied",fe(Gu)}):(Gu=!!a.window.navigator.geolocation,fe(Gu))}var Qf=0,gf=!1,yd=function(fe){function K(he){fe.call(this),this.options=a.extend({},Tv,he),a.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker"],this)}return fe&&(K.__proto__=fe),K.prototype=Object.create(fe&&fe.prototype),K.prototype.constructor=K,K.prototype.onAdd=function(re){return this._map=re,this._container=A.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),Zc(this._setupUI),this._container},K.prototype.onRemove=function(){this._geolocationWatchID!==void 0&&(a.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),A.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,Qf=0,gf=!1},K.prototype._isOutOfMapMaxBounds=function(re){var de=this._map.getMaxBounds(),ke=re.coords;return de&&(ke.longitude<de.getWest()||ke.longitude>de.getEast()||ke.latitude<de.getSouth()||ke.latitude>de.getNorth())},K.prototype._setErrorState=function(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break}},K.prototype._onSuccess=function(re){if(!!this._map){if(this._isOutOfMapMaxBounds(re)){this._setErrorState(),this.fire(new a.Event("outofmaxbounds",re)),this._updateMarker(),this._finish();return}if(this.options.trackUserLocation)switch(this._lastKnownPosition=re,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(re),(!this.options.trackUserLocation||this._watchState==="ACTIVE_LOCK")&&this._updateCamera(re),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new a.Event("geolocate",re)),this._finish()}},K.prototype._updateCamera=function(re){var de=new a.LngLat(re.coords.longitude,re.coords.latitude),ke=re.coords.accuracy,je=this._map.getBearing(),ot=a.extend({bearing:je},this.options.fitBoundsOptions);this._map.fitBounds(de.toBounds(ke),ot,{geolocateSource:!0})},K.prototype._updateMarker=function(re){if(re){var de=new a.LngLat(re.coords.longitude,re.coords.latitude);this._accuracyCircleMarker.setLngLat(de).addTo(this._map),this._userLocationDotMarker.setLngLat(de).addTo(this._map),this._accuracy=re.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},K.prototype._updateCircleRadius=function(){var re=this._map._container.clientHeight/2,de=this._map.unproject([0,re]),ke=this._map.unproject([1,re]),je=de.distanceTo(ke),ot=Math.ceil(2*this._accuracy/je);this._circleElement.style.width=ot+"px",this._circleElement.style.height=ot+"px"},K.prototype._onZoom=function(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},K.prototype._onError=function(re){if(!!this._map){if(this.options.trackUserLocation)if(re.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;var de=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=de,this._geolocateButton.setAttribute("aria-label",de),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(re.code===3&&gf)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new a.Event("error",re)),this._finish()}},K.prototype._finish=function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},K.prototype._setupUI=function(re){var de=this;if(this._container.addEventListener("contextmenu",function(ot){return ot.preventDefault()}),this._geolocateButton=A.create("button","mapboxgl-ctrl-geolocate",this._container),A.create("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden",!0),this._geolocateButton.type="button",re===!1){a.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");var ke=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=ke,this._geolocateButton.setAttribute("aria-label",ke)}else{var je=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=je,this._geolocateButton.setAttribute("aria-label",je)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=A.create("div","mapboxgl-user-location-dot"),this._userLocationDotMarker=new Jf(this._dotElement),this._circleElement=A.create("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new Jf({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",function(ot){var Lt=ot.originalEvent&&ot.originalEvent.type==="resize";!ot.geolocateSource&&de._watchState==="ACTIVE_LOCK"&&!Lt&&(de._watchState="BACKGROUND",de._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),de._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),de.fire(new a.Event("trackuserlocationend")))})},K.prototype.trigger=function(){if(!this._setup)return a.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new a.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":Qf--,gf=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new a.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new a.Event("trackuserlocationstart"));break}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error");break}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),Qf++;var re;Qf>1?(re={maximumAge:6e5,timeout:0},gf=!0):(re=this.options.positionOptions,gf=!1),this._geolocationWatchID=a.window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,re)}}else a.window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0},K.prototype._clearWatch=function(){a.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)},K}(a.Evented),Av={maxWidth:100,unit:"metric"},yf=function(K){this.options=a.extend({},Av,K),a.bindAll(["_onMove","setUnit"],this)};yf.prototype.getDefaultPosition=function(){return"bottom-left"},yf.prototype._onMove=function(){Mv(this._map,this._container,this.options)},yf.prototype.onAdd=function(K){return this._map=K,this._container=A.create("div","mapboxgl-ctrl mapboxgl-ctrl-scale",K.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container},yf.prototype.onRemove=function(){A.remove(this._container),this._map.off("move",this._onMove),this._map=void 0},yf.prototype.setUnit=function(K){this.options.unit=K,Mv(this._map,this._container,this.options)};function Mv(fe,K,he){var re=he&&he.maxWidth||100,de=fe._container.clientHeight/2,ke=fe.unproject([0,de]),je=fe.unproject([re,de]),ot=ke.distanceTo(je);if(he&&he.unit==="imperial"){var Lt=3.2808*ot;if(Lt>5280){var Ht=Lt/5280;$f(K,re,Ht,fe._getUIString("ScaleControl.Miles"))}else $f(K,re,Lt,fe._getUIString("ScaleControl.Feet"))}else if(he&&he.unit==="nautical"){var qt=ot/1852;$f(K,re,qt,fe._getUIString("ScaleControl.NauticalMiles"))}else ot>=1e3?$f(K,re,ot/1e3,fe._getUIString("ScaleControl.Kilometers")):$f(K,re,ot,fe._getUIString("ScaleControl.Meters"))}function $f(fe,K,he,re){var de=xd(he),ke=de/he;fe.style.width=K*ke+"px",fe.innerHTML=de+"&nbsp;"+re}function md(fe){var K=Math.pow(10,Math.ceil(-Math.log(fe)/Math.LN10));return Math.round(fe*K)/K}function xd(fe){var K=Math.pow(10,(""+Math.floor(fe)).length-1),he=fe/K;return he=he>=10?10:he>=5?5:he>=3?3:he>=2?2:he>=1?1:md(he),K*he}var ul=function(K){this._fullscreen=!1,K&&K.container&&(K.container instanceof a.window.HTMLElement?this._container=K.container:a.warnOnce("Full screen control 'container' must be a DOM element.")),a.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in a.window.document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in a.window.document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in a.window.document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in a.window.document&&(this._fullscreenchange="MSFullscreenChange")};ul.prototype.onAdd=function(K){return this._map=K,this._container||(this._container=this._map.getContainer()),this._controlContainer=A.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",a.warnOnce("This device does not support fullscreen mode.")),this._controlContainer},ul.prototype.onRemove=function(){A.remove(this._controlContainer),this._map=null,a.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)},ul.prototype._checkFullscreenSupport=function(){return!!(a.window.document.fullscreenEnabled||a.window.document.mozFullScreenEnabled||a.window.document.msFullscreenEnabled||a.window.document.webkitFullscreenEnabled)},ul.prototype._setupUI=function(){var K=this._fullscreenButton=A.create("button","mapboxgl-ctrl-fullscreen",this._controlContainer);A.create("span","mapboxgl-ctrl-icon",K).setAttribute("aria-hidden",!0),K.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),a.window.document.addEventListener(this._fullscreenchange,this._changeIcon)},ul.prototype._updateTitle=function(){var K=this._getTitle();this._fullscreenButton.setAttribute("aria-label",K),this._fullscreenButton.title=K},ul.prototype._getTitle=function(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")},ul.prototype._isFullscreen=function(){return this._fullscreen},ul.prototype._changeIcon=function(){var K=a.window.document.fullscreenElement||a.window.document.mozFullScreenElement||a.window.document.webkitFullscreenElement||a.window.document.msFullscreenElement;K===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())},ul.prototype._onClickFullscreen=function(){this._isFullscreen()?a.window.document.exitFullscreen?a.window.document.exitFullscreen():a.window.document.mozCancelFullScreen?a.window.document.mozCancelFullScreen():a.window.document.msExitFullscreen?a.window.document.msExitFullscreen():a.window.document.webkitCancelFullScreen&&a.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()};var bd={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},wd=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", "),U0=function(fe){function K(he){fe.call(this),this.options=a.extend(Object.create(bd),he),a.bindAll(["_update","_onClose","remove","_onMouseMove","_onMouseUp","_onDrag"],this)}return fe&&(K.__proto__=fe),K.prototype=Object.create(fe&&fe.prototype),K.prototype.constructor=K,K.prototype.addTo=function(re){return this._map&&this.remove(),this._map=re,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")):this._map.on("move",this._update),this.fire(new a.Event("open")),this},K.prototype.isOpen=function(){return!!this._map},K.prototype.remove=function(){return this._content&&A.remove(this._content),this._container&&(A.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new a.Event("close")),this},K.prototype.getLngLat=function(){return this._lngLat},K.prototype.setLngLat=function(re){return this._lngLat=a.LngLat.convert(re),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.remove("mapboxgl-track-pointer")),this},K.prototype.trackPointer=function(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")),this},K.prototype.getElement=function(){return this._container},K.prototype.setText=function(re){return this.setDOMContent(a.window.document.createTextNode(re))},K.prototype.setHTML=function(re){var de=a.window.document.createDocumentFragment(),ke=a.window.document.createElement("body"),je;for(ke.innerHTML=re;je=ke.firstChild,!!je;)de.appendChild(je);return this.setDOMContent(de)},K.prototype.getMaxWidth=function(){return this._container&&this._container.style.maxWidth},K.prototype.setMaxWidth=function(re){return this.options.maxWidth=re,this._update(),this},K.prototype.setDOMContent=function(re){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=A.create("div","mapboxgl-popup-content",this._container);return this._content.appendChild(re),this._createCloseButton(),this._update(),this._focusFirstElement(),this},K.prototype.addClassName=function(re){this._container&&this._container.classList.add(re)},K.prototype.removeClassName=function(re){this._container&&this._container.classList.remove(re)},K.prototype.setOffset=function(re){return this.options.offset=re,this._update(),this},K.prototype.toggleClassName=function(re){if(this._container)return this._container.classList.toggle(re)},K.prototype._createCloseButton=function(){this.options.closeButton&&(this._closeButton=A.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))},K.prototype._onMouseUp=function(re){this._update(re.point)},K.prototype._onMouseMove=function(re){this._update(re.point)},K.prototype._onDrag=function(re){this._update(re.point)},K.prototype._update=function(re){var de=this,ke=this._lngLat||this._trackPointer;if(!(!this._map||!ke||!this._content)&&(this._container||(this._container=A.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=A.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(" ").forEach(function(kr){return de._container.classList.add(kr)}),this._trackPointer&&this._container.classList.add("mapboxgl-popup-track-pointer")),this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=vu(this._lngLat,this._pos,this._map.transform)),!(this._trackPointer&&!re))){var je=this._pos=this._trackPointer&&re?re:this._map.project(this._lngLat),ot=this.options.anchor,Lt=Td(this.options.offset);if(!ot){var Ht=this._container.offsetWidth,qt=this._container.offsetHeight,lr;je.y+Lt.bottom.y<qt?lr=["top"]:je.y>this._map.transform.height-qt?lr=["bottom"]:lr=[],je.x<Ht/2?lr.push("left"):je.x>this._map.transform.width-Ht/2&&lr.push("right"),lr.length===0?ot="bottom":ot=lr.join("-")}var sr=je.add(Lt[ot]).round();A.setTransform(this._container,Xc[ot]+" translate("+sr.x+"px,"+sr.y+"px)"),Eh(this._container,ot,"popup")}},K.prototype._focusFirstElement=function(){if(!(!this.options.focusAfterOpen||!this._container)){var re=this._container.querySelector(wd);re&&re.focus()}},K.prototype._onClose=function(){this.remove()},K}(a.Evented);function Td(fe){if(fe)if(typeof fe=="number"){var K=Math.round(Math.sqrt(.5*Math.pow(fe,2)));return{center:new a.Point(0,0),top:new a.Point(0,fe),"top-left":new a.Point(K,K),"top-right":new a.Point(-K,K),bottom:new a.Point(0,-fe),"bottom-left":new a.Point(K,-K),"bottom-right":new a.Point(-K,-K),left:new a.Point(fe,0),right:new a.Point(-fe,0)}}else if(fe instanceof a.Point||Array.isArray(fe)){var he=a.Point.convert(fe);return{center:he,top:he,"top-left":he,"top-right":he,bottom:he,"bottom-left":he,"bottom-right":he,left:he,right:he}}else return{center:a.Point.convert(fe.center||[0,0]),top:a.Point.convert(fe.top||[0,0]),"top-left":a.Point.convert(fe["top-left"]||[0,0]),"top-right":a.Point.convert(fe["top-right"]||[0,0]),bottom:a.Point.convert(fe.bottom||[0,0]),"bottom-left":a.Point.convert(fe["bottom-left"]||[0,0]),"bottom-right":a.Point.convert(fe["bottom-right"]||[0,0]),left:a.Point.convert(fe.left||[0,0]),right:a.Point.convert(fe.right||[0,0])};else return Td(new a.Point(0,0))}var so={version:a.version,supported:C,setRTLTextPlugin:a.setRTLTextPlugin,getRTLTextPluginStatus:a.getRTLTextPluginStatus,Map:wv,NavigationControl:hu,GeolocateControl:yd,AttributionControl:Ka,ScaleControl:yf,FullscreenControl:ul,Popup:U0,Marker:Jf,Style:_o,LngLat:a.LngLat,LngLatBounds:a.LngLatBounds,Point:a.Point,MercatorCoordinate:a.MercatorCoordinate,Evented:a.Evented,config:a.config,prewarm:Ft,clearPrewarmedResources:Kt,get accessToken(){return a.config.ACCESS_TOKEN},set accessToken(fe){a.config.ACCESS_TOKEN=fe},get baseApiUrl(){return a.config.API_URL},set baseApiUrl(fe){a.config.API_URL=fe},get workerCount(){return dr.workerCount},set workerCount(fe){dr.workerCount=fe},get maxParallelImageRequests(){return a.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(fe){a.config.MAX_PARALLEL_IMAGE_REQUESTS=fe},clearStorage:function(K){a.clearTileCache(K)},workerUrl:""};return so}),g})},3108:function(G,U,e){G.exports=e(26099)},26099:function(G,U,e){var g=e(64928),L=e(32420),a=e(51160),C=e(76752),A=e(55616),v=e(31264),p=e(47520),r=e(18400),t=e(72512),s=e(76244),n=1073741824;G.exports=function(l,m){m||(m={}),l=p(l,"float64"),m=A(m,{bounds:"range bounds dataBox databox",maxDepth:"depth maxDepth maxdepth level maxLevel maxlevel levels",dtype:"type dtype format out dst output destination"});var h=v(m.maxDepth,255),M=v(m.bounds,C(l,2));M[0]===M[2]&&M[2]++,M[1]===M[3]&&M[3]++;var c=f(l,M),i=l.length>>>1,d;m.dtype||(m.dtype="array"),typeof m.dtype=="string"?d=new(t(m.dtype))(i):m.dtype&&(d=m.dtype,Array.isArray(d)&&(d.length=i));for(var b=0;b<i;++b)d[b]=b;var w=[],E=[],y=[],S=[];N(0,0,1,d,0,1);for(var T=0,o=0;o<w.length;o++){var P=w[o];if(d.set)d.set(P,T);else for(var x=0,_=P.length;x<_;x++)d[x+T]=P[x];var I=T+w[o].length;S[o]=[T,I],T=I}return d.range=k,d;function N(z,B,W,q,ee,Q){if(!q.length)return null;var oe=w[ee]||(w[ee]=[]),Z=y[ee]||(y[ee]=[]),Y=E[ee]||(E[ee]=[]),te=oe.length;if(ee++,ee>h||Q>n){for(var X=0;X<q.length;X++)oe.push(q[X]),Z.push(Q),Y.push(null,null,null,null);return te}if(oe.push(q[0]),Z.push(Q),q.length<=1)return Y.push(null,null,null,null),te;for(var $=W*.5,ie=z+$,J=B+$,j=[],se=[],ne=[],le=[],pe=1,Ae=q.length;pe<Ae;pe++){var be=q[pe],Re=c[be*2],xe=c[be*2+1];Re<ie?xe<J?j.push(be):se.push(be):xe<J?ne.push(be):le.push(be)}return Q<<=2,Y.push(N(z,B,$,j,ee,Q),N(z,J,$,se,ee,Q+1),N(ie,B,$,ne,ee,Q+2),N(ie,J,$,le,ee,Q+3)),te}function k(){for(var z=[],B=arguments.length;B--;)z[B]=arguments[B];var W;if(r(z[z.length-1])){var q=z.pop();!z.length&&(q.x!=null||q.l!=null||q.left!=null)&&(z=[q],W={}),W=A(q,{level:"level maxLevel",d:"d diam diameter r radius px pxSize pixel pixelSize maxD size minSize",lod:"lod details ranges offsets"})}else W={};z.length||(z=M);var ee=a.apply(void 0,z),Q=[Math.min(ee.x,ee.x+ee.width),Math.min(ee.y,ee.y+ee.height),Math.max(ee.x,ee.x+ee.width),Math.max(ee.y,ee.y+ee.height)],oe=Q[0],Z=Q[1],Y=Q[2],te=Q[3],X=f([oe,Z,Y,te],M),$=X[0],ie=X[1],J=X[2],j=X[3],se=v(W.level,w.length);if(W.d!=null){var ne;typeof W.d=="number"?ne=[W.d,W.d]:W.d.length&&(ne=W.d),se=Math.min(Math.max(Math.ceil(-s(Math.abs(ne[0])/(M[2]-M[0]))),Math.ceil(-s(Math.abs(ne[1])/(M[3]-M[1])))),se)}if(se=Math.min(se,w.length),W.lod)return F($,ie,J,j,se);var le=[];pe(0,0,1,0,0,1);function pe(be,Re,xe,Me,ye,Se){if(!(ye===null||Se===null)){var Fe=be+xe,Be=Re+xe;if(!($>Fe||ie>Be||J<be||j<Re)&&!(Me>=se)&&ye!==Se){var _e=w[Me];Se===void 0&&(Se=_e.length);for(var Ue=ye;Ue<Se;Ue++){var it=_e[Ue],lt=l[it*2],$e=l[it*2+1];lt>=oe&&lt<=Y&&$e>=Z&&$e<=te&&le.push(it)}var qe=E[Me],ft=qe[ye*4+0],ct=qe[ye*4+1],pt=qe[ye*4+2],yt=qe[ye*4+3],Et=Ae(qe,ye+1),tt=xe*.5,Ie=Me+1;pe(be,Re,tt,Ie,ft,ct||pt||yt||Et),pe(be,Re+tt,tt,Ie,ct,pt||yt||Et),pe(be+tt,Re,tt,Ie,pt,yt||Et),pe(be+tt,Re+tt,tt,Ie,yt,Et)}}}function Ae(be,Re){for(var xe=null,Me=0;xe===null;)if(xe=be[Re*4+Me],Me++,Me>be.length)return null;return xe}return le}function F(z,B,W,q,ee){for(var Q=[],oe=0;oe<ee;oe++){var Z=y[oe],Y=S[oe][0],te=O(z,B,oe),X=O(W,q,oe),$=g.ge(Z,te),ie=g.gt(Z,X,$,Z.length-1);Q[oe]=[$+Y,ie+Y]}return Q}function O(z,B,W){for(var q=1,ee=.5,Q=.5,oe=.5,Z=0;Z<W;Z++)q<<=2,q+=z<ee?B<Q?0:1:B<Q?2:3,oe*=.5,ee+=z<ee?-oe:oe,Q+=B<Q?-oe:oe;return q}};function f(u,l){for(var m=l[0],h=l[1],M=l[2],c=l[3],i=1/(M-m),d=1/(c-h),b=new Array(u.length),w=0,E=u.length/2;w<E;w++)b[2*w]=L((u[2*w]-m)*i,0,1),b[2*w+1]=L((u[2*w+1]-h)*d,0,1);return b}},40440:function(G,U,e){Object.defineProperty(U,"__esModule",{value:!0});var g=e(3256),L=6378137;function a(r){return g.geomReduce(r,function(t,s){return t+C(s)},0)}U.default=a;function C(r){var t=0,s;switch(r.type){case"Polygon":return A(r.coordinates);case"MultiPolygon":for(s=0;s<r.coordinates.length;s++)t+=A(r.coordinates[s]);return t;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0}return 0}function A(r){var t=0;if(r&&r.length>0){t+=Math.abs(v(r[0]));for(var s=1;s<r.length;s++)t-=Math.abs(v(r[s]))}return t}function v(r){var t,s,n,f,u,l,m,h=0,M=r.length;if(M>2){for(m=0;m<M;m++)m===M-2?(f=M-2,u=M-1,l=0):m===M-1?(f=M-1,u=0,l=1):(f=m,u=m+1,l=m+2),t=r[f],s=r[u],n=r[l],h+=(p(n[0])-p(t[0]))*Math.sin(p(s[1]));h=h*L*L/2}return h}function p(r){return r*Math.PI/180}},46284:function(G,U){Object.defineProperty(U,"__esModule",{value:!0}),U.earthRadius=63710088e-1,U.factors={centimeters:U.earthRadius*100,centimetres:U.earthRadius*100,degrees:U.earthRadius/111325,feet:U.earthRadius*3.28084,inches:U.earthRadius*39.37,kilometers:U.earthRadius/1e3,kilometres:U.earthRadius/1e3,meters:U.earthRadius,metres:U.earthRadius,miles:U.earthRadius/1609.344,millimeters:U.earthRadius*1e3,millimetres:U.earthRadius*1e3,nauticalmiles:U.earthRadius/1852,radians:1,yards:U.earthRadius*1.0936},U.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/U.earthRadius,yards:1.0936133},U.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function e(T,o,P){P===void 0&&(P={});var x={type:"Feature"};return(P.id===0||P.id)&&(x.id=P.id),P.bbox&&(x.bbox=P.bbox),x.properties=o||{},x.geometry=T,x}U.feature=e;function g(T,o,P){switch(T){case"Point":return L(o).geometry;case"LineString":return v(o).geometry;case"Polygon":return C(o).geometry;case"MultiPoint":return s(o).geometry;case"MultiLineString":return t(o).geometry;case"MultiPolygon":return n(o).geometry;default:throw new Error(T+" is invalid")}}U.geometry=g;function L(T,o,P){if(P===void 0&&(P={}),!T)throw new Error("coordinates is required");if(!Array.isArray(T))throw new Error("coordinates must be an Array");if(T.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!w(T[0])||!w(T[1]))throw new Error("coordinates must contain numbers");var x={type:"Point",coordinates:T};return e(x,o,P)}U.point=L;function a(T,o,P){return P===void 0&&(P={}),r(T.map(function(x){return L(x,o)}),P)}U.points=a;function C(T,o,P){P===void 0&&(P={});for(var x=0,_=T;x<_.length;x++){var I=_[x];if(I.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var N=0;N<I[I.length-1].length;N++)if(I[I.length-1][N]!==I[0][N])throw new Error("First and last Position are not equivalent.")}var k={type:"Polygon",coordinates:T};return e(k,o,P)}U.polygon=C;function A(T,o,P){return P===void 0&&(P={}),r(T.map(function(x){return C(x,o)}),P)}U.polygons=A;function v(T,o,P){if(P===void 0&&(P={}),T.length<2)throw new Error("coordinates must be an array of two or more positions");var x={type:"LineString",coordinates:T};return e(x,o,P)}U.lineString=v;function p(T,o,P){return P===void 0&&(P={}),r(T.map(function(x){return v(x,o)}),P)}U.lineStrings=p;function r(T,o){o===void 0&&(o={});var P={type:"FeatureCollection"};return o.id&&(P.id=o.id),o.bbox&&(P.bbox=o.bbox),P.features=T,P}U.featureCollection=r;function t(T,o,P){P===void 0&&(P={});var x={type:"MultiLineString",coordinates:T};return e(x,o,P)}U.multiLineString=t;function s(T,o,P){P===void 0&&(P={});var x={type:"MultiPoint",coordinates:T};return e(x,o,P)}U.multiPoint=s;function n(T,o,P){P===void 0&&(P={});var x={type:"MultiPolygon",coordinates:T};return e(x,o,P)}U.multiPolygon=n;function f(T,o,P){P===void 0&&(P={});var x={type:"GeometryCollection",geometries:T};return e(x,o,P)}U.geometryCollection=f;function u(T,o){if(o===void 0&&(o=0),o&&!(o>=0))throw new Error("precision must be a positive number");var P=Math.pow(10,o||0);return Math.round(T*P)/P}U.round=u;function l(T,o){o===void 0&&(o="kilometers");var P=U.factors[o];if(!P)throw new Error(o+" units is invalid");return T*P}U.radiansToLength=l;function m(T,o){o===void 0&&(o="kilometers");var P=U.factors[o];if(!P)throw new Error(o+" units is invalid");return T/P}U.lengthToRadians=m;function h(T,o){return c(m(T,o))}U.lengthToDegrees=h;function M(T){var o=T%360;return o<0&&(o+=360),o}U.bearingToAzimuth=M;function c(T){var o=T%(2*Math.PI);return o*180/Math.PI}U.radiansToDegrees=c;function i(T){var o=T%360;return o*Math.PI/180}U.degreesToRadians=i;function d(T,o,P){if(o===void 0&&(o="kilometers"),P===void 0&&(P="kilometers"),!(T>=0))throw new Error("length must be a positive number");return l(m(T,o),P)}U.convertLength=d;function b(T,o,P){if(o===void 0&&(o="meters"),P===void 0&&(P="kilometers"),!(T>=0))throw new Error("area must be a positive number");var x=U.areaFactors[o];if(!x)throw new Error("invalid original units");var _=U.areaFactors[P];if(!_)throw new Error("invalid final units");return T/x*_}U.convertArea=b;function w(T){return!isNaN(T)&&T!==null&&!Array.isArray(T)}U.isNumber=w;function E(T){return!!T&&T.constructor===Object}U.isObject=E;function y(T){if(!T)throw new Error("bbox is required");if(!Array.isArray(T))throw new Error("bbox must be an Array");if(T.length!==4&&T.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");T.forEach(function(o){if(!w(o))throw new Error("bbox must only contain numbers")})}U.validateBBox=y;function S(T){if(!T)throw new Error("id is required");if(["string","number"].indexOf(typeof T)===-1)throw new Error("id must be a number or a string")}U.validateId=S},3256:function(G,U,e){Object.defineProperty(U,"__esModule",{value:!0});var g=e(46284);function L(i,d,b){if(i!==null)for(var w,E,y,S,T,o,P,x=0,_=0,I,N=i.type,k=N==="FeatureCollection",F=N==="Feature",O=k?i.features.length:1,z=0;z<O;z++){P=k?i.features[z].geometry:F?i.geometry:i,I=P?P.type==="GeometryCollection":!1,T=I?P.geometries.length:1;for(var B=0;B<T;B++){var W=0,q=0;if(S=I?P.geometries[B]:P,S!==null){o=S.coordinates;var ee=S.type;switch(x=b&&(ee==="Polygon"||ee==="MultiPolygon")?1:0,ee){case null:break;case"Point":if(d(o,_,z,W,q)===!1)return!1;_++,W++;break;case"LineString":case"MultiPoint":for(w=0;w<o.length;w++){if(d(o[w],_,z,W,q)===!1)return!1;_++,ee==="MultiPoint"&&W++}ee==="LineString"&&W++;break;case"Polygon":case"MultiLineString":for(w=0;w<o.length;w++){for(E=0;E<o[w].length-x;E++){if(d(o[w][E],_,z,W,q)===!1)return!1;_++}ee==="MultiLineString"&&W++,ee==="Polygon"&&q++}ee==="Polygon"&&W++;break;case"MultiPolygon":for(w=0;w<o.length;w++){for(q=0,E=0;E<o[w].length;E++){for(y=0;y<o[w][E].length-x;y++){if(d(o[w][E][y],_,z,W,q)===!1)return!1;_++}q++}W++}break;case"GeometryCollection":for(w=0;w<S.geometries.length;w++)if(L(S.geometries[w],d,b)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function a(i,d,b,w){var E=b;return L(i,function(y,S,T,o,P){S===0&&b===void 0?E=y:E=d(E,y,S,T,o,P)},w),E}function C(i,d){var b;switch(i.type){case"FeatureCollection":for(b=0;b<i.features.length&&d(i.features[b].properties,b)!==!1;b++);break;case"Feature":d(i.properties,0);break}}function A(i,d,b){var w=b;return C(i,function(E,y){y===0&&b===void 0?w=E:w=d(w,E,y)}),w}function v(i,d){if(i.type==="Feature")d(i,0);else if(i.type==="FeatureCollection")for(var b=0;b<i.features.length&&d(i.features[b],b)!==!1;b++);}function p(i,d,b){var w=b;return v(i,function(E,y){y===0&&b===void 0?w=E:w=d(w,E,y)}),w}function r(i){var d=[];return L(i,function(b){d.push(b)}),d}function t(i,d){var b,w,E,y,S,T,o,P,x,_,I=0,N=i.type==="FeatureCollection",k=i.type==="Feature",F=N?i.features.length:1;for(b=0;b<F;b++){for(T=N?i.features[b].geometry:k?i.geometry:i,P=N?i.features[b].properties:k?i.properties:{},x=N?i.features[b].bbox:k?i.bbox:void 0,_=N?i.features[b].id:k?i.id:void 0,o=T?T.type==="GeometryCollection":!1,S=o?T.geometries.length:1,E=0;E<S;E++){if(y=o?T.geometries[E]:T,y===null){if(d(null,I,P,x,_)===!1)return!1;continue}switch(y.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(d(y,I,P,x,_)===!1)return!1;break}case"GeometryCollection":{for(w=0;w<y.geometries.length;w++)if(d(y.geometries[w],I,P,x,_)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}I++}}function s(i,d,b){var w=b;return t(i,function(E,y,S,T,o){y===0&&b===void 0?w=E:w=d(w,E,y,S,T,o)}),w}function n(i,d){t(i,function(b,w,E,y,S){var T=b===null?null:b.type;switch(T){case null:case"Point":case"LineString":case"Polygon":return d(g.feature(b,E,{bbox:y,id:S}),w,0)===!1?!1:void 0}var o;switch(T){case"MultiPoint":o="Point";break;case"MultiLineString":o="LineString";break;case"MultiPolygon":o="Polygon";break}for(var P=0;P<b.coordinates.length;P++){var x=b.coordinates[P],_={type:o,coordinates:x};if(d(g.feature(_,E),w,P)===!1)return!1}})}function f(i,d,b){var w=b;return n(i,function(E,y,S){y===0&&S===0&&b===void 0?w=E:w=d(w,E,y,S)}),w}function u(i,d){n(i,function(b,w,E){var y=0;if(!!b.geometry){var S=b.geometry.type;if(!(S==="Point"||S==="MultiPoint")){var T,o=0,P=0,x=0;if(L(b,function(_,I,N,k,F){if(T===void 0||w>o||k>P||F>x){T=_,o=w,P=k,x=F,y=0;return}var O=g.lineString([T,_],b.properties);if(d(O,w,E,F,y)===!1)return!1;y++,T=_})===!1)return!1}}})}function l(i,d,b){var w=b,E=!1;return u(i,function(y,S,T,o,P){E===!1&&b===void 0?w=y:w=d(w,y,S,T,o,P),E=!0}),w}function m(i,d){if(!i)throw new Error("geojson is required");n(i,function(b,w,E){if(b.geometry!==null){var y=b.geometry.type,S=b.geometry.coordinates;switch(y){case"LineString":if(d(b,w,E,0,0)===!1)return!1;break;case"Polygon":for(var T=0;T<S.length;T++)if(d(g.lineString(S[T],b.properties),w,E,T)===!1)return!1;break}}})}function h(i,d,b){var w=b;return m(i,function(E,y,S,T){y===0&&b===void 0?w=E:w=d(w,E,y,S,T)}),w}function M(i,d){if(d=d||{},!g.isObject(d))throw new Error("options is invalid");var b=d.featureIndex||0,w=d.multiFeatureIndex||0,E=d.geometryIndex||0,y=d.segmentIndex||0,S=d.properties,T;switch(i.type){case"FeatureCollection":b<0&&(b=i.features.length+b),S=S||i.features[b].properties,T=i.features[b].geometry;break;case"Feature":S=S||i.properties,T=i.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":T=i;break;default:throw new Error("geojson is invalid")}if(T===null)return null;var o=T.coordinates;switch(T.type){case"Point":case"MultiPoint":return null;case"LineString":return y<0&&(y=o.length+y-1),g.lineString([o[y],o[y+1]],S,d);case"Polygon":return E<0&&(E=o.length+E),y<0&&(y=o[E].length+y-1),g.lineString([o[E][y],o[E][y+1]],S,d);case"MultiLineString":return w<0&&(w=o.length+w),y<0&&(y=o[w].length+y-1),g.lineString([o[w][y],o[w][y+1]],S,d);case"MultiPolygon":return w<0&&(w=o.length+w),E<0&&(E=o[w].length+E),y<0&&(y=o[w][E].length-y-1),g.lineString([o[w][E][y],o[w][E][y+1]],S,d)}throw new Error("geojson is invalid")}function c(i,d){if(d=d||{},!g.isObject(d))throw new Error("options is invalid");var b=d.featureIndex||0,w=d.multiFeatureIndex||0,E=d.geometryIndex||0,y=d.coordIndex||0,S=d.properties,T;switch(i.type){case"FeatureCollection":b<0&&(b=i.features.length+b),S=S||i.features[b].properties,T=i.features[b].geometry;break;case"Feature":S=S||i.properties,T=i.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":T=i;break;default:throw new Error("geojson is invalid")}if(T===null)return null;var o=T.coordinates;switch(T.type){case"Point":return g.point(o,S,d);case"MultiPoint":return w<0&&(w=o.length+w),g.point(o[w],S,d);case"LineString":return y<0&&(y=o.length+y),g.point(o[y],S,d);case"Polygon":return E<0&&(E=o.length+E),y<0&&(y=o[E].length+y),g.point(o[E][y],S,d);case"MultiLineString":return w<0&&(w=o.length+w),y<0&&(y=o[w].length+y),g.point(o[w][y],S,d);case"MultiPolygon":return w<0&&(w=o.length+w),E<0&&(E=o[w].length+E),y<0&&(y=o[w][E].length-y),g.point(o[w][E][y],S,d)}throw new Error("geojson is invalid")}U.coordEach=L,U.coordReduce=a,U.propEach=C,U.propReduce=A,U.featureEach=v,U.featureReduce=p,U.coordAll=r,U.geomEach=t,U.geomReduce=s,U.flattenEach=n,U.flattenReduce=f,U.segmentEach=u,U.segmentReduce=l,U.lineEach=m,U.lineReduce=h,U.findSegment=M,U.findPoint=c},42428:function(G,U,e){Object.defineProperty(U,"__esModule",{value:!0});var g=e(84880);function L(a){var C=[1/0,1/0,-1/0,-1/0];return g.coordEach(a,function(A){C[0]>A[0]&&(C[0]=A[0]),C[1]>A[1]&&(C[1]=A[1]),C[2]<A[0]&&(C[2]=A[0]),C[3]<A[1]&&(C[3]=A[1])}),C}L.default=L,U.default=L},76796:function(G,U){Object.defineProperty(U,"__esModule",{value:!0}),U.earthRadius=63710088e-1,U.factors={centimeters:U.earthRadius*100,centimetres:U.earthRadius*100,degrees:U.earthRadius/111325,feet:U.earthRadius*3.28084,inches:U.earthRadius*39.37,kilometers:U.earthRadius/1e3,kilometres:U.earthRadius/1e3,meters:U.earthRadius,metres:U.earthRadius,miles:U.earthRadius/1609.344,millimeters:U.earthRadius*1e3,millimetres:U.earthRadius*1e3,nauticalmiles:U.earthRadius/1852,radians:1,yards:U.earthRadius*1.0936},U.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/U.earthRadius,yards:1.0936133},U.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function e(T,o,P){P===void 0&&(P={});var x={type:"Feature"};return(P.id===0||P.id)&&(x.id=P.id),P.bbox&&(x.bbox=P.bbox),x.properties=o||{},x.geometry=T,x}U.feature=e;function g(T,o,P){switch(T){case"Point":return L(o).geometry;case"LineString":return v(o).geometry;case"Polygon":return C(o).geometry;case"MultiPoint":return s(o).geometry;case"MultiLineString":return t(o).geometry;case"MultiPolygon":return n(o).geometry;default:throw new Error(T+" is invalid")}}U.geometry=g;function L(T,o,P){if(P===void 0&&(P={}),!T)throw new Error("coordinates is required");if(!Array.isArray(T))throw new Error("coordinates must be an Array");if(T.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!w(T[0])||!w(T[1]))throw new Error("coordinates must contain numbers");var x={type:"Point",coordinates:T};return e(x,o,P)}U.point=L;function a(T,o,P){return P===void 0&&(P={}),r(T.map(function(x){return L(x,o)}),P)}U.points=a;function C(T,o,P){P===void 0&&(P={});for(var x=0,_=T;x<_.length;x++){var I=_[x];if(I.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var N=0;N<I[I.length-1].length;N++)if(I[I.length-1][N]!==I[0][N])throw new Error("First and last Position are not equivalent.")}var k={type:"Polygon",coordinates:T};return e(k,o,P)}U.polygon=C;function A(T,o,P){return P===void 0&&(P={}),r(T.map(function(x){return C(x,o)}),P)}U.polygons=A;function v(T,o,P){if(P===void 0&&(P={}),T.length<2)throw new Error("coordinates must be an array of two or more positions");var x={type:"LineString",coordinates:T};return e(x,o,P)}U.lineString=v;function p(T,o,P){return P===void 0&&(P={}),r(T.map(function(x){return v(x,o)}),P)}U.lineStrings=p;function r(T,o){o===void 0&&(o={});var P={type:"FeatureCollection"};return o.id&&(P.id=o.id),o.bbox&&(P.bbox=o.bbox),P.features=T,P}U.featureCollection=r;function t(T,o,P){P===void 0&&(P={});var x={type:"MultiLineString",coordinates:T};return e(x,o,P)}U.multiLineString=t;function s(T,o,P){P===void 0&&(P={});var x={type:"MultiPoint",coordinates:T};return e(x,o,P)}U.multiPoint=s;function n(T,o,P){P===void 0&&(P={});var x={type:"MultiPolygon",coordinates:T};return e(x,o,P)}U.multiPolygon=n;function f(T,o,P){P===void 0&&(P={});var x={type:"GeometryCollection",geometries:T};return e(x,o,P)}U.geometryCollection=f;function u(T,o){if(o===void 0&&(o=0),o&&!(o>=0))throw new Error("precision must be a positive number");var P=Math.pow(10,o||0);return Math.round(T*P)/P}U.round=u;function l(T,o){o===void 0&&(o="kilometers");var P=U.factors[o];if(!P)throw new Error(o+" units is invalid");return T*P}U.radiansToLength=l;function m(T,o){o===void 0&&(o="kilometers");var P=U.factors[o];if(!P)throw new Error(o+" units is invalid");return T/P}U.lengthToRadians=m;function h(T,o){return c(m(T,o))}U.lengthToDegrees=h;function M(T){var o=T%360;return o<0&&(o+=360),o}U.bearingToAzimuth=M;function c(T){var o=T%(2*Math.PI);return o*180/Math.PI}U.radiansToDegrees=c;function i(T){var o=T%360;return o*Math.PI/180}U.degreesToRadians=i;function d(T,o,P){if(o===void 0&&(o="kilometers"),P===void 0&&(P="kilometers"),!(T>=0))throw new Error("length must be a positive number");return l(m(T,o),P)}U.convertLength=d;function b(T,o,P){if(o===void 0&&(o="meters"),P===void 0&&(P="kilometers"),!(T>=0))throw new Error("area must be a positive number");var x=U.areaFactors[o];if(!x)throw new Error("invalid original units");var _=U.areaFactors[P];if(!_)throw new Error("invalid final units");return T/x*_}U.convertArea=b;function w(T){return!isNaN(T)&&T!==null&&!Array.isArray(T)}U.isNumber=w;function E(T){return!!T&&T.constructor===Object}U.isObject=E;function y(T){if(!T)throw new Error("bbox is required");if(!Array.isArray(T))throw new Error("bbox must be an Array");if(T.length!==4&&T.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");T.forEach(function(o){if(!w(o))throw new Error("bbox must only contain numbers")})}U.validateBBox=y;function S(T){if(!T)throw new Error("id is required");if(["string","number"].indexOf(typeof T)===-1)throw new Error("id must be a number or a string")}U.validateId=S},84880:function(G,U,e){Object.defineProperty(U,"__esModule",{value:!0});var g=e(76796);function L(i,d,b){if(i!==null)for(var w,E,y,S,T,o,P,x=0,_=0,I,N=i.type,k=N==="FeatureCollection",F=N==="Feature",O=k?i.features.length:1,z=0;z<O;z++){P=k?i.features[z].geometry:F?i.geometry:i,I=P?P.type==="GeometryCollection":!1,T=I?P.geometries.length:1;for(var B=0;B<T;B++){var W=0,q=0;if(S=I?P.geometries[B]:P,S!==null){o=S.coordinates;var ee=S.type;switch(x=b&&(ee==="Polygon"||ee==="MultiPolygon")?1:0,ee){case null:break;case"Point":if(d(o,_,z,W,q)===!1)return!1;_++,W++;break;case"LineString":case"MultiPoint":for(w=0;w<o.length;w++){if(d(o[w],_,z,W,q)===!1)return!1;_++,ee==="MultiPoint"&&W++}ee==="LineString"&&W++;break;case"Polygon":case"MultiLineString":for(w=0;w<o.length;w++){for(E=0;E<o[w].length-x;E++){if(d(o[w][E],_,z,W,q)===!1)return!1;_++}ee==="MultiLineString"&&W++,ee==="Polygon"&&q++}ee==="Polygon"&&W++;break;case"MultiPolygon":for(w=0;w<o.length;w++){for(q=0,E=0;E<o[w].length;E++){for(y=0;y<o[w][E].length-x;y++){if(d(o[w][E][y],_,z,W,q)===!1)return!1;_++}q++}W++}break;case"GeometryCollection":for(w=0;w<S.geometries.length;w++)if(L(S.geometries[w],d,b)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function a(i,d,b,w){var E=b;return L(i,function(y,S,T,o,P){S===0&&b===void 0?E=y:E=d(E,y,S,T,o,P)},w),E}function C(i,d){var b;switch(i.type){case"FeatureCollection":for(b=0;b<i.features.length&&d(i.features[b].properties,b)!==!1;b++);break;case"Feature":d(i.properties,0);break}}function A(i,d,b){var w=b;return C(i,function(E,y){y===0&&b===void 0?w=E:w=d(w,E,y)}),w}function v(i,d){if(i.type==="Feature")d(i,0);else if(i.type==="FeatureCollection")for(var b=0;b<i.features.length&&d(i.features[b],b)!==!1;b++);}function p(i,d,b){var w=b;return v(i,function(E,y){y===0&&b===void 0?w=E:w=d(w,E,y)}),w}function r(i){var d=[];return L(i,function(b){d.push(b)}),d}function t(i,d){var b,w,E,y,S,T,o,P,x,_,I=0,N=i.type==="FeatureCollection",k=i.type==="Feature",F=N?i.features.length:1;for(b=0;b<F;b++){for(T=N?i.features[b].geometry:k?i.geometry:i,P=N?i.features[b].properties:k?i.properties:{},x=N?i.features[b].bbox:k?i.bbox:void 0,_=N?i.features[b].id:k?i.id:void 0,o=T?T.type==="GeometryCollection":!1,S=o?T.geometries.length:1,E=0;E<S;E++){if(y=o?T.geometries[E]:T,y===null){if(d(null,I,P,x,_)===!1)return!1;continue}switch(y.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(d(y,I,P,x,_)===!1)return!1;break}case"GeometryCollection":{for(w=0;w<y.geometries.length;w++)if(d(y.geometries[w],I,P,x,_)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}I++}}function s(i,d,b){var w=b;return t(i,function(E,y,S,T,o){y===0&&b===void 0?w=E:w=d(w,E,y,S,T,o)}),w}function n(i,d){t(i,function(b,w,E,y,S){var T=b===null?null:b.type;switch(T){case null:case"Point":case"LineString":case"Polygon":return d(g.feature(b,E,{bbox:y,id:S}),w,0)===!1?!1:void 0}var o;switch(T){case"MultiPoint":o="Point";break;case"MultiLineString":o="LineString";break;case"MultiPolygon":o="Polygon";break}for(var P=0;P<b.coordinates.length;P++){var x=b.coordinates[P],_={type:o,coordinates:x};if(d(g.feature(_,E),w,P)===!1)return!1}})}function f(i,d,b){var w=b;return n(i,function(E,y,S){y===0&&S===0&&b===void 0?w=E:w=d(w,E,y,S)}),w}function u(i,d){n(i,function(b,w,E){var y=0;if(!!b.geometry){var S=b.geometry.type;if(!(S==="Point"||S==="MultiPoint")){var T,o=0,P=0,x=0;if(L(b,function(_,I,N,k,F){if(T===void 0||w>o||k>P||F>x){T=_,o=w,P=k,x=F,y=0;return}var O=g.lineString([T,_],b.properties);if(d(O,w,E,F,y)===!1)return!1;y++,T=_})===!1)return!1}}})}function l(i,d,b){var w=b,E=!1;return u(i,function(y,S,T,o,P){E===!1&&b===void 0?w=y:w=d(w,y,S,T,o,P),E=!0}),w}function m(i,d){if(!i)throw new Error("geojson is required");n(i,function(b,w,E){if(b.geometry!==null){var y=b.geometry.type,S=b.geometry.coordinates;switch(y){case"LineString":if(d(b,w,E,0,0)===!1)return!1;break;case"Polygon":for(var T=0;T<S.length;T++)if(d(g.lineString(S[T],b.properties),w,E,T)===!1)return!1;break}}})}function h(i,d,b){var w=b;return m(i,function(E,y,S,T){y===0&&b===void 0?w=E:w=d(w,E,y,S,T)}),w}function M(i,d){if(d=d||{},!g.isObject(d))throw new Error("options is invalid");var b=d.featureIndex||0,w=d.multiFeatureIndex||0,E=d.geometryIndex||0,y=d.segmentIndex||0,S=d.properties,T;switch(i.type){case"FeatureCollection":b<0&&(b=i.features.length+b),S=S||i.features[b].properties,T=i.features[b].geometry;break;case"Feature":S=S||i.properties,T=i.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":T=i;break;default:throw new Error("geojson is invalid")}if(T===null)return null;var o=T.coordinates;switch(T.type){case"Point":case"MultiPoint":return null;case"LineString":return y<0&&(y=o.length+y-1),g.lineString([o[y],o[y+1]],S,d);case"Polygon":return E<0&&(E=o.length+E),y<0&&(y=o[E].length+y-1),g.lineString([o[E][y],o[E][y+1]],S,d);case"MultiLineString":return w<0&&(w=o.length+w),y<0&&(y=o[w].length+y-1),g.lineString([o[w][y],o[w][y+1]],S,d);case"MultiPolygon":return w<0&&(w=o.length+w),E<0&&(E=o[w].length+E),y<0&&(y=o[w][E].length-y-1),g.lineString([o[w][E][y],o[w][E][y+1]],S,d)}throw new Error("geojson is invalid")}function c(i,d){if(d=d||{},!g.isObject(d))throw new Error("options is invalid");var b=d.featureIndex||0,w=d.multiFeatureIndex||0,E=d.geometryIndex||0,y=d.coordIndex||0,S=d.properties,T;switch(i.type){case"FeatureCollection":b<0&&(b=i.features.length+b),S=S||i.features[b].properties,T=i.features[b].geometry;break;case"Feature":S=S||i.properties,T=i.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":T=i;break;default:throw new Error("geojson is invalid")}if(T===null)return null;var o=T.coordinates;switch(T.type){case"Point":return g.point(o,S,d);case"MultiPoint":return w<0&&(w=o.length+w),g.point(o[w],S,d);case"LineString":return y<0&&(y=o.length+y),g.point(o[y],S,d);case"Polygon":return E<0&&(E=o.length+E),y<0&&(y=o[E].length+y),g.point(o[E][y],S,d);case"MultiLineString":return w<0&&(w=o.length+w),y<0&&(y=o[w].length+y),g.point(o[w][y],S,d);case"MultiPolygon":return w<0&&(w=o.length+w),E<0&&(E=o[w].length+E),y<0&&(y=o[w][E].length-y),g.point(o[w][E][y],S,d)}throw new Error("geojson is invalid")}U.coordEach=L,U.coordReduce=a,U.propEach=C,U.propReduce=A,U.featureEach=v,U.featureReduce=p,U.coordAll=r,U.geomEach=t,U.geomReduce=s,U.flattenEach=n,U.flattenReduce=f,U.segmentEach=u,U.segmentReduce=l,U.lineEach=m,U.lineReduce=h,U.findSegment=M,U.findPoint=c},77844:function(G,U,e){Object.defineProperty(U,"__esModule",{value:!0});var g=e(43752),L=e(49840);function a(C,A){A===void 0&&(A={});var v=0,p=0,r=0;return g.coordEach(C,function(t){v+=t[0],p+=t[1],r++}),L.point([v/r,p/r],A.properties)}U.default=a},49840:function(G,U){Object.defineProperty(U,"__esModule",{value:!0}),U.earthRadius=63710088e-1,U.factors={centimeters:U.earthRadius*100,centimetres:U.earthRadius*100,degrees:U.earthRadius/111325,feet:U.earthRadius*3.28084,inches:U.earthRadius*39.37,kilometers:U.earthRadius/1e3,kilometres:U.earthRadius/1e3,meters:U.earthRadius,metres:U.earthRadius,miles:U.earthRadius/1609.344,millimeters:U.earthRadius*1e3,millimetres:U.earthRadius*1e3,nauticalmiles:U.earthRadius/1852,radians:1,yards:U.earthRadius/1.0936},U.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/U.earthRadius,yards:.91441111923921},U.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function e(k,F,O){O===void 0&&(O={});var z={type:"Feature"};return(O.id===0||O.id)&&(z.id=O.id),O.bbox&&(z.bbox=O.bbox),z.properties=F||{},z.geometry=k,z}U.feature=e;function g(k,F,O){switch(k){case"Point":return L(F).geometry;case"LineString":return v(F).geometry;case"Polygon":return C(F).geometry;case"MultiPoint":return s(F).geometry;case"MultiLineString":return t(F).geometry;case"MultiPolygon":return n(F).geometry;default:throw new Error(k+" is invalid")}}U.geometry=g;function L(k,F,O){O===void 0&&(O={});var z={type:"Point",coordinates:k};return e(z,F,O)}U.point=L;function a(k,F,O){return O===void 0&&(O={}),r(k.map(function(z){return L(z,F)}),O)}U.points=a;function C(k,F,O){O===void 0&&(O={});for(var z=0,B=k;z<B.length;z++){var W=B[z];if(W.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var q=0;q<W[W.length-1].length;q++)if(W[W.length-1][q]!==W[0][q])throw new Error("First and last Position are not equivalent.")}var ee={type:"Polygon",coordinates:k};return e(ee,F,O)}U.polygon=C;function A(k,F,O){return O===void 0&&(O={}),r(k.map(function(z){return C(z,F)}),O)}U.polygons=A;function v(k,F,O){if(O===void 0&&(O={}),k.length<2)throw new Error("coordinates must be an array of two or more positions");var z={type:"LineString",coordinates:k};return e(z,F,O)}U.lineString=v;function p(k,F,O){return O===void 0&&(O={}),r(k.map(function(z){return v(z,F)}),O)}U.lineStrings=p;function r(k,F){F===void 0&&(F={});var O={type:"FeatureCollection"};return F.id&&(O.id=F.id),F.bbox&&(O.bbox=F.bbox),O.features=k,O}U.featureCollection=r;function t(k,F,O){O===void 0&&(O={});var z={type:"MultiLineString",coordinates:k};return e(z,F,O)}U.multiLineString=t;function s(k,F,O){O===void 0&&(O={});var z={type:"MultiPoint",coordinates:k};return e(z,F,O)}U.multiPoint=s;function n(k,F,O){O===void 0&&(O={});var z={type:"MultiPolygon",coordinates:k};return e(z,F,O)}U.multiPolygon=n;function f(k,F,O){O===void 0&&(O={});var z={type:"GeometryCollection",geometries:k};return e(z,F,O)}U.geometryCollection=f;function u(k,F){if(F===void 0&&(F=0),F&&!(F>=0))throw new Error("precision must be a positive number");var O=Math.pow(10,F||0);return Math.round(k*O)/O}U.round=u;function l(k,F){F===void 0&&(F="kilometers");var O=U.factors[F];if(!O)throw new Error(F+" units is invalid");return k*O}U.radiansToLength=l;function m(k,F){F===void 0&&(F="kilometers");var O=U.factors[F];if(!O)throw new Error(F+" units is invalid");return k/O}U.lengthToRadians=m;function h(k,F){return c(m(k,F))}U.lengthToDegrees=h;function M(k){var F=k%360;return F<0&&(F+=360),F}U.bearingToAzimuth=M;function c(k){var F=k%(2*Math.PI);return F*180/Math.PI}U.radiansToDegrees=c;function i(k){var F=k%360;return F*Math.PI/180}U.degreesToRadians=i;function d(k,F,O){if(F===void 0&&(F="kilometers"),O===void 0&&(O="kilometers"),!(k>=0))throw new Error("length must be a positive number");return l(m(k,F),O)}U.convertLength=d;function b(k,F,O){if(F===void 0&&(F="meters"),O===void 0&&(O="kilometers"),!(k>=0))throw new Error("area must be a positive number");var z=U.areaFactors[F];if(!z)throw new Error("invalid original units");var B=U.areaFactors[O];if(!B)throw new Error("invalid final units");return k/z*B}U.convertArea=b;function w(k){return!isNaN(k)&&k!==null&&!Array.isArray(k)&&!/^\s*$/.test(k)}U.isNumber=w;function E(k){return!!k&&k.constructor===Object}U.isObject=E;function y(k){if(!k)throw new Error("bbox is required");if(!Array.isArray(k))throw new Error("bbox must be an Array");if(k.length!==4&&k.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");k.forEach(function(F){if(!w(F))throw new Error("bbox must only contain numbers")})}U.validateBBox=y;function S(k){if(!k)throw new Error("id is required");if(["string","number"].indexOf(typeof k)===-1)throw new Error("id must be a number or a string")}U.validateId=S;function T(){throw new Error("method has been renamed to `radiansToDegrees`")}U.radians2degrees=T;function o(){throw new Error("method has been renamed to `degreesToRadians`")}U.degrees2radians=o;function P(){throw new Error("method has been renamed to `lengthToDegrees`")}U.distanceToDegrees=P;function x(){throw new Error("method has been renamed to `lengthToRadians`")}U.distanceToRadians=x;function _(){throw new Error("method has been renamed to `radiansToLength`")}U.radiansToDistance=_;function I(){throw new Error("method has been renamed to `bearingToAzimuth`")}U.bearingToAngle=I;function N(){throw new Error("method has been renamed to `convertLength`")}U.convertDistance=N},43752:function(G,U,e){Object.defineProperty(U,"__esModule",{value:!0});var g=e(49840);function L(i,d,b){if(i!==null)for(var w,E,y,S,T,o,P,x=0,_=0,I,N=i.type,k=N==="FeatureCollection",F=N==="Feature",O=k?i.features.length:1,z=0;z<O;z++){P=k?i.features[z].geometry:F?i.geometry:i,I=P?P.type==="GeometryCollection":!1,T=I?P.geometries.length:1;for(var B=0;B<T;B++){var W=0,q=0;if(S=I?P.geometries[B]:P,S!==null){o=S.coordinates;var ee=S.type;switch(x=b&&(ee==="Polygon"||ee==="MultiPolygon")?1:0,ee){case null:break;case"Point":if(d(o,_,z,W,q)===!1)return!1;_++,W++;break;case"LineString":case"MultiPoint":for(w=0;w<o.length;w++){if(d(o[w],_,z,W,q)===!1)return!1;_++,ee==="MultiPoint"&&W++}ee==="LineString"&&W++;break;case"Polygon":case"MultiLineString":for(w=0;w<o.length;w++){for(E=0;E<o[w].length-x;E++){if(d(o[w][E],_,z,W,q)===!1)return!1;_++}ee==="MultiLineString"&&W++,ee==="Polygon"&&q++}ee==="Polygon"&&W++;break;case"MultiPolygon":for(w=0;w<o.length;w++){for(q=0,E=0;E<o[w].length;E++){for(y=0;y<o[w][E].length-x;y++){if(d(o[w][E][y],_,z,W,q)===!1)return!1;_++}q++}W++}break;case"GeometryCollection":for(w=0;w<S.geometries.length;w++)if(L(S.geometries[w],d,b)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function a(i,d,b,w){var E=b;return L(i,function(y,S,T,o,P){S===0&&b===void 0?E=y:E=d(E,y,S,T,o,P)},w),E}function C(i,d){var b;switch(i.type){case"FeatureCollection":for(b=0;b<i.features.length&&d(i.features[b].properties,b)!==!1;b++);break;case"Feature":d(i.properties,0);break}}function A(i,d,b){var w=b;return C(i,function(E,y){y===0&&b===void 0?w=E:w=d(w,E,y)}),w}function v(i,d){if(i.type==="Feature")d(i,0);else if(i.type==="FeatureCollection")for(var b=0;b<i.features.length&&d(i.features[b],b)!==!1;b++);}function p(i,d,b){var w=b;return v(i,function(E,y){y===0&&b===void 0?w=E:w=d(w,E,y)}),w}function r(i){var d=[];return L(i,function(b){d.push(b)}),d}function t(i,d){var b,w,E,y,S,T,o,P,x,_,I=0,N=i.type==="FeatureCollection",k=i.type==="Feature",F=N?i.features.length:1;for(b=0;b<F;b++){for(T=N?i.features[b].geometry:k?i.geometry:i,P=N?i.features[b].properties:k?i.properties:{},x=N?i.features[b].bbox:k?i.bbox:void 0,_=N?i.features[b].id:k?i.id:void 0,o=T?T.type==="GeometryCollection":!1,S=o?T.geometries.length:1,E=0;E<S;E++){if(y=o?T.geometries[E]:T,y===null){if(d(null,I,P,x,_)===!1)return!1;continue}switch(y.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(d(y,I,P,x,_)===!1)return!1;break}case"GeometryCollection":{for(w=0;w<y.geometries.length;w++)if(d(y.geometries[w],I,P,x,_)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}I++}}function s(i,d,b){var w=b;return t(i,function(E,y,S,T,o){y===0&&b===void 0?w=E:w=d(w,E,y,S,T,o)}),w}function n(i,d){t(i,function(b,w,E,y,S){var T=b===null?null:b.type;switch(T){case null:case"Point":case"LineString":case"Polygon":return d(g.feature(b,E,{bbox:y,id:S}),w,0)===!1?!1:void 0}var o;switch(T){case"MultiPoint":o="Point";break;case"MultiLineString":o="LineString";break;case"MultiPolygon":o="Polygon";break}for(var P=0;P<b.coordinates.length;P++){var x=b.coordinates[P],_={type:o,coordinates:x};if(d(g.feature(_,E),w,P)===!1)return!1}})}function f(i,d,b){var w=b;return n(i,function(E,y,S){y===0&&S===0&&b===void 0?w=E:w=d(w,E,y,S)}),w}function u(i,d){n(i,function(b,w,E){var y=0;if(!!b.geometry){var S=b.geometry.type;if(!(S==="Point"||S==="MultiPoint")){var T,o=0,P=0,x=0;if(L(b,function(_,I,N,k,F){if(T===void 0||w>o||k>P||F>x){T=_,o=w,P=k,x=F,y=0;return}var O=g.lineString([T,_],b.properties);if(d(O,w,E,F,y)===!1)return!1;y++,T=_})===!1)return!1}}})}function l(i,d,b){var w=b,E=!1;return u(i,function(y,S,T,o,P){E===!1&&b===void 0?w=y:w=d(w,y,S,T,o,P),E=!0}),w}function m(i,d){if(!i)throw new Error("geojson is required");n(i,function(b,w,E){if(b.geometry!==null){var y=b.geometry.type,S=b.geometry.coordinates;switch(y){case"LineString":if(d(b,w,E,0,0)===!1)return!1;break;case"Polygon":for(var T=0;T<S.length;T++)if(d(g.lineString(S[T],b.properties),w,E,T)===!1)return!1;break}}})}function h(i,d,b){var w=b;return m(i,function(E,y,S,T){y===0&&b===void 0?w=E:w=d(w,E,y,S,T)}),w}function M(i,d){if(d=d||{},!g.isObject(d))throw new Error("options is invalid");var b=d.featureIndex||0,w=d.multiFeatureIndex||0,E=d.geometryIndex||0,y=d.segmentIndex||0,S=d.properties,T;switch(i.type){case"FeatureCollection":b<0&&(b=i.features.length+b),S=S||i.features[b].properties,T=i.features[b].geometry;break;case"Feature":S=S||i.properties,T=i.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":T=i;break;default:throw new Error("geojson is invalid")}if(T===null)return null;var o=T.coordinates;switch(T.type){case"Point":case"MultiPoint":return null;case"LineString":return y<0&&(y=o.length+y-1),g.lineString([o[y],o[y+1]],S,d);case"Polygon":return E<0&&(E=o.length+E),y<0&&(y=o[E].length+y-1),g.lineString([o[E][y],o[E][y+1]],S,d);case"MultiLineString":return w<0&&(w=o.length+w),y<0&&(y=o[w].length+y-1),g.lineString([o[w][y],o[w][y+1]],S,d);case"MultiPolygon":return w<0&&(w=o.length+w),E<0&&(E=o[w].length+E),y<0&&(y=o[w][E].length-y-1),g.lineString([o[w][E][y],o[w][E][y+1]],S,d)}throw new Error("geojson is invalid")}function c(i,d){if(d=d||{},!g.isObject(d))throw new Error("options is invalid");var b=d.featureIndex||0,w=d.multiFeatureIndex||0,E=d.geometryIndex||0,y=d.coordIndex||0,S=d.properties,T;switch(i.type){case"FeatureCollection":b<0&&(b=i.features.length+b),S=S||i.features[b].properties,T=i.features[b].geometry;break;case"Feature":S=S||i.properties,T=i.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":T=i;break;default:throw new Error("geojson is invalid")}if(T===null)return null;var o=T.coordinates;switch(T.type){case"Point":return g.point(o,S,d);case"MultiPoint":return w<0&&(w=o.length+w),g.point(o[w],S,d);case"LineString":return y<0&&(y=o.length+y),g.point(o[y],S,d);case"Polygon":return E<0&&(E=o.length+E),y<0&&(y=o[E].length+y),g.point(o[E][y],S,d);case"MultiLineString":return w<0&&(w=o.length+w),y<0&&(y=o[w].length+y),g.point(o[w][y],S,d);case"MultiPolygon":return w<0&&(w=o.length+w),E<0&&(E=o[w].length+E),y<0&&(y=o[w][E].length-y),g.point(o[w][E][y],S,d)}throw new Error("geojson is invalid")}U.coordEach=L,U.coordReduce=a,U.propEach=C,U.propReduce=A,U.featureEach=v,U.featureReduce=p,U.coordAll=r,U.geomEach=t,U.geomReduce=s,U.flattenEach=n,U.flattenReduce=f,U.segmentEach=u,U.segmentReduce=l,U.lineEach=m,U.lineReduce=h,U.findSegment=M,U.findPoint=c},49972:function(G){G.exports=U;function U(e){var g=0,L=0,a=0,C=0;return e.map(function(A){A=A.slice();var v=A[0],p=v.toUpperCase();if(v!=p)switch(A[0]=p,v){case"a":A[6]+=a,A[7]+=C;break;case"v":A[1]+=C;break;case"h":A[1]+=a;break;default:for(var r=1;r<A.length;)A[r++]+=a,A[r++]+=C}switch(p){case"Z":a=g,C=L;break;case"H":a=A[1];break;case"V":C=A[1];break;case"M":a=g=A[1],C=L=A[2];break;default:a=A[A.length-2],C=A[A.length-1]}return A})}},76752:function(G){G.exports=U;function U(e,g){if(!e||e.length==null)throw Error("Argument should be an array");g==null?g=1:g=Math.floor(g);for(var L=Array(g*2),a=0;a<g;a++){for(var C=-1/0,A=1/0,v=a,p=e.length;v<p;v+=g)e[v]>C&&(C=e[v]),e[v]<A&&(A=e[v]);L[a]=A,L[g+a]=C}return L}},10272:function(G){G.exports=function(U,e,g){if(typeof Array.prototype.findIndex=="function")return U.findIndex(e,g);if(typeof e!="function")throw new TypeError("predicate must be a function");var L=Object(U),a=L.length;if(a===0)return-1;for(var C=0;C<a;C++)if(e.call(g,L[C],C,L))return C;return-1}},71152:function(G,U,e){var g=e(76752);G.exports=L;function L(a,C,A){if(!a||a.length==null)throw Error("Argument should be an array");C==null&&(C=1),A==null&&(A=g(a,C));for(var v=0;v<C;v++){var p=A[C+v],r=A[v],t=v,s=a.length;if(p===1/0&&r===-1/0)for(t=v;t<s;t+=C)a[t]=a[t]===p?1:a[t]===r?0:.5;else if(p===1/0)for(t=v;t<s;t+=C)a[t]=a[t]===p?1:0;else if(r===-1/0)for(t=v;t<s;t+=C)a[t]=a[t]===r?0:1;else{var n=p-r;for(t=v;t<s;t+=C)isNaN(a[t])||(a[t]=n===0?.5:(a[t]-r)/n)}}return a}},67752:function(G){G.exports=function(e,g){var L=typeof e=="number",a=typeof g=="number";L&&!a?(g=e,e=0):!L&&!a&&(e=0,g=0),e=e|0,g=g|0;var C=g-e;if(C<0)throw new Error("array length must be positive");for(var A=new Array(C),v=0,p=e;v<C;v++,p++)A[v]=p;return A}},45408:function(G,U,e){var g=e(4168);function L(q){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?L=function(Q){return typeof Q}:L=function(Q){return Q&&typeof Symbol=="function"&&Q.constructor===Symbol&&Q!==Symbol.prototype?"symbol":typeof Q},L(q)}function a(q,ee){if(!(q instanceof ee))throw new TypeError("Cannot call a class as a function")}var C=e(86832),A=C.codes,v=A.ERR_AMBIGUOUS_ARGUMENT,p=A.ERR_INVALID_ARG_TYPE,r=A.ERR_INVALID_ARG_VALUE,t=A.ERR_INVALID_RETURN_VALUE,s=A.ERR_MISSING_ARGS,n=e(26144),f=e(35840),u=f.inspect,l=e(35840).types,m=l.isPromise,h=l.isRegExp,M=Object.assign?Object.assign:e(60964).assign,c=Object.is?Object.is:e(39896),i,d;function b(){var q=e(25116);i=q.isDeepEqual,d=q.isDeepStrictEqual}var w=!1,E=G.exports=P,y={};function S(q){throw q.message instanceof Error?q.message:new n(q)}function T(q,ee,Q,oe,Z){var Y=arguments.length,te;if(Y===0)te="Failed";else if(Y===1)Q=q,q=void 0;else{if(w===!1){w=!0;var X=g.emitWarning?g.emitWarning:console.warn.bind(console);X("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")}Y===2&&(oe="!=")}if(Q instanceof Error)throw Q;var $={actual:q,expected:ee,operator:oe===void 0?"fail":oe,stackStartFn:Z||T};Q!==void 0&&($.message=Q);var ie=new n($);throw te&&(ie.message=te,ie.generatedMessage=!0),ie}E.fail=T,E.AssertionError=n;function o(q,ee,Q,oe){if(!Q){var Z=!1;if(ee===0)Z=!0,oe="No value argument passed to `assert.ok()`";else if(oe instanceof Error)throw oe;var Y=new n({actual:Q,expected:!0,message:oe,operator:"==",stackStartFn:q});throw Y.generatedMessage=Z,Y}}function P(){for(var q=arguments.length,ee=new Array(q),Q=0;Q<q;Q++)ee[Q]=arguments[Q];o.apply(void 0,[P,ee.length].concat(ee))}E.ok=P,E.equal=function q(ee,Q,oe){if(arguments.length<2)throw new s("actual","expected");ee!=Q&&S({actual:ee,expected:Q,message:oe,operator:"==",stackStartFn:q})},E.notEqual=function q(ee,Q,oe){if(arguments.length<2)throw new s("actual","expected");ee==Q&&S({actual:ee,expected:Q,message:oe,operator:"!=",stackStartFn:q})},E.deepEqual=function q(ee,Q,oe){if(arguments.length<2)throw new s("actual","expected");i===void 0&&b(),i(ee,Q)||S({actual:ee,expected:Q,message:oe,operator:"deepEqual",stackStartFn:q})},E.notDeepEqual=function q(ee,Q,oe){if(arguments.length<2)throw new s("actual","expected");i===void 0&&b(),i(ee,Q)&&S({actual:ee,expected:Q,message:oe,operator:"notDeepEqual",stackStartFn:q})},E.deepStrictEqual=function q(ee,Q,oe){if(arguments.length<2)throw new s("actual","expected");i===void 0&&b(),d(ee,Q)||S({actual:ee,expected:Q,message:oe,operator:"deepStrictEqual",stackStartFn:q})},E.notDeepStrictEqual=x;function x(q,ee,Q){if(arguments.length<2)throw new s("actual","expected");i===void 0&&b(),d(q,ee)&&S({actual:q,expected:ee,message:Q,operator:"notDeepStrictEqual",stackStartFn:x})}E.strictEqual=function q(ee,Q,oe){if(arguments.length<2)throw new s("actual","expected");c(ee,Q)||S({actual:ee,expected:Q,message:oe,operator:"strictEqual",stackStartFn:q})},E.notStrictEqual=function q(ee,Q,oe){if(arguments.length<2)throw new s("actual","expected");c(ee,Q)&&S({actual:ee,expected:Q,message:oe,operator:"notStrictEqual",stackStartFn:q})};var _=function q(ee,Q,oe){var Z=this;a(this,q),Q.forEach(function(Y){Y in ee&&(oe!==void 0&&typeof oe[Y]=="string"&&h(ee[Y])&&ee[Y].test(oe[Y])?Z[Y]=oe[Y]:Z[Y]=ee[Y])})};function I(q,ee,Q,oe,Z,Y){if(!(Q in q)||!d(q[Q],ee[Q])){if(!oe){var te=new _(q,Z),X=new _(ee,Z,q),$=new n({actual:te,expected:X,operator:"deepStrictEqual",stackStartFn:Y});throw $.actual=q,$.expected=ee,$.operator=Y.name,$}S({actual:q,expected:ee,message:oe,operator:Y.name,stackStartFn:Y})}}function N(q,ee,Q,oe){if(typeof ee!="function"){if(h(ee))return ee.test(q);if(arguments.length===2)throw new p("expected",["Function","RegExp"],ee);if(L(q)!=="object"||q===null){var Z=new n({actual:q,expected:ee,message:Q,operator:"deepStrictEqual",stackStartFn:oe});throw Z.operator=oe.name,Z}var Y=Object.keys(ee);if(ee instanceof Error)Y.push("name","message");else if(Y.length===0)throw new r("error",ee,"may not be an empty object");return i===void 0&&b(),Y.forEach(function(te){typeof q[te]=="string"&&h(ee[te])&&ee[te].test(q[te])||I(q,ee,te,Q,Y,oe)}),!0}return ee.prototype!==void 0&&q instanceof ee?!0:Error.isPrototypeOf(ee)?!1:ee.call({},q)===!0}function k(q){if(typeof q!="function")throw new p("fn","Function",q);try{q()}catch(ee){return ee}return y}function F(q){return m(q)||q!==null&&L(q)==="object"&&typeof q.then=="function"&&typeof q.catch=="function"}function O(q){return Promise.resolve().then(function(){var ee;if(typeof q=="function"){if(ee=q(),!F(ee))throw new t("instance of Promise","promiseFn",ee)}else if(F(q))ee=q;else throw new p("promiseFn",["Function","Promise"],q);return Promise.resolve().then(function(){return ee}).then(function(){return y}).catch(function(Q){return Q})})}function z(q,ee,Q,oe){if(typeof Q=="string"){if(arguments.length===4)throw new p("error",["Object","Error","Function","RegExp"],Q);if(L(ee)==="object"&&ee!==null){if(ee.message===Q)throw new v("error/message",'The error message "'.concat(ee.message,'" is identical to the message.'))}else if(ee===Q)throw new v("error/message",'The error "'.concat(ee,'" is identical to the message.'));oe=Q,Q=void 0}else if(Q!=null&&L(Q)!=="object"&&typeof Q!="function")throw new p("error",["Object","Error","Function","RegExp"],Q);if(ee===y){var Z="";Q&&Q.name&&(Z+=" (".concat(Q.name,")")),Z+=oe?": ".concat(oe):".";var Y=q.name==="rejects"?"rejection":"exception";S({actual:void 0,expected:Q,operator:q.name,message:"Missing expected ".concat(Y).concat(Z),stackStartFn:q})}if(Q&&!N(ee,Q,oe,q))throw ee}function B(q,ee,Q,oe){if(ee!==y){if(typeof Q=="string"&&(oe=Q,Q=void 0),!Q||N(ee,Q)){var Z=oe?": ".concat(oe):".",Y=q.name==="doesNotReject"?"rejection":"exception";S({actual:ee,expected:Q,operator:q.name,message:"Got unwanted ".concat(Y).concat(Z,`
`)+'Actual message: "'.concat(ee&&ee.message,'"'),stackStartFn:q})}throw ee}}E.throws=function q(ee){for(var Q=arguments.length,oe=new Array(Q>1?Q-1:0),Z=1;Z<Q;Z++)oe[Z-1]=arguments[Z];z.apply(void 0,[q,k(ee)].concat(oe))},E.rejects=function q(ee){for(var Q=arguments.length,oe=new Array(Q>1?Q-1:0),Z=1;Z<Q;Z++)oe[Z-1]=arguments[Z];return O(ee).then(function(Y){return z.apply(void 0,[q,Y].concat(oe))})},E.doesNotThrow=function q(ee){for(var Q=arguments.length,oe=new Array(Q>1?Q-1:0),Z=1;Z<Q;Z++)oe[Z-1]=arguments[Z];B.apply(void 0,[q,k(ee)].concat(oe))},E.doesNotReject=function q(ee){for(var Q=arguments.length,oe=new Array(Q>1?Q-1:0),Z=1;Z<Q;Z++)oe[Z-1]=arguments[Z];return O(ee).then(function(Y){return B.apply(void 0,[q,Y].concat(oe))})},E.ifError=function q(ee){if(ee!=null){var Q="ifError got unwanted exception: ";L(ee)==="object"&&typeof ee.message=="string"?ee.message.length===0&&ee.constructor?Q+=ee.constructor.name:Q+=ee.message:Q+=u(ee);var oe=new n({actual:ee,expected:null,operator:"ifError",message:Q,stackStartFn:q}),Z=ee.stack;if(typeof Z=="string"){var Y=Z.split(`
`);Y.shift();for(var te=oe.stack.split(`
`),X=0;X<Y.length;X++){var $=te.indexOf(Y[X]);if($!==-1){te=te.slice(0,$);break}}oe.stack="".concat(te.join(`
`),`
`).concat(Y.join(`
`))}throw oe}};function W(){for(var q=arguments.length,ee=new Array(q),Q=0;Q<q;Q++)ee[Q]=arguments[Q];o.apply(void 0,[W,ee.length].concat(ee))}E.strict=M(W,E,{equal:E.strictEqual,deepEqual:E.deepStrictEqual,notEqual:E.notStrictEqual,notDeepEqual:E.notDeepStrictEqual}),E.strict.strict=E.strict},26144:function(G,U,e){var g=e(4168);function L(k){for(var F=1;F<arguments.length;F++){var O=arguments[F]!=null?arguments[F]:{},z=Object.keys(O);typeof Object.getOwnPropertySymbols=="function"&&(z=z.concat(Object.getOwnPropertySymbols(O).filter(function(B){return Object.getOwnPropertyDescriptor(O,B).enumerable}))),z.forEach(function(B){a(k,B,O[B])})}return k}function a(k,F,O){return F in k?Object.defineProperty(k,F,{value:O,enumerable:!0,configurable:!0,writable:!0}):k[F]=O,k}function C(k,F){if(!(k instanceof F))throw new TypeError("Cannot call a class as a function")}function A(k,F){for(var O=0;O<F.length;O++){var z=F[O];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(k,z.key,z)}}function v(k,F,O){return F&&A(k.prototype,F),O&&A(k,O),k}function p(k,F){return F&&(h(F)==="object"||typeof F=="function")?F:r(k)}function r(k){if(k===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k}function t(k,F){if(typeof F!="function"&&F!==null)throw new TypeError("Super expression must either be null or a function");k.prototype=Object.create(F&&F.prototype,{constructor:{value:k,writable:!0,configurable:!0}}),F&&l(k,F)}function s(k){var F=typeof Map=="function"?new Map:void 0;return s=function(z){if(z===null||!u(z))return z;if(typeof z!="function")throw new TypeError("Super expression must either be null or a function");if(typeof F!="undefined"){if(F.has(z))return F.get(z);F.set(z,B)}function B(){return f(z,arguments,m(this).constructor)}return B.prototype=Object.create(z.prototype,{constructor:{value:B,enumerable:!1,writable:!0,configurable:!0}}),l(B,z)},s(k)}function n(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function f(k,F,O){return n()?f=Reflect.construct:f=function(B,W,q){var ee=[null];ee.push.apply(ee,W);var Q=Function.bind.apply(B,ee),oe=new Q;return q&&l(oe,q.prototype),oe},f.apply(null,arguments)}function u(k){return Function.toString.call(k).indexOf("[native code]")!==-1}function l(k,F){return l=Object.setPrototypeOf||function(z,B){return z.__proto__=B,z},l(k,F)}function m(k){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(O){return O.__proto__||Object.getPrototypeOf(O)},m(k)}function h(k){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?h=function(O){return typeof O}:h=function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},h(k)}var M=e(35840),c=M.inspect,i=e(86832),d=i.codes.ERR_INVALID_ARG_TYPE;function b(k,F,O){return(O===void 0||O>k.length)&&(O=k.length),k.substring(O-F.length,O)===F}function w(k,F){if(F=Math.floor(F),k.length==0||F==0)return"";var O=k.length*F;for(F=Math.floor(Math.log(F)/Math.log(2));F;)k+=k,F--;return k+=k.substring(0,O-k.length),k}var E="",y="",S="",T="",o={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"},P=10;function x(k){var F=Object.keys(k),O=Object.create(Object.getPrototypeOf(k));return F.forEach(function(z){O[z]=k[z]}),Object.defineProperty(O,"message",{value:k.message}),O}function _(k){return c(k,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}function I(k,F,O){var z="",B="",W=0,q="",ee=!1,Q=_(k),oe=Q.split(`
`),Z=_(F).split(`
`),Y=0,te="";if(O==="strictEqual"&&h(k)==="object"&&h(F)==="object"&&k!==null&&F!==null&&(O="strictEqualObject"),oe.length===1&&Z.length===1&&oe[0]!==Z[0]){var X=oe[0].length+Z[0].length;if(X<=P){if((h(k)!=="object"||k===null)&&(h(F)!=="object"||F===null)&&(k!==0||F!==0))return"".concat(o[O],`

`)+"".concat(oe[0]," !== ").concat(Z[0],`
`)}else if(O!=="strictEqualObject"){var $=g.stderr&&g.stderr.isTTY?g.stderr.columns:80;if(X<$){for(;oe[0][Y]===Z[0][Y];)Y++;Y>2&&(te=`
  `.concat(w(" ",Y),"^"),Y=0)}}}for(var ie=oe[oe.length-1],J=Z[Z.length-1];ie===J&&(Y++<2?q=`
  `.concat(ie).concat(q):z=ie,oe.pop(),Z.pop(),!(oe.length===0||Z.length===0));)ie=oe[oe.length-1],J=Z[Z.length-1];var j=Math.max(oe.length,Z.length);if(j===0){var se=Q.split(`
`);if(se.length>30)for(se[26]="".concat(E,"...").concat(T);se.length>27;)se.pop();return"".concat(o.notIdentical,`

`).concat(se.join(`
`),`
`)}Y>3&&(q=`
`.concat(E,"...").concat(T).concat(q),ee=!0),z!==""&&(q=`
  `.concat(z).concat(q),z="");var ne=0,le=o[O]+`
`.concat(y,"+ actual").concat(T," ").concat(S,"- expected").concat(T),pe=" ".concat(E,"...").concat(T," Lines skipped");for(Y=0;Y<j;Y++){var Ae=Y-W;if(oe.length<Y+1)Ae>1&&Y>2&&(Ae>4?(B+=`
`.concat(E,"...").concat(T),ee=!0):Ae>3&&(B+=`
  `.concat(Z[Y-2]),ne++),B+=`
  `.concat(Z[Y-1]),ne++),W=Y,z+=`
`.concat(S,"-").concat(T," ").concat(Z[Y]),ne++;else if(Z.length<Y+1)Ae>1&&Y>2&&(Ae>4?(B+=`
`.concat(E,"...").concat(T),ee=!0):Ae>3&&(B+=`
  `.concat(oe[Y-2]),ne++),B+=`
  `.concat(oe[Y-1]),ne++),W=Y,B+=`
`.concat(y,"+").concat(T," ").concat(oe[Y]),ne++;else{var be=Z[Y],Re=oe[Y],xe=Re!==be&&(!b(Re,",")||Re.slice(0,-1)!==be);xe&&b(be,",")&&be.slice(0,-1)===Re&&(xe=!1,Re+=","),xe?(Ae>1&&Y>2&&(Ae>4?(B+=`
`.concat(E,"...").concat(T),ee=!0):Ae>3&&(B+=`
  `.concat(oe[Y-2]),ne++),B+=`
  `.concat(oe[Y-1]),ne++),W=Y,B+=`
`.concat(y,"+").concat(T," ").concat(Re),z+=`
`.concat(S,"-").concat(T," ").concat(be),ne+=2):(B+=z,z="",(Ae===1||Y===0)&&(B+=`
  `.concat(Re),ne++))}if(ne>20&&Y<j-2)return"".concat(le).concat(pe,`
`).concat(B,`
`).concat(E,"...").concat(T).concat(z,`
`)+"".concat(E,"...").concat(T)}return"".concat(le).concat(ee?pe:"",`
`).concat(B).concat(z).concat(q).concat(te)}var N=function(k){t(F,k);function F(O){var z;if(C(this,F),h(O)!=="object"||O===null)throw new d("options","Object",O);var B=O.message,W=O.operator,q=O.stackStartFn,ee=O.actual,Q=O.expected,oe=Error.stackTraceLimit;if(Error.stackTraceLimit=0,B!=null)z=p(this,m(F).call(this,String(B)));else if(g.stderr&&g.stderr.isTTY&&(g.stderr&&g.stderr.getColorDepth&&g.stderr.getColorDepth()!==1?(E="\x1B[34m",y="\x1B[32m",T="\x1B[39m",S="\x1B[31m"):(E="",y="",T="",S="")),h(ee)==="object"&&ee!==null&&h(Q)==="object"&&Q!==null&&"stack"in ee&&ee instanceof Error&&"stack"in Q&&Q instanceof Error&&(ee=x(ee),Q=x(Q)),W==="deepStrictEqual"||W==="strictEqual")z=p(this,m(F).call(this,I(ee,Q,W)));else if(W==="notDeepStrictEqual"||W==="notStrictEqual"){var Z=o[W],Y=_(ee).split(`
`);if(W==="notStrictEqual"&&h(ee)==="object"&&ee!==null&&(Z=o.notStrictEqualObject),Y.length>30)for(Y[26]="".concat(E,"...").concat(T);Y.length>27;)Y.pop();Y.length===1?z=p(this,m(F).call(this,"".concat(Z," ").concat(Y[0]))):z=p(this,m(F).call(this,"".concat(Z,`

`).concat(Y.join(`
`),`
`)))}else{var te=_(ee),X="",$=o[W];W==="notDeepEqual"||W==="notEqual"?(te="".concat(o[W],`

`).concat(te),te.length>1024&&(te="".concat(te.slice(0,1021),"..."))):(X="".concat(_(Q)),te.length>512&&(te="".concat(te.slice(0,509),"...")),X.length>512&&(X="".concat(X.slice(0,509),"...")),W==="deepEqual"||W==="equal"?te="".concat($,`

`).concat(te,`

should equal

`):X=" ".concat(W," ").concat(X)),z=p(this,m(F).call(this,"".concat(te).concat(X)))}return Error.stackTraceLimit=oe,z.generatedMessage=!B,Object.defineProperty(r(z),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),z.code="ERR_ASSERTION",z.actual=ee,z.expected=Q,z.operator=W,Error.captureStackTrace&&Error.captureStackTrace(r(z),q),z.stack,z.name="AssertionError",p(z)}return v(F,[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:c.custom,value:function(z,B){return c(this,L({},B,{customInspect:!1,depth:0}))}}]),F}(s(Error));G.exports=N},86832:function(G,U,e){function g(h){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?g=function(c){return typeof c}:g=function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},g(h)}function L(h,M){if(!(h instanceof M))throw new TypeError("Cannot call a class as a function")}function a(h,M){return M&&(g(M)==="object"||typeof M=="function")?M:C(h)}function C(h){if(h===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h}function A(h){return A=Object.setPrototypeOf?Object.getPrototypeOf:function(c){return c.__proto__||Object.getPrototypeOf(c)},A(h)}function v(h,M){if(typeof M!="function"&&M!==null)throw new TypeError("Super expression must either be null or a function");h.prototype=Object.create(M&&M.prototype,{constructor:{value:h,writable:!0,configurable:!0}}),M&&p(h,M)}function p(h,M){return p=Object.setPrototypeOf||function(i,d){return i.__proto__=d,i},p(h,M)}var r={},t,s;function n(h,M,c){c||(c=Error);function i(b,w,E){return typeof M=="string"?M:M(b,w,E)}var d=function(b){v(w,b);function w(E,y,S){var T;return L(this,w),T=a(this,A(w).call(this,i(E,y,S))),T.code=h,T}return w}(c);r[h]=d}function f(h,M){if(Array.isArray(h)){var c=h.length;return h=h.map(function(i){return String(i)}),c>2?"one of ".concat(M," ").concat(h.slice(0,c-1).join(", "),", or ")+h[c-1]:c===2?"one of ".concat(M," ").concat(h[0]," or ").concat(h[1]):"of ".concat(M," ").concat(h[0])}else return"of ".concat(M," ").concat(String(h))}function u(h,M,c){return h.substr(!c||c<0?0:+c,M.length)===M}function l(h,M,c){return(c===void 0||c>h.length)&&(c=h.length),h.substring(c-M.length,c)===M}function m(h,M,c){return typeof c!="number"&&(c=0),c+M.length>h.length?!1:h.indexOf(M,c)!==-1}n("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),n("ERR_INVALID_ARG_TYPE",function(h,M,c){t===void 0&&(t=e(45408)),t(typeof h=="string","'name' must be a string");var i;typeof M=="string"&&u(M,"not ")?(i="must not be",M=M.replace(/^not /,"")):i="must be";var d;if(l(h," argument"))d="The ".concat(h," ").concat(i," ").concat(f(M,"type"));else{var b=m(h,".")?"property":"argument";d='The "'.concat(h,'" ').concat(b," ").concat(i," ").concat(f(M,"type"))}return d+=". Received type ".concat(g(c)),d},TypeError),n("ERR_INVALID_ARG_VALUE",function(h,M){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"is invalid";s===void 0&&(s=e(35840));var i=s.inspect(M);return i.length>128&&(i="".concat(i.slice(0,128),"...")),"The argument '".concat(h,"' ").concat(c,". Received ").concat(i)},TypeError),n("ERR_INVALID_RETURN_VALUE",function(h,M,c){var i;return c&&c.constructor&&c.constructor.name?i="instance of ".concat(c.constructor.name):i="type ".concat(g(c)),"Expected ".concat(h,' to be returned from the "').concat(M,'"')+" function but got ".concat(i,".")},TypeError),n("ERR_MISSING_ARGS",function(){for(var h=arguments.length,M=new Array(h),c=0;c<h;c++)M[c]=arguments[c];t===void 0&&(t=e(45408)),t(M.length>0,"At least one arg needs to be specified");var i="The ",d=M.length;switch(M=M.map(function(b){return'"'.concat(b,'"')}),d){case 1:i+="".concat(M[0]," argument");break;case 2:i+="".concat(M[0]," and ").concat(M[1]," arguments");break;default:i+=M.slice(0,d-1).join(", "),i+=", and ".concat(M[d-1]," arguments");break}return"".concat(i," must be specified")},TypeError),G.exports.codes=r},25116:function(G,U,e){function g(Me,ye){return C(Me)||a(Me,ye)||L()}function L(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function a(Me,ye){var Se=[],Fe=!0,Be=!1,_e=void 0;try{for(var Ue=Me[Symbol.iterator](),it;!(Fe=(it=Ue.next()).done)&&(Se.push(it.value),!(ye&&Se.length===ye));Fe=!0);}catch(lt){Be=!0,_e=lt}finally{try{!Fe&&Ue.return!=null&&Ue.return()}finally{if(Be)throw _e}}return Se}function C(Me){if(Array.isArray(Me))return Me}function A(Me){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?A=function(Se){return typeof Se}:A=function(Se){return Se&&typeof Symbol=="function"&&Se.constructor===Symbol&&Se!==Symbol.prototype?"symbol":typeof Se},A(Me)}var v=/a/g.flags!==void 0,p=function(ye){var Se=[];return ye.forEach(function(Fe){return Se.push(Fe)}),Se},r=function(ye){var Se=[];return ye.forEach(function(Fe,Be){return Se.push([Be,Fe])}),Se},t=Object.is?Object.is:e(39896),s=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},n=Number.isNaN?Number.isNaN:e(1560);function f(Me){return Me.call.bind(Me)}var u=f(Object.prototype.hasOwnProperty),l=f(Object.prototype.propertyIsEnumerable),m=f(Object.prototype.toString),h=e(35840).types,M=h.isAnyArrayBuffer,c=h.isArrayBufferView,i=h.isDate,d=h.isMap,b=h.isRegExp,w=h.isSet,E=h.isNativeError,y=h.isBoxedPrimitive,S=h.isNumberObject,T=h.isStringObject,o=h.isBooleanObject,P=h.isBigIntObject,x=h.isSymbolObject,_=h.isFloat32Array,I=h.isFloat64Array;function N(Me){if(Me.length===0||Me.length>10)return!0;for(var ye=0;ye<Me.length;ye++){var Se=Me.charCodeAt(ye);if(Se<48||Se>57)return!0}return Me.length===10&&Me>=Math.pow(2,32)}function k(Me){return Object.keys(Me).filter(N).concat(s(Me).filter(Object.prototype.propertyIsEnumerable.bind(Me)))}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */function F(Me,ye){if(Me===ye)return 0;for(var Se=Me.length,Fe=ye.length,Be=0,_e=Math.min(Se,Fe);Be<_e;++Be)if(Me[Be]!==ye[Be]){Se=Me[Be],Fe=ye[Be];break}return Se<Fe?-1:Fe<Se?1:0}var O=!0,z=!1,B=0,W=1,q=2,ee=3;function Q(Me,ye){return v?Me.source===ye.source&&Me.flags===ye.flags:RegExp.prototype.toString.call(Me)===RegExp.prototype.toString.call(ye)}function oe(Me,ye){if(Me.byteLength!==ye.byteLength)return!1;for(var Se=0;Se<Me.byteLength;Se++)if(Me[Se]!==ye[Se])return!1;return!0}function Z(Me,ye){return Me.byteLength!==ye.byteLength?!1:F(new Uint8Array(Me.buffer,Me.byteOffset,Me.byteLength),new Uint8Array(ye.buffer,ye.byteOffset,ye.byteLength))===0}function Y(Me,ye){return Me.byteLength===ye.byteLength&&F(new Uint8Array(Me),new Uint8Array(ye))===0}function te(Me,ye){return S(Me)?S(ye)&&t(Number.prototype.valueOf.call(Me),Number.prototype.valueOf.call(ye)):T(Me)?T(ye)&&String.prototype.valueOf.call(Me)===String.prototype.valueOf.call(ye):o(Me)?o(ye)&&Boolean.prototype.valueOf.call(Me)===Boolean.prototype.valueOf.call(ye):P(Me)?P(ye)&&BigInt.prototype.valueOf.call(Me)===BigInt.prototype.valueOf.call(ye):x(ye)&&Symbol.prototype.valueOf.call(Me)===Symbol.prototype.valueOf.call(ye)}function X(Me,ye,Se,Fe){if(Me===ye)return Me!==0?!0:Se?t(Me,ye):!0;if(Se){if(A(Me)!=="object")return typeof Me=="number"&&n(Me)&&n(ye);if(A(ye)!=="object"||Me===null||ye===null||Object.getPrototypeOf(Me)!==Object.getPrototypeOf(ye))return!1}else{if(Me===null||A(Me)!=="object")return ye===null||A(ye)!=="object"?Me==ye:!1;if(ye===null||A(ye)!=="object")return!1}var Be=m(Me),_e=m(ye);if(Be!==_e)return!1;if(Array.isArray(Me)){if(Me.length!==ye.length)return!1;var Ue=k(Me),it=k(ye);return Ue.length!==it.length?!1:ie(Me,ye,Se,Fe,W,Ue)}if(Be==="[object Object]"&&(!d(Me)&&d(ye)||!w(Me)&&w(ye)))return!1;if(i(Me)){if(!i(ye)||Date.prototype.getTime.call(Me)!==Date.prototype.getTime.call(ye))return!1}else if(b(Me)){if(!b(ye)||!Q(Me,ye))return!1}else if(E(Me)||Me instanceof Error){if(Me.message!==ye.message||Me.name!==ye.name)return!1}else if(c(Me)){if(!Se&&(_(Me)||I(Me))){if(!oe(Me,ye))return!1}else if(!Z(Me,ye))return!1;var lt=k(Me),$e=k(ye);return lt.length!==$e.length?!1:ie(Me,ye,Se,Fe,B,lt)}else{if(w(Me))return!w(ye)||Me.size!==ye.size?!1:ie(Me,ye,Se,Fe,q);if(d(Me))return!d(ye)||Me.size!==ye.size?!1:ie(Me,ye,Se,Fe,ee);if(M(Me)){if(!Y(Me,ye))return!1}else if(y(Me)&&!te(Me,ye))return!1}return ie(Me,ye,Se,Fe,B)}function $(Me,ye){return ye.filter(function(Se){return l(Me,Se)})}function ie(Me,ye,Se,Fe,Be,_e){if(arguments.length===5){_e=Object.keys(Me);var Ue=Object.keys(ye);if(_e.length!==Ue.length)return!1}for(var it=0;it<_e.length;it++)if(!u(ye,_e[it]))return!1;if(Se&&arguments.length===5){var lt=s(Me);if(lt.length!==0){var $e=0;for(it=0;it<lt.length;it++){var qe=lt[it];if(l(Me,qe)){if(!l(ye,qe))return!1;_e.push(qe),$e++}else if(l(ye,qe))return!1}var ft=s(ye);if(lt.length!==ft.length&&$(ye,ft).length!==$e)return!1}else{var ct=s(ye);if(ct.length!==0&&$(ye,ct).length!==0)return!1}}if(_e.length===0&&(Be===B||Be===W&&Me.length===0||Me.size===0))return!0;if(Fe===void 0)Fe={val1:new Map,val2:new Map,position:0};else{var pt=Fe.val1.get(Me);if(pt!==void 0){var yt=Fe.val2.get(ye);if(yt!==void 0)return pt===yt}Fe.position++}Fe.val1.set(Me,Fe.position),Fe.val2.set(ye,Fe.position);var Et=be(Me,ye,Se,_e,Fe,Be);return Fe.val1.delete(Me),Fe.val2.delete(ye),Et}function J(Me,ye,Se,Fe){for(var Be=p(Me),_e=0;_e<Be.length;_e++){var Ue=Be[_e];if(X(ye,Ue,Se,Fe))return Me.delete(Ue),!0}return!1}function j(Me){switch(A(Me)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":Me=+Me;case"number":if(n(Me))return!1}return!0}function se(Me,ye,Se){var Fe=j(Se);return Fe!=null?Fe:ye.has(Fe)&&!Me.has(Fe)}function ne(Me,ye,Se,Fe,Be){var _e=j(Se);if(_e!=null)return _e;var Ue=ye.get(_e);return Ue===void 0&&!ye.has(_e)||!X(Fe,Ue,!1,Be)?!1:!Me.has(_e)&&X(Fe,Ue,!1,Be)}function le(Me,ye,Se,Fe){for(var Be=null,_e=p(Me),Ue=0;Ue<_e.length;Ue++){var it=_e[Ue];if(A(it)==="object"&&it!==null)Be===null&&(Be=new Set),Be.add(it);else if(!ye.has(it)){if(Se||!se(Me,ye,it))return!1;Be===null&&(Be=new Set),Be.add(it)}}if(Be!==null){for(var lt=p(ye),$e=0;$e<lt.length;$e++){var qe=lt[$e];if(A(qe)==="object"&&qe!==null){if(!J(Be,qe,Se,Fe))return!1}else if(!Se&&!Me.has(qe)&&!J(Be,qe,Se,Fe))return!1}return Be.size===0}return!0}function pe(Me,ye,Se,Fe,Be,_e){for(var Ue=p(Me),it=0;it<Ue.length;it++){var lt=Ue[it];if(X(Se,lt,Be,_e)&&X(Fe,ye.get(lt),Be,_e))return Me.delete(lt),!0}return!1}function Ae(Me,ye,Se,Fe){for(var Be=null,_e=r(Me),Ue=0;Ue<_e.length;Ue++){var it=g(_e[Ue],2),lt=it[0],$e=it[1];if(A(lt)==="object"&&lt!==null)Be===null&&(Be=new Set),Be.add(lt);else{var qe=ye.get(lt);if(qe===void 0&&!ye.has(lt)||!X($e,qe,Se,Fe)){if(Se||!ne(Me,ye,lt,$e,Fe))return!1;Be===null&&(Be=new Set),Be.add(lt)}}}if(Be!==null){for(var ft=r(ye),ct=0;ct<ft.length;ct++){var pt=g(ft[ct],2),lt=pt[0],yt=pt[1];if(A(lt)==="object"&&lt!==null){if(!pe(Be,Me,lt,yt,Se,Fe))return!1}else if(!Se&&(!Me.has(lt)||!X(Me.get(lt),yt,!1,Fe))&&!pe(Be,Me,lt,yt,!1,Fe))return!1}return Be.size===0}return!0}function be(Me,ye,Se,Fe,Be,_e){var Ue=0;if(_e===q){if(!le(Me,ye,Se,Be))return!1}else if(_e===ee){if(!Ae(Me,ye,Se,Be))return!1}else if(_e===W)for(;Ue<Me.length;Ue++)if(u(Me,Ue)){if(!u(ye,Ue)||!X(Me[Ue],ye[Ue],Se,Be))return!1}else{if(u(ye,Ue))return!1;for(var it=Object.keys(Me);Ue<it.length;Ue++){var lt=it[Ue];if(!u(ye,lt)||!X(Me[lt],ye[lt],Se,Be))return!1}return it.length===Object.keys(ye).length}for(Ue=0;Ue<Fe.length;Ue++){var $e=Fe[Ue];if(!X(Me[$e],ye[$e],Se,Be))return!1}return!0}function Re(Me,ye){return X(Me,ye,z)}function xe(Me,ye){return X(Me,ye,O)}G.exports={isDeepEqual:Re,isDeepStrictEqual:xe}},83160:function(G,U,e){e.r(U),e.d(U,{decode:function(){return A},encode:function(){return C}});for(var g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",L=typeof Uint8Array=="undefined"?[]:new Uint8Array(256),a=0;a<g.length;a++)L[g.charCodeAt(a)]=a;var C=function(v){var p=new Uint8Array(v),r,t=p.length,s="";for(r=0;r<t;r+=3)s+=g[p[r]>>2],s+=g[(p[r]&3)<<4|p[r+1]>>4],s+=g[(p[r+1]&15)<<2|p[r+2]>>6],s+=g[p[r+2]&63];return t%3===2?s=s.substring(0,s.length-1)+"=":t%3===1&&(s=s.substring(0,s.length-2)+"=="),s},A=function(v){var p=v.length*.75,r=v.length,t,s=0,n,f,u,l;v[v.length-1]==="="&&(p--,v[v.length-2]==="="&&p--);var m=new ArrayBuffer(p),h=new Uint8Array(m);for(t=0;t<r;t+=4)n=L[v.charCodeAt(t)],f=L[v.charCodeAt(t+1)],u=L[v.charCodeAt(t+2)],l=L[v.charCodeAt(t+3)],h[s++]=n<<2|f>>4,h[s++]=(f&15)<<4|u>>2,h[s++]=(u&3)<<6|l&63;return m}},59968:function(G,U){U.byteLength=p,U.toByteArray=t,U.fromByteArray=f;for(var e=[],g=[],L=typeof Uint8Array!="undefined"?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",C=0,A=a.length;C<A;++C)e[C]=a[C],g[a.charCodeAt(C)]=C;g["-".charCodeAt(0)]=62,g["_".charCodeAt(0)]=63;function v(u){var l=u.length;if(l%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var m=u.indexOf("=");m===-1&&(m=l);var h=m===l?0:4-m%4;return[m,h]}function p(u){var l=v(u),m=l[0],h=l[1];return(m+h)*3/4-h}function r(u,l,m){return(l+m)*3/4-m}function t(u){var l,m=v(u),h=m[0],M=m[1],c=new L(r(u,h,M)),i=0,d=M>0?h-4:h,b;for(b=0;b<d;b+=4)l=g[u.charCodeAt(b)]<<18|g[u.charCodeAt(b+1)]<<12|g[u.charCodeAt(b+2)]<<6|g[u.charCodeAt(b+3)],c[i++]=l>>16&255,c[i++]=l>>8&255,c[i++]=l&255;return M===2&&(l=g[u.charCodeAt(b)]<<2|g[u.charCodeAt(b+1)]>>4,c[i++]=l&255),M===1&&(l=g[u.charCodeAt(b)]<<10|g[u.charCodeAt(b+1)]<<4|g[u.charCodeAt(b+2)]>>2,c[i++]=l>>8&255,c[i++]=l&255),c}function s(u){return e[u>>18&63]+e[u>>12&63]+e[u>>6&63]+e[u&63]}function n(u,l,m){for(var h,M=[],c=l;c<m;c+=3)h=(u[c]<<16&16711680)+(u[c+1]<<8&65280)+(u[c+2]&255),M.push(s(h));return M.join("")}function f(u){for(var l,m=u.length,h=m%3,M=[],c=16383,i=0,d=m-h;i<d;i+=c)M.push(n(u,i,i+c>d?d:i+c));return h===1?(l=u[m-1],M.push(e[l>>2]+e[l<<4&63]+"==")):h===2&&(l=(u[m-2]<<8)+u[m-1],M.push(e[l>>10]+e[l>>4&63]+e[l<<2&63]+"=")),M.join("")}},64928:function(G){function U(A,v,p,r,t){for(var s=t+1;r<=t;){var n=r+t>>>1,f=A[n],u=p!==void 0?p(f,v):f-v;u>=0?(s=n,t=n-1):r=n+1}return s}function e(A,v,p,r,t){for(var s=t+1;r<=t;){var n=r+t>>>1,f=A[n],u=p!==void 0?p(f,v):f-v;u>0?(s=n,t=n-1):r=n+1}return s}function g(A,v,p,r,t){for(var s=r-1;r<=t;){var n=r+t>>>1,f=A[n],u=p!==void 0?p(f,v):f-v;u<0?(s=n,r=n+1):t=n-1}return s}function L(A,v,p,r,t){for(var s=r-1;r<=t;){var n=r+t>>>1,f=A[n],u=p!==void 0?p(f,v):f-v;u<=0?(s=n,r=n+1):t=n-1}return s}function a(A,v,p,r,t){for(;r<=t;){var s=r+t>>>1,n=A[s],f=p!==void 0?p(n,v):n-v;if(f===0)return s;f<=0?r=s+1:t=s-1}return-1}function C(A,v,p,r,t,s){return typeof p=="function"?s(A,v,p,r===void 0?0:r|0,t===void 0?A.length-1:t|0):s(A,v,void 0,p===void 0?0:p|0,r===void 0?A.length-1:r|0)}G.exports={ge:function(A,v,p,r,t){return C(A,v,p,r,t,U)},gt:function(A,v,p,r,t){return C(A,v,p,r,t,e)},lt:function(A,v,p,r,t){return C(A,v,p,r,t,g)},le:function(A,v,p,r,t){return C(A,v,p,r,t,L)},eq:function(A,v,p,r,t){return C(A,v,p,r,t,a)}}},308:function(G,U){var e=32;U.INT_BITS=e,U.INT_MAX=2147483647,U.INT_MIN=-1<<e-1,U.sign=function(a){return(a>0)-(a<0)},U.abs=function(a){var C=a>>e-1;return(a^C)-C},U.min=function(a,C){return C^(a^C)&-(a<C)},U.max=function(a,C){return a^(a^C)&-(a<C)},U.isPow2=function(a){return!(a&a-1)&&!!a},U.log2=function(a){var C,A;return C=(a>65535)<<4,a>>>=C,A=(a>255)<<3,a>>>=A,C|=A,A=(a>15)<<2,a>>>=A,C|=A,A=(a>3)<<1,a>>>=A,C|=A,C|a>>1},U.log10=function(a){return a>=1e9?9:a>=1e8?8:a>=1e7?7:a>=1e6?6:a>=1e5?5:a>=1e4?4:a>=1e3?3:a>=100?2:a>=10?1:0},U.popCount=function(a){return a=a-(a>>>1&1431655765),a=(a&858993459)+(a>>>2&858993459),(a+(a>>>4)&252645135)*16843009>>>24};function g(a){var C=32;return a&=-a,a&&C--,a&65535&&(C-=16),a&16711935&&(C-=8),a&252645135&&(C-=4),a&858993459&&(C-=2),a&1431655765&&(C-=1),C}U.countTrailingZeros=g,U.nextPow2=function(a){return a+=a===0,--a,a|=a>>>1,a|=a>>>2,a|=a>>>4,a|=a>>>8,a|=a>>>16,a+1},U.prevPow2=function(a){return a|=a>>>1,a|=a>>>2,a|=a>>>4,a|=a>>>8,a|=a>>>16,a-(a>>>1)},U.parity=function(a){return a^=a>>>16,a^=a>>>8,a^=a>>>4,a&=15,27030>>>a&1};var L=new Array(256);(function(a){for(var C=0;C<256;++C){var A=C,v=C,p=7;for(A>>>=1;A;A>>>=1)v<<=1,v|=A&1,--p;a[C]=v<<p&255}})(L),U.reverse=function(a){return L[a&255]<<24|L[a>>>8&255]<<16|L[a>>>16&255]<<8|L[a>>>24&255]},U.interleave2=function(a,C){return a&=65535,a=(a|a<<8)&16711935,a=(a|a<<4)&252645135,a=(a|a<<2)&858993459,a=(a|a<<1)&1431655765,C&=65535,C=(C|C<<8)&16711935,C=(C|C<<4)&252645135,C=(C|C<<2)&858993459,C=(C|C<<1)&1431655765,a|C<<1},U.deinterleave2=function(a,C){return a=a>>>C&1431655765,a=(a|a>>>1)&858993459,a=(a|a>>>2)&252645135,a=(a|a>>>4)&16711935,a=(a|a>>>16)&65535,a<<16>>16},U.interleave3=function(a,C,A){return a&=1023,a=(a|a<<16)&4278190335,a=(a|a<<8)&251719695,a=(a|a<<4)&3272356035,a=(a|a<<2)&1227133513,C&=1023,C=(C|C<<16)&4278190335,C=(C|C<<8)&251719695,C=(C|C<<4)&3272356035,C=(C|C<<2)&1227133513,a|=C<<1,A&=1023,A=(A|A<<16)&4278190335,A=(A|A<<8)&251719695,A=(A|A<<4)&3272356035,A=(A|A<<2)&1227133513,a|A<<2},U.deinterleave3=function(a,C){return a=a>>>C&1227133513,a=(a|a>>>2)&3272356035,a=(a|a>>>4)&251719695,a=(a|a>>>8)&4278190335,a=(a|a>>>16)&1023,a<<22>>22},U.nextCombination=function(a){var C=a|a-1;return C+1|(~C&-~C)-1>>>g(a)+1}},29620:function(G,U,e){var g=e(32420);G.exports=a;var L=1e20;function a(v,p){p||(p={});var r=p.cutoff==null?.25:p.cutoff,t=p.radius==null?8:p.radius,s=p.channel||0,n,f,u,l,m,h,M,c,i,d,b;if(ArrayBuffer.isView(v)||Array.isArray(v)){if(!p.width||!p.height)throw Error("For raw data width and height should be provided by options");n=p.width,f=p.height,l=v,p.stride?h=p.stride:h=Math.floor(v.length/n/f)}else window.HTMLCanvasElement&&v instanceof window.HTMLCanvasElement?(c=v,M=c.getContext("2d"),n=c.width,f=c.height,i=M.getImageData(0,0,n,f),l=i.data,h=4):window.CanvasRenderingContext2D&&v instanceof window.CanvasRenderingContext2D?(c=v.canvas,M=v,n=c.width,f=c.height,i=M.getImageData(0,0,n,f),l=i.data,h=4):window.ImageData&&v instanceof window.ImageData&&(i=v,n=v.width,f=v.height,l=i.data,h=4);if(u=Math.max(n,f),window.Uint8ClampedArray&&l instanceof window.Uint8ClampedArray||window.Uint8Array&&l instanceof window.Uint8Array)for(m=l,l=Array(n*f),d=0,b=m.length;d<b;d++)l[d]=m[d*h+s]/255;else if(h!==1)throw Error("Raw data can have only 1 value per pixel");var w=Array(n*f),E=Array(n*f),y=Array(u),S=Array(u),T=Array(u+1),o=Array(u);for(d=0,b=n*f;d<b;d++){var P=l[d];w[d]=P===1?0:P===0?L:Math.pow(Math.max(0,.5-P),2),E[d]=P===1?L:P===0?0:Math.pow(Math.max(0,P-.5),2)}C(w,n,f,y,S,o,T),C(E,n,f,y,S,o,T);var x=window.Float32Array?new Float32Array(n*f):new Array(n*f);for(d=0,b=n*f;d<b;d++)x[d]=g(1-((w[d]-E[d])/t+r),0,1);return x}function C(v,p,r,t,s,n,f){for(var u=0;u<p;u++){for(var l=0;l<r;l++)t[l]=v[l*p+u];for(A(t,s,n,f,r),l=0;l<r;l++)v[l*p+u]=s[l]}for(l=0;l<r;l++){for(u=0;u<p;u++)t[u]=v[l*p+u];for(A(t,s,n,f,p),u=0;u<p;u++)v[l*p+u]=Math.sqrt(s[u])}}function A(v,p,r,t,s){r[0]=0,t[0]=-L,t[1]=+L;for(var n=1,f=0;n<s;n++){for(var u=(v[n]+n*n-(v[r[f]]+r[f]*r[f]))/(2*n-2*r[f]);u<=t[f];)f--,u=(v[n]+n*n-(v[r[f]]+r[f]*r[f]))/(2*n-2*r[f]);f++,r[f]=n,t[f]=u,t[f+1]=+L}for(n=0,f=0;n<s;n++){for(;t[f+1]<n;)f++;p[n]=(n-r[f])*(n-r[f])+v[r[f]]}}},99676:function(G,U,e){var g=e(53664),L=e(57916),a=L(g("String.prototype.indexOf"));G.exports=function(A,v){var p=g(A,!!v);return typeof p=="function"&&a(A,".prototype.")>-1?L(p):p}},57916:function(G,U,e){var g=e(8844),L=e(53664),a=e(14500),C=L("%TypeError%"),A=L("%Function.prototype.apply%"),v=L("%Function.prototype.call%"),p=L("%Reflect.apply%",!0)||g.call(v,A),r=L("%Object.defineProperty%",!0),t=L("%Math.max%");if(r)try{r({},"a",{value:1})}catch{r=null}G.exports=function(f){if(typeof f!="function")throw new C("a function is required");var u=p(g,v,arguments);return a(u,1+t(0,f.length-(arguments.length-1)),!0)};var s=function(){return p(g,A,arguments)};r?r(G.exports,"apply",{value:s}):G.exports.apply=s},32420:function(G){G.exports=U;function U(e,g,L){return g<L?e<g?g:e>L?L:e:e<L?L:e>g?g:e}},3808:function(G,U,e){var g=e(32420);G.exports=L,G.exports.to=L,G.exports.from=a;function L(C,A){A==null&&(A=!0);var v=C[0],p=C[1],r=C[2],t=C[3];t==null&&(t=A?1:255),A&&(v*=255,p*=255,r*=255,t*=255),v=g(v,0,255)&255,p=g(p,0,255)&255,r=g(r,0,255)&255,t=g(t,0,255)&255;var s=v*16777216+(p<<16)+(r<<8)+t;return s}function a(C,A){C=+C;var v=C>>>24,p=(C&16711680)>>>16,r=(C&65280)>>>8,t=C&255;return A===!1?[v,p,r,t]:[v/255,p/255,r/255,t/255]}},17592:function(G){G.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},72160:function(G,U,e){var g=e(96824),L=e(32420),a=e(72512);G.exports=function(v,p){(p==="float"||!p)&&(p="array"),p==="uint"&&(p="uint8"),p==="uint_clamped"&&(p="uint8_clamped");var r=a(p),t=new r(4),s=p!=="uint8"&&p!=="uint8_clamped";return(!v.length||typeof v=="string")&&(v=g(v),v[0]/=255,v[1]/=255,v[2]/=255),C(v)?(t[0]=v[0],t[1]=v[1],t[2]=v[2],t[3]=v[3]!=null?v[3]:255,s&&(t[0]/=255,t[1]/=255,t[2]/=255,t[3]/=255),t):(s?(t[0]=v[0],t[1]=v[1],t[2]=v[2],t[3]=v[3]!=null?v[3]:1):(t[0]=L(Math.floor(v[0]*255),0,255),t[1]=L(Math.floor(v[1]*255),0,255),t[2]=L(Math.floor(v[2]*255),0,255),t[3]=v[3]==null?255:L(Math.floor(v[3]*255),0,255)),t)};function C(A){return!!(A instanceof Uint8Array||A instanceof Uint8ClampedArray||Array.isArray(A)&&(A[0]>1||A[0]===0)&&(A[1]>1||A[1]===0)&&(A[2]>1||A[2]===0)&&(!A[3]||A[3]>1))}},81704:function(G,U,e){var g=e(17592),L=e(58908),a=e(31264);G.exports=A;var C={red:0,orange:60,yellow:120,green:180,blue:240,purple:300};function A(v){var p,r=[],t=1,s;if(typeof v=="string")if(g[v])r=g[v].slice(),s="rgb";else if(v==="transparent")t=0,s="rgb",r=[0,0,0];else if(/^#[A-Fa-f0-9]+$/.test(v)){var n=v.slice(1),f=n.length,u=f<=4;t=1,u?(r=[parseInt(n[0]+n[0],16),parseInt(n[1]+n[1],16),parseInt(n[2]+n[2],16)],f===4&&(t=parseInt(n[3]+n[3],16)/255)):(r=[parseInt(n[0]+n[1],16),parseInt(n[2]+n[3],16),parseInt(n[4]+n[5],16)],f===8&&(t=parseInt(n[6]+n[7],16)/255)),r[0]||(r[0]=0),r[1]||(r[1]=0),r[2]||(r[2]=0),s="rgb"}else if(p=/^((?:rgb|hs[lvb]|hwb|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms)a?)\s*\(([^\)]*)\)/.exec(v)){var l=p[1],m=l==="rgb",n=l.replace(/a$/,"");s=n;var f=n==="cmyk"?4:n==="gray"?1:3;r=p[2].trim().split(/\s*,\s*/).map(function(i,d){if(/%$/.test(i))return d===f?parseFloat(i)/100:n==="rgb"?parseFloat(i)*255/100:parseFloat(i);if(n[d]==="h"){if(/deg$/.test(i))return parseFloat(i);if(C[i]!==void 0)return C[i]}return parseFloat(i)}),l===n&&r.push(1),t=m||r[f]===void 0?1:r[f],r=r.slice(0,f)}else v.length>10&&/[0-9](?:\s|\/)/.test(v)&&(r=v.match(/([0-9]+)/g).map(function(M){return parseFloat(M)}),s=v.match(/([a-z])/ig).join("").toLowerCase());else if(!isNaN(v))s="rgb",r=[v>>>16,(v&65280)>>>8,v&255];else if(L(v)){var h=a(v.r,v.red,v.R,null);h!==null?(s="rgb",r=[h,a(v.g,v.green,v.G),a(v.b,v.blue,v.B)]):(s="hsl",r=[a(v.h,v.hue,v.H),a(v.s,v.saturation,v.S),a(v.l,v.lightness,v.L,v.b,v.brightness)]),t=a(v.a,v.alpha,v.opacity,1),v.opacity!=null&&(t/=100)}else(Array.isArray(v)||e.g.ArrayBuffer&&ArrayBuffer.isView&&ArrayBuffer.isView(v))&&(r=[v[0],v[1],v[2]],s="rgb",t=v.length===4?v[3]:1);return{space:s,values:r,alpha:t}}},96824:function(G,U,e){var g=e(81704),L=e(53576),a=e(32420);G.exports=function(A){var v,p=g(A);return p.space?(v=Array(3),v[0]=a(p.values[0],0,255),v[1]=a(p.values[1],0,255),v[2]=a(p.values[2],0,255),p.space[0]==="h"&&(v=L.rgb(v)),v.push(a(p.alpha,0,1)),v):[]}},53576:function(G,U,e){var g=e(19336);G.exports={name:"hsl",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HSL"],rgb:function(L){var a=L[0]/360,C=L[1]/100,A=L[2]/100,v,p,r,t,s;if(C===0)return s=A*255,[s,s,s];A<.5?p=A*(1+C):p=A+C-A*C,v=2*A-p,t=[0,0,0];for(var n=0;n<3;n++)r=a+.3333333333333333*-(n-1),r<0?r++:r>1&&r--,6*r<1?s=v+(p-v)*6*r:2*r<1?s=p:3*r<2?s=v+(p-v)*(.6666666666666666-r)*6:s=v,t[n]=s*255;return t}},g.hsl=function(L){var a=L[0]/255,C=L[1]/255,A=L[2]/255,v=Math.min(a,C,A),p=Math.max(a,C,A),r=p-v,t,s,n;return p===v?t=0:a===p?t=(C-A)/r:C===p?t=2+(A-a)/r:A===p&&(t=4+(a-C)/r),t=Math.min(t*60,360),t<0&&(t+=360),n=(v+p)/2,p===v?s=0:n<=.5?s=r/(p+v):s=r/(2-p-v),[t,s*100,n*100]}},19336:function(G){G.exports={name:"rgb",min:[0,0,0],max:[255,255,255],channel:["red","green","blue"],alias:["RGB"]}},36116:function(G){G.exports={AFG:"afghan",ALA:"\\b\\wland",ALB:"albania",DZA:"algeria",ASM:"^(?=.*americ).*samoa",AND:"andorra",AGO:"angola",AIA:"anguill?a",ATA:"antarctica",ATG:"antigua",ARG:"argentin",ARM:"armenia",ABW:"^(?!.*bonaire).*\\baruba",AUS:"australia",AUT:"^(?!.*hungary).*austria|\\baustri.*\\bemp",AZE:"azerbaijan",BHS:"bahamas",BHR:"bahrain",BGD:"bangladesh|^(?=.*east).*paki?stan",BRB:"barbados",BLR:"belarus|byelo",BEL:"^(?!.*luxem).*belgium",BLZ:"belize|^(?=.*british).*honduras",BEN:"benin|dahome",BMU:"bermuda",BTN:"bhutan",BOL:"bolivia",BES:"^(?=.*bonaire).*eustatius|^(?=.*carib).*netherlands|\\bbes.?islands",BIH:"herzegovina|bosnia",BWA:"botswana|bechuana",BVT:"bouvet",BRA:"brazil",IOT:"british.?indian.?ocean",BRN:"brunei",BGR:"bulgaria",BFA:"burkina|\\bfaso|upper.?volta",BDI:"burundi",CPV:"verde",KHM:"cambodia|kampuchea|khmer",CMR:"cameroon",CAN:"canada",CYM:"cayman",CAF:"\\bcentral.african.republic",TCD:"\\bchad",CHL:"\\bchile",CHN:"^(?!.*\\bmac)(?!.*\\bhong)(?!.*\\btai)(?!.*\\brep).*china|^(?=.*peo)(?=.*rep).*china",CXR:"christmas",CCK:"\\bcocos|keeling",COL:"colombia",COM:"comoro",COG:"^(?!.*\\bdem)(?!.*\\bd[\\.]?r)(?!.*kinshasa)(?!.*zaire)(?!.*belg)(?!.*l.opoldville)(?!.*free).*\\bcongo",COK:"\\bcook",CRI:"costa.?rica",CIV:"ivoire|ivory",HRV:"croatia",CUB:"\\bcuba",CUW:"^(?!.*bonaire).*\\bcura(c|\xE7)ao",CYP:"cyprus",CSK:"czechoslovakia",CZE:"^(?=.*rep).*czech|czechia|bohemia",COD:"\\bdem.*congo|congo.*\\bdem|congo.*\\bd[\\.]?r|\\bd[\\.]?r.*congo|belgian.?congo|congo.?free.?state|kinshasa|zaire|l.opoldville|drc|droc|rdc",DNK:"denmark",DJI:"djibouti",DMA:"dominica(?!n)",DOM:"dominican.rep",ECU:"ecuador",EGY:"egypt",SLV:"el.?salvador",GNQ:"guine.*eq|eq.*guine|^(?=.*span).*guinea",ERI:"eritrea",EST:"estonia",ETH:"ethiopia|abyssinia",FLK:"falkland|malvinas",FRO:"faroe|faeroe",FJI:"fiji",FIN:"finland",FRA:"^(?!.*\\bdep)(?!.*martinique).*france|french.?republic|\\bgaul",GUF:"^(?=.*french).*guiana",PYF:"french.?polynesia|tahiti",ATF:"french.?southern",GAB:"gabon",GMB:"gambia",GEO:"^(?!.*south).*georgia",DDR:"german.?democratic.?republic|democratic.?republic.*germany|east.germany",DEU:"^(?!.*east).*germany|^(?=.*\\bfed.*\\brep).*german",GHA:"ghana|gold.?coast",GIB:"gibraltar",GRC:"greece|hellenic|hellas",GRL:"greenland",GRD:"grenada",GLP:"guadeloupe",GUM:"\\bguam",GTM:"guatemala",GGY:"guernsey",GIN:"^(?!.*eq)(?!.*span)(?!.*bissau)(?!.*portu)(?!.*new).*guinea",GNB:"bissau|^(?=.*portu).*guinea",GUY:"guyana|british.?guiana",HTI:"haiti",HMD:"heard.*mcdonald",VAT:"holy.?see|vatican|papal.?st",HND:"^(?!.*brit).*honduras",HKG:"hong.?kong",HUN:"^(?!.*austr).*hungary",ISL:"iceland",IND:"india(?!.*ocea)",IDN:"indonesia",IRN:"\\biran|persia",IRQ:"\\biraq|mesopotamia",IRL:"(^ireland)|(^republic.*ireland)",IMN:"^(?=.*isle).*\\bman",ISR:"israel",ITA:"italy",JAM:"jamaica",JPN:"japan",JEY:"jersey",JOR:"jordan",KAZ:"kazak",KEN:"kenya|british.?east.?africa|east.?africa.?prot",KIR:"kiribati",PRK:"^(?=.*democrat|people|north|d.*p.*.r).*\\bkorea|dprk|korea.*(d.*p.*r)",KWT:"kuwait",KGZ:"kyrgyz|kirghiz",LAO:"\\blaos?\\b",LVA:"latvia",LBN:"lebanon",LSO:"lesotho|basuto",LBR:"liberia",LBY:"libya",LIE:"liechtenstein",LTU:"lithuania",LUX:"^(?!.*belg).*luxem",MAC:"maca(o|u)",MDG:"madagascar|malagasy",MWI:"malawi|nyasa",MYS:"malaysia",MDV:"maldive",MLI:"\\bmali\\b",MLT:"\\bmalta",MHL:"marshall",MTQ:"martinique",MRT:"mauritania",MUS:"mauritius",MYT:"\\bmayotte",MEX:"\\bmexic",FSM:"fed.*micronesia|micronesia.*fed",MCO:"monaco",MNG:"mongolia",MNE:"^(?!.*serbia).*montenegro",MSR:"montserrat",MAR:"morocco|\\bmaroc",MOZ:"mozambique",MMR:"myanmar|burma",NAM:"namibia",NRU:"nauru",NPL:"nepal",NLD:"^(?!.*\\bant)(?!.*\\bcarib).*netherlands",ANT:"^(?=.*\\bant).*(nether|dutch)",NCL:"new.?caledonia",NZL:"new.?zealand",NIC:"nicaragua",NER:"\\bniger(?!ia)",NGA:"nigeria",NIU:"niue",NFK:"norfolk",MNP:"mariana",NOR:"norway",OMN:"\\boman|trucial",PAK:"^(?!.*east).*paki?stan",PLW:"palau",PSE:"palestin|\\bgaza|west.?bank",PAN:"panama",PNG:"papua|new.?guinea",PRY:"paraguay",PER:"peru",PHL:"philippines",PCN:"pitcairn",POL:"poland",PRT:"portugal",PRI:"puerto.?rico",QAT:"qatar",KOR:"^(?!.*d.*p.*r)(?!.*democrat)(?!.*people)(?!.*north).*\\bkorea(?!.*d.*p.*r)",MDA:"moldov|b(a|e)ssarabia",REU:"r(e|\xE9)union",ROU:"r(o|u|ou)mania",RUS:"\\brussia|soviet.?union|u\\.?s\\.?s\\.?r|socialist.?republics",RWA:"rwanda",BLM:"barth(e|\xE9)lemy",SHN:"helena",KNA:"kitts|\\bnevis",LCA:"\\blucia",MAF:"^(?=.*collectivity).*martin|^(?=.*france).*martin(?!ique)|^(?=.*french).*martin(?!ique)",SPM:"miquelon",VCT:"vincent",WSM:"^(?!.*amer).*samoa",SMR:"san.?marino",STP:"\\bs(a|\xE3)o.?tom(e|\xE9)",SAU:"\\bsa\\w*.?arabia",SEN:"senegal",SRB:"^(?!.*monte).*serbia",SYC:"seychell",SLE:"sierra",SGP:"singapore",SXM:"^(?!.*martin)(?!.*saba).*maarten",SVK:"^(?!.*cze).*slovak",SVN:"slovenia",SLB:"solomon",SOM:"somali",ZAF:"south.africa|s\\\\..?africa",SGS:"south.?georgia|sandwich",SSD:"\\bs\\w*.?sudan",ESP:"spain",LKA:"sri.?lanka|ceylon",SDN:"^(?!.*\\bs(?!u)).*sudan",SUR:"surinam|dutch.?guiana",SJM:"svalbard",SWZ:"swaziland",SWE:"sweden",CHE:"switz|swiss",SYR:"syria",TWN:"taiwan|taipei|formosa|^(?!.*peo)(?=.*rep).*china",TJK:"tajik",THA:"thailand|\\bsiam",MKD:"macedonia|fyrom",TLS:"^(?=.*leste).*timor|^(?=.*east).*timor",TGO:"togo",TKL:"tokelau",TON:"tonga",TTO:"trinidad|tobago",TUN:"tunisia",TUR:"turkey",TKM:"turkmen",TCA:"turks",TUV:"tuvalu",UGA:"uganda",UKR:"ukrain",ARE:"emirates|^u\\.?a\\.?e\\.?$|united.?arab.?em",GBR:"united.?kingdom|britain|^u\\.?k\\.?$",TZA:"tanzania",USA:"united.?states\\b(?!.*islands)|\\bu\\.?s\\.?a\\.?\\b|^\\s*u\\.?s\\.?\\b(?!.*islands)",UMI:"minor.?outlying.?is",URY:"uruguay",UZB:"uzbek",VUT:"vanuatu|new.?hebrides",VEN:"venezuela",VNM:"^(?!.*republic).*viet.?nam|^(?=.*socialist).*viet.?nam",VGB:"^(?=.*\\bu\\.?\\s?k).*virgin|^(?=.*brit).*virgin|^(?=.*kingdom).*virgin",VIR:"^(?=.*\\bu\\.?\\s?s).*virgin|^(?=.*states).*virgin",WLF:"futuna|wallis",ESH:"western.sahara",YEM:"^(?!.*arab)(?!.*north)(?!.*sana)(?!.*peo)(?!.*dem)(?!.*south)(?!.*aden)(?!.*\\bp\\.?d\\.?r).*yemen",YMD:"^(?=.*peo).*yemen|^(?!.*rep)(?=.*dem).*yemen|^(?=.*south).*yemen|^(?=.*aden).*yemen|^(?=.*\\bp\\.?d\\.?r).*yemen",YUG:"yugoslavia",ZMB:"zambia|northern.?rhodesia",EAZ:"zanzibar",ZWE:"zimbabwe|^(?!.*northern).*rhodesia"}},42771:function(G,U,e){G.exports={parse:e(46416),stringify:e(49395)}},8744:function(G,U,e){var g=e(30584);G.exports={isSize:function(a){return/^[\d\.]/.test(a)||a.indexOf("/")!==-1||g.indexOf(a)!==-1}}},46416:function(G,U,e){var g=e(92384),L=e(68194),a=e(3748),C=e(2904),A=e(47916),v=e(7294),p=e(39956),r=e(8744).isSize;G.exports=s;var t=s.cache={};function s(f){if(typeof f!="string")throw new Error("Font argument must be a string.");if(t[f])return t[f];if(f==="")throw new Error("Cannot parse an empty string.");if(a.indexOf(f)!==-1)return t[f]={system:f};for(var u={style:"normal",variant:"normal",weight:"normal",stretch:"normal",lineHeight:"normal",size:"1rem",family:["serif"]},l=p(f,/\s+/),m;m=l.shift();){if(L.indexOf(m)!==-1)return["style","variant","weight","stretch"].forEach(function(M){u[M]=m}),t[f]=u;if(A.indexOf(m)!==-1){u.style=m;continue}if(m==="normal"||m==="small-caps"){u.variant=m;continue}if(v.indexOf(m)!==-1){u.stretch=m;continue}if(C.indexOf(m)!==-1){u.weight=m;continue}if(r(m)){var h=p(m,"/");if(u.size=h[0],h[1]!=null?u.lineHeight=n(h[1]):l[0]==="/"&&(l.shift(),u.lineHeight=n(l.shift())),!l.length)throw new Error("Missing required font-family.");return u.family=p(l.join(" "),/\s*,\s*/).map(g),t[f]=u}throw new Error("Unknown or unsupported font token: "+m)}throw new Error("Missing required font-size.")}function n(f){var u=parseFloat(f);return u.toString()===f?u:f}},49395:function(G,U,e){var g=e(55616),L=e(8744).isSize,a=f(e(68194)),C=f(e(3748)),A=f(e(2904)),v=f(e(47916)),p=f(e(7294)),r={normal:1,"small-caps":1},t={serif:1,"sans-serif":1,monospace:1,cursive:1,fantasy:1,"system-ui":1},s={style:"normal",variant:"normal",weight:"normal",stretch:"normal",size:"1rem",lineHeight:"normal",family:"serif"};G.exports=function(l){if(l=g(l,{style:"style fontstyle fontStyle font-style slope distinction",variant:"variant font-variant fontVariant fontvariant var capitalization",weight:"weight w font-weight fontWeight fontweight",stretch:"stretch font-stretch fontStretch fontstretch width",size:"size s font-size fontSize fontsize height em emSize",lineHeight:"lh line-height lineHeight lineheight leading",family:"font family fontFamily font-family fontfamily type typeface face",system:"system reserved default global"}),l.system)return l.system&&n(l.system,C),l.system;if(n(l.style,v),n(l.variant,r),n(l.weight,A),n(l.stretch,p),l.size==null&&(l.size=s.size),typeof l.size=="number"&&(l.size+="px"),!L)throw Error("Bad size value `"+l.size+"`");l.family||(l.family=s.family),Array.isArray(l.family)&&(l.family.length||(l.family=[s.family]),l.family=l.family.map(function(h){return t[h]?h:'"'+h+'"'}).join(", "));var m=[];return m.push(l.style),l.variant!==l.style&&m.push(l.variant),l.weight!==l.variant&&l.weight!==l.style&&m.push(l.weight),l.stretch!==l.weight&&l.stretch!==l.variant&&l.stretch!==l.style&&m.push(l.stretch),m.push(l.size+(l.lineHeight==null||l.lineHeight==="normal"||l.lineHeight+""=="1"?"":"/"+l.lineHeight)),m.push(l.family),m.filter(Boolean).join(" ")};function n(u,l){if(u&&!l[u]&&!a[u])throw Error("Unknown keyword `"+u+"`");return u}function f(u){for(var l={},m=0;m<u.length;m++)l[u[m]]=1;return l}},27940:function(G,U,e){var g=e(81680),L=e(18496),a=e(87396),C=e(95920),A=e(50868),v=e(84323),p=Function.prototype.bind,r=Object.defineProperty,t=Object.prototype.hasOwnProperty,s;s=function(n,f,u){var l=L(f)&&a(f.value),m;return m=C(f),delete m.writable,delete m.value,m.get=function(){return!u.overwriteDefinition&&t.call(this,n)?l:(f.value=p.call(l,u.resolveContext?u.resolveContext(this):this),r(this,n,f),this[n])},m},G.exports=function(n){var f=A(arguments[1]);return g(f.resolveContext)&&a(f.resolveContext),v(n,function(u,l){return s(l,u,f)})}},21092:function(G,U,e){var g=e(81680),L=e(85488),a=e(38452),C=e(50868),A=e(71056),v=G.exports=function(p,r){var t,s,n,f,u;return arguments.length<2||typeof p!="string"?(f=r,r=p,p=null):f=arguments[2],g(p)?(t=A.call(p,"c"),s=A.call(p,"e"),n=A.call(p,"w")):(t=n=!0,s=!1),u={value:r,configurable:t,enumerable:s,writable:n},f?a(C(f),u):u};v.gs=function(p,r,t){var s,n,f,u;return typeof p!="string"?(f=t,t=r,r=p,p=null):f=arguments[3],g(r)?L(r)?g(t)?L(t)||(f=t,t=void 0):t=void 0:(f=r,r=t=void 0):r=void 0,g(p)?(s=A.call(p,"c"),n=A.call(p,"e")):(s=!0,n=!1),u={get:r,set:t,configurable:s,enumerable:n},f?a(C(f),u):u}},84706:function(G,U,e){e.d(U,{XE:function(){return g},kv:function(){return C},mo:function(){return v},Uf:function(){return p},SY:function(){return r},ik:function(){return t},oh:function(){return s}});function g(n,f){return n<f?-1:n>f?1:n>=f?0:NaN}function L(n){return n.length===1&&(n=a(n)),{left:function(f,u,l,m){for(l==null&&(l=0),m==null&&(m=f.length);l<m;){var h=l+m>>>1;n(f[h],u)<0?l=h+1:m=h}return l},right:function(f,u,l,m){for(l==null&&(l=0),m==null&&(m=f.length);l<m;){var h=l+m>>>1;n(f[h],u)>0?m=h:l=h+1}return l}}}function a(n){return function(f,u){return g(n(f),u)}}L(g);function C(n,f){var u=n.length,l=-1,m,h;if(f==null){for(;++l<u;)if((m=n[l])!=null&&m>=m)for(h=m;++l<u;)(m=n[l])!=null&&m>h&&(h=m)}else for(;++l<u;)if((m=f(n[l],l,n))!=null&&m>=m)for(h=m;++l<u;)(m=f(n[l],l,n))!=null&&m>h&&(h=m);return h}function A(n){return n===null?NaN:+n}function v(n,f){var u=n.length,l=u,m=-1,h,M=0;if(f==null)for(;++m<u;)isNaN(h=A(n[m]))?--l:M+=h;else for(;++m<u;)isNaN(h=A(f(n[m],m,n)))?--l:M+=h;if(l)return M/l}function p(n){for(var f=n.length,u,l=-1,m=0,h,M;++l<f;)m+=n[l].length;for(h=new Array(m);--f>=0;)for(M=n[f],u=M.length;--u>=0;)h[--m]=M[u];return h}function r(n,f){var u=n.length,l=-1,m,h;if(f==null){for(;++l<u;)if((m=n[l])!=null&&m>=m)for(h=m;++l<u;)(m=n[l])!=null&&h>m&&(h=m)}else for(;++l<u;)if((m=f(n[l],l,n))!=null&&m>=m)for(h=m;++l<u;)(m=f(n[l],l,n))!=null&&h>m&&(h=m);return h}function t(n,f,u){n=+n,f=+f,u=(m=arguments.length)<2?(f=n,n=0,1):m<3?1:+u;for(var l=-1,m=Math.max(0,Math.ceil((f-n)/u))|0,h=new Array(m);++l<m;)h[l]=n+l*u;return h}function s(n,f){var u=n.length,l=-1,m,h=0;if(f==null)for(;++l<u;)(m=+n[l])&&(h+=m);else for(;++l<u;)(m=+f(n[l],l,n))&&(h+=m);return h}},34712:function(G,U,e){e.d(U,{kH:function(){return C},UJ:function(){return A}});var g="$";function L(){}L.prototype=a.prototype={constructor:L,has:function(f){return g+f in this},get:function(f){return this[g+f]},set:function(f,u){return this[g+f]=u,this},remove:function(f){var u=g+f;return u in this&&delete this[u]},clear:function(){for(var f in this)f[0]===g&&delete this[f]},keys:function(){var f=[];for(var u in this)u[0]===g&&f.push(u.slice(1));return f},values:function(){var f=[];for(var u in this)u[0]===g&&f.push(this[u]);return f},entries:function(){var f=[];for(var u in this)u[0]===g&&f.push({key:u.slice(1),value:this[u]});return f},size:function(){var f=0;for(var u in this)u[0]===g&&++f;return f},empty:function(){for(var f in this)if(f[0]===g)return!1;return!0},each:function(f){for(var u in this)u[0]===g&&f(this[u],u.slice(1),this)}};function a(f,u){var l=new L;if(f instanceof L)f.each(function(i,d){l.set(d,i)});else if(Array.isArray(f)){var m=-1,h=f.length,M;if(u==null)for(;++m<h;)l.set(m,f[m]);else for(;++m<h;)l.set(u(M=f[m],m,f),M)}else if(f)for(var c in f)l.set(c,f[c]);return l}var C=a;function A(){var f=[],u=[],l,m,h;function M(i,d,b,w){if(d>=f.length)return l!=null&&i.sort(l),m!=null?m(i):i;for(var E=-1,y=i.length,S=f[d++],T,o,P=C(),x,_=b();++E<y;)(x=P.get(T=S(o=i[E])+""))?x.push(o):P.set(T,[o]);return P.each(function(I,N){w(_,N,M(I,d,b,w))}),_}function c(i,d){if(++d>f.length)return i;var b,w=u[d-1];return m!=null&&d>=f.length?b=i.entries():(b=[],i.each(function(E,y){b.push({key:y,values:c(E,d)})})),w!=null?b.sort(function(E,y){return w(E.key,y.key)}):b}return h={object:function(i){return M(i,0,v,p)},map:function(i){return M(i,0,r,t)},entries:function(i){return c(M(i,0,r,t),0)},key:function(i){return f.push(i),h},sortKeys:function(i){return u[f.length-1]=i,h},sortValues:function(i){return l=i,h},rollup:function(i){return m=i,h}}}function v(){return{}}function p(f,u,l){f[u]=l}function r(){return C()}function t(f,u,l){f.set(u,l)}function s(){}var n=C.prototype;s.prototype={constructor:s,has:n.has,add:function(f){return f+="",this[g+f]=f,this},remove:n.remove,clear:n.clear,values:n.keys,size:n.size,empty:n.empty,each:n.each}},49812:function(G,U,e){e.r(U),e.d(U,{forceCenter:function(){return g},forceCollide:function(){return P},forceLink:function(){return N},forceManyBody:function(){return Ue},forceRadial:function(){return it},forceSimulation:function(){return _e},forceX:function(){return lt},forceY:function(){return $e}});function g(qe,ft){var ct;qe==null&&(qe=0),ft==null&&(ft=0);function pt(){var yt,Et=ct.length,tt,Ie=0,We=0;for(yt=0;yt<Et;++yt)tt=ct[yt],Ie+=tt.x,We+=tt.y;for(Ie=Ie/Et-qe,We=We/Et-ft,yt=0;yt<Et;++yt)tt=ct[yt],tt.x-=Ie,tt.y-=We}return pt.initialize=function(yt){ct=yt},pt.x=function(yt){return arguments.length?(qe=+yt,pt):qe},pt.y=function(yt){return arguments.length?(ft=+yt,pt):ft},pt}function L(qe){return function(){return qe}}function a(){return(Math.random()-.5)*1e-6}function C(qe){var ft=+this._x.call(null,qe),ct=+this._y.call(null,qe);return A(this.cover(ft,ct),ft,ct,qe)}function A(qe,ft,ct,pt){if(isNaN(ft)||isNaN(ct))return qe;var yt,Et=qe._root,tt={data:pt},Ie=qe._x0,We=qe._y0,Ze=qe._x1,He=qe._y1,De,me,ge,Ee,Te,ze,Xe,et;if(!Et)return qe._root=tt,qe;for(;Et.length;)if((Te=ft>=(De=(Ie+Ze)/2))?Ie=De:Ze=De,(ze=ct>=(me=(We+He)/2))?We=me:He=me,yt=Et,!(Et=Et[Xe=ze<<1|Te]))return yt[Xe]=tt,qe;if(ge=+qe._x.call(null,Et.data),Ee=+qe._y.call(null,Et.data),ft===ge&&ct===Ee)return tt.next=Et,yt?yt[Xe]=tt:qe._root=tt,qe;do yt=yt?yt[Xe]=new Array(4):qe._root=new Array(4),(Te=ft>=(De=(Ie+Ze)/2))?Ie=De:Ze=De,(ze=ct>=(me=(We+He)/2))?We=me:He=me;while((Xe=ze<<1|Te)===(et=(Ee>=me)<<1|ge>=De));return yt[et]=Et,yt[Xe]=tt,qe}function v(qe){var ft,ct,pt=qe.length,yt,Et,tt=new Array(pt),Ie=new Array(pt),We=1/0,Ze=1/0,He=-1/0,De=-1/0;for(ct=0;ct<pt;++ct)isNaN(yt=+this._x.call(null,ft=qe[ct]))||isNaN(Et=+this._y.call(null,ft))||(tt[ct]=yt,Ie[ct]=Et,yt<We&&(We=yt),yt>He&&(He=yt),Et<Ze&&(Ze=Et),Et>De&&(De=Et));if(We>He||Ze>De)return this;for(this.cover(We,Ze).cover(He,De),ct=0;ct<pt;++ct)A(this,tt[ct],Ie[ct],qe[ct]);return this}function p(qe,ft){if(isNaN(qe=+qe)||isNaN(ft=+ft))return this;var ct=this._x0,pt=this._y0,yt=this._x1,Et=this._y1;if(isNaN(ct))yt=(ct=Math.floor(qe))+1,Et=(pt=Math.floor(ft))+1;else{for(var tt=yt-ct,Ie=this._root,We,Ze;ct>qe||qe>=yt||pt>ft||ft>=Et;)switch(Ze=(ft<pt)<<1|qe<ct,We=new Array(4),We[Ze]=Ie,Ie=We,tt*=2,Ze){case 0:yt=ct+tt,Et=pt+tt;break;case 1:ct=yt-tt,Et=pt+tt;break;case 2:yt=ct+tt,pt=Et-tt;break;case 3:ct=yt-tt,pt=Et-tt;break}this._root&&this._root.length&&(this._root=Ie)}return this._x0=ct,this._y0=pt,this._x1=yt,this._y1=Et,this}function r(){var qe=[];return this.visit(function(ft){if(!ft.length)do qe.push(ft.data);while(ft=ft.next)}),qe}function t(qe){return arguments.length?this.cover(+qe[0][0],+qe[0][1]).cover(+qe[1][0],+qe[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function s(qe,ft,ct,pt,yt){this.node=qe,this.x0=ft,this.y0=ct,this.x1=pt,this.y1=yt}function n(qe,ft,ct){var pt,yt=this._x0,Et=this._y0,tt,Ie,We,Ze,He=this._x1,De=this._y1,me=[],ge=this._root,Ee,Te;for(ge&&me.push(new s(ge,yt,Et,He,De)),ct==null?ct=1/0:(yt=qe-ct,Et=ft-ct,He=qe+ct,De=ft+ct,ct*=ct);Ee=me.pop();)if(!(!(ge=Ee.node)||(tt=Ee.x0)>He||(Ie=Ee.y0)>De||(We=Ee.x1)<yt||(Ze=Ee.y1)<Et))if(ge.length){var ze=(tt+We)/2,Xe=(Ie+Ze)/2;me.push(new s(ge[3],ze,Xe,We,Ze),new s(ge[2],tt,Xe,ze,Ze),new s(ge[1],ze,Ie,We,Xe),new s(ge[0],tt,Ie,ze,Xe)),(Te=(ft>=Xe)<<1|qe>=ze)&&(Ee=me[me.length-1],me[me.length-1]=me[me.length-1-Te],me[me.length-1-Te]=Ee)}else{var et=qe-+this._x.call(null,ge.data),ut=ft-+this._y.call(null,ge.data),dt=et*et+ut*ut;if(dt<ct){var Zt=Math.sqrt(ct=dt);yt=qe-Zt,Et=ft-Zt,He=qe+Zt,De=ft+Zt,pt=ge.data}}return pt}function f(qe){if(isNaN(He=+this._x.call(null,qe))||isNaN(De=+this._y.call(null,qe)))return this;var ft,ct=this._root,pt,yt,Et,tt=this._x0,Ie=this._y0,We=this._x1,Ze=this._y1,He,De,me,ge,Ee,Te,ze,Xe;if(!ct)return this;if(ct.length)for(;;){if((Ee=He>=(me=(tt+We)/2))?tt=me:We=me,(Te=De>=(ge=(Ie+Ze)/2))?Ie=ge:Ze=ge,ft=ct,!(ct=ct[ze=Te<<1|Ee]))return this;if(!ct.length)break;(ft[ze+1&3]||ft[ze+2&3]||ft[ze+3&3])&&(pt=ft,Xe=ze)}for(;ct.data!==qe;)if(yt=ct,!(ct=ct.next))return this;return(Et=ct.next)&&delete ct.next,yt?(Et?yt.next=Et:delete yt.next,this):ft?(Et?ft[ze]=Et:delete ft[ze],(ct=ft[0]||ft[1]||ft[2]||ft[3])&&ct===(ft[3]||ft[2]||ft[1]||ft[0])&&!ct.length&&(pt?pt[Xe]=ct:this._root=ct),this):(this._root=Et,this)}function u(qe){for(var ft=0,ct=qe.length;ft<ct;++ft)this.remove(qe[ft]);return this}function l(){return this._root}function m(){var qe=0;return this.visit(function(ft){if(!ft.length)do++qe;while(ft=ft.next)}),qe}function h(qe){var ft=[],ct,pt=this._root,yt,Et,tt,Ie,We;for(pt&&ft.push(new s(pt,this._x0,this._y0,this._x1,this._y1));ct=ft.pop();)if(!qe(pt=ct.node,Et=ct.x0,tt=ct.y0,Ie=ct.x1,We=ct.y1)&&pt.length){var Ze=(Et+Ie)/2,He=(tt+We)/2;(yt=pt[3])&&ft.push(new s(yt,Ze,He,Ie,We)),(yt=pt[2])&&ft.push(new s(yt,Et,He,Ze,We)),(yt=pt[1])&&ft.push(new s(yt,Ze,tt,Ie,He)),(yt=pt[0])&&ft.push(new s(yt,Et,tt,Ze,He))}return this}function M(qe){var ft=[],ct=[],pt;for(this._root&&ft.push(new s(this._root,this._x0,this._y0,this._x1,this._y1));pt=ft.pop();){var yt=pt.node;if(yt.length){var Et,tt=pt.x0,Ie=pt.y0,We=pt.x1,Ze=pt.y1,He=(tt+We)/2,De=(Ie+Ze)/2;(Et=yt[0])&&ft.push(new s(Et,tt,Ie,He,De)),(Et=yt[1])&&ft.push(new s(Et,He,Ie,We,De)),(Et=yt[2])&&ft.push(new s(Et,tt,De,He,Ze)),(Et=yt[3])&&ft.push(new s(Et,He,De,We,Ze))}ct.push(pt)}for(;pt=ct.pop();)qe(pt.node,pt.x0,pt.y0,pt.x1,pt.y1);return this}function c(qe){return qe[0]}function i(qe){return arguments.length?(this._x=qe,this):this._x}function d(qe){return qe[1]}function b(qe){return arguments.length?(this._y=qe,this):this._y}function w(qe,ft,ct){var pt=new E(ft==null?c:ft,ct==null?d:ct,NaN,NaN,NaN,NaN);return qe==null?pt:pt.addAll(qe)}function E(qe,ft,ct,pt,yt,Et){this._x=qe,this._y=ft,this._x0=ct,this._y0=pt,this._x1=yt,this._y1=Et,this._root=void 0}function y(qe){for(var ft={data:qe.data},ct=ft;qe=qe.next;)ct=ct.next={data:qe.data};return ft}var S=w.prototype=E.prototype;S.copy=function(){var qe=new E(this._x,this._y,this._x0,this._y0,this._x1,this._y1),ft=this._root,ct,pt;if(!ft)return qe;if(!ft.length)return qe._root=y(ft),qe;for(ct=[{source:ft,target:qe._root=new Array(4)}];ft=ct.pop();)for(var yt=0;yt<4;++yt)(pt=ft.source[yt])&&(pt.length?ct.push({source:pt,target:ft.target[yt]=new Array(4)}):ft.target[yt]=y(pt));return qe},S.add=C,S.addAll=v,S.cover=p,S.data=r,S.extent=t,S.find=n,S.remove=f,S.removeAll=u,S.root=l,S.size=m,S.visit=h,S.visitAfter=M,S.x=i,S.y=b;function T(qe){return qe.x+qe.vx}function o(qe){return qe.y+qe.vy}function P(qe){var ft,ct,pt=1,yt=1;typeof qe!="function"&&(qe=L(qe==null?1:+qe));function Et(){for(var We,Ze=ft.length,He,De,me,ge,Ee,Te,ze=0;ze<yt;++ze)for(He=w(ft,T,o).visitAfter(tt),We=0;We<Ze;++We)De=ft[We],Ee=ct[De.index],Te=Ee*Ee,me=De.x+De.vx,ge=De.y+De.vy,He.visit(Xe);function Xe(et,ut,dt,Zt,jt){var Tt=et.data,kt=et.r,Qt=Ee+kt;if(Tt){if(Tt.index>De.index){var wr=me-Tt.x-Tt.vx,xt=ge-Tt.y-Tt.vy,At=wr*wr+xt*xt;At<Qt*Qt&&(wr===0&&(wr=a(),At+=wr*wr),xt===0&&(xt=a(),At+=xt*xt),At=(Qt-(At=Math.sqrt(At)))/At*pt,De.vx+=(wr*=At)*(Qt=(kt*=kt)/(Te+kt)),De.vy+=(xt*=At)*Qt,Tt.vx-=wr*(Qt=1-Qt),Tt.vy-=xt*Qt)}return}return ut>me+Qt||Zt<me-Qt||dt>ge+Qt||jt<ge-Qt}}function tt(We){if(We.data)return We.r=ct[We.data.index];for(var Ze=We.r=0;Ze<4;++Ze)We[Ze]&&We[Ze].r>We.r&&(We.r=We[Ze].r)}function Ie(){if(!!ft){var We,Ze=ft.length,He;for(ct=new Array(Ze),We=0;We<Ze;++We)He=ft[We],ct[He.index]=+qe(He,We,ft)}}return Et.initialize=function(We){ft=We,Ie()},Et.iterations=function(We){return arguments.length?(yt=+We,Et):yt},Et.strength=function(We){return arguments.length?(pt=+We,Et):pt},Et.radius=function(We){return arguments.length?(qe=typeof We=="function"?We:L(+We),Ie(),Et):qe},Et}var x=e(34712);function _(qe){return qe.index}function I(qe,ft){var ct=qe.get(ft);if(!ct)throw new Error("missing: "+ft);return ct}function N(qe){var ft=_,ct=He,pt,yt=L(30),Et,tt,Ie,We,Ze=1;qe==null&&(qe=[]);function He(Te){return 1/Math.min(Ie[Te.source.index],Ie[Te.target.index])}function De(Te){for(var ze=0,Xe=qe.length;ze<Ze;++ze)for(var et=0,ut,dt,Zt,jt,Tt,kt,Qt;et<Xe;++et)ut=qe[et],dt=ut.source,Zt=ut.target,jt=Zt.x+Zt.vx-dt.x-dt.vx||a(),Tt=Zt.y+Zt.vy-dt.y-dt.vy||a(),kt=Math.sqrt(jt*jt+Tt*Tt),kt=(kt-Et[et])/kt*Te*pt[et],jt*=kt,Tt*=kt,Zt.vx-=jt*(Qt=We[et]),Zt.vy-=Tt*Qt,dt.vx+=jt*(Qt=1-Qt),dt.vy+=Tt*Qt}function me(){if(!!tt){var Te,ze=tt.length,Xe=qe.length,et=(0,x.kH)(tt,ft),ut;for(Te=0,Ie=new Array(ze);Te<Xe;++Te)ut=qe[Te],ut.index=Te,typeof ut.source!="object"&&(ut.source=I(et,ut.source)),typeof ut.target!="object"&&(ut.target=I(et,ut.target)),Ie[ut.source.index]=(Ie[ut.source.index]||0)+1,Ie[ut.target.index]=(Ie[ut.target.index]||0)+1;for(Te=0,We=new Array(Xe);Te<Xe;++Te)ut=qe[Te],We[Te]=Ie[ut.source.index]/(Ie[ut.source.index]+Ie[ut.target.index]);pt=new Array(Xe),ge(),Et=new Array(Xe),Ee()}}function ge(){if(!!tt)for(var Te=0,ze=qe.length;Te<ze;++Te)pt[Te]=+ct(qe[Te],Te,qe)}function Ee(){if(!!tt)for(var Te=0,ze=qe.length;Te<ze;++Te)Et[Te]=+yt(qe[Te],Te,qe)}return De.initialize=function(Te){tt=Te,me()},De.links=function(Te){return arguments.length?(qe=Te,me(),De):qe},De.id=function(Te){return arguments.length?(ft=Te,De):ft},De.iterations=function(Te){return arguments.length?(Ze=+Te,De):Ze},De.strength=function(Te){return arguments.length?(ct=typeof Te=="function"?Te:L(+Te),ge(),De):ct},De.distance=function(Te){return arguments.length?(yt=typeof Te=="function"?Te:L(+Te),Ee(),De):yt},De}var k={value:function(){}};function F(){for(var qe=0,ft=arguments.length,ct={},pt;qe<ft;++qe){if(!(pt=arguments[qe]+"")||pt in ct||/[\s.]/.test(pt))throw new Error("illegal type: "+pt);ct[pt]=[]}return new O(ct)}function O(qe){this._=qe}function z(qe,ft){return qe.trim().split(/^|\s+/).map(function(ct){var pt="",yt=ct.indexOf(".");if(yt>=0&&(pt=ct.slice(yt+1),ct=ct.slice(0,yt)),ct&&!ft.hasOwnProperty(ct))throw new Error("unknown type: "+ct);return{type:ct,name:pt}})}O.prototype=F.prototype={constructor:O,on:function(qe,ft){var ct=this._,pt=z(qe+"",ct),yt,Et=-1,tt=pt.length;if(arguments.length<2){for(;++Et<tt;)if((yt=(qe=pt[Et]).type)&&(yt=B(ct[yt],qe.name)))return yt;return}if(ft!=null&&typeof ft!="function")throw new Error("invalid callback: "+ft);for(;++Et<tt;)if(yt=(qe=pt[Et]).type)ct[yt]=W(ct[yt],qe.name,ft);else if(ft==null)for(yt in ct)ct[yt]=W(ct[yt],qe.name,null);return this},copy:function(){var qe={},ft=this._;for(var ct in ft)qe[ct]=ft[ct].slice();return new O(qe)},call:function(qe,ft){if((yt=arguments.length-2)>0)for(var ct=new Array(yt),pt=0,yt,Et;pt<yt;++pt)ct[pt]=arguments[pt+2];if(!this._.hasOwnProperty(qe))throw new Error("unknown type: "+qe);for(Et=this._[qe],pt=0,yt=Et.length;pt<yt;++pt)Et[pt].value.apply(ft,ct)},apply:function(qe,ft,ct){if(!this._.hasOwnProperty(qe))throw new Error("unknown type: "+qe);for(var pt=this._[qe],yt=0,Et=pt.length;yt<Et;++yt)pt[yt].value.apply(ft,ct)}};function B(qe,ft){for(var ct=0,pt=qe.length,yt;ct<pt;++ct)if((yt=qe[ct]).name===ft)return yt.value}function W(qe,ft,ct){for(var pt=0,yt=qe.length;pt<yt;++pt)if(qe[pt].name===ft){qe[pt]=k,qe=qe.slice(0,pt).concat(qe.slice(pt+1));break}return ct!=null&&qe.push({name:ft,value:ct}),qe}var q=F,ee=0,Q=0,oe=0,Z=1e3,Y,te,X=0,$=0,ie=0,J=typeof performance=="object"&&performance.now?performance:Date,j=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(qe){setTimeout(qe,17)};function se(){return $||(j(ne),$=J.now()+ie)}function ne(){$=0}function le(){this._call=this._time=this._next=null}le.prototype=pe.prototype={constructor:le,restart:function(qe,ft,ct){if(typeof qe!="function")throw new TypeError("callback is not a function");ct=(ct==null?se():+ct)+(ft==null?0:+ft),!this._next&&te!==this&&(te?te._next=this:Y=this,te=this),this._call=qe,this._time=ct,Me()},stop:function(){this._call&&(this._call=null,this._time=1/0,Me())}};function pe(qe,ft,ct){var pt=new le;return pt.restart(qe,ft,ct),pt}function Ae(){se(),++ee;for(var qe=Y,ft;qe;)(ft=$-qe._time)>=0&&qe._call.call(null,ft),qe=qe._next;--ee}function be(){$=(X=J.now())+ie,ee=Q=0;try{Ae()}finally{ee=0,xe(),$=0}}function Re(){var qe=J.now(),ft=qe-X;ft>Z&&(ie-=ft,X=qe)}function xe(){for(var qe,ft=Y,ct,pt=1/0;ft;)ft._call?(pt>ft._time&&(pt=ft._time),qe=ft,ft=ft._next):(ct=ft._next,ft._next=null,ft=qe?qe._next=ct:Y=ct);te=qe,Me(pt)}function Me(qe){if(!ee){Q&&(Q=clearTimeout(Q));var ft=qe-$;ft>24?(qe<1/0&&(Q=setTimeout(be,qe-J.now()-ie)),oe&&(oe=clearInterval(oe))):(oe||(X=J.now(),oe=setInterval(Re,Z)),ee=1,j(be))}}function ye(qe){return qe.x}function Se(qe){return qe.y}var Fe=10,Be=Math.PI*(3-Math.sqrt(5));function _e(qe){var ft,ct=1,pt=.001,yt=1-Math.pow(pt,1/300),Et=0,tt=.6,Ie=(0,x.kH)(),We=pe(He),Ze=q("tick","end");qe==null&&(qe=[]);function He(){De(),Ze.call("tick",ft),ct<pt&&(We.stop(),Ze.call("end",ft))}function De(Ee){var Te,ze=qe.length,Xe;Ee===void 0&&(Ee=1);for(var et=0;et<Ee;++et)for(ct+=(Et-ct)*yt,Ie.each(function(ut){ut(ct)}),Te=0;Te<ze;++Te)Xe=qe[Te],Xe.fx==null?Xe.x+=Xe.vx*=tt:(Xe.x=Xe.fx,Xe.vx=0),Xe.fy==null?Xe.y+=Xe.vy*=tt:(Xe.y=Xe.fy,Xe.vy=0);return ft}function me(){for(var Ee=0,Te=qe.length,ze;Ee<Te;++Ee){if(ze=qe[Ee],ze.index=Ee,ze.fx!=null&&(ze.x=ze.fx),ze.fy!=null&&(ze.y=ze.fy),isNaN(ze.x)||isNaN(ze.y)){var Xe=Fe*Math.sqrt(Ee),et=Ee*Be;ze.x=Xe*Math.cos(et),ze.y=Xe*Math.sin(et)}(isNaN(ze.vx)||isNaN(ze.vy))&&(ze.vx=ze.vy=0)}}function ge(Ee){return Ee.initialize&&Ee.initialize(qe),Ee}return me(),ft={tick:De,restart:function(){return We.restart(He),ft},stop:function(){return We.stop(),ft},nodes:function(Ee){return arguments.length?(qe=Ee,me(),Ie.each(ge),ft):qe},alpha:function(Ee){return arguments.length?(ct=+Ee,ft):ct},alphaMin:function(Ee){return arguments.length?(pt=+Ee,ft):pt},alphaDecay:function(Ee){return arguments.length?(yt=+Ee,ft):+yt},alphaTarget:function(Ee){return arguments.length?(Et=+Ee,ft):Et},velocityDecay:function(Ee){return arguments.length?(tt=1-Ee,ft):1-tt},force:function(Ee,Te){return arguments.length>1?(Te==null?Ie.remove(Ee):Ie.set(Ee,ge(Te)),ft):Ie.get(Ee)},find:function(Ee,Te,ze){var Xe=0,et=qe.length,ut,dt,Zt,jt,Tt;for(ze==null?ze=1/0:ze*=ze,Xe=0;Xe<et;++Xe)jt=qe[Xe],ut=Ee-jt.x,dt=Te-jt.y,Zt=ut*ut+dt*dt,Zt<ze&&(Tt=jt,ze=Zt);return Tt},on:function(Ee,Te){return arguments.length>1?(Ze.on(Ee,Te),ft):Ze.on(Ee)}}}function Ue(){var qe,ft,ct,pt=L(-30),yt,Et=1,tt=1/0,Ie=.81;function We(me){var ge,Ee=qe.length,Te=w(qe,ye,Se).visitAfter(He);for(ct=me,ge=0;ge<Ee;++ge)ft=qe[ge],Te.visit(De)}function Ze(){if(!!qe){var me,ge=qe.length,Ee;for(yt=new Array(ge),me=0;me<ge;++me)Ee=qe[me],yt[Ee.index]=+pt(Ee,me,qe)}}function He(me){var ge=0,Ee,Te,ze=0,Xe,et,ut;if(me.length){for(Xe=et=ut=0;ut<4;++ut)(Ee=me[ut])&&(Te=Math.abs(Ee.value))&&(ge+=Ee.value,ze+=Te,Xe+=Te*Ee.x,et+=Te*Ee.y);me.x=Xe/ze,me.y=et/ze}else{Ee=me,Ee.x=Ee.data.x,Ee.y=Ee.data.y;do ge+=yt[Ee.data.index];while(Ee=Ee.next)}me.value=ge}function De(me,ge,Ee,Te){if(!me.value)return!0;var ze=me.x-ft.x,Xe=me.y-ft.y,et=Te-ge,ut=ze*ze+Xe*Xe;if(et*et/Ie<ut)return ut<tt&&(ze===0&&(ze=a(),ut+=ze*ze),Xe===0&&(Xe=a(),ut+=Xe*Xe),ut<Et&&(ut=Math.sqrt(Et*ut)),ft.vx+=ze*me.value*ct/ut,ft.vy+=Xe*me.value*ct/ut),!0;if(me.length||ut>=tt)return;(me.data!==ft||me.next)&&(ze===0&&(ze=a(),ut+=ze*ze),Xe===0&&(Xe=a(),ut+=Xe*Xe),ut<Et&&(ut=Math.sqrt(Et*ut)));do me.data!==ft&&(et=yt[me.data.index]*ct/ut,ft.vx+=ze*et,ft.vy+=Xe*et);while(me=me.next)}return We.initialize=function(me){qe=me,Ze()},We.strength=function(me){return arguments.length?(pt=typeof me=="function"?me:L(+me),Ze(),We):pt},We.distanceMin=function(me){return arguments.length?(Et=me*me,We):Math.sqrt(Et)},We.distanceMax=function(me){return arguments.length?(tt=me*me,We):Math.sqrt(tt)},We.theta=function(me){return arguments.length?(Ie=me*me,We):Math.sqrt(Ie)},We}function it(qe,ft,ct){var pt,yt=L(.1),Et,tt;typeof qe!="function"&&(qe=L(+qe)),ft==null&&(ft=0),ct==null&&(ct=0);function Ie(Ze){for(var He=0,De=pt.length;He<De;++He){var me=pt[He],ge=me.x-ft||1e-6,Ee=me.y-ct||1e-6,Te=Math.sqrt(ge*ge+Ee*Ee),ze=(tt[He]-Te)*Et[He]*Ze/Te;me.vx+=ge*ze,me.vy+=Ee*ze}}function We(){if(!!pt){var Ze,He=pt.length;for(Et=new Array(He),tt=new Array(He),Ze=0;Ze<He;++Ze)tt[Ze]=+qe(pt[Ze],Ze,pt),Et[Ze]=isNaN(tt[Ze])?0:+yt(pt[Ze],Ze,pt)}}return Ie.initialize=function(Ze){pt=Ze,We()},Ie.strength=function(Ze){return arguments.length?(yt=typeof Ze=="function"?Ze:L(+Ze),We(),Ie):yt},Ie.radius=function(Ze){return arguments.length?(qe=typeof Ze=="function"?Ze:L(+Ze),We(),Ie):qe},Ie.x=function(Ze){return arguments.length?(ft=+Ze,Ie):ft},Ie.y=function(Ze){return arguments.length?(ct=+Ze,Ie):ct},Ie}function lt(qe){var ft=L(.1),ct,pt,yt;typeof qe!="function"&&(qe=L(qe==null?0:+qe));function Et(Ie){for(var We=0,Ze=ct.length,He;We<Ze;++We)He=ct[We],He.vx+=(yt[We]-He.x)*pt[We]*Ie}function tt(){if(!!ct){var Ie,We=ct.length;for(pt=new Array(We),yt=new Array(We),Ie=0;Ie<We;++Ie)pt[Ie]=isNaN(yt[Ie]=+qe(ct[Ie],Ie,ct))?0:+ft(ct[Ie],Ie,ct)}}return Et.initialize=function(Ie){ct=Ie,tt()},Et.strength=function(Ie){return arguments.length?(ft=typeof Ie=="function"?Ie:L(+Ie),tt(),Et):ft},Et.x=function(Ie){return arguments.length?(qe=typeof Ie=="function"?Ie:L(+Ie),tt(),Et):qe},Et}function $e(qe){var ft=L(.1),ct,pt,yt;typeof qe!="function"&&(qe=L(qe==null?0:+qe));function Et(Ie){for(var We=0,Ze=ct.length,He;We<Ze;++We)He=ct[We],He.vy+=(yt[We]-He.y)*pt[We]*Ie}function tt(){if(!!ct){var Ie,We=ct.length;for(pt=new Array(We),yt=new Array(We),Ie=0;Ie<We;++Ie)pt[Ie]=isNaN(yt[Ie]=+qe(ct[Ie],Ie,ct))?0:+ft(ct[Ie],Ie,ct)}}return Et.initialize=function(Ie){ct=Ie,tt()},Et.strength=function(Ie){return arguments.length?(ft=typeof Ie=="function"?Ie:L(+Ie),tt(),Et):ft},Et.y=function(Ie){return arguments.length?(qe=typeof Ie=="function"?Ie:L(+Ie),tt(),Et):qe},Et}},57624:function(G,U,e){e.d(U,{E9:function(){return i},SO:function(){return M}});function g(b){return Math.abs(b=Math.round(b))>=1e21?b.toLocaleString("en").replace(/,/g,""):b.toString(10)}function L(b,w){if((E=(b=w?b.toExponential(w-1):b.toExponential()).indexOf("e"))<0)return null;var E,y=b.slice(0,E);return[y.length>1?y[0]+y.slice(2):y,+b.slice(E+1)]}function a(b){return b=L(Math.abs(b)),b?b[1]:NaN}function C(b,w){return function(E,y){for(var S=E.length,T=[],o=0,P=b[0],x=0;S>0&&P>0&&(x+P+1>y&&(P=Math.max(1,y-x)),T.push(E.substring(S-=P,S+P)),!((x+=P+1)>y));)P=b[o=(o+1)%b.length];return T.reverse().join(w)}}function A(b){return function(w){return w.replace(/[0-9]/g,function(E){return b[+E]})}}var v=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function p(b){if(!(w=v.exec(b)))throw new Error("invalid format: "+b);var w;return new r({fill:w[1],align:w[2],sign:w[3],symbol:w[4],zero:w[5],width:w[6],comma:w[7],precision:w[8]&&w[8].slice(1),trim:w[9],type:w[10]})}p.prototype=r.prototype;function r(b){this.fill=b.fill===void 0?" ":b.fill+"",this.align=b.align===void 0?">":b.align+"",this.sign=b.sign===void 0?"-":b.sign+"",this.symbol=b.symbol===void 0?"":b.symbol+"",this.zero=!!b.zero,this.width=b.width===void 0?void 0:+b.width,this.comma=!!b.comma,this.precision=b.precision===void 0?void 0:+b.precision,this.trim=!!b.trim,this.type=b.type===void 0?"":b.type+""}r.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function t(b){e:for(var w=b.length,E=1,y=-1,S;E<w;++E)switch(b[E]){case".":y=S=E;break;case"0":y===0&&(y=E),S=E;break;default:if(!+b[E])break e;y>0&&(y=0);break}return y>0?b.slice(0,y)+b.slice(S+1):b}var s;function n(b,w){var E=L(b,w);if(!E)return b+"";var y=E[0],S=E[1],T=S-(s=Math.max(-8,Math.min(8,Math.floor(S/3)))*3)+1,o=y.length;return T===o?y:T>o?y+new Array(T-o+1).join("0"):T>0?y.slice(0,T)+"."+y.slice(T):"0."+new Array(1-T).join("0")+L(b,Math.max(0,w+T-1))[0]}function f(b,w){var E=L(b,w);if(!E)return b+"";var y=E[0],S=E[1];return S<0?"0."+new Array(-S).join("0")+y:y.length>S+1?y.slice(0,S+1)+"."+y.slice(S+1):y+new Array(S-y.length+2).join("0")}var u={"%":function(b,w){return(b*100).toFixed(w)},b:function(b){return Math.round(b).toString(2)},c:function(b){return b+""},d:g,e:function(b,w){return b.toExponential(w)},f:function(b,w){return b.toFixed(w)},g:function(b,w){return b.toPrecision(w)},o:function(b){return Math.round(b).toString(8)},p:function(b,w){return f(b*100,w)},r:f,s:n,X:function(b){return Math.round(b).toString(16).toUpperCase()},x:function(b){return Math.round(b).toString(16)}};function l(b){return b}var m=Array.prototype.map,h=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function M(b){var w=b.grouping===void 0||b.thousands===void 0?l:C(m.call(b.grouping,Number),b.thousands+""),E=b.currency===void 0?"":b.currency[0]+"",y=b.currency===void 0?"":b.currency[1]+"",S=b.decimal===void 0?".":b.decimal+"",T=b.numerals===void 0?l:A(m.call(b.numerals,String)),o=b.percent===void 0?"%":b.percent+"",P=b.minus===void 0?"-":b.minus+"",x=b.nan===void 0?"NaN":b.nan+"";function _(N){N=p(N);var k=N.fill,F=N.align,O=N.sign,z=N.symbol,B=N.zero,W=N.width,q=N.comma,ee=N.precision,Q=N.trim,oe=N.type;oe==="n"?(q=!0,oe="g"):u[oe]||(ee===void 0&&(ee=12),Q=!0,oe="g"),(B||k==="0"&&F==="=")&&(B=!0,k="0",F="=");var Z=z==="$"?E:z==="#"&&/[boxX]/.test(oe)?"0"+oe.toLowerCase():"",Y=z==="$"?y:/[%p]/.test(oe)?o:"",te=u[oe],X=/[defgprs%]/.test(oe);ee=ee===void 0?6:/[gprs]/.test(oe)?Math.max(1,Math.min(21,ee)):Math.max(0,Math.min(20,ee));function $(ie){var J=Z,j=Y,se,ne,le;if(oe==="c")j=te(ie)+j,ie="";else{ie=+ie;var pe=ie<0||1/ie<0;if(ie=isNaN(ie)?x:te(Math.abs(ie),ee),Q&&(ie=t(ie)),pe&&+ie==0&&O!=="+"&&(pe=!1),J=(pe?O==="("?O:P:O==="-"||O==="("?"":O)+J,j=(oe==="s"?h[8+s/3]:"")+j+(pe&&O==="("?")":""),X){for(se=-1,ne=ie.length;++se<ne;)if(le=ie.charCodeAt(se),48>le||le>57){j=(le===46?S+ie.slice(se+1):ie.slice(se))+j,ie=ie.slice(0,se);break}}}q&&!B&&(ie=w(ie,1/0));var Ae=J.length+ie.length+j.length,be=Ae<W?new Array(W-Ae+1).join(k):"";switch(q&&B&&(ie=w(be+ie,be.length?W-j.length:1/0),be=""),F){case"<":ie=J+ie+j+be;break;case"=":ie=J+be+ie+j;break;case"^":ie=be.slice(0,Ae=be.length>>1)+J+ie+j+be.slice(Ae);break;default:ie=be+J+ie+j;break}return T(ie)}return $.toString=function(){return N+""},$}function I(N,k){var F=_((N=p(N),N.type="f",N)),O=Math.max(-8,Math.min(8,Math.floor(a(k)/3)))*3,z=Math.pow(10,-O),B=h[8+O/3];return function(W){return F(z*W)+B}}return{format:_,formatPrefix:I}}var c,i;d({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});function d(b){return c=M(b),i=c.format,c.formatPrefix,c}},87108:function(G,U,e){e.r(U),e.d(U,{geoAiry:function(){return B},geoAiryRaw:function(){return z},geoAitoff:function(){return q},geoAitoffRaw:function(){return W},geoArmadillo:function(){return Q},geoArmadilloRaw:function(){return ee},geoAugust:function(){return Z},geoAugustRaw:function(){return oe},geoBaker:function(){return $},geoBakerRaw:function(){return X},geoBerghaus:function(){return j},geoBerghausRaw:function(){return J},geoBertin1953:function(){return xe},geoBertin1953Raw:function(){return Re},geoBoggs:function(){return it},geoBoggsRaw:function(){return Ue},geoBonne:function(){return ct},geoBonneRaw:function(){return ft},geoBottomley:function(){return yt},geoBottomleyRaw:function(){return pt},geoBromley:function(){return tt},geoBromleyRaw:function(){return Et},geoChamberlin:function(){return Te},geoChamberlinAfrica:function(){return Ee},geoChamberlinRaw:function(){return me},geoCollignon:function(){return Xe},geoCollignonRaw:function(){return ze},geoCraig:function(){return ut},geoCraigRaw:function(){return et},geoCraster:function(){return jt},geoCrasterRaw:function(){return Zt},geoCylindricalEqualArea:function(){return kt},geoCylindricalEqualAreaRaw:function(){return Tt},geoCylindricalStereographic:function(){return wr},geoCylindricalStereographicRaw:function(){return Qt},geoEckert1:function(){return At},geoEckert1Raw:function(){return xt},geoEckert2:function(){return er},geoEckert2Raw:function(){return Wt},geoEckert3:function(){return ht},geoEckert3Raw:function(){return $t},geoEckert4:function(){return bt},geoEckert4Raw:function(){return at},geoEckert5:function(){return Dt},geoEckert5Raw:function(){return Ct},geoEckert6:function(){return Vt},geoEckert6Raw:function(){return It},geoEisenlohr:function(){return fr},geoEisenlohrRaw:function(){return Jt},geoFahey:function(){return Ge},geoFaheyRaw:function(){return dr},geoFoucaut:function(){return Ot},geoFoucautRaw:function(){return Ve},geoFoucautSinusoidal:function(){return Kt},geoFoucautSinusoidalRaw:function(){return Ft},geoGilbert:function(){return hr},geoGingery:function(){return Gr},geoGingeryRaw:function(){return gr},geoGinzburg4:function(){return cn},geoGinzburg4Raw:function(){return Ir},geoGinzburg5:function(){return Ln},geoGinzburg5Raw:function(){return rn},geoGinzburg6:function(){return Tr},geoGinzburg6Raw:function(){return En},geoGinzburg8:function(){return Wr},geoGinzburg8Raw:function(){return Lr},geoGinzburg9:function(){return an},geoGinzburg9Raw:function(){return Ur},geoGringorten:function(){return aa},geoGringortenQuincuncial:function(){return Vc},geoGringortenRaw:function(){return gn},geoGuyou:function(){return dn},geoGuyouRaw:function(){return br},geoHammer:function(){return pe},geoHammerRaw:function(){return ne},geoHammerRetroazimuthal:function(){return Nn},geoHammerRetroazimuthalRaw:function(){return Tn},geoHealpix:function(){return sn},geoHealpixRaw:function(){return Ar},geoHill:function(){return Zr},geoHillRaw:function(){return Er},geoHomolosine:function(){return Un},geoHomolosineRaw:function(){return Rn},geoHufnagel:function(){return ma},geoHufnagelRaw:function(){return On},geoHyperelliptical:function(){return di},geoHyperellipticalRaw:function(){return La},geoInterrupt:function(){return ro},geoInterruptedBoggs:function(){return Ju},geoInterruptedHomolosine:function(){return qa},geoInterruptedMollweide:function(){return Qu},geoInterruptedMollweideHemispheres:function(){return bo},geoInterruptedQuarticAuthalic:function(){return Ns},geoInterruptedSinuMollweide:function(){return Su},geoInterruptedSinusoidal:function(){return bl},geoKavrayskiy7:function(){return Gi},geoKavrayskiy7Raw:function(){return Oi},geoLagrange:function(){return no},geoLagrangeRaw:function(){return wl},geoLarrivee:function(){return Cf},geoLarriveeRaw:function(){return ko},geoLaskowski:function(){return Cc},geoLaskowskiRaw:function(){return Lo},geoLittrow:function(){return $i},geoLittrowRaw:function(){return us},geoLoximuthal:function(){return Bs},geoLoximuthalRaw:function(){return $u},geoMiller:function(){return qu},geoMillerRaw:function(){return fs},geoModifiedStereographic:function(){return tl},geoModifiedStereographicAlaska:function(){return ef},geoModifiedStereographicGs48:function(){return Ic},geoModifiedStereographicGs50:function(){return _c},geoModifiedStereographicLee:function(){return Rf},geoModifiedStereographicMiller:function(){return Pf},geoModifiedStereographicRaw:function(){return Lf},geoMollweide:function(){return Fe},geoMollweideRaw:function(){return Se},geoMtFlatPolarParabolic:function(){return Df},geoMtFlatPolarParabolicRaw:function(){return jl},geoMtFlatPolarQuartic:function(){return kc},geoMtFlatPolarQuarticRaw:function(){return As},geoMtFlatPolarSinusoidal:function(){return If},geoMtFlatPolarSinusoidalRaw:function(){return Cu},geoNaturalEarth:function(){return _f.c},geoNaturalEarth2:function(){return Yo},geoNaturalEarth2Raw:function(){return Lu},geoNaturalEarthRaw:function(){return _f.g},geoNellHammer:function(){return rl},geoNellHammerRaw:function(){return Al},geoNicolosi:function(){return tf},geoNicolosiRaw:function(){return cs},geoPatterson:function(){return Cl},geoPattersonRaw:function(){return Ru},geoPeirceQuincuncial:function(){return Nf},geoPierceQuincuncial:function(){return Nf},geoPolyconic:function(){return zc},geoPolyconicRaw:function(){return Du},geoPolyhedral:function(){return pi},geoPolyhedralButterfly:function(){return Ql},geoPolyhedralCollignon:function(){return al},geoPolyhedralWaterman:function(){return Vs},geoProject:function(){return Nc},geoQuantize:function(){return Uf},geoQuincuncial:function(){return Es},geoRectangularPolyconic:function(){return Vf},geoRectangularPolyconicRaw:function(){return uf},geoRobinson:function(){return Hs},geoRobinsonRaw:function(){return Qo},geoSatellite:function(){return il},geoSatelliteRaw:function(){return Fu},geoSinuMollweide:function(){return Pn},geoSinuMollweideRaw:function(){return wn},geoSinusoidal:function(){return qe},geoSinusoidalRaw:function(){return $e},geoStitch:function(){return au},geoTimes:function(){return Wi},geoTimesRaw:function(){return Ys},geoTwoPointAzimuthal:function(){return Bu},geoTwoPointAzimuthalRaw:function(){return cf},geoTwoPointAzimuthalUsa:function(){return sl},geoTwoPointEquidistant:function(){return Wf},geoTwoPointEquidistantRaw:function(){return iu},geoTwoPointEquidistantUsa:function(){return Hc},geoVanDerGrinten:function(){return ou},geoVanDerGrinten2:function(){return Yf},geoVanDerGrinten2Raw:function(){return zl},geoVanDerGrinten3:function(){return Gc},geoVanDerGrinten3Raw:function(){return Xs},geoVanDerGrinten4:function(){return su},geoVanDerGrinten4Raw:function(){return Ro},geoVanDerGrintenRaw:function(){return po},geoWagner:function(){return Zs},geoWagner4:function(){return Xf},geoWagner4Raw:function(){return Uu},geoWagner6:function(){return vf},geoWagner6Raw:function(){return fu},geoWagner7:function(){return hf},geoWagnerRaw:function(){return Ps},geoWiechel:function(){return df},geoWiechelRaw:function(){return ll},geoWinkel3:function(){return Zf},geoWinkel3Raw:function(){return cu}});var g=e(87952),L=Math.abs,a=Math.atan,C=Math.atan2,A=Math.cos,v=Math.exp,p=Math.floor,r=Math.log,t=Math.max,s=Math.min,n=Math.pow,f=Math.round,u=Math.sign||function(Ke){return Ke>0?1:Ke<0?-1:0},l=Math.sin,m=Math.tan,h=1e-6,M=1e-12,c=Math.PI,i=c/2,d=c/4,b=Math.SQRT1_2,w=_(2),E=_(c),y=c*2,S=180/c,T=c/180;function o(Ke){return Ke?Ke/Math.sin(Ke):1}function P(Ke){return Ke>1?i:Ke<-1?-i:Math.asin(Ke)}function x(Ke){return Ke>1?0:Ke<-1?c:Math.acos(Ke)}function _(Ke){return Ke>0?Math.sqrt(Ke):0}function I(Ke){return Ke=v(2*Ke),(Ke-1)/(Ke+1)}function N(Ke){return(v(Ke)-v(-Ke))/2}function k(Ke){return(v(Ke)+v(-Ke))/2}function F(Ke){return r(Ke+_(Ke*Ke+1))}function O(Ke){return r(Ke+_(Ke*Ke-1))}function z(Ke){var nt=m(Ke/2),gt=2*r(A(Ke/2))/(nt*nt);function wt(zt,_t){var Ut=A(zt),pr=A(_t),xr=l(_t),or=pr*Ut,Mr=-((1-or?r((1+or)/2)/(1-or):-.5)+gt/(1+or));return[Mr*pr*l(zt),Mr*xr]}return wt.invert=function(zt,_t){var Ut=_(zt*zt+_t*_t),pr=-Ke/2,xr=50,or;if(!Ut)return[0,0];do{var Mr=pr/2,_r=A(Mr),Br=l(Mr),tn=Br/_r,mn=-r(L(_r));pr-=or=(2/tn*mn-gt*tn-Ut)/(-mn/(Br*Br)+1-gt/(2*_r*_r))*(_r<0?.7:1)}while(L(or)>h&&--xr>0);var Dn=l(pr);return[C(zt*Dn,Ut*A(pr)),P(_t*Dn/Ut)]},wt}function B(){var Ke=i,nt=(0,g.U)(z),gt=nt(Ke);return gt.radius=function(wt){return arguments.length?nt(Ke=wt*T):Ke*S},gt.scale(179.976).clipAngle(147)}function W(Ke,nt){var gt=A(nt),wt=o(x(gt*A(Ke/=2)));return[2*gt*l(Ke)*wt,l(nt)*wt]}W.invert=function(Ke,nt){if(!(Ke*Ke+4*nt*nt>c*c+h)){var gt=Ke,wt=nt,zt=25;do{var _t=l(gt),Ut=l(gt/2),pr=A(gt/2),xr=l(wt),or=A(wt),Mr=l(2*wt),_r=xr*xr,Br=or*or,tn=Ut*Ut,mn=1-Br*pr*pr,Dn=mn?x(or*pr)*_(In=1/mn):In=0,In,Zn=2*Dn*or*Ut-Ke,Pa=Dn*xr-nt,Ra=In*(Br*tn+Dn*or*pr*_r),Da=In*(.5*_t*Mr-Dn*2*xr*Ut),Fa=In*.25*(Mr*Ut-Dn*xr*Br*_t),Za=In*(_r*pr+Dn*tn*or),vi=Da*Fa-Za*Ra;if(!vi)break;var Fi=(Pa*Da-Zn*Za)/vi,ue=(Zn*Fa-Pa*Ra)/vi;gt-=Fi,wt-=ue}while((L(Fi)>h||L(ue)>h)&&--zt>0);return[gt,wt]}};function q(){return(0,g.c)(W).scale(152.63)}function ee(Ke){var nt=l(Ke),gt=A(Ke),wt=Ke>=0?1:-1,zt=m(wt*Ke),_t=(1+nt-gt)/2;function Ut(pr,xr){var or=A(xr),Mr=A(pr/=2);return[(1+or)*l(pr),(wt*xr>-C(Mr,zt)-.001?0:-wt*10)+_t+l(xr)*gt-(1+or)*nt*Mr]}return Ut.invert=function(pr,xr){var or=0,Mr=0,_r=50;do{var Br=A(or),tn=l(or),mn=A(Mr),Dn=l(Mr),In=1+mn,Zn=In*tn-pr,Pa=_t+Dn*gt-In*nt*Br-xr,Ra=In*Br/2,Da=-tn*Dn,Fa=nt*In*tn/2,Za=gt*mn+nt*Br*Dn,vi=Da*Fa-Za*Ra,Fi=(Pa*Da-Zn*Za)/vi/2,ue=(Zn*Fa-Pa*Ra)/vi;L(ue)>2&&(ue/=2),or-=Fi,Mr-=ue}while((L(Fi)>h||L(ue)>h)&&--_r>0);return wt*Mr>-C(A(or),zt)-.001?[or*2,Mr]:null},Ut}function Q(){var Ke=20*T,nt=Ke>=0?1:-1,gt=m(nt*Ke),wt=(0,g.U)(ee),zt=wt(Ke),_t=zt.stream;return zt.parallel=function(Ut){return arguments.length?(gt=m((nt=(Ke=Ut*T)>=0?1:-1)*Ke),wt(Ke)):Ke*S},zt.stream=function(Ut){var pr=zt.rotate(),xr=_t(Ut),or=(zt.rotate([0,0]),_t(Ut)),Mr=zt.precision();return zt.rotate(pr),xr.sphere=function(){or.polygonStart(),or.lineStart();for(var _r=nt*-180;nt*_r<180;_r+=nt*90)or.point(_r,nt*90);if(Ke)for(;nt*(_r-=3*nt*Mr)>=-180;)or.point(_r,nt*-C(A(_r*T/2),gt)*S);or.lineEnd(),or.polygonEnd()},xr},zt.scale(218.695).center([0,28.0974])}function oe(Ke,nt){var gt=m(nt/2),wt=_(1-gt*gt),zt=1+wt*A(Ke/=2),_t=l(Ke)*wt/zt,Ut=gt/zt,pr=_t*_t,xr=Ut*Ut;return[1.3333333333333333*_t*(3+pr-3*xr),1.3333333333333333*Ut*(3+3*pr-xr)]}oe.invert=function(Ke,nt){if(Ke*=.375,nt*=.375,!Ke&&L(nt)>1)return null;var gt=Ke*Ke,wt=nt*nt,zt=1+gt+wt,_t=_((zt-_(zt*zt-4*nt*nt))/2),Ut=P(_t)/3,pr=_t?O(L(nt/_t))/3:F(L(Ke))/3,xr=A(Ut),or=k(pr),Mr=or*or-xr*xr;return[u(Ke)*2*C(N(pr)*xr,.25-Mr),u(nt)*2*C(or*l(Ut),.25+Mr)]};function Z(){return(0,g.c)(oe).scale(66.1603)}var Y=_(8),te=r(1+w);function X(Ke,nt){var gt=L(nt);return gt<d?[Ke,r(m(d+nt/2))]:[Ke*A(gt)*(2*w-1/l(gt)),u(nt)*(2*w*(gt-d)-r(m(gt/2)))]}X.invert=function(Ke,nt){if((_t=L(nt))<te)return[Ke,2*a(v(nt))-i];var gt=d,wt=25,zt,_t;do{var Ut=A(gt/2),pr=m(gt/2);gt-=zt=(Y*(gt-d)-r(pr)-_t)/(Y-Ut*Ut/(2*pr))}while(L(zt)>M&&--wt>0);return[Ke/(A(gt)*(Y-1/l(gt))),u(nt)*gt]};function $(){return(0,g.c)(X).scale(112.314)}var ie=e(69020);function J(Ke){var nt=2*c/Ke;function gt(wt,zt){var _t=(0,ie.O)(wt,zt);if(L(wt)>i){var Ut=C(_t[1],_t[0]),pr=_(_t[0]*_t[0]+_t[1]*_t[1]),xr=nt*f((Ut-i)/nt)+i,or=C(l(Ut-=xr),2-A(Ut));Ut=xr+P(c/pr*l(or))-or,_t[0]=pr*A(Ut),_t[1]=pr*l(Ut)}return _t}return gt.invert=function(wt,zt){var _t=_(wt*wt+zt*zt);if(_t>i){var Ut=C(zt,wt),pr=nt*f((Ut-i)/nt)+i,xr=Ut>pr?-1:1,or=_t*A(pr-Ut),Mr=1/m(xr*x((or-c)/_(c*(c-2*or)+_t*_t)));Ut=pr+2*a((Mr+xr*_(Mr*Mr-3))/3),wt=_t*A(Ut),zt=_t*l(Ut)}return ie.O.invert(wt,zt)},gt}function j(){var Ke=5,nt=(0,g.U)(J),gt=nt(Ke),wt=gt.stream,zt=.01,_t=-A(zt*T),Ut=l(zt*T);return gt.lobes=function(pr){return arguments.length?nt(Ke=+pr):Ke},gt.stream=function(pr){var xr=gt.rotate(),or=wt(pr),Mr=(gt.rotate([0,0]),wt(pr));return gt.rotate(xr),or.sphere=function(){Mr.polygonStart(),Mr.lineStart();for(var _r=0,Br=360/Ke,tn=2*c/Ke,mn=90-180/Ke,Dn=i;_r<Ke;++_r,mn-=Br,Dn-=tn)Mr.point(C(Ut*A(Dn),_t)*S,P(Ut*l(Dn))*S),mn<-90?(Mr.point(-90,-180-mn-zt),Mr.point(-90,-180-mn+zt)):(Mr.point(90,mn+zt),Mr.point(90,mn-zt));Mr.lineEnd(),Mr.polygonEnd()},or},gt.scale(87.8076).center([0,17.1875]).clipAngle(179.999)}var se=e(54724);function ne(Ke,nt){if(arguments.length<2&&(nt=Ke),nt===1)return se.y;if(nt===1/0)return le;function gt(wt,zt){var _t=(0,se.y)(wt/nt,zt);return _t[0]*=Ke,_t}return gt.invert=function(wt,zt){var _t=se.y.invert(wt/Ke,zt);return _t[0]*=nt,_t},gt}function le(Ke,nt){return[Ke*A(nt)/A(nt/=2),2*l(nt)]}le.invert=function(Ke,nt){var gt=2*P(nt/2);return[Ke*A(gt/2)/A(gt),gt]};function pe(){var Ke=2,nt=(0,g.U)(ne),gt=nt(Ke);return gt.coefficient=function(wt){return arguments.length?nt(Ke=+wt):Ke},gt.scale(169.529)}function Ae(Ke,nt,gt){var wt=100,zt,_t,Ut;gt=gt===void 0?0:+gt,nt=+nt;do _t=Ke(gt),Ut=Ke(gt+h),_t===Ut&&(Ut=_t+h),gt-=zt=-1*h*(_t-nt)/(_t-Ut);while(wt-- >0&&L(zt)>h);return wt<0?NaN:gt}function be(Ke,nt,gt){return nt===void 0&&(nt=40),gt===void 0&&(gt=M),function(wt,zt,_t,Ut){var pr,xr,or;_t=_t===void 0?0:+_t,Ut=Ut===void 0?0:+Ut;for(var Mr=0;Mr<nt;Mr++){var _r=Ke(_t,Ut),Br=_r[0]-wt,tn=_r[1]-zt;if(L(Br)<gt&&L(tn)<gt)break;var mn=Br*Br+tn*tn;if(mn>pr){_t-=xr/=2,Ut-=or/=2;continue}pr=mn;var Dn=(_t>0?-1:1)*gt,In=(Ut>0?-1:1)*gt,Zn=Ke(_t+Dn,Ut),Pa=Ke(_t,Ut+In),Ra=(Zn[0]-_r[0])/Dn,Da=(Zn[1]-_r[1])/Dn,Fa=(Pa[0]-_r[0])/In,Za=(Pa[1]-_r[1])/In,vi=Za*Ra-Da*Fa,Fi=(L(vi)<.5?.5:1)/vi;if(xr=(tn*Fa-Br*Za)*Fi,or=(Br*Da-tn*Ra)*Fi,_t+=xr,Ut+=or,L(xr)<gt&&L(or)<gt)break}return[_t,Ut]}}function Re(){var Ke=ne(1.68,2),nt=1.4,gt=12;function wt(zt,_t){if(zt+_t<-nt){var Ut=(zt-_t+1.6)*(zt+_t+nt)/8;zt+=Ut,_t-=.8*Ut*l(_t+c/2)}var pr=Ke(zt,_t),xr=(1-A(zt*_t))/gt;return pr[1]<0&&(pr[0]*=1+xr),pr[1]>0&&(pr[1]*=1+xr/1.5*pr[0]*pr[0]),pr}return wt.invert=be(wt),wt}function xe(){return(0,g.c)(Re()).rotate([-16.5,-42]).scale(176.57).center([7.93,.09])}function Me(Ke,nt){var gt=Ke*l(nt),wt=30,zt;do nt-=zt=(nt+l(nt)-gt)/(1+A(nt));while(L(zt)>h&&--wt>0);return nt/2}function ye(Ke,nt,gt){function wt(zt,_t){return[Ke*zt*A(_t=Me(gt,_t)),nt*l(_t)]}return wt.invert=function(zt,_t){return _t=P(_t/nt),[zt/(Ke*A(_t)),P((2*_t+l(2*_t))/gt)]},wt}var Se=ye(w/i,w,c);function Fe(){return(0,g.c)(Se).scale(169.529)}var Be=2.00276,_e=1.11072;function Ue(Ke,nt){var gt=Me(c,nt);return[Be*Ke/(1/A(nt)+_e/A(gt)),(nt+w*l(gt))/Be]}Ue.invert=function(Ke,nt){var gt=Be*nt,wt=nt<0?-d:d,zt=25,_t,Ut;do Ut=gt-w*l(wt),wt-=_t=(l(2*wt)+2*wt-c*l(Ut))/(2*A(2*wt)+2+c*A(Ut)*w*A(wt));while(L(_t)>h&&--zt>0);return Ut=gt-w*l(wt),[Ke*(1/A(Ut)+_e/A(wt))/Be,Ut]};function it(){return(0,g.c)(Ue).scale(160.857)}function lt(Ke){var nt=0,gt=(0,g.U)(Ke),wt=gt(nt);return wt.parallel=function(zt){return arguments.length?gt(nt=zt*T):nt*S},wt}function $e(Ke,nt){return[Ke*A(nt),nt]}$e.invert=function(Ke,nt){return[Ke/A(nt),nt]};function qe(){return(0,g.c)($e).scale(152.63)}function ft(Ke){if(!Ke)return $e;var nt=1/m(Ke);function gt(wt,zt){var _t=nt+Ke-zt,Ut=_t&&wt*A(zt)/_t;return[_t*l(Ut),nt-_t*A(Ut)]}return gt.invert=function(wt,zt){var _t=_(wt*wt+(zt=nt-zt)*zt),Ut=nt+Ke-_t;return[_t/A(Ut)*C(wt,zt),Ut]},gt}function ct(){return lt(ft).scale(123.082).center([0,26.1441]).parallel(45)}function pt(Ke){function nt(gt,wt){var zt=i-wt,_t=zt&&gt*Ke*l(zt)/zt;return[zt*l(_t)/Ke,i-zt*A(_t)]}return nt.invert=function(gt,wt){var zt=gt*Ke,_t=i-wt,Ut=_(zt*zt+_t*_t),pr=C(zt,_t);return[(Ut?Ut/l(Ut):1)*pr/Ke,i-Ut]},nt}function yt(){var Ke=.5,nt=(0,g.U)(pt),gt=nt(Ke);return gt.fraction=function(wt){return arguments.length?nt(Ke=+wt):Ke},gt.scale(158.837)}var Et=ye(1,4/c,c);function tt(){return(0,g.c)(Et).scale(152.63)}var Ie=e(24052),We=e(92992);function Ze(Ke,nt,gt,wt,zt,_t){var Ut=A(_t),pr;if(L(Ke)>1||L(_t)>1)pr=x(gt*zt+nt*wt*Ut);else{var xr=l(Ke/2),or=l(_t/2);pr=2*P(_(xr*xr+nt*wt*or*or))}return L(pr)>h?[pr,C(wt*l(_t),nt*zt-gt*wt*Ut)]:[0,0]}function He(Ke,nt,gt){return x((Ke*Ke+nt*nt-gt*gt)/(2*Ke*nt))}function De(Ke){return Ke-2*c*p((Ke+c)/(2*c))}function me(Ke,nt,gt){for(var wt=[[Ke[0],Ke[1],l(Ke[1]),A(Ke[1])],[nt[0],nt[1],l(nt[1]),A(nt[1])],[gt[0],gt[1],l(gt[1]),A(gt[1])]],zt=wt[2],_t,Ut=0;Ut<3;++Ut,zt=_t)_t=wt[Ut],zt.v=Ze(_t[1]-zt[1],zt[3],zt[2],_t[3],_t[2],_t[0]-zt[0]),zt.point=[0,0];var pr=He(wt[0].v[0],wt[2].v[0],wt[1].v[0]),xr=He(wt[0].v[0],wt[1].v[0],wt[2].v[0]),or=c-pr;wt[2].point[1]=0,wt[0].point[0]=-(wt[1].point[0]=wt[0].v[0]/2);var Mr=[wt[2].point[0]=wt[0].point[0]+wt[2].v[0]*A(pr),2*(wt[0].point[1]=wt[1].point[1]=wt[2].v[0]*l(pr))];function _r(Br,tn){var mn=l(tn),Dn=A(tn),In=new Array(3),Zn;for(Zn=0;Zn<3;++Zn){var Pa=wt[Zn];if(In[Zn]=Ze(tn-Pa[1],Pa[3],Pa[2],Dn,mn,Br-Pa[0]),!In[Zn][0])return Pa.point;In[Zn][1]=De(In[Zn][1]-Pa.v[1])}var Ra=Mr.slice();for(Zn=0;Zn<3;++Zn){var Da=Zn==2?0:Zn+1,Fa=He(wt[Zn].v[0],In[Zn][0],In[Da][0]);In[Zn][1]<0&&(Fa=-Fa),Zn?Zn==1?(Fa=xr-Fa,Ra[0]-=In[Zn][0]*A(Fa),Ra[1]-=In[Zn][0]*l(Fa)):(Fa=or-Fa,Ra[0]+=In[Zn][0]*A(Fa),Ra[1]+=In[Zn][0]*l(Fa)):(Ra[0]+=In[Zn][0]*A(Fa),Ra[1]-=In[Zn][0]*l(Fa))}return Ra[0]/=3,Ra[1]/=3,Ra}return _r}function ge(Ke){return Ke[0]*=T,Ke[1]*=T,Ke}function Ee(){return Te([0,22],[45,22],[22.5,-22]).scale(380).center([22.5,2])}function Te(Ke,nt,gt){var wt=(0,Ie.c)({type:"MultiPoint",coordinates:[Ke,nt,gt]}),zt=[-wt[0],-wt[1]],_t=(0,We.c)(zt),Ut=me(ge(_t(Ke)),ge(_t(nt)),ge(_t(gt)));Ut.invert=be(Ut);var pr=(0,g.c)(Ut).rotate(zt),xr=pr.center;return delete pr.rotate,pr.center=function(or){return arguments.length?xr(_t(or)):_t.invert(xr())},pr.clipAngle(90)}function ze(Ke,nt){var gt=_(1-l(nt));return[2/E*Ke*gt,E*(1-gt)]}ze.invert=function(Ke,nt){var gt=(gt=nt/E-1)*gt;return[gt>0?Ke*_(c/gt)/2:0,P(1-gt)]};function Xe(){return(0,g.c)(ze).scale(95.6464).center([0,30])}function et(Ke){var nt=m(Ke);function gt(wt,zt){return[wt,(wt?wt/l(wt):1)*(l(zt)*A(wt)-nt*A(zt))]}return gt.invert=nt?function(wt,zt){wt&&(zt*=l(wt)/wt);var _t=A(wt);return[wt,2*C(_(_t*_t+nt*nt-zt*zt)-_t,nt-zt)]}:function(wt,zt){return[wt,P(wt?zt*m(wt)/wt:zt)]},gt}function ut(){return lt(et).scale(249.828).clipAngle(90)}var dt=_(3);function Zt(Ke,nt){return[dt*Ke*(2*A(2*nt/3)-1)/E,dt*E*l(nt/3)]}Zt.invert=function(Ke,nt){var gt=3*P(nt/(dt*E));return[E*Ke/(dt*(2*A(2*gt/3)-1)),gt]};function jt(){return(0,g.c)(Zt).scale(156.19)}function Tt(Ke){var nt=A(Ke);function gt(wt,zt){return[wt*nt,l(zt)/nt]}return gt.invert=function(wt,zt){return[wt/nt,P(zt*nt)]},gt}function kt(){return lt(Tt).parallel(38.58).scale(195.044)}function Qt(Ke){var nt=A(Ke);function gt(wt,zt){return[wt*nt,(1+nt)*m(zt/2)]}return gt.invert=function(wt,zt){return[wt/nt,a(zt/(1+nt))*2]},gt}function wr(){return lt(Qt).scale(124.75)}function xt(Ke,nt){var gt=_(8/(3*c));return[gt*Ke*(1-L(nt)/c),gt*nt]}xt.invert=function(Ke,nt){var gt=_(8/(3*c)),wt=nt/gt;return[Ke/(gt*(1-L(wt)/c)),wt]};function At(){return(0,g.c)(xt).scale(165.664)}function Wt(Ke,nt){var gt=_(4-3*l(L(nt)));return[2/_(6*c)*Ke*gt,u(nt)*_(2*c/3)*(2-gt)]}Wt.invert=function(Ke,nt){var gt=2-L(nt)/_(2*c/3);return[Ke*_(6*c)/(2*gt),u(nt)*P((4-gt*gt)/3)]};function er(){return(0,g.c)(Wt).scale(165.664)}function $t(Ke,nt){var gt=_(c*(4+c));return[2/gt*Ke*(1+_(1-4*nt*nt/(c*c))),4/gt*nt]}$t.invert=function(Ke,nt){var gt=_(c*(4+c))/2;return[Ke*gt/(1+_(1-nt*nt*(4+c)/(4*c))),nt*gt/2]};function ht(){return(0,g.c)($t).scale(180.739)}function at(Ke,nt){var gt=(2+i)*l(nt);nt/=2;for(var wt=0,zt=1/0;wt<10&&L(zt)>h;wt++){var _t=A(nt);nt-=zt=(nt+l(nt)*(_t+2)-gt)/(2*_t*(1+_t))}return[2/_(c*(4+c))*Ke*(1+A(nt)),2*_(c/(4+c))*l(nt)]}at.invert=function(Ke,nt){var gt=nt*_((4+c)/c)/2,wt=P(gt),zt=A(wt);return[Ke/(2/_(c*(4+c))*(1+zt)),P((wt+gt*(zt+2))/(2+i))]};function bt(){return(0,g.c)(at).scale(180.739)}function Ct(Ke,nt){return[Ke*(1+A(nt))/_(2+c),2*nt/_(2+c)]}Ct.invert=function(Ke,nt){var gt=_(2+c),wt=nt*gt/2;return[gt*Ke/(1+A(wt)),wt]};function Dt(){return(0,g.c)(Ct).scale(173.044)}function It(Ke,nt){for(var gt=(1+i)*l(nt),wt=0,zt=1/0;wt<10&&L(zt)>h;wt++)nt-=zt=(nt+l(nt)-gt)/(1+A(nt));return gt=_(2+c),[Ke*(1+A(nt))/gt,2*nt/gt]}It.invert=function(Ke,nt){var gt=1+i,wt=_(gt/2);return[Ke*2*wt/(1+A(nt*=wt)),P((nt+l(nt))/gt)]};function Vt(){return(0,g.c)(It).scale(173.044)}var Nt=3+2*w;function Jt(Ke,nt){var gt=l(Ke/=2),wt=A(Ke),zt=_(A(nt)),_t=A(nt/=2),Ut=l(nt)/(_t+w*wt*zt),pr=_(2/(1+Ut*Ut)),xr=_((w*_t+(wt+gt)*zt)/(w*_t+(wt-gt)*zt));return[Nt*(pr*(xr-1/xr)-2*r(xr)),Nt*(pr*Ut*(xr+1/xr)-2*a(Ut))]}Jt.invert=function(Ke,nt){if(!(_t=oe.invert(Ke/1.2,nt*1.065)))return null;var gt=_t[0],wt=_t[1],zt=20,_t;Ke/=Nt,nt/=Nt;do{var Ut=gt/2,pr=wt/2,xr=l(Ut),or=A(Ut),Mr=l(pr),_r=A(pr),Br=A(wt),tn=_(Br),mn=Mr/(_r+w*or*tn),Dn=mn*mn,In=_(2/(1+Dn)),Zn=w*_r+(or+xr)*tn,Pa=w*_r+(or-xr)*tn,Ra=Zn/Pa,Da=_(Ra),Fa=Da-1/Da,Za=Da+1/Da,vi=In*Fa-2*r(Da)-Ke,Fi=In*mn*Za-2*a(mn)-nt,ue=Mr&&b*tn*xr*Dn/Mr,Ce=(w*or*_r+tn)/(2*(_r+w*or*tn)*(_r+w*or*tn)*tn),Oe=-.5*mn*In*In*In,Qe=Oe*ue,rt=Oe*Ce,st=(st=2*_r+w*tn*(or-xr))*st*Da,Pt=(w*or*_r*tn+Br)/st,Mt=-(w*xr*Mr)/(tn*st),Gt=Fa*Qe-2*Pt/Da+In*(Pt+Pt/Ra),Yt=Fa*rt-2*Mt/Da+In*(Mt+Mt/Ra),nr=mn*Za*Qe-2*ue/(1+Dn)+In*Za*ue+In*mn*(Pt-Pt/Ra),Cr=mn*Za*rt-2*Ce/(1+Dn)+In*Za*Ce+In*mn*(Mt-Mt/Ra),Pr=Yt*nr-Cr*Gt;if(!Pr)break;var Jr=(Fi*Yt-vi*Cr)/Pr,on=(vi*nr-Fi*Gt)/Pr;gt-=Jr,wt=t(-i,s(i,wt-on))}while((L(Jr)>h||L(on)>h)&&--zt>0);return L(L(wt)-i)<h?[0,wt]:zt&&[gt,wt]};function fr(){return(0,g.c)(Jt).scale(62.5271)}var cr=A(35*T);function dr(Ke,nt){var gt=m(nt/2);return[Ke*cr*_(1-gt*gt),(1+cr)*gt]}dr.invert=function(Ke,nt){var gt=nt/(1+cr);return[Ke&&Ke/(cr*_(1-gt*gt)),2*a(gt)]};function Ge(){return(0,g.c)(dr).scale(137.152)}function Ve(Ke,nt){var gt=nt/2,wt=A(gt);return[2*Ke/E*A(nt)*wt*wt,E*m(gt)]}Ve.invert=function(Ke,nt){var gt=a(nt/E),wt=A(gt),zt=2*gt;return[Ke*E/2/(A(zt)*wt*wt),zt]};function Ot(){return(0,g.c)(Ve).scale(135.264)}function Ft(Ke){var nt=1-Ke,gt=_t(c,0)[0]-_t(-c,0)[0],wt=_t(0,i)[1]-_t(0,-i)[1],zt=_(2*wt/gt);function _t(xr,or){var Mr=A(or),_r=l(or);return[Mr/(nt+Ke*Mr)*xr,nt*or+Ke*_r]}function Ut(xr,or){var Mr=_t(xr,or);return[Mr[0]*zt,Mr[1]/zt]}function pr(xr){return Ut(0,xr)[1]}return Ut.invert=function(xr,or){var Mr=Ae(pr,or),_r=xr/zt*(Ke+nt/A(Mr));return[_r,Mr]},Ut}function Kt(){var Ke=.5,nt=(0,g.U)(Ft),gt=nt(Ke);return gt.alpha=function(wt){return arguments.length?nt(Ke=+wt):Ke},gt.scale(168.725)}var rr=e(4888),ur=e(69604);function ar(Ke){return[Ke[0]/2,P(m(Ke[1]/2*T))*S]}function Bt(Ke){return[Ke[0]*2,2*a(l(Ke[1]*T))*S]}function hr(Ke){Ke==null&&(Ke=rr.c);var nt=Ke(),gt=(0,ur.c)().scale(S).precision(0).clipAngle(null).translate([0,0]);function wt(_t){return nt(ar(_t))}nt.invert&&(wt.invert=function(_t){return Bt(nt.invert(_t))}),wt.stream=function(_t){var Ut=nt.stream(_t),pr=gt.stream({point:function(xr,or){Ut.point(xr/2,P(m(-or/2*T))*S)},lineStart:function(){Ut.lineStart()},lineEnd:function(){Ut.lineEnd()},polygonStart:function(){Ut.polygonStart()},polygonEnd:function(){Ut.polygonEnd()}});return pr.sphere=Ut.sphere,pr};function zt(_t){wt[_t]=function(){return arguments.length?(nt[_t].apply(nt,arguments),wt):nt[_t]()}}return wt.rotate=function(_t){return arguments.length?(gt.rotate(_t),wt):gt.rotate()},wt.center=function(_t){return arguments.length?(nt.center(ar(_t)),wt):Bt(nt.center())},zt("angle"),zt("clipAngle"),zt("clipExtent"),zt("fitExtent"),zt("fitHeight"),zt("fitSize"),zt("fitWidth"),zt("scale"),zt("translate"),zt("precision"),wt.scale(249.5)}function gr(Ke,nt){var gt=2*c/nt,wt=Ke*Ke;function zt(_t,Ut){var pr=(0,ie.O)(_t,Ut),xr=pr[0],or=pr[1],Mr=xr*xr+or*or;if(Mr>wt){var _r=_(Mr),Br=C(or,xr),tn=gt*f(Br/gt),mn=Br-tn,Dn=Ke*A(mn),In=(Ke*l(mn)-mn*l(Dn))/(i-Dn),Zn=mr(mn,In),Pa=(c-Ke)/vr(Zn,Dn,c);xr=_r;var Ra=50,Da;do xr-=Da=(Ke+vr(Zn,Dn,xr)*Pa-_r)/(Zn(xr)*Pa);while(L(Da)>h&&--Ra>0);or=mn*l(xr),xr<i&&(or-=In*(xr-i));var Fa=l(tn),Za=A(tn);pr[0]=xr*Za-or*Fa,pr[1]=xr*Fa+or*Za}return pr}return zt.invert=function(_t,Ut){var pr=_t*_t+Ut*Ut;if(pr>wt){var xr=_(pr),or=C(Ut,_t),Mr=gt*f(or/gt),_r=or-Mr;_t=xr*A(_r),Ut=xr*l(_r);for(var Br=_t-i,tn=l(_t),mn=Ut/tn,Dn=_t<i?1/0:0,In=10;;){var Zn=Ke*l(mn),Pa=Ke*A(mn),Ra=l(Pa),Da=i-Pa,Fa=(Zn-mn*Ra)/Da,Za=mr(mn,Fa);if(L(Dn)<M||!--In)break;mn-=Dn=(mn*tn-Fa*Br-Ut)/(tn-Br*2*(Da*(Pa+mn*Zn*A(Pa)-Ra)-Zn*(Zn-mn*Ra))/(Da*Da))}xr=Ke+vr(Za,Pa,_t)*(c-Ke)/vr(Za,Pa,c),or=Mr+mn,_t=xr*A(or),Ut=xr*l(or)}return ie.O.invert(_t,Ut)},zt}function mr(Ke,nt){return function(gt){var wt=Ke*A(gt);return gt<i&&(wt-=nt),_(1+wt*wt)}}function vr(Ke,nt,gt){for(var wt=50,zt=(gt-nt)/wt,_t=Ke(nt)+Ke(gt),Ut=1,pr=nt;Ut<wt;++Ut)_t+=2*Ke(pr+=zt);return _t*.5*zt}function Gr(){var Ke=6,nt=30*T,gt=A(nt),wt=l(nt),zt=(0,g.U)(gr),_t=zt(nt,Ke),Ut=_t.stream,pr=.01,xr=-A(pr*T),or=l(pr*T);return _t.radius=function(Mr){return arguments.length?(gt=A(nt=Mr*T),wt=l(nt),zt(nt,Ke)):nt*S},_t.lobes=function(Mr){return arguments.length?zt(nt,Ke=+Mr):Ke},_t.stream=function(Mr){var _r=_t.rotate(),Br=Ut(Mr),tn=(_t.rotate([0,0]),Ut(Mr));return _t.rotate(_r),Br.sphere=function(){tn.polygonStart(),tn.lineStart();for(var mn=0,Dn=2*c/Ke,In=0;mn<Ke;++mn,In-=Dn)tn.point(C(or*A(In),xr)*S,P(or*l(In))*S),tn.point(C(wt*A(In-Dn/2),gt)*S,P(wt*l(In-Dn/2))*S);tn.lineEnd(),tn.polygonEnd()},Br},_t.rotate([90,-40]).scale(91.7095).clipAngle(179.999)}function Rr(Ke,nt,gt,wt,zt,_t,Ut,pr){arguments.length<8&&(pr=0);function xr(or,Mr){if(!Mr)return[Ke*or/c,0];var _r=Mr*Mr,Br=Ke+_r*(nt+_r*(gt+_r*wt)),tn=Mr*(zt-1+_r*(_t-pr+_r*Ut)),mn=(Br*Br+tn*tn)/(2*tn),Dn=or*P(Br/mn)/c;return[mn*l(Dn),Mr*(1+_r*pr)+mn*(1-A(Dn))]}return xr.invert=function(or,Mr){var _r=c*or/Ke,Br=Mr,tn,mn,Dn=50;do{var In=Br*Br,Zn=Ke+In*(nt+In*(gt+In*wt)),Pa=Br*(zt-1+In*(_t-pr+In*Ut)),Ra=Zn*Zn+Pa*Pa,Da=2*Pa,Fa=Ra/Da,Za=Fa*Fa,vi=P(Zn/Fa)/c,Fi=_r*vi,ue=Zn*Zn,Ce=(2*nt+In*(4*gt+In*6*wt))*Br,Oe=zt+In*(3*_t+In*5*Ut),Qe=2*(Zn*Ce+Pa*(Oe-1)),rt=2*(Oe-1),st=(Qe*Da-Ra*rt)/(Da*Da),Pt=A(Fi),Mt=l(Fi),Gt=Fa*Pt,Yt=Fa*Mt,nr=_r/c*(1/_(1-ue/Za))*(Ce*Fa-Zn*st)/Za,Cr=Yt-or,Pr=Br*(1+In*pr)+Fa-Gt-Mr,Jr=st*Mt+Gt*nr,on=Gt*vi,Dr=1+st-(st*Pt-Yt*nr),Nr=Yt*vi,jr=Jr*Nr-Dr*on;if(!jr)break;_r-=tn=(Pr*Jr-Cr*Dr)/jr,Br-=mn=(Cr*Nr-Pr*on)/jr}while((L(tn)>h||L(mn)>h)&&--Dn>0);return[_r,Br]},xr}var Ir=Rr(2.8284,-1.6988,.75432,-.18071,1.76003,-.38914,.042555);function cn(){return(0,g.c)(Ir).scale(149.995)}var rn=Rr(2.583819,-.835827,.170354,-.038094,1.543313,-.411435,.082742);function Ln(){return(0,g.c)(rn).scale(153.93)}var En=Rr(5/6*c,-.62636,-.0344,0,1.3493,-.05524,0,.045);function Tr(){return(0,g.c)(En).scale(130.945)}function Lr(Ke,nt){var gt=Ke*Ke,wt=nt*nt;return[Ke*(1-.162388*wt)*(.87-952426e-9*gt*gt),nt*(1+wt/12)]}Lr.invert=function(Ke,nt){var gt=Ke,wt=nt,zt=50,_t;do{var Ut=wt*wt;wt-=_t=(wt*(1+Ut/12)-nt)/(1+Ut/4)}while(L(_t)>h&&--zt>0);zt=50,Ke/=1-.162388*Ut;do{var pr=(pr=gt*gt)*pr;gt-=_t=(gt*(.87-952426e-9*pr)-Ke)/(.87-.00476213*pr)}while(L(_t)>h&&--zt>0);return[gt,wt]};function Wr(){return(0,g.c)(Lr).scale(131.747)}var Ur=Rr(2.6516,-.76534,.19123,-.047094,1.36289,-.13965,.031762);function an(){return(0,g.c)(Ur).scale(131.087)}function pn(Ke){var nt=Ke(i,0)[0]-Ke(-i,0)[0];function gt(wt,zt){var _t=wt>0?-.5:.5,Ut=Ke(wt+_t*c,zt);return Ut[0]-=_t*nt,Ut}return Ke.invert&&(gt.invert=function(wt,zt){var _t=wt>0?-.5:.5,Ut=Ke.invert(wt+_t*nt,zt),pr=Ut[0]-_t*c;return pr<-c?pr+=2*c:pr>c&&(pr-=2*c),Ut[0]=pr,Ut}),gt}function gn(Ke,nt){var gt=u(Ke),wt=u(nt),zt=A(nt),_t=A(Ke)*zt,Ut=l(Ke)*zt,pr=l(wt*nt);Ke=L(C(Ut,pr)),nt=P(_t),L(Ke-i)>h&&(Ke%=i);var xr=Cn(Ke>c/4?i-Ke:Ke,nt);return Ke>c/4&&(pr=xr[0],xr[0]=-xr[1],xr[1]=-pr),xr[0]*=gt,xr[1]*=-wt,xr}gn.invert=function(Ke,nt){L(Ke)>1&&(Ke=u(Ke)*2-Ke),L(nt)>1&&(nt=u(nt)*2-nt);var gt=u(Ke),wt=u(nt),zt=-gt*Ke,_t=-wt*nt,Ut=_t/zt<1,pr=zn(Ut?_t:zt,Ut?zt:_t),xr=pr[0],or=pr[1],Mr=A(or);return Ut&&(xr=-i-xr),[gt*(C(l(xr)*Mr,-l(or))+c),wt*P(A(xr)*Mr)]};function Cn(Ke,nt){if(nt===i)return[0,0];var gt=l(nt),wt=gt*gt,zt=wt*wt,_t=1+zt,Ut=1+3*zt,pr=1-zt,xr=P(1/_(_t)),or=pr+wt*_t*xr,Mr=(1-gt)/or,_r=_(Mr),Br=Mr*_t,tn=_(Br),mn=_r*pr,Dn,In;if(Ke===0)return[0,-(mn+wt*tn)];var Zn=A(nt),Pa=1/Zn,Ra=2*gt*Zn,Da=(-3*wt+xr*Ut)*Ra,Fa=(-or*Zn-(1-gt)*Da)/(or*or),Za=.5*Fa/_r,vi=pr*Za-2*wt*_r*Ra,Fi=wt*_t*Fa+Mr*Ut*Ra,ue=-Pa*Ra,Ce=-Pa*Fi,Oe=-2*Pa*vi,Qe=4*Ke/c,rt;if(Ke>.222*c||nt<c/4&&Ke>.175*c){if(Dn=(mn+wt*_(Br*(1+zt)-mn*mn))/(1+zt),Ke>c/4)return[Dn,Dn];var st=Dn,Pt=.5*Dn;Dn=.5*(Pt+st),In=50;do{var Mt=_(Br-Dn*Dn),Gt=Dn*(Oe+ue*Mt)+Ce*P(Dn/tn)-Qe;if(!Gt)break;Gt<0?Pt=Dn:st=Dn,Dn=.5*(Pt+st)}while(L(st-Pt)>h&&--In>0)}else{Dn=h,In=25;do{var Yt=Dn*Dn,nr=_(Br-Yt),Cr=Oe+ue*nr,Pr=Dn*Cr+Ce*P(Dn/tn)-Qe,Jr=Cr+(Ce-ue*Yt)/nr;Dn-=rt=nr?Pr/Jr:0}while(L(rt)>h&&--In>0)}return[Dn,-mn-wt*_(Br-Dn*Dn)]}function zn(Ke,nt){for(var gt=0,wt=1,zt=.5,_t=50;;){var Ut=zt*zt,pr=_(zt),xr=P(1/_(1+Ut)),or=1-Ut+zt*(1+Ut)*xr,Mr=(1-pr)/or,_r=_(Mr),Br=Mr*(1+Ut),tn=_r*(1-Ut),mn=Br-Ke*Ke,Dn=_(mn),In=nt+tn+zt*Dn;if(L(wt-gt)<M||--_t===0||In===0)break;In>0?gt=zt:wt=zt,zt=.5*(gt+wt)}if(!_t)return null;var Zn=P(pr),Pa=A(Zn),Ra=1/Pa,Da=2*pr*Pa,Fa=(-3*zt+xr*(1+3*Ut))*Da,Za=(-or*Pa-(1-pr)*Fa)/(or*or),vi=.5*Za/_r,Fi=(1-Ut)*vi-2*zt*_r*Da,ue=-2*Ra*Fi,Ce=-Ra*Da,Oe=-Ra*(zt*(1+Ut)*Za+Mr*(1+3*Ut)*Da);return[c/4*(Ke*(ue+Ce*Dn)+Oe*P(Ke/_(Br))),Zn]}function aa(){return(0,g.c)(pn(gn)).scale(239.75)}function ha(Ke,nt,gt){var wt,zt,_t;return Ke?(wt=pa(Ke,gt),nt?(zt=pa(nt,1-gt),_t=zt[1]*zt[1]+gt*wt[0]*wt[0]*zt[0]*zt[0],[[wt[0]*zt[2]/_t,wt[1]*wt[2]*zt[0]*zt[1]/_t],[wt[1]*zt[1]/_t,-wt[0]*wt[2]*zt[0]*zt[2]/_t],[wt[2]*zt[1]*zt[2]/_t,-gt*wt[0]*wt[1]*zt[0]/_t]]):[[wt[0],0],[wt[1],0],[wt[2],0]]):(zt=pa(nt,1-gt),[[0,zt[0]/zt[1]],[1/zt[1],0],[zt[2]/zt[1],0]])}function pa(Ke,nt){var gt,wt,zt,_t,Ut;if(nt<h)return _t=l(Ke),wt=A(Ke),gt=nt*(Ke-_t*wt)/4,[_t-gt*wt,wt+gt*_t,1-nt*_t*_t/2,Ke-gt];if(nt>=1-h)return gt=(1-nt)/4,wt=k(Ke),_t=I(Ke),zt=1/wt,Ut=wt*N(Ke),[_t+gt*(Ut-Ke)/(wt*wt),zt-gt*_t*zt*(Ut-Ke),zt+gt*_t*zt*(Ut+Ke),2*a(v(Ke))-i+gt*(Ut-Ke)/wt];var pr=[1,0,0,0,0,0,0,0,0],xr=[_(nt),0,0,0,0,0,0,0,0],or=0;for(wt=_(1-nt),Ut=1;L(xr[or]/pr[or])>h&&or<8;)gt=pr[or++],xr[or]=(gt-wt)/2,pr[or]=(gt+wt)/2,wt=_(gt*wt),Ut*=2;zt=Ut*pr[or]*Ke;do _t=xr[or]*l(wt=zt)/pr[or],zt=(P(_t)+zt)/2;while(--or);return[l(zt),_t=A(zt),_t/A(zt-wt),zt]}function ua(Ke,nt,gt){var wt=L(Ke),zt=L(nt),_t=N(zt);if(wt){var Ut=1/l(wt),pr=1/(m(wt)*m(wt)),xr=-(pr+gt*(_t*_t*Ut*Ut)-1+gt),or=(gt-1)*pr,Mr=(-xr+_(xr*xr-4*or))/2;return[na(a(1/_(Mr)),gt)*u(Ke),na(a(_((Mr/pr-1)/gt)),1-gt)*u(nt)]}return[0,na(a(_t),1-gt)*u(nt)]}function na(Ke,nt){if(!nt)return Ke;if(nt===1)return r(m(Ke/2+d));for(var gt=1,wt=_(1-nt),zt=_(nt),_t=0;L(zt)>h;_t++){if(Ke%c){var Ut=a(wt*m(Ke)/gt);Ut<0&&(Ut+=c),Ke+=Ut+~~(Ke/c)*c}else Ke+=Ke;zt=(gt+wt)/2,wt=_(gt*wt),zt=((gt=zt)-wt)/2}return Ke/(n(2,_t)*gt)}function br(Ke,nt){var gt=(w-1)/(w+1),wt=_(1-gt*gt),zt=na(i,wt*wt),_t=-1,Ut=r(m(c/4+L(nt)/2)),pr=v(_t*Ut)/_(gt),xr=nn(pr*A(_t*Ke),pr*l(_t*Ke)),or=ua(xr[0],xr[1],wt*wt);return[-or[1],(nt>=0?1:-1)*(.5*zt-or[0])]}function nn(Ke,nt){var gt=Ke*Ke,wt=nt+1,zt=1-gt-nt*nt;return[.5*((Ke>=0?i:-i)-C(zt,2*Ke)),-.25*r(zt*zt+4*gt)+.5*r(wt*wt+gt)]}function $r(Ke,nt){var gt=nt[0]*nt[0]+nt[1]*nt[1];return[(Ke[0]*nt[0]+Ke[1]*nt[1])/gt,(Ke[1]*nt[0]-Ke[0]*nt[1])/gt]}br.invert=function(Ke,nt){var gt=(w-1)/(w+1),wt=_(1-gt*gt),zt=na(i,wt*wt),_t=-1,Ut=ha(.5*zt-nt,-Ke,wt*wt),pr=$r(Ut[0],Ut[1]),xr=C(pr[1],pr[0])/_t;return[xr,2*a(v(.5/_t*r(gt*pr[0]*pr[0]+gt*pr[1]*pr[1])))-i]};function dn(){return(0,g.c)(pn(br)).scale(151.496)}var Hn=e(61780);function Tn(Ke){var nt=l(Ke),gt=A(Ke),wt=An(Ke);wt.invert=An(-Ke);function zt(_t,Ut){var pr=wt(_t,Ut);_t=pr[0],Ut=pr[1];var xr=l(Ut),or=A(Ut),Mr=A(_t),_r=x(nt*xr+gt*or*Mr),Br=l(_r),tn=L(Br)>h?_r/Br:1;return[tn*gt*l(_t),(L(_t)>i?tn:-tn)*(nt*or-gt*xr*Mr)]}return zt.invert=function(_t,Ut){var pr=_(_t*_t+Ut*Ut),xr=-l(pr),or=A(pr),Mr=pr*or,_r=-Ut*xr,Br=pr*nt,tn=_(Mr*Mr+_r*_r-Br*Br),mn=C(Mr*Br+_r*tn,_r*Br-Mr*tn),Dn=(pr>i?-1:1)*C(_t*xr,pr*A(mn)*or+Ut*l(mn)*xr);return wt.invert(Dn,mn)},zt}function An(Ke){var nt=l(Ke),gt=A(Ke);return function(wt,zt){var _t=A(zt),Ut=A(wt)*_t,pr=l(wt)*_t,xr=l(zt);return[C(pr,Ut*gt-xr*nt),P(xr*gt+Ut*nt)]}}function Nn(){var Ke=0,nt=(0,g.U)(Tn),gt=nt(Ke),wt=gt.rotate,zt=gt.stream,_t=(0,Hn.c)();return gt.parallel=function(Ut){if(!arguments.length)return Ke*S;var pr=gt.rotate();return nt(Ke=Ut*T).rotate(pr)},gt.rotate=function(Ut){return arguments.length?(wt.call(gt,[Ut[0],Ut[1]-Ke*S]),_t.center([-Ut[0],-Ut[1]]),gt):(Ut=wt.call(gt),Ut[1]+=Ke*S,Ut)},gt.stream=function(Ut){return Ut=zt(Ut),Ut.sphere=function(){Ut.polygonStart();var pr=.01,xr=_t.radius(90-pr)().coordinates[0],or=xr.length-1,Mr=-1,_r;for(Ut.lineStart();++Mr<or;)Ut.point((_r=xr[Mr])[0],_r[1]);for(Ut.lineEnd(),xr=_t.radius(90+pr)().coordinates[0],or=xr.length-1,Ut.lineStart();--Mr>=0;)Ut.point((_r=xr[Mr])[0],_r[1]);Ut.lineEnd(),Ut.polygonEnd()},Ut},gt.scale(79.4187).parallel(45).clipAngle(179.999)}var Qn=e(84706),ya=e(16016),Ia=3,Sr=P(1-1/Ia)*S,zr=Tt(0);function Ar(Ke){var nt=Sr*T,gt=ze(c,nt)[0]-ze(-c,nt)[0],wt=zr(0,nt)[1],zt=ze(0,nt)[1],_t=E-zt,Ut=y/Ke,pr=4/y,xr=wt+_t*_t*4/y;function or(Mr,_r){var Br,tn=L(_r);if(tn>nt){var mn=s(Ke-1,t(0,p((Mr+c)/Ut)));Mr+=c*(Ke-1)/Ke-mn*Ut,Br=ze(Mr,tn),Br[0]=Br[0]*y/gt-y*(Ke-1)/(2*Ke)+mn*y/Ke,Br[1]=wt+(Br[1]-zt)*4*_t/y,_r<0&&(Br[1]=-Br[1])}else Br=zr(Mr,_r);return Br[0]*=pr,Br[1]/=xr,Br}return or.invert=function(Mr,_r){Mr/=pr,_r*=xr;var Br=L(_r);if(Br>wt){var tn=s(Ke-1,t(0,p((Mr+c)/Ut)));Mr=(Mr+c*(Ke-1)/Ke-tn*Ut)*gt/y;var mn=ze.invert(Mr,.25*(Br-wt)*y/_t+zt);return mn[0]-=c*(Ke-1)/Ke-tn*Ut,_r<0&&(mn[1]=-mn[1]),mn}return zr.invert(Mr,_r)},or}function Or(Ke,nt){return[Ke,nt&1?90-h:Sr]}function xn(Ke,nt){return[Ke,nt&1?-90+h:-Sr]}function _n(Ke){return[Ke[0]*(1-h),Ke[1]]}function hn(Ke){var nt=[].concat((0,Qn.ik)(-180,180+Ke/2,Ke).map(Or),(0,Qn.ik)(180,-180-Ke/2,-Ke).map(xn));return{type:"Polygon",coordinates:[Ke===180?nt.map(_n):nt]}}function sn(){var Ke=4,nt=(0,g.U)(Ar),gt=nt(Ke),wt=gt.stream;return gt.lobes=function(zt){return arguments.length?nt(Ke=+zt):Ke},gt.stream=function(zt){var _t=gt.rotate(),Ut=wt(zt),pr=(gt.rotate([0,0]),wt(zt));return gt.rotate(_t),Ut.sphere=function(){(0,ya.c)(hn(180/Ke),pr)},Ut},gt.scale(239.75)}function Er(Ke){var nt=1+Ke,gt=l(1/nt),wt=P(gt),zt=2*_(c/(_t=c+4*wt*nt)),_t,Ut=.5*zt*(nt+_(Ke*(2+Ke))),pr=Ke*Ke,xr=nt*nt;function or(Mr,_r){var Br=1-l(_r),tn,mn;if(Br&&Br<2){var Dn=i-_r,In=25,Zn;do{var Pa=l(Dn),Ra=A(Dn),Da=wt+C(Pa,nt-Ra),Fa=1+xr-2*nt*Ra;Dn-=Zn=(Dn-pr*wt-nt*Pa+Fa*Da-.5*Br*_t)/(2*nt*Pa*Da)}while(L(Zn)>M&&--In>0);tn=zt*_(Fa),mn=Mr*Da/c}else tn=zt*(Ke+Br),mn=Mr*wt/c;return[tn*l(mn),Ut-tn*A(mn)]}return or.invert=function(Mr,_r){var Br=Mr*Mr+(_r-=Ut)*_r,tn=(1+xr-Br/(zt*zt))/(2*nt),mn=x(tn),Dn=l(mn),In=wt+C(Dn,nt-tn);return[P(Mr/_(Br))*c/In,P(1-2*(mn-pr*wt-nt*Dn+(1+xr-2*nt*tn)*In)/_t)]},or}function Zr(){var Ke=1,nt=(0,g.U)(Er),gt=nt(Ke);return gt.ratio=function(wt){return arguments.length?nt(Ke=+wt):Ke},gt.scale(167.774).center([0,18.67])}var Vr=.7109889596207567,Qr=.0528035274542;function wn(Ke,nt){return nt>-Vr?(Ke=Se(Ke,nt),Ke[1]+=Qr,Ke):$e(Ke,nt)}wn.invert=function(Ke,nt){return nt>-Vr?Se.invert(Ke,nt-Qr):$e.invert(Ke,nt)};function Pn(){return(0,g.c)(wn).rotate([-20,-55]).scale(164.263).center([0,-5.4036])}function Rn(Ke,nt){return L(nt)>Vr?(Ke=Se(Ke,nt),Ke[1]-=nt>0?Qr:-Qr,Ke):$e(Ke,nt)}Rn.invert=function(Ke,nt){return L(nt)>Vr?Se.invert(Ke,nt+(nt>0?Qr:-Qr)):$e.invert(Ke,nt)};function Un(){return(0,g.c)(Rn).scale(152.63)}function On(Ke,nt,gt,wt){var zt=_(4*c/(2*gt+(1+Ke-nt/2)*l(2*gt)+(Ke+nt)/2*l(4*gt)+nt/2*l(6*gt))),_t=_(wt*l(gt)*_((1+Ke*A(2*gt)+nt*A(4*gt))/(1+Ke+nt))),Ut=gt*xr(1);function pr(_r){return _(1+Ke*A(2*_r)+nt*A(4*_r))}function xr(_r){var Br=_r*gt;return(2*Br+(1+Ke-nt/2)*l(2*Br)+(Ke+nt)/2*l(4*Br)+nt/2*l(6*Br))/gt}function or(_r){return pr(_r)*l(_r)}var Mr=function(_r,Br){var tn=gt*Ae(xr,Ut*l(Br)/gt,Br/c);isNaN(tn)&&(tn=gt*u(Br));var mn=zt*pr(tn);return[mn*_t*_r/c*A(tn),mn/_t*l(tn)]};return Mr.invert=function(_r,Br){var tn=Ae(or,Br*_t/zt);return[_r*c/(A(tn)*zt*_t*pr(tn)),P(gt*xr(tn/gt)/Ut)]},gt===0&&(zt=_(wt/c),Mr=function(_r,Br){return[_r*zt,l(Br)/zt]},Mr.invert=function(_r,Br){return[_r/zt,P(Br*zt)]}),Mr}function ma(){var Ke=1,nt=0,gt=45*T,wt=2,zt=(0,g.U)(On),_t=zt(Ke,nt,gt,wt);return _t.a=function(Ut){return arguments.length?zt(Ke=+Ut,nt,gt,wt):Ke},_t.b=function(Ut){return arguments.length?zt(Ke,nt=+Ut,gt,wt):nt},_t.psiMax=function(Ut){return arguments.length?zt(Ke,nt,gt=+Ut*T,wt):gt*S},_t.ratio=function(Ut){return arguments.length?zt(Ke,nt,gt,wt=+Ut):wt},_t.scale(180.739)}function oa(Ke,nt,gt,wt,zt,_t,Ut,pr,xr,or,Mr){if(Mr.nanEncountered)return NaN;var _r,Br,tn,mn,Dn,In,Zn,Pa,Ra,Da;if(_r=gt-nt,Br=Ke(nt+_r*.25),tn=Ke(gt-_r*.25),isNaN(Br)){Mr.nanEncountered=!0;return}if(isNaN(tn)){Mr.nanEncountered=!0;return}return mn=_r*(wt+4*Br+zt)/12,Dn=_r*(zt+4*tn+_t)/12,In=mn+Dn,Da=(In-Ut)/15,or>xr?(Mr.maxDepthCount++,In+Da):Math.abs(Da)<pr?In+Da:(Zn=nt+_r*.5,Pa=oa(Ke,nt,Zn,wt,Br,zt,mn,pr*.5,xr,or+1,Mr),isNaN(Pa)?(Mr.nanEncountered=!0,NaN):(Ra=oa(Ke,Zn,gt,zt,tn,_t,Dn,pr*.5,xr,or+1,Mr),isNaN(Ra)?(Mr.nanEncountered=!0,NaN):Pa+Ra))}function ga(Ke,nt,gt,wt,zt){var _t={maxDepthCount:0,nanEncountered:!1};wt===void 0&&(wt=1e-8),zt===void 0&&(zt=20);var Ut=Ke(nt),pr=Ke(.5*(nt+gt)),xr=Ke(gt),or=(Ut+4*pr+xr)*(gt-nt)/6,Mr=oa(Ke,nt,gt,Ut,pr,xr,or,wt,zt,1,_t);return Mr}function La(Ke,nt,gt){function wt(tn){return Ke+(1-Ke)*n(1-n(tn,nt),1/nt)}function zt(tn){return ga(wt,0,tn,1e-4)}for(var _t=1/zt(1),Ut=1e3,pr=(1+1e-8)*_t,xr=[],or=0;or<=Ut;or++)xr.push(zt(or/Ut)*pr);function Mr(tn){var mn=0,Dn=Ut,In=Ut>>1;do xr[In]>tn?Dn=In:mn=In,In=mn+Dn>>1;while(In>mn);var Zn=xr[In+1]-xr[In];return Zn&&(Zn=(tn-xr[In+1])/Zn),(In+1+Zn)/Ut}var _r=2*Mr(1)/c*_t/gt,Br=function(tn,mn){var Dn=Mr(L(l(mn))),In=wt(Dn)*tn;return Dn/=_r,[In,mn>=0?Dn:-Dn]};return Br.invert=function(tn,mn){var Dn;return mn*=_r,L(mn)<1&&(Dn=u(mn)*P(zt(L(mn))*_t)),[tn/wt(L(mn)),Dn]},Br}function di(){var Ke=0,nt=2.5,gt=1.183136,wt=(0,g.U)(La),zt=wt(Ke,nt,gt);return zt.alpha=function(_t){return arguments.length?wt(Ke=+_t,nt,gt):Ke},zt.k=function(_t){return arguments.length?wt(Ke,nt=+_t,gt):nt},zt.gamma=function(_t){return arguments.length?wt(Ke,nt,gt=+_t):gt},zt.scale(152.63)}function ni(Ke,nt){return L(Ke[0]-nt[0])<h&&L(Ke[1]-nt[1])<h}function _o(Ke,nt){for(var gt=-1,wt=Ke.length,zt=Ke[0],_t,Ut,pr,xr=[];++gt<wt;){_t=Ke[gt],Ut=(_t[0]-zt[0])/nt,pr=(_t[1]-zt[1])/nt;for(var or=0;or<nt;++or)xr.push([zt[0]+or*Ut,zt[1]+or*pr]);zt=_t}return xr.push(_t),xr}function Co(Ke){var nt=[],gt,wt,zt,_t,Ut,pr,xr,or=Ke[0].length;for(xr=0;xr<or;++xr)gt=Ke[0][xr],wt=gt[0][0],zt=gt[0][1],_t=gt[1][1],Ut=gt[2][0],pr=gt[2][1],nt.push(_o([[wt+h,zt+h],[wt+h,_t-h],[Ut-h,_t-h],[Ut-h,pr+h]],30));for(xr=Ke[1].length-1;xr>=0;--xr)gt=Ke[1][xr],wt=gt[0][0],zt=gt[0][1],_t=gt[1][1],Ut=gt[2][0],pr=gt[2][1],nt.push(_o([[Ut-h,pr-h],[Ut-h,_t+h],[wt+h,_t+h],[wt+h,zt-h]],30));return{type:"Polygon",coordinates:[(0,Qn.Uf)(nt)]}}function ro(Ke,nt,gt){var wt,zt;function _t(xr,or){for(var Mr=or<0?-1:1,_r=nt[+(or<0)],Br=0,tn=_r.length-1;Br<tn&&xr>_r[Br][2][0];++Br);var mn=Ke(xr-_r[Br][1][0],or);return mn[0]+=Ke(_r[Br][1][0],Mr*or>Mr*_r[Br][0][1]?_r[Br][0][1]:or)[0],mn}gt?_t.invert=gt(_t):Ke.invert&&(_t.invert=function(xr,or){for(var Mr=zt[+(or<0)],_r=nt[+(or<0)],Br=0,tn=Mr.length;Br<tn;++Br){var mn=Mr[Br];if(mn[0][0]<=xr&&xr<mn[1][0]&&mn[0][1]<=or&&or<mn[1][1]){var Dn=Ke.invert(xr-Ke(_r[Br][1][0],0)[0],or);return Dn[0]+=_r[Br][1][0],ni(_t(Dn[0],Dn[1]),[xr,or])?Dn:null}}});var Ut=(0,g.c)(_t),pr=Ut.stream;return Ut.stream=function(xr){var or=Ut.rotate(),Mr=pr(xr),_r=(Ut.rotate([0,0]),pr(xr));return Ut.rotate(or),Mr.sphere=function(){(0,ya.c)(wt,_r)},Mr},Ut.lobes=function(xr){return arguments.length?(wt=Co(xr),nt=xr.map(function(or){return or.map(function(Mr){return[[Mr[0][0]*T,Mr[0][1]*T],[Mr[1][0]*T,Mr[1][1]*T],[Mr[2][0]*T,Mr[2][1]*T]]})}),zt=nt.map(function(or){return or.map(function(Mr){var _r=Ke(Mr[0][0],Mr[0][1])[0],Br=Ke(Mr[2][0],Mr[2][1])[0],tn=Ke(Mr[1][0],Mr[0][1])[1],mn=Ke(Mr[1][0],Mr[1][1])[1],Dn;return tn>mn&&(Dn=tn,tn=mn,mn=Dn),[[_r,tn],[Br,mn]]})}),Ut):nt.map(function(or){return or.map(function(Mr){return[[Mr[0][0]*S,Mr[0][1]*S],[Mr[1][0]*S,Mr[1][1]*S],[Mr[2][0]*S,Mr[2][1]*S]]})})},nt!=null&&Ut.lobes(nt),Ut}var ml=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function Ju(){return ro(Ue,ml).scale(160.857)}var Ef=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function qa(){return ro(Rn,Ef).scale(152.63)}var Xl=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function Qu(){return ro(Se,Xl).scale(169.529)}var Qi=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]];function bo(){return ro(Se,Qi).scale(169.529).rotate([20,0])}var xl=[[[[-180,35],[-30,90],[0,35]],[[0,35],[30,90],[180,35]]],[[[-180,-10],[-102,-90],[-65,-10]],[[-65,-10],[5,-90],[77,-10]],[[77,-10],[103,-90],[180,-10]]]];function Su(){return ro(wn,xl,be).rotate([-20,-55]).scale(164.263).center([0,-5.4036])}var _i=[[[[-180,0],[-110,90],[-40,0]],[[-40,0],[0,90],[40,0]],[[40,0],[110,90],[180,0]]],[[[-180,0],[-110,-90],[-40,0]],[[-40,0],[0,-90],[40,0]],[[40,0],[110,-90],[180,0]]]];function bl(){return ro($e,_i).scale(152.63).rotate([-20,0])}function Oi(Ke,nt){return[3/y*Ke*_(c*c/3-nt*nt),nt]}Oi.invert=function(Ke,nt){return[y/3*Ke/_(c*c/3-nt*nt),nt]};function Gi(){return(0,g.c)(Oi).scale(158.837)}function wl(Ke){function nt(gt,wt){if(L(L(wt)-i)<h)return[0,wt<0?-2:2];var zt=l(wt),_t=n((1+zt)/(1-zt),Ke/2),Ut=.5*(_t+1/_t)+A(gt*=Ke);return[2*l(gt)/Ut,(_t-1/_t)/Ut]}return nt.invert=function(gt,wt){var zt=L(wt);if(L(zt-2)<h)return gt?null:[0,u(wt)*i];if(zt>2)return null;gt/=2,wt/=2;var _t=gt*gt,Ut=wt*wt,pr=2*wt/(1+_t+Ut);return pr=n((1+pr)/(1-pr),1/Ke),[C(2*gt,1-_t-Ut)/Ke,P((pr-1)/(pr+1))]},nt}function no(){var Ke=.5,nt=(0,g.U)(wl),gt=nt(Ke);return gt.spacing=function(wt){return arguments.length?nt(Ke=+wt):Ke},gt.scale(124.75)}var ao=c/w;function ko(Ke,nt){return[Ke*(1+_(A(nt)))/2,nt/(A(nt/2)*A(Ke/6))]}ko.invert=function(Ke,nt){var gt=L(Ke),wt=L(nt),zt=h,_t=i;wt<ao?_t*=wt/ao:zt+=6*x(ao/wt);for(var Ut=0;Ut<25;Ut++){var pr=l(_t),xr=_(A(_t)),or=l(_t/2),Mr=A(_t/2),_r=l(zt/6),Br=A(zt/6),tn=.5*zt*(1+xr)-gt,mn=_t/(Mr*Br)-wt,Dn=xr?-.25*zt*pr/xr:0,In=.5*(1+xr),Zn=(1+.5*_t*or/Mr)/(Mr*Br),Pa=_t/Mr*(_r/6)/(Br*Br),Ra=Dn*Pa-Zn*In,Da=(tn*Pa-mn*In)/Ra,Fa=(mn*Dn-tn*Zn)/Ra;if(_t-=Da,zt-=Fa,L(Da)<h&&L(Fa)<h)break}return[Ke<0?-zt:zt,nt<0?-_t:_t]};function Cf(){return(0,g.c)(ko).scale(97.2672)}function Lo(Ke,nt){var gt=Ke*Ke,wt=nt*nt;return[Ke*(.975534+wt*(-.119161+gt*-.0143059+wt*-.0547009)),nt*(1.00384+gt*(.0802894+wt*-.02855+gt*199025e-9)+wt*(.0998909+wt*-.0491032))]}Lo.invert=function(Ke,nt){var gt=u(Ke)*c,wt=nt/2,zt=50;do{var _t=gt*gt,Ut=wt*wt,pr=gt*wt,xr=gt*(.975534+Ut*(-.119161+_t*-.0143059+Ut*-.0547009))-Ke,or=wt*(1.00384+_t*(.0802894+Ut*-.02855+_t*199025e-9)+Ut*(.0998909+Ut*-.0491032))-nt,Mr=.975534-Ut*(.119161+3*_t*.0143059+Ut*.0547009),_r=-pr*(2*.119161+4*.0547009*Ut+2*.0143059*_t),Br=pr*(2*.0802894+4*199025e-9*_t+2*-.02855*Ut),tn=1.00384+_t*(.0802894+199025e-9*_t)+Ut*(3*(.0998909-.02855*_t)-5*.0491032*Ut),mn=_r*Br-tn*Mr,Dn=(or*_r-xr*tn)/mn,In=(xr*Br-or*Mr)/mn;gt-=Dn,wt-=In}while((L(Dn)>h||L(In)>h)&&--zt>0);return zt&&[gt,wt]};function Cc(){return(0,g.c)(Lo).scale(139.98)}function us(Ke,nt){return[l(Ke)/A(nt),m(nt)*A(Ke)]}us.invert=function(Ke,nt){var gt=Ke*Ke,wt=nt*nt,zt=wt+1,_t=gt+zt,Ut=Ke?b*_((_t-_(_t*_t-4*gt))/gt):1/_(zt);return[P(Ke*Ut),u(nt)*x(Ut)]};function $i(){return(0,g.c)(us).scale(144.049).clipAngle(89.999)}function $u(Ke){var nt=A(Ke),gt=m(d+Ke/2);function wt(zt,_t){var Ut=_t-Ke,pr=L(Ut)<h?zt*nt:L(pr=d+_t/2)<h||L(L(pr)-i)<h?0:zt*Ut/r(m(pr)/gt);return[pr,Ut]}return wt.invert=function(zt,_t){var Ut,pr=_t+Ke;return[L(_t)<h?zt/nt:L(Ut=d+pr/2)<h||L(L(Ut)-i)<h?0:zt*r(m(Ut)/gt)/_t,pr]},wt}function Bs(){return lt($u).parallel(40).scale(158.837)}function fs(Ke,nt){return[Ke,1.25*r(m(d+.4*nt))]}fs.invert=function(Ke,nt){return[Ke,2.5*a(v(.8*nt))-.625*c]};function qu(){return(0,g.c)(fs).scale(108.318)}function Lf(Ke){var nt=Ke.length-1;function gt(wt,zt){for(var _t=A(zt),Ut=2/(1+_t*A(wt)),pr=Ut*_t*l(wt),xr=Ut*l(zt),or=nt,Mr=Ke[or],_r=Mr[0],Br=Mr[1],tn;--or>=0;)Mr=Ke[or],_r=Mr[0]+pr*(tn=_r)-xr*Br,Br=Mr[1]+pr*Br+xr*tn;return _r=pr*(tn=_r)-xr*Br,Br=pr*Br+xr*tn,[_r,Br]}return gt.invert=function(wt,zt){var _t=20,Ut=wt,pr=zt;do{for(var xr=nt,or=Ke[xr],Mr=or[0],_r=or[1],Br=0,tn=0,mn;--xr>=0;)or=Ke[xr],Br=Mr+Ut*(mn=Br)-pr*tn,tn=_r+Ut*tn+pr*mn,Mr=or[0]+Ut*(mn=Mr)-pr*_r,_r=or[1]+Ut*_r+pr*mn;Br=Mr+Ut*(mn=Br)-pr*tn,tn=_r+Ut*tn+pr*mn,Mr=Ut*(mn=Mr)-pr*_r-wt,_r=Ut*_r+pr*mn-zt;var Dn=Br*Br+tn*tn,In,Zn;Ut-=In=(Mr*Br+_r*tn)/Dn,pr-=Zn=(_r*Br-Mr*tn)/Dn}while(L(In)+L(Zn)>h*h&&--_t>0);if(_t){var Pa=_(Ut*Ut+pr*pr),Ra=2*a(Pa*.5),Da=l(Ra);return[C(Ut*Da,Pa*A(Ra)),Pa?P(pr*Da/Pa):0]}},gt}var Lc=[[.9972523,0],[.0052513,-.0041175],[.0074606,.0048125],[-.0153783,-.1968253],[.0636871,-.1408027],[.3660976,-.2937382]],Eu=[[.98879,0],[0,0],[-.050909,0],[0,0],[.075528,0]],Pc=[[.984299,0],[.0211642,.0037608],[-.1036018,-.0575102],[-.0329095,-.0320119],[.0499471,.1223335],[.026046,.0899805],[7388e-7,-.1435792],[.0075848,-.1334108],[-.0216473,.0776645],[-.0225161,.0853673]],Rc=[[.9245,0],[0,0],[.01943,0]],Dc=[[.721316,0],[0,0],[-.00881625,-.00617325]];function ef(){return tl(Lc,[152,-64]).scale(1400).center([-160.908,62.4864]).clipAngle(30).angle(7.8)}function Ic(){return tl(Eu,[95,-38]).scale(1e3).clipAngle(55).center([-96.5563,38.8675])}function _c(){return tl(Pc,[120,-45]).scale(359.513).clipAngle(55).center([-117.474,53.0628])}function Pf(){return tl(Rc,[-20,-18]).scale(209.091).center([20,16.7214]).clipAngle(82)}function Rf(){return tl(Dc,[165,10]).scale(250).clipAngle(130).center([-165,-10])}function tl(Ke,nt){var gt=(0,g.c)(Lf(Ke)).rotate(nt).clipAngle(90),wt=(0,We.c)(nt),zt=gt.center;return delete gt.rotate,gt.center=function(_t){return arguments.length?zt(wt(_t)):wt.invert(zt())},gt}var Tl=_(6),Zl=_(7);function jl(Ke,nt){var gt=P(7*l(nt)/(3*Tl));return[Tl*Ke*(2*A(2*gt/3)-1)/Zl,9*l(gt/3)/Zl]}jl.invert=function(Ke,nt){var gt=3*P(nt*Zl/9);return[Ke*Zl/(Tl*(2*A(2*gt/3)-1)),P(l(gt)*3*Tl/7)]};function Df(){return(0,g.c)(jl).scale(164.859)}function As(Ke,nt){for(var gt=(1+b)*l(nt),wt=nt,zt=0,_t;zt<25&&(wt-=_t=(l(wt/2)+l(wt)-gt)/(.5*A(wt/2)+A(wt)),!(L(_t)<h));zt++);return[Ke*(1+2*A(wt)/A(wt/2))/(3*w),2*_(3)*l(wt/2)/_(2+w)]}As.invert=function(Ke,nt){var gt=nt*_(2+w)/(2*_(3)),wt=2*P(gt);return[3*w*Ke/(1+2*A(wt)/A(wt/2)),P((gt+l(wt))/(1+b))]};function kc(){return(0,g.c)(As).scale(188.209)}function Cu(Ke,nt){for(var gt=_(6/(4+c)),wt=(1+c/4)*l(nt),zt=nt/2,_t=0,Ut;_t<25&&(zt-=Ut=(zt/2+l(zt)-wt)/(.5+A(zt)),!(L(Ut)<h));_t++);return[gt*(.5+A(zt))*Ke/1.5,gt*zt]}Cu.invert=function(Ke,nt){var gt=_(6/(4+c)),wt=nt/gt;return L(L(wt)-i)<h&&(wt=wt<0?-i:i),[1.5*Ke/(gt*(.5+A(wt))),P((wt/2+l(wt))/(1+c/4))]};function If(){return(0,g.c)(Cu).scale(166.518)}var _f=e(47984);function Lu(Ke,nt){var gt=nt*nt,wt=gt*gt,zt=gt*wt;return[Ke*(.84719-.13063*gt+zt*zt*(-.04515+.05494*gt-.02326*wt+.00331*zt)),nt*(1.01183+wt*wt*(-.02625+.01926*gt-.00396*wt))]}Lu.invert=function(Ke,nt){var gt=nt,wt=25,zt,_t,Ut,pr;do _t=gt*gt,Ut=_t*_t,gt-=zt=(gt*(1.01183+Ut*Ut*(-.02625+.01926*_t-.00396*Ut))-nt)/(1.01183+Ut*Ut*(-.23625+.21186*_t+-.05148*Ut));while(L(zt)>M&&--wt>0);return _t=gt*gt,Ut=_t*_t,pr=_t*Ut,[Ke/(.84719-.13063*_t+pr*pr*(-.04515+.05494*_t-.02326*Ut+.00331*pr)),gt]};function Yo(){return(0,g.c)(Lu).scale(175.295)}function Al(Ke,nt){return[Ke*(1+A(nt))/2,2*(nt-m(nt/2))]}Al.invert=function(Ke,nt){for(var gt=nt/2,wt=0,zt=1/0;wt<10&&L(zt)>h;++wt){var _t=A(nt/2);nt-=zt=(nt-m(nt/2)-gt)/(1-.5/(_t*_t))}return[2*Ke/(1+A(nt)),nt]};function rl(){return(0,g.c)(Al).scale(152.63)}var Kl=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]];function Ns(){return ro(ne(1/0),Kl).rotate([20,0]).scale(152.63)}function cs(Ke,nt){var gt=l(nt),wt=A(nt),zt=u(Ke);if(Ke===0||L(nt)===i)return[0,nt];if(nt===0)return[Ke,0];if(L(Ke)===i)return[Ke*wt,i*gt];var _t=c/(2*Ke)-2*Ke/c,Ut=2*nt/c,pr=(1-Ut*Ut)/(gt-Ut),xr=_t*_t,or=pr*pr,Mr=1+xr/or,_r=1+or/xr,Br=(_t*gt/pr-_t/2)/Mr,tn=(or*gt/xr+pr/2)/_r,mn=Br*Br+wt*wt/Mr,Dn=tn*tn-(or*gt*gt/xr+pr*gt-1)/_r;return[i*(Br+_(mn)*zt),i*(tn+_(Dn<0?0:Dn)*u(-nt*_t)*zt)]}cs.invert=function(Ke,nt){Ke/=i,nt/=i;var gt=Ke*Ke,wt=nt*nt,zt=gt+wt,_t=c*c;return[Ke?(zt-1+_((1-zt)*(1-zt)+4*gt))/(2*Ke)*i:0,Ae(function(Ut){return zt*(c*l(Ut)-2*Ut)*c+4*Ut*Ut*(nt-l(Ut))+2*c*Ut-_t*nt},0)]};function tf(){return(0,g.c)(cs).scale(127.267)}var Ml=1.0148,Xo=.23185,Ri=-.14499,rf=.02406,Fc=Ml,Pu=5*Xo,Sl=7*Ri,El=9*rf,Po=1.790857183;function Ru(Ke,nt){var gt=nt*nt;return[Ke,nt*(Ml+gt*gt*(Xo+gt*(Ri+rf*gt)))]}Ru.invert=function(Ke,nt){nt>Po?nt=Po:nt<-Po&&(nt=-Po);var gt=nt,wt;do{var zt=gt*gt;gt-=wt=(gt*(Ml+zt*zt*(Xo+zt*(Ri+rf*zt)))-nt)/(Fc+zt*zt*(Pu+zt*(Sl+El*zt)))}while(L(wt)>h);return[Ke,gt]};function Cl(){return(0,g.c)(Ru).scale(139.319)}function Du(Ke,nt){if(L(nt)<h)return[Ke,0];var gt=m(nt),wt=Ke*l(nt);return[l(wt)/gt,nt+(1-A(wt))/gt]}Du.invert=function(Ke,nt){if(L(nt)<h)return[Ke,0];var gt=Ke*Ke+nt*nt,wt=nt*.5,zt=10,_t;do{var Ut=m(wt),pr=1/A(wt),xr=gt-2*nt*wt+wt*wt;wt-=_t=(Ut*xr+2*(wt-nt))/(2+xr*pr*pr+2*(wt-nt)*Ut)}while(L(_t)>h&&--zt>0);return Ut=m(wt),[(L(nt)<L(wt+1/Ut)?P(Ke*Ut):u(nt)*u(Ke)*(x(L(Ke*Ut))+i))/l(wt),wt]};function zc(){return(0,g.c)(Du).scale(103.74)}var kf=e(13696),nf=e(27284);function af(Ke,nt){var gt=Iu(Ke[1],Ke[0]),wt=Iu(nt[1],nt[0]),zt=_u(gt,wt),_t=Jl(gt)/Jl(wt);return Ll([1,0,Ke[0][0],0,1,Ke[0][1]],Ll([_t,0,0,0,_t,0],Ll([A(zt),l(zt),0,-l(zt),A(zt),0],[1,0,-nt[0][0],0,1,-nt[0][1]])))}function of(Ke){var nt=1/(Ke[0]*Ke[4]-Ke[1]*Ke[3]);return[nt*Ke[4],-nt*Ke[1],nt*(Ke[1]*Ke[5]-Ke[2]*Ke[4]),-nt*Ke[3],nt*Ke[0],nt*(Ke[2]*Ke[3]-Ke[0]*Ke[5])]}function Ll(Ke,nt){return[Ke[0]*nt[0]+Ke[1]*nt[3],Ke[0]*nt[1]+Ke[1]*nt[4],Ke[0]*nt[2]+Ke[1]*nt[5]+Ke[2],Ke[3]*nt[0]+Ke[4]*nt[3],Ke[3]*nt[1]+Ke[4]*nt[4],Ke[3]*nt[2]+Ke[4]*nt[5]+Ke[5]]}function Iu(Ke,nt){return[Ke[0]-nt[0],Ke[1]-nt[1]]}function Jl(Ke){return _(Ke[0]*Ke[0]+Ke[1]*Ke[1])}function _u(Ke,nt){return C(Ke[0]*nt[1]-Ke[1]*nt[0],Ke[0]*nt[0]+Ke[1]*nt[1])}function pi(Ke,nt,gt){wt(Ke,{transform:null});function wt(or,Mr){if(or.edges=sf(or.face),Mr.face){var _r=or.shared=zf(or.face,Mr.face),Br=af(_r.map(Mr.project),_r.map(or.project));or.transform=Mr.transform?Ll(Mr.transform,Br):Br;for(var tn=Mr.edges,mn=0,Dn=tn.length;mn<Dn;++mn)Zo(_r[0],tn[mn][1])&&Zo(_r[1],tn[mn][0])&&(tn[mn]=or),Zo(_r[0],tn[mn][0])&&Zo(_r[1],tn[mn][1])&&(tn[mn]=or);for(tn=or.edges,mn=0,Dn=tn.length;mn<Dn;++mn)Zo(_r[0],tn[mn][0])&&Zo(_r[1],tn[mn][1])&&(tn[mn]=Mr),Zo(_r[0],tn[mn][1])&&Zo(_r[1],tn[mn][0])&&(tn[mn]=Mr)}else or.transform=Mr.transform;return or.children&&or.children.forEach(function(In){wt(In,or)}),or}function zt(or,Mr){var _r=nt(or,Mr),Br=_r.project([or*S,Mr*S]),tn;return(tn=_r.transform)?[tn[0]*Br[0]+tn[1]*Br[1]+tn[2],-(tn[3]*Br[0]+tn[4]*Br[1]+tn[5])]:(Br[1]=-Br[1],Br)}nl(Ke)&&(zt.invert=function(or,Mr){var _r=_t(Ke,[or,-Mr]);return _r&&(_r[0]*=T,_r[1]*=T,_r)});function _t(or,Mr){var _r=or.project.invert,Br=or.transform,tn=Mr;if(Br&&(Br=of(Br),tn=[Br[0]*tn[0]+Br[1]*tn[1]+Br[2],Br[3]*tn[0]+Br[4]*tn[1]+Br[5]]),_r&&or===Ut(mn=_r(tn)))return mn;for(var mn,Dn=or.children,In=0,Zn=Dn&&Dn.length;In<Zn;++In)if(mn=_t(Dn[In],Mr))return mn}function Ut(or){return nt(or[0]*T,or[1]*T)}var pr=(0,g.c)(zt),xr=pr.stream;return pr.stream=function(or){var Mr=pr.rotate(),_r=xr(or),Br=(pr.rotate([0,0]),xr(or));return pr.rotate(Mr),_r.sphere=function(){Br.polygonStart(),Br.lineStart(),Ff(Br,Ke),Br.lineEnd(),Br.polygonEnd()},_r},pr.angle(gt==null?-30:gt*S)}function Ff(Ke,nt,gt){var wt,zt=nt.edges,_t=zt.length,Ut,pr={type:"MultiPoint",coordinates:nt.face},xr=nt.face.filter(function(Dn){return L(Dn[1])!==90}),or=(0,kf.c)({type:"MultiPoint",coordinates:xr}),Mr=!1,_r=-1,Br=or[1][0]-or[0][0],tn=Br===180||Br===360?[(or[0][0]+or[1][0])/2,(or[0][1]+or[1][1])/2]:(0,Ie.c)(pr);if(gt)for(;++_r<_t&&zt[_r]!==gt;);++_r;for(var mn=0;mn<_t;++mn)Ut=zt[(mn+_r)%_t],Array.isArray(Ut)?(Mr||(Ke.point((wt=(0,nf.c)(Ut[0],tn)(h))[0],wt[1]),Mr=!0),Ke.point((wt=(0,nf.c)(Ut[1],tn)(h))[0],wt[1])):(Mr=!1,Ut!==gt&&Ff(Ke,Ut,nt))}function Zo(Ke,nt){return Ke&&nt&&Ke[0]===nt[0]&&Ke[1]===nt[1]}function zf(Ke,nt){for(var gt,wt,zt=Ke.length,_t=null,Ut=0;Ut<zt;++Ut){gt=Ke[Ut];for(var pr=nt.length;--pr>=0;)if(wt=nt[pr],gt[0]===wt[0]&&gt[1]===wt[1]){if(_t)return[_t,gt];_t=gt}}}function sf(Ke){for(var nt=Ke.length,gt=[],wt=Ke[nt-1],zt=0;zt<nt;++zt)gt.push([wt,wt=Ke[zt]]);return gt}function nl(Ke){return Ke.project.invert||Ke.children&&Ke.children.some(nl)}var Us=e(53285),ku=[[0,90],[-90,0],[0,0],[90,0],[180,0],[0,-90]],ki=[[0,2,1],[0,3,2],[5,1,2],[5,2,3],[0,1,4],[0,4,3],[5,4,1],[5,3,4]].map(function(Ke){return Ke.map(function(nt){return ku[nt]})});function Ql(Ke){Ke=Ke||function(gt){var wt=(0,Ie.c)({type:"MultiPoint",coordinates:gt});return(0,Us.c)().scale(1).translate([0,0]).rotate([-wt[0],-wt[1]])};var nt=ki.map(function(gt){return{face:gt,project:Ke(gt)}});return[-1,0,0,1,0,1,4,5].forEach(function(gt,wt){var zt=nt[gt];zt&&(zt.children||(zt.children=[])).push(nt[wt])}),pi(nt[0],function(gt,wt){return nt[gt<-c/2?wt<0?6:4:gt<0?wt<0?2:0:gt<c/2?wt<0?3:1:wt<0?7:5]}).angle(-30).scale(101.858).center([0,45])}var jo=2/_(3);function Ms(Ke,nt){var gt=ze(Ke,nt);return[gt[0]*jo,gt[1]]}Ms.invert=function(Ke,nt){return ze.invert(Ke/jo,nt)};function al(Ke){Ke=Ke||function(gt){var wt=(0,Ie.c)({type:"MultiPoint",coordinates:gt});return(0,g.c)(Ms).translate([0,0]).scale(1).rotate(wt[1]>0?[-wt[0],0]:[180-wt[0],180])};var nt=ki.map(function(gt){return{face:gt,project:Ke(gt)}});return[-1,0,0,1,0,1,4,5].forEach(function(gt,wt){var zt=nt[gt];zt&&(zt.children||(zt.children=[])).push(nt[wt])}),pi(nt[0],function(gt,wt){return nt[gt<-c/2?wt<0?6:4:gt<0?wt<0?2:0:gt<c/2?wt<0?3:1:wt<0?7:5]}).angle(-30).scale(121.906).center([0,48.5904])}function Vs(Ke){Ke=Ke||function(Ut){var pr=Ut.length===6?(0,Ie.c)({type:"MultiPoint",coordinates:Ut}):Ut[0];return(0,Us.c)().scale(1).translate([0,0]).rotate([-pr[0],-pr[1]])};var nt=ki.map(function(Ut){for(var pr=Ut.map(No),xr=pr.length,or=pr[xr-1],Mr,_r=[],Br=0;Br<xr;++Br)Mr=pr[Br],_r.push(Jo([or[0]*.9486832980505138+Mr[0]*.31622776601683794,or[1]*.9486832980505138+Mr[1]*.31622776601683794,or[2]*.9486832980505138+Mr[2]*.31622776601683794]),Jo([Mr[0]*.9486832980505138+or[0]*.31622776601683794,Mr[1]*.9486832980505138+or[1]*.31622776601683794,Mr[2]*.9486832980505138+or[2]*.31622776601683794])),or=Mr;return _r}),gt=[],wt=[-1,0,0,1,0,1,4,5];nt.forEach(function(Ut,pr){for(var xr=ki[pr],or=xr.length,Mr=gt[pr]=[],_r=0;_r<or;++_r)nt.push([xr[_r],Ut[(_r*2+2)%(2*or)],Ut[(_r*2+1)%(2*or)]]),wt.push(pr),Mr.push(Ss(No(Ut[(_r*2+2)%(2*or)]),No(Ut[(_r*2+1)%(2*or)])))});var zt=nt.map(function(Ut){return{project:Ke(Ut),face:Ut}});wt.forEach(function(Ut,pr){var xr=zt[Ut];xr&&(xr.children||(xr.children=[])).push(zt[pr])});function _t(Ut,pr){var xr=A(pr),or=[xr*A(Ut),xr*l(Ut),l(pr)],Mr=Ut<-c/2?pr<0?6:4:Ut<0?pr<0?2:0:Ut<c/2?pr<0?3:1:pr<0?7:5,_r=gt[Mr];return zt[Ko(_r[0],or)<0?8+3*Mr:Ko(_r[1],or)<0?8+3*Mr+1:Ko(_r[2],or)<0?8+3*Mr+2:Mr]}return pi(zt[0],_t).angle(-30).scale(110.625).center([0,45])}function Ko(Ke,nt){for(var gt=0,wt=Ke.length,zt=0;gt<wt;++gt)zt+=Ke[gt]*nt[gt];return zt}function Ss(Ke,nt){return[Ke[1]*nt[2]-Ke[2]*nt[1],Ke[2]*nt[0]-Ke[0]*nt[2],Ke[0]*nt[1]-Ke[1]*nt[0]]}function Jo(Ke){return[C(Ke[1],Ke[0])*S,P(t(-1,s(1,Ke[2])))*S]}function No(Ke){var nt=Ke[0]*T,gt=Ke[1]*T,wt=A(gt);return[wt*A(nt),wt*l(nt),l(gt)]}function $l(){}function Oc(Ke){if((gt=Ke.length)<4)return!1;for(var nt=0,gt,wt=Ke[gt-1][1]*Ke[0][0]-Ke[gt-1][0]*Ke[0][1];++nt<gt;)wt+=Ke[nt-1][1]*Ke[nt][0]-Ke[nt-1][0]*Ke[nt][1];return wt<=0}function Bc(Ke,nt){for(var gt=nt[0],wt=nt[1],zt=!1,_t=0,Ut=Ke.length,pr=Ut-1;_t<Ut;pr=_t++){var xr=Ke[_t],or=xr[0],Mr=xr[1],_r=Ke[pr],Br=_r[0],tn=_r[1];Mr>wt^tn>wt&&gt<(Br-or)*(wt-Mr)/(tn-Mr)+or&&(zt=!zt)}return zt}function Nc(Ke,nt){var gt=nt.stream,wt;if(!gt)throw new Error("invalid projection");switch(Ke&&Ke.type){case"Feature":wt=lf;break;case"FeatureCollection":wt=Uc;break;default:wt=Pl;break}return wt(Ke,gt)}function Uc(Ke,nt){return{type:"FeatureCollection",features:Ke.features.map(function(gt){return lf(gt,nt)})}}function lf(Ke,nt){return{type:"Feature",id:Ke.id,properties:Ke.properties,geometry:Pl(Ke.geometry,nt)}}function Of(Ke,nt){return{type:"GeometryCollection",geometries:Ke.geometries.map(function(gt){return Pl(gt,nt)})}}function Pl(Ke,nt){if(!Ke)return null;if(Ke.type==="GeometryCollection")return Of(Ke,nt);var gt;switch(Ke.type){case"Point":gt=Rl;break;case"MultiPoint":gt=Rl;break;case"LineString":gt=Bf;break;case"MultiLineString":gt=Bf;break;case"Polygon":gt=ql;break;case"MultiPolygon":gt=ql;break;case"Sphere":gt=ql;break;default:return null}return(0,ya.c)(Ke,nt(gt)),gt.result()}var qi=[],Fo=[],Rl={point:function(Ke,nt){qi.push([Ke,nt])},result:function(){var Ke=qi.length?qi.length<2?{type:"Point",coordinates:qi[0]}:{type:"MultiPoint",coordinates:qi}:null;return qi=[],Ke}},Bf={lineStart:$l,point:function(Ke,nt){qi.push([Ke,nt])},lineEnd:function(){qi.length&&(Fo.push(qi),qi=[])},result:function(){var Ke=Fo.length?Fo.length<2?{type:"LineString",coordinates:Fo[0]}:{type:"MultiLineString",coordinates:Fo}:null;return Fo=[],Ke}},ql={polygonStart:$l,lineStart:$l,point:function(Ke,nt){qi.push([Ke,nt])},lineEnd:function(){var Ke=qi.length;if(Ke){do qi.push(qi[0].slice());while(++Ke<4);Fo.push(qi),qi=[]}},polygonEnd:$l,result:function(){if(!Fo.length)return null;var Ke=[],nt=[];return Fo.forEach(function(gt){Oc(gt)?Ke.push([gt]):nt.push(gt)}),nt.forEach(function(gt){var wt=gt[0];Ke.some(function(zt){if(Bc(zt[0],wt))return zt.push(gt),!0})||Ke.push([gt])}),Fo=[],Ke.length?Ke.length>1?{type:"MultiPolygon",coordinates:Ke}:{type:"Polygon",coordinates:Ke[0]}:null}};function Es(Ke){var nt=Ke(i,0)[0]-Ke(-i,0)[0];function gt(wt,zt){var _t=L(wt)<i,Ut=Ke(_t?wt:wt>0?wt-c:wt+c,zt),pr=(Ut[0]-Ut[1])*b,xr=(Ut[0]+Ut[1])*b;if(_t)return[pr,xr];var or=nt*b,Mr=pr>0^xr>0?-1:1;return[Mr*pr-u(xr)*or,Mr*xr-u(pr)*or]}return Ke.invert&&(gt.invert=function(wt,zt){var _t=(wt+zt)*b,Ut=(zt-wt)*b,pr=L(_t)<.5*nt&&L(Ut)<.5*nt;if(!pr){var xr=nt*b,or=_t>0^Ut>0?-1:1,Mr=-or*wt+(Ut>0?1:-1)*xr,_r=-or*zt+(_t>0?1:-1)*xr;_t=(-Mr-_r)*b,Ut=(Mr-_r)*b}var Br=Ke.invert(_t,Ut);return pr||(Br[0]+=_t>0?c:-c),Br}),(0,g.c)(gt).rotate([-90,-90,45]).clipAngle(179.999)}function Vc(){return Es(gn).scale(176.423)}function Nf(){return Es(br).scale(111.48)}function Uf(Ke,nt){if(!(0<=(nt=+nt)&&nt<=20))throw new Error("invalid digits");function gt(or){var Mr=or.length,_r=2,Br=new Array(Mr);for(Br[0]=+or[0].toFixed(nt),Br[1]=+or[1].toFixed(nt);_r<Mr;)Br[_r]=or[_r],++_r;return Br}function wt(or){return or.map(gt)}function zt(or){for(var Mr=gt(or[0]),_r=[Mr],Br=1;Br<or.length;Br++){var tn=gt(or[Br]);(tn.length>2||tn[0]!=Mr[0]||tn[1]!=Mr[1])&&(_r.push(tn),Mr=tn)}return _r.length===1&&or.length>1&&_r.push(gt(or[or.length-1])),_r}function _t(or){return or.map(zt)}function Ut(or){if(or==null)return or;var Mr;switch(or.type){case"GeometryCollection":Mr={type:"GeometryCollection",geometries:or.geometries.map(Ut)};break;case"Point":Mr={type:"Point",coordinates:gt(or.coordinates)};break;case"MultiPoint":Mr={type:or.type,coordinates:wt(or.coordinates)};break;case"LineString":Mr={type:or.type,coordinates:zt(or.coordinates)};break;case"MultiLineString":case"Polygon":Mr={type:or.type,coordinates:_t(or.coordinates)};break;case"MultiPolygon":Mr={type:"MultiPolygon",coordinates:or.coordinates.map(_t)};break;default:return or}return or.bbox!=null&&(Mr.bbox=or.bbox),Mr}function pr(or){var Mr={type:"Feature",properties:or.properties,geometry:Ut(or.geometry)};return or.id!=null&&(Mr.id=or.id),or.bbox!=null&&(Mr.bbox=or.bbox),Mr}if(Ke!=null)switch(Ke.type){case"Feature":return pr(Ke);case"FeatureCollection":{var xr={type:"FeatureCollection",features:Ke.features.map(pr)};return Ke.bbox!=null&&(xr.bbox=Ke.bbox),xr}default:return Ut(Ke)}return Ke}function uf(Ke){var nt=l(Ke);function gt(wt,zt){var _t=nt?m(wt*nt/2)/nt:wt/2;if(!zt)return[2*_t,-Ke];var Ut=2*a(_t*l(zt)),pr=1/m(zt);return[l(Ut)*pr,zt+(1-A(Ut))*pr-Ke]}return gt.invert=function(wt,zt){if(L(zt+=Ke)<h)return[nt?2*a(nt*wt/2)/nt:wt,0];var _t=wt*wt+zt*zt,Ut=0,pr=10,xr;do{var or=m(Ut),Mr=1/A(Ut),_r=_t-2*zt*Ut+Ut*Ut;Ut-=xr=(or*_r+2*(Ut-zt))/(2+_r*Mr*Mr+2*(Ut-zt)*or)}while(L(xr)>h&&--pr>0);var Br=wt*(or=m(Ut)),tn=m(L(zt)<L(Ut+1/or)?P(Br)*.5:x(Br)*.5+c/4)/l(Ut);return[nt?2*a(nt*tn)/nt:2*tn,Ut]},gt}function Vf(){return lt(uf).scale(131.215)}var wo=[[.9986,-.062],[1,0],[.9986,.062],[.9954,.124],[.99,.186],[.9822,.248],[.973,.31],[.96,.372],[.9427,.434],[.9216,.4958],[.8962,.5571],[.8679,.6176],[.835,.6769],[.7986,.7346],[.7597,.7903],[.7186,.8435],[.6732,.8936],[.6213,.9394],[.5722,.9761],[.5322,1]];wo.forEach(function(Ke){Ke[1]*=1.0144});function Qo(Ke,nt){var gt=s(18,L(nt)*36/c),wt=p(gt),zt=gt-wt,_t=(_r=wo[wt])[0],Ut=_r[1],pr=(_r=wo[++wt])[0],xr=_r[1],or=(_r=wo[s(19,++wt)])[0],Mr=_r[1],_r;return[Ke*(pr+zt*(or-_t)/2+zt*zt*(or-2*pr+_t)/2),(nt>0?i:-i)*(xr+zt*(Mr-Ut)/2+zt*zt*(Mr-2*xr+Ut)/2)]}Qo.invert=function(Ke,nt){var gt=nt/i,wt=gt*90,zt=s(18,L(wt/5)),_t=t(0,p(zt));do{var Ut=wo[_t][1],pr=wo[_t+1][1],xr=wo[s(19,_t+2)][1],or=xr-Ut,Mr=xr-2*pr+Ut,_r=2*(L(gt)-pr)/or,Br=Mr/or,tn=_r*(1-Br*_r*(1-2*Br*_r));if(tn>=0||_t===1){wt=(nt>=0?5:-5)*(tn+zt);var mn=50,Dn;do zt=s(18,L(wt)/5),_t=p(zt),tn=zt-_t,Ut=wo[_t][1],pr=wo[_t+1][1],xr=wo[s(19,_t+2)][1],wt-=(Dn=(nt>=0?i:-i)*(pr+tn*(xr-Ut)/2+tn*tn*(xr-2*pr+Ut)/2)-nt)*S;while(L(Dn)>M&&--mn>0);break}}while(--_t>=0);var In=wo[_t][0],Zn=wo[_t+1][0],Pa=wo[s(19,_t+2)][0];return[Ke/(Zn+tn*(Pa-In)/2+tn*tn*(Pa-2*Zn+In)/2),wt*T]};function Hs(){return(0,g.c)(Qo).scale(152.63)}function Dl(Ke){function nt(gt,wt){var zt=A(wt),_t=(Ke-1)/(Ke-zt*A(gt));return[_t*zt*l(gt),_t*l(wt)]}return nt.invert=function(gt,wt){var zt=gt*gt+wt*wt,_t=_(zt),Ut=(Ke-_(1-zt*(Ke+1)/(Ke-1)))/((Ke-1)/_t+_t/(Ke-1));return[C(gt*Ut,_t*_(1-Ut*Ut)),_t?P(wt*Ut/_t):0]},nt}function Fu(Ke,nt){var gt=Dl(Ke);if(!nt)return gt;var wt=A(nt),zt=l(nt);function _t(Ut,pr){var xr=gt(Ut,pr),or=xr[1],Mr=or*zt/(Ke-1)+wt;return[xr[0]*wt/Mr,or/Mr]}return _t.invert=function(Ut,pr){var xr=(Ke-1)/(Ke-1-pr*zt);return gt.invert(xr*Ut,xr*pr*wt)},_t}function il(){var Ke=2,nt=0,gt=(0,g.U)(Fu),wt=gt(Ke,nt);return wt.distance=function(zt){return arguments.length?gt(Ke=+zt,nt):Ke},wt.tilt=function(zt){return arguments.length?gt(Ke,nt=zt*T):nt*S},wt.scale(432.147).clipAngle(x(1/Ke)*S-1e-6)}var ol=1e-4,Hf=1e4,Cs=-180,Il=Cs+ol,Gs=180,Ls=Gs-ol,eu=-90,_l=eu+ol,hi=90,kl=hi-ol;function zu(Ke){return Ke.length>0}function Gf(Ke){return Math.floor(Ke*Hf)/Hf}function Fl(Ke){return Ke===eu||Ke===hi?[0,Ke]:[Cs,Gf(Ke)]}function tu(Ke){var nt=Ke[0],gt=Ke[1],wt=!1;return nt<=Il?(nt=Cs,wt=!0):nt>=Ls&&(nt=Gs,wt=!0),gt<=_l?(gt=eu,wt=!0):gt>=kl&&(gt=hi,wt=!0),wt?[nt,gt]:Ke}function Ou(Ke){return Ke.map(tu)}function ff(Ke,nt,gt){for(var wt=0,zt=Ke.length;wt<zt;++wt){var _t=Ke[wt].slice();gt.push({index:-1,polygon:nt,ring:_t});for(var Ut=0,pr=_t.length;Ut<pr;++Ut){var xr=_t[Ut],or=xr[0],Mr=xr[1];if(or<=Il||or>=Ls||Mr<=_l||Mr>=kl){_t[Ut]=tu(xr);for(var _r=Ut+1;_r<pr;++_r){var Br=_t[_r],tn=Br[0],mn=Br[1];if(tn>Il&&tn<Ls&&mn>_l&&mn<kl)break}if(_r===Ut+1)continue;if(Ut){var Dn={index:-1,polygon:nt,ring:_t.slice(0,Ut+1)};Dn.ring[Dn.ring.length-1]=Fl(Mr),gt[gt.length-1]=Dn}else gt.pop();if(_r>=pr)break;gt.push({index:-1,polygon:nt,ring:_t=_t.slice(_r-1)}),_t[0]=Fl(_t[0][1]),Ut=-1,pr=_t.length}}}}function ru(Ke){var nt,gt=Ke.length,wt={},zt={},_t,Ut,pr,xr,or;for(nt=0;nt<gt;++nt){if(_t=Ke[nt],Ut=_t.ring[0],xr=_t.ring[_t.ring.length-1],Ut[0]===xr[0]&&Ut[1]===xr[1]){_t.polygon.push(_t.ring),Ke[nt]=null;continue}_t.index=nt,wt[Ut]=zt[xr]=_t}for(nt=0;nt<gt;++nt)if(_t=Ke[nt],_t){if(Ut=_t.ring[0],xr=_t.ring[_t.ring.length-1],pr=zt[Ut],or=wt[xr],delete wt[Ut],delete zt[xr],Ut[0]===xr[0]&&Ut[1]===xr[1]){_t.polygon.push(_t.ring);continue}pr?(delete zt[Ut],delete wt[pr.ring[0]],pr.ring.pop(),Ke[pr.index]=null,_t={index:-1,polygon:pr.polygon,ring:pr.ring.concat(_t.ring)},pr===or?_t.polygon.push(_t.ring):(_t.index=gt++,Ke.push(wt[_t.ring[0]]=zt[_t.ring[_t.ring.length-1]]=_t))):or?(delete wt[xr],delete zt[or.ring[or.ring.length-1]],_t.ring.pop(),_t={index:gt++,polygon:or.polygon,ring:_t.ring.concat(or.ring)},Ke[or.index]=null,Ke.push(wt[_t.ring[0]]=zt[_t.ring[_t.ring.length-1]]=_t)):(_t.ring.push(_t.ring[0]),_t.polygon.push(_t.ring))}}function nu(Ke){var nt={type:"Feature",geometry:Ws(Ke.geometry)};return Ke.id!=null&&(nt.id=Ke.id),Ke.bbox!=null&&(nt.bbox=Ke.bbox),Ke.properties!=null&&(nt.properties=Ke.properties),nt}function Ws(Ke){if(Ke==null)return Ke;var nt,gt,wt,zt;switch(Ke.type){case"GeometryCollection":nt={type:"GeometryCollection",geometries:Ke.geometries.map(Ws)};break;case"Point":nt={type:"Point",coordinates:tu(Ke.coordinates)};break;case"MultiPoint":case"LineString":nt={type:Ke.type,coordinates:Ou(Ke.coordinates)};break;case"MultiLineString":nt={type:"MultiLineString",coordinates:Ke.coordinates.map(Ou)};break;case"Polygon":{var _t=[];ff(Ke.coordinates,_t,gt=[]),ru(gt),nt={type:"Polygon",coordinates:_t};break}case"MultiPolygon":{gt=[],wt=-1,zt=Ke.coordinates.length;for(var Ut=new Array(zt);++wt<zt;)ff(Ke.coordinates[wt],Ut[wt]=[],gt);ru(gt),nt={type:"MultiPolygon",coordinates:Ut.filter(zu)};break}default:return Ke}return Ke.bbox!=null&&(nt.bbox=Ke.bbox),nt}function au(Ke){if(Ke==null)return Ke;switch(Ke.type){case"Feature":return nu(Ke);case"FeatureCollection":{var nt={type:"FeatureCollection",features:Ke.features.map(nu)};return Ke.bbox!=null&&(nt.bbox=Ke.bbox),nt}default:return Ws(Ke)}}function Ys(Ke,nt){var gt=m(nt/2),wt=l(d*gt);return[Ke*(.74482-.34588*wt*wt),1.70711*gt]}Ys.invert=function(Ke,nt){var gt=nt/1.70711,wt=l(d*gt);return[Ke/(.74482-.34588*wt*wt),2*a(gt)]};function Wi(){return(0,g.c)(Ys).scale(146.153)}function hs(Ke,nt,gt){var wt=(0,nf.c)(nt,gt),zt=wt(.5),_t=(0,We.c)([-zt[0],-zt[1]])(nt),Ut=wt.distance/2,pr=-P(l(_t[1]*T)/l(Ut)),xr=[-zt[0],-zt[1],-(_t[0]>0?c-pr:pr)*S],or=(0,g.c)(Ke(Ut)).rotate(xr),Mr=(0,We.c)(xr),_r=or.center;return delete or.rotate,or.center=function(Br){return arguments.length?_r(Mr(Br)):Mr.invert(_r())},or.clipAngle(90)}function cf(Ke){var nt=A(Ke);function gt(wt,zt){var _t=(0,Us.Y)(wt,zt);return _t[0]*=nt,_t}return gt.invert=function(wt,zt){return Us.Y.invert(wt/nt,zt)},gt}function sl(){return Bu([-158,21.5],[-77,39]).clipAngle(60).scale(400)}function Bu(Ke,nt){return hs(cf,Ke,nt)}function iu(Ke){if(!(Ke*=2))return ie.O;var nt=-Ke/2,gt=-nt,wt=Ke*Ke,zt=m(gt),_t=.5/l(gt);function Ut(pr,xr){var or=x(A(xr)*A(pr-nt)),Mr=x(A(xr)*A(pr-gt)),_r=xr<0?-1:1;return or*=or,Mr*=Mr,[(or-Mr)/(2*Ke),_r*_(4*wt*Mr-(wt-or+Mr)*(wt-or+Mr))/(2*Ke)]}return Ut.invert=function(pr,xr){var or=xr*xr,Mr=A(_(or+(Br=pr+nt)*Br)),_r=A(_(or+(Br=pr+gt)*Br)),Br,tn;return[C(tn=Mr-_r,Br=(Mr+_r)*zt),(xr<0?-1:1)*x(_(Br*Br+tn*tn)*_t)]},Ut}function Hc(){return Wf([-158,21.5],[-77,39]).clipAngle(130).scale(122.571)}function Wf(Ke,nt){return hs(iu,Ke,nt)}function po(Ke,nt){if(L(nt)<h)return[Ke,0];var gt=L(nt/i),wt=P(gt);if(L(Ke)<h||L(L(nt)-i)<h)return[0,u(nt)*c*m(wt/2)];var zt=A(wt),_t=L(c/Ke-Ke/c)/2,Ut=_t*_t,pr=zt/(gt+zt-1),xr=pr*(2/gt-1),or=xr*xr,Mr=or+Ut,_r=pr-or,Br=Ut+pr;return[u(Ke)*c*(_t*_r+_(Ut*_r*_r-Mr*(pr*pr-or)))/Mr,u(nt)*c*(xr*Br-_t*_((Ut+1)*Mr-Br*Br))/Mr]}po.invert=function(Ke,nt){if(L(nt)<h)return[Ke,0];if(L(Ke)<h)return[0,i*l(2*a(nt/c))];var gt=(Ke/=c)*Ke,wt=(nt/=c)*nt,zt=gt+wt,_t=zt*zt,Ut=-L(nt)*(1+zt),pr=Ut-2*wt+gt,xr=-2*Ut+1+2*wt+_t,or=wt/xr+(2*pr*pr*pr/(xr*xr*xr)-9*Ut*pr/(xr*xr))/27,Mr=(Ut-pr*pr/(3*xr))/xr,_r=2*_(-Mr/3),Br=x(3*or/(Mr*_r))/3;return[c*(zt-1+_(1+2*(gt-wt)+_t))/(2*Ke),u(nt)*c*(-_r*A(Br+c/3)-pr/(3*xr))]};function ou(){return(0,g.c)(po).scale(79.4183)}function zl(Ke,nt){if(L(nt)<h)return[Ke,0];var gt=L(nt/i),wt=P(gt);if(L(Ke)<h||L(L(nt)-i)<h)return[0,u(nt)*c*m(wt/2)];var zt=A(wt),_t=L(c/Ke-Ke/c)/2,Ut=_t*_t,pr=zt*(_(1+Ut)-_t*zt)/(1+Ut*gt*gt);return[u(Ke)*c*pr,u(nt)*c*_(1-pr*(2*_t+pr))]}zl.invert=function(Ke,nt){if(!Ke)return[0,i*l(2*a(nt/c))];var gt=L(Ke/c),wt=(1-gt*gt-(nt/=c)*nt)/(2*gt),zt=wt*wt,_t=_(zt+1);return[u(Ke)*c*(_t-wt),u(nt)*i*l(2*C(_((1-2*wt*gt)*(wt+_t)-gt),_(_t+wt+gt)))]};function Yf(){return(0,g.c)(zl).scale(79.4183)}function Xs(Ke,nt){if(L(nt)<h)return[Ke,0];var gt=nt/i,wt=P(gt);if(L(Ke)<h||L(L(nt)-i)<h)return[0,c*m(wt/2)];var zt=(c/Ke-Ke/c)/2,_t=gt/(1+A(wt));return[c*(u(Ke)*_(zt*zt+1-_t*_t)-zt),c*_t]}Xs.invert=function(Ke,nt){if(!nt)return[Ke,0];var gt=nt/c,wt=(c*c*(1-gt*gt)-Ke*Ke)/(2*c*Ke);return[Ke?c*(u(Ke)*_(wt*wt+1)-wt):0,i*l(2*a(gt))]};function Gc(){return(0,g.c)(Xs).scale(79.4183)}function Ro(Ke,nt){if(!nt)return[Ke,0];var gt=L(nt);if(!Ke||gt===i)return[0,nt];var wt=gt/i,zt=wt*wt,_t=(8*wt-zt*(zt+2)-5)/(2*zt*(wt-1)),Ut=_t*_t,pr=wt*_t,xr=zt+Ut+2*pr,or=wt+3*_t,Mr=Ke/i,_r=Mr+1/Mr,Br=u(L(Ke)-i)*_(_r*_r-4),tn=Br*Br,mn=xr*(zt+Ut*tn-1)+(1-zt)*(zt*(or*or+4*Ut)+12*pr*Ut+4*Ut*Ut),Dn=(Br*(xr+Ut-1)+2*_(mn))/(4*xr+tn);return[u(Ke)*i*Dn,u(nt)*i*_(1+Br*L(Dn)-Dn*Dn)]}Ro.invert=function(Ke,nt){var gt;if(!Ke||!nt)return[Ke,nt];nt/=c;var wt=u(Ke)*Ke/i,zt=(wt*wt-1+4*nt*nt)/L(wt),_t=zt*zt,Ut=2*nt,pr=50;do{var xr=Ut*Ut,or=(8*Ut-xr*(xr+2)-5)/(2*xr*(Ut-1)),Mr=(3*Ut-xr*Ut-10)/(2*xr*Ut),_r=or*or,Br=Ut*or,tn=Ut+or,mn=tn*tn,Dn=Ut+3*or,In=mn*(xr+_r*_t-1)+(1-xr)*(xr*(Dn*Dn+4*_r)+_r*(12*Br+4*_r)),Zn=-2*tn*(4*Br*_r+(1-4*xr+3*xr*xr)*(1+Mr)+_r*(-6+14*xr-_t+(-8+8*xr-2*_t)*Mr)+Br*(-8+12*xr+(-10+10*xr-_t)*Mr)),Pa=_(In),Ra=zt*(mn+_r-1)+2*Pa-wt*(4*mn+_t),Da=zt*(2*or*Mr+2*tn*(1+Mr))+Zn/Pa-8*tn*(zt*(-1+_r+mn)+2*Pa)*(1+Mr)/(_t+4*mn);Ut-=gt=Ra/Da}while(gt>h&&--pr>0);return[u(Ke)*(_(zt*zt+4)+zt)*c/4,i*Ut]};function su(){return(0,g.c)(Ro).scale(127.16)}function Nu(Ke,nt,gt,wt,zt){function _t(Ut,pr){var xr=gt*l(wt*pr),or=_(1-xr*xr),Mr=_(2/(1+or*A(Ut*=zt)));return[Ke*or*Mr*l(Ut),nt*xr*Mr]}return _t.invert=function(Ut,pr){var xr=Ut/Ke,or=pr/nt,Mr=_(xr*xr+or*or),_r=2*P(Mr/2);return[C(Ut*m(_r),Ke*Mr)/zt,Mr&&P(pr*l(_r)/(nt*gt*Mr))/wt]},_t}function Ps(Ke,nt,gt,wt){var zt=c/3;Ke=t(Ke,h),nt=t(nt,h),Ke=s(Ke,i),nt=s(nt,c-h),gt=t(gt,0),gt=s(gt,100-h),wt=t(wt,h);var _t=gt/100+1,Ut=wt/100,pr=x(_t*A(zt))/zt,xr=l(Ke)/l(pr*i),or=nt/c,Mr=_(Ut*l(Ke/2)/l(nt/2)),_r=Mr/_(or*xr*pr),Br=1/(Mr*_(or*xr*pr));return Nu(_r,Br,xr,pr,or)}function Zs(){var Ke=65*T,nt=60*T,gt=20,wt=200,zt=(0,g.U)(Ps),_t=zt(Ke,nt,gt,wt);return _t.poleline=function(Ut){return arguments.length?zt(Ke=+Ut*T,nt,gt,wt):Ke*S},_t.parallels=function(Ut){return arguments.length?zt(Ke,nt=+Ut*T,gt,wt):nt*S},_t.inflation=function(Ut){return arguments.length?zt(Ke,nt,gt=+Ut,wt):gt},_t.ratio=function(Ut){return arguments.length?zt(Ke,nt,gt,wt=+Ut):wt},_t.scale(163.775)}function hf(){return Zs().poleline(65).parallels(60).inflation(0).ratio(200).scale(172.633)}var lu=4*c+3*_(3),uu=2*_(2*c*_(3)/lu),Uu=ye(uu*_(3)/c,uu,lu/6);function Xf(){return(0,g.c)(Uu).scale(176.84)}function fu(Ke,nt){return[Ke*_(1-3*nt*nt/(c*c)),nt]}fu.invert=function(Ke,nt){return[Ke/_(1-3*nt*nt/(c*c)),nt]};function vf(){return(0,g.c)(fu).scale(152.63)}function ll(Ke,nt){var gt=A(nt),wt=A(Ke)*gt,zt=1-wt,_t=A(Ke=C(l(Ke)*gt,-l(nt))),Ut=l(Ke);return gt=_(1-wt*wt),[Ut*gt-_t*zt,-_t*gt-Ut*zt]}ll.invert=function(Ke,nt){var gt=(Ke*Ke+nt*nt)/-2,wt=_(-gt*(2+gt)),zt=nt*gt+Ke*wt,_t=Ke*gt-nt*wt,Ut=_(_t*_t+zt*zt);return[C(wt*zt,Ut*(1+gt)),Ut?-P(wt*_t/Ut):0]};function df(){return(0,g.c)(ll).rotate([0,-90,45]).scale(124.75).clipAngle(179.999)}function cu(Ke,nt){var gt=W(Ke,nt);return[(gt[0]+Ke/i)/2,(gt[1]+nt)/2]}cu.invert=function(Ke,nt){var gt=Ke,wt=nt,zt=25;do{var _t=A(wt),Ut=l(wt),pr=l(2*wt),xr=Ut*Ut,or=_t*_t,Mr=l(gt),_r=A(gt/2),Br=l(gt/2),tn=Br*Br,mn=1-or*_r*_r,Dn=mn?x(_t*_r)*_(In=1/mn):In=0,In,Zn=.5*(2*Dn*_t*Br+gt/i)-Ke,Pa=.5*(Dn*Ut+wt)-nt,Ra=.5*In*(or*tn+Dn*_t*_r*xr)+.5/i,Da=In*(Mr*pr/4-Dn*Ut*Br),Fa=.125*In*(pr*Br-Dn*Ut*or*Mr),Za=.5*In*(xr*_r+Dn*tn*_t)+.5,vi=Da*Fa-Za*Ra,Fi=(Pa*Da-Zn*Za)/vi,ue=(Zn*Fa-Pa*Ra)/vi;gt-=Fi,wt-=ue}while((L(Fi)>h||L(ue)>h)&&--zt>0);return[gt,wt]};function Zf(){return(0,g.c)(cu).scale(158.837)}},88728:function(G,U,e){e.d(U,{c:function(){return g}});function g(){return new L}function L(){this.reset()}L.prototype={constructor:L,reset:function(){this.s=this.t=0},add:function(A){C(a,A,this.t),C(this,a.s,this.s),this.s?this.t+=a.t:this.s=a.t},valueOf:function(){return this.s}};var a=new L;function C(A,v,p){var r=A.s=v+p,t=r-v,s=r-t;A.t=v-s+(p-t)}},95384:function(G,U,e){e.d(U,{cp:function(){return M},mQ:function(){return A},oB:function(){return f}});var g=e(88728),L=e(64528),a=e(70932),C=e(16016),A=(0,g.c)(),v=(0,g.c)(),p,r,t,s,n,f={point:a.c,lineStart:a.c,lineEnd:a.c,polygonStart:function(){A.reset(),f.lineStart=u,f.lineEnd=l},polygonEnd:function(){var c=+A;v.add(c<0?L.kD+c:c),this.lineStart=this.lineEnd=this.point=a.c},sphere:function(){v.add(L.kD)}};function u(){f.point=m}function l(){h(p,r)}function m(c,i){f.point=h,p=c,r=i,c*=L.qw,i*=L.qw,t=c,s=(0,L.W8)(i=i/2+L.wL),n=(0,L.g$)(i)}function h(c,i){c*=L.qw,i*=L.qw,i=i/2+L.wL;var d=c-t,b=d>=0?1:-1,w=b*d,E=(0,L.W8)(i),y=(0,L.g$)(i),S=n*y,T=s*E+S*(0,L.W8)(w),o=S*b*(0,L.g$)(w);A.add((0,L.WE)(o,T)),t=c,s=E,n=y}function M(c){return v.reset(),(0,C.c)(c,f),v*2}},13696:function(G,U,e){e.d(U,{c:function(){return P}});var g=e(88728),L=e(95384),a=e(84220),C=e(64528),A=e(16016),v,p,r,t,s,n,f,u,l=(0,g.c)(),m,h,M={point:c,lineStart:d,lineEnd:b,polygonStart:function(){M.point=w,M.lineStart=E,M.lineEnd=y,l.reset(),L.oB.polygonStart()},polygonEnd:function(){L.oB.polygonEnd(),M.point=c,M.lineStart=d,M.lineEnd=b,L.mQ<0?(v=-(r=180),p=-(t=90)):l>C.Gg?t=90:l<-C.Gg&&(p=-90),h[0]=v,h[1]=r},sphere:function(){v=-(r=180),p=-(t=90)}};function c(x,_){m.push(h=[v=x,r=x]),_<p&&(p=_),_>t&&(t=_)}function i(x,_){var I=(0,a.ux)([x*C.qw,_*C.qw]);if(u){var N=(0,a.CW)(u,I),k=[N[1],-N[0],0],F=(0,a.CW)(k,N);(0,a.cJ)(F),F=(0,a.G)(F);var O=x-s,z=O>0?1:-1,B=F[0]*C.oh*z,W,q=(0,C.a2)(O)>180;q^(z*s<B&&B<z*x)?(W=F[1]*C.oh,W>t&&(t=W)):(B=(B+360)%360-180,q^(z*s<B&&B<z*x)?(W=-F[1]*C.oh,W<p&&(p=W)):(_<p&&(p=_),_>t&&(t=_))),q?x<s?S(v,x)>S(v,r)&&(r=x):S(x,r)>S(v,r)&&(v=x):r>=v?(x<v&&(v=x),x>r&&(r=x)):x>s?S(v,x)>S(v,r)&&(r=x):S(x,r)>S(v,r)&&(v=x)}else m.push(h=[v=x,r=x]);_<p&&(p=_),_>t&&(t=_),u=I,s=x}function d(){M.point=i}function b(){h[0]=v,h[1]=r,M.point=c,u=null}function w(x,_){if(u){var I=x-s;l.add((0,C.a2)(I)>180?I+(I>0?360:-360):I)}else n=x,f=_;L.oB.point(x,_),i(x,_)}function E(){L.oB.lineStart()}function y(){w(n,f),L.oB.lineEnd(),(0,C.a2)(l)>C.Gg&&(v=-(r=180)),h[0]=v,h[1]=r,u=null}function S(x,_){return(_-=x)<0?_+360:_}function T(x,_){return x[0]-_[0]}function o(x,_){return x[0]<=x[1]?x[0]<=_&&_<=x[1]:_<x[0]||x[1]<_}function P(x){var _,I,N,k,F,O,z;if(t=r=-(v=p=1/0),m=[],(0,A.c)(x,M),I=m.length){for(m.sort(T),_=1,N=m[0],F=[N];_<I;++_)k=m[_],o(N,k[0])||o(N,k[1])?(S(N[0],k[1])>S(N[0],N[1])&&(N[1]=k[1]),S(k[0],N[1])>S(N[0],N[1])&&(N[0]=k[0])):F.push(N=k);for(O=-1/0,I=F.length-1,_=0,N=F[I];_<=I;N=k,++_)k=F[_],(z=S(N[1],k[0]))>O&&(O=z,v=k[0],r=N[1])}return m=h=null,v===1/0||p===1/0?[[NaN,NaN],[NaN,NaN]]:[[v,p],[r,t]]}},84220:function(G,U,e){e.d(U,{CW:function(){return A},Ez:function(){return C},G:function(){return L},cJ:function(){return r},mg:function(){return v},ux:function(){return a},wx:function(){return p}});var g=e(64528);function L(t){return[(0,g.WE)(t[1],t[0]),(0,g.qR)(t[2])]}function a(t){var s=t[0],n=t[1],f=(0,g.W8)(n);return[f*(0,g.W8)(s),f*(0,g.g$)(s),(0,g.g$)(n)]}function C(t,s){return t[0]*s[0]+t[1]*s[1]+t[2]*s[2]}function A(t,s){return[t[1]*s[2]-t[2]*s[1],t[2]*s[0]-t[0]*s[2],t[0]*s[1]-t[1]*s[0]]}function v(t,s){t[0]+=s[0],t[1]+=s[1],t[2]+=s[2]}function p(t,s){return[t[0]*s,t[1]*s,t[2]*s]}function r(t){var s=(0,g._I)(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=s,t[1]/=s,t[2]/=s}},24052:function(G,U,e){e.d(U,{c:function(){return I}});var g=e(64528),L=e(70932),a=e(16016),C,A,v,p,r,t,s,n,f,u,l,m,h,M,c,i,d={sphere:L.c,point:b,lineStart:E,lineEnd:T,polygonStart:function(){d.lineStart=o,d.lineEnd=P},polygonEnd:function(){d.lineStart=E,d.lineEnd=T}};function b(N,k){N*=g.qw,k*=g.qw;var F=(0,g.W8)(k);w(F*(0,g.W8)(N),F*(0,g.g$)(N),(0,g.g$)(k))}function w(N,k,F){++C,v+=(N-v)/C,p+=(k-p)/C,r+=(F-r)/C}function E(){d.point=y}function y(N,k){N*=g.qw,k*=g.qw;var F=(0,g.W8)(k);M=F*(0,g.W8)(N),c=F*(0,g.g$)(N),i=(0,g.g$)(k),d.point=S,w(M,c,i)}function S(N,k){N*=g.qw,k*=g.qw;var F=(0,g.W8)(k),O=F*(0,g.W8)(N),z=F*(0,g.g$)(N),B=(0,g.g$)(k),W=(0,g.WE)((0,g._I)((W=c*B-i*z)*W+(W=i*O-M*B)*W+(W=M*z-c*O)*W),M*O+c*z+i*B);A+=W,t+=W*(M+(M=O)),s+=W*(c+(c=z)),n+=W*(i+(i=B)),w(M,c,i)}function T(){d.point=b}function o(){d.point=x}function P(){_(m,h),d.point=b}function x(N,k){m=N,h=k,N*=g.qw,k*=g.qw,d.point=_;var F=(0,g.W8)(k);M=F*(0,g.W8)(N),c=F*(0,g.g$)(N),i=(0,g.g$)(k),w(M,c,i)}function _(N,k){N*=g.qw,k*=g.qw;var F=(0,g.W8)(k),O=F*(0,g.W8)(N),z=F*(0,g.g$)(N),B=(0,g.g$)(k),W=c*B-i*z,q=i*O-M*B,ee=M*z-c*O,Q=(0,g._I)(W*W+q*q+ee*ee),oe=(0,g.qR)(Q),Z=Q&&-oe/Q;f+=Z*W,u+=Z*q,l+=Z*ee,A+=oe,t+=oe*(M+(M=O)),s+=oe*(c+(c=z)),n+=oe*(i+(i=B)),w(M,c,i)}function I(N){C=A=v=p=r=t=s=n=f=u=l=0,(0,a.c)(N,d);var k=f,F=u,O=l,z=k*k+F*F+O*O;return z<g.a8&&(k=t,F=s,O=n,A<g.Gg&&(k=v,F=p,O=r),z=k*k+F*F+O*O,z<g.a8)?[NaN,NaN]:[(0,g.WE)(F,k)*g.oh,(0,g.qR)(O/(0,g._I)(z))*g.oh]}},61780:function(G,U,e){e.d(U,{Q:function(){return A},c:function(){return p}});var g=e(84220);function L(r){return function(){return r}}var a=e(64528),C=e(92992);function A(r,t,s,n,f,u){if(!!s){var l=(0,a.W8)(t),m=(0,a.g$)(t),h=n*s;f==null?(f=t+n*a.kD,u=t-h/2):(f=v(l,f),u=v(l,u),(n>0?f<u:f>u)&&(f+=n*a.kD));for(var M,c=f;n>0?c>u:c<u;c-=h)M=(0,g.G)([l,-m*(0,a.W8)(c),-m*(0,a.g$)(c)]),r.point(M[0],M[1])}}function v(r,t){t=(0,g.ux)(t),t[0]-=r,(0,g.cJ)(t);var s=(0,a.mE)(-t[1]);return((-t[2]<0?-s:s)+a.kD-a.Gg)%a.kD}function p(){var r=L([0,0]),t=L(90),s=L(6),n,f,u={point:l};function l(h,M){n.push(h=f(h,M)),h[0]*=a.oh,h[1]*=a.oh}function m(){var h=r.apply(this,arguments),M=t.apply(this,arguments)*a.qw,c=s.apply(this,arguments)*a.qw;return n=[],f=(0,C.O)(-h[0]*a.qw,-h[1]*a.qw,0).invert,A(u,M,c,1),h={type:"Polygon",coordinates:[n]},n=f=null,h}return m.center=function(h){return arguments.length?(r=typeof h=="function"?h:L([+h[0],+h[1]]),m):r},m.radius=function(h){return arguments.length?(t=typeof h=="function"?h:L(+h),m):t},m.precision=function(h){return arguments.length?(s=typeof h=="function"?h:L(+h),m):s},m}},78284:function(G,U,e){var g=e(14229),L=e(64528);U.c=(0,g.c)(function(){return!0},a,A,[-L.pi,-L.or]);function a(v){var p=NaN,r=NaN,t=NaN,s;return{lineStart:function(){v.lineStart(),s=1},point:function(n,f){var u=n>0?L.pi:-L.pi,l=(0,L.a2)(n-p);(0,L.a2)(l-L.pi)<L.Gg?(v.point(p,r=(r+f)/2>0?L.or:-L.or),v.point(t,r),v.lineEnd(),v.lineStart(),v.point(u,r),v.point(n,r),s=0):t!==u&&l>=L.pi&&((0,L.a2)(p-t)<L.Gg&&(p-=t*L.Gg),(0,L.a2)(n-u)<L.Gg&&(n-=u*L.Gg),r=C(p,r,n,f),v.point(t,r),v.lineEnd(),v.lineStart(),v.point(u,r),s=0),v.point(p=n,r=f),t=u},lineEnd:function(){v.lineEnd(),p=r=NaN},clean:function(){return 2-s}}}function C(v,p,r,t){var s,n,f=(0,L.g$)(v-r);return(0,L.a2)(f)>L.Gg?(0,L.MQ)(((0,L.g$)(p)*(n=(0,L.W8)(t))*(0,L.g$)(r)-(0,L.g$)(t)*(s=(0,L.W8)(p))*(0,L.g$)(v))/(s*n*f)):(p+t)/2}function A(v,p,r,t){var s;if(v==null)s=r*L.or,t.point(-L.pi,s),t.point(0,s),t.point(L.pi,s),t.point(L.pi,0),t.point(L.pi,-s),t.point(0,-s),t.point(-L.pi,-s),t.point(-L.pi,0),t.point(-L.pi,s);else if((0,L.a2)(v[0]-p[0])>L.Gg){var n=v[0]<p[0]?L.pi:-L.pi;s=r*n/2,t.point(-n,s),t.point(0,s),t.point(n,s)}else t.point(p[0],p[1])}},97208:function(G,U,e){e.d(U,{c:function(){return L}});var g=e(70932);function L(){var a=[],C;return{point:function(A,v,p){C.push([A,v,p])},lineStart:function(){a.push(C=[])},lineEnd:g.c,rejoin:function(){a.length>1&&a.push(a.pop().concat(a.shift()))},result:function(){var A=a;return a=[],C=null,A}}}},2728:function(G,U,e){e.d(U,{c:function(){return v}});var g=e(84220),L=e(61780),a=e(64528),C=e(41860),A=e(14229);function v(p){var r=(0,a.W8)(p),t=6*a.qw,s=r>0,n=(0,a.a2)(r)>a.Gg;function f(M,c,i,d){(0,L.Q)(d,p,t,i,M,c)}function u(M,c){return(0,a.W8)(M)*(0,a.W8)(c)>r}function l(M){var c,i,d,b,w;return{lineStart:function(){b=d=!1,w=1},point:function(E,y){var S=[E,y],T,o=u(E,y),P=s?o?0:h(E,y):o?h(E+(E<0?a.pi:-a.pi),y):0;if(!c&&(b=d=o)&&M.lineStart(),o!==d&&(T=m(c,S),(!T||(0,C.c)(c,T)||(0,C.c)(S,T))&&(S[2]=1)),o!==d)w=0,o?(M.lineStart(),T=m(S,c),M.point(T[0],T[1])):(T=m(c,S),M.point(T[0],T[1],2),M.lineEnd()),c=T;else if(n&&c&&s^o){var x;!(P&i)&&(x=m(S,c,!0))&&(w=0,s?(M.lineStart(),M.point(x[0][0],x[0][1]),M.point(x[1][0],x[1][1]),M.lineEnd()):(M.point(x[1][0],x[1][1]),M.lineEnd(),M.lineStart(),M.point(x[0][0],x[0][1],3)))}o&&(!c||!(0,C.c)(c,S))&&M.point(S[0],S[1]),c=S,d=o,i=P},lineEnd:function(){d&&M.lineEnd(),c=null},clean:function(){return w|(b&&d)<<1}}}function m(M,c,i){var d=(0,g.ux)(M),b=(0,g.ux)(c),w=[1,0,0],E=(0,g.CW)(d,b),y=(0,g.Ez)(E,E),S=E[0],T=y-S*S;if(!T)return!i&&M;var o=r*y/T,P=-r*S/T,x=(0,g.CW)(w,E),_=(0,g.wx)(w,o),I=(0,g.wx)(E,P);(0,g.mg)(_,I);var N=x,k=(0,g.Ez)(_,N),F=(0,g.Ez)(N,N),O=k*k-F*((0,g.Ez)(_,_)-1);if(!(O<0)){var z=(0,a._I)(O),B=(0,g.wx)(N,(-k-z)/F);if((0,g.mg)(B,_),B=(0,g.G)(B),!i)return B;var W=M[0],q=c[0],ee=M[1],Q=c[1],oe;q<W&&(oe=W,W=q,q=oe);var Z=q-W,Y=(0,a.a2)(Z-a.pi)<a.Gg,te=Y||Z<a.Gg;if(!Y&&Q<ee&&(oe=ee,ee=Q,Q=oe),te?Y?ee+Q>0^B[1]<((0,a.a2)(B[0]-W)<a.Gg?ee:Q):ee<=B[1]&&B[1]<=Q:Z>a.pi^(W<=B[0]&&B[0]<=q)){var X=(0,g.wx)(N,(-k+z)/F);return(0,g.mg)(X,_),[B,(0,g.G)(X)]}}}function h(M,c){var i=s?p:a.pi-p,d=0;return M<-i?d|=1:M>i&&(d|=2),c<-i?d|=4:c>i&&(d|=8),d}return(0,A.c)(u,l,f,s?[0,-p]:[-a.pi,p-a.pi])}},14229:function(G,U,e){e.d(U,{c:function(){return v}});var g=e(97208),L=e(32232),a=e(64528),C=e(58196),A=e(84706);function v(t,s,n,f){return function(u){var l=s(u),m=(0,g.c)(),h=s(m),M=!1,c,i,d,b={point:w,lineStart:y,lineEnd:S,polygonStart:function(){b.point=T,b.lineStart=o,b.lineEnd=P,i=[],c=[]},polygonEnd:function(){b.point=w,b.lineStart=y,b.lineEnd=S,i=(0,A.Uf)(i);var x=(0,C.c)(c,f);i.length?(M||(u.polygonStart(),M=!0),(0,L.c)(i,r,x,n,u)):x&&(M||(u.polygonStart(),M=!0),u.lineStart(),n(null,null,1,u),u.lineEnd()),M&&(u.polygonEnd(),M=!1),i=c=null},sphere:function(){u.polygonStart(),u.lineStart(),n(null,null,1,u),u.lineEnd(),u.polygonEnd()}};function w(x,_){t(x,_)&&u.point(x,_)}function E(x,_){l.point(x,_)}function y(){b.point=E,l.lineStart()}function S(){b.point=w,l.lineEnd()}function T(x,_){d.push([x,_]),h.point(x,_)}function o(){h.lineStart(),d=[]}function P(){T(d[0][0],d[0][1]),h.lineEnd();var x=h.clean(),_=m.result(),I,N=_.length,k,F,O;if(d.pop(),c.push(d),d=null,!!N){if(x&1){if(F=_[0],(k=F.length-1)>0){for(M||(u.polygonStart(),M=!0),u.lineStart(),I=0;I<k;++I)u.point((O=F[I])[0],O[1]);u.lineEnd()}return}N>1&&x&2&&_.push(_.pop().concat(_.shift())),i.push(_.filter(p))}}return b}}function p(t){return t.length>1}function r(t,s){return((t=t.x)[0]<0?t[1]-a.or-a.Gg:a.or-t[1])-((s=s.x)[0]<0?s[1]-a.or-a.Gg:a.or-s[1])}},21676:function(G,U,e){e.d(U,{c:function(){return r}});var g=e(64528),L=e(97208);function a(t,s,n,f,u,l){var m=t[0],h=t[1],M=s[0],c=s[1],i=0,d=1,b=M-m,w=c-h,E;if(E=n-m,!(!b&&E>0)){if(E/=b,b<0){if(E<i)return;E<d&&(d=E)}else if(b>0){if(E>d)return;E>i&&(i=E)}if(E=u-m,!(!b&&E<0)){if(E/=b,b<0){if(E>d)return;E>i&&(i=E)}else if(b>0){if(E<i)return;E<d&&(d=E)}if(E=f-h,!(!w&&E>0)){if(E/=w,w<0){if(E<i)return;E<d&&(d=E)}else if(w>0){if(E>d)return;E>i&&(i=E)}if(E=l-h,!(!w&&E<0)){if(E/=w,w<0){if(E>d)return;E>i&&(i=E)}else if(w>0){if(E<i)return;E<d&&(d=E)}return i>0&&(t[0]=m+i*b,t[1]=h+i*w),d<1&&(s[0]=m+d*b,s[1]=h+d*w),!0}}}}}var C=e(32232),A=e(84706),v=1e9,p=-v;function r(t,s,n,f){function u(c,i){return t<=c&&c<=n&&s<=i&&i<=f}function l(c,i,d,b){var w=0,E=0;if(c==null||(w=m(c,d))!==(E=m(i,d))||M(c,i)<0^d>0)do b.point(w===0||w===3?t:n,w>1?f:s);while((w=(w+d+4)%4)!==E);else b.point(i[0],i[1])}function m(c,i){return(0,g.a2)(c[0]-t)<g.Gg?i>0?0:3:(0,g.a2)(c[0]-n)<g.Gg?i>0?2:1:(0,g.a2)(c[1]-s)<g.Gg?i>0?1:0:i>0?3:2}function h(c,i){return M(c.x,i.x)}function M(c,i){var d=m(c,1),b=m(i,1);return d!==b?d-b:d===0?i[1]-c[1]:d===1?c[0]-i[0]:d===2?c[1]-i[1]:i[0]-c[0]}return function(c){var i=c,d=(0,L.c)(),b,w,E,y,S,T,o,P,x,_,I,N={point:k,lineStart:B,lineEnd:W,polygonStart:O,polygonEnd:z};function k(ee,Q){u(ee,Q)&&i.point(ee,Q)}function F(){for(var ee=0,Q=0,oe=w.length;Q<oe;++Q)for(var Z=w[Q],Y=1,te=Z.length,X=Z[0],$,ie,J=X[0],j=X[1];Y<te;++Y)$=J,ie=j,X=Z[Y],J=X[0],j=X[1],ie<=f?j>f&&(J-$)*(f-ie)>(j-ie)*(t-$)&&++ee:j<=f&&(J-$)*(f-ie)<(j-ie)*(t-$)&&--ee;return ee}function O(){i=d,b=[],w=[],I=!0}function z(){var ee=F(),Q=I&&ee,oe=(b=(0,A.Uf)(b)).length;(Q||oe)&&(c.polygonStart(),Q&&(c.lineStart(),l(null,null,1,c),c.lineEnd()),oe&&(0,C.c)(b,h,ee,l,c),c.polygonEnd()),i=c,b=w=E=null}function B(){N.point=q,w&&w.push(E=[]),_=!0,x=!1,o=P=NaN}function W(){b&&(q(y,S),T&&x&&d.rejoin(),b.push(d.result())),N.point=k,x&&i.lineEnd()}function q(ee,Q){var oe=u(ee,Q);if(w&&E.push([ee,Q]),_)y=ee,S=Q,T=oe,_=!1,oe&&(i.lineStart(),i.point(ee,Q));else if(oe&&x)i.point(ee,Q);else{var Z=[o=Math.max(p,Math.min(v,o)),P=Math.max(p,Math.min(v,P))],Y=[ee=Math.max(p,Math.min(v,ee)),Q=Math.max(p,Math.min(v,Q))];a(Z,Y,t,s,n,f)?(x||(i.lineStart(),i.point(Z[0],Z[1])),i.point(Y[0],Y[1]),oe||i.lineEnd(),I=!1):oe&&(i.lineStart(),i.point(ee,Q),I=!1)}o=ee,P=Q,x=oe}return N}}},32232:function(G,U,e){e.d(U,{c:function(){return C}});var g=e(41860),L=e(64528);function a(v,p,r,t){this.x=v,this.z=p,this.o=r,this.e=t,this.v=!1,this.n=this.p=null}function C(v,p,r,t,s){var n=[],f=[],u,l;if(v.forEach(function(d){if(!((b=d.length-1)<=0)){var b,w=d[0],E=d[b],y;if((0,g.c)(w,E)){if(!w[2]&&!E[2]){for(s.lineStart(),u=0;u<b;++u)s.point((w=d[u])[0],w[1]);s.lineEnd();return}E[0]+=2*L.Gg}n.push(y=new a(w,d,null,!0)),f.push(y.o=new a(w,null,y,!1)),n.push(y=new a(E,d,null,!1)),f.push(y.o=new a(E,null,y,!0))}}),!!n.length){for(f.sort(p),A(n),A(f),u=0,l=f.length;u<l;++u)f[u].e=r=!r;for(var m=n[0],h,M;;){for(var c=m,i=!0;c.v;)if((c=c.n)===m)return;h=c.z,s.lineStart();do{if(c.v=c.o.v=!0,c.e){if(i)for(u=0,l=h.length;u<l;++u)s.point((M=h[u])[0],M[1]);else t(c.x,c.n.x,1,s);c=c.n}else{if(i)for(h=c.p.z,u=h.length-1;u>=0;--u)s.point((M=h[u])[0],M[1]);else t(c.x,c.p.x,-1,s);c=c.p}c=c.o,h=c.z,i=!i}while(!c.v);s.lineEnd()}}}function A(v){if(!!(p=v.length)){for(var p,r=0,t=v[0],s;++r<p;)t.n=s=v[r],s.p=t,t=s;t.n=s=v[0],s.p=t}}},68120:function(G,U,e){e.d(U,{c:function(){return g}});function g(L,a){function C(A,v){return A=L(A,v),a(A[0],A[1])}return L.invert&&a.invert&&(C.invert=function(A,v){return A=a.invert(A,v),A&&L.invert(A[0],A[1])}),C}},7376:function(G,U,e){e.d(U,{c:function(){return g}});function g(L){return L}},83356:function(G,U,e){e.r(U),e.d(U,{geoAlbers:function(){return er},geoAlbersUsa:function(){return at},geoArea:function(){return g.cp},geoAzimuthalEqualArea:function(){return bt.c},geoAzimuthalEqualAreaRaw:function(){return bt.y},geoAzimuthalEquidistant:function(){return Ct.c},geoAzimuthalEquidistantRaw:function(){return Ct.O},geoBounds:function(){return L.c},geoCentroid:function(){return a.c},geoCircle:function(){return C.c},geoClipAntimeridian:function(){return A.c},geoClipCircle:function(){return v.c},geoClipExtent:function(){return r},geoClipRectangle:function(){return p.c},geoConicConformal:function(){return cr},geoConicConformalRaw:function(){return fr},geoConicEqualArea:function(){return Wt},geoConicEqualAreaRaw:function(){return At},geoConicEquidistant:function(){return Ve},geoConicEquidistantRaw:function(){return Ge},geoContains:function(){return O},geoDistance:function(){return T},geoEqualEarth:function(){return hr},geoEqualEarthRaw:function(){return Bt},geoEquirectangular:function(){return dr.c},geoEquirectangularRaw:function(){return dr.u},geoGnomonic:function(){return gr.c},geoGnomonicRaw:function(){return gr.Y},geoGraticule:function(){return q},geoGraticule10:function(){return ee},geoIdentity:function(){return vr},geoInterpolate:function(){return Q.c},geoLength:function(){return E},geoMercator:function(){return Vt},geoMercatorRaw:function(){return It},geoNaturalEarth1:function(){return Gr.c},geoNaturalEarth1Raw:function(){return Gr.g},geoOrthographic:function(){return Rr.c},geoOrthographicRaw:function(){return Rr.t},geoPath:function(){return kt},geoProjection:function(){return Qt.c},geoProjectionMutator:function(){return Qt.U},geoRotation:function(){return Dt.c},geoStereographic:function(){return rn},geoStereographicRaw:function(){return cn},geoStream:function(){return u.c},geoTransform:function(){return mr.c},geoTransverseMercator:function(){return En},geoTransverseMercatorRaw:function(){return Ln}});var g=e(95384),L=e(13696),a=e(24052),C=e(61780),A=e(78284),v=e(2728),p=e(21676);function r(){var Tr=0,Lr=0,Wr=960,Ur=500,an,pn,gn;return gn={stream:function(Cn){return an&&pn===Cn?an:an=(0,p.c)(Tr,Lr,Wr,Ur)(pn=Cn)},extent:function(Cn){return arguments.length?(Tr=+Cn[0][0],Lr=+Cn[0][1],Wr=+Cn[1][0],Ur=+Cn[1][1],an=pn=null,gn):[[Tr,Lr],[Wr,Ur]]}}}var t=e(58196),s=e(88728),n=e(64528),f=e(70932),u=e(16016),l=(0,s.c)(),m,h,M,c={sphere:f.c,point:f.c,lineStart:i,lineEnd:f.c,polygonStart:f.c,polygonEnd:f.c};function i(){c.point=b,c.lineEnd=d}function d(){c.point=c.lineEnd=f.c}function b(Tr,Lr){Tr*=n.qw,Lr*=n.qw,m=Tr,h=(0,n.g$)(Lr),M=(0,n.W8)(Lr),c.point=w}function w(Tr,Lr){Tr*=n.qw,Lr*=n.qw;var Wr=(0,n.g$)(Lr),Ur=(0,n.W8)(Lr),an=(0,n.a2)(Tr-m),pn=(0,n.W8)(an),gn=(0,n.g$)(an),Cn=Ur*gn,zn=M*Wr-h*Ur*pn,aa=h*Wr+M*Ur*pn;l.add((0,n.WE)((0,n._I)(Cn*Cn+zn*zn),aa)),m=Tr,h=Wr,M=Ur}function E(Tr){return l.reset(),(0,u.c)(Tr,c),+l}var y=[null,null],S={type:"LineString",coordinates:y};function T(Tr,Lr){return y[0]=Tr,y[1]=Lr,E(S)}var o={Feature:function(Tr,Lr){return x(Tr.geometry,Lr)},FeatureCollection:function(Tr,Lr){for(var Wr=Tr.features,Ur=-1,an=Wr.length;++Ur<an;)if(x(Wr[Ur].geometry,Lr))return!0;return!1}},P={Sphere:function(){return!0},Point:function(Tr,Lr){return _(Tr.coordinates,Lr)},MultiPoint:function(Tr,Lr){for(var Wr=Tr.coordinates,Ur=-1,an=Wr.length;++Ur<an;)if(_(Wr[Ur],Lr))return!0;return!1},LineString:function(Tr,Lr){return I(Tr.coordinates,Lr)},MultiLineString:function(Tr,Lr){for(var Wr=Tr.coordinates,Ur=-1,an=Wr.length;++Ur<an;)if(I(Wr[Ur],Lr))return!0;return!1},Polygon:function(Tr,Lr){return N(Tr.coordinates,Lr)},MultiPolygon:function(Tr,Lr){for(var Wr=Tr.coordinates,Ur=-1,an=Wr.length;++Ur<an;)if(N(Wr[Ur],Lr))return!0;return!1},GeometryCollection:function(Tr,Lr){for(var Wr=Tr.geometries,Ur=-1,an=Wr.length;++Ur<an;)if(x(Wr[Ur],Lr))return!0;return!1}};function x(Tr,Lr){return Tr&&P.hasOwnProperty(Tr.type)?P[Tr.type](Tr,Lr):!1}function _(Tr,Lr){return T(Tr,Lr)===0}function I(Tr,Lr){for(var Wr,Ur,an,pn=0,gn=Tr.length;pn<gn;pn++){if(Ur=T(Tr[pn],Lr),Ur===0||pn>0&&(an=T(Tr[pn],Tr[pn-1]),an>0&&Wr<=an&&Ur<=an&&(Wr+Ur-an)*(1-Math.pow((Wr-Ur)/an,2))<n.a8*an))return!0;Wr=Ur}return!1}function N(Tr,Lr){return!!(0,t.c)(Tr.map(k),F(Lr))}function k(Tr){return Tr=Tr.map(F),Tr.pop(),Tr}function F(Tr){return[Tr[0]*n.qw,Tr[1]*n.qw]}function O(Tr,Lr){return(Tr&&o.hasOwnProperty(Tr.type)?o[Tr.type]:x)(Tr,Lr)}var z=e(84706);function B(Tr,Lr,Wr){var Ur=(0,z.ik)(Tr,Lr-n.Gg,Wr).concat(Lr);return function(an){return Ur.map(function(pn){return[an,pn]})}}function W(Tr,Lr,Wr){var Ur=(0,z.ik)(Tr,Lr-n.Gg,Wr).concat(Lr);return function(an){return Ur.map(function(pn){return[pn,an]})}}function q(){var Tr,Lr,Wr,Ur,an,pn,gn,Cn,zn=10,aa=zn,ha=90,pa=360,ua,na,br,nn,$r=2.5;function dn(){return{type:"MultiLineString",coordinates:Hn()}}function Hn(){return(0,z.ik)((0,n.Km)(Ur/ha)*ha,Wr,ha).map(br).concat((0,z.ik)((0,n.Km)(Cn/pa)*pa,gn,pa).map(nn)).concat((0,z.ik)((0,n.Km)(Lr/zn)*zn,Tr,zn).filter(function(Tn){return(0,n.a2)(Tn%ha)>n.Gg}).map(ua)).concat((0,z.ik)((0,n.Km)(pn/aa)*aa,an,aa).filter(function(Tn){return(0,n.a2)(Tn%pa)>n.Gg}).map(na))}return dn.lines=function(){return Hn().map(function(Tn){return{type:"LineString",coordinates:Tn}})},dn.outline=function(){return{type:"Polygon",coordinates:[br(Ur).concat(nn(gn).slice(1),br(Wr).reverse().slice(1),nn(Cn).reverse().slice(1))]}},dn.extent=function(Tn){return arguments.length?dn.extentMajor(Tn).extentMinor(Tn):dn.extentMinor()},dn.extentMajor=function(Tn){return arguments.length?(Ur=+Tn[0][0],Wr=+Tn[1][0],Cn=+Tn[0][1],gn=+Tn[1][1],Ur>Wr&&(Tn=Ur,Ur=Wr,Wr=Tn),Cn>gn&&(Tn=Cn,Cn=gn,gn=Tn),dn.precision($r)):[[Ur,Cn],[Wr,gn]]},dn.extentMinor=function(Tn){return arguments.length?(Lr=+Tn[0][0],Tr=+Tn[1][0],pn=+Tn[0][1],an=+Tn[1][1],Lr>Tr&&(Tn=Lr,Lr=Tr,Tr=Tn),pn>an&&(Tn=pn,pn=an,an=Tn),dn.precision($r)):[[Lr,pn],[Tr,an]]},dn.step=function(Tn){return arguments.length?dn.stepMajor(Tn).stepMinor(Tn):dn.stepMinor()},dn.stepMajor=function(Tn){return arguments.length?(ha=+Tn[0],pa=+Tn[1],dn):[ha,pa]},dn.stepMinor=function(Tn){return arguments.length?(zn=+Tn[0],aa=+Tn[1],dn):[zn,aa]},dn.precision=function(Tn){return arguments.length?($r=+Tn,ua=B(pn,an,90),na=W(Lr,Tr,$r),br=B(Cn,gn,90),nn=W(Ur,Wr,$r),dn):$r},dn.extentMajor([[-180,-90+n.Gg],[180,90-n.Gg]]).extentMinor([[-180,-80-n.Gg],[180,80+n.Gg]])}function ee(){return q()()}var Q=e(27284),oe=e(7376),Z=(0,s.c)(),Y=(0,s.c)(),te,X,$,ie,J={point:f.c,lineStart:f.c,lineEnd:f.c,polygonStart:function(){J.lineStart=j,J.lineEnd=le},polygonEnd:function(){J.lineStart=J.lineEnd=J.point=f.c,Z.add((0,n.a2)(Y)),Y.reset()},result:function(){var Tr=Z/2;return Z.reset(),Tr}};function j(){J.point=se}function se(Tr,Lr){J.point=ne,te=$=Tr,X=ie=Lr}function ne(Tr,Lr){Y.add(ie*Tr-$*Lr),$=Tr,ie=Lr}function le(){ne(te,X)}var pe=J,Ae=e(73784),be=0,Re=0,xe=0,Me=0,ye=0,Se=0,Fe=0,Be=0,_e=0,Ue,it,lt,$e,qe={point:ft,lineStart:ct,lineEnd:Et,polygonStart:function(){qe.lineStart=tt,qe.lineEnd=Ie},polygonEnd:function(){qe.point=ft,qe.lineStart=ct,qe.lineEnd=Et},result:function(){var Tr=_e?[Fe/_e,Be/_e]:Se?[Me/Se,ye/Se]:xe?[be/xe,Re/xe]:[NaN,NaN];return be=Re=xe=Me=ye=Se=Fe=Be=_e=0,Tr}};function ft(Tr,Lr){be+=Tr,Re+=Lr,++xe}function ct(){qe.point=pt}function pt(Tr,Lr){qe.point=yt,ft(lt=Tr,$e=Lr)}function yt(Tr,Lr){var Wr=Tr-lt,Ur=Lr-$e,an=(0,n._I)(Wr*Wr+Ur*Ur);Me+=an*(lt+Tr)/2,ye+=an*($e+Lr)/2,Se+=an,ft(lt=Tr,$e=Lr)}function Et(){qe.point=ft}function tt(){qe.point=We}function Ie(){Ze(Ue,it)}function We(Tr,Lr){qe.point=Ze,ft(Ue=lt=Tr,it=$e=Lr)}function Ze(Tr,Lr){var Wr=Tr-lt,Ur=Lr-$e,an=(0,n._I)(Wr*Wr+Ur*Ur);Me+=an*(lt+Tr)/2,ye+=an*($e+Lr)/2,Se+=an,an=$e*Tr-lt*Lr,Fe+=an*(lt+Tr),Be+=an*($e+Lr),_e+=an*3,ft(lt=Tr,$e=Lr)}var He=qe;function De(Tr){this._context=Tr}De.prototype={_radius:4.5,pointRadius:function(Tr){return this._radius=Tr,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(Tr,Lr){switch(this._point){case 0:{this._context.moveTo(Tr,Lr),this._point=1;break}case 1:{this._context.lineTo(Tr,Lr);break}default:{this._context.moveTo(Tr+this._radius,Lr),this._context.arc(Tr,Lr,this._radius,0,n.kD);break}}},result:f.c};var me=(0,s.c)(),ge,Ee,Te,ze,Xe,et={point:f.c,lineStart:function(){et.point=ut},lineEnd:function(){ge&&dt(Ee,Te),et.point=f.c},polygonStart:function(){ge=!0},polygonEnd:function(){ge=null},result:function(){var Tr=+me;return me.reset(),Tr}};function ut(Tr,Lr){et.point=dt,Ee=ze=Tr,Te=Xe=Lr}function dt(Tr,Lr){ze-=Tr,Xe-=Lr,me.add((0,n._I)(ze*ze+Xe*Xe)),ze=Tr,Xe=Lr}var Zt=et;function jt(){this._string=[]}jt.prototype={_radius:4.5,_circle:Tt(4.5),pointRadius:function(Tr){return(Tr=+Tr)!==this._radius&&(this._radius=Tr,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._string.push("Z"),this._point=NaN},point:function(Tr,Lr){switch(this._point){case 0:{this._string.push("M",Tr,",",Lr),this._point=1;break}case 1:{this._string.push("L",Tr,",",Lr);break}default:{this._circle==null&&(this._circle=Tt(this._radius)),this._string.push("M",Tr,",",Lr,this._circle);break}}},result:function(){if(this._string.length){var Tr=this._string.join("");return this._string=[],Tr}else return null}};function Tt(Tr){return"m0,"+Tr+"a"+Tr+","+Tr+" 0 1,1 0,"+-2*Tr+"a"+Tr+","+Tr+" 0 1,1 0,"+2*Tr+"z"}function kt(Tr,Lr){var Wr=4.5,Ur,an;function pn(gn){return gn&&(typeof Wr=="function"&&an.pointRadius(+Wr.apply(this,arguments)),(0,u.c)(gn,Ur(an))),an.result()}return pn.area=function(gn){return(0,u.c)(gn,Ur(pe)),pe.result()},pn.measure=function(gn){return(0,u.c)(gn,Ur(Zt)),Zt.result()},pn.bounds=function(gn){return(0,u.c)(gn,Ur(Ae.c)),Ae.c.result()},pn.centroid=function(gn){return(0,u.c)(gn,Ur(He)),He.result()},pn.projection=function(gn){return arguments.length?(Ur=gn==null?(Tr=null,oe.c):(Tr=gn).stream,pn):Tr},pn.context=function(gn){return arguments.length?(an=gn==null?(Lr=null,new jt):new De(Lr=gn),typeof Wr!="function"&&an.pointRadius(Wr),pn):Lr},pn.pointRadius=function(gn){return arguments.length?(Wr=typeof gn=="function"?gn:(an.pointRadius(+gn),+gn),pn):Wr},pn.projection(Tr).context(Lr)}var Qt=e(87952);function wr(Tr){var Lr=0,Wr=n.pi/3,Ur=(0,Qt.U)(Tr),an=Ur(Lr,Wr);return an.parallels=function(pn){return arguments.length?Ur(Lr=pn[0]*n.qw,Wr=pn[1]*n.qw):[Lr*n.oh,Wr*n.oh]},an}function xt(Tr){var Lr=(0,n.W8)(Tr);function Wr(Ur,an){return[Ur*Lr,(0,n.g$)(an)/Lr]}return Wr.invert=function(Ur,an){return[Ur/Lr,(0,n.qR)(an*Lr)]},Wr}function At(Tr,Lr){var Wr=(0,n.g$)(Tr),Ur=(Wr+(0,n.g$)(Lr))/2;if((0,n.a2)(Ur)<n.Gg)return xt(Tr);var an=1+Wr*(2*Ur-Wr),pn=(0,n._I)(an)/Ur;function gn(Cn,zn){var aa=(0,n._I)(an-2*Ur*(0,n.g$)(zn))/Ur;return[aa*(0,n.g$)(Cn*=Ur),pn-aa*(0,n.W8)(Cn)]}return gn.invert=function(Cn,zn){var aa=pn-zn,ha=(0,n.WE)(Cn,(0,n.a2)(aa))*(0,n.kq)(aa);return aa*Ur<0&&(ha-=n.pi*(0,n.kq)(Cn)*(0,n.kq)(aa)),[ha/Ur,(0,n.qR)((an-(Cn*Cn+aa*aa)*Ur*Ur)/(2*Ur))]},gn}function Wt(){return wr(At).scale(155.424).center([0,33.6442])}function er(){return Wt().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}var $t=e(86420);function ht(Tr){var Lr=Tr.length;return{point:function(Wr,Ur){for(var an=-1;++an<Lr;)Tr[an].point(Wr,Ur)},sphere:function(){for(var Wr=-1;++Wr<Lr;)Tr[Wr].sphere()},lineStart:function(){for(var Wr=-1;++Wr<Lr;)Tr[Wr].lineStart()},lineEnd:function(){for(var Wr=-1;++Wr<Lr;)Tr[Wr].lineEnd()},polygonStart:function(){for(var Wr=-1;++Wr<Lr;)Tr[Wr].polygonStart()},polygonEnd:function(){for(var Wr=-1;++Wr<Lr;)Tr[Wr].polygonEnd()}}}function at(){var Tr,Lr,Wr=er(),Ur,an=Wt().rotate([154,0]).center([-2,58.5]).parallels([55,65]),pn,gn=Wt().rotate([157,0]).center([-3,19.9]).parallels([8,18]),Cn,zn,aa={point:function(ua,na){zn=[ua,na]}};function ha(ua){var na=ua[0],br=ua[1];return zn=null,Ur.point(na,br),zn||(pn.point(na,br),zn)||(Cn.point(na,br),zn)}ha.invert=function(ua){var na=Wr.scale(),br=Wr.translate(),nn=(ua[0]-br[0])/na,$r=(ua[1]-br[1])/na;return($r>=.12&&$r<.234&&nn>=-.425&&nn<-.214?an:$r>=.166&&$r<.234&&nn>=-.214&&nn<-.115?gn:Wr).invert(ua)},ha.stream=function(ua){return Tr&&Lr===ua?Tr:Tr=ht([Wr.stream(Lr=ua),an.stream(ua),gn.stream(ua)])},ha.precision=function(ua){return arguments.length?(Wr.precision(ua),an.precision(ua),gn.precision(ua),pa()):Wr.precision()},ha.scale=function(ua){return arguments.length?(Wr.scale(ua),an.scale(ua*.35),gn.scale(ua),ha.translate(Wr.translate())):Wr.scale()},ha.translate=function(ua){if(!arguments.length)return Wr.translate();var na=Wr.scale(),br=+ua[0],nn=+ua[1];return Ur=Wr.translate(ua).clipExtent([[br-.455*na,nn-.238*na],[br+.455*na,nn+.238*na]]).stream(aa),pn=an.translate([br-.307*na,nn+.201*na]).clipExtent([[br-.425*na+n.Gg,nn+.12*na+n.Gg],[br-.214*na-n.Gg,nn+.234*na-n.Gg]]).stream(aa),Cn=gn.translate([br-.205*na,nn+.212*na]).clipExtent([[br-.214*na+n.Gg,nn+.166*na+n.Gg],[br-.115*na-n.Gg,nn+.234*na-n.Gg]]).stream(aa),pa()},ha.fitExtent=function(ua,na){return(0,$t.QX)(ha,ua,na)},ha.fitSize=function(ua,na){return(0,$t.UV)(ha,ua,na)},ha.fitWidth=function(ua,na){return(0,$t.Qx)(ha,ua,na)},ha.fitHeight=function(ua,na){return(0,$t.OW)(ha,ua,na)};function pa(){return Tr=Lr=null,ha}return ha.scale(1070)}var bt=e(54724),Ct=e(69020),Dt=e(92992);function It(Tr,Lr){return[Tr,(0,n.Yz)((0,n.a6)((n.or+Lr)/2))]}It.invert=function(Tr,Lr){return[Tr,2*(0,n.MQ)((0,n.oN)(Lr))-n.or]};function Vt(){return Nt(It).scale(961/n.kD)}function Nt(Tr){var Lr=(0,Qt.c)(Tr),Wr=Lr.center,Ur=Lr.scale,an=Lr.translate,pn=Lr.clipExtent,gn=null,Cn,zn,aa;Lr.scale=function(pa){return arguments.length?(Ur(pa),ha()):Ur()},Lr.translate=function(pa){return arguments.length?(an(pa),ha()):an()},Lr.center=function(pa){return arguments.length?(Wr(pa),ha()):Wr()},Lr.clipExtent=function(pa){return arguments.length?(pa==null?gn=Cn=zn=aa=null:(gn=+pa[0][0],Cn=+pa[0][1],zn=+pa[1][0],aa=+pa[1][1]),ha()):gn==null?null:[[gn,Cn],[zn,aa]]};function ha(){var pa=n.pi*Ur(),ua=Lr((0,Dt.c)(Lr.rotate()).invert([0,0]));return pn(gn==null?[[ua[0]-pa,ua[1]-pa],[ua[0]+pa,ua[1]+pa]]:Tr===It?[[Math.max(ua[0]-pa,gn),Cn],[Math.min(ua[0]+pa,zn),aa]]:[[gn,Math.max(ua[1]-pa,Cn)],[zn,Math.min(ua[1]+pa,aa)]])}return ha()}function Jt(Tr){return(0,n.a6)((n.or+Tr)/2)}function fr(Tr,Lr){var Wr=(0,n.W8)(Tr),Ur=Tr===Lr?(0,n.g$)(Tr):(0,n.Yz)(Wr/(0,n.W8)(Lr))/(0,n.Yz)(Jt(Lr)/Jt(Tr)),an=Wr*(0,n.g3)(Jt(Tr),Ur)/Ur;if(!Ur)return It;function pn(gn,Cn){an>0?Cn<-n.or+n.Gg&&(Cn=-n.or+n.Gg):Cn>n.or-n.Gg&&(Cn=n.or-n.Gg);var zn=an/(0,n.g3)(Jt(Cn),Ur);return[zn*(0,n.g$)(Ur*gn),an-zn*(0,n.W8)(Ur*gn)]}return pn.invert=function(gn,Cn){var zn=an-Cn,aa=(0,n.kq)(Ur)*(0,n._I)(gn*gn+zn*zn),ha=(0,n.WE)(gn,(0,n.a2)(zn))*(0,n.kq)(zn);return zn*Ur<0&&(ha-=n.pi*(0,n.kq)(gn)*(0,n.kq)(zn)),[ha/Ur,2*(0,n.MQ)((0,n.g3)(an/aa,1/Ur))-n.or]},pn}function cr(){return wr(fr).scale(109.5).parallels([30,30])}var dr=e(69604);function Ge(Tr,Lr){var Wr=(0,n.W8)(Tr),Ur=Tr===Lr?(0,n.g$)(Tr):(Wr-(0,n.W8)(Lr))/(Lr-Tr),an=Wr/Ur+Tr;if((0,n.a2)(Ur)<n.Gg)return dr.u;function pn(gn,Cn){var zn=an-Cn,aa=Ur*gn;return[zn*(0,n.g$)(aa),an-zn*(0,n.W8)(aa)]}return pn.invert=function(gn,Cn){var zn=an-Cn,aa=(0,n.WE)(gn,(0,n.a2)(zn))*(0,n.kq)(zn);return zn*Ur<0&&(aa-=n.pi*(0,n.kq)(gn)*(0,n.kq)(zn)),[aa/Ur,an-(0,n.kq)(Ur)*(0,n._I)(gn*gn+zn*zn)]},pn}function Ve(){return wr(Ge).scale(131.154).center([0,13.9389])}var Ot=1.340264,Ft=-.081106,Kt=893e-6,rr=.003796,ur=(0,n._I)(3)/2,ar=12;function Bt(Tr,Lr){var Wr=(0,n.qR)(ur*(0,n.g$)(Lr)),Ur=Wr*Wr,an=Ur*Ur*Ur;return[Tr*(0,n.W8)(Wr)/(ur*(Ot+3*Ft*Ur+an*(7*Kt+9*rr*Ur))),Wr*(Ot+Ft*Ur+an*(Kt+rr*Ur))]}Bt.invert=function(Tr,Lr){for(var Wr=Lr,Ur=Wr*Wr,an=Ur*Ur*Ur,pn=0,gn,Cn,zn;pn<ar&&(Cn=Wr*(Ot+Ft*Ur+an*(Kt+rr*Ur))-Lr,zn=Ot+3*Ft*Ur+an*(7*Kt+9*rr*Ur),Wr-=gn=Cn/zn,Ur=Wr*Wr,an=Ur*Ur*Ur,!((0,n.a2)(gn)<n.a8));++pn);return[ur*Tr*(Ot+3*Ft*Ur+an*(7*Kt+9*rr*Ur))/(0,n.W8)(Wr),(0,n.qR)((0,n.g$)(Wr)/ur)]};function hr(){return(0,Qt.c)(Bt).scale(177.158)}var gr=e(53285),mr=e(15196);function vr(){var Tr=1,Lr=0,Wr=0,Ur=1,an=1,pn=0,gn,Cn,zn=null,aa,ha,pa,ua=1,na=1,br=(0,mr.s)({point:function(An,Nn){var Qn=Tn([An,Nn]);this.stream.point(Qn[0],Qn[1])}}),nn=oe.c,$r,dn;function Hn(){return ua=Tr*Ur,na=Tr*an,$r=dn=null,Tn}function Tn(An){var Nn=An[0]*ua,Qn=An[1]*na;if(pn){var ya=Qn*gn-Nn*Cn;Nn=Nn*gn+Qn*Cn,Qn=ya}return[Nn+Lr,Qn+Wr]}return Tn.invert=function(An){var Nn=An[0]-Lr,Qn=An[1]-Wr;if(pn){var ya=Qn*gn+Nn*Cn;Nn=Nn*gn-Qn*Cn,Qn=ya}return[Nn/ua,Qn/na]},Tn.stream=function(An){return $r&&dn===An?$r:$r=br(nn(dn=An))},Tn.postclip=function(An){return arguments.length?(nn=An,zn=aa=ha=pa=null,Hn()):nn},Tn.clipExtent=function(An){return arguments.length?(nn=An==null?(zn=aa=ha=pa=null,oe.c):(0,p.c)(zn=+An[0][0],aa=+An[0][1],ha=+An[1][0],pa=+An[1][1]),Hn()):zn==null?null:[[zn,aa],[ha,pa]]},Tn.scale=function(An){return arguments.length?(Tr=+An,Hn()):Tr},Tn.translate=function(An){return arguments.length?(Lr=+An[0],Wr=+An[1],Hn()):[Lr,Wr]},Tn.angle=function(An){return arguments.length?(pn=An%360*n.qw,Cn=(0,n.g$)(pn),gn=(0,n.W8)(pn),Hn()):pn*n.oh},Tn.reflectX=function(An){return arguments.length?(Ur=An?-1:1,Hn()):Ur<0},Tn.reflectY=function(An){return arguments.length?(an=An?-1:1,Hn()):an<0},Tn.fitExtent=function(An,Nn){return(0,$t.QX)(Tn,An,Nn)},Tn.fitSize=function(An,Nn){return(0,$t.UV)(Tn,An,Nn)},Tn.fitWidth=function(An,Nn){return(0,$t.Qx)(Tn,An,Nn)},Tn.fitHeight=function(An,Nn){return(0,$t.OW)(Tn,An,Nn)},Tn}var Gr=e(47984),Rr=e(4888),Ir=e(62280);function cn(Tr,Lr){var Wr=(0,n.W8)(Lr),Ur=1+(0,n.W8)(Tr)*Wr;return[Wr*(0,n.g$)(Tr)/Ur,(0,n.g$)(Lr)/Ur]}cn.invert=(0,Ir.g)(function(Tr){return 2*(0,n.MQ)(Tr)});function rn(){return(0,Qt.c)(cn).scale(250).clipAngle(142)}function Ln(Tr,Lr){return[(0,n.Yz)((0,n.a6)((n.or+Lr)/2)),-Tr]}Ln.invert=function(Tr,Lr){return[-Lr,2*(0,n.MQ)((0,n.oN)(Tr))-n.or]};function En(){var Tr=Nt(Ln),Lr=Tr.center,Wr=Tr.rotate;return Tr.center=function(Ur){return arguments.length?Lr([-Ur[1],Ur[0]]):(Ur=Lr(),[Ur[1],-Ur[0]])},Tr.rotate=function(Ur){return arguments.length?Wr([Ur[0],Ur[1],Ur.length>2?Ur[2]+90:90]):(Ur=Wr(),[Ur[0],Ur[1],Ur[2]-90])},Wr([0,0,90]).scale(159.155)}},27284:function(G,U,e){e.d(U,{c:function(){return L}});var g=e(64528);function L(a,C){var A=a[0]*g.qw,v=a[1]*g.qw,p=C[0]*g.qw,r=C[1]*g.qw,t=(0,g.W8)(v),s=(0,g.g$)(v),n=(0,g.W8)(r),f=(0,g.g$)(r),u=t*(0,g.W8)(A),l=t*(0,g.g$)(A),m=n*(0,g.W8)(p),h=n*(0,g.g$)(p),M=2*(0,g.qR)((0,g._I)((0,g.SD)(r-v)+t*n*(0,g.SD)(p-A))),c=(0,g.g$)(M),i=M?function(d){var b=(0,g.g$)(d*=M)/c,w=(0,g.g$)(M-d)/c,E=w*u+b*m,y=w*l+b*h,S=w*s+b*f;return[(0,g.WE)(y,E)*g.oh,(0,g.WE)(S,(0,g._I)(E*E+y*y))*g.oh]}:function(){return[A*g.oh,v*g.oh]};return i.distance=M,i}},64528:function(G,U,e){e.d(U,{Gg:function(){return g},Km:function(){return u},MQ:function(){return s},SD:function(){return E},W8:function(){return f},WE:function(){return n},Yz:function(){return m},_I:function(){return i},a2:function(){return t},a6:function(){return d},a8:function(){return L},g$:function(){return M},g3:function(){return h},kD:function(){return v},kq:function(){return c},mE:function(){return b},oN:function(){return l},oh:function(){return p},or:function(){return C},pi:function(){return a},qR:function(){return w},qw:function(){return r},wL:function(){return A}});var g=1e-6,L=1e-12,a=Math.PI,C=a/2,A=a/4,v=a*2,p=180/a,r=a/180,t=Math.abs,s=Math.atan,n=Math.atan2,f=Math.cos,u=Math.ceil,l=Math.exp,m=Math.log,h=Math.pow,M=Math.sin,c=Math.sign||function(y){return y>0?1:y<0?-1:0},i=Math.sqrt,d=Math.tan;function b(y){return y>1?0:y<-1?a:Math.acos(y)}function w(y){return y>1?C:y<-1?-C:Math.asin(y)}function E(y){return(y=M(y/2))*y}},70932:function(G,U,e){e.d(U,{c:function(){return g}});function g(){}},73784:function(G,U,e){var g=e(70932),L=1/0,a=L,C=-L,A=C,v={point:p,lineStart:g.c,lineEnd:g.c,polygonStart:g.c,polygonEnd:g.c,result:function(){var r=[[L,a],[C,A]];return C=A=-(a=L=1/0),r}};function p(r,t){r<L&&(L=r),r>C&&(C=r),t<a&&(a=t),t>A&&(A=t)}U.c=v},41860:function(G,U,e){e.d(U,{c:function(){return L}});var g=e(64528);function L(a,C){return(0,g.a2)(a[0]-C[0])<g.Gg&&(0,g.a2)(a[1]-C[1])<g.Gg}},58196:function(G,U,e){e.d(U,{c:function(){return v}});var g=e(88728),L=e(84220),a=e(64528),C=(0,g.c)();function A(p){return(0,a.a2)(p[0])<=a.pi?p[0]:(0,a.kq)(p[0])*(((0,a.a2)(p[0])+a.pi)%a.kD-a.pi)}function v(p,r){var t=A(r),s=r[1],n=(0,a.g$)(s),f=[(0,a.g$)(t),-(0,a.W8)(t),0],u=0,l=0;C.reset(),n===1?s=a.or+a.Gg:n===-1&&(s=-a.or-a.Gg);for(var m=0,h=p.length;m<h;++m)if(!!(c=(M=p[m]).length))for(var M,c,i=M[c-1],d=A(i),b=i[1]/2+a.wL,w=(0,a.g$)(b),E=(0,a.W8)(b),y=0;y<c;++y,d=T,w=P,E=x,i=S){var S=M[y],T=A(S),o=S[1]/2+a.wL,P=(0,a.g$)(o),x=(0,a.W8)(o),_=T-d,I=_>=0?1:-1,N=I*_,k=N>a.pi,F=w*P;if(C.add((0,a.WE)(F*I*(0,a.g$)(N),E*x+F*(0,a.W8)(N))),u+=k?_+I*a.kD:_,k^d>=t^T>=t){var O=(0,L.CW)((0,L.ux)(i),(0,L.ux)(S));(0,L.cJ)(O);var z=(0,L.CW)(f,O);(0,L.cJ)(z);var B=(k^_>=0?-1:1)*(0,a.qR)(z[2]);(s>B||s===B&&(O[0]||O[1]))&&(l+=k^_>=0?1:-1)}}return(u<-a.Gg||u<a.Gg&&C<-a.Gg)^l&1}},62280:function(G,U,e){e.d(U,{a:function(){return L},g:function(){return a}});var g=e(64528);function L(C){return function(A,v){var p=(0,g.W8)(A),r=(0,g.W8)(v),t=C(p*r);return[t*r*(0,g.g$)(A),t*(0,g.g$)(v)]}}function a(C){return function(A,v){var p=(0,g._I)(A*A+v*v),r=C(p),t=(0,g.g$)(r),s=(0,g.W8)(r);return[(0,g.WE)(A*t,p*s),(0,g.qR)(p&&v*t/p)]}}},54724:function(G,U,e){e.d(U,{c:function(){return A},y:function(){return C}});var g=e(64528),L=e(62280),a=e(87952),C=(0,L.a)(function(v){return(0,g._I)(2/(1+v))});C.invert=(0,L.g)(function(v){return 2*(0,g.qR)(v/2)});function A(){return(0,a.c)(C).scale(124.75).clipAngle(179.999)}},69020:function(G,U,e){e.d(U,{O:function(){return C},c:function(){return A}});var g=e(64528),L=e(62280),a=e(87952),C=(0,L.a)(function(v){return(v=(0,g.mE)(v))&&v/(0,g.g$)(v)});C.invert=(0,L.g)(function(v){return v});function A(){return(0,a.c)(C).scale(79.4188).clipAngle(179.999)}},69604:function(G,U,e){e.d(U,{c:function(){return a},u:function(){return L}});var g=e(87952);function L(C,A){return[C,A]}L.invert=L;function a(){return(0,g.c)(L).scale(152.63)}},86420:function(G,U,e){e.d(U,{OW:function(){return p},QX:function(){return C},Qx:function(){return v},UV:function(){return A}});var g=e(16016),L=e(73784);function a(r,t,s){var n=r.clipExtent&&r.clipExtent();return r.scale(150).translate([0,0]),n!=null&&r.clipExtent(null),(0,g.c)(s,r.stream(L.c)),t(L.c.result()),n!=null&&r.clipExtent(n),r}function C(r,t,s){return a(r,function(n){var f=t[1][0]-t[0][0],u=t[1][1]-t[0][1],l=Math.min(f/(n[1][0]-n[0][0]),u/(n[1][1]-n[0][1])),m=+t[0][0]+(f-l*(n[1][0]+n[0][0]))/2,h=+t[0][1]+(u-l*(n[1][1]+n[0][1]))/2;r.scale(150*l).translate([m,h])},s)}function A(r,t,s){return C(r,[[0,0],t],s)}function v(r,t,s){return a(r,function(n){var f=+t,u=f/(n[1][0]-n[0][0]),l=(f-u*(n[1][0]+n[0][0]))/2,m=-u*n[0][1];r.scale(150*u).translate([l,m])},s)}function p(r,t,s){return a(r,function(n){var f=+t,u=f/(n[1][1]-n[0][1]),l=-u*n[0][0],m=(f-u*(n[1][1]+n[0][1]))/2;r.scale(150*u).translate([l,m])},s)}},53285:function(G,U,e){e.d(U,{Y:function(){return C},c:function(){return A}});var g=e(64528),L=e(62280),a=e(87952);function C(v,p){var r=(0,g.W8)(p),t=(0,g.W8)(v)*r;return[r*(0,g.g$)(v)/t,(0,g.g$)(p)/t]}C.invert=(0,L.g)(g.MQ);function A(){return(0,a.c)(C).scale(144.049).clipAngle(60)}},87952:function(G,U,e){e.d(U,{c:function(){return d},U:function(){return b}});var g=e(78284),L=e(2728),a=e(21676),C=e(68120),A=e(7376),v=e(64528),p=e(92992),r=e(15196),t=e(86420),s=e(84220),n=16,f=(0,v.W8)(30*v.qw);function u(w,E){return+E?m(w,E):l(w)}function l(w){return(0,r.s)({point:function(E,y){E=w(E,y),this.stream.point(E[0],E[1])}})}function m(w,E){function y(S,T,o,P,x,_,I,N,k,F,O,z,B,W){var q=I-S,ee=N-T,Q=q*q+ee*ee;if(Q>4*E&&B--){var oe=P+F,Z=x+O,Y=_+z,te=(0,v._I)(oe*oe+Z*Z+Y*Y),X=(0,v.qR)(Y/=te),$=(0,v.a2)((0,v.a2)(Y)-1)<v.Gg||(0,v.a2)(o-k)<v.Gg?(o+k)/2:(0,v.WE)(Z,oe),ie=w($,X),J=ie[0],j=ie[1],se=J-S,ne=j-T,le=ee*se-q*ne;(le*le/Q>E||(0,v.a2)((q*se+ee*ne)/Q-.5)>.3||P*F+x*O+_*z<f)&&(y(S,T,o,P,x,_,J,j,$,oe/=te,Z/=te,Y,B,W),W.point(J,j),y(J,j,$,oe,Z,Y,I,N,k,F,O,z,B,W))}}return function(S){var T,o,P,x,_,I,N,k,F,O,z,B,W={point:q,lineStart:ee,lineEnd:oe,polygonStart:function(){S.polygonStart(),W.lineStart=Z},polygonEnd:function(){S.polygonEnd(),W.lineStart=ee}};function q(X,$){X=w(X,$),S.point(X[0],X[1])}function ee(){k=NaN,W.point=Q,S.lineStart()}function Q(X,$){var ie=(0,s.ux)([X,$]),J=w(X,$);y(k,F,N,O,z,B,k=J[0],F=J[1],N=X,O=ie[0],z=ie[1],B=ie[2],n,S),S.point(k,F)}function oe(){W.point=q,S.lineEnd()}function Z(){ee(),W.point=Y,W.lineEnd=te}function Y(X,$){Q(T=X,$),o=k,P=F,x=O,_=z,I=B,W.point=Q}function te(){y(k,F,N,O,z,B,o,P,T,x,_,I,n,S),W.lineEnd=oe,oe()}return W}}var h=(0,r.s)({point:function(w,E){this.stream.point(w*v.qw,E*v.qw)}});function M(w){return(0,r.s)({point:function(E,y){var S=w(E,y);return this.stream.point(S[0],S[1])}})}function c(w,E,y,S,T){function o(P,x){return P*=S,x*=T,[E+w*P,y-w*x]}return o.invert=function(P,x){return[(P-E)/w*S,(y-x)/w*T]},o}function i(w,E,y,S,T,o){var P=(0,v.W8)(o),x=(0,v.g$)(o),_=P*w,I=x*w,N=P/w,k=x/w,F=(x*y-P*E)/w,O=(x*E+P*y)/w;function z(B,W){return B*=S,W*=T,[_*B-I*W+E,y-I*B-_*W]}return z.invert=function(B,W){return[S*(N*B-k*W+F),T*(O-k*B-N*W)]},z}function d(w){return b(function(){return w})()}function b(w){var E,y=150,S=480,T=250,o=0,P=0,x=0,_=0,I=0,N,k=0,F=1,O=1,z=null,B=g.c,W=null,q,ee,Q,oe=A.c,Z=.5,Y,te,X,$,ie;function J(le){return X(le[0]*v.qw,le[1]*v.qw)}function j(le){return le=X.invert(le[0],le[1]),le&&[le[0]*v.oh,le[1]*v.oh]}J.stream=function(le){return $&&ie===le?$:$=h(M(N)(B(Y(oe(ie=le)))))},J.preclip=function(le){return arguments.length?(B=le,z=void 0,ne()):B},J.postclip=function(le){return arguments.length?(oe=le,W=q=ee=Q=null,ne()):oe},J.clipAngle=function(le){return arguments.length?(B=+le?(0,L.c)(z=le*v.qw):(z=null,g.c),ne()):z*v.oh},J.clipExtent=function(le){return arguments.length?(oe=le==null?(W=q=ee=Q=null,A.c):(0,a.c)(W=+le[0][0],q=+le[0][1],ee=+le[1][0],Q=+le[1][1]),ne()):W==null?null:[[W,q],[ee,Q]]},J.scale=function(le){return arguments.length?(y=+le,se()):y},J.translate=function(le){return arguments.length?(S=+le[0],T=+le[1],se()):[S,T]},J.center=function(le){return arguments.length?(o=le[0]%360*v.qw,P=le[1]%360*v.qw,se()):[o*v.oh,P*v.oh]},J.rotate=function(le){return arguments.length?(x=le[0]%360*v.qw,_=le[1]%360*v.qw,I=le.length>2?le[2]%360*v.qw:0,se()):[x*v.oh,_*v.oh,I*v.oh]},J.angle=function(le){return arguments.length?(k=le%360*v.qw,se()):k*v.oh},J.reflectX=function(le){return arguments.length?(F=le?-1:1,se()):F<0},J.reflectY=function(le){return arguments.length?(O=le?-1:1,se()):O<0},J.precision=function(le){return arguments.length?(Y=u(te,Z=le*le),ne()):(0,v._I)(Z)},J.fitExtent=function(le,pe){return(0,t.QX)(J,le,pe)},J.fitSize=function(le,pe){return(0,t.UV)(J,le,pe)},J.fitWidth=function(le,pe){return(0,t.Qx)(J,le,pe)},J.fitHeight=function(le,pe){return(0,t.OW)(J,le,pe)};function se(){var le=i(y,0,0,F,O,k).apply(null,E(o,P)),pe=(k?i:c)(y,S-le[0],T-le[1],F,O,k);return N=(0,p.O)(x,_,I),te=(0,C.c)(E,pe),X=(0,C.c)(N,te),Y=u(te,Z),ne()}function ne(){return $=ie=null,J}return function(){return E=w.apply(this,arguments),J.invert=E.invert&&j,se()}}},47984:function(G,U,e){e.d(U,{c:function(){return C},g:function(){return a}});var g=e(87952),L=e(64528);function a(A,v){var p=v*v,r=p*p;return[A*(.8707-.131979*p+r*(-.013791+r*(.003971*p-.001529*r))),v*(1.007226+p*(.015085+r*(-.044475+.028874*p-.005916*r)))]}a.invert=function(A,v){var p=v,r=25,t;do{var s=p*p,n=s*s;p-=t=(p*(1.007226+s*(.015085+n*(-.044475+.028874*s-.005916*n)))-v)/(1.007226+s*(.045255+n*(-.311325+.259866*s-.06507600000000001*n)))}while((0,L.a2)(t)>L.Gg&&--r>0);return[A/(.8707+(s=p*p)*(-.131979+s*(-.013791+s*s*s*(.003971-.001529*s)))),p]};function C(){return(0,g.c)(a).scale(175.295)}},4888:function(G,U,e){e.d(U,{c:function(){return A},t:function(){return C}});var g=e(64528),L=e(62280),a=e(87952);function C(v,p){return[(0,g.W8)(p)*(0,g.g$)(v),(0,g.g$)(p)]}C.invert=(0,L.g)(g.qR);function A(){return(0,a.c)(C).scale(249.5).clipAngle(90+g.Gg)}},92992:function(G,U,e){e.d(U,{O:function(){return C},c:function(){return r}});var g=e(68120),L=e(64528);function a(t,s){return[(0,L.a2)(t)>L.pi?t+Math.round(-t/L.kD)*L.kD:t,s]}a.invert=a;function C(t,s,n){return(t%=L.kD)?s||n?(0,g.c)(v(t),p(s,n)):v(t):s||n?p(s,n):a}function A(t){return function(s,n){return s+=t,[s>L.pi?s-L.kD:s<-L.pi?s+L.kD:s,n]}}function v(t){var s=A(t);return s.invert=A(-t),s}function p(t,s){var n=(0,L.W8)(t),f=(0,L.g$)(t),u=(0,L.W8)(s),l=(0,L.g$)(s);function m(h,M){var c=(0,L.W8)(M),i=(0,L.W8)(h)*c,d=(0,L.g$)(h)*c,b=(0,L.g$)(M),w=b*n+i*f;return[(0,L.WE)(d*u-w*l,i*n-b*f),(0,L.qR)(w*u+d*l)]}return m.invert=function(h,M){var c=(0,L.W8)(M),i=(0,L.W8)(h)*c,d=(0,L.g$)(h)*c,b=(0,L.g$)(M),w=b*u-d*l;return[(0,L.WE)(d*u+b*l,i*n+w*f),(0,L.qR)(w*n-i*f)]},m}function r(t){t=C(t[0]*L.qw,t[1]*L.qw,t.length>2?t[2]*L.qw:0);function s(n){return n=t(n[0]*L.qw,n[1]*L.qw),n[0]*=L.oh,n[1]*=L.oh,n}return s.invert=function(n){return n=t.invert(n[0]*L.qw,n[1]*L.qw),n[0]*=L.oh,n[1]*=L.oh,n},s}},16016:function(G,U,e){e.d(U,{c:function(){return v}});function g(p,r){p&&a.hasOwnProperty(p.type)&&a[p.type](p,r)}var L={Feature:function(p,r){g(p.geometry,r)},FeatureCollection:function(p,r){for(var t=p.features,s=-1,n=t.length;++s<n;)g(t[s].geometry,r)}},a={Sphere:function(p,r){r.sphere()},Point:function(p,r){p=p.coordinates,r.point(p[0],p[1],p[2])},MultiPoint:function(p,r){for(var t=p.coordinates,s=-1,n=t.length;++s<n;)p=t[s],r.point(p[0],p[1],p[2])},LineString:function(p,r){C(p.coordinates,r,0)},MultiLineString:function(p,r){for(var t=p.coordinates,s=-1,n=t.length;++s<n;)C(t[s],r,0)},Polygon:function(p,r){A(p.coordinates,r)},MultiPolygon:function(p,r){for(var t=p.coordinates,s=-1,n=t.length;++s<n;)A(t[s],r)},GeometryCollection:function(p,r){for(var t=p.geometries,s=-1,n=t.length;++s<n;)g(t[s],r)}};function C(p,r,t){var s=-1,n=p.length-t,f;for(r.lineStart();++s<n;)f=p[s],r.point(f[0],f[1],f[2]);r.lineEnd()}function A(p,r){var t=-1,s=p.length;for(r.polygonStart();++t<s;)C(p[t],r,1);r.polygonEnd()}function v(p,r){p&&L.hasOwnProperty(p.type)?L[p.type](p,r):g(p,r)}},15196:function(G,U,e){e.d(U,{c:function(){return g},s:function(){return L}});function g(C){return{stream:L(C)}}function L(C){return function(A){var v=new a;for(var p in C)v[p]=C[p];return v.stream=A,v}}function a(){}a.prototype={constructor:a,point:function(C,A){this.stream.point(C,A)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}}},74148:function(G,U,e){e.r(U),e.d(U,{cluster:function(){return r},hierarchy:function(){return w},pack:function(){return j},packEnclose:function(){return _},packSiblings:function(){return Y},partition:function(){return be},stratify:function(){return Fe},tree:function(){return ct},treemap:function(){return Ie},treemapBinary:function(){return We},treemapDice:function(){return Ae},treemapResquarify:function(){return He},treemapSlice:function(){return pt},treemapSliceDice:function(){return Ze},treemapSquarify:function(){return tt}});function g(De,me){return De.parent===me.parent?1:2}function L(De){return De.reduce(a,0)/De.length}function a(De,me){return De+me.x}function C(De){return 1+De.reduce(A,0)}function A(De,me){return Math.max(De,me.y)}function v(De){for(var me;me=De.children;)De=me[0];return De}function p(De){for(var me;me=De.children;)De=me[me.length-1];return De}function r(){var De=g,me=1,ge=1,Ee=!1;function Te(ze){var Xe,et=0;ze.eachAfter(function(Tt){var kt=Tt.children;kt?(Tt.x=L(kt),Tt.y=C(kt)):(Tt.x=Xe?et+=De(Tt,Xe):0,Tt.y=0,Xe=Tt)});var ut=v(ze),dt=p(ze),Zt=ut.x-De(ut,dt)/2,jt=dt.x+De(dt,ut)/2;return ze.eachAfter(Ee?function(Tt){Tt.x=(Tt.x-ze.x)*me,Tt.y=(ze.y-Tt.y)*ge}:function(Tt){Tt.x=(Tt.x-Zt)/(jt-Zt)*me,Tt.y=(1-(ze.y?Tt.y/ze.y:1))*ge})}return Te.separation=function(ze){return arguments.length?(De=ze,Te):De},Te.size=function(ze){return arguments.length?(Ee=!1,me=+ze[0],ge=+ze[1],Te):Ee?null:[me,ge]},Te.nodeSize=function(ze){return arguments.length?(Ee=!0,me=+ze[0],ge=+ze[1],Te):Ee?[me,ge]:null},Te}function t(De){var me=0,ge=De.children,Ee=ge&&ge.length;if(!Ee)me=1;else for(;--Ee>=0;)me+=ge[Ee].value;De.value=me}function s(){return this.eachAfter(t)}function n(De){var me=this,ge,Ee=[me],Te,ze,Xe;do for(ge=Ee.reverse(),Ee=[];me=ge.pop();)if(De(me),Te=me.children,Te)for(ze=0,Xe=Te.length;ze<Xe;++ze)Ee.push(Te[ze]);while(Ee.length);return this}function f(De){for(var me=this,ge=[me],Ee,Te;me=ge.pop();)if(De(me),Ee=me.children,Ee)for(Te=Ee.length-1;Te>=0;--Te)ge.push(Ee[Te]);return this}function u(De){for(var me=this,ge=[me],Ee=[],Te,ze,Xe;me=ge.pop();)if(Ee.push(me),Te=me.children,Te)for(ze=0,Xe=Te.length;ze<Xe;++ze)ge.push(Te[ze]);for(;me=Ee.pop();)De(me);return this}function l(De){return this.eachAfter(function(me){for(var ge=+De(me.data)||0,Ee=me.children,Te=Ee&&Ee.length;--Te>=0;)ge+=Ee[Te].value;me.value=ge})}function m(De){return this.eachBefore(function(me){me.children&&me.children.sort(De)})}function h(De){for(var me=this,ge=M(me,De),Ee=[me];me!==ge;)me=me.parent,Ee.push(me);for(var Te=Ee.length;De!==ge;)Ee.splice(Te,0,De),De=De.parent;return Ee}function M(De,me){if(De===me)return De;var ge=De.ancestors(),Ee=me.ancestors(),Te=null;for(De=ge.pop(),me=Ee.pop();De===me;)Te=De,De=ge.pop(),me=Ee.pop();return Te}function c(){for(var De=this,me=[De];De=De.parent;)me.push(De);return me}function i(){var De=[];return this.each(function(me){De.push(me)}),De}function d(){var De=[];return this.eachBefore(function(me){me.children||De.push(me)}),De}function b(){var De=this,me=[];return De.each(function(ge){ge!==De&&me.push({source:ge.parent,target:ge})}),me}function w(De,me){var ge=new o(De),Ee=+De.value&&(ge.value=De.value),Te,ze=[ge],Xe,et,ut,dt;for(me==null&&(me=y);Te=ze.pop();)if(Ee&&(Te.value=+Te.data.value),(et=me(Te.data))&&(dt=et.length))for(Te.children=new Array(dt),ut=dt-1;ut>=0;--ut)ze.push(Xe=Te.children[ut]=new o(et[ut])),Xe.parent=Te,Xe.depth=Te.depth+1;return ge.eachBefore(T)}function E(){return w(this).eachBefore(S)}function y(De){return De.children}function S(De){De.data=De.data.data}function T(De){var me=0;do De.height=me;while((De=De.parent)&&De.height<++me)}function o(De){this.data=De,this.depth=this.height=0,this.parent=null}o.prototype=w.prototype={constructor:o,count:s,each:n,eachAfter:u,eachBefore:f,sum:l,sort:m,path:h,ancestors:c,descendants:i,leaves:d,links:b,copy:E};var P=Array.prototype.slice;function x(De){for(var me=De.length,ge,Ee;me;)Ee=Math.random()*me--|0,ge=De[me],De[me]=De[Ee],De[Ee]=ge;return De}function _(De){for(var me=0,ge=(De=x(P.call(De))).length,Ee=[],Te,ze;me<ge;)Te=De[me],ze&&k(ze,Te)?++me:(ze=O(Ee=I(Ee,Te)),me=0);return ze}function I(De,me){var ge,Ee;if(F(me,De))return[me];for(ge=0;ge<De.length;++ge)if(N(me,De[ge])&&F(B(De[ge],me),De))return[De[ge],me];for(ge=0;ge<De.length-1;++ge)for(Ee=ge+1;Ee<De.length;++Ee)if(N(B(De[ge],De[Ee]),me)&&N(B(De[ge],me),De[Ee])&&N(B(De[Ee],me),De[ge])&&F(W(De[ge],De[Ee],me),De))return[De[ge],De[Ee],me];throw new Error}function N(De,me){var ge=De.r-me.r,Ee=me.x-De.x,Te=me.y-De.y;return ge<0||ge*ge<Ee*Ee+Te*Te}function k(De,me){var ge=De.r-me.r+1e-6,Ee=me.x-De.x,Te=me.y-De.y;return ge>0&&ge*ge>Ee*Ee+Te*Te}function F(De,me){for(var ge=0;ge<me.length;++ge)if(!k(De,me[ge]))return!1;return!0}function O(De){switch(De.length){case 1:return z(De[0]);case 2:return B(De[0],De[1]);case 3:return W(De[0],De[1],De[2])}}function z(De){return{x:De.x,y:De.y,r:De.r}}function B(De,me){var ge=De.x,Ee=De.y,Te=De.r,ze=me.x,Xe=me.y,et=me.r,ut=ze-ge,dt=Xe-Ee,Zt=et-Te,jt=Math.sqrt(ut*ut+dt*dt);return{x:(ge+ze+ut/jt*Zt)/2,y:(Ee+Xe+dt/jt*Zt)/2,r:(jt+Te+et)/2}}function W(De,me,ge){var Ee=De.x,Te=De.y,ze=De.r,Xe=me.x,et=me.y,ut=me.r,dt=ge.x,Zt=ge.y,jt=ge.r,Tt=Ee-Xe,kt=Ee-dt,Qt=Te-et,wr=Te-Zt,xt=ut-ze,At=jt-ze,Wt=Ee*Ee+Te*Te-ze*ze,er=Wt-Xe*Xe-et*et+ut*ut,$t=Wt-dt*dt-Zt*Zt+jt*jt,ht=kt*Qt-Tt*wr,at=(Qt*$t-wr*er)/(ht*2)-Ee,bt=(wr*xt-Qt*At)/ht,Ct=(kt*er-Tt*$t)/(ht*2)-Te,Dt=(Tt*At-kt*xt)/ht,It=bt*bt+Dt*Dt-1,Vt=2*(ze+at*bt+Ct*Dt),Nt=at*at+Ct*Ct-ze*ze,Jt=-(It?(Vt+Math.sqrt(Vt*Vt-4*It*Nt))/(2*It):Nt/Vt);return{x:Ee+at+bt*Jt,y:Te+Ct+Dt*Jt,r:Jt}}function q(De,me,ge){var Ee=De.x-me.x,Te,ze,Xe=De.y-me.y,et,ut,dt=Ee*Ee+Xe*Xe;dt?(ze=me.r+ge.r,ze*=ze,ut=De.r+ge.r,ut*=ut,ze>ut?(Te=(dt+ut-ze)/(2*dt),et=Math.sqrt(Math.max(0,ut/dt-Te*Te)),ge.x=De.x-Te*Ee-et*Xe,ge.y=De.y-Te*Xe+et*Ee):(Te=(dt+ze-ut)/(2*dt),et=Math.sqrt(Math.max(0,ze/dt-Te*Te)),ge.x=me.x+Te*Ee-et*Xe,ge.y=me.y+Te*Xe+et*Ee)):(ge.x=me.x+ge.r,ge.y=me.y)}function ee(De,me){var ge=De.r+me.r-1e-6,Ee=me.x-De.x,Te=me.y-De.y;return ge>0&&ge*ge>Ee*Ee+Te*Te}function Q(De){var me=De._,ge=De.next._,Ee=me.r+ge.r,Te=(me.x*ge.r+ge.x*me.r)/Ee,ze=(me.y*ge.r+ge.y*me.r)/Ee;return Te*Te+ze*ze}function oe(De){this._=De,this.next=null,this.previous=null}function Z(De){if(!(Te=De.length))return 0;var me,ge,Ee,Te,ze,Xe,et,ut,dt,Zt,jt;if(me=De[0],me.x=0,me.y=0,!(Te>1))return me.r;if(ge=De[1],me.x=-ge.r,ge.x=me.r,ge.y=0,!(Te>2))return me.r+ge.r;q(ge,me,Ee=De[2]),me=new oe(me),ge=new oe(ge),Ee=new oe(Ee),me.next=Ee.previous=ge,ge.next=me.previous=Ee,Ee.next=ge.previous=me;e:for(et=3;et<Te;++et){q(me._,ge._,Ee=De[et]),Ee=new oe(Ee),ut=ge.next,dt=me.previous,Zt=ge._.r,jt=me._.r;do if(Zt<=jt){if(ee(ut._,Ee._)){ge=ut,me.next=ge,ge.previous=me,--et;continue e}Zt+=ut._.r,ut=ut.next}else{if(ee(dt._,Ee._)){me=dt,me.next=ge,ge.previous=me,--et;continue e}jt+=dt._.r,dt=dt.previous}while(ut!==dt.next);for(Ee.previous=me,Ee.next=ge,me.next=ge.previous=ge=Ee,ze=Q(me);(Ee=Ee.next)!==ge;)(Xe=Q(Ee))<ze&&(me=Ee,ze=Xe);ge=me.next}for(me=[ge._],Ee=ge;(Ee=Ee.next)!==ge;)me.push(Ee._);for(Ee=_(me),et=0;et<Te;++et)me=De[et],me.x-=Ee.x,me.y-=Ee.y;return Ee.r}function Y(De){return Z(De),De}function te(De){return De==null?null:X(De)}function X(De){if(typeof De!="function")throw new Error;return De}function $(){return 0}function ie(De){return function(){return De}}function J(De){return Math.sqrt(De.value)}function j(){var De=null,me=1,ge=1,Ee=$;function Te(ze){return ze.x=me/2,ze.y=ge/2,De?ze.eachBefore(se(De)).eachAfter(ne(Ee,.5)).eachBefore(le(1)):ze.eachBefore(se(J)).eachAfter(ne($,1)).eachAfter(ne(Ee,ze.r/Math.min(me,ge))).eachBefore(le(Math.min(me,ge)/(2*ze.r))),ze}return Te.radius=function(ze){return arguments.length?(De=te(ze),Te):De},Te.size=function(ze){return arguments.length?(me=+ze[0],ge=+ze[1],Te):[me,ge]},Te.padding=function(ze){return arguments.length?(Ee=typeof ze=="function"?ze:ie(+ze),Te):Ee},Te}function se(De){return function(me){me.children||(me.r=Math.max(0,+De(me)||0))}}function ne(De,me){return function(ge){if(Ee=ge.children){var Ee,Te,ze=Ee.length,Xe=De(ge)*me||0,et;if(Xe)for(Te=0;Te<ze;++Te)Ee[Te].r+=Xe;if(et=Z(Ee),Xe)for(Te=0;Te<ze;++Te)Ee[Te].r-=Xe;ge.r=et+Xe}}}function le(De){return function(me){var ge=me.parent;me.r*=De,ge&&(me.x=ge.x+De*me.x,me.y=ge.y+De*me.y)}}function pe(De){De.x0=Math.round(De.x0),De.y0=Math.round(De.y0),De.x1=Math.round(De.x1),De.y1=Math.round(De.y1)}function Ae(De,me,ge,Ee,Te){for(var ze=De.children,Xe,et=-1,ut=ze.length,dt=De.value&&(Ee-me)/De.value;++et<ut;)Xe=ze[et],Xe.y0=ge,Xe.y1=Te,Xe.x0=me,Xe.x1=me+=Xe.value*dt}function be(){var De=1,me=1,ge=0,Ee=!1;function Te(Xe){var et=Xe.height+1;return Xe.x0=Xe.y0=ge,Xe.x1=De,Xe.y1=me/et,Xe.eachBefore(ze(me,et)),Ee&&Xe.eachBefore(pe),Xe}function ze(Xe,et){return function(ut){ut.children&&Ae(ut,ut.x0,Xe*(ut.depth+1)/et,ut.x1,Xe*(ut.depth+2)/et);var dt=ut.x0,Zt=ut.y0,jt=ut.x1-ge,Tt=ut.y1-ge;jt<dt&&(dt=jt=(dt+jt)/2),Tt<Zt&&(Zt=Tt=(Zt+Tt)/2),ut.x0=dt,ut.y0=Zt,ut.x1=jt,ut.y1=Tt}}return Te.round=function(Xe){return arguments.length?(Ee=!!Xe,Te):Ee},Te.size=function(Xe){return arguments.length?(De=+Xe[0],me=+Xe[1],Te):[De,me]},Te.padding=function(Xe){return arguments.length?(ge=+Xe,Te):ge},Te}var Re="$",xe={depth:-1},Me={};function ye(De){return De.id}function Se(De){return De.parentId}function Fe(){var De=ye,me=Se;function ge(Ee){var Te,ze,Xe=Ee.length,et,ut,dt,Zt=new Array(Xe),jt,Tt,kt={};for(ze=0;ze<Xe;++ze)Te=Ee[ze],dt=Zt[ze]=new o(Te),(jt=De(Te,ze,Ee))!=null&&(jt+="")&&(Tt=Re+(dt.id=jt),kt[Tt]=Tt in kt?Me:dt);for(ze=0;ze<Xe;++ze)if(dt=Zt[ze],jt=me(Ee[ze],ze,Ee),jt==null||!(jt+="")){if(et)throw new Error("multiple roots");et=dt}else{if(ut=kt[Re+jt],!ut)throw new Error("missing: "+jt);if(ut===Me)throw new Error("ambiguous: "+jt);ut.children?ut.children.push(dt):ut.children=[dt],dt.parent=ut}if(!et)throw new Error("no root");if(et.parent=xe,et.eachBefore(function(Qt){Qt.depth=Qt.parent.depth+1,--Xe}).eachBefore(T),et.parent=null,Xe>0)throw new Error("cycle");return et}return ge.id=function(Ee){return arguments.length?(De=X(Ee),ge):De},ge.parentId=function(Ee){return arguments.length?(me=X(Ee),ge):me},ge}function Be(De,me){return De.parent===me.parent?1:2}function _e(De){var me=De.children;return me?me[0]:De.t}function Ue(De){var me=De.children;return me?me[me.length-1]:De.t}function it(De,me,ge){var Ee=ge/(me.i-De.i);me.c-=Ee,me.s+=ge,De.c+=Ee,me.z+=ge,me.m+=ge}function lt(De){for(var me=0,ge=0,Ee=De.children,Te=Ee.length,ze;--Te>=0;)ze=Ee[Te],ze.z+=me,ze.m+=me,me+=ze.s+(ge+=ze.c)}function $e(De,me,ge){return De.a.parent===me.parent?De.a:ge}function qe(De,me){this._=De,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=me}qe.prototype=Object.create(o.prototype);function ft(De){for(var me=new qe(De,0),ge,Ee=[me],Te,ze,Xe,et;ge=Ee.pop();)if(ze=ge._.children)for(ge.children=new Array(et=ze.length),Xe=et-1;Xe>=0;--Xe)Ee.push(Te=ge.children[Xe]=new qe(ze[Xe],Xe)),Te.parent=ge;return(me.parent=new qe(null,0)).children=[me],me}function ct(){var De=Be,me=1,ge=1,Ee=null;function Te(dt){var Zt=ft(dt);if(Zt.eachAfter(ze),Zt.parent.m=-Zt.z,Zt.eachBefore(Xe),Ee)dt.eachBefore(ut);else{var jt=dt,Tt=dt,kt=dt;dt.eachBefore(function(Wt){Wt.x<jt.x&&(jt=Wt),Wt.x>Tt.x&&(Tt=Wt),Wt.depth>kt.depth&&(kt=Wt)});var Qt=jt===Tt?1:De(jt,Tt)/2,wr=Qt-jt.x,xt=me/(Tt.x+Qt+wr),At=ge/(kt.depth||1);dt.eachBefore(function(Wt){Wt.x=(Wt.x+wr)*xt,Wt.y=Wt.depth*At})}return dt}function ze(dt){var Zt=dt.children,jt=dt.parent.children,Tt=dt.i?jt[dt.i-1]:null;if(Zt){lt(dt);var kt=(Zt[0].z+Zt[Zt.length-1].z)/2;Tt?(dt.z=Tt.z+De(dt._,Tt._),dt.m=dt.z-kt):dt.z=kt}else Tt&&(dt.z=Tt.z+De(dt._,Tt._));dt.parent.A=et(dt,Tt,dt.parent.A||jt[0])}function Xe(dt){dt._.x=dt.z+dt.parent.m,dt.m+=dt.parent.m}function et(dt,Zt,jt){if(Zt){for(var Tt=dt,kt=dt,Qt=Zt,wr=Tt.parent.children[0],xt=Tt.m,At=kt.m,Wt=Qt.m,er=wr.m,$t;Qt=Ue(Qt),Tt=_e(Tt),Qt&&Tt;)wr=_e(wr),kt=Ue(kt),kt.a=dt,$t=Qt.z+Wt-Tt.z-xt+De(Qt._,Tt._),$t>0&&(it($e(Qt,dt,jt),dt,$t),xt+=$t,At+=$t),Wt+=Qt.m,xt+=Tt.m,er+=wr.m,At+=kt.m;Qt&&!Ue(kt)&&(kt.t=Qt,kt.m+=Wt-At),Tt&&!_e(wr)&&(wr.t=Tt,wr.m+=xt-er,jt=dt)}return jt}function ut(dt){dt.x*=me,dt.y=dt.depth*ge}return Te.separation=function(dt){return arguments.length?(De=dt,Te):De},Te.size=function(dt){return arguments.length?(Ee=!1,me=+dt[0],ge=+dt[1],Te):Ee?null:[me,ge]},Te.nodeSize=function(dt){return arguments.length?(Ee=!0,me=+dt[0],ge=+dt[1],Te):Ee?[me,ge]:null},Te}function pt(De,me,ge,Ee,Te){for(var ze=De.children,Xe,et=-1,ut=ze.length,dt=De.value&&(Te-ge)/De.value;++et<ut;)Xe=ze[et],Xe.x0=me,Xe.x1=Ee,Xe.y0=ge,Xe.y1=ge+=Xe.value*dt}var yt=(1+Math.sqrt(5))/2;function Et(De,me,ge,Ee,Te,ze){for(var Xe=[],et=me.children,ut,dt,Zt=0,jt=0,Tt=et.length,kt,Qt,wr=me.value,xt,At,Wt,er,$t,ht,at;Zt<Tt;){kt=Te-ge,Qt=ze-Ee;do xt=et[jt++].value;while(!xt&&jt<Tt);for(At=Wt=xt,ht=Math.max(Qt/kt,kt/Qt)/(wr*De),at=xt*xt*ht,$t=Math.max(Wt/at,at/At);jt<Tt;++jt){if(xt+=dt=et[jt].value,dt<At&&(At=dt),dt>Wt&&(Wt=dt),at=xt*xt*ht,er=Math.max(Wt/at,at/At),er>$t){xt-=dt;break}$t=er}Xe.push(ut={value:xt,dice:kt<Qt,children:et.slice(Zt,jt)}),ut.dice?Ae(ut,ge,Ee,Te,wr?Ee+=Qt*xt/wr:ze):pt(ut,ge,Ee,wr?ge+=kt*xt/wr:Te,ze),wr-=xt,Zt=jt}return Xe}var tt=function De(me){function ge(Ee,Te,ze,Xe,et){Et(me,Ee,Te,ze,Xe,et)}return ge.ratio=function(Ee){return De((Ee=+Ee)>1?Ee:1)},ge}(yt);function Ie(){var De=tt,me=!1,ge=1,Ee=1,Te=[0],ze=$,Xe=$,et=$,ut=$,dt=$;function Zt(Tt){return Tt.x0=Tt.y0=0,Tt.x1=ge,Tt.y1=Ee,Tt.eachBefore(jt),Te=[0],me&&Tt.eachBefore(pe),Tt}function jt(Tt){var kt=Te[Tt.depth],Qt=Tt.x0+kt,wr=Tt.y0+kt,xt=Tt.x1-kt,At=Tt.y1-kt;xt<Qt&&(Qt=xt=(Qt+xt)/2),At<wr&&(wr=At=(wr+At)/2),Tt.x0=Qt,Tt.y0=wr,Tt.x1=xt,Tt.y1=At,Tt.children&&(kt=Te[Tt.depth+1]=ze(Tt)/2,Qt+=dt(Tt)-kt,wr+=Xe(Tt)-kt,xt-=et(Tt)-kt,At-=ut(Tt)-kt,xt<Qt&&(Qt=xt=(Qt+xt)/2),At<wr&&(wr=At=(wr+At)/2),De(Tt,Qt,wr,xt,At))}return Zt.round=function(Tt){return arguments.length?(me=!!Tt,Zt):me},Zt.size=function(Tt){return arguments.length?(ge=+Tt[0],Ee=+Tt[1],Zt):[ge,Ee]},Zt.tile=function(Tt){return arguments.length?(De=X(Tt),Zt):De},Zt.padding=function(Tt){return arguments.length?Zt.paddingInner(Tt).paddingOuter(Tt):Zt.paddingInner()},Zt.paddingInner=function(Tt){return arguments.length?(ze=typeof Tt=="function"?Tt:ie(+Tt),Zt):ze},Zt.paddingOuter=function(Tt){return arguments.length?Zt.paddingTop(Tt).paddingRight(Tt).paddingBottom(Tt).paddingLeft(Tt):Zt.paddingTop()},Zt.paddingTop=function(Tt){return arguments.length?(Xe=typeof Tt=="function"?Tt:ie(+Tt),Zt):Xe},Zt.paddingRight=function(Tt){return arguments.length?(et=typeof Tt=="function"?Tt:ie(+Tt),Zt):et},Zt.paddingBottom=function(Tt){return arguments.length?(ut=typeof Tt=="function"?Tt:ie(+Tt),Zt):ut},Zt.paddingLeft=function(Tt){return arguments.length?(dt=typeof Tt=="function"?Tt:ie(+Tt),Zt):dt},Zt}function We(De,me,ge,Ee,Te){var ze=De.children,Xe,et=ze.length,ut,dt=new Array(et+1);for(dt[0]=ut=Xe=0;Xe<et;++Xe)dt[Xe+1]=ut+=ze[Xe].value;Zt(0,et,De.value,me,ge,Ee,Te);function Zt(jt,Tt,kt,Qt,wr,xt,At){if(jt>=Tt-1){var Wt=ze[jt];Wt.x0=Qt,Wt.y0=wr,Wt.x1=xt,Wt.y1=At;return}for(var er=dt[jt],$t=kt/2+er,ht=jt+1,at=Tt-1;ht<at;){var bt=ht+at>>>1;dt[bt]<$t?ht=bt+1:at=bt}$t-dt[ht-1]<dt[ht]-$t&&jt+1<ht&&--ht;var Ct=dt[ht]-er,Dt=kt-Ct;if(xt-Qt>At-wr){var It=(Qt*Dt+xt*Ct)/kt;Zt(jt,ht,Ct,Qt,wr,It,At),Zt(ht,Tt,Dt,It,wr,xt,At)}else{var Vt=(wr*Dt+At*Ct)/kt;Zt(jt,ht,Ct,Qt,wr,xt,Vt),Zt(ht,Tt,Dt,Qt,Vt,xt,At)}}}function Ze(De,me,ge,Ee,Te){(De.depth&1?pt:Ae)(De,me,ge,Ee,Te)}var He=function De(me){function ge(Ee,Te,ze,Xe,et){if((ut=Ee._squarify)&&ut.ratio===me)for(var ut,dt,Zt,jt,Tt=-1,kt,Qt=ut.length,wr=Ee.value;++Tt<Qt;){for(dt=ut[Tt],Zt=dt.children,jt=dt.value=0,kt=Zt.length;jt<kt;++jt)dt.value+=Zt[jt].value;dt.dice?Ae(dt,Te,ze,Xe,ze+=(et-ze)*dt.value/wr):pt(dt,Te,ze,Te+=(Xe-Te)*dt.value/wr,et),wr-=dt.value}else Ee._squarify=ut=Et(me,Ee,Te,ze,Xe,et),ut.ratio=me}return ge.ratio=function(Ee){return De((Ee=+Ee)>1?Ee:1)},ge}(yt)},10132:function(G,U,e){e.d(U,{ak:function(){return h}});var g=Math.PI,L=2*g,a=1e-6,C=L-a;function A(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function v(){return new A}A.prototype=v.prototype={constructor:A,moveTo:function(M,c){this._+="M"+(this._x0=this._x1=+M)+","+(this._y0=this._y1=+c)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(M,c){this._+="L"+(this._x1=+M)+","+(this._y1=+c)},quadraticCurveTo:function(M,c,i,d){this._+="Q"+ +M+","+ +c+","+(this._x1=+i)+","+(this._y1=+d)},bezierCurveTo:function(M,c,i,d,b,w){this._+="C"+ +M+","+ +c+","+ +i+","+ +d+","+(this._x1=+b)+","+(this._y1=+w)},arcTo:function(M,c,i,d,b){M=+M,c=+c,i=+i,d=+d,b=+b;var w=this._x1,E=this._y1,y=i-M,S=d-c,T=w-M,o=E-c,P=T*T+o*o;if(b<0)throw new Error("negative radius: "+b);if(this._x1===null)this._+="M"+(this._x1=M)+","+(this._y1=c);else if(P>a)if(!(Math.abs(o*y-S*T)>a)||!b)this._+="L"+(this._x1=M)+","+(this._y1=c);else{var x=i-w,_=d-E,I=y*y+S*S,N=x*x+_*_,k=Math.sqrt(I),F=Math.sqrt(P),O=b*Math.tan((g-Math.acos((I+P-N)/(2*k*F)))/2),z=O/F,B=O/k;Math.abs(z-1)>a&&(this._+="L"+(M+z*T)+","+(c+z*o)),this._+="A"+b+","+b+",0,0,"+ +(o*x>T*_)+","+(this._x1=M+B*y)+","+(this._y1=c+B*S)}},arc:function(M,c,i,d,b,w){M=+M,c=+c,i=+i,w=!!w;var E=i*Math.cos(d),y=i*Math.sin(d),S=M+E,T=c+y,o=1^w,P=w?d-b:b-d;if(i<0)throw new Error("negative radius: "+i);this._x1===null?this._+="M"+S+","+T:(Math.abs(this._x1-S)>a||Math.abs(this._y1-T)>a)&&(this._+="L"+S+","+T),i&&(P<0&&(P=P%L+L),P>C?this._+="A"+i+","+i+",0,1,"+o+","+(M-E)+","+(c-y)+"A"+i+","+i+",0,1,"+o+","+(this._x1=S)+","+(this._y1=T):P>a&&(this._+="A"+i+","+i+",0,"+ +(P>=g)+","+o+","+(this._x1=M+i*Math.cos(b))+","+(this._y1=c+i*Math.sin(b))))},rect:function(M,c,i,d){this._+="M"+(this._x0=this._x1=+M)+","+(this._y0=this._y1=+c)+"h"+ +i+"v"+ +d+"h"+-i+"Z"},toString:function(){return this._}};var p=v,r=Array.prototype.slice;function t(M){return function(){return M}}function s(M){return M[0]}function n(M){return M[1]}function f(M){return M.source}function u(M){return M.target}function l(M){var c=f,i=u,d=s,b=n,w=null;function E(){var y,S=r.call(arguments),T=c.apply(this,S),o=i.apply(this,S);if(w||(w=y=p()),M(w,+d.apply(this,(S[0]=T,S)),+b.apply(this,S),+d.apply(this,(S[0]=o,S)),+b.apply(this,S)),y)return w=null,y+""||null}return E.source=function(y){return arguments.length?(c=y,E):c},E.target=function(y){return arguments.length?(i=y,E):i},E.x=function(y){return arguments.length?(d=typeof y=="function"?y:t(+y),E):d},E.y=function(y){return arguments.length?(b=typeof y=="function"?y:t(+y),E):b},E.context=function(y){return arguments.length?(w=y==null?null:y,E):w},E}function m(M,c,i,d,b){M.moveTo(c,i),M.bezierCurveTo(c=(c+d)/2,i,c,b,d,b)}function h(){return l(m)}},94336:function(G,U,e){e.d(U,{Yn:function(){return We},m_:function(){return s},E9:function(){return Ze}});var g=e(8208),L=e(58931),a=e(46192),C=e(68936),A=e(32171),v=e(53528);function p(De){if(0<=De.y&&De.y<100){var me=new Date(-1,De.m,De.d,De.H,De.M,De.S,De.L);return me.setFullYear(De.y),me}return new Date(De.y,De.m,De.d,De.H,De.M,De.S,De.L)}function r(De){if(0<=De.y&&De.y<100){var me=new Date(Date.UTC(-1,De.m,De.d,De.H,De.M,De.S,De.L));return me.setUTCFullYear(De.y),me}return new Date(Date.UTC(De.y,De.m,De.d,De.H,De.M,De.S,De.L))}function t(De,me,ge){return{y:De,m:me,d:ge,H:0,M:0,S:0,L:0}}function s(De){var me=De.dateTime,ge=De.date,Ee=De.time,Te=De.periods,ze=De.days,Xe=De.shortDays,et=De.months,ut=De.shortMonths,dt=M(Te),Zt=c(Te),jt=M(ze),Tt=c(ze),kt=M(Xe),Qt=c(Xe),wr=M(et),xt=c(et),At=M(ut),Wt=c(ut),er={a:Ge,A:Ve,b:Ot,B:Ft,c:null,d:q,e:q,f:Y,H:ee,I:Q,j:oe,L:Z,m:te,M:X,p:Kt,q:rr,Q:Et,s:tt,S:$,u:ie,U:J,V:j,w:se,W:ne,x:null,X:null,y:le,Y:pe,Z:Ae,"%":yt},$t={a:ur,A:ar,b:Bt,B:hr,c:null,d:be,e:be,f:Se,H:Re,I:xe,j:Me,L:ye,m:Fe,M:Be,p:gr,q:mr,Q:Et,s:tt,S:_e,u:Ue,U:it,V:lt,w:$e,W:qe,x:null,X:null,y:ft,Y:ct,Z:pt,"%":yt},ht={a:It,A:Vt,b:Nt,B:Jt,c:fr,d:x,e:x,f:O,H:I,I,j:_,L:F,m:P,M:N,p:Dt,q:o,Q:B,s:W,S:k,u:d,U:b,V:w,w:i,W:E,x:cr,X:dr,y:S,Y:y,Z:T,"%":z};er.x=at(ge,er),er.X=at(Ee,er),er.c=at(me,er),$t.x=at(ge,$t),$t.X=at(Ee,$t),$t.c=at(me,$t);function at(vr,Gr){return function(Rr){var Ir=[],cn=-1,rn=0,Ln=vr.length,En,Tr,Lr;for(Rr instanceof Date||(Rr=new Date(+Rr));++cn<Ln;)vr.charCodeAt(cn)===37&&(Ir.push(vr.slice(rn,cn)),(Tr=n[En=vr.charAt(++cn)])!=null?En=vr.charAt(++cn):Tr=En==="e"?" ":"0",(Lr=Gr[En])&&(En=Lr(Rr,Tr)),Ir.push(En),rn=cn+1);return Ir.push(vr.slice(rn,cn)),Ir.join("")}}function bt(vr,Gr){return function(Rr){var Ir=t(1900,void 0,1),cn=Ct(Ir,vr,Rr+="",0),rn,Ln;if(cn!=Rr.length)return null;if("Q"in Ir)return new Date(Ir.Q);if("s"in Ir)return new Date(Ir.s*1e3+("L"in Ir?Ir.L:0));if(Gr&&!("Z"in Ir)&&(Ir.Z=0),"p"in Ir&&(Ir.H=Ir.H%12+Ir.p*12),Ir.m===void 0&&(Ir.m="q"in Ir?Ir.q:0),"V"in Ir){if(Ir.V<1||Ir.V>53)return null;"w"in Ir||(Ir.w=1),"Z"in Ir?(rn=r(t(Ir.y,0,1)),Ln=rn.getUTCDay(),rn=Ln>4||Ln===0?g.ot.ceil(rn):(0,g.ot)(rn),rn=L.c.offset(rn,(Ir.V-1)*7),Ir.y=rn.getUTCFullYear(),Ir.m=rn.getUTCMonth(),Ir.d=rn.getUTCDate()+(Ir.w+6)%7):(rn=p(t(Ir.y,0,1)),Ln=rn.getDay(),rn=Ln>4||Ln===0?a.qT.ceil(rn):(0,a.qT)(rn),rn=C.c.offset(rn,(Ir.V-1)*7),Ir.y=rn.getFullYear(),Ir.m=rn.getMonth(),Ir.d=rn.getDate()+(Ir.w+6)%7)}else("W"in Ir||"U"in Ir)&&("w"in Ir||(Ir.w="u"in Ir?Ir.u%7:"W"in Ir?1:0),Ln="Z"in Ir?r(t(Ir.y,0,1)).getUTCDay():p(t(Ir.y,0,1)).getDay(),Ir.m=0,Ir.d="W"in Ir?(Ir.w+6)%7+Ir.W*7-(Ln+5)%7:Ir.w+Ir.U*7-(Ln+6)%7);return"Z"in Ir?(Ir.H+=Ir.Z/100|0,Ir.M+=Ir.Z%100,r(Ir)):p(Ir)}}function Ct(vr,Gr,Rr,Ir){for(var cn=0,rn=Gr.length,Ln=Rr.length,En,Tr;cn<rn;){if(Ir>=Ln)return-1;if(En=Gr.charCodeAt(cn++),En===37){if(En=Gr.charAt(cn++),Tr=ht[En in n?Gr.charAt(cn++):En],!Tr||(Ir=Tr(vr,Rr,Ir))<0)return-1}else if(En!=Rr.charCodeAt(Ir++))return-1}return Ir}function Dt(vr,Gr,Rr){var Ir=dt.exec(Gr.slice(Rr));return Ir?(vr.p=Zt[Ir[0].toLowerCase()],Rr+Ir[0].length):-1}function It(vr,Gr,Rr){var Ir=kt.exec(Gr.slice(Rr));return Ir?(vr.w=Qt[Ir[0].toLowerCase()],Rr+Ir[0].length):-1}function Vt(vr,Gr,Rr){var Ir=jt.exec(Gr.slice(Rr));return Ir?(vr.w=Tt[Ir[0].toLowerCase()],Rr+Ir[0].length):-1}function Nt(vr,Gr,Rr){var Ir=At.exec(Gr.slice(Rr));return Ir?(vr.m=Wt[Ir[0].toLowerCase()],Rr+Ir[0].length):-1}function Jt(vr,Gr,Rr){var Ir=wr.exec(Gr.slice(Rr));return Ir?(vr.m=xt[Ir[0].toLowerCase()],Rr+Ir[0].length):-1}function fr(vr,Gr,Rr){return Ct(vr,me,Gr,Rr)}function cr(vr,Gr,Rr){return Ct(vr,ge,Gr,Rr)}function dr(vr,Gr,Rr){return Ct(vr,Ee,Gr,Rr)}function Ge(vr){return Xe[vr.getDay()]}function Ve(vr){return ze[vr.getDay()]}function Ot(vr){return ut[vr.getMonth()]}function Ft(vr){return et[vr.getMonth()]}function Kt(vr){return Te[+(vr.getHours()>=12)]}function rr(vr){return 1+~~(vr.getMonth()/3)}function ur(vr){return Xe[vr.getUTCDay()]}function ar(vr){return ze[vr.getUTCDay()]}function Bt(vr){return ut[vr.getUTCMonth()]}function hr(vr){return et[vr.getUTCMonth()]}function gr(vr){return Te[+(vr.getUTCHours()>=12)]}function mr(vr){return 1+~~(vr.getUTCMonth()/3)}return{format:function(vr){var Gr=at(vr+="",er);return Gr.toString=function(){return vr},Gr},parse:function(vr){var Gr=bt(vr+="",!1);return Gr.toString=function(){return vr},Gr},utcFormat:function(vr){var Gr=at(vr+="",$t);return Gr.toString=function(){return vr},Gr},utcParse:function(vr){var Gr=bt(vr+="",!0);return Gr.toString=function(){return vr},Gr}}}var n={"-":"",_:" ",0:"0"},f=/^\s*\d+/,u=/^%/,l=/[\\^$*+?|[\]().{}]/g;function m(De,me,ge){var Ee=De<0?"-":"",Te=(Ee?-De:De)+"",ze=Te.length;return Ee+(ze<ge?new Array(ge-ze+1).join(me)+Te:Te)}function h(De){return De.replace(l,"\\$&")}function M(De){return new RegExp("^(?:"+De.map(h).join("|")+")","i")}function c(De){for(var me={},ge=-1,Ee=De.length;++ge<Ee;)me[De[ge].toLowerCase()]=ge;return me}function i(De,me,ge){var Ee=f.exec(me.slice(ge,ge+1));return Ee?(De.w=+Ee[0],ge+Ee[0].length):-1}function d(De,me,ge){var Ee=f.exec(me.slice(ge,ge+1));return Ee?(De.u=+Ee[0],ge+Ee[0].length):-1}function b(De,me,ge){var Ee=f.exec(me.slice(ge,ge+2));return Ee?(De.U=+Ee[0],ge+Ee[0].length):-1}function w(De,me,ge){var Ee=f.exec(me.slice(ge,ge+2));return Ee?(De.V=+Ee[0],ge+Ee[0].length):-1}function E(De,me,ge){var Ee=f.exec(me.slice(ge,ge+2));return Ee?(De.W=+Ee[0],ge+Ee[0].length):-1}function y(De,me,ge){var Ee=f.exec(me.slice(ge,ge+4));return Ee?(De.y=+Ee[0],ge+Ee[0].length):-1}function S(De,me,ge){var Ee=f.exec(me.slice(ge,ge+2));return Ee?(De.y=+Ee[0]+(+Ee[0]>68?1900:2e3),ge+Ee[0].length):-1}function T(De,me,ge){var Ee=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(me.slice(ge,ge+6));return Ee?(De.Z=Ee[1]?0:-(Ee[2]+(Ee[3]||"00")),ge+Ee[0].length):-1}function o(De,me,ge){var Ee=f.exec(me.slice(ge,ge+1));return Ee?(De.q=Ee[0]*3-3,ge+Ee[0].length):-1}function P(De,me,ge){var Ee=f.exec(me.slice(ge,ge+2));return Ee?(De.m=Ee[0]-1,ge+Ee[0].length):-1}function x(De,me,ge){var Ee=f.exec(me.slice(ge,ge+2));return Ee?(De.d=+Ee[0],ge+Ee[0].length):-1}function _(De,me,ge){var Ee=f.exec(me.slice(ge,ge+3));return Ee?(De.m=0,De.d=+Ee[0],ge+Ee[0].length):-1}function I(De,me,ge){var Ee=f.exec(me.slice(ge,ge+2));return Ee?(De.H=+Ee[0],ge+Ee[0].length):-1}function N(De,me,ge){var Ee=f.exec(me.slice(ge,ge+2));return Ee?(De.M=+Ee[0],ge+Ee[0].length):-1}function k(De,me,ge){var Ee=f.exec(me.slice(ge,ge+2));return Ee?(De.S=+Ee[0],ge+Ee[0].length):-1}function F(De,me,ge){var Ee=f.exec(me.slice(ge,ge+3));return Ee?(De.L=+Ee[0],ge+Ee[0].length):-1}function O(De,me,ge){var Ee=f.exec(me.slice(ge,ge+6));return Ee?(De.L=Math.floor(Ee[0]/1e3),ge+Ee[0].length):-1}function z(De,me,ge){var Ee=u.exec(me.slice(ge,ge+1));return Ee?ge+Ee[0].length:-1}function B(De,me,ge){var Ee=f.exec(me.slice(ge));return Ee?(De.Q=+Ee[0],ge+Ee[0].length):-1}function W(De,me,ge){var Ee=f.exec(me.slice(ge));return Ee?(De.s=+Ee[0],ge+Ee[0].length):-1}function q(De,me){return m(De.getDate(),me,2)}function ee(De,me){return m(De.getHours(),me,2)}function Q(De,me){return m(De.getHours()%12||12,me,2)}function oe(De,me){return m(1+C.c.count((0,A.c)(De),De),me,3)}function Z(De,me){return m(De.getMilliseconds(),me,3)}function Y(De,me){return Z(De,me)+"000"}function te(De,me){return m(De.getMonth()+1,me,2)}function X(De,me){return m(De.getMinutes(),me,2)}function $(De,me){return m(De.getSeconds(),me,2)}function ie(De){var me=De.getDay();return me===0?7:me}function J(De,me){return m(a.uU.count((0,A.c)(De)-1,De),me,2)}function j(De,me){var ge=De.getDay();return De=ge>=4||ge===0?(0,a.kD)(De):a.kD.ceil(De),m(a.kD.count((0,A.c)(De),De)+((0,A.c)(De).getDay()===4),me,2)}function se(De){return De.getDay()}function ne(De,me){return m(a.qT.count((0,A.c)(De)-1,De),me,2)}function le(De,me){return m(De.getFullYear()%100,me,2)}function pe(De,me){return m(De.getFullYear()%1e4,me,4)}function Ae(De){var me=De.getTimezoneOffset();return(me>0?"-":(me*=-1,"+"))+m(me/60|0,"0",2)+m(me%60,"0",2)}function be(De,me){return m(De.getUTCDate(),me,2)}function Re(De,me){return m(De.getUTCHours(),me,2)}function xe(De,me){return m(De.getUTCHours()%12||12,me,2)}function Me(De,me){return m(1+L.c.count((0,v.c)(De),De),me,3)}function ye(De,me){return m(De.getUTCMilliseconds(),me,3)}function Se(De,me){return ye(De,me)+"000"}function Fe(De,me){return m(De.getUTCMonth()+1,me,2)}function Be(De,me){return m(De.getUTCMinutes(),me,2)}function _e(De,me){return m(De.getUTCSeconds(),me,2)}function Ue(De){var me=De.getUTCDay();return me===0?7:me}function it(De,me){return m(g.EV.count((0,v.c)(De)-1,De),me,2)}function lt(De,me){var ge=De.getUTCDay();return De=ge>=4||ge===0?(0,g.yA)(De):g.yA.ceil(De),m(g.yA.count((0,v.c)(De),De)+((0,v.c)(De).getUTCDay()===4),me,2)}function $e(De){return De.getUTCDay()}function qe(De,me){return m(g.ot.count((0,v.c)(De)-1,De),me,2)}function ft(De,me){return m(De.getUTCFullYear()%100,me,2)}function ct(De,me){return m(De.getUTCFullYear()%1e4,me,4)}function pt(){return"+0000"}function yt(){return"%"}function Et(De){return+De}function tt(De){return Math.floor(+De/1e3)}var Ie,We,Ze;He({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function He(De){return Ie=s(De),We=Ie.format,Ie.parse,Ze=Ie.utcFormat,Ie.utcParse,Ie}},68936:function(G,U,e){e.d(U,{m:function(){return C}});var g=e(81628),L=e(69792),a=(0,g.c)(function(A){A.setHours(0,0,0,0)},function(A,v){A.setDate(A.getDate()+v)},function(A,v){return(v-A-(v.getTimezoneOffset()-A.getTimezoneOffset())*L.iy)/L.SK},function(A){return A.getDate()-1});U.c=a;var C=a.range},69792:function(G,U,e){e.d(U,{KK:function(){return A},SK:function(){return C},cg:function(){return a},iy:function(){return L},yc:function(){return g}});var g=1e3,L=6e4,a=36e5,C=864e5,A=6048e5},73220:function(G,U,e){e.r(U),e.d(U,{timeDay:function(){return m.c},timeDays:function(){return m.m},timeFriday:function(){return h.iB},timeFridays:function(){return h.sJ},timeHour:function(){return u},timeHours:function(){return l},timeInterval:function(){return g.c},timeMillisecond:function(){return a},timeMilliseconds:function(){return C},timeMinute:function(){return s},timeMinutes:function(){return n},timeMonday:function(){return h.qT},timeMondays:function(){return h.QP},timeMonth:function(){return c},timeMonths:function(){return i},timeSaturday:function(){return h.Wc},timeSaturdays:function(){return h.aI},timeSecond:function(){return p},timeSeconds:function(){return r},timeSunday:function(){return h.uU},timeSundays:function(){return h.Ab},timeThursday:function(){return h.kD},timeThursdays:function(){return h.eC},timeTuesday:function(){return h.Mf},timeTuesdays:function(){return h.Oc},timeWednesday:function(){return h.eg},timeWednesdays:function(){return h.sn},timeWeek:function(){return h.uU},timeWeeks:function(){return h.Ab},timeYear:function(){return d.c},timeYears:function(){return d.Q},utcDay:function(){return o.c},utcDays:function(){return o.o},utcFriday:function(){return P.od},utcFridays:function(){return P.iG},utcHour:function(){return S},utcHours:function(){return T},utcMillisecond:function(){return a},utcMilliseconds:function(){return C},utcMinute:function(){return w},utcMinutes:function(){return E},utcMonday:function(){return P.ot},utcMondays:function(){return P.iO},utcMonth:function(){return _},utcMonths:function(){return I},utcSaturday:function(){return P.Ad},utcSaturdays:function(){return P.K8},utcSecond:function(){return p},utcSeconds:function(){return r},utcSunday:function(){return P.EV},utcSundays:function(){return P.Wq},utcThursday:function(){return P.yA},utcThursdays:function(){return P.ob},utcTuesday:function(){return P.sG},utcTuesdays:function(){return P.kl},utcWednesday:function(){return P._6},utcWednesdays:function(){return P.W_},utcWeek:function(){return P.EV},utcWeeks:function(){return P.Wq},utcYear:function(){return N.c},utcYears:function(){return N.i}});var g=e(81628),L=(0,g.c)(function(){},function(k,F){k.setTime(+k+F)},function(k,F){return F-k});L.every=function(k){return k=Math.floor(k),!isFinite(k)||!(k>0)?null:k>1?(0,g.c)(function(F){F.setTime(Math.floor(F/k)*k)},function(F,O){F.setTime(+F+O*k)},function(F,O){return(O-F)/k}):L};var a=L,C=L.range,A=e(69792),v=(0,g.c)(function(k){k.setTime(k-k.getMilliseconds())},function(k,F){k.setTime(+k+F*A.yc)},function(k,F){return(F-k)/A.yc},function(k){return k.getUTCSeconds()}),p=v,r=v.range,t=(0,g.c)(function(k){k.setTime(k-k.getMilliseconds()-k.getSeconds()*A.yc)},function(k,F){k.setTime(+k+F*A.iy)},function(k,F){return(F-k)/A.iy},function(k){return k.getMinutes()}),s=t,n=t.range,f=(0,g.c)(function(k){k.setTime(k-k.getMilliseconds()-k.getSeconds()*A.yc-k.getMinutes()*A.iy)},function(k,F){k.setTime(+k+F*A.cg)},function(k,F){return(F-k)/A.cg},function(k){return k.getHours()}),u=f,l=f.range,m=e(68936),h=e(46192),M=(0,g.c)(function(k){k.setDate(1),k.setHours(0,0,0,0)},function(k,F){k.setMonth(k.getMonth()+F)},function(k,F){return F.getMonth()-k.getMonth()+(F.getFullYear()-k.getFullYear())*12},function(k){return k.getMonth()}),c=M,i=M.range,d=e(32171),b=(0,g.c)(function(k){k.setUTCSeconds(0,0)},function(k,F){k.setTime(+k+F*A.iy)},function(k,F){return(F-k)/A.iy},function(k){return k.getUTCMinutes()}),w=b,E=b.range,y=(0,g.c)(function(k){k.setUTCMinutes(0,0,0)},function(k,F){k.setTime(+k+F*A.cg)},function(k,F){return(F-k)/A.cg},function(k){return k.getUTCHours()}),S=y,T=y.range,o=e(58931),P=e(8208),x=(0,g.c)(function(k){k.setUTCDate(1),k.setUTCHours(0,0,0,0)},function(k,F){k.setUTCMonth(k.getUTCMonth()+F)},function(k,F){return F.getUTCMonth()-k.getUTCMonth()+(F.getUTCFullYear()-k.getUTCFullYear())*12},function(k){return k.getUTCMonth()}),_=x,I=x.range,N=e(53528)},81628:function(G,U,e){e.d(U,{c:function(){return a}});var g=new Date,L=new Date;function a(C,A,v,p){function r(t){return C(t=arguments.length===0?new Date:new Date(+t)),t}return r.floor=function(t){return C(t=new Date(+t)),t},r.ceil=function(t){return C(t=new Date(t-1)),A(t,1),C(t),t},r.round=function(t){var s=r(t),n=r.ceil(t);return t-s<n-t?s:n},r.offset=function(t,s){return A(t=new Date(+t),s==null?1:Math.floor(s)),t},r.range=function(t,s,n){var f=[],u;if(t=r.ceil(t),n=n==null?1:Math.floor(n),!(t<s)||!(n>0))return f;do f.push(u=new Date(+t)),A(t,n),C(t);while(u<t&&t<s);return f},r.filter=function(t){return a(function(s){if(s>=s)for(;C(s),!t(s);)s.setTime(s-1)},function(s,n){if(s>=s)if(n<0)for(;++n<=0;)for(;A(s,-1),!t(s););else for(;--n>=0;)for(;A(s,1),!t(s););})},v&&(r.count=function(t,s){return g.setTime(+t),L.setTime(+s),C(g),C(L),Math.floor(v(g,L))},r.every=function(t){return t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?r.filter(p?function(s){return p(s)%t===0}:function(s){return r.count(0,s)%t===0}):r}),r}},58931:function(G,U,e){e.d(U,{o:function(){return C}});var g=e(81628),L=e(69792),a=(0,g.c)(function(A){A.setUTCHours(0,0,0,0)},function(A,v){A.setUTCDate(A.getUTCDate()+v)},function(A,v){return(v-A)/L.SK},function(A){return A.getUTCDate()-1});U.c=a;var C=a.range},8208:function(G,U,e){e.d(U,{Ad:function(){return s},EV:function(){return C},K8:function(){return M},W_:function(){return l},Wq:function(){return n},_6:function(){return p},iG:function(){return h},iO:function(){return f},kl:function(){return u},ob:function(){return m},od:function(){return t},ot:function(){return A},sG:function(){return v},yA:function(){return r}});var g=e(81628),L=e(69792);function a(c){return(0,g.c)(function(i){i.setUTCDate(i.getUTCDate()-(i.getUTCDay()+7-c)%7),i.setUTCHours(0,0,0,0)},function(i,d){i.setUTCDate(i.getUTCDate()+d*7)},function(i,d){return(d-i)/L.KK})}var C=a(0),A=a(1),v=a(2),p=a(3),r=a(4),t=a(5),s=a(6),n=C.range,f=A.range,u=v.range,l=p.range,m=r.range,h=t.range,M=s.range},53528:function(G,U,e){e.d(U,{i:function(){return a}});var g=e(81628),L=(0,g.c)(function(C){C.setUTCMonth(0,1),C.setUTCHours(0,0,0,0)},function(C,A){C.setUTCFullYear(C.getUTCFullYear()+A)},function(C,A){return A.getUTCFullYear()-C.getUTCFullYear()},function(C){return C.getUTCFullYear()});L.every=function(C){return!isFinite(C=Math.floor(C))||!(C>0)?null:(0,g.c)(function(A){A.setUTCFullYear(Math.floor(A.getUTCFullYear()/C)*C),A.setUTCMonth(0,1),A.setUTCHours(0,0,0,0)},function(A,v){A.setUTCFullYear(A.getUTCFullYear()+v*C)})},U.c=L;var a=L.range},46192:function(G,U,e){e.d(U,{Ab:function(){return n},Mf:function(){return v},Oc:function(){return u},QP:function(){return f},Wc:function(){return s},aI:function(){return M},eC:function(){return m},eg:function(){return p},iB:function(){return t},kD:function(){return r},qT:function(){return A},sJ:function(){return h},sn:function(){return l},uU:function(){return C}});var g=e(81628),L=e(69792);function a(c){return(0,g.c)(function(i){i.setDate(i.getDate()-(i.getDay()+7-c)%7),i.setHours(0,0,0,0)},function(i,d){i.setDate(i.getDate()+d*7)},function(i,d){return(d-i-(d.getTimezoneOffset()-i.getTimezoneOffset())*L.iy)/L.KK})}var C=a(0),A=a(1),v=a(2),p=a(3),r=a(4),t=a(5),s=a(6),n=C.range,f=A.range,u=v.range,l=p.range,m=r.range,h=t.range,M=s.range},32171:function(G,U,e){e.d(U,{Q:function(){return a}});var g=e(81628),L=(0,g.c)(function(C){C.setMonth(0,1),C.setHours(0,0,0,0)},function(C,A){C.setFullYear(C.getFullYear()+A)},function(C,A){return A.getFullYear()-C.getFullYear()},function(C){return C.getFullYear()});L.every=function(C){return!isFinite(C=Math.floor(C))||!(C>0)?null:(0,g.c)(function(A){A.setFullYear(Math.floor(A.getFullYear()/C)*C),A.setMonth(0,1),A.setHours(0,0,0,0)},function(A,v){A.setFullYear(A.getFullYear()+v*C)})},U.c=L;var a=L.range},64348:function(G,U,e){var g=e(39640)(),L=e(53664),a=g&&L("%Object.defineProperty%",!0);if(a)try{a({},"a",{value:1})}catch{a=!1}var C=L("%SyntaxError%"),A=L("%TypeError%"),v=e(2304);G.exports=function(r,t,s){if(!r||typeof r!="object"&&typeof r!="function")throw new A("`obj` must be an object or a function`");if(typeof t!="string"&&typeof t!="symbol")throw new A("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new A("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new A("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new A("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new A("`loose`, if provided, must be a boolean");var n=arguments.length>3?arguments[3]:null,f=arguments.length>4?arguments[4]:null,u=arguments.length>5?arguments[5]:null,l=arguments.length>6?arguments[6]:!1,m=!!v&&v(r,t);if(a)a(r,t,{configurable:u===null&&m?m.configurable:!u,enumerable:n===null&&m?m.enumerable:!n,value:s,writable:f===null&&m?m.writable:!f});else if(l||!n&&!f&&!u)r[t]=s;else throw new C("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")}},81288:function(G,U,e){var g=e(41820),L=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",a=Object.prototype.toString,C=Array.prototype.concat,A=Object.defineProperty,v=function(n){return typeof n=="function"&&a.call(n)==="[object Function]"},p=e(39640)(),r=A&&p,t=function(n,f,u,l){if(f in n){if(l===!0){if(n[f]===u)return}else if(!v(l)||!l())return}r?A(n,f,{configurable:!0,enumerable:!1,value:u,writable:!0}):n[f]=u},s=function(n,f){var u=arguments.length>2?arguments[2]:{},l=g(f);L&&(l=C.call(l,Object.getOwnPropertySymbols(f)));for(var m=0;m<l.length;m+=1)t(n,l[m],f[l[m]],u[l[m]])};s.supportsDescriptors=!!r,G.exports=s},31264:function(G){G.exports=function(){for(var U=0;U<arguments.length;U++)if(arguments[U]!==void 0)return arguments[U]}},63768:function(G){G.exports=L;var U=L.canvas=document.createElement("canvas"),e=U.getContext("2d"),g=a([32,126]);L.createPairs=a,L.ascii=g;function L(C,A){Array.isArray(C)&&(C=C.join(", "));var v={},p,r=16,t=.05;A&&(A.length===2&&typeof A[0]=="number"?p=a(A):Array.isArray(A)?p=A:(A.o?p=a(A.o):A.pairs&&(p=A.pairs),A.fontSize&&(r=A.fontSize),A.threshold!=null&&(t=A.threshold))),p||(p=g),e.font=r+"px "+C;for(var s=0;s<p.length;s++){var n=p[s],f=e.measureText(n[0]).width+e.measureText(n[1]).width,u=e.measureText(n).width;if(Math.abs(f-u)>r*t){var l=(u-f)/r;v[n]=l*1e3}}return v}function a(C){for(var A=[],v=C[0];v<=C[1];v++)for(var p=String.fromCharCode(v),r=C[0];r<C[1];r++){var t=String.fromCharCode(r),s=p+t;A.push(s)}return A}},22235:function(G,U,e){var g=e(49972),L=e(48816),a={M:"moveTo",C:"bezierCurveTo"};G.exports=function(C,A){C.beginPath(),L(g(A)).forEach(function(v){var p=v[0],r=v.slice(1);C[a[p]].apply(C,r)}),C.closePath()}},72512:function(G){G.exports=function(U){switch(U){case"int8":return Int8Array;case"int16":return Int16Array;case"int32":return Int32Array;case"uint8":return Uint8Array;case"uint16":return Uint16Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;case"array":return Array;case"uint8_clamped":return Uint8ClampedArray}}},10352:function(G){function U(L,a,C){var A=L[C]|0;if(A<=0)return[];var v=new Array(A),p;if(C===L.length-1)for(p=0;p<A;++p)v[p]=a;else for(p=0;p<A;++p)v[p]=U(L,a,C+1);return v}function e(L,a){var C,A;for(C=new Array(L),A=0;A<L;++A)C[A]=a;return C}function g(L,a){switch(typeof a=="undefined"&&(a=0),typeof L){case"number":if(L>0)return e(L|0,a);break;case"object":if(typeof L.length=="number")return U(L,a,0);break}return[]}G.exports=g},28912:function(G){G.exports=U,G.exports.default=U;function U(I,N,k){k=k||2;var F=N&&N.length,O=F?N[0]*k:I.length,z=e(I,0,O,k,!0),B=[];if(!z||z.next===z.prev)return B;var W,q,ee,Q,oe,Z,Y;if(F&&(z=p(I,N,z,k)),I.length>80*k){W=ee=I[0],q=Q=I[1];for(var te=k;te<O;te+=k)oe=I[te],Z=I[te+1],oe<W&&(W=oe),Z<q&&(q=Z),oe>ee&&(ee=oe),Z>Q&&(Q=Z);Y=Math.max(ee-W,Q-q),Y=Y!==0?1/Y:0}return L(z,B,k,W,q,Y),B}function e(I,N,k,F,O){var z,B;if(O===_(I,N,k,F)>0)for(z=N;z<k;z+=F)B=o(z,I[z],I[z+1],B);else for(z=k-F;z>=N;z-=F)B=o(z,I[z],I[z+1],B);return B&&i(B,B.next)&&(P(B),B=B.next),B}function g(I,N){if(!I)return I;N||(N=I);var k=I,F;do if(F=!1,!k.steiner&&(i(k,k.next)||c(k.prev,k,k.next)===0)){if(P(k),k=N=k.prev,k===k.next)break;F=!0}else k=k.next;while(F||k!==N);return N}function L(I,N,k,F,O,z,B){if(!!I){!B&&z&&f(I,F,O,z);for(var W=I,q,ee;I.prev!==I.next;){if(q=I.prev,ee=I.next,z?C(I,F,O,z):a(I)){N.push(q.i/k),N.push(I.i/k),N.push(ee.i/k),P(I),I=ee.next,W=ee.next;continue}if(I=ee,I===W){B?B===1?(I=A(g(I),N,k),L(I,N,k,F,O,z,2)):B===2&&v(I,N,k,F,O,z):L(g(I),N,k,F,O,z,1);break}}}}function a(I){var N=I.prev,k=I,F=I.next;if(c(N,k,F)>=0)return!1;for(var O=I.next.next;O!==I.prev;){if(h(N.x,N.y,k.x,k.y,F.x,F.y,O.x,O.y)&&c(O.prev,O,O.next)>=0)return!1;O=O.next}return!0}function C(I,N,k,F){var O=I.prev,z=I,B=I.next;if(c(O,z,B)>=0)return!1;for(var W=O.x<z.x?O.x<B.x?O.x:B.x:z.x<B.x?z.x:B.x,q=O.y<z.y?O.y<B.y?O.y:B.y:z.y<B.y?z.y:B.y,ee=O.x>z.x?O.x>B.x?O.x:B.x:z.x>B.x?z.x:B.x,Q=O.y>z.y?O.y>B.y?O.y:B.y:z.y>B.y?z.y:B.y,oe=l(W,q,N,k,F),Z=l(ee,Q,N,k,F),Y=I.prevZ,te=I.nextZ;Y&&Y.z>=oe&&te&&te.z<=Z;){if(Y!==I.prev&&Y!==I.next&&h(O.x,O.y,z.x,z.y,B.x,B.y,Y.x,Y.y)&&c(Y.prev,Y,Y.next)>=0||(Y=Y.prevZ,te!==I.prev&&te!==I.next&&h(O.x,O.y,z.x,z.y,B.x,B.y,te.x,te.y)&&c(te.prev,te,te.next)>=0))return!1;te=te.nextZ}for(;Y&&Y.z>=oe;){if(Y!==I.prev&&Y!==I.next&&h(O.x,O.y,z.x,z.y,B.x,B.y,Y.x,Y.y)&&c(Y.prev,Y,Y.next)>=0)return!1;Y=Y.prevZ}for(;te&&te.z<=Z;){if(te!==I.prev&&te!==I.next&&h(O.x,O.y,z.x,z.y,B.x,B.y,te.x,te.y)&&c(te.prev,te,te.next)>=0)return!1;te=te.nextZ}return!0}function A(I,N,k){var F=I;do{var O=F.prev,z=F.next.next;!i(O,z)&&d(O,F,F.next,z)&&y(O,z)&&y(z,O)&&(N.push(O.i/k),N.push(F.i/k),N.push(z.i/k),P(F),P(F.next),F=I=z),F=F.next}while(F!==I);return g(F)}function v(I,N,k,F,O,z){var B=I;do{for(var W=B.next.next;W!==B.prev;){if(B.i!==W.i&&M(B,W)){var q=T(B,W);B=g(B,B.next),q=g(q,q.next),L(B,N,k,F,O,z),L(q,N,k,F,O,z);return}W=W.next}B=B.next}while(B!==I)}function p(I,N,k,F){var O=[],z,B,W,q,ee;for(z=0,B=N.length;z<B;z++)W=N[z]*F,q=z<B-1?N[z+1]*F:I.length,ee=e(I,W,q,F,!1),ee===ee.next&&(ee.steiner=!0),O.push(m(ee));for(O.sort(r),z=0;z<O.length;z++)t(O[z],k),k=g(k,k.next);return k}function r(I,N){return I.x-N.x}function t(I,N){if(N=s(I,N),N){var k=T(N,I);g(N,N.next),g(k,k.next)}}function s(I,N){var k=N,F=I.x,O=I.y,z=-1/0,B;do{if(O<=k.y&&O>=k.next.y&&k.next.y!==k.y){var W=k.x+(O-k.y)*(k.next.x-k.x)/(k.next.y-k.y);if(W<=F&&W>z){if(z=W,W===F){if(O===k.y)return k;if(O===k.next.y)return k.next}B=k.x<k.next.x?k:k.next}}k=k.next}while(k!==N);if(!B)return null;if(F===z)return B;var q=B,ee=B.x,Q=B.y,oe=1/0,Z;k=B;do F>=k.x&&k.x>=ee&&F!==k.x&&h(O<Q?F:z,O,ee,Q,O<Q?z:F,O,k.x,k.y)&&(Z=Math.abs(O-k.y)/(F-k.x),y(k,I)&&(Z<oe||Z===oe&&(k.x>B.x||k.x===B.x&&n(B,k)))&&(B=k,oe=Z)),k=k.next;while(k!==q);return B}function n(I,N){return c(I.prev,I,N.prev)<0&&c(N.next,I,I.next)<0}function f(I,N,k,F){var O=I;do O.z===null&&(O.z=l(O.x,O.y,N,k,F)),O.prevZ=O.prev,O.nextZ=O.next,O=O.next;while(O!==I);O.prevZ.nextZ=null,O.prevZ=null,u(O)}function u(I){var N,k,F,O,z,B,W,q,ee=1;do{for(k=I,I=null,z=null,B=0;k;){for(B++,F=k,W=0,N=0;N<ee&&(W++,F=F.nextZ,!!F);N++);for(q=ee;W>0||q>0&&F;)W!==0&&(q===0||!F||k.z<=F.z)?(O=k,k=k.nextZ,W--):(O=F,F=F.nextZ,q--),z?z.nextZ=O:I=O,O.prevZ=z,z=O;k=F}z.nextZ=null,ee*=2}while(B>1);return I}function l(I,N,k,F,O){return I=32767*(I-k)*O,N=32767*(N-F)*O,I=(I|I<<8)&16711935,I=(I|I<<4)&252645135,I=(I|I<<2)&858993459,I=(I|I<<1)&1431655765,N=(N|N<<8)&16711935,N=(N|N<<4)&252645135,N=(N|N<<2)&858993459,N=(N|N<<1)&1431655765,I|N<<1}function m(I){var N=I,k=I;do(N.x<k.x||N.x===k.x&&N.y<k.y)&&(k=N),N=N.next;while(N!==I);return k}function h(I,N,k,F,O,z,B,W){return(O-B)*(N-W)-(I-B)*(z-W)>=0&&(I-B)*(F-W)-(k-B)*(N-W)>=0&&(k-B)*(z-W)-(O-B)*(F-W)>=0}function M(I,N){return I.next.i!==N.i&&I.prev.i!==N.i&&!E(I,N)&&(y(I,N)&&y(N,I)&&S(I,N)&&(c(I.prev,I,N.prev)||c(I,N.prev,N))||i(I,N)&&c(I.prev,I,I.next)>0&&c(N.prev,N,N.next)>0)}function c(I,N,k){return(N.y-I.y)*(k.x-N.x)-(N.x-I.x)*(k.y-N.y)}function i(I,N){return I.x===N.x&&I.y===N.y}function d(I,N,k,F){var O=w(c(I,N,k)),z=w(c(I,N,F)),B=w(c(k,F,I)),W=w(c(k,F,N));return!!(O!==z&&B!==W||O===0&&b(I,k,N)||z===0&&b(I,F,N)||B===0&&b(k,I,F)||W===0&&b(k,N,F))}function b(I,N,k){return N.x<=Math.max(I.x,k.x)&&N.x>=Math.min(I.x,k.x)&&N.y<=Math.max(I.y,k.y)&&N.y>=Math.min(I.y,k.y)}function w(I){return I>0?1:I<0?-1:0}function E(I,N){var k=I;do{if(k.i!==I.i&&k.next.i!==I.i&&k.i!==N.i&&k.next.i!==N.i&&d(k,k.next,I,N))return!0;k=k.next}while(k!==I);return!1}function y(I,N){return c(I.prev,I,I.next)<0?c(I,N,I.next)>=0&&c(I,I.prev,N)>=0:c(I,N,I.prev)<0||c(I,I.next,N)<0}function S(I,N){var k=I,F=!1,O=(I.x+N.x)/2,z=(I.y+N.y)/2;do k.y>z!=k.next.y>z&&k.next.y!==k.y&&O<(k.next.x-k.x)*(z-k.y)/(k.next.y-k.y)+k.x&&(F=!F),k=k.next;while(k!==I);return F}function T(I,N){var k=new x(I.i,I.x,I.y),F=new x(N.i,N.x,N.y),O=I.next,z=N.prev;return I.next=N,N.prev=I,k.next=O,O.prev=k,F.next=k,k.prev=F,z.next=F,F.prev=z,F}function o(I,N,k,F){var O=new x(I,N,k);return F?(O.next=F.next,O.prev=F,F.next.prev=O,F.next=O):(O.prev=O,O.next=O),O}function P(I){I.next.prev=I.prev,I.prev.next=I.next,I.prevZ&&(I.prevZ.nextZ=I.nextZ),I.nextZ&&(I.nextZ.prevZ=I.prevZ)}function x(I,N,k){this.i=I,this.x=N,this.y=k,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}U.deviation=function(I,N,k,F){var O=N&&N.length,z=O?N[0]*k:I.length,B=Math.abs(_(I,0,z,k));if(O)for(var W=0,q=N.length;W<q;W++){var ee=N[W]*k,Q=W<q-1?N[W+1]*k:I.length;B-=Math.abs(_(I,ee,Q,k))}var oe=0;for(W=0;W<F.length;W+=3){var Z=F[W]*k,Y=F[W+1]*k,te=F[W+2]*k;oe+=Math.abs((I[Z]-I[te])*(I[Y+1]-I[Z+1])-(I[Z]-I[Y])*(I[te+1]-I[Z+1]))}return B===0&&oe===0?0:Math.abs((oe-B)/B)};function _(I,N,k,F){for(var O=0,z=N,B=k-F;z<k;z+=F)O+=(I[B]-I[z])*(I[z+1]+I[B+1]),B=z;return O}U.flatten=function(I){for(var N=I[0][0].length,k={vertices:[],holes:[],dimensions:N},F=0,O=0;O<I.length;O++){for(var z=0;z<I[O].length;z++)for(var B=0;B<N;B++)k.vertices.push(I[O][z][B]);O>0&&(F+=I[O-1].length,k.holes.push(F))}return k}},6688:function(G,U,e){var g=e(78484);G.exports=function(a,C){var A=[],v=[],p=[],r={},t=[],s;function n(b){p[b]=!1,r.hasOwnProperty(b)&&Object.keys(r[b]).forEach(function(w){delete r[b][w],p[w]&&n(w)})}function f(b){var w=!1;v.push(b),p[b]=!0;var E,y;for(E=0;E<t[b].length;E++)y=t[b][E],y===s?(u(s,v),w=!0):p[y]||(w=f(y));if(w)n(b);else for(E=0;E<t[b].length;E++){y=t[b][E];var S=r[y];S||(S={},r[y]=S),S[y]=!0}return v.pop(),w}function u(b,w){var E=[].concat(w).concat(b);C?C(f):A.push(E)}function l(b){for(var w=0;w<a.length;w++)w<b&&(a[w]=[]),a[w]=a[w].filter(function(E){return E>=b})}function m(b){l(b);for(var w=a,E=g(w),y=E.components.filter(function(I){return I.length>1}),S=1/0,T,o=0;o<y.length;o++)for(var P=0;P<y[o].length;P++)y[o][P]<S&&(S=y[o][P],T=o);var x=y[T];if(!x)return!1;var _=a.map(function(I,N){return x.indexOf(N)===-1?[]:I.filter(function(k){return x.indexOf(k)!==-1})});return{leastVertex:S,adjList:_}}s=0;for(var h=a.length;s<h;){var M=m(s);if(s=M.leastVertex,t=M.adjList,t){for(var c=0;c<t.length;c++)for(var i=0;i<t[c].length;i++){var d=t[c][i];p[+d]=!1,r[d]={}}f(s),s=s+1}else s=h}if(!C)return A}},41476:function(G,U,e){var g=e(9252);G.exports=function(){return g(this).length=0,this}},74772:function(G,U,e){G.exports=e(44716)()?Array.from:e(80816)},44716:function(G){G.exports=function(){var U=Array.from,e,g;return typeof U!="function"?!1:(e=["raz","dwa"],g=U(e),Boolean(g&&g!==e&&g[1]==="dwa"))}},80816:function(G,U,e){var g=e(92664).iterator,L=e(60948),a=e(17024),C=e(81304),A=e(34044),v=e(9252),p=e(42584),r=e(29768),t=Array.isArray,s=Function.prototype.call,n={configurable:!0,enumerable:!0,writable:!0,value:null},f=Object.defineProperty;G.exports=function(u){var l=arguments[1],m=arguments[2],h,M,c,i,d,b,w,E,y,S;if(u=Object(v(u)),p(l)&&A(l),!this||this===Array||!a(this)){if(!l){if(L(u))return d=u.length,d!==1?Array.apply(null,u):(i=new Array(1),i[0]=u[0],i);if(t(u)){for(i=new Array(d=u.length),M=0;M<d;++M)i[M]=u[M];return i}}i=[]}else h=this;if(!t(u)){if((y=u[g])!==void 0){for(w=A(y).call(u),h&&(i=new h),E=w.next(),M=0;!E.done;)S=l?s.call(l,m,E.value,M):E.value,h?(n.value=S,f(i,M,n)):i[M]=S,E=w.next(),++M;d=M}else if(r(u)){for(d=u.length,h&&(i=new h),M=0,c=0;M<d;++M)S=u[M],M+1<d&&(b=S.charCodeAt(0),b>=55296&&b<=56319&&(S+=u[++M])),S=l?s.call(l,m,S,c):S,h?(n.value=S,f(i,c,n)):i[c]=S,++c;d=c}}if(d===void 0)for(d=C(u.length),h&&(i=new h(d)),M=0;M<d;++M)S=l?s.call(l,m,u[M],M):u[M],h?(n.value=S,f(i,M,n)):i[M]=S;return h&&(n.value=null,i.length=d),i}},60948:function(G){var U=Object.prototype.toString,e=U.call(function(){return arguments}());G.exports=function(g){return U.call(g)===e}},17024:function(G){var U=Object.prototype.toString,e=RegExp.prototype.test.bind(/^[object [A-Za-z0-9]*Function]$/);G.exports=function(g){return typeof g=="function"&&e(U.call(g))}},33208:function(G){G.exports=function(){}},85608:function(G,U,e){G.exports=e(37328)()?Math.sign:e(92928)},37328:function(G){G.exports=function(){var U=Math.sign;return typeof U!="function"?!1:U(10)===1&&U(-20)===-1}},92928:function(G){G.exports=function(U){return U=Number(U),isNaN(U)||U===0?U:U>0?1:-1}},96936:function(G,U,e){var g=e(85608),L=Math.abs,a=Math.floor;G.exports=function(C){return isNaN(C)?0:(C=Number(C),C===0||!isFinite(C)?C:g(C)*a(L(C)))}},81304:function(G,U,e){var g=e(96936),L=Math.max;G.exports=function(a){return L(0,g(a))}},14428:function(G,U,e){var g=e(34044),L=e(9252),a=Function.prototype.bind,C=Function.prototype.call,A=Object.keys,v=Object.prototype.propertyIsEnumerable;G.exports=function(p,r){return function(t,s){var n,f=arguments[2],u=arguments[3];return t=Object(L(t)),g(s),n=A(t),u&&n.sort(typeof u=="function"?a.call(u,t):void 0),typeof p!="function"&&(p=n[p]),C.call(p,n,function(l,m){return v.call(t,l)?C.call(s,f,t[l],l,t,m):r})}}},38452:function(G,U,e){G.exports=e(96276)()?Object.assign:e(81892)},96276:function(G){G.exports=function(){var U=Object.assign,e;return typeof U!="function"?!1:(e={foo:"raz"},U(e,{bar:"dwa"},{trzy:"trzy"}),e.foo+e.bar+e.trzy==="razdwatrzy")}},81892:function(G,U,e){var g=e(54768),L=e(9252),a=Math.max;G.exports=function(C,A){var v,p,r=a(arguments.length,2),t;for(C=Object(L(C)),t=function(s){try{C[s]=A[s]}catch(n){v||(v=n)}},p=1;p<r;++p)A=arguments[p],g(A).forEach(t);if(v!==void 0)throw v;return C}},95920:function(G,U,e){var g=e(74772),L=e(38452),a=e(9252);G.exports=function(C){var A=Object(a(C)),v=arguments[1],p=Object(arguments[2]);if(A!==C&&!v)return A;var r={};return v?g(v,function(t){(p.ensure||t in C)&&(r[t]=C[t])}):L(r,C),r}},14452:function(G,U,e){var g=Object.create,L;e(63092)()||(L=e(8672)),G.exports=function(){var a,C,A;return!L||L.level!==1?g:(a={},C={},A={configurable:!1,enumerable:!1,writable:!0,value:void 0},Object.getOwnPropertyNames(Object.prototype).forEach(function(v){if(v==="__proto__"){C[v]={configurable:!0,enumerable:!1,writable:!0,value:void 0};return}C[v]=A}),Object.defineProperties(a,C),Object.defineProperty(L,"nullPolyfill",{configurable:!1,enumerable:!1,writable:!1,value:a}),function(v,p){return g(v===null?a:v,p)})}()},42748:function(G,U,e){G.exports=e(14428)("forEach")},69127:function(G,U,e){var g=e(42584),L={function:!0,object:!0};G.exports=function(a){return g(a)&&L[typeof a]||!1}},42584:function(G,U,e){var g=e(33208)();G.exports=function(L){return L!==g&&L!==null}},54768:function(G,U,e){G.exports=e(87888)()?Object.keys:e(89592)},87888:function(G){G.exports=function(){try{return Object.keys("primitive"),!0}catch{return!1}}},89592:function(G,U,e){var g=e(42584),L=Object.keys;G.exports=function(a){return L(g(a)?Object(a):a)}},84323:function(G,U,e){var g=e(34044),L=e(42748),a=Function.prototype.call;G.exports=function(C,A){var v={},p=arguments[2];return g(A),L(C,function(r,t,s,n){v[t]=a.call(A,p,r,t,s,n)}),v}},50868:function(G,U,e){var g=e(42584),L=Array.prototype.forEach,a=Object.create,C=function(A,v){var p;for(p in A)v[p]=A[p]};G.exports=function(A){var v=a(null);return L.call(arguments,function(p){!g(p)||C(Object(p),v)}),v}},69932:function(G,U,e){G.exports=e(63092)()?Object.setPrototypeOf:e(8672)},63092:function(G){var U=Object.create,e=Object.getPrototypeOf,g={};G.exports=function(){var L=Object.setPrototypeOf,a=arguments[0]||U;return typeof L!="function"?!1:e(L(a(null),g))===g}},8672:function(G,U,e){var g=e(69127),L=e(9252),a=Object.prototype.isPrototypeOf,C=Object.defineProperty,A={configurable:!0,enumerable:!1,writable:!0,value:void 0},v;v=function(p,r){if(L(p),r===null||g(r))return p;throw new TypeError("Prototype must be null or an object")},G.exports=function(p){var r,t;return p?(p.level===2?p.set?(t=p.set,r=function(s,n){return t.call(v(s,n),n),s}):r=function(s,n){return v(s,n).__proto__=n,s}:r=function s(n,f){var u;return v(n,f),u=a.call(s.nullPolyfill,n),u&&delete s.nullPolyfill.__proto__,f===null&&(f=s.nullPolyfill),n.__proto__=f,u&&C(s.nullPolyfill,"__proto__",A),n},Object.defineProperty(r,"level",{configurable:!1,enumerable:!1,writable:!1,value:p.level})):null}(function(){var p=Object.create(null),r={},t,s=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__");if(s){try{t=s.set,t.call(p,r)}catch{}if(Object.getPrototypeOf(p)===r)return{set:t,level:2}}return p.__proto__=r,Object.getPrototypeOf(p)===r?{level:2}:(p={},p.__proto__=r,Object.getPrototypeOf(p)===r?{level:1}:!1)}()),e(14452)},34044:function(G){G.exports=function(U){if(typeof U!="function")throw new TypeError(U+" is not a function");return U}},92584:function(G,U,e){var g=e(69127);G.exports=function(L){if(!g(L))throw new TypeError(L+" is not an Object");return L}},9252:function(G,U,e){var g=e(42584);G.exports=function(L){if(!g(L))throw new TypeError("Cannot use null or undefined");return L}},71056:function(G,U,e){G.exports=e(42976)()?String.prototype.contains:e(93040)},42976:function(G){var U="razdwatrzy";G.exports=function(){return typeof U.contains!="function"?!1:U.contains("dwa")===!0&&U.contains("foo")===!1}},93040:function(G){var U=String.prototype.indexOf;G.exports=function(e){return U.call(this,e,arguments[1])>-1}},29768:function(G){var U=Object.prototype.toString,e=U.call("");G.exports=function(g){return typeof g=="string"||g&&typeof g=="object"&&(g instanceof String||U.call(g)===e)||!1}},82252:function(G){var U=Object.create(null),e=Math.random;G.exports=function(){var g;do g=e().toString(36).slice(2);while(U[g]);return g}},52104:function(G,U,e){var g=e(69932),L=e(71056),a=e(21092),C=e(92664),A=e(85512),v=Object.defineProperty,p;p=G.exports=function(r,t){if(!(this instanceof p))throw new TypeError("Constructor requires 'new'");A.call(this,r),t?L.call(t,"key+value")?t="key+value":L.call(t,"key")?t="key":t="value":t="value",v(this,"__kind__",a("",t))},g&&g(p,A),delete p.prototype.constructor,p.prototype=Object.create(A.prototype,{_resolve:a(function(r){return this.__kind__==="value"?this.__list__[r]:this.__kind__==="key+value"?[r,this.__list__[r]]:r})}),v(p.prototype,C.toStringTag,a("c","Array Iterator"))},76024:function(G,U,e){var g=e(60948),L=e(34044),a=e(29768),C=e(76252),A=Array.isArray,v=Function.prototype.call,p=Array.prototype.some;G.exports=function(r,t){var s,n=arguments[2],f,u,l,m,h,M,c;if(A(r)||g(r)?s="array":a(r)?s="string":r=C(r),L(t),u=function(){l=!0},s==="array"){p.call(r,function(i){return v.call(t,n,i,u),l});return}if(s==="string"){for(h=r.length,m=0;m<h&&(M=r[m],m+1<h&&(c=M.charCodeAt(0),c>=55296&&c<=56319&&(M+=r[++m])),v.call(t,n,M,u),!l);++m);return}for(f=r.next();!f.done;){if(v.call(t,n,f.value,u),l)return;f=r.next()}}},76252:function(G,U,e){var g=e(60948),L=e(29768),a=e(52104),C=e(80940),A=e(52891),v=e(92664).iterator;G.exports=function(p){return typeof A(p)[v]=="function"?p[v]():g(p)?new a(p):L(p)?new C(p):new a(p)}},85512:function(G,U,e){var g=e(41476),L=e(38452),a=e(34044),C=e(9252),A=e(21092),v=e(27940),p=e(92664),r=Object.defineProperty,t=Object.defineProperties,s;G.exports=s=function(n,f){if(!(this instanceof s))throw new TypeError("Constructor requires 'new'");t(this,{__list__:A("w",C(n)),__context__:A("w",f),__nextIndex__:A("w",0)}),f&&(a(f.on),f.on("_add",this._onAdd),f.on("_delete",this._onDelete),f.on("_clear",this._onClear))},delete s.prototype.constructor,t(s.prototype,L({_next:A(function(){var n;if(!!this.__list__){if(this.__redo__&&(n=this.__redo__.shift(),n!==void 0))return n;if(this.__nextIndex__<this.__list__.length)return this.__nextIndex__++;this._unBind()}}),next:A(function(){return this._createResult(this._next())}),_createResult:A(function(n){return n===void 0?{done:!0,value:void 0}:{done:!1,value:this._resolve(n)}}),_resolve:A(function(n){return this.__list__[n]}),_unBind:A(function(){this.__list__=null,delete this.__redo__,this.__context__&&(this.__context__.off("_add",this._onAdd),this.__context__.off("_delete",this._onDelete),this.__context__.off("_clear",this._onClear),this.__context__=null)}),toString:A(function(){return"[object "+(this[p.toStringTag]||"Object")+"]"})},v({_onAdd:A(function(n){if(!(n>=this.__nextIndex__)){if(++this.__nextIndex__,!this.__redo__){r(this,"__redo__",A("c",[n]));return}this.__redo__.forEach(function(f,u){f>=n&&(this.__redo__[u]=++f)},this),this.__redo__.push(n)}}),_onDelete:A(function(n){var f;n>=this.__nextIndex__||(--this.__nextIndex__,this.__redo__&&(f=this.__redo__.indexOf(n),f!==-1&&this.__redo__.splice(f,1),this.__redo__.forEach(function(u,l){u>n&&(this.__redo__[l]=--u)},this)))}),_onClear:A(function(){this.__redo__&&g.call(this.__redo__),this.__nextIndex__=0})}))),r(s.prototype,p.iterator,A(function(){return this}))},76368:function(G,U,e){var g=e(60948),L=e(42584),a=e(29768),C=e(92664).iterator,A=Array.isArray;G.exports=function(v){return L(v)?A(v)||a(v)||g(v)?!0:typeof v[C]=="function":!1}},80940:function(G,U,e){var g=e(69932),L=e(21092),a=e(92664),C=e(85512),A=Object.defineProperty,v;v=G.exports=function(p){if(!(this instanceof v))throw new TypeError("Constructor requires 'new'");p=String(p),C.call(this,p),A(this,"__length__",L("",p.length))},g&&g(v,C),delete v.prototype.constructor,v.prototype=Object.create(C.prototype,{_next:L(function(){if(!!this.__list__){if(this.__nextIndex__<this.__length__)return this.__nextIndex__++;this._unBind()}}),_resolve:L(function(p){var r=this.__list__[p],t;return this.__nextIndex__===this.__length__?r:(t=r.charCodeAt(0),t>=55296&&t<=56319?r+this.__list__[this.__nextIndex__++]:r)})}),A(v.prototype,a.toStringTag,L("c","String Iterator"))},52891:function(G,U,e){var g=e(76368);G.exports=function(L){if(!g(L))throw new TypeError(L+" is not iterable");return L}},60964:function(G){function U(g,L){if(g==null)throw new TypeError("Cannot convert first argument to object");for(var a=Object(g),C=1;C<arguments.length;C++){var A=arguments[C];if(A!=null)for(var v=Object.keys(Object(A)),p=0,r=v.length;p<r;p++){var t=v[p],s=Object.getOwnPropertyDescriptor(A,t);s!==void 0&&s.enumerable&&(a[t]=A[t])}}return a}function e(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:U})}G.exports={assign:U,polyfill:e}},92664:function(G,U,e){G.exports=e(43580)()?e(12296).Symbol:e(18376)},43580:function(G,U,e){var g=e(12296),L={object:!0,symbol:!0};G.exports=function(){var a=g.Symbol,C;if(typeof a!="function")return!1;C=a("test symbol");try{String(C)}catch{return!1}return!(!L[typeof a.iterator]||!L[typeof a.toPrimitive]||!L[typeof a.toStringTag])}},53908:function(G){G.exports=function(U){return U?typeof U=="symbol"?!0:!U.constructor||U.constructor.name!=="Symbol"?!1:U[U.constructor.toStringTag]==="Symbol":!1}},96863:function(G,U,e){var g=e(21092),L=Object.create,a=Object.defineProperty,C=Object.prototype,A=L(null);G.exports=function(v){for(var p=0,r,t;A[v+(p||"")];)++p;return v+=p||"",A[v]=!0,r="@@"+v,a(C,r,g.gs(null,function(s){t||(t=!0,a(this,r,g(s)),t=!1)})),r}},53540:function(G,U,e){var g=e(21092),L=e(12296).Symbol;G.exports=function(a){return Object.defineProperties(a,{hasInstance:g("",L&&L.hasInstance||a("hasInstance")),isConcatSpreadable:g("",L&&L.isConcatSpreadable||a("isConcatSpreadable")),iterator:g("",L&&L.iterator||a("iterator")),match:g("",L&&L.match||a("match")),replace:g("",L&&L.replace||a("replace")),search:g("",L&&L.search||a("search")),species:g("",L&&L.species||a("species")),split:g("",L&&L.split||a("split")),toPrimitive:g("",L&&L.toPrimitive||a("toPrimitive")),toStringTag:g("",L&&L.toStringTag||a("toStringTag")),unscopables:g("",L&&L.unscopables||a("unscopables"))})}},73852:function(G,U,e){var g=e(21092),L=e(63948),a=Object.create(null);G.exports=function(C){return Object.defineProperties(C,{for:g(function(A){return a[A]?a[A]:a[A]=C(String(A))}),keyFor:g(function(A){var v;L(A);for(v in a)if(a[v]===A)return v})})}},18376:function(G,U,e){var g=e(21092),L=e(63948),a=e(12296).Symbol,C=e(96863),A=e(53540),v=e(73852),p=Object.create,r=Object.defineProperties,t=Object.defineProperty,s,n,f;if(typeof a=="function")try{String(a()),f=!0}catch{}else a=null;n=function(l){if(this instanceof n)throw new TypeError("Symbol is not a constructor");return s(l)},G.exports=s=function u(l){var m;if(this instanceof u)throw new TypeError("Symbol is not a constructor");return f?a(l):(m=p(n.prototype),l=l===void 0?"":String(l),r(m,{__description__:g("",l),__name__:g("",C(l))}))},A(s),v(s),r(n.prototype,{constructor:g(s),toString:g("",function(){return this.__name__})}),r(s.prototype,{toString:g(function(){return"Symbol ("+L(this).__description__+")"}),valueOf:g(function(){return L(this)})}),t(s.prototype,s.toPrimitive,g("",function(){var u=L(this);return typeof u=="symbol"?u:u.toString()})),t(s.prototype,s.toStringTag,g("c","Symbol")),t(n.prototype,s.toStringTag,g("c",s.prototype[s.toStringTag])),t(n.prototype,s.toPrimitive,g("c",s.prototype[s.toPrimitive]))},63948:function(G,U,e){var g=e(53908);G.exports=function(L){if(!g(L))throw new TypeError(L+" is not a symbol");return L}},60463:function(G,U,e){G.exports=e(96979)()?WeakMap:e(64864)},96979:function(G){G.exports=function(){var U,e;if(typeof WeakMap!="function")return!1;try{U=new WeakMap([[e={},"one"],[{},"two"],[{},"three"]])}catch{return!1}return!(String(U)!=="[object WeakMap]"||typeof U.set!="function"||U.set({},1)!==U||typeof U.delete!="function"||typeof U.has!="function"||U.get(e)!=="one")}},69876:function(G){G.exports=function(){return typeof WeakMap!="function"?!1:Object.prototype.toString.call(new WeakMap)==="[object WeakMap]"}()},64864:function(G,U,e){var g=e(42584),L=e(69932),a=e(92584),C=e(9252),A=e(82252),v=e(21092),p=e(76252),r=e(76024),t=e(92664).toStringTag,s=e(69876),n=Array.isArray,f=Object.defineProperty,u=Object.prototype.hasOwnProperty,l=Object.getPrototypeOf,m;G.exports=m=function(){var h=arguments[0],M;if(!(this instanceof m))throw new TypeError("Constructor requires 'new'");return M=s&&L&&WeakMap!==m?L(new WeakMap,l(this)):this,g(h)&&(n(h)||(h=p(h))),f(M,"__weakMapData__",v("c","$weakMap$"+A())),h&&r(h,function(c){C(c),M.set(c[0],c[1])}),M},s&&(L&&L(m,WeakMap),m.prototype=Object.create(WeakMap.prototype,{constructor:v(m)})),Object.defineProperties(m.prototype,{delete:v(function(h){return u.call(a(h),this.__weakMapData__)?(delete h[this.__weakMapData__],!0):!1}),get:v(function(h){if(!!u.call(a(h),this.__weakMapData__))return h[this.__weakMapData__]}),has:v(function(h){return u.call(a(h),this.__weakMapData__)}),set:v(function(h,M){return f(a(h),this.__weakMapData__,v("c",M)),this}),toString:v(function(){return"[object WeakMap]"})}),f(m.prototype,t,v("c","WeakMap"))},61252:function(G){var U=typeof Reflect=="object"?Reflect:null,e=U&&typeof U.apply=="function"?U.apply:function(d,b,w){return Function.prototype.apply.call(d,b,w)},g;U&&typeof U.ownKeys=="function"?g=U.ownKeys:Object.getOwnPropertySymbols?g=function(d){return Object.getOwnPropertyNames(d).concat(Object.getOwnPropertySymbols(d))}:g=function(d){return Object.getOwnPropertyNames(d)};function L(i){console&&console.warn&&console.warn(i)}var a=Number.isNaN||function(d){return d!==d};function C(){C.init.call(this)}G.exports=C,G.exports.once=h,C.EventEmitter=C,C.prototype._events=void 0,C.prototype._eventsCount=0,C.prototype._maxListeners=void 0;var A=10;function v(i){if(typeof i!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof i)}Object.defineProperty(C,"defaultMaxListeners",{enumerable:!0,get:function(){return A},set:function(i){if(typeof i!="number"||i<0||a(i))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+i+".");A=i}}),C.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},C.prototype.setMaxListeners=function(d){if(typeof d!="number"||d<0||a(d))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+d+".");return this._maxListeners=d,this};function p(i){return i._maxListeners===void 0?C.defaultMaxListeners:i._maxListeners}C.prototype.getMaxListeners=function(){return p(this)},C.prototype.emit=function(d){for(var b=[],w=1;w<arguments.length;w++)b.push(arguments[w]);var E=d==="error",y=this._events;if(y!==void 0)E=E&&y.error===void 0;else if(!E)return!1;if(E){var S;if(b.length>0&&(S=b[0]),S instanceof Error)throw S;var T=new Error("Unhandled error."+(S?" ("+S.message+")":""));throw T.context=S,T}var o=y[d];if(o===void 0)return!1;if(typeof o=="function")e(o,this,b);else for(var P=o.length,x=u(o,P),w=0;w<P;++w)e(x[w],this,b);return!0};function r(i,d,b,w){var E,y,S;if(v(b),y=i._events,y===void 0?(y=i._events=Object.create(null),i._eventsCount=0):(y.newListener!==void 0&&(i.emit("newListener",d,b.listener?b.listener:b),y=i._events),S=y[d]),S===void 0)S=y[d]=b,++i._eventsCount;else if(typeof S=="function"?S=y[d]=w?[b,S]:[S,b]:w?S.unshift(b):S.push(b),E=p(i),E>0&&S.length>E&&!S.warned){S.warned=!0;var T=new Error("Possible EventEmitter memory leak detected. "+S.length+" "+String(d)+" listeners added. Use emitter.setMaxListeners() to increase limit");T.name="MaxListenersExceededWarning",T.emitter=i,T.type=d,T.count=S.length,L(T)}return i}C.prototype.addListener=function(d,b){return r(this,d,b,!1)},C.prototype.on=C.prototype.addListener,C.prototype.prependListener=function(d,b){return r(this,d,b,!0)};function t(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function s(i,d,b){var w={fired:!1,wrapFn:void 0,target:i,type:d,listener:b},E=t.bind(w);return E.listener=b,w.wrapFn=E,E}C.prototype.once=function(d,b){return v(b),this.on(d,s(this,d,b)),this},C.prototype.prependOnceListener=function(d,b){return v(b),this.prependListener(d,s(this,d,b)),this},C.prototype.removeListener=function(d,b){var w,E,y,S,T;if(v(b),E=this._events,E===void 0)return this;if(w=E[d],w===void 0)return this;if(w===b||w.listener===b)--this._eventsCount===0?this._events=Object.create(null):(delete E[d],E.removeListener&&this.emit("removeListener",d,w.listener||b));else if(typeof w!="function"){for(y=-1,S=w.length-1;S>=0;S--)if(w[S]===b||w[S].listener===b){T=w[S].listener,y=S;break}if(y<0)return this;y===0?w.shift():l(w,y),w.length===1&&(E[d]=w[0]),E.removeListener!==void 0&&this.emit("removeListener",d,T||b)}return this},C.prototype.off=C.prototype.removeListener,C.prototype.removeAllListeners=function(d){var b,w,E;if(w=this._events,w===void 0)return this;if(w.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):w[d]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete w[d]),this;if(arguments.length===0){var y=Object.keys(w),S;for(E=0;E<y.length;++E)S=y[E],S!=="removeListener"&&this.removeAllListeners(S);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(b=w[d],typeof b=="function")this.removeListener(d,b);else if(b!==void 0)for(E=b.length-1;E>=0;E--)this.removeListener(d,b[E]);return this};function n(i,d,b){var w=i._events;if(w===void 0)return[];var E=w[d];return E===void 0?[]:typeof E=="function"?b?[E.listener||E]:[E]:b?m(E):u(E,E.length)}C.prototype.listeners=function(d){return n(this,d,!0)},C.prototype.rawListeners=function(d){return n(this,d,!1)},C.listenerCount=function(i,d){return typeof i.listenerCount=="function"?i.listenerCount(d):f.call(i,d)},C.prototype.listenerCount=f;function f(i){var d=this._events;if(d!==void 0){var b=d[i];if(typeof b=="function")return 1;if(b!==void 0)return b.length}return 0}C.prototype.eventNames=function(){return this._eventsCount>0?g(this._events):[]};function u(i,d){for(var b=new Array(d),w=0;w<d;++w)b[w]=i[w];return b}function l(i,d){for(;d+1<i.length;d++)i[d]=i[d+1];i.pop()}function m(i){for(var d=new Array(i.length),b=0;b<d.length;++b)d[b]=i[b].listener||i[b];return d}function h(i,d){return new Promise(function(b,w){function E(S){i.removeListener(d,y),w(S)}function y(){typeof i.removeListener=="function"&&i.removeListener("error",E),b([].slice.call(arguments))}c(i,d,y,{once:!0}),d!=="error"&&M(i,E,{once:!0})})}function M(i,d,b){typeof i.on=="function"&&c(i,"error",d,b)}function c(i,d,b,w){if(typeof i.on=="function")w.once?i.once(d,b):i.on(d,b);else if(typeof i.addEventListener=="function")i.addEventListener(d,function E(y){w.once&&i.removeEventListener(d,E),b(y)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof i)}},39072:function(G){var U=function(){if(typeof self=="object"&&self)return self;if(typeof window=="object"&&window)return window;throw new Error("Unable to resolve global `this`")};G.exports=function(){if(this)return this;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch{return U()}try{return __global__||U()}finally{delete Object.prototype.__global__}}()},12296:function(G,U,e){G.exports=e(45072)()?globalThis:e(39072)},45072:function(G){G.exports=function(){return typeof globalThis!="object"||!globalThis?!1:globalThis.Array===Array}},38248:function(G,U,e){var g=e(94576);G.exports=function(L){var a=typeof L;if(a==="string"){var C=L;if(L=+L,L===0&&g(C))return!1}else if(a!=="number")return!1;return L-L<1}},47520:function(G,U,e){var g=e(72512);G.exports=L;function L(a,C,A){if(!a)throw new TypeError("must specify data as first parameter");if(A=+(A||0)|0,Array.isArray(a)&&a[0]&&typeof a[0][0]=="number"){var v=a[0].length,p=a.length*v,r,t,s,n;(!C||typeof C=="string")&&(C=new(g(C||"float32"))(p+A));var f=C.length-A;if(p!==f)throw new Error("source length "+p+" ("+v+"x"+a.length+") does not match destination length "+f);for(r=0,s=A;r<a.length;r++)for(t=0;t<v;t++)C[s++]=a[r][t]===null?NaN:a[r][t]}else if(!C||typeof C=="string"){var u=g(C||"float32");if(Array.isArray(a)||C==="array")for(C=new u(a.length+A),r=0,s=A,n=C.length;s<n;s++,r++)C[s]=a[r]===null?NaN:a[r];else A===0?C=new u(a):(C=new u(a.length+A),C.set(a,A))}else C.set(a,A);return C}},33888:function(G,U,e){var g=e(49395),L=[32,126];G.exports=a;function a(C){C=C||{};var A=C.shape?C.shape:C.canvas?[C.canvas.width,C.canvas.height]:[512,512],v=C.canvas||document.createElement("canvas"),p=C.font,r=typeof C.step=="number"?[C.step,C.step]:C.step||[32,32],t=C.chars||L;if(p&&typeof p!="string"&&(p=g(p)),!Array.isArray(t))t=String(t).split("");else if(t.length===2&&typeof t[0]=="number"&&typeof t[1]=="number"){for(var s=[],n=t[0],f=0;n<=t[1];n++)s[f++]=String.fromCharCode(n);t=s}A=A.slice(),v.width=A[0],v.height=A[1];var u=v.getContext("2d");u.fillStyle="#000",u.fillRect(0,0,v.width,v.height),u.font=p,u.textAlign="center",u.textBaseline="middle",u.fillStyle="#fff";for(var l=r[0]/2,m=r[1]/2,n=0;n<t.length;n++)u.fillText(t[n],l,m),(l+=r[0])>A[0]-r[0]/2&&(l=r[0]/2,m+=r[1]);return v}},71920:function(G){G.exports=U,U.canvas=document.createElement("canvas"),U.cache={};function U(t,C){C||(C={}),(typeof t=="string"||Array.isArray(t))&&(C.family=t);var A=Array.isArray(C.family)?C.family.join(", "):C.family;if(!A)throw Error("`family` must be defined");var v=C.size||C.fontSize||C.em||48,p=C.weight||C.fontWeight||"",r=C.style||C.fontStyle||"",t=[r,p,v].join(" ")+"px "+A,s=C.origin||"top";if(U.cache[A]&&v<=U.cache[A].em)return e(U.cache[A],s);var n=C.canvas||U.canvas,f=n.getContext("2d"),u={upper:C.upper!==void 0?C.upper:"H",lower:C.lower!==void 0?C.lower:"x",descent:C.descent!==void 0?C.descent:"p",ascent:C.ascent!==void 0?C.ascent:"h",tittle:C.tittle!==void 0?C.tittle:"i",overshoot:C.overshoot!==void 0?C.overshoot:"O"},l=Math.ceil(v*1.5);n.height=l,n.width=l*.5,f.font=t;var m="H",h={top:0};f.clearRect(0,0,l,l),f.textBaseline="top",f.fillStyle="black",f.fillText(m,0,0);var M=g(f.getImageData(0,0,l,l));f.clearRect(0,0,l,l),f.textBaseline="bottom",f.fillText(m,0,l);var c=g(f.getImageData(0,0,l,l));h.lineHeight=h.bottom=l-c+M,f.clearRect(0,0,l,l),f.textBaseline="alphabetic",f.fillText(m,0,l);var i=g(f.getImageData(0,0,l,l)),d=l-i-1+M;h.baseline=h.alphabetic=d,f.clearRect(0,0,l,l),f.textBaseline="middle",f.fillText(m,0,l*.5);var b=g(f.getImageData(0,0,l,l));h.median=h.middle=l-b-1+M-l*.5,f.clearRect(0,0,l,l),f.textBaseline="hanging",f.fillText(m,0,l*.5);var w=g(f.getImageData(0,0,l,l));h.hanging=l-w-1+M-l*.5,f.clearRect(0,0,l,l),f.textBaseline="ideographic",f.fillText(m,0,l);var E=g(f.getImageData(0,0,l,l));if(h.ideographic=l-E-1+M,u.upper&&(f.clearRect(0,0,l,l),f.textBaseline="top",f.fillText(u.upper,0,0),h.upper=g(f.getImageData(0,0,l,l)),h.capHeight=h.baseline-h.upper),u.lower&&(f.clearRect(0,0,l,l),f.textBaseline="top",f.fillText(u.lower,0,0),h.lower=g(f.getImageData(0,0,l,l)),h.xHeight=h.baseline-h.lower),u.tittle&&(f.clearRect(0,0,l,l),f.textBaseline="top",f.fillText(u.tittle,0,0),h.tittle=g(f.getImageData(0,0,l,l))),u.ascent&&(f.clearRect(0,0,l,l),f.textBaseline="top",f.fillText(u.ascent,0,0),h.ascent=g(f.getImageData(0,0,l,l))),u.descent&&(f.clearRect(0,0,l,l),f.textBaseline="top",f.fillText(u.descent,0,0),h.descent=L(f.getImageData(0,0,l,l))),u.overshoot){f.clearRect(0,0,l,l),f.textBaseline="top",f.fillText(u.overshoot,0,0);var y=L(f.getImageData(0,0,l,l));h.overshoot=y-d}for(var S in h)h[S]/=v;return h.em=v,U.cache[A]=h,e(h,s)}function e(a,C){var A={};typeof C=="string"&&(C=a[C]);for(var v in a)v!=="em"&&(A[v]=a[v]-C);return A}function g(a){for(var C=a.height,A=a.data,v=3;v<A.length;v+=4)if(A[v]!==0)return Math.floor((v-3)*.25/C)}function L(a){for(var C=a.height,A=a.data,v=A.length-1;v>0;v-=4)if(A[v]!==0)return Math.floor((v-3)*.25/C)}},46492:function(G,U,e){var g=e(90720),L=Object.prototype.toString,a=Object.prototype.hasOwnProperty,C=function(t,s,n){for(var f=0,u=t.length;f<u;f++)a.call(t,f)&&(n==null?s(t[f],f,t):s.call(n,t[f],f,t))},A=function(t,s,n){for(var f=0,u=t.length;f<u;f++)n==null?s(t.charAt(f),f,t):s.call(n,t.charAt(f),f,t)},v=function(t,s,n){for(var f in t)a.call(t,f)&&(n==null?s(t[f],f,t):s.call(n,t[f],f,t))},p=function(t,s,n){if(!g(s))throw new TypeError("iterator must be a function");var f;arguments.length>=3&&(f=n),L.call(t)==="[object Array]"?C(t,s,f):typeof t=="string"?A(t,s,f):v(t,s,f)};G.exports=p},74336:function(G){var U="Function.prototype.bind called on incompatible ",e=Object.prototype.toString,g=Math.max,L="[object Function]",a=function(p,r){for(var t=[],s=0;s<p.length;s+=1)t[s]=p[s];for(var n=0;n<r.length;n+=1)t[n+p.length]=r[n];return t},C=function(p,r){for(var t=[],s=r||0,n=0;s<p.length;s+=1,n+=1)t[n]=p[s];return t},A=function(v,p){for(var r="",t=0;t<v.length;t+=1)r+=v[t],t+1<v.length&&(r+=p);return r};G.exports=function(p){var r=this;if(typeof r!="function"||e.apply(r)!==L)throw new TypeError(U+r);for(var t=C(arguments,1),s,n=function(){if(this instanceof s){var h=r.apply(this,a(t,arguments));return Object(h)===h?h:this}return r.apply(p,a(t,arguments))},f=g(0,r.length-t.length),u=[],l=0;l<f;l++)u[l]="$"+l;if(s=Function("binder","return function ("+A(u,",")+"){ return binder.apply(this,arguments); }")(n),r.prototype){var m=function(){};m.prototype=r.prototype,s.prototype=new m,m.prototype=null}return s}},8844:function(G,U,e){var g=e(74336);G.exports=Function.prototype.bind||g},13380:function(G){G.exports=U;function U(e,g){if(typeof e!="string")throw new TypeError("must specify type string");if(g=g||{},typeof document=="undefined"&&!g.canvas)return null;var L=g.canvas||document.createElement("canvas");typeof g.width=="number"&&(L.width=g.width),typeof g.height=="number"&&(L.height=g.height);var a=g,C;try{var A=[e];e.indexOf("webgl")===0&&A.push("experimental-"+e);for(var v=0;v<A.length;v++)if(C=L.getContext(A[v],a),C)return C}catch{C=null}return C||null}},53664:function(G,U,e){var g,L=SyntaxError,a=Function,C=TypeError,A=function(x){try{return a('"use strict"; return ('+x+").constructor;")()}catch{}},v=Object.getOwnPropertyDescriptor;if(v)try{v({},"")}catch{v=null}var p=function(){throw new C},r=v?function(){try{return arguments.callee,p}catch{try{return v(arguments,"callee").get}catch{return p}}}():p,t=e(71080)(),s=e(69572)(),n=Object.getPrototypeOf||(s?function(x){return x.__proto__}:null),f={},u=typeof Uint8Array=="undefined"||!n?g:n(Uint8Array),l={"%AggregateError%":typeof AggregateError=="undefined"?g:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer=="undefined"?g:ArrayBuffer,"%ArrayIteratorPrototype%":t&&n?n([][Symbol.iterator]()):g,"%AsyncFromSyncIteratorPrototype%":g,"%AsyncFunction%":f,"%AsyncGenerator%":f,"%AsyncGeneratorFunction%":f,"%AsyncIteratorPrototype%":f,"%Atomics%":typeof Atomics=="undefined"?g:Atomics,"%BigInt%":typeof BigInt=="undefined"?g:BigInt,"%BigInt64Array%":typeof BigInt64Array=="undefined"?g:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array=="undefined"?g:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView=="undefined"?g:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array=="undefined"?g:Float32Array,"%Float64Array%":typeof Float64Array=="undefined"?g:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry=="undefined"?g:FinalizationRegistry,"%Function%":a,"%GeneratorFunction%":f,"%Int8Array%":typeof Int8Array=="undefined"?g:Int8Array,"%Int16Array%":typeof Int16Array=="undefined"?g:Int16Array,"%Int32Array%":typeof Int32Array=="undefined"?g:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":t&&n?n(n([][Symbol.iterator]())):g,"%JSON%":typeof JSON=="object"?JSON:g,"%Map%":typeof Map=="undefined"?g:Map,"%MapIteratorPrototype%":typeof Map=="undefined"||!t||!n?g:n(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise=="undefined"?g:Promise,"%Proxy%":typeof Proxy=="undefined"?g:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect=="undefined"?g:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set=="undefined"?g:Set,"%SetIteratorPrototype%":typeof Set=="undefined"||!t||!n?g:n(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer=="undefined"?g:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":t&&n?n(""[Symbol.iterator]()):g,"%Symbol%":t?Symbol:g,"%SyntaxError%":L,"%ThrowTypeError%":r,"%TypedArray%":u,"%TypeError%":C,"%Uint8Array%":typeof Uint8Array=="undefined"?g:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray=="undefined"?g:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array=="undefined"?g:Uint16Array,"%Uint32Array%":typeof Uint32Array=="undefined"?g:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap=="undefined"?g:WeakMap,"%WeakRef%":typeof WeakRef=="undefined"?g:WeakRef,"%WeakSet%":typeof WeakSet=="undefined"?g:WeakSet};if(n)try{null.error}catch(x){var m=n(n(x));l["%Error.prototype%"]=m}var h=function x(_){var I;if(_==="%AsyncFunction%")I=A("async function () {}");else if(_==="%GeneratorFunction%")I=A("function* () {}");else if(_==="%AsyncGeneratorFunction%")I=A("async function* () {}");else if(_==="%AsyncGenerator%"){var N=x("%AsyncGeneratorFunction%");N&&(I=N.prototype)}else if(_==="%AsyncIteratorPrototype%"){var k=x("%AsyncGenerator%");k&&n&&(I=n(k.prototype))}return l[_]=I,I},M={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},c=e(8844),i=e(92064),d=c.call(Function.call,Array.prototype.concat),b=c.call(Function.apply,Array.prototype.splice),w=c.call(Function.call,String.prototype.replace),E=c.call(Function.call,String.prototype.slice),y=c.call(Function.call,RegExp.prototype.exec),S=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,T=/\\(\\)?/g,o=function(_){var I=E(_,0,1),N=E(_,-1);if(I==="%"&&N!=="%")throw new L("invalid intrinsic syntax, expected closing `%`");if(N==="%"&&I!=="%")throw new L("invalid intrinsic syntax, expected opening `%`");var k=[];return w(_,S,function(F,O,z,B){k[k.length]=z?w(B,T,"$1"):O||F}),k},P=function(_,I){var N=_,k;if(i(M,N)&&(k=M[N],N="%"+k[0]+"%"),i(l,N)){var F=l[N];if(F===f&&(F=h(N)),typeof F=="undefined"&&!I)throw new C("intrinsic "+_+" exists, but is not available. Please file an issue!");return{alias:k,name:N,value:F}}throw new L("intrinsic "+_+" does not exist!")};G.exports=function(_,I){if(typeof _!="string"||_.length===0)throw new C("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof I!="boolean")throw new C('"allowMissing" argument must be a boolean');if(y(/^%?[^%]*%?$/,_)===null)throw new L("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var N=o(_),k=N.length>0?N[0]:"",F=P("%"+k+"%",I),O=F.name,z=F.value,B=!1,W=F.alias;W&&(k=W[0],b(N,d([0,1],W)));for(var q=1,ee=!0;q<N.length;q+=1){var Q=N[q],oe=E(Q,0,1),Z=E(Q,-1);if((oe==='"'||oe==="'"||oe==="`"||Z==='"'||Z==="'"||Z==="`")&&oe!==Z)throw new L("property names with quotes must have matching quotes");if((Q==="constructor"||!ee)&&(B=!0),k+="."+Q,O="%"+k+"%",i(l,O))z=l[O];else if(z!=null){if(!(Q in z)){if(!I)throw new C("base intrinsic for "+_+" exists, but the property is not available.");return}if(v&&q+1>=N.length){var Y=v(z,Q);ee=!!Y,ee&&"get"in Y&&!("originalValue"in Y.get)?z=Y.get:z=z[Q]}else ee=i(z,Q),z=z[Q];ee&&!B&&(l[O]=z)}}return z}},12408:function(G){G.exports=U;function U(e,g){var L=g[0],a=g[1],C=g[2],A=g[3],v=g[4],p=g[5],r=g[6],t=g[7],s=g[8],n=g[9],f=g[10],u=g[11],l=g[12],m=g[13],h=g[14],M=g[15];return e[0]=p*(f*M-u*h)-n*(r*M-t*h)+m*(r*u-t*f),e[1]=-(a*(f*M-u*h)-n*(C*M-A*h)+m*(C*u-A*f)),e[2]=a*(r*M-t*h)-p*(C*M-A*h)+m*(C*t-A*r),e[3]=-(a*(r*u-t*f)-p*(C*u-A*f)+n*(C*t-A*r)),e[4]=-(v*(f*M-u*h)-s*(r*M-t*h)+l*(r*u-t*f)),e[5]=L*(f*M-u*h)-s*(C*M-A*h)+l*(C*u-A*f),e[6]=-(L*(r*M-t*h)-v*(C*M-A*h)+l*(C*t-A*r)),e[7]=L*(r*u-t*f)-v*(C*u-A*f)+s*(C*t-A*r),e[8]=v*(n*M-u*m)-s*(p*M-t*m)+l*(p*u-t*n),e[9]=-(L*(n*M-u*m)-s*(a*M-A*m)+l*(a*u-A*n)),e[10]=L*(p*M-t*m)-v*(a*M-A*m)+l*(a*t-A*p),e[11]=-(L*(p*u-t*n)-v*(a*u-A*n)+s*(a*t-A*p)),e[12]=-(v*(n*h-f*m)-s*(p*h-r*m)+l*(p*f-r*n)),e[13]=L*(n*h-f*m)-s*(a*h-C*m)+l*(a*f-C*n),e[14]=-(L*(p*h-r*m)-v*(a*h-C*m)+l*(a*r-C*p)),e[15]=L*(p*f-r*n)-v*(a*f-C*n)+s*(a*r-C*p),e}},76860:function(G){G.exports=U;function U(e){var g=new Float32Array(16);return g[0]=e[0],g[1]=e[1],g[2]=e[2],g[3]=e[3],g[4]=e[4],g[5]=e[5],g[6]=e[6],g[7]=e[7],g[8]=e[8],g[9]=e[9],g[10]=e[10],g[11]=e[11],g[12]=e[12],g[13]=e[13],g[14]=e[14],g[15]=e[15],g}},64492:function(G){G.exports=U;function U(e,g){return e[0]=g[0],e[1]=g[1],e[2]=g[2],e[3]=g[3],e[4]=g[4],e[5]=g[5],e[6]=g[6],e[7]=g[7],e[8]=g[8],e[9]=g[9],e[10]=g[10],e[11]=g[11],e[12]=g[12],e[13]=g[13],e[14]=g[14],e[15]=g[15],e}},54212:function(G){G.exports=U;function U(){var e=new Float32Array(16);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},70800:function(G){G.exports=U;function U(e){var g=e[0],L=e[1],a=e[2],C=e[3],A=e[4],v=e[5],p=e[6],r=e[7],t=e[8],s=e[9],n=e[10],f=e[11],u=e[12],l=e[13],m=e[14],h=e[15],M=g*v-L*A,c=g*p-a*A,i=g*r-C*A,d=L*p-a*v,b=L*r-C*v,w=a*r-C*p,E=t*l-s*u,y=t*m-n*u,S=t*h-f*u,T=s*m-n*l,o=s*h-f*l,P=n*h-f*m;return M*P-c*o+i*T+d*S-b*y+w*E}},61784:function(G){G.exports=U;function U(e,g){var L=g[0],a=g[1],C=g[2],A=g[3],v=L+L,p=a+a,r=C+C,t=L*v,s=a*v,n=a*p,f=C*v,u=C*p,l=C*r,m=A*v,h=A*p,M=A*r;return e[0]=1-n-l,e[1]=s+M,e[2]=f-h,e[3]=0,e[4]=s-M,e[5]=1-t-l,e[6]=u+m,e[7]=0,e[8]=f+h,e[9]=u-m,e[10]=1-t-n,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},91616:function(G){G.exports=U;function U(e,g,L){var a,C,A,v=L[0],p=L[1],r=L[2],t=Math.sqrt(v*v+p*p+r*r);return Math.abs(t)<1e-6?null:(t=1/t,v*=t,p*=t,r*=t,a=Math.sin(g),C=Math.cos(g),A=1-C,e[0]=v*v*A+C,e[1]=p*v*A+r*a,e[2]=r*v*A-p*a,e[3]=0,e[4]=v*p*A-r*a,e[5]=p*p*A+C,e[6]=r*p*A+v*a,e[7]=0,e[8]=v*r*A+p*a,e[9]=p*r*A-v*a,e[10]=r*r*A+C,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}},51944:function(G){G.exports=U;function U(e,g,L){var a=g[0],C=g[1],A=g[2],v=g[3],p=a+a,r=C+C,t=A+A,s=a*p,n=a*r,f=a*t,u=C*r,l=C*t,m=A*t,h=v*p,M=v*r,c=v*t;return e[0]=1-(u+m),e[1]=n+c,e[2]=f-M,e[3]=0,e[4]=n-c,e[5]=1-(s+m),e[6]=l+h,e[7]=0,e[8]=f+M,e[9]=l-h,e[10]=1-(s+u),e[11]=0,e[12]=L[0],e[13]=L[1],e[14]=L[2],e[15]=1,e}},69444:function(G){G.exports=U;function U(e,g){return e[0]=g[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=g[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=g[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},48268:function(G){G.exports=U;function U(e,g){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=g[0],e[13]=g[1],e[14]=g[2],e[15]=1,e}},21856:function(G){G.exports=U;function U(e,g){var L=Math.sin(g),a=Math.cos(g);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=a,e[6]=L,e[7]=0,e[8]=0,e[9]=-L,e[10]=a,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},79216:function(G){G.exports=U;function U(e,g){var L=Math.sin(g),a=Math.cos(g);return e[0]=a,e[1]=0,e[2]=-L,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=L,e[9]=0,e[10]=a,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},57736:function(G){G.exports=U;function U(e,g){var L=Math.sin(g),a=Math.cos(g);return e[0]=a,e[1]=L,e[2]=0,e[3]=0,e[4]=-L,e[5]=a,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},38848:function(G){G.exports=U;function U(e,g,L,a,C,A,v){var p=1/(L-g),r=1/(C-a),t=1/(A-v);return e[0]=A*2*p,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=A*2*r,e[6]=0,e[7]=0,e[8]=(L+g)*p,e[9]=(C+a)*r,e[10]=(v+A)*t,e[11]=-1,e[12]=0,e[13]=0,e[14]=v*A*2*t,e[15]=0,e}},36635:function(G){G.exports=U;function U(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},36524:function(G,U,e){G.exports={create:e(54212),clone:e(76860),copy:e(64492),identity:e(36635),transpose:e(86520),invert:e(4308),adjoint:e(12408),determinant:e(70800),multiply:e(80944),translate:e(35176),scale:e(68152),rotate:e(30016),rotateX:e(15456),rotateY:e(64840),rotateZ:e(4192),fromRotation:e(91616),fromRotationTranslation:e(51944),fromScaling:e(69444),fromTranslation:e(48268),fromXRotation:e(21856),fromYRotation:e(79216),fromZRotation:e(57736),fromQuat:e(61784),frustum:e(38848),perspective:e(51296),perspectiveFromFieldOfView:e(63688),ortho:e(97688),lookAt:e(56508),str:e(89412)}},4308:function(G){G.exports=U;function U(e,g){var L=g[0],a=g[1],C=g[2],A=g[3],v=g[4],p=g[5],r=g[6],t=g[7],s=g[8],n=g[9],f=g[10],u=g[11],l=g[12],m=g[13],h=g[14],M=g[15],c=L*p-a*v,i=L*r-C*v,d=L*t-A*v,b=a*r-C*p,w=a*t-A*p,E=C*t-A*r,y=s*m-n*l,S=s*h-f*l,T=s*M-u*l,o=n*h-f*m,P=n*M-u*m,x=f*M-u*h,_=c*x-i*P+d*o+b*T-w*S+E*y;return _?(_=1/_,e[0]=(p*x-r*P+t*o)*_,e[1]=(C*P-a*x-A*o)*_,e[2]=(m*E-h*w+M*b)*_,e[3]=(f*w-n*E-u*b)*_,e[4]=(r*T-v*x-t*S)*_,e[5]=(L*x-C*T+A*S)*_,e[6]=(h*d-l*E-M*i)*_,e[7]=(s*E-f*d+u*i)*_,e[8]=(v*P-p*T+t*y)*_,e[9]=(a*T-L*P-A*y)*_,e[10]=(l*w-m*d+M*c)*_,e[11]=(n*d-s*w-u*c)*_,e[12]=(p*S-v*o-r*y)*_,e[13]=(L*o-a*S+C*y)*_,e[14]=(m*i-l*b-h*c)*_,e[15]=(s*b-n*i+f*c)*_,e):null}},56508:function(G,U,e){var g=e(36635);G.exports=L;function L(a,C,A,v){var p,r,t,s,n,f,u,l,m,h,M=C[0],c=C[1],i=C[2],d=v[0],b=v[1],w=v[2],E=A[0],y=A[1],S=A[2];return Math.abs(M-E)<1e-6&&Math.abs(c-y)<1e-6&&Math.abs(i-S)<1e-6?g(a):(u=M-E,l=c-y,m=i-S,h=1/Math.sqrt(u*u+l*l+m*m),u*=h,l*=h,m*=h,p=b*m-w*l,r=w*u-d*m,t=d*l-b*u,h=Math.sqrt(p*p+r*r+t*t),h?(h=1/h,p*=h,r*=h,t*=h):(p=0,r=0,t=0),s=l*t-m*r,n=m*p-u*t,f=u*r-l*p,h=Math.sqrt(s*s+n*n+f*f),h?(h=1/h,s*=h,n*=h,f*=h):(s=0,n=0,f=0),a[0]=p,a[1]=s,a[2]=u,a[3]=0,a[4]=r,a[5]=n,a[6]=l,a[7]=0,a[8]=t,a[9]=f,a[10]=m,a[11]=0,a[12]=-(p*M+r*c+t*i),a[13]=-(s*M+n*c+f*i),a[14]=-(u*M+l*c+m*i),a[15]=1,a)}},80944:function(G){G.exports=U;function U(e,g,L){var a=g[0],C=g[1],A=g[2],v=g[3],p=g[4],r=g[5],t=g[6],s=g[7],n=g[8],f=g[9],u=g[10],l=g[11],m=g[12],h=g[13],M=g[14],c=g[15],i=L[0],d=L[1],b=L[2],w=L[3];return e[0]=i*a+d*p+b*n+w*m,e[1]=i*C+d*r+b*f+w*h,e[2]=i*A+d*t+b*u+w*M,e[3]=i*v+d*s+b*l+w*c,i=L[4],d=L[5],b=L[6],w=L[7],e[4]=i*a+d*p+b*n+w*m,e[5]=i*C+d*r+b*f+w*h,e[6]=i*A+d*t+b*u+w*M,e[7]=i*v+d*s+b*l+w*c,i=L[8],d=L[9],b=L[10],w=L[11],e[8]=i*a+d*p+b*n+w*m,e[9]=i*C+d*r+b*f+w*h,e[10]=i*A+d*t+b*u+w*M,e[11]=i*v+d*s+b*l+w*c,i=L[12],d=L[13],b=L[14],w=L[15],e[12]=i*a+d*p+b*n+w*m,e[13]=i*C+d*r+b*f+w*h,e[14]=i*A+d*t+b*u+w*M,e[15]=i*v+d*s+b*l+w*c,e}},97688:function(G){G.exports=U;function U(e,g,L,a,C,A,v){var p=1/(g-L),r=1/(a-C),t=1/(A-v);return e[0]=-2*p,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*r,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*t,e[11]=0,e[12]=(g+L)*p,e[13]=(C+a)*r,e[14]=(v+A)*t,e[15]=1,e}},51296:function(G){G.exports=U;function U(e,g,L,a,C){var A=1/Math.tan(g/2),v=1/(a-C);return e[0]=A/L,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=A,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=(C+a)*v,e[11]=-1,e[12]=0,e[13]=0,e[14]=2*C*a*v,e[15]=0,e}},63688:function(G){G.exports=U;function U(e,g,L,a){var C=Math.tan(g.upDegrees*Math.PI/180),A=Math.tan(g.downDegrees*Math.PI/180),v=Math.tan(g.leftDegrees*Math.PI/180),p=Math.tan(g.rightDegrees*Math.PI/180),r=2/(v+p),t=2/(C+A);return e[0]=r,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t,e[6]=0,e[7]=0,e[8]=-((v-p)*r*.5),e[9]=(C-A)*t*.5,e[10]=a/(L-a),e[11]=-1,e[12]=0,e[13]=0,e[14]=a*L/(L-a),e[15]=0,e}},30016:function(G){G.exports=U;function U(e,g,L,a){var C=a[0],A=a[1],v=a[2],p=Math.sqrt(C*C+A*A+v*v),r,t,s,n,f,u,l,m,h,M,c,i,d,b,w,E,y,S,T,o,P,x,_,I;return Math.abs(p)<1e-6?null:(p=1/p,C*=p,A*=p,v*=p,r=Math.sin(L),t=Math.cos(L),s=1-t,n=g[0],f=g[1],u=g[2],l=g[3],m=g[4],h=g[5],M=g[6],c=g[7],i=g[8],d=g[9],b=g[10],w=g[11],E=C*C*s+t,y=A*C*s+v*r,S=v*C*s-A*r,T=C*A*s-v*r,o=A*A*s+t,P=v*A*s+C*r,x=C*v*s+A*r,_=A*v*s-C*r,I=v*v*s+t,e[0]=n*E+m*y+i*S,e[1]=f*E+h*y+d*S,e[2]=u*E+M*y+b*S,e[3]=l*E+c*y+w*S,e[4]=n*T+m*o+i*P,e[5]=f*T+h*o+d*P,e[6]=u*T+M*o+b*P,e[7]=l*T+c*o+w*P,e[8]=n*x+m*_+i*I,e[9]=f*x+h*_+d*I,e[10]=u*x+M*_+b*I,e[11]=l*x+c*_+w*I,g!==e&&(e[12]=g[12],e[13]=g[13],e[14]=g[14],e[15]=g[15]),e)}},15456:function(G){G.exports=U;function U(e,g,L){var a=Math.sin(L),C=Math.cos(L),A=g[4],v=g[5],p=g[6],r=g[7],t=g[8],s=g[9],n=g[10],f=g[11];return g!==e&&(e[0]=g[0],e[1]=g[1],e[2]=g[2],e[3]=g[3],e[12]=g[12],e[13]=g[13],e[14]=g[14],e[15]=g[15]),e[4]=A*C+t*a,e[5]=v*C+s*a,e[6]=p*C+n*a,e[7]=r*C+f*a,e[8]=t*C-A*a,e[9]=s*C-v*a,e[10]=n*C-p*a,e[11]=f*C-r*a,e}},64840:function(G){G.exports=U;function U(e,g,L){var a=Math.sin(L),C=Math.cos(L),A=g[0],v=g[1],p=g[2],r=g[3],t=g[8],s=g[9],n=g[10],f=g[11];return g!==e&&(e[4]=g[4],e[5]=g[5],e[6]=g[6],e[7]=g[7],e[12]=g[12],e[13]=g[13],e[14]=g[14],e[15]=g[15]),e[0]=A*C-t*a,e[1]=v*C-s*a,e[2]=p*C-n*a,e[3]=r*C-f*a,e[8]=A*a+t*C,e[9]=v*a+s*C,e[10]=p*a+n*C,e[11]=r*a+f*C,e}},4192:function(G){G.exports=U;function U(e,g,L){var a=Math.sin(L),C=Math.cos(L),A=g[0],v=g[1],p=g[2],r=g[3],t=g[4],s=g[5],n=g[6],f=g[7];return g!==e&&(e[8]=g[8],e[9]=g[9],e[10]=g[10],e[11]=g[11],e[12]=g[12],e[13]=g[13],e[14]=g[14],e[15]=g[15]),e[0]=A*C+t*a,e[1]=v*C+s*a,e[2]=p*C+n*a,e[3]=r*C+f*a,e[4]=t*C-A*a,e[5]=s*C-v*a,e[6]=n*C-p*a,e[7]=f*C-r*a,e}},68152:function(G){G.exports=U;function U(e,g,L){var a=L[0],C=L[1],A=L[2];return e[0]=g[0]*a,e[1]=g[1]*a,e[2]=g[2]*a,e[3]=g[3]*a,e[4]=g[4]*C,e[5]=g[5]*C,e[6]=g[6]*C,e[7]=g[7]*C,e[8]=g[8]*A,e[9]=g[9]*A,e[10]=g[10]*A,e[11]=g[11]*A,e[12]=g[12],e[13]=g[13],e[14]=g[14],e[15]=g[15],e}},89412:function(G){G.exports=U;function U(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"}},35176:function(G){G.exports=U;function U(e,g,L){var a=L[0],C=L[1],A=L[2],v,p,r,t,s,n,f,u,l,m,h,M;return g===e?(e[12]=g[0]*a+g[4]*C+g[8]*A+g[12],e[13]=g[1]*a+g[5]*C+g[9]*A+g[13],e[14]=g[2]*a+g[6]*C+g[10]*A+g[14],e[15]=g[3]*a+g[7]*C+g[11]*A+g[15]):(v=g[0],p=g[1],r=g[2],t=g[3],s=g[4],n=g[5],f=g[6],u=g[7],l=g[8],m=g[9],h=g[10],M=g[11],e[0]=v,e[1]=p,e[2]=r,e[3]=t,e[4]=s,e[5]=n,e[6]=f,e[7]=u,e[8]=l,e[9]=m,e[10]=h,e[11]=M,e[12]=v*a+s*C+l*A+g[12],e[13]=p*a+n*C+m*A+g[13],e[14]=r*a+f*C+h*A+g[14],e[15]=t*a+u*C+M*A+g[15]),e}},86520:function(G){G.exports=U;function U(e,g){if(e===g){var L=g[1],a=g[2],C=g[3],A=g[6],v=g[7],p=g[11];e[1]=g[4],e[2]=g[8],e[3]=g[12],e[4]=L,e[6]=g[9],e[7]=g[13],e[8]=a,e[9]=A,e[11]=g[14],e[12]=C,e[13]=v,e[14]=p}else e[0]=g[0],e[1]=g[4],e[2]=g[8],e[3]=g[12],e[4]=g[1],e[5]=g[5],e[6]=g[9],e[7]=g[13],e[8]=g[2],e[9]=g[6],e[10]=g[10],e[11]=g[14],e[12]=g[3],e[13]=g[7],e[14]=g[11],e[15]=g[15];return e}},23352:function(G,U,e){var g=e(42771),L=e(55616),a=e(28624),C=e(55212),A=e(60463),v=e(72160),p=e(33888),r=e(14144),t=e(51160),s=e(58908),n=e(65819),f=e(23464),u=e(63768),l=e(50896),m=e(71920),h=e(47520),M=e(308),c=M.nextPow2,i=new A,d=!1;if(document.body){var b=document.body.appendChild(document.createElement("div"));b.style.font="italic small-caps bold condensed 16px/2 cursive",getComputedStyle(b).fontStretch&&(d=!0),document.body.removeChild(b)}var w=function(S){E(S)?(S={regl:S},this.gl=S.regl._gl):this.gl=C(S),this.shader=i.get(this.gl),this.shader?this.regl=this.shader.regl:this.regl=S.regl||a({gl:this.gl}),this.charBuffer=this.regl.buffer({type:"uint8",usage:"stream"}),this.sizeBuffer=this.regl.buffer({type:"float",usage:"stream"}),this.shader||(this.shader=this.createShader(),i.set(this.gl,this.shader)),this.batch=[],this.fontSize=[],this.font=[],this.fontAtlas=[],this.draw=this.shader.draw.bind(this),this.render=function(){this.regl._refresh(),this.draw(this.batch)},this.canvas=this.gl.canvas,this.update(s(S)?S:{})};w.prototype.createShader=function(){var S=this.regl,T=S({blend:{enable:!0,color:[0,0,0,1],func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},stencil:{enable:!1},depth:{enable:!1},count:S.prop("count"),offset:S.prop("offset"),attributes:{charOffset:{offset:4,stride:8,buffer:S.this("sizeBuffer")},width:{offset:0,stride:8,buffer:S.this("sizeBuffer")},char:S.this("charBuffer"),position:S.this("position")},uniforms:{atlasSize:function(P,x){return[x.atlas.width,x.atlas.height]},atlasDim:function(P,x){return[x.atlas.cols,x.atlas.rows]},atlas:function(P,x){return x.atlas.texture},charStep:function(P,x){return x.atlas.step},em:function(P,x){return x.atlas.em},color:S.prop("color"),opacity:S.prop("opacity"),viewport:S.this("viewportArray"),scale:S.this("scale"),align:S.prop("align"),baseline:S.prop("baseline"),translate:S.this("translate"),positionOffset:S.prop("positionOffset")},primitive:"points",viewport:S.this("viewport"),vert:`
			precision highp float;
			attribute float width, charOffset, char;
			attribute vec2 position;
			uniform float fontSize, charStep, em, align, baseline;
			uniform vec4 viewport;
			uniform vec4 color;
			uniform vec2 atlasSize, atlasDim, scale, translate, positionOffset;
			varying vec2 charCoord, charId;
			varying float charWidth;
			varying vec4 fontColor;
			void main () {
				vec2 offset = floor(em * (vec2(align + charOffset, baseline)
					+ vec2(positionOffset.x, -positionOffset.y)))
					/ (viewport.zw * scale.xy);

				vec2 position = (position + translate) * scale;
				position += offset * scale;

				charCoord = position * viewport.zw + viewport.xy;

				gl_Position = vec4(position * 2. - 1., 0, 1);

				gl_PointSize = charStep;

				charId.x = mod(char, atlasDim.x);
				charId.y = floor(char / atlasDim.x);

				charWidth = width * em;

				fontColor = color / 255.;
			}`,frag:`
			precision highp float;
			uniform float fontSize, charStep, opacity;
			uniform vec2 atlasSize;
			uniform vec4 viewport;
			uniform sampler2D atlas;
			varying vec4 fontColor;
			varying vec2 charCoord, charId;
			varying float charWidth;

			float lightness(vec4 color) {
				return color.r * 0.299 + color.g * 0.587 + color.b * 0.114;
			}

			void main () {
				vec2 uv = gl_FragCoord.xy - charCoord + charStep * .5;
				float halfCharStep = floor(charStep * .5 + .5);

				// invert y and shift by 1px (FF expecially needs that)
				uv.y = charStep - uv.y;

				// ignore points outside of character bounding box
				float halfCharWidth = ceil(charWidth * .5);
				if (floor(uv.x) > halfCharStep + halfCharWidth ||
					floor(uv.x) < halfCharStep - halfCharWidth) return;

				uv += charId * charStep;
				uv = uv / atlasSize;

				vec4 color = fontColor;
				vec4 mask = texture2D(atlas, uv);

				float maskY = lightness(mask);
				// float colorY = lightness(color);
				color.a *= maskY;
				color.a *= opacity;

				// color.a += .1;

				// antialiasing, see yiq color space y-channel formula
				// color.rgb += (1. - color.rgb) * (1. - mask.rgb);

				gl_FragColor = color;
			}`}),o={};return{regl:S,draw:T,atlas:o}},w.prototype.update=function(S){var T=this;if(typeof S=="string")S={text:S};else if(!S)return;S=L(S,{position:"position positions coord coords coordinates",font:"font fontFace fontface typeface cssFont css-font family fontFamily",fontSize:"fontSize fontsize size font-size",text:"text texts chars characters value values symbols",align:"align alignment textAlign textbaseline",baseline:"baseline textBaseline textbaseline",direction:"dir direction textDirection",color:"color colour fill fill-color fillColor textColor textcolor",kerning:"kerning kern",range:"range dataBox",viewport:"vp viewport viewBox viewbox viewPort",opacity:"opacity alpha transparency visible visibility opaque",offset:"offset positionOffset padding shift indent indentation"},!0),S.opacity!=null&&(Array.isArray(S.opacity)?this.opacity=S.opacity.map(function(_e){return parseFloat(_e)}):this.opacity=parseFloat(S.opacity)),S.viewport!=null&&(this.viewport=t(S.viewport),this.viewportArray=[this.viewport.x,this.viewport.y,this.viewport.width,this.viewport.height]),this.viewport==null&&(this.viewport={x:0,y:0,width:this.gl.drawingBufferWidth,height:this.gl.drawingBufferHeight},this.viewportArray=[this.viewport.x,this.viewport.y,this.viewport.width,this.viewport.height]),S.kerning!=null&&(this.kerning=S.kerning),S.offset!=null&&(typeof S.offset=="number"&&(S.offset=[S.offset,0]),this.positionOffset=h(S.offset)),S.direction&&(this.direction=S.direction),S.range&&(this.range=S.range,this.scale=[1/(S.range[2]-S.range[0]),1/(S.range[3]-S.range[1])],this.translate=[-S.range[0],-S.range[1]]),S.scale&&(this.scale=S.scale),S.translate&&(this.translate=S.translate),this.scale||(this.scale=[1/this.viewport.width,1/this.viewport.height]),this.translate||(this.translate=[0,0]),!this.font.length&&!S.font&&(S.font=w.baseFontSize+"px sans-serif");var o=!1,P=!1;if(S.font&&(Array.isArray(S.font)?S.font:[S.font]).forEach(function(_e,Ue){if(typeof _e=="string")try{_e=g.parse(_e)}catch{_e=g.parse(w.baseFontSize+"px "+_e)}else _e=g.parse(g.stringify(_e));var it=g.stringify({size:w.baseFontSize,family:_e.family,stretch:d?_e.stretch:void 0,variant:_e.variant,weight:_e.weight,style:_e.style}),lt=n(_e.size),$e=Math.round(lt[0]*f(lt[1]));if($e!==T.fontSize[Ue]&&(P=!0,T.fontSize[Ue]=$e),(!T.font[Ue]||it!=T.font[Ue].baseString)&&(o=!0,T.font[Ue]=w.fonts[it],!T.font[Ue])){var qe=_e.family.join(", "),ft=[_e.style];_e.style!=_e.variant&&ft.push(_e.variant),_e.variant!=_e.weight&&ft.push(_e.weight),d&&_e.weight!=_e.stretch&&ft.push(_e.stretch),T.font[Ue]={baseString:it,family:qe,weight:_e.weight,stretch:_e.stretch,style:_e.style,variant:_e.variant,width:{},kerning:{},metrics:m(qe,{origin:"top",fontSize:w.baseFontSize,fontStyle:ft.join(" ")})},w.fonts[it]=T.font[Ue]}}),(o||P)&&this.font.forEach(function(_e,Ue){var it=g.stringify({size:T.fontSize[Ue],family:_e.family,stretch:d?_e.stretch:void 0,variant:_e.variant,weight:_e.weight,style:_e.style});if(T.fontAtlas[Ue]=T.shader.atlas[it],!T.fontAtlas[Ue]){var lt=_e.metrics;T.shader.atlas[it]=T.fontAtlas[Ue]={fontString:it,step:Math.ceil(T.fontSize[Ue]*lt.bottom*.5)*2,em:T.fontSize[Ue],cols:0,rows:0,height:0,width:0,chars:[],ids:{},texture:T.regl.texture()}}S.text==null&&(S.text=T.text)}),typeof S.text=="string"&&S.position&&S.position.length>2){for(var x=Array(S.position.length*.5),_=0;_<x.length;_++)x[_]=S.text;S.text=x}var I;if(S.text!=null||o){if(this.textOffsets=[0],Array.isArray(S.text)){this.count=S.text[0].length,this.counts=[this.count];for(var N=1;N<S.text.length;N++)this.textOffsets[N]=this.textOffsets[N-1]+S.text[N-1].length,this.count+=S.text[N].length,this.counts.push(S.text[N].length);this.text=S.text.join("")}else this.text=S.text,this.count=this.text.length,this.counts=[this.count];I=[],this.font.forEach(function(_e,Ue){w.atlasContext.font=_e.baseString;for(var it=T.fontAtlas[Ue],lt=0;lt<T.text.length;lt++){var $e=T.text.charAt(lt);if(it.ids[$e]==null&&(it.ids[$e]=it.chars.length,it.chars.push($e),I.push($e)),_e.width[$e]==null&&(_e.width[$e]=w.atlasContext.measureText($e).width/w.baseFontSize,T.kerning)){var qe=[];for(var ft in _e.width)qe.push(ft+$e,$e+ft);l(_e.kerning,u(_e.family,{pairs:qe}))}}})}if(S.position)if(S.position.length>2){for(var k=!S.position[0].length,F=r.mallocFloat(this.count*2),O=0,z=0;O<this.counts.length;O++){var B=this.counts[O];if(k)for(var W=0;W<B;W++)F[z++]=S.position[O*2],F[z++]=S.position[O*2+1];else for(var q=0;q<B;q++)F[z++]=S.position[O][0],F[z++]=S.position[O][1]}this.position.call?this.position({type:"float",data:F}):this.position=this.regl.buffer({type:"float",data:F}),r.freeFloat(F)}else this.position.destroy&&this.position.destroy(),this.position={constant:S.position};if(S.text||o){var ee=r.mallocUint8(this.count),Q=r.mallocFloat(this.count*2);this.textWidth=[];for(var oe=0,Z=0;oe<this.counts.length;oe++){for(var Y=this.counts[oe],te=this.font[oe]||this.font[0],X=this.fontAtlas[oe]||this.fontAtlas[0],$=0;$<Y;$++){var ie=this.text.charAt(Z),J=this.text.charAt(Z-1);if(ee[Z]=X.ids[ie],Q[Z*2]=te.width[ie],$){var j=Q[Z*2-2],se=Q[Z*2],ne=Q[Z*2-1],le=ne+j*.5+se*.5;if(this.kerning){var pe=te.kerning[J+ie];pe&&(le+=pe*.001)}Q[Z*2+1]=le}else Q[Z*2+1]=Q[Z*2]*.5;Z++}this.textWidth.push(Q.length?Q[Z*2-2]*.5+Q[Z*2-1]:0)}S.align||(S.align=this.align),this.charBuffer({data:ee,type:"uint8",usage:"stream"}),this.sizeBuffer({data:Q,type:"float",usage:"stream"}),r.freeUint8(ee),r.freeFloat(Q),I.length&&this.font.forEach(function(_e,Ue){var it=T.fontAtlas[Ue],lt=it.step,$e=Math.floor(w.maxAtlasSize/lt),qe=Math.min($e,it.chars.length),ft=Math.ceil(it.chars.length/qe),ct=c(qe*lt),pt=c(ft*lt);it.width=ct,it.height=pt,it.rows=ft,it.cols=qe,it.em&&it.texture({data:p({canvas:w.atlasCanvas,font:it.fontString,chars:it.chars,shape:[ct,pt],step:[lt,lt]})})})}if(S.align&&(this.align=S.align,this.alignOffset=this.textWidth.map(function(_e,Ue){var it=Array.isArray(T.align)?T.align.length>1?T.align[Ue]:T.align[0]:T.align;if(typeof it=="number")return it;switch(it){case"right":case"end":return-_e;case"center":case"centre":case"middle":return-_e*.5}return 0})),this.baseline==null&&S.baseline==null&&(S.baseline=0),S.baseline!=null&&(this.baseline=S.baseline,Array.isArray(this.baseline)||(this.baseline=[this.baseline]),this.baselineOffset=this.baseline.map(function(_e,Ue){var it=(T.font[Ue]||T.font[0]).metrics,lt=0;return lt+=it.bottom*.5,typeof _e=="number"?lt+=_e-it.baseline:lt+=-it[_e],lt*=-1,lt})),S.color!=null)if(S.color||(S.color="transparent"),typeof S.color=="string"||!isNaN(S.color))this.color=v(S.color,"uint8");else{var Ae;if(typeof S.color[0]=="number"&&S.color.length>this.counts.length){var be=S.color.length;Ae=r.mallocUint8(be);for(var Re=(S.color.subarray||S.color.slice).bind(S.color),xe=0;xe<be;xe+=4)Ae.set(v(Re(xe,xe+4),"uint8"),xe)}else{var Me=S.color.length;Ae=r.mallocUint8(Me*4);for(var ye=0;ye<Me;ye++)Ae.set(v(S.color[ye]||0,"uint8"),ye*4)}this.color=Ae}if(S.position||S.text||S.color||S.baseline||S.align||S.font||S.offset||S.opacity){var Se=this.color.length>4||this.baselineOffset.length>1||this.align&&this.align.length>1||this.fontAtlas.length>1||this.positionOffset.length>2;if(Se){var Fe=Math.max(this.position.length*.5||0,this.color.length*.25||0,this.baselineOffset.length||0,this.alignOffset.length||0,this.font.length||0,this.opacity.length||0,this.positionOffset.length*.5||0);this.batch=Array(Fe);for(var Be=0;Be<this.batch.length;Be++)this.batch[Be]={count:this.counts.length>1?this.counts[Be]:this.counts[0],offset:this.textOffsets.length>1?this.textOffsets[Be]:this.textOffsets[0],color:this.color?this.color.length<=4?this.color:this.color.subarray(Be*4,Be*4+4):[0,0,0,255],opacity:Array.isArray(this.opacity)?this.opacity[Be]:this.opacity,baseline:this.baselineOffset[Be]!=null?this.baselineOffset[Be]:this.baselineOffset[0],align:this.align?this.alignOffset[Be]!=null?this.alignOffset[Be]:this.alignOffset[0]:0,atlas:this.fontAtlas[Be]||this.fontAtlas[0],positionOffset:this.positionOffset.length>2?this.positionOffset.subarray(Be*2,Be*2+2):this.positionOffset}}else this.count?this.batch=[{count:this.count,offset:0,color:this.color||[0,0,0,255],opacity:Array.isArray(this.opacity)?this.opacity[0]:this.opacity,baseline:this.baselineOffset[0],align:this.alignOffset?this.alignOffset[0]:0,atlas:this.fontAtlas[0],positionOffset:this.positionOffset}]:this.batch=[]}},w.prototype.destroy=function(){},w.prototype.kerning=!0,w.prototype.position={constant:new Float32Array(2)},w.prototype.translate=null,w.prototype.scale=null,w.prototype.font=null,w.prototype.text="",w.prototype.positionOffset=[0,0],w.prototype.opacity=1,w.prototype.color=new Uint8Array([0,0,0,255]),w.prototype.alignOffset=[0,0],w.maxAtlasSize=1024,w.atlasCanvas=document.createElement("canvas"),w.atlasContext=w.atlasCanvas.getContext("2d",{alpha:!1}),w.baseFontSize=64,w.fonts={};function E(y){return typeof y=="function"&&y._gl&&y.prop&&y.texture&&y.buffer}G.exports=w},55212:function(G,U,e){var g=e(55616);G.exports=function(r){if(r?typeof r=="string"&&(r={container:r}):r={},a(r)?r={container:r}:C(r)?r={container:r}:A(r)?r={gl:r}:r=g(r,{container:"container target element el canvas holder parent parentNode wrapper use ref root node",gl:"gl context webgl glContext",attrs:"attributes attrs contextAttributes",pixelRatio:"pixelRatio pxRatio px ratio pxratio pixelratio",width:"w width",height:"h height"},!0),r.pixelRatio||(r.pixelRatio=e.g.pixelRatio||1),r.gl)return r.gl;if(r.canvas&&(r.container=r.canvas.parentNode),r.container){if(typeof r.container=="string"){var t=document.querySelector(r.container);if(!t)throw Error("Element "+r.container+" is not found");r.container=t}a(r.container)?(r.canvas=r.container,r.container=r.canvas.parentNode):r.canvas||(r.canvas=v(),r.container.appendChild(r.canvas),L(r))}else if(!r.canvas)if(typeof document!="undefined")r.container=document.body||document.documentElement,r.canvas=v(),r.container.appendChild(r.canvas),L(r);else throw Error("Not DOM environment. Use headless-gl.");return r.gl||["webgl","experimental-webgl","webgl-experimental"].some(function(s){try{r.gl=r.canvas.getContext(s,r.attrs)}catch{}return r.gl}),r.gl};function L(p){if(p.container)if(p.container==document.body)document.body.style.width||(p.canvas.width=p.width||p.pixelRatio*e.g.innerWidth),document.body.style.height||(p.canvas.height=p.height||p.pixelRatio*e.g.innerHeight);else{var r=p.container.getBoundingClientRect();p.canvas.width=p.width||r.right-r.left,p.canvas.height=p.height||r.bottom-r.top}}function a(p){return typeof p.getContext=="function"&&"width"in p&&"height"in p}function C(p){return typeof p.nodeName=="string"&&typeof p.appendChild=="function"&&typeof p.getBoundingClientRect=="function"}function A(p){return typeof p.drawArrays=="function"||typeof p.drawElements=="function"}function v(){var p=document.createElement("canvas");return p.style.position="absolute",p.style.top=0,p.style.left=0,p}},26444:function(G){G.exports=function(U){typeof U=="string"&&(U=[U]);for(var e=[].slice.call(arguments,1),g=[],L=0;L<U.length-1;L++)g.push(U[L],e[L]||"");return g.push(U[L]),g.join("")}},2304:function(G,U,e){var g=e(53664),L=g("%Object.getOwnPropertyDescriptor%",!0);if(L)try{L([],"length")}catch{L=null}G.exports=L},52264:function(G,U,e){var g=e(24200),L;typeof e.g.matchMedia=="function"?L=!e.g.matchMedia("(hover: none)").matches:L=g,G.exports=L},89184:function(G,U,e){var g=e(24200);function L(){var a=!1;try{var C=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("test",null,C),window.removeEventListener("test",null,C)}catch{a=!1}return a}G.exports=g&&L()},39640:function(G,U,e){var g=e(53664),L=g("%Object.defineProperty%",!0),a=function(){if(L)try{return L({},"a",{value:1}),!0}catch{return!1}return!1};a.hasArrayLengthDefineBug=function(){if(!a())return null;try{return L([],"length",{value:1}).length!==1}catch{return!0}},G.exports=a},69572:function(G){var U={foo:{}},e=Object;G.exports=function(){return{__proto__:U}.foo===U.foo&&!({__proto__:null}instanceof e)}},71080:function(G,U,e){var g=typeof Symbol!="undefined"&&Symbol,L=e(89320);G.exports=function(){return typeof g!="function"||typeof Symbol!="function"||typeof g("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:L()}},89320:function(G){G.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},g=Symbol("test"),L=Object(g);if(typeof g=="string"||Object.prototype.toString.call(g)!=="[object Symbol]"||Object.prototype.toString.call(L)!=="[object Symbol]")return!1;var a=42;e[g]=a;for(g in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var C=Object.getOwnPropertySymbols(e);if(C.length!==1||C[0]!==g||!Object.prototype.propertyIsEnumerable.call(e,g))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var A=Object.getOwnPropertyDescriptor(e,g);if(A.value!==a||A.enumerable!==!0)return!1}return!0}},46672:function(G,U,e){var g=e(89320);G.exports=function(){return g()&&!!Symbol.toStringTag}},92064:function(G,U,e){var g=Function.prototype.call,L=Object.prototype.hasOwnProperty,a=e(8844);G.exports=a.call(g,L)},35984:function(G,U){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */U.read=function(e,g,L,a,C){var A,v,p=C*8-a-1,r=(1<<p)-1,t=r>>1,s=-7,n=L?C-1:0,f=L?-1:1,u=e[g+n];for(n+=f,A=u&(1<<-s)-1,u>>=-s,s+=p;s>0;A=A*256+e[g+n],n+=f,s-=8);for(v=A&(1<<-s)-1,A>>=-s,s+=a;s>0;v=v*256+e[g+n],n+=f,s-=8);if(A===0)A=1-t;else{if(A===r)return v?NaN:(u?-1:1)*(1/0);v=v+Math.pow(2,a),A=A-t}return(u?-1:1)*v*Math.pow(2,A-a)},U.write=function(e,g,L,a,C,A){var v,p,r,t=A*8-C-1,s=(1<<t)-1,n=s>>1,f=C===23?Math.pow(2,-24)-Math.pow(2,-77):0,u=a?0:A-1,l=a?1:-1,m=g<0||g===0&&1/g<0?1:0;for(g=Math.abs(g),isNaN(g)||g===1/0?(p=isNaN(g)?1:0,v=s):(v=Math.floor(Math.log(g)/Math.LN2),g*(r=Math.pow(2,-v))<1&&(v--,r*=2),v+n>=1?g+=f/r:g+=f*Math.pow(2,1-n),g*r>=2&&(v++,r/=2),v+n>=s?(p=0,v=s):v+n>=1?(p=(g*r-1)*Math.pow(2,C),v=v+n):(p=g*Math.pow(2,n-1)*Math.pow(2,C),v=0));C>=8;e[L+u]=p&255,u+=l,p/=256,C-=8);for(v=v<<C|p,t+=C;t>0;e[L+u]=v&255,u+=l,v/=256,t-=8);e[L+u-l]|=m*128}},6768:function(G){typeof Object.create=="function"?G.exports=function(e,g){g&&(e.super_=g,e.prototype=Object.create(g.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:G.exports=function(e,g){if(g){e.super_=g;var L=function(){};L.prototype=g.prototype,e.prototype=new L,e.prototype.constructor=e}}},91148:function(G,U,e){var g=e(46672)(),L=e(99676),a=L("Object.prototype.toString"),C=function(r){return g&&r&&typeof r=="object"&&Symbol.toStringTag in r?!1:a(r)==="[object Arguments]"},A=function(r){return C(r)?!0:r!==null&&typeof r=="object"&&typeof r.length=="number"&&r.length>=0&&a(r)!=="[object Array]"&&a(r.callee)==="[object Function]"},v=function(){return C(arguments)}();C.isLegacyArguments=A,G.exports=v?C:A},24200:function(G){G.exports=!0},90720:function(G){var U=Function.prototype.toString,e=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,g,L;if(typeof e=="function"&&typeof Object.defineProperty=="function")try{g=Object.defineProperty({},"length",{get:function(){throw L}}),L={},e(function(){throw 42},null,g)}catch(M){M!==L&&(e=null)}else e=null;var a=/^\s*class\b/,C=function(c){try{var i=U.call(c);return a.test(i)}catch{return!1}},A=function(c){try{return C(c)?!1:(U.call(c),!0)}catch{return!1}},v=Object.prototype.toString,p="[object Object]",r="[object Function]",t="[object GeneratorFunction]",s="[object HTMLAllCollection]",n="[object HTML document.all class]",f="[object HTMLCollection]",u=typeof Symbol=="function"&&!!Symbol.toStringTag,l=!(0 in[,]),m=function(){return!1};if(typeof document=="object"){var h=document.all;v.call(h)===v.call(document.all)&&(m=function(c){if((l||!c)&&(typeof c=="undefined"||typeof c=="object"))try{var i=v.call(c);return(i===s||i===n||i===f||i===p)&&c("")==null}catch{}return!1})}G.exports=e?function(c){if(m(c))return!0;if(!c||typeof c!="function"&&typeof c!="object")return!1;try{e(c,null,g)}catch(i){if(i!==L)return!1}return!C(c)&&A(c)}:function(c){if(m(c))return!0;if(!c||typeof c!="function"&&typeof c!="object")return!1;if(u)return A(c);if(C(c))return!1;var i=v.call(c);return i!==r&&i!==t&&!/^\[object HTML/.test(i)?!1:A(c)}},84420:function(G,U,e){var g=Object.prototype.toString,L=Function.prototype.toString,a=/^\s*(?:function)?\*/,C=e(46672)(),A=Object.getPrototypeOf,v=function(){if(!C)return!1;try{return Function("return function*() {}")()}catch{}},p;G.exports=function(t){if(typeof t!="function")return!1;if(a.test(L.call(t)))return!0;if(!C){var s=g.call(t);return s==="[object GeneratorFunction]"}if(!A)return!1;if(typeof p=="undefined"){var n=v();p=n?A(n):!1}return A(t)===p}},96604:function(G){G.exports=typeof navigator!="undefined"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion))},85992:function(G){G.exports=function(e){return e!==e}},1560:function(G,U,e){var g=e(57916),L=e(81288),a=e(85992),C=e(57740),A=e(59736),v=g(C(),Number);L(v,{getPolyfill:C,implementation:a,shim:A}),G.exports=v},57740:function(G,U,e){var g=e(85992);G.exports=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:g}},59736:function(G,U,e){var g=e(81288),L=e(57740);G.exports=function(){var C=L();return g(Number,{isNaN:C},{isNaN:function(){return Number.isNaN!==C}}),C}},18400:function(G){G.exports=function(U){var e=typeof U;return U!==null&&(e==="object"||e==="function")}},58908:function(G){var U=Object.prototype.toString;G.exports=function(e){var g;return U.call(e)==="[object Object]"&&(g=Object.getPrototypeOf(e),g===null||g===Object.getPrototypeOf({}))}},94576:function(G){G.exports=function(U){for(var e=U.length,g,L=0;L<e;L++)if(g=U.charCodeAt(L),(g<9||g>13)&&g!==32&&g!==133&&g!==160&&g!==5760&&g!==6158&&(g<8192||g>8205)&&g!==8232&&g!==8233&&g!==8239&&g!==8287&&g!==8288&&g!==12288&&g!==65279)return!1;return!0}},53520:function(G){G.exports=function(e){return typeof e!="string"?!1:(e=e.trim(),!!(/^[mzlhvcsqta]\s*[-+.0-9][^mlhvzcsqta]+/i.test(e)&&/[\dz]$/i.test(e)&&e.length>4))}},7728:function(G,U,e){var g=e(46492),L=e(63436),a=e(99676),C=a("Object.prototype.toString"),A=e(46672)(),v=e(2304),p=typeof globalThis=="undefined"?e.g:globalThis,r=L(),t=a("Array.prototype.indexOf",!0)||function(m,h){for(var M=0;M<m.length;M+=1)if(m[M]===h)return M;return-1},s=a("String.prototype.slice"),n={},f=Object.getPrototypeOf;A&&v&&f&&g(r,function(l){var m=new p[l];if(Symbol.toStringTag in m){var h=f(m),M=v(h,Symbol.toStringTag);if(!M){var c=f(h);M=v(c,Symbol.toStringTag)}n[l]=M.get}});var u=function(m){var h=!1;return g(n,function(M,c){if(!h)try{h=M.call(m)===c}catch{}}),h};G.exports=function(m){if(!m||typeof m!="object")return!1;if(!A||!(Symbol.toStringTag in m)){var h=s(C(m),8,-1);return t(r,h)>-1}return v?u(m):!1}},76244:function(G){G.exports=Math.log2||function(U){return Math.log(U)*Math.LOG2E}},62644:function(G,U,e){G.exports=L;var g=e(93784);function L(a,C){C||(C=a,a=window);var A=0,v=0,p=0,r={shift:!1,alt:!1,control:!1,meta:!1},t=!1;function s(b){var w=!1;return"altKey"in b&&(w=w||b.altKey!==r.alt,r.alt=!!b.altKey),"shiftKey"in b&&(w=w||b.shiftKey!==r.shift,r.shift=!!b.shiftKey),"ctrlKey"in b&&(w=w||b.ctrlKey!==r.control,r.control=!!b.ctrlKey),"metaKey"in b&&(w=w||b.metaKey!==r.meta,r.meta=!!b.metaKey),w}function n(b,w){var E=g.x(w),y=g.y(w);"buttons"in w&&(b=w.buttons|0),(b!==A||E!==v||y!==p||s(w))&&(A=b|0,v=E||0,p=y||0,C&&C(A,v,p,r))}function f(b){n(0,b)}function u(){(A||v||p||r.shift||r.alt||r.meta||r.control)&&(v=p=0,A=0,r.shift=r.alt=r.control=r.meta=!1,C&&C(0,0,0,r))}function l(b){s(b)&&C&&C(A,v,p,r)}function m(b){g.buttons(b)===0?n(0,b):n(A,b)}function h(b){n(A|g.buttons(b),b)}function M(b){n(A&~g.buttons(b),b)}function c(){t||(t=!0,a.addEventListener("mousemove",m),a.addEventListener("mousedown",h),a.addEventListener("mouseup",M),a.addEventListener("mouseleave",f),a.addEventListener("mouseenter",f),a.addEventListener("mouseout",f),a.addEventListener("mouseover",f),a.addEventListener("blur",u),a.addEventListener("keyup",l),a.addEventListener("keydown",l),a.addEventListener("keypress",l),a!==window&&(window.addEventListener("blur",u),window.addEventListener("keyup",l),window.addEventListener("keydown",l),window.addEventListener("keypress",l)))}function i(){!t||(t=!1,a.removeEventListener("mousemove",m),a.removeEventListener("mousedown",h),a.removeEventListener("mouseup",M),a.removeEventListener("mouseleave",f),a.removeEventListener("mouseenter",f),a.removeEventListener("mouseout",f),a.removeEventListener("mouseover",f),a.removeEventListener("blur",u),a.removeEventListener("keyup",l),a.removeEventListener("keydown",l),a.removeEventListener("keypress",l),a!==window&&(window.removeEventListener("blur",u),window.removeEventListener("keyup",l),window.removeEventListener("keydown",l),window.removeEventListener("keypress",l)))}c();var d={element:a};return Object.defineProperties(d,{enabled:{get:function(){return t},set:function(b){b?c():i()},enumerable:!0},buttons:{get:function(){return A},enumerable:!0},x:{get:function(){return v},enumerable:!0},y:{get:function(){return p},enumerable:!0},mods:{get:function(){return r},enumerable:!0}}),d}},29128:function(G){var U={left:0,top:0};G.exports=e;function e(L,a,C){a=a||L.currentTarget||L.srcElement,Array.isArray(C)||(C=[0,0]);var A=L.clientX||0,v=L.clientY||0,p=g(a);return C[0]=A-p.left,C[1]=v-p.top,C}function g(L){return L===window||L===document||L===document.body?U:L.getBoundingClientRect()}},93784:function(G,U){function e(C){if(typeof C=="object"){if("buttons"in C)return C.buttons;if("which"in C){var A=C.which;if(A===2)return 4;if(A===3)return 2;if(A>0)return 1<<A-1}else if("button"in C){var A=C.button;if(A===1)return 4;if(A===2)return 2;if(A>=0)return 1<<A}}return 0}U.buttons=e;function g(C){return C.target||C.srcElement||window}U.element=g;function L(C){if(typeof C=="object"){if("offsetX"in C)return C.offsetX;var A=g(C),v=A.getBoundingClientRect();return C.clientX-v.left}return 0}U.x=L;function a(C){if(typeof C=="object"){if("offsetY"in C)return C.offsetY;var A=g(C),v=A.getBoundingClientRect();return C.clientY-v.top}return 0}U.y=a},97264:function(G,U,e){var g=e(23464);G.exports=L;function L(a,C,A){typeof a=="function"&&(A=!!C,C=a,a=window);var v=g("ex",a),p=function(r){A&&r.preventDefault();var t=r.deltaX||0,s=r.deltaY||0,n=r.deltaZ||0,f=r.deltaMode,u=1;switch(f){case 1:u=v;break;case 2:u=window.innerHeight;break}if(t*=u,s*=u,n*=u,t||s||n)return C(t,s,n,r)};return a.addEventListener("wheel",p),p}},88324:function(G,U,e){var g;/*! Native Promise Only
    v0.8.1 (c) Kyle Simpson
    MIT License: http://getify.mit-license.org
*/(function(a,C,A){C[a]=C[a]||A(),G.exports?G.exports=C[a]:(g=function(){return C[a]}.call(U,e,U,G),g!==void 0&&(G.exports=g))})("Promise",typeof e.g!="undefined"?e.g:this,function(){var a,C,A,v=Object.prototype.toString,p=typeof setImmediate!="undefined"?function(d){return setImmediate(d)}:setTimeout;try{Object.defineProperty({},"x",{}),a=function(d,b,w,E){return Object.defineProperty(d,b,{value:w,writable:!0,configurable:E!==!1})}}catch{a=function(b,w,E){return b[w]=E,b}}A=function(){var d,b,w;function E(y,S){this.fn=y,this.self=S,this.next=void 0}return{add:function(S,T){w=new E(S,T),b?b.next=w:d=w,b=w,w=void 0},drain:function(){var S=d;for(d=b=C=void 0;S;)S.fn.call(S.self),S=S.next}}}();function r(i,d){A.add(i,d),C||(C=p(A.drain))}function t(i){var d,b=typeof i;return i!=null&&(b=="object"||b=="function")&&(d=i.then),typeof d=="function"?d:!1}function s(){for(var i=0;i<this.chain.length;i++)n(this,this.state===1?this.chain[i].success:this.chain[i].failure,this.chain[i]);this.chain.length=0}function n(i,d,b){var w,E;try{d===!1?b.reject(i.msg):(d===!0?w=i.msg:w=d.call(void 0,i.msg),w===b.promise?b.reject(TypeError("Promise-chain cycle")):(E=t(w))?E.call(w,b.resolve,b.reject):b.resolve(w))}catch(y){b.reject(y)}}function f(i){var d,b=this;if(!b.triggered){b.triggered=!0,b.def&&(b=b.def);try{(d=t(i))?r(function(){var w=new m(b);try{d.call(i,function(){f.apply(w,arguments)},function(){u.apply(w,arguments)})}catch(E){u.call(w,E)}}):(b.msg=i,b.state=1,b.chain.length>0&&r(s,b))}catch(w){u.call(new m(b),w)}}}function u(i){var d=this;d.triggered||(d.triggered=!0,d.def&&(d=d.def),d.msg=i,d.state=2,d.chain.length>0&&r(s,d))}function l(i,d,b,w){for(var E=0;E<d.length;E++)(function(S){i.resolve(d[S]).then(function(o){b(S,o)},w)})(E)}function m(i){this.def=i,this.triggered=!1}function h(i){this.promise=i,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function M(i){if(typeof i!="function")throw TypeError("Not a function");if(this.__NPO__!==0)throw TypeError("Not a promise");this.__NPO__=1;var d=new h(this);this.then=function(w,E){var y={success:typeof w=="function"?w:!0,failure:typeof E=="function"?E:!1};return y.promise=new this.constructor(function(T,o){if(typeof T!="function"||typeof o!="function")throw TypeError("Not a function");y.resolve=T,y.reject=o}),d.chain.push(y),d.state!==0&&r(s,d),y.promise},this.catch=function(w){return this.then(void 0,w)};try{i.call(void 0,function(w){f.call(d,w)},function(w){u.call(d,w)})}catch(b){u.call(d,b)}}var c=a({},"constructor",M,!1);return M.prototype=c,a(c,"__NPO__",0,!1),a(M,"resolve",function(d){var b=this;return d&&typeof d=="object"&&d.__NPO__===1?d:new b(function(E,y){if(typeof E!="function"||typeof y!="function")throw TypeError("Not a function");E(d)})}),a(M,"reject",function(d){return new this(function(w,E){if(typeof w!="function"||typeof E!="function")throw TypeError("Not a function");E(d)})}),a(M,"all",function(d){var b=this;return v.call(d)!="[object Array]"?b.reject(TypeError("Not an array")):d.length===0?b.resolve([]):new b(function(E,y){if(typeof E!="function"||typeof y!="function")throw TypeError("Not a function");var S=d.length,T=Array(S),o=0;l(b,d,function(x,_){T[x]=_,++o===S&&E(T)},y)})}),a(M,"race",function(d){var b=this;return v.call(d)!="[object Array]"?b.reject(TypeError("Not an array")):new b(function(E,y){if(typeof E!="function"||typeof y!="function")throw TypeError("Not a function");l(b,d,function(T,o){E(o)},y)})}),M})},48816:function(G){var U=Math.PI,e=v(120);G.exports=g;function g(p){for(var r,t=[],s=0,n=0,f=0,u=0,l=null,m=null,h=0,M=0,c=0,i=p.length;c<i;c++){var d=p[c],b=d[0];switch(b){case"M":f=d[1],u=d[2];break;case"A":d=C(h,M,d[1],d[2],v(d[3]),d[4],d[5],d[6],d[7]),d.unshift("C"),d.length>7&&(t.push(d.splice(0,7)),d.unshift("C"));break;case"S":var w=h,E=M;(r=="C"||r=="S")&&(w+=w-s,E+=E-n),d=["C",w,E,d[1],d[2],d[3],d[4]];break;case"T":r=="Q"||r=="T"?(l=h*2-l,m=M*2-m):(l=h,m=M),d=a(h,M,l,m,d[1],d[2]);break;case"Q":l=d[1],m=d[2],d=a(h,M,d[1],d[2],d[3],d[4]);break;case"L":d=L(h,M,d[1],d[2]);break;case"H":d=L(h,M,d[1],M);break;case"V":d=L(h,M,h,d[1]);break;case"Z":d=L(h,M,f,u);break}r=b,h=d[d.length-2],M=d[d.length-1],d.length>4?(s=d[d.length-4],n=d[d.length-3]):(s=h,n=M),t.push(d)}return t}function L(p,r,t,s){return["C",p,r,t,s,t,s]}function a(p,r,t,s,n,f){return["C",p/3+.6666666666666666*t,r/3+.6666666666666666*s,n/3+.6666666666666666*t,f/3+.6666666666666666*s,n,f]}function C(p,r,t,s,n,f,u,l,m,h){if(h)T=h[0],o=h[1],y=h[2],S=h[3];else{var M=A(p,r,-n);p=M.x,r=M.y,M=A(l,m,-n),l=M.x,m=M.y;var c=(p-l)/2,i=(r-m)/2,d=c*c/(t*t)+i*i/(s*s);d>1&&(d=Math.sqrt(d),t=d*t,s=d*s);var b=t*t,w=s*s,E=(f==u?-1:1)*Math.sqrt(Math.abs((b*w-b*i*i-w*c*c)/(b*i*i+w*c*c)));E==1/0&&(E=1);var y=E*t*i/s+(p+l)/2,S=E*-s*c/t+(r+m)/2,T=Math.asin(((r-S)/s).toFixed(9)),o=Math.asin(((m-S)/s).toFixed(9));T=p<y?U-T:T,o=l<y?U-o:o,T<0&&(T=U*2+T),o<0&&(o=U*2+o),u&&T>o&&(T=T-U*2),!u&&o>T&&(o=o-U*2)}if(Math.abs(o-T)>e){var P=o,x=l,_=m;o=T+e*(u&&o>T?1:-1),l=y+t*Math.cos(o),m=S+s*Math.sin(o);var I=C(l,m,t,s,n,0,u,x,_,[o,P,y,S])}var N=Math.tan((o-T)/4),k=4/3*t*N,F=4/3*s*N,O=[2*p-(p+k*Math.sin(T)),2*r-(r-F*Math.cos(T)),l+k*Math.sin(o),m-F*Math.cos(o),l,m];if(h)return O;I&&(O=O.concat(I));for(var z=0;z<O.length;){var B=A(O[z],O[z+1],n);O[z++]=B.x,O[z++]=B.y}return O}function A(p,r,t){return{x:p*Math.cos(t)-r*Math.sin(t),y:p*Math.sin(t)+r*Math.cos(t)}}function v(p){return p*(U/180)}},50896:function(G){/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var U=Object.getOwnPropertySymbols,e=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable;function L(C){if(C==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(C)}function a(){try{if(!Object.assign)return!1;var C=new String("abc");if(C[5]="de",Object.getOwnPropertyNames(C)[0]==="5")return!1;for(var A={},v=0;v<10;v++)A["_"+String.fromCharCode(v)]=v;var p=Object.getOwnPropertyNames(A).map(function(t){return A[t]});if(p.join("")!=="0123456789")return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(t){r[t]=t}),Object.keys(Object.assign({},r)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}G.exports=a()?Object.assign:function(C,A){for(var v,p=L(C),r,t=1;t<arguments.length;t++){v=Object(arguments[t]);for(var s in v)e.call(v,s)&&(p[s]=v[s]);if(U){r=U(v);for(var n=0;n<r.length;n++)g.call(v,r[n])&&(p[r[n]]=v[r[n]])}}return p}},76835:function(G){var U=function(e){return e!==e};G.exports=function(g,L){return g===0&&L===0?1/g===1/L:!!(g===L||U(g)&&U(L))}},39896:function(G,U,e){var g=e(81288),L=e(57916),a=e(76835),C=e(66148),A=e(16408),v=L(C(),Object);g(v,{getPolyfill:C,implementation:a,shim:A}),G.exports=v},66148:function(G,U,e){var g=e(76835);G.exports=function(){return typeof Object.is=="function"?Object.is:g}},16408:function(G,U,e){var g=e(66148),L=e(81288);G.exports=function(){var C=g();return L(Object,{is:C},{is:function(){return Object.is!==C}}),C}},32764:function(G,U,e){var g;if(!Object.keys){var L=Object.prototype.hasOwnProperty,a=Object.prototype.toString,C=e(97344),A=Object.prototype.propertyIsEnumerable,v=!A.call({toString:null},"toString"),p=A.call(function(){},"prototype"),r=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],t=function(u){var l=u.constructor;return l&&l.prototype===u},s={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},n=function(){if(typeof window=="undefined")return!1;for(var u in window)try{if(!s["$"+u]&&L.call(window,u)&&window[u]!==null&&typeof window[u]=="object")try{t(window[u])}catch{return!0}}catch{return!0}return!1}(),f=function(u){if(typeof window=="undefined"||!n)return t(u);try{return t(u)}catch{return!1}};g=function(l){var m=l!==null&&typeof l=="object",h=a.call(l)==="[object Function]",M=C(l),c=m&&a.call(l)==="[object String]",i=[];if(!m&&!h&&!M)throw new TypeError("Object.keys called on a non-object");var d=p&&h;if(c&&l.length>0&&!L.call(l,0))for(var b=0;b<l.length;++b)i.push(String(b));if(M&&l.length>0)for(var w=0;w<l.length;++w)i.push(String(w));else for(var E in l)!(d&&E==="prototype")&&L.call(l,E)&&i.push(String(E));if(v)for(var y=f(l),S=0;S<r.length;++S)!(y&&r[S]==="constructor")&&L.call(l,r[S])&&i.push(r[S]);return i}}G.exports=g},41820:function(G,U,e){var g=Array.prototype.slice,L=e(97344),a=Object.keys,C=a?function(p){return a(p)}:e(32764),A=Object.keys;C.shim=function(){if(Object.keys){var p=function(){var r=Object.keys(arguments);return r&&r.length===arguments.length}(1,2);p||(Object.keys=function(t){return L(t)?A(g.call(t)):A(t)})}else Object.keys=C;return Object.keys||C},G.exports=C},97344:function(G){var U=Object.prototype.toString;G.exports=function(g){var L=U.call(g),a=L==="[object Arguments]";return a||(a=L!=="[object Array]"&&g!==null&&typeof g=="object"&&typeof g.length=="number"&&g.length>=0&&U.call(g.callee)==="[object Function]"),a}},32868:function(G){function U(L,a){if(typeof L!="string")return[L];var C=[L];typeof a=="string"||Array.isArray(a)?a={brackets:a}:a||(a={});var A=a.brackets?Array.isArray(a.brackets)?a.brackets:[a.brackets]:["{}","[]","()"],v=a.escape||"___",p=!!a.flat;A.forEach(function(s){var n=new RegExp(["\\",s[0],"[^\\",s[0],"\\",s[1],"]*\\",s[1]].join("")),f=[];function u(l,m,h){var M=C.push(l.slice(s[0].length,-s[1].length))-1;return f.push(M),v+M+v}C.forEach(function(l,m){for(var h,M=0;l!=h;)if(h=l,l=l.replace(n,u),M++>1e4)throw Error("References have circular dependency. Please, check them.");C[m]=l}),f=f.reverse(),C=C.map(function(l){return f.forEach(function(m){l=l.replace(new RegExp("(\\"+v+m+"\\"+v+")","g"),s[0]+"$1"+s[1])}),l})});var r=new RegExp("\\"+v+"([0-9]+)\\"+v);function t(s,n,f){for(var u=[],l,m=0;l=r.exec(s);){if(m++>1e4)throw Error("Circular references in parenthesis");u.push(s.slice(0,l.index)),u.push(t(n[l[1]],n)),s=s.slice(l.index+l[0].length)}return u.push(s),u}return p?C:t(C[0],C)}function e(L,a){if(a&&a.flat){var C=a&&a.escape||"___",A=L[0],v;if(!A)return"";for(var p=new RegExp("\\"+C+"([0-9]+)\\"+C),r=0;A!=v;){if(r++>1e4)throw Error("Circular references in "+L);v=A,A=A.replace(p,t)}return A}return L.reduce(function s(n,f){return Array.isArray(f)&&(f=f.reduce(s,"")),n+f},"");function t(s,n){if(L[n]==null)throw Error("Reference "+n+"is undefined");return L[n]}}function g(L,a){return Array.isArray(L)?e(L,a):U(L,a)}g.parse=U,g.stringify=e,G.exports=g},51160:function(G,U,e){var g=e(55616);G.exports=L;function L(a){var C;return arguments.length>1&&(a=arguments),typeof a=="string"?a=a.split(/\s/).map(parseFloat):typeof a=="number"&&(a=[a]),a.length&&typeof a[0]=="number"?a.length===1?C={width:a[0],height:a[0],x:0,y:0}:a.length===2?C={width:a[0],height:a[1],x:0,y:0}:C={x:a[0],y:a[1],width:a[2]-a[0]||0,height:a[3]-a[1]||0}:a&&(a=g(a,{left:"x l left Left",top:"y t top Top",width:"w width W Width",height:"h height W Width",bottom:"b bottom Bottom",right:"r right Right"}),C={x:a.left||0,y:a.top||0},a.width==null?a.right?C.width=a.right-C.x:C.width=0:C.width=a.width,a.height==null?a.bottom?C.height=a.bottom-C.y:C.height=0:C.height=a.height),C}},21984:function(G){G.exports=g;var U={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},e=/([astvzqmhlc])([^astvzqmhlc]*)/ig;function g(C){var A=[];return C.replace(e,function(v,p,r){var t=p.toLowerCase();for(r=a(r),t=="m"&&r.length>2&&(A.push([p].concat(r.splice(0,2))),t="l",p=p=="m"?"l":"L");;){if(r.length==U[t])return r.unshift(p),A.push(r);if(r.length<U[t])throw new Error("malformed path data");A.push([p].concat(r.splice(0,U[t])))}}),A}var L=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/ig;function a(C){var A=C.match(L);return A?A.map(Number):[]}},65819:function(G){G.exports=function(e,g){g||(g=[0,""]),e=String(e);var L=parseFloat(e,10);return g[0]=L,g[1]=e.match(/[\d.\-\+]*\s*(.*)/)[1]||"",g}},41984:function(G,U,e){var g=e(4168);(function(){var L,a,C,A,v,p;typeof performance!="undefined"&&performance!==null&&performance.now?G.exports=function(){return performance.now()}:typeof g!="undefined"&&g!==null&&g.hrtime?(G.exports=function(){return(L()-v)/1e6},a=g.hrtime,L=function(){var r;return r=a(),r[0]*1e9+r[1]},A=L(),p=g.uptime()*1e9,v=A-p):Date.now?(G.exports=function(){return Date.now()-C},C=Date.now()):(G.exports=function(){return new Date().getTime()-C},C=new Date().getTime())}).call(this)},55616:function(G){G.exports=function(L,a,C){var A={},v,p;if(typeof a=="string"&&(a=e(a)),Array.isArray(a)){var r={};for(p=0;p<a.length;p++)r[a[p]]=!0;a=r}for(v in a)a[v]=e(a[v]);var t={};for(v in a){var s=a[v];if(Array.isArray(s))for(p=0;p<s.length;p++){var n=s[p];if(C&&(t[n]=!0),n in L){if(A[v]=L[n],C)for(var f=p;f<s.length;f++)t[s[f]]=!0;break}}else v in L&&(a[v]&&(A[v]=L[v]),C&&(t[v]=!0))}if(C)for(v in L)t[v]||(A[v]=L[v]);return A};var U={};function e(g){return U[g]?U[g]:(typeof g=="string"&&(g=U[g]=g.split(/\s*,\s*|\s+/)),g)}},61456:function(G){G.exports=function(e,g,L,a){var C=e[0],A=e[1],v=!1;L===void 0&&(L=0),a===void 0&&(a=g.length);for(var p=a-L,r=0,t=p-1;r<p;t=r++){var s=g[r+L][0],n=g[r+L][1],f=g[t+L][0],u=g[t+L][1],l=n>A!=u>A&&C<(f-s)*(A-n)/(u-n)+s;l&&(v=!v)}return v}},14756:function(G,U,e){/*
 * @copyright 2016 Sean Connelly (@voidqk), http://syntheti.cc
 * @license MIT
 * @preserve Project Home: https://github.com/voidqk/polybooljs
 */var g=e(7688),L=e(28648),a=e(72200),C=e(11403),A=e(82368),v=e(17792),p=!1,r=L(),t;t={buildLog:function(n){return n===!0?p=g():n===!1&&(p=!1),p===!1?!1:p.list},epsilon:function(n){return r.epsilon(n)},segments:function(n){var f=a(!0,r,p);return n.regions.forEach(f.addRegion),{segments:f.calculate(n.inverted),inverted:n.inverted}},combine:function(n,f){var u=a(!1,r,p);return{combined:u.calculate(n.segments,n.inverted,f.segments,f.inverted),inverted1:n.inverted,inverted2:f.inverted}},selectUnion:function(n){return{segments:A.union(n.combined,p),inverted:n.inverted1||n.inverted2}},selectIntersect:function(n){return{segments:A.intersect(n.combined,p),inverted:n.inverted1&&n.inverted2}},selectDifference:function(n){return{segments:A.difference(n.combined,p),inverted:n.inverted1&&!n.inverted2}},selectDifferenceRev:function(n){return{segments:A.differenceRev(n.combined,p),inverted:!n.inverted1&&n.inverted2}},selectXor:function(n){return{segments:A.xor(n.combined,p),inverted:n.inverted1!==n.inverted2}},polygon:function(n){return{regions:C(n.segments,r,p),inverted:n.inverted}},polygonFromGeoJSON:function(n){return v.toPolygon(t,n)},polygonToGeoJSON:function(n){return v.fromPolygon(t,r,n)},union:function(n,f){return s(n,f,t.selectUnion)},intersect:function(n,f){return s(n,f,t.selectIntersect)},difference:function(n,f){return s(n,f,t.selectDifference)},differenceRev:function(n,f){return s(n,f,t.selectDifferenceRev)},xor:function(n,f){return s(n,f,t.selectXor)}};function s(n,f,u){var l=t.segments(n),m=t.segments(f),h=t.combine(l,m),M=u(h);return t.polygon(M)}typeof window=="object"&&(window.PolyBool=t),G.exports=t},7688:function(G){function U(){var e,g=0,L=!1;function a(C,A){return e.list.push({type:C,data:A?JSON.parse(JSON.stringify(A)):void 0}),e}return e={list:[],segmentId:function(){return g++},checkIntersection:function(C,A){return a("check",{seg1:C,seg2:A})},segmentChop:function(C,A){return a("div_seg",{seg:C,pt:A}),a("chop",{seg:C,pt:A})},statusRemove:function(C){return a("pop_seg",{seg:C})},segmentUpdate:function(C){return a("seg_update",{seg:C})},segmentNew:function(C,A){return a("new_seg",{seg:C,primary:A})},segmentRemove:function(C){return a("rem_seg",{seg:C})},tempStatus:function(C,A,v){return a("temp_status",{seg:C,above:A,below:v})},rewind:function(C){return a("rewind",{seg:C})},status:function(C,A,v){return a("status",{seg:C,above:A,below:v})},vert:function(C){return C===L?e:(L=C,a("vert",{x:C}))},log:function(C){return typeof C!="string"&&(C=JSON.stringify(C,!1,"  ")),a("log",{txt:C})},reset:function(){return a("reset")},selected:function(C){return a("selected",{segs:C})},chainStart:function(C){return a("chain_start",{seg:C})},chainRemoveHead:function(C,A){return a("chain_rem_head",{index:C,pt:A})},chainRemoveTail:function(C,A){return a("chain_rem_tail",{index:C,pt:A})},chainNew:function(C,A){return a("chain_new",{pt1:C,pt2:A})},chainMatch:function(C){return a("chain_match",{index:C})},chainClose:function(C){return a("chain_close",{index:C})},chainAddHead:function(C,A){return a("chain_add_head",{index:C,pt:A})},chainAddTail:function(C,A){return a("chain_add_tail",{index:C,pt:A})},chainConnect:function(C,A){return a("chain_con",{index1:C,index2:A})},chainReverse:function(C){return a("chain_rev",{index:C})},chainJoin:function(C,A){return a("chain_join",{index1:C,index2:A})},done:function(){return a("done")}},e}G.exports=U},28648:function(G){function U(e){typeof e!="number"&&(e=1e-10);var g={epsilon:function(L){return typeof L=="number"&&(e=L),e},pointAboveOrOnLine:function(L,a,C){var A=a[0],v=a[1],p=C[0],r=C[1],t=L[0],s=L[1];return(p-A)*(s-v)-(r-v)*(t-A)>=-e},pointBetween:function(L,a,C){var A=L[1]-a[1],v=C[0]-a[0],p=L[0]-a[0],r=C[1]-a[1],t=p*v+A*r;if(t<e)return!1;var s=v*v+r*r;return!(t-s>-e)},pointsSameX:function(L,a){return Math.abs(L[0]-a[0])<e},pointsSameY:function(L,a){return Math.abs(L[1]-a[1])<e},pointsSame:function(L,a){return g.pointsSameX(L,a)&&g.pointsSameY(L,a)},pointsCompare:function(L,a){return g.pointsSameX(L,a)?g.pointsSameY(L,a)?0:L[1]<a[1]?-1:1:L[0]<a[0]?-1:1},pointsCollinear:function(L,a,C){var A=L[0]-a[0],v=L[1]-a[1],p=a[0]-C[0],r=a[1]-C[1];return Math.abs(A*r-p*v)<e},linesIntersect:function(L,a,C,A){var v=a[0]-L[0],p=a[1]-L[1],r=A[0]-C[0],t=A[1]-C[1],s=v*t-p*r;if(Math.abs(s)<e)return!1;var n=L[0]-C[0],f=L[1]-C[1],u=(r*f-t*n)/s,l=(v*f-p*n)/s,m={alongA:0,alongB:0,pt:[L[0]+u*v,L[1]+u*p]};return u<=-e?m.alongA=-2:u<e?m.alongA=-1:u-1<=-e?m.alongA=0:u-1<e?m.alongA=1:m.alongA=2,l<=-e?m.alongB=-2:l<e?m.alongB=-1:l-1<=-e?m.alongB=0:l-1<e?m.alongB=1:m.alongB=2,m},pointInsideRegion:function(L,a){for(var C=L[0],A=L[1],v=a[a.length-1][0],p=a[a.length-1][1],r=!1,t=0;t<a.length;t++){var s=a[t][0],n=a[t][1];n-A>e!=p-A>e&&(v-s)*(A-n)/(p-n)+s-C>e&&(r=!r),v=s,p=n}return r}};return g}G.exports=U},17792:function(G){var U={toPolygon:function(e,g){function L(A){if(A.length<=0)return e.segments({inverted:!1,regions:[]});function v(t){var s=t.slice(0,t.length-1);return e.segments({inverted:!1,regions:[s]})}for(var p=v(A[0]),r=1;r<A.length;r++)p=e.selectDifference(e.combine(p,v(A[r])));return p}if(g.type==="Polygon")return e.polygon(L(g.coordinates));if(g.type==="MultiPolygon"){for(var a=e.segments({inverted:!1,regions:[]}),C=0;C<g.coordinates.length;C++)a=e.selectUnion(e.combine(a,L(g.coordinates[C])));return e.polygon(a)}throw new Error("PolyBool: Cannot convert GeoJSON object to PolyBool polygon")},fromPolygon:function(e,g,L){L=e.polygon(e.segments(L));function a(u,l){return g.pointInsideRegion([(u[0][0]+u[1][0])*.5,(u[0][1]+u[1][1])*.5],l)}function C(u){return{region:u,children:[]}}var A=C(null);function v(u,l){for(var m=0;m<u.children.length;m++){var h=u.children[m];if(a(l,h.region)){v(h,l);return}}for(var M=C(l),m=0;m<u.children.length;m++){var h=u.children[m];a(h.region,l)&&(M.children.push(h),u.children.splice(m,1),m--)}u.children.push(M)}for(var p=0;p<L.regions.length;p++){var r=L.regions[p];r.length<3||v(A,r)}function t(u,l){for(var m=0,h=u[u.length-1][0],M=u[u.length-1][1],c=[],i=0;i<u.length;i++){var d=u[i][0],b=u[i][1];c.push([d,b]),m+=b*h-d*M,h=d,M=b}var w=m<0;return w!==l&&c.reverse(),c.push([c[0][0],c[0][1]]),c}var s=[];function n(u){var l=[t(u.region,!1)];s.push(l);for(var m=0;m<u.children.length;m++)l.push(f(u.children[m]))}function f(u){for(var l=0;l<u.children.length;l++)n(u.children[l]);return t(u.region,!0)}for(var p=0;p<A.children.length;p++)n(A.children[p]);return s.length<=0?{type:"Polygon",coordinates:[]}:s.length==1?{type:"Polygon",coordinates:s[0]}:{type:"MultiPolygon",coordinates:s}}};G.exports=U},72200:function(G,U,e){var g=e(48088);function L(a,C,A){function v(M,c){return{id:A?A.segmentId():-1,start:M,end:c,myFill:{above:null,below:null},otherFill:null}}function p(M,c,i){return{id:A?A.segmentId():-1,start:M,end:c,myFill:{above:i.myFill.above,below:i.myFill.below},otherFill:null}}var r=g.create();function t(M,c,i,d,b,w){var E=C.pointsCompare(c,b);return E!==0?E:C.pointsSame(i,w)?0:M!==d?M?1:-1:C.pointAboveOrOnLine(i,d?b:w,d?w:b)?1:-1}function s(M,c){r.insertBefore(M,function(i){var d=t(M.isStart,M.pt,c,i.isStart,i.pt,i.other.pt);return d<0})}function n(M,c){var i=g.node({isStart:!0,pt:M.start,seg:M,primary:c,other:null,status:null});return s(i,M.end),i}function f(M,c,i){var d=g.node({isStart:!1,pt:c.end,seg:c,primary:i,other:M,status:null});M.other=d,s(d,M.pt)}function u(M,c){var i=n(M,c);return f(i,M,c),i}function l(M,c){A&&A.segmentChop(M.seg,c),M.other.remove(),M.seg.end=c,M.other.pt=c,s(M.other,M.pt)}function m(M,c){var i=p(c,M.seg.end,M.seg);return l(M,c),u(i,M.primary)}function h(M,c){var i=g.create();function d(k,F){var O=k.seg.start,z=k.seg.end,B=F.seg.start,W=F.seg.end;return C.pointsCollinear(O,B,W)?C.pointsCollinear(z,B,W)||C.pointAboveOrOnLine(z,B,W)?1:-1:C.pointAboveOrOnLine(O,B,W)?1:-1}function b(k){return i.findTransition(function(F){var O=d(k,F.ev);return O>0})}function w(k,F){var O=k.seg,z=F.seg,B=O.start,W=O.end,q=z.start,ee=z.end;A&&A.checkIntersection(O,z);var Q=C.linesIntersect(B,W,q,ee);if(Q===!1){if(!C.pointsCollinear(B,W,q)||C.pointsSame(B,ee)||C.pointsSame(W,q))return!1;var oe=C.pointsSame(B,q),Z=C.pointsSame(W,ee);if(oe&&Z)return F;var Y=!oe&&C.pointBetween(B,q,ee),te=!Z&&C.pointBetween(W,q,ee);if(oe)return te?m(F,W):m(k,ee),F;Y&&(Z||(te?m(F,W):m(k,ee)),m(F,B))}else Q.alongA===0&&(Q.alongB===-1?m(k,q):Q.alongB===0?m(k,Q.pt):Q.alongB===1&&m(k,ee)),Q.alongB===0&&(Q.alongA===-1?m(F,B):Q.alongA===0?m(F,Q.pt):Q.alongA===1&&m(F,W));return!1}for(var E=[];!r.isEmpty();){var y=r.getHead();if(A&&A.vert(y.pt[0]),y.isStart){let k=function(){if(T){var F=w(y,T);if(F)return F}return o?w(y,o):!1};A&&A.segmentNew(y.seg,y.primary);var S=b(y),T=S.before?S.before.ev:null,o=S.after?S.after.ev:null;A&&A.tempStatus(y.seg,T?T.seg:!1,o?o.seg:!1);var P=k();if(P){if(a){var x;y.seg.myFill.below===null?x=!0:x=y.seg.myFill.above!==y.seg.myFill.below,x&&(P.seg.myFill.above=!P.seg.myFill.above)}else P.seg.otherFill=y.seg.myFill;A&&A.segmentUpdate(P.seg),y.other.remove(),y.remove()}if(r.getHead()!==y){A&&A.rewind(y.seg);continue}if(a){var x;y.seg.myFill.below===null?x=!0:x=y.seg.myFill.above!==y.seg.myFill.below,o?y.seg.myFill.below=o.seg.myFill.above:y.seg.myFill.below=M,x?y.seg.myFill.above=!y.seg.myFill.below:y.seg.myFill.above=y.seg.myFill.below}else if(y.seg.otherFill===null){var _;o?y.primary===o.primary?_=o.seg.otherFill.above:_=o.seg.myFill.above:_=y.primary?c:M,y.seg.otherFill={above:_,below:_}}A&&A.status(y.seg,T?T.seg:!1,o?o.seg:!1),y.other.status=S.insert(g.node({ev:y}))}else{var I=y.status;if(I===null)throw new Error("PolyBool: Zero-length segment detected; your epsilon is probably too small or too large");if(i.exists(I.prev)&&i.exists(I.next)&&w(I.prev.ev,I.next.ev),A&&A.statusRemove(I.ev.seg),I.remove(),!y.primary){var N=y.seg.myFill;y.seg.myFill=y.seg.otherFill,y.seg.otherFill=N}E.push(y.seg)}r.getHead().remove()}return A&&A.done(),E}return a?{addRegion:function(M){for(var c,i=M[M.length-1],d=0;d<M.length;d++){c=i,i=M[d];var b=C.pointsCompare(c,i);b!==0&&u(v(b<0?c:i,b<0?i:c),!0)}},calculate:function(M){return h(M,!1)}}:{calculate:function(M,c,i,d){return M.forEach(function(b){u(p(b.start,b.end,b),!0)}),i.forEach(function(b){u(p(b.start,b.end,b),!1)}),h(c,d)}}}G.exports=L},48088:function(G){var U={create:function(){var e={root:{root:!0,next:null},exists:function(g){return!(g===null||g===e.root)},isEmpty:function(){return e.root.next===null},getHead:function(){return e.root.next},insertBefore:function(g,L){for(var a=e.root,C=e.root.next;C!==null;){if(L(C)){g.prev=C.prev,g.next=C,C.prev.next=g,C.prev=g;return}a=C,C=C.next}a.next=g,g.prev=a,g.next=null},findTransition:function(g){for(var L=e.root,a=e.root.next;a!==null&&!g(a);)L=a,a=a.next;return{before:L===e.root?null:L,after:a,insert:function(C){return C.prev=L,C.next=a,L.next=C,a!==null&&(a.prev=C),C}}}};return e},node:function(e){return e.prev=null,e.next=null,e.remove=function(){e.prev.next=e.next,e.next&&(e.next.prev=e.prev),e.prev=null,e.next=null},e}};G.exports=U},11403:function(G){function U(e,g,L){var a=[],C=[];return e.forEach(function(A){var v=A.start,p=A.end;if(g.pointsSame(v,p)){console.warn("PolyBool: Warning: Zero-length segment detected; your epsilon is probably too small or too large");return}L&&L.chainStart(A);var r={index:0,matches_head:!1,matches_pt1:!1},t={index:0,matches_head:!1,matches_pt1:!1},s=r;function n(P,x,_){return s.index=P,s.matches_head=x,s.matches_pt1=_,s===r?(s=t,!1):(s=null,!0)}for(var f=0;f<a.length;f++){var u=a[f],l=u[0];u[1];var m=u[u.length-1];if(u[u.length-2],g.pointsSame(l,v)){if(n(f,!0,!0))break}else if(g.pointsSame(l,p)){if(n(f,!0,!1))break}else if(g.pointsSame(m,v)){if(n(f,!1,!0))break}else if(g.pointsSame(m,p)&&n(f,!1,!1))break}if(s===r){a.push([v,p]),L&&L.chainNew(v,p);return}if(s===t){L&&L.chainMatch(r.index);var h=r.index,M=r.matches_pt1?p:v,c=r.matches_head,u=a[h],i=c?u[0]:u[u.length-1],d=c?u[1]:u[u.length-2],b=c?u[u.length-1]:u[0],w=c?u[u.length-2]:u[1];if(g.pointsCollinear(d,i,M)&&(c?(L&&L.chainRemoveHead(r.index,M),u.shift()):(L&&L.chainRemoveTail(r.index,M),u.pop()),i=d),g.pointsSame(b,M)){a.splice(h,1),g.pointsCollinear(w,b,i)&&(c?(L&&L.chainRemoveTail(r.index,i),u.pop()):(L&&L.chainRemoveHead(r.index,i),u.shift())),L&&L.chainClose(r.index),C.push(u);return}c?(L&&L.chainAddHead(r.index,M),u.unshift(M)):(L&&L.chainAddTail(r.index,M),u.push(M));return}function E(P){L&&L.chainReverse(P),a[P].reverse()}function y(P,x){var _=a[P],I=a[x],N=_[_.length-1],k=_[_.length-2],F=I[0],O=I[1];g.pointsCollinear(k,N,F)&&(L&&L.chainRemoveTail(P,N),_.pop(),N=k),g.pointsCollinear(N,F,O)&&(L&&L.chainRemoveHead(x,F),I.shift()),L&&L.chainJoin(P,x),a[P]=_.concat(I),a.splice(x,1)}var S=r.index,T=t.index;L&&L.chainConnect(S,T);var o=a[S].length<a[T].length;r.matches_head?t.matches_head?o?(E(S),y(S,T)):(E(T),y(T,S)):y(T,S):t.matches_head?y(S,T):o?(E(S),y(T,S)):(E(T),y(S,T))}),C}G.exports=U},82368:function(G){function U(g,L,a){var C=[];return g.forEach(function(A){var v=(A.myFill.above?8:0)+(A.myFill.below?4:0)+(A.otherFill&&A.otherFill.above?2:0)+(A.otherFill&&A.otherFill.below?1:0);L[v]!==0&&C.push({id:a?a.segmentId():-1,start:A.start,end:A.end,myFill:{above:L[v]===1,below:L[v]===2},otherFill:null})}),a&&a.selected(C),C}var e={union:function(g,L){return U(g,[0,2,1,0,2,2,0,0,1,0,1,0,0,0,0,0],L)},intersect:function(g,L){return U(g,[0,0,0,0,0,2,0,2,0,0,1,1,0,2,1,0],L)},difference:function(g,L){return U(g,[0,0,0,0,2,0,2,0,1,1,0,0,0,1,2,0],L)},differenceRev:function(g,L){return U(g,[0,2,1,0,0,0,1,1,0,2,0,2,0,0,0,0],L)},xor:function(g,L){return U(g,[0,2,1,0,2,0,0,1,1,0,0,2,0,1,2,0],L)}};G.exports=e},9696:function(G,U,e){var g=e(29936).Transform,L=e(55619);function a(){g.call(this,{readableObjectMode:!0})}a.prototype=Object.create(g.prototype),a.prototype.constructor=a,L(a.prototype),U.gS=function(A,v,p){for(var r=v,t=0;t<p.length;)if(A[r++]!==p[t++])return!1;return!0},U.wR=function(A,v){var p=[],r=0;if(v&&v==="hex")for(;r<A.length;)p.push(parseInt(A.slice(r,r+2),16)),r+=2;else for(;r<A.length;r++)p.push(A.charCodeAt(r)&255);return p},U.Bz=function(A,v){return A[v]|A[v+1]<<8},U.eW=function(A,v){return A[v+1]|A[v]<<8},U.st=function(A,v){return A[v]|A[v+1]<<8|A[v+2]<<16|A[v+3]*16777216},U.eI=function(A,v){return A[v+3]|A[v+2]<<8|A[v+1]<<16|A[v]*16777216};function C(A,v,p){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||"",this.name=this.constructor.name,this.message=A,v&&(this.code=v),p&&(this.statusCode=p)}C.prototype=Object.create(Error.prototype),C.prototype.constructor=C},11688:function(G){function U(L,a){var C=new Error(L);return C.code=a,C}function e(L){try{return decodeURIComponent(escape(L))}catch{return L}}function g(L,a,C){this.input=L.subarray(a,C),this.start=a;var A=String.fromCharCode.apply(null,this.input.subarray(0,4));if(A!=="II*\0"&&A!=="MM\0*")throw U("invalid TIFF signature","EBADDATA");this.big_endian=A[0]==="M"}g.prototype.each=function(L){this.aborted=!1;var a=this.read_uint32(4);for(this.ifds_to_read=[{id:0,offset:a}];this.ifds_to_read.length>0&&!this.aborted;){var C=this.ifds_to_read.shift();!C.offset||this.scan_ifd(C.id,C.offset,L)}},g.prototype.read_uint16=function(L){var a=this.input;if(L+2>a.length)throw U("unexpected EOF","EBADDATA");return this.big_endian?a[L]*256+a[L+1]:a[L]+a[L+1]*256},g.prototype.read_uint32=function(L){var a=this.input;if(L+4>a.length)throw U("unexpected EOF","EBADDATA");return this.big_endian?a[L]*16777216+a[L+1]*65536+a[L+2]*256+a[L+3]:a[L]+a[L+1]*256+a[L+2]*65536+a[L+3]*16777216},g.prototype.is_subifd_link=function(L,a){return L===0&&a===34665||L===0&&a===34853||L===34665&&a===40965},g.prototype.exif_format_length=function(L){switch(L){case 1:case 2:case 6:case 7:return 1;case 3:case 8:return 2;case 4:case 9:case 11:return 4;case 5:case 10:case 12:return 8;default:return 0}},g.prototype.exif_format_read=function(L,a){var C;switch(L){case 1:case 2:return C=this.input[a],C;case 6:return C=this.input[a],C|(C&128)*33554430;case 3:return C=this.read_uint16(a),C;case 8:return C=this.read_uint16(a),C|(C&32768)*131070;case 4:return C=this.read_uint32(a),C;case 9:return C=this.read_uint32(a),C|0;case 5:case 10:case 11:case 12:return null;case 7:return null;default:return null}},g.prototype.scan_ifd=function(L,a,C){var A=this.read_uint16(a);a+=2;for(var v=0;v<A;v++){var p=this.read_uint16(a),r=this.read_uint16(a+2),t=this.read_uint32(a+4),s=this.exif_format_length(r),n=t*s,f=n<=4?a+8:this.read_uint32(a+8),u=!1;if(f+n>this.input.length)throw U("unexpected EOF","EBADDATA");for(var l=[],m=f,h=0;h<t;h++,m+=s){var M=this.exif_format_read(r,m);if(M===null){l=null;break}l.push(M)}Array.isArray(l)&&r===2&&(l=e(String.fromCharCode.apply(null,l)),l&&l[l.length-1]==="\0"&&(l=l.slice(0,-1))),this.is_subifd_link(L,p)&&Array.isArray(l)&&Number.isInteger(l[0])&&l[0]>0&&(this.ifds_to_read.push({id:p,offset:l[0]}),u=!0);var c={is_big_endian:this.big_endian,ifd:L,tag:p,format:r,count:t,entry_offset:a+this.start,data_length:n,data_offset:f+this.start,value:l,is_subifd_link:u};if(C(c)===!1){this.aborted=!0;return}a+=12}L===0&&this.ifds_to_read.push({id:1,offset:this.read_uint32(a)})},G.exports.ExifParser=g,G.exports.get_orientation=function(L){var a=0;try{return new g(L,0,L.length).each(function(C){if(C.ifd===0&&C.tag===274&&Array.isArray(C.value))return a=C.value[0],!1}),a}catch{return-1}}},44600:function(G,U,e){var g=e(9696).eW,L=e(9696).eI;function a(n,f){if(n.length<4+f)return null;var u=L(n,f);return n.length<u+f||u<8?null:{boxtype:String.fromCharCode.apply(null,n.slice(f+4,f+8)),data:n.slice(f+8,f+u),end:f+u}}G.exports.unbox=a;function C(n,f){for(var u=0;;){var l=a(n,u);if(!l)break;switch(l.boxtype){case"ispe":f.sizes.push({width:L(l.data,4),height:L(l.data,8)});break;case"irot":f.transforms.push({type:"irot",value:l.data[0]&3});break;case"imir":f.transforms.push({type:"imir",value:l.data[0]&1});break}u=l.end}}function A(n,f,u){for(var l=0,m=0;m<u;m++)l=l*256+(n[f+m]||0);return l}function v(n,f){for(var u=n[4]>>4&15,l=n[4]&15,m=n[5]>>4&15,h=g(n,6),M=8,c=0;c<h;c++){var i=g(n,M);M+=2;var d=g(n,M);M+=2;var b=A(n,M,m);M+=m;var w=g(n,M);if(M+=2,d===0&&w===1){var E=A(n,M,u),y=A(n,M+u,l);f.item_loc[i]={length:y,offset:E+b}}M+=w*(u+l)}}function p(n,f){for(var u=g(n,4),l=6,m=0;m<u;m++){var h=a(n,l);if(!h)break;if(h.boxtype==="infe"){for(var M=g(h.data,4),c="",i=8;i<h.data.length&&h.data[i];i++)c+=String.fromCharCode(h.data[i]);f.item_inf[c]=M}l=h.end}}function r(n,f){for(var u=0;;){var l=a(n,u);if(!l)break;l.boxtype==="ipco"&&C(l.data,f),u=l.end}}function t(n,f){for(var u=4;;){var l=a(n,u);if(!l)break;l.boxtype==="iprp"&&r(l.data,f),l.boxtype==="iloc"&&v(l.data,f),l.boxtype==="iinf"&&p(l.data,f),u=l.end}}function s(n){var f=n.reduce(function(m,h){return m.width>h.width||m.width===h.width&&m.height>h.height?m:h}),u=n.reduce(function(m,h){return m.height>h.height||m.height===h.height&&m.width>h.width?m:h}),l;return f.width>u.height||f.width===u.height&&f.height>u.width?l=f:l=u,l}G.exports.readSizeFromMeta=function(n){var f={sizes:[],transforms:[],item_inf:{},item_loc:{}};if(t(n,f),!!f.sizes.length){var u=s(f.sizes),l=1;f.transforms.forEach(function(h){var M={1:6,2:5,3:8,4:7,5:4,6:3,7:2,8:1},c={1:4,2:3,3:2,4:1,5:6,6:5,7:8,8:7};if(h.type==="imir"&&(h.value===0?l=c[l]:(l=c[l],l=M[l],l=M[l])),h.type==="irot")for(var i=0;i<h.value;i++)l=M[l]});var m=null;return f.item_inf.Exif&&(m=f.item_loc[f.item_inf.Exif]),{width:u.width,height:u.height,orientation:f.transforms.length?l:null,variants:f.sizes,exif_location:m}}},G.exports.getMimeType=function(n){var f=String.fromCharCode.apply(null,n.slice(0,4)),u={};u[f]=!0;for(var l=8;l<n.length;l+=4)u[String.fromCharCode.apply(null,n.slice(l,l+4))]=!0;if(!(!u.mif1&&!u.msf1&&!u.miaf))return f==="avif"||f==="avis"||f==="avio"?{type:"avif",mime:"image/avif"}:f==="heic"||f==="heix"?{type:"heic",mime:"image/heic"}:f==="hevc"||f==="hevx"?{type:"heic",mime:"image/heic-sequence"}:u.avif||u.avis?{type:"avif",mime:"image/avif"}:u.heic||u.heix||u.hevc||u.hevx||u.heis?u.msf1?{type:"heif",mime:"image/heif-sequence"}:{type:"heif",mime:"image/heif"}:{type:"avif",mime:"image/avif"}}},40528:function(G,U,e){var g=e(9696).wR,L=e(9696).gS,a=e(9696).eI,C=e(44600),A=e(11688),v=g("ftyp");G.exports=function(p){if(!!L(p,4,v)){var r=C.unbox(p,0);if(!!r){var t=C.getMimeType(r.data);if(!!t){for(var s,n=r.end;;){var f=C.unbox(p,n);if(!f)break;if(n=f.end,f.boxtype==="mdat")return;if(f.boxtype==="meta"){s=f.data;break}}if(!!s){var u=C.readSizeFromMeta(s);if(!!u){var l={width:u.width,height:u.height,type:t.type,mime:t.mime,wUnits:"px",hUnits:"px"};if(u.variants.length>1&&(l.variants=u.variants),u.orientation&&(l.orientation=u.orientation),u.exif_location&&u.exif_location.offset+u.exif_location.length<=p.length){var m=a(p,u.exif_location.offset),h=p.slice(u.exif_location.offset+m+4,u.exif_location.offset+u.exif_location.length),M=A.get_orientation(h);M>0&&(l.orientation=M)}return l}}}}}}},38728:function(G,U,e){var g=e(9696).wR,L=e(9696).gS,a=e(9696).Bz,C=g("BM");G.exports=function(A){if(!(A.length<26)&&!!L(A,0,C))return{width:a(A,18),height:a(A,22),type:"bmp",mime:"image/bmp",wUnits:"px",hUnits:"px"}}},5588:function(G,U,e){var g=e(9696).wR,L=e(9696).gS,a=e(9696).Bz,C=g("GIF87a"),A=g("GIF89a");G.exports=function(v){if(!(v.length<10)&&!(!L(v,0,C)&&!L(v,0,A)))return{width:a(v,6),height:a(v,8),type:"gif",mime:"image/gif",wUnits:"px",hUnits:"px"}}},41924:function(G,U,e){var g=e(9696).Bz,L=0,a=1,C=16;G.exports=function(A){var v=g(A,0),p=g(A,2),r=g(A,4);if(!(v!==L||p!==a||!r)){for(var t=[],s={width:0,height:0},n=0;n<r;n++){var f=A[6+C*n]||256,u=A[6+C*n+1]||256,l={width:f,height:u};t.push(l),(f>s.width||u>s.height)&&(s=l)}return{width:s.width,height:s.height,variants:t,type:"ico",mime:"image/x-icon",wUnits:"px",hUnits:"px"}}}},87968:function(G,U,e){var g=e(9696).eW,L=e(9696).wR,a=e(9696).gS,C=e(11688),A=L("Exif\0\0");G.exports=function(v){if(!(v.length<2)&&!(v[0]!==255||v[1]!==216||v[2]!==255))for(var p=2;;){for(;;){if(v.length-p<2)return;if(v[p++]===255)break}for(var r=v[p++],t;r===255;)r=v[p++];if(208<=r&&r<=217||r===1)t=0;else if(192<=r&&r<=254){if(v.length-p<2)return;t=g(v,p)-2,p+=2}else return;if(r===217||r===218)return;var s;if(r===225&&t>=10&&a(v,p,A)&&(s=C.get_orientation(v.slice(p+6,p+t))),t>=5&&192<=r&&r<=207&&r!==196&&r!==200&&r!==204){if(v.length-p<t)return;var n={width:g(v,p+3),height:g(v,p+1),type:"jpg",mime:"image/jpeg",wUnits:"px",hUnits:"px"};return s>0&&(n.orientation=s),n}p+=t}}},37276:function(G,U,e){var g=e(9696).wR,L=e(9696).gS,a=e(9696).eI,C=g(`\x89PNG\r

`),A=g("IHDR");G.exports=function(v){if(!(v.length<24)&&!!L(v,0,C)&&!!L(v,12,A))return{width:a(v,16),height:a(v,20),type:"png",mime:"image/png",wUnits:"px",hUnits:"px"}}},90328:function(G,U,e){var g=e(9696).wR,L=e(9696).gS,a=e(9696).eI,C=g("8BPS\0");G.exports=function(A){if(!(A.length<22)&&!!L(A,0,C))return{width:a(A,18),height:a(A,14),type:"psd",mime:"image/vnd.adobe.photoshop",wUnits:"px",hUnits:"px"}}},16024:function(G){function U(s){return s===32||s===9||s===13||s===10}function e(s){return typeof s=="number"&&isFinite(s)&&s>0}function g(s){var n=0,f=s.length;for(s[0]===239&&s[1]===187&&s[2]===191&&(n=3);n<f&&U(s[n]);)n++;return n===f?!1:s[n]===60}var L=/<[-_.:a-zA-Z0-9][^>]*>/,a=/^<([-_.:a-zA-Z0-9]+:)?svg\s/,C=/[^-]\bwidth="([^%]+?)"|[^-]\bwidth='([^%]+?)'/,A=/\bheight="([^%]+?)"|\bheight='([^%]+?)'/,v=/\bview[bB]ox="(.+?)"|\bview[bB]ox='(.+?)'/,p=/in$|mm$|cm$|pt$|pc$|px$|em$|ex$/;function r(s){var n=s.match(C),f=s.match(A),u=s.match(v);return{width:n&&(n[1]||n[2]),height:f&&(f[1]||f[2]),viewbox:u&&(u[1]||u[2])}}function t(s){return p.test(s)?s.match(p)[0]:"px"}G.exports=function(s){if(!!g(s)){for(var n="",f=0;f<s.length;f++)n+=String.fromCharCode(s[f]);var u=(n.match(L)||[""])[0];if(!!a.test(u)){var l=r(u),m=parseFloat(l.width),h=parseFloat(l.height);if(l.width&&l.height)return!e(m)||!e(h)?void 0:{width:m,height:h,type:"svg",mime:"image/svg+xml",wUnits:t(l.width),hUnits:t(l.height)};var M=(l.viewbox||"").split(" "),c={width:M[2],height:M[3]},i=parseFloat(c.width),d=parseFloat(c.height);if(!(!e(i)||!e(d))&&t(c.width)===t(c.height)){var b=i/d;return l.width?e(m)?{width:m,height:m/b,type:"svg",mime:"image/svg+xml",wUnits:t(l.width),hUnits:t(l.width)}:void 0:l.height?e(h)?{width:h*b,height:h,type:"svg",mime:"image/svg+xml",wUnits:t(l.height),hUnits:t(l.height)}:void 0:{width:i,height:d,type:"svg",mime:"image/svg+xml",wUnits:t(c.width),hUnits:t(c.height)}}}}}},98792:function(G,U,e){var g=e(9696).wR,L=e(9696).gS,a=e(9696).Bz,C=e(9696).eW,A=e(9696).st,v=e(9696).eI,p=g("II*\0"),r=g("MM\0*");function t(f,u,l){return l?C(f,u):a(f,u)}function s(f,u,l){return l?v(f,u):A(f,u)}function n(f,u,l){var m=t(f,u+2,l),h=s(f,u+4,l);return h!==1||m!==3&&m!==4?null:m===3?t(f,u+8,l):s(f,u+8,l)}G.exports=function(f){if(!(f.length<8)&&!(!L(f,0,p)&&!L(f,0,r))){var u=f[0]===77,l=s(f,4,u)-8;if(!(l<0)){var m=l+8;if(!(f.length-m<2)){var h=t(f,m+0,u)*12;if(!(h<=0)&&(m+=2,!(f.length-m<h))){var M,c,i,d;for(M=0;M<h;M+=12)d=t(f,m+M,u),d===256?c=n(f,m+M,u):d===257&&(i=n(f,m+M,u));if(c&&i)return{width:c,height:i,type:"tiff",mime:"image/tiff",wUnits:"px",hUnits:"px"}}}}}}},20704:function(G,U,e){var g=e(9696).wR,L=e(9696).gS,a=e(9696).Bz,C=e(9696).st,A=e(11688),v=g("RIFF"),p=g("WEBP");function r(n,f){if(!(n[f+3]!==157||n[f+4]!==1||n[f+5]!==42))return{width:a(n,f+6)&16383,height:a(n,f+8)&16383,type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}function t(n,f){if(n[f]===47){var u=C(n,f+1);return{width:(u&16383)+1,height:(u>>14&16383)+1,type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}}function s(n,f){return{width:(n[f+6]<<16|n[f+5]<<8|n[f+4])+1,height:(n[f+9]<<f|n[f+8]<<8|n[f+7])+1,type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}G.exports=function(n){if(!(n.length<16)&&!(!L(n,0,v)&&!L(n,8,p))){var f=12,u=null,l=0,m=C(n,4)+8;if(!(m>n.length)){for(;f+8<m;){if(n[f]===0){f++;continue}var h=String.fromCharCode.apply(null,n.slice(f,f+4)),M=C(n,f+4);h==="VP8 "&&M>=10?u=u||r(n,f+8):h==="VP8L"&&M>=9?u=u||t(n,f+8):h==="VP8X"&&M>=10?u=u||s(n,f+8):h==="EXIF"&&(l=A.get_orientation(n.slice(f+8,f+8+M)),f=1/0),f+=8+M}if(!!u)return l>0&&(u.orientation=l),u}}}},87480:function(G,U,e){G.exports={avif:e(40528),bmp:e(38728),gif:e(5588),ico:e(41924),jpeg:e(87968),png:e(37276),psd:e(90328),svg:e(16024),tiff:e(98792),webp:e(20704)}},19480:function(G,U,e){var g=e(87480);function L(a){for(var C=Object.keys(g),A=0;A<C.length;A++){var v=g[C[A]](a);if(v)return v}return null}G.exports=function(C){return L(C)},G.exports.parsers=g},4168:function(G){var U=G.exports={},e,g;function L(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?e=setTimeout:e=L}catch{e=L}try{typeof clearTimeout=="function"?g=clearTimeout:g=a}catch{g=a}})();function C(l){if(e===setTimeout)return setTimeout(l,0);if((e===L||!e)&&setTimeout)return e=setTimeout,setTimeout(l,0);try{return e(l,0)}catch{try{return e.call(null,l,0)}catch{return e.call(this,l,0)}}}function A(l){if(g===clearTimeout)return clearTimeout(l);if((g===a||!g)&&clearTimeout)return g=clearTimeout,clearTimeout(l);try{return g(l)}catch{try{return g.call(null,l)}catch{return g.call(this,l)}}}var v=[],p=!1,r,t=-1;function s(){!p||!r||(p=!1,r.length?v=r.concat(v):t=-1,v.length&&n())}function n(){if(!p){var l=C(s);p=!0;for(var m=v.length;m;){for(r=v,v=[];++t<m;)r&&r[t].run();t=-1,m=v.length}r=null,p=!1,A(l)}}U.nextTick=function(l){var m=new Array(arguments.length-1);if(arguments.length>1)for(var h=1;h<arguments.length;h++)m[h-1]=arguments[h];v.push(new f(l,m)),v.length===1&&!p&&C(n)};function f(l,m){this.fun=l,this.array=m}f.prototype.run=function(){this.fun.apply(null,this.array)},U.title="browser",U.browser=!0,U.env={},U.argv=[],U.version="",U.versions={};function u(){}U.on=u,U.addListener=u,U.once=u,U.off=u,U.removeListener=u,U.removeAllListeners=u,U.emit=u,U.prependListener=u,U.prependOnceListener=u,U.listeners=function(l){return[]},U.binding=function(l){throw new Error("process.binding is not supported")},U.cwd=function(){return"/"},U.chdir=function(l){throw new Error("process.chdir is not supported")},U.umask=function(){return 0}},3951:function(G,U,e){for(var g=e(41984),L=typeof window=="undefined"?e.g:window,a=["moz","webkit"],C="AnimationFrame",A=L["request"+C],v=L["cancel"+C]||L["cancelRequest"+C],p=0;!A&&p<a.length;p++)A=L[a[p]+"Request"+C],v=L[a[p]+"Cancel"+C]||L[a[p]+"CancelRequest"+C];if(!A||!v){var r=0,t=0,s=[],n=1e3/60;A=function(f){if(s.length===0){var u=g(),l=Math.max(0,n-(u-r));r=l+u,setTimeout(function(){var m=s.slice(0);s.length=0;for(var h=0;h<m.length;h++)if(!m[h].cancelled)try{m[h].callback(r)}catch(M){setTimeout(function(){throw M},0)}},Math.round(l))}return s.push({handle:++t,callback:f,cancelled:!1}),t},v=function(f){for(var u=0;u<s.length;u++)s[u].handle===f&&(s[u].cancelled=!0)}}G.exports=function(f){return A.call(L,f)},G.exports.cancel=function(){v.apply(L,arguments)},G.exports.polyfill=function(f){f||(f=L),f.requestAnimationFrame=A,f.cancelAnimationFrame=v}},24544:function(G,U,e){var g=e(76752),L=e(72160),a=e(45223),C=e(55616),A=e(50896),v=e(47520),p=e(37816),r=p.float32,t=p.fract32;G.exports=n;var s=[[1,0,0,1,0,0],[1,0,0,-1,0,0],[-1,0,0,-1,0,0],[-1,0,0,-1,0,0],[-1,0,0,1,0,0],[1,0,0,1,0,0],[1,0,-1,0,0,1],[1,0,-1,0,0,-1],[1,0,1,0,0,-1],[1,0,1,0,0,-1],[1,0,1,0,0,1],[1,0,-1,0,0,1],[-1,0,-1,0,0,1],[-1,0,-1,0,0,-1],[-1,0,1,0,0,-1],[-1,0,1,0,0,-1],[-1,0,1,0,0,1],[-1,0,-1,0,0,1],[0,1,1,0,0,0],[0,1,-1,0,0,0],[0,-1,-1,0,0,0],[0,-1,-1,0,0,0],[0,1,1,0,0,0],[0,-1,1,0,0,0],[0,1,0,-1,1,0],[0,1,0,-1,-1,0],[0,1,0,1,-1,0],[0,1,0,1,1,0],[0,1,0,-1,1,0],[0,1,0,1,-1,0],[0,-1,0,-1,1,0],[0,-1,0,-1,-1,0],[0,-1,0,1,-1,0],[0,-1,0,1,1,0],[0,-1,0,-1,1,0],[0,-1,0,1,-1,0]];function n(f,u){if(typeof f=="function"?(u||(u={}),u.regl=f):u=f,u.length&&(u.positions=u),f=u.regl,!f.hasExtension("ANGLE_instanced_arrays"))throw Error("regl-error2d: `ANGLE_instanced_arrays` extension should be enabled");var l=f._gl,m,h,M,c,i,d,b={color:"black",capSize:5,lineWidth:1,opacity:1,viewport:null,range:null,offset:0,count:0,bounds:null,positions:[],errors:[]},w=[];return c=f.buffer({usage:"dynamic",type:"uint8",data:new Uint8Array(0)}),h=f.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),M=f.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),i=f.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),d=f.buffer({usage:"static",type:"float",data:s}),T(u),m=f({vert:`
		precision highp float;

		attribute vec2 position, positionFract;
		attribute vec4 error;
		attribute vec4 color;

		attribute vec2 direction, lineOffset, capOffset;

		uniform vec4 viewport;
		uniform float lineWidth, capSize;
		uniform vec2 scale, scaleFract, translate, translateFract;

		varying vec4 fragColor;

		void main() {
			fragColor = color / 255.;

			vec2 pixelOffset = lineWidth * lineOffset + (capSize + lineWidth) * capOffset;

			vec2 dxy = -step(.5, direction.xy) * error.xz + step(direction.xy, vec2(-.5)) * error.yw;

			vec2 position = position + dxy;

			vec2 pos = (position + translate) * scale
				+ (positionFract + translateFract) * scale
				+ (position + translate) * scaleFract
				+ (positionFract + translateFract) * scaleFract;

			pos += pixelOffset / viewport.zw;

			gl_Position = vec4(pos * 2. - 1., 0, 1);
		}
		`,frag:`
		precision highp float;

		varying vec4 fragColor;

		uniform float opacity;

		void main() {
			gl_FragColor = fragColor;
			gl_FragColor.a *= opacity;
		}
		`,uniforms:{range:f.prop("range"),lineWidth:f.prop("lineWidth"),capSize:f.prop("capSize"),opacity:f.prop("opacity"),scale:f.prop("scale"),translate:f.prop("translate"),scaleFract:f.prop("scaleFract"),translateFract:f.prop("translateFract"),viewport:function(P,x){return[x.viewport.x,x.viewport.y,P.viewportWidth,P.viewportHeight]}},attributes:{color:{buffer:c,offset:function(P,x){return x.offset*4},divisor:1},position:{buffer:h,offset:function(P,x){return x.offset*8},divisor:1},positionFract:{buffer:M,offset:function(P,x){return x.offset*8},divisor:1},error:{buffer:i,offset:function(P,x){return x.offset*16},divisor:1},direction:{buffer:d,stride:24,offset:0},lineOffset:{buffer:d,stride:24,offset:8},capOffset:{buffer:d,stride:24,offset:16}},primitive:"triangles",blend:{enable:!0,color:[0,0,0,0],equation:{rgb:"add",alpha:"add"},func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},depth:{enable:!1},scissor:{enable:!0,box:f.prop("viewport")},viewport:f.prop("viewport"),stencil:!1,instances:f.prop("count"),count:s.length}),A(E,{update:T,draw:y,destroy:o,regl:f,gl:l,canvas:l.canvas,groups:w}),E;function E(P){P?T(P):P===null&&o(),y()}function y(P){if(typeof P=="number")return S(P);P&&!Array.isArray(P)&&(P=[P]),f._refresh(),w.forEach(function(x,_){if(!!x){if(P&&(P[_]?x.draw=!0:x.draw=!1),!x.draw){x.draw=!0;return}S(_)}})}function S(P){typeof P=="number"&&(P=w[P]),P!=null&&(!(P&&P.count&&P.color&&P.opacity&&P.positions&&P.positions.length>1)||(P.scaleRatio=[P.scale[0]*P.viewport.width,P.scale[1]*P.viewport.height],m(P),P.after&&P.after(P)))}function T(P){if(!!P){P.length!=null?typeof P[0]=="number"&&(P=[{positions:P}]):Array.isArray(P)||(P=[P]);var x=0,_=0;if(E.groups=w=P.map(function(B,W){var q=w[W];if(B)typeof B=="function"?B={after:B}:typeof B[0]=="number"&&(B={positions:B});else return q;return B=C(B,{color:"color colors fill",capSize:"capSize cap capsize cap-size",lineWidth:"lineWidth line-width width line thickness",opacity:"opacity alpha",range:"range dataBox",viewport:"viewport viewBox",errors:"errors error",positions:"positions position data points"}),q||(w[W]=q={id:W,scale:null,translate:null,scaleFract:null,translateFract:null,draw:!0},B=A({},b,B)),a(q,B,[{lineWidth:function(ee){return+ee*.5},capSize:function(ee){return+ee*.5},opacity:parseFloat,errors:function(ee){return ee=v(ee),_+=ee.length,ee},positions:function(ee,Q){return ee=v(ee,"float64"),Q.count=Math.floor(ee.length/2),Q.bounds=g(ee,2),Q.offset=x,x+=Q.count,ee}},{color:function(ee,Q){var oe=Q.count;if(ee||(ee="transparent"),!Array.isArray(ee)||typeof ee[0]=="number"){var Z=ee;ee=Array(oe);for(var Y=0;Y<oe;Y++)ee[Y]=Z}if(ee.length<oe)throw Error("Not enough colors");for(var te=new Uint8Array(oe*4),X=0;X<oe;X++){var $=L(ee[X],"uint8");te.set($,X*4)}return te},range:function(ee,Q,oe){var Z=Q.bounds;return ee||(ee=Z),Q.scale=[1/(ee[2]-ee[0]),1/(ee[3]-ee[1])],Q.translate=[-ee[0],-ee[1]],Q.scaleFract=t(Q.scale),Q.translateFract=t(Q.translate),ee},viewport:function(ee){var Q;return Array.isArray(ee)?Q={x:ee[0],y:ee[1],width:ee[2]-ee[0],height:ee[3]-ee[1]}:ee?(Q={x:ee.x||ee.left||0,y:ee.y||ee.top||0},ee.right?Q.width=ee.right-Q.x:Q.width=ee.w||ee.width||0,ee.bottom?Q.height=ee.bottom-Q.y:Q.height=ee.h||ee.height||0):Q={x:0,y:0,width:l.drawingBufferWidth,height:l.drawingBufferHeight},Q}}]),q}),x||_){var I=w.reduce(function(B,W,q){return B+(W?W.count:0)},0),N=new Float64Array(I*2),k=new Uint8Array(I*4),F=new Float32Array(I*4);w.forEach(function(B,W){if(!!B){var q=B.positions,ee=B.count,Q=B.offset,oe=B.color,Z=B.errors;!ee||(k.set(oe,Q*4),F.set(Z,Q*4),N.set(q,Q*2))}});var O=r(N);h(O);var z=t(N,O);M(z),c(k),i(F)}}}function o(){h.destroy(),M.destroy(),c.destroy(),i.destroy(),d.destroy()}}},13472:function(G,U,e){var g=e(72160),L=e(76752),a=e(50896),C=e(55616),A=e(47520),v=e(28912),p=e(71152),r=e(37816),t=r.float32,s=r.fract32,n=e(60463),f=e(51160),u=e(10272),l=`
precision highp float;

attribute vec2 aCoord, bCoord, aCoordFract, bCoordFract;
attribute vec4 color;
attribute float lineEnd, lineTop;

uniform vec2 scale, scaleFract, translate, translateFract;
uniform float thickness, pixelRatio, id, depth;
uniform vec4 viewport;

varying vec4 fragColor;
varying vec2 tangent;

vec2 project(vec2 position, vec2 positionFract, vec2 scale, vec2 scaleFract, vec2 translate, vec2 translateFract) {
	// the order is important
	return position * scale + translate
       + positionFract * scale + translateFract
       + position * scaleFract
       + positionFract * scaleFract;
}

void main() {
	float lineStart = 1. - lineEnd;
	float lineOffset = lineTop * 2. - 1.;

	vec2 diff = (bCoord + bCoordFract - aCoord - aCoordFract);
	tangent = normalize(diff * scale * viewport.zw);
	vec2 normal = vec2(-tangent.y, tangent.x);

	vec2 position = project(aCoord, aCoordFract, scale, scaleFract, translate, translateFract) * lineStart
		+ project(bCoord, bCoordFract, scale, scaleFract, translate, translateFract) * lineEnd

		+ thickness * normal * .5 * lineOffset / viewport.zw;

	gl_Position = vec4(position * 2.0 - 1.0, depth, 1);

	fragColor = color / 255.;
}
`,m=`
precision highp float;

uniform float dashLength, pixelRatio, thickness, opacity, id;
uniform sampler2D dashTexture;

varying vec4 fragColor;
varying vec2 tangent;

void main() {
	float alpha = 1.;

	float t = fract(dot(tangent, gl_FragCoord.xy) / dashLength) * .5 + .25;
	float dash = texture2D(dashTexture, vec2(t, .5)).r;

	gl_FragColor = fragColor;
	gl_FragColor.a *= alpha * opacity * dash;
}
`,h=`
precision highp float;

attribute vec2 position, positionFract;

uniform vec4 color;
uniform vec2 scale, scaleFract, translate, translateFract;
uniform float pixelRatio, id;
uniform vec4 viewport;
uniform float opacity;

varying vec4 fragColor;

const float MAX_LINES = 256.;

void main() {
	float depth = (MAX_LINES - 4. - id) / (MAX_LINES);

	vec2 position = position * scale + translate
       + positionFract * scale + translateFract
       + position * scaleFract
       + positionFract * scaleFract;

	gl_Position = vec4(position * 2.0 - 1.0, depth, 1);

	fragColor = color / 255.;
	fragColor.a *= opacity;
}
`,M=`
precision highp float;
varying vec4 fragColor;

void main() {
	gl_FragColor = fragColor;
}
`,c=`
precision highp float;

attribute vec2 aCoord, bCoord, nextCoord, prevCoord;
attribute vec4 aColor, bColor;
attribute float lineEnd, lineTop;

uniform vec2 scale, translate;
uniform float thickness, pixelRatio, id, depth;
uniform vec4 viewport;
uniform float miterLimit, miterMode;

varying vec4 fragColor;
varying vec4 startCutoff, endCutoff;
varying vec2 tangent;
varying vec2 startCoord, endCoord;
varying float enableStartMiter, enableEndMiter;

const float REVERSE_THRESHOLD = -.875;
const float MIN_DIFF = 1e-6;

// TODO: possible optimizations: avoid overcalculating all for vertices and calc just one instead
// TODO: precalculate dot products, normalize things beforehead etc.
// TODO: refactor to rectangular algorithm

float distToLine(vec2 p, vec2 a, vec2 b) {
	vec2 diff = b - a;
	vec2 perp = normalize(vec2(-diff.y, diff.x));
	return dot(p - a, perp);
}

bool isNaN( float val ){
  return ( val < 0.0 || 0.0 < val || val == 0.0 ) ? false : true;
}

void main() {
	vec2 aCoord = aCoord, bCoord = bCoord, prevCoord = prevCoord, nextCoord = nextCoord;

  vec2 adjustedScale;
  adjustedScale.x = (abs(scale.x) < MIN_DIFF) ? MIN_DIFF : scale.x;
  adjustedScale.y = (abs(scale.y) < MIN_DIFF) ? MIN_DIFF : scale.y;

  vec2 scaleRatio = adjustedScale * viewport.zw;
	vec2 normalWidth = thickness / scaleRatio;

	float lineStart = 1. - lineEnd;
	float lineBot = 1. - lineTop;

	fragColor = (lineStart * aColor + lineEnd * bColor) / 255.;

	if (isNaN(aCoord.x) || isNaN(aCoord.y) || isNaN(bCoord.x) || isNaN(bCoord.y)) return;

	if (aCoord == prevCoord) prevCoord = aCoord + normalize(bCoord - aCoord);
	if (bCoord == nextCoord) nextCoord = bCoord - normalize(bCoord - aCoord);


	vec2 prevDiff = aCoord - prevCoord;
	vec2 currDiff = bCoord - aCoord;
	vec2 nextDiff = nextCoord - bCoord;

	vec2 prevTangent = normalize(prevDiff * scaleRatio);
	vec2 currTangent = normalize(currDiff * scaleRatio);
	vec2 nextTangent = normalize(nextDiff * scaleRatio);

	vec2 prevNormal = vec2(-prevTangent.y, prevTangent.x);
	vec2 currNormal = vec2(-currTangent.y, currTangent.x);
	vec2 nextNormal = vec2(-nextTangent.y, nextTangent.x);

	vec2 startJoinDirection = normalize(prevTangent - currTangent);
	vec2 endJoinDirection = normalize(currTangent - nextTangent);

	// collapsed/unidirectional segment cases
	// FIXME: there should be more elegant solution
	vec2 prevTanDiff = abs(prevTangent - currTangent);
	vec2 nextTanDiff = abs(nextTangent - currTangent);
	if (max(prevTanDiff.x, prevTanDiff.y) < MIN_DIFF) {
		startJoinDirection = currNormal;
	}
	if (max(nextTanDiff.x, nextTanDiff.y) < MIN_DIFF) {
		endJoinDirection = currNormal;
	}
	if (aCoord == bCoord) {
		endJoinDirection = startJoinDirection;
		currNormal = prevNormal;
		currTangent = prevTangent;
	}

	tangent = currTangent;

	//calculate join shifts relative to normals
	float startJoinShift = dot(currNormal, startJoinDirection);
	float endJoinShift = dot(currNormal, endJoinDirection);

	float startMiterRatio = abs(1. / startJoinShift);
	float endMiterRatio = abs(1. / endJoinShift);

	vec2 startJoin = startJoinDirection * startMiterRatio;
	vec2 endJoin = endJoinDirection * endMiterRatio;

	vec2 startTopJoin, startBotJoin, endTopJoin, endBotJoin;
	startTopJoin = sign(startJoinShift) * startJoin * .5;
	startBotJoin = -startTopJoin;

	endTopJoin = sign(endJoinShift) * endJoin * .5;
	endBotJoin = -endTopJoin;

	vec2 aTopCoord = aCoord + normalWidth * startTopJoin;
	vec2 bTopCoord = bCoord + normalWidth * endTopJoin;
	vec2 aBotCoord = aCoord + normalWidth * startBotJoin;
	vec2 bBotCoord = bCoord + normalWidth * endBotJoin;

	//miter anti-clipping
	float baClipping = distToLine(bCoord, aCoord, aBotCoord) / dot(normalize(normalWidth * endBotJoin), normalize(normalWidth.yx * vec2(-startBotJoin.y, startBotJoin.x)));
	float abClipping = distToLine(aCoord, bCoord, bTopCoord) / dot(normalize(normalWidth * startBotJoin), normalize(normalWidth.yx * vec2(-endBotJoin.y, endBotJoin.x)));

	//prevent close to reverse direction switch
	bool prevReverse = dot(currTangent, prevTangent) <= REVERSE_THRESHOLD && abs(dot(currTangent, prevNormal)) * min(length(prevDiff), length(currDiff)) <  length(normalWidth * currNormal);
	bool nextReverse = dot(currTangent, nextTangent) <= REVERSE_THRESHOLD && abs(dot(currTangent, nextNormal)) * min(length(nextDiff), length(currDiff)) <  length(normalWidth * currNormal);

	if (prevReverse) {
		//make join rectangular
		vec2 miterShift = normalWidth * startJoinDirection * miterLimit * .5;
		float normalAdjust = 1. - min(miterLimit / startMiterRatio, 1.);
		aBotCoord = aCoord + miterShift - normalAdjust * normalWidth * currNormal * .5;
		aTopCoord = aCoord + miterShift + normalAdjust * normalWidth * currNormal * .5;
	}
	else if (!nextReverse && baClipping > 0. && baClipping < length(normalWidth * endBotJoin)) {
		//handle miter clipping
		bTopCoord -= normalWidth * endTopJoin;
		bTopCoord += normalize(endTopJoin * normalWidth) * baClipping;
	}

	if (nextReverse) {
		//make join rectangular
		vec2 miterShift = normalWidth * endJoinDirection * miterLimit * .5;
		float normalAdjust = 1. - min(miterLimit / endMiterRatio, 1.);
		bBotCoord = bCoord + miterShift - normalAdjust * normalWidth * currNormal * .5;
		bTopCoord = bCoord + miterShift + normalAdjust * normalWidth * currNormal * .5;
	}
	else if (!prevReverse && abClipping > 0. && abClipping < length(normalWidth * startBotJoin)) {
		//handle miter clipping
		aBotCoord -= normalWidth * startBotJoin;
		aBotCoord += normalize(startBotJoin * normalWidth) * abClipping;
	}

	vec2 aTopPosition = (aTopCoord) * adjustedScale + translate;
	vec2 aBotPosition = (aBotCoord) * adjustedScale + translate;

	vec2 bTopPosition = (bTopCoord) * adjustedScale + translate;
	vec2 bBotPosition = (bBotCoord) * adjustedScale + translate;

	//position is normalized 0..1 coord on the screen
	vec2 position = (aTopPosition * lineTop + aBotPosition * lineBot) * lineStart + (bTopPosition * lineTop + bBotPosition * lineBot) * lineEnd;

	startCoord = aCoord * scaleRatio + translate * viewport.zw + viewport.xy;
	endCoord = bCoord * scaleRatio + translate * viewport.zw + viewport.xy;

	gl_Position = vec4(position  * 2.0 - 1.0, depth, 1);

	enableStartMiter = step(dot(currTangent, prevTangent), .5);
	enableEndMiter = step(dot(currTangent, nextTangent), .5);

	//bevel miter cutoffs
	if (miterMode == 1.) {
		if (enableStartMiter == 1.) {
			vec2 startMiterWidth = vec2(startJoinDirection) * thickness * miterLimit * .5;
			startCutoff = vec4(aCoord, aCoord);
			startCutoff.zw += vec2(-startJoinDirection.y, startJoinDirection.x) / scaleRatio;
			startCutoff = startCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			startCutoff += viewport.xyxy;
			startCutoff += startMiterWidth.xyxy;
		}

		if (enableEndMiter == 1.) {
			vec2 endMiterWidth = vec2(endJoinDirection) * thickness * miterLimit * .5;
			endCutoff = vec4(bCoord, bCoord);
			endCutoff.zw += vec2(-endJoinDirection.y, endJoinDirection.x)  / scaleRatio;
			endCutoff = endCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			endCutoff += viewport.xyxy;
			endCutoff += endMiterWidth.xyxy;
		}
	}

	//round miter cutoffs
	else if (miterMode == 2.) {
		if (enableStartMiter == 1.) {
			vec2 startMiterWidth = vec2(startJoinDirection) * thickness * abs(dot(startJoinDirection, currNormal)) * .5;
			startCutoff = vec4(aCoord, aCoord);
			startCutoff.zw += vec2(-startJoinDirection.y, startJoinDirection.x) / scaleRatio;
			startCutoff = startCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			startCutoff += viewport.xyxy;
			startCutoff += startMiterWidth.xyxy;
		}

		if (enableEndMiter == 1.) {
			vec2 endMiterWidth = vec2(endJoinDirection) * thickness * abs(dot(endJoinDirection, currNormal)) * .5;
			endCutoff = vec4(bCoord, bCoord);
			endCutoff.zw += vec2(-endJoinDirection.y, endJoinDirection.x)  / scaleRatio;
			endCutoff = endCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			endCutoff += viewport.xyxy;
			endCutoff += endMiterWidth.xyxy;
		}
	}
}
`,i=`
precision highp float;

uniform float dashLength, pixelRatio, thickness, opacity, id, miterMode;
uniform sampler2D dashTexture;

varying vec4 fragColor;
varying vec2 tangent;
varying vec4 startCutoff, endCutoff;
varying vec2 startCoord, endCoord;
varying float enableStartMiter, enableEndMiter;

float distToLine(vec2 p, vec2 a, vec2 b) {
	vec2 diff = b - a;
	vec2 perp = normalize(vec2(-diff.y, diff.x));
	return dot(p - a, perp);
}

void main() {
	float alpha = 1., distToStart, distToEnd;
	float cutoff = thickness * .5;

	//bevel miter
	if (miterMode == 1.) {
		if (enableStartMiter == 1.) {
			distToStart = distToLine(gl_FragCoord.xy, startCutoff.xy, startCutoff.zw);
			if (distToStart < -1.) {
				discard;
				return;
			}
			alpha *= min(max(distToStart + 1., 0.), 1.);
		}

		if (enableEndMiter == 1.) {
			distToEnd = distToLine(gl_FragCoord.xy, endCutoff.xy, endCutoff.zw);
			if (distToEnd < -1.) {
				discard;
				return;
			}
			alpha *= min(max(distToEnd + 1., 0.), 1.);
		}
	}

	// round miter
	else if (miterMode == 2.) {
		if (enableStartMiter == 1.) {
			distToStart = distToLine(gl_FragCoord.xy, startCutoff.xy, startCutoff.zw);
			if (distToStart < 0.) {
				float radius = length(gl_FragCoord.xy - startCoord);

				if(radius > cutoff + .5) {
					discard;
					return;
				}

				alpha -= smoothstep(cutoff - .5, cutoff + .5, radius);
			}
		}

		if (enableEndMiter == 1.) {
			distToEnd = distToLine(gl_FragCoord.xy, endCutoff.xy, endCutoff.zw);
			if (distToEnd < 0.) {
				float radius = length(gl_FragCoord.xy - endCoord);

				if(radius > cutoff + .5) {
					discard;
					return;
				}

				alpha -= smoothstep(cutoff - .5, cutoff + .5, radius);
			}
		}
	}

	float t = fract(dot(tangent, gl_FragCoord.xy) / dashLength) * .5 + .25;
	float dash = texture2D(dashTexture, vec2(t, .5)).r;

	gl_FragColor = fragColor;
	gl_FragColor.a *= alpha * opacity * dash;
}
`;G.exports=d;function d(b,w){if(!(this instanceof d))return new d(b,w);if(typeof b=="function"?(w||(w={}),w.regl=b):w=b,w.length&&(w.positions=w),b=w.regl,!b.hasExtension("ANGLE_instanced_arrays"))throw Error("regl-error2d: `ANGLE_instanced_arrays` extension should be enabled");this.gl=b._gl,this.regl=b,this.passes=[],this.shaders=d.shaders.has(b)?d.shaders.get(b):d.shaders.set(b,d.createShaders(b)).get(b),this.update(w)}d.dashMult=2,d.maxPatternLength=256,d.precisionThreshold=3e6,d.maxPoints=1e4,d.maxLines=2048,d.shaders=new n,d.createShaders=function(b){var w=b.buffer({usage:"static",type:"float",data:[0,1,0,0,1,1,1,0]}),E={primitive:"triangle strip",instances:b.prop("count"),count:4,offset:0,uniforms:{miterMode:function(o,P){return P.join==="round"?2:1},miterLimit:b.prop("miterLimit"),scale:b.prop("scale"),scaleFract:b.prop("scaleFract"),translateFract:b.prop("translateFract"),translate:b.prop("translate"),thickness:b.prop("thickness"),dashTexture:b.prop("dashTexture"),opacity:b.prop("opacity"),pixelRatio:b.context("pixelRatio"),id:b.prop("id"),dashLength:b.prop("dashLength"),viewport:function(o,P){return[P.viewport.x,P.viewport.y,o.viewportWidth,o.viewportHeight]},depth:b.prop("depth")},blend:{enable:!0,color:[0,0,0,0],equation:{rgb:"add",alpha:"add"},func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},depth:{enable:function(o,P){return!P.overlay}},stencil:{enable:!1},scissor:{enable:!0,box:b.prop("viewport")},viewport:b.prop("viewport")},y=b(a({vert:l,frag:m,attributes:{lineEnd:{buffer:w,divisor:0,stride:8,offset:0},lineTop:{buffer:w,divisor:0,stride:8,offset:4},aCoord:{buffer:b.prop("positionBuffer"),stride:8,offset:8,divisor:1},bCoord:{buffer:b.prop("positionBuffer"),stride:8,offset:16,divisor:1},aCoordFract:{buffer:b.prop("positionFractBuffer"),stride:8,offset:8,divisor:1},bCoordFract:{buffer:b.prop("positionFractBuffer"),stride:8,offset:16,divisor:1},color:{buffer:b.prop("colorBuffer"),stride:4,offset:0,divisor:1}}},E)),S;try{S=b(a({cull:{enable:!0,face:"back"},vert:c,frag:i,attributes:{lineEnd:{buffer:w,divisor:0,stride:8,offset:0},lineTop:{buffer:w,divisor:0,stride:8,offset:4},aColor:{buffer:b.prop("colorBuffer"),stride:4,offset:0,divisor:1},bColor:{buffer:b.prop("colorBuffer"),stride:4,offset:4,divisor:1},prevCoord:{buffer:b.prop("positionBuffer"),stride:8,offset:0,divisor:1},aCoord:{buffer:b.prop("positionBuffer"),stride:8,offset:8,divisor:1},bCoord:{buffer:b.prop("positionBuffer"),stride:8,offset:16,divisor:1},nextCoord:{buffer:b.prop("positionBuffer"),stride:8,offset:24,divisor:1}}},E))}catch{S=y}var T=b({primitive:"triangle",elements:function(o,P){return P.triangles},offset:0,vert:h,frag:M,uniforms:{scale:b.prop("scale"),color:b.prop("fill"),scaleFract:b.prop("scaleFract"),translateFract:b.prop("translateFract"),translate:b.prop("translate"),opacity:b.prop("opacity"),pixelRatio:b.context("pixelRatio"),id:b.prop("id"),viewport:function(o,P){return[P.viewport.x,P.viewport.y,o.viewportWidth,o.viewportHeight]}},attributes:{position:{buffer:b.prop("positionBuffer"),stride:8,offset:8},positionFract:{buffer:b.prop("positionFractBuffer"),stride:8,offset:8}},blend:E.blend,depth:{enable:!1},scissor:E.scissor,stencil:E.stencil,viewport:E.viewport});return{fill:T,rect:y,miter:S}},d.defaults={dashes:null,join:"miter",miterLimit:1,thickness:10,cap:"square",color:"black",opacity:1,overlay:!1,viewport:null,range:null,close:!1,fill:null},d.prototype.render=function(){for(var b,w=[],E=arguments.length;E--;)w[E]=arguments[E];w.length&&(b=this).update.apply(b,w),this.draw()},d.prototype.draw=function(){for(var b=this,w=[],E=arguments.length;E--;)w[E]=arguments[E];return(w.length?w:this.passes).forEach(function(y,S){var T;if(y&&Array.isArray(y))return(T=b).draw.apply(T,y);typeof y=="number"&&(y=b.passes[y]),y&&y.count>1&&y.opacity&&(b.regl._refresh(),y.fill&&y.triangles&&y.triangles.length>2&&b.shaders.fill(y),y.thickness&&(y.scale[0]*y.viewport.width>d.precisionThreshold||y.scale[1]*y.viewport.height>d.precisionThreshold||y.join==="rect"||!y.join&&(y.thickness<=2||y.count>=d.maxPoints)?b.shaders.rect(y):b.shaders.miter(y)))}),this},d.prototype.update=function(b){var w=this;if(!!b){b.length!=null?typeof b[0]=="number"&&(b=[{positions:b}]):Array.isArray(b)||(b=[b]);var E=this,y=E.regl,S=E.gl;if(b.forEach(function(_,I){var N=w.passes[I];if(_!==void 0){if(_===null){w.passes[I]=null;return}if(typeof _[0]=="number"&&(_={positions:_}),_=C(_,{positions:"positions points data coords",thickness:"thickness lineWidth lineWidths line-width linewidth width stroke-width strokewidth strokeWidth",join:"lineJoin linejoin join type mode",miterLimit:"miterlimit miterLimit",dashes:"dash dashes dasharray dash-array dashArray",color:"color colour stroke colors colours stroke-color strokeColor",fill:"fill fill-color fillColor",opacity:"alpha opacity",overlay:"overlay crease overlap intersect",close:"closed close closed-path closePath",range:"range dataBox",viewport:"viewport viewBox",hole:"holes hole hollow",splitNull:"splitNull"}),N||(w.passes[I]=N={id:I,scale:null,scaleFract:null,translate:null,translateFract:null,count:0,hole:[],depth:0,dashLength:1,dashTexture:y.texture({channels:1,data:new Uint8Array([255]),width:1,height:1,mag:"linear",min:"linear"}),colorBuffer:y.buffer({usage:"dynamic",type:"uint8",data:new Uint8Array}),positionBuffer:y.buffer({usage:"dynamic",type:"float",data:new Uint8Array}),positionFractBuffer:y.buffer({usage:"dynamic",type:"float",data:new Uint8Array})},_=a({},d.defaults,_)),_.thickness!=null&&(N.thickness=parseFloat(_.thickness)),_.opacity!=null&&(N.opacity=parseFloat(_.opacity)),_.miterLimit!=null&&(N.miterLimit=parseFloat(_.miterLimit)),_.overlay!=null&&(N.overlay=!!_.overlay,I<d.maxLines&&(N.depth=2*(d.maxLines-1-I%d.maxLines)/d.maxLines-1)),_.join!=null&&(N.join=_.join),_.hole!=null&&(N.hole=_.hole),_.fill!=null&&(N.fill=_.fill?g(_.fill,"uint8"):null),_.viewport!=null&&(N.viewport=f(_.viewport)),N.viewport||(N.viewport=f([S.drawingBufferWidth,S.drawingBufferHeight])),_.close!=null&&(N.close=_.close),_.positions===null&&(_.positions=[]),_.positions){var k,F;if(_.positions.x&&_.positions.y){var O=_.positions.x,z=_.positions.y;F=N.count=Math.max(O.length,z.length),k=new Float64Array(F*2);for(var B=0;B<F;B++)k[B*2]=O[B],k[B*2+1]=z[B]}else k=A(_.positions,"float64"),F=N.count=Math.floor(k.length/2);var W=N.bounds=L(k,2);if(N.fill){for(var q=[],ee={},Q=0,oe=0,Z=0,Y=N.count;oe<Y;oe++){var te=k[oe*2],X=k[oe*2+1];isNaN(te)||isNaN(X)||te==null||X==null?(te=k[Q*2],X=k[Q*2+1],ee[oe]=Q):Q=oe,q[Z++]=te,q[Z++]=X}if(_.splitNull){N.count-1 in ee||(ee[N.count]=N.count-1);var $=Object.keys(ee).map(Number).sort(function(Te,ze){return Te-ze}),ie=[],J=0,j=N.hole!=null?N.hole[0]:null;if(j!=null){var se=u($,function(Te){return Te>=j});$=$.slice(0,se),$.push(j)}for(var ne=function(Te){var ze=q.slice(J*2,$[Te]*2).concat(j?q.slice(j*2):[]),Xe=(N.hole||[]).map(function(ut){return ut-j+($[Te]-J)}),et=v(ze,Xe);et=et.map(function(ut){return ut+J+(ut+J<$[Te]?0:j-$[Te])}),ie.push.apply(ie,et),J=$[Te]+1},le=0;le<$.length;le++)ne(le);for(var pe=0,Ae=ie.length;pe<Ae;pe++)ee[ie[pe]]!=null&&(ie[pe]=ee[ie[pe]]);N.triangles=ie}else{for(var be=v(q,N.hole||[]),Re=0,xe=be.length;Re<xe;Re++)ee[be[Re]]!=null&&(be[Re]=ee[be[Re]]);N.triangles=be}}var Me=new Float64Array(k);p(Me,2,W);var ye=new Float64Array(F*2+6);N.close?k[0]===k[F*2-2]&&k[1]===k[F*2-1]?(ye[0]=Me[F*2-4],ye[1]=Me[F*2-3]):(ye[0]=Me[F*2-2],ye[1]=Me[F*2-1]):(ye[0]=Me[0],ye[1]=Me[1]),ye.set(Me,2),N.close?k[0]===k[F*2-2]&&k[1]===k[F*2-1]?(ye[F*2+2]=Me[2],ye[F*2+3]=Me[3],N.count-=1):(ye[F*2+2]=Me[0],ye[F*2+3]=Me[1],ye[F*2+4]=Me[2],ye[F*2+5]=Me[3]):(ye[F*2+2]=Me[F*2-2],ye[F*2+3]=Me[F*2-1],ye[F*2+4]=Me[F*2-2],ye[F*2+5]=Me[F*2-1]);var Se=t(ye);N.positionBuffer(Se);var Fe=s(ye,Se);N.positionFractBuffer(Fe)}if(_.range?N.range=_.range:N.range||(N.range=N.bounds),(_.range||_.positions)&&N.count){var Be=N.bounds,_e=Be[2]-Be[0],Ue=Be[3]-Be[1],it=N.range[2]-N.range[0],lt=N.range[3]-N.range[1];N.scale=[_e/it,Ue/lt],N.translate=[-N.range[0]/it+Be[0]/it||0,-N.range[1]/lt+Be[1]/lt||0],N.scaleFract=s(N.scale),N.translateFract=s(N.translate)}if(_.dashes){var $e=0,qe;if(!_.dashes||_.dashes.length<2)$e=1,qe=new Uint8Array([255,255,255,255,255,255,255,255]);else{$e=0;for(var ft=0;ft<_.dashes.length;++ft)$e+=_.dashes[ft];qe=new Uint8Array($e*d.dashMult);for(var ct=0,pt=255,yt=0;yt<2;yt++)for(var Et=0;Et<_.dashes.length;++Et){for(var tt=0,Ie=_.dashes[Et]*d.dashMult*.5;tt<Ie;++tt)qe[ct++]=pt;pt^=255}}N.dashLength=$e,N.dashTexture({channels:1,data:qe,width:qe.length,height:1,mag:"linear",min:"linear"},0,0)}if(_.color){var We=N.count,Ze=_.color;Ze||(Ze="transparent");var He=new Uint8Array(We*4+4);if(!Array.isArray(Ze)||typeof Ze[0]=="number")for(var De=g(Ze,"uint8"),me=0;me<We+1;me++)He.set(De,me*4);else{for(var ge=0;ge<We;ge++){var Ee=g(Ze[ge],"uint8");He.set(Ee,ge*4)}He.set(g(Ze[0],"uint8"),We*4)}N.colorBuffer({usage:"dynamic",type:"uint8",data:He})}}}),b.length<this.passes.length){for(var T=b.length;T<this.passes.length;T++){var o=this.passes[T];!o||(o.colorBuffer.destroy(),o.positionBuffer.destroy(),o.dashTexture.destroy())}this.passes.length=b.length}for(var P=[],x=0;x<this.passes.length;x++)this.passes[x]!==null&&P.push(this.passes[x]);return this.passes=P,this}},d.prototype.destroy=function(){return this.passes.forEach(function(b){b.colorBuffer.destroy(),b.positionBuffer.destroy(),b.dashTexture.destroy()}),this.passes.length=0,this}},38540:function(G,U,e){function g(o,P){var x=o==null?null:typeof Symbol!="undefined"&&o[Symbol.iterator]||o["@@iterator"];if(x!=null){var _,I,N,k,F=[],O=!0,z=!1;try{if(N=(x=x.call(o)).next,P===0){if(Object(x)!==x)return;O=!1}else for(;!(O=(_=N.call(x)).done)&&(F.push(_.value),F.length!==P);O=!0);}catch(B){z=!0,I=B}finally{try{if(!O&&x.return!=null&&(k=x.return(),Object(k)!==k))return}finally{if(z)throw I}}return F}}function L(o,P){return A(o)||g(o,P)||p(o,P)||s()}function a(o){return C(o)||v(o)||p(o)||t()}function C(o){if(Array.isArray(o))return r(o)}function A(o){if(Array.isArray(o))return o}function v(o){if(typeof Symbol!="undefined"&&o[Symbol.iterator]!=null||o["@@iterator"]!=null)return Array.from(o)}function p(o,P){if(!!o){if(typeof o=="string")return r(o,P);var x=Object.prototype.toString.call(o).slice(8,-1);if(x==="Object"&&o.constructor&&(x=o.constructor.name),x==="Map"||x==="Set")return Array.from(o);if(x==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(x))return r(o,P)}}function r(o,P){(P==null||P>o.length)&&(P=o.length);for(var x=0,_=new Array(P);x<P;x++)_[x]=o[x];return _}function t(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function s(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var n=e(72160),f=e(76752),u=e(3808),l=e(3108),m=e(50896),h=e(26444),M=e(55616),c=e(45223),i=e(47520),d=e(96604),b=e(37816),w=e(51160),E=y;function y(o,P){var x=this;if(!(this instanceof y))return new y(o,P);typeof o=="function"?(P||(P={}),P.regl=o):(P=o,o=null),P&&P.length&&(P.positions=P),o=P.regl;var _=o._gl,I,N=[],k={},F=[],O=[null],z=[null],B=255,W=100;this.tooManyColors=d,I=o.texture({data:new Uint8Array(B*4),width:B,height:1,type:"uint8",format:"rgba",wrapS:"clamp",wrapT:"clamp",mag:"nearest",min:"nearest"}),m(this,{regl:o,gl:_,groups:F,markerCache:z,markerTextures:O,palette:N,paletteIds:k,paletteTexture:I,maxColors:B,maxSize:W,canvas:_.canvas}),this.update(P);var q={uniforms:{constPointSize:!!P.constPointSize,opacity:o.prop("opacity"),paletteSize:function(Z,Y){return[x.tooManyColors?0:B,I.height]},pixelRatio:o.context("pixelRatio"),scale:o.prop("scale"),scaleFract:o.prop("scaleFract"),translate:o.prop("translate"),translateFract:o.prop("translateFract"),markerTexture:o.prop("markerTexture"),paletteTexture:I},attributes:{x:function(Z,Y){return Y.xAttr||{buffer:Y.positionBuffer,stride:8,offset:0}},y:function(Z,Y){return Y.yAttr||{buffer:Y.positionBuffer,stride:8,offset:4}},xFract:function(Z,Y){return Y.xAttr?{constant:[0,0]}:{buffer:Y.positionFractBuffer,stride:8,offset:0}},yFract:function(Z,Y){return Y.yAttr?{constant:[0,0]}:{buffer:Y.positionFractBuffer,stride:8,offset:4}},size:function(Z,Y){return Y.size.length?{buffer:Y.sizeBuffer,stride:2,offset:0}:{constant:[Math.round(Y.size*255/x.maxSize)]}},borderSize:function(Z,Y){return Y.borderSize.length?{buffer:Y.sizeBuffer,stride:2,offset:1}:{constant:[Math.round(Y.borderSize*255/x.maxSize)]}},colorId:function(Z,Y){return Y.color.length?{buffer:Y.colorBuffer,stride:x.tooManyColors?8:4,offset:0}:{constant:x.tooManyColors?N.slice(Y.color*4,Y.color*4+4):[Y.color]}},borderColorId:function(Z,Y){return Y.borderColor.length?{buffer:Y.colorBuffer,stride:x.tooManyColors?8:4,offset:x.tooManyColors?4:2}:{constant:x.tooManyColors?N.slice(Y.borderColor*4,Y.borderColor*4+4):[Y.borderColor]}},isActive:function(Z,Y){return Y.activation===!0?{constant:[1]}:Y.activation?Y.activation:{constant:[0]}}},blend:{enable:!0,color:[0,0,0,1],func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},scissor:{enable:!0,box:o.prop("viewport")},viewport:o.prop("viewport"),stencil:{enable:!1},depth:{enable:!1},elements:o.prop("elements"),count:o.prop("count"),offset:o.prop("offset"),primitive:"points"},ee=m({},q);ee.frag=h([`precision highp float;
#define GLSLIFY 1

uniform float opacity;
uniform sampler2D markerTexture;

varying vec4 fragColor, fragBorderColor;
varying float fragWidth, fragBorderColorLevel, fragColorLevel;

float smoothStep(float x, float y) {
  return 1.0 / (1.0 + exp(50.0*(x - y)));
}

void main() {
  float dist = texture2D(markerTexture, gl_PointCoord).r, delta = fragWidth;

  // max-distance alpha
  if (dist < 0.003) discard;

  // null-border case
  if (fragBorderColorLevel == fragColorLevel || fragBorderColor.a == 0.) {
    float colorAmt = smoothstep(.5 - delta, .5 + delta, dist);
    gl_FragColor = vec4(fragColor.rgb, colorAmt * fragColor.a * opacity);
  }
  else {
    float borderColorAmt = smoothstep(fragBorderColorLevel - delta, fragBorderColorLevel + delta, dist);
    float colorAmt = smoothstep(fragColorLevel - delta, fragColorLevel + delta, dist);

    vec4 color = fragBorderColor;
    color.a *= borderColorAmt;
    color = mix(color, fragColor, colorAmt);
    color.a *= opacity;

    gl_FragColor = color;
  }

}
`]),ee.vert=h([`precision highp float;
#define GLSLIFY 1

attribute float x, y, xFract, yFract;
attribute float size, borderSize;
attribute vec4 colorId, borderColorId;
attribute float isActive;

// \`invariant\` effectively turns off optimizations for the position.
// We need this because -fast-math on M1 Macs is re-ordering
// floating point operations in a way that causes floating point
// precision limits to put points in the wrong locations.
invariant gl_Position;

uniform bool constPointSize;
uniform float pixelRatio;
uniform vec2 scale, scaleFract, translate, translateFract, paletteSize;
uniform sampler2D paletteTexture;

const float maxSize = 100.;
const float borderLevel = .5;

varying vec4 fragColor, fragBorderColor;
varying float fragPointSize, fragBorderRadius, fragWidth, fragBorderColorLevel, fragColorLevel;

float pointSizeScale = (constPointSize) ? 2. : pixelRatio;

bool isDirect = (paletteSize.x < 1.);

vec4 getColor(vec4 id) {
  return isDirect ? id / 255. : texture2D(paletteTexture,
    vec2(
      (id.x + .5) / paletteSize.x,
      (id.y + .5) / paletteSize.y
    )
  );
}

void main() {
  // ignore inactive points
  if (isActive == 0.) return;

  vec2 position = vec2(x, y);
  vec2 positionFract = vec2(xFract, yFract);

  vec4 color = getColor(colorId);
  vec4 borderColor = getColor(borderColorId);

  float size = size * maxSize / 255.;
  float borderSize = borderSize * maxSize / 255.;

  gl_PointSize = 2. * size * pointSizeScale;
  fragPointSize = size * pixelRatio;

  vec2 pos = (position + translate) * scale
      + (positionFract + translateFract) * scale
      + (position + translate) * scaleFract
      + (positionFract + translateFract) * scaleFract;

  gl_Position = vec4(pos * 2. - 1., 0., 1.);

  fragColor = color;
  fragBorderColor = borderColor;
  fragWidth = 1. / gl_PointSize;

  fragBorderColorLevel = clamp(borderLevel - borderLevel * borderSize / size, 0., 1.);
  fragColorLevel = clamp(borderLevel + (1. - borderLevel) * borderSize / size, 0., 1.);
}
`]),this.drawMarker=o(ee);var Q=m({},q);Q.frag=h([`precision highp float;
#define GLSLIFY 1

varying vec4 fragColor, fragBorderColor;
varying float fragBorderRadius, fragWidth;

uniform float opacity;

float smoothStep(float edge0, float edge1, float x) {
	float t;
	t = clamp((x - edge0) / (edge1 - edge0), 0.0, 1.0);
	return t * t * (3.0 - 2.0 * t);
}

void main() {
	float radius, alpha = 1.0, delta = fragWidth;

	radius = length(2.0 * gl_PointCoord.xy - 1.0);

	if (radius > 1.0 + delta) {
		discard;
	}

	alpha -= smoothstep(1.0 - delta, 1.0 + delta, radius);

	float borderRadius = fragBorderRadius;
	float ratio = smoothstep(borderRadius - delta, borderRadius + delta, radius);
	vec4 color = mix(fragColor, fragBorderColor, ratio);
	color.a *= alpha * opacity;
	gl_FragColor = color;
}
`]),Q.vert=h([`precision highp float;
#define GLSLIFY 1

attribute float x, y, xFract, yFract;
attribute float size, borderSize;
attribute vec4 colorId, borderColorId;
attribute float isActive;

// \`invariant\` effectively turns off optimizations for the position.
// We need this because -fast-math on M1 Macs is re-ordering
// floating point operations in a way that causes floating point
// precision limits to put points in the wrong locations.
invariant gl_Position;

uniform bool constPointSize;
uniform float pixelRatio;
uniform vec2 paletteSize, scale, scaleFract, translate, translateFract;
uniform sampler2D paletteTexture;

const float maxSize = 100.;

varying vec4 fragColor, fragBorderColor;
varying float fragBorderRadius, fragWidth;

float pointSizeScale = (constPointSize) ? 2. : pixelRatio;

bool isDirect = (paletteSize.x < 1.);

vec4 getColor(vec4 id) {
  return isDirect ? id / 255. : texture2D(paletteTexture,
    vec2(
      (id.x + .5) / paletteSize.x,
      (id.y + .5) / paletteSize.y
    )
  );
}

void main() {
  // ignore inactive points
  if (isActive == 0.) return;

  vec2 position = vec2(x, y);
  vec2 positionFract = vec2(xFract, yFract);

  vec4 color = getColor(colorId);
  vec4 borderColor = getColor(borderColorId);

  float size = size * maxSize / 255.;
  float borderSize = borderSize * maxSize / 255.;

  gl_PointSize = (size + borderSize) * pointSizeScale;

  vec2 pos = (position + translate) * scale
      + (positionFract + translateFract) * scale
      + (position + translate) * scaleFract
      + (positionFract + translateFract) * scaleFract;

  gl_Position = vec4(pos * 2. - 1., 0., 1.);

  fragBorderRadius = 1. - 2. * borderSize / (size + borderSize);
  fragColor = color;
  fragBorderColor = borderColor.a == 0. || borderSize == 0. ? vec4(color.rgb, 0.) : borderColor;
  fragWidth = 1. / gl_PointSize;
}
`]),d&&(Q.frag=Q.frag.replace("smoothstep","smoothStep"),ee.frag=ee.frag.replace("smoothstep","smoothStep")),this.drawCircle=o(Q)}y.defaults={color:"black",borderColor:"transparent",borderSize:0,size:12,opacity:1,marker:void 0,viewport:null,range:null,pixelSize:null,count:0,offset:0,bounds:null,positions:[],snap:1e4},y.prototype.render=function(){return arguments.length&&this.update.apply(this,arguments),this.draw(),this},y.prototype.draw=function(){for(var o=this,P=arguments.length,x=new Array(P),_=0;_<P;_++)x[_]=arguments[_];var I=this.groups;if(x.length===1&&Array.isArray(x[0])&&(x[0][0]===null||Array.isArray(x[0][0]))&&(x=x[0]),this.regl._refresh(),x.length)for(var N=0;N<x.length;N++)this.drawItem(N,x[N]);else I.forEach(function(k,F){o.drawItem(F)});return this},y.prototype.drawItem=function(o,P){var x=this.groups,_=x[o];if(typeof P=="number"&&(o=P,_=x[P],P=null),!!(_&&_.count&&_.opacity)){_.activation[0]&&this.drawCircle(this.getMarkerDrawOptions(0,_,P));for(var I=[],N=1;N<_.activation.length;N++)!_.activation[N]||_.activation[N]!==!0&&!_.activation[N].data.length||I.push.apply(I,a(this.getMarkerDrawOptions(N,_,P)));I.length&&this.drawMarker(I)}},y.prototype.getMarkerDrawOptions=function(o,P,x){var _=P.range,I=P.tree,N=P.viewport,k=P.activation,F=P.selectionBuffer,O=P.count;if(this.regl,!I)return x?[m({},P,{markerTexture:this.markerTextures[o],activation:k[o],count:x.length,elements:x,offset:0})]:[m({},P,{markerTexture:this.markerTextures[o],activation:k[o],offset:0})];var z=[],B=I.range(_,{lod:!0,px:[(_[2]-_[0])/N.width,(_[3]-_[1])/N.height]});if(x){for(var W=k[o],q=W.data,ee=new Uint8Array(O),Q=0;Q<x.length;Q++){var oe=x[Q];ee[oe]=q?q[oe]:1}F.subdata(ee)}for(var Z=B.length;Z--;){var Y=L(B[Z],2),te=Y[0],X=Y[1];z.push(m({},P,{markerTexture:this.markerTextures[o],activation:x?F:k[o],offset:te,count:X-te}))}return z},y.prototype.update=function(){for(var o=this,P=arguments.length,x=new Array(P),_=0;_<P;_++)x[_]=arguments[_];if(!!x.length){x.length===1&&Array.isArray(x[0])&&(x=x[0]);var I=this.groups,N=this.gl,k=this.regl,F=this.maxSize,O=this.maxColors,z=this.palette;this.groups=I=x.map(function(B,W){var q=I[W];if(B===void 0)return q;B===null?B={positions:null}:typeof B=="function"?B={ondraw:B}:typeof B[0]=="number"&&(B={positions:B}),B=M(B,{positions:"positions data points",snap:"snap cluster lod tree",size:"sizes size radius",borderSize:"borderSizes borderSize border-size bordersize borderWidth borderWidths border-width borderwidth stroke-width strokeWidth strokewidth outline",color:"colors color fill fill-color fillColor",borderColor:"borderColors borderColor stroke stroke-color strokeColor",marker:"markers marker shape",range:"range dataBox databox",viewport:"viewport viewPort viewBox viewbox",opacity:"opacity alpha transparency",bounds:"bound bounds boundaries limits",tooManyColors:"tooManyColors palette paletteMode optimizePalette enablePalette"}),B.positions===null&&(B.positions=[]),B.tooManyColors!=null&&(o.tooManyColors=B.tooManyColors),q||(I[W]=q={id:W,scale:null,translate:null,scaleFract:null,translateFract:null,activation:[],selectionBuffer:k.buffer({data:new Uint8Array(0),usage:"stream",type:"uint8"}),sizeBuffer:k.buffer({data:new Uint8Array(0),usage:"dynamic",type:"uint8"}),colorBuffer:k.buffer({data:new Uint8Array(0),usage:"dynamic",type:"uint8"}),positionBuffer:k.buffer({data:new Uint8Array(0),usage:"dynamic",type:"float"}),positionFractBuffer:k.buffer({data:new Uint8Array(0),usage:"dynamic",type:"float"})},B=m({},y.defaults,B)),B.positions&&!("marker"in B)&&(B.marker=q.marker,delete q.marker),B.marker&&!("positions"in B)&&(B.positions=q.positions,delete q.positions);var ee=0,Q=0;if(c(q,B,[{snap:!0,size:function(ye,Se){return ye==null&&(ye=y.defaults.size),ee+=ye&&ye.length?1:0,ye},borderSize:function(ye,Se){return ye==null&&(ye=y.defaults.borderSize),ee+=ye&&ye.length?1:0,ye},opacity:parseFloat,color:function(ye,Se){return ye==null&&(ye=y.defaults.color),ye=o.updateColor(ye),Q++,ye},borderColor:function(ye,Se){return ye==null&&(ye=y.defaults.borderColor),ye=o.updateColor(ye),Q++,ye},bounds:function(ye,Se,Fe){return"range"in Fe||(Fe.range=null),ye},positions:function(ye,Se,Fe){var Be=Se.snap,_e=Se.positionBuffer,Ue=Se.positionFractBuffer,it=Se.selectionBuffer;if(ye.x||ye.y)return ye.x.length?Se.xAttr={buffer:k.buffer(ye.x),offset:0,stride:4,count:ye.x.length}:Se.xAttr={buffer:ye.x.buffer,offset:ye.x.offset*4||0,stride:(ye.x.stride||1)*4,count:ye.x.count},ye.y.length?Se.yAttr={buffer:k.buffer(ye.y),offset:0,stride:4,count:ye.y.length}:Se.yAttr={buffer:ye.y.buffer,offset:ye.y.offset*4||0,stride:(ye.y.stride||1)*4,count:ye.y.count},Se.count=Math.max(Se.xAttr.count,Se.yAttr.count),ye;ye=i(ye,"float64");var lt=Se.count=Math.floor(ye.length/2),$e=Se.bounds=lt?f(ye,2):null;if(!Fe.range&&!Se.range&&(delete Se.range,Fe.range=$e),!Fe.marker&&!Se.marker&&(delete Se.marker,Fe.marker=null),Be&&(Be===!0||lt>Be)?Se.tree=l(ye,{bounds:$e}):Be&&Be.length&&(Se.tree=Be),Se.tree){var qe={primitive:"points",usage:"static",data:Se.tree,type:"uint32"};Se.elements?Se.elements(qe):Se.elements=k.elements(qe)}var ft=b.float32(ye);_e({data:ft,usage:"dynamic"});var ct=b.fract32(ye,ft);return Ue({data:ct,usage:"dynamic"}),it({data:new Uint8Array(lt),type:"uint8",usage:"stream"}),ye}},{marker:function(ye,Se,Fe){var Be=Se.activation;if(Be.forEach(function(ct){return ct&&ct.destroy&&ct.destroy()}),Be.length=0,!ye||typeof ye[0]=="number"){var _e=o.addMarker(ye);Be[_e]=!0}else{for(var Ue=[],it=0,lt=Math.min(ye.length,Se.count);it<lt;it++){var $e=o.addMarker(ye[it]);Ue[$e]||(Ue[$e]=new Uint8Array(Se.count)),Ue[$e][it]=1}for(var qe=0;qe<Ue.length;qe++)if(!!Ue[qe]){var ft={data:Ue[qe],type:"uint8",usage:"static"};Be[qe]?Be[qe](ft):Be[qe]=k.buffer(ft),Be[qe].data=Ue[qe]}}return ye},range:function(ye,Se,Fe){var Be=Se.bounds;if(!!Be)return ye||(ye=Be),Se.scale=[1/(ye[2]-ye[0]),1/(ye[3]-ye[1])],Se.translate=[-ye[0],-ye[1]],Se.scaleFract=b.fract(Se.scale),Se.translateFract=b.fract(Se.translate),ye},viewport:function(ye){var Se=w(ye||[N.drawingBufferWidth,N.drawingBufferHeight]);return Se}}]),ee){var oe=q,Z=oe.count,Y=oe.size,te=oe.borderSize,X=oe.sizeBuffer,$=new Uint8Array(Z*2);if(Y.length||te.length)for(var ie=0;ie<Z;ie++)$[ie*2]=Math.round((Y[ie]==null?Y:Y[ie])*255/F),$[ie*2+1]=Math.round((te[ie]==null?te:te[ie])*255/F);X({data:$,usage:"dynamic"})}if(Q){var J=q,j=J.count,se=J.color,ne=J.borderColor,le=J.colorBuffer,pe;if(o.tooManyColors){if(se.length||ne.length){pe=new Uint8Array(j*8);for(var Ae=0;Ae<j;Ae++){var be=se[Ae];pe[Ae*8]=z[be*4],pe[Ae*8+1]=z[be*4+1],pe[Ae*8+2]=z[be*4+2],pe[Ae*8+3]=z[be*4+3];var Re=ne[Ae];pe[Ae*8+4]=z[Re*4],pe[Ae*8+5]=z[Re*4+1],pe[Ae*8+6]=z[Re*4+2],pe[Ae*8+7]=z[Re*4+3]}}}else if(se.length||ne.length){pe=new Uint8Array(j*4+2);for(var xe=0;xe<j;xe++)se[xe]!=null&&(pe[xe*4]=se[xe]%O,pe[xe*4+1]=Math.floor(se[xe]/O)),ne[xe]!=null&&(pe[xe*4+2]=ne[xe]%O,pe[xe*4+3]=Math.floor(ne[xe]/O))}le({data:pe||new Uint8Array(0),type:"uint8",usage:"dynamic"})}return q})}},y.prototype.addMarker=function(o){var P=this.markerTextures,x=this.regl,_=this.markerCache,I=o==null?0:_.indexOf(o);if(I>=0)return I;var N;if(o instanceof Uint8Array||o instanceof Uint8ClampedArray)N=o;else{N=new Uint8Array(o.length);for(var k=0,F=o.length;k<F;k++)N[k]=o[k]*255}var O=Math.floor(Math.sqrt(N.length));return I=P.length,_.push(o),P.push(x.texture({channels:1,data:N,radius:O,mag:"linear",min:"linear"})),I},y.prototype.updateColor=function(o){var P=this.paletteIds,x=this.palette,_=this.maxColors;Array.isArray(o)||(o=[o]);var I=[];if(typeof o[0]=="number"){var N=[];if(Array.isArray(o))for(var k=0;k<o.length;k+=4)N.push(o.slice(k,k+4));else for(var F=0;F<o.length;F+=4)N.push(o.subarray(F,F+4));o=N}for(var O=0;O<o.length;O++){var z=o[O];z=n(z,"uint8");var B=u(z,!1);if(P[B]==null){var W=x.length;P[B]=Math.floor(W/4),x[W]=z[0],x[W+1]=z[1],x[W+2]=z[2],x[W+3]=z[3]}I[O]=P[B]}return!this.tooManyColors&&x.length>_*4&&(this.tooManyColors=!0),this.updatePalette(x),I.length===1?I[0]:I},y.prototype.updatePalette=function(o){if(!this.tooManyColors){var P=this.maxColors,x=this.paletteTexture,_=Math.ceil(o.length*.25/P);if(_>1){o=o.slice();for(var I=o.length*.25%P;I<_*P;I++)o.push(0,0,0,0)}x.height<_&&x.resize(P,_),x.subimage({width:Math.min(o.length*.25,P),height:_,data:o},0,0)}},y.prototype.destroy=function(){return this.groups.forEach(function(o){o.sizeBuffer.destroy(),o.positionBuffer.destroy(),o.positionFractBuffer.destroy(),o.colorBuffer.destroy(),o.activation.forEach(function(P){return P&&P.destroy&&P.destroy()}),o.selectionBuffer.destroy(),o.elements&&o.elements.destroy()}),this.groups.length=0,this.paletteTexture.destroy(),this.markerTextures.forEach(function(o){return o&&o.destroy&&o.destroy()}),this};var S=e(50896),T=function(P,x){var _=new E(P,x),I=_.render.bind(_);return S(I,{render:I,update:_.update.bind(_),draw:_.draw.bind(_),destroy:_.destroy.bind(_),regl:_.regl,gl:_.gl,canvas:_.gl.canvas,groups:_.groups,markers:_.markerCache,palette:_.palette}),I};G.exports=T},55795:function(G,U,e){var g=e(38540),L=e(55616),a=e(76752),C=e(3951),A=e(67752),v=e(51160),p=e(47520);G.exports=r;function r(f,u){if(!(this instanceof r))return new r(f);this.traces=[],this.passes={},this.regl=f,this.scatter=g(f),this.canvas=this.scatter.canvas}r.prototype.render=function(){for(var f=this,u,l=[],m=arguments.length;m--;)l[m]=arguments[m];return l.length&&(u=this).update.apply(u,l),this.regl.attributes.preserveDrawingBuffer?this.draw():(this.dirty?this.planned==null&&(this.planned=C(function(){f.draw(),f.dirty=!0,f.planned=null})):(this.draw(),this.dirty=!0,C(function(){f.dirty=!1})),this)},r.prototype.update=function(){for(var f,u=[],l=arguments.length;l--;)u[l]=arguments[l];if(!!u.length){for(var m=0;m<u.length;m++)this.updateItem(m,u[m]);this.traces=this.traces.filter(Boolean);for(var h=[],M=0,c=0;c<this.traces.length;c++){for(var i=this.traces[c],d=this.traces[c].passes,b=0;b<d.length;b++)h.push(this.passes[d[b]]);i.passOffset=M,M+=i.passes.length}return(f=this.scatter).update.apply(f,h),this}},r.prototype.updateItem=function(f,u){var l=this,m=l.regl;if(u===null)return this.traces[f]=null,this;if(!u)return this;var h=L(u,{data:"data items columns rows values dimensions samples x",snap:"snap cluster",size:"sizes size radius",color:"colors color fill fill-color fillColor",opacity:"opacity alpha transparency opaque",borderSize:"borderSizes borderSize border-size bordersize borderWidth borderWidths border-width borderwidth stroke-width strokeWidth strokewidth outline",borderColor:"borderColors borderColor bordercolor stroke stroke-color strokeColor",marker:"markers marker shape",range:"range ranges databox dataBox",viewport:"viewport viewBox viewbox",domain:"domain domains area areas",padding:"pad padding paddings pads margin margins",transpose:"transpose transposed",diagonal:"diagonal diag showDiagonal",upper:"upper up top upperhalf upperHalf showupperhalf showUpper showUpperHalf",lower:"lower low bottom lowerhalf lowerHalf showlowerhalf showLowerHalf showLower"}),M=this.traces[f]||(this.traces[f]={id:f,buffer:m.buffer({usage:"dynamic",type:"float",data:new Uint8Array}),color:"black",marker:null,size:12,borderColor:"transparent",borderSize:1,viewport:v([m._gl.drawingBufferWidth,m._gl.drawingBufferHeight]),padding:[0,0,0,0],opacity:1,diagonal:!0,upper:!0,lower:!0});if(h.color!=null&&(M.color=h.color),h.size!=null&&(M.size=h.size),h.marker!=null&&(M.marker=h.marker),h.borderColor!=null&&(M.borderColor=h.borderColor),h.borderSize!=null&&(M.borderSize=h.borderSize),h.opacity!=null&&(M.opacity=h.opacity),h.viewport&&(M.viewport=v(h.viewport)),h.diagonal!=null&&(M.diagonal=h.diagonal),h.upper!=null&&(M.upper=h.upper),h.lower!=null&&(M.lower=h.lower),h.data){M.buffer(p(h.data)),M.columns=h.data.length,M.count=h.data[0].length,M.bounds=[];for(var c=0;c<M.columns;c++)M.bounds[c]=a(h.data[c],1)}var i;h.range&&(M.range=h.range,i=M.range&&typeof M.range[0]!="number"),h.domain&&(M.domain=h.domain);var d=!1;h.padding!=null&&(Array.isArray(h.padding)&&h.padding.length===M.columns&&typeof h.padding[h.padding.length-1]=="number"?(M.padding=h.padding.map(n),d=!0):M.padding=n(h.padding));var b=M.columns,w=M.count,E=M.viewport.width,y=M.viewport.height,S=M.viewport.x,T=M.viewport.y,o=E/b,P=y/b;M.passes=[];for(var x=0;x<b;x++)for(var _=0;_<b;_++)if(!(!M.diagonal&&_===x)&&!(!M.upper&&x>_)&&!(!M.lower&&x<_)){var I=t(M.id,x,_),N=this.passes[I]||(this.passes[I]={});if(h.data&&(h.transpose?N.positions={x:{buffer:M.buffer,offset:_,count:w,stride:b},y:{buffer:M.buffer,offset:x,count:w,stride:b}}:N.positions={x:{buffer:M.buffer,offset:_*w,count:w},y:{buffer:M.buffer,offset:x*w,count:w}},N.bounds=s(M.bounds,x,_)),h.domain||h.viewport||h.data){var k=d?s(M.padding,x,_):M.padding;if(M.domain){var F=s(M.domain,x,_),O=F[0],z=F[1],B=F[2],W=F[3];N.viewport=[S+O*E+k[0],T+z*y+k[1],S+B*E-k[2],T+W*y-k[3]]}else N.viewport=[S+_*o+o*k[0],T+x*P+P*k[1],S+(_+1)*o-o*k[2],T+(x+1)*P-P*k[3]]}h.color&&(N.color=M.color),h.size&&(N.size=M.size),h.marker&&(N.marker=M.marker),h.borderSize&&(N.borderSize=M.borderSize),h.borderColor&&(N.borderColor=M.borderColor),h.opacity&&(N.opacity=M.opacity),h.range&&(N.range=i?s(M.range,x,_):M.range||N.bounds),M.passes.push(I)}return this},r.prototype.draw=function(){for(var f,u=[],l=arguments.length;l--;)u[l]=arguments[l];if(!u.length)this.scatter.draw();else{for(var m=[],h=0;h<u.length;h++)if(typeof u[h]=="number"){var M=this.traces[u[h]],c=M.passes,i=M.passOffset;m.push.apply(m,A(i,i+c.length))}else if(u[h].length){var d=u[h],b=this.traces[h],w=b.passes,E=b.passOffset;w=w.map(function(y,S){m[E+S]=d})}(f=this.scatter).draw.apply(f,m)}return this},r.prototype.destroy=function(){return this.traces.forEach(function(f){f.buffer&&f.buffer.destroy&&f.buffer.destroy()}),this.traces=null,this.passes=null,this.scatter.destroy(),this};function t(f,u,l){var m=f.id!=null?f.id:f,h=u,M=l,c=m<<16|(h&255)<<8|M&255;return c}function s(f,u,l){var m,h,M,c,i=f[u],d=f[l];return i.length>2?(i[0],i[2],m=i[1],h=i[3]):i.length?(m=i[0],h=i[1]):(i.x,m=i.y,i.x+i.width,h=i.y+i.height),d.length>2?(M=d[0],c=d[2],d[1],d[3]):d.length?(M=d[0],c=d[1]):(M=d.x,d.y,c=d.x+d.width,d.y+d.height),[M,m,c,h]}function n(f){if(typeof f=="number")return[f,f,f,f];if(f.length===2)return[f[0],f[1],f[0],f[1]];var u=v(f);return[u.x,u.y,u.x+u.width,u.y+u.height]}},28624:function(G){(function(U,e){G.exports=e()})(this,function(){function U(xt,At){this.id=le++,this.type=xt,this.data=At}function e(xt){if(xt.length===0)return[];var At=xt.charAt(0),Wt=xt.charAt(xt.length-1);if(1<xt.length&&At===Wt&&(At==='"'||At==="'"))return['"'+xt.substr(1,xt.length-2).replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'];if(At=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(xt))return e(xt.substr(0,At.index)).concat(e(At[1])).concat(e(xt.substr(At.index+At[0].length)));if(At=xt.split("."),At.length===1)return['"'+xt.replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'];for(xt=[],Wt=0;Wt<At.length;++Wt)xt=xt.concat(e(At[Wt]));return xt}function g(xt){return"["+e(xt).join("][")+"]"}function L(xt,At){if(typeof xt=="function")return new U(0,xt);if(typeof xt=="number"||typeof xt=="boolean")return new U(5,xt);if(Array.isArray(xt))return new U(6,xt.map(function(Wt,er){return L(Wt)}));if(xt instanceof U)return xt}function a(){var xt={"":0},At=[""];return{id:function(Wt){var er=xt[Wt];return er||(er=xt[Wt]=At.length,At.push(Wt),er)},str:function(Wt){return At[Wt]}}}function C(xt,At,Wt){function er(){var at=window.innerWidth,bt=window.innerHeight;xt!==document.body&&(bt=$t.getBoundingClientRect(),at=bt.right-bt.left,bt=bt.bottom-bt.top),$t.width=Wt*at,$t.height=Wt*bt}var $t=document.createElement("canvas");ne($t.style,{border:0,margin:0,padding:0,top:0,left:0,width:"100%",height:"100%"}),xt.appendChild($t),xt===document.body&&($t.style.position="absolute",ne(xt.style,{margin:0,padding:0}));var ht;return xt!==document.body&&typeof ResizeObserver=="function"?(ht=new ResizeObserver(function(){setTimeout(er)}),ht.observe(xt)):window.addEventListener("resize",er,!1),er(),{canvas:$t,onDestroy:function(){ht?ht.disconnect():window.removeEventListener("resize",er),xt.removeChild($t)}}}function A(xt,At){function Wt(er){try{return xt.getContext(er,At)}catch{return null}}return Wt("webgl")||Wt("experimental-webgl")||Wt("webgl-experimental")}function v(xt){return typeof xt=="string"?xt.split():xt}function p(xt){return typeof xt=="string"?document.querySelector(xt):xt}function r(xt){var At=xt||{},Wt,er,$t,ht;xt={};var at=[],bt=[],Ct=typeof window=="undefined"?1:window.devicePixelRatio,Dt=!1,It={},Vt=function(Jt){},Nt=function(){};if(typeof At=="string"?Wt=document.querySelector(At):typeof At=="object"&&(typeof At.nodeName=="string"&&typeof At.appendChild=="function"&&typeof At.getBoundingClientRect=="function"?Wt=At:typeof At.drawArrays=="function"||typeof At.drawElements=="function"?(ht=At,$t=ht.canvas):("gl"in At?ht=At.gl:"canvas"in At?$t=p(At.canvas):"container"in At&&(er=p(At.container)),"attributes"in At&&(xt=At.attributes),"extensions"in At&&(at=v(At.extensions)),"optionalExtensions"in At&&(bt=v(At.optionalExtensions)),"onDone"in At&&(Vt=At.onDone),"profile"in At&&(Dt=!!At.profile),"pixelRatio"in At&&(Ct=+At.pixelRatio),"cachedCode"in At&&(It=At.cachedCode))),Wt&&(Wt.nodeName.toLowerCase()==="canvas"?$t=Wt:er=Wt),!ht){if(!$t){if(Wt=C(er||document.body,Vt,Ct),!Wt)return null;$t=Wt.canvas,Nt=Wt.onDestroy}xt.premultipliedAlpha===void 0&&(xt.premultipliedAlpha=!0),ht=A($t,xt)}return ht?{gl:ht,canvas:$t,container:er,extensions:at,optionalExtensions:bt,pixelRatio:Ct,profile:Dt,cachedCode:It,onDone:Vt,onDestroy:Nt}:(Nt(),Vt("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function t(xt,At){function Wt(at){at=at.toLowerCase();var bt;try{bt=er[at]=xt.getExtension(at)}catch{}return!!bt}for(var er={},$t=0;$t<At.extensions.length;++$t){var ht=At.extensions[$t];if(!Wt(ht))return At.onDestroy(),At.onDone('"'+ht+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return At.optionalExtensions.forEach(Wt),{extensions:er,restore:function(){Object.keys(er).forEach(function(at){if(er[at]&&!Wt(at))throw Error("(regl): error restoring extension "+at)})}}}function s(xt,At){for(var Wt=Array(xt),er=0;er<xt;++er)Wt[er]=At(er);return Wt}function n(xt){var At,Wt;return At=(65535<xt)<<4,xt>>>=At,Wt=(255<xt)<<3,xt>>>=Wt,At|=Wt,Wt=(15<xt)<<2,xt>>>=Wt,At|=Wt,Wt=(3<xt)<<1,At|Wt|xt>>>Wt>>1}function f(){function xt(er){e:{for(var $t=16;268435456>=$t;$t*=16)if(er<=$t){er=$t;break e}er=0}return $t=Wt[n(er)>>2],0<$t.length?$t.pop():new ArrayBuffer(er)}function At(er){Wt[n(er.byteLength)>>2].push(er)}var Wt=s(8,function(){return[]});return{alloc:xt,free:At,allocType:function(er,$t){var ht=null;switch(er){case 5120:ht=new Int8Array(xt($t),0,$t);break;case 5121:ht=new Uint8Array(xt($t),0,$t);break;case 5122:ht=new Int16Array(xt(2*$t),0,$t);break;case 5123:ht=new Uint16Array(xt(2*$t),0,$t);break;case 5124:ht=new Int32Array(xt(4*$t),0,$t);break;case 5125:ht=new Uint32Array(xt(4*$t),0,$t);break;case 5126:ht=new Float32Array(xt(4*$t),0,$t);break;default:return null}return ht.length!==$t?ht.subarray(0,$t):ht},freeType:function(er){At(er.buffer)}}}function u(xt){return!!xt&&typeof xt=="object"&&Array.isArray(xt.shape)&&Array.isArray(xt.stride)&&typeof xt.offset=="number"&&xt.shape.length===xt.stride.length&&(Array.isArray(xt.data)||Me(xt.data))}function l(xt,At,Wt,er,$t,ht){for(var at=0;at<At;++at)for(var bt=xt[at],Ct=0;Ct<Wt;++Ct)for(var Dt=bt[Ct],It=0;It<er;++It)$t[ht++]=Dt[It]}function m(xt,At,Wt,er,$t){for(var ht=1,at=Wt+1;at<At.length;++at)ht*=At[at];var bt=At[Wt];if(At.length-Wt===4){var Ct=At[Wt+1],Dt=At[Wt+2];for(At=At[Wt+3],at=0;at<bt;++at)l(xt[at],Ct,Dt,At,er,$t),$t+=ht}else for(at=0;at<bt;++at)m(xt[at],At,Wt+1,er,$t),$t+=ht}function h(xt){return Fe[Object.prototype.toString.call(xt)]|0}function M(xt,At){for(var Wt=0;Wt<At.length;++Wt)xt[Wt]=At[Wt]}function c(xt,At,Wt,er,$t,ht,at){for(var bt=0,Ct=0;Ct<Wt;++Ct)for(var Dt=0;Dt<er;++Dt)xt[bt++]=At[$t*Ct+ht*Dt+at]}function i(xt,At,Wt,er){function $t(Vt){this.id=Ct++,this.buffer=xt.createBuffer(),this.type=Vt,this.usage=35044,this.byteLength=0,this.dimension=1,this.dtype=5121,this.persistentData=null,Wt.profile&&(this.stats={size:0})}function ht(Vt,Nt,Jt){Vt.byteLength=Nt.byteLength,xt.bufferData(Vt.type,Nt,Jt)}function at(Vt,Nt,Jt,fr,cr,dr){if(Vt.usage=Jt,Array.isArray(Nt)){if(Vt.dtype=fr||5126,0<Nt.length)if(Array.isArray(Nt[0])){cr=it(Nt);for(var Ge=fr=1;Ge<cr.length;++Ge)fr*=cr[Ge];Vt.dimension=fr,Nt=Ue(Nt,cr,Vt.dtype),ht(Vt,Nt,Jt),dr?Vt.persistentData=Nt:Re.freeType(Nt)}else typeof Nt[0]=="number"?(Vt.dimension=cr,cr=Re.allocType(Vt.dtype,Nt.length),M(cr,Nt),ht(Vt,cr,Jt),dr?Vt.persistentData=cr:Re.freeType(cr)):Me(Nt[0])&&(Vt.dimension=Nt[0].length,Vt.dtype=fr||h(Nt[0])||5126,Nt=Ue(Nt,[Nt.length,Nt[0].length],Vt.dtype),ht(Vt,Nt,Jt),dr?Vt.persistentData=Nt:Re.freeType(Nt))}else if(Me(Nt))Vt.dtype=fr||h(Nt),Vt.dimension=cr,ht(Vt,Nt,Jt),dr&&(Vt.persistentData=new Uint8Array(new Uint8Array(Nt.buffer)));else if(u(Nt)){cr=Nt.shape;var Ve=Nt.stride,Ge=Nt.offset,Ot=0,Ft=0,Kt=0,rr=0;cr.length===1?(Ot=cr[0],Ft=1,Kt=Ve[0],rr=0):cr.length===2&&(Ot=cr[0],Ft=cr[1],Kt=Ve[0],rr=Ve[1]),Vt.dtype=fr||h(Nt.data)||5126,Vt.dimension=Ft,cr=Re.allocType(Vt.dtype,Ot*Ft),c(cr,Nt.data,Ot,Ft,Kt,rr,Ge),ht(Vt,cr,Jt),dr?Vt.persistentData=cr:Re.freeType(cr)}else Nt instanceof ArrayBuffer&&(Vt.dtype=5121,Vt.dimension=cr,ht(Vt,Nt,Jt),dr&&(Vt.persistentData=new Uint8Array(new Uint8Array(Nt))))}function bt(Vt){At.bufferCount--,er(Vt),xt.deleteBuffer(Vt.buffer),Vt.buffer=null,delete Dt[Vt.id]}var Ct=0,Dt={};$t.prototype.bind=function(){xt.bindBuffer(this.type,this.buffer)},$t.prototype.destroy=function(){bt(this)};var It=[];return Wt.profile&&(At.getTotalBufferSize=function(){var Vt=0;return Object.keys(Dt).forEach(function(Nt){Vt+=Dt[Nt].stats.size}),Vt}),{create:function(Vt,Nt,Jt,fr){function cr(Ge){var Ve=35044,Ot=null,Ft=0,Kt=0,rr=1;return Array.isArray(Ge)||Me(Ge)||u(Ge)||Ge instanceof ArrayBuffer?Ot=Ge:typeof Ge=="number"?Ft=Ge|0:Ge&&("data"in Ge&&(Ot=Ge.data),"usage"in Ge&&(Ve=_e[Ge.usage]),"type"in Ge&&(Kt=Be[Ge.type]),"dimension"in Ge&&(rr=Ge.dimension|0),"length"in Ge&&(Ft=Ge.length|0)),dr.bind(),Ot?at(dr,Ot,Ve,Kt,rr,fr):(Ft&&xt.bufferData(dr.type,Ft,Ve),dr.dtype=Kt||5121,dr.usage=Ve,dr.dimension=rr,dr.byteLength=Ft),Wt.profile&&(dr.stats.size=dr.byteLength*lt[dr.dtype]),cr}At.bufferCount++;var dr=new $t(Nt);return Dt[dr.id]=dr,Jt||cr(Vt),cr._reglType="buffer",cr._buffer=dr,cr.subdata=function(Ge,Ve){var Ot=(Ve||0)|0,Ft;if(dr.bind(),Me(Ge)||Ge instanceof ArrayBuffer)xt.bufferSubData(dr.type,Ot,Ge);else if(Array.isArray(Ge)){if(0<Ge.length)if(typeof Ge[0]=="number"){var Kt=Re.allocType(dr.dtype,Ge.length);M(Kt,Ge),xt.bufferSubData(dr.type,Ot,Kt),Re.freeType(Kt)}else(Array.isArray(Ge[0])||Me(Ge[0]))&&(Ft=it(Ge),Kt=Ue(Ge,Ft,dr.dtype),xt.bufferSubData(dr.type,Ot,Kt),Re.freeType(Kt))}else if(u(Ge)){Ft=Ge.shape;var rr=Ge.stride,ur=Kt=0,ar=0,Bt=0;Ft.length===1?(Kt=Ft[0],ur=1,ar=rr[0],Bt=0):Ft.length===2&&(Kt=Ft[0],ur=Ft[1],ar=rr[0],Bt=rr[1]),Ft=Array.isArray(Ge.data)?dr.dtype:h(Ge.data),Ft=Re.allocType(Ft,Kt*ur),c(Ft,Ge.data,Kt,ur,ar,Bt,Ge.offset),xt.bufferSubData(dr.type,Ot,Ft),Re.freeType(Ft)}return cr},Wt.profile&&(cr.stats=dr.stats),cr.destroy=function(){bt(dr)},cr},createStream:function(Vt,Nt){var Jt=It.pop();return Jt||(Jt=new $t(Vt)),Jt.bind(),at(Jt,Nt,35040,0,1,!1),Jt},destroyStream:function(Vt){It.push(Vt)},clear:function(){ye(Dt).forEach(bt),It.forEach(bt)},getBuffer:function(Vt){return Vt&&Vt._buffer instanceof $t?Vt._buffer:null},restore:function(){ye(Dt).forEach(function(Vt){Vt.buffer=xt.createBuffer(),xt.bindBuffer(Vt.type,Vt.buffer),xt.bufferData(Vt.type,Vt.persistentData||Vt.byteLength,Vt.usage)})},_initBuffer:at}}function d(xt,At,Wt,er){function $t(Vt){this.id=Ct++,bt[this.id]=this,this.buffer=Vt,this.primType=4,this.type=this.vertCount=0}function ht(Vt,Nt,Jt,fr,cr,dr,Ge){Vt.buffer.bind();var Ve;if(Nt?((Ve=Ge)||Me(Nt)&&(!u(Nt)||Me(Nt.data))||(Ve=At.oes_element_index_uint?5125:5123),Wt._initBuffer(Vt.buffer,Nt,Jt,Ve,3)):(xt.bufferData(34963,dr,Jt),Vt.buffer.dtype=Ve||5121,Vt.buffer.usage=Jt,Vt.buffer.dimension=3,Vt.buffer.byteLength=dr),Ve=Ge,!Ge){switch(Vt.buffer.dtype){case 5121:case 5120:Ve=5121;break;case 5123:case 5122:Ve=5123;break;case 5125:case 5124:Ve=5125}Vt.buffer.dtype=Ve}Vt.type=Ve,Nt=cr,0>Nt&&(Nt=Vt.buffer.byteLength,Ve===5123?Nt>>=1:Ve===5125&&(Nt>>=2)),Vt.vertCount=Nt,Nt=fr,0>fr&&(Nt=4,fr=Vt.buffer.dimension,fr===1&&(Nt=0),fr===2&&(Nt=1),fr===3&&(Nt=4)),Vt.primType=Nt}function at(Vt){er.elementsCount--,delete bt[Vt.id],Vt.buffer.destroy(),Vt.buffer=null}var bt={},Ct=0,Dt={uint8:5121,uint16:5123};At.oes_element_index_uint&&(Dt.uint32=5125),$t.prototype.bind=function(){this.buffer.bind()};var It=[];return{create:function(Vt,Nt){function Jt(dr){if(dr)if(typeof dr=="number")fr(dr),cr.primType=4,cr.vertCount=dr|0,cr.type=5121;else{var Ge=null,Ve=35044,Ot=-1,Ft=-1,Kt=0,rr=0;Array.isArray(dr)||Me(dr)||u(dr)?Ge=dr:("data"in dr&&(Ge=dr.data),"usage"in dr&&(Ve=_e[dr.usage]),"primitive"in dr&&(Ot=$e[dr.primitive]),"count"in dr&&(Ft=dr.count|0),"type"in dr&&(rr=Dt[dr.type]),"length"in dr?Kt=dr.length|0:(Kt=Ft,rr===5123||rr===5122?Kt*=2:(rr===5125||rr===5124)&&(Kt*=4))),ht(cr,Ge,Ve,Ot,Ft,Kt,rr)}else fr(),cr.primType=4,cr.vertCount=0,cr.type=5121;return Jt}var fr=Wt.create(null,34963,!0),cr=new $t(fr._buffer);return er.elementsCount++,Jt(Vt),Jt._reglType="elements",Jt._elements=cr,Jt.subdata=function(dr,Ge){return fr.subdata(dr,Ge),Jt},Jt.destroy=function(){at(cr)},Jt},createStream:function(Vt){var Nt=It.pop();return Nt||(Nt=new $t(Wt.create(null,34963,!0,!1)._buffer)),ht(Nt,Vt,35040,-1,-1,0,0),Nt},destroyStream:function(Vt){It.push(Vt)},getElements:function(Vt){return typeof Vt=="function"&&Vt._elements instanceof $t?Vt._elements:null},clear:function(){ye(bt).forEach(at)}}}function b(xt){for(var At=Re.allocType(5123,xt.length),Wt=0;Wt<xt.length;++Wt)if(isNaN(xt[Wt]))At[Wt]=65535;else if(xt[Wt]===1/0)At[Wt]=31744;else if(xt[Wt]===-1/0)At[Wt]=64512;else{qe[0]=xt[Wt];var ht=ft[0],er=ht>>>31<<15,$t=(ht<<1>>>24)-127,ht=ht>>13&1023;At[Wt]=-24>$t?er:-14>$t?er+(ht+1024>>-14-$t):15<$t?er+31744:er+($t+15<<10)+ht}return At}function w(xt){return Array.isArray(xt)||Me(xt)}function E(xt){return"[object "+xt+"]"}function y(xt){return Array.isArray(xt)&&(xt.length===0||typeof xt[0]=="number")}function S(xt){return!!(Array.isArray(xt)&&xt.length!==0&&w(xt[0]))}function T(xt){return Object.prototype.toString.call(xt)}function o(xt){if(!xt)return!1;var At=T(xt);return 0<=De.indexOf(At)?!0:y(xt)||S(xt)||u(xt)}function P(xt,At){xt.type===36193?(xt.data=b(At),Re.freeType(At)):xt.data=At}function x(xt,At,Wt,er,$t,ht){if(xt=typeof ge[xt]!="undefined"?ge[xt]:yt[xt]*me[At],ht&&(xt*=6),$t){for(er=0;1<=Wt;)er+=xt*Wt*Wt,Wt/=2;return er}return xt*Wt*er}function _(xt,At,Wt,er,$t,ht,at){function bt(){this.format=this.internalformat=6408,this.type=5121,this.flipY=this.premultiplyAlpha=this.compressed=!1,this.unpackAlignment=1,this.colorSpace=37444,this.channels=this.height=this.width=0}function Ct(br,nn){br.internalformat=nn.internalformat,br.format=nn.format,br.type=nn.type,br.compressed=nn.compressed,br.premultiplyAlpha=nn.premultiplyAlpha,br.flipY=nn.flipY,br.unpackAlignment=nn.unpackAlignment,br.colorSpace=nn.colorSpace,br.width=nn.width,br.height=nn.height,br.channels=nn.channels}function Dt(br,nn){if(typeof nn=="object"&&nn){"premultiplyAlpha"in nn&&(br.premultiplyAlpha=nn.premultiplyAlpha),"flipY"in nn&&(br.flipY=nn.flipY),"alignment"in nn&&(br.unpackAlignment=nn.alignment),"colorSpace"in nn&&(br.colorSpace=cn[nn.colorSpace]),"type"in nn&&(br.type=rn[nn.type]);var $r=br.width,dn=br.height,Hn=br.channels,Tn=!1;"shape"in nn?($r=nn.shape[0],dn=nn.shape[1],nn.shape.length===3&&(Hn=nn.shape[2],Tn=!0)):("radius"in nn&&($r=dn=nn.radius),"width"in nn&&($r=nn.width),"height"in nn&&(dn=nn.height),"channels"in nn&&(Hn=nn.channels,Tn=!0)),br.width=$r|0,br.height=dn|0,br.channels=Hn|0,$r=!1,"format"in nn&&($r=nn.format,dn=br.internalformat=Ln[$r],br.format=Cn[dn],$r in rn&&!("type"in nn)&&(br.type=rn[$r]),$r in En&&(br.compressed=!0),$r=!0),!Tn&&$r?br.channels=yt[br.format]:Tn&&!$r&&br.channels!==pt[br.format]&&(br.format=br.internalformat=pt[br.channels])}}function It(br){xt.pixelStorei(37440,br.flipY),xt.pixelStorei(37441,br.premultiplyAlpha),xt.pixelStorei(37443,br.colorSpace),xt.pixelStorei(3317,br.unpackAlignment)}function Vt(){bt.call(this),this.yOffset=this.xOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function Nt(br,nn){var $r=null;if(o(nn)?$r=nn:nn&&(Dt(br,nn),"x"in nn&&(br.xOffset=nn.x|0),"y"in nn&&(br.yOffset=nn.y|0),o(nn.data)&&($r=nn.data)),nn.copy){var dn=$t.viewportWidth,Hn=$t.viewportHeight;br.width=br.width||dn-br.xOffset,br.height=br.height||Hn-br.yOffset,br.needsCopy=!0}else if(!$r)br.width=br.width||1,br.height=br.height||1,br.channels=br.channels||4;else if(Me($r))br.channels=br.channels||4,br.data=$r,"type"in nn||br.type!==5121||(br.type=Fe[Object.prototype.toString.call($r)]|0);else if(y($r)){switch(br.channels=br.channels||4,dn=$r,Hn=dn.length,br.type){case 5121:case 5123:case 5125:case 5126:Hn=Re.allocType(br.type,Hn),Hn.set(dn),br.data=Hn;break;case 36193:br.data=b(dn)}br.alignment=1,br.needsFree=!0}else if(u($r)){dn=$r.data,Array.isArray(dn)||br.type!==5121||(br.type=Fe[Object.prototype.toString.call(dn)]|0);var Hn=$r.shape,Tn=$r.stride,An,Nn,Qn,ya;Hn.length===3?(Qn=Hn[2],ya=Tn[2]):ya=Qn=1,An=Hn[0],Nn=Hn[1],Hn=Tn[0],Tn=Tn[1],br.alignment=1,br.width=An,br.height=Nn,br.channels=Qn,br.format=br.internalformat=pt[Qn],br.needsFree=!0,An=ya,$r=$r.offset,Qn=br.width,ya=br.height,Nn=br.channels;for(var Ia=Re.allocType(br.type===36193?5126:br.type,Qn*ya*Nn),Sr=0,zr=0;zr<ya;++zr)for(var Ar=0;Ar<Qn;++Ar)for(var Or=0;Or<Nn;++Or)Ia[Sr++]=dn[Hn*Ar+Tn*zr+An*Or+$r];P(br,Ia)}else if(T($r)===Et||T($r)===tt||T($r)===Ie)T($r)===Et||T($r)===tt?br.element=$r:br.element=$r.canvas,br.width=br.element.width,br.height=br.element.height,br.channels=4;else if(T($r)===We)br.element=$r,br.width=$r.width,br.height=$r.height,br.channels=4;else if(T($r)===Ze)br.element=$r,br.width=$r.naturalWidth,br.height=$r.naturalHeight,br.channels=4;else if(T($r)===He)br.element=$r,br.width=$r.videoWidth,br.height=$r.videoHeight,br.channels=4;else if(S($r)){for(dn=br.width||$r[0].length,Hn=br.height||$r.length,Tn=br.channels,Tn=w($r[0][0])?Tn||$r[0][0].length:Tn||1,An=Se.shape($r),Qn=1,ya=0;ya<An.length;++ya)Qn*=An[ya];Qn=Re.allocType(br.type===36193?5126:br.type,Qn),Se.flatten($r,An,"",Qn),P(br,Qn),br.alignment=1,br.width=dn,br.height=Hn,br.channels=Tn,br.format=br.internalformat=pt[Tn],br.needsFree=!0}}function Jt(br,nn,$r,dn,Hn){var Tn=br.element,An=br.data,Nn=br.internalformat,Qn=br.format,ya=br.type,Ia=br.width,Sr=br.height;It(br),Tn?xt.texSubImage2D(nn,Hn,$r,dn,Qn,ya,Tn):br.compressed?xt.compressedTexSubImage2D(nn,Hn,$r,dn,Nn,Ia,Sr,An):br.needsCopy?(er(),xt.copyTexSubImage2D(nn,Hn,$r,dn,br.xOffset,br.yOffset,Ia,Sr)):xt.texSubImage2D(nn,Hn,$r,dn,Ia,Sr,Qn,ya,An)}function fr(){return zn.pop()||new Vt}function cr(br){br.needsFree&&Re.freeType(br.data),Vt.call(br),zn.push(br)}function dr(){bt.call(this),this.genMipmaps=!1,this.mipmapHint=4352,this.mipmask=0,this.images=Array(16)}function Ge(br,nn,$r){var dn=br.images[0]=fr();br.mipmask=1,dn.width=br.width=nn,dn.height=br.height=$r,dn.channels=br.channels=4}function Ve(br,nn){var $r=null;if(o(nn))$r=br.images[0]=fr(),Ct($r,br),Nt($r,nn),br.mipmask=1;else if(Dt(br,nn),Array.isArray(nn.mipmap))for(var dn=nn.mipmap,Hn=0;Hn<dn.length;++Hn)$r=br.images[Hn]=fr(),Ct($r,br),$r.width>>=Hn,$r.height>>=Hn,Nt($r,dn[Hn]),br.mipmask|=1<<Hn;else $r=br.images[0]=fr(),Ct($r,br),Nt($r,nn),br.mipmask=1;Ct(br,br.images[0])}function Ot(br,nn){for(var $r=br.images,dn=0;dn<$r.length&&$r[dn];++dn){var Hn=$r[dn],Tn=nn,An=dn,Nn=Hn.element,Qn=Hn.data,ya=Hn.internalformat,Ia=Hn.format,Sr=Hn.type,zr=Hn.width,Ar=Hn.height;It(Hn),Nn?xt.texImage2D(Tn,An,Ia,Ia,Sr,Nn):Hn.compressed?xt.compressedTexImage2D(Tn,An,ya,zr,Ar,0,Qn):Hn.needsCopy?(er(),xt.copyTexImage2D(Tn,An,Ia,Hn.xOffset,Hn.yOffset,zr,Ar,0)):xt.texImage2D(Tn,An,Ia,zr,Ar,0,Ia,Sr,Qn||null)}}function Ft(){var br=aa.pop()||new dr;bt.call(br);for(var nn=br.mipmask=0;16>nn;++nn)br.images[nn]=null;return br}function Kt(br){for(var nn=br.images,$r=0;$r<nn.length;++$r)nn[$r]&&cr(nn[$r]),nn[$r]=null;aa.push(br)}function rr(){this.magFilter=this.minFilter=9728,this.wrapT=this.wrapS=33071,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=4352}function ur(br,nn){"min"in nn&&(br.minFilter=Ir[nn.min],0<=ct.indexOf(br.minFilter)&&!("faces"in nn)&&(br.genMipmaps=!0)),"mag"in nn&&(br.magFilter=Rr[nn.mag]);var $r=br.wrapS,dn=br.wrapT;if("wrap"in nn){var Hn=nn.wrap;typeof Hn=="string"?$r=dn=Gr[Hn]:Array.isArray(Hn)&&($r=Gr[Hn[0]],dn=Gr[Hn[1]])}else"wrapS"in nn&&($r=Gr[nn.wrapS]),"wrapT"in nn&&(dn=Gr[nn.wrapT]);if(br.wrapS=$r,br.wrapT=dn,"anisotropic"in nn&&(br.anisotropic=nn.anisotropic),"mipmap"in nn){switch($r=!1,typeof nn.mipmap){case"string":br.mipmapHint=vr[nn.mipmap],$r=br.genMipmaps=!0;break;case"boolean":$r=br.genMipmaps=nn.mipmap;break;case"object":br.genMipmaps=!1,$r=!0}!$r||"min"in nn||(br.minFilter=9984)}}function ar(br,nn){xt.texParameteri(nn,10241,br.minFilter),xt.texParameteri(nn,10240,br.magFilter),xt.texParameteri(nn,10242,br.wrapS),xt.texParameteri(nn,10243,br.wrapT),At.ext_texture_filter_anisotropic&&xt.texParameteri(nn,34046,br.anisotropic),br.genMipmaps&&(xt.hint(33170,br.mipmapHint),xt.generateMipmap(nn))}function Bt(br){bt.call(this),this.mipmask=0,this.internalformat=6408,this.id=ha++,this.refCount=1,this.target=br,this.texture=xt.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new rr,at.profile&&(this.stats={size:0})}function hr(br){xt.activeTexture(33984),xt.bindTexture(br.target,br.texture)}function gr(){var br=na[0];br?xt.bindTexture(br.target,br.texture):xt.bindTexture(3553,null)}function mr(br){var nn=br.texture,$r=br.unit,dn=br.target;0<=$r&&(xt.activeTexture(33984+$r),xt.bindTexture(dn,null),na[$r]=null),xt.deleteTexture(nn),br.texture=null,br.params=null,br.pixels=null,br.refCount=0,delete pa[br.id],ht.textureCount--}var vr={"don't care":4352,"dont care":4352,nice:4354,fast:4353},Gr={repeat:10497,clamp:33071,mirror:33648},Rr={nearest:9728,linear:9729},Ir=ne({mipmap:9987,"nearest mipmap nearest":9984,"linear mipmap nearest":9985,"nearest mipmap linear":9986,"linear mipmap linear":9987},Rr),cn={none:0,browser:37444},rn={uint8:5121,rgba4:32819,rgb565:33635,"rgb5 a1":32820},Ln={alpha:6406,luminance:6409,"luminance alpha":6410,rgb:6407,rgba:6408,rgba4:32854,"rgb5 a1":32855,rgb565:36194},En={};At.ext_srgb&&(Ln.srgb=35904,Ln.srgba=35906),At.oes_texture_float&&(rn.float32=rn.float=5126),At.oes_texture_half_float&&(rn.float16=rn["half float"]=36193),At.webgl_depth_texture&&(ne(Ln,{depth:6402,"depth stencil":34041}),ne(rn,{uint16:5123,uint32:5125,"depth stencil":34042})),At.webgl_compressed_texture_s3tc&&ne(En,{"rgb s3tc dxt1":33776,"rgba s3tc dxt1":33777,"rgba s3tc dxt3":33778,"rgba s3tc dxt5":33779}),At.webgl_compressed_texture_atc&&ne(En,{"rgb atc":35986,"rgba atc explicit alpha":35987,"rgba atc interpolated alpha":34798}),At.webgl_compressed_texture_pvrtc&&ne(En,{"rgb pvrtc 4bppv1":35840,"rgb pvrtc 2bppv1":35841,"rgba pvrtc 4bppv1":35842,"rgba pvrtc 2bppv1":35843}),At.webgl_compressed_texture_etc1&&(En["rgb etc1"]=36196);var Tr=Array.prototype.slice.call(xt.getParameter(34467));Object.keys(En).forEach(function(br){var nn=En[br];0<=Tr.indexOf(nn)&&(Ln[br]=nn)});var Lr=Object.keys(Ln);Wt.textureFormats=Lr;var Wr=[];Object.keys(Ln).forEach(function(br){Wr[Ln[br]]=br});var Ur=[];Object.keys(rn).forEach(function(br){Ur[rn[br]]=br});var an=[];Object.keys(Rr).forEach(function(br){an[Rr[br]]=br});var pn=[];Object.keys(Ir).forEach(function(br){pn[Ir[br]]=br});var gn=[];Object.keys(Gr).forEach(function(br){gn[Gr[br]]=br});var Cn=Lr.reduce(function(br,nn){var $r=Ln[nn];return $r===6409||$r===6406||$r===6409||$r===6410||$r===6402||$r===34041||At.ext_srgb&&($r===35904||$r===35906)?br[$r]=$r:$r===32855||0<=nn.indexOf("rgba")?br[$r]=6408:br[$r]=6407,br},{}),zn=[],aa=[],ha=0,pa={},ua=Wt.maxTextureUnits,na=Array(ua).map(function(){return null});return ne(Bt.prototype,{bind:function(){this.bindCount+=1;var br=this.unit;if(0>br){for(var nn=0;nn<ua;++nn){var $r=na[nn];if($r){if(0<$r.bindCount)continue;$r.unit=-1}na[nn]=this,br=nn;break}at.profile&&ht.maxTextureUnits<br+1&&(ht.maxTextureUnits=br+1),this.unit=br,xt.activeTexture(33984+br),xt.bindTexture(this.target,this.texture)}return br},unbind:function(){--this.bindCount},decRef:function(){0>=--this.refCount&&mr(this)}}),at.profile&&(ht.getTotalTextureSize=function(){var br=0;return Object.keys(pa).forEach(function(nn){br+=pa[nn].stats.size}),br}),{create2D:function(br,nn){function $r(Hn,Tn){var An=dn.texInfo;rr.call(An);var Nn=Ft();return typeof Hn=="number"?typeof Tn=="number"?Ge(Nn,Hn|0,Tn|0):Ge(Nn,Hn|0,Hn|0):Hn?(ur(An,Hn),Ve(Nn,Hn)):Ge(Nn,1,1),An.genMipmaps&&(Nn.mipmask=(Nn.width<<1)-1),dn.mipmask=Nn.mipmask,Ct(dn,Nn),dn.internalformat=Nn.internalformat,$r.width=Nn.width,$r.height=Nn.height,hr(dn),Ot(Nn,3553),ar(An,3553),gr(),Kt(Nn),at.profile&&(dn.stats.size=x(dn.internalformat,dn.type,Nn.width,Nn.height,An.genMipmaps,!1)),$r.format=Wr[dn.internalformat],$r.type=Ur[dn.type],$r.mag=an[An.magFilter],$r.min=pn[An.minFilter],$r.wrapS=gn[An.wrapS],$r.wrapT=gn[An.wrapT],$r}var dn=new Bt(3553);return pa[dn.id]=dn,ht.textureCount++,$r(br,nn),$r.subimage=function(Hn,Tn,An,Nn){Tn|=0,An|=0,Nn|=0;var Qn=fr();return Ct(Qn,dn),Qn.width=0,Qn.height=0,Nt(Qn,Hn),Qn.width=Qn.width||(dn.width>>Nn)-Tn,Qn.height=Qn.height||(dn.height>>Nn)-An,hr(dn),Jt(Qn,3553,Tn,An,Nn),gr(),cr(Qn),$r},$r.resize=function(Hn,Tn){var An=Hn|0,Nn=Tn|0||An;if(An===dn.width&&Nn===dn.height)return $r;$r.width=dn.width=An,$r.height=dn.height=Nn,hr(dn);for(var Qn=0;dn.mipmask>>Qn;++Qn){var ya=An>>Qn,Ia=Nn>>Qn;if(!ya||!Ia)break;xt.texImage2D(3553,Qn,dn.format,ya,Ia,0,dn.format,dn.type,null)}return gr(),at.profile&&(dn.stats.size=x(dn.internalformat,dn.type,An,Nn,!1,!1)),$r},$r._reglType="texture2d",$r._texture=dn,at.profile&&($r.stats=dn.stats),$r.destroy=function(){dn.decRef()},$r},createCube:function(br,nn,$r,dn,Hn,Tn){function An(ya,Ia,Sr,zr,Ar,Or){var xn,_n=Nn.texInfo;for(rr.call(_n),xn=0;6>xn;++xn)Qn[xn]=Ft();if(typeof ya=="number"||!ya)for(ya=ya|0||1,xn=0;6>xn;++xn)Ge(Qn[xn],ya,ya);else if(typeof ya=="object")if(Ia)Ve(Qn[0],ya),Ve(Qn[1],Ia),Ve(Qn[2],Sr),Ve(Qn[3],zr),Ve(Qn[4],Ar),Ve(Qn[5],Or);else if(ur(_n,ya),Dt(Nn,ya),"faces"in ya)for(ya=ya.faces,xn=0;6>xn;++xn)Ct(Qn[xn],Nn),Ve(Qn[xn],ya[xn]);else for(xn=0;6>xn;++xn)Ve(Qn[xn],ya);for(Ct(Nn,Qn[0]),Nn.mipmask=_n.genMipmaps?(Qn[0].width<<1)-1:Qn[0].mipmask,Nn.internalformat=Qn[0].internalformat,An.width=Qn[0].width,An.height=Qn[0].height,hr(Nn),xn=0;6>xn;++xn)Ot(Qn[xn],34069+xn);for(ar(_n,34067),gr(),at.profile&&(Nn.stats.size=x(Nn.internalformat,Nn.type,An.width,An.height,_n.genMipmaps,!0)),An.format=Wr[Nn.internalformat],An.type=Ur[Nn.type],An.mag=an[_n.magFilter],An.min=pn[_n.minFilter],An.wrapS=gn[_n.wrapS],An.wrapT=gn[_n.wrapT],xn=0;6>xn;++xn)Kt(Qn[xn]);return An}var Nn=new Bt(34067);pa[Nn.id]=Nn,ht.cubeCount++;var Qn=Array(6);return An(br,nn,$r,dn,Hn,Tn),An.subimage=function(ya,Ia,Sr,zr,Ar){Sr|=0,zr|=0,Ar|=0;var Or=fr();return Ct(Or,Nn),Or.width=0,Or.height=0,Nt(Or,Ia),Or.width=Or.width||(Nn.width>>Ar)-Sr,Or.height=Or.height||(Nn.height>>Ar)-zr,hr(Nn),Jt(Or,34069+ya,Sr,zr,Ar),gr(),cr(Or),An},An.resize=function(ya){if(ya|=0,ya!==Nn.width){An.width=Nn.width=ya,An.height=Nn.height=ya,hr(Nn);for(var Ia=0;6>Ia;++Ia)for(var Sr=0;Nn.mipmask>>Sr;++Sr)xt.texImage2D(34069+Ia,Sr,Nn.format,ya>>Sr,ya>>Sr,0,Nn.format,Nn.type,null);return gr(),at.profile&&(Nn.stats.size=x(Nn.internalformat,Nn.type,An.width,An.height,!1,!0)),An}},An._reglType="textureCube",An._texture=Nn,at.profile&&(An.stats=Nn.stats),An.destroy=function(){Nn.decRef()},An},clear:function(){for(var br=0;br<ua;++br)xt.activeTexture(33984+br),xt.bindTexture(3553,null),na[br]=null;ye(pa).forEach(mr),ht.cubeCount=0,ht.textureCount=0},getTexture:function(br){return null},restore:function(){for(var br=0;br<ua;++br){var nn=na[br];nn&&(nn.bindCount=0,nn.unit=-1,na[br]=null)}ye(pa).forEach(function($r){$r.texture=xt.createTexture(),xt.bindTexture($r.target,$r.texture);for(var dn=0;32>dn;++dn)if(($r.mipmask&1<<dn)!==0)if($r.target===3553)xt.texImage2D(3553,dn,$r.internalformat,$r.width>>dn,$r.height>>dn,0,$r.internalformat,$r.type,null);else for(var Hn=0;6>Hn;++Hn)xt.texImage2D(34069+Hn,dn,$r.internalformat,$r.width>>dn,$r.height>>dn,0,$r.internalformat,$r.type,null);ar($r.texInfo,$r.target)})},refresh:function(){for(var br=0;br<ua;++br){var nn=na[br];nn&&(nn.bindCount=0,nn.unit=-1,na[br]=null),xt.activeTexture(33984+br),xt.bindTexture(3553,null),xt.bindTexture(34067,null)}}}}function I(xt,At,Wt,er,$t,ht){function at(Bt,hr,gr){this.target=Bt,this.texture=hr,this.renderbuffer=gr;var mr=Bt=0;hr?(Bt=hr.width,mr=hr.height):gr&&(Bt=gr.width,mr=gr.height),this.width=Bt,this.height=mr}function bt(Bt){Bt&&(Bt.texture&&Bt.texture._texture.decRef(),Bt.renderbuffer&&Bt.renderbuffer._renderbuffer.decRef())}function Ct(Bt,hr,gr){Bt&&(Bt.texture?Bt.texture._texture.refCount+=1:Bt.renderbuffer._renderbuffer.refCount+=1)}function Dt(Bt,hr){hr&&(hr.texture?xt.framebufferTexture2D(36160,Bt,hr.target,hr.texture._texture.texture,0):xt.framebufferRenderbuffer(36160,Bt,36161,hr.renderbuffer._renderbuffer.renderbuffer))}function It(Bt){var hr=3553,gr=null,mr=null,vr=Bt;return typeof Bt=="object"&&(vr=Bt.data,"target"in Bt&&(hr=Bt.target|0)),Bt=vr._reglType,Bt==="texture2d"||Bt==="textureCube"?gr=vr:Bt==="renderbuffer"&&(mr=vr,hr=36161),new at(hr,gr,mr)}function Vt(Bt,hr,gr,mr,vr){return gr?(Bt=er.create2D({width:Bt,height:hr,format:mr,type:vr}),Bt._texture.refCount=0,new at(3553,Bt,null)):(Bt=$t.create({width:Bt,height:hr,format:mr}),Bt._renderbuffer.refCount=0,new at(36161,null,Bt))}function Nt(Bt){return Bt&&(Bt.texture||Bt.renderbuffer)}function Jt(Bt,hr,gr){Bt&&(Bt.texture?Bt.texture.resize(hr,gr):Bt.renderbuffer&&Bt.renderbuffer.resize(hr,gr),Bt.width=hr,Bt.height=gr)}function fr(){this.id=ur++,ar[this.id]=this,this.framebuffer=xt.createFramebuffer(),this.height=this.width=0,this.colorAttachments=[],this.depthStencilAttachment=this.stencilAttachment=this.depthAttachment=null}function cr(Bt){Bt.colorAttachments.forEach(bt),bt(Bt.depthAttachment),bt(Bt.stencilAttachment),bt(Bt.depthStencilAttachment)}function dr(Bt){xt.deleteFramebuffer(Bt.framebuffer),Bt.framebuffer=null,ht.framebufferCount--,delete ar[Bt.id]}function Ge(Bt){var hr;xt.bindFramebuffer(36160,Bt.framebuffer);var gr=Bt.colorAttachments;for(hr=0;hr<gr.length;++hr)Dt(36064+hr,gr[hr]);for(hr=gr.length;hr<Wt.maxColorAttachments;++hr)xt.framebufferTexture2D(36160,36064+hr,3553,null,0);xt.framebufferTexture2D(36160,33306,3553,null,0),xt.framebufferTexture2D(36160,36096,3553,null,0),xt.framebufferTexture2D(36160,36128,3553,null,0),Dt(36096,Bt.depthAttachment),Dt(36128,Bt.stencilAttachment),Dt(33306,Bt.depthStencilAttachment),xt.checkFramebufferStatus(36160),xt.isContextLost(),xt.bindFramebuffer(36160,Ot.next?Ot.next.framebuffer:null),Ot.cur=Ot.next,xt.getError()}function Ve(Bt,hr){function gr(vr,Gr){var Rr,Ir=0,cn=0,rn=!0,Ln=!0;Rr=null;var En=!0,Tr="rgba",Lr="uint8",Wr=1,Ur=null,an=null,pn=null,gn=!1;typeof vr=="number"?(Ir=vr|0,cn=Gr|0||Ir):vr?("shape"in vr?(cn=vr.shape,Ir=cn[0],cn=cn[1]):("radius"in vr&&(Ir=cn=vr.radius),"width"in vr&&(Ir=vr.width),"height"in vr&&(cn=vr.height)),("color"in vr||"colors"in vr)&&(Rr=vr.color||vr.colors),Rr||("colorCount"in vr&&(Wr=vr.colorCount|0),"colorTexture"in vr&&(En=!!vr.colorTexture,Tr="rgba4"),"colorType"in vr&&(Lr=vr.colorType,!En)&&(Lr==="half float"||Lr==="float16"?Tr="rgba16f":(Lr==="float"||Lr==="float32")&&(Tr="rgba32f")),"colorFormat"in vr&&(Tr=vr.colorFormat,0<=Ft.indexOf(Tr)?En=!0:0<=Kt.indexOf(Tr)&&(En=!1))),("depthTexture"in vr||"depthStencilTexture"in vr)&&(gn=!(!vr.depthTexture&&!vr.depthStencilTexture)),"depth"in vr&&(typeof vr.depth=="boolean"?rn=vr.depth:(Ur=vr.depth,Ln=!1)),"stencil"in vr&&(typeof vr.stencil=="boolean"?Ln=vr.stencil:(an=vr.stencil,rn=!1)),"depthStencil"in vr&&(typeof vr.depthStencil=="boolean"?rn=Ln=vr.depthStencil:(pn=vr.depthStencil,Ln=rn=!1))):Ir=cn=1;var Cn=null,zn=null,aa=null,ha=null;if(Array.isArray(Rr))Cn=Rr.map(It);else if(Rr)Cn=[It(Rr)];else for(Cn=Array(Wr),Rr=0;Rr<Wr;++Rr)Cn[Rr]=Vt(Ir,cn,En,Tr,Lr);for(Ir=Ir||Cn[0].width,cn=cn||Cn[0].height,Ur?zn=It(Ur):rn&&!Ln&&(zn=Vt(Ir,cn,gn,"depth","uint32")),an?aa=It(an):Ln&&!rn&&(aa=Vt(Ir,cn,!1,"stencil","uint8")),pn?ha=It(pn):!Ur&&!an&&Ln&&rn&&(ha=Vt(Ir,cn,gn,"depth stencil","depth stencil")),rn=null,Rr=0;Rr<Cn.length;++Rr)Ct(Cn[Rr]),Cn[Rr]&&Cn[Rr].texture&&(Ln=ze[Cn[Rr].texture._texture.format]*Xe[Cn[Rr].texture._texture.type],rn===null&&(rn=Ln));return Ct(zn),Ct(aa),Ct(ha),cr(mr),mr.width=Ir,mr.height=cn,mr.colorAttachments=Cn,mr.depthAttachment=zn,mr.stencilAttachment=aa,mr.depthStencilAttachment=ha,gr.color=Cn.map(Nt),gr.depth=Nt(zn),gr.stencil=Nt(aa),gr.depthStencil=Nt(ha),gr.width=mr.width,gr.height=mr.height,Ge(mr),gr}var mr=new fr;return ht.framebufferCount++,gr(Bt,hr),ne(gr,{resize:function(vr,Gr){var Rr=Math.max(vr|0,1),Ir=Math.max(Gr|0||Rr,1);if(Rr===mr.width&&Ir===mr.height)return gr;for(var cn=mr.colorAttachments,rn=0;rn<cn.length;++rn)Jt(cn[rn],Rr,Ir);return Jt(mr.depthAttachment,Rr,Ir),Jt(mr.stencilAttachment,Rr,Ir),Jt(mr.depthStencilAttachment,Rr,Ir),mr.width=gr.width=Rr,mr.height=gr.height=Ir,Ge(mr),gr},_reglType:"framebuffer",_framebuffer:mr,destroy:function(){dr(mr),cr(mr)},use:function(vr){Ot.setFBO({framebuffer:gr},vr)}})}var Ot={cur:null,next:null,dirty:!1,setFBO:null},Ft=["rgba"],Kt=["rgba4","rgb565","rgb5 a1"];At.ext_srgb&&Kt.push("srgba"),At.ext_color_buffer_half_float&&Kt.push("rgba16f","rgb16f"),At.webgl_color_buffer_float&&Kt.push("rgba32f");var rr=["uint8"];At.oes_texture_half_float&&rr.push("half float","float16"),At.oes_texture_float&&rr.push("float","float32");var ur=0,ar={};return ne(Ot,{getFramebuffer:function(Bt){return typeof Bt=="function"&&Bt._reglType==="framebuffer"&&(Bt=Bt._framebuffer,Bt instanceof fr)?Bt:null},create:Ve,createCube:function(Bt){function hr(mr){var vr,Gr={color:null},Rr=0,Ir=null;vr="rgba";var cn="uint8",rn=1;if(typeof mr=="number"?Rr=mr|0:mr?("shape"in mr?Rr=mr.shape[0]:("radius"in mr&&(Rr=mr.radius|0),"width"in mr?Rr=mr.width|0:"height"in mr&&(Rr=mr.height|0)),("color"in mr||"colors"in mr)&&(Ir=mr.color||mr.colors),Ir||("colorCount"in mr&&(rn=mr.colorCount|0),"colorType"in mr&&(cn=mr.colorType),"colorFormat"in mr&&(vr=mr.colorFormat)),"depth"in mr&&(Gr.depth=mr.depth),"stencil"in mr&&(Gr.stencil=mr.stencil),"depthStencil"in mr&&(Gr.depthStencil=mr.depthStencil)):Rr=1,Ir)if(Array.isArray(Ir))for(mr=[],vr=0;vr<Ir.length;++vr)mr[vr]=Ir[vr];else mr=[Ir];else for(mr=Array(rn),Ir={radius:Rr,format:vr,type:cn},vr=0;vr<rn;++vr)mr[vr]=er.createCube(Ir);for(Gr.color=Array(mr.length),vr=0;vr<mr.length;++vr)rn=mr[vr],Rr=Rr||rn.width,Gr.color[vr]={target:34069,data:mr[vr]};for(vr=0;6>vr;++vr){for(rn=0;rn<mr.length;++rn)Gr.color[rn].target=34069+vr;0<vr&&(Gr.depth=gr[0].depth,Gr.stencil=gr[0].stencil,Gr.depthStencil=gr[0].depthStencil),gr[vr]?gr[vr](Gr):gr[vr]=Ve(Gr)}return ne(hr,{width:Rr,height:Rr,color:mr})}var gr=Array(6);return hr(Bt),ne(hr,{faces:gr,resize:function(mr){var vr=mr|0;if(vr===hr.width)return hr;var Gr=hr.color;for(mr=0;mr<Gr.length;++mr)Gr[mr].resize(vr);for(mr=0;6>mr;++mr)gr[mr].resize(vr);return hr.width=hr.height=vr,hr},_reglType:"framebufferCube",destroy:function(){gr.forEach(function(mr){mr.destroy()})}})},clear:function(){ye(ar).forEach(dr)},restore:function(){Ot.cur=null,Ot.next=null,Ot.dirty=!0,ye(ar).forEach(function(Bt){Bt.framebuffer=xt.createFramebuffer(),Ge(Bt)})}})}function N(){this.w=this.z=this.y=this.x=this.state=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=5126,this.divisor=this.stride=this.offset=0}function k(xt,At,Wt,er,$t,ht,at){function bt(Ge){if(Ge!==dr.currentVAO){var Ve=At.oes_vertex_array_object;Ge?Ve.bindVertexArrayOES(Ge.vao):Ve.bindVertexArrayOES(null),dr.currentVAO=Ge}}function Ct(Ge){if(Ge!==dr.currentVAO){if(Ge)Ge.bindAttrs();else{for(var Ve=At.angle_instanced_arrays,Ot=0;Ot<Jt.length;++Ot){var Ft=Jt[Ot];Ft.buffer?(xt.enableVertexAttribArray(Ot),Ft.buffer.bind(),xt.vertexAttribPointer(Ot,Ft.size,Ft.type,Ft.normalized,Ft.stride,Ft.offfset),Ve&&Ft.divisor&&Ve.vertexAttribDivisorANGLE(Ot,Ft.divisor)):(xt.disableVertexAttribArray(Ot),xt.vertexAttrib4f(Ot,Ft.x,Ft.y,Ft.z,Ft.w))}at.elements?xt.bindBuffer(34963,at.elements.buffer.buffer):xt.bindBuffer(34963,null)}dr.currentVAO=Ge}}function Dt(){ye(cr).forEach(function(Ge){Ge.destroy()})}function It(){this.id=++fr,this.attributes=[],this.elements=null,this.ownsElements=!1,this.offset=this.count=0,this.instances=-1,this.primitive=4;var Ge=At.oes_vertex_array_object;this.vao=Ge?Ge.createVertexArrayOES():null,cr[this.id]=this,this.buffers=[]}function Vt(){At.oes_vertex_array_object&&ye(cr).forEach(function(Ge){Ge.refresh()})}var Nt=Wt.maxAttributes,Jt=Array(Nt);for(Wt=0;Wt<Nt;++Wt)Jt[Wt]=new N;var fr=0,cr={},dr={Record:N,scope:{},state:Jt,currentVAO:null,targetVAO:null,restore:At.oes_vertex_array_object?Vt:function(){},createVAO:function(Ge){function Ve(Ft){var Kt;Array.isArray(Ft)?(Kt=Ft,Ot.elements&&Ot.ownsElements&&Ot.elements.destroy(),Ot.elements=null,Ot.ownsElements=!1,Ot.offset=0,Ot.count=0,Ot.instances=-1,Ot.primitive=4):(Ft.elements?(Kt=Ft.elements,Ot.ownsElements?(typeof Kt=="function"&&Kt._reglType==="elements"?Ot.elements.destroy():Ot.elements(Kt),Ot.ownsElements=!1):ht.getElements(Ft.elements)?(Ot.elements=Ft.elements,Ot.ownsElements=!1):(Ot.elements=ht.create(Ft.elements),Ot.ownsElements=!0)):(Ot.elements=null,Ot.ownsElements=!1),Kt=Ft.attributes,Ot.offset=0,Ot.count=-1,Ot.instances=-1,Ot.primitive=4,Ot.elements&&(Ot.count=Ot.elements._elements.vertCount,Ot.primitive=Ot.elements._elements.primType),"offset"in Ft&&(Ot.offset=Ft.offset|0),"count"in Ft&&(Ot.count=Ft.count|0),"instances"in Ft&&(Ot.instances=Ft.instances|0),"primitive"in Ft&&(Ot.primitive=$e[Ft.primitive])),Ft={};var rr=Ot.attributes;rr.length=Kt.length;for(var ur=0;ur<Kt.length;++ur){var ar=Kt[ur],Bt=rr[ur]=new N,hr=ar.data||ar;if(Array.isArray(hr)||Me(hr)||u(hr)){var gr;Ot.buffers[ur]&&(gr=Ot.buffers[ur],Me(hr)&&gr._buffer.byteLength>=hr.byteLength?gr.subdata(hr):(gr.destroy(),Ot.buffers[ur]=null)),Ot.buffers[ur]||(gr=Ot.buffers[ur]=$t.create(ar,34962,!1,!0)),Bt.buffer=$t.getBuffer(gr),Bt.size=Bt.buffer.dimension|0,Bt.normalized=!1,Bt.type=Bt.buffer.dtype,Bt.offset=0,Bt.stride=0,Bt.divisor=0,Bt.state=1,Ft[ur]=1}else $t.getBuffer(ar)?(Bt.buffer=$t.getBuffer(ar),Bt.size=Bt.buffer.dimension|0,Bt.normalized=!1,Bt.type=Bt.buffer.dtype,Bt.offset=0,Bt.stride=0,Bt.divisor=0,Bt.state=1):$t.getBuffer(ar.buffer)?(Bt.buffer=$t.getBuffer(ar.buffer),Bt.size=(+ar.size||Bt.buffer.dimension)|0,Bt.normalized=!!ar.normalized||!1,Bt.type="type"in ar?Be[ar.type]:Bt.buffer.dtype,Bt.offset=(ar.offset||0)|0,Bt.stride=(ar.stride||0)|0,Bt.divisor=(ar.divisor||0)|0,Bt.state=1):"x"in ar&&(Bt.x=+ar.x||0,Bt.y=+ar.y||0,Bt.z=+ar.z||0,Bt.w=+ar.w||0,Bt.state=2)}for(gr=0;gr<Ot.buffers.length;++gr)!Ft[gr]&&Ot.buffers[gr]&&(Ot.buffers[gr].destroy(),Ot.buffers[gr]=null);return Ot.refresh(),Ve}var Ot=new It;return er.vaoCount+=1,Ve.destroy=function(){for(var Ft=0;Ft<Ot.buffers.length;++Ft)Ot.buffers[Ft]&&Ot.buffers[Ft].destroy();Ot.buffers.length=0,Ot.ownsElements&&(Ot.elements.destroy(),Ot.elements=null,Ot.ownsElements=!1),Ot.destroy()},Ve._vao=Ot,Ve._reglType="vao",Ve(Ge)},getVAO:function(Ge){return typeof Ge=="function"&&Ge._vao?Ge._vao:null},destroyBuffer:function(Ge){for(var Ve=0;Ve<Jt.length;++Ve){var Ot=Jt[Ve];Ot.buffer===Ge&&(xt.disableVertexAttribArray(Ve),Ot.buffer=null)}},setVAO:At.oes_vertex_array_object?bt:Ct,clear:At.oes_vertex_array_object?Dt:function(){}};return It.prototype.bindAttrs=function(){for(var Ge=At.angle_instanced_arrays,Ve=this.attributes,Ot=0;Ot<Ve.length;++Ot){var Ft=Ve[Ot];Ft.buffer?(xt.enableVertexAttribArray(Ot),xt.bindBuffer(34962,Ft.buffer.buffer),xt.vertexAttribPointer(Ot,Ft.size,Ft.type,Ft.normalized,Ft.stride,Ft.offset),Ge&&Ft.divisor&&Ge.vertexAttribDivisorANGLE(Ot,Ft.divisor)):(xt.disableVertexAttribArray(Ot),xt.vertexAttrib4f(Ot,Ft.x,Ft.y,Ft.z,Ft.w))}for(Ge=Ve.length;Ge<Nt;++Ge)xt.disableVertexAttribArray(Ge);(Ge=ht.getElements(this.elements))?xt.bindBuffer(34963,Ge.buffer.buffer):xt.bindBuffer(34963,null)},It.prototype.refresh=function(){var Ge=At.oes_vertex_array_object;Ge&&(Ge.bindVertexArrayOES(this.vao),this.bindAttrs(),dr.currentVAO=null,Ge.bindVertexArrayOES(null))},It.prototype.destroy=function(){if(this.vao){var Ge=At.oes_vertex_array_object;this===dr.currentVAO&&(dr.currentVAO=null,Ge.bindVertexArrayOES(null)),Ge.deleteVertexArrayOES(this.vao),this.vao=null}this.ownsElements&&(this.elements.destroy(),this.elements=null,this.ownsElements=!1),cr[this.id]&&(delete cr[this.id],--er.vaoCount)},dr}function F(xt,At,Wt,er){function $t(fr,cr,dr,Ge){this.name=fr,this.id=cr,this.location=dr,this.info=Ge}function ht(fr,cr){for(var dr=0;dr<fr.length;++dr)if(fr[dr].id===cr.id){fr[dr].location=cr.location;return}fr.push(cr)}function at(fr,cr,dr){dr=fr===35632?Dt:It;var Ge=dr[cr];if(!Ge){var Ve=At.str(cr),Ge=xt.createShader(fr);xt.shaderSource(Ge,Ve),xt.compileShader(Ge),dr[cr]=Ge}return Ge}function bt(fr,cr){this.id=Jt++,this.fragId=fr,this.vertId=cr,this.program=null,this.uniforms=[],this.attributes=[],this.refCount=1,er.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function Ct(fr,cr,dr){var Ge;Ge=at(35632,fr.fragId);var Ve=at(35633,fr.vertId);if(cr=fr.program=xt.createProgram(),xt.attachShader(cr,Ge),xt.attachShader(cr,Ve),dr)for(Ge=0;Ge<dr.length;++Ge)Ve=dr[Ge],xt.bindAttribLocation(cr,Ve[0],Ve[1]);xt.linkProgram(cr),Ve=xt.getProgramParameter(cr,35718),er.profile&&(fr.stats.uniformsCount=Ve);var Ot=fr.uniforms;for(Ge=0;Ge<Ve;++Ge)if(dr=xt.getActiveUniform(cr,Ge))if(1<dr.size)for(var Ft=0;Ft<dr.size;++Ft){var Kt=dr.name.replace("[0]","["+Ft+"]");ht(Ot,new $t(Kt,At.id(Kt),xt.getUniformLocation(cr,Kt),dr))}else ht(Ot,new $t(dr.name,At.id(dr.name),xt.getUniformLocation(cr,dr.name),dr));for(Ve=xt.getProgramParameter(cr,35721),er.profile&&(fr.stats.attributesCount=Ve),fr=fr.attributes,Ge=0;Ge<Ve;++Ge)(dr=xt.getActiveAttrib(cr,Ge))&&ht(fr,new $t(dr.name,At.id(dr.name),xt.getAttribLocation(cr,dr.name),dr))}var Dt={},It={},Vt={},Nt=[],Jt=0;return er.profile&&(Wt.getMaxUniformsCount=function(){var fr=0;return Nt.forEach(function(cr){cr.stats.uniformsCount>fr&&(fr=cr.stats.uniformsCount)}),fr},Wt.getMaxAttributesCount=function(){var fr=0;return Nt.forEach(function(cr){cr.stats.attributesCount>fr&&(fr=cr.stats.attributesCount)}),fr}),{clear:function(){var fr=xt.deleteShader.bind(xt);ye(Dt).forEach(fr),Dt={},ye(It).forEach(fr),It={},Nt.forEach(function(cr){xt.deleteProgram(cr.program)}),Nt.length=0,Vt={},Wt.shaderCount=0},program:function(fr,cr,dr,Ge){var Ve=Vt[cr];Ve||(Ve=Vt[cr]={});var Ot=Ve[fr];if(Ot&&(Ot.refCount++,!Ge))return Ot;var Ft=new bt(cr,fr);return Wt.shaderCount++,Ct(Ft,dr,Ge),Ot||(Ve[fr]=Ft),Nt.push(Ft),ne(Ft,{destroy:function(){if(Ft.refCount--,0>=Ft.refCount){xt.deleteProgram(Ft.program);var Kt=Nt.indexOf(Ft);Nt.splice(Kt,1),Wt.shaderCount--}0>=Ve[Ft.vertId].refCount&&(xt.deleteShader(It[Ft.vertId]),delete It[Ft.vertId],delete Vt[Ft.fragId][Ft.vertId]),Object.keys(Vt[Ft.fragId]).length||(xt.deleteShader(Dt[Ft.fragId]),delete Dt[Ft.fragId],delete Vt[Ft.fragId])}})},restore:function(){Dt={},It={};for(var fr=0;fr<Nt.length;++fr)Ct(Nt[fr],null,Nt[fr].attributes.map(function(cr){return[cr.location,cr.name]}))},shader:at,frag:-1,vert:-1}}function O(xt,At,Wt,er,$t,ht,at){function bt(Dt){var It;It=At.next===null?5121:At.next.colorAttachments[0].texture._texture.type;var Vt=0,Nt=0,Jt=er.framebufferWidth,fr=er.framebufferHeight,cr=null;return Me(Dt)?cr=Dt:Dt&&(Vt=Dt.x|0,Nt=Dt.y|0,Jt=(Dt.width||er.framebufferWidth-Vt)|0,fr=(Dt.height||er.framebufferHeight-Nt)|0,cr=Dt.data||null),Wt(),Dt=Jt*fr*4,cr||(It===5121?cr=new Uint8Array(Dt):It===5126&&(cr=cr||new Float32Array(Dt))),xt.pixelStorei(3333,4),xt.readPixels(Vt,Nt,Jt,fr,6408,It,cr),cr}function Ct(Dt){var It;return At.setFBO({framebuffer:Dt.framebuffer},function(){It=bt(Dt)}),It}return function(Dt){return Dt&&"framebuffer"in Dt?Ct(Dt):bt(Dt)}}function z(xt){for(var At=Array(xt.length>>2),er=0;er<At.length;er++)At[er]=0;for(er=0;er<8*xt.length;er+=8)At[er>>5]|=(xt.charCodeAt(er/8)&255)<<24-er%32;var Wt=8*xt.length;xt=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225];var er=Array(64),$t,ht,at,bt,Ct,Dt,It,Vt,Nt,Jt,fr;for(At[Wt>>5]|=128<<24-Wt%32,At[(Wt+64>>9<<4)+15]=Wt,Vt=0;Vt<At.length;Vt+=16){for(Wt=xt[0],$t=xt[1],ht=xt[2],at=xt[3],bt=xt[4],Ct=xt[5],Dt=xt[6],It=xt[7],Nt=0;64>Nt;Nt++){if(16>Nt)er[Nt]=At[Nt+Vt];else{Jt=Nt,fr=er[Nt-2],fr=q(fr,17)^q(fr,19)^fr>>>10,fr=ee(fr,er[Nt-7]);var cr;cr=er[Nt-15],cr=q(cr,7)^q(cr,18)^cr>>>3,er[Jt]=ee(ee(fr,cr),er[Nt-16])}Jt=bt,Jt=q(Jt,6)^q(Jt,11)^q(Jt,25),Jt=ee(ee(ee(ee(It,Jt),bt&Ct^~bt&Dt),et[Nt]),er[Nt]),It=Wt,It=q(It,2)^q(It,13)^q(It,22),fr=ee(It,Wt&$t^Wt&ht^$t&ht),It=Dt,Dt=Ct,Ct=bt,bt=ee(at,Jt),at=ht,ht=$t,$t=Wt,Wt=ee(Jt,fr)}xt[0]=ee(Wt,xt[0]),xt[1]=ee($t,xt[1]),xt[2]=ee(ht,xt[2]),xt[3]=ee(at,xt[3]),xt[4]=ee(bt,xt[4]),xt[5]=ee(Ct,xt[5]),xt[6]=ee(Dt,xt[6]),xt[7]=ee(It,xt[7])}for(At="",er=0;er<32*xt.length;er+=8)At+=String.fromCharCode(xt[er>>5]>>>24-er%32&255);return At}function B(xt){for(var At="",Wt,er=0;er<xt.length;er++)Wt=xt.charCodeAt(er),At+="0123456789abcdef".charAt(Wt>>>4&15)+"0123456789abcdef".charAt(Wt&15);return At}function W(xt){for(var At="",Wt=-1,er,$t;++Wt<xt.length;)er=xt.charCodeAt(Wt),$t=Wt+1<xt.length?xt.charCodeAt(Wt+1):0,55296<=er&&56319>=er&&56320<=$t&&57343>=$t&&(er=65536+((er&1023)<<10)+($t&1023),Wt++),127>=er?At+=String.fromCharCode(er):2047>=er?At+=String.fromCharCode(192|er>>>6&31,128|er&63):65535>=er?At+=String.fromCharCode(224|er>>>12&15,128|er>>>6&63,128|er&63):2097151>=er&&(At+=String.fromCharCode(240|er>>>18&7,128|er>>>12&63,128|er>>>6&63,128|er&63));return At}function q(xt,At){return xt>>>At|xt<<32-At}function ee(xt,At){var Wt=(xt&65535)+(At&65535);return(xt>>16)+(At>>16)+(Wt>>16)<<16|Wt&65535}function Q(xt){return Array.prototype.slice.call(xt)}function oe(xt){return Q(xt).join("")}function Z(xt){function At(){var It=[],Vt=[];return ne(function(){It.push.apply(It,Q(arguments))},{def:function(){var Nt="v"+$t++;return Vt.push(Nt),0<arguments.length&&(It.push(Nt,"="),It.push.apply(It,Q(arguments)),It.push(";")),Nt},toString:function(){return oe([0<Vt.length?"var "+Vt.join(",")+";":"",oe(It)])}})}function Wt(){function It(cr,dr){Nt(cr,dr,"=",Vt.def(cr,dr),";")}var Vt=At(),Nt=At(),Jt=Vt.toString,fr=Nt.toString;return ne(function(){Vt.apply(Vt,Q(arguments))},{def:Vt.def,entry:Vt,exit:Nt,save:It,set:function(cr,dr,Ge){It(cr,dr),Vt(cr,dr,"=",Ge,";")},toString:function(){return Jt()+fr()}})}var er=xt&&xt.cache,$t=0,ht=[],at=[],bt=[],Ct=At(),Dt={};return{global:Ct,link:function(It,Vt){var Nt=Vt&&Vt.stable;if(!Nt){for(var Jt=0;Jt<at.length;++Jt)if(at[Jt]===It&&!bt[Jt])return ht[Jt]}return Jt="g"+$t++,ht.push(Jt),at.push(It),bt.push(Nt),Jt},block:At,proc:function(It,Vt){function Nt(){var dr="a"+Jt.length;return Jt.push(dr),dr}var Jt=[];Vt=Vt||0;for(var fr=0;fr<Vt;++fr)Nt();var fr=Wt(),cr=fr.toString;return Dt[It]=ne(fr,{arg:Nt,toString:function(){return oe(["function(",Jt.join(),"){",cr(),"}"])}})},scope:Wt,cond:function(){var It=oe(arguments),Vt=Wt(),Nt=Wt(),Jt=Vt.toString,fr=Nt.toString;return ne(Vt,{then:function(){return Vt.apply(Vt,Q(arguments)),this},else:function(){return Nt.apply(Nt,Q(arguments)),this},toString:function(){var cr=fr();return cr&&(cr="else{"+cr+"}"),oe(["if(",It,"){",Jt(),"}",cr])}})},compile:function(){var It=['"use strict";',Ct,"return {"];Object.keys(Dt).forEach(function(Jt){It.push('"',Jt,'":',Dt[Jt].toString(),",")}),It.push("}");var Vt=oe(It).replace(/;/g,`;
`).replace(/}/g,`}
`).replace(/{/g,`{
`),Nt;return er&&(Nt=B(z(W(Vt))),er[Nt])?er[Nt].apply(null,at):(Vt=Function.apply(null,ht.concat(Vt)),er&&(er[Nt]=Vt),Vt.apply(null,at))}}}function Y(xt){return Array.isArray(xt)||Me(xt)||u(xt)}function te(xt){return xt.sort(function(At,Wt){return At==="viewport"?-1:Wt==="viewport"?1:At<Wt?-1:1})}function X(xt,At,Wt,er){this.thisDep=xt,this.contextDep=At,this.propDep=Wt,this.append=er}function $(xt){return xt&&!(xt.thisDep||xt.contextDep||xt.propDep)}function ie(xt){return new X(!1,!1,!1,xt)}function J(xt,At){var Wt=xt.type;if(Wt===0)return Wt=xt.data.length,new X(!0,1<=Wt,2<=Wt,At);if(Wt===4)return Wt=xt.data,new X(Wt.thisDep,Wt.contextDep,Wt.propDep,At);if(Wt===5)return new X(!1,!1,!1,At);if(Wt===6){for(var er=Wt=!1,$t=!1,ht=0;ht<xt.data.length;++ht){var at=xt.data[ht];at.type===1?$t=!0:at.type===2?er=!0:at.type===3?Wt=!0:at.type===0?(Wt=!0,at=at.data,1<=at&&(er=!0),2<=at&&($t=!0)):at.type===4&&(Wt=Wt||at.data.thisDep,er=er||at.data.contextDep,$t=$t||at.data.propDep)}return new X(Wt,er,$t,At)}return new X(Wt===3,Wt===2,Wt===1,At)}function j(xt,At,Wt,er,$t,ht,at,bt,Ct,Dt,It,Vt,Nt,Jt,fr,cr){function dr(Sr){return Sr.replace(".","_")}function Ge(Sr,zr,Ar){var Or=dr(Sr);Tn.push(Sr),Hn[Or]=dn[Or]=!!Ar,An[Or]=zr}function Ve(Sr,zr,Ar){var Or=dr(Sr);Tn.push(Sr),Array.isArray(Ar)?(dn[Or]=Ar.slice(),Hn[Or]=Ar.slice()):dn[Or]=Hn[Or]=Ar,Nn[Or]=zr}function Ot(){var Sr=Z({cache:fr}),zr=Sr.link,Ar=Sr.global;Sr.id=Ia++,Sr.batchId="0";var Or=zr(Qn),xn=Sr.shared={props:"a0"};Object.keys(Qn).forEach(function(Zr){xn[Zr]=Ar.def(Or,".",Zr)});var _n=Sr.next={},hn=Sr.current={};Object.keys(Nn).forEach(function(Zr){Array.isArray(dn[Zr])&&(_n[Zr]=Ar.def(xn.next,".",Zr),hn[Zr]=Ar.def(xn.current,".",Zr))});var sn=Sr.constants={};Object.keys(ya).forEach(function(Zr){sn[Zr]=Ar.def(JSON.stringify(ya[Zr]))}),Sr.invoke=function(Zr,Vr){switch(Vr.type){case 0:var Qr=["this",xn.context,xn.props,Sr.batchId];return Zr.def(zr(Vr.data),".call(",Qr.slice(0,Math.max(Vr.data.length+1,4)),")");case 1:return Zr.def(xn.props,Vr.data);case 2:return Zr.def(xn.context,Vr.data);case 3:return Zr.def("this",Vr.data);case 4:return Vr.data.append(Sr,Zr),Vr.data.ref;case 5:return Vr.data.toString();case 6:return Vr.data.map(function(wn){return Sr.invoke(Zr,wn)})}},Sr.attribCache={};var Er={};return Sr.scopeAttrib=function(Zr){if(Zr=At.id(Zr),Zr in Er)return Er[Zr];var Vr=Dt.scope[Zr];return Vr||(Vr=Dt.scope[Zr]=new ua),Er[Zr]=zr(Vr)},Sr}function Ft(Sr){var zr=Sr.static;Sr=Sr.dynamic;var Ar;if("profile"in zr){var Or=!!zr.profile;Ar=ie(function(_n,hn){return Or}),Ar.enable=Or}else if("profile"in Sr){var xn=Sr.profile;Ar=J(xn,function(_n,hn){return _n.invoke(hn,xn)})}return Ar}function Kt(Sr,zr){var Ar=Sr.static,Or=Sr.dynamic;if("framebuffer"in Ar){var xn=Ar.framebuffer;return xn?(xn=bt.getFramebuffer(xn),ie(function(hn,sn){var Er=hn.link(xn),Zr=hn.shared;return sn.set(Zr.framebuffer,".next",Er),Zr=Zr.context,sn.set(Zr,".framebufferWidth",Er+".width"),sn.set(Zr,".framebufferHeight",Er+".height"),Er})):ie(function(hn,sn){var Er=hn.shared;return sn.set(Er.framebuffer,".next","null"),Er=Er.context,sn.set(Er,".framebufferWidth",Er+".drawingBufferWidth"),sn.set(Er,".framebufferHeight",Er+".drawingBufferHeight"),"null"})}if("framebuffer"in Or){var _n=Or.framebuffer;return J(_n,function(hn,sn){var Vr=hn.invoke(sn,_n),Er=hn.shared,Zr=Er.framebuffer,Vr=sn.def(Zr,".getFramebuffer(",Vr,")");return sn.set(Zr,".next",Vr),Er=Er.context,sn.set(Er,".framebufferWidth",Vr+"?"+Vr+".width:"+Er+".drawingBufferWidth"),sn.set(Er,".framebufferHeight",Vr+"?"+Vr+".height:"+Er+".drawingBufferHeight"),Vr})}return null}function rr(Sr,zr,Ar){function Or(sn){if(sn in xn){var Er=xn[sn];sn=!0;var Zr=Er.x|0,Vr=Er.y|0,Qr,wn;return"width"in Er?Qr=Er.width|0:sn=!1,"height"in Er?wn=Er.height|0:sn=!1,new X(!sn&&zr&&zr.thisDep,!sn&&zr&&zr.contextDep,!sn&&zr&&zr.propDep,function(Rn,Un){var On=Rn.shared.context,ma=Qr;"width"in Er||(ma=Un.def(On,".","framebufferWidth","-",Zr));var oa=wn;return"height"in Er||(oa=Un.def(On,".","framebufferHeight","-",Vr)),[Zr,Vr,ma,oa]})}if(sn in _n){var Pn=_n[sn];return sn=J(Pn,function(Rn,Un){var La=Rn.invoke(Un,Pn),On=Rn.shared.context,ma=Un.def(La,".x|0"),oa=Un.def(La,".y|0"),ga=Un.def('"width" in ',La,"?",La,".width|0:","(",On,".","framebufferWidth","-",ma,")"),La=Un.def('"height" in ',La,"?",La,".height|0:","(",On,".","framebufferHeight","-",oa,")");return[ma,oa,ga,La]}),zr&&(sn.thisDep=sn.thisDep||zr.thisDep,sn.contextDep=sn.contextDep||zr.contextDep,sn.propDep=sn.propDep||zr.propDep),sn}return zr?new X(zr.thisDep,zr.contextDep,zr.propDep,function(Rn,Un){var On=Rn.shared.context;return[0,0,Un.def(On,".","framebufferWidth"),Un.def(On,".","framebufferHeight")]}):null}var xn=Sr.static,_n=Sr.dynamic;if(Sr=Or("viewport")){var hn=Sr;Sr=new X(Sr.thisDep,Sr.contextDep,Sr.propDep,function(sn,Er){var Zr=hn.append(sn,Er),Vr=sn.shared.context;return Er.set(Vr,".viewportWidth",Zr[2]),Er.set(Vr,".viewportHeight",Zr[3]),Zr})}return{viewport:Sr,scissor_box:Or("scissor.box")}}function ur(Sr,zr){var Ar=Sr.static;if(typeof Ar.frag=="string"&&typeof Ar.vert=="string"){if(0<Object.keys(zr.dynamic).length)return null;var Ar=zr.static,Or=Object.keys(Ar);if(0<Or.length&&typeof Ar[Or[0]]=="number"){for(var xn=[],_n=0;_n<Or.length;++_n)xn.push([Ar[Or[_n]]|0,Or[_n]]);return xn}}return null}function ar(Sr,zr,Ar){function Or(Zr){if(Zr in xn){var Vr=At.id(xn[Zr]);return Zr=ie(function(){return Vr}),Zr.id=Vr,Zr}if(Zr in _n){var Qr=_n[Zr];return J(Qr,function(wn,Pn){var Rn=wn.invoke(Pn,Qr);return Pn.def(wn.shared.strings,".id(",Rn,")")})}return null}var xn=Sr.static,_n=Sr.dynamic,hn=Or("frag"),sn=Or("vert"),Er=null;return $(hn)&&$(sn)?(Er=It.program(sn.id,hn.id,null,Ar),Sr=ie(function(Zr,Vr){return Zr.link(Er)})):Sr=new X(hn&&hn.thisDep||sn&&sn.thisDep,hn&&hn.contextDep||sn&&sn.contextDep,hn&&hn.propDep||sn&&sn.propDep,function(Zr,Vr){var Qr=Zr.shared.shader,wn;wn=hn?hn.append(Zr,Vr):Vr.def(Qr,".","frag");var Pn;return Pn=sn?sn.append(Zr,Vr):Vr.def(Qr,".","vert"),Vr.def(Qr+".program("+Pn+","+wn+")")}),{frag:hn,vert:sn,progVar:Sr,program:Er}}function Bt(Sr,zr){function Ar(Rn,Un){if(Rn in Or){var On=Or[Rn]|0;return Un?_n.offset=On:_n.instances=On,ie(function(oa,ga){return Un&&(oa.OFFSET=On),On})}if(Rn in xn){var ma=xn[Rn];return J(ma,function(oa,ga){var La=oa.invoke(ga,ma);return Un&&(oa.OFFSET=La),La})}if(Un){if(Er)return ie(function(oa,ga){return oa.OFFSET=0});if(hn)return new X(sn.thisDep,sn.contextDep,sn.propDep,function(oa,ga){return ga.def(oa.shared.vao+".currentVAO?"+oa.shared.vao+".currentVAO.offset:0")})}else if(hn)return new X(sn.thisDep,sn.contextDep,sn.propDep,function(oa,ga){return ga.def(oa.shared.vao+".currentVAO?"+oa.shared.vao+".currentVAO.instances:-1")});return null}var Or=Sr.static,xn=Sr.dynamic,_n={},hn=!1,sn=function(){if("vao"in Or){var Rn=Or.vao;return Rn!==null&&Dt.getVAO(Rn)===null&&(Rn=Dt.createVAO(Rn)),hn=!0,_n.vao=Rn,ie(function(On){var ma=Dt.getVAO(Rn);return ma?On.link(ma):"null"})}if("vao"in xn){hn=!0;var Un=xn.vao;return J(Un,function(On,ma){var oa=On.invoke(ma,Un);return ma.def(On.shared.vao+".getVAO("+oa+")")})}return null}(),Er=!1,Zr=function(){if("elements"in Or){var Rn=Or.elements;if(_n.elements=Rn,Y(Rn)){var Un=_n.elements=ht.create(Rn,!0),Rn=ht.getElements(Un);Er=!0}else Rn&&(Rn=ht.getElements(Rn),Er=!0);return Un=ie(function(ma,oa){if(Rn){var ga=ma.link(Rn);return ma.ELEMENTS=ga}return ma.ELEMENTS=null}),Un.value=Rn,Un}if("elements"in xn){Er=!0;var On=xn.elements;return J(On,function(ma,oa){var ga=ma.shared,di=ga.isBufferArgs,ga=ga.elements,ni=ma.invoke(oa,On),La=oa.def("null"),di=oa.def(di,"(",ni,")"),ni=ma.cond(di).then(La,"=",ga,".createStream(",ni,");").else(La,"=",ga,".getElements(",ni,");");return oa.entry(ni),oa.exit(ma.cond(di).then(ga,".destroyStream(",La,");")),ma.ELEMENTS=La})}return hn?new X(sn.thisDep,sn.contextDep,sn.propDep,function(ma,oa){return oa.def(ma.shared.vao+".currentVAO?"+ma.shared.elements+".getElements("+ma.shared.vao+".currentVAO.elements):null")}):null}(),Vr=Ar("offset",!0),Qr=function(){if("primitive"in Or){var Rn=Or.primitive;return _n.primitive=Rn,ie(function(On,ma){return $e[Rn]})}if("primitive"in xn){var Un=xn.primitive;return J(Un,function(On,ma){var oa=On.constants.primTypes,ga=On.invoke(ma,Un);return ma.def(oa,"[",ga,"]")})}return Er?$(Zr)?Zr.value?ie(function(On,ma){return ma.def(On.ELEMENTS,".primType")}):ie(function(){return 4}):new X(Zr.thisDep,Zr.contextDep,Zr.propDep,function(On,ma){var oa=On.ELEMENTS;return ma.def(oa,"?",oa,".primType:",4)}):hn?new X(sn.thisDep,sn.contextDep,sn.propDep,function(On,ma){return ma.def(On.shared.vao+".currentVAO?"+On.shared.vao+".currentVAO.primitive:4")}):null}(),wn=function(){if("count"in Or){var Rn=Or.count|0;return _n.count=Rn,ie(function(){return Rn})}if("count"in xn){var Un=xn.count;return J(Un,function(On,ma){return On.invoke(ma,Un)})}return Er?$(Zr)?Zr?Vr?new X(Vr.thisDep,Vr.contextDep,Vr.propDep,function(On,ma){return ma.def(On.ELEMENTS,".vertCount-",On.OFFSET)}):ie(function(On,ma){return ma.def(On.ELEMENTS,".vertCount")}):ie(function(){return-1}):new X(Zr.thisDep||Vr.thisDep,Zr.contextDep||Vr.contextDep,Zr.propDep||Vr.propDep,function(On,ma){var oa=On.ELEMENTS;return On.OFFSET?ma.def(oa,"?",oa,".vertCount-",On.OFFSET,":-1"):ma.def(oa,"?",oa,".vertCount:-1")}):hn?new X(sn.thisDep,sn.contextDep,sn.propDep,function(On,ma){return ma.def(On.shared.vao,".currentVAO?",On.shared.vao,".currentVAO.count:-1")}):null}(),Pn=Ar("instances",!1);return{elements:Zr,primitive:Qr,count:wn,instances:Pn,offset:Vr,vao:sn,vaoActive:hn,elementsActive:Er,static:_n}}function hr(Sr,zr){var Ar=Sr.static,Or=Sr.dynamic,xn={};return Tn.forEach(function(_n){function hn(Er,Zr){if(_n in Ar){var Vr=Er(Ar[_n]);xn[sn]=ie(function(){return Vr})}else if(_n in Or){var Qr=Or[_n];xn[sn]=J(Qr,function(wn,Pn){return Zr(wn,Pn,wn.invoke(Pn,Qr))})}}var sn=dr(_n);switch(_n){case"cull.enable":case"blend.enable":case"dither":case"stencil.enable":case"depth.enable":case"scissor.enable":case"polygonOffset.enable":case"sample.alpha":case"sample.enable":case"depth.mask":return hn(function(Er){return Er},function(Er,Zr,Vr){return Vr});case"depth.func":return hn(function(Er){return jt[Er]},function(Er,Zr,Vr){return Zr.def(Er.constants.compareFuncs,"[",Vr,"]")});case"depth.range":return hn(function(Er){return Er},function(Er,Zr,Vr){return Er=Zr.def("+",Vr,"[0]"),Zr=Zr.def("+",Vr,"[1]"),[Er,Zr]});case"blend.func":return hn(function(Er){return[Zt["srcRGB"in Er?Er.srcRGB:Er.src],Zt["dstRGB"in Er?Er.dstRGB:Er.dst],Zt["srcAlpha"in Er?Er.srcAlpha:Er.src],Zt["dstAlpha"in Er?Er.dstAlpha:Er.dst]]},function(Er,Zr,Vr){function Qr(Un,On){return Zr.def('"',Un,On,'" in ',Vr,"?",Vr,".",Un,On,":",Vr,".",Un)}Er=Er.constants.blendFuncs;var wn=Qr("src","RGB"),Rn=Qr("dst","RGB"),wn=Zr.def(Er,"[",wn,"]"),Pn=Zr.def(Er,"[",Qr("src","Alpha"),"]"),Rn=Zr.def(Er,"[",Rn,"]");return Er=Zr.def(Er,"[",Qr("dst","Alpha"),"]"),[wn,Rn,Pn,Er]});case"blend.equation":return hn(function(Er){if(typeof Er=="string")return[na[Er],na[Er]];if(typeof Er=="object")return[na[Er.rgb],na[Er.alpha]]},function(Er,Zr,Vr){var Qr=Er.constants.blendEquations,wn=Zr.def(),Pn=Zr.def();return Er=Er.cond("typeof ",Vr,'==="string"'),Er.then(wn,"=",Pn,"=",Qr,"[",Vr,"];"),Er.else(wn,"=",Qr,"[",Vr,".rgb];",Pn,"=",Qr,"[",Vr,".alpha];"),Zr(Er),[wn,Pn]});case"blend.color":return hn(function(Er){return s(4,function(Zr){return+Er[Zr]})},function(Er,Zr,Vr){return s(4,function(Qr){return Zr.def("+",Vr,"[",Qr,"]")})});case"stencil.mask":return hn(function(Er){return Er|0},function(Er,Zr,Vr){return Zr.def(Vr,"|0")});case"stencil.func":return hn(function(Er){return[jt[Er.cmp||"keep"],Er.ref||0,"mask"in Er?Er.mask:-1]},function(Er,Zr,Vr){Er=Zr.def('"cmp" in ',Vr,"?",Er.constants.compareFuncs,"[",Vr,".cmp]",":",7680);var Qr=Zr.def(Vr,".ref|0");return Zr=Zr.def('"mask" in ',Vr,"?",Vr,".mask|0:-1"),[Er,Qr,Zr]});case"stencil.opFront":case"stencil.opBack":return hn(function(Er){return[_n==="stencil.opBack"?1029:1028,Tt[Er.fail||"keep"],Tt[Er.zfail||"keep"],Tt[Er.zpass||"keep"]]},function(Er,Zr,Vr){function Qr(Pn){return Zr.def('"',Pn,'" in ',Vr,"?",wn,"[",Vr,".",Pn,"]:",7680)}var wn=Er.constants.stencilOps;return[_n==="stencil.opBack"?1029:1028,Qr("fail"),Qr("zfail"),Qr("zpass")]});case"polygonOffset.offset":return hn(function(Er){return[Er.factor|0,Er.units|0]},function(Er,Zr,Vr){return Er=Zr.def(Vr,".factor|0"),Zr=Zr.def(Vr,".units|0"),[Er,Zr]});case"cull.face":return hn(function(Er){var Zr=0;return Er==="front"?Zr=1028:Er==="back"&&(Zr=1029),Zr},function(Er,Zr,Vr){return Zr.def(Vr,'==="front"?',1028,":",1029)});case"lineWidth":return hn(function(Er){return Er},function(Er,Zr,Vr){return Vr});case"frontFace":return hn(function(Er){return kt[Er]},function(Er,Zr,Vr){return Zr.def(Vr+'==="cw"?2304:2305')});case"colorMask":return hn(function(Er){return Er.map(function(Zr){return!!Zr})},function(Er,Zr,Vr){return s(4,function(Qr){return"!!"+Vr+"["+Qr+"]"})});case"sample.coverage":return hn(function(Er){return["value"in Er?Er.value:1,!!Er.invert]},function(Er,Zr,Vr){return Er=Zr.def('"value" in ',Vr,"?+",Vr,".value:1"),Zr=Zr.def("!!",Vr,".invert"),[Er,Zr]})}}),xn}function gr(Sr,zr){var Ar=Sr.static,Or=Sr.dynamic,xn={};return Object.keys(Ar).forEach(function(_n){var hn=Ar[_n],sn;if(typeof hn=="number"||typeof hn=="boolean")sn=ie(function(){return hn});else if(typeof hn=="function"){var Er=hn._reglType;Er==="texture2d"||Er==="textureCube"?sn=ie(function(Zr){return Zr.link(hn)}):(Er==="framebuffer"||Er==="framebufferCube")&&(sn=ie(function(Zr){return Zr.link(hn.color[0])}))}else w(hn)&&(sn=ie(function(Zr){return Zr.global.def("[",s(hn.length,function(Vr){return hn[Vr]}),"]")}));sn.value=hn,xn[_n]=sn}),Object.keys(Or).forEach(function(_n){var hn=Or[_n];xn[_n]=J(hn,function(sn,Er){return sn.invoke(Er,hn)})}),xn}function mr(Sr,zr){var Ar=Sr.static,Or=Sr.dynamic,xn={};return Object.keys(Ar).forEach(function(_n){var hn=Ar[_n],sn=At.id(_n),Er=new ua;if(Y(hn))Er.state=1,Er.buffer=$t.getBuffer($t.create(hn,34962,!1,!0)),Er.type=0;else{var Zr=$t.getBuffer(hn);if(Zr)Er.state=1,Er.buffer=Zr,Er.type=0;else if("constant"in hn){var Vr=hn.constant;Er.buffer="null",Er.state=2,typeof Vr=="number"?Er.x=Vr:ut.forEach(function(On,ma){ma<Vr.length&&(Er[On]=Vr[ma])})}else{var Zr=Y(hn.buffer)?$t.getBuffer($t.create(hn.buffer,34962,!1,!0)):$t.getBuffer(hn.buffer),Qr=hn.offset|0,wn=hn.stride|0,Pn=hn.size|0,Rn=!!hn.normalized,Un=0;"type"in hn&&(Un=Be[hn.type]),hn=hn.divisor|0,Er.buffer=Zr,Er.state=1,Er.size=Pn,Er.normalized=Rn,Er.type=Un||Zr.dtype,Er.offset=Qr,Er.stride=wn,Er.divisor=hn}}xn[_n]=ie(function(On,ma){var oa=On.attribCache;if(sn in oa)return oa[sn];var ga={isStream:!1};return Object.keys(Er).forEach(function(La){ga[La]=Er[La]}),Er.buffer&&(ga.buffer=On.link(Er.buffer),ga.type=ga.type||ga.buffer+".dtype"),oa[sn]=ga})}),Object.keys(Or).forEach(function(_n){var hn=Or[_n];xn[_n]=J(hn,function(sn,Er){function Zr(oa){Er(Rn[oa],"=",Vr,".",oa,"|0;")}var Vr=sn.invoke(Er,hn),Pn=sn.shared,Qr=sn.constants,wn=Pn.isBufferArgs,Pn=Pn.buffer,Rn={isStream:Er.def(!1)},Un=new ua;Un.state=1,Object.keys(Un).forEach(function(oa){Rn[oa]=Er.def(""+Un[oa])});var On=Rn.buffer,ma=Rn.type;return Er("if(",wn,"(",Vr,")){",Rn.isStream,"=true;",On,"=",Pn,".createStream(",34962,",",Vr,");",ma,"=",On,".dtype;","}else{",On,"=",Pn,".getBuffer(",Vr,");","if(",On,"){",ma,"=",On,".dtype;",'}else if("constant" in ',Vr,"){",Rn.state,"=",2,";","if(typeof "+Vr+'.constant === "number"){',Rn[ut[0]],"=",Vr,".constant;",ut.slice(1).map(function(oa){return Rn[oa]}).join("="),"=0;","}else{",ut.map(function(oa,ga){return Rn[oa]+"="+Vr+".constant.length>"+ga+"?"+Vr+".constant["+ga+"]:0;"}).join(""),"}}else{","if(",wn,"(",Vr,".buffer)){",On,"=",Pn,".createStream(",34962,",",Vr,".buffer);","}else{",On,"=",Pn,".getBuffer(",Vr,".buffer);","}",ma,'="type" in ',Vr,"?",Qr.glTypes,"[",Vr,".type]:",On,".dtype;",Rn.normalized,"=!!",Vr,".normalized;"),Zr("size"),Zr("offset"),Zr("stride"),Zr("divisor"),Er("}}"),Er.exit("if(",Rn.isStream,"){",Pn,".destroyStream(",On,");","}"),Rn})}),xn}function vr(Sr){var zr=Sr.static,Ar=Sr.dynamic,Or={};return Object.keys(zr).forEach(function(xn){var _n=zr[xn];Or[xn]=ie(function(hn,sn){return typeof _n=="number"||typeof _n=="boolean"?""+_n:hn.link(_n)})}),Object.keys(Ar).forEach(function(xn){var _n=Ar[xn];Or[xn]=J(_n,function(hn,sn){return hn.invoke(sn,_n)})}),Or}function Gr(Sr,zr,Ar,Or,xn){function _n(Un){var On=sn[Un];On&&(Zr[Un]=On)}var hn=ur(Sr,zr),wn=Kt(Sr),sn=rr(Sr,wn),Er=Bt(Sr),Zr=hr(Sr),Vr=ar(Sr,xn,hn);_n("viewport"),_n(dr("scissor.box"));var Qr=0<Object.keys(Zr).length,wn={framebuffer:wn,draw:Er,shader:Vr,state:Zr,dirty:Qr,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}};if(wn.profile=Ft(Sr),wn.uniforms=gr(Ar),wn.drawVAO=wn.scopeVAO=Er.vao,!wn.drawVAO&&Vr.program&&!hn&&Wt.angle_instanced_arrays&&Er.static.elements){var Pn=!0;if(Sr=Vr.program.attributes.map(function(Un){return Un=zr.static[Un],Pn=Pn&&!!Un,Un}),Pn&&0<Sr.length){var Rn=Dt.getVAO(Dt.createVAO({attributes:Sr,elements:Er.static.elements}));wn.drawVAO=new X(null,null,null,function(Un,On){return Un.link(Rn)}),wn.useVAO=!0}}return hn?wn.useVAO=!0:wn.attributes=mr(zr),wn.context=vr(Or),wn}function Rr(Sr,zr,Ar){var Or=Sr.shared.context,xn=Sr.scope();Object.keys(Ar).forEach(function(_n){zr.save(Or,"."+_n);var hn=Ar[_n].append(Sr,zr);Array.isArray(hn)?xn(Or,".",_n,"=[",hn.join(),"];"):xn(Or,".",_n,"=",hn,";")}),zr(xn)}function Ir(Sr,zr,Ar,Or){var sn=Sr.shared,xn=sn.gl,_n=sn.framebuffer,hn;nn&&(hn=zr.def(sn.extensions,".webgl_draw_buffers"));var Er=Sr.constants,sn=Er.drawBuffer,Er=Er.backBuffer;Sr=Ar?Ar.append(Sr,zr):zr.def(_n,".next"),Or||zr("if(",Sr,"!==",_n,".cur){"),zr("if(",Sr,"){",xn,".bindFramebuffer(",36160,",",Sr,".framebuffer);"),nn&&zr(hn,".drawBuffersWEBGL(",sn,"[",Sr,".colorAttachments.length]);"),zr("}else{",xn,".bindFramebuffer(",36160,",null);"),nn&&zr(hn,".drawBuffersWEBGL(",Er,");"),zr("}",_n,".cur=",Sr,";"),Or||zr("}")}function cn(Sr,zr,Ar){var Or=Sr.shared,xn=Or.gl,_n=Sr.current,hn=Sr.next,sn=Or.current,Er=Or.next,Zr=Sr.cond(sn,".dirty");Tn.forEach(function(Vr){if(Vr=dr(Vr),!(Vr in Ar.state)){var Qr,wn;if(Vr in hn){Qr=hn[Vr],wn=_n[Vr];var Pn=s(dn[Vr].length,function(Rn){return Zr.def(Qr,"[",Rn,"]")});Zr(Sr.cond(Pn.map(function(Rn,Un){return Rn+"!=="+wn+"["+Un+"]"}).join("||")).then(xn,".",Nn[Vr],"(",Pn,");",Pn.map(function(Rn,Un){return wn+"["+Un+"]="+Rn}).join(";"),";"))}else Qr=Zr.def(Er,".",Vr),Pn=Sr.cond(Qr,"!==",sn,".",Vr),Zr(Pn),Vr in An?Pn(Sr.cond(Qr).then(xn,".enable(",An[Vr],");").else(xn,".disable(",An[Vr],");"),sn,".",Vr,"=",Qr,";"):Pn(xn,".",Nn[Vr],"(",Qr,");",sn,".",Vr,"=",Qr,";")}}),Object.keys(Ar.state).length===0&&Zr(sn,".dirty=false;"),zr(Zr)}function rn(Sr,zr,Ar,Or){var xn=Sr.shared,_n=Sr.current,hn=xn.current,sn=xn.gl,Er;te(Object.keys(Ar)).forEach(function(Zr){var Vr=Ar[Zr];if(!Or||Or(Vr)){var Qr=Vr.append(Sr,zr);if(An[Zr]){var wn=An[Zr];$(Vr)?(Er=Sr.link(Qr,{stable:!0}),zr(Sr.cond(Er).then(sn,".enable(",wn,");").else(sn,".disable(",wn,");")),zr(hn,".",Zr,"=",Er,";")):(zr(Sr.cond(Qr).then(sn,".enable(",wn,");").else(sn,".disable(",wn,");")),zr(hn,".",Zr,"=",Qr,";"))}else if(w(Qr)){var Pn=_n[Zr];zr(sn,".",Nn[Zr],"(",Qr,");",Qr.map(function(Rn,Un){return Pn+"["+Un+"]="+Rn}).join(";"),";")}else $(Vr)?(Er=Sr.link(Qr,{stable:!0}),zr(sn,".",Nn[Zr],"(",Er,");",hn,".",Zr,"=",Er,";")):zr(sn,".",Nn[Zr],"(",Qr,");",hn,".",Zr,"=",Qr,";")}})}function Ln(Sr,zr){br&&(Sr.instancing=zr.def(Sr.shared.extensions,".angle_instanced_arrays"))}function En(Sr,zr,Ar,Or,xn){function _n(){return typeof performance=="undefined"?"Date.now()":"performance.now()"}function hn(Un){Pn=zr.def(),Un(Pn,"=",_n(),";"),typeof xn=="string"?Un(Vr,".count+=",xn,";"):Un(Vr,".count++;"),Jt&&(Or?(Rn=zr.def(),Un(Rn,"=",wn,".getNumPendingQueries();")):Un(wn,".beginQuery(",Vr,");"))}function sn(Un){Un(Vr,".cpuTime+=",_n(),"-",Pn,";"),Jt&&(Or?Un(wn,".pushScopeStats(",Rn,",",wn,".getNumPendingQueries(),",Vr,");"):Un(wn,".endQuery();"))}function Er(Un){var On=zr.def(Qr,".profile");zr(Qr,".profile=",Un,";"),zr.exit(Qr,".profile=",On,";")}var Zr=Sr.shared,Vr=Sr.stats,Qr=Zr.current,wn=Zr.timer;Ar=Ar.profile;var Pn,Rn;if(Ar){if($(Ar)){Ar.enable?(hn(zr),sn(zr.exit),Er("true")):Er("false");return}Ar=Ar.append(Sr,zr),Er(Ar)}else Ar=zr.def(Qr,".profile");Zr=Sr.block(),hn(Zr),zr("if(",Ar,"){",Zr,"}"),Sr=Sr.block(),sn(Sr),zr.exit("if(",Ar,"){",Sr,"}")}function Tr(Sr,zr,Ar,Or,xn){function _n(Er){switch(Er){case 35664:case 35667:case 35671:return 2;case 35665:case 35668:case 35672:return 3;case 35666:case 35669:case 35673:return 4;default:return 1}}function hn(Er,Zr,Vr){function Qr(){zr("if(!",Un,".buffer){",Pn,".enableVertexAttribArray(",Rn,");}");var ga=Vr.type,La;La=Vr.size?zr.def(Vr.size,"||",Zr):Zr,zr("if(",Un,".type!==",ga,"||",Un,".size!==",La,"||",oa.map(function(di){return Un+"."+di+"!=="+Vr[di]}).join("||"),"){",Pn,".bindBuffer(",34962,",",On,".buffer);",Pn,".vertexAttribPointer(",[Rn,La,ga,Vr.normalized,Vr.stride,Vr.offset],");",Un,".type=",ga,";",Un,".size=",La,";",oa.map(function(di){return Un+"."+di+"="+Vr[di]+";"}).join(""),"}"),br&&(ga=Vr.divisor,zr("if(",Un,".divisor!==",ga,"){",Sr.instancing,".vertexAttribDivisorANGLE(",[Rn,ga],");",Un,".divisor=",ga,";}"))}function wn(){zr("if(",Un,".buffer){",Pn,".disableVertexAttribArray(",Rn,");",Un,".buffer=null;","}if(",ut.map(function(ga,La){return Un+"."+ga+"!=="+ma[La]}).join("||"),"){",Pn,".vertexAttrib4f(",Rn,",",ma,");",ut.map(function(ga,La){return Un+"."+ga+"="+ma[La]+";"}).join(""),"}")}var Pn=sn.gl,Rn=zr.def(Er,".location"),Un=zr.def(sn.attributes,"[",Rn,"]");Er=Vr.state;var On=Vr.buffer,ma=[Vr.x,Vr.y,Vr.z,Vr.w],oa=["buffer","normalized","offset","stride"];Er===1?Qr():Er===2?wn():(zr("if(",Er,"===",1,"){"),Qr(),zr("}else{"),wn(),zr("}"))}var sn=Sr.shared;Or.forEach(function(Er){var Zr=Er.name,Vr=Ar.attributes[Zr],Qr;if(Vr){if(!xn(Vr))return;Qr=Vr.append(Sr,zr)}else{if(!xn(Qt))return;var wn=Sr.scopeAttrib(Zr);Qr={},Object.keys(new ua).forEach(function(Pn){Qr[Pn]=zr.def(wn,".",Pn)})}hn(Sr.link(Er),_n(Er.info.type),Qr)})}function Lr(Sr,zr,Ar,Or,xn,_n){for(var hn=Sr.shared,sn=hn.gl,Er,Zr=0;Zr<Or.length;++Zr){var Pn=Or[Zr],Vr=Pn.name,Qr=Pn.info.type,wn=Ar.uniforms[Vr],Pn=Sr.link(Pn)+".location",Rn;if(wn){if(!xn(wn))continue;if($(wn)){if(Vr=wn.value,Qr===35678||Qr===35680)Qr=Sr.link(Vr._texture||Vr.color[0]._texture),zr(sn,".uniform1i(",Pn,",",Qr+".bind());"),zr.exit(Qr,".unbind();");else if(Qr===35674||Qr===35675||Qr===35676)Vr=Sr.global.def("new Float32Array(["+Array.prototype.slice.call(Vr)+"])"),wn=2,Qr===35675?wn=3:Qr===35676&&(wn=4),zr(sn,".uniformMatrix",wn,"fv(",Pn,",false,",Vr,");");else{switch(Qr){case 5126:Er="1f";break;case 35664:Er="2f";break;case 35665:Er="3f";break;case 35666:Er="4f";break;case 35670:Er="1i";break;case 5124:Er="1i";break;case 35671:Er="2i";break;case 35667:Er="2i";break;case 35672:Er="3i";break;case 35668:Er="3i";break;case 35673:Er="4i";break;case 35669:Er="4i"}zr(sn,".uniform",Er,"(",Pn,",",w(Vr)?Array.prototype.slice.call(Vr):Vr,");")}continue}else Rn=wn.append(Sr,zr)}else{if(!xn(Qt))continue;Rn=zr.def(hn.uniforms,"[",At.id(Vr),"]")}switch(Qr===35678?zr("if(",Rn,"&&",Rn,'._reglType==="framebuffer"){',Rn,"=",Rn,".color[0];","}"):Qr===35680&&zr("if(",Rn,"&&",Rn,'._reglType==="framebufferCube"){',Rn,"=",Rn,".color[0];","}"),Vr=1,Qr){case 35678:case 35680:Qr=zr.def(Rn,"._texture"),zr(sn,".uniform1i(",Pn,",",Qr,".bind());"),zr.exit(Qr,".unbind();");continue;case 5124:case 35670:Er="1i";break;case 35667:case 35671:Er="2i",Vr=2;break;case 35668:case 35672:Er="3i",Vr=3;break;case 35669:case 35673:Er="4i",Vr=4;break;case 5126:Er="1f";break;case 35664:Er="2f",Vr=2;break;case 35665:Er="3f",Vr=3;break;case 35666:Er="4f",Vr=4;break;case 35674:Er="Matrix2fv";break;case 35675:Er="Matrix3fv";break;case 35676:Er="Matrix4fv"}if(Er.charAt(0)==="M"){zr(sn,".uniform",Er,"(",Pn,",");var Pn=Math.pow(Qr-35674+2,2),Un=Sr.global.def("new Float32Array(",Pn,")");Array.isArray(Rn)?zr("false,(",s(Pn,function(oa){return Un+"["+oa+"]="+Rn[oa]}),",",Un,")"):zr("false,(Array.isArray(",Rn,")||",Rn," instanceof Float32Array)?",Rn,":(",s(Pn,function(oa){return Un+"["+oa+"]="+Rn+"["+oa+"]"}),",",Un,")"),zr(");")}else{if(1<Vr){for(var Qr=[],On=[],wn=0;wn<Vr;++wn)Array.isArray(Rn)?On.push(Rn[wn]):On.push(zr.def(Rn+"["+wn+"]")),_n&&Qr.push(zr.def());_n&&zr("if(!",Sr.batchId,"||",Qr.map(function(ma,oa){return ma+"!=="+On[oa]}).join("||"),"){",Qr.map(function(ma,oa){return ma+"="+On[oa]+";"}).join("")),zr(sn,".uniform",Er,"(",Pn,",",On.join(","),");")}else _n&&(Qr=zr.def(),zr("if(!",Sr.batchId,"||",Qr,"!==",Rn,"){",Qr,"=",Rn,";")),zr(sn,".uniform",Er,"(",Pn,",",Rn,");");_n&&zr("}")}}}function Wr(Sr,zr,Ar,Or){function xn(ga){var La=Vr[ga];return La?La.contextDep&&Or.contextDynamic||La.propDep?La.append(Sr,Ar):La.append(Sr,zr):zr.def(Zr,".",ga)}function _n(){function ga(){Ar(On,".drawElementsInstancedANGLE(",[wn,Rn,ma,Pn+"<<(("+ma+"-5121)>>1)",Un],");")}function La(){Ar(On,".drawArraysInstancedANGLE(",[wn,Pn,Rn,Un],");")}Qr&&Qr!=="null"?oa?ga():(Ar("if(",Qr,"){"),ga(),Ar("}else{"),La(),Ar("}")):La()}function hn(){function ga(){Ar(Er+".drawElements("+[wn,Rn,ma,Pn+"<<(("+ma+"-5121)>>1)"]+");")}function La(){Ar(Er+".drawArrays("+[wn,Pn,Rn]+");")}Qr&&Qr!=="null"?oa?ga():(Ar("if(",Qr,"){"),ga(),Ar("}else{"),La(),Ar("}")):La()}var sn=Sr.shared,Er=sn.gl,Zr=sn.draw,Vr=Or.draw,Qr=function(){var ga=Vr.elements,La=zr;return ga?((ga.contextDep&&Or.contextDynamic||ga.propDep)&&(La=Ar),ga=ga.append(Sr,La),Vr.elementsActive&&La("if("+ga+")"+Er+".bindBuffer(34963,"+ga+".buffer.buffer);")):(ga=La.def(),La(ga,"=",Zr,".","elements",";","if(",ga,"){",Er,".bindBuffer(",34963,",",ga,".buffer.buffer);}","else if(",sn.vao,".currentVAO){",ga,"=",Sr.shared.elements+".getElements("+sn.vao,".currentVAO.elements);",$r?"":"if("+ga+")"+Er+".bindBuffer(34963,"+ga+".buffer.buffer);","}")),ga}(),wn=xn("primitive"),Pn=xn("offset"),Rn=function(){var ga=Vr.count,La=zr;return ga?((ga.contextDep&&Or.contextDynamic||ga.propDep)&&(La=Ar),ga=ga.append(Sr,La)):ga=La.def(Zr,".","count"),ga}();if(typeof Rn=="number"){if(Rn===0)return}else Ar("if(",Rn,"){"),Ar.exit("}");var Un,On;br&&(Un=xn("instances"),On=Sr.instancing);var ma=Qr+".type",oa=Vr.elements&&$(Vr.elements)&&!Vr.vaoActive;br&&(typeof Un!="number"||0<=Un)?typeof Un=="string"?(Ar("if(",Un,">0){"),_n(),Ar("}else if(",Un,"<0){"),hn(),Ar("}")):_n():hn()}function Ur(Sr,zr,Ar,Or,xn){return zr=Ot(),xn=zr.proc("body",xn),br&&(zr.instancing=xn.def(zr.shared.extensions,".angle_instanced_arrays")),Sr(zr,xn,Ar,Or),zr.compile().body}function an(Sr,zr,Ar,Or){Ln(Sr,zr),Ar.useVAO?Ar.drawVAO?zr(Sr.shared.vao,".setVAO(",Ar.drawVAO.append(Sr,zr),");"):zr(Sr.shared.vao,".setVAO(",Sr.shared.vao,".targetVAO);"):(zr(Sr.shared.vao,".setVAO(null);"),Tr(Sr,zr,Ar,Or.attributes,function(){return!0})),Lr(Sr,zr,Ar,Or.uniforms,function(){return!0},!1),Wr(Sr,zr,zr,Ar)}function pn(Sr,zr){var Ar=Sr.proc("draw",1);Ln(Sr,Ar),Rr(Sr,Ar,zr.context),Ir(Sr,Ar,zr.framebuffer),cn(Sr,Ar,zr),rn(Sr,Ar,zr.state),En(Sr,Ar,zr,!1,!0);var Or=zr.shader.progVar.append(Sr,Ar);if(Ar(Sr.shared.gl,".useProgram(",Or,".program);"),zr.shader.program)an(Sr,Ar,zr,zr.shader.program);else{Ar(Sr.shared.vao,".setVAO(null);");var xn=Sr.global.def("{}"),_n=Ar.def(Or,".id"),hn=Ar.def(xn,"[",_n,"]");Ar(Sr.cond(hn).then(hn,".call(this,a0);").else(hn,"=",xn,"[",_n,"]=",Sr.link(function(sn){return Ur(an,Sr,zr,sn,1)}),"(",Or,");",hn,".call(this,a0);"))}0<Object.keys(zr.state).length&&Ar(Sr.shared.current,".dirty=true;"),Sr.shared.vao&&Ar(Sr.shared.vao,".setVAO(null);")}function gn(Sr,zr,Ar,Or){function xn(){return!0}Sr.batchId="a1",Ln(Sr,zr),Tr(Sr,zr,Ar,Or.attributes,xn),Lr(Sr,zr,Ar,Or.uniforms,xn,!1),Wr(Sr,zr,zr,Ar)}function Cn(Sr,zr,Ar,Or){function xn(Qr){return Qr.contextDep&&hn||Qr.propDep}function _n(Qr){return!xn(Qr)}Ln(Sr,zr);var hn=Ar.contextDep,sn=zr.def(),Er=zr.def();Sr.shared.props=Er,Sr.batchId=sn;var Zr=Sr.scope(),Vr=Sr.scope();zr(Zr.entry,"for(",sn,"=0;",sn,"<","a1",";++",sn,"){",Er,"=","a0","[",sn,"];",Vr,"}",Zr.exit),Ar.needsContext&&Rr(Sr,Vr,Ar.context),Ar.needsFramebuffer&&Ir(Sr,Vr,Ar.framebuffer),rn(Sr,Vr,Ar.state,xn),Ar.profile&&xn(Ar.profile)&&En(Sr,Vr,Ar,!1,!0),Or?(Ar.useVAO?Ar.drawVAO?xn(Ar.drawVAO)?Vr(Sr.shared.vao,".setVAO(",Ar.drawVAO.append(Sr,Vr),");"):Zr(Sr.shared.vao,".setVAO(",Ar.drawVAO.append(Sr,Zr),");"):Zr(Sr.shared.vao,".setVAO(",Sr.shared.vao,".targetVAO);"):(Zr(Sr.shared.vao,".setVAO(null);"),Tr(Sr,Zr,Ar,Or.attributes,_n),Tr(Sr,Vr,Ar,Or.attributes,xn)),Lr(Sr,Zr,Ar,Or.uniforms,_n,!1),Lr(Sr,Vr,Ar,Or.uniforms,xn,!0),Wr(Sr,Zr,Vr,Ar)):(zr=Sr.global.def("{}"),Or=Ar.shader.progVar.append(Sr,Vr),Er=Vr.def(Or,".id"),Zr=Vr.def(zr,"[",Er,"]"),Vr(Sr.shared.gl,".useProgram(",Or,".program);","if(!",Zr,"){",Zr,"=",zr,"[",Er,"]=",Sr.link(function(Qr){return Ur(gn,Sr,Ar,Qr,2)}),"(",Or,");}",Zr,".call(this,a0[",sn,"],",sn,");"))}function zn(Sr,zr){function Ar(Zr){return Zr.contextDep&&xn||Zr.propDep}var Or=Sr.proc("batch",2);Sr.batchId="0",Ln(Sr,Or);var xn=!1,_n=!0;Object.keys(zr.context).forEach(function(Zr){xn=xn||zr.context[Zr].propDep}),xn||(Rr(Sr,Or,zr.context),_n=!1);var hn=zr.framebuffer,sn=!1;if(hn?(hn.propDep?xn=sn=!0:hn.contextDep&&xn&&(sn=!0),sn||Ir(Sr,Or,hn)):Ir(Sr,Or,null),zr.state.viewport&&zr.state.viewport.propDep&&(xn=!0),cn(Sr,Or,zr),rn(Sr,Or,zr.state,function(Zr){return!Ar(Zr)}),zr.profile&&Ar(zr.profile)||En(Sr,Or,zr,!1,"a1"),zr.contextDep=xn,zr.needsContext=_n,zr.needsFramebuffer=sn,_n=zr.shader.progVar,_n.contextDep&&xn||_n.propDep)Cn(Sr,Or,zr,null);else if(_n=_n.append(Sr,Or),Or(Sr.shared.gl,".useProgram(",_n,".program);"),zr.shader.program)Cn(Sr,Or,zr,zr.shader.program);else{Or(Sr.shared.vao,".setVAO(null);");var hn=Sr.global.def("{}"),sn=Or.def(_n,".id"),Er=Or.def(hn,"[",sn,"]");Or(Sr.cond(Er).then(Er,".call(this,a0,a1);").else(Er,"=",hn,"[",sn,"]=",Sr.link(function(Qr){return Ur(Cn,Sr,zr,Qr,2)}),"(",_n,");",Er,".call(this,a0,a1);"))}0<Object.keys(zr.state).length&&Or(Sr.shared.current,".dirty=true;"),Sr.shared.vao&&Or(Sr.shared.vao,".setVAO(null);")}function aa(Sr,zr){function Ar(sn){var Er=zr.shader[sn];Er&&(Er=Er.append(Sr,Or),isNaN(Er)?Or.set(xn.shader,"."+sn,Er):Or.set(xn.shader,"."+sn,Sr.link(Er,{stable:!0})))}var Or=Sr.proc("scope",3);Sr.batchId="a2";var xn=Sr.shared,_n=xn.current;if(Rr(Sr,Or,zr.context),zr.framebuffer&&zr.framebuffer.append(Sr,Or),te(Object.keys(zr.state)).forEach(function(sn){var Er=zr.state[sn],Zr=Er.append(Sr,Or);w(Zr)?Zr.forEach(function(Vr,Qr){isNaN(Vr)?Or.set(Sr.next[sn],"["+Qr+"]",Vr):Or.set(Sr.next[sn],"["+Qr+"]",Sr.link(Vr,{stable:!0}))}):$(Er)?Or.set(xn.next,"."+sn,Sr.link(Zr,{stable:!0})):Or.set(xn.next,"."+sn,Zr)}),En(Sr,Or,zr,!0,!0),["elements","offset","count","instances","primitive"].forEach(function(sn){var Er=zr.draw[sn];Er&&(Er=Er.append(Sr,Or),isNaN(Er)?Or.set(xn.draw,"."+sn,Er):Or.set(xn.draw,"."+sn,Sr.link(Er),{stable:!0}))}),Object.keys(zr.uniforms).forEach(function(sn){var Er=zr.uniforms[sn].append(Sr,Or);Array.isArray(Er)&&(Er="["+Er.map(function(Zr){return isNaN(Zr)?Zr:Sr.link(Zr,{stable:!0})})+"]"),Or.set(xn.uniforms,"["+Sr.link(At.id(sn),{stable:!0})+"]",Er)}),Object.keys(zr.attributes).forEach(function(sn){var Er=zr.attributes[sn].append(Sr,Or),Zr=Sr.scopeAttrib(sn);Object.keys(new ua).forEach(function(Vr){Or.set(Zr,"."+Vr,Er[Vr])})}),zr.scopeVAO){var hn=zr.scopeVAO.append(Sr,Or);isNaN(hn)?Or.set(xn.vao,".targetVAO",hn):Or.set(xn.vao,".targetVAO",Sr.link(hn,{stable:!0}))}Ar("vert"),Ar("frag"),0<Object.keys(zr.state).length&&(Or(_n,".dirty=true;"),Or.exit(_n,".dirty=true;")),Or("a1(",Sr.shared.context,",a0,",Sr.batchId,");")}function ha(Sr){if(typeof Sr=="object"&&!w(Sr)){for(var zr=Object.keys(Sr),Ar=0;Ar<zr.length;++Ar)if(pe.isDynamic(Sr[zr[Ar]]))return!0;return!1}}function pa(Sr,zr,Ar){function Or(Qr,wn){hn.forEach(function(Pn){var Rn=xn[Pn];pe.isDynamic(Rn)&&(Rn=Qr.invoke(wn,Rn),wn(Vr,".",Pn,"=",Rn,";"))})}var xn=zr.static[Ar];if(xn&&ha(xn)){var _n=Sr.global,hn=Object.keys(xn),sn=!1,Er=!1,Zr=!1,Vr=Sr.global.def("{}");hn.forEach(function(Qr){var wn=xn[Qr];if(pe.isDynamic(wn))typeof wn=="function"&&(wn=xn[Qr]=pe.unbox(wn)),Qr=J(wn,null),sn=sn||Qr.thisDep,Zr=Zr||Qr.propDep,Er=Er||Qr.contextDep;else{switch(_n(Vr,".",Qr,"="),typeof wn){case"number":_n(wn);break;case"string":_n('"',wn,'"');break;case"object":Array.isArray(wn)&&_n("[",wn.join(),"]");break;default:_n(Sr.link(wn))}_n(";")}}),zr.dynamic[Ar]=new pe.DynamicVariable(4,{thisDep:sn,contextDep:Er,propDep:Zr,ref:Vr,append:Or}),delete zr.static[Ar]}}var ua=Dt.Record,na={add:32774,subtract:32778,"reverse subtract":32779};Wt.ext_blend_minmax&&(na.min=32775,na.max=32776);var br=Wt.angle_instanced_arrays,nn=Wt.webgl_draw_buffers,$r=Wt.oes_vertex_array_object,dn={dirty:!0,profile:cr.profile},Hn={},Tn=[],An={},Nn={};Ge("dither",3024),Ge("blend.enable",3042),Ve("blend.color","blendColor",[0,0,0,0]),Ve("blend.equation","blendEquationSeparate",[32774,32774]),Ve("blend.func","blendFuncSeparate",[1,0,1,0]),Ge("depth.enable",2929,!0),Ve("depth.func","depthFunc",513),Ve("depth.range","depthRange",[0,1]),Ve("depth.mask","depthMask",!0),Ve("colorMask","colorMask",[!0,!0,!0,!0]),Ge("cull.enable",2884),Ve("cull.face","cullFace",1029),Ve("frontFace","frontFace",2305),Ve("lineWidth","lineWidth",1),Ge("polygonOffset.enable",32823),Ve("polygonOffset.offset","polygonOffset",[0,0]),Ge("sample.alpha",32926),Ge("sample.enable",32928),Ve("sample.coverage","sampleCoverage",[1,!1]),Ge("stencil.enable",2960),Ve("stencil.mask","stencilMask",-1),Ve("stencil.func","stencilFunc",[519,0,-1]),Ve("stencil.opFront","stencilOpSeparate",[1028,7680,7680,7680]),Ve("stencil.opBack","stencilOpSeparate",[1029,7680,7680,7680]),Ge("scissor.enable",3089),Ve("scissor.box","scissor",[0,0,xt.drawingBufferWidth,xt.drawingBufferHeight]),Ve("viewport","viewport",[0,0,xt.drawingBufferWidth,xt.drawingBufferHeight]);var Qn={gl:xt,context:Nt,strings:At,next:Hn,current:dn,draw:Vt,elements:ht,buffer:$t,shader:It,attributes:Dt.state,vao:Dt,uniforms:Ct,framebuffer:bt,extensions:Wt,timer:Jt,isBufferArgs:Y},ya={primTypes:$e,compareFuncs:jt,blendFuncs:Zt,blendEquations:na,stencilOps:Tt,glTypes:Be,orientationType:kt};nn&&(ya.backBuffer=[1029],ya.drawBuffer=s(er.maxDrawbuffers,function(Sr){return Sr===0?[0]:s(Sr,function(zr){return 36064+zr})}));var Ia=0;return{next:Hn,current:dn,procs:function(){var Sr=Ot(),zr=Sr.proc("poll"),Ar=Sr.proc("refresh"),Or=Sr.block();zr(Or),Ar(Or);var Er=Sr.shared,xn=Er.gl,_n=Er.next,hn=Er.current;Or(hn,".dirty=false;"),Ir(Sr,zr),Ir(Sr,Ar,null,!0);var sn;br&&(sn=Sr.link(br)),Wt.oes_vertex_array_object&&Ar(Sr.link(Wt.oes_vertex_array_object),".bindVertexArrayOES(null);");var Er=Ar.def(Er.attributes),Zr=Ar.def(0),Vr=Sr.cond(Zr,".buffer");Vr.then(xn,".enableVertexAttribArray(i);",xn,".bindBuffer(",34962,",",Zr,".buffer.buffer);",xn,".vertexAttribPointer(i,",Zr,".size,",Zr,".type,",Zr,".normalized,",Zr,".stride,",Zr,".offset);").else(xn,".disableVertexAttribArray(i);",xn,".vertexAttrib4f(i,",Zr,".x,",Zr,".y,",Zr,".z,",Zr,".w);",Zr,".buffer=null;");var Qr=Sr.link(er.maxAttributes,{stable:!0});return Ar("for(var i=0;i<",Qr,";++i){",Zr,"=",Er,"[i];",Vr,"}"),br&&Ar("for(var i=0;i<",Qr,";++i){",sn,".vertexAttribDivisorANGLE(i,",Er,"[i].divisor);","}"),Ar(Sr.shared.vao,".currentVAO=null;",Sr.shared.vao,".setVAO(",Sr.shared.vao,".targetVAO);"),Object.keys(An).forEach(function(wn){var Pn=An[wn],Rn=Or.def(_n,".",wn),Un=Sr.block();Un("if(",Rn,"){",xn,".enable(",Pn,")}else{",xn,".disable(",Pn,")}",hn,".",wn,"=",Rn,";"),Ar(Un),zr("if(",Rn,"!==",hn,".",wn,"){",Un,"}")}),Object.keys(Nn).forEach(function(wn){var Pn=Nn[wn],Rn=dn[wn],Un,On,ma=Sr.block();ma(xn,".",Pn,"("),w(Rn)?(Pn=Rn.length,Un=Sr.global.def(_n,".",wn),On=Sr.global.def(hn,".",wn),ma(s(Pn,function(oa){return Un+"["+oa+"]"}),");",s(Pn,function(oa){return On+"["+oa+"]="+Un+"["+oa+"];"}).join("")),zr("if(",s(Pn,function(oa){return Un+"["+oa+"]!=="+On+"["+oa+"]"}).join("||"),"){",ma,"}")):(Un=Or.def(_n,".",wn),On=Or.def(hn,".",wn),ma(Un,");",hn,".",wn,"=",Un,";"),zr("if(",Un,"!==",On,"){",ma,"}")),Ar(ma)}),Sr.compile()}(),compile:function(Sr,zr,Ar,Or,xn){var _n=Ot();_n.stats=_n.link(xn),Object.keys(zr.static).forEach(function(sn){pa(_n,zr,sn)}),dt.forEach(function(sn){pa(_n,Sr,sn)});var hn=Gr(Sr,zr,Ar,Or,_n);return hn.shader.program&&(hn.shader.program.attributes.sort(function(sn,Er){return sn.name<Er.name?-1:1}),hn.shader.program.uniforms.sort(function(sn,Er){return sn.name<Er.name?-1:1})),pn(_n,hn),aa(_n,hn),zn(_n,hn),ne(_n.compile(),{destroy:function(){hn.shader.program.destroy()}})}}}function se(xt,At){for(var Wt=0;Wt<xt.length;++Wt)if(xt[Wt]===At)return Wt;return-1}var ne=function(xt,At){for(var Wt=Object.keys(At),er=0;er<Wt.length;++er)xt[Wt[er]]=At[Wt[er]];return xt},le=0,pe={DynamicVariable:U,define:function(xt,At){return new U(xt,g(At+""))},isDynamic:function(xt){return typeof xt=="function"&&!xt._reglType||xt instanceof U},unbox:L,accessor:g},Ae={next:typeof requestAnimationFrame=="function"?function(xt){return requestAnimationFrame(xt)}:function(xt){return setTimeout(xt,16)},cancel:typeof cancelAnimationFrame=="function"?function(xt){return cancelAnimationFrame(xt)}:clearTimeout},be=typeof performance!="undefined"&&performance.now?function(){return performance.now()}:function(){return+new Date},Re=f();Re.zero=f();var xe=function(xt,At){var Wt=1;At.ext_texture_filter_anisotropic&&(Wt=xt.getParameter(34047));var er=1,$t=1;At.webgl_draw_buffers&&(er=xt.getParameter(34852),$t=xt.getParameter(36063));var ht=!!At.oes_texture_float;if(ht){ht=xt.createTexture(),xt.bindTexture(3553,ht),xt.texImage2D(3553,0,6408,1,1,0,6408,5126,null);var at=xt.createFramebuffer();if(xt.bindFramebuffer(36160,at),xt.framebufferTexture2D(36160,36064,3553,ht,0),xt.bindTexture(3553,null),xt.checkFramebufferStatus(36160)!==36053)ht=!1;else{xt.viewport(0,0,1,1),xt.clearColor(1,0,0,1),xt.clear(16384);var bt=Re.allocType(5126,4);xt.readPixels(0,0,1,1,6408,5126,bt),xt.getError()?ht=!1:(xt.deleteFramebuffer(at),xt.deleteTexture(ht),ht=bt[0]===1),Re.freeType(bt)}}return bt=!0,typeof navigator!="undefined"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent))||(bt=xt.createTexture(),at=Re.allocType(5121,36),xt.activeTexture(33984),xt.bindTexture(34067,bt),xt.texImage2D(34069,0,6408,3,3,0,6408,5121,at),Re.freeType(at),xt.bindTexture(34067,null),xt.deleteTexture(bt),bt=!xt.getError()),{colorBits:[xt.getParameter(3410),xt.getParameter(3411),xt.getParameter(3412),xt.getParameter(3413)],depthBits:xt.getParameter(3414),stencilBits:xt.getParameter(3415),subpixelBits:xt.getParameter(3408),extensions:Object.keys(At).filter(function(Ct){return!!At[Ct]}),maxAnisotropic:Wt,maxDrawbuffers:er,maxColorAttachments:$t,pointSizeDims:xt.getParameter(33901),lineWidthDims:xt.getParameter(33902),maxViewportDims:xt.getParameter(3386),maxCombinedTextureUnits:xt.getParameter(35661),maxCubeMapSize:xt.getParameter(34076),maxRenderbufferSize:xt.getParameter(34024),maxTextureUnits:xt.getParameter(34930),maxTextureSize:xt.getParameter(3379),maxAttributes:xt.getParameter(34921),maxVertexUniforms:xt.getParameter(36347),maxVertexTextureUnits:xt.getParameter(35660),maxVaryingVectors:xt.getParameter(36348),maxFragmentUniforms:xt.getParameter(36349),glsl:xt.getParameter(35724),renderer:xt.getParameter(7937),vendor:xt.getParameter(7936),version:xt.getParameter(7938),readFloat:ht,npotTextureCube:bt}},Me=function(xt){return xt instanceof Uint8Array||xt instanceof Uint16Array||xt instanceof Uint32Array||xt instanceof Int8Array||xt instanceof Int16Array||xt instanceof Int32Array||xt instanceof Float32Array||xt instanceof Float64Array||xt instanceof Uint8ClampedArray},ye=function(xt){return Object.keys(xt).map(function(At){return xt[At]})},Se={shape:function(xt){for(var At=[];xt.length;xt=xt[0])At.push(xt.length);return At},flatten:function(xt,At,Wt,er){var $t=1;if(At.length)for(var ht=0;ht<At.length;++ht)$t*=At[ht];else $t=0;switch(Wt=er||Re.allocType(Wt,$t),At.length){case 0:break;case 1:for(er=At[0],At=0;At<er;++At)Wt[At]=xt[At];break;case 2:for(er=At[0],At=At[1],ht=$t=0;ht<er;++ht)for(var at=xt[ht],bt=0;bt<At;++bt)Wt[$t++]=at[bt];break;case 3:l(xt,At[0],At[1],At[2],Wt,0);break;default:m(xt,At,0,Wt,0)}return Wt}},Fe={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},Be={int8:5120,int16:5122,int32:5124,uint8:5121,uint16:5123,uint32:5125,float:5126,float32:5126},_e={dynamic:35048,stream:35040,static:35044},Ue=Se.flatten,it=Se.shape,lt=[];lt[5120]=1,lt[5122]=2,lt[5124]=4,lt[5121]=1,lt[5123]=2,lt[5125]=4,lt[5126]=4;var $e={points:0,point:0,lines:1,line:1,triangles:4,triangle:4,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},qe=new Float32Array(1),ft=new Uint32Array(qe.buffer),ct=[9984,9986,9985,9987],pt=[0,6409,6410,6407,6408],yt={};yt[6409]=yt[6406]=yt[6402]=1,yt[34041]=yt[6410]=2,yt[6407]=yt[35904]=3,yt[6408]=yt[35906]=4;var Et=E("HTMLCanvasElement"),tt=E("OffscreenCanvas"),Ie=E("CanvasRenderingContext2D"),We=E("ImageBitmap"),Ze=E("HTMLImageElement"),He=E("HTMLVideoElement"),De=Object.keys(Fe).concat([Et,tt,Ie,We,Ze,He]),me=[];me[5121]=1,me[5126]=4,me[36193]=2,me[5123]=2,me[5125]=4;var ge=[];ge[32854]=2,ge[32855]=2,ge[36194]=2,ge[34041]=4,ge[33776]=.5,ge[33777]=.5,ge[33778]=1,ge[33779]=1,ge[35986]=.5,ge[35987]=1,ge[34798]=1,ge[35840]=.5,ge[35841]=.25,ge[35842]=.5,ge[35843]=.25,ge[36196]=.5;var Ee=[];Ee[32854]=2,Ee[32855]=2,Ee[36194]=2,Ee[33189]=2,Ee[36168]=1,Ee[34041]=4,Ee[35907]=4,Ee[34836]=16,Ee[34842]=8,Ee[34843]=6;var Te=function(xt,At,Wt,er,$t){function ht(Vt){this.id=Dt++,this.refCount=1,this.renderbuffer=Vt,this.format=32854,this.height=this.width=0,$t.profile&&(this.stats={size:0})}function at(Vt){var Nt=Vt.renderbuffer;xt.bindRenderbuffer(36161,null),xt.deleteRenderbuffer(Nt),Vt.renderbuffer=null,Vt.refCount=0,delete It[Vt.id],er.renderbufferCount--}var bt={rgba4:32854,rgb565:36194,"rgb5 a1":32855,depth:33189,stencil:36168,"depth stencil":34041};At.ext_srgb&&(bt.srgba=35907),At.ext_color_buffer_half_float&&(bt.rgba16f=34842,bt.rgb16f=34843),At.webgl_color_buffer_float&&(bt.rgba32f=34836);var Ct=[];Object.keys(bt).forEach(function(Vt){Ct[bt[Vt]]=Vt});var Dt=0,It={};return ht.prototype.decRef=function(){0>=--this.refCount&&at(this)},$t.profile&&(er.getTotalRenderbufferSize=function(){var Vt=0;return Object.keys(It).forEach(function(Nt){Vt+=It[Nt].stats.size}),Vt}),{create:function(Vt,Nt){function Jt(cr,dr){var Ge=0,Ve=0,Ot=32854;if(typeof cr=="object"&&cr?("shape"in cr?(Ve=cr.shape,Ge=Ve[0]|0,Ve=Ve[1]|0):("radius"in cr&&(Ge=Ve=cr.radius|0),"width"in cr&&(Ge=cr.width|0),"height"in cr&&(Ve=cr.height|0)),"format"in cr&&(Ot=bt[cr.format])):typeof cr=="number"?(Ge=cr|0,Ve=typeof dr=="number"?dr|0:Ge):cr||(Ge=Ve=1),Ge!==fr.width||Ve!==fr.height||Ot!==fr.format)return Jt.width=fr.width=Ge,Jt.height=fr.height=Ve,fr.format=Ot,xt.bindRenderbuffer(36161,fr.renderbuffer),xt.renderbufferStorage(36161,Ot,Ge,Ve),$t.profile&&(fr.stats.size=Ee[fr.format]*fr.width*fr.height),Jt.format=Ct[fr.format],Jt}var fr=new ht(xt.createRenderbuffer());return It[fr.id]=fr,er.renderbufferCount++,Jt(Vt,Nt),Jt.resize=function(cr,dr){var Ge=cr|0,Ve=dr|0||Ge;return Ge===fr.width&&Ve===fr.height||(Jt.width=fr.width=Ge,Jt.height=fr.height=Ve,xt.bindRenderbuffer(36161,fr.renderbuffer),xt.renderbufferStorage(36161,fr.format,Ge,Ve),$t.profile&&(fr.stats.size=Ee[fr.format]*fr.width*fr.height)),Jt},Jt._reglType="renderbuffer",Jt._renderbuffer=fr,$t.profile&&(Jt.stats=fr.stats),Jt.destroy=function(){fr.decRef()},Jt},clear:function(){ye(It).forEach(at)},restore:function(){ye(It).forEach(function(Vt){Vt.renderbuffer=xt.createRenderbuffer(),xt.bindRenderbuffer(36161,Vt.renderbuffer),xt.renderbufferStorage(36161,Vt.format,Vt.width,Vt.height)}),xt.bindRenderbuffer(36161,null)}}},ze=[];ze[6408]=4,ze[6407]=3;var Xe=[];Xe[5121]=1,Xe[5126]=4,Xe[36193]=2;var et=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],ut=["x","y","z","w"],dt="blend.func blend.equation stencil.func stencil.opFront stencil.opBack sample.coverage viewport scissor.box polygonOffset.offset".split(" "),Zt={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},jt={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},Tt={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},kt={cw:2304,ccw:2305},Qt=new X(!1,!1,!1,function(){}),wr=function(xt,At){function Wt(){this.endQueryIndex=this.startQueryIndex=-1,this.sum=0,this.stats=null}function er(It,Vt,Nt){var Jt=at.pop()||new Wt;Jt.startQueryIndex=It,Jt.endQueryIndex=Vt,Jt.sum=0,Jt.stats=Nt,bt.push(Jt)}if(!At.ext_disjoint_timer_query)return null;var $t=[],ht=[],at=[],bt=[],Ct=[],Dt=[];return{beginQuery:function(It){var Vt=$t.pop()||At.ext_disjoint_timer_query.createQueryEXT();At.ext_disjoint_timer_query.beginQueryEXT(35007,Vt),ht.push(Vt),er(ht.length-1,ht.length,It)},endQuery:function(){At.ext_disjoint_timer_query.endQueryEXT(35007)},pushScopeStats:er,update:function(){var It,Vt;if(It=ht.length,It!==0){Dt.length=Math.max(Dt.length,It+1),Ct.length=Math.max(Ct.length,It+1),Ct[0]=0;var Nt=Dt[0]=0;for(Vt=It=0;Vt<ht.length;++Vt){var Jt=ht[Vt];At.ext_disjoint_timer_query.getQueryObjectEXT(Jt,34919)?(Nt+=At.ext_disjoint_timer_query.getQueryObjectEXT(Jt,34918),$t.push(Jt)):ht[It++]=Jt,Ct[Vt+1]=Nt,Dt[Vt+1]=It}for(ht.length=It,Vt=It=0;Vt<bt.length;++Vt){var Nt=bt[Vt],fr=Nt.startQueryIndex,Jt=Nt.endQueryIndex;Nt.sum+=Ct[Jt]-Ct[fr],fr=Dt[fr],Jt=Dt[Jt],Jt===fr?(Nt.stats.gpuTime+=Nt.sum/1e6,at.push(Nt)):(Nt.startQueryIndex=fr,Nt.endQueryIndex=Jt,bt[It++]=Nt)}bt.length=It}},getNumPendingQueries:function(){return ht.length},clear:function(){$t.push.apply($t,ht);for(var It=0;It<$t.length;It++)At.ext_disjoint_timer_query.deleteQueryEXT($t[It]);ht.length=0,$t.length=0},restore:function(){ht.length=0,$t.length=0}}};return function(xt){function At(){if(En.length===0)Ot&&Ot.update(),Ur=null;else{Ur=Ae.next(At),It();for(var pn=En.length-1;0<=pn;--pn){var gn=En[pn];gn&&gn(rr,null,0)}Jt.flush(),Ot&&Ot.update()}}function Wt(){!Ur&&0<En.length&&(Ur=Ae.next(At))}function er(){Ur&&(Ae.cancel(At),Ur=null)}function $t(pn){pn.preventDefault(),er(),Tr.forEach(function(gn){gn()})}function ht(pn){Jt.getError(),cr.restore(),mr.restore(),Bt.restore(),vr.restore(),Gr.restore(),Rr.restore(),gr.restore(),Ot&&Ot.restore(),Ir.procs.refresh(),Wt(),Lr.forEach(function(gn){gn()})}function at(pn){function gn(dn,Hn){var Tn={},An={};return Object.keys(dn).forEach(function(Nn){var Qn=dn[Nn];if(pe.isDynamic(Qn))An[Nn]=pe.unbox(Qn,Nn);else{if(Hn&&Array.isArray(Qn)){for(var ya=0;ya<Qn.length;++ya)if(pe.isDynamic(Qn[ya])){An[Nn]=pe.unbox(Qn,Nn);return}}Tn[Nn]=Qn}}),{dynamic:An,static:Tn}}function Cn(dn){for(;$r.length<dn;)$r.push(null);return $r}var zn=gn(pn.context||{},!0),aa=gn(pn.uniforms||{},!0),ha=gn(pn.attributes||{},!1);pn=gn(function(dn){function Hn(An){if(An in Tn){var Nn=Tn[An];delete Tn[An],Object.keys(Nn).forEach(function(Qn){Tn[An+"."+Qn]=Nn[Qn]})}}var Tn=ne({},dn);return delete Tn.uniforms,delete Tn.attributes,delete Tn.context,delete Tn.vao,"stencil"in Tn&&Tn.stencil.op&&(Tn.stencil.opBack=Tn.stencil.opFront=Tn.stencil.op,delete Tn.stencil.op),Hn("blend"),Hn("depth"),Hn("cull"),Hn("stencil"),Hn("polygonOffset"),Hn("scissor"),Hn("sample"),"vao"in dn&&(Tn.vao=dn.vao),Tn}(pn),!1);var pa={gpuTime:0,cpuTime:0,count:0},ua=Ir.compile(pn,ha,aa,zn,pa),na=ua.draw,br=ua.batch,nn=ua.scope,$r=[];return ne(function(dn,Hn){var Tn;if(typeof dn=="function")return nn.call(this,null,dn,0);if(typeof Hn=="function")if(typeof dn=="number")for(Tn=0;Tn<dn;++Tn)nn.call(this,null,Hn,Tn);else if(Array.isArray(dn))for(Tn=0;Tn<dn.length;++Tn)nn.call(this,dn[Tn],Hn,Tn);else return nn.call(this,dn,Hn,0);else if(typeof dn=="number"){if(0<dn)return br.call(this,Cn(dn|0),dn|0)}else if(Array.isArray(dn)){if(dn.length)return br.call(this,dn,dn.length)}else return na.call(this,dn)},{stats:pa,destroy:function(){ua.destroy()}})}function bt(pn,gn){var Cn=0;Ir.procs.poll();var zn=gn.color;zn&&(Jt.clearColor(+zn[0]||0,+zn[1]||0,+zn[2]||0,+zn[3]||0),Cn|=16384),"depth"in gn&&(Jt.clearDepth(+gn.depth),Cn|=256),"stencil"in gn&&(Jt.clearStencil(gn.stencil|0),Cn|=1024),Jt.clear(Cn)}function Ct(pn){return En.push(pn),Wt(),{cancel:function(){function gn(){var zn=se(En,gn);En[zn]=En[En.length-1],--En.length,0>=En.length&&er()}var Cn=se(En,pn);En[Cn]=gn}}}function Dt(){var pn=rn.viewport,gn=rn.scissor_box;pn[0]=pn[1]=gn[0]=gn[1]=0,rr.viewportWidth=rr.framebufferWidth=rr.drawingBufferWidth=pn[2]=gn[2]=Jt.drawingBufferWidth,rr.viewportHeight=rr.framebufferHeight=rr.drawingBufferHeight=pn[3]=gn[3]=Jt.drawingBufferHeight}function It(){rr.tick+=1,rr.time=Nt(),Dt(),Ir.procs.poll()}function Vt(){vr.refresh(),Dt(),Ir.procs.refresh(),Ot&&Ot.update()}function Nt(){return(be()-Ft)/1e3}if(xt=r(xt),!xt)return null;var Jt=xt.gl,fr=Jt.getContextAttributes();Jt.isContextLost();var cr=t(Jt,xt);if(!cr)return null;var cn=a(),dr={vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0},Ge=xt.cachedCode||{},Ve=cr.extensions,Ot=wr(Jt,Ve),Ft=be(),ur=Jt.drawingBufferWidth,Kt=Jt.drawingBufferHeight,rr={tick:0,time:0,viewportWidth:ur,viewportHeight:Kt,framebufferWidth:ur,framebufferHeight:Kt,drawingBufferWidth:ur,drawingBufferHeight:Kt,pixelRatio:xt.pixelRatio},ur={elements:null,primitive:4,count:-1,offset:0,instances:-1},ar=xe(Jt,Ve),Bt=i(Jt,dr,xt,function(pn){return gr.destroyBuffer(pn)}),hr=d(Jt,Ve,Bt,dr),gr=k(Jt,Ve,ar,dr,Bt,hr,ur),mr=F(Jt,cn,dr,xt),vr=_(Jt,Ve,ar,function(){Ir.procs.poll()},rr,dr,xt),Gr=Te(Jt,Ve,ar,dr,xt),Rr=I(Jt,Ve,ar,vr,Gr,dr),Ir=j(Jt,cn,Ve,ar,Bt,hr,vr,Rr,{},gr,mr,ur,rr,Ot,Ge,xt),cn=O(Jt,Rr,Ir.procs.poll,rr),rn=Ir.next,Ln=Jt.canvas,En=[],Tr=[],Lr=[],Wr=[xt.onDestroy],Ur=null;Ln&&(Ln.addEventListener("webglcontextlost",$t,!1),Ln.addEventListener("webglcontextrestored",ht,!1));var an=Rr.setFBO=at({framebuffer:pe.define.call(null,1,"framebuffer")});return Vt(),fr=ne(at,{clear:function(pn){if("framebuffer"in pn)if(pn.framebuffer&&pn.framebuffer_reglType==="framebufferCube")for(var gn=0;6>gn;++gn)an(ne({framebuffer:pn.framebuffer.faces[gn]},pn),bt);else an(pn,bt);else bt(null,pn)},prop:pe.define.bind(null,1),context:pe.define.bind(null,2),this:pe.define.bind(null,3),draw:at({}),buffer:function(pn){return Bt.create(pn,34962,!1,!1)},elements:function(pn){return hr.create(pn,!1)},texture:vr.create2D,cube:vr.createCube,renderbuffer:Gr.create,framebuffer:Rr.create,framebufferCube:Rr.createCube,vao:gr.createVAO,attributes:fr,frame:Ct,on:function(pn,gn){var Cn;switch(pn){case"frame":return Ct(gn);case"lost":Cn=Tr;break;case"restore":Cn=Lr;break;case"destroy":Cn=Wr}return Cn.push(gn),{cancel:function(){for(var zn=0;zn<Cn.length;++zn)if(Cn[zn]===gn){Cn[zn]=Cn[Cn.length-1],Cn.pop();break}}}},limits:ar,hasExtension:function(pn){return 0<=ar.extensions.indexOf(pn.toLowerCase())},read:cn,destroy:function(){En.length=0,er(),Ln&&(Ln.removeEventListener("webglcontextlost",$t),Ln.removeEventListener("webglcontextrestored",ht)),mr.clear(),Rr.clear(),Gr.clear(),gr.clear(),vr.clear(),hr.clear(),Bt.clear(),Ot&&Ot.clear(),Wr.forEach(function(pn){pn()})},_gl:Jt,_refresh:Vt,poll:function(){It(),Ot&&Ot.update()},now:Nt,stats:dr,getCachedCode:function(){return Ge},preloadCachedCode:function(pn){Object.entries(pn).forEach(function(gn){Ge[gn[0]]=gn[1]})}}),xt.onDone(null,fr),fr}})},30456:function(G,U,e){/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var g=e(33576),L=g.Buffer;function a(A,v){for(var p in A)v[p]=A[p]}L.from&&L.alloc&&L.allocUnsafe&&L.allocUnsafeSlow?G.exports=g:(a(g,U),U.Buffer=C);function C(A,v,p){return L(A,v,p)}C.prototype=Object.create(L.prototype),a(L,C),C.from=function(A,v,p){if(typeof A=="number")throw new TypeError("Argument must not be a number");return L(A,v,p)},C.alloc=function(A,v,p){if(typeof A!="number")throw new TypeError("Argument must be a number");var r=L(A);return v!==void 0?typeof p=="string"?r.fill(v,p):r.fill(v):r.fill(0),r},C.allocUnsafe=function(A){if(typeof A!="number")throw new TypeError("Argument must be a number");return L(A)},C.allocUnsafeSlow=function(A){if(typeof A!="number")throw new TypeError("Argument must be a number");return g.SlowBuffer(A)}},14500:function(G,U,e){var g=e(53664),L=e(64348),a=e(39640)(),C=e(2304),A=g("%TypeError%"),v=g("%Math.floor%");G.exports=function(r,t){if(typeof r!="function")throw new A("`fn` is not a function");if(typeof t!="number"||t<0||t>4294967295||v(t)!==t)throw new A("`length` must be a positive 32-bit integer");var s=arguments.length>2&&!!arguments[2],n=!0,f=!0;if("length"in r&&C){var u=C(r,"length");u&&!u.configurable&&(n=!1),u&&!u.writable&&(f=!1)}return(n||f||!s)&&(a?L(r,"length",t,!0,!0):L(r,"length",t)),r}},29936:function(G,U,e){G.exports=a;var g=e(61252).EventEmitter,L=e(6768);L(a,g),a.Readable=e(12348),a.Writable=e(11288),a.Duplex=e(15316),a.Transform=e(22477),a.PassThrough=e(27136),a.finished=e(15932),a.pipeline=e(38180),a.Stream=a;function a(){g.call(this)}a.prototype.pipe=function(C,A){var v=this;function p(l){C.writable&&C.write(l)===!1&&v.pause&&v.pause()}v.on("data",p);function r(){v.readable&&v.resume&&v.resume()}C.on("drain",r),!C._isStdio&&(!A||A.end!==!1)&&(v.on("end",s),v.on("close",n));var t=!1;function s(){t||(t=!0,C.end())}function n(){t||(t=!0,typeof C.destroy=="function"&&C.destroy())}function f(l){if(u(),g.listenerCount(this,"error")===0)throw l}v.on("error",f),C.on("error",f);function u(){v.removeListener("data",p),C.removeListener("drain",r),v.removeListener("end",s),v.removeListener("close",n),v.removeListener("error",f),C.removeListener("error",f),v.removeListener("end",u),v.removeListener("close",u),C.removeListener("close",u)}return v.on("end",u),v.on("close",u),C.on("close",u),C.emit("pipe",v),C}},92784:function(G){function U(v,p){v.prototype=Object.create(p.prototype),v.prototype.constructor=v,v.__proto__=p}var e={};function g(v,p,r){r||(r=Error);function t(n,f,u){return typeof p=="string"?p:p(n,f,u)}var s=function(n){U(f,n);function f(u,l,m){return n.call(this,t(u,l,m))||this}return f}(r);s.prototype.name=r.name,s.prototype.code=v,e[v]=s}function L(v,p){if(Array.isArray(v)){var r=v.length;return v=v.map(function(t){return String(t)}),r>2?"one of ".concat(p," ").concat(v.slice(0,r-1).join(", "),", or ")+v[r-1]:r===2?"one of ".concat(p," ").concat(v[0]," or ").concat(v[1]):"of ".concat(p," ").concat(v[0])}else return"of ".concat(p," ").concat(String(v))}function a(v,p,r){return v.substr(!r||r<0?0:+r,p.length)===p}function C(v,p,r){return(r===void 0||r>v.length)&&(r=v.length),v.substring(r-p.length,r)===p}function A(v,p,r){return typeof r!="number"&&(r=0),r+p.length>v.length?!1:v.indexOf(p,r)!==-1}g("ERR_INVALID_OPT_VALUE",function(v,p){return'The value "'+p+'" is invalid for option "'+v+'"'},TypeError),g("ERR_INVALID_ARG_TYPE",function(v,p,r){var t;typeof p=="string"&&a(p,"not ")?(t="must not be",p=p.replace(/^not /,"")):t="must be";var s;if(C(v," argument"))s="The ".concat(v," ").concat(t," ").concat(L(p,"type"));else{var n=A(v,".")?"property":"argument";s='The "'.concat(v,'" ').concat(n," ").concat(t," ").concat(L(p,"type"))}return s+=". Received type ".concat(typeof r),s},TypeError),g("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),g("ERR_METHOD_NOT_IMPLEMENTED",function(v){return"The "+v+" method is not implemented"}),g("ERR_STREAM_PREMATURE_CLOSE","Premature close"),g("ERR_STREAM_DESTROYED",function(v){return"Cannot call "+v+" after a stream was destroyed"}),g("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),g("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),g("ERR_STREAM_WRITE_AFTER_END","write after end"),g("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),g("ERR_UNKNOWN_ENCODING",function(v){return"Unknown encoding: "+v},TypeError),g("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),G.exports.i=e},15316:function(G,U,e){var g=e(4168),L=Object.keys||function(n){var f=[];for(var u in n)f.push(u);return f};G.exports=r;var a=e(12348),C=e(11288);e(6768)(r,a);for(var A=L(C.prototype),v=0;v<A.length;v++){var p=A[v];r.prototype[p]||(r.prototype[p]=C.prototype[p])}function r(n){if(!(this instanceof r))return new r(n);a.call(this,n),C.call(this,n),this.allowHalfOpen=!0,n&&(n.readable===!1&&(this.readable=!1),n.writable===!1&&(this.writable=!1),n.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",t)))}Object.defineProperty(r.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(r.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(r.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function t(){this._writableState.ended||g.nextTick(s,this)}function s(n){n.end()}Object.defineProperty(r.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(f){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=f,this._writableState.destroyed=f)}})},27136:function(G,U,e){G.exports=L;var g=e(22477);e(6768)(L,g);function L(a){if(!(this instanceof L))return new L(a);g.call(this,a)}L.prototype._transform=function(a,C,A){A(null,a)}},12348:function(G,U,e){var g=e(4168);G.exports=o;var L;o.ReadableState=T,e(61252).EventEmitter;var a=function(j,se){return j.listeners(se).length},C=e(4776),A=e(33576).Buffer,v=e.g.Uint8Array||function(){};function p(J){return A.from(J)}function r(J){return A.isBuffer(J)||J instanceof v}var t=e(19768),s;t&&t.debuglog?s=t.debuglog("stream"):s=function(){};var n=e(47264),f=e(55324),u=e(24888),l=u.getHighWaterMark,m=e(92784).i,h=m.ERR_INVALID_ARG_TYPE,M=m.ERR_STREAM_PUSH_AFTER_EOF,c=m.ERR_METHOD_NOT_IMPLEMENTED,i=m.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,d,b,w;e(6768)(o,C);var E=f.errorOrDestroy,y=["error","close","destroy","pause","resume"];function S(J,j,se){if(typeof J.prependListener=="function")return J.prependListener(j,se);!J._events||!J._events[j]?J.on(j,se):Array.isArray(J._events[j])?J._events[j].unshift(se):J._events[j]=[se,J._events[j]]}function T(J,j,se){L=L||e(15316),J=J||{},typeof se!="boolean"&&(se=j instanceof L),this.objectMode=!!J.objectMode,se&&(this.objectMode=this.objectMode||!!J.readableObjectMode),this.highWaterMark=l(this,J,"readableHighWaterMark",se),this.buffer=new n,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=J.emitClose!==!1,this.autoDestroy=!!J.autoDestroy,this.destroyed=!1,this.defaultEncoding=J.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,J.encoding&&(d||(d=e(86032).o),this.decoder=new d(J.encoding),this.encoding=J.encoding)}function o(J){if(L=L||e(15316),!(this instanceof o))return new o(J);var j=this instanceof L;this._readableState=new T(J,this,j),this.readable=!0,J&&(typeof J.read=="function"&&(this._read=J.read),typeof J.destroy=="function"&&(this._destroy=J.destroy)),C.call(this)}Object.defineProperty(o.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(j){!this._readableState||(this._readableState.destroyed=j)}}),o.prototype.destroy=f.destroy,o.prototype._undestroy=f.undestroy,o.prototype._destroy=function(J,j){j(J)},o.prototype.push=function(J,j){var se=this._readableState,ne;return se.objectMode?ne=!0:typeof J=="string"&&(j=j||se.defaultEncoding,j!==se.encoding&&(J=A.from(J,j),j=""),ne=!0),P(this,J,j,!1,ne)},o.prototype.unshift=function(J){return P(this,J,null,!0,!1)};function P(J,j,se,ne,le){s("readableAddChunk",j);var pe=J._readableState;if(j===null)pe.reading=!1,F(J,pe);else{var Ae;if(le||(Ae=_(pe,j)),Ae)E(J,Ae);else if(pe.objectMode||j&&j.length>0)if(typeof j!="string"&&!pe.objectMode&&Object.getPrototypeOf(j)!==A.prototype&&(j=p(j)),ne)pe.endEmitted?E(J,new i):x(J,pe,j,!0);else if(pe.ended)E(J,new M);else{if(pe.destroyed)return!1;pe.reading=!1,pe.decoder&&!se?(j=pe.decoder.write(j),pe.objectMode||j.length!==0?x(J,pe,j,!1):B(J,pe)):x(J,pe,j,!1)}else ne||(pe.reading=!1,B(J,pe))}return!pe.ended&&(pe.length<pe.highWaterMark||pe.length===0)}function x(J,j,se,ne){j.flowing&&j.length===0&&!j.sync?(j.awaitDrain=0,J.emit("data",se)):(j.length+=j.objectMode?1:se.length,ne?j.buffer.unshift(se):j.buffer.push(se),j.needReadable&&O(J)),B(J,j)}function _(J,j){var se;return!r(j)&&typeof j!="string"&&j!==void 0&&!J.objectMode&&(se=new h("chunk",["string","Buffer","Uint8Array"],j)),se}o.prototype.isPaused=function(){return this._readableState.flowing===!1},o.prototype.setEncoding=function(J){d||(d=e(86032).o);var j=new d(J);this._readableState.decoder=j,this._readableState.encoding=this._readableState.decoder.encoding;for(var se=this._readableState.buffer.head,ne="";se!==null;)ne+=j.write(se.data),se=se.next;return this._readableState.buffer.clear(),ne!==""&&this._readableState.buffer.push(ne),this._readableState.length=ne.length,this};var I=1073741824;function N(J){return J>=I?J=I:(J--,J|=J>>>1,J|=J>>>2,J|=J>>>4,J|=J>>>8,J|=J>>>16,J++),J}function k(J,j){return J<=0||j.length===0&&j.ended?0:j.objectMode?1:J!==J?j.flowing&&j.length?j.buffer.head.data.length:j.length:(J>j.highWaterMark&&(j.highWaterMark=N(J)),J<=j.length?J:j.ended?j.length:(j.needReadable=!0,0))}o.prototype.read=function(J){s("read",J),J=parseInt(J,10);var j=this._readableState,se=J;if(J!==0&&(j.emittedReadable=!1),J===0&&j.needReadable&&((j.highWaterMark!==0?j.length>=j.highWaterMark:j.length>0)||j.ended))return s("read: emitReadable",j.length,j.ended),j.length===0&&j.ended?X(this):O(this),null;if(J=k(J,j),J===0&&j.ended)return j.length===0&&X(this),null;var ne=j.needReadable;s("need readable",ne),(j.length===0||j.length-J<j.highWaterMark)&&(ne=!0,s("length less than watermark",ne)),j.ended||j.reading?(ne=!1,s("reading or ended",ne)):ne&&(s("do read"),j.reading=!0,j.sync=!0,j.length===0&&(j.needReadable=!0),this._read(j.highWaterMark),j.sync=!1,j.reading||(J=k(se,j)));var le;return J>0?le=te(J,j):le=null,le===null?(j.needReadable=j.length<=j.highWaterMark,J=0):(j.length-=J,j.awaitDrain=0),j.length===0&&(j.ended||(j.needReadable=!0),se!==J&&j.ended&&X(this)),le!==null&&this.emit("data",le),le};function F(J,j){if(s("onEofChunk"),!j.ended){if(j.decoder){var se=j.decoder.end();se&&se.length&&(j.buffer.push(se),j.length+=j.objectMode?1:se.length)}j.ended=!0,j.sync?O(J):(j.needReadable=!1,j.emittedReadable||(j.emittedReadable=!0,z(J)))}}function O(J){var j=J._readableState;s("emitReadable",j.needReadable,j.emittedReadable),j.needReadable=!1,j.emittedReadable||(s("emitReadable",j.flowing),j.emittedReadable=!0,g.nextTick(z,J))}function z(J){var j=J._readableState;s("emitReadable_",j.destroyed,j.length,j.ended),!j.destroyed&&(j.length||j.ended)&&(J.emit("readable"),j.emittedReadable=!1),j.needReadable=!j.flowing&&!j.ended&&j.length<=j.highWaterMark,Y(J)}function B(J,j){j.readingMore||(j.readingMore=!0,g.nextTick(W,J,j))}function W(J,j){for(;!j.reading&&!j.ended&&(j.length<j.highWaterMark||j.flowing&&j.length===0);){var se=j.length;if(s("maybeReadMore read 0"),J.read(0),se===j.length)break}j.readingMore=!1}o.prototype._read=function(J){E(this,new c("_read()"))},o.prototype.pipe=function(J,j){var se=this,ne=this._readableState;switch(ne.pipesCount){case 0:ne.pipes=J;break;case 1:ne.pipes=[ne.pipes,J];break;default:ne.pipes.push(J);break}ne.pipesCount+=1,s("pipe count=%d opts=%j",ne.pipesCount,j);var le=(!j||j.end!==!1)&&J!==g.stdout&&J!==g.stderr,pe=le?be:_e;ne.endEmitted?g.nextTick(pe):se.once("end",pe),J.on("unpipe",Ae);function Ae(Ue,it){s("onunpipe"),Ue===se&&it&&it.hasUnpiped===!1&&(it.hasUnpiped=!0,Me())}function be(){s("onend"),J.end()}var Re=q(se);J.on("drain",Re);var xe=!1;function Me(){s("cleanup"),J.removeListener("close",Fe),J.removeListener("finish",Be),J.removeListener("drain",Re),J.removeListener("error",Se),J.removeListener("unpipe",Ae),se.removeListener("end",be),se.removeListener("end",_e),se.removeListener("data",ye),xe=!0,ne.awaitDrain&&(!J._writableState||J._writableState.needDrain)&&Re()}se.on("data",ye);function ye(Ue){s("ondata");var it=J.write(Ue);s("dest.write",it),it===!1&&((ne.pipesCount===1&&ne.pipes===J||ne.pipesCount>1&&ie(ne.pipes,J)!==-1)&&!xe&&(s("false write response, pause",ne.awaitDrain),ne.awaitDrain++),se.pause())}function Se(Ue){s("onerror",Ue),_e(),J.removeListener("error",Se),a(J,"error")===0&&E(J,Ue)}S(J,"error",Se);function Fe(){J.removeListener("finish",Be),_e()}J.once("close",Fe);function Be(){s("onfinish"),J.removeListener("close",Fe),_e()}J.once("finish",Be);function _e(){s("unpipe"),se.unpipe(J)}return J.emit("pipe",se),ne.flowing||(s("pipe resume"),se.resume()),J};function q(J){return function(){var se=J._readableState;s("pipeOnDrain",se.awaitDrain),se.awaitDrain&&se.awaitDrain--,se.awaitDrain===0&&a(J,"data")&&(se.flowing=!0,Y(J))}}o.prototype.unpipe=function(J){var j=this._readableState,se={hasUnpiped:!1};if(j.pipesCount===0)return this;if(j.pipesCount===1)return J&&J!==j.pipes?this:(J||(J=j.pipes),j.pipes=null,j.pipesCount=0,j.flowing=!1,J&&J.emit("unpipe",this,se),this);if(!J){var ne=j.pipes,le=j.pipesCount;j.pipes=null,j.pipesCount=0,j.flowing=!1;for(var pe=0;pe<le;pe++)ne[pe].emit("unpipe",this,{hasUnpiped:!1});return this}var Ae=ie(j.pipes,J);return Ae===-1?this:(j.pipes.splice(Ae,1),j.pipesCount-=1,j.pipesCount===1&&(j.pipes=j.pipes[0]),J.emit("unpipe",this,se),this)},o.prototype.on=function(J,j){var se=C.prototype.on.call(this,J,j),ne=this._readableState;return J==="data"?(ne.readableListening=this.listenerCount("readable")>0,ne.flowing!==!1&&this.resume()):J==="readable"&&!ne.endEmitted&&!ne.readableListening&&(ne.readableListening=ne.needReadable=!0,ne.flowing=!1,ne.emittedReadable=!1,s("on readable",ne.length,ne.reading),ne.length?O(this):ne.reading||g.nextTick(Q,this)),se},o.prototype.addListener=o.prototype.on,o.prototype.removeListener=function(J,j){var se=C.prototype.removeListener.call(this,J,j);return J==="readable"&&g.nextTick(ee,this),se},o.prototype.removeAllListeners=function(J){var j=C.prototype.removeAllListeners.apply(this,arguments);return(J==="readable"||J===void 0)&&g.nextTick(ee,this),j};function ee(J){var j=J._readableState;j.readableListening=J.listenerCount("readable")>0,j.resumeScheduled&&!j.paused?j.flowing=!0:J.listenerCount("data")>0&&J.resume()}function Q(J){s("readable nexttick read 0"),J.read(0)}o.prototype.resume=function(){var J=this._readableState;return J.flowing||(s("resume"),J.flowing=!J.readableListening,oe(this,J)),J.paused=!1,this};function oe(J,j){j.resumeScheduled||(j.resumeScheduled=!0,g.nextTick(Z,J,j))}function Z(J,j){s("resume",j.reading),j.reading||J.read(0),j.resumeScheduled=!1,J.emit("resume"),Y(J),j.flowing&&!j.reading&&J.read(0)}o.prototype.pause=function(){return s("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(s("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function Y(J){var j=J._readableState;for(s("flow",j.flowing);j.flowing&&J.read()!==null;);}o.prototype.wrap=function(J){var j=this,se=this._readableState,ne=!1;J.on("end",function(){if(s("wrapped end"),se.decoder&&!se.ended){var Ae=se.decoder.end();Ae&&Ae.length&&j.push(Ae)}j.push(null)}),J.on("data",function(Ae){if(s("wrapped data"),se.decoder&&(Ae=se.decoder.write(Ae)),!(se.objectMode&&Ae==null)&&!(!se.objectMode&&(!Ae||!Ae.length))){var be=j.push(Ae);be||(ne=!0,J.pause())}});for(var le in J)this[le]===void 0&&typeof J[le]=="function"&&(this[le]=function(be){return function(){return J[be].apply(J,arguments)}}(le));for(var pe=0;pe<y.length;pe++)J.on(y[pe],this.emit.bind(this,y[pe]));return this._read=function(Ae){s("wrapped _read",Ae),ne&&(ne=!1,J.resume())},this},typeof Symbol=="function"&&(o.prototype[Symbol.asyncIterator]=function(){return b===void 0&&(b=e(60328)),b(this)}),Object.defineProperty(o.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(o.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(o.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(j){this._readableState&&(this._readableState.flowing=j)}}),o._fromList=te,Object.defineProperty(o.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function te(J,j){if(j.length===0)return null;var se;return j.objectMode?se=j.buffer.shift():!J||J>=j.length?(j.decoder?se=j.buffer.join(""):j.buffer.length===1?se=j.buffer.first():se=j.buffer.concat(j.length),j.buffer.clear()):se=j.buffer.consume(J,j.decoder),se}function X(J){var j=J._readableState;s("endReadable",j.endEmitted),j.endEmitted||(j.ended=!0,g.nextTick($,j,J))}function $(J,j){if(s("endReadableNT",J.endEmitted,J.length),!J.endEmitted&&J.length===0&&(J.endEmitted=!0,j.readable=!1,j.emit("end"),J.autoDestroy)){var se=j._writableState;(!se||se.autoDestroy&&se.finished)&&j.destroy()}}typeof Symbol=="function"&&(o.from=function(J,j){return w===void 0&&(w=e(90555)),w(o,J,j)});function ie(J,j){for(var se=0,ne=J.length;se<ne;se++)if(J[se]===j)return se;return-1}},22477:function(G,U,e){G.exports=r;var g=e(92784).i,L=g.ERR_METHOD_NOT_IMPLEMENTED,a=g.ERR_MULTIPLE_CALLBACK,C=g.ERR_TRANSFORM_ALREADY_TRANSFORMING,A=g.ERR_TRANSFORM_WITH_LENGTH_0,v=e(15316);e(6768)(r,v);function p(n,f){var u=this._transformState;u.transforming=!1;var l=u.writecb;if(l===null)return this.emit("error",new a);u.writechunk=null,u.writecb=null,f!=null&&this.push(f),l(n);var m=this._readableState;m.reading=!1,(m.needReadable||m.length<m.highWaterMark)&&this._read(m.highWaterMark)}function r(n){if(!(this instanceof r))return new r(n);v.call(this,n),this._transformState={afterTransform:p.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,n&&(typeof n.transform=="function"&&(this._transform=n.transform),typeof n.flush=="function"&&(this._flush=n.flush)),this.on("prefinish",t)}function t(){var n=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(f,u){s(n,f,u)}):s(this,null,null)}r.prototype.push=function(n,f){return this._transformState.needTransform=!1,v.prototype.push.call(this,n,f)},r.prototype._transform=function(n,f,u){u(new L("_transform()"))},r.prototype._write=function(n,f,u){var l=this._transformState;if(l.writecb=u,l.writechunk=n,l.writeencoding=f,!l.transforming){var m=this._readableState;(l.needTransform||m.needReadable||m.length<m.highWaterMark)&&this._read(m.highWaterMark)}},r.prototype._read=function(n){var f=this._transformState;f.writechunk!==null&&!f.transforming?(f.transforming=!0,this._transform(f.writechunk,f.writeencoding,f.afterTransform)):f.needTransform=!0},r.prototype._destroy=function(n,f){v.prototype._destroy.call(this,n,function(u){f(u)})};function s(n,f,u){if(f)return n.emit("error",f);if(u!=null&&n.push(u),n._writableState.length)throw new A;if(n._transformState.transforming)throw new C;return n.push(null)}},11288:function(G,U,e){var g=e(4168);G.exports=T;function L(Y){var te=this;this.next=null,this.entry=null,this.finish=function(){Z(te,Y)}}var a;T.WritableState=y;var C={deprecate:e(96656)},A=e(4776),v=e(33576).Buffer,p=e.g.Uint8Array||function(){};function r(Y){return v.from(Y)}function t(Y){return v.isBuffer(Y)||Y instanceof p}var s=e(55324),n=e(24888),f=n.getHighWaterMark,u=e(92784).i,l=u.ERR_INVALID_ARG_TYPE,m=u.ERR_METHOD_NOT_IMPLEMENTED,h=u.ERR_MULTIPLE_CALLBACK,M=u.ERR_STREAM_CANNOT_PIPE,c=u.ERR_STREAM_DESTROYED,i=u.ERR_STREAM_NULL_VALUES,d=u.ERR_STREAM_WRITE_AFTER_END,b=u.ERR_UNKNOWN_ENCODING,w=s.errorOrDestroy;e(6768)(T,A);function E(){}function y(Y,te,X){a=a||e(15316),Y=Y||{},typeof X!="boolean"&&(X=te instanceof a),this.objectMode=!!Y.objectMode,X&&(this.objectMode=this.objectMode||!!Y.writableObjectMode),this.highWaterMark=f(this,Y,"writableHighWaterMark",X),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var $=Y.decodeStrings===!1;this.decodeStrings=!$,this.defaultEncoding=Y.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(ie){F(te,ie)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=Y.emitClose!==!1,this.autoDestroy=!!Y.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new L(this)}y.prototype.getBuffer=function(){for(var te=this.bufferedRequest,X=[];te;)X.push(te),te=te.next;return X},function(){try{Object.defineProperty(y.prototype,"buffer",{get:C.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var S;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(S=Function.prototype[Symbol.hasInstance],Object.defineProperty(T,Symbol.hasInstance,{value:function(te){return S.call(this,te)?!0:this!==T?!1:te&&te._writableState instanceof y}})):S=function(te){return te instanceof this};function T(Y){a=a||e(15316);var te=this instanceof a;if(!te&&!S.call(T,this))return new T(Y);this._writableState=new y(Y,this,te),this.writable=!0,Y&&(typeof Y.write=="function"&&(this._write=Y.write),typeof Y.writev=="function"&&(this._writev=Y.writev),typeof Y.destroy=="function"&&(this._destroy=Y.destroy),typeof Y.final=="function"&&(this._final=Y.final)),A.call(this)}T.prototype.pipe=function(){w(this,new M)};function o(Y,te){var X=new d;w(Y,X),g.nextTick(te,X)}function P(Y,te,X,$){var ie;return X===null?ie=new i:typeof X!="string"&&!te.objectMode&&(ie=new l("chunk",["string","Buffer"],X)),ie?(w(Y,ie),g.nextTick($,ie),!1):!0}T.prototype.write=function(Y,te,X){var $=this._writableState,ie=!1,J=!$.objectMode&&t(Y);return J&&!v.isBuffer(Y)&&(Y=r(Y)),typeof te=="function"&&(X=te,te=null),J?te="buffer":te||(te=$.defaultEncoding),typeof X!="function"&&(X=E),$.ending?o(this,X):(J||P(this,$,Y,X))&&($.pendingcb++,ie=_(this,$,J,Y,te,X)),ie},T.prototype.cork=function(){this._writableState.corked++},T.prototype.uncork=function(){var Y=this._writableState;Y.corked&&(Y.corked--,!Y.writing&&!Y.corked&&!Y.bufferProcessing&&Y.bufferedRequest&&B(this,Y))},T.prototype.setDefaultEncoding=function(te){if(typeof te=="string"&&(te=te.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((te+"").toLowerCase())>-1))throw new b(te);return this._writableState.defaultEncoding=te,this},Object.defineProperty(T.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function x(Y,te,X){return!Y.objectMode&&Y.decodeStrings!==!1&&typeof te=="string"&&(te=v.from(te,X)),te}Object.defineProperty(T.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function _(Y,te,X,$,ie,J){if(!X){var j=x(te,$,ie);$!==j&&(X=!0,ie="buffer",$=j)}var se=te.objectMode?1:$.length;te.length+=se;var ne=te.length<te.highWaterMark;if(ne||(te.needDrain=!0),te.writing||te.corked){var le=te.lastBufferedRequest;te.lastBufferedRequest={chunk:$,encoding:ie,isBuf:X,callback:J,next:null},le?le.next=te.lastBufferedRequest:te.bufferedRequest=te.lastBufferedRequest,te.bufferedRequestCount+=1}else I(Y,te,!1,se,$,ie,J);return ne}function I(Y,te,X,$,ie,J,j){te.writelen=$,te.writecb=j,te.writing=!0,te.sync=!0,te.destroyed?te.onwrite(new c("write")):X?Y._writev(ie,te.onwrite):Y._write(ie,J,te.onwrite),te.sync=!1}function N(Y,te,X,$,ie){--te.pendingcb,X?(g.nextTick(ie,$),g.nextTick(Q,Y,te),Y._writableState.errorEmitted=!0,w(Y,$)):(ie($),Y._writableState.errorEmitted=!0,w(Y,$),Q(Y,te))}function k(Y){Y.writing=!1,Y.writecb=null,Y.length-=Y.writelen,Y.writelen=0}function F(Y,te){var X=Y._writableState,$=X.sync,ie=X.writecb;if(typeof ie!="function")throw new h;if(k(X),te)N(Y,X,$,te,ie);else{var J=W(X)||Y.destroyed;!J&&!X.corked&&!X.bufferProcessing&&X.bufferedRequest&&B(Y,X),$?g.nextTick(O,Y,X,J,ie):O(Y,X,J,ie)}}function O(Y,te,X,$){X||z(Y,te),te.pendingcb--,$(),Q(Y,te)}function z(Y,te){te.length===0&&te.needDrain&&(te.needDrain=!1,Y.emit("drain"))}function B(Y,te){te.bufferProcessing=!0;var X=te.bufferedRequest;if(Y._writev&&X&&X.next){var $=te.bufferedRequestCount,ie=new Array($),J=te.corkedRequestsFree;J.entry=X;for(var j=0,se=!0;X;)ie[j]=X,X.isBuf||(se=!1),X=X.next,j+=1;ie.allBuffers=se,I(Y,te,!0,te.length,ie,"",J.finish),te.pendingcb++,te.lastBufferedRequest=null,J.next?(te.corkedRequestsFree=J.next,J.next=null):te.corkedRequestsFree=new L(te),te.bufferedRequestCount=0}else{for(;X;){var ne=X.chunk,le=X.encoding,pe=X.callback,Ae=te.objectMode?1:ne.length;if(I(Y,te,!1,Ae,ne,le,pe),X=X.next,te.bufferedRequestCount--,te.writing)break}X===null&&(te.lastBufferedRequest=null)}te.bufferedRequest=X,te.bufferProcessing=!1}T.prototype._write=function(Y,te,X){X(new m("_write()"))},T.prototype._writev=null,T.prototype.end=function(Y,te,X){var $=this._writableState;return typeof Y=="function"?(X=Y,Y=null,te=null):typeof te=="function"&&(X=te,te=null),Y!=null&&this.write(Y,te),$.corked&&($.corked=1,this.uncork()),$.ending||oe(this,$,X),this},Object.defineProperty(T.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function W(Y){return Y.ending&&Y.length===0&&Y.bufferedRequest===null&&!Y.finished&&!Y.writing}function q(Y,te){Y._final(function(X){te.pendingcb--,X&&w(Y,X),te.prefinished=!0,Y.emit("prefinish"),Q(Y,te)})}function ee(Y,te){!te.prefinished&&!te.finalCalled&&(typeof Y._final=="function"&&!te.destroyed?(te.pendingcb++,te.finalCalled=!0,g.nextTick(q,Y,te)):(te.prefinished=!0,Y.emit("prefinish")))}function Q(Y,te){var X=W(te);if(X&&(ee(Y,te),te.pendingcb===0&&(te.finished=!0,Y.emit("finish"),te.autoDestroy))){var $=Y._readableState;(!$||$.autoDestroy&&$.endEmitted)&&Y.destroy()}return X}function oe(Y,te,X){te.ending=!0,Q(Y,te),X&&(te.finished?g.nextTick(X):Y.once("finish",X)),te.ended=!0,Y.writable=!1}function Z(Y,te,X){var $=Y.entry;for(Y.entry=null;$;){var ie=$.callback;te.pendingcb--,ie(X),$=$.next}te.corkedRequestsFree.next=Y}Object.defineProperty(T.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(te){!this._writableState||(this._writableState.destroyed=te)}}),T.prototype.destroy=s.destroy,T.prototype._undestroy=s.undestroy,T.prototype._destroy=function(Y,te){te(Y)}},60328:function(G,U,e){var g=e(4168),L;function a(i,d,b){return d in i?Object.defineProperty(i,d,{value:b,enumerable:!0,configurable:!0,writable:!0}):i[d]=b,i}var C=e(15932),A=Symbol("lastResolve"),v=Symbol("lastReject"),p=Symbol("error"),r=Symbol("ended"),t=Symbol("lastPromise"),s=Symbol("handlePromise"),n=Symbol("stream");function f(i,d){return{value:i,done:d}}function u(i){var d=i[A];if(d!==null){var b=i[n].read();b!==null&&(i[t]=null,i[A]=null,i[v]=null,d(f(b,!1)))}}function l(i){g.nextTick(u,i)}function m(i,d){return function(b,w){i.then(function(){if(d[r]){b(f(void 0,!0));return}d[s](b,w)},w)}}var h=Object.getPrototypeOf(function(){}),M=Object.setPrototypeOf((L={get stream(){return this[n]},next:function(){var d=this,b=this[p];if(b!==null)return Promise.reject(b);if(this[r])return Promise.resolve(f(void 0,!0));if(this[n].destroyed)return new Promise(function(S,T){g.nextTick(function(){d[p]?T(d[p]):S(f(void 0,!0))})});var w=this[t],E;if(w)E=new Promise(m(w,this));else{var y=this[n].read();if(y!==null)return Promise.resolve(f(y,!1));E=new Promise(this[s])}return this[t]=E,E}},a(L,Symbol.asyncIterator,function(){return this}),a(L,"return",function(){var d=this;return new Promise(function(b,w){d[n].destroy(null,function(E){if(E){w(E);return}b(f(void 0,!0))})})}),L),h),c=function(d){var b,w=Object.create(M,(b={},a(b,n,{value:d,writable:!0}),a(b,A,{value:null,writable:!0}),a(b,v,{value:null,writable:!0}),a(b,p,{value:null,writable:!0}),a(b,r,{value:d._readableState.endEmitted,writable:!0}),a(b,s,{value:function(y,S){var T=w[n].read();T?(w[t]=null,w[A]=null,w[v]=null,y(f(T,!1))):(w[A]=y,w[v]=S)},writable:!0}),b));return w[t]=null,C(d,function(E){if(E&&E.code!=="ERR_STREAM_PREMATURE_CLOSE"){var y=w[v];y!==null&&(w[t]=null,w[A]=null,w[v]=null,y(E)),w[p]=E;return}var S=w[A];S!==null&&(w[t]=null,w[A]=null,w[v]=null,S(f(void 0,!0))),w[r]=!0}),d.on("readable",l.bind(null,w)),w};G.exports=c},47264:function(G,U,e){function g(u,l){var m=Object.keys(u);if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(u);l&&(h=h.filter(function(M){return Object.getOwnPropertyDescriptor(u,M).enumerable})),m.push.apply(m,h)}return m}function L(u){for(var l=1;l<arguments.length;l++){var m=arguments[l]!=null?arguments[l]:{};l%2?g(Object(m),!0).forEach(function(h){a(u,h,m[h])}):Object.getOwnPropertyDescriptors?Object.defineProperties(u,Object.getOwnPropertyDescriptors(m)):g(Object(m)).forEach(function(h){Object.defineProperty(u,h,Object.getOwnPropertyDescriptor(m,h))})}return u}function a(u,l,m){return l in u?Object.defineProperty(u,l,{value:m,enumerable:!0,configurable:!0,writable:!0}):u[l]=m,u}function C(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")}function A(u,l){for(var m=0;m<l.length;m++){var h=l[m];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(u,h.key,h)}}function v(u,l,m){return l&&A(u.prototype,l),m&&A(u,m),u}var p=e(33576),r=p.Buffer,t=e(21576),s=t.inspect,n=s&&s.custom||"inspect";function f(u,l,m){r.prototype.copy.call(u,l,m)}G.exports=function(){function u(){C(this,u),this.head=null,this.tail=null,this.length=0}return v(u,[{key:"push",value:function(m){var h={data:m,next:null};this.length>0?this.tail.next=h:this.head=h,this.tail=h,++this.length}},{key:"unshift",value:function(m){var h={data:m,next:this.head};this.length===0&&(this.tail=h),this.head=h,++this.length}},{key:"shift",value:function(){if(this.length!==0){var m=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,m}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(m){if(this.length===0)return"";for(var h=this.head,M=""+h.data;h=h.next;)M+=m+h.data;return M}},{key:"concat",value:function(m){if(this.length===0)return r.alloc(0);for(var h=r.allocUnsafe(m>>>0),M=this.head,c=0;M;)f(M.data,h,c),c+=M.data.length,M=M.next;return h}},{key:"consume",value:function(m,h){var M;return m<this.head.data.length?(M=this.head.data.slice(0,m),this.head.data=this.head.data.slice(m)):m===this.head.data.length?M=this.shift():M=h?this._getString(m):this._getBuffer(m),M}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(m){var h=this.head,M=1,c=h.data;for(m-=c.length;h=h.next;){var i=h.data,d=m>i.length?i.length:m;if(d===i.length?c+=i:c+=i.slice(0,m),m-=d,m===0){d===i.length?(++M,h.next?this.head=h.next:this.head=this.tail=null):(this.head=h,h.data=i.slice(d));break}++M}return this.length-=M,c}},{key:"_getBuffer",value:function(m){var h=r.allocUnsafe(m),M=this.head,c=1;for(M.data.copy(h),m-=M.data.length;M=M.next;){var i=M.data,d=m>i.length?i.length:m;if(i.copy(h,h.length-m,0,d),m-=d,m===0){d===i.length?(++c,M.next?this.head=M.next:this.head=this.tail=null):(this.head=M,M.data=i.slice(d));break}++c}return this.length-=c,h}},{key:n,value:function(m,h){return s(this,L({},h,{depth:0,customInspect:!1}))}}]),u}()},55324:function(G,U,e){var g=e(4168);function L(r,t){var s=this,n=this._readableState&&this._readableState.destroyed,f=this._writableState&&this._writableState.destroyed;return n||f?(t?t(r):r&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,g.nextTick(v,this,r)):g.nextTick(v,this,r)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(r||null,function(u){!t&&u?s._writableState?s._writableState.errorEmitted?g.nextTick(C,s):(s._writableState.errorEmitted=!0,g.nextTick(a,s,u)):g.nextTick(a,s,u):t?(g.nextTick(C,s),t(u)):g.nextTick(C,s)}),this)}function a(r,t){v(r,t),C(r)}function C(r){r._writableState&&!r._writableState.emitClose||r._readableState&&!r._readableState.emitClose||r.emit("close")}function A(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function v(r,t){r.emit("error",t)}function p(r,t){var s=r._readableState,n=r._writableState;s&&s.autoDestroy||n&&n.autoDestroy?r.destroy(t):r.emit("error",t)}G.exports={destroy:L,undestroy:A,errorOrDestroy:p}},15932:function(G,U,e){var g=e(92784).i.ERR_STREAM_PREMATURE_CLOSE;function L(v){var p=!1;return function(){if(!p){p=!0;for(var r=arguments.length,t=new Array(r),s=0;s<r;s++)t[s]=arguments[s];v.apply(this,t)}}}function a(){}function C(v){return v.setHeader&&typeof v.abort=="function"}function A(v,p,r){if(typeof p=="function")return A(v,null,p);p||(p={}),r=L(r||a);var t=p.readable||p.readable!==!1&&v.readable,s=p.writable||p.writable!==!1&&v.writable,n=function(){v.writable||u()},f=v._writableState&&v._writableState.finished,u=function(){s=!1,f=!0,t||r.call(v)},l=v._readableState&&v._readableState.endEmitted,m=function(){t=!1,l=!0,s||r.call(v)},h=function(d){r.call(v,d)},M=function(){var d;if(t&&!l)return(!v._readableState||!v._readableState.ended)&&(d=new g),r.call(v,d);if(s&&!f)return(!v._writableState||!v._writableState.ended)&&(d=new g),r.call(v,d)},c=function(){v.req.on("finish",u)};return C(v)?(v.on("complete",u),v.on("abort",M),v.req?c():v.on("request",c)):s&&!v._writableState&&(v.on("end",n),v.on("close",n)),v.on("end",m),v.on("finish",u),p.error!==!1&&v.on("error",h),v.on("close",M),function(){v.removeListener("complete",u),v.removeListener("abort",M),v.removeListener("request",c),v.req&&v.req.removeListener("finish",u),v.removeListener("end",n),v.removeListener("close",n),v.removeListener("finish",u),v.removeListener("end",m),v.removeListener("error",h),v.removeListener("close",M)}}G.exports=A},90555:function(G){G.exports=function(){throw new Error("Readable.from is not available in the browser")}},38180:function(G,U,e){var g;function L(u){var l=!1;return function(){l||(l=!0,u.apply(void 0,arguments))}}var a=e(92784).i,C=a.ERR_MISSING_ARGS,A=a.ERR_STREAM_DESTROYED;function v(u){if(u)throw u}function p(u){return u.setHeader&&typeof u.abort=="function"}function r(u,l,m,h){h=L(h);var M=!1;u.on("close",function(){M=!0}),g===void 0&&(g=e(15932)),g(u,{readable:l,writable:m},function(i){if(i)return h(i);M=!0,h()});var c=!1;return function(i){if(!M&&!c){if(c=!0,p(u))return u.abort();if(typeof u.destroy=="function")return u.destroy();h(i||new A("pipe"))}}}function t(u){u()}function s(u,l){return u.pipe(l)}function n(u){return!u.length||typeof u[u.length-1]!="function"?v:u.pop()}function f(){for(var u=arguments.length,l=new Array(u),m=0;m<u;m++)l[m]=arguments[m];var h=n(l);if(Array.isArray(l[0])&&(l=l[0]),l.length<2)throw new C("streams");var M,c=l.map(function(i,d){var b=d<l.length-1,w=d>0;return r(i,b,w,function(E){M||(M=E),E&&c.forEach(t),!b&&(c.forEach(t),h(M))})});return l.reduce(s)}G.exports=f},24888:function(G,U,e){var g=e(92784).i.ERR_INVALID_OPT_VALUE;function L(C,A,v){return C.highWaterMark!=null?C.highWaterMark:A?C[v]:null}function a(C,A,v,p){var r=L(A,p,v);if(r!=null){if(!(isFinite(r)&&Math.floor(r)===r)||r<0){var t=p?v:"highWaterMark";throw new g(t,r)}return Math.floor(r)}return C.objectMode?16:16384}G.exports={getHighWaterMark:a}},4776:function(G,U,e){G.exports=e(61252).EventEmitter},86032:function(G,U,e){var g=e(30456).Buffer,L=g.isEncoding||function(c){switch(c=""+c,c&&c.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function a(c){if(!c)return"utf8";for(var i;;)switch(c){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return c;default:if(i)return;c=(""+c).toLowerCase(),i=!0}}function C(c){var i=a(c);if(typeof i!="string"&&(g.isEncoding===L||!L(c)))throw new Error("Unknown encoding: "+c);return i||c}U.o=A;function A(c){this.encoding=C(c);var i;switch(this.encoding){case"utf16le":this.text=f,this.end=u,i=4;break;case"utf8":this.fillLast=t,i=4;break;case"base64":this.text=l,this.end=m,i=3;break;default:this.write=h,this.end=M;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=g.allocUnsafe(i)}A.prototype.write=function(c){if(c.length===0)return"";var i,d;if(this.lastNeed){if(i=this.fillLast(c),i===void 0)return"";d=this.lastNeed,this.lastNeed=0}else d=0;return d<c.length?i?i+this.text(c,d):this.text(c,d):i||""},A.prototype.end=n,A.prototype.text=s,A.prototype.fillLast=function(c){if(this.lastNeed<=c.length)return c.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);c.copy(this.lastChar,this.lastTotal-this.lastNeed,0,c.length),this.lastNeed-=c.length};function v(c){return c<=127?0:c>>5===6?2:c>>4===14?3:c>>3===30?4:c>>6===2?-1:-2}function p(c,i,d){var b=i.length-1;if(b<d)return 0;var w=v(i[b]);return w>=0?(w>0&&(c.lastNeed=w-1),w):--b<d||w===-2?0:(w=v(i[b]),w>=0?(w>0&&(c.lastNeed=w-2),w):--b<d||w===-2?0:(w=v(i[b]),w>=0?(w>0&&(w===2?w=0:c.lastNeed=w-3),w):0))}function r(c,i,d){if((i[0]&192)!==128)return c.lastNeed=0,"\uFFFD";if(c.lastNeed>1&&i.length>1){if((i[1]&192)!==128)return c.lastNeed=1,"\uFFFD";if(c.lastNeed>2&&i.length>2&&(i[2]&192)!==128)return c.lastNeed=2,"\uFFFD"}}function t(c){var i=this.lastTotal-this.lastNeed,d=r(this,c);if(d!==void 0)return d;if(this.lastNeed<=c.length)return c.copy(this.lastChar,i,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);c.copy(this.lastChar,i,0,c.length),this.lastNeed-=c.length}function s(c,i){var d=p(this,c,i);if(!this.lastNeed)return c.toString("utf8",i);this.lastTotal=d;var b=c.length-(d-this.lastNeed);return c.copy(this.lastChar,0,b),c.toString("utf8",i,b)}function n(c){var i=c&&c.length?this.write(c):"";return this.lastNeed?i+"\uFFFD":i}function f(c,i){if((c.length-i)%2===0){var d=c.toString("utf16le",i);if(d){var b=d.charCodeAt(d.length-1);if(b>=55296&&b<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=c[c.length-2],this.lastChar[1]=c[c.length-1],d.slice(0,-1)}return d}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=c[c.length-1],c.toString("utf16le",i,c.length-1)}function u(c){var i=c&&c.length?this.write(c):"";if(this.lastNeed){var d=this.lastTotal-this.lastNeed;return i+this.lastChar.toString("utf16le",0,d)}return i}function l(c,i){var d=(c.length-i)%3;return d===0?c.toString("base64",i):(this.lastNeed=3-d,this.lastTotal=3,d===1?this.lastChar[0]=c[c.length-1]:(this.lastChar[0]=c[c.length-2],this.lastChar[1]=c[c.length-1]),c.toString("base64",i,c.length-d))}function m(c){var i=c&&c.length?this.write(c):"";return this.lastNeed?i+this.lastChar.toString("base64",0,3-this.lastNeed):i}function h(c){return c.toString(this.encoding)}function M(c){return c&&c.length?this.write(c):""}},55619:function(G,U,e){var g=e(45408),L=e(86844)("stream-parser");G.exports=p;var a=-1,C=0,A=1,v=2;function p(c){var i=c&&typeof c._transform=="function",d=c&&typeof c._write=="function";if(!i&&!d)throw new Error("must pass a Writable or Transform stream in");L("extending Parser into stream"),c._bytes=t,c._skipBytes=s,i&&(c._passthrough=n),i?c._transform=u:c._write=f}function r(c){L("initializing parser stream"),c._parserBytesLeft=0,c._parserBuffers=[],c._parserBuffered=0,c._parserState=a,c._parserCallback=null,typeof c.push=="function"&&(c._parserOutput=c.push.bind(c)),c._parserInit=!0}function t(c,i){g(!this._parserCallback,'there is already a "callback" set!'),g(isFinite(c)&&c>0,'can only buffer a finite number of bytes > 0, got "'+c+'"'),this._parserInit||r(this),L("buffering %o bytes",c),this._parserBytesLeft=c,this._parserCallback=i,this._parserState=C}function s(c,i){g(!this._parserCallback,'there is already a "callback" set!'),g(c>0,'can only skip > 0 bytes, got "'+c+'"'),this._parserInit||r(this),L("skipping %o bytes",c),this._parserBytesLeft=c,this._parserCallback=i,this._parserState=A}function n(c,i){g(!this._parserCallback,'There is already a "callback" set!'),g(c>0,'can only pass through > 0 bytes, got "'+c+'"'),this._parserInit||r(this),L("passing through %o bytes",c),this._parserBytesLeft=c,this._parserCallback=i,this._parserState=v}function f(c,i,d){this._parserInit||r(this),L("write(%o bytes)",c.length),typeof i=="function"&&(d=i),h(this,c,null,d)}function u(c,i,d){this._parserInit||r(this),L("transform(%o bytes)",c.length),typeof i!="function"&&(i=this._parserOutput),h(this,c,i,d)}function l(c,i,d,b){return c._parserBytesLeft<=0?b(new Error("got data but not currently parsing anything")):i.length<=c._parserBytesLeft?function(){return m(c,i,d,b)}:function(){var w=i.slice(0,c._parserBytesLeft);return m(c,w,d,function(E){if(E)return b(E);if(i.length>w.length)return function(){return l(c,i.slice(w.length),d,b)}})}}function m(c,i,d,b){if(c._parserBytesLeft-=i.length,L("%o bytes left for stream piece",c._parserBytesLeft),c._parserState===C?(c._parserBuffers.push(i),c._parserBuffered+=i.length):c._parserState===v&&d(i),c._parserBytesLeft===0){var w=c._parserCallback;if(w&&c._parserState===C&&c._parserBuffers.length>1&&(i=Buffer.concat(c._parserBuffers,c._parserBuffered)),c._parserState!==C&&(i=null),c._parserCallback=null,c._parserBuffered=0,c._parserState=a,c._parserBuffers.splice(0),w){var E=[];i&&E.push(i),d&&E.push(d);var y=w.length>E.length;y&&E.push(M(b));var S=w.apply(c,E);if(!y||b===S)return b}}else return b}var h=M(l);function M(c){return function(){for(var i=c.apply(this,arguments);typeof i=="function";)i=i();return i}}},86844:function(G,U,e){var g=e(4168);U=G.exports=e(89416),U.log=C,U.formatArgs=a,U.save=A,U.load=v,U.useColors=L,U.storage=typeof chrome!="undefined"&&typeof chrome.storage!="undefined"?chrome.storage.local:p(),U.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"];function L(){return typeof window!="undefined"&&window.process&&window.process.type==="renderer"?!0:typeof document!="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}U.formatters.j=function(r){try{return JSON.stringify(r)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}};function a(r){var t=this.useColors;if(r[0]=(t?"%c":"")+this.namespace+(t?" %c":" ")+r[0]+(t?"%c ":" ")+"+"+U.humanize(this.diff),!!t){var s="color: "+this.color;r.splice(1,0,s,"color: inherit");var n=0,f=0;r[0].replace(/%[a-zA-Z%]/g,function(u){u!=="%%"&&(n++,u==="%c"&&(f=n))}),r.splice(f,0,s)}}function C(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function A(r){try{r==null?U.storage.removeItem("debug"):U.storage.debug=r}catch{}}function v(){var r;try{r=U.storage.debug}catch{}return!r&&typeof g!="undefined"&&"env"in g&&(r={}.DEBUG),r}U.enable(v());function p(){try{return window.localStorage}catch{}}},89416:function(G,U,e){U=G.exports=a.debug=a.default=a,U.coerce=p,U.disable=A,U.enable=C,U.enabled=v,U.humanize=e(93744),U.names=[],U.skips=[],U.formatters={};var g;function L(r){var t=0,s;for(s in r)t=(t<<5)-t+r.charCodeAt(s),t|=0;return U.colors[Math.abs(t)%U.colors.length]}function a(r){function t(){if(!!t.enabled){var s=t,n=+new Date,f=n-(g||n);s.diff=f,s.prev=g,s.curr=n,g=n;for(var u=new Array(arguments.length),l=0;l<u.length;l++)u[l]=arguments[l];u[0]=U.coerce(u[0]),typeof u[0]!="string"&&u.unshift("%O");var m=0;u[0]=u[0].replace(/%([a-zA-Z%])/g,function(M,c){if(M==="%%")return M;m++;var i=U.formatters[c];if(typeof i=="function"){var d=u[m];M=i.call(s,d),u.splice(m,1),m--}return M}),U.formatArgs.call(s,u);var h=t.log||U.log||console.log.bind(console);h.apply(s,u)}}return t.namespace=r,t.enabled=U.enabled(r),t.useColors=U.useColors(),t.color=L(r),typeof U.init=="function"&&U.init(t),t}function C(r){U.save(r),U.names=[],U.skips=[];for(var t=(typeof r=="string"?r:"").split(/[\s,]+/),s=t.length,n=0;n<s;n++)!t[n]||(r=t[n].replace(/\*/g,".*?"),r[0]==="-"?U.skips.push(new RegExp("^"+r.substr(1)+"$")):U.names.push(new RegExp("^"+r+"$")))}function A(){U.enable("")}function v(r){var t,s;for(t=0,s=U.skips.length;t<s;t++)if(U.skips[t].test(r))return!1;for(t=0,s=U.names.length;t<s;t++)if(U.names[t].test(r))return!0;return!1}function p(r){return r instanceof Error?r.stack||r.message:r}},93744:function(G){var U=1e3,e=U*60,g=e*60,L=g*24,a=L*365.25;G.exports=function(r,t){t=t||{};var s=typeof r;if(s==="string"&&r.length>0)return C(r);if(s==="number"&&isNaN(r)===!1)return t.long?v(r):A(r);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(r))};function C(r){if(r=String(r),!(r.length>100)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(r);if(!!t){var s=parseFloat(t[1]),n=(t[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return s*a;case"days":case"day":case"d":return s*L;case"hours":case"hour":case"hrs":case"hr":case"h":return s*g;case"minutes":case"minute":case"mins":case"min":case"m":return s*e;case"seconds":case"second":case"secs":case"sec":case"s":return s*U;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}}}function A(r){return r>=L?Math.round(r/L)+"d":r>=g?Math.round(r/g)+"h":r>=e?Math.round(r/e)+"m":r>=U?Math.round(r/U)+"s":r+"ms"}function v(r){return p(r,L,"day")||p(r,g,"hour")||p(r,e,"minute")||p(r,U,"second")||r+" ms"}function p(r,t,s){if(!(r<t))return r<t*1.5?Math.floor(r/t)+" "+s:Math.ceil(r/t)+" "+s+"s"}},39956:function(G,U,e){var g=e(32868);G.exports=function(a,C,A){if(a==null)throw Error("First argument should be a string");if(C==null)throw Error("Separator should be a string or a RegExp");A?(typeof A=="string"||Array.isArray(A))&&(A={ignore:A}):A={},A.escape==null&&(A.escape=!0),A.ignore==null?A.ignore=["[]","()","{}","<>",'""',"''","``","\u201C\u201D","\xAB\xBB"]:(typeof A.ignore=="string"&&(A.ignore=[A.ignore]),A.ignore=A.ignore.map(function(u){return u.length===1&&(u=u+u),u}));var v=g.parse(a,{flat:!0,brackets:A.ignore}),p=v[0],r=p.split(C);if(A.escape){for(var t=[],s=0;s<r.length;s++){var n=r[s],f=r[s+1];n[n.length-1]==="\\"&&n[n.length-2]!=="\\"?(t.push(n+C+f),s++):t.push(n)}r=t}for(var s=0;s<r.length;s++)v[0]=r[s],r[s]=g.stringify(v,{flat:!0});return r}},78484:function(G){G.exports=U;function U(e){for(var g=e.length,L=new Array(g),a=new Array(g),C=new Array(g),A=new Array(g),v=new Array(g),p=new Array(g),r=0;r<g;++r)L[r]=-1,a[r]=0,C[r]=!1,A[r]=0,v[r]=-1,p[r]=[];var t=0,s=[],n=[];function f(h){var M=[h],c=[h];for(L[h]=a[h]=t,C[h]=!0,t+=1;c.length>0;){h=c[c.length-1];var i=e[h];if(A[h]<i.length){for(var d=A[h];d<i.length;++d){var b=i[d];if(L[b]<0){L[b]=a[b]=t,C[b]=!0,t+=1,M.push(b),c.push(b);break}else C[b]&&(a[h]=Math.min(a[h],a[b])|0);v[b]>=0&&p[h].push(v[b])}A[h]=d}else{if(a[h]===L[h]){for(var w=[],E=[],y=0,d=M.length-1;d>=0;--d){var S=M[d];if(C[S]=!1,w.push(S),E.push(p[S]),y+=p[S].length,v[S]=s.length,S===h){M.length=d;break}}s.push(w);for(var T=new Array(y),d=0;d<E.length;d++)for(var o=0;o<E[d].length;o++)T[--y]=E[d][o];n.push(T)}c.pop()}}}for(var r=0;r<g;++r)L[r]<0&&f(r);for(var u,r=0;r<n.length;r++){var l=n[r];if(l.length!==0){l.sort(function(M,c){return M-c}),u=[l[0]];for(var m=1;m<l.length;m++)l[m]!==l[m-1]&&u.push(l[m]);n[r]=u}}return{components:s,adjacencyList:n}}},92848:function(G,U,e){e.r(U);var g=function(){function r(t,s){var n=[],f=!0,u=!1,l=void 0;try{for(var m=t[Symbol.iterator](),h;!(f=(h=m.next()).done)&&(n.push(h.value),!(s&&n.length===s));f=!0);}catch(M){u=!0,l=M}finally{try{!f&&m.return&&m.return()}finally{if(u)throw l}}return n}return function(t,s){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return r(t,s);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),L=Math.PI*2,a=function(t,s,n,f,u,l,m){var h=t.x,M=t.y;h*=s,M*=n;var c=f*h-u*M,i=u*h+f*M;return{x:c+l,y:i+m}},C=function(t,s){var n=s===1.5707963267948966?.551915024494:s===-1.5707963267948966?-.551915024494:1.3333333333333333*Math.tan(s/4),f=Math.cos(t),u=Math.sin(t),l=Math.cos(t+s),m=Math.sin(t+s);return[{x:f-u*n,y:u+f*n},{x:l+m*n,y:m-l*n},{x:l,y:m}]},A=function(t,s,n,f){var u=t*f-s*n<0?-1:1,l=t*n+s*f;return l>1&&(l=1),l<-1&&(l=-1),u*Math.acos(l)},v=function(t,s,n,f,u,l,m,h,M,c,i,d){var b=Math.pow(u,2),w=Math.pow(l,2),E=Math.pow(i,2),y=Math.pow(d,2),S=b*w-b*y-w*E;S<0&&(S=0),S/=b*y+w*E,S=Math.sqrt(S)*(m===h?-1:1);var T=S*u/l*d,o=S*-l/u*i,P=c*T-M*o+(t+n)/2,x=M*T+c*o+(s+f)/2,_=(i-T)/u,I=(d-o)/l,N=(-i-T)/u,k=(-d-o)/l,F=A(1,0,_,I),O=A(_,I,N,k);return h===0&&O>0&&(O-=L),h===1&&O<0&&(O+=L),[P,x,F,O]},p=function(t){var s=t.px,n=t.py,f=t.cx,u=t.cy,l=t.rx,m=t.ry,h=t.xAxisRotation,M=h===void 0?0:h,c=t.largeArcFlag,i=c===void 0?0:c,d=t.sweepFlag,b=d===void 0?0:d,w=[];if(l===0||m===0)return[];var E=Math.sin(M*L/360),y=Math.cos(M*L/360),S=y*(s-f)/2+E*(n-u)/2,T=-E*(s-f)/2+y*(n-u)/2;if(S===0&&T===0)return[];l=Math.abs(l),m=Math.abs(m);var o=Math.pow(S,2)/Math.pow(l,2)+Math.pow(T,2)/Math.pow(m,2);o>1&&(l*=Math.sqrt(o),m*=Math.sqrt(o));var P=v(s,n,f,u,l,m,i,b,E,y,S,T),x=g(P,4),_=x[0],I=x[1],N=x[2],k=x[3],F=Math.abs(k)/(L/4);Math.abs(1-F)<1e-7&&(F=1);var O=Math.max(Math.ceil(F),1);k/=O;for(var z=0;z<O;z++)w.push(C(N,k)),N+=k;return w.map(function(B){var W=a(B[0],l,m,y,E,_,I),q=W.x,ee=W.y,Q=a(B[1],l,m,y,E,_,I),oe=Q.x,Z=Q.y,Y=a(B[2],l,m,y,E,_,I),te=Y.x,X=Y.y;return{x1:q,y1:ee,x2:oe,y2:Z,x:te,y:X}})};U.default=p},74840:function(G,U,e){var g=e(21984),L=e(49972),a=e(41976),C=e(53520),A=e(45408);G.exports=v;function v(p){if(Array.isArray(p)&&p.length===1&&typeof p[0]=="string"&&(p=p[0]),typeof p=="string"&&(A(C(p),"String is not an SVG path."),p=g(p)),A(Array.isArray(p),"Argument should be a string or an array of path segments."),p=L(p),p=a(p),!p.length)return[0,0,0,0];for(var r=[1/0,1/0,-1/0,-1/0],t=0,s=p.length;t<s;t++)for(var n=p[t].slice(1),f=0;f<n.length;f+=2)n[f+0]<r[0]&&(r[0]=n[f+0]),n[f+1]<r[1]&&(r[1]=n[f+1]),n[f+0]>r[2]&&(r[2]=n[f+0]),n[f+1]>r[3]&&(r[3]=n[f+1]);return r}},41976:function(G,U,e){G.exports=L;var g=e(92848);function L(A){for(var v,p=[],r=0,t=0,s=0,n=0,f=null,u=null,l=0,m=0,h=0,M=A.length;h<M;h++){var c=A[h],i=c[0];switch(i){case"M":s=c[1],n=c[2];break;case"A":var d=g({px:l,py:m,cx:c[6],cy:c[7],rx:c[1],ry:c[2],xAxisRotation:c[3],largeArcFlag:c[4],sweepFlag:c[5]});if(!d.length)continue;for(var b=0,w;b<d.length;b++)w=d[b],c=["C",w.x1,w.y1,w.x2,w.y2,w.x,w.y],b<d.length-1&&p.push(c);break;case"S":var E=l,y=m;(v=="C"||v=="S")&&(E+=E-r,y+=y-t),c=["C",E,y,c[1],c[2],c[3],c[4]];break;case"T":v=="Q"||v=="T"?(f=l*2-f,u=m*2-u):(f=l,u=m),c=C(l,m,f,u,c[1],c[2]);break;case"Q":f=c[1],u=c[2],c=C(l,m,c[1],c[2],c[3],c[4]);break;case"L":c=a(l,m,c[1],c[2]);break;case"H":c=a(l,m,c[1],m);break;case"V":c=a(l,m,l,c[1]);break;case"Z":c=a(l,m,s,n);break}v=i,l=c[c.length-2],m=c[c.length-1],c.length>4?(r=c[c.length-4],t=c[c.length-3]):(r=l,t=m),p.push(c)}return p}function a(A,v,p,r){return["C",A,v,p,r,p,r]}function C(A,v,p,r,t,s){return["C",A/3+.6666666666666666*p,v/3+.6666666666666666*r,t/3+.6666666666666666*p,s/3+.6666666666666666*r,t,s]}},20472:function(G,U,e){var g=e(74840),L=e(21984),a=e(22235),C=e(53520),A=e(29620),v=document.createElement("canvas"),p=v.getContext("2d");G.exports=r;function r(n,f){if(!C(n))throw Error("Argument should be valid svg path string");f||(f={});var u,l;f.shape?(u=f.shape[0],l=f.shape[1]):(u=v.width=f.w||f.width||200,l=v.height=f.h||f.height||200);var m=Math.min(u,l),h=f.stroke||0,M=f.viewbox||f.viewBox||g(n),c=[u/(M[2]-M[0]),l/(M[3]-M[1])],i=Math.min(c[0]||0,c[1]||0)/2;if(p.fillStyle="black",p.fillRect(0,0,u,l),p.fillStyle="white",h&&(typeof h!="number"&&(h=1),h>0?p.strokeStyle="white":p.strokeStyle="black",p.lineWidth=Math.abs(h)),p.translate(u*.5,l*.5),p.scale(i,i),s()){var d=new Path2D(n);p.fill(d),h&&p.stroke(d)}else{var b=L(n);a(p,b),p.fill(),h&&p.stroke()}p.setTransform(1,0,0,1,0,0);var w=A(p,{cutoff:f.cutoff!=null?f.cutoff:.5,radius:f.radius!=null?f.radius:m*.5});return w}var t;function s(){if(t!=null)return t;var n=document.createElement("canvas").getContext("2d");if(n.canvas.width=n.canvas.height=1,!window.Path2D)return t=!1;var f=new Path2D("M0,0h1v1h-1v-1Z");n.fillStyle="black",n.fill(f);var u=n.getImageData(0,0,1,1);return t=u&&u.data&&u.data[3]===255}},49760:function(G,U,e){var g;(function(L){var a=/^\s+/,C=/\s+$/,A=0,v=L.round,p=L.min,r=L.max,t=L.random;function s(j,se){if(j=j||"",se=se||{},j instanceof s)return j;if(!(this instanceof s))return new s(j,se);var ne=n(j);this._originalInput=j,this._r=ne.r,this._g=ne.g,this._b=ne.b,this._a=ne.a,this._roundA=v(100*this._a)/100,this._format=se.format||ne.format,this._gradientType=se.gradientType,this._r<1&&(this._r=v(this._r)),this._g<1&&(this._g=v(this._g)),this._b<1&&(this._b=v(this._b)),this._ok=ne.ok,this._tc_id=A++}s.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var j=this.toRgb();return(j.r*299+j.g*587+j.b*114)/1e3},getLuminance:function(){var j=this.toRgb(),se,ne,le,pe,Ae,be;return se=j.r/255,ne=j.g/255,le=j.b/255,se<=.03928?pe=se/12.92:pe=L.pow((se+.055)/1.055,2.4),ne<=.03928?Ae=ne/12.92:Ae=L.pow((ne+.055)/1.055,2.4),le<=.03928?be=le/12.92:be=L.pow((le+.055)/1.055,2.4),.2126*pe+.7152*Ae+.0722*be},setAlpha:function(j){return this._a=z(j),this._roundA=v(100*this._a)/100,this},toHsv:function(){var j=m(this._r,this._g,this._b);return{h:j.h*360,s:j.s,v:j.v,a:this._a}},toHsvString:function(){var j=m(this._r,this._g,this._b),se=v(j.h*360),ne=v(j.s*100),le=v(j.v*100);return this._a==1?"hsv("+se+", "+ne+"%, "+le+"%)":"hsva("+se+", "+ne+"%, "+le+"%, "+this._roundA+")"},toHsl:function(){var j=u(this._r,this._g,this._b);return{h:j.h*360,s:j.s,l:j.l,a:this._a}},toHslString:function(){var j=u(this._r,this._g,this._b),se=v(j.h*360),ne=v(j.s*100),le=v(j.l*100);return this._a==1?"hsl("+se+", "+ne+"%, "+le+"%)":"hsla("+se+", "+ne+"%, "+le+"%, "+this._roundA+")"},toHex:function(j){return M(this._r,this._g,this._b,j)},toHexString:function(j){return"#"+this.toHex(j)},toHex8:function(j){return c(this._r,this._g,this._b,this._a,j)},toHex8String:function(j){return"#"+this.toHex8(j)},toRgb:function(){return{r:v(this._r),g:v(this._g),b:v(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+v(this._r)+", "+v(this._g)+", "+v(this._b)+")":"rgba("+v(this._r)+", "+v(this._g)+", "+v(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:v(B(this._r,255)*100)+"%",g:v(B(this._g,255)*100)+"%",b:v(B(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+v(B(this._r,255)*100)+"%, "+v(B(this._g,255)*100)+"%, "+v(B(this._b,255)*100)+"%)":"rgba("+v(B(this._r,255)*100)+"%, "+v(B(this._g,255)*100)+"%, "+v(B(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:F[M(this._r,this._g,this._b,!0)]||!1},toFilter:function(j){var se="#"+i(this._r,this._g,this._b,this._a),ne=se,le=this._gradientType?"GradientType = 1, ":"";if(j){var pe=s(j);ne="#"+i(pe._r,pe._g,pe._b,pe._a)}return"progid:DXImageTransform.Microsoft.gradient("+le+"startColorstr="+se+",endColorstr="+ne+")"},toString:function(j){var se=!!j;j=j||this._format;var ne=!1,le=this._a<1&&this._a>=0,pe=!se&&le&&(j==="hex"||j==="hex6"||j==="hex3"||j==="hex4"||j==="hex8"||j==="name");return pe?j==="name"&&this._a===0?this.toName():this.toRgbString():(j==="rgb"&&(ne=this.toRgbString()),j==="prgb"&&(ne=this.toPercentageRgbString()),(j==="hex"||j==="hex6")&&(ne=this.toHexString()),j==="hex3"&&(ne=this.toHexString(!0)),j==="hex4"&&(ne=this.toHex8String(!0)),j==="hex8"&&(ne=this.toHex8String()),j==="name"&&(ne=this.toName()),j==="hsl"&&(ne=this.toHslString()),j==="hsv"&&(ne=this.toHsvString()),ne||this.toHexString())},clone:function(){return s(this.toString())},_applyModification:function(j,se){var ne=j.apply(null,[this].concat([].slice.call(se)));return this._r=ne._r,this._g=ne._g,this._b=ne._b,this.setAlpha(ne._a),this},lighten:function(){return this._applyModification(E,arguments)},brighten:function(){return this._applyModification(y,arguments)},darken:function(){return this._applyModification(S,arguments)},desaturate:function(){return this._applyModification(d,arguments)},saturate:function(){return this._applyModification(b,arguments)},greyscale:function(){return this._applyModification(w,arguments)},spin:function(){return this._applyModification(T,arguments)},_applyCombination:function(j,se){return j.apply(null,[this].concat([].slice.call(se)))},analogous:function(){return this._applyCombination(I,arguments)},complement:function(){return this._applyCombination(o,arguments)},monochromatic:function(){return this._applyCombination(N,arguments)},splitcomplement:function(){return this._applyCombination(_,arguments)},triad:function(){return this._applyCombination(P,arguments)},tetrad:function(){return this._applyCombination(x,arguments)}},s.fromRatio=function(j,se){if(typeof j=="object"){var ne={};for(var le in j)j.hasOwnProperty(le)&&(le==="a"?ne[le]=j[le]:ne[le]=Z(j[le]));j=ne}return s(j,se)};function n(j){var se={r:0,g:0,b:0},ne=1,le=null,pe=null,Ae=null,be=!1,Re=!1;return typeof j=="string"&&(j=ie(j)),typeof j=="object"&&($(j.r)&&$(j.g)&&$(j.b)?(se=f(j.r,j.g,j.b),be=!0,Re=String(j.r).substr(-1)==="%"?"prgb":"rgb"):$(j.h)&&$(j.s)&&$(j.v)?(le=Z(j.s),pe=Z(j.v),se=h(j.h,le,pe),be=!0,Re="hsv"):$(j.h)&&$(j.s)&&$(j.l)&&(le=Z(j.s),Ae=Z(j.l),se=l(j.h,le,Ae),be=!0,Re="hsl"),j.hasOwnProperty("a")&&(ne=j.a)),ne=z(ne),{ok:be,format:j.format||Re,r:p(255,r(se.r,0)),g:p(255,r(se.g,0)),b:p(255,r(se.b,0)),a:ne}}function f(j,se,ne){return{r:B(j,255)*255,g:B(se,255)*255,b:B(ne,255)*255}}function u(j,se,ne){j=B(j,255),se=B(se,255),ne=B(ne,255);var le=r(j,se,ne),pe=p(j,se,ne),Ae,be,Re=(le+pe)/2;if(le==pe)Ae=be=0;else{var xe=le-pe;switch(be=Re>.5?xe/(2-le-pe):xe/(le+pe),le){case j:Ae=(se-ne)/xe+(se<ne?6:0);break;case se:Ae=(ne-j)/xe+2;break;case ne:Ae=(j-se)/xe+4;break}Ae/=6}return{h:Ae,s:be,l:Re}}function l(j,se,ne){var le,pe,Ae;j=B(j,360),se=B(se,100),ne=B(ne,100);function be(Me,ye,Se){return Se<0&&(Se+=1),Se>1&&(Se-=1),Se<.16666666666666666?Me+(ye-Me)*6*Se:Se<.5?ye:Se<.6666666666666666?Me+(ye-Me)*(.6666666666666666-Se)*6:Me}if(se===0)le=pe=Ae=ne;else{var Re=ne<.5?ne*(1+se):ne+se-ne*se,xe=2*ne-Re;le=be(xe,Re,j+.3333333333333333),pe=be(xe,Re,j),Ae=be(xe,Re,j-.3333333333333333)}return{r:le*255,g:pe*255,b:Ae*255}}function m(j,se,ne){j=B(j,255),se=B(se,255),ne=B(ne,255);var le=r(j,se,ne),pe=p(j,se,ne),Ae,be,Re=le,xe=le-pe;if(be=le===0?0:xe/le,le==pe)Ae=0;else{switch(le){case j:Ae=(se-ne)/xe+(se<ne?6:0);break;case se:Ae=(ne-j)/xe+2;break;case ne:Ae=(j-se)/xe+4;break}Ae/=6}return{h:Ae,s:be,v:Re}}function h(j,se,ne){j=B(j,360)*6,se=B(se,100),ne=B(ne,100);var le=L.floor(j),pe=j-le,Ae=ne*(1-se),be=ne*(1-pe*se),Re=ne*(1-(1-pe)*se),xe=le%6,Me=[ne,be,Ae,Ae,Re,ne][xe],ye=[Re,ne,ne,be,Ae,Ae][xe],Se=[Ae,Ae,Re,ne,ne,be][xe];return{r:Me*255,g:ye*255,b:Se*255}}function M(j,se,ne,le){var pe=[oe(v(j).toString(16)),oe(v(se).toString(16)),oe(v(ne).toString(16))];return le&&pe[0].charAt(0)==pe[0].charAt(1)&&pe[1].charAt(0)==pe[1].charAt(1)&&pe[2].charAt(0)==pe[2].charAt(1)?pe[0].charAt(0)+pe[1].charAt(0)+pe[2].charAt(0):pe.join("")}function c(j,se,ne,le,pe){var Ae=[oe(v(j).toString(16)),oe(v(se).toString(16)),oe(v(ne).toString(16)),oe(Y(le))];return pe&&Ae[0].charAt(0)==Ae[0].charAt(1)&&Ae[1].charAt(0)==Ae[1].charAt(1)&&Ae[2].charAt(0)==Ae[2].charAt(1)&&Ae[3].charAt(0)==Ae[3].charAt(1)?Ae[0].charAt(0)+Ae[1].charAt(0)+Ae[2].charAt(0)+Ae[3].charAt(0):Ae.join("")}function i(j,se,ne,le){var pe=[oe(Y(le)),oe(v(j).toString(16)),oe(v(se).toString(16)),oe(v(ne).toString(16))];return pe.join("")}s.equals=function(j,se){return!j||!se?!1:s(j).toRgbString()==s(se).toRgbString()},s.random=function(){return s.fromRatio({r:t(),g:t(),b:t()})};function d(j,se){se=se===0?0:se||10;var ne=s(j).toHsl();return ne.s-=se/100,ne.s=W(ne.s),s(ne)}function b(j,se){se=se===0?0:se||10;var ne=s(j).toHsl();return ne.s+=se/100,ne.s=W(ne.s),s(ne)}function w(j){return s(j).desaturate(100)}function E(j,se){se=se===0?0:se||10;var ne=s(j).toHsl();return ne.l+=se/100,ne.l=W(ne.l),s(ne)}function y(j,se){se=se===0?0:se||10;var ne=s(j).toRgb();return ne.r=r(0,p(255,ne.r-v(255*-(se/100)))),ne.g=r(0,p(255,ne.g-v(255*-(se/100)))),ne.b=r(0,p(255,ne.b-v(255*-(se/100)))),s(ne)}function S(j,se){se=se===0?0:se||10;var ne=s(j).toHsl();return ne.l-=se/100,ne.l=W(ne.l),s(ne)}function T(j,se){var ne=s(j).toHsl(),le=(ne.h+se)%360;return ne.h=le<0?360+le:le,s(ne)}function o(j){var se=s(j).toHsl();return se.h=(se.h+180)%360,s(se)}function P(j){var se=s(j).toHsl(),ne=se.h;return[s(j),s({h:(ne+120)%360,s:se.s,l:se.l}),s({h:(ne+240)%360,s:se.s,l:se.l})]}function x(j){var se=s(j).toHsl(),ne=se.h;return[s(j),s({h:(ne+90)%360,s:se.s,l:se.l}),s({h:(ne+180)%360,s:se.s,l:se.l}),s({h:(ne+270)%360,s:se.s,l:se.l})]}function _(j){var se=s(j).toHsl(),ne=se.h;return[s(j),s({h:(ne+72)%360,s:se.s,l:se.l}),s({h:(ne+216)%360,s:se.s,l:se.l})]}function I(j,se,ne){se=se||6,ne=ne||30;var le=s(j).toHsl(),pe=360/ne,Ae=[s(j)];for(le.h=(le.h-(pe*se>>1)+720)%360;--se;)le.h=(le.h+pe)%360,Ae.push(s(le));return Ae}function N(j,se){se=se||6;for(var ne=s(j).toHsv(),le=ne.h,pe=ne.s,Ae=ne.v,be=[],Re=1/se;se--;)be.push(s({h:le,s:pe,v:Ae})),Ae=(Ae+Re)%1;return be}s.mix=function(j,se,ne){ne=ne===0?0:ne||50;var le=s(j).toRgb(),pe=s(se).toRgb(),Ae=ne/100,be={r:(pe.r-le.r)*Ae+le.r,g:(pe.g-le.g)*Ae+le.g,b:(pe.b-le.b)*Ae+le.b,a:(pe.a-le.a)*Ae+le.a};return s(be)},s.readability=function(j,se){var ne=s(j),le=s(se);return(L.max(ne.getLuminance(),le.getLuminance())+.05)/(L.min(ne.getLuminance(),le.getLuminance())+.05)},s.isReadable=function(j,se,ne){var le=s.readability(j,se),pe,Ae;switch(Ae=!1,pe=J(ne),pe.level+pe.size){case"AAsmall":case"AAAlarge":Ae=le>=4.5;break;case"AAlarge":Ae=le>=3;break;case"AAAsmall":Ae=le>=7;break}return Ae},s.mostReadable=function(j,se,ne){var le=null,pe=0,Ae,be,Re,xe;ne=ne||{},be=ne.includeFallbackColors,Re=ne.level,xe=ne.size;for(var Me=0;Me<se.length;Me++)Ae=s.readability(j,se[Me]),Ae>pe&&(pe=Ae,le=s(se[Me]));return s.isReadable(j,le,{level:Re,size:xe})||!be?le:(ne.includeFallbackColors=!1,s.mostReadable(j,["#fff","#000"],ne))};var k=s.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},F=s.hexNames=O(k);function O(j){var se={};for(var ne in j)j.hasOwnProperty(ne)&&(se[j[ne]]=ne);return se}function z(j){return j=parseFloat(j),(isNaN(j)||j<0||j>1)&&(j=1),j}function B(j,se){ee(j)&&(j="100%");var ne=Q(j);return j=p(se,r(0,parseFloat(j))),ne&&(j=parseInt(j*se,10)/100),L.abs(j-se)<1e-6?1:j%se/parseFloat(se)}function W(j){return p(1,r(0,j))}function q(j){return parseInt(j,16)}function ee(j){return typeof j=="string"&&j.indexOf(".")!=-1&&parseFloat(j)===1}function Q(j){return typeof j=="string"&&j.indexOf("%")!=-1}function oe(j){return j.length==1?"0"+j:""+j}function Z(j){return j<=1&&(j=j*100+"%"),j}function Y(j){return L.round(parseFloat(j)*255).toString(16)}function te(j){return q(j)/255}var X=function(){var j="[-\\+]?\\d+%?",se="[-\\+]?\\d*\\.\\d+%?",ne="(?:"+se+")|(?:"+j+")",le="[\\s|\\(]+("+ne+")[,|\\s]+("+ne+")[,|\\s]+("+ne+")\\s*\\)?",pe="[\\s|\\(]+("+ne+")[,|\\s]+("+ne+")[,|\\s]+("+ne+")[,|\\s]+("+ne+")\\s*\\)?";return{CSS_UNIT:new RegExp(ne),rgb:new RegExp("rgb"+le),rgba:new RegExp("rgba"+pe),hsl:new RegExp("hsl"+le),hsla:new RegExp("hsla"+pe),hsv:new RegExp("hsv"+le),hsva:new RegExp("hsva"+pe),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function $(j){return!!X.CSS_UNIT.exec(j)}function ie(j){j=j.replace(a,"").replace(C,"").toLowerCase();var se=!1;if(k[j])j=k[j],se=!0;else if(j=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var ne;return(ne=X.rgb.exec(j))?{r:ne[1],g:ne[2],b:ne[3]}:(ne=X.rgba.exec(j))?{r:ne[1],g:ne[2],b:ne[3],a:ne[4]}:(ne=X.hsl.exec(j))?{h:ne[1],s:ne[2],l:ne[3]}:(ne=X.hsla.exec(j))?{h:ne[1],s:ne[2],l:ne[3],a:ne[4]}:(ne=X.hsv.exec(j))?{h:ne[1],s:ne[2],v:ne[3]}:(ne=X.hsva.exec(j))?{h:ne[1],s:ne[2],v:ne[3],a:ne[4]}:(ne=X.hex8.exec(j))?{r:q(ne[1]),g:q(ne[2]),b:q(ne[3]),a:te(ne[4]),format:se?"name":"hex8"}:(ne=X.hex6.exec(j))?{r:q(ne[1]),g:q(ne[2]),b:q(ne[3]),format:se?"name":"hex"}:(ne=X.hex4.exec(j))?{r:q(ne[1]+""+ne[1]),g:q(ne[2]+""+ne[2]),b:q(ne[3]+""+ne[3]),a:te(ne[4]+""+ne[4]),format:se?"name":"hex8"}:(ne=X.hex3.exec(j))?{r:q(ne[1]+""+ne[1]),g:q(ne[2]+""+ne[2]),b:q(ne[3]+""+ne[3]),format:se?"name":"hex"}:!1}function J(j){var se,ne;return j=j||{level:"AA",size:"small"},se=(j.level||"AA").toUpperCase(),ne=(j.size||"small").toLowerCase(),se!=="AA"&&se!=="AAA"&&(se="AA"),ne!=="small"&&ne!=="large"&&(ne="small"),{level:se,size:ne}}G.exports?G.exports=s:(g=function(){return s}.call(U,e,U,G),g!==void 0&&(G.exports=g))})(Math)},37816:function(G){G.exports=g,G.exports.float32=G.exports.float=g,G.exports.fract32=G.exports.fract=e;var U=new Float32Array(1);function e(L,a){if(L.length){if(L instanceof Float32Array)return new Float32Array(L.length);a instanceof Float32Array||(a=g(L));for(var C=0,A=a.length;C<A;C++)a[C]=L[C]-a[C];return a}return g(L-g(L))}function g(L){return L.length?L instanceof Float32Array?L:new Float32Array(L):(U[0]=L,U[0])}},23464:function(G,U,e){var g=e(65819);G.exports=A;var L=96;function a(v,p){var r=g(getComputedStyle(v).getPropertyValue(p));return r[0]*A(r[1],v)}function C(v,p){var r=document.createElement("div");r.style["font-size"]="128"+v,p.appendChild(r);var t=a(r,"font-size")/128;return p.removeChild(r),t}function A(v,p){switch(p=p||document.body,v=(v||"px").trim().toLowerCase(),(p===window||p===document)&&(p=document.body),v){case"%":return p.clientHeight/100;case"ch":case"ex":return C(v,p);case"em":return a(p,"font-size");case"rem":return a(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return L;case"cm":return L/2.54;case"mm":return L/25.4;case"pt":return L/72;case"pc":return L/6}return 1}},55712:function(G,U,e){e.d(U,{NO:function(){return C}});function g(p,r){for(var t,s=p.length,n=s-r;n<--s;)t=p[n],p[n++]=p[s],p[s]=t}function L(p){return p}function a(p){if(p==null)return L;var r,t,s=p.scale[0],n=p.scale[1],f=p.translate[0],u=p.translate[1];return function(l,m){m||(r=t=0);var h=2,M=l.length,c=new Array(M);for(c[0]=(r+=l[0])*s+f,c[1]=(t+=l[1])*n+u;h<M;)c[h]=l[h],++h;return c}}function C(p,r){return typeof r=="string"&&(r=p.objects[r]),r.type==="GeometryCollection"?{type:"FeatureCollection",features:r.geometries.map(function(t){return A(p,t)})}:A(p,r)}function A(p,r){var t=r.id,s=r.bbox,n=r.properties==null?{}:r.properties,f=v(p,r);return t==null&&s==null?{type:"Feature",properties:n,geometry:f}:s==null?{type:"Feature",id:t,properties:n,geometry:f}:{type:"Feature",id:t,bbox:s,properties:n,geometry:f}}function v(p,r){var t=a(p.transform),s=p.arcs;function n(M,c){c.length&&c.pop();for(var i=s[M<0?~M:M],d=0,b=i.length;d<b;++d)c.push(t(i[d],d));M<0&&g(c,b)}function f(M){return t(M)}function u(M){for(var c=[],i=0,d=M.length;i<d;++i)n(M[i],c);return c.length<2&&c.push(c[0]),c}function l(M){for(var c=u(M);c.length<4;)c.push(c[0]);return c}function m(M){return M.map(l)}function h(M){var c=M.type,i;switch(c){case"GeometryCollection":return{type:c,geometries:M.geometries.map(h)};case"Point":i=f(M.coordinates);break;case"MultiPoint":i=M.coordinates.map(f);break;case"LineString":i=u(M.arcs);break;case"MultiLineString":i=M.arcs.map(u);break;case"Polygon":i=m(M.arcs);break;case"MultiPolygon":i=M.arcs.map(m);break;default:return null}return{type:c,coordinates:i}}return h(r)}},73384:function(G,U,e){var g=e(54612);G.exports=function(L){if(typeof L!="function"||!hasOwnProperty.call(L,"length"))return!1;try{if(typeof L.length!="number"||typeof L.call!="function"||typeof L.apply!="function")return!1}catch{return!1}return!g(L)}},57980:function(G,U,e){var g=e(81680),L=e(7328),a=e(33940),C=e(18856),A=function(v,p){return v.replace("%v",C(p))};G.exports=function(v,p,r){if(!L(r))throw new TypeError(A(p,v));if(!g(v)){if("default"in r)return r.default;if(r.isOptional)return null}var t=a(r.errorMessage);throw g(t)||(t=p),new TypeError(A(t,v))}},32336:function(G){G.exports=function(U){try{return U.toString()}catch{try{return String(U)}catch{return null}}}},18856:function(G,U,e){var g=e(32336),L=/[\n\r\u2028\u2029]/g;G.exports=function(a){var C=g(a);return C===null?"<Non-coercible to string value>":(C.length>100&&(C=C.slice(0,99)+"\u2026"),C=C.replace(L,function(A){switch(A){case`
`:return"\\n";case"\r":return"\\r";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw new Error("Unexpected character")}}),C)}},7328:function(G,U,e){var g=e(81680),L={object:!0,function:!0,undefined:!0};G.exports=function(a){return g(a)?hasOwnProperty.call(L,typeof a):!1}},87396:function(G,U,e){var g=e(57980),L=e(85488);G.exports=function(a){return L(a)?a:g(a,"%v is not a plain function",arguments[1])}},85488:function(G,U,e){var g=e(73384),L=/^\s*class[\s{/}]/,a=Function.prototype.toString;G.exports=function(C){return!(!g(C)||L.test(a.call(C)))}},54612:function(G,U,e){var g=e(7328);G.exports=function(L){if(!g(L))return!1;try{return L.constructor?L.constructor.prototype===L:!1}catch{return!1}}},33940:function(G,U,e){var g=e(81680),L=e(7328),a=Object.prototype.toString;G.exports=function(C){if(!g(C))return null;if(L(C)){var A=C.toString;if(typeof A!="function"||A===a)return null}try{return""+C}catch{return null}}},18496:function(G,U,e){var g=e(57980),L=e(81680);G.exports=function(a){return L(a)?a:g(a,"Cannot use %v",arguments[1])}},81680:function(G){var U=void 0;G.exports=function(e){return e!==U&&e!==null}},14144:function(G,U,e){var g=e(308),L=e(10352),a=e(33576).Buffer;e.g.__TYPEDARRAY_POOL||(e.g.__TYPEDARRAY_POOL={UINT8:L([32,0]),UINT16:L([32,0]),UINT32:L([32,0]),BIGUINT64:L([32,0]),INT8:L([32,0]),INT16:L([32,0]),INT32:L([32,0]),BIGINT64:L([32,0]),FLOAT:L([32,0]),DOUBLE:L([32,0]),DATA:L([32,0]),UINT8C:L([32,0]),BUFFER:L([32,0])});var C=typeof Uint8ClampedArray!="undefined",A=typeof BigUint64Array!="undefined",v=typeof BigInt64Array!="undefined",p=e.g.__TYPEDARRAY_POOL;p.UINT8C||(p.UINT8C=L([32,0])),p.BIGUINT64||(p.BIGUINT64=L([32,0])),p.BIGINT64||(p.BIGINT64=L([32,0])),p.BUFFER||(p.BUFFER=L([32,0]));var r=p.DATA,t=p.BUFFER;U.free=function(o){if(a.isBuffer(o))t[g.log2(o.length)].push(o);else{if(Object.prototype.toString.call(o)!=="[object ArrayBuffer]"&&(o=o.buffer),!o)return;var P=o.length||o.byteLength,x=g.log2(P)|0;r[x].push(o)}};function s(T){if(!!T){var o=T.length||T.byteLength,P=g.log2(o);r[P].push(T)}}function n(T){s(T.buffer)}U.freeUint8=U.freeUint16=U.freeUint32=U.freeBigUint64=U.freeInt8=U.freeInt16=U.freeInt32=U.freeBigInt64=U.freeFloat32=U.freeFloat=U.freeFloat64=U.freeDouble=U.freeUint8Clamped=U.freeDataView=n,U.freeArrayBuffer=s,U.freeBuffer=function(o){t[g.log2(o.length)].push(o)},U.malloc=function(o,P){if(P===void 0||P==="arraybuffer")return f(o);switch(P){case"uint8":return u(o);case"uint16":return l(o);case"uint32":return m(o);case"int8":return h(o);case"int16":return M(o);case"int32":return c(o);case"float":case"float32":return i(o);case"double":case"float64":return d(o);case"uint8_clamped":return b(o);case"bigint64":return E(o);case"biguint64":return w(o);case"buffer":return S(o);case"data":case"dataview":return y(o);default:return null}return null};function f(o){var o=g.nextPow2(o),P=g.log2(o),x=r[P];return x.length>0?x.pop():new ArrayBuffer(o)}U.mallocArrayBuffer=f;function u(T){return new Uint8Array(f(T),0,T)}U.mallocUint8=u;function l(T){return new Uint16Array(f(2*T),0,T)}U.mallocUint16=l;function m(T){return new Uint32Array(f(4*T),0,T)}U.mallocUint32=m;function h(T){return new Int8Array(f(T),0,T)}U.mallocInt8=h;function M(T){return new Int16Array(f(2*T),0,T)}U.mallocInt16=M;function c(T){return new Int32Array(f(4*T),0,T)}U.mallocInt32=c;function i(T){return new Float32Array(f(4*T),0,T)}U.mallocFloat32=U.mallocFloat=i;function d(T){return new Float64Array(f(8*T),0,T)}U.mallocFloat64=U.mallocDouble=d;function b(T){return C?new Uint8ClampedArray(f(T),0,T):u(T)}U.mallocUint8Clamped=b;function w(T){return A?new BigUint64Array(f(8*T),0,T):null}U.mallocBigUint64=w;function E(T){return v?new BigInt64Array(f(8*T),0,T):null}U.mallocBigInt64=E;function y(T){return new DataView(f(T),0,T)}U.mallocDataView=y;function S(T){T=g.nextPow2(T);var o=g.log2(T),P=t[o];return P.length>0?P.pop():new a(T)}U.mallocBuffer=S,U.clearCache=function(){for(var o=0;o<32;++o)p.UINT8[o].length=0,p.UINT16[o].length=0,p.UINT32[o].length=0,p.INT8[o].length=0,p.INT16[o].length=0,p.INT32[o].length=0,p.FLOAT[o].length=0,p.DOUBLE[o].length=0,p.BIGUINT64[o].length=0,p.BIGINT64[o].length=0,p.UINT8C[o].length=0,r[o].length=0,t[o].length=0}},92384:function(G){var U=/[\'\"]/;G.exports=function(g){return g?(U.test(g.charAt(0))&&(g=g.substr(1)),U.test(g.charAt(g.length-1))&&(g=g.substr(0,g.length-1)),g):""}},45223:function(G){G.exports=function(e,g,L){Array.isArray(L)||(L=[].slice.call(arguments,2));for(var a=0,C=L.length;a<C;a++){var A=L[a];for(var v in A)if(!(g[v]!==void 0&&!Array.isArray(g[v])&&e[v]===g[v])&&v in g){var p;if(A[v]===!0)p=g[v];else{if(A[v]===!1)continue;if(typeof A[v]=="function"&&(p=A[v](g[v],e,g),p===void 0))continue}e[v]=p}}return e}},96656:function(G,U,e){G.exports=g;function g(a,C){if(L("noDeprecation"))return a;var A=!1;function v(){if(!A){if(L("throwDeprecation"))throw new Error(C);L("traceDeprecation")?console.trace(C):console.warn(C),A=!0}return a.apply(this,arguments)}return v}function L(a){try{if(!e.g.localStorage)return!1}catch{return!1}var C=e.g.localStorage[a];return C==null?!1:String(C).toLowerCase()==="true"}},75272:function(G){G.exports=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"}},41088:function(G,U,e){var g=e(91148),L=e(84420),a=e(96632),C=e(7728);function A(Ae){return Ae.call.bind(Ae)}var v=typeof BigInt!="undefined",p=typeof Symbol!="undefined",r=A(Object.prototype.toString),t=A(Number.prototype.valueOf),s=A(String.prototype.valueOf),n=A(Boolean.prototype.valueOf);if(v)var f=A(BigInt.prototype.valueOf);if(p)var u=A(Symbol.prototype.valueOf);function l(Ae,be){if(typeof Ae!="object")return!1;try{return be(Ae),!0}catch{return!1}}U.isArgumentsObject=g,U.isGeneratorFunction=L,U.isTypedArray=C;function m(Ae){return typeof Promise!="undefined"&&Ae instanceof Promise||Ae!==null&&typeof Ae=="object"&&typeof Ae.then=="function"&&typeof Ae.catch=="function"}U.isPromise=m;function h(Ae){return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?ArrayBuffer.isView(Ae):C(Ae)||q(Ae)}U.isArrayBufferView=h;function M(Ae){return a(Ae)==="Uint8Array"}U.isUint8Array=M;function c(Ae){return a(Ae)==="Uint8ClampedArray"}U.isUint8ClampedArray=c;function i(Ae){return a(Ae)==="Uint16Array"}U.isUint16Array=i;function d(Ae){return a(Ae)==="Uint32Array"}U.isUint32Array=d;function b(Ae){return a(Ae)==="Int8Array"}U.isInt8Array=b;function w(Ae){return a(Ae)==="Int16Array"}U.isInt16Array=w;function E(Ae){return a(Ae)==="Int32Array"}U.isInt32Array=E;function y(Ae){return a(Ae)==="Float32Array"}U.isFloat32Array=y;function S(Ae){return a(Ae)==="Float64Array"}U.isFloat64Array=S;function T(Ae){return a(Ae)==="BigInt64Array"}U.isBigInt64Array=T;function o(Ae){return a(Ae)==="BigUint64Array"}U.isBigUint64Array=o;function P(Ae){return r(Ae)==="[object Map]"}P.working=typeof Map!="undefined"&&P(new Map);function x(Ae){return typeof Map=="undefined"?!1:P.working?P(Ae):Ae instanceof Map}U.isMap=x;function _(Ae){return r(Ae)==="[object Set]"}_.working=typeof Set!="undefined"&&_(new Set);function I(Ae){return typeof Set=="undefined"?!1:_.working?_(Ae):Ae instanceof Set}U.isSet=I;function N(Ae){return r(Ae)==="[object WeakMap]"}N.working=typeof WeakMap!="undefined"&&N(new WeakMap);function k(Ae){return typeof WeakMap=="undefined"?!1:N.working?N(Ae):Ae instanceof WeakMap}U.isWeakMap=k;function F(Ae){return r(Ae)==="[object WeakSet]"}F.working=typeof WeakSet!="undefined"&&F(new WeakSet);function O(Ae){return F(Ae)}U.isWeakSet=O;function z(Ae){return r(Ae)==="[object ArrayBuffer]"}z.working=typeof ArrayBuffer!="undefined"&&z(new ArrayBuffer);function B(Ae){return typeof ArrayBuffer=="undefined"?!1:z.working?z(Ae):Ae instanceof ArrayBuffer}U.isArrayBuffer=B;function W(Ae){return r(Ae)==="[object DataView]"}W.working=typeof ArrayBuffer!="undefined"&&typeof DataView!="undefined"&&W(new DataView(new ArrayBuffer(1),0,1));function q(Ae){return typeof DataView=="undefined"?!1:W.working?W(Ae):Ae instanceof DataView}U.isDataView=q;var ee=typeof SharedArrayBuffer!="undefined"?SharedArrayBuffer:void 0;function Q(Ae){return r(Ae)==="[object SharedArrayBuffer]"}function oe(Ae){return typeof ee=="undefined"?!1:(typeof Q.working=="undefined"&&(Q.working=Q(new ee)),Q.working?Q(Ae):Ae instanceof ee)}U.isSharedArrayBuffer=oe;function Z(Ae){return r(Ae)==="[object AsyncFunction]"}U.isAsyncFunction=Z;function Y(Ae){return r(Ae)==="[object Map Iterator]"}U.isMapIterator=Y;function te(Ae){return r(Ae)==="[object Set Iterator]"}U.isSetIterator=te;function X(Ae){return r(Ae)==="[object Generator]"}U.isGeneratorObject=X;function $(Ae){return r(Ae)==="[object WebAssembly.Module]"}U.isWebAssemblyCompiledModule=$;function ie(Ae){return l(Ae,t)}U.isNumberObject=ie;function J(Ae){return l(Ae,s)}U.isStringObject=J;function j(Ae){return l(Ae,n)}U.isBooleanObject=j;function se(Ae){return v&&l(Ae,f)}U.isBigIntObject=se;function ne(Ae){return p&&l(Ae,u)}U.isSymbolObject=ne;function le(Ae){return ie(Ae)||J(Ae)||j(Ae)||se(Ae)||ne(Ae)}U.isBoxedPrimitive=le;function pe(Ae){return typeof Uint8Array!="undefined"&&(B(Ae)||oe(Ae))}U.isAnyArrayBuffer=pe,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(Ae){Object.defineProperty(U,Ae,{enumerable:!1,value:function(){throw new Error(Ae+" is not supported in userland")}})})},35840:function(G,U,e){var g=e(4168),L=Object.getOwnPropertyDescriptors||function(ee){for(var Q=Object.keys(ee),oe={},Z=0;Z<Q.length;Z++)oe[Q[Z]]=Object.getOwnPropertyDescriptor(ee,Q[Z]);return oe},a=/%[sdj%]/g;U.format=function(q){if(!w(q)){for(var ee=[],Q=0;Q<arguments.length;Q++)ee.push(p(arguments[Q]));return ee.join(" ")}for(var Q=1,oe=arguments,Z=oe.length,Y=String(q).replace(a,function(X){if(X==="%%")return"%";if(Q>=Z)return X;switch(X){case"%s":return String(oe[Q++]);case"%d":return Number(oe[Q++]);case"%j":try{return JSON.stringify(oe[Q++])}catch{return"[Circular]"}default:return X}}),te=oe[Q];Q<Z;te=oe[++Q])i(te)||!T(te)?Y+=" "+te:Y+=" "+p(te);return Y},U.deprecate=function(q,ee){if(typeof g!="undefined"&&g.noDeprecation===!0)return q;if(typeof g=="undefined")return function(){return U.deprecate(q,ee).apply(this,arguments)};var Q=!1;function oe(){if(!Q){if(g.throwDeprecation)throw new Error(ee);g.traceDeprecation?console.trace(ee):console.error(ee),Q=!0}return q.apply(this,arguments)}return oe};var C={},A=/^$/;if({}.NODE_DEBUG){var v={}.NODE_DEBUG;v=v.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),A=new RegExp("^"+v+"$","i")}U.debuglog=function(q){if(q=q.toUpperCase(),!C[q])if(A.test(q)){var ee=g.pid;C[q]=function(){var Q=U.format.apply(U,arguments);console.error("%s %d: %s",q,ee,Q)}}else C[q]=function(){};return C[q]};function p(q,ee){var Q={seen:[],stylize:t};return arguments.length>=3&&(Q.depth=arguments[2]),arguments.length>=4&&(Q.colors=arguments[3]),c(ee)?Q.showHidden=ee:ee&&U._extend(Q,ee),y(Q.showHidden)&&(Q.showHidden=!1),y(Q.depth)&&(Q.depth=2),y(Q.colors)&&(Q.colors=!1),y(Q.customInspect)&&(Q.customInspect=!0),Q.colors&&(Q.stylize=r),n(Q,q,Q.depth)}U.inspect=p,p.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},p.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function r(q,ee){var Q=p.styles[ee];return Q?"\x1B["+p.colors[Q][0]+"m"+q+"\x1B["+p.colors[Q][1]+"m":q}function t(q,ee){return q}function s(q){var ee={};return q.forEach(function(Q,oe){ee[Q]=!0}),ee}function n(q,ee,Q){if(q.customInspect&&ee&&x(ee.inspect)&&ee.inspect!==U.inspect&&!(ee.constructor&&ee.constructor.prototype===ee)){var oe=ee.inspect(Q,q);return w(oe)||(oe=n(q,oe,Q)),oe}var Z=f(q,ee);if(Z)return Z;var Y=Object.keys(ee),te=s(Y);if(q.showHidden&&(Y=Object.getOwnPropertyNames(ee)),P(ee)&&(Y.indexOf("message")>=0||Y.indexOf("description")>=0))return u(ee);if(Y.length===0){if(x(ee)){var X=ee.name?": "+ee.name:"";return q.stylize("[Function"+X+"]","special")}if(S(ee))return q.stylize(RegExp.prototype.toString.call(ee),"regexp");if(o(ee))return q.stylize(Date.prototype.toString.call(ee),"date");if(P(ee))return u(ee)}var $="",ie=!1,J=["{","}"];if(M(ee)&&(ie=!0,J=["[","]"]),x(ee)){var j=ee.name?": "+ee.name:"";$=" [Function"+j+"]"}if(S(ee)&&($=" "+RegExp.prototype.toString.call(ee)),o(ee)&&($=" "+Date.prototype.toUTCString.call(ee)),P(ee)&&($=" "+u(ee)),Y.length===0&&(!ie||ee.length==0))return J[0]+$+J[1];if(Q<0)return S(ee)?q.stylize(RegExp.prototype.toString.call(ee),"regexp"):q.stylize("[Object]","special");q.seen.push(ee);var se;return ie?se=l(q,ee,Q,te,Y):se=Y.map(function(ne){return m(q,ee,Q,te,ne,ie)}),q.seen.pop(),h(se,$,J)}function f(q,ee){if(y(ee))return q.stylize("undefined","undefined");if(w(ee)){var Q="'"+JSON.stringify(ee).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return q.stylize(Q,"string")}if(b(ee))return q.stylize(""+ee,"number");if(c(ee))return q.stylize(""+ee,"boolean");if(i(ee))return q.stylize("null","null")}function u(q){return"["+Error.prototype.toString.call(q)+"]"}function l(q,ee,Q,oe,Z){for(var Y=[],te=0,X=ee.length;te<X;++te)O(ee,String(te))?Y.push(m(q,ee,Q,oe,String(te),!0)):Y.push("");return Z.forEach(function($){$.match(/^\d+$/)||Y.push(m(q,ee,Q,oe,$,!0))}),Y}function m(q,ee,Q,oe,Z,Y){var te,X,$;if($=Object.getOwnPropertyDescriptor(ee,Z)||{value:ee[Z]},$.get?$.set?X=q.stylize("[Getter/Setter]","special"):X=q.stylize("[Getter]","special"):$.set&&(X=q.stylize("[Setter]","special")),O(oe,Z)||(te="["+Z+"]"),X||(q.seen.indexOf($.value)<0?(i(Q)?X=n(q,$.value,null):X=n(q,$.value,Q-1),X.indexOf(`
`)>-1&&(Y?X=X.split(`
`).map(function(ie){return"  "+ie}).join(`
`).slice(2):X=`
`+X.split(`
`).map(function(ie){return"   "+ie}).join(`
`))):X=q.stylize("[Circular]","special")),y(te)){if(Y&&Z.match(/^\d+$/))return X;te=JSON.stringify(""+Z),te.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(te=te.slice(1,-1),te=q.stylize(te,"name")):(te=te.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),te=q.stylize(te,"string"))}return te+": "+X}function h(q,ee,Q){var oe=q.reduce(function(Z,Y){return Y.indexOf(`
`)>=0,Z+Y.replace(/\u001b\[\d\d?m/g,"").length+1},0);return oe>60?Q[0]+(ee===""?"":ee+`
 `)+" "+q.join(`,
  `)+" "+Q[1]:Q[0]+ee+" "+q.join(", ")+" "+Q[1]}U.types=e(41088);function M(q){return Array.isArray(q)}U.isArray=M;function c(q){return typeof q=="boolean"}U.isBoolean=c;function i(q){return q===null}U.isNull=i;function d(q){return q==null}U.isNullOrUndefined=d;function b(q){return typeof q=="number"}U.isNumber=b;function w(q){return typeof q=="string"}U.isString=w;function E(q){return typeof q=="symbol"}U.isSymbol=E;function y(q){return q===void 0}U.isUndefined=y;function S(q){return T(q)&&I(q)==="[object RegExp]"}U.isRegExp=S,U.types.isRegExp=S;function T(q){return typeof q=="object"&&q!==null}U.isObject=T;function o(q){return T(q)&&I(q)==="[object Date]"}U.isDate=o,U.types.isDate=o;function P(q){return T(q)&&(I(q)==="[object Error]"||q instanceof Error)}U.isError=P,U.types.isNativeError=P;function x(q){return typeof q=="function"}U.isFunction=x;function _(q){return q===null||typeof q=="boolean"||typeof q=="number"||typeof q=="string"||typeof q=="symbol"||typeof q=="undefined"}U.isPrimitive=_,U.isBuffer=e(75272);function I(q){return Object.prototype.toString.call(q)}function N(q){return q<10?"0"+q.toString(10):q.toString(10)}var k=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function F(){var q=new Date,ee=[N(q.getHours()),N(q.getMinutes()),N(q.getSeconds())].join(":");return[q.getDate(),k[q.getMonth()],ee].join(" ")}U.log=function(){console.log("%s - %s",F(),U.format.apply(U,arguments))},U.inherits=e(6768),U._extend=function(q,ee){if(!ee||!T(ee))return q;for(var Q=Object.keys(ee),oe=Q.length;oe--;)q[Q[oe]]=ee[Q[oe]];return q};function O(q,ee){return Object.prototype.hasOwnProperty.call(q,ee)}var z=typeof Symbol!="undefined"?Symbol("util.promisify.custom"):void 0;U.promisify=function(ee){if(typeof ee!="function")throw new TypeError('The "original" argument must be of type Function');if(z&&ee[z]){var Q=ee[z];if(typeof Q!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(Q,z,{value:Q,enumerable:!1,writable:!1,configurable:!0}),Q}function Q(){for(var oe,Z,Y=new Promise(function($,ie){oe=$,Z=ie}),te=[],X=0;X<arguments.length;X++)te.push(arguments[X]);te.push(function($,ie){$?Z($):oe(ie)});try{ee.apply(this,te)}catch($){Z($)}return Y}return Object.setPrototypeOf(Q,Object.getPrototypeOf(ee)),z&&Object.defineProperty(Q,z,{value:Q,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(Q,L(ee))},U.promisify.custom=z;function B(q,ee){if(!q){var Q=new Error("Promise was rejected with a falsy value");Q.reason=q,q=Q}return ee(q)}function W(q){if(typeof q!="function")throw new TypeError('The "original" argument must be of type Function');function ee(){for(var Q=[],oe=0;oe<arguments.length;oe++)Q.push(arguments[oe]);var Z=Q.pop();if(typeof Z!="function")throw new TypeError("The last argument must be of type Function");var Y=this,te=function(){return Z.apply(Y,arguments)};q.apply(this,Q).then(function(X){g.nextTick(te.bind(null,null,X))},function(X){g.nextTick(B.bind(null,X,te))})}return Object.setPrototypeOf(ee,Object.getPrototypeOf(q)),Object.defineProperties(ee,L(q)),ee}U.callbackify=W},5408:function(G,U,e){var g=e(13380);G.exports=function(a){return g("webgl",a)}},96632:function(G,U,e){var g=e(46492),L=e(63436),a=e(57916),C=e(99676),A=e(2304),v=C("Object.prototype.toString"),p=e(46672)(),r=typeof globalThis=="undefined"?e.g:globalThis,t=L(),s=C("String.prototype.slice"),n=Object.getPrototypeOf,f=C("Array.prototype.indexOf",!0)||function(M,c){for(var i=0;i<M.length;i+=1)if(M[i]===c)return i;return-1},u={__proto__:null};p&&A&&n?g(t,function(h){var M=new r[h];if(Symbol.toStringTag in M){var c=n(M),i=A(c,Symbol.toStringTag);if(!i){var d=n(c);i=A(d,Symbol.toStringTag)}u["$"+h]=a(i.get)}}):g(t,function(h){var M=new r[h],c=M.slice||M.set;c&&(u["$"+h]=a(c))});var l=function(M){var c=!1;return g(u,function(i,d){if(!c)try{"$"+i(M)===d&&(c=s(d,1))}catch{}}),c},m=function(M){var c=!1;return g(u,function(i,d){if(!c)try{i(M),c=s(d,1)}catch{}}),c};G.exports=function(M){if(!M||typeof M!="object")return!1;if(!p){var c=s(v(M),8,-1);return f(t,c)>-1?c:c!=="Object"?!1:m(M)}return A?l(M):null}},67020:function(G,U,e){var g=e(38700),L=e(50896),a=g.instance();function C(u){this.local=this.regionalOptions[u||""]||this.regionalOptions[""]}C.prototype=new g.baseCalendar,L(C.prototype,{name:"Chinese",jdEpoch:17214255e-1,hasYearZero:!1,minMonth:0,firstMonth:0,minDay:1,regionalOptions:{"":{name:"Chinese",epochs:["BEC","EC"],monthNumbers:function(u,l){if(typeof u=="string"){var m=u.match(v);return m?m[0]:""}var h=this._validateYear(u),M=u.month(),c=""+this.toChineseMonth(h,M);return l&&c.length<2&&(c="0"+c),this.isIntercalaryMonth(h,M)&&(c+="i"),c},monthNames:function(u){if(typeof u=="string"){var l=u.match(p);return l?l[0]:""}var m=this._validateYear(u),h=u.month(),M=this.toChineseMonth(m,h),c=["\u4E00\u6708","\u4E8C\u6708","\u4E09\u6708","\u56DB\u6708","\u4E94\u6708","\u516D\u6708","\u4E03\u6708","\u516B\u6708","\u4E5D\u6708","\u5341\u6708","\u5341\u4E00\u6708","\u5341\u4E8C\u6708"][M-1];return this.isIntercalaryMonth(m,h)&&(c="\u95F0"+c),c},monthNamesShort:function(u){if(typeof u=="string"){var l=u.match(r);return l?l[0]:""}var m=this._validateYear(u),h=u.month(),M=this.toChineseMonth(m,h),c=["\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D","\u4E03","\u516B","\u4E5D","\u5341","\u5341\u4E00","\u5341\u4E8C"][M-1];return this.isIntercalaryMonth(m,h)&&(c="\u95F0"+c),c},parseMonth:function(u,l){u=this._validateYear(u);var m=parseInt(l),h;if(isNaN(m))l[0]==="\u95F0"&&(h=!0,l=l.substring(1)),l[l.length-1]==="\u6708"&&(l=l.substring(0,l.length-1)),m=1+["\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D","\u4E03","\u516B","\u4E5D","\u5341","\u5341\u4E00","\u5341\u4E8C"].indexOf(l);else{var M=l[l.length-1];h=M==="i"||M==="I"}var c=this.toMonthIndex(u,m,h);return c},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},_validateYear:function(u,l){if(u.year&&(u=u.year()),typeof u!="number"||u<1888||u>2111)throw l.replace(/\{0\}/,this.local.name);return u},toMonthIndex:function(u,l,m){var h=this.intercalaryMonth(u),M=m&&l!==h;if(M||l<1||l>12)throw g.local.invalidMonth.replace(/\{0\}/,this.local.name);var c;return h?!m&&l<=h?c=l-1:c=l:c=l-1,c},toChineseMonth:function(u,l){u.year&&(u=u.year(),l=u.month());var m=this.intercalaryMonth(u),h=m?12:11;if(l<0||l>h)throw g.local.invalidMonth.replace(/\{0\}/,this.local.name);var M;return m?l<m?M=l+1:M=l:M=l+1,M},intercalaryMonth:function(u){u=this._validateYear(u);var l=t[u-t[0]],m=l>>13;return m},isIntercalaryMonth:function(u,l){u.year&&(u=u.year(),l=u.month());var m=this.intercalaryMonth(u);return!!m&&m===l},leapYear:function(u){return this.intercalaryMonth(u)!==0},weekOfYear:function(u,l,m){var h=this._validateYear(u,g.local.invalidyear),M=s[h-s[0]],c=M>>9&4095,i=M>>5&15,d=M&31,b;b=a.newDate(c,i,d),b.add(4-(b.dayOfWeek()||7),"d");var w=this.toJD(u,l,m)-b.toJD();return 1+Math.floor(w/7)},monthsInYear:function(u){return this.leapYear(u)?13:12},daysInMonth:function(u,l){u.year&&(l=u.month(),u=u.year()),u=this._validateYear(u);var m=t[u-t[0]],h=m>>13,M=h?12:11;if(l>M)throw g.local.invalidMonth.replace(/\{0\}/,this.local.name);var c=m&1<<12-l?30:29;return c},weekDay:function(u,l,m){return(this.dayOfWeek(u,l,m)||7)<6},toJD:function(u,l,m){var h=this._validate(u,c,m,g.local.invalidDate);u=this._validateYear(h.year()),l=h.month(),m=h.day();var M=this.isIntercalaryMonth(u,l),c=this.toChineseMonth(u,l),i=f(u,c,m,M);return a.toJD(i.year,i.month,i.day)},fromJD:function(u){var l=a.fromJD(u),m=n(l.year(),l.month(),l.day()),h=this.toMonthIndex(m.year,m.month,m.isIntercalary);return this.newDate(m.year,h,m.day)},fromString:function(u){var l=u.match(A),m=this._validateYear(+l[1]),h=+l[2],M=!!l[3],c=this.toMonthIndex(m,h,M),i=+l[4];return this.newDate(m,c,i)},add:function(u,l,m){var h=u.year(),M=u.month(),c=this.isIntercalaryMonth(h,M),i=this.toChineseMonth(h,M),d=Object.getPrototypeOf(C.prototype).add.call(this,u,l,m);if(m==="y"){var b=d.year(),w=d.month(),E=this.isIntercalaryMonth(b,i),y=c&&E?this.toMonthIndex(b,i,!0):this.toMonthIndex(b,i,!1);y!==w&&d.month(y)}return d}});var A=/^\s*(-?\d\d\d\d|\d\d)[-/](\d?\d)([iI]?)[-/](\d?\d)/m,v=/^\d?\d[iI]?/m,p=/^??[]?/m,r=/^??[]?/m;g.calendars.chinese=C;var t=[1887,5780,5802,19157,2742,50359,1198,2646,46378,7466,3412,30122,5482,67949,2396,5294,43597,6732,6954,36181,2772,4954,18781,2396,54427,5274,6730,47781,5800,6868,21210,4790,59703,2350,5270,46667,3402,3496,38325,1388,4782,18735,2350,52374,6804,7498,44457,2906,1388,29294,4700,63789,6442,6804,56138,5802,2772,38235,1210,4698,22827,5418,63125,3476,5802,43701,2484,5302,27223,2646,70954,7466,3412,54698,5482,2412,38062,5294,2636,32038,6954,60245,2772,4826,43357,2394,5274,39501,6730,72357,5800,5844,53978,4790,2358,38039,5270,87627,3402,3496,54708,5484,4782,43311,2350,3222,27978,7498,68965,2904,5484,45677,4700,6444,39573,6804,6986,19285,2772,62811,1210,4698,47403,5418,5780,38570,5546,76469,2420,5302,51799,2646,5414,36501,3412,5546,18869,2412,54446,5276,6732,48422,6822,2900,28010,4826,92509,2394,5274,55883,6730,6820,47956,5812,2778,18779,2358,62615,5270,5450,46757,3492,5556,27318,4718,67887,2350,3222,52554,7498,3428,38252,5468,4700,31022,6444,64149,6804,6986,43861,2772,5338,35421,2650,70955,5418,5780,54954,5546,2740,38074,5302,2646,29991,3366,61011,3412,5546,43445,2412,5294,35406,6732,72998,6820,6996,52586,2778,2396,38045,5274,6698,23333,6820,64338,5812,2746,43355,2358,5270,39499,5450,79525,3492,5548],s=[1887,966732,967231,967733,968265,968766,969297,969798,970298,970829,971330,971830,972362,972863,973395,973896,974397,974928,975428,975929,976461,976962,977462,977994,978494,979026,979526,980026,980558,981059,981559,982091,982593,983124,983624,984124,984656,985157,985656,986189,986690,987191,987722,988222,988753,989254,989754,990286,990788,991288,991819,992319,992851,993352,993851,994383,994885,995385,995917,996418,996918,997450,997949,998481,998982,999483,1000014,1000515,1001016,1001548,1002047,1002578,1003080,1003580,1004111,1004613,1005113,1005645,1006146,1006645,1007177,1007678,1008209,1008710,1009211,1009743,1010243,1010743,1011275,1011775,1012306,1012807,1013308,1013840,1014341,1014841,1015373,1015874,1016404,1016905,1017405,1017937,1018438,1018939,1019471,1019972,1020471,1021002,1021503,1022035,1022535,1023036,1023568,1024069,1024568,1025100,1025601,1026102,1026633,1027133,1027666,1028167,1028666,1029198,1029699,1030199,1030730,1031231,1031763,1032264,1032764,1033296,1033797,1034297,1034828,1035329,1035830,1036362,1036861,1037393,1037894,1038394,1038925,1039427,1039927,1040459,1040959,1041491,1041992,1042492,1043023,1043524,1044024,1044556,1045057,1045558,1046090,1046590,1047121,1047622,1048122,1048654,1049154,1049655,1050187,1050689,1051219,1051720,1052220,1052751,1053252,1053752,1054284,1054786,1055285,1055817,1056317,1056849,1057349,1057850,1058382,1058883,1059383,1059915,1060415,1060947,1061447,1061947,1062479,1062981,1063480,1064012,1064514,1065014,1065545,1066045,1066577,1067078,1067578,1068110,1068611,1069112,1069642,1070142,1070674,1071175,1071675,1072207,1072709,1073209,1073740,1074241,1074741,1075273,1075773,1076305,1076807,1077308,1077839,1078340,1078840,1079372,1079871,1080403,1080904];function n(u,l,m,h){var M,c;if(typeof u=="object")M=u,c=l||{};else{var i=typeof u=="number"&&u>=1888&&u<=2111;if(!i)throw new Error("Solar year outside range 1888-2111");var d=typeof l=="number"&&l>=1&&l<=12;if(!d)throw new Error("Solar month outside range 1 - 12");var b=typeof m=="number"&&m>=1&&m<=31;if(!b)throw new Error("Solar day outside range 1 - 31");M={year:u,month:l,day:m},c=h||{}}var w=s[M.year-s[0]],E=M.year<<9|M.month<<5|M.day;c.year=E>=w?M.year:M.year-1,w=s[c.year-s[0]];var y=w>>9&4095,S=w>>5&15,T=w&31,o,P=new Date(y,S-1,T),x=new Date(M.year,M.month-1,M.day);o=Math.round((x-P)/864e5);var _=t[c.year-t[0]],I;for(I=0;I<13;I++){var N=_&1<<12-I?30:29;if(o<N)break;o-=N}var k=_>>13;return!k||I<k?(c.isIntercalary=!1,c.month=1+I):I===k?(c.isIntercalary=!0,c.month=I):(c.isIntercalary=!1,c.month=I),c.day=1+o,c}function f(u,l,m,h,M){var c,i;if(typeof u=="object")i=u,c=l||{};else{var d=typeof u=="number"&&u>=1888&&u<=2111;if(!d)throw new Error("Lunar year outside range 1888-2111");var b=typeof l=="number"&&l>=1&&l<=12;if(!b)throw new Error("Lunar month outside range 1 - 12");var w=typeof m=="number"&&m>=1&&m<=30;if(!w)throw new Error("Lunar day outside range 1 - 30");var E;typeof h=="object"?(E=!1,c=h):(E=!!h,c=M||{}),i={year:u,month:l,day:m,isIntercalary:E}}var y;y=i.day-1;var S=t[i.year-t[0]],T=S>>13,o;T&&(i.month>T||i.isIntercalary)?o=i.month:o=i.month-1;for(var P=0;P<o;P++){var x=S&1<<12-P?30:29;y+=x}var _=s[i.year-s[0]],I=_>>9&4095,N=_>>5&15,k=_&31,F=new Date(I,N-1,k+y);return c.year=F.getFullYear(),c.month=1+F.getMonth(),c.day=F.getDate(),c}},89792:function(G,U,e){var g=e(38700),L=e(50896);function a(C){this.local=this.regionalOptions[C||""]||this.regionalOptions[""]}a.prototype=new g.baseCalendar,L(a.prototype,{name:"Coptic",jdEpoch:18250295e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Coptic",epochs:["BAM","AM"],monthNames:["Thout","Paopi","Hathor","Koiak","Tobi","Meshir","Paremhat","Paremoude","Pashons","Paoni","Epip","Mesori","Pi Kogi Enavot"],monthNamesShort:["Tho","Pao","Hath","Koi","Tob","Mesh","Pat","Pad","Pash","Pao","Epi","Meso","PiK"],dayNames:["Tkyriaka","Pesnau","Pshoment","Peftoou","Ptiou","Psoou","Psabbaton"],dayNamesShort:["Tky","Pes","Psh","Pef","Pti","Pso","Psa"],dayNamesMin:["Tk","Pes","Psh","Pef","Pt","Pso","Psa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(v){var A=this._validate(v,this.minMonth,this.minDay,g.local.invalidYear),v=A.year()+(A.year()<0?1:0);return v%4===3||v%4===-1},monthsInYear:function(C){return this._validate(C,this.minMonth,this.minDay,g.local.invalidYear||g.regionalOptions[""].invalidYear),13},weekOfYear:function(C,A,v){var p=this.newDate(C,A,v);return p.add(-p.dayOfWeek(),"d"),Math.floor((p.dayOfYear()-1)/7)+1},daysInMonth:function(C,A){var v=this._validate(C,A,this.minDay,g.local.invalidMonth);return this.daysPerMonth[v.month()-1]+(v.month()===13&&this.leapYear(v.year())?1:0)},weekDay:function(C,A,v){return(this.dayOfWeek(C,A,v)||7)<6},toJD:function(C,A,v){var p=this._validate(C,A,v,g.local.invalidDate);return C=p.year(),C<0&&C++,p.day()+(p.month()-1)*30+(C-1)*365+Math.floor(C/4)+this.jdEpoch-1},fromJD:function(C){var A=Math.floor(C)+.5-this.jdEpoch,v=Math.floor((A-Math.floor((A+366)/1461))/365)+1;v<=0&&v--,A=Math.floor(C)+.5-this.newDate(v,1,1).toJD();var p=Math.floor(A/30)+1,r=A-(p-1)*30+1;return this.newDate(v,p,r)}}),g.calendars.coptic=a},55668:function(G,U,e){var g=e(38700),L=e(50896);function a(A){this.local=this.regionalOptions[A||""]||this.regionalOptions[""]}a.prototype=new g.baseCalendar,L(a.prototype,{name:"Discworld",jdEpoch:17214255e-1,daysPerMonth:[16,32,32,32,32,32,32,32,32,32,32,32,32],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Discworld",epochs:["BUC","UC"],monthNames:["Ick","Offle","February","March","April","May","June","Grune","August","Spune","Sektober","Ember","December"],monthNamesShort:["Ick","Off","Feb","Mar","Apr","May","Jun","Gru","Aug","Spu","Sek","Emb","Dec"],dayNames:["Sunday","Octeday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Oct","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Oc","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:2,isRTL:!1}},leapYear:function(A){return this._validate(A,this.minMonth,this.minDay,g.local.invalidYear),!1},monthsInYear:function(A){return this._validate(A,this.minMonth,this.minDay,g.local.invalidYear),13},daysInYear:function(A){return this._validate(A,this.minMonth,this.minDay,g.local.invalidYear),400},weekOfYear:function(A,v,p){var r=this.newDate(A,v,p);return r.add(-r.dayOfWeek(),"d"),Math.floor((r.dayOfYear()-1)/8)+1},daysInMonth:function(A,v){var p=this._validate(A,v,this.minDay,g.local.invalidMonth);return this.daysPerMonth[p.month()-1]},daysInWeek:function(){return 8},dayOfWeek:function(A,v,p){var r=this._validate(A,v,p,g.local.invalidDate);return(r.day()+1)%8},weekDay:function(A,v,p){var r=this.dayOfWeek(A,v,p);return r>=2&&r<=6},extraInfo:function(A,v,p){var r=this._validate(A,v,p,g.local.invalidDate);return{century:C[Math.floor((r.year()-1)/100)+1]||""}},toJD:function(A,v,p){var r=this._validate(A,v,p,g.local.invalidDate);return A=r.year()+(r.year()<0?1:0),v=r.month(),p=r.day(),p+(v>1?16:0)+(v>2?(v-2)*32:0)+(A-1)*400+this.jdEpoch-1},fromJD:function(A){A=Math.floor(A+.5)-Math.floor(this.jdEpoch)-1;var v=Math.floor(A/400)+1;A-=(v-1)*400,A+=A>15?16:0;var p=Math.floor(A/32)+1,r=A-(p-1)*32+1;return this.newDate(v<=0?v-1:v,p,r)}});var C={20:"Fruitbat",21:"Anchovy"};g.calendars.discworld=a},65168:function(G,U,e){var g=e(38700),L=e(50896);function a(C){this.local=this.regionalOptions[C||""]||this.regionalOptions[""]}a.prototype=new g.baseCalendar,L(a.prototype,{name:"Ethiopian",jdEpoch:17242205e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Ethiopian",epochs:["BEE","EE"],monthNames:["Meskerem","Tikemet","Hidar","Tahesas","Tir","Yekatit","Megabit","Miazia","Genbot","Sene","Hamle","Nehase","Pagume"],monthNamesShort:["Mes","Tik","Hid","Tah","Tir","Yek","Meg","Mia","Gen","Sen","Ham","Neh","Pag"],dayNames:["Ehud","Segno","Maksegno","Irob","Hamus","Arb","Kidame"],dayNamesShort:["Ehu","Seg","Mak","Iro","Ham","Arb","Kid"],dayNamesMin:["Eh","Se","Ma","Ir","Ha","Ar","Ki"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(v){var A=this._validate(v,this.minMonth,this.minDay,g.local.invalidYear),v=A.year()+(A.year()<0?1:0);return v%4===3||v%4===-1},monthsInYear:function(C){return this._validate(C,this.minMonth,this.minDay,g.local.invalidYear||g.regionalOptions[""].invalidYear),13},weekOfYear:function(C,A,v){var p=this.newDate(C,A,v);return p.add(-p.dayOfWeek(),"d"),Math.floor((p.dayOfYear()-1)/7)+1},daysInMonth:function(C,A){var v=this._validate(C,A,this.minDay,g.local.invalidMonth);return this.daysPerMonth[v.month()-1]+(v.month()===13&&this.leapYear(v.year())?1:0)},weekDay:function(C,A,v){return(this.dayOfWeek(C,A,v)||7)<6},toJD:function(C,A,v){var p=this._validate(C,A,v,g.local.invalidDate);return C=p.year(),C<0&&C++,p.day()+(p.month()-1)*30+(C-1)*365+Math.floor(C/4)+this.jdEpoch-1},fromJD:function(C){var A=Math.floor(C)+.5-this.jdEpoch,v=Math.floor((A-Math.floor((A+366)/1461))/365)+1;v<=0&&v--,A=Math.floor(C)+.5-this.newDate(v,1,1).toJD();var p=Math.floor(A/30)+1,r=A-(p-1)*30+1;return this.newDate(v,p,r)}}),g.calendars.ethiopian=a},2084:function(G,U,e){var g=e(38700),L=e(50896);function a(A){this.local=this.regionalOptions[A||""]||this.regionalOptions[""]}a.prototype=new g.baseCalendar,L(a.prototype,{name:"Hebrew",jdEpoch:347995.5,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29,29],hasYearZero:!1,minMonth:1,firstMonth:7,minDay:1,regionalOptions:{"":{name:"Hebrew",epochs:["BAM","AM"],monthNames:["Nisan","Iyar","Sivan","Tammuz","Av","Elul","Tishrei","Cheshvan","Kislev","Tevet","Shevat","Adar","Adar II"],monthNamesShort:["Nis","Iya","Siv","Tam","Av","Elu","Tis","Che","Kis","Tev","She","Ada","Ad2"],dayNames:["Yom Rishon","Yom Sheni","Yom Shlishi","Yom Revi'i","Yom Chamishi","Yom Shishi","Yom Shabbat"],dayNamesShort:["Ris","She","Shl","Rev","Cha","Shi","Sha"],dayNamesMin:["Ri","She","Shl","Re","Ch","Shi","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(A){var v=this._validate(A,this.minMonth,this.minDay,g.local.invalidYear);return this._leapYear(v.year())},_leapYear:function(A){return A=A<0?A+1:A,C(A*7+1,19)<7},monthsInYear:function(A){return this._validate(A,this.minMonth,this.minDay,g.local.invalidYear),this._leapYear(A.year?A.year():A)?13:12},weekOfYear:function(A,v,p){var r=this.newDate(A,v,p);return r.add(-r.dayOfWeek(),"d"),Math.floor((r.dayOfYear()-1)/7)+1},daysInYear:function(A){var v=this._validate(A,this.minMonth,this.minDay,g.local.invalidYear);return A=v.year(),this.toJD(A===-1?1:A+1,7,1)-this.toJD(A,7,1)},daysInMonth:function(A,v){return A.year&&(v=A.month(),A=A.year()),this._validate(A,v,this.minDay,g.local.invalidMonth),v===12&&this.leapYear(A)||v===8&&C(this.daysInYear(A),10)===5?30:v===9&&C(this.daysInYear(A),10)===3?29:this.daysPerMonth[v-1]},weekDay:function(A,v,p){return this.dayOfWeek(A,v,p)!==6},extraInfo:function(A,v,p){var r=this._validate(A,v,p,g.local.invalidDate);return{yearType:(this.leapYear(r)?"embolismic":"common")+" "+["deficient","regular","complete"][this.daysInYear(r)%10-3]}},toJD:function(A,v,p){var r=this._validate(A,v,p,g.local.invalidDate);A=r.year(),v=r.month(),p=r.day();var t=A<=0?A+1:A,s=this.jdEpoch+this._delay1(t)+this._delay2(t)+p+1;if(v<7){for(var n=7;n<=this.monthsInYear(A);n++)s+=this.daysInMonth(A,n);for(var n=1;n<v;n++)s+=this.daysInMonth(A,n)}else for(var n=7;n<v;n++)s+=this.daysInMonth(A,n);return s},_delay1:function(A){var v=Math.floor((235*A-234)/19),p=12084+13753*v,r=v*29+Math.floor(p/25920);return C(3*(r+1),7)<3&&r++,r},_delay2:function(A){var v=this._delay1(A-1),p=this._delay1(A),r=this._delay1(A+1);return r-p===356?2:p-v===382?1:0},fromJD:function(A){A=Math.floor(A)+.5;for(var v=Math.floor((A-this.jdEpoch)*98496/35975351)-1;A>=this.toJD(v===-1?1:v+1,7,1);)v++;for(var p=A<this.toJD(v,1,1)?7:1;A>this.toJD(v,p,this.daysInMonth(v,p));)p++;var r=A-this.toJD(v,p,1)+1;return this.newDate(v,p,r)}});function C(A,v){return A-v*Math.floor(A/v)}g.calendars.hebrew=a},26368:function(G,U,e){var g=e(38700),L=e(50896);function a(C){this.local=this.regionalOptions[C||""]||this.regionalOptions[""]}a.prototype=new g.baseCalendar,L(a.prototype,{name:"Islamic",jdEpoch:19484395e-1,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Islamic",epochs:["BH","AH"],monthNames:["Muharram","Safar","Rabi' al-awwal","Rabi' al-thani","Jumada al-awwal","Jumada al-thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-ahad","Yawm al-ithnayn","Yawm ath-thulaathaa'","Yawm al-arbi'aa'","Yawm al-kham\u012Bs","Yawm al-jum'a","Yawm as-sabt"],dayNamesShort:["Aha","Ith","Thu","Arb","Kha","Jum","Sab"],dayNamesMin:["Ah","It","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(C){var A=this._validate(C,this.minMonth,this.minDay,g.local.invalidYear);return(A.year()*11+14)%30<11},weekOfYear:function(C,A,v){var p=this.newDate(C,A,v);return p.add(-p.dayOfWeek(),"d"),Math.floor((p.dayOfYear()-1)/7)+1},daysInYear:function(C){return this.leapYear(C)?355:354},daysInMonth:function(C,A){var v=this._validate(C,A,this.minDay,g.local.invalidMonth);return this.daysPerMonth[v.month()-1]+(v.month()===12&&this.leapYear(v.year())?1:0)},weekDay:function(C,A,v){return this.dayOfWeek(C,A,v)!==5},toJD:function(C,A,v){var p=this._validate(C,A,v,g.local.invalidDate);return C=p.year(),A=p.month(),v=p.day(),C=C<=0?C+1:C,v+Math.ceil(29.5*(A-1))+(C-1)*354+Math.floor((3+11*C)/30)+this.jdEpoch-1},fromJD:function(C){C=Math.floor(C)+.5;var A=Math.floor((30*(C-this.jdEpoch)+10646)/10631);A=A<=0?A-1:A;var v=Math.min(12,Math.ceil((C-29-this.toJD(A,1,1))/29.5)+1),p=C-this.toJD(A,v,1)+1;return this.newDate(A,v,p)}}),g.calendars.islamic=a},24747:function(G,U,e){var g=e(38700),L=e(50896);function a(C){this.local=this.regionalOptions[C||""]||this.regionalOptions[""]}a.prototype=new g.baseCalendar,L(a.prototype,{name:"Julian",jdEpoch:17214235e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Julian",epochs:["BC","AD"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(v){var A=this._validate(v,this.minMonth,this.minDay,g.local.invalidYear),v=A.year()<0?A.year()+1:A.year();return v%4===0},weekOfYear:function(C,A,v){var p=this.newDate(C,A,v);return p.add(4-(p.dayOfWeek()||7),"d"),Math.floor((p.dayOfYear()-1)/7)+1},daysInMonth:function(C,A){var v=this._validate(C,A,this.minDay,g.local.invalidMonth);return this.daysPerMonth[v.month()-1]+(v.month()===2&&this.leapYear(v.year())?1:0)},weekDay:function(C,A,v){return(this.dayOfWeek(C,A,v)||7)<6},toJD:function(C,A,v){var p=this._validate(C,A,v,g.local.invalidDate);return C=p.year(),A=p.month(),v=p.day(),C<0&&C++,A<=2&&(C--,A+=12),Math.floor(365.25*(C+4716))+Math.floor(30.6001*(A+1))+v-1524.5},fromJD:function(C){var A=Math.floor(C+.5),v=A+1524,p=Math.floor((v-122.1)/365.25),r=Math.floor(365.25*p),t=Math.floor((v-r)/30.6001),s=t-Math.floor(t<14?1:13),n=p-Math.floor(s>2?4716:4715),f=v-r-Math.floor(30.6001*t);return n<=0&&n--,this.newDate(n,s,f)}}),g.calendars.julian=a},65616:function(G,U,e){var g=e(38700),L=e(50896);function a(v){this.local=this.regionalOptions[v||""]||this.regionalOptions[""]}a.prototype=new g.baseCalendar,L(a.prototype,{name:"Mayan",jdEpoch:584282.5,hasYearZero:!0,minMonth:0,firstMonth:0,minDay:0,regionalOptions:{"":{name:"Mayan",epochs:["",""],monthNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],monthNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],dayNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesMin:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],digits:null,dateFormat:"YYYY.m.d",firstDay:0,isRTL:!1,haabMonths:["Pop","Uo","Zip","Zotz","Tzec","Xul","Yaxkin","Mol","Chen","Yax","Zac","Ceh","Mac","Kankin","Muan","Pax","Kayab","Cumku","Uayeb"],tzolkinMonths:["Imix","Ik","Akbal","Kan","Chicchan","Cimi","Manik","Lamat","Muluc","Oc","Chuen","Eb","Ben","Ix","Men","Cib","Caban","Etznab","Cauac","Ahau"]}},leapYear:function(v){return this._validate(v,this.minMonth,this.minDay,g.local.invalidYear),!1},formatYear:function(v){var p=this._validate(v,this.minMonth,this.minDay,g.local.invalidYear);v=p.year();var r=Math.floor(v/400);v=v%400,v+=v<0?400:0;var t=Math.floor(v/20);return r+"."+t+"."+v%20},forYear:function(v){if(v=v.split("."),v.length<3)throw"Invalid Mayan year";for(var p=0,r=0;r<v.length;r++){var t=parseInt(v[r],10);if(Math.abs(t)>19||r>0&&t<0)throw"Invalid Mayan year";p=p*20+t}return p},monthsInYear:function(v){return this._validate(v,this.minMonth,this.minDay,g.local.invalidYear),18},weekOfYear:function(v,p,r){return this._validate(v,p,r,g.local.invalidDate),0},daysInYear:function(v){return this._validate(v,this.minMonth,this.minDay,g.local.invalidYear),360},daysInMonth:function(v,p){return this._validate(v,p,this.minDay,g.local.invalidMonth),20},daysInWeek:function(){return 5},dayOfWeek:function(v,p,r){var t=this._validate(v,p,r,g.local.invalidDate);return t.day()},weekDay:function(v,p,r){return this._validate(v,p,r,g.local.invalidDate),!0},extraInfo:function(v,p,r){var t=this._validate(v,p,r,g.local.invalidDate),s=t.toJD(),n=this._toHaab(s),f=this._toTzolkin(s);return{haabMonthName:this.local.haabMonths[n[0]-1],haabMonth:n[0],haabDay:n[1],tzolkinDayName:this.local.tzolkinMonths[f[0]-1],tzolkinDay:f[0],tzolkinTrecena:f[1]}},_toHaab:function(v){v-=this.jdEpoch;var p=C(v+8+(18-1)*20,365);return[Math.floor(p/20)+1,C(p,20)]},_toTzolkin:function(v){return v-=this.jdEpoch,[A(v+20,20),A(v+4,13)]},toJD:function(v,p,r){var t=this._validate(v,p,r,g.local.invalidDate);return t.day()+t.month()*20+t.year()*360+this.jdEpoch},fromJD:function(v){v=Math.floor(v)+.5-this.jdEpoch;var p=Math.floor(v/360);v=v%360,v+=v<0?360:0;var r=Math.floor(v/20),t=v%20;return this.newDate(p,r,t)}});function C(v,p){return v-p*Math.floor(v/p)}function A(v,p){return C(v-1,p)+1}g.calendars.mayan=a},30632:function(G,U,e){var g=e(38700),L=e(50896);function a(A){this.local=this.regionalOptions[A||""]||this.regionalOptions[""]}a.prototype=new g.baseCalendar;var C=g.instance("gregorian");L(a.prototype,{name:"Nanakshahi",jdEpoch:22576735e-1,daysPerMonth:[31,31,31,31,31,30,30,30,30,30,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Nanakshahi",epochs:["BN","AN"],monthNames:["Chet","Vaisakh","Jeth","Harh","Sawan","Bhadon","Assu","Katak","Maghar","Poh","Magh","Phagun"],monthNamesShort:["Che","Vai","Jet","Har","Saw","Bha","Ass","Kat","Mgr","Poh","Mgh","Pha"],dayNames:["Somvaar","Mangalvar","Budhvaar","Veervaar","Shukarvaar","Sanicharvaar","Etvaar"],dayNamesShort:["Som","Mangal","Budh","Veer","Shukar","Sanichar","Et"],dayNamesMin:["So","Ma","Bu","Ve","Sh","Sa","Et"],digits:null,dateFormat:"dd-mm-yyyy",firstDay:0,isRTL:!1}},leapYear:function(A){var v=this._validate(A,this.minMonth,this.minDay,g.local.invalidYear||g.regionalOptions[""].invalidYear);return C.leapYear(v.year()+(v.year()<1?1:0)+1469)},weekOfYear:function(A,v,p){var r=this.newDate(A,v,p);return r.add(1-(r.dayOfWeek()||7),"d"),Math.floor((r.dayOfYear()-1)/7)+1},daysInMonth:function(A,v){var p=this._validate(A,v,this.minDay,g.local.invalidMonth);return this.daysPerMonth[p.month()-1]+(p.month()===12&&this.leapYear(p.year())?1:0)},weekDay:function(A,v,p){return(this.dayOfWeek(A,v,p)||7)<6},toJD:function(t,v,p){var r=this._validate(t,v,p,g.local.invalidMonth),t=r.year();t<0&&t++;for(var s=r.day(),n=1;n<r.month();n++)s+=this.daysPerMonth[n-1];return s+C.toJD(t+1468,3,13)},fromJD:function(A){A=Math.floor(A+.5);for(var v=Math.floor((A-(this.jdEpoch-1))/366);A>=this.toJD(v+1,1,1);)v++;for(var p=A-Math.floor(this.toJD(v,1,1)+.5)+1,r=1;p>this.daysInMonth(v,r);)p-=this.daysInMonth(v,r),r++;return this.newDate(v,r,p)}}),g.calendars.nanakshahi=a},73040:function(G,U,e){var g=e(38700),L=e(50896);function a(C){this.local=this.regionalOptions[C||""]||this.regionalOptions[""]}a.prototype=new g.baseCalendar,L(a.prototype,{name:"Nepali",jdEpoch:17007095e-1,daysPerMonth:[31,31,32,32,31,30,30,29,30,29,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,daysPerYear:365,regionalOptions:{"":{name:"Nepali",epochs:["BBS","ABS"],monthNames:["Baisakh","Jestha","Ashadh","Shrawan","Bhadra","Ashwin","Kartik","Mangsir","Paush","Mangh","Falgun","Chaitra"],monthNamesShort:["Bai","Je","As","Shra","Bha","Ash","Kar","Mang","Pau","Ma","Fal","Chai"],dayNames:["Aaitabaar","Sombaar","Manglbaar","Budhabaar","Bihibaar","Shukrabaar","Shanibaar"],dayNamesShort:["Aaita","Som","Mangl","Budha","Bihi","Shukra","Shani"],dayNamesMin:["Aai","So","Man","Bu","Bi","Shu","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:1,isRTL:!1}},leapYear:function(C){return this.daysInYear(C)!==this.daysPerYear},weekOfYear:function(C,A,v){var p=this.newDate(C,A,v);return p.add(-p.dayOfWeek(),"d"),Math.floor((p.dayOfYear()-1)/7)+1},daysInYear:function(C){var A=this._validate(C,this.minMonth,this.minDay,g.local.invalidYear);if(C=A.year(),typeof this.NEPALI_CALENDAR_DATA[C]=="undefined")return this.daysPerYear;for(var v=0,p=this.minMonth;p<=12;p++)v+=this.NEPALI_CALENDAR_DATA[C][p];return v},daysInMonth:function(C,A){return C.year&&(A=C.month(),C=C.year()),this._validate(C,A,this.minDay,g.local.invalidMonth),typeof this.NEPALI_CALENDAR_DATA[C]=="undefined"?this.daysPerMonth[A-1]:this.NEPALI_CALENDAR_DATA[C][A]},weekDay:function(C,A,v){return this.dayOfWeek(C,A,v)!==6},toJD:function(C,A,v){var p=this._validate(C,A,v,g.local.invalidDate);C=p.year(),A=p.month(),v=p.day();var r=g.instance(),t=0,s=A,n=C;this._createMissingCalendarData(C);var f=C-(s>9||s===9&&v>=this.NEPALI_CALENDAR_DATA[n][0]?56:57);for(A!==9&&(t=v,s--);s!==9;)s<=0&&(s=12,n--),t+=this.NEPALI_CALENDAR_DATA[n][s],s--;return A===9?(t+=v-this.NEPALI_CALENDAR_DATA[n][0],t<0&&(t+=r.daysInYear(f))):t+=this.NEPALI_CALENDAR_DATA[n][9]-this.NEPALI_CALENDAR_DATA[n][0],r.newDate(f,1,1).add(t,"d").toJD()},fromJD:function(C){var A=g.instance(),v=A.fromJD(C),p=v.year(),r=v.dayOfYear(),t=p+56;this._createMissingCalendarData(t);for(var s=9,n=this.NEPALI_CALENDAR_DATA[t][0],f=this.NEPALI_CALENDAR_DATA[t][s]-n+1;r>f;)s++,s>12&&(s=1,t++),f+=this.NEPALI_CALENDAR_DATA[t][s];var u=this.NEPALI_CALENDAR_DATA[t][s]-(f-r);return this.newDate(t,s,u)},_createMissingCalendarData:function(C){var A=this.daysPerMonth.slice(0);A.unshift(17);for(var v=C-1;v<C+2;v++)typeof this.NEPALI_CALENDAR_DATA[v]=="undefined"&&(this.NEPALI_CALENDAR_DATA[v]=A)},NEPALI_CALENDAR_DATA:{1970:[18,31,31,32,31,31,31,30,29,30,29,30,30],1971:[18,31,31,32,31,32,30,30,29,30,29,30,30],1972:[17,31,32,31,32,31,30,30,30,29,29,30,30],1973:[19,30,32,31,32,31,30,30,30,29,30,29,31],1974:[19,31,31,32,30,31,31,30,29,30,29,30,30],1975:[18,31,31,32,32,30,31,30,29,30,29,30,30],1976:[17,31,32,31,32,31,30,30,30,29,29,30,31],1977:[18,31,32,31,32,31,31,29,30,29,30,29,31],1978:[18,31,31,32,31,31,31,30,29,30,29,30,30],1979:[18,31,31,32,32,31,30,30,29,30,29,30,30],1980:[17,31,32,31,32,31,30,30,30,29,29,30,31],1981:[18,31,31,31,32,31,31,29,30,30,29,30,30],1982:[18,31,31,32,31,31,31,30,29,30,29,30,30],1983:[18,31,31,32,32,31,30,30,29,30,29,30,30],1984:[17,31,32,31,32,31,30,30,30,29,29,30,31],1985:[18,31,31,31,32,31,31,29,30,30,29,30,30],1986:[18,31,31,32,31,31,31,30,29,30,29,30,30],1987:[18,31,32,31,32,31,30,30,29,30,29,30,30],1988:[17,31,32,31,32,31,30,30,30,29,29,30,31],1989:[18,31,31,31,32,31,31,30,29,30,29,30,30],1990:[18,31,31,32,31,31,31,30,29,30,29,30,30],1991:[18,31,32,31,32,31,30,30,29,30,29,30,30],1992:[17,31,32,31,32,31,30,30,30,29,30,29,31],1993:[18,31,31,31,32,31,31,30,29,30,29,30,30],1994:[18,31,31,32,31,31,31,30,29,30,29,30,30],1995:[17,31,32,31,32,31,30,30,30,29,29,30,30],1996:[17,31,32,31,32,31,30,30,30,29,30,29,31],1997:[18,31,31,32,31,31,31,30,29,30,29,30,30],1998:[18,31,31,32,31,31,31,30,29,30,29,30,30],1999:[17,31,32,31,32,31,30,30,30,29,29,30,31],2e3:[17,30,32,31,32,31,30,30,30,29,30,29,31],2001:[18,31,31,32,31,31,31,30,29,30,29,30,30],2002:[18,31,31,32,32,31,30,30,29,30,29,30,30],2003:[17,31,32,31,32,31,30,30,30,29,29,30,31],2004:[17,30,32,31,32,31,30,30,30,29,30,29,31],2005:[18,31,31,32,31,31,31,30,29,30,29,30,30],2006:[18,31,31,32,32,31,30,30,29,30,29,30,30],2007:[17,31,32,31,32,31,30,30,30,29,29,30,31],2008:[17,31,31,31,32,31,31,29,30,30,29,29,31],2009:[18,31,31,32,31,31,31,30,29,30,29,30,30],2010:[18,31,31,32,32,31,30,30,29,30,29,30,30],2011:[17,31,32,31,32,31,30,30,30,29,29,30,31],2012:[17,31,31,31,32,31,31,29,30,30,29,30,30],2013:[18,31,31,32,31,31,31,30,29,30,29,30,30],2014:[18,31,31,32,32,31,30,30,29,30,29,30,30],2015:[17,31,32,31,32,31,30,30,30,29,29,30,31],2016:[17,31,31,31,32,31,31,29,30,30,29,30,30],2017:[18,31,31,32,31,31,31,30,29,30,29,30,30],2018:[18,31,32,31,32,31,30,30,29,30,29,30,30],2019:[17,31,32,31,32,31,30,30,30,29,30,29,31],2020:[17,31,31,31,32,31,31,30,29,30,29,30,30],2021:[18,31,31,32,31,31,31,30,29,30,29,30,30],2022:[17,31,32,31,32,31,30,30,30,29,29,30,30],2023:[17,31,32,31,32,31,30,30,30,29,30,29,31],2024:[17,31,31,31,32,31,31,30,29,30,29,30,30],2025:[18,31,31,32,31,31,31,30,29,30,29,30,30],2026:[17,31,32,31,32,31,30,30,30,29,29,30,31],2027:[17,30,32,31,32,31,30,30,30,29,30,29,31],2028:[17,31,31,32,31,31,31,30,29,30,29,30,30],2029:[18,31,31,32,31,32,30,30,29,30,29,30,30],2030:[17,31,32,31,32,31,30,30,30,30,30,30,31],2031:[17,31,32,31,32,31,31,31,31,31,31,31,31],2032:[17,32,32,32,32,32,32,32,32,32,32,32,32],2033:[18,31,31,32,32,31,30,30,29,30,29,30,30],2034:[17,31,32,31,32,31,30,30,30,29,29,30,31],2035:[17,30,32,31,32,31,31,29,30,30,29,29,31],2036:[17,31,31,32,31,31,31,30,29,30,29,30,30],2037:[18,31,31,32,32,31,30,30,29,30,29,30,30],2038:[17,31,32,31,32,31,30,30,30,29,29,30,31],2039:[17,31,31,31,32,31,31,29,30,30,29,30,30],2040:[17,31,31,32,31,31,31,30,29,30,29,30,30],2041:[18,31,31,32,32,31,30,30,29,30,29,30,30],2042:[17,31,32,31,32,31,30,30,30,29,29,30,31],2043:[17,31,31,31,32,31,31,29,30,30,29,30,30],2044:[17,31,31,32,31,31,31,30,29,30,29,30,30],2045:[18,31,32,31,32,31,30,30,29,30,29,30,30],2046:[17,31,32,31,32,31,30,30,30,29,29,30,31],2047:[17,31,31,31,32,31,31,30,29,30,29,30,30],2048:[17,31,31,32,31,31,31,30,29,30,29,30,30],2049:[17,31,32,31,32,31,30,30,30,29,29,30,30],2050:[17,31,32,31,32,31,30,30,30,29,30,29,31],2051:[17,31,31,31,32,31,31,30,29,30,29,30,30],2052:[17,31,31,32,31,31,31,30,29,30,29,30,30],2053:[17,31,32,31,32,31,30,30,30,29,29,30,30],2054:[17,31,32,31,32,31,30,30,30,29,30,29,31],2055:[17,31,31,32,31,31,31,30,29,30,30,29,30],2056:[17,31,31,32,31,32,30,30,29,30,29,30,30],2057:[17,31,32,31,32,31,30,30,30,29,29,30,31],2058:[17,30,32,31,32,31,30,30,30,29,30,29,31],2059:[17,31,31,32,31,31,31,30,29,30,29,30,30],2060:[17,31,31,32,32,31,30,30,29,30,29,30,30],2061:[17,31,32,31,32,31,30,30,30,29,29,30,31],2062:[17,30,32,31,32,31,31,29,30,29,30,29,31],2063:[17,31,31,32,31,31,31,30,29,30,29,30,30],2064:[17,31,31,32,32,31,30,30,29,30,29,30,30],2065:[17,31,32,31,32,31,30,30,30,29,29,30,31],2066:[17,31,31,31,32,31,31,29,30,30,29,29,31],2067:[17,31,31,32,31,31,31,30,29,30,29,30,30],2068:[17,31,31,32,32,31,30,30,29,30,29,30,30],2069:[17,31,32,31,32,31,30,30,30,29,29,30,31],2070:[17,31,31,31,32,31,31,29,30,30,29,30,30],2071:[17,31,31,32,31,31,31,30,29,30,29,30,30],2072:[17,31,32,31,32,31,30,30,29,30,29,30,30],2073:[17,31,32,31,32,31,30,30,30,29,29,30,31],2074:[17,31,31,31,32,31,31,30,29,30,29,30,30],2075:[17,31,31,32,31,31,31,30,29,30,29,30,30],2076:[16,31,32,31,32,31,30,30,30,29,29,30,30],2077:[17,31,32,31,32,31,30,30,30,29,30,29,31],2078:[17,31,31,31,32,31,31,30,29,30,29,30,30],2079:[17,31,31,32,31,31,31,30,29,30,29,30,30],2080:[16,31,32,31,32,31,30,30,30,29,29,30,30],2081:[17,31,31,32,32,31,30,30,30,29,30,30,30],2082:[17,31,32,31,32,31,30,30,30,29,30,30,30],2083:[17,31,31,32,31,31,30,30,30,29,30,30,30],2084:[17,31,31,32,31,31,30,30,30,29,30,30,30],2085:[17,31,32,31,32,31,31,30,30,29,30,30,30],2086:[17,31,32,31,32,31,30,30,30,29,30,30,30],2087:[16,31,31,32,31,31,31,30,30,29,30,30,30],2088:[16,30,31,32,32,30,31,30,30,29,30,30,30],2089:[17,31,32,31,32,31,30,30,30,29,30,30,30],2090:[17,31,32,31,32,31,30,30,30,29,30,30,30],2091:[16,31,31,32,31,31,31,30,30,29,30,30,30],2092:[16,31,31,32,32,31,30,30,30,29,30,30,30],2093:[17,31,32,31,32,31,30,30,30,29,30,30,30],2094:[17,31,31,32,31,31,30,30,30,29,30,30,30],2095:[17,31,31,32,31,31,31,30,29,30,30,30,30],2096:[17,30,31,32,32,31,30,30,29,30,29,30,30],2097:[17,31,32,31,32,31,30,30,30,29,30,30,30],2098:[17,31,31,32,31,31,31,29,30,29,30,30,31],2099:[17,31,31,32,31,31,31,30,29,29,30,30,30],2100:[17,31,32,31,32,30,31,30,29,30,29,30,30]}}),g.calendars.nepali=a},1104:function(G,U,e){var g=e(38700),L=e(50896);function a(A){this.local=this.regionalOptions[A||""]||this.regionalOptions[""]}a.prototype=new g.baseCalendar,L(a.prototype,{name:"Persian",jdEpoch:19483205e-1,daysPerMonth:[31,31,31,31,31,31,30,30,30,30,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Persian",epochs:["BP","AP"],monthNames:["Farvardin","Ordibehesht","Khordad","Tir","Mordad","Shahrivar","Mehr","Aban","Azar","Day","Bahman","Esfand"],monthNamesShort:["Far","Ord","Kho","Tir","Mor","Sha","Meh","Aba","Aza","Day","Bah","Esf"],dayNames:["Yekshambe","Doshambe","Seshambe","Ch\xE6harshambe","Panjshambe","Jom'e","Shambe"],dayNamesShort:["Yek","Do","Se","Ch\xE6","Panj","Jom","Sha"],dayNamesMin:["Ye","Do","Se","Ch","Pa","Jo","Sh"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(A){var v=this._validate(A,this.minMonth,this.minDay,g.local.invalidYear);return((v.year()-(v.year()>0?474:473))%2820+474+38)*682%2816<682},weekOfYear:function(A,v,p){var r=this.newDate(A,v,p);return r.add(-((r.dayOfWeek()+1)%7),"d"),Math.floor((r.dayOfYear()-1)/7)+1},daysInMonth:function(A,v){var p=this._validate(A,v,this.minDay,g.local.invalidMonth);return this.daysPerMonth[p.month()-1]+(p.month()===12&&this.leapYear(p.year())?1:0)},weekDay:function(A,v,p){return this.dayOfWeek(A,v,p)!==5},toJD:function(A,v,p){var r=this._validate(A,v,p,g.local.invalidDate);A=r.year(),v=r.month(),p=r.day();var t=A-(A>=0?474:473),s=474+C(t,2820);return p+(v<=7?(v-1)*31:(v-1)*30+6)+Math.floor((s*682-110)/2816)+(s-1)*365+Math.floor(t/2820)*1029983+this.jdEpoch-1},fromJD:function(A){A=Math.floor(A)+.5;var v=A-this.toJD(475,1,1),p=Math.floor(v/1029983),r=C(v,1029983),t=2820;if(r!==1029982){var s=Math.floor(r/366),n=C(r,366);t=Math.floor((2134*s+2816*n+2815)/1028522)+s+1}var f=t+2820*p+474;f=f<=0?f-1:f;var u=A-this.toJD(f,1,1)+1,l=u<=186?Math.ceil(u/31):Math.ceil((u-6)/30),m=A-this.toJD(f,l,1)+1;return this.newDate(f,l,m)}});function C(A,v){return A-v*Math.floor(A/v)}g.calendars.persian=a,g.calendars.jalali=a},51456:function(G,U,e){var g=e(38700),L=e(50896),a=g.instance();function C(A){this.local=this.regionalOptions[A||""]||this.regionalOptions[""]}C.prototype=new g.baseCalendar,L(C.prototype,{name:"Taiwan",jdEpoch:24194025e-1,yearsOffset:1911,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Taiwan",epochs:["BROC","ROC"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},leapYear:function(p){var v=this._validate(p,this.minMonth,this.minDay,g.local.invalidYear),p=this._t2gYear(v.year());return a.leapYear(p)},weekOfYear:function(t,v,p){var r=this._validate(t,this.minMonth,this.minDay,g.local.invalidYear),t=this._t2gYear(r.year());return a.weekOfYear(t,r.month(),r.day())},daysInMonth:function(A,v){var p=this._validate(A,v,this.minDay,g.local.invalidMonth);return this.daysPerMonth[p.month()-1]+(p.month()===2&&this.leapYear(p.year())?1:0)},weekDay:function(A,v,p){return(this.dayOfWeek(A,v,p)||7)<6},toJD:function(t,v,p){var r=this._validate(t,v,p,g.local.invalidDate),t=this._t2gYear(r.year());return a.toJD(t,r.month(),r.day())},fromJD:function(A){var v=a.fromJD(A),p=this._g2tYear(v.year());return this.newDate(p,v.month(),v.day())},_t2gYear:function(A){return A+this.yearsOffset+(A>=-this.yearsOffset&&A<=-1?1:0)},_g2tYear:function(A){return A-this.yearsOffset-(A>=1&&A<=this.yearsOffset?1:0)}}),g.calendars.taiwan=C},4592:function(G,U,e){var g=e(38700),L=e(50896),a=g.instance();function C(A){this.local=this.regionalOptions[A||""]||this.regionalOptions[""]}C.prototype=new g.baseCalendar,L(C.prototype,{name:"Thai",jdEpoch:15230985e-1,yearsOffset:543,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Thai",epochs:["BBE","BE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(p){var v=this._validate(p,this.minMonth,this.minDay,g.local.invalidYear),p=this._t2gYear(v.year());return a.leapYear(p)},weekOfYear:function(t,v,p){var r=this._validate(t,this.minMonth,this.minDay,g.local.invalidYear),t=this._t2gYear(r.year());return a.weekOfYear(t,r.month(),r.day())},daysInMonth:function(A,v){var p=this._validate(A,v,this.minDay,g.local.invalidMonth);return this.daysPerMonth[p.month()-1]+(p.month()===2&&this.leapYear(p.year())?1:0)},weekDay:function(A,v,p){return(this.dayOfWeek(A,v,p)||7)<6},toJD:function(t,v,p){var r=this._validate(t,v,p,g.local.invalidDate),t=this._t2gYear(r.year());return a.toJD(t,r.month(),r.day())},fromJD:function(A){var v=a.fromJD(A),p=this._g2tYear(v.year());return this.newDate(p,v.month(),v.day())},_t2gYear:function(A){return A-this.yearsOffset-(A>=1&&A<=this.yearsOffset?1:0)},_g2tYear:function(A){return A+this.yearsOffset+(A>=-this.yearsOffset&&A<=-1?1:0)}}),g.calendars.thai=C},45348:function(G,U,e){var g=e(38700),L=e(50896);function a(A){this.local=this.regionalOptions[A||""]||this.regionalOptions[""]}a.prototype=new g.baseCalendar,L(a.prototype,{name:"UmmAlQura",hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Umm al-Qura",epochs:["BH","AH"],monthNames:["Al-Muharram","Safar","Rabi' al-awwal","Rabi' Al-Thani","Jumada Al-Awwal","Jumada Al-Thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-Ahad","Yawm al-Ithnain","Yawm al-Thal\u0101th\u0101\u2019","Yawm al-Arba\u2018\u0101\u2019","Yawm al-Kham\u012Bs","Yawm al-Jum\u2018a","Yawm al-Sabt"],dayNamesMin:["Ah","Ith","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!0}},leapYear:function(A){var v=this._validate(A,this.minMonth,this.minDay,g.local.invalidYear);return this.daysInYear(v.year())===355},weekOfYear:function(A,v,p){var r=this.newDate(A,v,p);return r.add(-r.dayOfWeek(),"d"),Math.floor((r.dayOfYear()-1)/7)+1},daysInYear:function(A){for(var v=0,p=1;p<=12;p++)v+=this.daysInMonth(A,p);return v},daysInMonth:function(A,v){for(var p=this._validate(A,v,this.minDay,g.local.invalidMonth),r=p.toJD()-24e5+.5,t=0,s=0;s<C.length;s++){if(C[s]>r)return C[t]-C[t-1];t++}return 30},weekDay:function(A,v,p){return this.dayOfWeek(A,v,p)!==5},toJD:function(A,v,p){var r=this._validate(A,v,p,g.local.invalidDate),t=12*(r.year()-1)+r.month()-15292,s=r.day()+C[t-1]-1;return s+24e5-.5},fromJD:function(A){for(var v=A-24e5+.5,p=0,r=0;r<C.length&&!(C[r]>v);r++)p++;var t=p+15292,s=Math.floor((t-1)/12),n=s+1,f=t-12*s,u=v-C[p-1]+1;return this.newDate(n,f,u)},isValid:function(A,v,p){var r=g.baseCalendar.prototype.isValid.apply(this,arguments);return r&&(A=A.year!=null?A.year:A,r=A>=1276&&A<=1500),r},_validate:function(A,v,p,r){var t=g.baseCalendar.prototype._validate.apply(this,arguments);if(t.year<1276||t.year>1500)throw r.replace(/\{0\}/,this.local.name);return t}}),g.calendars.ummalqura=a;var C=[20,50,79,109,138,168,197,227,256,286,315,345,374,404,433,463,492,522,551,581,611,641,670,700,729,759,788,818,847,877,906,936,965,995,1024,1054,1083,1113,1142,1172,1201,1231,1260,1290,1320,1350,1379,1409,1438,1468,1497,1527,1556,1586,1615,1645,1674,1704,1733,1763,1792,1822,1851,1881,1910,1940,1969,1999,2028,2058,2087,2117,2146,2176,2205,2235,2264,2294,2323,2353,2383,2413,2442,2472,2501,2531,2560,2590,2619,2649,2678,2708,2737,2767,2796,2826,2855,2885,2914,2944,2973,3003,3032,3062,3091,3121,3150,3180,3209,3239,3268,3298,3327,3357,3386,3416,3446,3476,3505,3535,3564,3594,3623,3653,3682,3712,3741,3771,3800,3830,3859,3889,3918,3948,3977,4007,4036,4066,4095,4125,4155,4185,4214,4244,4273,4303,4332,4362,4391,4421,4450,4480,4509,4539,4568,4598,4627,4657,4686,4716,4745,4775,4804,4834,4863,4893,4922,4952,4981,5011,5040,5070,5099,5129,5158,5188,5218,5248,5277,5307,5336,5366,5395,5425,5454,5484,5513,5543,5572,5602,5631,5661,5690,5720,5749,5779,5808,5838,5867,5897,5926,5956,5985,6015,6044,6074,6103,6133,6162,6192,6221,6251,6281,6311,6340,6370,6399,6429,6458,6488,6517,6547,6576,6606,6635,6665,6694,6724,6753,6783,6812,6842,6871,6901,6930,6960,6989,7019,7048,7078,7107,7137,7166,7196,7225,7255,7284,7314,7344,7374,7403,7433,7462,7492,7521,7551,7580,7610,7639,7669,7698,7728,7757,7787,7816,7846,7875,7905,7934,7964,7993,8023,8053,8083,8112,8142,8171,8201,8230,8260,8289,8319,8348,8378,8407,8437,8466,8496,8525,8555,8584,8614,8643,8673,8702,8732,8761,8791,8821,8850,8880,8909,8938,8968,8997,9027,9056,9086,9115,9145,9175,9205,9234,9264,9293,9322,9352,9381,9410,9440,9470,9499,9529,9559,9589,9618,9648,9677,9706,9736,9765,9794,9824,9853,9883,9913,9943,9972,10002,10032,10061,10090,10120,10149,10178,10208,10237,10267,10297,10326,10356,10386,10415,10445,10474,10504,10533,10562,10592,10621,10651,10680,10710,10740,10770,10799,10829,10858,10888,10917,10947,10976,11005,11035,11064,11094,11124,11153,11183,11213,11242,11272,11301,11331,11360,11389,11419,11448,11478,11507,11537,11567,11596,11626,11655,11685,11715,11744,11774,11803,11832,11862,11891,11921,11950,11980,12010,12039,12069,12099,12128,12158,12187,12216,12246,12275,12304,12334,12364,12393,12423,12453,12483,12512,12542,12571,12600,12630,12659,12688,12718,12747,12777,12807,12837,12866,12896,12926,12955,12984,13014,13043,13072,13102,13131,13161,13191,13220,13250,13280,13310,13339,13368,13398,13427,13456,13486,13515,13545,13574,13604,13634,13664,13693,13723,13752,13782,13811,13840,13870,13899,13929,13958,13988,14018,14047,14077,14107,14136,14166,14195,14224,14254,14283,14313,14342,14372,14401,14431,14461,14490,14520,14550,14579,14609,14638,14667,14697,14726,14756,14785,14815,14844,14874,14904,14933,14963,14993,15021,15051,15081,15110,15140,15169,15199,15228,15258,15287,15317,15347,15377,15406,15436,15465,15494,15524,15553,15582,15612,15641,15671,15701,15731,15760,15790,15820,15849,15878,15908,15937,15966,15996,16025,16055,16085,16114,16144,16174,16204,16233,16262,16292,16321,16350,16380,16409,16439,16468,16498,16528,16558,16587,16617,16646,16676,16705,16734,16764,16793,16823,16852,16882,16912,16941,16971,17001,17030,17060,17089,17118,17148,17177,17207,17236,17266,17295,17325,17355,17384,17414,17444,17473,17502,17532,17561,17591,17620,17650,17679,17709,17738,17768,17798,17827,17857,17886,17916,17945,17975,18004,18034,18063,18093,18122,18152,18181,18211,18241,18270,18300,18330,18359,18388,18418,18447,18476,18506,18535,18565,18595,18625,18654,18684,18714,18743,18772,18802,18831,18860,18890,18919,18949,18979,19008,19038,19068,19098,19127,19156,19186,19215,19244,19274,19303,19333,19362,19392,19422,19452,19481,19511,19540,19570,19599,19628,19658,19687,19717,19746,19776,19806,19836,19865,19895,19924,19954,19983,20012,20042,20071,20101,20130,20160,20190,20219,20249,20279,20308,20338,20367,20396,20426,20455,20485,20514,20544,20573,20603,20633,20662,20692,20721,20751,20780,20810,20839,20869,20898,20928,20957,20987,21016,21046,21076,21105,21135,21164,21194,21223,21253,21282,21312,21341,21371,21400,21430,21459,21489,21519,21548,21578,21607,21637,21666,21696,21725,21754,21784,21813,21843,21873,21902,21932,21962,21991,22021,22050,22080,22109,22138,22168,22197,22227,22256,22286,22316,22346,22375,22405,22434,22464,22493,22522,22552,22581,22611,22640,22670,22700,22730,22759,22789,22818,22848,22877,22906,22936,22965,22994,23024,23054,23083,23113,23143,23173,23202,23232,23261,23290,23320,23349,23379,23408,23438,23467,23497,23527,23556,23586,23616,23645,23674,23704,23733,23763,23792,23822,23851,23881,23910,23940,23970,23999,24029,24058,24088,24117,24147,24176,24206,24235,24265,24294,24324,24353,24383,24413,24442,24472,24501,24531,24560,24590,24619,24648,24678,24707,24737,24767,24796,24826,24856,24885,24915,24944,24974,25003,25032,25062,25091,25121,25150,25180,25210,25240,25269,25299,25328,25358,25387,25416,25446,25475,25505,25534,25564,25594,25624,25653,25683,25712,25742,25771,25800,25830,25859,25888,25918,25948,25977,26007,26037,26067,26096,26126,26155,26184,26214,26243,26272,26302,26332,26361,26391,26421,26451,26480,26510,26539,26568,26598,26627,26656,26686,26715,26745,26775,26805,26834,26864,26893,26923,26952,26982,27011,27041,27070,27099,27129,27159,27188,27218,27248,27277,27307,27336,27366,27395,27425,27454,27484,27513,27542,27572,27602,27631,27661,27691,27720,27750,27779,27809,27838,27868,27897,27926,27956,27985,28015,28045,28074,28104,28134,28163,28193,28222,28252,28281,28310,28340,28369,28399,28428,28458,28488,28517,28547,28577,28607,28636,28665,28695,28724,28754,28783,28813,28843,28872,28901,28931,28960,28990,29019,29049,29078,29108,29137,29167,29196,29226,29255,29285,29315,29345,29375,29404,29434,29463,29492,29522,29551,29580,29610,29640,29669,29699,29729,29759,29788,29818,29847,29876,29906,29935,29964,29994,30023,30053,30082,30112,30141,30171,30200,30230,30259,30289,30318,30348,30378,30408,30437,30467,30496,30526,30555,30585,30614,30644,30673,30703,30732,30762,30791,30821,30850,30880,30909,30939,30968,30998,31027,31057,31086,31116,31145,31175,31204,31234,31263,31293,31322,31352,31381,31411,31441,31471,31500,31530,31559,31589,31618,31648,31676,31706,31736,31766,31795,31825,31854,31884,31913,31943,31972,32002,32031,32061,32090,32120,32150,32180,32209,32239,32268,32298,32327,32357,32386,32416,32445,32475,32504,32534,32563,32593,32622,32652,32681,32711,32740,32770,32799,32829,32858,32888,32917,32947,32976,33006,33035,33065,33094,33124,33153,33183,33213,33243,33272,33302,33331,33361,33390,33420,33450,33479,33509,33539,33568,33598,33627,33657,33686,33716,33745,33775,33804,33834,33863,33893,33922,33952,33981,34011,34040,34069,34099,34128,34158,34187,34217,34247,34277,34306,34336,34365,34395,34424,34454,34483,34512,34542,34571,34601,34631,34660,34690,34719,34749,34778,34808,34837,34867,34896,34926,34955,34985,35015,35044,35074,35103,35133,35162,35192,35222,35251,35280,35310,35340,35370,35399,35429,35458,35488,35517,35547,35576,35605,35635,35665,35694,35723,35753,35782,35811,35841,35871,35901,35930,35960,35989,36019,36048,36078,36107,36136,36166,36195,36225,36254,36284,36314,36343,36373,36403,36433,36462,36492,36521,36551,36580,36610,36639,36669,36698,36728,36757,36786,36816,36845,36875,36904,36934,36963,36993,37022,37052,37081,37111,37141,37170,37200,37229,37259,37288,37318,37347,37377,37406,37436,37465,37495,37524,37554,37584,37613,37643,37672,37701,37731,37760,37790,37819,37849,37878,37908,37938,37967,37997,38027,38056,38085,38115,38144,38174,38203,38233,38262,38292,38322,38351,38381,38410,38440,38469,38499,38528,38558,38587,38617,38646,38676,38705,38735,38764,38794,38823,38853,38882,38912,38941,38971,39001,39030,39059,39089,39118,39148,39178,39208,39237,39267,39297,39326,39355,39385,39414,39444,39473,39503,39532,39562,39592,39621,39650,39680,39709,39739,39768,39798,39827,39857,39886,39916,39946,39975,40005,40035,40064,40094,40123,40153,40182,40212,40241,40271,40300,40330,40359,40389,40418,40448,40477,40507,40536,40566,40595,40625,40655,40685,40714,40744,40773,40803,40832,40862,40892,40921,40951,40980,41009,41039,41068,41098,41127,41157,41186,41216,41245,41275,41304,41334,41364,41393,41422,41452,41481,41511,41540,41570,41599,41629,41658,41688,41718,41748,41777,41807,41836,41865,41894,41924,41953,41983,42012,42042,42072,42102,42131,42161,42190,42220,42249,42279,42308,42337,42367,42397,42426,42456,42485,42515,42545,42574,42604,42633,42662,42692,42721,42751,42780,42810,42839,42869,42899,42929,42958,42988,43017,43046,43076,43105,43135,43164,43194,43223,43253,43283,43312,43342,43371,43401,43430,43460,43489,43519,43548,43578,43607,43637,43666,43696,43726,43755,43785,43814,43844,43873,43903,43932,43962,43991,44021,44050,44080,44109,44139,44169,44198,44228,44258,44287,44317,44346,44375,44405,44434,44464,44493,44523,44553,44582,44612,44641,44671,44700,44730,44759,44788,44818,44847,44877,44906,44936,44966,44996,45025,45055,45084,45114,45143,45172,45202,45231,45261,45290,45320,45350,45380,45409,45439,45468,45498,45527,45556,45586,45615,45644,45674,45704,45733,45763,45793,45823,45852,45882,45911,45940,45970,45999,46028,46058,46088,46117,46147,46177,46206,46236,46265,46295,46324,46354,46383,46413,46442,46472,46501,46531,46560,46590,46620,46649,46679,46708,46738,46767,46797,46826,46856,46885,46915,46944,46974,47003,47033,47063,47092,47122,47151,47181,47210,47240,47269,47298,47328,47357,47387,47417,47446,47476,47506,47535,47565,47594,47624,47653,47682,47712,47741,47771,47800,47830,47860,47890,47919,47949,47978,48008,48037,48066,48096,48125,48155,48184,48214,48244,48273,48303,48333,48362,48392,48421,48450,48480,48509,48538,48568,48598,48627,48657,48687,48717,48746,48776,48805,48834,48864,48893,48922,48952,48982,49011,49041,49071,49100,49130,49160,49189,49218,49248,49277,49306,49336,49365,49395,49425,49455,49484,49514,49543,49573,49602,49632,49661,49690,49720,49749,49779,49809,49838,49868,49898,49927,49957,49986,50016,50045,50075,50104,50133,50163,50192,50222,50252,50281,50311,50340,50370,50400,50429,50459,50488,50518,50547,50576,50606,50635,50665,50694,50724,50754,50784,50813,50843,50872,50902,50931,50960,50990,51019,51049,51078,51108,51138,51167,51197,51227,51256,51286,51315,51345,51374,51403,51433,51462,51492,51522,51552,51582,51611,51641,51670,51699,51729,51758,51787,51816,51846,51876,51906,51936,51965,51995,52025,52054,52083,52113,52142,52171,52200,52230,52260,52290,52319,52349,52379,52408,52438,52467,52497,52526,52555,52585,52614,52644,52673,52703,52733,52762,52792,52822,52851,52881,52910,52939,52969,52998,53028,53057,53087,53116,53146,53176,53205,53235,53264,53294,53324,53353,53383,53412,53441,53471,53500,53530,53559,53589,53619,53648,53678,53708,53737,53767,53796,53825,53855,53884,53913,53943,53973,54003,54032,54062,54092,54121,54151,54180,54209,54239,54268,54297,54327,54357,54387,54416,54446,54476,54505,54535,54564,54593,54623,54652,54681,54711,54741,54770,54800,54830,54859,54889,54919,54948,54977,55007,55036,55066,55095,55125,55154,55184,55213,55243,55273,55302,55332,55361,55391,55420,55450,55479,55508,55538,55567,55597,55627,55657,55686,55716,55745,55775,55804,55834,55863,55892,55922,55951,55981,56011,56040,56070,56100,56129,56159,56188,56218,56247,56276,56306,56335,56365,56394,56424,56454,56483,56513,56543,56572,56601,56631,56660,56690,56719,56749,56778,56808,56837,56867,56897,56926,56956,56985,57015,57044,57074,57103,57133,57162,57192,57221,57251,57280,57310,57340,57369,57399,57429,57458,57487,57517,57546,57576,57605,57634,57664,57694,57723,57753,57783,57813,57842,57871,57901,57930,57959,57989,58018,58048,58077,58107,58137,58167,58196,58226,58255,58285,58314,58343,58373,58402,58432,58461,58491,58521,58551,58580,58610,58639,58669,58698,58727,58757,58786,58816,58845,58875,58905,58934,58964,58994,59023,59053,59082,59111,59141,59170,59200,59229,59259,59288,59318,59348,59377,59407,59436,59466,59495,59525,59554,59584,59613,59643,59672,59702,59731,59761,59791,59820,59850,59879,59909,59939,59968,59997,60027,60056,60086,60115,60145,60174,60204,60234,60264,60293,60323,60352,60381,60411,60440,60469,60499,60528,60558,60588,60618,60648,60677,60707,60736,60765,60795,60824,60853,60883,60912,60942,60972,61002,61031,61061,61090,61120,61149,61179,61208,61237,61267,61296,61326,61356,61385,61415,61445,61474,61504,61533,61563,61592,61621,61651,61680,61710,61739,61769,61799,61828,61858,61888,61917,61947,61976,62006,62035,62064,62094,62123,62153,62182,62212,62242,62271,62301,62331,62360,62390,62419,62448,62478,62507,62537,62566,62596,62625,62655,62685,62715,62744,62774,62803,62832,62862,62891,62921,62950,62980,63009,63039,63069,63099,63128,63157,63187,63216,63246,63275,63305,63334,63363,63393,63423,63453,63482,63512,63541,63571,63600,63630,63659,63689,63718,63747,63777,63807,63836,63866,63895,63925,63955,63984,64014,64043,64073,64102,64131,64161,64190,64220,64249,64279,64309,64339,64368,64398,64427,64457,64486,64515,64545,64574,64603,64633,64663,64692,64722,64752,64782,64811,64841,64870,64899,64929,64958,64987,65017,65047,65076,65106,65136,65166,65195,65225,65254,65283,65313,65342,65371,65401,65431,65460,65490,65520,65549,65579,65608,65638,65667,65697,65726,65755,65785,65815,65844,65874,65903,65933,65963,65992,66022,66051,66081,66110,66140,66169,66199,66228,66258,66287,66317,66346,66376,66405,66435,66465,66494,66524,66553,66583,66612,66641,66671,66700,66730,66760,66789,66819,66849,66878,66908,66937,66967,66996,67025,67055,67084,67114,67143,67173,67203,67233,67262,67292,67321,67351,67380,67409,67439,67468,67497,67527,67557,67587,67617,67646,67676,67705,67735,67764,67793,67823,67852,67882,67911,67941,67971,68e3,68030,68060,68089,68119,68148,68177,68207,68236,68266,68295,68325,68354,68384,68414,68443,68473,68502,68532,68561,68591,68620,68650,68679,68708,68738,68768,68797,68827,68857,68886,68916,68946,68975,69004,69034,69063,69092,69122,69152,69181,69211,69240,69270,69300,69330,69359,69388,69418,69447,69476,69506,69535,69565,69595,69624,69654,69684,69713,69743,69772,69802,69831,69861,69890,69919,69949,69978,70008,70038,70067,70097,70126,70156,70186,70215,70245,70274,70303,70333,70362,70392,70421,70451,70481,70510,70540,70570,70599,70629,70658,70687,70717,70746,70776,70805,70835,70864,70894,70924,70954,70983,71013,71042,71071,71101,71130,71159,71189,71218,71248,71278,71308,71337,71367,71397,71426,71455,71485,71514,71543,71573,71602,71632,71662,71691,71721,71751,71781,71810,71839,71869,71898,71927,71957,71986,72016,72046,72075,72105,72135,72164,72194,72223,72253,72282,72311,72341,72370,72400,72429,72459,72489,72518,72548,72577,72607,72637,72666,72695,72725,72754,72784,72813,72843,72872,72902,72931,72961,72991,73020,73050,73080,73109,73139,73168,73197,73227,73256,73286,73315,73345,73375,73404,73434,73464,73493,73523,73552,73581,73611,73640,73669,73699,73729,73758,73788,73818,73848,73877,73907,73936,73965,73995,74024,74053,74083,74113,74142,74172,74202,74231,74261,74291,74320,74349,74379,74408,74437,74467,74497,74526,74556,74586,74615,74645,74675,74704,74733,74763,74792,74822,74851,74881,74910,74940,74969,74999,75029,75058,75088,75117,75147,75176,75206,75235,75264,75294,75323,75353,75383,75412,75442,75472,75501,75531,75560,75590,75619,75648,75678,75707,75737,75766,75796,75826,75856,75885,75915,75944,75974,76003,76032,76062,76091,76121,76150,76180,76210,76239,76269,76299,76328,76358,76387,76416,76446,76475,76505,76534,76564,76593,76623,76653,76682,76712,76741,76771,76801,76830,76859,76889,76918,76948,76977,77007,77036,77066,77096,77125,77155,77185,77214,77243,77273,77302,77332,77361,77390,77420,77450,77479,77509,77539,77569,77598,77627,77657,77686,77715,77745,77774,77804,77833,77863,77893,77923,77952,77982,78011,78041,78070,78099,78129,78158,78188,78217,78247,78277,78307,78336,78366,78395,78425,78454,78483,78513,78542,78572,78601,78631,78661,78690,78720,78750,78779,78808,78838,78867,78897,78926,78956,78985,79015,79044,79074,79104,79133,79163,79192,79222,79251,79281,79310,79340,79369,79399,79428,79458,79487,79517,79546,79576,79606,79635,79665,79695,79724,79753,79783,79812,79841,79871,79900,79930,79960,79990]},38700:function(G,U,e){var g=e(50896);function L(){this.regionalOptions=[],this.regionalOptions[""]={invalidCalendar:"Calendar {0} not found",invalidDate:"Invalid {0} date",invalidMonth:"Invalid {0} month",invalidYear:"Invalid {0} year",differentCalendars:"Cannot mix {0} and {1} dates"},this.local=this.regionalOptions[""],this.calendars={},this._localCals={}}g(L.prototype,{instance:function(r,t){r=(r||"gregorian").toLowerCase(),t=t||"";var s=this._localCals[r+"-"+t];if(!s&&this.calendars[r]&&(s=new this.calendars[r](t),this._localCals[r+"-"+t]=s),!s)throw(this.local.invalidCalendar||this.regionalOptions[""].invalidCalendar).replace(/\{0\}/,r);return s},newDate:function(r,t,s,n,f){return n=(r!=null&&r.year?r.calendar():typeof n=="string"?this.instance(n,f):n)||this.instance(),n.newDate(r,t,s)},substituteDigits:function(r){return function(t){return(t+"").replace(/[0-9]/g,function(s){return r[s]})}},substituteChineseDigits:function(r,t){return function(s){for(var n="",f=0;s>0;){var u=s%10;n=(u===0?"":r[u]+t[f])+n,f++,s=Math.floor(s/10)}return n.indexOf(r[1]+t[1])===0&&(n=n.substr(1)),n||r[0]}}});function a(r,t,s,n){if(this._calendar=r,this._year=t,this._month=s,this._day=n,this._calendar._validateLevel===0&&!this._calendar.isValid(this._year,this._month,this._day))throw(p.local.invalidDate||p.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name)}function C(r,t){return r=""+r,"000000".substring(0,t-r.length)+r}g(a.prototype,{newDate:function(r,t,s){return this._calendar.newDate(r==null?this:r,t,s)},year:function(r){return arguments.length===0?this._year:this.set(r,"y")},month:function(r){return arguments.length===0?this._month:this.set(r,"m")},day:function(r){return arguments.length===0?this._day:this.set(r,"d")},date:function(r,t,s){if(!this._calendar.isValid(r,t,s))throw(p.local.invalidDate||p.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name);return this._year=r,this._month=t,this._day=s,this},leapYear:function(){return this._calendar.leapYear(this)},epoch:function(){return this._calendar.epoch(this)},formatYear:function(){return this._calendar.formatYear(this)},monthOfYear:function(){return this._calendar.monthOfYear(this)},weekOfYear:function(){return this._calendar.weekOfYear(this)},daysInYear:function(){return this._calendar.daysInYear(this)},dayOfYear:function(){return this._calendar.dayOfYear(this)},daysInMonth:function(){return this._calendar.daysInMonth(this)},dayOfWeek:function(){return this._calendar.dayOfWeek(this)},weekDay:function(){return this._calendar.weekDay(this)},extraInfo:function(){return this._calendar.extraInfo(this)},add:function(r,t){return this._calendar.add(this,r,t)},set:function(r,t){return this._calendar.set(this,r,t)},compareTo:function(r){if(this._calendar.name!==r._calendar.name)throw(p.local.differentCalendars||p.regionalOptions[""].differentCalendars).replace(/\{0\}/,this._calendar.local.name).replace(/\{1\}/,r._calendar.local.name);var t=this._year!==r._year?this._year-r._year:this._month!==r._month?this.monthOfYear()-r.monthOfYear():this._day-r._day;return t===0?0:t<0?-1:1},calendar:function(){return this._calendar},toJD:function(){return this._calendar.toJD(this)},fromJD:function(r){return this._calendar.fromJD(r)},toJSDate:function(){return this._calendar.toJSDate(this)},fromJSDate:function(r){return this._calendar.fromJSDate(r)},toString:function(){return(this.year()<0?"-":"")+C(Math.abs(this.year()),4)+"-"+C(this.month(),2)+"-"+C(this.day(),2)}});function A(){this.shortYearCutoff="+10"}g(A.prototype,{_validateLevel:0,newDate:function(r,t,s){return r==null?this.today():(r.year&&(this._validate(r,t,s,p.local.invalidDate||p.regionalOptions[""].invalidDate),s=r.day(),t=r.month(),r=r.year()),new a(this,r,t,s))},today:function(){return this.fromJSDate(new Date)},epoch:function(r){var t=this._validate(r,this.minMonth,this.minDay,p.local.invalidYear||p.regionalOptions[""].invalidYear);return t.year()<0?this.local.epochs[0]:this.local.epochs[1]},formatYear:function(r){var t=this._validate(r,this.minMonth,this.minDay,p.local.invalidYear||p.regionalOptions[""].invalidYear);return(t.year()<0?"-":"")+C(Math.abs(t.year()),4)},monthsInYear:function(r){return this._validate(r,this.minMonth,this.minDay,p.local.invalidYear||p.regionalOptions[""].invalidYear),12},monthOfYear:function(r,t){var s=this._validate(r,t,this.minDay,p.local.invalidMonth||p.regionalOptions[""].invalidMonth);return(s.month()+this.monthsInYear(s)-this.firstMonth)%this.monthsInYear(s)+this.minMonth},fromMonthOfYear:function(r,t){var s=(t+this.firstMonth-2*this.minMonth)%this.monthsInYear(r)+this.minMonth;return this._validate(r,s,this.minDay,p.local.invalidMonth||p.regionalOptions[""].invalidMonth),s},daysInYear:function(r){var t=this._validate(r,this.minMonth,this.minDay,p.local.invalidYear||p.regionalOptions[""].invalidYear);return this.leapYear(t)?366:365},dayOfYear:function(r,t,s){var n=this._validate(r,t,s,p.local.invalidDate||p.regionalOptions[""].invalidDate);return n.toJD()-this.newDate(n.year(),this.fromMonthOfYear(n.year(),this.minMonth),this.minDay).toJD()+1},daysInWeek:function(){return 7},dayOfWeek:function(r,t,s){var n=this._validate(r,t,s,p.local.invalidDate||p.regionalOptions[""].invalidDate);return(Math.floor(this.toJD(n))+2)%this.daysInWeek()},extraInfo:function(r,t,s){return this._validate(r,t,s,p.local.invalidDate||p.regionalOptions[""].invalidDate),{}},add:function(r,t,s){return this._validate(r,this.minMonth,this.minDay,p.local.invalidDate||p.regionalOptions[""].invalidDate),this._correctAdd(r,this._add(r,t,s),t,s)},_add:function(r,t,s){if(this._validateLevel++,s==="d"||s==="w"){var n=r.toJD()+t*(s==="w"?this.daysInWeek():1),f=r.calendar().fromJD(n);return this._validateLevel--,[f.year(),f.month(),f.day()]}try{var u=r.year()+(s==="y"?t:0),l=r.monthOfYear()+(s==="m"?t:0),f=r.day(),m=function(c){for(;l<c.minMonth;)u--,l+=c.monthsInYear(u);for(var i=c.monthsInYear(u);l>i-1+c.minMonth;)u++,l-=i,i=c.monthsInYear(u)};s==="y"?(r.month()!==this.fromMonthOfYear(u,l)&&(l=this.newDate(u,r.month(),this.minDay).monthOfYear()),l=Math.min(l,this.monthsInYear(u)),f=Math.min(f,this.daysInMonth(u,this.fromMonthOfYear(u,l)))):s==="m"&&(m(this),f=Math.min(f,this.daysInMonth(u,this.fromMonthOfYear(u,l))));var h=[u,this.fromMonthOfYear(u,l),f];return this._validateLevel--,h}catch(M){throw this._validateLevel--,M}},_correctAdd:function(r,t,s,n){if(!this.hasYearZero&&(n==="y"||n==="m")&&(t[0]===0||r.year()>0!=t[0]>0)){var f={y:[1,1,"y"],m:[1,this.monthsInYear(-1),"m"],w:[this.daysInWeek(),this.daysInYear(-1),"d"],d:[1,this.daysInYear(-1),"d"]}[n],u=s<0?-1:1;t=this._add(r,s*f[0]+u*f[1],f[2])}return r.date(t[0],t[1],t[2])},set:function(r,t,s){this._validate(r,this.minMonth,this.minDay,p.local.invalidDate||p.regionalOptions[""].invalidDate);var n=s==="y"?t:r.year(),f=s==="m"?t:r.month(),u=s==="d"?t:r.day();return(s==="y"||s==="m")&&(u=Math.min(u,this.daysInMonth(n,f))),r.date(n,f,u)},isValid:function(r,t,s){this._validateLevel++;var n=this.hasYearZero||r!==0;if(n){var f=this.newDate(r,t,this.minDay);n=t>=this.minMonth&&t-this.minMonth<this.monthsInYear(f)&&s>=this.minDay&&s-this.minDay<this.daysInMonth(f)}return this._validateLevel--,n},toJSDate:function(r,t,s){var n=this._validate(r,t,s,p.local.invalidDate||p.regionalOptions[""].invalidDate);return p.instance().fromJD(this.toJD(n)).toJSDate()},fromJSDate:function(r){return this.fromJD(p.instance().fromJSDate(r).toJD())},_validate:function(r,t,s,n){if(r.year){if(this._validateLevel===0&&this.name!==r.calendar().name)throw(p.local.differentCalendars||p.regionalOptions[""].differentCalendars).replace(/\{0\}/,this.local.name).replace(/\{1\}/,r.calendar().local.name);return r}try{if(this._validateLevel++,this._validateLevel===1&&!this.isValid(r,t,s))throw n.replace(/\{0\}/,this.local.name);var f=this.newDate(r,t,s);return this._validateLevel--,f}catch(u){throw this._validateLevel--,u}}});function v(r){this.local=this.regionalOptions[r]||this.regionalOptions[""]}v.prototype=new A,g(v.prototype,{name:"Gregorian",jdEpoch:17214255e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Gregorian",epochs:["BCE","CE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(s){var t=this._validate(s,this.minMonth,this.minDay,p.local.invalidYear||p.regionalOptions[""].invalidYear),s=t.year()+(t.year()<0?1:0);return s%4===0&&(s%100!==0||s%400===0)},weekOfYear:function(r,t,s){var n=this.newDate(r,t,s);return n.add(4-(n.dayOfWeek()||7),"d"),Math.floor((n.dayOfYear()-1)/7)+1},daysInMonth:function(r,t){var s=this._validate(r,t,this.minDay,p.local.invalidMonth||p.regionalOptions[""].invalidMonth);return this.daysPerMonth[s.month()-1]+(s.month()===2&&this.leapYear(s.year())?1:0)},weekDay:function(r,t,s){return(this.dayOfWeek(r,t,s)||7)<6},toJD:function(r,t,s){var n=this._validate(r,t,s,p.local.invalidDate||p.regionalOptions[""].invalidDate);r=n.year(),t=n.month(),s=n.day(),r<0&&r++,t<3&&(t+=12,r--);var f=Math.floor(r/100),u=2-f+Math.floor(f/4);return Math.floor(365.25*(r+4716))+Math.floor(30.6001*(t+1))+s+u-1524.5},fromJD:function(r){var t=Math.floor(r+.5),s=Math.floor((t-186721625e-2)/36524.25);s=t+1+s-Math.floor(s/4);var n=s+1524,f=Math.floor((n-122.1)/365.25),u=Math.floor(365.25*f),l=Math.floor((n-u)/30.6001),m=n-u-Math.floor(l*30.6001),h=l-(l>13.5?13:1),M=f-(h>2.5?4716:4715);return M<=0&&M--,this.newDate(M,h,m)},toJSDate:function(r,t,s){var n=this._validate(r,t,s,p.local.invalidDate||p.regionalOptions[""].invalidDate),f=new Date(n.year(),n.month()-1,n.day());return f.setHours(0),f.setMinutes(0),f.setSeconds(0),f.setMilliseconds(0),f.setHours(f.getHours()>12?f.getHours()+2:0),f},fromJSDate:function(r){return this.newDate(r.getFullYear(),r.getMonth()+1,r.getDate())}});var p=G.exports=new L;p.cdate=a,p.baseCalendar=A,p.calendars.gregorian=v},15168:function(G,U,e){var g=e(50896),L=e(38700);g(L.regionalOptions[""],{invalidArguments:"Invalid arguments",invalidFormat:"Cannot format a date from another calendar",missingNumberAt:"Missing number at position {0}",unknownNameAt:"Unknown name at position {0}",unexpectedLiteralAt:"Unexpected literal at position {0}",unexpectedText:"Additional text found at end"}),L.local=L.regionalOptions[""],g(L.cdate.prototype,{formatDate:function(a,C){return typeof a!="string"&&(C=a,a=""),this._calendar.formatDate(a||"",this,C)}}),g(L.baseCalendar.prototype,{UNIX_EPOCH:L.instance().newDate(1970,1,1).toJD(),SECS_PER_DAY:86400,TICKS_EPOCH:L.instance().jdEpoch,TICKS_PER_DAY:864e9,ATOM:"yyyy-mm-dd",COOKIE:"D, dd M yyyy",FULL:"DD, MM d, yyyy",ISO_8601:"yyyy-mm-dd",JULIAN:"J",RFC_822:"D, d M yy",RFC_850:"DD, dd-M-yy",RFC_1036:"D, d M yy",RFC_1123:"D, d M yyyy",RFC_2822:"D, d M yyyy",RSS:"D, d M yy",TICKS:"!",TIMESTAMP:"@",W3C:"yyyy-mm-dd",formatDate:function(a,C,A){if(typeof a!="string"&&(A=C,C=a,a=""),!C)return"";if(C.calendar()!==this)throw L.local.invalidFormat||L.regionalOptions[""].invalidFormat;a=a||this.local.dateFormat,A=A||{};var v=A.dayNamesShort||this.local.dayNamesShort,p=A.dayNames||this.local.dayNames,r=A.monthNumbers||this.local.monthNumbers,t=A.monthNamesShort||this.local.monthNamesShort,s=A.monthNames||this.local.monthNames;A.calculateWeek||this.local.calculateWeek;for(var n=function(w,E){for(var y=1;b+y<a.length&&a.charAt(b+y)===w;)y++;return b+=y-1,Math.floor(y/(E||1))>1},f=function(w,E,y,S){var T=""+E;if(n(w,S))for(;T.length<y;)T="0"+T;return T},u=function(w,E,y,S){return n(w)?S[E]:y[E]},l=this,m=function(w){return typeof r=="function"?r.call(l,w,n("m")):c(f("m",w.month(),2))},h=function(w,E){return E?typeof s=="function"?s.call(l,w):s[w.month()-l.minMonth]:typeof t=="function"?t.call(l,w):t[w.month()-l.minMonth]},M=this.local.digits,c=function(w){return A.localNumbers&&M?M(w):w},i="",d=!1,b=0;b<a.length;b++)if(d)a.charAt(b)==="'"&&!n("'")?d=!1:i+=a.charAt(b);else switch(a.charAt(b)){case"d":i+=c(f("d",C.day(),2));break;case"D":i+=u("D",C.dayOfWeek(),v,p);break;case"o":i+=f("o",C.dayOfYear(),3);break;case"w":i+=f("w",C.weekOfYear(),2);break;case"m":i+=m(C);break;case"M":i+=h(C,n("M"));break;case"y":i+=n("y",2)?C.year():(C.year()%100<10?"0":"")+C.year()%100;break;case"Y":n("Y",2),i+=C.formatYear();break;case"J":i+=C.toJD();break;case"@":i+=(C.toJD()-this.UNIX_EPOCH)*this.SECS_PER_DAY;break;case"!":i+=(C.toJD()-this.TICKS_EPOCH)*this.TICKS_PER_DAY;break;case"'":n("'")?i+="'":d=!0;break;default:i+=a.charAt(b)}return i},parseDate:function(a,C,A){if(C==null)throw L.local.invalidArguments||L.regionalOptions[""].invalidArguments;if(C=typeof C=="object"?C.toString():C+"",C==="")return null;a=a||this.local.dateFormat,A=A||{};var v=A.shortYearCutoff||this.shortYearCutoff;v=typeof v!="string"?v:this.today().year()%100+parseInt(v,10);for(var p=A.dayNamesShort||this.local.dayNamesShort,r=A.dayNames||this.local.dayNames,t=A.parseMonth||this.local.parseMonth,s=A.monthNumbers||this.local.monthNumbers,n=A.monthNamesShort||this.local.monthNamesShort,f=A.monthNames||this.local.monthNames,u=-1,l=-1,m=-1,h=-1,M=-1,c=!1,i=!1,d=function(I,N){for(var k=1;P+k<a.length&&a.charAt(P+k)===I;)k++;return P+=k-1,Math.floor(k/(N||1))>1},b=function(I,N){var k=d(I,N),F=[2,3,k?4:2,k?4:2,10,11,20]["oyYJ@!".indexOf(I)+1],O=new RegExp("^-?\\d{1,"+F+"}"),z=C.substring(o).match(O);if(!z)throw(L.local.missingNumberAt||L.regionalOptions[""].missingNumberAt).replace(/\{0\}/,o);return o+=z[0].length,parseInt(z[0],10)},w=this,E=function(){if(typeof s=="function"){d("m");var I=s.call(w,C.substring(o));return o+=I.length,I}return b("m")},y=function(I,N,k,F){for(var O=d(I,F)?k:N,z=0;z<O.length;z++)if(C.substr(o,O[z].length).toLowerCase()===O[z].toLowerCase())return o+=O[z].length,z+w.minMonth;throw(L.local.unknownNameAt||L.regionalOptions[""].unknownNameAt).replace(/\{0\}/,o)},S=function(){if(typeof f=="function"){var I=d("M")?f.call(w,C.substring(o)):n.call(w,C.substring(o));return o+=I.length,I}return y("M",n,f)},T=function(){if(C.charAt(o)!==a.charAt(P))throw(L.local.unexpectedLiteralAt||L.regionalOptions[""].unexpectedLiteralAt).replace(/\{0\}/,o);o++},o=0,P=0;P<a.length;P++)if(i)a.charAt(P)==="'"&&!d("'")?i=!1:T();else switch(a.charAt(P)){case"d":h=b("d");break;case"D":y("D",p,r);break;case"o":M=b("o");break;case"w":b("w");break;case"m":m=E();break;case"M":m=S();break;case"y":var x=P;c=!d("y",2),P=x,l=b("y",2);break;case"Y":l=b("Y",2);break;case"J":u=b("J")+.5,C.charAt(o)==="."&&(o++,b("J"));break;case"@":u=b("@")/this.SECS_PER_DAY+this.UNIX_EPOCH;break;case"!":u=b("!")/this.TICKS_PER_DAY+this.TICKS_EPOCH;break;case"*":o=C.length;break;case"'":d("'")?T():i=!0;break;default:T()}if(o<C.length)throw L.local.unexpectedText||L.regionalOptions[""].unexpectedText;if(l===-1?l=this.today().year():l<100&&c&&(l+=v===-1?1900:this.today().year()-this.today().year()%100-(l<=v?0:100)),typeof m=="string"&&(m=t.call(this,l,m)),M>-1){m=1,h=M;for(var _=this.daysInMonth(l,m);h>_;_=this.daysInMonth(l,m))m++,h-=_}return u>-1?this.fromJD(u):this.newDate(l,m,h)},determineDate:function(a,C,A,v,p){A&&typeof A!="object"&&(p=v,v=A,A=null),typeof v!="string"&&(p=v,v="");var r=this,t=function(s){try{return r.parseDate(v,s,p)}catch{}s=s.toLowerCase();for(var n=(s.match(/^c/)&&A?A.newDate():null)||r.today(),f=/([+-]?[0-9]+)\s*(d|w|m|y)?/g,u=f.exec(s);u;)n.add(parseInt(u[1],10),u[2]||"d"),u=f.exec(s);return n};return C=C?C.newDate():null,a=a==null?C:typeof a=="string"?t(a):typeof a=="number"?isNaN(a)||a===1/0||a===-1/0?C:r.today().add(a,"d"):r.newDate(a),a}})},21576:function(){},19768:function(){},63436:function(G,U,e){var g=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],L=typeof globalThis=="undefined"?e.g:globalThis;G.exports=function(){for(var C=[],A=0;A<g.length;A++)typeof L[g[A]]=="function"&&(C[C.length]=g[A]);return C}},67756:function(G,U,e){e.d(U,{qy:function(){return Me},Gz:function(){return ie}});function g(ye,Se,Fe){ye.prototype=Se.prototype=Fe,Fe.constructor=ye}function L(ye,Se){var Fe=Object.create(ye.prototype);for(var Be in Se)Fe[Be]=Se[Be];return Fe}function a(){}var C=.7,A=1/C,v="\\s*([+-]?\\d+)\\s*",p="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",r="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",t=/^#([0-9a-f]{3,8})$/,s=new RegExp("^rgb\\(".concat(v,",").concat(v,",").concat(v,"\\)$")),n=new RegExp("^rgb\\(".concat(r,",").concat(r,",").concat(r,"\\)$")),f=new RegExp("^rgba\\(".concat(v,",").concat(v,",").concat(v,",").concat(p,"\\)$")),u=new RegExp("^rgba\\(".concat(r,",").concat(r,",").concat(r,",").concat(p,"\\)$")),l=new RegExp("^hsl\\(".concat(p,",").concat(r,",").concat(r,"\\)$")),m=new RegExp("^hsla\\(".concat(p,",").concat(r,",").concat(r,",").concat(p,"\\)$")),h={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};g(a,b,{copy:function(Se){return Object.assign(new this.constructor,this,Se)},displayable:function(){return this.rgb().displayable()},hex:M,formatHex:M,formatHex8:c,formatHsl:i,formatRgb:d,toString:d});function M(){return this.rgb().formatHex()}function c(){return this.rgb().formatHex8()}function i(){return F(this).formatHsl()}function d(){return this.rgb().formatRgb()}function b(ye){var Se,Fe;return ye=(ye+"").trim().toLowerCase(),(Se=t.exec(ye))?(Fe=Se[1].length,Se=parseInt(Se[1],16),Fe===6?w(Se):Fe===3?new T(Se>>8&15|Se>>4&240,Se>>4&15|Se&240,(Se&15)<<4|Se&15,1):Fe===8?E(Se>>24&255,Se>>16&255,Se>>8&255,(Se&255)/255):Fe===4?E(Se>>12&15|Se>>8&240,Se>>8&15|Se>>4&240,Se>>4&15|Se&240,((Se&15)<<4|Se&15)/255):null):(Se=s.exec(ye))?new T(Se[1],Se[2],Se[3],1):(Se=n.exec(ye))?new T(Se[1]*255/100,Se[2]*255/100,Se[3]*255/100,1):(Se=f.exec(ye))?E(Se[1],Se[2],Se[3],Se[4]):(Se=u.exec(ye))?E(Se[1]*255/100,Se[2]*255/100,Se[3]*255/100,Se[4]):(Se=l.exec(ye))?k(Se[1],Se[2]/100,Se[3]/100,1):(Se=m.exec(ye))?k(Se[1],Se[2]/100,Se[3]/100,Se[4]):h.hasOwnProperty(ye)?w(h[ye]):ye==="transparent"?new T(NaN,NaN,NaN,0):null}function w(ye){return new T(ye>>16&255,ye>>8&255,ye&255,1)}function E(ye,Se,Fe,Be){return Be<=0&&(ye=Se=Fe=NaN),new T(ye,Se,Fe,Be)}function y(ye){return ye instanceof a||(ye=b(ye)),ye?(ye=ye.rgb(),new T(ye.r,ye.g,ye.b,ye.opacity)):new T}function S(ye,Se,Fe,Be){return arguments.length===1?y(ye):new T(ye,Se,Fe,Be==null?1:Be)}function T(ye,Se,Fe,Be){this.r=+ye,this.g=+Se,this.b=+Fe,this.opacity=+Be}g(T,S,L(a,{brighter:function(Se){return Se=Se==null?A:Math.pow(A,Se),new T(this.r*Se,this.g*Se,this.b*Se,this.opacity)},darker:function(Se){return Se=Se==null?C:Math.pow(C,Se),new T(this.r*Se,this.g*Se,this.b*Se,this.opacity)},rgb:function(){return this},clamp:function(){return new T(I(this.r),I(this.g),I(this.b),_(this.opacity))},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:o,formatHex:o,formatHex8:P,formatRgb:x,toString:x}));function o(){return"#".concat(N(this.r)).concat(N(this.g)).concat(N(this.b))}function P(){return"#".concat(N(this.r)).concat(N(this.g)).concat(N(this.b)).concat(N((isNaN(this.opacity)?1:this.opacity)*255))}function x(){var ye=_(this.opacity);return"".concat(ye===1?"rgb(":"rgba(").concat(I(this.r),", ").concat(I(this.g),", ").concat(I(this.b)).concat(ye===1?")":", ".concat(ye,")"))}function _(ye){return isNaN(ye)?1:Math.max(0,Math.min(1,ye))}function I(ye){return Math.max(0,Math.min(255,Math.round(ye)||0))}function N(ye){return ye=I(ye),(ye<16?"0":"")+ye.toString(16)}function k(ye,Se,Fe,Be){return Be<=0?ye=Se=Fe=NaN:Fe<=0||Fe>=1?ye=Se=NaN:Se<=0&&(ye=NaN),new z(ye,Se,Fe,Be)}function F(ye){if(ye instanceof z)return new z(ye.h,ye.s,ye.l,ye.opacity);if(ye instanceof a||(ye=b(ye)),!ye)return new z;if(ye instanceof z)return ye;ye=ye.rgb();var Se=ye.r/255,Fe=ye.g/255,Be=ye.b/255,_e=Math.min(Se,Fe,Be),Ue=Math.max(Se,Fe,Be),it=NaN,lt=Ue-_e,$e=(Ue+_e)/2;return lt?(Se===Ue?it=(Fe-Be)/lt+(Fe<Be)*6:Fe===Ue?it=(Be-Se)/lt+2:it=(Se-Fe)/lt+4,lt/=$e<.5?Ue+_e:2-Ue-_e,it*=60):lt=$e>0&&$e<1?0:it,new z(it,lt,$e,ye.opacity)}function O(ye,Se,Fe,Be){return arguments.length===1?F(ye):new z(ye,Se,Fe,Be==null?1:Be)}function z(ye,Se,Fe,Be){this.h=+ye,this.s=+Se,this.l=+Fe,this.opacity=+Be}g(z,O,L(a,{brighter:function(Se){return Se=Se==null?A:Math.pow(A,Se),new z(this.h,this.s,this.l*Se,this.opacity)},darker:function(Se){return Se=Se==null?C:Math.pow(C,Se),new z(this.h,this.s,this.l*Se,this.opacity)},rgb:function(){var Se=this.h%360+(this.h<0)*360,Fe=isNaN(Se)||isNaN(this.s)?0:this.s,Be=this.l,_e=Be+(Be<.5?Be:1-Be)*Fe,Ue=2*Be-_e;return new T(q(Se>=240?Se-240:Se+120,Ue,_e),q(Se,Ue,_e),q(Se<120?Se+240:Se-120,Ue,_e),this.opacity)},clamp:function(){return new z(B(this.h),W(this.s),W(this.l),_(this.opacity))},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var Se=_(this.opacity);return"".concat(Se===1?"hsl(":"hsla(").concat(B(this.h),", ").concat(W(this.s)*100,"%, ").concat(W(this.l)*100,"%").concat(Se===1?")":", ".concat(Se,")"))}}));function B(ye){return ye=(ye||0)%360,ye<0?ye+360:ye}function W(ye){return Math.max(0,Math.min(1,ye||0))}function q(ye,Se,Fe){return(ye<60?Se+(Fe-Se)*ye/60:ye<180?Fe:ye<240?Se+(Fe-Se)*(240-ye)/60:Se)*255}var ee=function(ye){return function(){return ye}};function Q(ye,Se){return function(Fe){return ye+Fe*Se}}function oe(ye,Se,Fe){return ye=Math.pow(ye,Fe),Se=Math.pow(Se,Fe)-ye,Fe=1/Fe,function(Be){return Math.pow(ye+Be*Se,Fe)}}function Z(ye){return(ye=+ye)==1?Y:function(Se,Fe){return Fe-Se?oe(Se,Fe,ye):ee(isNaN(Se)?Fe:Se)}}function Y(ye,Se){var Fe=Se-ye;return Fe?Q(ye,Fe):ee(isNaN(ye)?Se:ye)}var te=function ye(Se){var Fe=Z(Se);function Be(_e,Ue){var it=Fe((_e=S(_e)).r,(Ue=S(Ue)).r),lt=Fe(_e.g,Ue.g),$e=Fe(_e.b,Ue.b),qe=Y(_e.opacity,Ue.opacity);return function(ft){return _e.r=it(ft),_e.g=lt(ft),_e.b=$e(ft),_e.opacity=qe(ft),_e+""}}return Be.gamma=ye,Be}(1);function X(ye,Se){var Fe=Se?Se.length:0,Be=ye?Math.min(Fe,ye.length):0,_e=new Array(Be),Ue=new Array(Fe),it;for(it=0;it<Be;++it)_e[it]=Me(ye[it],Se[it]);for(;it<Fe;++it)Ue[it]=Se[it];return function(lt){for(it=0;it<Be;++it)Ue[it]=_e[it](lt);return Ue}}function $(ye,Se){var Fe=new Date;return ye=+ye,Se=+Se,function(Be){return Fe.setTime(ye*(1-Be)+Se*Be),Fe}}function ie(ye,Se){return ye=+ye,Se=+Se,function(Fe){return ye*(1-Fe)+Se*Fe}}function J(ye){return J=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Se){return typeof Se}:function(Se){return Se&&typeof Symbol=="function"&&Se.constructor===Symbol&&Se!==Symbol.prototype?"symbol":typeof Se},J(ye)}function j(ye,Se){var Fe={},Be={},_e;(ye===null||J(ye)!=="object")&&(ye={}),(Se===null||J(Se)!=="object")&&(Se={});for(_e in Se)_e in ye?Fe[_e]=Me(ye[_e],Se[_e]):Be[_e]=Se[_e];return function(Ue){for(_e in Fe)Be[_e]=Fe[_e](Ue);return Be}}var se=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ne=new RegExp(se.source,"g");function le(ye){return function(){return ye}}function pe(ye){return function(Se){return ye(Se)+""}}function Ae(ye,Se){var Fe=se.lastIndex=ne.lastIndex=0,Be,_e,Ue,it=-1,lt=[],$e=[];for(ye=ye+"",Se=Se+"";(Be=se.exec(ye))&&(_e=ne.exec(Se));)(Ue=_e.index)>Fe&&(Ue=Se.slice(Fe,Ue),lt[it]?lt[it]+=Ue:lt[++it]=Ue),(Be=Be[0])===(_e=_e[0])?lt[it]?lt[it]+=_e:lt[++it]=_e:(lt[++it]=null,$e.push({i:it,x:ie(Be,_e)})),Fe=ne.lastIndex;return Fe<Se.length&&(Ue=Se.slice(Fe),lt[it]?lt[it]+=Ue:lt[++it]=Ue),lt.length<2?$e[0]?pe($e[0].x):le(Se):(Se=$e.length,function(qe){for(var ft=0,ct;ft<Se;++ft)lt[(ct=$e[ft]).i]=ct.x(qe);return lt.join("")})}function be(ye,Se){Se||(Se=[]);var Fe=ye?Math.min(Se.length,ye.length):0,Be=Se.slice(),_e;return function(Ue){for(_e=0;_e<Fe;++_e)Be[_e]=ye[_e]*(1-Ue)+Se[_e]*Ue;return Be}}function Re(ye){return ArrayBuffer.isView(ye)&&!(ye instanceof DataView)}function xe(ye){return xe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Se){return typeof Se}:function(Se){return Se&&typeof Symbol=="function"&&Se.constructor===Symbol&&Se!==Symbol.prototype?"symbol":typeof Se},xe(ye)}function Me(ye,Se){var Fe=xe(Se),Be;return Se==null||Fe==="boolean"?ee(Se):(Fe==="number"?ie:Fe==="string"?(Be=b(Se))?(Se=Be,te):Ae:Se instanceof b?te:Se instanceof Date?$:Re(Se)?be:Array.isArray(Se)?X:typeof Se.valueOf!="function"&&typeof Se.toString!="function"||isNaN(Se)?j:ie)(ye,Se)}},30584:function(G){G.exports=JSON.parse('["xx-small","x-small","small","medium","large","x-large","xx-large","larger","smaller"]')},7294:function(G){G.exports=JSON.parse('["normal","condensed","semi-condensed","extra-condensed","ultra-condensed","expanded","semi-expanded","extra-expanded","ultra-expanded"]')},47916:function(G){G.exports=JSON.parse('["normal","italic","oblique"]')},2904:function(G){G.exports=JSON.parse('["normal","bold","bolder","lighter","100","200","300","400","500","600","700","800","900"]')},68194:function(G){G.exports=JSON.parse('["inherit","initial","unset"]')},3748:function(G){G.exports=JSON.parse('["caption","icon","menu","message-box","small-caption","status-bar"]')}},Ne={};function Ye(G){var U=Ne[G];if(U!==void 0)return U.exports;var e=Ne[G]={exports:{}};return Pe[G].call(e.exports,e,e.exports,Ye),e.exports}(function(){Ye.n=function(G){var U=G&&G.__esModule?function(){return G.default}:function(){return G};return Ye.d(U,{a:U}),U}})(),function(){Ye.d=function(G,U){for(var e in U)Ye.o(U,e)&&!Ye.o(G,e)&&Object.defineProperty(G,e,{enumerable:!0,get:U[e]})}}(),function(){Ye.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}()}(),function(){Ye.o=function(G,U){return Object.prototype.hasOwnProperty.call(G,U)}}(),function(){Ye.r=function(G){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(G,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(G,"__esModule",{value:!0})}}();var mt=Ye(13792);return mt}()})})(h2);var s6=o6(h2.exports);let h1;var Hg={name:"VuePlotly",data(){return{plotlyId:`plotly-${i6()}`}},props:["data","layout","config"],watch:{data(){this.setGraph()},layout(){this.setGraph()},config(){this.setGraph()}},mounted(){this.setGraph(),this.resizeObserver=new ResizeObserver(()=>{clearTimeout(h1),h1=setTimeout(this.setGraph,100)}),this.resizeObserver.observe(document.getElementById(this.plotlyId))},beforeUnmount(){this.resizeObserver.disconnect()},methods:{setGraph(){s6.newPlot(this.plotlyId,this.data,this.layout,this.config)}}};const l6=["id"];function u6(H,ve,Pe,Ne,Ye,mt){return xo(),ju("div",{id:Ye.plotlyId},null,8,l6)}Hg.render=u6;Hg.__file="src/VuePlotly.vue";const f6=ho("div",{class:"text-h6"},"Battery Status",-1),c6=["id"],h6={class:"text-h6"},v6=wh({__name:"BatteryStatus",setup(H){const Pe=`ws://${window.location.hostname}/script`,Ne=new WebSocket(Pe),Ye=Na({}),mt=J5();Ne.onopen=U=>{Ne.send(""),console.log(U)},Ne.onmessage=U=>{console.log(U.data);const e=JSON.parse(U.data);e.type==="getBatStats"&&(Ye.value=e.data)},Ne.onclose=U=>{console.log(U)};const G=bn(()=>{const U=mt.params.id;if(U&&Ye.value[U]){const e={};return e[mt.params.id]=Ye.value[mt.params.id],e}return Ye.value});return Wo(()=>{Ne.close()}),(U,e)=>(xo(),Wl(N0,{class:"q-ma-md"},{default:Hi(()=>[gi(uh,{class:"q-pa-md"},{default:Hi(()=>[f6,(xo(!0),ju(bs,null,uv(G.value,(g,L)=>(xo(),ju("div",{id:L,key:L},[ho("div",h6,qs(L)+":",1),gi(wc(Hg),{data:[g],layout:{title:"Battery Status",xaxis:{title:"Time"},yaxis:{title:"Battery Level"}},config:{staticPlot:!0}},null,8,["data"])],8,c6))),128))]),_:1})]),_:1}))}}),v2={name:String};function d6(H){return bn(()=>({type:"hidden",name:H.name,value:H.modelValue}))}function p6(H={}){return(ve,Pe,Ne)=>{ve[Pe](Jn("input",{class:"hidden"+(Ne||""),...H.value}))}}function g6(H){return bn(()=>H.name||H.for)}const Gg={left:!0,right:!0,up:!0,down:!0,horizontal:!0,vertical:!0},y6=Object.keys(Gg);Gg.all=!0;function v1(H){const ve={};for(const Pe of y6)H[Pe]===!0&&(ve[Pe]=!0);return Object.keys(ve).length===0?Gg:(ve.horizontal===!0?ve.left=ve.right=!0:ve.left===!0&&ve.right===!0&&(ve.horizontal=!0),ve.vertical===!0?ve.up=ve.down=!0:ve.up===!0&&ve.down===!0&&(ve.vertical=!0),ve.horizontal===!0&&ve.vertical===!0&&(ve.all=!0),ve)}const m6=["INPUT","TEXTAREA"];function d1(H,ve){return ve.event===void 0&&H.target!==void 0&&H.target.draggable!==!0&&typeof ve.handler=="function"&&m6.includes(H.target.nodeName.toUpperCase())===!1&&(H.qClonedBy===void 0||H.qClonedBy.indexOf(ve.uid)===-1)}function d2(){if(window.getSelection!==void 0){const H=window.getSelection();H.empty!==void 0?H.empty():H.removeAllRanges!==void 0&&(H.removeAllRanges(),y0.is.mobile!==!0&&H.addRange(document.createRange()))}else document.selection!==void 0&&document.selection.empty()}function kp(H,ve,Pe){const Ne=hv(H);let Ye,mt=Ne.left-ve.event.x,G=Ne.top-ve.event.y,U=Math.abs(mt),e=Math.abs(G);const g=ve.direction;g.horizontal===!0&&g.vertical!==!0?Ye=mt<0?"left":"right":g.horizontal!==!0&&g.vertical===!0?Ye=G<0?"up":"down":g.up===!0&&G<0?(Ye="up",U>e&&(g.left===!0&&mt<0?Ye="left":g.right===!0&&mt>0&&(Ye="right"))):g.down===!0&&G>0?(Ye="down",U>e&&(g.left===!0&&mt<0?Ye="left":g.right===!0&&mt>0&&(Ye="right"))):g.left===!0&&mt<0?(Ye="left",U<e&&(g.up===!0&&G<0?Ye="up":g.down===!0&&G>0&&(Ye="down"))):g.right===!0&&mt>0&&(Ye="right",U<e&&(g.up===!0&&G<0?Ye="up":g.down===!0&&G>0&&(Ye="down")));let L=!1;if(Ye===void 0&&Pe===!1){if(ve.event.isFirst===!0||ve.event.lastDir===void 0)return{};Ye=ve.event.lastDir,L=!0,Ye==="left"||Ye==="right"?(Ne.left-=mt,U=0,mt=0):(Ne.top-=G,e=0,G=0)}return{synthetic:L,payload:{evt:H,touch:ve.event.mouse!==!0,mouse:ve.event.mouse===!0,position:Ne,direction:Ye,isFirst:ve.event.isFirst,isFinal:Pe===!0,duration:Date.now()-ve.event.time,distance:{x:U,y:e},offset:{x:mt,y:G},delta:{x:Ne.left-ve.event.lastX,y:Ne.top-ve.event.lastY}}}}let x6=0;var b6=f2({name:"touch-pan",beforeMount(H,{value:ve,modifiers:Pe}){if(Pe.mouse!==!0&&Ki.has.touch!==!0)return;function Ne(mt,G){Pe.mouse===!0&&G===!0?Oo(mt):(Pe.stop===!0&&bu(mt),Pe.prevent===!0&&Fs(mt))}const Ye={uid:"qvtp_"+x6++,handler:ve,modifiers:Pe,direction:v1(Pe),noop:yh,mouseStart(mt){d1(mt,Ye)&&wA(mt)&&(lh(Ye,"temp",[[document,"mousemove","move","notPassiveCapture"],[document,"mouseup","end","passiveCapture"]]),Ye.start(mt,!0))},touchStart(mt){if(d1(mt,Ye)){const G=mt.target;lh(Ye,"temp",[[G,"touchmove","move","notPassiveCapture"],[G,"touchcancel","end","passiveCapture"],[G,"touchend","end","passiveCapture"]]),Ye.start(mt)}},start(mt,G){if(Ki.is.firefox===!0&&Lp(H,!0),Ye.lastEvt=mt,G===!0||Pe.stop===!0){if(Ye.direction.all!==!0&&(G!==!0||Ye.modifiers.mouseAllDir!==!0&&Ye.modifiers.mousealldir!==!0)){const g=mt.type.indexOf("mouse")!==-1?new MouseEvent(mt.type,mt):new TouchEvent(mt.type,mt);mt.defaultPrevented===!0&&Fs(g),mt.cancelBubble===!0&&bu(g),Object.assign(g,{qKeyEvent:mt.qKeyEvent,qClickOutside:mt.qClickOutside,qAnchorHandled:mt.qAnchorHandled,qClonedBy:mt.qClonedBy===void 0?[Ye.uid]:mt.qClonedBy.concat(Ye.uid)}),Ye.initialEvent={target:mt.target,event:g}}bu(mt)}const{left:U,top:e}=hv(mt);Ye.event={x:U,y:e,time:Date.now(),mouse:G===!0,detected:!1,isFirst:!0,isFinal:!1,lastX:U,lastY:e}},move(mt){if(Ye.event===void 0)return;const G=hv(mt),U=G.left-Ye.event.x,e=G.top-Ye.event.y;if(U===0&&e===0)return;Ye.lastEvt=mt;const g=Ye.event.mouse===!0,L=()=>{Ne(mt,g);let A;Pe.preserveCursor!==!0&&Pe.preservecursor!==!0&&(A=document.documentElement.style.cursor||"",document.documentElement.style.cursor="grabbing"),g===!0&&document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),d2(),Ye.styleCleanup=v=>{if(Ye.styleCleanup=void 0,A!==void 0&&(document.documentElement.style.cursor=A),document.body.classList.remove("non-selectable"),g===!0){const p=()=>{document.body.classList.remove("no-pointer-events--children")};v!==void 0?setTimeout(()=>{p(),v()},50):p()}else v!==void 0&&v()}};if(Ye.event.detected===!0){Ye.event.isFirst!==!0&&Ne(mt,Ye.event.mouse);const{payload:A,synthetic:v}=kp(mt,Ye,!1);A!==void 0&&(Ye.handler(A)===!1?Ye.end(mt):(Ye.styleCleanup===void 0&&Ye.event.isFirst===!0&&L(),Ye.event.lastX=A.position.left,Ye.event.lastY=A.position.top,Ye.event.lastDir=v===!0?void 0:A.direction,Ye.event.isFirst=!1));return}if(Ye.direction.all===!0||g===!0&&(Ye.modifiers.mouseAllDir===!0||Ye.modifiers.mousealldir===!0)){L(),Ye.event.detected=!0,Ye.move(mt);return}const a=Math.abs(U),C=Math.abs(e);a!==C&&(Ye.direction.horizontal===!0&&a>C||Ye.direction.vertical===!0&&a<C||Ye.direction.up===!0&&a<C&&e<0||Ye.direction.down===!0&&a<C&&e>0||Ye.direction.left===!0&&a>C&&U<0||Ye.direction.right===!0&&a>C&&U>0?(Ye.event.detected=!0,Ye.move(mt)):Ye.end(mt,!0))},end(mt,G){if(Ye.event!==void 0){if(qv(Ye,"temp"),Ki.is.firefox===!0&&Lp(H,!1),G===!0)Ye.styleCleanup!==void 0&&Ye.styleCleanup(),Ye.event.detected!==!0&&Ye.initialEvent!==void 0&&Ye.initialEvent.target.dispatchEvent(Ye.initialEvent.event);else if(Ye.event.detected===!0){Ye.event.isFirst===!0&&Ye.handler(kp(mt===void 0?Ye.lastEvt:mt,Ye).payload);const{payload:U}=kp(mt===void 0?Ye.lastEvt:mt,Ye,!0),e=()=>{Ye.handler(U)};Ye.styleCleanup!==void 0?Ye.styleCleanup(e):e()}Ye.event=void 0,Ye.initialEvent=void 0,Ye.lastEvt=void 0}}};if(H.__qtouchpan=Ye,Pe.mouse===!0){const mt=Pe.mouseCapture===!0||Pe.mousecapture===!0?"Capture":"";lh(Ye,"main",[[H,"mousedown","mouseStart",`passive${mt}`]])}Ki.has.touch===!0&&lh(Ye,"main",[[H,"touchstart","touchStart",`passive${Pe.capture===!0?"Capture":""}`],[H,"touchmove","noop","notPassiveCapture"]])},updated(H,ve){const Pe=H.__qtouchpan;Pe!==void 0&&(ve.oldValue!==ve.value&&(typeof value!="function"&&Pe.end(),Pe.handler=ve.value),Pe.direction=v1(ve.modifiers))},beforeUnmount(H){const ve=H.__qtouchpan;ve!==void 0&&(ve.event!==void 0&&ve.end(),qv(ve,"main"),qv(ve,"temp"),Ki.is.firefox===!0&&Lp(H,!1),ve.styleCleanup!==void 0&&ve.styleCleanup(),delete H.__qtouchpan)}});function av(H,ve,Pe){return Pe<=ve?ve:Math.min(Pe,Math.max(ve,H))}function p1(H,ve,Pe){if(Pe<=ve)return ve;const Ne=Pe-ve+1;let Ye=ve+(H-ve)%Ne;return Ye<ve&&(Ye=Ne+Ye),Ye===0?0:Ye}const g1="q-slider__marker-labels",w6=H=>({value:H}),T6=({marker:H})=>Jn("div",{key:H.value,style:H.style,class:H.classes},H.label),p2=[34,37,40,33,39,38],A6={...Ah,...v2,min:{type:Number,default:0},max:{type:Number,default:100},innerMin:Number,innerMax:Number,step:{type:Number,default:1,validator:H=>H>=0},snap:Boolean,vertical:Boolean,reverse:Boolean,hideSelection:Boolean,color:String,markerLabelsClass:String,label:Boolean,labelColor:String,labelTextColor:String,labelAlways:Boolean,switchLabelSide:Boolean,markers:[Boolean,Number],markerLabels:[Boolean,Array,Object,Function],switchMarkerLabelsSide:Boolean,trackImg:String,trackColor:String,innerTrackImg:String,innerTrackColor:String,selectionColor:String,selectionImg:String,thumbSize:{type:String,default:"20px"},trackSize:{type:String,default:"4px"},disable:Boolean,readonly:Boolean,dense:Boolean,tabindex:[String,Number],thumbColor:String,thumbPath:{type:String,default:"M 4, 10 a 6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"}},M6=["pan","update:modelValue","change"];function S6({updateValue:H,updatePosition:ve,getDragging:Pe,formAttrs:Ne}){const{props:Ye,emit:mt,slots:G,proxy:{$q:U}}=vo(),e=Mh(Ye,U),g=p6(Ne),L=Na(!1),a=Na(!1),C=Na(!1),A=Na(!1),v=bn(()=>Ye.vertical===!0?"--v":"--h"),p=bn(()=>"-"+(Ye.switchLabelSide===!0?"switched":"standard")),r=bn(()=>Ye.vertical===!0?Ye.reverse===!0:Ye.reverse!==(U.lang.rtl===!0)),t=bn(()=>isNaN(Ye.innerMin)===!0||Ye.innerMin<Ye.min?Ye.min:Ye.innerMin),s=bn(()=>isNaN(Ye.innerMax)===!0||Ye.innerMax>Ye.max?Ye.max:Ye.innerMax),n=bn(()=>Ye.disable!==!0&&Ye.readonly!==!0&&t.value<s.value),f=bn(()=>{if(Ye.step===0)return Fe=>Fe;const Se=(String(Ye.step).trim().split(".")[1]||"").length;return Fe=>parseFloat(Fe.toFixed(Se))}),u=bn(()=>Ye.step===0?1:Ye.step),l=bn(()=>n.value===!0?Ye.tabindex||0:-1),m=bn(()=>Ye.max-Ye.min),h=bn(()=>s.value-t.value),M=bn(()=>q(t.value)),c=bn(()=>q(s.value)),i=bn(()=>Ye.vertical===!0?r.value===!0?"bottom":"top":r.value===!0?"right":"left"),d=bn(()=>Ye.vertical===!0?"height":"width"),b=bn(()=>Ye.vertical===!0?"width":"height"),w=bn(()=>Ye.vertical===!0?"vertical":"horizontal"),E=bn(()=>{const Se={role:"slider","aria-valuemin":t.value,"aria-valuemax":s.value,"aria-orientation":w.value,"data-step":Ye.step};return Ye.disable===!0?Se["aria-disabled"]="true":Ye.readonly===!0&&(Se["aria-readonly"]="true"),Se}),y=bn(()=>`q-slider q-slider${v.value} q-slider--${L.value===!0?"":"in"}active inline no-wrap `+(Ye.vertical===!0?"row":"column")+(Ye.disable===!0?" disabled":" q-slider--enabled"+(n.value===!0?" q-slider--editable":""))+(C.value==="both"?" q-slider--focus":"")+(Ye.label||Ye.labelAlways===!0?" q-slider--label":"")+(Ye.labelAlways===!0?" q-slider--label-always":"")+(e.value===!0?" q-slider--dark":"")+(Ye.dense===!0?" q-slider--dense q-slider--dense"+v.value:""));function S(Se){const Fe="q-slider__"+Se;return`${Fe} ${Fe}${v.value} ${Fe}${v.value}${p.value}`}function T(Se){const Fe="q-slider__"+Se;return`${Fe} ${Fe}${v.value}`}const o=bn(()=>{const Se=Ye.selectionColor||Ye.color;return"q-slider__selection absolute"+(Se!==void 0?` text-${Se}`:"")}),P=bn(()=>T("markers")+" absolute overflow-hidden"),x=bn(()=>T("track-container")),_=bn(()=>S("pin")),I=bn(()=>S("label")),N=bn(()=>S("text-container")),k=bn(()=>S("marker-labels-container")+(Ye.markerLabelsClass!==void 0?` ${Ye.markerLabelsClass}`:"")),F=bn(()=>"q-slider__track relative-position no-outline"+(Ye.trackColor!==void 0?` bg-${Ye.trackColor}`:"")),O=bn(()=>{const Se={[b.value]:Ye.trackSize};return Ye.trackImg!==void 0&&(Se.backgroundImage=`url(${Ye.trackImg}) !important`),Se}),z=bn(()=>"q-slider__inner absolute"+(Ye.innerTrackColor!==void 0?` bg-${Ye.innerTrackColor}`:"")),B=bn(()=>{const Se=c.value-M.value,Fe={[i.value]:`${100*M.value}%`,[d.value]:Se===0?"2px":`${100*Se}%`};return Ye.innerTrackImg!==void 0&&(Fe.backgroundImage=`url(${Ye.innerTrackImg}) !important`),Fe});function W(Se){const{min:Fe,max:Be,step:_e}=Ye;let Ue=Fe+Se*(Be-Fe);if(_e>0){const it=(Ue-t.value)%_e;Ue+=(Math.abs(it)>=_e/2?(it<0?-1:1)*_e:0)-it}return Ue=f.value(Ue),av(Ue,t.value,s.value)}function q(Se){return m.value===0?0:(Se-Ye.min)/m.value}function ee(Se,Fe){const Be=hv(Se),_e=Ye.vertical===!0?av((Be.top-Fe.top)/Fe.height,0,1):av((Be.left-Fe.left)/Fe.width,0,1);return av(r.value===!0?1-_e:_e,M.value,c.value)}const Q=bn(()=>NA(Ye.markers)===!0?Ye.markers:u.value),oe=bn(()=>{const Se=[],Fe=Q.value,Be=Ye.max;let _e=Ye.min;do Se.push(_e),_e+=Fe;while(_e<Be);return Se.push(Be),Se}),Z=bn(()=>{const Se=` ${g1}${v.value}-`;return g1+`${Se}${Ye.switchMarkerLabelsSide===!0?"switched":"standard"}${Se}${r.value===!0?"rtl":"ltr"}`}),Y=bn(()=>Ye.markerLabels===!1?null:$(Ye.markerLabels).map((Se,Fe)=>({index:Fe,value:Se.value,label:Se.label||Se.value,classes:Z.value+(Se.classes!==void 0?" "+Se.classes:""),style:{...ie(Se.value),...Se.style||{}}}))),te=bn(()=>({markerList:Y.value,markerMap:J.value,classes:Z.value,getStyle:ie})),X=bn(()=>{const Se=h.value===0?"2px":100*Q.value/h.value;return{...B.value,backgroundSize:Ye.vertical===!0?`2px ${Se}%`:`${Se}% 2px`}});function $(Se){if(Se===!1)return null;if(Se===!0)return oe.value.map(w6);if(typeof Se=="function")return oe.value.map(Be=>{const _e=Se(Be);return ed(_e)===!0?{..._e,value:Be}:{value:Be,label:_e}});const Fe=({value:Be})=>Be>=Ye.min&&Be<=Ye.max;return Array.isArray(Se)===!0?Se.map(Be=>ed(Be)===!0?Be:{value:Be}).filter(Fe):Object.keys(Se).map(Be=>{const _e=Se[Be],Ue=Number(Be);return ed(_e)===!0?{..._e,value:Ue}:{value:Ue,label:_e}}).filter(Fe)}function ie(Se){return{[i.value]:`${100*(Se-Ye.min)/m.value}%`}}const J=bn(()=>{if(Ye.markerLabels===!1)return null;const Se={};return Y.value.forEach(Fe=>{Se[Fe.value]=Fe}),Se});function j(){if(G["marker-label-group"]!==void 0)return G["marker-label-group"](te.value);const Se=G["marker-label"]||T6;return Y.value.map(Fe=>Se({marker:Fe,...te.value}))}const se=bn(()=>[[b6,ne,void 0,{[w.value]:!0,prevent:!0,stop:!0,mouse:!0,mouseAllDir:!0}]]);function ne(Se){Se.isFinal===!0?(A.value!==void 0&&(ve(Se.evt),Se.touch===!0&&H(!0),A.value=void 0,mt("pan","end")),L.value=!1,C.value=!1):Se.isFirst===!0?(A.value=Pe(Se.evt),ve(Se.evt),H(),L.value=!0,mt("pan","start")):(ve(Se.evt),H())}function le(){C.value=!1}function pe(Se){ve(Se,Pe(Se)),H(),a.value=!0,L.value=!0,document.addEventListener("mouseup",Ae,!0)}function Ae(){a.value=!1,L.value=!1,H(!0),le(),document.removeEventListener("mouseup",Ae,!0)}function be(Se){ve(Se,Pe(Se)),H(!0)}function Re(Se){p2.includes(Se.keyCode)&&H(!0)}function xe(Se){if(Ye.vertical===!0)return null;const Fe=U.lang.rtl!==Ye.reverse?1-Se:Se;return{transform:`translateX(calc(${2*Fe-1} * ${Ye.thumbSize} / 2 + ${50-100*Fe}%))`}}function Me(Se){const Fe=bn(()=>a.value===!1&&(C.value===Se.focusValue||C.value==="both")?" q-slider--focus":""),Be=bn(()=>`q-slider__thumb q-slider__thumb${v.value} q-slider__thumb${v.value}-${r.value===!0?"rtl":"ltr"} absolute non-selectable`+Fe.value+(Se.thumbColor.value!==void 0?` text-${Se.thumbColor.value}`:"")),_e=bn(()=>({width:Ye.thumbSize,height:Ye.thumbSize,[i.value]:`${100*Se.ratio.value}%`,zIndex:C.value===Se.focusValue?2:void 0})),Ue=bn(()=>Se.labelColor.value!==void 0?` text-${Se.labelColor.value}`:""),it=bn(()=>xe(Se.ratio.value)),lt=bn(()=>"q-slider__text"+(Se.labelTextColor.value!==void 0?` text-${Se.labelTextColor.value}`:""));return()=>{const $e=[Jn("svg",{class:"q-slider__thumb-shape absolute-full",viewBox:"0 0 20 20","aria-hidden":"true"},[Jn("path",{d:Ye.thumbPath})]),Jn("div",{class:"q-slider__focus-ring fit"})];return(Ye.label===!0||Ye.labelAlways===!0)&&($e.push(Jn("div",{class:_.value+" absolute fit no-pointer-events"+Ue.value},[Jn("div",{class:I.value,style:{minWidth:Ye.thumbSize}},[Jn("div",{class:N.value,style:it.value},[Jn("span",{class:lt.value},Se.label.value)])])])),Ye.name!==void 0&&Ye.disable!==!0&&g($e,"push")),Jn("div",{class:Be.value,style:_e.value,...Se.getNodeData()},$e)}}function ye(Se,Fe,Be,_e){const Ue=[];Ye.innerTrackColor!=="transparent"&&Ue.push(Jn("div",{key:"inner",class:z.value,style:B.value})),Ye.selectionColor!=="transparent"&&Ue.push(Jn("div",{key:"selection",class:o.value,style:Se.value})),Ye.markers!==!1&&Ue.push(Jn("div",{key:"marker",class:P.value,style:X.value})),_e(Ue);const it=[c2("div",{key:"trackC",class:x.value,tabindex:Fe.value,...Be.value},[Jn("div",{class:F.value,style:O.value},Ue)],"slide",n.value,()=>se.value)];if(Ye.markerLabels!==!1){const lt=Ye.switchMarkerLabelsSide===!0?"unshift":"push";it[lt](Jn("div",{key:"markerL",class:k.value},j()))}return it}return Wo(()=>{document.removeEventListener("mouseup",Ae,!0)}),{state:{active:L,focus:C,preventFocus:a,dragging:A,editable:n,classes:y,tabindex:l,attributes:E,roundValueFn:f,keyStep:u,trackLen:m,innerMin:t,innerMinRatio:M,innerMax:s,innerMaxRatio:c,positionProp:i,sizeProp:d,isReversed:r},methods:{onActivate:pe,onMobileClick:be,onBlur:le,onKeyup:Re,getContent:ye,getThumbRenderFn:Me,convertRatioToModel:W,convertModelToRatio:q,getDraggingRatio:ee}}}const E6=()=>({});var C6=Ts({name:"QSlider",props:{...A6,modelValue:{required:!0,default:null,validator:H=>typeof H=="number"||H===null},labelValue:[String,Number]},emits:M6,setup(H,{emit:ve}){const{proxy:{$q:Pe}}=vo(),{state:Ne,methods:Ye}=S6({updateValue:v,updatePosition:r,getDragging:p,formAttrs:d6(H)}),mt=Na(null),G=Na(0),U=Na(0);function e(){U.value=H.modelValue===null?Ne.innerMin.value:av(H.modelValue,Ne.innerMin.value,Ne.innerMax.value)}zi(()=>`${H.modelValue}|${Ne.innerMin.value}|${Ne.innerMax.value}`,e),e();const g=bn(()=>Ye.convertModelToRatio(U.value)),L=bn(()=>Ne.active.value===!0?G.value:g.value),a=bn(()=>{const n={[Ne.positionProp.value]:`${100*Ne.innerMinRatio.value}%`,[Ne.sizeProp.value]:`${100*(L.value-Ne.innerMinRatio.value)}%`};return H.selectionImg!==void 0&&(n.backgroundImage=`url(${H.selectionImg}) !important`),n}),C=Ye.getThumbRenderFn({focusValue:!0,getNodeData:E6,ratio:L,label:bn(()=>H.labelValue!==void 0?H.labelValue:U.value),thumbColor:bn(()=>H.thumbColor||H.color),labelColor:bn(()=>H.labelColor),labelTextColor:bn(()=>H.labelTextColor)}),A=bn(()=>Ne.editable.value!==!0?{}:Pe.platform.is.mobile===!0?{onClick:Ye.onMobileClick}:{onMousedown:Ye.onActivate,onFocus:t,onBlur:Ye.onBlur,onKeydown:s,onKeyup:Ye.onKeyup});function v(n){U.value!==H.modelValue&&ve("update:modelValue",U.value),n===!0&&ve("change",U.value)}function p(){return mt.value.getBoundingClientRect()}function r(n,f=Ne.dragging.value){const u=Ye.getDraggingRatio(n,f);U.value=Ye.convertRatioToModel(u),G.value=H.snap!==!0||H.step===0?u:Ye.convertModelToRatio(U.value)}function t(){Ne.focus.value=!0}function s(n){if(!p2.includes(n.keyCode))return;Oo(n);const f=([34,33].includes(n.keyCode)?10:1)*Ne.keyStep.value,u=([34,37,40].includes(n.keyCode)?-1:1)*(Ne.isReversed.value===!0?-1:1)*(H.vertical===!0?-1:1)*f;U.value=av(Ne.roundValueFn.value(U.value+u),Ne.innerMin.value,Ne.innerMax.value),v()}return()=>{const n=Ye.getContent(a,Ne.tabindex,A,f=>{f.push(C())});return Jn("div",{ref:mt,class:Ne.classes.value+(H.modelValue===null?" q-slider--no-value":""),...Ne.attributes.value,"aria-valuenow":H.modelValue},n)}}});const L6=ho("div",{class:"text-h6"},"Servo Control",-1),P6=wh({__name:"ServoPage",setup(H){const Pe=`ws://${window.location.hostname}/script`,Ne=new WebSocket(Pe),Ye=Na({});Ne.onopen=G=>{Ne.send(""),console.log(G)},Ne.onmessage=G=>(console.log(G.data),Ye.value=JSON.parse(G.data),!1),Ne.onclose=G=>{console.log(G)},Wo(()=>{Ne.close()});const mt=G=>{Ne.send(JSON.stringify(Ye.value))};return(G,U)=>(xo(),Wl(N0,{class:"q-ma-md"},{default:Hi(()=>[gi(uh,{class:"q-pa-md"},{default:Hi(()=>[L6,(xo(!0),ju(bs,null,uv(Ye.value,(e,g)=>(xo(),ju("div",{key:g},[ho("div",null,qs(g),1),ho("div",null,qs(e.servo_position),1),gi(C6,{onChange:mt,modelValue:e.servo_position,"onUpdate:modelValue":L=>e.servo_position=L,vertical:"",reverse:"",min:0,max:180},null,8,["modelValue","onUpdate:modelValue"])]))),128)),pc(" "+qs(Ye.value),1)]),_:1})]),_:1}))}}),cg={xs:18,sm:24,md:32,lg:38,xl:46},Wg={size:String};function Yg(H,ve=cg){return bn(()=>H.size!==void 0?{fontSize:H.size in ve?`${ve[H.size]}px`:H.size}:null)}const y1="0 0 24 24",m1=H=>H,Fp=H=>`ionicons ${H}`,g2={"mdi-":H=>`mdi ${H}`,"icon-":m1,"bt-":H=>`bt ${H}`,"eva-":H=>`eva ${H}`,"ion-md":Fp,"ion-ios":Fp,"ion-logo":Fp,"iconfont ":m1,"ti-":H=>`themify-icon ${H}`,"bi-":H=>`bootstrap-icons ${H}`},y2={o_:"-outlined",r_:"-round",s_:"-sharp"},m2={sym_o_:"-outlined",sym_r_:"-rounded",sym_s_:"-sharp"},R6=new RegExp("^("+Object.keys(g2).join("|")+")"),D6=new RegExp("^("+Object.keys(y2).join("|")+")"),x1=new RegExp("^("+Object.keys(m2).join("|")+")"),I6=/^[Mm]\s?[-+]?\.?\d/,_6=/^img:/,k6=/^svguse:/,F6=/^ion-/,z6=/^(fa-(sharp|solid|regular|light|brands|duotone|thin)|[lf]a[srlbdk]?) /;var Ac=Ts({name:"QIcon",props:{...Wg,tag:{type:String,default:"i"},name:String,color:String,left:Boolean,right:Boolean},setup(H,{slots:ve}){const{proxy:{$q:Pe}}=vo(),Ne=Yg(H),Ye=bn(()=>"q-icon"+(H.left===!0?" on-left":"")+(H.right===!0?" on-right":"")+(H.color!==void 0?` text-${H.color}`:"")),mt=bn(()=>{let G,U=H.name;if(U==="none"||!U)return{none:!0};if(Pe.iconMapFn!==null){const L=Pe.iconMapFn(U);if(L!==void 0)if(L.icon!==void 0){if(U=L.icon,U==="none"||!U)return{none:!0}}else return{cls:L.cls,content:L.content!==void 0?L.content:" "}}if(I6.test(U)===!0){const[L,a=y1]=U.split("|");return{svg:!0,viewBox:a,nodes:L.split("&&").map(C=>{const[A,v,p]=C.split("@@");return Jn("path",{style:v,d:A,transform:p})})}}if(_6.test(U)===!0)return{img:!0,src:U.substring(4)};if(k6.test(U)===!0){const[L,a=y1]=U.split("|");return{svguse:!0,src:L.substring(7),viewBox:a}}let e=" ";const g=U.match(R6);if(g!==null)G=g2[g[1]](U);else if(z6.test(U)===!0)G=U;else if(F6.test(U)===!0)G=`ionicons ion-${Pe.platform.is.ios===!0?"ios":"md"}${U.substring(3)}`;else if(x1.test(U)===!0){G="notranslate material-symbols";const L=U.match(x1);L!==null&&(U=U.substring(6),G+=m2[L[1]]),e=U}else{G="notranslate material-icons";const L=U.match(D6);L!==null&&(U=U.substring(2),G+=y2[L[1]]),e=U}return{cls:G,content:e}});return()=>{const G={class:Ye.value,style:Ne.value,"aria-hidden":"true",role:"presentation"};return mt.value.none===!0?Jn(H.tag,G,pl(ve.default)):mt.value.img===!0?Jn(H.tag,G,nv(ve.default,[Jn("img",{src:mt.value.src})])):mt.value.svg===!0?Jn(H.tag,G,nv(ve.default,[Jn("svg",{viewBox:mt.value.viewBox||"0 0 24 24"},mt.value.nodes)])):mt.value.svguse===!0?Jn(H.tag,G,nv(ve.default,[Jn("svg",{viewBox:mt.value.viewBox},[Jn("use",{"xlink:href":mt.value.src})])])):(mt.value.cls!==void 0&&(G.class+=" "+mt.value.cls),Jn(H.tag,G,nv(ve.default,[mt.value.content])))}}});const O6={size:{type:[Number,String],default:"1em"},color:String};function B6(H){return{cSize:bn(()=>H.size in cg?`${cg[H.size]}px`:H.size),classes:bn(()=>"q-spinner"+(H.color?` text-${H.color}`:""))}}var x2=Ts({name:"QSpinner",props:{...O6,thickness:{type:Number,default:5}},setup(H){const{cSize:ve,classes:Pe}=B6(H);return()=>Jn("svg",{class:Pe.value+" q-spinner-mat",width:ve.value,height:ve.value,viewBox:"25 25 50 50"},[Jn("circle",{class:"path",cx:"50",cy:"50",r:"20",fill:"none",stroke:"currentColor","stroke-width":H.thickness,"stroke-miterlimit":"10"})])}});let zp,qd=0;const os=new Array(256);for(let H=0;H<256;H++)os[H]=(H+256).toString(16).substring(1);const N6=(()=>{const H=typeof crypto!="undefined"?crypto:typeof window!="undefined"?window.crypto||window.msCrypto:void 0;if(H!==void 0){if(H.randomBytes!==void 0)return H.randomBytes;if(H.getRandomValues!==void 0)return ve=>{const Pe=new Uint8Array(ve);return H.getRandomValues(Pe),Pe}}return ve=>{const Pe=[];for(let Ne=ve;Ne>0;Ne--)Pe.push(Math.floor(Math.random()*256));return Pe}})(),b1=4096;function b2(){(zp===void 0||qd+16>b1)&&(qd=0,zp=N6(b1));const H=Array.prototype.slice.call(zp,qd,qd+=16);return H[6]=H[6]&15|64,H[8]=H[8]&63|128,os[H[0]]+os[H[1]]+os[H[2]]+os[H[3]]+"-"+os[H[4]]+os[H[5]]+"-"+os[H[6]]+os[H[7]]+"-"+os[H[8]]+os[H[9]]+"-"+os[H[10]]+os[H[11]]+os[H[12]]+os[H[13]]+os[H[14]]+os[H[15]]}function w2(H,ve){return H===void 0?ve===!0?`f_${b2()}`:void 0:H}function U6(H,ve=!0){if(Ec.value===!0){const Pe=Na(H);return ve===!0&&H===void 0&&Th(()=>{Pe.value=`f_${b2()}`}),Pe}return Na(w2(H,ve))}function V6({validate:H,resetValidation:ve,requiresQForm:Pe}){const Ne=yl(OA,!1);if(Ne!==!1){const{props:Ye,proxy:mt}=vo();Object.assign(mt,{validate:H,resetValidation:ve}),zi(()=>Ye.disable,G=>{G===!0?(typeof ve=="function"&&ve(),Ne.unbindComponent(mt)):Ne.bindComponent(mt)}),Th(()=>{Ye.disable!==!0&&Ne.bindComponent(mt)}),Wo(()=>{Ye.disable!==!0&&Ne.unbindComponent(mt)})}else Pe===!0&&console.error("Parent QForm not found on useFormChild()!")}const w1=/^#[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/,T1=/^#[0-9a-fA-F]{4}([0-9a-fA-F]{4})?$/,A1=/^#([0-9a-fA-F]{3}|[0-9a-fA-F]{4}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/,e0=/^rgb\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5])\)$/,t0=/^rgba\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),(0|0\.[0-9]+[1-9]|0\.[1-9]+|1)\)$/,Op={date:H=>/^-?[\d]+\/[0-1]\d\/[0-3]\d$/.test(H),time:H=>/^([0-1]?\d|2[0-3]):[0-5]\d$/.test(H),fulltime:H=>/^([0-1]?\d|2[0-3]):[0-5]\d:[0-5]\d$/.test(H),timeOrFulltime:H=>/^([0-1]?\d|2[0-3]):[0-5]\d(:[0-5]\d)?$/.test(H),email:H=>/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(H),hexColor:H=>w1.test(H),hexaColor:H=>T1.test(H),hexOrHexaColor:H=>A1.test(H),rgbColor:H=>e0.test(H),rgbaColor:H=>t0.test(H),rgbOrRgbaColor:H=>e0.test(H)||t0.test(H),hexOrRgbColor:H=>w1.test(H)||e0.test(H),hexaOrRgbaColor:H=>T1.test(H)||t0.test(H),anyColor:H=>A1.test(H)||e0.test(H)||t0.test(H)},H6=[!0,!1,"ondemand"],G6={modelValue:{},error:{type:Boolean,default:null},errorMessage:String,noErrorIcon:Boolean,rules:Array,reactiveRules:Boolean,lazyRules:{type:[Boolean,String],default:!1,validator:H=>H6.includes(H)}};function W6(H,ve){const{props:Pe,proxy:Ne}=vo(),Ye=Na(!1),mt=Na(null),G=Na(!1);V6({validate:p,resetValidation:v});let U=0,e;const g=bn(()=>Pe.rules!==void 0&&Pe.rules!==null&&Pe.rules.length!==0),L=bn(()=>Pe.disable!==!0&&g.value===!0&&ve.value===!1),a=bn(()=>Pe.error===!0||Ye.value===!0),C=bn(()=>typeof Pe.errorMessage=="string"&&Pe.errorMessage.length!==0?Pe.errorMessage:mt.value);zi(()=>Pe.modelValue,()=>{G.value=!0,L.value===!0&&Pe.lazyRules===!1&&r()});function A(){Pe.lazyRules!=="ondemand"&&L.value===!0&&G.value===!0&&r()}zi(()=>Pe.reactiveRules,t=>{t===!0?e===void 0&&(e=zi(()=>Pe.rules,A,{immediate:!0,deep:!0})):e!==void 0&&(e(),e=void 0)},{immediate:!0}),zi(()=>Pe.lazyRules,A),zi(H,t=>{t===!0?G.value=!0:L.value===!0&&Pe.lazyRules!=="ondemand"&&r()});function v(){U++,ve.value=!1,G.value=!1,Ye.value=!1,mt.value=null,r.cancel()}function p(t=Pe.modelValue){if(Pe.disable===!0||g.value===!1)return!0;const s=++U,n=ve.value!==!0?()=>{G.value=!0}:()=>{},f=(l,m)=>{l===!0&&n(),Ye.value=l,mt.value=m||null,ve.value=!1},u=[];for(let l=0;l<Pe.rules.length;l++){const m=Pe.rules[l];let h;if(typeof m=="function"?h=m(t,Op):typeof m=="string"&&Op[m]!==void 0&&(h=Op[m](t)),h===!1||typeof h=="string")return f(!0,h),!1;h!==!0&&h!==void 0&&u.push(h)}return u.length===0?(f(!1),!0):(ve.value=!0,Promise.all(u).then(l=>{if(l===void 0||Array.isArray(l)===!1||l.length===0)return s===U&&f(!1),!0;const m=l.find(h=>h===!1||typeof h=="string");return s===U&&f(m!==void 0,m),m===void 0},l=>(s===U&&(console.error(l),f(!0)),!1)))}const r=Bg(p,0);return Wo(()=>{e!==void 0&&e(),r.cancel()}),Object.assign(Ne,{resetValidation:v,validate:p}),pd(Ne,"hasError",()=>a.value),{isDirtyModel:G,hasRules:g,hasError:a,errorMessage:C,validate:p,resetValidation:v}}const M1=/^on[A-Z]/;function Y6(H,ve){const Pe={listeners:Na({}),attributes:Na({})};function Ne(){const Ye={},mt={};for(const G in H)G!=="class"&&G!=="style"&&M1.test(G)===!1&&(Ye[G]=H[G]);for(const G in ve.props)M1.test(G)===!0&&(mt[G]=ve.props[G]);Pe.attributes.value=Ye,Pe.listeners.value=mt}return Ig(Ne),Ne(),Pe}let fh=[],cd=[];function T2(H){cd=cd.filter(ve=>ve!==H)}function X6(H){T2(H),cd.push(H)}function S1(H){T2(H),cd.length===0&&fh.length!==0&&(fh[fh.length-1](),fh=[])}function Xg(H){cd.length===0?H():fh.push(H)}function Z6(H){fh=fh.filter(ve=>ve!==H)}function hg(H){return H!=null&&(""+H).length!==0}const Zg={...Ah,...G6,label:String,stackLabel:Boolean,hint:String,hideHint:Boolean,prefix:String,suffix:String,labelColor:String,color:String,bgColor:String,filled:Boolean,outlined:Boolean,borderless:Boolean,standout:[Boolean,String],square:Boolean,loading:Boolean,labelSlot:Boolean,bottomSlots:Boolean,hideBottomSpace:Boolean,rounded:Boolean,dense:Boolean,itemAligned:Boolean,counter:Boolean,clearable:Boolean,clearIcon:String,disable:Boolean,readonly:Boolean,autofocus:Boolean,for:String,maxlength:[Number,String]},A2=["update:modelValue","clear","focus","blur","popupShow","popupHide"];function M2({requiredForAttr:H=!0,tagProp:ve}={}){const{props:Pe,attrs:Ne,proxy:Ye,vnode:mt}=vo(),G=Mh(Pe,Ye.$q),U=U6(Pe.for,H);return{requiredForAttr:H,tag:ve===!0?bn(()=>Pe.tag):{value:"label"},isDark:G,editable:bn(()=>Pe.disable!==!0&&Pe.readonly!==!0),innerLoading:Na(!1),focused:Na(!1),hasPopupOpen:!1,splitAttrs:Y6(Ne,mt),targetUid:U,rootRef:Na(null),targetRef:Na(null),controlRef:Na(null)}}function S2(H){const{props:ve,emit:Pe,slots:Ne,attrs:Ye,proxy:mt}=vo(),{$q:G}=mt;let U=null;H.hasValue===void 0&&(H.hasValue=bn(()=>hg(ve.modelValue))),H.emitValue===void 0&&(H.emitValue=S=>{Pe("update:modelValue",S)}),H.controlEvents===void 0&&(H.controlEvents={onFocusin:M,onFocusout:c}),Object.assign(H,{clearValue:i,onControlFocusin:M,onControlFocusout:c,focus:m}),H.computedCounter===void 0&&(H.computedCounter=bn(()=>{if(ve.counter!==!1){const S=typeof ve.modelValue=="string"||typeof ve.modelValue=="number"?(""+ve.modelValue).length:Array.isArray(ve.modelValue)===!0?ve.modelValue.length:0,T=ve.maxlength!==void 0?ve.maxlength:ve.maxValues;return S+(T!==void 0?" / "+T:"")}}));const{isDirtyModel:e,hasRules:g,hasError:L,errorMessage:a,resetValidation:C}=W6(H.focused,H.innerLoading),A=H.floatingLabel!==void 0?bn(()=>ve.stackLabel===!0||H.focused.value===!0||H.floatingLabel.value===!0):bn(()=>ve.stackLabel===!0||H.focused.value===!0||H.hasValue.value===!0),v=bn(()=>ve.bottomSlots===!0||ve.hint!==void 0||g.value===!0||ve.counter===!0||ve.error!==null),p=bn(()=>ve.filled===!0?"filled":ve.outlined===!0?"outlined":ve.borderless===!0?"borderless":ve.standout?"standout":"standard"),r=bn(()=>`q-field row no-wrap items-start q-field--${p.value}`+(H.fieldClass!==void 0?` ${H.fieldClass.value}`:"")+(ve.rounded===!0?" q-field--rounded":"")+(ve.square===!0?" q-field--square":"")+(A.value===!0?" q-field--float":"")+(s.value===!0?" q-field--labeled":"")+(ve.dense===!0?" q-field--dense":"")+(ve.itemAligned===!0?" q-field--item-aligned q-item-type":"")+(H.isDark.value===!0?" q-field--dark":"")+(H.getControl===void 0?" q-field--auto-height":"")+(H.focused.value===!0?" q-field--focused":"")+(L.value===!0?" q-field--error":"")+(L.value===!0||H.focused.value===!0?" q-field--highlighted":"")+(ve.hideBottomSpace!==!0&&v.value===!0?" q-field--with-bottom":"")+(ve.disable===!0?" q-field--disabled":ve.readonly===!0?" q-field--readonly":"")),t=bn(()=>"q-field__control relative-position row no-wrap"+(ve.bgColor!==void 0?` bg-${ve.bgColor}`:"")+(L.value===!0?" text-negative":typeof ve.standout=="string"&&ve.standout.length!==0&&H.focused.value===!0?` ${ve.standout}`:ve.color!==void 0?` text-${ve.color}`:"")),s=bn(()=>ve.labelSlot===!0||ve.label!==void 0),n=bn(()=>"q-field__label no-pointer-events absolute ellipsis"+(ve.labelColor!==void 0&&L.value!==!0?` text-${ve.labelColor}`:"")),f=bn(()=>({id:H.targetUid.value,editable:H.editable.value,focused:H.focused.value,floatingLabel:A.value,modelValue:ve.modelValue,emitValue:H.emitValue})),u=bn(()=>{const S={};return H.targetUid.value&&(S.for=H.targetUid.value),ve.disable===!0&&(S["aria-disabled"]="true"),S});zi(()=>ve.for,S=>{H.targetUid.value=w2(S,H.requiredForAttr)});function l(){const S=document.activeElement;let T=H.targetRef!==void 0&&H.targetRef.value;T&&(S===null||S.id!==H.targetUid.value)&&(T.hasAttribute("tabindex")===!0||(T=T.querySelector("[tabindex]")),T&&T!==S&&T.focus({preventScroll:!0}))}function m(){Xg(l)}function h(){Z6(l);const S=document.activeElement;S!==null&&H.rootRef.value.contains(S)&&S.blur()}function M(S){U!==null&&(clearTimeout(U),U=null),H.editable.value===!0&&H.focused.value===!1&&(H.focused.value=!0,Pe("focus",S))}function c(S,T){U!==null&&clearTimeout(U),U=setTimeout(()=>{U=null,!(document.hasFocus()===!0&&(H.hasPopupOpen===!0||H.controlRef===void 0||H.controlRef.value===null||H.controlRef.value.contains(document.activeElement)!==!1))&&(H.focused.value===!0&&(H.focused.value=!1,Pe("blur",S)),T!==void 0&&T())})}function i(S){Oo(S),G.platform.is.mobile!==!0?(H.targetRef!==void 0&&H.targetRef.value||H.rootRef.value).focus():H.rootRef.value.contains(document.activeElement)===!0&&document.activeElement.blur(),ve.type==="file"&&(H.inputRef.value.value=null),Pe("update:modelValue",null),Pe("clear",ve.modelValue),ks(()=>{const T=e.value;C(),e.value=T})}function d(){const S=[];return Ne.prepend!==void 0&&S.push(Jn("div",{class:"q-field__prepend q-field__marginal row no-wrap items-center",key:"prepend",onClick:Fs},Ne.prepend())),S.push(Jn("div",{class:"q-field__control-container col relative-position row no-wrap q-anchor--skip"},b())),L.value===!0&&ve.noErrorIcon===!1&&S.push(E("error",[Jn(Ac,{name:G.iconSet.field.error,color:"negative"})])),ve.loading===!0||H.innerLoading.value===!0?S.push(E("inner-loading-append",Ne.loading!==void 0?Ne.loading():[Jn(x2,{color:ve.color})])):ve.clearable===!0&&H.hasValue.value===!0&&H.editable.value===!0&&S.push(E("inner-clearable-append",[Jn(Ac,{class:"q-field__focusable-action",tag:"button",name:ve.clearIcon||G.iconSet.field.clear,tabindex:0,type:"button","aria-hidden":null,role:null,onClick:i})])),Ne.append!==void 0&&S.push(Jn("div",{class:"q-field__append q-field__marginal row no-wrap items-center",key:"append",onClick:Fs},Ne.append())),H.getInnerAppend!==void 0&&S.push(E("inner-append",H.getInnerAppend())),H.getControlChild!==void 0&&S.push(H.getControlChild()),S}function b(){const S=[];return ve.prefix!==void 0&&ve.prefix!==null&&S.push(Jn("div",{class:"q-field__prefix no-pointer-events row items-center"},ve.prefix)),H.getShadowControl!==void 0&&H.hasShadow.value===!0&&S.push(H.getShadowControl()),H.getControl!==void 0?S.push(H.getControl()):Ne.rawControl!==void 0?S.push(Ne.rawControl()):Ne.control!==void 0&&S.push(Jn("div",{ref:H.targetRef,class:"q-field__native row",tabindex:-1,...H.splitAttrs.attributes.value,"data-autofocus":ve.autofocus===!0||void 0},Ne.control(f.value))),s.value===!0&&S.push(Jn("div",{class:n.value},pl(Ne.label,ve.label))),ve.suffix!==void 0&&ve.suffix!==null&&S.push(Jn("div",{class:"q-field__suffix no-pointer-events row items-center"},ve.suffix)),S.concat(pl(Ne.default))}function w(){let S,T;L.value===!0?a.value!==null?(S=[Jn("div",{role:"alert"},a.value)],T=`q--slot-error-${a.value}`):(S=pl(Ne.error),T="q--slot-error"):(ve.hideHint!==!0||H.focused.value===!0)&&(ve.hint!==void 0?(S=[Jn("div",ve.hint)],T=`q--slot-hint-${ve.hint}`):(S=pl(Ne.hint),T="q--slot-hint"));const o=ve.counter===!0||Ne.counter!==void 0;if(ve.hideBottomSpace===!0&&o===!1&&S===void 0)return;const P=Jn("div",{key:T,class:"q-field__messages col"},S);return Jn("div",{class:"q-field__bottom row items-start q-field__bottom--"+(ve.hideBottomSpace!==!0?"animated":"stale"),onClick:Fs},[ve.hideBottomSpace===!0?P:Jn(gh,{name:"q-transition--field-message"},()=>P),o===!0?Jn("div",{class:"q-field__counter"},Ne.counter!==void 0?Ne.counter():H.computedCounter.value):null])}function E(S,T){return T===null?null:Jn("div",{key:S,class:"q-field__append q-field__marginal row no-wrap items-center q-anchor--skip"},T)}let y=!1;return vd(()=>{y=!0}),Dg(()=>{y===!0&&ve.autofocus===!0&&mt.focus()}),ve.autofocus===!0&&Th(()=>{mt.focus()}),Wo(()=>{U!==null&&clearTimeout(U)}),Object.assign(mt,{focus:m,blur:h}),function(){const T=H.getControl===void 0&&Ne.control===void 0?{...H.splitAttrs.attributes.value,"data-autofocus":ve.autofocus===!0||void 0,...u.value}:u.value;return Jn(H.tag.value,{ref:H.rootRef,class:[r.value,Ye.class],style:Ye.style,...T},[Ne.before!==void 0?Jn("div",{class:"q-field__before q-field__marginal row no-wrap items-center",onClick:Fs},Ne.before()):null,Jn("div",{class:"q-field__inner relative-position col self-stretch"},[Jn("div",{ref:H.controlRef,class:t.value,tabindex:-1,...H.controlEvents},d()),v.value===!0?w():null]),Ne.after!==void 0?Jn("div",{class:"q-field__after q-field__marginal row no-wrap items-center",onClick:Fs},Ne.after()):null])}}var j6=Ts({name:"QField",inheritAttrs:!1,props:{...Zg,tag:{type:String,default:"label"}},emits:A2,setup(){return S2(M2({requiredForAttr:!1,tagProp:!0}))}});function vg(H,ve){const Pe=H.style;for(const Ne in ve)Pe[Ne]=ve[Ne]}function K6(H){if(H==null)return;if(typeof H=="string")try{return document.querySelector(H)||void 0}catch{return}const ve=wc(H);if(ve)return ve.$el||ve}function E2(H,ve){if(H==null||H.contains(ve)===!0)return!0;for(let Pe=H.nextElementSibling;Pe!==null;Pe=Pe.nextElementSibling)if(Pe.contains(ve))return!0;return!1}function J6(H,ve=250){let Pe=!1,Ne;return function(){return Pe===!1&&(Pe=!0,setTimeout(()=>{Pe=!1},ve),Ne=H.apply(this,arguments)),Ne}}function E1(H,ve,Pe,Ne){Pe.modifiers.stop===!0&&bu(H);const Ye=Pe.modifiers.color;let mt=Pe.modifiers.center;mt=mt===!0||Ne===!0;const G=document.createElement("span"),U=document.createElement("span"),e=hv(H),{left:g,top:L,width:a,height:C}=ve.getBoundingClientRect(),A=Math.sqrt(a*a+C*C),v=A/2,p=`${(a-A)/2}px`,r=mt?p:`${e.left-g-v}px`,t=`${(C-A)/2}px`,s=mt?t:`${e.top-L-v}px`;U.className="q-ripple__inner",vg(U,{height:`${A}px`,width:`${A}px`,transform:`translate3d(${r},${s},0) scale3d(.2,.2,1)`,opacity:0}),G.className=`q-ripple${Ye?" text-"+Ye:""}`,G.setAttribute("dir","ltr"),G.appendChild(U),ve.appendChild(G);const n=()=>{G.remove(),clearTimeout(f)};Pe.abort.push(n);let f=setTimeout(()=>{U.classList.add("q-ripple__inner--enter"),U.style.transform=`translate3d(${p},${t},0) scale3d(1,1,1)`,U.style.opacity=.2,f=setTimeout(()=>{U.classList.remove("q-ripple__inner--enter"),U.classList.add("q-ripple__inner--leave"),U.style.opacity=0,f=setTimeout(()=>{G.remove(),Pe.abort.splice(Pe.abort.indexOf(n),1)},275)},250)},50)}function C1(H,{modifiers:ve,value:Pe,arg:Ne}){const Ye=Object.assign({},H.cfg.ripple,ve,Pe);H.modifiers={early:Ye.early===!0,stop:Ye.stop===!0,center:Ye.center===!0,color:Ye.color||Ne,keyCodes:[].concat(Ye.keyCodes||13)}}var C2=f2({name:"ripple",beforeMount(H,ve){const Pe=ve.instance.$.appContext.config.globalProperties.$q.config||{};if(Pe.ripple===!1)return;const Ne={cfg:Pe,enabled:ve.value!==!1,modifiers:{},abort:[],start(Ye){Ne.enabled===!0&&Ye.qSkipRipple!==!0&&Ye.type===(Ne.modifiers.early===!0?"pointerdown":"click")&&E1(Ye,H,Ne,Ye.qKeyEvent===!0)},keystart:J6(Ye=>{Ne.enabled===!0&&Ye.qSkipRipple!==!0&&mh(Ye,Ne.modifiers.keyCodes)===!0&&Ye.type===`key${Ne.modifiers.early===!0?"down":"up"}`&&E1(Ye,H,Ne,!0)},300)};C1(Ne,ve),H.__qripple=Ne,lh(Ne,"main",[[H,"pointerdown","start","passive"],[H,"click","start","passive"],[H,"keydown","keystart","passive"],[H,"keyup","keystart","passive"]])},updated(H,ve){if(ve.oldValue!==ve.value){const Pe=H.__qripple;Pe!==void 0&&(Pe.enabled=ve.value!==!1,Pe.enabled===!0&&Object(ve.value)===ve.value&&C1(Pe,ve))}},beforeUnmount(H){const ve=H.__qripple;ve!==void 0&&(ve.abort.forEach(Pe=>{Pe()}),qv(ve,"main"),delete H._qripple)}});const Q6={xs:8,sm:10,md:14,lg:20,xl:24};var $6=Ts({name:"QChip",props:{...Ah,...Wg,dense:Boolean,icon:String,iconRight:String,iconRemove:String,iconSelected:String,label:[String,Number],color:String,textColor:String,modelValue:{type:Boolean,default:!0},selected:{type:Boolean,default:null},square:Boolean,outline:Boolean,clickable:Boolean,removable:Boolean,removeAriaLabel:String,tabindex:[String,Number],disable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","update:selected","remove","click"],setup(H,{slots:ve,emit:Pe}){const{proxy:{$q:Ne}}=vo(),Ye=Mh(H,Ne),mt=Yg(H,Q6),G=bn(()=>H.selected===!0||H.icon!==void 0),U=bn(()=>H.selected===!0?H.iconSelected||Ne.iconSet.chip.selected:H.icon),e=bn(()=>H.iconRemove||Ne.iconSet.chip.remove),g=bn(()=>H.disable===!1&&(H.clickable===!0||H.selected!==null)),L=bn(()=>{const r=H.outline===!0&&H.color||H.textColor;return"q-chip row inline no-wrap items-center"+(H.outline===!1&&H.color!==void 0?` bg-${H.color}`:"")+(r?` text-${r} q-chip--colored`:"")+(H.disable===!0?" disabled":"")+(H.dense===!0?" q-chip--dense":"")+(H.outline===!0?" q-chip--outline":"")+(H.selected===!0?" q-chip--selected":"")+(g.value===!0?" q-chip--clickable cursor-pointer non-selectable q-hoverable":"")+(H.square===!0?" q-chip--square":"")+(Ye.value===!0?" q-chip--dark q-dark":"")}),a=bn(()=>{const r=H.disable===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:H.tabindex||0},t={...r,role:"button","aria-hidden":"false","aria-label":H.removeAriaLabel||Ne.lang.label.remove};return{chip:r,remove:t}});function C(r){r.keyCode===13&&A(r)}function A(r){H.disable||(Pe("update:selected",!H.selected),Pe("click",r))}function v(r){(r.keyCode===void 0||r.keyCode===13)&&(Oo(r),H.disable===!1&&(Pe("update:modelValue",!1),Pe("remove")))}function p(){const r=[];g.value===!0&&r.push(Jn("div",{class:"q-focus-helper"})),G.value===!0&&r.push(Jn(Ac,{class:"q-chip__icon q-chip__icon--left",name:U.value}));const t=H.label!==void 0?[Jn("div",{class:"ellipsis"},[H.label])]:void 0;return r.push(Jn("div",{class:"q-chip__content col row no-wrap items-center q-anchor--skip"},e6(ve.default,t))),H.iconRight&&r.push(Jn(Ac,{class:"q-chip__icon q-chip__icon--right",name:H.iconRight})),H.removable===!0&&r.push(Jn(Ac,{class:"q-chip__icon q-chip__icon--remove cursor-pointer",name:e.value,...a.value.remove,onClick:v,onKeyup:v})),r}return()=>{if(H.modelValue===!1)return;const r={class:L.value,style:mt.value};return g.value===!0&&Object.assign(r,a.value.chip,{onClick:A,onKeyup:C}),c2("div",r,p(),"ripple",H.ripple!==!1&&H.disable!==!0,()=>[[C2,H.ripple]])}}});function Bp(H){if(Object(H.$parent)===H.$parent)return H.$parent;let{parent:ve}=H.$;for(;Object(ve)===ve;){if(Object(ve.proxy)===ve.proxy)return ve.proxy;ve=ve.parent}}function L2(H){return H.appContext.config.globalProperties.$router!==void 0}function P2(H){return H.isUnmounted===!0||H.isDeactivated===!0}function L1(H){return H?H.aliasOf?H.aliasOf.path:H.path:""}function P1(H,ve){return(H.aliasOf||H)===(ve.aliasOf||ve)}function q6(H,ve){for(const Pe in ve){const Ne=ve[Pe],Ye=H[Pe];if(typeof Ne=="string"){if(Ne!==Ye)return!1}else if(Array.isArray(Ye)===!1||Ye.length!==Ne.length||Ne.some((mt,G)=>mt!==Ye[G]))return!1}return!0}function R1(H,ve){return Array.isArray(ve)===!0?H.length===ve.length&&H.every((Pe,Ne)=>Pe===ve[Ne]):H.length===1&&H[0]===ve}function eM(H,ve){return Array.isArray(H)===!0?R1(H,ve):Array.isArray(ve)===!0?R1(ve,H):H===ve}function tM(H,ve){if(Object.keys(H).length!==Object.keys(ve).length)return!1;for(const Pe in H)if(eM(H[Pe],ve[Pe])===!1)return!1;return!0}const R2={to:[String,Object],replace:Boolean,exact:Boolean,activeClass:{type:String,default:"q-router-link--active"},exactActiveClass:{type:String,default:"q-router-link--exact-active"},href:String,target:String,disable:Boolean};function D2({fallbackTag:H,useDisableForRouterLinkProps:ve=!0}={}){const Pe=vo(),{props:Ne,proxy:Ye,emit:mt}=Pe,G=L2(Pe),U=bn(()=>Ne.disable!==!0&&Ne.href!==void 0),e=bn(ve===!0?()=>G===!0&&Ne.disable!==!0&&U.value!==!0&&Ne.to!==void 0&&Ne.to!==null&&Ne.to!=="":()=>G===!0&&U.value!==!0&&Ne.to!==void 0&&Ne.to!==null&&Ne.to!==""),g=bn(()=>e.value===!0?s(Ne.to):null),L=bn(()=>g.value!==null),a=bn(()=>U.value===!0||L.value===!0),C=bn(()=>Ne.type==="a"||a.value===!0?"a":Ne.tag||H||"div"),A=bn(()=>U.value===!0?{href:Ne.href,target:Ne.target}:L.value===!0?{href:g.value.href,target:Ne.target}:{}),v=bn(()=>{if(L.value===!1)return-1;const{matched:u}=g.value,{length:l}=u,m=u[l-1];if(m===void 0)return-1;const h=Ye.$route.matched;if(h.length===0)return-1;const M=h.findIndex(P1.bind(null,m));if(M!==-1)return M;const c=L1(u[l-2]);return l>1&&L1(m)===c&&h[h.length-1].path!==c?h.findIndex(P1.bind(null,u[l-2])):M}),p=bn(()=>L.value===!0&&v.value!==-1&&q6(Ye.$route.params,g.value.params)),r=bn(()=>p.value===!0&&v.value===Ye.$route.matched.length-1&&tM(Ye.$route.params,g.value.params)),t=bn(()=>L.value===!0?r.value===!0?` ${Ne.exactActiveClass} ${Ne.activeClass}`:Ne.exact===!0?"":p.value===!0?` ${Ne.activeClass}`:"":"");function s(u){try{return Ye.$router.resolve(u)}catch{}return null}function n(u,{returnRouterError:l,to:m=Ne.to,replace:h=Ne.replace}={}){if(Ne.disable===!0)return u.preventDefault(),Promise.resolve(!1);if(u.metaKey||u.altKey||u.ctrlKey||u.shiftKey||u.button!==void 0&&u.button!==0||Ne.target==="_blank")return Promise.resolve(!1);u.preventDefault();const M=Ye.$router[h===!0?"replace":"push"](m);return l===!0?M:M.then(()=>{}).catch(()=>{})}function f(u){if(L.value===!0){const l=m=>n(u,m);mt("click",u,l),u.defaultPrevented!==!0&&l()}else mt("click",u)}return{hasRouterLink:L,hasHrefLink:U,hasLink:a,linkTag:C,resolvedLink:g,linkIsActive:p,linkIsExactActive:r,linkClass:t,linkAttrs:A,getLink:s,navigateToRouterLink:n,navigateOnClick:f}}var f0=Ts({name:"QItem",props:{...Ah,...R2,tag:{type:String,default:"div"},active:{type:Boolean,default:null},clickable:Boolean,dense:Boolean,insetLevel:Number,tabindex:[String,Number],focused:Boolean,manualFocus:Boolean},emits:["click","keyup"],setup(H,{slots:ve,emit:Pe}){const{proxy:{$q:Ne}}=vo(),Ye=Mh(H,Ne),{hasLink:mt,linkAttrs:G,linkClass:U,linkTag:e,navigateOnClick:g}=D2(),L=Na(null),a=Na(null),C=bn(()=>H.clickable===!0||mt.value===!0||H.tag==="label"),A=bn(()=>H.disable!==!0&&C.value===!0),v=bn(()=>"q-item q-item-type row no-wrap"+(H.dense===!0?" q-item--dense":"")+(Ye.value===!0?" q-item--dark":"")+(mt.value===!0&&H.active===null?U.value:H.active===!0?` q-item--active${H.activeClass!==void 0?` ${H.activeClass}`:""}`:"")+(H.disable===!0?" disabled":"")+(A.value===!0?" q-item--clickable q-link cursor-pointer "+(H.manualFocus===!0?"q-manual-focusable":"q-focusable q-hoverable")+(H.focused===!0?" q-manual-focusable--focused":""):"")),p=bn(()=>{if(H.insetLevel===void 0)return null;const n=Ne.lang.rtl===!0?"Right":"Left";return{["padding"+n]:16+H.insetLevel*56+"px"}});function r(n){A.value===!0&&(a.value!==null&&(n.qKeyEvent!==!0&&document.activeElement===L.value?a.value.focus():document.activeElement===a.value&&L.value.focus()),g(n))}function t(n){if(A.value===!0&&mh(n,[13,32])===!0){Oo(n),n.qKeyEvent=!0;const f=new MouseEvent("click",n);f.qKeyEvent=!0,L.value.dispatchEvent(f)}Pe("keyup",n)}function s(){const n=q5(ve.default,[]);return A.value===!0&&n.unshift(Jn("div",{class:"q-focus-helper",tabindex:-1,ref:a})),n}return()=>{const n={ref:L,class:v.value,style:p.value,role:"listitem",onClick:r,onKeyup:t};return A.value===!0?(n.tabindex=H.tabindex||"0",Object.assign(n,G.value)):C.value===!0&&(n["aria-disabled"]="true"),Jn(e.value,n,s())}}}),Xv=Ts({name:"QItemSection",props:{avatar:Boolean,thumbnail:Boolean,side:Boolean,top:Boolean,noWrap:Boolean},setup(H,{slots:ve}){const Pe=bn(()=>`q-item__section column q-item__section--${H.avatar===!0||H.side===!0||H.thumbnail===!0?"side":"main"}`+(H.top===!0?" q-item__section--top justify-start":" justify-center")+(H.avatar===!0?" q-item__section--avatar":"")+(H.thumbnail===!0?" q-item__section--thumbnail":"")+(H.noWrap===!0?" q-item__section--nowrap":""));return()=>Jn("div",{class:Pe.value},pl(ve.default))}}),rM=Ts({name:"QItemLabel",props:{overline:Boolean,caption:Boolean,header:Boolean,lines:[Number,String]},setup(H,{slots:ve}){const Pe=bn(()=>parseInt(H.lines,10)),Ne=bn(()=>"q-item__label"+(H.overline===!0?" q-item__label--overline text-overline":"")+(H.caption===!0?" q-item__label--caption text-caption":"")+(H.header===!0?" q-item__label--header":"")+(Pe.value===1?" ellipsis":"")),Ye=bn(()=>H.lines!==void 0&&Pe.value>1?{overflow:"hidden",display:"-webkit-box","-webkit-box-orient":"vertical","-webkit-line-clamp":Pe.value}:null);return()=>Jn("div",{style:Ye.value,class:Ne.value},pl(ve.default))}});const nM={target:{default:!0},noParentEvent:Boolean,contextMenu:Boolean};function aM({showing:H,avoidEmit:ve,configureAnchorEl:Pe}){const{props:Ne,proxy:Ye,emit:mt}=vo(),G=Na(null);let U=null;function e(A){return G.value===null?!1:A===void 0||A.touches===void 0||A.touches.length<=1}const g={};Pe===void 0&&(Object.assign(g,{hide(A){Ye.hide(A)},toggle(A){Ye.toggle(A),A.qAnchorHandled=!0},toggleKey(A){mh(A,13)===!0&&g.toggle(A)},contextClick(A){Ye.hide(A),Fs(A),ks(()=>{Ye.show(A),A.qAnchorHandled=!0})},prevent:Fs,mobileTouch(A){if(g.mobileCleanup(A),e(A)!==!0)return;Ye.hide(A),G.value.classList.add("non-selectable");const v=A.target;lh(g,"anchor",[[v,"touchmove","mobileCleanup","passive"],[v,"touchend","mobileCleanup","passive"],[v,"touchcancel","mobileCleanup","passive"],[G.value,"contextmenu","prevent","notPassive"]]),U=setTimeout(()=>{U=null,Ye.show(A),A.qAnchorHandled=!0},300)},mobileCleanup(A){G.value.classList.remove("non-selectable"),U!==null&&(clearTimeout(U),U=null),H.value===!0&&A!==void 0&&d2()}}),Pe=function(A=Ne.contextMenu){if(Ne.noParentEvent===!0||G.value===null)return;let v;A===!0?Ye.$q.platform.is.mobile===!0?v=[[G.value,"touchstart","mobileTouch","passive"]]:v=[[G.value,"mousedown","hide","passive"],[G.value,"contextmenu","contextClick","notPassive"]]:v=[[G.value,"click","toggle","passive"],[G.value,"keyup","toggleKey","passive"]],lh(g,"anchor",v)});function L(){qv(g,"anchor")}function a(A){for(G.value=A;G.value.classList.contains("q-anchor--skip");)G.value=G.value.parentNode;Pe()}function C(){if(Ne.target===!1||Ne.target===""||Ye.$el.parentNode===null)G.value=null;else if(Ne.target===!0)a(Ye.$el.parentNode);else{let A=Ne.target;if(typeof Ne.target=="string")try{A=document.querySelector(Ne.target)}catch{A=void 0}A!=null?(G.value=A.$el||A,Pe()):(G.value=null,console.error(`Anchor: target "${Ne.target}" not found`))}}return zi(()=>Ne.contextMenu,A=>{G.value!==null&&(L(),Pe(A))}),zi(()=>Ne.target,()=>{G.value!==null&&L(),C()}),zi(()=>Ne.noParentEvent,A=>{G.value!==null&&(A===!0?L():Pe())}),Th(()=>{C(),ve!==!0&&Ne.modelValue===!0&&G.value===null&&mt("update:modelValue",!1)}),Wo(()=>{U!==null&&clearTimeout(U),L()}),{anchorEl:G,canShow:e,anchorEvents:g}}function iM(H,ve){const Pe=Na(null);let Ne;function Ye(U,e){const g=`${e!==void 0?"add":"remove"}EventListener`,L=e!==void 0?e:Ne;U!==window&&U[g]("scroll",L,ss.passive),window[g]("scroll",L,ss.passive),Ne=e}function mt(){Pe.value!==null&&(Ye(Pe.value),Pe.value=null)}const G=zi(()=>H.noParentEvent,()=>{Pe.value!==null&&(mt(),ve())});return Wo(G),{localScrollTarget:Pe,unconfigureScrollTarget:mt,changeScrollEvent:Ye}}const I2={modelValue:{type:Boolean,default:null},"onUpdate:modelValue":[Function,Array]},_2=["beforeShow","show","beforeHide","hide"];function k2({showing:H,canShow:ve,hideOnRouteChange:Pe,handleShow:Ne,handleHide:Ye,processOnMount:mt}){const G=vo(),{props:U,emit:e,proxy:g}=G;let L;function a(s){H.value===!0?v(s):C(s)}function C(s){if(U.disable===!0||s!==void 0&&s.qAnchorHandled===!0||ve!==void 0&&ve(s)!==!0)return;const n=U["onUpdate:modelValue"]!==void 0;n===!0&&(e("update:modelValue",!0),L=s,ks(()=>{L===s&&(L=void 0)})),(U.modelValue===null||n===!1)&&A(s)}function A(s){H.value!==!0&&(H.value=!0,e("beforeShow",s),Ne!==void 0?Ne(s):e("show",s))}function v(s){if(U.disable===!0)return;const n=U["onUpdate:modelValue"]!==void 0;n===!0&&(e("update:modelValue",!1),L=s,ks(()=>{L===s&&(L=void 0)})),(U.modelValue===null||n===!1)&&p(s)}function p(s){H.value!==!1&&(H.value=!1,e("beforeHide",s),Ye!==void 0?Ye(s):e("hide",s))}function r(s){U.disable===!0&&s===!0?U["onUpdate:modelValue"]!==void 0&&e("update:modelValue",!1):s===!0!==H.value&&(s===!0?A:p)(L)}zi(()=>U.modelValue,r),Pe!==void 0&&L2(G)===!0&&zi(()=>g.$route.fullPath,()=>{Pe.value===!0&&H.value===!0&&v()}),mt===!0&&Th(()=>{r(U.modelValue)});const t={show:C,hide:v,toggle:a};return Object.assign(g,t),t}let oM=1,sM=document.body;function lM(H,ve){const Pe=document.createElement("div");if(Pe.id=ve!==void 0?`q-portal--${ve}--${oM++}`:H,x0.globalNodes!==void 0){const Ne=x0.globalNodes.class;Ne!==void 0&&(Pe.className=Ne)}return sM.appendChild(Pe),Pe}function uM(H){H.remove()}const nd=[];function fM(H,ve){do{if(H.$options.name==="QMenu"){if(H.hide(ve),H.$props.separateClosePopup===!0)return Bp(H)}else if(H.__qPortal===!0){const Pe=Bp(H);return Pe!==void 0&&Pe.$options.name==="QPopupProxy"?(H.hide(ve),Pe):H}H=Bp(H)}while(H!=null)}function cM(H){for(H=H.parent;H!=null;){if(H.type.name==="QGlobalDialog")return!0;if(H.type.name==="QDialog"||H.type.name==="QMenu")return!1;H=H.parent}return!1}function F2(H,ve,Pe,Ne){const Ye=Na(!1),mt=Na(!1);let G=null;const U={},e=Ne==="dialog"&&cM(H);function g(a){if(a===!0){S1(U),mt.value=!0;return}mt.value=!1,Ye.value===!1&&(e===!1&&G===null&&(G=lM(!1,Ne)),Ye.value=!0,nd.push(H.proxy),X6(U))}function L(a){if(mt.value=!1,a!==!0)return;S1(U),Ye.value=!1;const C=nd.indexOf(H.proxy);C!==-1&&nd.splice(C,1),G!==null&&(uM(G),G=null)}return _g(()=>{L(!0)}),H.proxy.__qPortal=!0,pd(H.proxy,"contentEl",()=>ve.value),{showPortal:g,hidePortal:L,portalIsActive:Ye,portalIsAccessible:mt,renderPortal:()=>e===!0?Pe():Ye.value===!0?[Jn(S4,{to:G},Pe())]:void 0}}const z2={transitionShow:{type:String,default:"fade"},transitionHide:{type:String,default:"fade"},transitionDuration:{type:[String,Number],default:300}};function O2(H,ve=()=>{},Pe=()=>{}){return{transitionProps:bn(()=>{const Ne=`q-transition--${H.transitionShow||ve()}`,Ye=`q-transition--${H.transitionHide||Pe()}`;return{appear:!0,enterFromClass:`${Ne}-enter-from`,enterActiveClass:`${Ne}-enter-active`,enterToClass:`${Ne}-enter-to`,leaveFromClass:`${Ye}-leave-from`,leaveActiveClass:`${Ye}-leave-active`,leaveToClass:`${Ye}-leave-to`}}),transitionStyle:bn(()=>`--q-transition-duration: ${H.transitionDuration}ms`)}}function B2(){let H;const ve=vo();function Pe(){H=void 0}return vd(Pe),Wo(Pe),{removeTick:Pe,registerTick(Ne){H=Ne,ks(()=>{H===Ne&&(P2(ve)===!1&&H(),H=void 0)})}}}function N2(){let H=null;const ve=vo();function Pe(){H!==null&&(clearTimeout(H),H=null)}return vd(Pe),Wo(Pe),{removeTimeout:Pe,registerTimeout(Ne,Ye){Pe(),P2(ve)===!1&&(H=setTimeout(Ne,Ye))}}}const hM=[null,document,document.body,document.scrollingElement,document.documentElement];function vM(H,ve){let Pe=K6(ve);if(Pe===void 0){if(H==null)return window;Pe=H.closest(".scroll,.scroll-y,.overflow-auto")}return hM.includes(Pe)?window:Pe}function dM(H){return H===window?window.pageYOffset||window.scrollY||document.body.scrollTop||0:H.scrollTop}function pM(H){return H===window?window.pageXOffset||window.scrollX||document.body.scrollLeft||0:H.scrollLeft}let r0;function gM(){if(r0!==void 0)return r0;const H=document.createElement("p"),ve=document.createElement("div");vg(H,{width:"100%",height:"200px"}),vg(ve,{position:"absolute",top:"0px",left:"0px",visibility:"hidden",width:"200px",height:"150px",overflow:"hidden"}),ve.appendChild(H),document.body.appendChild(ve);const Pe=H.offsetWidth;ve.style.overflow="scroll";let Ne=H.offsetWidth;return Pe===Ne&&(Ne=ve.clientWidth),ve.remove(),r0=Pe-Ne,r0}function yM(H,ve=!0){return!H||H.nodeType!==Node.ELEMENT_NODE?!1:ve?H.scrollHeight>H.clientHeight&&(H.classList.contains("scroll")||H.classList.contains("overflow-auto")||["auto","scroll"].includes(window.getComputedStyle(H)["overflow-y"])):H.scrollWidth>H.clientWidth&&(H.classList.contains("scroll")||H.classList.contains("overflow-auto")||["auto","scroll"].includes(window.getComputedStyle(H)["overflow-x"]))}const vh=[];let pv;function mM(H){pv=H.keyCode===27}function xM(){pv===!0&&(pv=!1)}function bM(H){pv===!0&&(pv=!1,mh(H,27)===!0&&vh[vh.length-1](H))}function U2(H){window[H]("keydown",mM),window[H]("blur",xM),window[H]("keyup",bM),pv=!1}function V2(H){Ki.is.desktop===!0&&(vh.push(H),vh.length===1&&U2("addEventListener"))}function b0(H){const ve=vh.indexOf(H);ve!==-1&&(vh.splice(ve,1),vh.length===0&&U2("removeEventListener"))}const dh=[];function H2(H){dh[dh.length-1](H)}function G2(H){Ki.is.desktop===!0&&(dh.push(H),dh.length===1&&document.body.addEventListener("focusin",H2))}function dg(H){const ve=dh.indexOf(H);ve!==-1&&(dh.splice(ve,1),dh.length===0&&document.body.removeEventListener("focusin",H2))}const{notPassiveCapture:w0}=ss,ph=[];function T0(H){const ve=H.target;if(ve===void 0||ve.nodeType===8||ve.classList.contains("no-pointer-events")===!0)return;let Pe=nd.length-1;for(;Pe>=0;){const Ne=nd[Pe].$;if(Ne.type.name==="QTooltip"){Pe--;continue}if(Ne.type.name!=="QDialog")break;if(Ne.props.seamless!==!0)return;Pe--}for(let Ne=ph.length-1;Ne>=0;Ne--){const Ye=ph[Ne];if((Ye.anchorEl.value===null||Ye.anchorEl.value.contains(ve)===!1)&&(ve===document.body||Ye.innerRef.value!==null&&Ye.innerRef.value.contains(ve)===!1))H.qClickOutside=!0,Ye.onClickOutside(H);else return}}function wM(H){ph.push(H),ph.length===1&&(document.addEventListener("mousedown",T0,w0),document.addEventListener("touchstart",T0,w0))}function D1(H){const ve=ph.findIndex(Pe=>Pe===H);ve!==-1&&(ph.splice(ve,1),ph.length===0&&(document.removeEventListener("mousedown",T0,w0),document.removeEventListener("touchstart",T0,w0)))}let I1,_1;function k1(H){const ve=H.split(" ");return ve.length!==2?!1:["top","center","bottom"].includes(ve[0])!==!0?(console.error("Anchor/Self position must start with one of top/center/bottom"),!1):["left","middle","right","start","end"].includes(ve[1])!==!0?(console.error("Anchor/Self position must end with one of left/middle/right/start/end"),!1):!0}function TM(H){return H?!(H.length!==2||typeof H[0]!="number"||typeof H[1]!="number"):!0}const pg={"start#ltr":"left","start#rtl":"right","end#ltr":"right","end#rtl":"left"};["left","middle","right"].forEach(H=>{pg[`${H}#ltr`]=H,pg[`${H}#rtl`]=H});function F1(H,ve){const Pe=H.split(" ");return{vertical:Pe[0],horizontal:pg[`${Pe[1]}#${ve===!0?"rtl":"ltr"}`]}}function AM(H,ve){let{top:Pe,left:Ne,right:Ye,bottom:mt,width:G,height:U}=H.getBoundingClientRect();return ve!==void 0&&(Pe-=ve[1],Ne-=ve[0],mt+=ve[1],Ye+=ve[0],G+=ve[0],U+=ve[1]),{top:Pe,bottom:mt,height:U,left:Ne,right:Ye,width:G,middle:Ne+(Ye-Ne)/2,center:Pe+(mt-Pe)/2}}function MM(H,ve,Pe){let{top:Ne,left:Ye}=H.getBoundingClientRect();return Ne+=ve.top,Ye+=ve.left,Pe!==void 0&&(Ne+=Pe[1],Ye+=Pe[0]),{top:Ne,bottom:Ne+1,height:1,left:Ye,right:Ye+1,width:1,middle:Ye,center:Ne}}function SM(H,ve){return{top:0,center:ve/2,bottom:ve,left:0,middle:H/2,right:H}}function z1(H,ve,Pe,Ne){return{top:H[Pe.vertical]-ve[Ne.vertical],left:H[Pe.horizontal]-ve[Ne.horizontal]}}function W2(H,ve=0){if(H.targetEl===null||H.anchorEl===null||ve>5)return;if(H.targetEl.offsetHeight===0||H.targetEl.offsetWidth===0){setTimeout(()=>{W2(H,ve+1)},10);return}const{targetEl:Pe,offset:Ne,anchorEl:Ye,anchorOrigin:mt,selfOrigin:G,absoluteOffset:U,fit:e,cover:g,maxHeight:L,maxWidth:a}=H;if(Ki.is.ios===!0&&window.visualViewport!==void 0){const l=document.body.style,{offsetLeft:m,offsetTop:h}=window.visualViewport;m!==I1&&(l.setProperty("--q-pe-left",m+"px"),I1=m),h!==_1&&(l.setProperty("--q-pe-top",h+"px"),_1=h)}const{scrollLeft:C,scrollTop:A}=Pe,v=U===void 0?AM(Ye,g===!0?[0,0]:Ne):MM(Ye,U,Ne);Object.assign(Pe.style,{top:0,left:0,minWidth:null,minHeight:null,maxWidth:a||"100vw",maxHeight:L||"100vh",visibility:"visible"});const{offsetWidth:p,offsetHeight:r}=Pe,{elWidth:t,elHeight:s}=e===!0||g===!0?{elWidth:Math.max(v.width,p),elHeight:g===!0?Math.max(v.height,r):r}:{elWidth:p,elHeight:r};let n={maxWidth:a,maxHeight:L};(e===!0||g===!0)&&(n.minWidth=v.width+"px",g===!0&&(n.minHeight=v.height+"px")),Object.assign(Pe.style,n);const f=SM(t,s);let u=z1(v,f,mt,G);if(U===void 0||Ne===void 0)Np(u,v,f,mt,G);else{const{top:l,left:m}=u;Np(u,v,f,mt,G);let h=!1;if(u.top!==l){h=!0;const M=2*Ne[1];v.center=v.top-=M,v.bottom-=M+2}if(u.left!==m){h=!0;const M=2*Ne[0];v.middle=v.left-=M,v.right-=M+2}h===!0&&(u=z1(v,f,mt,G),Np(u,v,f,mt,G))}n={top:u.top+"px",left:u.left+"px"},u.maxHeight!==void 0&&(n.maxHeight=u.maxHeight+"px",v.height>u.maxHeight&&(n.minHeight=n.maxHeight)),u.maxWidth!==void 0&&(n.maxWidth=u.maxWidth+"px",v.width>u.maxWidth&&(n.minWidth=n.maxWidth)),Object.assign(Pe.style,n),Pe.scrollTop!==A&&(Pe.scrollTop=A),Pe.scrollLeft!==C&&(Pe.scrollLeft=C)}function Np(H,ve,Pe,Ne,Ye){const mt=Pe.bottom,G=Pe.right,U=gM(),e=window.innerHeight-U,g=document.body.clientWidth;if(H.top<0||H.top+mt>e)if(Ye.vertical==="center")H.top=ve[Ne.vertical]>e/2?Math.max(0,e-mt):0,H.maxHeight=Math.min(mt,e);else if(ve[Ne.vertical]>e/2){const L=Math.min(e,Ne.vertical==="center"?ve.center:Ne.vertical===Ye.vertical?ve.bottom:ve.top);H.maxHeight=Math.min(mt,L),H.top=Math.max(0,L-mt)}else H.top=Math.max(0,Ne.vertical==="center"?ve.center:Ne.vertical===Ye.vertical?ve.top:ve.bottom),H.maxHeight=Math.min(mt,e-H.top);if(H.left<0||H.left+G>g)if(H.maxWidth=Math.min(G,g),Ye.horizontal==="middle")H.left=ve[Ne.horizontal]>g/2?Math.max(0,g-G):0;else if(ve[Ne.horizontal]>g/2){const L=Math.min(g,Ne.horizontal==="middle"?ve.middle:Ne.horizontal===Ye.horizontal?ve.right:ve.left);H.maxWidth=Math.min(G,L),H.left=Math.max(0,L-H.maxWidth)}else H.left=Math.max(0,Ne.horizontal==="middle"?ve.middle:Ne.horizontal===Ye.horizontal?ve.left:ve.right),H.maxWidth=Math.min(G,g-H.left)}var EM=Ts({name:"QMenu",inheritAttrs:!1,props:{...nM,...I2,...Ah,...z2,persistent:Boolean,autoClose:Boolean,separateClosePopup:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,fit:Boolean,cover:Boolean,square:Boolean,anchor:{type:String,validator:k1},self:{type:String,validator:k1},offset:{type:Array,validator:TM},scrollTarget:{default:void 0},touchPosition:Boolean,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null}},emits:[..._2,"click","escapeKey"],setup(H,{slots:ve,emit:Pe,attrs:Ne}){let Ye=null,mt,G,U;const e=vo(),{proxy:g}=e,{$q:L}=g,a=Na(null),C=Na(!1),A=bn(()=>H.persistent!==!0&&H.noRouteDismiss!==!0),v=Mh(H,L),{registerTick:p,removeTick:r}=B2(),{registerTimeout:t}=N2(),{transitionProps:s,transitionStyle:n}=O2(H),{localScrollTarget:f,changeScrollEvent:u,unconfigureScrollTarget:l}=iM(H,I),{anchorEl:m,canShow:h}=aM({showing:C}),{hide:M}=k2({showing:C,canShow:h,handleShow:P,handleHide:x,hideOnRouteChange:A,processOnMount:!0}),{showPortal:c,hidePortal:i,renderPortal:d}=F2(e,a,z,"menu"),b={anchorEl:m,innerRef:a,onClickOutside(B){if(H.persistent!==!0&&C.value===!0)return M(B),(B.type==="touchstart"||B.target.classList.contains("q-dialog__backdrop"))&&Oo(B),!0}},w=bn(()=>F1(H.anchor||(H.cover===!0?"center middle":"bottom start"),L.lang.rtl)),E=bn(()=>H.cover===!0?w.value:F1(H.self||"top start",L.lang.rtl)),y=bn(()=>(H.square===!0?" q-menu--square":"")+(v.value===!0?" q-menu--dark q-dark":"")),S=bn(()=>H.autoClose===!0?{onClick:N}:{}),T=bn(()=>C.value===!0&&H.persistent!==!0);zi(T,B=>{B===!0?(V2(F),wM(b)):(b0(F),D1(b))});function o(){Xg(()=>{let B=a.value;B&&B.contains(document.activeElement)!==!0&&(B=B.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||B.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||B.querySelector("[autofocus], [data-autofocus]")||B,B.focus({preventScroll:!0}))})}function P(B){if(Ye=H.noRefocus===!1?document.activeElement:null,G2(k),c(),I(),mt=void 0,B!==void 0&&(H.touchPosition||H.contextMenu)){const W=hv(B);if(W.left!==void 0){const{top:q,left:ee}=m.value.getBoundingClientRect();mt={left:W.left-ee,top:W.top-q}}}G===void 0&&(G=zi(()=>L.screen.width+"|"+L.screen.height+"|"+H.self+"|"+H.anchor+"|"+L.lang.rtl,O)),H.noFocus!==!0&&document.activeElement.blur(),p(()=>{O(),H.noFocus!==!0&&o()}),t(()=>{L.platform.is.ios===!0&&(U=H.autoClose,a.value.click()),O(),c(!0),Pe("show",B)},H.transitionDuration)}function x(B){r(),i(),_(!0),Ye!==null&&(B===void 0||B.qClickOutside!==!0)&&(((B&&B.type.indexOf("key")===0?Ye.closest('[tabindex]:not([tabindex^="-"])'):void 0)||Ye).focus(),Ye=null),t(()=>{i(!0),Pe("hide",B)},H.transitionDuration)}function _(B){mt=void 0,G!==void 0&&(G(),G=void 0),(B===!0||C.value===!0)&&(dg(k),l(),D1(b),b0(F)),B!==!0&&(Ye=null)}function I(){(m.value!==null||H.scrollTarget!==void 0)&&(f.value=vM(m.value,H.scrollTarget),u(f.value,O))}function N(B){U!==!0?(fM(g,B),Pe("click",B)):U=!1}function k(B){T.value===!0&&H.noFocus!==!0&&E2(a.value,B.target)!==!0&&o()}function F(B){Pe("escapeKey"),M(B)}function O(){W2({targetEl:a.value,offset:H.offset,anchorEl:m.value,anchorOrigin:w.value,selfOrigin:E.value,absoluteOffset:mt,fit:H.fit,cover:H.cover,maxHeight:H.maxHeight,maxWidth:H.maxWidth})}function z(){return Jn(gh,s.value,()=>C.value===!0?Jn("div",{role:"menu",...Ne,ref:a,tabindex:-1,class:["q-menu q-position-engine scroll"+y.value,Ne.class],style:[Ne.style,n.value],...S.value},pl(ve.default)):null)}return Wo(_),Object.assign(g,{focus:o,updatePosition:O}),d}});function CM(H,ve,Pe){let Ne;function Ye(){Ne!==void 0&&(sg.remove(Ne),Ne=void 0)}return Wo(()=>{H.value===!0&&Ye()}),{removeFromHistory:Ye,addToHistory(){Ne={condition:()=>Pe.value===!0,handler:ve},sg.add(Ne)}}}let Gv=0,Up,Vp,Zv,Hp=!1,O1,B1,N1,ah=null;function LM(H){PM(H)&&Oo(H)}function PM(H){if(H.target===document.body||H.target.classList.contains("q-layout__backdrop"))return!0;const ve=TA(H),Pe=H.shiftKey&&!H.deltaX,Ne=!Pe&&Math.abs(H.deltaX)<=Math.abs(H.deltaY),Ye=Pe||Ne?H.deltaY:H.deltaX;for(let mt=0;mt<ve.length;mt++){const G=ve[mt];if(yM(G,Ne))return Ne?Ye<0&&G.scrollTop===0?!0:Ye>0&&G.scrollTop+G.clientHeight===G.scrollHeight:Ye<0&&G.scrollLeft===0?!0:Ye>0&&G.scrollLeft+G.clientWidth===G.scrollWidth}return!0}function U1(H){H.target===document&&(document.scrollingElement.scrollTop=document.scrollingElement.scrollTop)}function n0(H){Hp!==!0&&(Hp=!0,requestAnimationFrame(()=>{Hp=!1;const{height:ve}=H.target,{clientHeight:Pe,scrollTop:Ne}=document.scrollingElement;(Zv===void 0||ve!==window.innerHeight)&&(Zv=Pe-ve,document.scrollingElement.scrollTop=Ne),Ne>Zv&&(document.scrollingElement.scrollTop-=Math.ceil((Ne-Zv)/8))}))}function V1(H){const ve=document.body,Pe=window.visualViewport!==void 0;if(H==="add"){const{overflowY:Ne,overflowX:Ye}=window.getComputedStyle(ve);Up=pM(window),Vp=dM(window),O1=ve.style.left,B1=ve.style.top,N1=window.location.href,ve.style.left=`-${Up}px`,ve.style.top=`-${Vp}px`,Ye!=="hidden"&&(Ye==="scroll"||ve.scrollWidth>window.innerWidth)&&ve.classList.add("q-body--force-scrollbar-x"),Ne!=="hidden"&&(Ne==="scroll"||ve.scrollHeight>window.innerHeight)&&ve.classList.add("q-body--force-scrollbar-y"),ve.classList.add("q-body--prevent-scroll"),document.qScrollPrevented=!0,Ki.is.ios===!0&&(Pe===!0?(window.scrollTo(0,0),window.visualViewport.addEventListener("resize",n0,ss.passiveCapture),window.visualViewport.addEventListener("scroll",n0,ss.passiveCapture),window.scrollTo(0,0)):window.addEventListener("scroll",U1,ss.passiveCapture))}Ki.is.desktop===!0&&Ki.is.mac===!0&&window[`${H}EventListener`]("wheel",LM,ss.notPassive),H==="remove"&&(Ki.is.ios===!0&&(Pe===!0?(window.visualViewport.removeEventListener("resize",n0,ss.passiveCapture),window.visualViewport.removeEventListener("scroll",n0,ss.passiveCapture)):window.removeEventListener("scroll",U1,ss.passiveCapture)),ve.classList.remove("q-body--prevent-scroll"),ve.classList.remove("q-body--force-scrollbar-x"),ve.classList.remove("q-body--force-scrollbar-y"),document.qScrollPrevented=!1,ve.style.left=O1,ve.style.top=B1,window.location.href===N1&&window.scrollTo(Up,Vp),Zv=void 0)}function RM(H){let ve="add";if(H===!0){if(Gv++,ah!==null){clearTimeout(ah),ah=null;return}if(Gv>1)return}else{if(Gv===0||(Gv--,Gv>0))return;if(ve="remove",Ki.is.ios===!0&&Ki.is.nativeMobile===!0){ah!==null&&clearTimeout(ah),ah=setTimeout(()=>{V1(ve),ah=null},100);return}}V1(ve)}function DM(){let H;return{preventBodyScroll(ve){ve!==H&&(H!==void 0||ve===!0)&&(H=ve,RM(ve))}}}let a0=0;const IM={standard:"fixed-full flex-center",top:"fixed-top justify-center",bottom:"fixed-bottom justify-center",right:"fixed-right items-center",left:"fixed-left items-center"},H1={standard:["scale","scale"],top:["slide-down","slide-up"],bottom:["slide-up","slide-down"],right:["slide-left","slide-right"],left:["slide-right","slide-left"]};var _M=Ts({name:"QDialog",inheritAttrs:!1,props:{...I2,...z2,transitionShow:String,transitionHide:String,persistent:Boolean,autoClose:Boolean,allowFocusOutside:Boolean,noEscDismiss:Boolean,noBackdropDismiss:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,noShake:Boolean,seamless:Boolean,maximized:Boolean,fullWidth:Boolean,fullHeight:Boolean,square:Boolean,position:{type:String,default:"standard",validator:H=>H==="standard"||["top","bottom","left","right"].includes(H)}},emits:[..._2,"shake","click","escapeKey"],setup(H,{slots:ve,emit:Pe,attrs:Ne}){const Ye=vo(),mt=Na(null),G=Na(!1),U=Na(!1);let e=null,g=null,L,a;const C=bn(()=>H.persistent!==!0&&H.noRouteDismiss!==!0&&H.seamless!==!0),{preventBodyScroll:A}=DM(),{registerTimeout:v}=N2(),{registerTick:p,removeTick:r}=B2(),{transitionProps:t,transitionStyle:s}=O2(H,()=>H1[H.position][0],()=>H1[H.position][1]),{showPortal:n,hidePortal:f,portalIsAccessible:u,renderPortal:l}=F2(Ye,mt,N,"dialog"),{hide:m}=k2({showing:G,hideOnRouteChange:C,handleShow:w,handleHide:E,processOnMount:!0}),{addToHistory:h,removeFromHistory:M}=CM(G,m,C),c=bn(()=>`q-dialog__inner flex no-pointer-events q-dialog__inner--${H.maximized===!0?"maximized":"minimized"} q-dialog__inner--${H.position} ${IM[H.position]}`+(U.value===!0?" q-dialog__inner--animating":"")+(H.fullWidth===!0?" q-dialog__inner--fullwidth":"")+(H.fullHeight===!0?" q-dialog__inner--fullheight":"")+(H.square===!0?" q-dialog__inner--square":"")),i=bn(()=>G.value===!0&&H.seamless!==!0),d=bn(()=>H.autoClose===!0?{onClick:x}:{}),b=bn(()=>[`q-dialog fullscreen no-pointer-events q-dialog--${i.value===!0?"modal":"seamless"}`,Ne.class]);zi(()=>H.maximized,k=>{G.value===!0&&P(k)}),zi(i,k=>{A(k),k===!0?(G2(I),V2(T)):(dg(I),b0(T))});function w(k){h(),g=H.noRefocus===!1&&document.activeElement!==null?document.activeElement:null,P(H.maximized),n(),U.value=!0,H.noFocus!==!0?(document.activeElement!==null&&document.activeElement.blur(),p(y)):r(),v(()=>{if(Ye.proxy.$q.platform.is.ios===!0){if(H.seamless!==!0&&document.activeElement){const{top:F,bottom:O}=document.activeElement.getBoundingClientRect(),{innerHeight:z}=window,B=window.visualViewport!==void 0?window.visualViewport.height:z;F>0&&O>B/2&&(document.scrollingElement.scrollTop=Math.min(document.scrollingElement.scrollHeight-B,O>=z?1/0:Math.ceil(document.scrollingElement.scrollTop+O-B/2))),document.activeElement.scrollIntoView()}a=!0,mt.value.click(),a=!1}n(!0),U.value=!1,Pe("show",k)},H.transitionDuration)}function E(k){r(),M(),o(!0),U.value=!0,f(),g!==null&&(((k&&k.type.indexOf("key")===0?g.closest('[tabindex]:not([tabindex^="-"])'):void 0)||g).focus(),g=null),v(()=>{f(!0),U.value=!1,Pe("hide",k)},H.transitionDuration)}function y(k){Xg(()=>{let F=mt.value;F===null||F.contains(document.activeElement)===!0||(F=(k!==""?F.querySelector(k):null)||F.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||F.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||F.querySelector("[autofocus], [data-autofocus]")||F,F.focus({preventScroll:!0}))})}function S(k){k&&typeof k.focus=="function"?k.focus({preventScroll:!0}):y(),Pe("shake");const F=mt.value;F!==null&&(F.classList.remove("q-animate--scale"),F.classList.add("q-animate--scale"),e!==null&&clearTimeout(e),e=setTimeout(()=>{e=null,mt.value!==null&&(F.classList.remove("q-animate--scale"),y())},170))}function T(){H.seamless!==!0&&(H.persistent===!0||H.noEscDismiss===!0?H.maximized!==!0&&H.noShake!==!0&&S():(Pe("escapeKey"),m()))}function o(k){e!==null&&(clearTimeout(e),e=null),(k===!0||G.value===!0)&&(P(!1),H.seamless!==!0&&(A(!1),dg(I),b0(T))),k!==!0&&(g=null)}function P(k){k===!0?L!==!0&&(a0<1&&document.body.classList.add("q-body--dialog"),a0++,L=!0):L===!0&&(a0<2&&document.body.classList.remove("q-body--dialog"),a0--,L=!1)}function x(k){a!==!0&&(m(k),Pe("click",k))}function _(k){H.persistent!==!0&&H.noBackdropDismiss!==!0?m(k):H.noShake!==!0&&S()}function I(k){H.allowFocusOutside!==!0&&u.value===!0&&E2(mt.value,k.target)!==!0&&y('[tabindex]:not([tabindex="-1"])')}Object.assign(Ye.proxy,{focus:y,shake:S,__updateRefocusTarget(k){g=k||null}}),Wo(o);function N(){return Jn("div",{role:"dialog","aria-modal":i.value===!0?"true":"false",...Ne,class:b.value},[Jn(gh,{name:"q-transition--fade",appear:!0},()=>i.value===!0?Jn("div",{class:"q-dialog__backdrop fixed-full",style:s.value,"aria-hidden":"true",tabindex:-1,onClick:_}):null),Jn(gh,t.value,()=>G.value===!0?Jn("div",{ref:mt,class:c.value,style:s.value,tabindex:-1,...d.value},pl(ve.default)):null)])}return l}});let A0=!1;{const H=document.createElement("div");H.setAttribute("dir","rtl"),Object.assign(H.style,{width:"1px",height:"1px",overflow:"auto"});const ve=document.createElement("div");Object.assign(ve.style,{width:"1000px",height:"1px"}),document.body.appendChild(H),H.appendChild(ve),H.scrollLeft=-1e3,A0=H.scrollLeft>=0,H.remove()}const wu=1e3,kM=["start","center","end","start-force","center-force","end-force"],Y2=Array.prototype.filter,FM=window.getComputedStyle(document.body).overflowAnchor===void 0?yh:function(H,ve){H!==null&&(H._qOverflowAnimationFrame!==void 0&&cancelAnimationFrame(H._qOverflowAnimationFrame),H._qOverflowAnimationFrame=requestAnimationFrame(()=>{if(H===null)return;H._qOverflowAnimationFrame=void 0;const Pe=H.children||[];Y2.call(Pe,Ye=>Ye.dataset&&Ye.dataset.qVsAnchor!==void 0).forEach(Ye=>{delete Ye.dataset.qVsAnchor});const Ne=Pe[ve];Ne&&Ne.dataset&&(Ne.dataset.qVsAnchor="")}))};function fv(H,ve){return H+ve}function Gp(H,ve,Pe,Ne,Ye,mt,G,U){const e=H===window?document.scrollingElement||document.documentElement:H,g=Ye===!0?"offsetWidth":"offsetHeight",L={scrollStart:0,scrollViewSize:-G-U,scrollMaxSize:0,offsetStart:-G,offsetEnd:-U};if(Ye===!0?(H===window?(L.scrollStart=window.pageXOffset||window.scrollX||document.body.scrollLeft||0,L.scrollViewSize+=document.documentElement.clientWidth):(L.scrollStart=e.scrollLeft,L.scrollViewSize+=e.clientWidth),L.scrollMaxSize=e.scrollWidth,mt===!0&&(L.scrollStart=(A0===!0?L.scrollMaxSize-L.scrollViewSize:0)-L.scrollStart)):(H===window?(L.scrollStart=window.pageYOffset||window.scrollY||document.body.scrollTop||0,L.scrollViewSize+=document.documentElement.clientHeight):(L.scrollStart=e.scrollTop,L.scrollViewSize+=e.clientHeight),L.scrollMaxSize=e.scrollHeight),Pe!==null)for(let a=Pe.previousElementSibling;a!==null;a=a.previousElementSibling)a.classList.contains("q-virtual-scroll--skip")===!1&&(L.offsetStart+=a[g]);if(Ne!==null)for(let a=Ne.nextElementSibling;a!==null;a=a.nextElementSibling)a.classList.contains("q-virtual-scroll--skip")===!1&&(L.offsetEnd+=a[g]);if(ve!==H){const a=e.getBoundingClientRect(),C=ve.getBoundingClientRect();Ye===!0?(L.offsetStart+=C.left-a.left,L.offsetEnd-=C.width):(L.offsetStart+=C.top-a.top,L.offsetEnd-=C.height),H!==window&&(L.offsetStart+=L.scrollStart),L.offsetEnd+=L.scrollMaxSize-L.offsetStart}return L}function G1(H,ve,Pe,Ne){ve==="end"&&(ve=(H===window?document.body:H)[Pe===!0?"scrollWidth":"scrollHeight"]),H===window?Pe===!0?(Ne===!0&&(ve=(A0===!0?document.body.scrollWidth-document.documentElement.clientWidth:0)-ve),window.scrollTo(ve,window.pageYOffset||window.scrollY||document.body.scrollTop||0)):window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,ve):Pe===!0?(Ne===!0&&(ve=(A0===!0?H.scrollWidth-H.offsetWidth:0)-ve),H.scrollLeft=ve):H.scrollTop=ve}function Wv(H,ve,Pe,Ne){if(Pe>=Ne)return 0;const Ye=ve.length,mt=Math.floor(Pe/wu),G=Math.floor((Ne-1)/wu)+1;let U=H.slice(mt,G).reduce(fv,0);return Pe%wu!==0&&(U-=ve.slice(mt*wu,Pe).reduce(fv,0)),Ne%wu!==0&&Ne!==Ye&&(U-=ve.slice(Ne,G*wu).reduce(fv,0)),U}const zM={virtualScrollSliceSize:{type:[Number,String],default:null},virtualScrollSliceRatioBefore:{type:[Number,String],default:1},virtualScrollSliceRatioAfter:{type:[Number,String],default:1},virtualScrollItemSize:{type:[Number,String],default:24},virtualScrollStickySizeStart:{type:[Number,String],default:0},virtualScrollStickySizeEnd:{type:[Number,String],default:0},tableColspan:[Number,String]},OM={virtualScrollHorizontal:Boolean,onVirtualScroll:Function,...zM};function BM({virtualScrollLength:H,getVirtualScrollTarget:ve,getVirtualScrollEl:Pe,virtualScrollItemSizeComputed:Ne}){const Ye=vo(),{props:mt,emit:G,proxy:U}=Ye,{$q:e}=U;let g,L,a,C=[],A;const v=Na(0),p=Na(0),r=Na({}),t=Na(null),s=Na(null),n=Na(null),f=Na({from:0,to:0}),u=bn(()=>mt.tableColspan!==void 0?mt.tableColspan:100);Ne===void 0&&(Ne=bn(()=>mt.virtualScrollItemSize));const l=bn(()=>Ne.value+";"+mt.virtualScrollHorizontal),m=bn(()=>l.value+";"+mt.virtualScrollSliceRatioBefore+";"+mt.virtualScrollSliceRatioAfter);zi(m,()=>{y()}),zi(l,h);function h(){E(L,!0)}function M(x){E(x===void 0?L:x)}function c(x,_){const I=ve();if(I==null||I.nodeType===8)return;const N=Gp(I,Pe(),t.value,s.value,mt.virtualScrollHorizontal,e.lang.rtl,mt.virtualScrollStickySizeStart,mt.virtualScrollStickySizeEnd);a!==N.scrollViewSize&&y(N.scrollViewSize),d(I,N,Math.min(H.value-1,Math.max(0,parseInt(x,10)||0)),0,kM.indexOf(_)!==-1?_:L!==-1&&x>L?"end":"start")}function i(){const x=ve();if(x==null||x.nodeType===8)return;const _=Gp(x,Pe(),t.value,s.value,mt.virtualScrollHorizontal,e.lang.rtl,mt.virtualScrollStickySizeStart,mt.virtualScrollStickySizeEnd),I=H.value-1,N=_.scrollMaxSize-_.offsetStart-_.offsetEnd-p.value;if(g===_.scrollStart)return;if(_.scrollMaxSize<=0){d(x,_,0,0);return}a!==_.scrollViewSize&&y(_.scrollViewSize),b(f.value.from);const k=Math.floor(_.scrollMaxSize-Math.max(_.scrollViewSize,_.offsetEnd)-Math.min(A[I],_.scrollViewSize/2));if(k>0&&Math.ceil(_.scrollStart)>=k){d(x,_,I,_.scrollMaxSize-_.offsetEnd-C.reduce(fv,0));return}let F=0,O=_.scrollStart-_.offsetStart,z=O;if(O<=N&&O+_.scrollViewSize>=v.value)O-=v.value,F=f.value.from,z=O;else for(let B=0;O>=C[B]&&F<I;B++)O-=C[B],F+=wu;for(;O>0&&F<I;)O-=A[F],O>-_.scrollViewSize?(F++,z=O):z=A[F]+O;d(x,_,F,z)}function d(x,_,I,N,k){const F=typeof k=="string"&&k.indexOf("-force")!==-1,O=F===!0?k.replace("-force",""):k,z=O!==void 0?O:"start";let B=Math.max(0,I-r.value[z]),W=B+r.value.total;W>H.value&&(W=H.value,B=Math.max(0,W-r.value.total)),g=_.scrollStart;const q=B!==f.value.from||W!==f.value.to;if(q===!1&&O===void 0){T(I);return}const{activeElement:ee}=document,Q=n.value;q===!0&&Q!==null&&Q!==ee&&Q.contains(ee)===!0&&(Q.addEventListener("focusout",w),setTimeout(()=>{Q!==null&&Q.removeEventListener("focusout",w)})),FM(Q,I-B);const oe=O!==void 0?A.slice(B,I).reduce(fv,0):0;if(q===!0){const Z=W>=f.value.from&&B<=f.value.to?f.value.to:W;f.value={from:B,to:Z},v.value=Wv(C,A,0,B),p.value=Wv(C,A,W,H.value),requestAnimationFrame(()=>{f.value.to!==W&&g===_.scrollStart&&(f.value={from:f.value.from,to:W},p.value=Wv(C,A,W,H.value))})}requestAnimationFrame(()=>{if(g!==_.scrollStart)return;q===!0&&b(B);const Z=A.slice(B,I).reduce(fv,0),Y=Z+_.offsetStart+v.value,te=Y+A[I];let X=Y+N;if(O!==void 0){const $=Z-oe,ie=_.scrollStart+$;X=F!==!0&&ie<Y&&te<ie+_.scrollViewSize?ie:O==="end"?te-_.scrollViewSize:Y-(O==="start"?0:Math.round((_.scrollViewSize-A[I])/2))}g=X,G1(x,X,mt.virtualScrollHorizontal,e.lang.rtl),T(I)})}function b(x){const _=n.value;if(_){const I=Y2.call(_.children,B=>B.classList&&B.classList.contains("q-virtual-scroll--skip")===!1),N=I.length,k=mt.virtualScrollHorizontal===!0?B=>B.getBoundingClientRect().width:B=>B.offsetHeight;let F=x,O,z;for(let B=0;B<N;){for(O=k(I[B]),B++;B<N&&I[B].classList.contains("q-virtual-scroll--with-prev")===!0;)O+=k(I[B]),B++;z=O-A[F],z!==0&&(A[F]+=z,C[Math.floor(F/wu)]+=z),F++}}}function w(){n.value!==null&&n.value!==void 0&&n.value.focus()}function E(x,_){const I=1*Ne.value;(_===!0||Array.isArray(A)===!1)&&(A=[]);const N=A.length;A.length=H.value;for(let F=H.value-1;F>=N;F--)A[F]=I;const k=Math.floor((H.value-1)/wu);C=[];for(let F=0;F<=k;F++){let O=0;const z=Math.min((F+1)*wu,H.value);for(let B=F*wu;B<z;B++)O+=A[B];C.push(O)}L=-1,g=void 0,v.value=Wv(C,A,0,f.value.from),p.value=Wv(C,A,f.value.to,H.value),x>=0?(b(f.value.from),ks(()=>{c(x)})):o()}function y(x){if(x===void 0&&typeof window!="undefined"){const O=ve();O!=null&&O.nodeType!==8&&(x=Gp(O,Pe(),t.value,s.value,mt.virtualScrollHorizontal,e.lang.rtl,mt.virtualScrollStickySizeStart,mt.virtualScrollStickySizeEnd).scrollViewSize)}a=x;const _=parseFloat(mt.virtualScrollSliceRatioBefore)||0,I=parseFloat(mt.virtualScrollSliceRatioAfter)||0,N=1+_+I,k=x===void 0||x<=0?1:Math.ceil(x/Ne.value),F=Math.max(1,k,Math.ceil((mt.virtualScrollSliceSize>0?mt.virtualScrollSliceSize:10)/N));r.value={total:Math.ceil(F*N),start:Math.ceil(F*_),center:Math.ceil(F*(.5+_)),end:Math.ceil(F*(1+_)),view:k}}function S(x,_){const I=mt.virtualScrollHorizontal===!0?"width":"height",N={["--q-virtual-scroll-item-"+I]:Ne.value+"px"};return[x==="tbody"?Jn(x,{class:"q-virtual-scroll__padding",key:"before",ref:t},[Jn("tr",[Jn("td",{style:{[I]:`${v.value}px`,...N},colspan:u.value})])]):Jn(x,{class:"q-virtual-scroll__padding",key:"before",ref:t,style:{[I]:`${v.value}px`,...N}}),Jn(x,{class:"q-virtual-scroll__content",key:"content",ref:n,tabindex:-1},_.flat()),x==="tbody"?Jn(x,{class:"q-virtual-scroll__padding",key:"after",ref:s},[Jn("tr",[Jn("td",{style:{[I]:`${p.value}px`,...N},colspan:u.value})])]):Jn(x,{class:"q-virtual-scroll__padding",key:"after",ref:s,style:{[I]:`${p.value}px`,...N}})]}function T(x){L!==x&&(mt.onVirtualScroll!==void 0&&G("virtualScroll",{index:x,from:f.value.from,to:f.value.to-1,direction:x<L?"decrease":"increase",ref:U}),L=x)}y();const o=Bg(i,e.platform.is.ios===!0?120:35);Ix(()=>{y()});let P=!1;return vd(()=>{P=!0}),Dg(()=>{if(P!==!0)return;const x=ve();g!==void 0&&x!==void 0&&x!==null&&x.nodeType!==8?G1(x,g,mt.virtualScrollHorizontal,e.lang.rtl):c(L)}),Wo(()=>{o.cancel()}),Object.assign(U,{scrollTo:c,reset:h,refresh:M}),{virtualScrollSliceRange:f,virtualScrollSliceSizeComputed:r,setVirtualScrollSize:y,onVirtualScrollEvt:o,localResetVirtualScroll:E,padVirtualScroll:S,scrollTo:c,reset:h,refresh:M}}const NM=/[\u3000-\u303f\u3040-\u309f\u30a0-\u30ff\uff00-\uff9f\u4e00-\u9faf\u3400-\u4dbf]/,UM=/[\u4e00-\u9fff\u3400-\u4dbf\u{20000}-\u{2a6df}\u{2a700}-\u{2b73f}\u{2b740}-\u{2b81f}\u{2b820}-\u{2ceaf}\uf900-\ufaff\u3300-\u33ff\ufe30-\ufe4f\uf900-\ufaff\u{2f800}-\u{2fa1f}]/u,VM=/[\u3131-\u314e\u314f-\u3163\uac00-\ud7a3]/,HM=/[a-z0-9_ -]$/i;function GM(H){return function(Pe){if(Pe.type==="compositionend"||Pe.type==="change"){if(Pe.target.qComposing!==!0)return;Pe.target.qComposing=!1,H(Pe)}else Pe.type==="compositionupdate"&&Pe.target.qComposing!==!0&&typeof Pe.data=="string"&&(Ki.is.firefox===!0?HM.test(Pe.data)===!1:NM.test(Pe.data)===!0||UM.test(Pe.data)===!0||VM.test(Pe.data)===!0)===!0&&(Pe.target.qComposing=!0)}}const W1=H=>["add","add-unique","toggle"].includes(H),WM=".*+?^${}()|[]\\",YM=Object.keys(Zg);var Y1=Ts({name:"QSelect",inheritAttrs:!1,props:{...OM,...v2,...Zg,modelValue:{required:!0},multiple:Boolean,displayValue:[String,Number],displayValueHtml:Boolean,dropdownIcon:String,options:{type:Array,default:()=>[]},optionValue:[Function,String],optionLabel:[Function,String],optionDisable:[Function,String],hideSelected:Boolean,hideDropdownIcon:Boolean,fillInput:Boolean,maxValues:[Number,String],optionsDense:Boolean,optionsDark:{type:Boolean,default:null},optionsSelectedClass:String,optionsHtml:Boolean,optionsCover:Boolean,menuShrink:Boolean,menuAnchor:String,menuSelf:String,menuOffset:Array,popupContentClass:String,popupContentStyle:[String,Array,Object],useInput:Boolean,useChips:Boolean,newValueMode:{type:String,validator:W1},mapOptions:Boolean,emitValue:Boolean,inputDebounce:{type:[Number,String],default:500},inputClass:[Array,String,Object],inputStyle:[Array,String,Object],tabindex:{type:[String,Number],default:0},autocomplete:String,transitionShow:String,transitionHide:String,transitionDuration:[String,Number],behavior:{type:String,validator:H=>["default","menu","dialog"].includes(H),default:"default"},virtualScrollItemSize:{type:[Number,String],default:void 0},onNewValue:Function,onFilter:Function},emits:[...A2,"add","remove","inputValue","newValue","keyup","keypress","keydown","filterAbort"],setup(H,{slots:ve,emit:Pe}){const{proxy:Ne}=vo(),{$q:Ye}=Ne,mt=Na(!1),G=Na(!1),U=Na(-1),e=Na(""),g=Na(!1),L=Na(!1);let a=null,C=null,A,v,p,r=null,t,s,n,f;const u=Na(null),l=Na(null),m=Na(null),h=Na(null),M=Na(null),c=g6(H),i=GM(Et),d=bn(()=>Array.isArray(H.options)?H.options.length:0),b=bn(()=>H.virtualScrollItemSize===void 0?H.optionsDense===!0?24:48:H.virtualScrollItemSize),{virtualScrollSliceRange:w,virtualScrollSliceSizeComputed:E,localResetVirtualScroll:y,padVirtualScroll:S,onVirtualScrollEvt:T,scrollTo:o,setVirtualScrollSize:P}=BM({virtualScrollLength:d,getVirtualScrollTarget:ft,getVirtualScrollEl:qe,virtualScrollItemSizeComputed:b}),x=M2(),_=bn(()=>{const At=H.mapOptions===!0&&H.multiple!==!0,Wt=H.modelValue!==void 0&&(H.modelValue!==null||At===!0)?H.multiple===!0&&Array.isArray(H.modelValue)?H.modelValue:[H.modelValue]:[];if(H.mapOptions===!0&&Array.isArray(H.options)===!0){const er=H.mapOptions===!0&&A!==void 0?A:[],$t=Wt.map(ht=>Se(ht,er));return H.modelValue===null&&At===!0?$t.filter(ht=>ht!==null):$t}return Wt}),I=bn(()=>{const At={};return YM.forEach(Wt=>{const er=H[Wt];er!==void 0&&(At[Wt]=er)}),At}),N=bn(()=>H.optionsDark===null?x.isDark.value:H.optionsDark),k=bn(()=>hg(_.value)),F=bn(()=>{let At="q-field__input q-placeholder col";return H.hideSelected===!0||_.value.length===0?[At,H.inputClass]:(At+=" q-field__input--padding",H.inputClass===void 0?At:[At,H.inputClass])}),O=bn(()=>(H.virtualScrollHorizontal===!0?"q-virtual-scroll--horizontal":"")+(H.popupContentClass?" "+H.popupContentClass:"")),z=bn(()=>d.value===0),B=bn(()=>_.value.map(At=>j.value(At)).join(", ")),W=bn(()=>H.displayValue!==void 0?H.displayValue:B.value),q=bn(()=>H.optionsHtml===!0?()=>!0:At=>At!=null&&At.html===!0),ee=bn(()=>H.displayValueHtml===!0||H.displayValue===void 0&&(H.optionsHtml===!0||_.value.some(q.value))),Q=bn(()=>x.focused.value===!0?H.tabindex:-1),oe=bn(()=>{const At={tabindex:H.tabindex,role:"combobox","aria-label":H.label,"aria-readonly":H.readonly===!0?"true":"false","aria-autocomplete":H.useInput===!0?"list":"none","aria-expanded":mt.value===!0?"true":"false","aria-controls":`${x.targetUid.value}_lb`};return U.value>=0&&(At["aria-activedescendant"]=`${x.targetUid.value}_${U.value}`),At}),Z=bn(()=>({id:`${x.targetUid.value}_lb`,role:"listbox","aria-multiselectable":H.multiple===!0?"true":"false"})),Y=bn(()=>_.value.map((At,Wt)=>({index:Wt,opt:At,html:q.value(At),selected:!0,removeAtIndex:be,toggleOption:xe,tabindex:Q.value}))),te=bn(()=>{if(d.value===0)return[];const{from:At,to:Wt}=w.value;return H.options.slice(At,Wt).map((er,$t)=>{const ht=se.value(er)===!0,at=Be(er)===!0,bt=At+$t,Ct={clickable:!0,active:at,activeClass:ie.value,manualFocus:!0,focused:!1,disable:ht,tabindex:-1,dense:H.optionsDense,dark:N.value,role:"option","aria-selected":at===!0?"true":"false",id:`${x.targetUid.value}_${bt}`,onClick:()=>{xe(er)}};return ht!==!0&&(U.value===bt&&(Ct.focused=!0),Ye.platform.is.desktop===!0&&(Ct.onMousemove=()=>{mt.value===!0&&Me(bt)})),{index:bt,opt:er,html:q.value(er),label:j.value(er),selected:Ct.active,focused:Ct.focused,toggleOption:xe,setOptionIndex:Me,itemProps:Ct}})}),X=bn(()=>H.dropdownIcon!==void 0?H.dropdownIcon:Ye.iconSet.arrow.dropdown),$=bn(()=>H.optionsCover===!1&&H.outlined!==!0&&H.standout!==!0&&H.borderless!==!0&&H.rounded!==!0),ie=bn(()=>H.optionsSelectedClass!==void 0?H.optionsSelectedClass:H.color!==void 0?`text-${H.color}`:""),J=bn(()=>Fe(H.optionValue,"value")),j=bn(()=>Fe(H.optionLabel,"label")),se=bn(()=>Fe(H.optionDisable,"disable")),ne=bn(()=>_.value.map(At=>J.value(At))),le=bn(()=>{const At={onInput:Et,onChange:i,onKeydown:$e,onKeyup:it,onKeypress:lt,onFocus:_e,onClick(Wt){v===!0&&bu(Wt)}};return At.onCompositionstart=At.onCompositionupdate=At.onCompositionend=i,At});zi(_,At=>{A=At,H.useInput===!0&&H.fillInput===!0&&H.multiple!==!0&&x.innerLoading.value!==!0&&(G.value!==!0&&mt.value!==!0||k.value!==!0)&&(p!==!0&&Zt(),(G.value===!0||mt.value===!0)&&We(""))},{immediate:!0}),zi(()=>H.fillInput,Zt),zi(mt,jt),zi(d,Tt);function pe(At){return H.emitValue===!0?J.value(At):At}function Ae(At){if(At!==-1&&At<_.value.length)if(H.multiple===!0){const Wt=H.modelValue.slice();Pe("remove",{index:At,value:Wt.splice(At,1)[0]}),Pe("update:modelValue",Wt)}else Pe("update:modelValue",null)}function be(At){Ae(At),x.focus()}function Re(At,Wt){const er=pe(At);if(H.multiple!==!0){H.fillInput===!0&&Ie(j.value(At),!0,!0),Pe("update:modelValue",er);return}if(_.value.length===0){Pe("add",{index:0,value:er}),Pe("update:modelValue",H.multiple===!0?[er]:er);return}if(Wt===!0&&Be(At)===!0||H.maxValues!==void 0&&H.modelValue.length>=H.maxValues)return;const $t=H.modelValue.slice();Pe("add",{index:$t.length,value:er}),$t.push(er),Pe("update:modelValue",$t)}function xe(At,Wt){if(x.editable.value!==!0||At===void 0||se.value(At)===!0)return;const er=J.value(At);if(H.multiple!==!0){Wt!==!0&&(Ie(H.fillInput===!0?j.value(At):"",!0,!0),dt()),l.value!==null&&l.value.focus(),(_.value.length===0||xc(J.value(_.value[0]),er)!==!0)&&Pe("update:modelValue",H.emitValue===!0?er:At);return}if((v!==!0||g.value===!0)&&x.focus(),_e(),_.value.length===0){const at=H.emitValue===!0?er:At;Pe("add",{index:0,value:at}),Pe("update:modelValue",H.multiple===!0?[at]:at);return}const $t=H.modelValue.slice(),ht=ne.value.findIndex(at=>xc(at,er));if(ht!==-1)Pe("remove",{index:ht,value:$t.splice(ht,1)[0]});else{if(H.maxValues!==void 0&&$t.length>=H.maxValues)return;const at=H.emitValue===!0?er:At;Pe("add",{index:$t.length,value:at}),$t.push(at)}Pe("update:modelValue",$t)}function Me(At){if(Ye.platform.is.desktop!==!0)return;const Wt=At!==-1&&At<d.value?At:-1;U.value!==Wt&&(U.value=Wt)}function ye(At=1,Wt){if(mt.value===!0){let er=U.value;do er=p1(er+At,-1,d.value-1);while(er!==-1&&er!==U.value&&se.value(H.options[er])===!0);U.value!==er&&(Me(er),o(er),Wt!==!0&&H.useInput===!0&&H.fillInput===!0&&tt(er>=0?j.value(H.options[er]):t,!0))}}function Se(At,Wt){const er=$t=>xc(J.value($t),At);return H.options.find(er)||Wt.find(er)||At}function Fe(At,Wt){const er=At!==void 0?At:Wt;return typeof er=="function"?er:$t=>$t!==null&&typeof $t=="object"&&er in $t?$t[er]:$t}function Be(At){const Wt=J.value(At);return ne.value.find(er=>xc(er,Wt))!==void 0}function _e(At){H.useInput===!0&&l.value!==null&&(At===void 0||l.value===At.target&&At.target.value===B.value)&&l.value.select()}function Ue(At){mh(At,27)===!0&&mt.value===!0&&(bu(At),dt(),Zt()),Pe("keyup",At)}function it(At){const{value:Wt}=At.target;if(At.keyCode!==void 0){Ue(At);return}if(At.target.value="",a!==null&&(clearTimeout(a),a=null),C!==null&&(clearTimeout(C),C=null),Zt(),typeof Wt=="string"&&Wt.length!==0){const er=Wt.toLocaleLowerCase(),$t=at=>{const bt=H.options.find(Ct=>at.value(Ct).toLocaleLowerCase()===er);return bt===void 0?!1:(_.value.indexOf(bt)===-1?xe(bt):dt(),!0)},ht=at=>{$t(J)!==!0&&($t(j)===!0||at===!0||We(Wt,!0,()=>ht(!0)))};ht()}else x.clearValue(At)}function lt(At){Pe("keypress",At)}function $e(At){if(Pe("keydown",At),Qx(At)===!0)return;const Wt=e.value.length!==0&&(H.newValueMode!==void 0||H.onNewValue!==void 0),er=At.shiftKey!==!0&&H.multiple!==!0&&(U.value!==-1||Wt===!0);if(At.keyCode===27){Fs(At);return}if(At.keyCode===9&&er===!1){et();return}if(At.target===void 0||At.target.id!==x.targetUid.value||x.editable.value!==!0)return;if(At.keyCode===40&&x.innerLoading.value!==!0&&mt.value===!1){Oo(At),ut();return}if(At.keyCode===8&&(H.useChips===!0||H.clearable===!0)&&H.hideSelected!==!0&&e.value.length===0){H.multiple===!0&&Array.isArray(H.modelValue)===!0?Ae(H.modelValue.length-1):H.multiple!==!0&&H.modelValue!==null&&Pe("update:modelValue",null);return}(At.keyCode===35||At.keyCode===36)&&(typeof e.value!="string"||e.value.length===0)&&(Oo(At),U.value=-1,ye(At.keyCode===36?1:-1,H.multiple)),(At.keyCode===33||At.keyCode===34)&&E.value!==void 0&&(Oo(At),U.value=Math.max(-1,Math.min(d.value,U.value+(At.keyCode===33?-1:1)*E.value.view)),ye(At.keyCode===33?1:-1,H.multiple)),(At.keyCode===38||At.keyCode===40)&&(Oo(At),ye(At.keyCode===38?-1:1,H.multiple));const $t=d.value;if((n===void 0||f<Date.now())&&(n=""),$t>0&&H.useInput!==!0&&At.key!==void 0&&At.key.length===1&&At.altKey===!1&&At.ctrlKey===!1&&At.metaKey===!1&&(At.keyCode!==32||n.length!==0)){mt.value!==!0&&ut(At);const ht=At.key.toLocaleLowerCase(),at=n.length===1&&n[0]===ht;f=Date.now()+1500,at===!1&&(Oo(At),n+=ht);const bt=new RegExp("^"+n.split("").map(Dt=>WM.indexOf(Dt)!==-1?"\\"+Dt:Dt).join(".*"),"i");let Ct=U.value;if(at===!0||Ct<0||bt.test(j.value(H.options[Ct]))!==!0)do Ct=p1(Ct+1,-1,$t-1);while(Ct!==U.value&&(se.value(H.options[Ct])===!0||bt.test(j.value(H.options[Ct]))!==!0));U.value!==Ct&&ks(()=>{Me(Ct),o(Ct),Ct>=0&&H.useInput===!0&&H.fillInput===!0&&tt(j.value(H.options[Ct]),!0)});return}if(!(At.keyCode!==13&&(At.keyCode!==32||H.useInput===!0||n!=="")&&(At.keyCode!==9||er===!1))){if(At.keyCode!==9&&Oo(At),U.value!==-1&&U.value<$t){xe(H.options[U.value]);return}if(Wt===!0){const ht=(at,bt)=>{if(bt){if(W1(bt)!==!0)return}else bt=H.newValueMode;if(Ie("",H.multiple!==!0,!0),at==null)return;(bt==="toggle"?xe:Re)(at,bt==="add-unique"),H.multiple!==!0&&(l.value!==null&&l.value.focus(),dt())};if(H.onNewValue!==void 0?Pe("newValue",e.value,ht):ht(e.value),H.multiple!==!0)return}mt.value===!0?et():x.innerLoading.value!==!0&&ut()}}function qe(){return v===!0?M.value:m.value!==null&&m.value.contentEl!==null?m.value.contentEl:void 0}function ft(){return qe()}function ct(){return H.hideSelected===!0?[]:ve["selected-item"]!==void 0?Y.value.map(At=>ve["selected-item"](At)).slice():ve.selected!==void 0?[].concat(ve.selected()):H.useChips===!0?Y.value.map((At,Wt)=>Jn($6,{key:"option-"+Wt,removable:x.editable.value===!0&&se.value(At.opt)!==!0,dense:!0,textColor:H.color,tabindex:Q.value,onRemove(){At.removeAtIndex(Wt)}},()=>Jn("span",{class:"ellipsis",[At.html===!0?"innerHTML":"textContent"]:j.value(At.opt)}))):[Jn("span",{[ee.value===!0?"innerHTML":"textContent"]:W.value})]}function pt(){if(z.value===!0)return ve["no-option"]!==void 0?ve["no-option"]({inputValue:e.value}):void 0;const At=ve.option!==void 0?ve.option:er=>Jn(f0,{key:er.index,...er.itemProps},()=>Jn(Xv,()=>Jn(rM,()=>Jn("span",{[er.html===!0?"innerHTML":"textContent"]:er.label}))));let Wt=S("div",te.value.map(At));return ve["before-options"]!==void 0&&(Wt=ve["before-options"]().concat(Wt)),nv(ve["after-options"],Wt)}function yt(At,Wt){const er=Wt===!0?{...oe.value,...x.splitAttrs.attributes.value}:void 0,$t={ref:Wt===!0?l:void 0,key:"i_t",class:F.value,style:H.inputStyle,value:e.value!==void 0?e.value:"",type:"search",...er,id:Wt===!0?x.targetUid.value:void 0,maxlength:H.maxlength,autocomplete:H.autocomplete,"data-autofocus":At===!0||H.autofocus===!0||void 0,disabled:H.disable===!0,readonly:H.readonly===!0,...le.value};return At!==!0&&v===!0&&(Array.isArray($t.class)===!0?$t.class=[...$t.class,"no-pointer-events"]:$t.class+=" no-pointer-events"),Jn("input",$t)}function Et(At){a!==null&&(clearTimeout(a),a=null),C!==null&&(clearTimeout(C),C=null),!(At&&At.target&&At.target.qComposing===!0)&&(tt(At.target.value||""),p=!0,t=e.value,x.focused.value!==!0&&(v!==!0||g.value===!0)&&x.focus(),H.onFilter!==void 0&&(a=setTimeout(()=>{a=null,We(e.value)},H.inputDebounce)))}function tt(At,Wt){e.value!==At&&(e.value=At,Wt===!0||H.inputDebounce===0||H.inputDebounce==="0"?Pe("inputValue",At):C=setTimeout(()=>{C=null,Pe("inputValue",At)},H.inputDebounce))}function Ie(At,Wt,er){p=er!==!0,H.useInput===!0&&(tt(At,!0),(Wt===!0||er!==!0)&&(t=At),Wt!==!0&&We(At))}function We(At,Wt,er){if(H.onFilter===void 0||Wt!==!0&&x.focused.value!==!0)return;x.innerLoading.value===!0?Pe("filterAbort"):(x.innerLoading.value=!0,L.value=!0),At!==""&&H.multiple!==!0&&_.value.length!==0&&p!==!0&&At===j.value(_.value[0])&&(At="");const $t=setTimeout(()=>{mt.value===!0&&(mt.value=!1)},10);r!==null&&clearTimeout(r),r=$t,Pe("filter",At,(ht,at)=>{(Wt===!0||x.focused.value===!0)&&r===$t&&(clearTimeout(r),typeof ht=="function"&&ht(),L.value=!1,ks(()=>{x.innerLoading.value=!1,x.editable.value===!0&&(Wt===!0?mt.value===!0&&dt():mt.value===!0?jt(!0):mt.value=!0),typeof at=="function"&&ks(()=>{at(Ne)}),typeof er=="function"&&ks(()=>{er(Ne)})}))},()=>{x.focused.value===!0&&r===$t&&(clearTimeout(r),x.innerLoading.value=!1,L.value=!1),mt.value===!0&&(mt.value=!1)})}function Ze(){return Jn(EM,{ref:m,class:O.value,style:H.popupContentStyle,modelValue:mt.value,fit:H.menuShrink!==!0,cover:H.optionsCover===!0&&z.value!==!0&&H.useInput!==!0,anchor:H.menuAnchor,self:H.menuSelf,offset:H.menuOffset,dark:N.value,noParentEvent:!0,noRefocus:!0,noFocus:!0,square:$.value,transitionShow:H.transitionShow,transitionHide:H.transitionHide,transitionDuration:H.transitionDuration,separateClosePopup:!0,...Z.value,onScrollPassive:T,onBeforeShow:Qt,onBeforeHide:He,onShow:De},pt)}function He(At){wr(At),et()}function De(){P()}function me(At){bu(At),l.value!==null&&l.value.focus(),g.value=!0,window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,0)}function ge(At){bu(At),ks(()=>{g.value=!1})}function Ee(){const At=[Jn(j6,{class:`col-auto ${x.fieldClass.value}`,...I.value,for:x.targetUid.value,dark:N.value,square:!0,loading:L.value,itemAligned:!1,filled:!0,stackLabel:e.value.length!==0,...x.splitAttrs.listeners.value,onFocus:me,onBlur:ge},{...ve,rawControl:()=>x.getControl(!0),before:void 0,after:void 0})];return mt.value===!0&&At.push(Jn("div",{ref:M,class:O.value+" scroll",style:H.popupContentStyle,...Z.value,onClick:Fs,onScrollPassive:T},pt())),Jn(_M,{ref:h,modelValue:G.value,position:H.useInput===!0?"top":void 0,transitionShow:s,transitionHide:H.transitionHide,transitionDuration:H.transitionDuration,onBeforeShow:Qt,onBeforeHide:Te,onHide:ze,onShow:Xe},()=>Jn("div",{class:"q-select__dialog"+(N.value===!0?" q-select__dialog--dark q-dark":"")+(g.value===!0?" q-select__dialog--focused":"")},At))}function Te(At){wr(At),h.value!==null&&h.value.__updateRefocusTarget(x.rootRef.value.querySelector(".q-field__native > [tabindex]:last-child")),x.focused.value=!1}function ze(At){dt(),x.focused.value===!1&&Pe("blur",At),Zt()}function Xe(){const At=document.activeElement;(At===null||At.id!==x.targetUid.value)&&l.value!==null&&l.value!==At&&l.value.focus(),P()}function et(){G.value!==!0&&(U.value=-1,mt.value===!0&&(mt.value=!1),x.focused.value===!1&&(r!==null&&(clearTimeout(r),r=null),x.innerLoading.value===!0&&(Pe("filterAbort"),x.innerLoading.value=!1,L.value=!1)))}function ut(At){x.editable.value===!0&&(v===!0?(x.onControlFocusin(At),G.value=!0,ks(()=>{x.focus()})):x.focus(),H.onFilter!==void 0?We(e.value):(z.value!==!0||ve["no-option"]!==void 0)&&(mt.value=!0))}function dt(){G.value=!1,et()}function Zt(){H.useInput===!0&&Ie(H.multiple!==!0&&H.fillInput===!0&&_.value.length!==0&&j.value(_.value[0])||"",!0,!0)}function jt(At){let Wt=-1;if(At===!0){if(_.value.length!==0){const er=J.value(_.value[0]);Wt=H.options.findIndex($t=>xc(J.value($t),er))}y(Wt)}Me(Wt)}function Tt(At,Wt){mt.value===!0&&x.innerLoading.value===!1&&(y(-1,!0),ks(()=>{mt.value===!0&&x.innerLoading.value===!1&&(At>Wt?y():jt(!0))}))}function kt(){G.value===!1&&m.value!==null&&m.value.updatePosition()}function Qt(At){At!==void 0&&bu(At),Pe("popupShow",At),x.hasPopupOpen=!0,x.onControlFocusin(At)}function wr(At){At!==void 0&&bu(At),Pe("popupHide",At),x.hasPopupOpen=!1,x.onControlFocusout(At)}function xt(){v=Ye.platform.is.mobile!==!0&&H.behavior!=="dialog"?!1:H.behavior!=="menu"&&(H.useInput===!0?ve["no-option"]!==void 0||H.onFilter!==void 0||z.value===!1:!0),s=Ye.platform.is.ios===!0&&v===!0&&H.useInput===!0?"fade":H.transitionShow}return Ig(xt),_x(kt),xt(),Wo(()=>{a!==null&&clearTimeout(a),C!==null&&clearTimeout(C)}),Object.assign(Ne,{showPopup:ut,hidePopup:dt,removeAtIndex:Ae,add:Re,toggleOption:xe,getOptionIndex:()=>U.value,setOptionIndex:Me,moveOptionSelection:ye,filter:We,updateMenuPosition:kt,updateInputValue:Ie,isOptionSelected:Be,getEmittingOptionValue:pe,isOptionDisabled:(...At)=>se.value.apply(null,At)===!0,getOptionValue:(...At)=>J.value.apply(null,At),getOptionLabel:(...At)=>j.value.apply(null,At)}),Object.assign(x,{innerValue:_,fieldClass:bn(()=>`q-select q-field--auto-height q-select--with${H.useInput!==!0?"out":""}-input q-select--with${H.useChips!==!0?"out":""}-chips q-select--${H.multiple===!0?"multiple":"single"}`),inputRef:u,targetRef:l,hasValue:k,showPopup:ut,floatingLabel:bn(()=>H.hideSelected!==!0&&k.value===!0||typeof e.value=="number"||e.value.length!==0||hg(H.displayValue)),getControlChild:()=>{if(x.editable.value!==!1&&(G.value===!0||z.value!==!0||ve["no-option"]!==void 0))return v===!0?Ee():Ze();x.hasPopupOpen===!0&&(x.hasPopupOpen=!1)},controlEvents:{onFocusin(At){x.onControlFocusin(At)},onFocusout(At){x.onControlFocusout(At,()=>{Zt(),et()})},onClick(At){if(Fs(At),v!==!0&&mt.value===!0){et(),l.value!==null&&l.value.focus();return}ut(At)}},getControl:At=>{const Wt=ct(),er=At===!0||G.value!==!0||v!==!0;if(H.useInput===!0)Wt.push(yt(At,er));else if(x.editable.value===!0){const ht=er===!0?oe.value:void 0;Wt.push(Jn("input",{ref:er===!0?l:void 0,key:"d_t",class:"q-select__focus-target",id:er===!0?x.targetUid.value:void 0,value:W.value,readonly:!0,"data-autofocus":At===!0||H.autofocus===!0||void 0,...ht,onKeydown:$e,onKeyup:Ue,onKeypress:lt})),er===!0&&typeof H.autocomplete=="string"&&H.autocomplete.length!==0&&Wt.push(Jn("input",{class:"q-select__autocomplete-input",autocomplete:H.autocomplete,tabindex:-1,onKeyup:it}))}if(c.value!==void 0&&H.disable!==!0&&ne.value.length!==0){const ht=ne.value.map(at=>Jn("option",{value:at,selected:!0}));Wt.push(Jn("select",{class:"hidden",name:c.value,multiple:H.multiple},ht))}const $t=H.useInput===!0||er!==!0?void 0:x.splitAttrs.attributes.value;return Jn("div",{class:"q-field__native row items-center",...$t,...x.splitAttrs.listeners.value},Wt)},getInnerAppend:()=>H.loading!==!0&&L.value!==!0&&H.hideDropdownIcon!==!0?[Jn(Ac,{class:"q-select__dropdown-icon"+(mt.value===!0?" rotate-180":""),name:X.value})]:null}),S2(x)}});const X2={left:"start",center:"center",right:"end",between:"between",around:"around",evenly:"evenly",stretch:"stretch"},XM=Object.keys(X2),ZM={align:{type:String,validator:H=>XM.includes(H)}};function jM(H){return bn(()=>{const ve=H.align===void 0?H.vertical===!0?"stretch":"left":H.align;return`${H.vertical===!0?"items":"justify"}-${X2[ve]}`})}const X1={none:0,xs:4,sm:8,md:16,lg:24,xl:32},KM={xs:8,sm:10,md:14,lg:20,xl:24},JM=["button","submit","reset"],QM=/[^\s]\/[^\s]/,$M=["flat","outline","push","unelevated"],qM=(H,ve)=>H.flat===!0?"flat":H.outline===!0?"outline":H.push===!0?"push":H.unelevated===!0?"unelevated":ve,eS={...Wg,...R2,type:{type:String,default:"button"},label:[Number,String],icon:String,iconRight:String,...$M.reduce((H,ve)=>(H[ve]=Boolean)&&H,{}),square:Boolean,round:Boolean,rounded:Boolean,glossy:Boolean,size:String,fab:Boolean,fabMini:Boolean,padding:String,color:String,textColor:String,noCaps:Boolean,noWrap:Boolean,dense:Boolean,tabindex:[Number,String],ripple:{type:[Boolean,Object],default:!0},align:{...ZM.align,default:"center"},stack:Boolean,stretch:Boolean,loading:{type:Boolean,default:null},disable:Boolean};function tS(H){const ve=Yg(H,KM),Pe=jM(H),{hasRouterLink:Ne,hasLink:Ye,linkTag:mt,linkAttrs:G,navigateOnClick:U}=D2({fallbackTag:"button"}),e=bn(()=>{const r=H.fab===!1&&H.fabMini===!1?ve.value:{};return H.padding!==void 0?Object.assign({},r,{padding:H.padding.split(/\s+/).map(t=>t in X1?X1[t]+"px":t).join(" "),minWidth:"0",minHeight:"0"}):r}),g=bn(()=>H.rounded===!0||H.fab===!0||H.fabMini===!0),L=bn(()=>H.disable!==!0&&H.loading!==!0),a=bn(()=>L.value===!0?H.tabindex||0:-1),C=bn(()=>qM(H,"standard")),A=bn(()=>{const r={tabindex:a.value};return Ye.value===!0?Object.assign(r,G.value):JM.includes(H.type)===!0&&(r.type=H.type),mt.value==="a"?(H.disable===!0?r["aria-disabled"]="true":r.href===void 0&&(r.role="button"),Ne.value!==!0&&QM.test(H.type)===!0&&(r.type=H.type)):H.disable===!0&&(r.disabled="",r["aria-disabled"]="true"),H.loading===!0&&H.percentage!==void 0&&Object.assign(r,{role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":H.percentage}),r}),v=bn(()=>{let r;H.color!==void 0?H.flat===!0||H.outline===!0?r=`text-${H.textColor||H.color}`:r=`bg-${H.color} text-${H.textColor||"white"}`:H.textColor&&(r=`text-${H.textColor}`);const t=H.round===!0?"round":`rectangle${g.value===!0?" q-btn--rounded":H.square===!0?" q-btn--square":""}`;return`q-btn--${C.value} q-btn--${t}`+(r!==void 0?" "+r:"")+(L.value===!0?" q-btn--actionable q-focusable q-hoverable":H.disable===!0?" disabled":"")+(H.fab===!0?" q-btn--fab":H.fabMini===!0?" q-btn--fab-mini":"")+(H.noCaps===!0?" q-btn--no-uppercase":"")+(H.dense===!0?" q-btn--dense":"")+(H.stretch===!0?" no-border-radius self-stretch":"")+(H.glossy===!0?" glossy":"")+(H.square?" q-btn--square":"")}),p=bn(()=>Pe.value+(H.stack===!0?" column":" row")+(H.noWrap===!0?" no-wrap text-no-wrap":"")+(H.loading===!0?" q-btn__content--hidden":""));return{classes:v,style:e,innerClasses:p,attributes:A,hasLink:Ye,linkTag:mt,navigateOnClick:U,isActionable:L}}const{passiveCapture:Gl}=ss;let $h=null,qh=null,ev=null;var tv=Ts({name:"QBtn",props:{...eS,percentage:Number,darkPercentage:Boolean,onTouchstart:[Function,Array]},emits:["click","keydown","mousedown","keyup"],setup(H,{slots:ve,emit:Pe}){const{proxy:Ne}=vo(),{classes:Ye,style:mt,innerClasses:G,attributes:U,hasLink:e,linkTag:g,navigateOnClick:L,isActionable:a}=tS(H),C=Na(null),A=Na(null);let v=null,p,r=null;const t=bn(()=>H.label!==void 0&&H.label!==null&&H.label!==""),s=bn(()=>H.disable===!0||H.ripple===!1?!1:{keyCodes:e.value===!0?[13,32]:[13],...H.ripple===!0?{}:H.ripple}),n=bn(()=>({center:H.round})),f=bn(()=>{const w=Math.max(0,Math.min(100,H.percentage));return w>0?{transition:"transform 0.6s",transform:`translateX(${w-100}%)`}:{}}),u=bn(()=>{if(H.loading===!0)return{onMousedown:b,onTouchstart:b,onClick:b,onKeydown:b,onKeyup:b};if(a.value===!0){const w={onClick:m,onKeydown:h,onMousedown:c};if(Ne.$q.platform.has.touch===!0){const E=H.onTouchstart!==void 0?"":"Passive";w[`onTouchstart${E}`]=M}return w}return{onClick:Oo}}),l=bn(()=>({ref:C,class:"q-btn q-btn-item non-selectable no-outline "+Ye.value,style:mt.value,...U.value,...u.value}));function m(w){if(C.value!==null){if(w!==void 0){if(w.defaultPrevented===!0)return;const E=document.activeElement;if(H.type==="submit"&&E!==document.body&&C.value.contains(E)===!1&&E.contains(C.value)===!1){C.value.focus();const y=()=>{document.removeEventListener("keydown",Oo,!0),document.removeEventListener("keyup",y,Gl),C.value!==null&&C.value.removeEventListener("blur",y,Gl)};document.addEventListener("keydown",Oo,!0),document.addEventListener("keyup",y,Gl),C.value.addEventListener("blur",y,Gl)}}L(w)}}function h(w){C.value!==null&&(Pe("keydown",w),mh(w,[13,32])===!0&&qh!==C.value&&(qh!==null&&d(),w.defaultPrevented!==!0&&(C.value.focus(),qh=C.value,C.value.classList.add("q-btn--active"),document.addEventListener("keyup",i,!0),C.value.addEventListener("blur",i,Gl)),Oo(w)))}function M(w){C.value!==null&&(Pe("touchstart",w),w.defaultPrevented!==!0&&($h!==C.value&&($h!==null&&d(),$h=C.value,v=w.target,v.addEventListener("touchcancel",i,Gl),v.addEventListener("touchend",i,Gl)),p=!0,r!==null&&clearTimeout(r),r=setTimeout(()=>{r=null,p=!1},200)))}function c(w){C.value!==null&&(w.qSkipRipple=p===!0,Pe("mousedown",w),w.defaultPrevented!==!0&&ev!==C.value&&(ev!==null&&d(),ev=C.value,C.value.classList.add("q-btn--active"),document.addEventListener("mouseup",i,Gl)))}function i(w){if(C.value!==null&&!(w!==void 0&&w.type==="blur"&&document.activeElement===C.value)){if(w!==void 0&&w.type==="keyup"){if(qh===C.value&&mh(w,[13,32])===!0){const E=new MouseEvent("click",w);E.qKeyEvent=!0,w.defaultPrevented===!0&&Fs(E),w.cancelBubble===!0&&bu(E),C.value.dispatchEvent(E),Oo(w),w.qKeyEvent=!0}Pe("keyup",w)}d()}}function d(w){const E=A.value;w!==!0&&($h===C.value||ev===C.value)&&E!==null&&E!==document.activeElement&&(E.setAttribute("tabindex",-1),E.focus()),$h===C.value&&(v!==null&&(v.removeEventListener("touchcancel",i,Gl),v.removeEventListener("touchend",i,Gl)),$h=v=null),ev===C.value&&(document.removeEventListener("mouseup",i,Gl),ev=null),qh===C.value&&(document.removeEventListener("keyup",i,!0),C.value!==null&&C.value.removeEventListener("blur",i,Gl),qh=null),C.value!==null&&C.value.classList.remove("q-btn--active")}function b(w){Oo(w),w.qSkipRipple=!0}return Wo(()=>{d(!0)}),Object.assign(Ne,{click:m}),()=>{let w=[];H.icon!==void 0&&w.push(Jn(Ac,{name:H.icon,left:H.stack!==!0&&t.value===!0,role:"img","aria-hidden":"true"})),t.value===!0&&w.push(Jn("span",{class:"block"},[H.label])),w=nv(ve.default,w),H.iconRight!==void 0&&H.round===!1&&w.push(Jn(Ac,{name:H.iconRight,right:H.stack!==!0&&t.value===!0,role:"img","aria-hidden":"true"}));const E=[Jn("span",{class:"q-focus-helper",ref:A})];return H.loading===!0&&H.percentage!==void 0&&E.push(Jn("span",{class:"q-btn__progress absolute-full overflow-hidden"+(H.darkPercentage===!0?" q-btn__progress--dark":"")},[Jn("span",{class:"q-btn__progress-indicator fit block",style:f.value})])),E.push(Jn("span",{class:"q-btn__content text-center col items-center q-anchor--skip "+G.value},w)),H.loading!==null&&E.push(Jn(gh,{name:"q-transition--fade"},()=>H.loading===!0?[Jn("span",{key:"loading",class:"absolute-full flex flex-center"},ve.loading!==void 0?ve.loading():[Jn(x2)])]:null)),Cx(Jn(g.value,l.value,E),[[C2,s.value,void 0,n.value]])}}}),Wp=Ts({name:"QList",props:{...Ah,bordered:Boolean,dense:Boolean,separator:Boolean,padding:Boolean,tag:{type:String,default:"div"}},setup(H,{slots:ve}){const Pe=vo(),Ne=Mh(H,Pe.proxy.$q),Ye=bn(()=>"q-list"+(H.bordered===!0?" q-list--bordered":"")+(H.dense===!0?" q-list--dense":"")+(H.separator===!0?" q-list--separator":"")+(Ne.value===!0?" q-list--dark":"")+(H.padding===!0?" q-list--padding":""));return()=>Jn(H.tag,{class:Ye.value},pl(ve.default))}});const rS={class:"row"},nS={class:"col-3"},aS=ho("div",{class:"text-h6"},"Execute Scripts",-1),iS=ho("div",{class:"text-h6 q-mt-md"},"Compile",-1),oS={class:"col-9"},sS=ho("div",{class:"text-h6"},"Logs",-1),lS={class:"q-mt-md"},uS=ho("div",{class:"text-h6"},"Nodes",-1),fS={class:"q-mt-md"},cS=ho("div",{class:"text-h6"},"Scripts",-1),hS={class:"q-mt-md"},vS=wh({__name:"ExecuteScript",setup(H){const ve=Na([]),Pe=Na("logs"),Ne=Na([]),Ye=Na([]),mt=Na(null),G=Na(null),U=Na([]),g=`ws://${window.location.hostname}/script`,L=new WebSocket(g);L.onopen=()=>{console.log("Connected to websocket"),L.send(JSON.stringify({type:"fetchScripts"})),L.send(JSON.stringify({type:"fetchConnectedNodes"}))},L.onmessage=A=>{console.log("Message from server ",A.data);const v=JSON.parse(A.data),p=new Date;v.type==="fetchScripts"?ve.value=v.data:v.type==="log"?Ye.value.unshift([p.toISOString().substring(11,19),v.data]):v.type==="fetchConnectedNodes"?Ne.value=v.data:v.type==="runningScripts"&&(U.value=v.data)};const a=()=>{console.log("Executing script",mt.value),L.send(JSON.stringify({type:"executeScript",data:mt.value}))},C=A=>{console.log("Killing script",A),L.send(JSON.stringify({type:"killScript",data:A}))};return(A,v)=>(xo(),Wl(N0,{class:"q-ma-xs",style:{overflow:"none"}},{default:Hi(()=>[gi(uh,{class:"q-pa-sm"},{default:Hi(()=>[ho("div",rS,[ho("div",nS,[aS,gi(Y1,{modelValue:mt.value,"onUpdate:modelValue":v[0]||(v[0]=p=>mt.value=p),options:ve.value,label:"Select a script","emit-value":"","map-options":""},null,8,["modelValue","options"]),gi(tv,{label:"Run",color:"primary",class:"q-mt-md",onClick:a}),iS,gi(Y1,{modelValue:G.value,"onUpdate:modelValue":v[1]||(v[1]=p=>G.value=p),options:ve.value,label:"Select a script","emit-value":"","map-options":"",multiple:""},null,8,["modelValue","options"]),gi(tv,{label:"Compile",color:"primary",class:"q-mt-md",onClick:a})]),ho("div",oS,[gi(tv,{onClick:v[2]||(v[2]=p=>Pe.value="logs"),class:"text-h6"},{default:Hi(()=>[pc("Logs")]),_:1}),gi(tv,{onClick:v[3]||(v[3]=p=>Pe.value="nodes"),class:"text-h6"},{default:Hi(()=>[pc("Nodes")]),_:1}),gi(tv,{onClick:v[4]||(v[4]=p=>Pe.value="scripts"),class:"text-h6"},{default:Hi(()=>[pc("Scripts")]),_:1}),Pe.value=="logs"?(xo(),Wl(uh,{key:0,class:"q-pa-md"},{default:Hi(()=>[sS,ho("div",lS,[gi(Wp,{bordered:"",style:{"max-height":"275px","overflow-y":"scroll"}},{default:Hi(()=>[(xo(!0),ju(bs,null,uv(Ye.value,(p,r)=>(xo(),Wl(f0,{key:r},{default:Hi(()=>[gi(Xv,null,{default:Hi(()=>[pc(qs(p[0])+": "+qs(p[1].msg),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})])]),_:1})):Mp("",!0),Pe.value=="nodes"?(xo(),Wl(uh,{key:1,class:"q-pa-md"},{default:Hi(()=>[uS,ho("div",fS,[gi(Wp,{bordered:"",style:{"max-height":"275px","overflow-y":"scroll"}},{default:Hi(()=>[(xo(!0),ju(bs,null,uv(Ne.value,(p,r)=>(xo(),Wl(f0,{key:r},{default:Hi(()=>[gi(Xv,null,{default:Hi(()=>[pc(qs(p[0]),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})])]),_:1})):Mp("",!0),Pe.value=="scripts"?(xo(),Wl(uh,{key:2,class:"q-pa-md"},{default:Hi(()=>[cS,ho("div",hS,[gi(Wp,{bordered:"",style:{"max-height":"275px","overflow-y":"scroll"}},{default:Hi(()=>[(xo(!0),ju(bs,null,uv(U.value,(p,r)=>(xo(),Wl(f0,{key:r},{default:Hi(()=>[gi(Xv,null,{default:Hi(()=>[pc(qs(p),1)]),_:2},1024),gi(Xv,null,{default:Hi(()=>[gi(tv,{label:"Kill",onClick:t=>C(p)},null,8,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1})])]),_:1})):Mp("",!0)])])]),_:1})]),_:1}))}});var dS=Ts({name:"QCardSection",props:{tag:{type:String,default:"div"},horizontal:Boolean},setup(H,{slots:ve}){const Pe=bn(()=>`q-card__section q-card__section--${H.horizontal===!0?"horiz row no-wrap":"vert"}`);return()=>Jn(H.tag,{class:Pe.value},pl(ve.default))}});const pS=ho("div",{class:"text-h6"},"Logs",-1),gS={class:"text-h6"},yS={class:"text-subtitle1"},mS={class:"text-body2"},xS={class:"text-caption"},bS=wh({__name:"LogsView",setup(H){const ve=Na([]),Ne=`ws://${window.location.hostname}/getLogs`,Ye=new WebSocket(Ne);return Ye.onopen=mt=>{Ye.send(""),console.log(mt)},Ye.addEventListener("message",mt=>{console.log(mt.data);const G=JSON.parse(mt.data);G.type==="getLogs"?ve.value=G.data:G.type==="log"&&ve.value.push(G.data)}),(mt,G)=>(xo(),Wl(N0,{class:"q-ma-sm"},{default:Hi(()=>[pS,gi(uh,{style:{"max-height":"350px",overflow:"scroll"}},{default:Hi(()=>[(xo(!0),ju(bs,null,uv(ve.value,(U,e)=>(xo(),ju("div",{key:e},[gi(dS,null,{default:Hi(()=>[ho("div",gS,qs(U.time_stamp),1),ho("div",yS,qs(U.logger),1),ho("div",mS,qs(U.msg),1),ho("div",xS,qs(U.file)+":"+qs(U.line)+" "+qs(U.function),1)]),_:2},1024)]))),128))]),_:1})]),_:1}))}}),wS=[{path:"/",component:()=>_p(()=>import("./MainLayout.d3fd56e3.js"),[]),children:[{name:"battery",path:"/battery/:id?",component:v6},{name:"servo",path:"/servo/:id?",component:P6},{name:"script",path:"/script",component:vS},{name:"logs",path:"/logs",component:bS},{path:"",component:()=>_p(()=>import("./IndexPage.d2debd13.js"),["assets/IndexPage.d2debd13.js","assets/IndexPage.2739dc63.css"])}]},{path:"/:catchAll(.*)*",component:()=>_p(()=>import("./ErrorNotFound.23b37ac5.js"),[])}];var Yp=function(){return j5({scrollBehavior:()=>({left:0,top:0}),routes:wS,history:A5("/")})};async function TS(H,ve){const Pe=H(XA);Pe.use(HA,ve);const Ne=hd(typeof Yp=="function"?await Yp({}):Yp);return{app:Pe,router:Ne}}var AS={config:{}};async function MS({app:H,router:ve}){H.use(ve),H.mount("#q-app")}TS(dA,AS).then(MS);export{Mp as $,c2 as A,DM as B,s0 as C,zA as D,vM as E,dM as F,pM as G,gM as H,mv as I,_g as J,nv as K,wh as L,GT as M,xo as N,Wl as O,Hi as P,gi as Q,tv as R,pc as S,b6 as T,ho as U,qs as V,Wp as W,f0 as X,SS as Y,ju as Z,wc as _,bn as a,GA as a0,uv as a1,bs as a2,uh as a3,N0 as a4,pl as b,Ts as c,Wo as d,ks as e,yl as f,vo as g,Jn as h,Ec as i,Qh as j,FA as k,ss as l,q5 as m,yh as n,Th as o,Ah as p,_2 as q,Na as r,Mh as s,N2 as t,I2 as u,k2 as v,zi as w,CM as x,av as y,Cx as z};
